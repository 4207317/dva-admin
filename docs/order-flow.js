webpackJsonp([3],{18:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(51),m=r(h),y=n(1),v=r(y),g=n(82),b=r(g),C=n(6),P=r(C),T=n(17),w=r(T),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},S=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return w["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.style,r=e.children,a=e.className,i=e.indeterminate,l=e.onMouseEnter,u=e.onMouseLeave,c=_(e,["prefixCls","style","children","className","indeterminate","onMouseEnter","onMouseLeave"]),d=(0,P["default"])(a,(0,s["default"])({},t+"-wrapper",!0)),p=(0,P["default"])((0,s["default"])({},t+"-indeterminate",i));return v["default"].createElement("label",{className:d,style:n,onMouseEnter:l,onMouseLeave:u},v["default"].createElement(m["default"],(0,o["default"])({},c,{prefixCls:t,className:p,children:null})),void 0!==r?v["default"].createElement("span",null,r):null)},t}(v["default"].Component);t["default"]=S,S.Group=b["default"],S.defaultProps={prefixCls:"ant-checkbox",indeterminate:!1},e.exports=t["default"]},21:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;throw new Error("no key or value for "+e)}function o(e,t){return"value"===t?a(e):e.props[t]}function i(e){return e.combobox}function s(e){return e.multiple||e.tags}function l(e){return s(e)||i(e)}function u(e){return!l(e)}function c(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function d(e){e.preventDefault()}function p(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].key===t){n=r;break}return n}function f(e,t){for(var n=-1,r=0;r<e.length;r++)if(c(e[r].label).join("")===t){n=r;break}return n}function h(e,t){if(null===t||void 0===t)return[];var n=[];return b["default"].Children.forEach(e,function(e){if(e.type.isMenuItemGroup)n=n.concat(h(e.props.children,t));else{var r=a(e),o=e.key;p(t,r)!==-1&&o&&n.push(o)}}),n}function m(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.type.isMenuItemGroup){var r=m(n.props.children);if(r)return r}else if(!n.props.disabled)return n}return null}function y(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}function v(e,t){var n=new RegExp("["+t.join()+"]"),r=e.split(n);return""===r[0]&&r.shift(),""===r[r.length-1]&&r.pop(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTABLE_ATTRIBUTE=t.UNSELECTABLE_STYLE=void 0,t.getValuePropValue=a,t.getPropValue=o,t.isCombobox=i,t.isMultipleOrTags=s,t.isMultipleOrTagsOrCombobox=l,t.isSingleMode=u,t.toArray=c,t.preventDefaultEvent=d,t.findIndexInValueByKey=p,t.findIndexInValueByLabel=f,t.getSelectKeys=h,t.findFirstMenuItem=m,t.includesSeparators=y,t.splitBySeparators=v;var g=n(1),b=r(g);t.UNSELECTABLE_STYLE={userSelect:"none",WebkitUserSelect:"none"},t.UNSELECTABLE_ATTRIBUTE={unselectable:"unselectable"}},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=[];return y["default"].Children.forEach(e,function(e){t.push(e)}),t}function o(e){return e||0===e?Array.isArray(e)?e:[e]:[]}function i(e,t){if(e===t||(0,g["default"])(e,t))return!0;if(!e||!t)return!1;var n=!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var a=e[r],o=t[r];for(var s in a)if(a[s]!==o[s])if("object"===h(a[s])&&"object"===h(o[s]))n=i(a[s],o[s]);else{if("function"!=typeof a[s]||"function"!=typeof o[s])return n=!1,!1;a[s].name!==o[s].name&&(n=!1)}}}var l=function(e,t){Object.keys(e).forEach(function(r){r in t||(n=!1),"object"===h(e[r])&&"object"===h(t[r])?n=i(e[r],t[r]):"function"==typeof e[r]&&"function"==typeof t[r]?e[r].name!==t[r].name&&(n=!1):e[r]!==t[r]&&(n=!1)})};return l(e,t),l(t,e),n}function s(e,t){var n=null;return e&&e.forEach(function(e){!n&&e&&e.key===t&&(n=e)}),n}function l(e,t){var n=[],r={},a=[],o=void 0;return e.forEach(function(e){e&&(s(t,e.key)?(a.length&&(r[e.key]=a,a=[]),o=e.key):e.key&&a.push(e))}),o||(n=n.concat(a)),t.forEach(function(e){e&&(r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e),e.key===o&&(n=n.concat(a)))}),n}function u(e,t,n){var r=void 0;return r="function"==typeof e?e({key:t,index:n}):e}function c(e){return e&&e.children}function d(e,t,n,r,a,o,i){var s=/(?:Left|Right|Width|X)/i.test(t)||i,l=t.indexOf("border")!==-1?e:e.parentNode||document.body;l=o?document.body:l;var u=void 0;return u="%"===r?parseFloat(n)/100*(s?l.clientWidth:l.clientHeight):"vw"===r?parseFloat(n)*document.body.clientWidth/100:"vh"===r?parseFloat(n)*document.body.clientHeight/100:r&&r.match(/em/i)?16*parseFloat(n):parseFloat(n),"%"===a?u=100*u/(s?l.clientWidth:l.clientHeight):"vw"===a?u=parseFloat(n)/document.body.clientWidth*100:"vh"===a?u=parseFloat(n)/document.body.clientHeight*100:a&&a.match(/em/i)&&(u=parseFloat(n)/16),u}function p(e){if("string"==typeof e){if(e.charAt(0).match(/m/i)){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}return document.querySelector(e)}if(e.style)return e;throw new Error("Error while parsing the path")}function f(e,t){if("string"==typeof e)return e;var n=e.perspective,r=e.rotate,a=e.rotateX,o=e.rotateY,i=e.scaleX,s=e.scaleY,l=e.scaleZ,u=e.skewX,c=e.skewY,d=e.xPercent||0,p=e.yPercent||0,f=d?0:e.translateX,h=p?0:e.translateY,m=e.translateZ||0,y=d||p?"translate("+(d||f+"px")+","+(p||h+"px")+")":"",v=u||c?"skew("+u+"deg,"+c+"deg)":"",g=r?"rotate("+r+"deg)":"",b=void 0;if(!n&&!a&&!o&&!m&&1===l||!t){b=1!==i||1!==s?"scale("+i+","+s+")":"";var C=y||"translate("+f+"px,"+h+"px)";return C+" "+g+" "+b+" "+v}b=1!==i||1!==s||1!==l?"scale3d("+i+","+s+","+l+")":"";var P=a?"rotateX("+a+"deg)":"",T=o?"rotateY("+o+"deg)":"",w=n?"perspective("+n+"px)":"",_=y?y+" translate3d(0,0,"+m+"px)":"translate3d("+f+"px,"+h+"px,"+m+"px)";return w+" "+_+" "+b+" "+g+" "+P+" "+T+" "+v}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toArrayChildren=a,t.dataToArray=o,t.objectEqual=i,t.findChildInChildrenByKey=s,t.mergeChildren=l,t.transformArguments=u,t.getChildrenFromProps=c,t.startConvertToEndUnit=d,t.parsePath=p,t.getTransformValue=f;var m=n(1),y=r(m),v=n(158),g=r(v)},27:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(132),v=r(y),g=n(6),b=r(g),C=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,r=t.className,a=void 0===r?"":r,i=t.size,l=t.combobox,u=this.props,c=u.notFoundContent,d=void 0===c?"Not Found":c,p=u.optionLabelProp,f=(0,b["default"])((e={},(0,s["default"])(e,n+"-lg","large"===i),(0,s["default"])(e,n+"-sm","small"===i),e),a),h=this.context.antLocale;return h&&h.Select&&(d="notFoundContent"in this.props?d:h.Select.notFoundContent),l&&(d=null,p=p||"value"),m["default"].createElement(v["default"],(0,o["default"])({},this.props,{className:f,optionLabelProp:p||"children",notFoundContent:d}))},t}(m["default"].Component);t["default"]=C,C.Option=y.Option,C.OptGroup=y.OptGroup,C.defaultProps={prefixCls:"ant-select",showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},C.propTypes={prefixCls:h.PropTypes.string,className:h.PropTypes.string,size:h.PropTypes.oneOf(["default","large","small"]),combobox:h.PropTypes.bool,notFoundContent:h.PropTypes.any,showSearch:h.PropTypes.bool,optionLabelProp:h.PropTypes.string,transitionName:h.PropTypes.string,choiceTransitionName:h.PropTypes.string},e.exports=t["default"]},28:function(e,t){!function(n,r){"object"==typeof t&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.moment=r()}(this,function(){"use strict";function t(){return yr.apply(null,arguments)}function n(e){yr=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function i(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return gt(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=gr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function y(e){return void 0===e}function v(e,t){var n,r,a;if(y(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),y(t._i)||(e._i=t._i),y(t._f)||(e._f=t._f),y(t._l)||(e._l=t._l),y(t._strict)||(e._strict=t._strict),y(t._tzm)||(e._tzm=t._tzm),y(t._isUTC)||(e._isUTC=t._isUTC),y(t._offset)||(e._offset=t._offset),y(t._pf)||(e._pf=f(t)),y(t._locale)||(e._locale=t._locale),br.length>0)for(n in br)r=br[n],a=t[r],y(a)||(e[r]=a);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Cr===!1&&(Cr=!0,t.updateOffset(this),Cr=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function P(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function T(e,t,n){var r,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&P(e[r])!==P(t[r]))&&i++;return i+o}function w(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var a,o=[],i=0;i<arguments.length;i++){if(a="","object"==typeof arguments[i]){a+="\n["+i+"] ";for(var s in arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[i];o.push(a)}w(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Pr[e]||(w(n),Pr[e]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function k(e,t){var n,r=c({},e);for(n in t)u(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},c(r[n],e[n]),c(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&a(e[n])&&(r[n]=c({},r[n]));return r}function M(e){null!=e&&this.set(e)}function E(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function N(){return this._invalidDate}function j(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var a=this._relativeTime[n];return x(a)?a(e,t,n,r):a.replace(/%d/i,e)}function A(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function I(e,t){var n=e.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[t]=e}function V(e){return"string"==typeof e?Dr[e]||Dr[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)u(e,n)&&(t=V(n),t&&(r[t]=e[n]));return r}function L(e,t){Nr[e]=t}function Y(e){var t=[];for(var n in e)t.push({unit:n,priority:Nr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(e,n){return function(r){return null!=r?(H(this,e,r),t.updateOffset(this,n),this):W(this,e)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function z(e){return e=V(e),x(this[e])?this[e]():this}function K(e,t){if("object"==typeof e){e=F(e);for(var n=Y(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=V(e),x(this[e]))return this[e](t);return this}function B(e,t,n){var r=""+Math.abs(e),a=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}function G(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(Ir[e]=a),t&&(Ir[t[0]]=function(){return B(a.apply(this,arguments),t[1],t[2])}),n&&(Ir[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(jr);for(t=0,n=r.length;t<n;t++)Ir[r[t]]?r[t]=Ir[r[t]]:r[t]=q(r[t]);return function(t){var a,o="";for(a=0;a<n;a++)o+=r[a]instanceof Function?r[a].call(t,e):r[a];return o}}function Z(e,t){return e.isValid()?(t=Q(t,e.localeData()),Ar[t]=Ar[t]||X(t),Ar[t](e)):e.localeData().invalidDate()}function Q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Rr.lastIndex=0;r>=0&&Rr.test(e);)e=e.replace(Rr,n),Rr.lastIndex=0,r-=1;return e}function $(e,t,n){ea[e]=x(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return u(ea,e)?ea[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),i(t)&&(r=function(e,n){n[t]=P(e)}),n=0;n<e.length;n++)ta[e[n]]=r}function re(e,t){ne(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function ae(e,t,n){null!=t&&u(ta,e)&&ta[e](t,n._a,n,e)}function oe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||pa).test(t)?"format":"standalone"][e.month()]:this._months}function se(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[pa.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function le(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=da.call(this._shortMonthsParse,i),a!==-1?a:null):(a=da.call(this._longMonthsParse,i),a!==-1?a:null):"MMM"===t?(a=da.call(this._shortMonthsParse,i),a!==-1?a:(a=da.call(this._longMonthsParse,i),a!==-1?a:null)):(a=da.call(this._longMonthsParse,i),a!==-1?a:(a=da.call(this._shortMonthsParse,i),a!==-1?a:null))}function ue(e,t,n){var r,a,o;if(this._monthsParseExact)return le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=P(t);else if(t=e.localeData().monthsParse(t),!i(t))return e;return n=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(e){return null!=e?(ce(this,e),t.updateOffset(this,!0),this):W(this,"Month")}function pe(){return oe(this.year(),this.month())}function fe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ma),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ya),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)r[t]=te(r[t]),a[t]=te(a[t]);for(t=0;t<24;t++)o[t]=te(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ye(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ve(this.year())}function be(e,t,n,r,a,o,i){var s=new Date(e,t,n,r,a,o,i);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Ce(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Pe(e,t,n){var r=7+t-n,a=(7+Ce(e,0,r).getUTCDay()-t)%7;return-a+r-1}function Te(e,t,n,r,a){var o,i,s=(7+n-r)%7,l=Pe(e,r,a),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,i=ye(o)+u):u>ye(e)?(o=e+1,i=u-ye(e)):(o=e,i=u),{year:o,dayOfYear:i}}function we(e,t,n){var r,a,o=Pe(e.year(),t,n),i=Math.floor((e.dayOfYear()-o-1)/7)+1;return i<1?(a=e.year()-1,r=i+_e(a,t,n)):i>_e(e.year(),t,n)?(r=i-_e(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function _e(e,t,n){var r=Pe(e,t,n),a=Pe(e+1,t,n);return(ye(e)-r+a)/7}function Se(e){return we(e,this._week.dow,this._week.doy).week}function xe(){return this._week.dow}function Oe(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Me(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ee(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ne(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function je(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Re(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ae(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=da.call(this._weekdaysParse,i),a!==-1?a:null):"ddd"===t?(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null):"dddd"===t?(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null))):"ddd"===t?(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null))):(a=da.call(this._minWeekdaysParse,i),a!==-1?a:(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:null)))}function Ie(e,t,n){var r,a,o;if(this._weekdaysParseExact)return Ae.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ve(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ee(e,this.localeData()),this.add(e-t,"d")):t}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Le(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ye(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ta),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ue(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wa),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function We(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_a),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,a,o,i=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),i.push(r),s.push(a),l.push(o),u.push(r),u.push(a),u.push(o);for(i.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=te(s[t]),l[t]=te(l[t]),u[t]=te(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Be(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,r,a,o=0;o<e.length;){for(a=Ze(e[o]).split("-"),t=a.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$e(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&T(a,n,!0)>=t-1)break;t--}o++}return null}function $e(t){var n=null;if(!Ma[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=Sa._abbr,require("./locale/"+t),Je(n)}catch(r){}return Ma[t]}function Je(e,t){var n;return e&&(n=y(t)?nt(e):et(e,t),n&&(Sa=n)),Sa._abbr}function et(e,t){if(null!==t){var n=ka;if(t.abbr=e,null!=Ma[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ma[e]._config;else if(null!=t.parentLocale){if(null==Ma[t.parentLocale])return Ea[t.parentLocale]||(Ea[t.parentLocale]=[]),Ea[t.parentLocale].push({name:e,config:t}),null;n=Ma[t.parentLocale]._config}return Ma[e]=new M(k(n,t)),Ea[e]&&Ea[e].forEach(function(e){et(e.name,e.config)}),Je(e),Ma[e]}return delete Ma[e],null}function tt(e,t){if(null!=t){var n,r=ka;null!=Ma[e]&&(r=Ma[e]._config),t=k(r,t),n=new M(t),n.parentLocale=Ma[e],Ma[e]=n,Je(e)}else null!=Ma[e]&&(null!=Ma[e].parentLocale?Ma[e]=Ma[e].parentLocale:null!=Ma[e]&&delete Ma[e]);return Ma[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Sa;if(!r(e)){if(t=$e(e))return t;e=[e]}return Qe(e)}function rt(){return _r(Ma)}function at(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[ra]<0||n[ra]>11?ra:n[aa]<1||n[aa]>oe(n[na],n[ra])?aa:n[oa]<0||n[oa]>24||24===n[oa]&&(0!==n[ia]||0!==n[sa]||0!==n[la])?oa:n[ia]<0||n[ia]>59?ia:n[sa]<0||n[sa]>59?sa:n[la]<0||n[la]>999?la:-1,f(e)._overflowDayOfYear&&(t<na||t>aa)&&(t=aa),f(e)._overflowWeeks&&t===-1&&(t=ua),f(e)._overflowWeekday&&t===-1&&(t=ca),f(e).overflow=t),e}function ot(e){var t,n,r,a,o,i,s=e._i,l=Da.exec(s)||Na.exec(s);if(l){for(f(e).iso=!0,t=0,n=Ra.length;t<n;t++)if(Ra[t][1].exec(l[1])){a=Ra[t][0],r=Ra[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=Aa.length;t<n;t++)if(Aa[t][1].exec(l[3])){o=(l[2]||" ")+Aa[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ja.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=a+(o||"")+(i||""),dt(e)}else e._isValid=!1}function it(e){var n=Ia.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(ot(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,r,a,o=[];if(!e._d){for(r=lt(e),e._w&&null==e._a[aa]&&null==e._a[ra]&&ct(e),e._dayOfYear&&(a=st(e._a[na],r[na]),e._dayOfYear>ye(a)&&(f(e)._overflowDayOfYear=!0),n=Ce(a,0,e._dayOfYear),e._a[ra]=n.getUTCMonth(),e._a[aa]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[oa]&&0===e._a[ia]&&0===e._a[sa]&&0===e._a[la]&&(e._nextDay=!0,e._a[oa]=0),e._d=(e._useUTC?Ce:be).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[oa]=24)}}function ct(e){var t,n,r,a,o,i,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,i=4,n=st(t.GG,e._a[na],we(bt(),1,4).year),r=st(t.W,1),a=st(t.E,1),(a<1||a>7)&&(l=!0);else{o=e._locale._week.dow,i=e._locale._week.doy;var u=we(bt(),o,i);n=st(t.gg,e._a[na],u.year),r=st(t.w,u.week),null!=t.d?(a=t.d,(a<0||a>6)&&(l=!0)):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o}r<1||r>_e(n,o,i)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Te(n,r,a,o,i),e._a[na]=s.year,e._dayOfYear=s.dayOfYear)}function dt(e){if(e._f===t.ISO_8601)return void ot(e);e._a=[],f(e).empty=!0;var n,r,a,o,i,s=""+e._i,l=s.length,u=0;for(a=Q(e._f,e._locale).match(jr)||[],n=0;n<a.length;n++)o=a[n],r=(s.match(J(o,e))||[])[0],r&&(i=s.substr(0,s.indexOf(r)),i.length>0&&f(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Ir[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),ae(o,r,e)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=l-u,s.length>0&&f(e).unusedInput.push(s),e._a[oa]<=12&&f(e).bigHour===!0&&e._a[oa]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[oa]=pt(e._locale,e._a[oa],e._meridiem),ut(e),at(e)}function pt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ft(e){var t,n,r,a,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],dt(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function ht(e){if(!e._d){var t=F(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(at(yt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yt(e){var t=e._i,n=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(at(t)):(s(t)?e._d=t:r(n)?ft(e):n?dt(e):vt(e),h(e)||(e._d=null),e))}function vt(e){var n=e._i;void 0===n?e._d=new Date(t.now()):s(n)?e._d=new Date(n.valueOf()):"string"==typeof n?it(e):r(n)?(e._a=l(n.slice(0),function(e){return parseInt(e,10)}),ut(e)):"object"==typeof n?ht(e):i(n)?e._d=new Date(n):t.createFromInputFallback(e)}function gt(e,t,n,i,s){var l={};return n!==!0&&n!==!1||(i=n,n=void 0),(a(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=i,mt(l)}function bt(e,t,n,r){return gt(e,t,n,r,!1)}function Ct(e,t){var n,a;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}function Pt(){var e=[].slice.call(arguments,0);return Ct("isBefore",e)}function Tt(){var e=[].slice.call(arguments,0);return Ct("isAfter",e)}function wt(e){var t=F(e),n=t.year||0,r=t.quarter||0,a=t.month||0,o=t.week||0,i=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+i+7*o,this._months=+a+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function _t(e){return e instanceof wt}function St(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function xt(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],a=(r+"").match(Ya)||["-",0,0],o=+(60*a[1])+P(a[2]);return 0===o?0:"+"===a[0]?o:-o}function kt(e,n){var r,a;return n._isUTC?(r=n.clone(),a=(b(e)||s(e)?e.valueOf():bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+a),t.updateOffset(r,!1),r):bt(e).local()}function Mt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(e,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=Ot(Qr,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&n&&(r=Mt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!n||this._changeInProgress?Bt(this,Ut(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,
t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Mt(this)}function Dt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function jt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Mt(this),"m")),this}function Rt(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Ot(Zr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function At(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function It(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!y(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=yt(e),e._a){var t=e._isUTC?d(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ft(){return!!this.isValid()&&!this._isUTC}function Lt(){return!!this.isValid()&&this._isUTC}function Yt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ut(e,t){var n,r,a,o=e,s=null;return _t(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:i(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ua.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:P(s[aa])*n,h:P(s[oa])*n,m:P(s[ia])*n,s:P(s[sa])*n,ms:P(St(1e3*s[la]))*n}):(s=Wa.exec(e))?(n="-"===s[1]?-1:1,o={y:Wt(s[2],n),M:Wt(s[3],n),w:Wt(s[4],n),d:Wt(s[5],n),h:Wt(s[6],n),m:Wt(s[7],n),s:Wt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=zt(bt(o.from),bt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),r=new wt(o),_t(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){var n;return e.isValid()&&t.isValid()?(t=kt(t,e),e.isBefore(t)?n=Ht(e,t):(n=Ht(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Kt(e,t){return function(n,r){var a,o;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,a=Ut(n,r),Bt(this,a,e),this}}function Bt(e,n,r,a){var o=n._milliseconds,i=St(n._days),s=St(n._months);e.isValid()&&(a=null==a||a,o&&e._d.setTime(e._d.valueOf()+o*r),i&&H(e,"Date",W(e,"Date")+i*r),s&&ce(e,W(e,"Month")+s*r),a&&t.updateOffset(e,i||s))}function Gt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qt(e,n){var r=e||bt(),a=kt(r,this).startOf("day"),o=t.calendarFormat(this,a)||"sameElse",i=n&&(x(n[o])?n[o].call(this,r):n[o]);return this.format(i||this.localeData().calendar(o,this,bt(r)))}function Xt(){return new g(this)}function Zt(e,t){var n=b(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(y(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Qt(e,t){var n=b(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(y(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function $t(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=b(e)?e:bt(e);return!(!this.isValid()||!r.isValid())&&(t=V(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function en(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function nn(e,t,n){var r,a,o,i;return this.isValid()?(r=kt(e,this),r.isValid()?(a=6e4*(r.utcOffset()-this.utcOffset()),t=V(t),"year"===t||"month"===t||"quarter"===t?(i=rn(this,r),"quarter"===t?i/=3:"year"===t&&(i/=12)):(o=this-r,i="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?i:C(i)):NaN):NaN}function rn(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return t-o<0?(n=e.clone().add(a-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),r=(t-o)/(n-o)),-(a+r)||0}function an(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+a+o)}function ln(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Z(this,e);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.from(bt(),e)}function dn(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.to(bt(),e)}function fn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function mn(e){switch(e=V(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return e=V(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function vn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tn(){return this.isValid()?this.toISOString():null}function wn(){return h(this)}function _n(){return c({},f(this))}function Sn(){return f(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){G(0,[e,e.length],0,t)}function kn(e){return Nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mn(e){return Nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function En(){return _e(this.year(),1,4)}function Dn(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function Nn(e,t,n,r,a){var o;return null==e?we(this,r,a).year:(o=_e(e,r,a),t>o&&(t=o),jn.call(this,e,t,n,r,a))}function jn(e,t,n,r,a){var o=Te(e,t,n,r,a),i=Ce(o.year,0,o.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function An(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function In(e,t){t[la]=P(1e3*("0."+e))}function Vn(){return this._isUTC?"UTC":""}function Fn(){return this._isUTC?"Coordinated Universal Time":""}function Ln(e){return bt(1e3*e)}function Yn(){return bt.apply(null,arguments).parseZone()}function Un(e){return e}function Wn(e,t,n,r){var a=nt(),o=d().set(r,t);return a[n](o,e)}function Hn(e,t,n){if(i(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Wn(e,r,n,"month");return a}function zn(e,t,n,r){"boolean"==typeof e?(i(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,i(t)&&(n=t,t=void 0),t=t||"");var a=nt(),o=e?a._week.dow:0;if(null!=n)return Wn(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Wn(t,(s+o)%7,r,"day");return l}function Kn(e,t){return Hn(e,t,"months")}function Bn(e,t){return Hn(e,t,"monthsShort")}function Gn(e,t,n){return zn(e,t,n,"weekdays")}function qn(e,t,n){return zn(e,t,n,"weekdaysShort")}function Xn(e,t,n){return zn(e,t,n,"weekdaysMin")}function Zn(){var e=this._data;return this._milliseconds=Ja(this._milliseconds),this._days=Ja(this._days),this._months=Ja(this._months),e.milliseconds=Ja(e.milliseconds),e.seconds=Ja(e.seconds),e.minutes=Ja(e.minutes),e.hours=Ja(e.hours),e.months=Ja(e.months),e.years=Ja(e.years),this}function Qn(e,t,n,r){var a=Ut(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function $n(e,t){return Qn(this,e,t,1)}function Jn(e,t){return Qn(this,e,t,-1)}function er(e){return e<0?Math.floor(e):Math.ceil(e)}function tr(){var e,t,n,r,a,o=this._milliseconds,i=this._days,s=this._months,l=this._data;return o>=0&&i>=0&&s>=0||o<=0&&i<=0&&s<=0||(o+=864e5*er(rr(s)+i),i=0,s=0),l.milliseconds=o%1e3,e=C(o/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,i+=C(n/24),a=C(nr(i)),s+=a,i-=er(rr(a)),r=C(s/12),s%=12,l.days=i,l.months=s,l.years=r,this}function nr(e){return 4800*e/146097}function rr(e){return 146097*e/4800}function ar(e){var t,n,r=this._milliseconds;if(e=V(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+nr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(rr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function or(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*P(this._months/12)}function ir(e){return function(){return this.as(e)}}function sr(e){return e=V(e),this[e+"s"]()}function lr(e){return function(){return this._data[e]}}function ur(){return C(this.days()/7)}function cr(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function dr(e,t,n){var r=Ut(e).abs(),a=yo(r.as("s")),o=yo(r.as("m")),i=yo(r.as("h")),s=yo(r.as("d")),l=yo(r.as("M")),u=yo(r.as("y")),c=a<vo.s&&["s",a]||o<=1&&["m"]||o<vo.m&&["mm",o]||i<=1&&["h"]||i<vo.h&&["hh",i]||s<=1&&["d"]||s<vo.d&&["dd",s]||l<=1&&["M"]||l<vo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,cr.apply(null,c)}function pr(e){return void 0===e?yo:"function"==typeof e&&(yo=e,!0)}function fr(e,t){return void 0!==vo[e]&&(void 0===t?vo[e]:(vo[e]=t,!0))}function hr(e){var t=this.localeData(),n=dr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function mr(){var e,t,n,r=go(this._milliseconds)/1e3,a=go(this._days),o=go(this._months);e=C(r/60),t=C(e/60),r%=60,e%=60,n=C(o/12),o%=12;var i=n,s=o,l=a,u=t,c=e,d=r,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(i?i+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var yr,vr;vr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gr=vr,br=t.momentProperties=[],Cr=!1,Pr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Tr;Tr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var wr,_r=Tr,Sr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Or="Invalid date",kr="%d",Mr=/\d{1,2}/,Er={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dr={},Nr={},jr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ar={},Ir={},Vr=/\d/,Fr=/\d\d/,Lr=/\d{3}/,Yr=/\d{4}/,Ur=/[+-]?\d{6}/,Wr=/\d\d?/,Hr=/\d\d\d\d?/,zr=/\d\d\d\d\d\d?/,Kr=/\d{1,3}/,Br=/\d{1,4}/,Gr=/[+-]?\d{1,6}/,qr=/\d+/,Xr=/[+-]?\d+/,Zr=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,$r=/[+-]?\d+(\.\d{1,3})?/,Jr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ea={},ta={},na=0,ra=1,aa=2,oa=3,ia=4,sa=5,la=6,ua=7,ca=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var da=wr;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),L("month",8),$("M",Wr),$("MM",Wr,Fr),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[ra]=P(e)-1}),ne(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[ra]=a:f(n).invalidMonth=e});var pa=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ha="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ma=Jr,ya=Jr;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),$("Y",Xr),$("YY",Wr,Fr),$("YYYY",Br,Yr),$("YYYYY",Gr,Ur),$("YYYYYY",Gr,Ur),ne(["YYYYY","YYYYYY"],na),ne("YYYY",function(e,n){n[na]=2===e.length?t.parseTwoDigitYear(e):P(e)}),ne("YY",function(e,n){n[na]=t.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[na]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return P(e)+(P(e)>68?1900:2e3)};var va=U("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),$("w",Wr),$("ww",Wr,Fr),$("W",Wr),$("WW",Wr,Fr),re(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=P(e)});var ga={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),$("d",Wr),$("e",Wr),$("E",Wr),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e}),re(["d","e","E"],function(e,t,n,r){t[r]=P(e)});var ba="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ca="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ta=Jr,wa=Jr,_a=Jr;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,ze),G("k",["kk",2],0,Ke),G("hmm",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)}),G("hmmss",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),I("hour","h"),L("hour",13),$("a",Ge),$("A",Ge),$("H",Wr),$("h",Wr),$("HH",Wr,Fr),$("hh",Wr,Fr),$("hmm",Hr),$("hmmss",zr),$("Hmm",Hr),$("Hmmss",zr),ne(["H","HH"],oa),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[oa]=P(e),f(n).bigHour=!0}),ne("hmm",function(e,t,n){var r=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r)),f(n).bigHour=!0}),ne("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r,2)),t[sa]=P(e.substr(a)),f(n).bigHour=!0}),ne("Hmm",function(e,t,n){var r=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r))}),ne("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r,2)),t[sa]=P(e.substr(a))});var Sa,xa=/[ap]\.?m?\.?/i,Oa=U("Hours",!0),ka={calendar:Sr,longDateFormat:xr,invalidDate:Or,ordinal:kr,ordinalParse:Mr,relativeTime:Er,months:fa,monthsShort:ha,week:ga,weekdays:ba,weekdaysMin:Pa,weekdaysShort:Ca,meridiemParse:xa},Ma={},Ea={},Da=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Na=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ja=/Z|[+-]\d\d(?::?\d\d)?/,Ra=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Aa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ia=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=_("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Va=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Fa=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),La=function(){return Date.now?Date.now():+new Date};xt("Z",":"),xt("ZZ",""),$("Z",Qr),$("ZZ",Qr),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(Qr,e)});var Ya=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ua=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ut.fn=wt.prototype;var Ha=Kt(1,"add"),za=Kt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ka=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),$("G",Xr),$("g",Xr),$("GG",Wr,Fr),$("gg",Wr,Fr),$("GGGG",Br,Yr),$("gggg",Br,Yr),$("GGGGG",Gr,Ur),$("ggggg",Gr,Ur),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=P(e)}),re(["gg","GG"],function(e,n,r,a){n[a]=t.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),$("Q",Vr),ne("Q",function(e,t){t[ra]=3*(P(e)-1)}),G("D",["DD",2],"Do","date"),I("date","D"),L("date",9),$("D",Wr),$("DD",Wr,Fr),$("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ne(["D","DD"],aa),ne("Do",function(e,t){t[aa]=P(e.match(Wr)[0],10)});var Ba=U("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),$("DDD",Kr),$("DDDD",Lr),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=P(e)}),G("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),$("m",Wr),$("mm",Wr,Fr),ne(["m","mm"],ia);var Ga=U("Minutes",!1);G("s",["ss",2],0,"second"),I("second","s"),L("second",15),$("s",Wr),$("ss",Wr,Fr),ne(["s","ss"],sa);var qa=U("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),$("S",Kr,Vr),$("SS",Kr,Fr),$("SSS",Kr,Lr);var Xa;for(Xa="SSSS";Xa.length<=9;Xa+="S")$(Xa,qr);for(Xa="S";Xa.length<=9;Xa+="S")ne(Xa,In);var Za=U("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Qa=g.prototype;Qa.add=Ha,Qa.calendar=qt,Qa.clone=Xt,Qa.diff=nn,Qa.endOf=yn,Qa.format=ln,Qa.from=un,Qa.fromNow=cn,Qa.to=dn,Qa.toNow=pn,Qa.get=z,Qa.invalidAt=Sn,Qa.isAfter=Zt,Qa.isBefore=Qt,Qa.isBetween=$t,Qa.isSame=Jt,Qa.isSameOrAfter=en,Qa.isSameOrBefore=tn,Qa.isValid=wn,Qa.lang=Ka,Qa.locale=fn,Qa.localeData=hn,Qa.max=Fa,Qa.min=Va,Qa.parsingFlags=_n,Qa.set=K,Qa.startOf=mn,Qa.subtract=za,Qa.toArray=Cn,Qa.toObject=Pn,Qa.toDate=bn,Qa.toISOString=on,Qa.inspect=sn,Qa.toJSON=Tn,Qa.toString=an,Qa.unix=gn,Qa.valueOf=vn,Qa.creationData=xn,Qa.year=va,Qa.isLeapYear=ge,Qa.weekYear=kn,Qa.isoWeekYear=Mn,Qa.quarter=Qa.quarters=Rn,Qa.month=de,Qa.daysInMonth=pe,Qa.week=Qa.weeks=ke,Qa.isoWeek=Qa.isoWeeks=Me,Qa.weeksInYear=Dn,Qa.isoWeeksInYear=En,Qa.date=Ba,Qa.day=Qa.days=Ve,Qa.weekday=Fe,Qa.isoWeekday=Le,Qa.dayOfYear=An,Qa.hour=Qa.hours=Oa,Qa.minute=Qa.minutes=Ga,Qa.second=Qa.seconds=qa,Qa.millisecond=Qa.milliseconds=Za,Qa.utcOffset=Et,Qa.utc=Nt,Qa.local=jt,Qa.parseZone=Rt,Qa.hasAlignedHourOffset=At,Qa.isDST=It,Qa.isLocal=Ft,Qa.isUtcOffset=Lt,Qa.isUtc=Yt,Qa.isUTC=Yt,Qa.zoneAbbr=Vn,Qa.zoneName=Fn,Qa.dates=_("dates accessor is deprecated. Use date instead.",Ba),Qa.months=_("months accessor is deprecated. Use month instead",de),Qa.years=_("years accessor is deprecated. Use year instead",va),Qa.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Dt),Qa.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vt);var $a=M.prototype;$a.calendar=E,$a.longDateFormat=D,$a.invalidDate=N,$a.ordinal=j,$a.preparse=Un,$a.postformat=Un,$a.relativeTime=R,$a.pastFuture=A,$a.set=O,$a.months=ie,$a.monthsShort=se,$a.monthsParse=ue,$a.monthsRegex=he,$a.monthsShortRegex=fe,$a.week=Se,$a.firstDayOfYear=Oe,$a.firstDayOfWeek=xe,$a.weekdays=Ne,$a.weekdaysMin=Re,$a.weekdaysShort=je,$a.weekdaysParse=Ie,$a.weekdaysRegex=Ye,$a.weekdaysShortRegex=Ue,$a.weekdaysMinRegex=We,$a.isPM=qe,$a.meridiem=Xe,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===P(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=_("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=_("moment.langData is deprecated. Use moment.localeData instead.",nt);var Ja=Math.abs,eo=ir("ms"),to=ir("s"),no=ir("m"),ro=ir("h"),ao=ir("d"),oo=ir("w"),io=ir("M"),so=ir("y"),lo=lr("milliseconds"),uo=lr("seconds"),co=lr("minutes"),po=lr("hours"),fo=lr("days"),ho=lr("months"),mo=lr("years"),yo=Math.round,vo={s:45,m:45,h:22,d:26,M:11},go=Math.abs,bo=wt.prototype;return bo.abs=Zn,bo.add=$n,bo.subtract=Jn,bo.as=ar,bo.asMilliseconds=eo,bo.asSeconds=to,bo.asMinutes=no,bo.asHours=ro,bo.asDays=ao,bo.asWeeks=oo,bo.asMonths=io,bo.asYears=so,bo.valueOf=or,bo._bubble=tr,bo.get=sr,bo.milliseconds=lo,bo.seconds=uo,bo.minutes=co,bo.hours=po,bo.days=fo,bo.weeks=ur,bo.months=ho,bo.years=mo,bo.humanize=hr,bo.toISOString=mr,bo.toString=mr,bo.toJSON=mr,bo.locale=fn,bo.localeData=hn,bo.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mr),bo.lang=Ka,G("X",0,0,"unix"),G("x",0,0,"valueOf"),$("x",Xr),$("X",$r),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ne("x",function(e,t,n){n._d=new Date(P(e))}),t.version="2.17.1",n(bt),t.fn=Qa,t.min=Pt,t.max=Tt,t.now=La,t.utc=d,t.unix=Ln,t.months=Kn,t.isDate=s,t.locale=Je,t.invalid=m,t.duration=Ut,t.isMoment=b,t.weekdays=Gn,t.parseZone=Yn,t.localeData=nt,t.isDuration=_t,t.monthsShort=Bn,t.weekdaysMin=Xn,t.defineLocale=et,t.updateLocale=tt,t.locales=rt,t.weekdaysShort=qn,t.normalizeUnits=V,t.relativeTimeRounding=pr,t.relativeTimeThreshold=fr,t.calendarFormat=Gt,t.prototype=Qa,t})},30:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(125),m=r(h),y=n(1),v=r(y),g=n(6),b=r(g),C=n(17),P=r(C),T=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return P["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t,n=this.props,r=n.prefixCls,a=n.children,i=n.checked,l=n.disabled,u=n.className,c=void 0===u?"":u,d=n.style,p=(0,b["default"])((e={},(0,s["default"])(e,r+"-wrapper",!0),(0,s["default"])(e,r+"-wrapper-checked",i),(0,s["default"])(e,r+"-wrapper-disabled",l),e),c),f=(0,b["default"])(r,(t={},(0,s["default"])(t,r+"-checked",i),(0,s["default"])(t,r+"-disabled",l),t));return v["default"].createElement("label",{className:p,style:d,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},v["default"].createElement(m["default"],(0,o["default"])({},this.props,{className:f,style:null,children:null})),void 0!==a?v["default"].createElement("span",null,a):null)},t}(v["default"].Component);t["default"]=T,T.defaultProps={prefixCls:"ant-radio"},e.exports=t["default"]},31:function(e,t,n){"use strict";var r=n(138),a=n(134),o=n(135);r.Column=a,r.ColumnGroup=o,e.exports=r},35:[1221,112],39:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},r=n.prototype;r.push=function(e){this[e.prototype.name]=e},t["default"]=new n,e.exports=t["default"]},41:function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function r(e,t){var n=t?Math.pow(10,t):_,r=0|e,a=e-r;return a?(a*n+(e<0?-.5:.5)|0)/n+r:e}function a(e){return window.WebKitCSSMatrix&&new window.WebKitCSSMatrix(e)||window.MozCSSMatrix&&new window.MozCSSMatrix(e)||window.DOMMatrix&&new window.DOMMatrix(e)||window.MsCSSMatrix&&new window.MsCSSMatrix(e)||window.OCSSMatrix&&new window.OCSSMatrix(e)||window.CSSMatrix&&new window.CSSMatrix(e)||null}function o(e){var t=["O","Moz","ms","Ms","Webkit"];if("filter"!==e&&e in document.body.style)return e;var n=e.charAt(0).toUpperCase()+e.substr(1),r=t.filter(function(e){return""+e+n in document.body.style});return r[0]?""+r[0]+n:null}function i(e){var t=e;return t="x"===t?"translateX":t,t="y"===t?"translateY":t,t="z"===t?"translateZ":t}function s(e){var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,i=void 0,s=void 0,l=e,u=/(?:\d|\-\d|\.\d|\-\.\d)+/g;return l?"number"==typeof l?t=[l>>16,l>>8&255,255&l]:(","===l.charAt(l.length-1)&&(l=l.substr(0,l.length-1)),S[l]?t=S[l]:"#"===l.charAt(0)?(4===l.length&&(n=l.charAt(1),r=l.charAt(2),a=l.charAt(3),l="#"+n+n+r+r+a+a),l=parseInt(l.substr(1),16),t=[l>>16,l>>8&255,255&l]):"hsl"===l.substr(0,3)?(t=l.match(u),o=Number(t[0])%360/360,i=Number(t[1])/100,s=Number(t[2])/100,r=s<=.5?s*(i+1):s+i-s*i,n=2*s-r,t.length>3&&(t[3]=Number(t[3])),t[0]=x(o+1/3,n,r),t[1]=x(o,n,r),t[2]=x(o-1/3,n,r)):t=l.match(u)||S.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3]))):t=S.black,t}function l(e){if(!e)return[0,0,0,0,0,0,0];var t=void 0;if(e.indexOf("rgb")>=0){var n=e.match(/rgb+(?:a)?\((.*)\)/),r=e.replace(n[0],"").trim().split(/\s+/);t=r.indexOf("inset"),t>=0&&r.splice(t,1);var a=n[1].replace(/\s+/g,"").split(",");return 3===a.length&&a.push(1),r.concat(a,t>=0?["inset"]:[])}var o=e.split(/\s+/);t=o.indexOf("inset"),t>=0&&o.splice(t,1);var i=s(o[o.length-1]);return i[3]="number"==typeof i[3]?i[3]:1,o=o.splice(0,o.length-1),o.concat(i,t>=0?["inset"]:[])}function u(e){var t=4===e.length?"rgba":"rgb",n=e.map(function(e,t){return t<3?Math.round(e):e});return t+"("+n.join(",")+")"}function c(e){return M._lists.transformsBase.indexOf(e)>=0?"transform":e}function d(e){var t=c(e);return M.filter.indexOf(t)>=0?"filter":t}function p(e){if("none"===e||!e||""===e)return null;var t=e.replace(" ","").split(")").filter(function(e){return e}),n={};return t.forEach(function(e){var t=e.split("(");n[t[0]]=t[1]}),n}function f(e){var t=e.match(/(?:\-|\b)[\d\-\.e]+\b/gi),n={};return 6===t.length?(n.m11=parseFloat(t[0]),n.m12=parseFloat(t[1]),n.m13=0,n.m14=0,n.m21=parseFloat(t[2]),n.m22=parseFloat(t[3]),n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=parseFloat(t[4]),n.m42=parseFloat(t[5]),n.m43=0,n.m44=0):t.forEach(function(e,t){var r=t%4+1,a=Math.floor(t/4)+1;n["m"+a+r]=parseFloat(e)}),n}function h(e){var t="none"===e||""===e?"matrix(1, 0, 0, 1, 0, 0)":e,n=f(t),a=n.m11,o=n.m12,i=n.m13,s=n.m14,l=n.m21,u=n.m22,c=n.m23,d=n.m24,p=n.m31,h=n.m32,m=n.m33,y=n.m34,v=n.m43,g=void 0,b=void 0,C=void 0,P={};P.perspective=y?r(m/(y<0?-y:y)):0,P.rotateX=r(Math.asin(c)*k);var T=P.rotateX*O,w=Math.tan(l),_=Math.tan(o),S=y*P.perspective,x=void 0;return T&&(S=Math.cos(-T),x=Math.sin(-T),g=l*S+p*x,b=u*S+h*x,C=c*S+m*x,p=l*-x+p*S,h=u*-x+h*S,m=c*-x+m*S,y=d*-x+y*S,l=g,u=b,c=C),T=Math.atan2(p,m),P.rotateY=r(T*k),T&&(S=Math.cos(-T),x=Math.sin(-T),g=a*S-p*x,b=o*S-h*x,C=i*S-m*x,h=o*x+h*S,m=i*x+m*S,y=s*x+y*S,a=g,o=b,i=C),T=Math.atan2(o,a),P.rotate=r(T*k),T&&(S=Math.cos(-T),x=Math.sin(-T),a=a*S+l*x,b=o*S+u*x,u=o*-x+u*S,c=i*-x+c*S,o=b),P.rotateX&&Math.abs(P.rotateX)+Math.abs(P.rotate)>359.9&&(P.rotateX=P.rotate=0,P.rotateY+=180),P.scaleX=r(Math.sqrt(a*a+o*o)),P.scaleY=r(Math.sqrt(u*u+h*h)),P.scaleZ=r(Math.sqrt(c*c+m*m)),P.skewX=w===-_?0:w,P.skewY=_===-w?0:_,P.perspective=y?1/(y<0?-y:y):0,P.translateX=n.m41,P.translateY=n.m42,P.translateZ=v,P}function m(e,t){var n=void 0;return C[e]||"number"!=typeof t?"content"!==e||T.test(t)||(n="'"+t.replace(/'/g,"\\'")+"'"):n=" "+t+"px",n||t}function y(e,t){var n=t&&t.toString().replace(/[^a-z|%]/gi,""),r="";return e.indexOf("translate")>=0||e.indexOf("perspective")>=0||e.indexOf("blur")>=0?r="px":(e.indexOf("skew")>=0||e.indexOf("rotate")>=0)&&(r="deg"),n||r}function v(e,t,n){return e+"("+t+(n||"")+")"}function g(e,t){var n=null;return e&&e.forEach(function(e){if(!n){var r=e.split("(")[0],a=r in M.transformGroup&&t.substring(0,t.length-1).indexOf(r)>=0,o=t in M.transformGroup&&r.substring(0,r.length-1).indexOf(t)>=0,i=r in M.transformGroup&&t in M.transformGroup&&(r.substring(0,r.length-2)===t||t.substring(0,t.length-2)===r);(r===t||a||o||i)&&(n=e)}}),n}function b(e,t){if(!e||""===e)return t;if(!t||""===t)return e;var n=e.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e}).map(function(e){
return e+")"}),r=t.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e});return r.forEach(function(e){var t=e.split("("),r=t[0],a=g(n,r);if(a){var o=n.indexOf(a);n[o]=e+")"}else n.push(e+")")}),n.forEach(function(e,t){e.indexOf("perspective")>=0&&t&&(n.splice(t,1),n.unshift(e))}),n.join(" ").trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=r,t.createMatrix=a,t.checkStyleName=o,t.getGsapType=i,t.parseColor=s,t.parseShadow=l,t.getColor=u,t.isTransform=c,t.isConvert=d,t.splitFilterToObject=p,t.getMatrix=f,t.getTransform=h,t.stylesToCss=m,t.getUnit=y,t.getValues=v,t.findStyleByName=g,t.mergeStyle=b;var C={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P=["Webkit","ms","Moz","O"];Object.keys(C).forEach(function(e){P.forEach(function(t){C[n(t,e)]=C[e]})});var T=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,w=function(){return"undefined"!=typeof document&&!(!navigator||!(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),_=1e5,S={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},x=function(e,t,n){var r=e>1?e-1:e;r=e<0?e+1:r;var a=3*r<2?t+(n-t)*(2/3-r)*6:t,o=r<.5?n:a,i=6*r<1?t+(n-t)*r*6:o;return 255*i+.5|0},O=Math.PI/180,k=180/Math.PI,M={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};M._lists.transformsBase=w?M._lists.transformsBase:M._lists.transformsBase.concat(M._lists.transforms3D),t["default"]=M},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.Button=void 0;var a=n(30),o=r(a),i=n(93),s=r(i),l=n(47),u=r(l);o["default"].Button=u["default"],o["default"].Group=s["default"],t.Button=u["default"],t.Group=s["default"],t["default"]=o["default"]},46:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(118),m=r(h),y=n(6),v=r(y),g=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.getTransitionName=function(){var e=this.props.placement,t=void 0===e?"":e;return t.indexOf("top")>=0?"slide-down":"slide-up"},t.prototype.render=function(){var e=this.props,t=e.children,n=e.prefixCls,r=(0,p.cloneElement)(t,{className:(0,v["default"])(t.props.className,n+"-trigger")});return f["default"].createElement(m["default"],(0,o["default"])({transitionName:this.getTransitionName()},this.props),r)},t}(f["default"].Component);t["default"]=g,g.defaultProps={prefixCls:"ant-dropdown",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"},e.exports=t["default"]},47:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(30),f=r(p),h=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return d["default"].createElement(f["default"],this.props)},t}(d["default"].Component);t["default"]=h,h.defaultProps={prefixCls:"ant-radio-button"},e.exports=t["default"]},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].ColumnGroup);t["default"]=p,e.exports=t["default"]},51:function(e,t,n){"use strict";e.exports=n(116)},52:function(e,t){"use strict";e.exports={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},e.exports=t["default"]},58:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=(0,m["default"])();return t.locale(e.locale()).utcOffset(e.utcOffset()),t}function o(e){return e.year()+"-"+(e.month()+1)+"-"+e.date()}function i(e){var t=a(e);return o(t)}function s(e,t){t.hour(e.hour()),t.minute(e.minute()),t.second(e.second())}function l(e,t){var n=t?t(e):{};return n=(0,f["default"])({},y,n)}function u(e,t){var n=!1;if(e){var r=e.hour(),a=e.minute(),o=e.second(),i=t.disabledHours();if(i.indexOf(r)===-1){var s=t.disabledMinutes(r);if(s.indexOf(a)===-1){var l=t.disabledSeconds(r,a);n=l.indexOf(o)!==-1}else n=!0}else n=!0}return!n}function c(e,t){var n=l(e,t);return u(e,n)}function d(e,t,n){return(!t||!t(e))&&!(n&&!c(e,n))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),f=r(p);t.getTodayTime=a,t.getTitleString=o,t.getTodayTimeStr=i,t.syncTime=s,t.getTimeConfig=l,t.isTimeValidByConfig=u,t.isTimeValid=c,t.isAllowedDate=d;var h=n(28),m=r(h),y={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}}},60:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(99),o=r(a);t["default"]=o["default"],e.exports=t["default"]},61:function(e,t,n){"use strict";n(10),n(113),n(72),n(71),n(85),n(175),n(92)},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(9),f=r(p),h=n(22),m=n(41),y=n(163),v=r(y),g=n(39),b=r(g),C=n(167),P=r(C),T=Math.round(1e3/60),w=function(e){function t(){o(this,t);var n=i(this,e.apply(this,arguments));return n.restart=function(){n.startMoment=n.timeLine.progressTime,n.startFrame=P["default"].frame,n.play()},n.start=function(){var e=n.props;e.animation&&Object.keys(e.animation).length&&(n.timeLine=new v["default"](n.dom,(0,h.dataToArray)(e.animation),{attr:e.attr,willChange:e.willChange}),n.raf(0,!0),n.play())},n.play=function(){n.cancelRequestAnimationFrame(),n.paused||(n.rafID=P["default"].add(n.raf))},n.frame=function(e,t){var r=t?e:0,a=(P["default"].frame-n.startFrame)*T+r+n.startMoment;!t&&a<T&&"number"!=typeof n.props.moment&&(a=T),n.reverse&&(a=(n.startMoment||0)-(P["default"].frame-n.startFrame)*T),a=a>n.timeLine.totalTime?n.timeLine.totalTime:a,a=a<=0?0:a,a<n.moment&&!n.reverse&&n.timeLine.resetDefaultStyle(),n.moment=a,n.timeLine.onChange=n.onChange,n.timeLine.frame(a)},n.raf=function(e,t){if(n.frame(e,t),n.moment>=n.timeLine.totalTime&&!n.reverse||n.paused||n.reverse&&0===n.moment)return n.cancelRequestAnimationFrame()},n.cancelRequestAnimationFrame=function(){P["default"].clear(n.rafID),n.rafID=-1},n.rafID=-1,n.moment=n.props.moment||0,n.startMoment=n.props.moment||0,n.startFrame=P["default"].frame,n.paused=n.props.paused,n.reverse=n.props.reverse,n.onChange=n.props.onChange,n.newMomentAnim=!1,n}return s(t,e),t.prototype.componentDidMount=function(){this.dom=f["default"].findDOMNode(this),this.start()},t.prototype.componentWillReceiveProps=function(e){var t=this;this.onChange=e.onChange;var n=e.moment;this.newMomentAnim=!1,"number"==typeof n&&n!==this.moment&&(this.startMoment=n,this.startFrame=P["default"].frame,this.rafID!==-1||e.paused?this.newMomentAnim=!0:!function(){t.timeLine.resetAnimData();var n=e.style;t.dom.setAttribute("style",""),Object.keys(n).forEach(function(e){t.dom.style[e]=(0,m.stylesToCss)(e,n[e])}),t.play()}());var r=e.animation,a=this.props.animation,o=(0,h.objectEqual)(a,r),i=(0,h.objectEqual)(this.props.style,e.style);this.restartAnim=!1,o?i||this.rafID!==-1&&(this.cancelRequestAnimationFrame(),this.startMoment=this.timeLine.progressTime,this.startFrame=P["default"].frame,this.restartAnim=!0):(this.cancelRequestAnimationFrame(),e.resetStyleBool&&this.timeLine&&this.timeLine.resetDefaultStyle(),this.startMoment=0,this.startFrame=P["default"].frame,this.restartAnim=!0),this.paused===e.paused&&this.reverse===e.reverse||(this.paused=e.paused,this.reverse=e.reverse,this.paused?this.cancelRequestAnimationFrame():this.reverse&&e.reverseDelay?(this.cancelRequestAnimationFrame(),P["default"].timeout(this.restart,e.reverseDelay)):this.restart())},t.prototype.componentDidUpdate=function(){this.restartAnim&&this.start(),this.newMomentAnim&&this.raf()},t.prototype.componentWillUnmount=function(){this.cancelRequestAnimationFrame()},t.prototype.render=function(){var e=u({},this.props);return["animation","component","reverseDelay","attr","paused","reverse","moment","resetStyleBool","willChange"].forEach(function(t){return delete e[t]}),e.style=u({},this.props.style),Object.keys(e.style).forEach(function(t){t.match(/filter/i)&&["Webkit","Moz","Ms","ms"].forEach(function(n){return e.style[n+"Filter"]=e.style[t]})}),e.component="function"==typeof e.component?this.props.componentReplace:e.component,e.component||delete e.component,d["default"].createElement(this.props.component,e)},t}(c.Component),_=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]);w.propTypes={component:c.PropTypes.any,componentReplace:c.PropTypes.string,animation:_,children:c.PropTypes.any,style:c.PropTypes.object,paused:c.PropTypes.bool,reverse:c.PropTypes.bool,reverseDelay:c.PropTypes.number,moment:c.PropTypes.number,attr:c.PropTypes.string,willChange:c.PropTypes.bool,onChange:c.PropTypes.func,resetStyleBool:c.PropTypes.bool},w.defaultProps={component:"div",reverseDelay:0,attr:"style",onChange:l,willChange:!0},w.plugins=b["default"],t["default"]=w,e.exports=t["default"]},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(172),o=r(a),i=n(22);o["default"].path=function(e,t){for(var n=t||{},r=(0,i.parsePath)(e),a=r.getTotalLength(),s=n.rect||100,l=n.lengthPixel||1500,u=[],c=0;c<l;c++)u.push(r.getPointAtLength(a/l*c));return function(e,t,n,i){var l=o["default"].linear(e,t,n,i),c=s*l,d=u.filter(function(e){return e.x>=c})[0]||r.getPointAtLength(l*a);return 1-d.y/s}},t["default"]=o["default"],e.exports=t["default"]},71:[1216,107],72:[1216,111],74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MENU=1,t.DETAIL=2,t.ADD=3,t.UPDATE=4,t.DELETE=5,t.CHECK=6,t.UPLOAD=7},76:function(e,t,n){(function(t){for(var r=n(115),a="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",s=a["request"+i],l=a["cancel"+i]||a["cancelRequest"+i],u=0;!s&&u<o.length;u++)s=a[o[u]+"Request"+i],l=a[o[u]+"Cancel"+i]||a[o[u]+"CancelRequest"+i];if(!s||!l){var c=0,d=0,p=[],f=1e3/60;s=function(e){if(0===p.length){var t=r(),n=Math.max(0,f-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){l.apply(a,arguments)},e.exports.polyfill=function(){a.requestAnimationFrame=s,a.cancelAnimationFrame=l}}).call(t,function(){return this}())},82:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(156),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(6),m=r(h),y=n(18),v=r(y),g=n(17),b=r(g),C=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.toggleOption=function(e){var t=r.state.value.indexOf(e.value),n=[].concat((0,o["default"])(r.state.value));t===-1?n.push(e.value):n.splice(t,1),"value"in r.props||r.setState({value:n});var a=r.props.onChange;a&&a(n)},r.state={value:n.value||n.defaultValue||[]},r}return(0,d["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value||[]})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return b["default"].shouldComponentUpdate.apply(this,t)},t.prototype.getOptions=function(){var e=this.props.options;return e.map(function(e){return"string"==typeof e?{label:e,value:e}:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,a=this.getOptions().map(function(t){return f["default"].createElement(v["default"],{disabled:"disabled"in t?t.disabled:e.props.disabled,checked:e.state.value.indexOf(t.value)!==-1,onChange:function(){return e.toggleOption(t)},className:n+"-item",key:t.value},t.label)}),o=(0,m["default"])(n,r);return f["default"].createElement("div",{className:o},a)},t}(f["default"].Component);t["default"]=C,C.defaultProps={options:[],prefixCls:"ant-checkbox-group"},C.propTypes={defaultValue:f["default"].PropTypes.array,value:f["default"].PropTypes.array,options:f["default"].PropTypes.array.isRequired,onChange:f["default"].PropTypes.func},e.exports=t["default"]},83:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(20),m=r(h),y=n(11),v=r(y),g=n(46),b=r(g),C=n(6),P=r(C),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},w=m["default"].Group,_=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.overlay,r=e.trigger,a=e.align,i=e.children,s=e.className,l=e.onClick,u=e.prefixCls,c=e.disabled,d=e.visible,p=e.onVisibleChange,h=T(e,["type","overlay","trigger","align","children","className","onClick","prefixCls","disabled","visible","onVisibleChange"]),y=(0,P["default"])(u,s),g={align:a,overlay:n,trigger:c?[]:r,onVisibleChange:p};return"visible"in this.props&&(g.visible=d),f["default"].createElement(w,(0,o["default"])({},h,{className:y}),f["default"].createElement(m["default"],{type:t,onClick:l,disabled:c},i),f["default"].createElement(b["default"],g,f["default"].createElement(m["default"],{type:t,disabled:c},f["default"].createElement(v["default"],{type:"down"}))))},t}(f["default"].Component);t["default"]=_,_.defaultProps={align:{points:["tr","br"],overlay:{adjustX:1,adjustY:1},offset:[0,4],targetOffset:[0,0]},type:"default",prefixCls:"ant-dropdown-button"},e.exports=t["default"]},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(46),o=r(a),i=n(83),s=r(i);o["default"].Button=s["default"],t["default"]=o["default"],e.exports=t["default"]},85:function(e,t,n){"use strict";n(10),n(108),n(26)},89:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(27),m=r(h),y=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){return f["default"].createElement(m["default"],(0,o["default"])({size:"small"},this.props))},t}(f["default"].Component);t["default"]=y,y.Option=m["default"].Option,e.exports=t["default"]},90:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(123),m=r(h),y=n(27),v=r(y),g=n(89),b=r(g),C=n(53),P=r(C),T=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e=this.props.className,t=v["default"],n=void 0;return n=this.context.antLocale&&this.context.antLocale.Pagination?this.context.antLocale.Pagination:this.props.locale,"small"===this.props.size&&(e+=" mini",t=b["default"]),f["default"].createElement(m["default"],(0,o["default"])({selectComponentClass:t,selectPrefixCls:this.props.selectPrefixCls},this.props,{locale:n,className:e}))},t}(f["default"].Component);t["default"]=T,T.defaultProps={locale:P["default"],className:"",prefixCls:"ant-pagination",selectPrefixCls:"ant-select"},T.contextTypes={antLocale:f["default"].PropTypes.object},e.exports=t["default"]},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),o=r(a);t["default"]=o["default"],e.exports=t["default"]},92:function(e,t,n){"use strict";n(10),n(110),n(35),n(25)},93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=null,n=!1;return h["default"].Children.forEach(e,function(e){e&&e.props&&e.props.checked&&(t=e.props.value,n=!0)}),n?{value:t}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(7),i=r(o),s=n(3),l=r(s),u=n(5),c=r(u),d=n(4),p=r(d),f=n(1),h=r(f),m=n(6),y=r(m),v=n(30),g=r(v),b=n(47),C=r(b),P=n(17),T=r(P),w=n(8),_=r(w),S=function(e){function t(n){(0,l["default"])(this,t);var r=(0,c["default"])(this,e.call(this,n));r.onRadioChange=function(e){var t=r.state.value,n=e.target.value;"value"in r.props||r.setState({value:n});var a=r.props.onChange;a&&n!==t&&a(e)};var o=void 0;if("value"in n)o=n.value;else if("defaultValue"in n)o=n.defaultValue;else{var i=a(n.children);o=i&&i.value}return r.state={value:o},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e)this.setState({value:e.value});else{var t=a(e.children);t&&this.setState({value:t.value})}},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return T["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.children?h["default"].Children.map(t.children,function(t){return t&&(t.type===g["default"]||t.type===C["default"])&&t.props?h["default"].cloneElement(t,(0,_["default"])({},t.props,{onChange:e.onRadioChange,checked:e.state.value===t.props.value,disabled:t.props.disabled||e.props.disabled})):t}):[],r=t.prefixCls,a=void 0===r?"ant-radio-group":r,o=t.className,s=void 0===o?"":o,l=(0,y["default"])(a,(0,i["default"])({},a+"-"+t.size,t.size),s);return h["default"].createElement("div",{className:l,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},n)},t}(h["default"].Component);t["default"]=S,S.defaultProps={disabled:!1},e.exports=t["default"]},94:function(e,t,n){"use strict";n(10),n(109)},95:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Column);t["default"]=p,e.exports=t["default"]},96:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a);t["default"]=function(e){return o["default"].createElement("div",{className:e.className,onClick:e.onClick},e.children)},e.exports=t["default"]},97:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(18),f=r(p),h=n(42),m=r(h),y=function(e){function t(n){(0,o["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var t=e.getCheckState(e.props);e.setState({checked:t})})},t.prototype.getCheckState=function(e){var t=e.store,n=e.defaultSelection,r=e.rowIndex,a=!1;return a=t.getState().selectionDirty?t.getState().selectedRowKeys.indexOf(r)>=0:t.getState().selectedRowKeys.indexOf(r)>=0||n.indexOf(r)>=0},t.prototype.render=function(){var e=this.props,t=e.type,n=e.rowIndex,r=e.disabled,a=e.onChange,o=this.state.checked;return"radio"===t?d["default"].createElement(m["default"],{disabled:r,onChange:a,value:n,checked:o}):d["default"].createElement(f["default"],{checked:o,disabled:r,onChange:a})},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},98:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(18),f=r(p),h=function(e){function t(n){(0,o["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n),indeterminate:r.getIndeterminateState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillReceiveProps=function(e){this.setCheckState(e)},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){e.setCheckState(e.props)})},t.prototype.checkSelection=function(e,t,n){var r=this.props,a=r.store,o=r.getCheckboxPropsByItem,i=r.getRecordKey;return("every"===t||"some"===t)&&(n?e[t](function(e,t){return o(e,t).defaultChecked}):e[t](function(e,t){return a.getState().selectedRowKeys.indexOf(i(e,t))>=0}))},t.prototype.setCheckState=function(e){var t=this.getCheckState(e),n=this.getIndeterminateState(e);t!==this.state.checked&&this.setState({checked:t}),n!==this.state.indeterminate&&this.setState({indeterminate:n})},t.prototype.getCheckState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"every",!1):this.checkSelection(n,"every",!1)||this.checkSelection(n,"every",!0))},t.prototype.getIndeterminateState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1):this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1)||this.checkSelection(n,"some",!0)&&!this.checkSelection(n,"every",!0))},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.onChange,r=this.state,a=r.checked,o=r.indeterminate;return d["default"].createElement(f["default"],{checked:a,indeterminate:o,disabled:t,onChange:n})},t}(d["default"].Component);t["default"]=h,e.exports=t["default"]},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(2),s=r(i),l=n(43),u=r(l),c=n(7),d=r(c),p=n(3),f=r(p),h=n(5),m=r(h),y=n(4),v=r(y),g=n(1),b=r(g),C=n(31),P=r(C),T=n(101),w=r(T),_=n(91),S=r(_),x=n(11),O=r(x),k=n(174),M=r(k),E=n(6),D=r(E),N=n(102),j=n(8),R=r(j),A=n(68),I=r(A),V=n(100),F=r(V),L=n(97),Y=r(L),U=n(98),W=r(U),H=n(95),z=r(H),K=n(48),B=r(K),G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},X={filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:b["default"].createElement("span",null,b["default"].createElement(O["default"],{type:"frown-o"}),"\u6682\u65e0\u6570\u636e")},Z={onChange:a,onShowSizeChange:a},Q=function(e){function t(n){(0,f["default"])(this,t);var r=(0,m["default"])(this,e.call(this,n));return r.getCheckboxPropsByItem=function(e,t){var n=r.props.rowSelection,a=void 0===n?{}:n;if(!a.getCheckboxProps)return{};var o=r.getRecordKey(e,t);return r.CheckboxPropsCache[o]||(r.CheckboxPropsCache[o]=a.getCheckboxProps(e)),r.CheckboxPropsCache[o]},r.handleFilter=function(e,t){var n=r.props,a=(0,R["default"])({},r.state.pagination),o=(0,R["default"])({},r.state.filters,(0,d["default"])({},r.getColumnKey(e),t)),i=[];(0,N.treeMap)(r.columns,function(e){e.children||i.push(r.getColumnKey(e))}),Object.keys(o).forEach(function(e){i.indexOf(e)<0&&delete o[e]}),n.pagination&&(a.current=1,a.onChange(a.current));var s={pagination:a,filters:{}},l=(0,R["default"])({},o);r.getFilteredValueColumns().forEach(function(e){var t=r.getColumnKey(e);t&&delete l[t]}),Object.keys(l).length>0&&(s.filters=l),"object"===(0,u["default"])(n.pagination)&&"current"in n.pagination&&(s.pagination=(0,R["default"])({},a,{current:r.state.pagination.current})),r.setState(s,function(){r.store.setState({selectionDirty:!1});var e=r.props.onChange;e&&e.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{selectionDirty:!1,filters:o,pagination:a})))})},r.handleSelect=function(e,t,n){var a=n.target.checked,o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(o),s=r.getRecordKey(e,t);a?i.push(r.getRecordKey(e,t)):i=i.filter(function(e){return s!==e}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:a})},r.handleRadioSelect=function(e,t,n){var a=n.target.checked,o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(o),s=r.getRecordKey(e,t);i=[s],r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:a})},r.handleSelectAllRow=function(e){var t=e.target.checked,n=r.getFlatCurrentPageData(),a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),o=r.store.getState().selectedRowKeys.concat(a),i=n.filter(function(e,t){return!r.getCheckboxPropsByItem(e,t).disabled}).map(function(e,t){return r.getRecordKey(e,t)}),s=[];t?i.forEach(function(e){o.indexOf(e)<0&&(o.push(e),s.push(e))}):i.forEach(function(e){o.indexOf(e)>=0&&(o.splice(o.indexOf(e),1),s.push(e))}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(o,{selectWay:"onSelectAll",checked:t,changeRowKeys:s})},r.handlePageChange=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=r.props,i=(0,R["default"])({},r.state.pagination);e?i.current=e:i.current=i.current||1,i.onChange.apply(i,[i.current].concat(n));var s={pagination:i};"object"===(0,u["default"])(o.pagination)&&"current"in o.pagination&&(s.pagination=(0,R["default"])({},i,{current:r.state.pagination.current})),r.setState(s),r.store.setState({selectionDirty:!1});var l=r.props.onChange;l&&l.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{selectionDirty:!1,pagination:i})))},r.renderSelectionBox=function(e){return function(t,n,a){var i=r.getRecordKey(n,a),s=r.getCheckboxPropsByItem(n,a),l=function(t){"radio"===e?r.handleRadioSelect(n,i,t):r.handleSelect(n,i,t)};return b["default"].createElement("span",{onClick:o},b["default"].createElement(Y["default"],{type:e,store:r.store,rowIndex:i,disabled:s.disabled,onChange:l,defaultSelection:r.getDefaultSelection()}))}},r.getRecordKey=function(e,t){var n=r.props.rowKey,a="function"==typeof n?n(e,t):e[n];return(0,I["default"])(void 0!==a,"Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key,see http://u.ant.design/table-row-key"),void 0===a?t:a},r.handleShowSizeChange=function(e,t){var n=r.state.pagination;n.onShowSizeChange(e,t);var a=(0,R["default"])({},n,{pageSize:t,current:e});r.setState({pagination:a});var o=r.props.onChange;o&&o.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{pagination:a})))},(0,I["default"])(!("columnsPageRange"in n||"columnsPageSize"in n),"`columnsPageRange` and `columnsPageSize` are removed, please use fixed columns instead, see: http://u.ant.design/fixed-columns."),r.columns=n.columns||(0,N.normalizeColumns)(n.children),r.state=(0,R["default"])({},r.getSortStateFromColumns(),{filters:r.getFiltersFromColumns(),pagination:r.getDefaultPagination(n)}),r.CheckboxPropsCache={},r.store=(0,F["default"])({selectedRowKeys:(n.rowSelection||{}).selectedRowKeys||[],selectionDirty:!1}),r}return(0,v["default"])(t,e),t.prototype.getDefaultSelection=function(){var e=this,t=this.props.rowSelection,n=void 0===t?{}:t;return n.getCheckboxProps?this.getFlatData().filter(function(t,n){return e.getCheckboxPropsByItem(t,n).defaultChecked}).map(function(t,n){return e.getRecordKey(t,n)}):[]},t.prototype.getDefaultPagination=function(e){var t=e.pagination||{};return this.hasPagination(e)?(0,R["default"])({},Z,t,{current:t.defaultCurrent||t.current||1,pageSize:t.defaultPageSize||t.pageSize||10}):{}},t.prototype.getLocale=function(){var e={};return this.context.antLocale&&this.context.antLocale.Table&&(e=this.context.antLocale.Table),(0,R["default"])({},X,e,this.props.locale)},t.prototype.componentWillReceiveProps=function(e){if(this.columns=e.columns||(0,N.normalizeColumns)(e.children),
("pagination"in e||"pagination"in this.props)&&this.setState(function(t){var n=(0,R["default"])({},Z,t.pagination,e.pagination);return n.current=n.current||1,n.pageSize=n.pageSize||10,{pagination:e.pagination!==!1?n:{}}}),e.rowSelection&&"selectedRowKeys"in e.rowSelection){this.store.setState({selectedRowKeys:e.rowSelection.selectedRowKeys||[]});var t=this.props.rowSelection;t&&e.rowSelection.getCheckboxProps!==t.getCheckboxProps&&(this.CheckboxPropsCache={})}if("dataSource"in e&&e.dataSource!==this.props.dataSource&&(this.store.setState({selectionDirty:!1}),this.CheckboxPropsCache={}),this.getSortOrderColumns(this.columns).length>0){var n=this.getSortStateFromColumns(this.columns);n.sortColumn===this.state.sortColumn&&n.sortOrder===this.state.sortOrder||this.setState(n)}var r=this.getFilteredValueColumns(this.columns);if(r.length>0){var a=this.getFiltersFromColumns(this.columns),o=(0,R["default"])({},this.state.filters);Object.keys(a).forEach(function(e){o[e]=a[e]}),this.isFiltersChanged(o)&&this.setState({filters:o})}},t.prototype.setSelectedRowKeys=function(e,t){var n=this,r=t.selectWay,a=t.record,o=t.checked,i=t.changeRowKeys,s=this.props.rowSelection,l=void 0===s?{}:s;!l||"selectedRowKeys"in l||this.store.setState({selectedRowKeys:e});var u=this.getFlatData();if(l.onChange||l[r]){var c=u.filter(function(t,r){return e.indexOf(n.getRecordKey(t,r))>=0});if(l.onChange&&l.onChange(e,c),"onSelect"===r&&l.onSelect)l.onSelect(a,o,c);else if("onSelectAll"===r&&l.onSelectAll){var d=u.filter(function(e,t){return i.indexOf(n.getRecordKey(e,t))>=0});l.onSelectAll(o,c,d)}}},t.prototype.hasPagination=function(e){return(e||this.props).pagination!==!1},t.prototype.isFiltersChanged=function(e){var t=this,n=!1;return Object.keys(e).length!==Object.keys(this.state.filters).length?n=!0:Object.keys(e).forEach(function(r){e[r]!==t.state.filters[r]&&(n=!0)}),n},t.prototype.getSortOrderColumns=function(e){return(e||this.columns||[]).filter(function(e){return"sortOrder"in e})},t.prototype.getFilteredValueColumns=function(e){return(e||this.columns||[]).filter(function(e){return"undefined"!=typeof e.filteredValue})},t.prototype.getFiltersFromColumns=function(e){var t=this,n={};return this.getFilteredValueColumns(e).forEach(function(e){n[t.getColumnKey(e)]=e.filteredValue}),n},t.prototype.getSortStateFromColumns=function(e){var t=this.getSortOrderColumns(e).filter(function(e){return e.sortOrder})[0];return t?{sortColumn:t,sortOrder:t.sortOrder}:{sortColumn:null,sortOrder:null}},t.prototype.getSorterFn=function(){var e=this.state,t=e.sortOrder,n=e.sortColumn;if(t&&n&&"function"==typeof n.sorter)return function(e,r){var a=n.sorter(e,r);return 0!==a?"descend"===t?-a:a:0}},t.prototype.toggleSortOrder=function(e,t){var n=this.state,r=n.sortColumn,a=n.sortOrder,o=this.isSortColumn(t);o?a===e?(a="",r=null):a=e:(a=e,r=t);var i={sortOrder:a,sortColumn:r};0===this.getSortOrderColumns().length&&this.setState(i);var s=this.props.onChange;s&&s.apply(null,this.prepareParamsArguments((0,R["default"])({},this.state,i)))},t.prototype.renderRowSelection=function(){var e=this,t=this.props,n=t.prefixCls,r=t.rowSelection,a=this.columns.concat();if(r){var o=this.getFlatCurrentPageData().filter(function(t,n){return!r.getCheckboxProps||!e.getCheckboxPropsByItem(t,n).disabled}),i={key:"selection-column",render:this.renderSelectionBox(r.type),className:n+"-selection-column"};if("radio"!==r.type){var s=o.every(function(t,n){return e.getCheckboxPropsByItem(t,n).disabled});i.title=b["default"].createElement(W["default"],{store:this.store,data:o,getCheckboxPropsByItem:this.getCheckboxPropsByItem,getRecordKey:this.getRecordKey,disabled:s,onChange:this.handleSelectAllRow})}a.some(function(e){return"left"===e.fixed||e.fixed===!0})&&(i.fixed="left"),a[0]&&"selection-column"===a[0].key?a[0]=i:a.unshift(i)}return a},t.prototype.getColumnKey=function(e,t){return e.key||e.dataIndex||t},t.prototype.getMaxCurrent=function(e){var t=this.state.pagination,n=t.current,r=t.pageSize;return(n-1)*r>=e?n-1:n},t.prototype.isSortColumn=function(e){var t=this.state.sortColumn;return!(!e||!t)&&this.getColumnKey(t)===this.getColumnKey(e)},t.prototype.renderColumnsDropdown=function(e){var t=this,n=this.props,r=n.prefixCls,a=n.dropdownPrefixCls,o=this.state.sortOrder,i=this.getLocale();return(0,N.treeMap)(e,function(e,n){var s=(0,R["default"])({},e),l=t.getColumnKey(s,n),u=void 0,c=void 0;if(s.filters&&s.filters.length>0||s.filterDropdown){var d=t.state.filters[l]||[];u=b["default"].createElement(w["default"],{locale:i,column:s,selectedKeys:d,confirmFilter:t.handleFilter,prefixCls:r+"-filter",dropdownPrefixCls:a||"ant-dropdown"})}if(s.sorter){var p=t.isSortColumn(s);p&&(s.className=s.className||"",o&&(s.className+=" "+r+"-column-sort"));var f=p&&"ascend"===o,h=p&&"descend"===o;c=b["default"].createElement("div",{className:r+"-column-sorter"},b["default"].createElement("span",{className:r+"-column-sorter-up "+(f?"on":"off"),title:"\u2191",onClick:function(){return t.toggleSortOrder("ascend",s)}},b["default"].createElement(O["default"],{type:"caret-up"})),b["default"].createElement("span",{className:r+"-column-sorter-down "+(h?"on":"off"),title:"\u2193",onClick:function(){return t.toggleSortOrder("descend",s)}},b["default"].createElement(O["default"],{type:"caret-down"})))}return s.title=b["default"].createElement("span",null,s.title,c,u),s})},t.prototype.renderPagination=function(){if(!this.hasPagination())return null;var e="default",t=this.state.pagination;t.size?e=t.size:"middle"!==this.props.size&&"small"!==this.props.size||(e="small");var n=t.total||this.getLocalData().length;return n>0?b["default"].createElement(S["default"],(0,s["default"])({key:"pagination"},t,{className:this.props.prefixCls+"-pagination",onChange:this.handlePageChange,total:n,size:e,current:this.getMaxCurrent(n),onShowSizeChange:this.handleShowSizeChange})):null},t.prototype.prepareParamsArguments=function(e){var t=G({},e.pagination);delete t.onChange,delete t.onShowSizeChange;var n=e.filters,r={};return e.sortColumn&&e.sortOrder&&(r.column=e.sortColumn,r.order=e.sortOrder,r.field=e.sortColumn.dataIndex,r.columnKey=this.getColumnKey(e.sortColumn)),[t,n,r]},t.prototype.findColumn=function(e){var t=this,n=void 0;return(0,N.treeMap)(this.columns,function(r){t.getColumnKey(r)===e&&(n=r)}),n},t.prototype.getCurrentPageData=function(){var e=this.getLocalData(),t=void 0,n=void 0,r=this.state;return this.hasPagination()?(n=r.pagination.pageSize,t=this.getMaxCurrent(r.pagination.total||e.length)):(n=Number.MAX_VALUE,t=1),(e.length>n||n===Number.MAX_VALUE)&&(e=e.filter(function(e,r){return r>=(t-1)*n&&r<t*n})),e},t.prototype.getFlatData=function(){return(0,N.flatArray)(this.getLocalData())},t.prototype.getFlatCurrentPageData=function(){return(0,N.flatArray)(this.getCurrentPageData())},t.prototype.recursiveSort=function(e,t){var n=this,r=this.props.childrenColumnName,a=void 0===r?"children":r;return e.sort(t).map(function(e){return e[a]?(0,R["default"])({},e,(0,d["default"])({},a,n.recursiveSort(e[a],t))):e})},t.prototype.getLocalData=function(){var e=this,t=this.state,n=this.props.dataSource,r=n||[];r=r.slice(0);var a=this.getSorterFn();return a&&(r=this.recursiveSort(r,a)),t.filters&&Object.keys(t.filters).forEach(function(n){var a=e.findColumn(n);if(a){var o=t.filters[n]||[];if(0!==o.length){var i=a.onFilter;r=i?r.filter(function(e){return o.some(function(t){return i(t,e)})}):r}}}),r},t.prototype.render=function(){var e,t=this,n=this.props,r=n.style,a=n.className,o=n.prefixCls,i=n.showHeader,l=n.loading,u=q(n,["style","className","prefixCls","showHeader","loading"]),c=this.getCurrentPageData(),p=this.renderRowSelection(),f=this.props.expandedRowRender&&this.props.expandIconAsCell!==!1,h=this.getLocale(),m=(0,D["default"])((e={},(0,d["default"])(e,o+"-"+this.props.size,!0),(0,d["default"])(e,o+"-bordered",this.props.bordered),(0,d["default"])(e,o+"-empty",!c.length),(0,d["default"])(e,o+"-without-column-header",!i),e));p=this.renderColumnsDropdown(p),p=p.map(function(e,n){var r=(0,R["default"])({},e);return r.key=t.getColumnKey(r,n),r});var y=p[0]&&"selection-column"===p[0].key?1:0;"expandIconColumnIndex"in u&&(y=u.expandIconColumnIndex);var v=b["default"].createElement(P["default"],(0,s["default"])({key:"table"},u,{prefixCls:o,data:c,columns:p,showHeader:i,className:m,expandIconColumnIndex:y,expandIconAsCell:f,emptyText:function(){return h.emptyText}})),g=this.hasPagination()&&c&&0!==c.length?o+"-with-pagination":o+"-without-pagination";return b["default"].createElement("div",{className:(0,D["default"])(o+"-wrapper",a),style:r},b["default"].createElement(M["default"],{spinning:l,className:l?g+" "+o+"-spin-holder":""},v,this.renderPagination()))},t}(b["default"].Component);t["default"]=Q,Q.Column=z["default"],Q.ColumnGroup=B["default"],Q.propTypes={dataSource:b["default"].PropTypes.array,columns:b["default"].PropTypes.array,prefixCls:b["default"].PropTypes.string,useFixedHeader:b["default"].PropTypes.bool,rowSelection:b["default"].PropTypes.object,className:b["default"].PropTypes.string,size:b["default"].PropTypes.string,loading:b["default"].PropTypes.bool,bordered:b["default"].PropTypes.bool,onChange:b["default"].PropTypes.func,locale:b["default"].PropTypes.object,dropdownPrefixCls:b["default"].PropTypes.string},Q.defaultProps={dataSource:[],prefixCls:"ant-table",useFixedHeader:!1,rowSelection:null,className:"",size:"large",loading:!1,bordered:!1,indentSize:20,locale:{},rowKey:"key",showHeader:!0},Q.contextTypes={antLocale:b["default"].PropTypes.object},e.exports=t["default"]},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(e){a=(0,i["default"])({},a,e);for(var t=0;t<o.length;t++)o[t]()}function n(){return a}function r(e){return o.push(e),function(){var t=o.indexOf(e);o.splice(t,1)}}var a=e,o=[];return{setState:t,getState:n,subscribe:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(8),i=r(o);e.exports=t["default"]},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(7),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(9),m=r(h),y=n(38),v=r(y),g=n(105),b=r(g),C=n(6),P=r(C),T=n(84),w=r(T),_=n(11),S=r(_),x=n(18),O=r(x),k=n(42),M=r(k),E=n(96),D=r(E),N=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));r.setSelectedKeys=function(e){var t=e.selectedKeys;r.setState({selectedKeys:t})},r.handleClearFilters=function(){r.setState({selectedKeys:[]},r.handleConfirm)},r.handleConfirm=function(){r.setVisible(!1),r.confirmFilter()},r.onVisibleChange=function(e){r.setVisible(e),e||r.confirmFilter()},r.handleMenuItemClick=function(e){if(!(e.keyPath.length<=1)){var t=r.state.keyPathOfSelectedItem;r.state.selectedKeys.indexOf(e.key)>=0?delete t[e.key]:t[e.key]=e.keyPath,r.setState({keyPathOfSelectedItem:t})}};var a="filterDropdownVisible"in n.column&&n.column.filterDropdownVisible;return r.state={selectedKeys:n.selectedKeys,keyPathOfSelectedItem:{},visible:a},r}return(0,d["default"])(t,e),t.prototype.componentDidMount=function(){var e=this.props.column,t=m["default"].findDOMNode(this),n=!!(0,b["default"])(t,".ant-table-scroll");n&&e.fixed&&(this.neverShown=!0)},t.prototype.componentWillReceiveProps=function(e){var t=e.column,n={};"selectedKeys"in e&&(n.selectedKeys=e.selectedKeys),"filterDropdownVisible"in t&&(n.visible=t.filterDropdownVisible),Object.keys(n).length>0&&this.setState(n)},t.prototype.setVisible=function(e){var t=this.props.column;"filterDropdownVisible"in t||this.setState({visible:e}),t.onFilterDropdownVisibleChange&&t.onFilterDropdownVisibleChange(e)},t.prototype.confirmFilter=function(){this.state.selectedKeys!==this.props.selectedKeys&&this.props.confirmFilter(this.props.column,this.state.selectedKeys)},t.prototype.renderMenuItem=function(e){var t=this.props.column,n=!("filterMultiple"in t)||t.filterMultiple,r=n?f["default"].createElement(O["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0}):f["default"].createElement(M["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0});return f["default"].createElement(y.Item,{key:e.value},r,f["default"].createElement("span",null,e.text))},t.prototype.hasSubMenu=function(){var e=this.props.column.filters,t=void 0===e?[]:e;return t.some(function(e){return!!(e.children&&e.children.length>0)})},t.prototype.renderMenus=function(e){var t=this;return e.map(function(e){if(e.children&&e.children.length>0){var n=t.state.keyPathOfSelectedItem,r=Object.keys(n).some(function(t){return n[t].indexOf(e.value)>=0}),a=r?t.props.dropdownPrefixCls+"-submenu-contain-selected":"";return f["default"].createElement(y.SubMenu,{title:e.text,className:a,key:e.value.toString()},t.renderMenus(e.children))}return t.renderMenuItem(e)})},t.prototype.render=function(){var e=this.props,t=e.column,n=e.locale,r=e.prefixCls,a=e.dropdownPrefixCls,i=!("filterMultiple"in t)||t.filterMultiple,s=(0,P["default"])((0,o["default"])({},a+"-menu-without-submenu",!this.hasSubMenu())),l=t.filterDropdown?f["default"].createElement(D["default"],null,t.filterDropdown):f["default"].createElement(D["default"],{className:r+"-dropdown"},f["default"].createElement(v["default"],{multiple:i,onClick:this.handleMenuItemClick,prefixCls:a+"-menu",className:s,onSelect:this.setSelectedKeys,onDeselect:this.setSelectedKeys,selectedKeys:this.state.selectedKeys},this.renderMenus(t.filters)),f["default"].createElement("div",{className:r+"-dropdown-btns"},f["default"].createElement("a",{className:r+"-dropdown-link confirm",onClick:this.handleConfirm},n.filterConfirm),f["default"].createElement("a",{className:r+"-dropdown-link clear",onClick:this.handleClearFilters},n.filterReset))),u=this.props.selectedKeys.length>0?r+"-selected":"";return f["default"].createElement(w["default"],{trigger:["click"],overlay:l,visible:!this.neverShown&&this.state.visible,onVisibleChange:this.onVisibleChange},f["default"].createElement(S["default"],{title:n.filterTitle,type:"filter",className:u}))},t}(f["default"].Component);t["default"]=N,N.defaultProps={handleFilter:function(){},column:{}},e.exports=t["default"]},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[],r=function a(e){e.forEach(function(e){var r=(0,c["default"])({},e);delete r[t],n.push(r),e[t]&&e[t].length>0&&a(e[t])})};return r(e),n}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";return e.map(function(e,r){var a={};return e[n]&&(a[n]=o(e[n],t,n)),(0,c["default"])({},t(e,r),a)})}function i(e){var t=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var n=(0,c["default"])({},e.props);e.key&&(n.key=e.key),e.type===p["default"]&&(n.children=i(n.children)),t.push(n)}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.flatArray=a,t.treeMap=o,t.normalizeColumns=i;var s=n(1),l=r(s),u=n(8),c=r(u),d=n(48),p=r(d)},105:function(e,t,n){var r=n(106);e.exports=function(e,t,n){for(n=n||document,e={parentNode:e};(e=e.parentNode)&&e!==n;)if(r(e,t))return e}},106:function(e,t){"use strict";function n(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var a=e.parentNode;if(r)return r.call(e,t);for(var o=a.querySelectorAll(t),i=o.length,s=0;s<i;s++)if(o[s]===e)return!0;return!1}e.exports=n},107:10,108:10,110:10,111:10,112:10,113:10,115:function(e,t,n){(function(t){(function(){var n,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},a=n()):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(t,n(114))},116:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(17),f=r(p),h=n(6),m=r(h),y=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.handleFocus=function(e){r.setState({focus:!0}),r.props.onFocus(e)},r.handleBlur=function(e){r.setState({focus:!1}),r.props.onBlur(e)},r.handleChange=function(e){r.props.disabled||("checked"in r.props||r.setState({checked:e.target.checked}),r.props.onChange({target:u({},r.props,{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}}))};var a=!1;return a="checked"in n?n.checked:n.defaultChecked,r.state={checked:a,focus:!1},r}return l(t,e),t.prototype.componentWillReceiveProps=function(e){"checked"in e&&this.setState({checked:e.checked})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t=u({},this.props);delete t.defaultChecked;var n=this.state,r=t.prefixCls,a=n.checked;"boolean"==typeof a&&(a=a?1:0);var i=(0,m["default"])((e={},o(e,t.className,!!t.className),o(e,r,1),o(e,r+"-checked",a),o(e,r+"-checked-"+a,!!a),o(e,r+"-focused",n.focus),o(e,r+"-disabled",t.disabled),e));return d["default"].createElement("span",{className:i,style:t.style},d["default"].createElement("span",{className:r+"-inner"}),d["default"].createElement("input",{name:t.name,type:t.type,readOnly:t.readOnly,disabled:t.disabled,tabIndex:t.tabIndex,className:r+"-input",checked:!!a,onClick:this.props.onClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}))},t}(d["default"].Component);y.propTypes={name:d["default"].PropTypes.string,prefixCls:d["default"].PropTypes.string,style:d["default"].PropTypes.object,type:d["default"].PropTypes.string,className:d["default"].PropTypes.string,defaultChecked:d["default"].PropTypes.oneOfType([d["default"].PropTypes.number,d["default"].PropTypes.bool]),disabled:d["default"].PropTypes.bool,checked:d["default"].PropTypes.oneOfType([d["default"].PropTypes.number,d["default"].PropTypes.bool]),onFocus:d["default"].PropTypes.func,onBlur:d["default"].PropTypes.func,onChange:d["default"].PropTypes.func,onClick:d["default"].PropTypes.func},y.defaultProps={prefixCls:"rc-checkbox",style:{},type:"checkbox",className:"",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},t["default"]=y,e.exports=t["default"]},117:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=r(i),l=n(9),u=r(l),c=n(59),d=r(c),p=n(119),f=r(p),h=s["default"].createClass({displayName:"Dropdown",propTypes:{minOverlayWidthMatchTrigger:i.PropTypes.bool,onVisibleChange:i.PropTypes.func,prefixCls:i.PropTypes.string,children:i.PropTypes.any,transitionName:i.PropTypes.string,overlayClassName:i.PropTypes.string,animation:i.PropTypes.any,align:i.PropTypes.object,overlayStyle:i.PropTypes.object,placement:i.PropTypes.string,trigger:i.PropTypes.array,showAction:i.PropTypes.array,hideAction:i.PropTypes.array,getPopupContainer:i.PropTypes.func},getDefaultProps:function(){return{minOverlayWidthMatchTrigger:!0,prefixCls:"rc-dropdown",trigger:["hover"],showAction:[],hideAction:[],overlayClassName:"",overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft"}},getInitialState:function(){var e=this.props;return"visible"in e?{visible:e.visible}:{visible:e.defaultVisible}},componentWillReceiveProps:function(e){var t=e.visible;void 0!==t&&this.setState({visible:t})},onClick:function(e){var t=this.props,n=t.overlay.props;"visible"in t||this.setState({visible:!1}),n.onClick&&n.onClick(e)},onVisibleChange:function(e){var t=this.props;"visible"in t||this.setState({visible:e}),t.onVisibleChange(e)},getMenuElement:function(){var e=this.props;return s["default"].cloneElement(e.overlay,{prefixCls:e.prefixCls+"-menu",onClick:this.onClick})},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},afterVisibleChange:function(e){if(e&&this.props.minOverlayWidthMatchTrigger){var t=this.getPopupDomNode(),n=u["default"].findDOMNode(this);n.offsetWidth>t.offsetWidth&&(t.style.width=n.offsetWidth+"px")}},render:function(){var e=this.props,t=e.prefixCls,n=e.children,r=e.transitionName,i=e.animation,l=e.align,u=e.placement,c=e.getPopupContainer,p=e.showAction,h=e.hideAction,m=e.overlayClassName,y=e.overlayStyle,v=e.trigger,g=a(e,["prefixCls","children","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]);return s["default"].createElement(d["default"],o({},g,{prefixCls:t,ref:"trigger",popupClassName:m,popupStyle:y,builtinPlacements:f["default"],action:v,showAction:p,hideAction:h,popupPlacement:u,popupAlign:l,popupTransitionName:r,popupAnimation:i,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getMenuElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:c}),n)}});t["default"]=h,e.exports=t["default"]},118:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(117),o=r(a);t["default"]=o["default"],e.exports=t["default"]},119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],a=t.placements={topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},topCenter:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},bottomCenter:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r}};t["default"]=a},120:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=n(52),u=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n));return r.state={current:n.current,_current:n.current},["_handleChange","_changeSize","_go","_buildOptionText"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype._buildOptionText=function(e){return e+" "+this.props.locale.items_per_page},t.prototype._changeSize=function(e){this.props.changeSize(Number(e))},t.prototype._handleChange=function(e){var t=e.target.value;this.setState({_current:t})},t.prototype._go=function(e){var t=e.target.value;if(""!==t){var n=Number(this.state._current);if(isNaN(n)&&(n=this.state.current),e.keyCode===l.ENTER){var r=this.props.quickGo(n);this.setState({_current:r,current:r})}}},t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=t.locale,a=t.rootPrefixCls+"-options",o=t.changeSize,i=t.quickGo,l=t.buildOptionText||this._buildOptionText,u=t.selectComponentClass,c=null,d=null;return o||i?(o&&u&&!function(){var n=u.Option,r=t.pageSize||t.pageSizeOptions[0],o=t.pageSizeOptions.map(function(e,t){return s.createElement(n,{key:t,value:e},l(e))});c=s.createElement(u,{prefixCls:t.selectPrefixCls,showSearch:!1,className:a+"-size-changer",optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:r.toString(),onChange:e._changeSize},o)}(),i&&(d=s.createElement("div",{className:a+"-quick-jumper"},r.jump_to,s.createElement("input",{type:"text",value:n._current,onChange:this._handleChange,onKeyUp:this._go}),r.page)),s.createElement("div",{className:""+a},c,d)):null},t}(s.Component);u.propTypes={changeSize:s.PropTypes.func,quickGo:s.PropTypes.func,selectComponentClass:s.PropTypes.func,current:s.PropTypes.number,pageSizeOptions:s.PropTypes.arrayOf(s.PropTypes.string),pageSize:s.PropTypes.number,buildOptionText:s.PropTypes.func,locale:s.PropTypes.object},u.defaultProps={pageSizeOptions:["10","20","30","40"]},e.exports=u},121:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.rootPrefixCls+"-item",n=t+" "+t+"-"+e.page;return e.active&&(n=n+" "+t+"-active"),e.className&&(n=n+" "+e.className),s.createElement("li",{title:e.page,className:n,onClick:e.onClick},s.createElement("a",null,e.page))},t}(s.Component);l.propTypes={page:s.PropTypes.number,active:s.PropTypes.bool,last:s.PropTypes.bool,locale:s.PropTypes.object,className:s.PropTypes.string},e.exports=l},122:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function s(){}var l=n(1),u=n(121),c=n(120),d=n(52),p=n(53),f=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n)),i=n.onChange!==s,l="current"in n;l&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=n.defaultCurrent;"current"in n&&(u=n.current);var c=n.defaultPageSize;return"pageSize"in n&&(c=n.pageSize),r.state={current:u,_current:u,pageSize:c},["render","_handleChange","_handleKeyUp","_handleKeyDown","_changePageSize","_isValid","_prev","_next","_hasPrev","_hasNext","_jumpPrev","_jumpNext"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){if("current"in e&&this.setState({current:e.current,_current:e.current}),"pageSize"in e){var t={},n=this.state.current,r=this._calcPage(e.pageSize);n=n>r?r:n,"current"in e||(t.current=n,t._current=n),t.pageSize=e.pageSize,this.setState(t)}},t.prototype._calcPage=function(e){var t=e;return"undefined"==typeof t&&(t=this.state.pageSize),Math.floor((this.props.total-1)/t)+1},t.prototype._isValid=function(e){return"number"==typeof e&&e>=1&&e!==this.state.current},t.prototype._handleKeyDown=function(e){e.keyCode!==d.ARROW_UP&&e.keyCode!==d.ARROW_DOWN||e.preventDefault()},t.prototype._handleKeyUp=function(e){var t=e.target.value,n=void 0;n=""===t?t:isNaN(Number(t))?this.state._current:Number(t),this.setState({_current:n}),e.keyCode===d.ENTER?this._handleChange(n):e.keyCode===d.ARROW_UP?this._handleChange(n-1):e.keyCode===d.ARROW_DOWN&&this._handleChange(n+1)},t.prototype._changePageSize=function(e){var t=this.state.current,n=this._calcPage(e);t=t>n?n:t,"number"==typeof e&&("pageSize"in this.props||this.setState({pageSize:e}),"current"in this.props||this.setState({current:t,_current:t})),this.props.onShowSizeChange(t,e)},t.prototype._handleChange=function(e){var t=e;if(this._isValid(t)){t>this._calcPage()&&(t=this._calcPage()),"current"in this.props||this.setState({current:t,_current:t});var n=this.state.pageSize;return this.props.onChange(t,n),t}return this.state.current},t.prototype._prev=function(){this._hasPrev()&&this._handleChange(this.state.current-1)},t.prototype._next=function(){this._hasNext()&&this._handleChange(this.state.current+1)},t.prototype._jumpPrev=function(){this._handleChange(Math.max(1,this.state.current-(this.props.showLessItems?3:5)))},t.prototype._jumpNext=function(){this._handleChange(Math.min(this._calcPage(),this.state.current+(this.props.showLessItems?3:5)))},t.prototype._hasPrev=function(){return this.state.current>1},t.prototype._hasNext=function(){return this.state.current<this._calcPage()},t.prototype.render=function(){var e=this.props,t=e.locale,n=e.prefixCls,r=this._calcPage(),a=[],o=null,i=null,s=null,d=null,p=e.showLessItems?1:2,f=this.state,h=f.current,m=f.pageSize;if(e.simple)return l.createElement("ul",{className:n+" "+n+"-simple "+e.className},l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),l.createElement("li",{title:this.state.current+"/"+r,className:n+"-simple-pager"},l.createElement("input",{type:"text",value:this.state._current,onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onChange:this._handleKeyUp}),l.createElement("span",{className:n+"-slash"},"\uff0f"),r),l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)));if(r<=5+2*p)for(var y=1;y<=r;y++){var v=this.state.current===y;a.push(l.createElement(u,{locale:t,rootPrefixCls:n,onClick:this._handleChange.bind(this,y),
key:y,page:y,active:v}))}else{o=l.createElement("li",{title:e.showLessItems?t.prev_3:t.prev_5,key:"prev",onClick:this._jumpPrev,className:n+"-jump-prev"},l.createElement("a",null)),i=l.createElement("li",{title:e.showLessItems?t.next_3:t.next_5,key:"next",onClick:this._jumpNext,className:n+"-jump-next"},l.createElement("a",null)),d=l.createElement(u,{locale:e.locale,last:!0,rootPrefixCls:n,onClick:this._handleChange.bind(this,r),key:r,page:r,active:!1}),s=l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,1),key:1,page:1,active:!1});var g=Math.max(1,h-p),b=Math.min(h+p,r);h-1<=p&&(b=1+2*p),r-h<=p&&(g=r-2*p);for(var C=g;C<=b;C++){var P=h===C;a.push(l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,C),key:C,page:C,active:P}))}h-1>=2*p&&3!==h&&(a[0]=l.cloneElement(a[0],{className:n+"-item-after-jump-prev"}),a.unshift(o)),r-h>=2*p&&h!==r-2&&(a[a.length-1]=l.cloneElement(a[a.length-1],{className:n+"-item-before-jump-next"}),a.push(i)),1!==g&&a.unshift(s),b!==r&&a.push(d)}var T=null;return e.showTotal&&(T=l.createElement("span",{className:n+"-total-text"},e.showTotal(e.total,[(h-1)*m+1,h*m>e.total?e.total:h*m]))),l.createElement("ul",{className:n+" "+e.className,style:e.style,unselectable:"unselectable"},T,l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),a,l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)),l.createElement(c,{locale:e.locale,rootPrefixCls:n,selectComponentClass:e.selectComponentClass,selectPrefixCls:e.selectPrefixCls,changeSize:this.props.showSizeChanger?this._changePageSize.bind(this):null,current:this.state.current,pageSize:this.state.pageSize,pageSizeOptions:this.props.pageSizeOptions,quickGo:this.props.showQuickJumper?this._handleChange.bind(this):null}))},t}(l.Component);f.propTypes={current:l.PropTypes.number,defaultCurrent:l.PropTypes.number,total:l.PropTypes.number,pageSize:l.PropTypes.number,defaultPageSize:l.PropTypes.number,onChange:l.PropTypes.func,showSizeChanger:l.PropTypes.bool,showLessItems:l.PropTypes.bool,onShowSizeChange:l.PropTypes.func,selectComponentClass:l.PropTypes.func,showQuickJumper:l.PropTypes.bool,pageSizeOptions:l.PropTypes.arrayOf(l.PropTypes.string),showTotal:l.PropTypes.func,locale:l.PropTypes.object,style:l.PropTypes.object},f.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:s,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,showQuickJumper:!1,showSizeChanger:!1,showLessItems:!1,onShowSizeChange:s,locale:p,style:{}},e.exports=f},123:function(e,t,n){"use strict";e.exports=n(122)},124:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),o=n(51),i=a.createClass({displayName:"Radio",getDefaultProps:function(){return{prefixCls:"rc-radio",type:"radio"}},render:function(){return a.createElement(o,r({},this.props,{ref:"checkbox"}))}});e.exports=i},125:function(e,t,n){"use strict";e.exports=n(124)},126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(43),o=r(a),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),d=n(144),p=r(d),f=n(38),h=r(f),m=n(180),y=r(m),v=n(21),g=u["default"].createClass({displayName:"DropdownMenu",propTypes:{defaultActiveFirstOption:l.PropTypes.bool,value:l.PropTypes.any,dropdownMenuStyle:l.PropTypes.object,multiple:l.PropTypes.bool,onPopupFocus:l.PropTypes.func,onMenuDeSelect:l.PropTypes.func,onMenuSelect:l.PropTypes.func,prefixCls:l.PropTypes.string,menuItems:l.PropTypes.any,inputValue:l.PropTypes.string,visible:l.PropTypes.bool},componentWillMount:function(){this.lastInputValue=this.props.inputValue},componentDidMount:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible},shouldComponentUpdate:function(e){return e.visible||(this.lastVisible=!1),e.visible},componentDidUpdate:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue},scrollActiveItemToView:function(){var e=(0,c.findDOMNode)(this.firstActiveItem);e&&(0,y["default"])(e,(0,c.findDOMNode)(this.refs.menu),{onlyScrollIfNeeded:!0})},renderMenu:function(){var e=this,t=this.props,n=t.menuItems,r=t.defaultActiveFirstOption,a=t.value,i=t.prefixCls,c=t.multiple,d=t.onMenuSelect,f=t.inputValue;if(n&&n.length){var m=function(){var o={};c?(o.onDeselect=t.onMenuDeselect,o.onSelect=d):o.onClick=d;var m=(0,v.getSelectKeys)(n,a),y={},g=n;return m.length&&!function(){t.visible&&!e.lastVisible&&(y.activeKey=m[0]);var r=!1,a=function(t){return r||m.indexOf(t.key)===-1?t:(r=!0,(0,l.cloneElement)(t,{ref:function(t){e.firstActiveItem=t}}))};g=n.map(function(e){if(e.type.isMenuItemGroup){var t=(0,p["default"])(e.props.children).map(a);return(0,l.cloneElement)(e,{},t)}return a(e)})}(),f!==e.lastInputValue&&(y.activeKey=""),{v:u["default"].createElement(h["default"],(0,s["default"])({ref:"menu",style:e.props.dropdownMenuStyle,defaultActiveFirst:r},y,{multiple:c,focusable:!1},o,{selectedKeys:m,prefixCls:i+"-menu"}),g)}}();if("object"===("undefined"==typeof m?"undefined":(0,o["default"])(m)))return m.v}return null},render:function(){var e=this.renderMenu();return e?u["default"].createElement("div",{style:{overflow:"auto"},onFocus:this.props.onPopupFocus,onMouseDown:v.preventDefaultEvent},e):null}});t["default"]=g,e.exports=t["default"]},127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(1),s=r(i),l=n(21),u=n(38),c=n(133),d=r(c);t["default"]={filterOption:function p(e,t){if(!e)return!0;var p=this.props.filterOption;return!p||!t.props.disabled&&p.call(this,e,t)},renderFilterOptions:function(e){return this.renderFilterOptionsFromChildren(this.props.children,!0,e)},renderFilterOptionsFromChildren:function(e,t,n){var r=this,a=[],i=this.props,c=void 0===n?this.state.inputValue:n,p=[],f=i.tags;if(s["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var t=r.renderFilterOptionsFromChildren(e.props.children,!1);if(t.length){var n=e.props.label,i=e.key;i||"string"!=typeof n?!n&&i&&(n=i):i=n,a.push(s["default"].createElement(u.ItemGroup,{key:i,title:n},t))}}else{(0,d["default"])(e.type.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+("instead of `"+(e.type.name||e.type.displayName||e.type)+"`."));var h=(0,l.getValuePropValue)(e);r.filterOption(c,e)&&a.push(s["default"].createElement(u.Item,(0,o["default"])({style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:h,key:h},e.props))),f&&!e.props.disabled&&p.push(h)}}),f){var h=this.state.value||[];if(h=h.filter(function(e){return p.indexOf(e.key)===-1&&(!c||String(e.key).indexOf(String(c))>-1)}),a=a.concat(h.map(function(e){var t=e.key;return s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:t,key:t},t)})),c){var m=a.every(function(e){return(0,l.getValuePropValue)(e)!==c});m&&a.unshift(s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:c,key:c},c))}}return!a.length&&t&&i.notFoundContent&&(a=[s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,disabled:!0,value:"NOT_FOUND",key:"NOT_FOUND"},i.notFoundContent)]),a}},e.exports=t["default"]},128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Component);p.isSelectOptGroup=!0,t["default"]=p,e.exports=t["default"]},129:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Component);p.propTypes={value:d["default"].PropTypes.string},p.isSelectOption=!0,t["default"]=p,e.exports=t["default"]},130:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){return String((0,w.getPropValue)(t,this.props.optionFilterProp)).indexOf(e)>-1}function i(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(2),c=r(u),d=n(1),p=r(d),f=n(9),h=r(f),m=n(145),y=r(m),v=n(6),g=r(v),b=n(56),C=r(b),P=n(69),T=r(P),w=n(21),_=n(131),S=r(_),x=n(127),O=r(x),k=void 0;d.PropTypes&&(k=d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.shape({key:d.PropTypes.string,label:d.PropTypes.node})]));var M=p["default"].createClass({displayName:"Select",propTypes:{defaultActiveFirstOption:d.PropTypes.bool,multiple:d.PropTypes.bool,filterOption:d.PropTypes.any,children:d.PropTypes.any,showSearch:d.PropTypes.bool,disabled:d.PropTypes.bool,allowClear:d.PropTypes.bool,showArrow:d.PropTypes.bool,tags:d.PropTypes.bool,prefixCls:d.PropTypes.string,className:d.PropTypes.string,transitionName:d.PropTypes.string,optionLabelProp:d.PropTypes.string,optionFilterProp:d.PropTypes.string,animation:d.PropTypes.string,choiceTransitionName:d.PropTypes.string,onChange:d.PropTypes.func,onBlur:d.PropTypes.func,onFocus:d.PropTypes.func,onSelect:d.PropTypes.func,onSearch:d.PropTypes.func,placeholder:d.PropTypes.any,onDeselect:d.PropTypes.func,labelInValue:d.PropTypes.bool,value:d.PropTypes.oneOfType([k,d.PropTypes.arrayOf(k)]),defaultValue:d.PropTypes.oneOfType([k,d.PropTypes.arrayOf(k)]),dropdownStyle:d.PropTypes.object,maxTagTextLength:d.PropTypes.number,tokenSeparators:d.PropTypes.arrayOf(d.PropTypes.string),getInputElement:d.PropTypes.func},mixins:[O["default"]],getDefaultProps:function(){return{prefixCls:"rc-select",filterOption:o,defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",defaultValue:[],onChange:a,onFocus:a,onBlur:a,onSelect:a,onSearch:a,onDeselect:a,showArrow:!0,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found"}},getInitialState:function(){var e=this.props,t=[];t="value"in e?(0,w.toArray)(e.value):(0,w.toArray)(e.defaultValue),t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t);var n="";e.combobox&&(n=t.length?this.getLabelFromProps(e,t[0].key):""),this.saveInputRef=i.bind(this,"inputInstance"),this.saveInputMirrorRef=i.bind(this,"inputMirrorInstance");var r=e.open;return void 0===r&&(r=e.defaultOpen),{value:t,inputValue:n,open:r}},componentWillMount:function(){this.adjustOpenState()},componentWillReceiveProps:function(e){if("value"in e){var t=(0,w.toArray)(e.value);t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t),this.setState({value:t}),e.combobox&&this.setState({inputValue:t.length?this.getLabelFromProps(e,t[0].key):""})}},componentWillUpdate:function(e,t){this.props=e,this.state=t,this.adjustOpenState()},componentDidUpdate:function(){if((0,w.isMultipleOrTags)(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e.value?(e.style.width="",e.style.width=t.clientWidth+"px"):e.style.width=""}},componentWillUnmount:function(){this.clearBlurTime(),this.clearAdjustTimer(),this.dropdownContainer&&(h["default"].unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)},onInputChange:function(e){var t=this.props.tokenSeparators,n=e.target.value;if((0,w.isMultipleOrTags)(this.props)&&t&&(0,w.includesSeparators)(n,t)){var r=this.tokenize(n);return this.fireChange(r),this.setOpenState(!1,!0),void this.setInputValue("",!1)}this.setInputValue(n),this.setState({open:!0}),(0,w.isCombobox)(this.props)&&this.fireChange([{key:n}])},onDropdownVisibleChange:function(e){this.setOpenState(e)},onKeyDown:function(e){var t=this.props;if(!t.disabled){var n=e.keyCode;this.state.open&&!this.getInputDOMNode()?this.onInputKeyDown(e):n!==y["default"].ENTER&&n!==y["default"].DOWN||(this.setOpenState(!0),e.preventDefault())}},onInputKeyDown:function(e){var t=this.props;if(!t.disabled){var n=this.state,r=e.keyCode;if((0,w.isMultipleOrTags)(t)&&!e.target.value&&r===y["default"].BACKSPACE){e.preventDefault();var a=n.value;return void(a.length&&this.removeSelected(a[a.length-1].key))}if(r===y["default"].DOWN){if(!n.open)return this.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(r===y["default"].ESC)return void(n.open&&(this.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(n.open){var o=this.refs.trigger.getInnerMenu();o&&o.onKeyDown(e)&&(e.preventDefault(),e.stopPropagation())}}},onMenuSelect:function(e){var t=this,n=e.item,r=this.state.value,a=this.props,o=(0,w.getValuePropValue)(n),i=this.getLabelFromOption(n),s=o;a.labelInValue&&(s={key:s,label:i}),a.onSelect(s,n);var l=n.props.title;if((0,w.isMultipleOrTags)(a)){if((0,w.findIndexInValueByKey)(r,o)!==-1)return;r=r.concat([{key:o,label:i,title:l}])}else{if((0,w.isCombobox)(a)&&(this.skipAdjustOpen=!0,this.clearAdjustTimer(),this.skipAdjustOpenTimer=setTimeout(function(){t.skipAdjustOpen=!1},0)),r.length&&r[0].key===o)return void this.setOpenState(!1,!0);r=[{key:o,label:i,title:l}],this.setOpenState(!1,!0)}this.fireChange(r);var u=void 0;u=(0,w.isCombobox)(a)?(0,w.getPropValue)(n,a.optionLabelProp):"",this.setInputValue(u,!1)},onMenuDeselect:function(e){var t=e.item,n=e.domEvent;"click"===n.type&&this.removeSelected((0,w.getValuePropValue)(t)),this.setInputValue("",!1)},onArrowClick:function(e){e.stopPropagation(),this.props.disabled||this.setOpenState(!this.state.open,!this.state.open)},onPlaceholderClick:function(){this.getInputDOMNode()&&this.getInputDOMNode().focus()},onOuterFocus:function(e){((0,w.isMultipleOrTagsOrCombobox)(this.props)||e.target!==this.getInputDOMNode())&&(this.clearBlurTime(),this._focused=!0,this.updateFocusClassName(),this.props.onFocus())},onPopupFocus:function(){this.maybeFocus(!0,!0)},onOuterBlur:function(){var e=this;this.blurTimer=setTimeout(function(){e._focused=!1,e.updateFocusClassName();var t=e.props,n=e.state.value,r=e.state.inputValue;if((0,w.isSingleMode)(t)&&t.showSearch&&r&&t.defaultActiveFirstOption){var a=e._options||[];if(a.length){var o=(0,w.findFirstMenuItem)(a);o&&(n=[{key:o.key,label:e.getLabelFromOption(o)}],e.fireChange(n))}}else(0,w.isMultipleOrTags)(t)&&r&&(e.state.inputValue=e.getInputDOMNode().value="");t.onBlur(e.getVLForOnChange(n))},10)},onClearSelection:function(e){var t=this.props,n=this.state;if(!t.disabled){var r=n.inputValue,a=n.value;e.stopPropagation(),(r||a.length)&&(a.length&&this.fireChange([]),this.setOpenState(!1,!0),r&&this.setInputValue(""))}},onChoiceAnimationLeave:function(){this.refs.trigger.refs.trigger.forcePopupAlign()},getLabelBySingleValue:function(e,t){var n=this;if(void 0===t)return null;var r=null;return p["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var a=n.getLabelBySingleValue(e.props.children,t);null!==a&&(r=a)}else(0,w.getValuePropValue)(e)===t&&(r=n.getLabelFromOption(e))}),r},getValueByLabel:function(e,t){var n=this;if(void 0===t)return null;var r=null;return p["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var a=n.getValueByLabel(e.props.children,t);null!==a&&(r=a)}else(0,w.toArray)(n.getLabelFromOption(e)).join("")===t&&(r=(0,w.getValuePropValue)(e))}),r},getLabelFromOption:function(e){return(0,w.getPropValue)(e,this.props.optionLabelProp)},getLabelFromProps:function(e,t){return this.getLabelByValue(e.children,t)},getVLForOnChange:function(e){var t=e;return void 0!==t?(t=this.props.labelInValue?t.map(function(e){return{key:e.key,label:e.label}}):t.map(function(e){return e.key}),(0,w.isMultipleOrTags)(this.props)?t:t[0]):t},getLabelByValue:function(e,t){var n=this.getLabelBySingleValue(e,t);return null===n?t:n},getDropdownContainer:function(){return this.dropdownContainer||(this.dropdownContainer=document.createElement("div"),document.body.appendChild(this.dropdownContainer)),this.dropdownContainer},getPlaceholderElement:function(){var e=this.props,t=this.state,n=!1;t.inputValue&&(n=!0),t.value.length&&(n=!0),(0,w.isCombobox)(e)&&1===t.value.length&&!t.value[0].key&&(n=!1);var r=e.placeholder;return r?p["default"].createElement("div",(0,c["default"])({onMouseDown:w.preventDefaultEvent,style:(0,c["default"])({display:n?"none":"block"},w.UNSELECTABLE_STYLE)},w.UNSELECTABLE_ATTRIBUTE,{onClick:this.onPlaceholderClick,className:e.prefixCls+"-selection__placeholder"}),r):null},getInputElement:function(){var e=this.props,t=e.getInputElement?e.getInputElement():p["default"].createElement("input",null),n=(0,g["default"])(t.props.className,(0,l["default"])({},e.prefixCls+"-search__field",!0));return p["default"].createElement("div",{className:e.prefixCls+"-search__field__wrap"},p["default"].cloneElement(t,{ref:this.saveInputRef,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,value:this.state.inputValue,disabled:e.disabled,className:n}),p["default"].createElement("span",{ref:this.saveInputMirrorRef,className:e.prefixCls+"-search__field__mirror"},this.state.inputValue))},getInputDOMNode:function(){return this.inputInstance},getInputMirrorDOMNode:function(){return this.inputMirrorInstance},getPopupDOMNode:function(){return this.refs.trigger.getPopupDOMNode()},getPopupMenuComponent:function(){return this.refs.trigger.getInnerMenu()},setOpenState:function(e,t){var n=this,r=this.props,a=this.state;if(a.open===e)return void this.maybeFocus(e,t);var o={open:e};!e&&(0,w.isSingleMode)(r)&&r.showSearch&&this.setInputValue(""),e||this.maybeFocus(e,t),this.setState(o,function(){e&&n.maybeFocus(e,t)})},setInputValue:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({inputValue:e}),t&&this.props.onSearch(e)},clearBlurTime:function(){this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},clearAdjustTimer:function(){this.skipAdjustOpenTimer&&(clearTimeout(this.skipAdjustOpenTimer),this.skipAdjustOpenTimer=null)},updateFocusClassName:function(){var e=this.refs,t=this.props;this._focused?(0,T["default"])(e.root).add(t.prefixCls+"-focused"):(0,T["default"])(e.root).remove(t.prefixCls+"-focused")},maybeFocus:function(e,t){if(t||e){var n=this.getInputDOMNode(),r=document,a=r.activeElement;if(n&&(e||(0,w.isMultipleOrTagsOrCombobox)(this.props)))a!==n&&n.focus();else{var o=this.refs.selection;a!==o&&o.focus()}}},addLabelToValue:function(e,t){var n=this,r=t;return e.labelInValue?r.forEach(function(t){t.label=t.label||n.getLabelFromProps(e,t.key)}):r=r.map(function(t){return{key:t,label:n.getLabelFromProps(e,t)}}),r},addTitleToValue:function(e,t){var n=this,r=t,a=t.map(function(e){return e.key});return p["default"].Children.forEach(e.children,function(e){if(e.type.isSelectOptGroup)r=n.addTitleToValue(e.props,r);else{var t=(0,w.getValuePropValue)(e),o=a.indexOf(t);o>-1&&(r[o].title=e.props.title)}}),r},removeSelected:function(e){var t=this.props;if(!t.disabled&&!this.isChildDisabled(e)){var n=void 0,r=this.state.value.filter(function(t){return t.key===e&&(n=t.label),t.key!==e}),a=(0,w.isMultipleOrTags)(t);if(a){var o=e;t.labelInValue&&(o={key:e,label:n}),t.onDeselect(o)}this.fireChange(r)}},openIfHasChildren:function(){var e=this.props;(p["default"].Children.count(e.children)||(0,w.isSingleMode)(e))&&this.setOpenState(!0)},fireChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(this.getVLForOnChange(e))},isChildDisabled:function(e){return(0,w.toArray)(this.props.children).some(function(t){var n=(0,w.getValuePropValue)(t);return n===e&&t.props&&t.props.disabled})},tokenize:function(e){var t=this,n=this.props,r=n.multiple,a=n.tokenSeparators,o=n.children,i=this.state.value;return(0,w.splitBySeparators)(e,a).forEach(function(e){var n={key:e,label:e};if((0,w.findIndexInValueByLabel)(i,e)===-1)if(r){var a=t.getValueByLabel(o,e);a&&(n.key=a,i=i.concat(n))}else i=i.concat(n)}),i},adjustOpenState:function(){if(!this.skipAdjustOpen){var e=this.state.open;"undefined"!=typeof document&&this.getInputDOMNode()&&document.activeElement===this.getInputDOMNode()&&(e=!0);var t=[];e&&(t=this.renderFilterOptions()),this._options=t,!e||!(0,w.isMultipleOrTagsOrCombobox)(this.props)&&this.props.showSearch||t.length||(e=!1),this.state.open=e}},renderTopControlNode:function(){var e=this,t=this.state,n=t.value,r=t.open,a=t.inputValue,o=this.props,i=o.choiceTransitionName,s=o.prefixCls,l=o.maxTagTextLength,u=o.showSearch,d=s+"-selection__rendered",f=null;if((0,w.isSingleMode)(o)){var h=null;if(n.length){var m=!1,y=1;u&&r?(m=!a,m&&(y=.4)):m=!0;var v=n[0];h=p["default"].createElement("div",{key:"value",className:s+"-selection-selected-value",title:v.title||v.label,style:{display:m?"block":"none",opacity:y}},n[0].label)}f=u?[h,p["default"].createElement("div",{className:s+"-search "+s+"-search--inline",key:"input",style:{display:r?"block":"none"}},this.getInputElement())]:[h]}else{var g=[];(0,w.isMultipleOrTags)(o)&&(g=n.map(function(t){var n=t.label,r=t.title||n;l&&"string"==typeof n&&n.length>l&&(n=n.slice(0,l)+"...");var a=e.isChildDisabled(t.key),o=a?s+"-selection__choice "+s+"-selection__choice__disabled":s+"-selection__choice";return p["default"].createElement("li",(0,c["default"])({style:w.UNSELECTABLE_STYLE},w.UNSELECTABLE_ATTRIBUTE,{onMouseDown:w.preventDefaultEvent,className:o,key:t.key,title:r}),p["default"].createElement("div",{className:s+"-selection__choice__content"},n),a?null:p["default"].createElement("span",{className:s+"-selection__choice__remove",onClick:e.removeSelected.bind(e,t.key)}))})),g.push(p["default"].createElement("li",{className:s+"-search "+s+"-search--inline",key:"__input"},this.getInputElement())),f=(0,w.isMultipleOrTags)(o)&&i?p["default"].createElement(C["default"],{onLeave:this.onChoiceAnimationLeave,component:"ul",transitionName:i},g):p["default"].createElement("ul",null,g)}return p["default"].createElement("div",{className:d},this.getPlaceholderElement(),f)},render:function(){var e,t=this.props,n=(0,w.isMultipleOrTags)(t),r=this.state,a=t.className,o=t.disabled,i=t.allowClear,s=t.prefixCls,u=this.renderTopControlNode(),d={},f=this.state.open,h=this._options;(0,w.isMultipleOrTagsOrCombobox)(t)||(d={onKeyDown:this.onKeyDown,tabIndex:0});var m=(e={},(0,l["default"])(e,a,!!a),(0,l["default"])(e,s,1),(0,l["default"])(e,s+"-open",f),(0,l["default"])(e,s+"-focused",f||!!this._focused),(0,l["default"])(e,s+"-combobox",(0,w.isCombobox)(t)),(0,l["default"])(e,s+"-disabled",o),(0,l["default"])(e,s+"-enabled",!o),(0,l["default"])(e,s+"-allow-clear",!!t.allowClear),e),y=(0,c["default"])({},w.UNSELECTABLE_STYLE,{display:"none"});(r.inputValue||r.value.length)&&(y.display="block");var v=p["default"].createElement("span",(0,c["default"])({key:"clear",onMouseDown:w.preventDefaultEvent,style:y},w.UNSELECTABLE_ATTRIBUTE,{className:s+"-selection__clear",onClick:this.onClearSelection}));return p["default"].createElement(S["default"],{onPopupFocus:this.onPopupFocus,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:h,multiple:n,disabled:o,visible:f,inputValue:r.inputValue,value:r.value,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,ref:"trigger"},p["default"].createElement("div",{style:t.style,ref:"root",onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,g["default"])(m)},p["default"].createElement("div",(0,c["default"])({ref:"selection",key:"selection",className:s+"-selection\n            "+s+"-selection--"+(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":f},d),u,i&&!n?v:null,n||!t.showArrow?null:p["default"].createElement("span",(0,c["default"])({key:"arrow",className:s+"-arrow",style:w.UNSELECTABLE_STYLE},w.UNSELECTABLE_ATTRIBUTE,{onClick:this.onArrowClick}),p["default"].createElement("b",null)))))}});t["default"]=M,e.exports=t["default"]},131:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(195),s=r(i),l=n(2),u=r(l),c=n(59),d=r(c),p=n(1),f=r(p),h=n(6),m=r(h),y=n(126),v=r(y),g=n(9),b=r(g),C=n(21),P={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},T=f["default"].createClass({displayName:"SelectTrigger",propTypes:{onPopupFocus:p.PropTypes.func,dropdownMatchSelectWidth:p.PropTypes.bool,dropdownAlign:p.PropTypes.object,visible:p.PropTypes.bool,disabled:p.PropTypes.bool,showSearch:p.PropTypes.bool,dropdownClassName:p.PropTypes.string,multiple:p.PropTypes.bool,inputValue:p.PropTypes.string,filterOption:p.PropTypes.any,options:p.PropTypes.any,prefixCls:p.PropTypes.string,popupClassName:p.PropTypes.string,children:p.PropTypes.any},componentDidUpdate:function(){var e=this.props,t=e.visible,n=e.dropdownMatchSelectWidth;if(t){var r=this.getPopupDOMNode();if(r){var a=n?"width":"minWidth";r.style[a]=b["default"].findDOMNode(this).offsetWidth+"px"}}},getInnerMenu:function(){return this.popupMenu&&this.popupMenu.refs.menu},getPopupDOMNode:function(){return this.refs.trigger.getPopupDomNode()},getDropdownElement:function(e){var t=this.props;return f["default"].createElement(v["default"],(0,u["default"])({ref:this.saveMenu},e,{prefixCls:this.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,value:t.value,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle}))},getDropdownTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=this.getDropdownPrefixCls()+"-"+e.animation),t},getDropdownPrefixCls:function(){return this.props.prefixCls+"-dropdown"},saveMenu:function(e){this.popupMenu=e},render:function(){var e,t=this.props,n=t.onPopupFocus,r=(0,s["default"])(t,["onPopupFocus"]),a=r.multiple,i=r.visible,l=r.inputValue,c=r.dropdownAlign,p=r.disabled,h=r.showSearch,y=r.dropdownClassName,v=this.getDropdownPrefixCls(),g=(e={},(0,o["default"])(e,y,!!y),(0,o["default"])(e,v+"--"+(a?"multiple":"single"),1),e),b=this.getDropdownElement({menuItems:r.options,onPopupFocus:n,multiple:a,inputValue:l,visible:i}),T=void 0;return T=p?[]:(0,C.isSingleMode)(r)&&!h?["click"]:["blur"],f["default"].createElement(d["default"],(0,u["default"])({},r,{showAction:p?[]:["click"],hideAction:T,ref:"trigger",popupPlacement:"bottomLeft",builtinPlacements:P,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:r.onDropdownVisibleChange,popup:b,popupAlign:c,popupVisible:i,getPopupContainer:r.getPopupContainer,popupClassName:(0,m["default"])(g),popupStyle:r.dropdownStyle}),r.children)}});t["default"]=T,e.exports=t["default"]},132:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptGroup=t.Option=void 0;var a=n(130),o=r(a),i=n(129),s=r(i),l=n(128),u=r(l);o["default"].Option=s["default"],o["default"].OptGroup=u["default"],t.Option=s["default"],t.OptGroup=u["default"],t["default"]=o["default"]},133:81,134:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={className:s.PropTypes.string,colSpan:s.PropTypes.number,title:s.PropTypes.node,dataIndex:s.PropTypes.string,width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),fixed:s.PropTypes.oneOf([!0,"left","right"]),render:s.PropTypes.func,onCellClick:s.PropTypes.func},t["default"]=l,e.exports=t["default"]},135:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={title:s.PropTypes.node},l.isTableColumnGroup=!0,t["default"]=l,e.exports=t["default"]},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),l=r(s),u=function(){function e(t,n){o(this,e),this._cached={},this.columns=t||this.normalize(n)}return e.prototype.isAnyColumnsFixed=function(){var e=this;return this._cache("isAnyColumnsFixed",function(){return e.columns.some(function(e){return!!e.fixed})})},e.prototype.isAnyColumnsLeftFixed=function(){var e=this;return this._cache("isAnyColumnsLeftFixed",function(){return e.columns.some(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.isAnyColumnsRightFixed=function(){var e=this;return this._cache("isAnyColumnsRightFixed",function(){return e.columns.some(function(e){return"right"===e.fixed})})},e.prototype.leftColumns=function(){var e=this;return this._cache("leftColumns",function(){return e.groupedColumns().filter(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.rightColumns=function(){var e=this;return this._cache("rightColumns",function(){return e.groupedColumns().filter(function(e){return"right"===e.fixed})})},e.prototype.leafColumns=function(){var e=this;return this._cache("leafColumns",function(){return e._leafColumns(e.columns)})},e.prototype.leftLeafColumns=function(){var e=this;return this._cache("leftLeafColumns",function(){return e._leafColumns(e.leftColumns());
})},e.prototype.rightLeafColumns=function(){var e=this;return this._cache("rightLeafColumns",function(){return e._leafColumns(e.rightColumns())})},e.prototype.groupedColumns=function(){var e=this;return this._cache("groupedColumns",function(){var t=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];a[t]=a[t]||[];var o=[],s=function(e){var n=a.length-t;e&&!e.children&&n>1&&(!e.rowSpan||e.rowSpan<n)&&(e.rowSpan=n)};return e.forEach(function(l,u){var c=i({},l);a[t].push(c),r.colSpan=r.colSpan||0,c.children&&c.children.length>0?(c.children=n(c.children,t+1,c,a),r.colSpan=r.colSpan+c.colSpan):r.colSpan++;for(var d=0;d<a[t].length-1;++d)s(a[t][d]);u+1===e.length&&s(c),o.push(c)}),o};return t(e.columns)})},e.prototype.normalize=function(e){var t=this,n=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var r=i({},e.props);e.key&&(r.key=e.key),e.type.isTableColumnGroup&&(r.children=t.normalize(r.children)),n.push(r)}}),n},e.prototype.reset=function(e,t){this.columns=e||this.normalize(t),this._cached={}},e.prototype._cache=function(e,t){return e in this._cached?this._cached[e]:(this._cached[e]=t(),this._cached[e])},e.prototype._leafColumns=function(e){var t=this,n=[];return e.forEach(function(e){e.children?n.push.apply(n,a(t._leafColumns(e.children))):n.push(e)}),n},e}();t["default"]=u,e.exports=t["default"]},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(40),d=r(c),p=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,d["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.expandable,n=e.prefixCls,r=e.onExpand,a=e.needIndentSpaced,o=e.expanded,i=e.record;if(t){var s=o?"expanded":"collapsed";return u["default"].createElement("span",{className:n+"-expand-icon "+n+"-"+s,onClick:function(e){return r(!o,i,e)}})}return a?u["default"].createElement("span",{className:n+"-expand-icon "+n+"-spaced"}):null},t}(u["default"].Component);p.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandable:l.PropTypes.any,expanded:l.PropTypes.bool,needIndentSpaced:l.PropTypes.bool,onExpand:l.PropTypes.func},t["default"]=p,e.exports=t["default"]},138:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(141),f=r(p),h=n(140),m=r(h),y=n(143),v=n(40),g=r(v),b=n(77),C=r(b),P=n(136),T=r(P),w=n(142),_=r(w),S=n(69),x=r(S),O=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.onExpanded=function(e,t,n,a){n&&(n.preventDefault(),n.stopPropagation());var o=r.findExpandedRow(t);if("undefined"==typeof o||e){if(!o&&e){var i=r.getExpandedRows().concat();i.push(r.getRowKey(t,a)),r.onExpandedRowsChange(i)}}else r.onRowDestroy(t,a);r.props.onExpand(e,t)},r.onRowDestroy=function(e,t){var n=r.getExpandedRows().concat(),a=r.getRowKey(e,t),o=-1;n.forEach(function(e,t){e===a&&(o=t)}),o!==-1&&n.splice(o,1),r.onExpandedRowsChange(n)},r.handleWindowResize=function(){r.syncFixedTableRowHeight(),r.setScrollPositionClassName()},r.syncFixedTableRowHeight=function(){var e=r.tableNode.getBoundingClientRect();if(!(void 0!==e.height&&e.height<=0)){var t=r.props.prefixCls,n=r.refs.headTable?r.refs.headTable.querySelectorAll("thead"):r.refs.bodyTable.querySelectorAll("thead"),a=r.refs.bodyTable.querySelectorAll("."+t+"-row")||[],o=[].map.call(n,function(e){return e.getBoundingClientRect().height||"auto"}),i=[].map.call(a,function(e){return e.getBoundingClientRect().height||"auto"});(0,g["default"])(r.state.fixedColumnsHeadRowsHeight,o)&&(0,g["default"])(r.state.fixedColumnsBodyRowsHeight,i)||r.setState({fixedColumnsHeadRowsHeight:o,fixedColumnsBodyRowsHeight:i})}},r.detectScrollTarget=function(e){r.scrollTarget!==e.currentTarget&&(r.scrollTarget=e.currentTarget)},r.handleBodyScroll=function(e){if(e.target===r.scrollTarget){var t=r.props.scroll,n=void 0===t?{}:t,a=r.refs,o=a.headTable,i=a.bodyTable,s=a.fixedColumnsBodyLeft,l=a.fixedColumnsBodyRight;n.x&&e.target.scrollLeft!==r.lastScrollLeft&&(e.target===i&&o?o.scrollLeft=e.target.scrollLeft:e.target===o&&i&&(i.scrollLeft=e.target.scrollLeft),r.setScrollPositionClassName(e.target)),n.y&&(s&&e.target!==s&&(s.scrollTop=e.target.scrollTop),l&&e.target!==l&&(l.scrollTop=e.target.scrollTop),i&&e.target!==i&&(i.scrollTop=e.target.scrollTop)),r.lastScrollLeft=e.target.scrollLeft}},r.handleRowHover=function(e,t){r.store.setState({currentHoverKey:e?t:null})};var a=[],l=[].concat(o(n.data));if(r.columnManager=new T["default"](n.columns,n.children),r.store=(0,_["default"])({currentHoverKey:null}),r.setScrollPosition("left"),n.defaultExpandAllRows)for(var u=0;u<l.length;u++){var c=l[u];a.push(r.getRowKey(c,u)),l=l.concat(c[n.childrenColumnName]||[])}else a=n.expandedRowKeys||n.defaultExpandedRowKeys;return r.state={expandedRowKeys:a,currentHoverKey:null,fixedColumnsHeadRowsHeight:[],fixedColumnsBodyRowsHeight:[]},r}return l(t,e),t.prototype.componentDidMount=function(){this.columnManager.isAnyColumnsFixed()&&(this.handleWindowResize(),this.debouncedWindowResize=(0,y.debounce)(this.handleWindowResize,150),this.resizeEvent=(0,C["default"])(window,"resize",this.debouncedWindowResize))},t.prototype.componentWillReceiveProps=function(e){"expandedRowKeys"in e&&this.setState({expandedRowKeys:e.expandedRowKeys}),e.columns&&e.columns!==this.props.columns?this.columnManager.reset(e.columns):e.children!==this.props.children&&this.columnManager.reset(null,e.children)},t.prototype.componentDidUpdate=function(e){this.columnManager.isAnyColumnsFixed()&&this.handleWindowResize(),e.data.length>0&&0===this.props.data.length&&this.hasScrollX()&&this.resetScrollX()},t.prototype.componentWillUnmount=function(){this.resizeEvent&&this.resizeEvent.remove(),this.debouncedWindowResize&&this.debouncedWindowResize.cancel()},t.prototype.onExpandedRowsChange=function(e){this.props.expandedRowKeys||this.setState({expandedRowKeys:e}),this.props.onExpandedRowsChange(e)},t.prototype.getRowKey=function(e,t){var n=this.props.rowKey,r="function"==typeof n?n(e,t):e[n];return(0,y.warningOnce)(void 0!==r,"Each record in table should have a unique `key` prop,or set `rowKey` to an unique primary key."),void 0===r?t:r},t.prototype.getExpandedRows=function(){return this.props.expandedRowKeys||this.state.expandedRowKeys},t.prototype.getHeader=function(e,t){var n=this.props,r=n.showHeader,a=n.expandIconAsCell,o=n.prefixCls,i=this.getHeaderRows(e);a&&"right"!==t&&i[0].unshift({key:"rc-table-expandIconAsCell",className:o+"-expand-icon-th",title:"",rowSpan:i.length});var s=t?this.getHeaderRowStyle(e,i):null;return r?d["default"].createElement(m["default"],{prefixCls:o,rows:i,rowStyle:s}):null},t.prototype.getHeaderRows=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2];return r=r||[],r[n]=r[n]||[],e.forEach(function(e){if(e.rowSpan&&r.length<e.rowSpan)for(;r.length<e.rowSpan;)r.push([]);var a={key:e.key,className:e.className||"",children:e.title};e.children&&t.getHeaderRows(e.children,n+1,r),"colSpan"in e&&(a.colSpan=e.colSpan),"rowSpan"in e&&(a.rowSpan=e.rowSpan),0!==a.colSpan&&r[n].push(a)}),r.filter(function(e){return e.length>0})},t.prototype.getExpandedRow=function(e,t,n,r,a){var o=this.props,i=o.prefixCls,s=o.expandIconAsCell,l=void 0;l="left"===a?this.columnManager.leftLeafColumns().length:"right"===a?this.columnManager.rightLeafColumns().length:this.columnManager.leafColumns().length;var u=[{key:"extra-row",render:function(){return{props:{colSpan:l},children:"right"!==a?t:"&nbsp;"}}}];return s&&"right"!==a&&u.unshift({key:"expand-icon-placeholder",render:function(){return null}}),d["default"].createElement(f["default"],{columns:u,visible:n,className:r,key:e+"-extra-row",prefixCls:i+"-expanded-row",indent:1,expandable:!1,store:this.store})},t.prototype.getRowsByData=function(e,t,n,r,a){for(var o=this.props,i=o.childrenColumnName,s=o.expandedRowRender,l=o.expandRowByClick,c=this.state.fixedColumnsBodyRowsHeight,p=[],h=o.rowClassName,m=o.rowRef,y=o.expandedRowClassName,v=o.data.some(function(e){return e[i]}),g=o.onRowClick,b=o.onRowDoubleClick,C="right"!==a&&o.expandIconAsCell,P="right"!==a?o.expandIconColumnIndex:-1,T=0;T<e.length;T++){var w=e[T],_=this.getRowKey(w,T),S=w[i],x=this.isRowExpanded(w,T),O=void 0;s&&x&&(O=s(w,T,n));var k=h(w,T,n),M={};this.columnManager.isAnyColumnsFixed()&&(M.onHover=this.handleRowHover);var E=a&&c[T]?c[T]:null,D=void 0;D="left"===a?this.columnManager.leftLeafColumns():"right"===a?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),p.push(d["default"].createElement(f["default"],u({indent:n,indentSize:o.indentSize,needIndentSpaced:v,className:k,record:w,expandIconAsCell:C,onDestroy:this.onRowDestroy,index:T,visible:t,expandRowByClick:l,onExpand:this.onExpanded,expandable:S||s,expanded:x,prefixCls:o.prefixCls+"-row",childrenColumnName:i,columns:D,expandIconColumnIndex:P,onRowClick:g,onRowDoubleClick:b,height:E},M,{key:_,hoverKey:_,ref:m(w,T,n),store:this.store})));var N=t&&x;O&&x&&p.push(this.getExpandedRow(_,O,N,y(w,T,n),a)),S&&(p=p.concat(this.getRowsByData(S,N,n+1,r,a)))}return p},t.prototype.getRows=function(e,t){return this.getRowsByData(this.props.data,!0,0,e,t)},t.prototype.getColGroup=function(e,t){var n=[];this.props.expandIconAsCell&&"right"!==t&&n.push(d["default"].createElement("col",{className:this.props.prefixCls+"-expand-icon-col",key:"rc-table-expand-icon-col"}));var r=void 0;return r="left"===t?this.columnManager.leftLeafColumns():"right"===t?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),n=n.concat(r.map(function(e){return d["default"].createElement("col",{key:e.key,style:{width:e.width,minWidth:e.width}})})),d["default"].createElement("colgroup",null,n)},t.prototype.getLeftFixedTable=function(){return this.getTable({columns:this.columnManager.leftColumns(),fixed:"left"})},t.prototype.getRightFixedTable=function(){return this.getTable({columns:this.columnManager.rightColumns(),fixed:"right"})},t.prototype.getTable=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.columns,r=t.fixed,a=this.props,o=a.prefixCls,i=a.scroll,s=void 0===i?{}:i,l=a.getBodyWrapper,c=this.props.useFixedHeader,p=u({},this.props.bodyStyle),f={},h="";(s.x||r)&&(h=o+"-fixed",p.overflowX=p.overflowX||"auto");var m={};if(s.y){r?(m.maxHeight=p.maxHeight||s.y,m.overflowY=p.overflowY||"scroll"):p.maxHeight=p.maxHeight||s.y,p.overflowY=p.overflowY||"scroll",c=!0;var v=(0,y.measureScrollbar)();v>0&&((r?p:f).marginBottom="-"+v+"px",(r?p:f).paddingBottom="0px")}var g=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={};!r&&s.x&&(s.x===!0?i.tableLayout="fixed":i.width=s.x);var u=a?l(d["default"].createElement("tbody",{className:o+"-tbody"},e.getRows(n,r))):null;return d["default"].createElement("table",{className:h,style:i,key:"table"},e.getColGroup(n,r),t?e.getHeader(n,r):null,u)},b=void 0;c&&(b=d["default"].createElement("div",{key:"headTable",className:o+"-header",ref:r?null:"headTable",style:f,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!0,!1)));var C=d["default"].createElement("div",{key:"bodyTable",className:o+"-body",style:p,ref:"bodyTable",onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c));if(r&&n.length){var P=void 0;"left"===n[0].fixed||n[0].fixed===!0?P="fixedColumnsBodyLeft":"right"===n[0].fixed&&(P="fixedColumnsBodyRight"),delete p.overflowX,delete p.overflowY,C=d["default"].createElement("div",{key:"bodyTable",className:o+"-body-outer",style:u({},p)},d["default"].createElement("div",{className:o+"-body-inner",style:m,ref:P,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c)))}return[b,C]},t.prototype.getTitle=function(){var e=this.props,t=e.title,n=e.prefixCls;return t?d["default"].createElement("div",{className:n+"-title",key:"title"},t(this.props.data)):null},t.prototype.getFooter=function(){var e=this.props,t=e.footer,n=e.prefixCls;return t?d["default"].createElement("div",{className:n+"-footer",key:"footer"},t(this.props.data)):null},t.prototype.getEmptyText=function(){var e=this.props,t=e.emptyText,n=e.prefixCls,r=e.data;return r.length?null:d["default"].createElement("div",{className:n+"-placeholder",key:"emptyText"},t())},t.prototype.getHeaderRowStyle=function(e,t){var n=this.state.fixedColumnsHeadRowsHeight,r=n[0];return r&&e?"auto"===r?{height:"auto"}:{height:r/t.length}:null},t.prototype.setScrollPosition=function(e){if(this.scrollPosition=e,this.tableNode){var t=this.props.prefixCls;"both"===e?(0,x["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-left").add(t+"-scroll-position-right"):(0,x["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-"+e)}},t.prototype.setScrollPositionClassName=function(e){var t=e||this.refs.bodyTable,n=0===t.scrollLeft,r=t.scrollLeft+1>=t.children[0].getBoundingClientRect().width-t.getBoundingClientRect().width;n&&r?this.setScrollPosition("both"):n?this.setScrollPosition("left"):r?this.setScrollPosition("right"):"middle"!==this.scrollPosition&&this.setScrollPosition("middle")},t.prototype.resetScrollX=function(){this.refs.headTable&&(this.refs.headTable.scrollLeft=0),this.refs.bodyTable&&(this.refs.bodyTable.scrollLeft=0)},t.prototype.findExpandedRow=function(e,t){var n=this,r=this.getExpandedRows().filter(function(r){return r===n.getRowKey(e,t)});return r[0]},t.prototype.isRowExpanded=function(e,t){return"undefined"!=typeof this.findExpandedRow(e,t)},t.prototype.hasScrollX=function(){var e=this.props.scroll,t=void 0===e?{}:e;return"x"in t},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.prefixCls;t.className&&(r+=" "+t.className),(t.useFixedHeader||t.scroll&&t.scroll.y)&&(r+=" "+n+"-fixed-header"),r+="both"===this.scrollPosition?" "+n+"-scroll-position-left "+n+"-scroll-position-right":" "+n+"-scroll-position-"+this.scrollPosition;var a=this.columnManager.isAnyColumnsFixed()||t.scroll.x||t.scroll.y,o=[this.getTable({columns:this.columnManager.groupedColumns()}),this.getEmptyText(),this.getFooter()],i=a?d["default"].createElement("div",{className:n+"-scroll"},o):o;return d["default"].createElement("div",{ref:function(t){return e.tableNode=t},className:r,style:t.style},this.getTitle(),d["default"].createElement("div",{className:n+"-content"},i,this.columnManager.isAnyColumnsLeftFixed()&&d["default"].createElement("div",{className:n+"-fixed-left"},this.getLeftFixedTable()),this.columnManager.isAnyColumnsRightFixed()&&d["default"].createElement("div",{className:n+"-fixed-right"},this.getRightFixedTable())))},t}(d["default"].Component);O.propTypes={data:c.PropTypes.array,expandIconAsCell:c.PropTypes.bool,defaultExpandAllRows:c.PropTypes.bool,expandedRowKeys:c.PropTypes.array,defaultExpandedRowKeys:c.PropTypes.array,useFixedHeader:c.PropTypes.bool,columns:c.PropTypes.array,prefixCls:c.PropTypes.string,bodyStyle:c.PropTypes.object,style:c.PropTypes.object,rowKey:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.func]),rowClassName:c.PropTypes.func,expandedRowClassName:c.PropTypes.func,childrenColumnName:c.PropTypes.string,onExpand:c.PropTypes.func,onExpandedRowsChange:c.PropTypes.func,indentSize:c.PropTypes.number,onRowClick:c.PropTypes.func,onRowDoubleClick:c.PropTypes.func,expandIconColumnIndex:c.PropTypes.number,showHeader:c.PropTypes.bool,title:c.PropTypes.func,footer:c.PropTypes.func,emptyText:c.PropTypes.func,scroll:c.PropTypes.object,rowRef:c.PropTypes.func,getBodyWrapper:c.PropTypes.func,children:c.PropTypes.node},O.defaultProps={data:[],useFixedHeader:!1,expandIconAsCell:!1,defaultExpandAllRows:!1,defaultExpandedRowKeys:[],rowKey:"key",rowClassName:function(){return""},expandedRowClassName:function(){return""},onExpand:function(){},onExpandedRowsChange:function(){},onRowClick:function(){},onRowDoubleClick:function(){},prefixCls:"rc-table",bodyStyle:{},style:{},childrenColumnName:"children",indentSize:15,expandIconColumnIndex:0,showHeader:!0,scroll:{},rowRef:function(){return null},getBodyWrapper:function(e){return e},emptyText:function(){return"No Data"}},t["default"]=O,e.exports=t["default"]},139:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(204),d=r(c),p=function(e){function t(){var n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props,n=t.record,a=t.column.onCellClick;a&&a(n,e)},a=n,i(r,a)}return s(t,e),t.prototype.isInvalidRenderCellText=function(e){return e&&!u["default"].isValidElement(e)&&"[object Object]"===Object.prototype.toString.call(e)},t.prototype.render=function n(){var e=this.props,t=e.record,r=e.indentSize,a=e.prefixCls,o=e.indent,i=e.index,s=e.expandIcon,l=e.column,c=l.dataIndex,n=l.render,p=l.className,f=void 0===p?"":p,h=void 0;h="number"==typeof c?(0,d["default"])(t,c):c&&0!==c.length?(0,d["default"])(t,c):t;var m=void 0,y=void 0,v=void 0;n&&(h=n(h,t,i),this.isInvalidRenderCellText(h)&&(m=h.props||{},v=m.rowSpan,y=m.colSpan,h=h.children)),this.isInvalidRenderCellText(h)&&(h=null);var g=s?u["default"].createElement("span",{style:{paddingLeft:r*o+"px"},className:a+"-indent indent-level-"+o}):null;return 0===v||0===y?null:u["default"].createElement("td",{colSpan:y,rowSpan:v,className:f,onClick:this.handleClick},g,s,h)},t}(u["default"].Component);p.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,index:l.PropTypes.number,indent:l.PropTypes.number,indentSize:l.PropTypes.number,column:l.PropTypes.object,expandIcon:l.PropTypes.node},t["default"]=p,e.exports=t["default"]},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),c=r(u),d=n(40),p=r(d),f=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,p["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.rowStyle,r=e.rows;return c["default"].createElement("thead",{className:t+"-thead"},r.map(function(e,t){return c["default"].createElement("tr",{key:t,style:n},e.map(function(e,t){return c["default"].createElement("th",l({},e,{key:t}))}))}))},t}(c["default"].Component);f.propTypes={prefixCls:u.PropTypes.string,rowStyle:u.PropTypes.object,rows:u.PropTypes.array},t["default"]=f,e.exports=t["default"]},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(139),d=r(c),p=n(137),f=r(p),h=function(e){function t(){var n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.state={hovered:!1},r.onRowClick=function(e){var t=r.props,n=t.record,a=t.index,o=t.onRowClick,i=t.expandable,s=t.expandRowByClick,l=t.expanded,u=t.onExpand;i&&s&&u(!l,n,e,a),o(n,a,e)},r.onRowDoubleClick=function(e){var t=r.props,n=t.record,a=t.index,o=t.onRowDoubleClick;o(n,a,e)},r.onMouseEnter=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!0,n)},r.onMouseLeave=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!1,n)},a=n,i(r,a)}return s(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.store,r=t.hoverKey;this.unsubscribe=n.subscribe(function(){n.getState().currentHoverKey===r?e.setState({hovered:!0}):e.state.hovered===!0&&e.setState({hovered:!1})})},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.record,n=e.onDestroy,r=e.index;n(t,r),this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.columns,r=e.record,a=e.height,o=e.visible,i=e.index,s=e.expandIconColumnIndex,l=e.expandIconAsCell,c=e.expanded,p=e.expandRowByClick,h=e.expandable,m=e.onExpand,y=e.needIndentSpaced,v=e.indent,g=e.indentSize,b=this.props.className;this.state.hovered&&(b+=" "+t+"-hover");for(var C=[],P=u["default"].createElement(f["default"],{expandable:h,prefixCls:t,onExpand:m,needIndentSpaced:y,expanded:c,record:r}),T=0;T<n.length;T++){l&&0===T&&C.push(u["default"].createElement("td",{className:t+"-expand-icon-cell",key:"rc-table-expand-icon-cell"},P));var w=!l&&!p&&T===s;C.push(u["default"].createElement(d["default"],{prefixCls:t,record:r,indentSize:g,indent:v,index:i,column:n[T],key:n[T].key,expandIcon:w?P:null}))}var _={height:a};return o||(_.display="none"),u["default"].createElement("tr",{onClick:this.onRowClick,onDoubleClick:this.onRowDoubleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:t+" "+b+" "+t+"-level-"+v,style:_},C)},t}(u["default"].Component);h.propTypes={onDestroy:l.PropTypes.func,onRowClick:l.PropTypes.func,onRowDoubleClick:l.PropTypes.func,record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandIconColumnIndex:l.PropTypes.number,onHover:l.PropTypes.func,columns:l.PropTypes.array,height:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),visible:l.PropTypes.bool,index:l.PropTypes.number,hoverKey:l.PropTypes.any,expanded:l.PropTypes.bool,expandable:l.PropTypes.any,onExpand:l.PropTypes.func,needIndentSpaced:l.PropTypes.bool,className:l.PropTypes.string,indent:l.PropTypes.number,indentSize:l.PropTypes.number,expandIconAsCell:l.PropTypes.bool,expandRowByClick:l.PropTypes.bool,store:l.PropTypes.object.isRequired},h.defaultProps={onRowClick:function(){},onRowDoubleClick:function(){},onDestroy:function(){},expandIconColumnIndex:0,expandRowByClick:!1,onHover:function(){}},t["default"]=h,e.exports=t["default"]},142:function(e,t){"use strict";function n(e){function t(e){o=r({},o,e);for(var t=0;t<i.length;t++)i[t]()}function n(){return o}function a(e){return i.push(e),function(){var t=i.indexOf(e);i.splice(t,1)}}var o=e,i=[];return{setState:t,getState:n,subscribe:a}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){if("undefined"==typeof document||"undefined"==typeof window)return 0;if(u)return u;var e=document.createElement("div");for(var t in c)c.hasOwnProperty(t)&&(e.style[t]=c[t]);document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),u=n}function o(e,t,n){function r(){var r=this,o=arguments;o[0]&&o[0].persist&&o[0].persist();var i=function(){a=null,n||e.apply(r,o)},s=n&&!a;clearTimeout(a),a=setTimeout(i,t),s&&e.apply(r,o)}var a=void 0;return r.cancel=function(){a&&(clearTimeout(a),a=null)},r}function i(e,t,n){d[t]||((0,l["default"])(e,t,n),d[t]=!e)}Object.defineProperty(t,"__esModule",{value:!0}),t.measureScrollbar=a,t.debounce=o,t.warningOnce=i;var s=n(81),l=r(s),u=void 0,c={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"},d={}},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=[];return i["default"].Children.forEach(e,function(e){t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o);e.exports=t["default"]},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};n.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},n.isCharacterKey=function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(window.navigation.userAgent.indexOf("WebKit")!==-1&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},t["default"]=n,e.exports=t["default"]},153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(26),n(20)),o=r(a),i=(n(23),n(11)),s=r(i),l=(n(25),n(147)),u=r(l),c=(n(35),n(27)),d=r(c),p=n(2),f=r(p),h=n(3),m=r(h),y=n(5),v=r(y),g=n(4),b=r(g),C=n(1),P=r(C),T=n(9),w=r(T),_=n(159),S=r(_),x=function(e){function t(n){(0,m["default"])(this,t);var r=(0,v["default"])(this,e.call(this,n));r.handleSearch=function(){var e={keyword:w["default"].findDOMNode(r.refs.searchInput).value};r.props.select&&(e.field=r.state.selectValue),r.props.onSearch&&r.props.onSearch(e)},r.handleInputChange=function(e){r.setState((0,f["default"])({},r.state,{clearVisible:""!==e.target.value}))},r.handeleSelectChange=function(e){r.setState((0,f["default"])({},r.state,{selectValue:e}))},r.handleClearInput=function(){w["default"].findDOMNode(r.refs.searchInput).value="",r.setState({clearVisible:!1}),r.handleSearch()};var a=r.props,o=a.select,i=a.selectProps;return r.state={clearVisible:!1,selectValue:o&&i?i.defaultValue:""},r}return(0,b["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.select,r=e.selectOptions,a=e.selectProps,i=e.style,l=e.keyword,c=this.state.clearVisible;return P["default"].createElement(u["default"].Group,{compact:!0,size:t,className:S["default"].search,style:i},n&&P["default"].createElement(d["default"],(0,f["default"])({ref:"searchSelect",onChange:this.handeleSelectChange,size:t},a),r&&r.map(function(e,t){return P["default"].createElement(d["default"].Option,{value:e.value,key:t},e.name||e.value)})),P["default"].createElement(u["default"],{ref:"searchInput",size:t,onChange:this.handleInputChange,onPressEnter:this.handleSearch,defaultValue:l}),P["default"].createElement(o["default"],{
size:t,type:"primary",onClick:this.handleSearch},P["default"].createElement(s["default"],{type:"search"}),"\u641c\u7d22"),c&&P["default"].createElement(s["default"],{type:"cross",onClick:this.handleClearInput}))},t}(P["default"].Component);t["default"]=x,e.exports=t["default"]},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(165),s=n(160),l=(r(s),[{opacity:0,x:30,backgroundColor:"#fffeee",duration:0},{height:0,duration:200,type:"from",delay:250,ease:"easeOutQuad",onComplete:function(e){e.target.style.height="auto"}},{opacity:1,x:0,duration:250,ease:"easeOutQuad"},{delay:1e3,backgroundColor:"#fff"}]),u=[{duration:250,x:-30,opacity:0},{height:0,duration:200,ease:"easeOutQuad"}],c=function(e){var t=e.body,n=e.page,r=void 0===n?1:n,a=e.current;return a!=+r?t:o["default"].createElement(i.TweenOneGroup,{component:"tbody",className:t.props.className,enter:l,leave:u,appear:!1},t.props.children)};c.propTypes={page:a.PropTypes.any,current:a.PropTypes.number.isRequired},t["default"]=c,e.exports=t["default"]},158:function(e,t,n){"use strict";function r(){this.clear()}/*!
	 * Check to see if the MemoizeMap has recorded a result of the two operands
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @returns {Boolean|null} result
	*/
function a(e,t,n){if(!n||C(e)||C(t))return null;var r=n.get(e);if(r){var a=r.get(t);if("boolean"==typeof a)return a}return null}/*!
	 * Set the result of the equality into the MemoizeMap
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @param {Boolean} result
	*/
function o(e,t,n,r){if(n&&!C(e)&&!C(t)){var a=n.get(e);a?a.set(t,r):(a=new T,a.set(t,r),n.set(e,a))}}function i(e,t,n){if(n&&n.comparator)return l(e,t,n);var r=s(e,t);return null!==r?r:l(e,t,n)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t||!C(e)&&!C(t)&&null}/*!
	 * The main logic of the `deepEqual` function.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (optional) Additional options
	 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
	 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
	    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
	    references to blow the stack.
	 * @return {Boolean} equal match
	*/
function l(e,t,n){n=n||{},n.memoize=n.memoize!==!1&&(n.memoize||new T);var r=n&&n.comparator,i=a(e,t,n.memoize);if(null!==i)return i;var l=a(t,e,n.memoize);if(null!==l)return l;if(r){var c=r(e,t);if(c===!1||c===!0)return o(e,t,n.memoize,c),c;var d=s(e,t);if(null!==d)return d}var p=P(e);if(p!==P(t))return o(e,t,n.memoize,!1),!1;o(e,t,n.memoize,!0);var f=u(e,t,p,n);return o(e,t,n.memoize,f),f}function u(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return i(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return p(e,t,r);case"RegExp":return c(e,t);case"Generator":return f(e,t,r);case"DataView":return p(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return p(new Uint8Array(e),new Uint8Array(t),r);case"Set":return d(e,t,r);case"Map":return d(e,t,r);default:return b(e,t,r)}}/*!
	 * Compare two Regular Expressions for equality.
	 *
	 * @param {RegExp} leftHandOperand
	 * @param {RegExp} rightHandOperand
	 * @return {Boolean} result
	 */
function c(e,t){return e.toString()===t.toString()}/*!
	 * Compare two Sets/Maps for equality. Faster than other equality functions.
	 *
	 * @param {Set} leftHandOperand
	 * @param {Set} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function d(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var r=[],a=[];return e.forEach(function(e,t){r.push([e,t])}),t.forEach(function(e,t){a.push([e,t])}),p(r.sort(),a.sort(),n)}/*!
	 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function p(e,t,n){var r=e.length;if(r!==t.length)return!1;if(0===r)return!0;for(var a=-1;++a<r;)if(i(e[a],t[a],n)===!1)return!1;return!0}/*!
	 * Simple equality for generator objects such as those returned by generator functions.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function f(e,t,n){return p(y(e),y(t),n)}/*!
	 * Determine if the given object has an @@iterator function.
	 *
	 * @param {Object} target
	 * @return {Boolean} `true` if the object has an @@iterator function.
	 */
function h(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&"undefined"!=typeof Symbol.iterator&&"function"==typeof e[Symbol.iterator]}/*!
	 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
	 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of entries from the @@iterator function
	 */
function m(e){if(h(e))try{return y(e[Symbol.iterator]())}catch(t){return[]}return[]}/*!
	 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
	 *
	 * @param {Generator} target
	 * @returns {Array} an array of entries from the Generator.
	 */
function y(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
	 * Gets all own and inherited enumerable keys from a target.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of own and inherited enumerable keys from the target.
	 */
function v(e){var t=[];for(var n in e)t.push(n);return t}/*!
	 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
	 * each key. If any value of the given key is not equal, the function will return false (early).
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function g(e,t,n,r){var a=n.length;if(0===a)return!0;for(var o=0;o<a;o+=1)if(i(e[n[o]],t[n[o]],r)===!1)return!1;return!0}/*!
	 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
	 * for each enumerable key in the object.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function b(e,t,n){var r=v(e),a=v(t);if(r.length&&r.length===a.length)return r.sort(),a.sort(),p(r,a)!==!1&&g(e,t,r,n);var o=m(e),i=m(t);return o.length&&o.length===i.length?(o.sort(),i.sort(),p(o,i,n)):0===r.length&&0===o.length&&0===a.length&&0===i.length}/*!
	 * Returns true if the argument is a primitive.
	 *
	 * This intentionally returns true for all objects that can be compared by reference,
	 * including functions and symbols.
	 *
	 * @param {Mixed} value
	 * @return {Boolean} result
	 */
function C(e){return null===e||"object"!=typeof e}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var P=n(173);r.prototype={clear:function(){return this.keys=[],this.values=[],this},set:function(e,t){var n=this.keys.indexOf(e);return n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},get:function(e){return this.values[this.keys.indexOf(e)]},"delete":function(e){var t=this.keys.indexOf(e);return t>=0&&(this.values=this.values.slice(0,t).concat(this.values.slice(t+1)),this.keys=this.keys.slice(0,t).concat(this.keys.slice(t+1))),this}};var T=null;T="function"==typeof WeakMap?WeakMap:r,/*!
	 * Primary Export
	 */
e.exports=i,e.exports.MemoizeMap=T},159:function(e,t){e.exports={search:"search___p04KN"}},160:10,163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){return{duration:e.duration||0===e.duration?e.duration:y,delay:e.delay||v,ease:"function"==typeof e.ease?e.ease:l["default"][e.ease||m],onUpdate:e.onUpdate||a,onComplete:e.onComplete||a,onStart:e.onStart||a,onRepeat:e.onRepeat||a,repeat:e.repeat||0,repeatDelay:e.repeatDelay||0,yoyo:e.yoyo||!1,type:e.type||"to",initTime:t,appearTo:"number"==typeof e.appearTo?e.appearTo:null}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(66),l=r(s),u=n(39),c=r(u),d=n(166),p=r(d),f=n(41),h=n(22),m="easeInOutQuad",y=450,v=0;c["default"].push(p["default"]);var g=function(e,t,n){var r=this;this.target=e,this.attr=n.attr||"style",this.willChange=n.willChange,this.totalTime=0,this.progressTime=0,this.defaultData=[],this.start={},this.onStart={},this.startDefaultData={};var a=[];t.forEach(function(e,t){var n=i({},e);"style"===r.attr?(a[t]={},Object.keys(n).forEach(function(e){e in o({},0)&&(a[t][e]=n[e],delete n[e])}),a[t].style=n,r.startDefaultData.style=r.target.getAttribute("style")):"attr"===r.attr&&(Object.keys(n).forEach(function(t){if("style"===t&&Array.isArray(e[t]))throw new Error("Style should be the object.");"bezier"===t?(n.style=i({},n.style,{bezier:n[t]}),delete n[t],r.startDefaultData.style=r.target.getAttribute("style")):r.startDefaultData[t]=r.target.getAttribute(t)}),a[t]=n)}),this.tween={},this.perFrame=Math.round(1e3/60),this.register=!1,this.tinyNum=1e-10,this.setDefaultData(a)},b=g.prototype;b.setDefaultData=function(e){var t=this,n=0,r=!1,a=e.map(function(e){var a="number"==typeof e.appearTo;a||(n+=e.delay||0);var i=(e.appearTo||0)+(e.delay||0),s=o(e,a?i:n);s.vars={},Object.keys(e).forEach(function(n){if(!(n in s)){var r=e[n];if(n in c["default"])s.vars[n]=new c["default"][n](t.target,r,s.type);else if(n.match(/color/i)||"stroke"===n||"fill"===n)s.vars[n]={type:"color",vars:(0,f.parseColor)(r)};else if("number"==typeof r||r.split(/[,|\s]/g).length<=1){var a=parseFloat(r),o=r.toString().replace(/[^a-z|%]/g,""),i=r.toString().replace(/[^+|=|-]/g,"");s.vars[n]={unit:o,vars:a,count:i}}else("d"===n||"points"===n)&&"SVGMorph"in c["default"]&&(s.vars[n]=new c["default"].SVGMorph(t.target,r,n))}}),s.yoyo&&!s.repeat&&console.warn("Warning: yoyo must be used together with repeat;"),s.repeat===-1&&(r=!0);var l=s.repeat===-1?0:s.repeat;if(a){var u=e.appearTo+(e.delay||0)+s.duration*(l+1)+s.repeatDelay*l;n=u>=n?u:n}else s.delay<-s.duration?n-=s.delay:n+=s.duration*(l+1)+s.repeatDelay*l;return s.mode="",s});this.totalTime=r?Number.MAX_VALUE:n,this.defaultData=a},b.getAnimStartData=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){if(r in c["default"]||"attr"===t.attr&&("d"===r||"points"===r))return void(n[r]=e[r].getAnimStart(t.willChange));if("attr"!==t.attr)n[r]=t.target[r]||0;else{var a=t.target.getAttribute(r),o="null"!==a&&a?a:0;if(r.match(/color/i)||"stroke"===r||"fill"===r)o=o||"stroke"!==r?o:"rgba(255, 255, 255, 0)",o=(0,f.parseColor)(o),n[r]=o;else if(parseFloat(o)||0===parseFloat(o)||0===o){var i=o.toString().replace(/[^a-z|%]/g,"");n[r]=i!==e[r].unit?(0,h.startConvertToEndUnit)(t.target,r,parseFloat(o),i,e[r].unit):parseFloat(o)}}}),n},b.setAnimData=function(e){var t=this;Object.keys(e).forEach(function(n){n in c["default"]||"attr"===t.attr&&("d"===n||"points"===n)||(t.target[n]=e[n])})},b.setRatio=function(e,t,n){var r=this;Object.keys(t.vars).forEach(function(a){if(a in c["default"]||"attr"===r.attr&&("d"===a||"points"===a))return void t.vars[a].setRatio(e,r.tween);var o=t.vars[a],i=r.start[n][a],s=void 0;"attr"===r.attr&&(o.type?"color"===o.type&&(3===o.vars.length&&4===i.length&&(o.vars[3]=1),s=o.vars.map(function(t,n){var r=i[n]||0;return(t-r)*e+r}),r.target.setAttribute(a,(0,f.getColor)(s))):(s="="===o.unit.charAt(1)?i+o.vars*e+o.unit:(o.vars-i)*e+i+o.unit,r.target.setAttribute(a,s)))}),this.setAnimData(this.tween)},b.render=function(){var e=this;this.defaultData.forEach(function(t,n){var r=t.initTime,a=(0,f.toFixed)(t.duration),o=Math.ceil((e.progressTime-r)/(a+t.repeatDelay))-1;if(o=o<0?0:o,t.repeat){if(t.repeat<o&&t.repeat!==-1)return;(t.repeat||t.repeat<=o)&&(r+=o*(a+t.repeatDelay))}var s=t.yoyo&&o%2||"from"===t.type?1:0,l=t.yoyo&&o%2||"from"===t.type?0:1,u=(0,f.toFixed)(e.progressTime-r),c=t.delay>=0?t.delay:-t.delay,d="from"===t.type?c:0;if(u+d>-e.perFrame&&!e.start[n]&&(e.start[n]=e.getAnimStartData(t.vars),!e.register&&u<=e.perFrame)){e.register=!0;var p=c?0:t.ease(e.tinyNum,s,l,e.tinyNum),h=a?t.ease(u<0?0:u,s,l,a):p,m=u/(a+d)>1?1:h;e.setRatio(m,t,n)}var y={index:n,target:e.target};if(t.repeat&&o>0&&u+d>=0&&u<e.perFrame&&t.onRepeat(y),u<0&&u+d>-e.perFrame)e.setRatio("from"===t.type?1:0,t,n);else if(u>=a&&"onComplete"!==t.mode){var v=a?t.ease(a,s,l,a):t.ease(e.tinyNum,s,l,e.tinyNum);e.setRatio(v,t,n),"reset"!==t.mode&&t.onComplete(y),t.mode="onComplete"}else if(u>=0&&u<a){t.mode=u<e.perFrame&&!e.onStart[n]?"onStart":"onUpdate",u=u<0?0:u,u=u>a?a:u;var g=t.ease(u,s,l,a);e.setRatio(g,t,n),e.onStart[n]=!0,u<=e.perFrame?t.onStart(y):t.onUpdate(i({ratio:g},y))}u>=0&&u<a+e.perFrame&&e.onChange(i({moment:e.progressTime,mode:t.mode},y))})},b.frame=function(e){this.progressTime=e,this.render()},b.resetAnimData=function(){this.tween={},this.start={},this.onStart={}},b.resetDefaultStyle=function(){var e=this;this.tween={},this.defaultData=this.defaultData.map(function(e){return e.mode="reset",e}),Object.keys(this.startDefaultData).forEach(function(t){t in o({},0)||e.target.setAttribute(t,e.startDefaultData[t])})},b.onChange=a,t["default"]=g,e.exports=t["default"]},164:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(65),f=r(p),h=n(22),m=function(e){function t(){o(this,t);var n=i(this,e.apply(this,arguments));y.call(n),n.keysToEnter=[],n.keysToLeave=[],n.onEnterBool=!1,n.isTween={};var r=(0,h.toArrayChildren)((0,h.getChildrenFromProps)(n.props));return n.state={children:r},n}return s(t,e),t.prototype.componentDidMount=function(){this.onEnterBool=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=(0,h.toArrayChildren)(e.children),r=(0,h.toArrayChildren)(this.state.children),a=(0,h.mergeChildren)(r,n);this.keysToEnter=[],this.keysToLeave=[],n.forEach(function(e){if(e){var n=e.key,a=(0,h.findChildInChildrenByKey)(r,n);!a&&n&&t.keysToEnter.push(n)}}),r.forEach(function(e){if(e){var r=e.key,a=(0,h.findChildInChildrenByKey)(n,r);!a&&r&&t.keysToLeave.push(r)}}),this.setState({children:a})},t.prototype.render=function(){var e=this.getChildrenToRender(this.state.children);if(!this.props.component)return e[0]||null;var t=u({},this.props);return["component","appear","enter","leave","animatingClassName","onEnd","resetStyleBool","willChange"].forEach(function(e){return delete t[e]}),(0,c.createElement)(this.props.component,t,e)},t}(c.Component),y=function(){var e=this;this.onChange=function(t,n,r,a){var o=(0,h.dataToArray)(t).length,i=e.props.animatingClassName,s=a.target,l="enter"===r||"appear"===r;if("onStart"===a.mode)s.className=s.className.replace(i[l?1:0],"").trim(),s.className.indexOf(i[l?0:1])===-1&&(s.className=(s.className+" "+i[l?0:1]).trim());else if(a.index===o-1&&"onComplete"===a.mode){var u=e.state.children;"enter"===r?e.keysToEnter.splice(e.keysToEnter.indexOf(n),1):"leave"===r&&(u=e.state.children.filter(function(e){return n!==e.key}),e.keysToLeave.splice(e.keysToLeave.indexOf(n),1)),s.className=s.className.replace(i[l?0:1],"").trim(),delete e.isTween[n],e.setState({children:u});var c={key:n,type:r};e.props.onEnd(c)}},this.getCoverAnimation=function(t,n,r){var a=void 0,o=void 0;if(a="leave"===r?e.props.leave:e.props.enter,"appear"===r){var i=(0,h.transformArguments)(e.props.appear,t.key,n);a=i&&e.props.enter||null}o=e.onChange.bind(e,a,t.key,r);var s=d["default"].createElement(f["default"],u({},t.props,{willChange:e.props.willChange,key:t.key,component:t.type,animation:(0,h.transformArguments)(a,t.key,n),onChange:o,resetStyleBool:e.props.resetStyleBool}));return(e.keysToEnter.concat(e.keysToLeave).indexOf(t.key)>=0||!e.onEnterBool&&a)&&(e.isTween[t.key]=r),s},this.getChildrenToRender=function(t){return t.map(function(t,n){if(!t||!t.key)return t;var r=t.key;return e.keysToLeave.indexOf(r)>=0?e.getCoverAnimation(t,n,"leave"):e.keysToEnter.indexOf(r)>=0||e.isTween[t.key]&&e.keysToLeave.indexOf(r)===-1?e.getCoverAnimation(t,n,"enter"):e.onEnterBool?e.isTween[t.key]&&e.getCoverAnimation(t,n,e.isTween[t.key])||d["default"].createElement(f["default"],u({},t.props,{component:t.type,key:t.key})):e.getCoverAnimation(t,n,"appear")})}},v=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]),g=c.PropTypes.oneOfType([v,c.PropTypes.func]);m.propTypes={component:c.PropTypes.any,children:c.PropTypes.any,style:c.PropTypes.object,appear:c.PropTypes.bool,enter:g,leave:g,animatingClassName:c.PropTypes.array,onEnd:c.PropTypes.func,willChange:c.PropTypes.bool,resetStyleBool:c.PropTypes.bool},m.defaultProps={component:"div",appear:!0,animatingClassName:["tween-one-entering","tween-one-leaving"],enter:{x:50,opacity:0,type:"from"},leave:{x:-50,opacity:0},onEnd:l,willChange:!0,resetStyleBool:!0},t["default"]=m,e.exports=t["default"]},165:function(e,t,n){"use strict";var r=n(65);r.TweenOneGroup=n(164),r.easing=n(66),e.exports=r},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(41),i=r(o),s=n(22),l=n(39),u=r(l),c=function(e,t,n){this.target=e,this.vars=t,this.type=n,this.propsData={},this.setDefaultData()},d=c.prototype={name:"style"};d.getComputedStyle=function(){return document.defaultView?document.defaultView.getComputedStyle(this.target):{}},d.getTweenData=function(e,t){var n={data:{},dataType:{},dataUnit:{},dataCount:{},dataSplitStr:{}};if(e.match(/colo|fill|storker/i)?(n.data[e]=(0,o.parseColor)(t),n.dataType[e]="color"):e.match(/shadow/i)?(n.data[e]=(0,o.parseShadow)(t),n.dataType[e]="shadow"):"string"==typeof t&&t.split(/[\s|,]/).length>1?(n.data[e]=t.split(/[\s|,]/),n.dataSplitStr[e]=t.replace(/[^\s|,]/g,""),n.dataType[e]="string"):(n.data[e]=t,n.dataType[e]="other"),Array.isArray(n.data[e]))n.dataUnit[e]=n.data[e].map(function(e){return e.toString().replace(/[^a-z|%]/g,"")}),n.dataCount[e]=n.data[e].map(function(e){return e.toString().replace(/[^+|=|-]/g,"")}),n.data[e]=n.data[e].map(function(e){return parseFloat(e)||0===parseFloat(e)?parseFloat(e):e});else{n.dataUnit[e]=n.data[e].toString().replace(/[^a-z|%]/g,""),n.dataCount[e]=n.data[e].toString().replace(/[^+|=|-]/g,"");var r=parseFloat(n.data[e].toString().replace(/[a-z|%|=]/g,""));n.data[e]=r||0===r?r:n.data[e]}return n},d.setDefaultData=function(){var e=this;this.propsData.data={},this.propsData.dataType={},this.propsData.dataUnit={},this.propsData.dataCount={},this.propsData.dataSplitStr={},Object.keys(this.vars).forEach(function(t){if(t in u["default"])return void(e.propsData.data[t]=new u["default"][t](e.target,e.vars[t]));var n=(0,o.getGsapType)(t),r=e.getTweenData(n,e.vars[t]);e.propsData.data[n]=r.data[n],e.propsData.dataType[n]=r.dataType[n],e.propsData.dataUnit[n]=r.dataUnit[n],e.propsData.dataCount[n]=r.dataCount[n],r.dataSplitStr[n]&&(e.propsData.dataSplitStr[n]=r.dataSplitStr[n])})},d.convertToMarksArray=function(e,t,n,r){var a=n.toString().replace(/[^a-z|%]/g,""),o=e[r];return a===o?parseFloat(n):parseFloat(n)||0===parseFloat(n)?(0,s.startConvertToEndUnit)(this.target,t,n,a,o,null,"transformOrigin"===t&&!r):n},d.getAnimStart=function(e){var t=this,n=this.getComputedStyle(),r={};this.supports3D=(0,o.checkStyleName)("perspective");var i=void 0;return e&&(this.willChange="auto"!==n.willChange&&n.willChange&&"none"!==n.willChange?n.willChange:"",i=this.willChange.split(",").filter(function(e){return e})),Object.keys(this.propsData.data).forEach(function(l){var c=(0,o.isConvert)(l);if(e){var d=l in u["default"]?t.propsData.data[l].useStyle||c:c;d="transformOrigin"===d?"transform-origin":d,i.indexOf(d)===-1&&(d in n||l in u["default"])&&i.push(d),t.willChange=i.join(",")}var p=n[c],f="fixed"===n.position;p&&"none"!==p&&"auto"!==p||(p="");var h=void 0,m=void 0,y=void 0;if(l in u["default"])"bezier"===l&&(t.transform=(0,o.checkStyleName)("transform"),p=n[t.transform],r.transform=r.transform||(0,o.getTransform)(p)),t.propsData.data[l].getAnimStart();else if("transform"===c){if(t.transform=(0,o.checkStyleName)("transform"),p=n[t.transform],m=t.propsData.dataUnit[l],h=r.transform||(0,o.getTransform)(p),m&&m.match(/%|vw|vh|em|rem/i)){var v="translateX"===l?"xPercent":"yPercent";h[v]=(0,s.startConvertToEndUnit)(t.target,l,h[l],null,m),h[l]=0}r.transform=h}else"filter"===c?(t.filterName=(0,o.checkStyleName)("filter")||"filter",p=n[t.filterName],t.filterObject=a({},t.filterObject,(0,o.splitFilterToObject)(p)),p=t.filterObject[l]||0,y=p.toString().replace(/[^a-z|%]/g,""),m=t.propsData.dataUnit[l],m!==y&&(p=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(p),y,m,f)),r[l]=parseFloat(p)):l.match(/color|fill/i)||"stroke"===l?(p=p||"stroke"!==l?p:"rgba(255, 255, 255, 0)",r[c]=(0,o.parseColor)(p)):l.match(/shadow/i)?(p=(0,o.parseShadow)(p),m=t.propsData.dataUnit[l],p=p.map(t.convertToMarksArray.bind(t,m,l)),r[c]=p):Array.isArray(t.propsData.data[l])?(p=p.split(/[\s|,]/),m=t.propsData.dataUnit[l],p=p.map(t.convertToMarksArray.bind(t,m,l)),r[c]=p):(m=t.propsData.dataUnit[c],y=p.toString().replace(/[^a-z|%]/g,""),m!==y&&(p=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(p),y,m,f)),r[c]=parseFloat(p||0))}),this.start=r,r},d.setArrayRatio=function(e,t,n,r,a){"color"===a&&4===t.length&&3===n.length&&(n[3]=1);var i=t.indexOf("inset")>=0,s=n.indexOf("inset")>=0;if(i&&!s||s&&!i)throw console.error('Error: "box-shadow" inset have to exist');var l=s?9:8;t.length===l&&n.length===l-1?(n.splice(3,0,0),r.splice(3,0,"")):n.length===l&&t.length===l-1&&t.splice(3,0,0);var u=n.map(function(n,o){var i="color"!==a||3!==o||t[o]?0:1,s="number"==typeof t[o]?t[o]:i;return"string"==typeof n?n:(n-s)*e+s+(r[o]||0)});if("color"===a)return(0,o.getColor)(u);if("shadow"===a){var c=u.length===l?4:3,d=u.slice(0,c).map(function(e){return"number"==typeof e?e+"px":e}),p=u.slice(c,s?u.length-1:u.length),f=(0,o.getColor)(p);return(d.join(" ")+" "+f+" "+(s?"inset":"")).trim()}return u},d.setRatio=function(e,t){var n=this;t.style=t.style||{},this.start.transform&&(t.style.transform=t.style.transform||a({},this.start.transform));var r=this.target.style;this.willChange&&(e===("from"===this.type?0:1)?r.willChange=null:r.willChange=this.willChange),Object.keys(this.propsData.data).forEach(function(a){var l="transform"===(0,o.isTransform)(a),c=l?n.start.transform[a]:n.start[a],d=n.propsData.data[a],p=n.propsData.dataUnit[a],f=n.propsData.dataCount[a];if(a in u["default"])return n.propsData.data[a].setRatio(e,t),void("bezier"===a?r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D):Object.keys(t.style).forEach(function(e){return r[e]=t.style[e]}));if(l){if(p&&p.match(/%|vw|vh|em|rem/i)){var h="translateX"===a?"xPercent":"yPercent";c=n.start.transform[h],"="===f.charAt(1)?t.style.transform[h]=c+d*e+p:t.style.transform[h]=(d-c)*e+c+p}else if("scale"===a){var m=n.start.transform.scaleX,y=n.start.transform.scaleY;"="===f.charAt(1)?(t.style.transform.scaleX=m+d*e,t.style.transform.scaleY=y+d*e):(t.style.transform.scaleX=(d-m)*e+m,t.style.transform.scaleY=(d-y)*e+y)}return"="===f.charAt(1)?t.style.transform[a]=c+d*e:t.style.transform[a]=(d-c)*e+c,void(r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D))}if(Array.isArray(d)){var v=n.propsData.dataType[a];t.style[a]=n.setArrayRatio(e,c,d,p,v),"string"===v&&(t.style[a]=t.style[a].join(n.propsData.dataSplitStr[a]))}else{var g=(0,o.stylesToCss)(a,0);g="number"==typeof g?"":g.replace(/[^a-z|%]/g,""),p=p||(i["default"].filter.indexOf(a)>=0?"":g),"string"==typeof d?t.style[a]=d:"="===f.charAt(1)?t.style[a]=c+d*e+p:t.style[a]=(d-c)*e+c+p}if(i["default"].filter.indexOf(a)>=0){if(!n.filterObject)return;n.filterObject[a]=t.style[a];var b="";return Object.keys(n.filterObject).forEach(function(e){b+=" "+e+"("+n.filterObject[e]+")"}),void(r[n.filterName]=b.trim())}r[a]=t.style[a]})},t["default"]=c,e.exports=t["default"]},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(76),o=r(a),i=function(){},s=i.prototype={tickFnObject:{},id:-1,tweenId:0,frame:0,perFrame:Math.round(1e3/60),getTime:Date.now||function(){return(new Date).getTime()},elapsed:0,lastUpdate:0,skipFrameMax:166};s.add=function(e){var t="tweenOne"+this.tweenId;return this.tweenId++,this.wake(t,e),t},s.wake=function(e,t){this.tickFnObject[e]=t,this.id===-1&&(this.id=(0,o["default"])(this.tick))},s.clear=function(e){delete this.tickFnObject[e]},s.sleep=function(){o["default"].cancel(this.id),this.id=-1,this.frame=0};var l=new i;s.tick=function(e){l.elapsed=l.lastUpdate?l.getTime()-l.lastUpdate:0,l.lastUpdate=l.lastUpdate?l.lastUpdate+l.elapsed:l.getTime()+l.elapsed;var t=l.tickFnObject;return Object.keys(t).forEach(function(n){t[n]&&t[n](e)}),Object.keys(t).length?(l.elapsed>l.skipFrameMax||!l.frame?l.frame++:l.frame+=Math.round(l.elapsed/l.perFrame),void(l.id=(0,o["default"])(l.tick))):void l.sleep()};var u=0;s.timeout=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function");var r="timeout"+Date.now()+"-"+u,a=this.frame;return this.wake(r,function(){var o=(n.frame-a)*n.perFrame;o>=(t||0)&&(n.clear(r),e())}),u++,r};var c=0;s.interval=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function"),null;var r="interval"+Date.now()+"-"+c,a=this.frame;return this.wake(r,function(){var r=(n.frame-a)*n.perFrame;r>=(t||0)&&(a=n.frame,e())}),c++,r},t["default"]=l,e.exports=t["default"]},172:function(e,t){"use strict";var n={linear:function(e,t,n,r){var a=n-t;return a*e/r+t},easeInQuad:function(e,t,n,r){var a=n-t;return a*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var a=n-t;return-a*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var a=n-t;return-a*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var a=n-t;return-a*Math.cos(e/r*(Math.PI/2))+a+t},easeOutSine:function(e,t,n,r){var a=n-t;return a*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var a=n-t;return-a/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var a=n-t;return 0==e?t:a*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var a=n-t;return e==r?t+a:a*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var a=n-t;return 0===e?t:e===r?t+a:(e/=r/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var a=n-t;return-a*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var a=n-t;return a*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:1===(e/=r)?t+s:(o||(o=.3*r),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:1===(e/=r)?t+s:(o||(o=.3*r),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:2===(e/=r/2)?t+s:(o||(o=r*(.3*1.5)),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),o*(e/=r)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),o*((e=e/r-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),(e/=r/2)<1?o/2*(e*e*(((a*=1.525)+1)*e-a))+t:o/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,r,a){var o,i=r-t;return o=n.easeOutBounce(a-e,0,i,a),i-o+t},easeOutBounce:function(e,t,n,r){var a=n-t;return(e/=r)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,r,a){var o,i=r-t;return e<a/2?(o=n.easeInBounce(2*e,0,i,a),.5*o+t):(o=n.easeOutBounce(2*e-a,0,i,a),.5*o+.5*i+t)}};e.exports=n},173:function(e,t){(function(t){"use strict";var n="function"==typeof Object.getPrototypeOf,r="function"==typeof Promise,a="undefined"!=typeof window?window:"undefined"!=typeof t?t:self,o="location"in a&&"document"in a,i="undefined"!=typeof HTMLElement,s="function"==typeof Array.isArray,l="undefined"!=typeof Symbol,u="undefined"!=typeof Map,c="undefined"!=typeof Set,d="undefined"!=typeof WeakMap,p="undefined"!=typeof WeakSet,f="undefined"!=typeof DataView,h=l&&"undefined"!=typeof Symbol.iterator,m=l&&"undefined"!=typeof Symbol.toStringTag,y=c&&"function"==typeof Set.prototype.entries,v=u&&"function"==typeof Map.prototype.entries,g=n&&y&&Object.getPrototypeOf((new Set).entries()),b=n&&v&&Object.getPrototypeOf((new Map).entries()),C=h&&"function"==typeof Array.prototype[Symbol.iterator],P=C&&Object.getPrototypeOf([][Symbol.iterator]()),T=h&&"function"==typeof Array.prototype[Symbol.iterator],w=T&&Object.getPrototypeOf(""[Symbol.iterator]()),_=8,S=-1;e.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===a)return"global";if(s&&Array.isArray(e))return"Array";if(o){if(e===a.location)return"Location";if(e===a.document)return"Document";if(e===(a.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(a.navigator||{}).plugins)return"PluginArray";if(i&&e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(i&&e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(i&&e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var l=m&&e[Symbol.toStringTag];if("string"==typeof l)return l;if(n){var h=Object.getPrototypeOf(e);if(h===RegExp.prototype)return"RegExp";if(h===Date.prototype)return"Date";if(r&&h===Promise.prototype)return"Promise";if(c&&h===Set.prototype)return"Set";if(u&&h===Map.prototype)return"Map";if(p&&h===WeakSet.prototype)return"WeakSet";if(d&&h===WeakMap.prototype)return"WeakMap";if(f&&h===DataView.prototype)return"DataView";if(u&&h===b)return"Map Iterator";if(c&&h===g)return"Set Iterator";if(C&&h===P)return"Array Iterator";if(T&&h===w)return"String Iterator";if(null===h)return"Object"}return Object.prototype.toString.call(e).slice(_,S)},e.exports.typeDetect=e.exports}).call(t,function(){return this}())},187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r){var a=t&&t.antLocale&&t.antLocale[n]?t.antLocale[n]:r(),o=(0,s["default"])({},a,e.locale);return o.lang=(0,s["default"])({},a.lang,e.locale.lang),o}function o(e){var t=e.antLocale&&e.antLocale.locale;return e.antLocale&&e.antLocale.exist&&!t?"zh-cn":t}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLocale=a,t.getLocaleCode=o;var i=n(8),s=r(i)},207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(380),s=r(i);t["default"]={propTypes:{className:o.PropTypes.string,locale:o.PropTypes.object,style:o.PropTypes.object,visible:o.PropTypes.bool,onSelect:o.PropTypes.func,prefixCls:o.PropTypes.string,onChange:o.PropTypes.func,onOk:o.PropTypes.func},getDefaultProps:function(){return{locale:s["default"],style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:a,onChange:a,onClear:a,renderFooter:function(){return null},renderSidebar:function(){return null}}},shouldComponentUpdate:function(e){return this.props.visible||e.visible},getFormat:function(){var e=this.props.format,t=this.props,n=t.locale,r=t.timePicker;return e||(e=r?n.dateTimeFormat:n.dateFormat),e},focus:function(){this.refs.root&&this.refs.root.focus()}},e.exports=t["default"]},208:297,250:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(262),s=r(i),l=n(261),u=r(l),c=n(207),d=r(c),p=n(208),f=r(p),h=o["default"].createClass({displayName:"MonthCalendar",propTypes:{monthCellRender:a.PropTypes.func,dateCellRender:a.PropTypes.func},mixins:[d["default"],u["default"]],onKeyDown:function(e){var t=e.keyCode,n=e.ctrlKey||e.metaKey,r=this.state.value,a=r;switch(t){case f["default"].DOWN:a=r.clone(),a.add(3,"months");break;case f["default"].UP:a=r.clone(),a.add(-3,"months");break;case f["default"].LEFT:a=r.clone(),n?a.add(-1,"years"):a.add(-1,"months");break;case f["default"].RIGHT:a=r.clone(),n?a.add(1,"years"):a.add(1,"months");break;case f["default"].ENTER:return this.onSelect(r),e.preventDefault(),1;default:return}if(a!==r)return this.setValue(a),e.preventDefault(),1},render:function(){var e=this.props,t=o["default"].createElement(s["default"],{locale:e.locale,disabledDate:e.disabledDate,style:{position:"relative"},value:this.state.value,cellRender:e.monthCellRender,contentRender:e.monthCellContentRender,rootPrefixCls:e.prefixCls,onChange:this.setValue,onSelect:this.onSelect});return this.renderRoot({children:t})}});t["default"]=h,e.exports=t["default"]},251:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),l=n(9),u=r(l),c=n(384),d=r(c),p=n(208),f=r(p),h=n(382),m=r(h),y=n(59),v=r(y),g=s["default"].createClass({displayName:"Picker",propTypes:{animation:i.PropTypes.oneOfType([i.PropTypes.func,i.PropTypes.string]),disabled:i.PropTypes.bool,transitionName:i.PropTypes.string,onChange:i.PropTypes.func,onOpenChange:i.PropTypes.func,children:i.PropTypes.func,getCalendarContainer:i.PropTypes.func,calendar:i.PropTypes.element,style:i.PropTypes.object,open:i.PropTypes.bool,defaultOpen:i.PropTypes.bool,prefixCls:i.PropTypes.string,placement:i.PropTypes.any,value:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.array]),defaultValue:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.array]),align:i.PropTypes.object},getDefaultProps:function(){return{prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:a,onOpenChange:a}},getInitialState:function(){var e=this.props,t=void 0;t="open"in e?e.open:e.defaultOpen;var n=e.value||e.defaultValue;return this.saveCalendarRef=o.bind(this,"calendarInstance"),{open:t,value:n}},componentWillReceiveProps:function(e){var t=e.value,n=e.open;"value"in e&&this.setState({value:t}),void 0!==n&&this.setState({open:n})},componentDidUpdate:function(e,t){!t.open&&this.state.open&&this.focusCalendar()},onCalendarKeyDown:function(e){e.keyCode===f["default"].ESC&&(e.stopPropagation(),this.close(this.focus))},onCalendarSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props;"value"in n||this.setState({value:e}),("keyboard"===t.source||!n.calendar.props.timePicker&&"dateInput"!==t.source||"todayButton"===t.source)&&this.close(this.focus),n.onChange(e)},onKeyDown:function(e){e.keyCode!==f["default"].DOWN||this.state.open||(this.open(),e.preventDefault())},onCalendarOk:function(){this.close(this.focus)},onCalendarClear:function(){this.close(this.focus)},onVisibleChange:function(e){this.setOpen(e)},getCalendarElement:function(){var e=this.props,t=this.state,n=e.calendar.props,r=t.value,a=void 0;a=Array.isArray(r)?r[0]:r;var o={ref:this.saveCalendarRef,defaultValue:a||n.defaultValue,selectedValue:r,onKeyDown:this.onCalendarKeyDown,onOk:(0,d["default"])(n.onOk,this.onCalendarOk),onSelect:(0,d["default"])(n.onSelect,this.onCalendarSelect),onClear:(0,d["default"])(n.onClear,this.onCalendarClear)};return s["default"].cloneElement(e.calendar,o)},setOpen:function(e,t){var n=this.props.onOpenChange;this.state.open!==e&&("open"in this.props||this.setState({open:e},t),n(e))},open:function(e){this.setOpen(!0,e)},close:function(e){this.setOpen(!1,e)},focus:function(){this.state.open||u["default"].findDOMNode(this).focus()},focusCalendar:function(){this.state.open&&null!==this.calendarInstance&&this.calendarInstance.focus()},render:function(){var e=this.props,t=e.prefixCls,n=e.placement,r=e.style,a=e.getCalendarContainer,o=e.align,i=e.animation,l=e.disabled,u=e.transitionName,c=e.children,d=this.state;return s["default"].createElement(v["default"],{popup:this.getCalendarElement(),popupAlign:o,builtinPlacements:m["default"],popupPlacement:n,action:l&&!d.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:a,popupStyle:r,popupAnimation:i,popupTransitionName:u,popupVisible:d.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:t},s["default"].cloneElement(c(d,e),{onKeyDown:this.onKeyDown}))}});t["default"]=g,e.exports=t["default"]},252:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.props.value.clone();t.add(e,"months"),this.props.onValueChange(t)}function o(e){var t=this.props.value.clone();t.add(e,"years"),this.props.onValueChange(t)}function i(e,t){return e?t:null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(262),c=r(u),d=n(263),p=r(d),f=n(264),h=r(f),m=l["default"].createClass({displayName:"CalendarHeader",propTypes:{enablePrev:s.PropTypes.any,enableNext:s.PropTypes.any,prefixCls:s.PropTypes.string,showTimePicker:s.PropTypes.bool,locale:s.PropTypes.object,value:s.PropTypes.object,onValueChange:s.PropTypes.func},getDefaultProps:function(){return{enableNext:1,enablePrev:1}},getInitialState:function(){return this.nextMonth=a.bind(this,1),this.previousMonth=a.bind(this,-1),this.nextYear=o.bind(this,1),this.previousYear=o.bind(this,-1),
{}},onSelect:function(e){this.setState({showMonthPanel:0,showYearPanel:0}),this.props.onValueChange(e)},monthYearElement:function(e){var t=this.props,n=t.prefixCls,r=t.locale,a=t.value,o=r.monthBeforeYear,i=n+"-"+(o?"my-select":"ym-select"),s=l["default"].createElement("a",{className:n+"-year-select",role:"button",onClick:e?null:this.showYearPanel,title:r.yearSelect},a.format(r.yearFormat)),u=l["default"].createElement("a",{className:n+"-month-select",role:"button",onClick:e?null:this.showMonthPanel,title:r.monthSelect},a.format(r.monthFormat)),c=void 0;e&&(c=l["default"].createElement("a",{className:n+"-day-select",role:"button"},a.format(r.dayFormat)));var d=[];return d=o?[u,c,s]:[s,u,c],l["default"].createElement("span",{className:i},(0,h["default"])(d))},showMonthPanel:function(){this.setState({showMonthPanel:1,showYearPanel:0})},showYearPanel:function(){this.setState({showMonthPanel:0,showYearPanel:1})},render:function(){var e=this.props,t=e.enableNext,n=e.enablePrev,r=e.prefixCls,a=e.locale,o=e.value,s=e.showTimePicker,u=this.state,d=null;u.showMonthPanel?d=c["default"]:u.showYearPanel&&(d=p["default"]);var f=void 0;return d&&(f=l["default"].createElement(d,{locale:a,defaultValue:o,rootPrefixCls:r,onSelect:this.onSelect})),l["default"].createElement("div",{className:r+"-header"},l["default"].createElement("div",{style:{position:"relative"}},i(n&&!s,l["default"].createElement("a",{className:r+"-prev-year-btn",role:"button",onClick:this.previousYear,title:a.previousYear})),i(n&&!s,l["default"].createElement("a",{className:r+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:a.previousMonth})),this.monthYearElement(s),i(t&&!s,l["default"].createElement("a",{className:r+"-next-month-btn",onClick:this.nextMonth,title:a.nextMonth})),i(t&&!s,l["default"].createElement("a",{className:r+"-next-year-btn",onClick:this.nextYear,title:a.nextYear}))),f)}});t["default"]=m,e.exports=t["default"]},253:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.prefixCls,n=e.locale,r=e.okDisabled,a=e.onOk,o=t+"-ok-btn";return r&&(o+=" "+t+"-ok-btn-disabled"),i["default"].createElement("a",{className:o,role:"button",onClick:r?null:a},n.ok)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o);e.exports=t["default"]},254:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t,n=e.prefixCls,r=e.locale,a=e.showTimePicker,o=e.onOpenTimePicker,s=e.onCloseTimePicker,u=e.timePickerDisabled,d=(0,c["default"])((t={},(0,i["default"])(t,n+"-time-picker-btn",!0),(0,i["default"])(t,n+"-time-picker-btn-disabled",u),t)),p=null;return u||(p=a?s:o),l["default"].createElement("a",{className:d,role:"button",onClick:p},a?r.dateSelect:r.timeSelect)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=r(o);t["default"]=a;var s=n(1),l=r(s),u=n(6),c=r(u);e.exports=t["default"]},255:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.timePicker,o=e.disabled,l=e.disabledDate,u=e.onToday,c=e.text,d=(!c&&a?n.now:c)||n.today,p=l&&!(0,s.isAllowedDate)((0,s.getTodayTime)(r),l),f=p||o,h=f?t+"-today-btn-disabled":"";return i["default"].createElement("a",{className:t+"-today-btn "+h,role:"button",onClick:f?null:u,title:(0,s.getTodayTimeStr)(r)},d)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o),s=n(58);e.exports=t["default"]},256:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={DATE_ROW_COUNT:6,DATE_COL_COUNT:7},e.exports=t["default"]},257:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(9),s=r(i),l=n(28),u=r(l),c=o["default"].createClass({displayName:"DateInput",propTypes:{prefixCls:a.PropTypes.string,timePicker:a.PropTypes.object,value:a.PropTypes.object,disabledTime:a.PropTypes.any,format:a.PropTypes.string,locale:a.PropTypes.object,disabledDate:a.PropTypes.func,onChange:a.PropTypes.func,onClear:a.PropTypes.func,placeholder:a.PropTypes.string,onSelect:a.PropTypes.func,selectedValue:a.PropTypes.object},getInitialState:function(){var e=this.props.selectedValue;return{str:e&&e.format(this.props.format)||"",invalid:!1}},componentWillReceiveProps:function(e){var t=e.selectedValue;this.setState({str:t&&t.format(e.format)||"",invalid:!1})},onInputChange:function(e){var t=e.target.value;this.setState({str:t});var n=void 0,r=this.props,a=r.disabledDate,o=r.format,i=r.onChange;if(t){var s=(0,u["default"])(t,o,!0);if(!s.isValid())return void this.setState({invalid:!0});if(n=this.props.value.clone(),n.year(s.year()).month(s.month()).date(s.date()).hour(s.hour()).minute(s.minute()).second(s.second()),!n||a&&a(n))return void this.setState({invalid:!0});var l=this.props.selectedValue;l&&n?l.isSame(n)||i(n):l!==n&&i(n)}else i(null);this.setState({invalid:!1})},onClear:function(){this.setState({str:""}),this.props.onClear(null)},getRootDOMNode:function(){return s["default"].findDOMNode(this)},focus:function(){this.refs.dateInput.focus()},render:function(){var e=this.props,t=this.state,n=t.invalid,r=t.str,a=e.locale,i=e.prefixCls,s=e.placeholder,l=n?i+"-input-invalid":"";return o["default"].createElement("div",{className:i+"-input-wrap"},o["default"].createElement("div",{className:i+"-date-input-wrap"},o["default"].createElement("input",{ref:"dateInput",className:i+"-input "+l,value:r,disabled:e.disabled,placeholder:s,onChange:this.onInputChange})),e.showClear?o["default"].createElement("a",{className:i+"-clear-btn",role:"button",title:a.clear,onClick:this.onClear}):null)}});t["default"]=c,e.exports=t["default"]},258:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(378),f=r(p),h=n(377),m=r(h),y=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls;return d["default"].createElement("table",{className:t+"-table",cellSpacing:"0",role:"grid"},d["default"].createElement(f["default"],e),d["default"].createElement(m["default"],e))},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},259:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(374),o=r(a);t["default"]=o["default"],e.exports=t["default"]},260:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",monthFormat:"M\u6708",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},e.exports=t["default"]},261:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){return(0,h["default"])()}function i(e){var t=void 0;return t=e?(0,m.getTodayTime)(e):o()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(1),c=r(u),d=n(6),p=r(d),f=n(28),h=r(f),m=n(58),y={propTypes:{value:u.PropTypes.object,defaultValue:u.PropTypes.object,onKeyDown:u.PropTypes.func},getDefaultProps:function(){return{onKeyDown:a}},getInitialState:function(){var e=this.props,t=e.value||e.defaultValue||o();return{value:t,selectedValue:e.selectedValue||e.defaultSelectedValue}},componentWillReceiveProps:function(e){var t=e.value,n=e.selectedValue;"value"in e&&(t=t||e.defaultValue||i(this.state.value),this.setState({value:t})),"selectedValue"in e&&this.setState({selectedValue:n})},onSelect:function(e,t){e&&this.setValue(e),this.setSelectedValue(e,t)},renderRoot:function(e){var t,n=this.props,r=n.prefixCls,a=(t={},(0,l["default"])(t,r,1),(0,l["default"])(t,r+"-hidden",!n.visible),(0,l["default"])(t,n.className,!!n.className),(0,l["default"])(t,e.className,!!e.className),t);return c["default"].createElement("div",{ref:"root",className:""+(0,p["default"])(a),style:this.props.style,tabIndex:"0",onKeyDown:this.onKeyDown},e.children)},setSelectedValue:function(e,t){"selectedValue"in this.props||this.setState({selectedValue:e}),this.props.onSelect(e,t)},setValue:function(e){var t=this.state.value;"value"in this.props||this.setState({value:e}),(t&&e&&!t.isSame(e)||!t&&e||t&&!e)&&this.props.onChange(e)},isAllowedDate:function(e){var t=this.props.disabledDate,n=this.props.disabledTime;return(0,m.isAllowedDate)(e,t,n)}};t["default"]=y,e.exports=t["default"]},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"year"),this.setAndChangeValue(t)}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),l=n(263),u=r(l),c=n(381),d=r(c),p=s["default"].createClass({displayName:"MonthPanel",propTypes:{onChange:i.PropTypes.func,disabledDate:i.PropTypes.func,onSelect:i.PropTypes.func},getDefaultProps:function(){return{onChange:o,onSelect:o}},getInitialState:function(){var e=this.props;return this.nextYear=a.bind(this,1),this.previousYear=a.bind(this,-1),this.prefixCls=e.rootPrefixCls+"-month-panel",{value:e.value||e.defaultValue}},componentWillReceiveProps:function(e){"value"in e&&this.setState({value:e.value})},onYearPanelSelect:function(e){this.setState({showYearPanel:0}),this.setAndChangeValue(e)},setAndChangeValue:function(e){this.setValue(e),this.props.onChange(e)},setAndSelectValue:function(e){this.setValue(e),this.props.onSelect(e)},setValue:function(e){"value"in this.props||this.setState({value:e})},showYearPanel:function(){this.setState({showYearPanel:1})},render:function(){var e=this.props,t=this.state.value,n=e.cellRender,r=e.contentRender,a=e.locale,o=t.year(),i=this.prefixCls,l=void 0;return this.state.showYearPanel&&(l=s["default"].createElement(u["default"],{locale:a,value:t,rootPrefixCls:e.rootPrefixCls,onSelect:this.onYearPanelSelect})),s["default"].createElement("div",{className:i,style:e.style},s["default"].createElement("div",null,s["default"].createElement("div",{className:i+"-header"},s["default"].createElement("a",{className:i+"-prev-year-btn",role:"button",onClick:this.previousYear,title:a.previousYear}),s["default"].createElement("a",{className:i+"-year-select",role:"button",onClick:this.showYearPanel,title:a.yearSelect},s["default"].createElement("span",{className:i+"-year-select-content"},o),s["default"].createElement("span",{className:i+"-year-select-arrow"},"x")),s["default"].createElement("a",{className:i+"-next-year-btn",role:"button",onClick:this.nextYear,title:a.nextYear})),s["default"].createElement("div",{className:i+"-body"},s["default"].createElement(d["default"],{disabledDate:e.disabledDate,onSelect:this.setAndSelectValue,locale:a,value:t,cellRender:n,contentRender:r,prefixCls:i}))),l)}});t["default"]=p,e.exports=t["default"]},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"year"),this.setState({value:t})}function o(e){var t=this.state.value.clone();t.year(e),t.month(this.state.value.month()),this.props.onSelect(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=n(379),b=r(g),C=4,P=3,T=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.prefixCls=n.rootPrefixCls+"-year-panel",r.state={value:n.value||n.defaultValue},r.nextDecade=a.bind(r,10),r.previousDecade=a.bind(r,-10),["showDecadePanel","onDecadePanelSelect"].forEach(function(e){r[e]=r[e].bind(r)}),r}return(0,f["default"])(t,e),t.prototype.onDecadePanelSelect=function(e){this.setState({value:e,showDecadePanel:0})},t.prototype.years=function n(){for(var e=this.state.value,t=e.year(),r=10*parseInt(t/10,10),a=r-1,n=[],o=0,i=0;i<C;i++){n[i]=[];for(var s=0;s<P;s++){var l=a+o,u=String(l);n[i][s]={content:u,year:l,title:u},o++}}return n},t.prototype.showDecadePanel=function(){this.setState({showDecadePanel:1})},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,r=t.locale,a=this.years(),i=n.year(),l=10*parseInt(i/10,10),u=l+9,c=this.prefixCls,d=a.map(function(t,n){var r=t.map(function(t){var n,r=(n={},(0,s["default"])(n,c+"-cell",1),(0,s["default"])(n,c+"-selected-cell",t.year===i),(0,s["default"])(n,c+"-last-decade-cell",t.year<l),(0,s["default"])(n,c+"-next-decade-cell",t.year>u),n),a=void 0;return a=t.year<l?e.previousDecade:t.year>u?e.nextDecade:o.bind(e,t.year),m["default"].createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:a,className:(0,v["default"])(r)},m["default"].createElement("a",{className:c+"-year"},t.content))});return m["default"].createElement("tr",{key:n,role:"row"},r)}),p=void 0;return this.state.showDecadePanel&&(p=m["default"].createElement(b["default"],{locale:r,value:n,rootPrefixCls:t.rootPrefixCls,onSelect:this.onDecadePanelSelect})),m["default"].createElement("div",{className:this.prefixCls},m["default"].createElement("div",null,m["default"].createElement("div",{className:c+"-header"},m["default"].createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:r.previousDecade}),m["default"].createElement("a",{className:c+"-decade-select",role:"button",onClick:this.showDecadePanel,title:r.decadeSelect},m["default"].createElement("span",{className:c+"-decade-select-content"},l,"-",u),m["default"].createElement("span",{className:c+"-decade-select-arrow"},"x")),m["default"].createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:r.nextDecade})),m["default"].createElement("div",{className:c+"-body"},m["default"].createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:c+"-tbody"},d)))),p)},t}(m["default"].Component);t["default"]=T,T.propTypes={rootPrefixCls:h.PropTypes.string,value:h.PropTypes.object,defaultValue:h.PropTypes.object},T.defaultProps={onSelect:function(){}},e.exports=t["default"]},264:function(e,t,n){"use strict";function r(e){return e}var a=n(1);e.exports=function(e){return a.Children.map(e,r)}},312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(260),f=r(p),h=n(259),m=r(h),y=n(81),v=r(y),g=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return(0,v["default"])(!1,"DatePicker.Calendar is deprecated, use Calendar instead."),d["default"].createElement(m["default"],this.props)},t}(d["default"].Component);t["default"]=g,g.defaultProps={locale:f["default"],prefixCls:"ant-calendar"},e.exports=t["default"]},313:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(28),v=r(y),g=n(375),b=r(g),C=n(251),P=r(C),T=n(6),w=r(T),_=n(8),S=r(_),x=n(11),O=r(x),k=n(187),M=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));r.clearSelection=function(e){e.preventDefault(),e.stopPropagation(),r.setState({value:[]}),r.handleChange([])},r.handleChange=function(e){var t=r.props;"value"in t||r.setState({value:e,showDate:e[0]}),t.onChange(e,[e[0]&&e[0].format(t.format)||"",e[1]&&e[1].format(t.format)||""])},r.handleOpenChange=function(e){r.setState({open:e});var t=r.props.onOpenChange;t&&t(e)},r.handleShowDateChange=function(e){return r.setState({showDate:e})},r.renderFooter=function(){var e=r.props,t=e.prefixCls,n=e.ranges;if(!n)return null;var a=Object.keys(n).map(function(e){var t=n[e];return m["default"].createElement("a",{key:e,onClick:function(){return r.setValue(t)}},e)});return m["default"].createElement("div",{className:t+"-range-quick-selector"},a)};var a=n.value||n.defaultValue||[];if(a[0]&&!v["default"].isMoment(a[0])||a[1]&&!v["default"].isMoment(a[1]))throw new Error("The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, see: http://u.ant.design/date-picker-value");return r.state={value:a,open:n.open},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e){var t=e.value||[],n=t[0];this.setState({value:t,showDate:n})}"open"in e&&this.setState({open:e.open})},t.prototype.setValue=function(e){this.handleChange(e),this.props.showTime||this.setState({open:!1})},t.prototype.render=function(){var e,t=this,n=this.state,r=this.props,a=this.context,i=n.value,l=n.showDate,u=n.open,c=(0,k.getLocaleCode)(a);i&&c&&(i[0]&&i[0].locale(c),i[1]&&i[1].locale(c));var d=r.disabledDate,p=r.disabledTime,f=r.showTime,h=r.showToday,y=r.ranges,g=r.prefixCls,C=r.popupStyle,T=r.style,_=r.onOk,x=r.locale,M=r.format,E=(0,w["default"])((e={},(0,s["default"])(e,g+"-time",f),(0,s["default"])(e,g+"-range-with-ranges",y),e)),D={onChange:this.handleChange},N={onOk:this.handleChange};r.timePicker?D.onChange=function(e){return t.handleChange(e)}:N={};var j="placeholder"in r?r.placeholder[0]:x.lang.rangePlaceholder[0],R="placeholder"in r?r.placeholder[1]:x.lang.rangePlaceholder[1],A=m["default"].createElement(b["default"],(0,o["default"])({},N,{format:M,prefixCls:g,className:E,renderFooter:this.renderFooter,timePicker:r.timePicker,disabledDate:d,disabledTime:p,dateInputPlaceholder:[j,R],locale:x.lang,onOk:_,value:l||r.defaultPickerValue||(0,v["default"])(),onValueChange:this.handleShowDateChange,showToday:h})),I={};r.showTime&&(I.width=T&&T.width||300);var V=!r.disabled&&r.allowClear&&i&&(i[0]||i[1])?m["default"].createElement(O["default"],{type:"cross-circle",className:g+"-picker-clear",onClick:this.clearSelection}):null,F=function(e){var t=e.value,n=t[0],a=t[1];return m["default"].createElement("span",{className:r.pickerInputClass,disabled:r.disabled},m["default"].createElement("input",{disabled:r.disabled,readOnly:!0,value:n&&n.format(r.format)||"",placeholder:j,className:g+"-range-picker-input"}),m["default"].createElement("span",{className:g+"-range-picker-separator"}," ~ "),m["default"].createElement("input",{disabled:r.disabled,readOnly:!0,value:a&&a.format(r.format)||"",placeholder:R,className:g+"-range-picker-input"}),V,m["default"].createElement("span",{className:g+"-picker-icon"}))};return m["default"].createElement("span",{className:r.pickerClass,style:(0,S["default"])({},T,I)},m["default"].createElement(P["default"],(0,o["default"])({},r,D,{calendar:A,value:i,open:u,onOpenChange:this.handleOpenChange,prefixCls:g+"-picker-container",style:C}),F))},t}(m["default"].Component);t["default"]=M,M.contextTypes={antLocale:m["default"].PropTypes.object},M.defaultProps={prefixCls:"ant-calendar",allowClear:!0,showToday:!1},e.exports=t["default"]},314:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=c["default"].createClass({displayName:"CalenderWrapper",contextTypes:{antLocale:c["default"].PropTypes.object},getDefaultProps:function(){return{prefixCls:"ant-calendar",allowClear:!0,showToday:!0}},getInitialState:function(){var e=this.props,t=e.value||e.defaultValue;if(t&&!p["default"].isMoment(t))throw new Error("The value/defaultValue of DatePicker or MonthPicker must be a moment object after `antd@2.0`, see: http://u.ant.design/date-picker-value");return{value:t,tempValue:void 0}},componentWillReceiveProps:function(e){"value"in e&&this.setState({value:e.value,tempValue:e.value})},clearSelection:function(e){e.preventDefault(),e.stopPropagation(),this.handleChange(null)},handleChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(e,e&&e.format(t.format)||"")},handleTempChange:function(e){this.setState({tempValue:e})},handleOpenChange:function(e){var t=this.props,n=t.showTime,r=t.onOpenChange,a=t.onChange,o=t.format;if(!e){var i=void 0;this.setState(function(e){i=e.tempValue;var t={tempValue:void 0};return n&&i&&(t.value=i,a(i,i&&i.format(o)||"")),t})}r&&r(e)},render:function(){var t,n=this,r=this.state,a=r.value,o=r.tempValue,s=(0,C["default"])(this.props,["onChange"]),u=s.prefixCls,d=s.locale,f="placeholder"in s?s.placeholder:d.lang.placeholder,m=s.showTime?s.disabledTime:null,v=(0,g["default"])((t={},(0,l["default"])(t,u+"-time",s.showTime),(0,l["default"])(t,u+"-month",h["default"]===e),t)),b={},P={};s.showTime?P={onSelect:function(e){n.handleTempChange(e)}}:b={onChange:this.handleChange};var w=c["default"].createElement(e,(0,i["default"])({},P,{disabledDate:s.disabledDate,disabledTime:m,locale:d.lang,timePicker:s.timePicker,defaultValue:s.defaultPickerValue||(0,p["default"])(),dateInputPlaceholder:f,prefixCls:u,className:v,onOk:s.onOk,format:s.format,showToday:s.showToday,monthCellContentRender:s.monthCellContentRender})),x={};s.showTime&&(x.width=s.style&&s.style.width||154);var O=!s.disabled&&s.allowClear&&a?c["default"].createElement(_["default"],{type:"cross-circle",className:u+"-picker-clear",onClick:this.clearSelection}):null,k=function(e){var t=e.value;return c["default"].createElement("span",null,c["default"].createElement("input",{disabled:s.disabled,readOnly:!0,value:t&&t.format(s.format)||"",placeholder:f,className:s.pickerInputClass}),O,c["default"].createElement("span",{className:u+"-picker-icon"}))},M=o||a,E=(0,S.getLocaleCode)(this.context);return M&&E&&M.locale(E),c["default"].createElement("span",{className:s.pickerClass,style:(0,T["default"])({},s.style,x)},c["default"].createElement(y["default"],(0,i["default"])({},s,b,{onOpenChange:this.handleOpenChange,calendar:w,value:M,prefixCls:u+"-picker-container",style:s.popupStyle}),k))}});return t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),s=n(7),l=r(s);t["default"]=a;var u=n(1),c=r(u),d=n(28),p=r(d),f=n(250),h=r(f),m=n(251),y=r(m),v=n(6),g=r(v),b=n(183),C=r(b),P=n(8),T=r(P),w=n(11),_=r(w),S=n(187);e.exports=t["default"]},315:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(259),s=r(i),l=n(250),u=r(l),c=n(314),d=r(c),p=n(318),f=r(p),h=n(313),m=r(h),y=n(312),v=r(y),g=(0,f["default"])((0,d["default"])(s["default"])),b=(0,f["default"])((0,d["default"])(u["default"]),"YYYY-MM");(0,o["default"])(g,{RangePicker:(0,f["default"])(m["default"]),Calendar:v["default"],MonthPicker:b}),t["default"]=g,e.exports=t["default"]},316:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(260),o=r(a),i=n(321),s=r(i),l=n(8),u=r(l),c=n(28),d=r(c);n(373),d["default"].locale("zh-cn");var p={lang:(0,u["default"])({placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]},o["default"]),timePickerLocale:(0,u["default"])({},s["default"])};p.lang.ok="\u786e \u5b9a",t["default"]=p,e.exports=t["default"]},317:function(e,t,n){"use strict";n(10),n(355),n(25),n(322)},318:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.showHour,n=e.showMinute,r=e.showSecond,a=0;return t&&(a+=1),n&&(a+=1),r&&(a+=1),a}function o(e,t){var r=d["default"].createClass({displayName:"PickerWrapper",contextTypes:{antLocale:c.PropTypes.object},getDefaultProps:function(){return{format:t||"YYYY-MM-DD",transitionName:"slide-up",popupStyle:{},onChange:function(){},onOk:function(){},onOpenChange:function(){},locale:{},align:{offset:[0,-9]},prefixCls:"ant-calendar",inputPrefixCls:"ant-input"}},handleOpenChange:function(e){var t=this.props,n=t.onOpenChange,r=t.toggleOpen;n(e),r&&((0,v["default"])(!1,"`toggleOpen` is deprecated and will be removed in the future, please use `onOpenChange` instead, see: http://u.ant.design/date-picker-on-open-change"),r({open:e}))},render:function(){var t,r,o=this.props,i=o.prefixCls,l=o.inputPrefixCls,c=(0,m["default"])((0,u["default"])({},i+"-picker",!0)),p=(0,m["default"])((t={},(0,u["default"])(t,i+"-picker-input",!0),(0,u["default"])(t,l,!0),(0,u["default"])(t,l+"-lg","large"===o.size),(0,u["default"])(t,l+"-sm","small"===o.size),t)),h=(0,g.getComponentLocale)(o,this.context,"DatePicker",function(){return n(316)}),y=o.showTime&&o.showTime.format||"HH:mm:ss",v={format:y,showSecond:y.indexOf("ss")>=0,showMinute:y.indexOf("mm")>=0,showHour:y.indexOf("HH")>=0},b=a(v),C=(0,m["default"])((r={},(0,u["default"])(r,i+"-time-picker-1-column",1===b),(0,u["default"])(r,i+"-time-picker-2-columns",2===b),r)),P=o.showTime?d["default"].createElement(f["default"],(0,s["default"])({},v,o.showTime,{prefixCls:i+"-time-picker",className:C,placeholder:h.timePickerLocale.placeholder,transitionName:"slide-up"})):null;return d["default"].createElement(e,(0,s["default"])({},o,{pickerClass:c,pickerInputClass:p,locale:h,timePicker:P,onOpenChange:this.handleOpenChange}))}});return r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),l=n(7),u=r(l);t["default"]=o;var c=n(1),d=r(c),p=n(387),f=r(p),h=n(6),m=r(h),y=n(68),v=r(y),g=n(187);e.exports=t["default"]},321:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"};t["default"]=n,e.exports=t["default"]},322:[1221,356],327:function(e,t,n){e.exports={"default":n(329),__esModule:!0}},328:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(327),o=r(a),i=n(240),s=r(i);t["default"]=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=(0,s["default"])(e);!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},329:function(e,t,n){n(222),n(200),e.exports=n(346)},346:function(e,t,n){var r=n(241),a=n(55)("iterator"),o=n(198);e.exports=n(36).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||o.hasOwnProperty(r(t))}},355:10,356:10,373:function(e,t,n){!function(e,t){t(n(28))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u70b9mm\u5206",LTS:"Ah\u70b9m\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206",l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u70b9\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u70b9\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u70b9\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.diff(t,"days")>=7?"[\u4e0b]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[\u4e0a]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}});return t})},374:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){var e=this.state.value.clone();e.startOf("month"),this.setValue(e)}function i(){var e=this.state.value.clone();e.endOf("month"),this.setValue(e)}function s(e,t){var n=this.state.value.clone();n.add(e,t),this.setValue(n)}function l(e){return s.call(this,e,"months")}function u(e){return s.call(this,e,"years")}function c(e){return s.call(this,e,"weeks")}function d(e){return s.call(this,e,"days")}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),f=r(p),h=n(1),m=r(h),y=n(9),v=r(y),g=n(208),b=r(g),C=n(258),P=r(C),T=n(252),w=r(T),_=n(376),S=r(_),x=n(261),O=r(x),k=n(207),M=r(k),E=n(257),D=r(E),N=n(58),j=m["default"].createClass({displayName:"Calendar",propTypes:{disabledDate:h.PropTypes.func,disabledTime:h.PropTypes.any,value:h.PropTypes.object,selectedValue:h.PropTypes.object,defaultValue:h.PropTypes.object,className:h.PropTypes.string,locale:h.PropTypes.object,showWeekNumber:h.PropTypes.bool,style:h.PropTypes.object,showToday:h.PropTypes.bool,showDateInput:h.PropTypes.bool,visible:h.PropTypes.bool,onSelect:h.PropTypes.func,onOk:h.PropTypes.func,showOk:h.PropTypes.bool,prefixCls:h.PropTypes.string,onKeyDown:h.PropTypes.func,timePicker:h.PropTypes.element,dateInputPlaceholder:h.PropTypes.any,onClear:h.PropTypes.func,onChange:h.PropTypes.func,renderFooter:h.PropTypes.func,renderSidebar:h.PropTypes.func},mixins:[M["default"],O["default"]],getDefaultProps:function(){return{showToday:!0,showDateInput:!0,timePicker:null,onOk:a}},getInitialState:function(){return{showTimePicker:!1}},onKeyDown:function(e){if("input"!==e.target.nodeName.toLowerCase()){var t=e.keyCode,n=e.ctrlKey||e.metaKey;switch(t){case b["default"].DOWN:return c.call(this,1),e.preventDefault(),1;case b["default"].UP:return c.call(this,-1),e.preventDefault(),1;case b["default"].LEFT:return n?u.call(this,-1):d.call(this,-1),e.preventDefault(),1;case b["default"].RIGHT:return n?u.call(this,1):d.call(this,1),e.preventDefault(),1;case b["default"].HOME:return o.call(this),e.preventDefault(),1;case b["default"].END:return i.call(this),e.preventDefault(),1;case b["default"].PAGE_DOWN:
return l.call(this,1),e.preventDefault(),1;case b["default"].PAGE_UP:return l.call(this,-1),e.preventDefault(),1;case b["default"].ENTER:return this.onSelect(this.state.value,{source:"keyboard"}),e.preventDefault(),1;default:return this.props.onKeyDown(e),1}}},onClear:function(){this.onSelect(null),this.props.onClear()},onOk:function(){var e=this.state.selectedValue;this.isAllowedDate(e)&&this.props.onOk(e)},onDateInputChange:function(e){this.onSelect(e,{source:"dateInput"})},onDateTableSelect:function(e){this.onSelect(e)},onToday:function(){var e=this.state.value,t=(0,N.getTodayTime)(e);this.onSelect(t,{source:"todayButton"})},getRootDOMNode:function(){return v["default"].findDOMNode(this)},openTimePicker:function(){this.setState({showTimePicker:!0})},closeTimePicker:function(){this.setState({showTimePicker:!1})},render:function(){var e=this.props,t=e.locale,n=e.prefixCls,r=e.disabledDate,a=e.dateInputPlaceholder,o=e.timePicker,i=e.disabledTime,s=this.state,l=s.value,u=s.selectedValue,c=s.showTimePicker,d=c&&i&&o?(0,N.getTimeConfig)(u,i):null,p=o&&c?m["default"].cloneElement(o,(0,f["default"])({showHour:!0,showSecond:!0,showMinute:!0},o.props,d,{onChange:this.onDateInputChange,defaultOpenValue:l,value:u,disabledTime:i})):null,h=e.showDateInput?m["default"].createElement(D["default"],{ref:"dateInput",format:this.getFormat(),key:"date-input",value:l,locale:t,placeholder:a,showClear:!0,disabledTime:i,disabledDate:r,onClear:this.onClear,prefixCls:n,selectedValue:u,onChange:this.onDateInputChange}):null,y=[e.renderSidebar(),m["default"].createElement("div",{className:n+"-panel",key:"panel"},h,m["default"].createElement("div",{className:n+"-date-panel"},m["default"].createElement(w["default"],{locale:t,onValueChange:this.setValue,value:l,showTimePicker:c,prefixCls:n}),o&&c?m["default"].createElement("div",{className:n+"-time-picker"},m["default"].createElement("div",{className:n+"-time-picker-panel"},p)):null,m["default"].createElement("div",{className:n+"-body"},m["default"].createElement(P["default"],{locale:t,value:l,selectedValue:u,prefixCls:n,dateRender:e.dateRender,onSelect:this.onDateTableSelect,disabledDate:r,showWeekNumber:e.showWeekNumber})),m["default"].createElement(S["default"],{showOk:e.showOk,renderFooter:e.renderFooter,locale:t,prefixCls:n,showToday:e.showToday,disabledTime:i,showTimePicker:c,showDateInput:e.showDateInput,timePicker:o,selectedValue:u,value:l,disabledDate:r,okDisabled:!this.isAllowedDate(u),onOk:this.onOk,onSelect:this.onSelect,onToday:this.onToday,onOpenTimePicker:this.openTimePicker,onCloseTimePicker:this.closeTimePicker})))];return this.renderRoot({children:y,className:e.showWeekNumber?n+"-week-number":""})}});t["default"]=j,e.exports=t["default"]},375:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){return(0,b["default"])()}function i(e,t){var n=void 0;n=t,"right"===e&&n.add(-1,"months"),this.fireValueChange(n)}function s(e,t){var n=e.selectedValue||t&&e.defaultSelectedValue||[],r=e.value;Array.isArray(r)&&(r=r[0]);var a=e.defaultValue;return Array.isArray(a)&&(a=a[0]),r||t&&a||n[0]||t&&o()}function l(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function u(e,t){if(t){var n=this.state.selectedValue,r=n.concat(),a="left"===e?0:1;r[a]=t,r[0]&&this.compare(r[0],r[1])>0&&(r[1-a]=this.state.showTimePicker?r[a]:void 0),this.fireSelectValueChange(r)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),d=r(c),p=n(328),f=r(p),h=n(7),m=r(h),y=n(1),v=r(y),g=n(28),b=r(g),C=n(6),P=r(C),T=n(383),w=r(T),_=n(58),S=n(255),x=r(S),O=n(253),k=r(O),M=n(254),E=r(M),D=n(207),N=r(D),j=v["default"].createClass({displayName:"RangeCalendar",propTypes:{prefixCls:y.PropTypes.string,dateInputPlaceholder:y.PropTypes.any,defaultValue:y.PropTypes.any,timePicker:y.PropTypes.any,value:y.PropTypes.any,showOk:y.PropTypes.bool,showToday:y.PropTypes.bool,selectedValue:y.PropTypes.array,defaultSelectedValue:y.PropTypes.array,onOk:y.PropTypes.func,showClear:y.PropTypes.bool,locale:y.PropTypes.object,onChange:y.PropTypes.func,onSelect:y.PropTypes.func,onValueChange:y.PropTypes.func,disabledDate:y.PropTypes.func,format:y.PropTypes.oneOfType([y.PropTypes.object,y.PropTypes.string]),onClear:y.PropTypes.func,type:y.PropTypes.any,disabledTime:y.PropTypes.func},mixins:[N["default"]],getDefaultProps:function(){return{type:"both",defaultSelectedValue:[],onValueChange:a,disabledTime:a,showToday:!0}},getInitialState:function(){var e=this.props,t=e.selectedValue||e.defaultSelectedValue,n=s(e,1);return{selectedValue:t,hoverValue:[],value:n,showTimePicker:!1}},componentWillReceiveProps:function(e){var t={};"value"in e&&(e.value?t.value=e.value:t.value=s(e,0),this.setState(t)),"selectedValue"in e&&(t.selectedValue=e.selectedValue,this.setState(t))},onDatePanelEnter:function(){this.hasSelectedValue()&&this.setState({hoverValue:this.state.selectedValue.concat()})},onDatePanelLeave:function(){this.hasSelectedValue()&&this.setState({hoverValue:[]})},onSelect:function(e){var t=this.state,n=t.hoverValue,r=t.selectedValue,a=void 0,o=this.props.type,i=!1;if(n[0]||n[1]||"both"!==o)if("start"===o){var s=r[1];a=!s||this.compare(s,e)<0?[e]:[e,s],i=!0}else{var l=void 0;l="end"===o?r[0]:n[0],l&&this.compare(l,e)<=0?(a=[l,e],i=!0):(a=[e],i=!0)}else a=[e],i=!0;i&&this.fireSelectValueChange(a)},onDayHover:function(e){var t=this.state.hoverValue,n=this.state.selectedValue,r=this.props.type;if("start"===r&&n[1])t=this.compare(e,n[1])<0?[e,n[1]]:[e],this.setState({hoverValue:t});else if("end"===r&&n[0])t=this.compare(e,n[0])>0?[n[0],e]:[],this.setState({hoverValue:t});else{if(!t[0]||this.compare(e,t[0])<0)return;t[1]=e,this.setState({hoverValue:t})}},onToday:function(){this.setState({value:(0,_.getTodayTime)(this.state.value)})},onOpenTimePicker:function(){this.setState({showTimePicker:!0})},onCloseTimePicker:function(){this.setState({showTimePicker:!1})},onOk:function(){var e=this.state.selectedValue;this.isAllowedDateAndTime(e)&&this.props.onOk(this.state.selectedValue)},onStartInputSelect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["left"].concat(t);return u.apply(this,r)},onEndInputSelect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["right"].concat(t);return u.apply(this,r)},onStartValueChange:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["left"].concat(t);return i.apply(this,r)},onEndValueChange:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["right"].concat(t);return i.apply(this,r)},getStartValue:function(){var e=this.state.value,t=this.state.selectedValue;return t[0]&&this.props.timePicker&&(e=e.clone(),(0,_.syncTime)(t[0],e)),this.state.showTimePicker&&t[0]?t[0]:e},getEndValue:function(){var e=this.state.value.clone();e.add(1,"months");var t=this.state.selectedValue;return t[1]&&this.props.timePicker&&(0,_.syncTime)(t[1],e),this.state.showTimePicker?t[1]?t[1]:this.getStartValue():e},getEndDisableTime:function(){var e=this.state,t=e.selectedValue,n=e.value,r=t&&t[0]||n.clone();if(!t[1]||r.isSame(t[1],"day")){var a=r.hour(),o=r.minute(),i=r.second(),s=l(a),u=l(o),c=l(i);return{disabledHours:function(){return s},disabledMinutes:function(e){return e===a?u:[]},disabledSeconds:function(e,t){return e===a&&t===o?c:[]}}}return null},isAllowedDateAndTime:function(e){return(0,_.isAllowedDate)(e[0],this.props.disabledDate,this.disabledStartTime)&&(0,_.isAllowedDate)(e[1],this.props.disabledDate,this.disabledEndTime)},hasSelectedValue:function(){var e=this.state.selectedValue;return!!e[1]&&!!e[0]},compare:function(e,t){return this.props.timePicker?e.diff(t):e.diff(t,"days")},fireSelectValueChange:function(e,t){"selectedValue"in this.props||this.setState({selectedValue:e}),this.state.selectedValue[0]&&this.state.selectedValue[1]||this.setState({selectedValue:e,value:e[0]||o()}),e[0]&&!e[1]&&this.setState({hoverValue:e.concat()}),this.props.onChange(e),(t||e[0]&&e[1])&&(this.setState({hoverValue:[]}),this.props.onSelect(e))},fireValueChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onValueChange(e)},clear:function(){this.fireSelectValueChange([],!0),this.props.onClear()},disabledStartTime:function(e){return this.props.disabledTime(e,"start")},disabledEndTime:function(e){return this.props.disabledTime(e,"end")},render:function(){var e,t,n=this.props,r=this.state,a=r.showTimePicker,o=n.prefixCls,i=n.dateInputPlaceholder,s=n.timePicker,l=n.showOk,u=n.locale,c=n.showClear,p=n.showToday,h=n.type,y=r.hoverValue,g=r.selectedValue,b=(e={},(0,m["default"])(e,n.className,!!n.className),(0,m["default"])(e,o,1),(0,m["default"])(e,o+"-hidden",!n.visible),(0,m["default"])(e,o+"-range",1),(0,m["default"])(e,o+"-show-time-picker",a),(0,m["default"])(e,o+"-week-number",n.showWeekNumber),e),C=(0,P["default"])(b),T={selectedValue:r.selectedValue,onSelect:this.onSelect,onDayHover:"start"===h&&g[1]||"end"===h&&g[0]||y.length?this.onDayHover:void 0},S=void 0,O=void 0;if(i)if(Array.isArray(i)){var M=(0,f["default"])(i,2);S=M[0],O=M[1]}else S=O=i;var D=l===!0||l!==!1&&!!s,N=(0,P["default"])((t={},(0,m["default"])(t,o+"-footer",!0),(0,m["default"])(t,o+"-range-bottom",!0),(0,m["default"])(t,o+"-footer-show-ok",D),t)),j=this.getStartValue(),R=this.getEndValue(),A=(0,_.getTodayTime)(j),I=A.month(),V=A.year(),F=V===j.year()||this.year===R.year(),L=F&&(I===j.month()||I===R.month());return v["default"].createElement("div",{ref:"root",className:C,style:n.style,tabIndex:"0"},n.renderSidebar(),v["default"].createElement("div",{className:o+"-panel"},c&&g[0]&&g[1]?v["default"].createElement("a",{className:o+"-clear-btn",role:"button",title:u.clear,onClick:this.clear}):null,v["default"].createElement("div",{className:o+"-date-panel",onMouseLeave:"both"!==h?this.onDatePanelLeave:void 0,onMouseEnter:"both"!==h?this.onDatePanelEnter:void 0},v["default"].createElement(w["default"],(0,d["default"])({},n,T,{hoverValue:y,direction:"left",disabledTime:this.disabledStartTime,format:this.getFormat(),value:j,placeholder:S,onInputSelect:this.onStartInputSelect,onValueChange:this.onStartValueChange,timePicker:s,showTimePicker:a})),v["default"].createElement("span",{className:o+"-range-middle"},"~"),v["default"].createElement(w["default"],(0,d["default"])({},n,T,{hoverValue:y,direction:"right",format:this.getFormat(),timePickerDisabledTime:this.getEndDisableTime(),placeholder:O,value:R,onInputSelect:this.onEndInputSelect,onValueChange:this.onEndValueChange,timePicker:s,showTimePicker:a,disabledTime:this.disabledEndTime}))),v["default"].createElement("div",{className:N},n.renderFooter(),p||n.timePicker||D?v["default"].createElement("div",{className:o+"-footer-btn"},p?v["default"].createElement(x["default"],(0,d["default"])({},n,{disabled:L,value:r.value,onToday:this.onToday,text:u.backToToday})):null,n.timePicker?v["default"].createElement(E["default"],(0,d["default"])({},n,{showTimePicker:a,onOpenTimePicker:this.onOpenTimePicker,onCloseTimePicker:this.onCloseTimePicker,timePickerDisabled:!this.hasSelectedValue()||y.length})):null,D?v["default"].createElement(k["default"],(0,d["default"])({},n,{value:r.value,onOk:this.onOk,okDisabled:!this.isAllowedDateAndTime(g)||!this.hasSelectedValue()||y.length})):null):null)))}});t["default"]=j,e.exports=t["default"]},376:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),d=r(c),p=n(264),f=r(p),h=n(6),m=r(h),y=n(255),v=r(y),g=n(253),b=r(g),C=n(254),P=r(C),T=u["default"].createClass({displayName:"CalendarFooter",propTypes:{prefixCls:l.PropTypes.string,showDateInput:l.PropTypes.bool,disabledTime:l.PropTypes.any,timePicker:l.PropTypes.element,selectedValue:l.PropTypes.any,showOk:l.PropTypes.bool,onSelect:l.PropTypes.func,value:l.PropTypes.object,renderFooter:l.PropTypes.func,defaultValue:l.PropTypes.object},onSelect:function(e){this.props.onSelect(e)},getRootDOMNode:function(){return d["default"].findDOMNode(this)},render:function(){var e=this.props,t=e.value,n=e.prefixCls,r=e.showOk,a=e.timePicker,i=e.renderFooter,l=null,c=i();if(e.showToday||a||c){var d,p=void 0;e.showToday&&(p=u["default"].createElement(v["default"],(0,s["default"])({},e,{value:t})));var h=void 0;(r===!0||r!==!1&&e.timePicker)&&(h=u["default"].createElement(b["default"],e));var y=void 0;e.timePicker&&(y=u["default"].createElement(P["default"],e));var g=void 0;(p||h)&&(g=u["default"].createElement("span",{className:n+"-footer-btn"},(0,f["default"])([p,y,h])));var C=(0,m["default"])((d={},(0,o["default"])(d,n+"-footer",!0),(0,o["default"])(d,n+"-footer-show-ok",h),d));l=u["default"].createElement("div",{className:C},c,g)}return l}});t["default"]=T,e.exports=t["default"]},377:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return e&&t&&e.isSame(t,"day")}function o(e,t){return e.year()<t.year()?1:e.year()===t.year()&&e.month()<t.month()}function i(e,t){return e.year()>t.year()?1:e.year()===t.year()&&e.month()>t.month()}function s(e){return"rc-calendar-"+e.year()+"-"+e.month()+"-"+e.date()}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(256),d=r(c),p=n(58),f=u["default"].createClass({displayName:"DateTBody",propTypes:{contentRender:l.PropTypes.func,dateRender:l.PropTypes.func,disabledDate:l.PropTypes.func,prefixCls:l.PropTypes.string,selectedValue:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.arrayOf(l.PropTypes.object)]),value:l.PropTypes.object,hoverValue:l.PropTypes.any,showWeekNumber:l.PropTypes.bool},getDefaultProps:function(){return{hoverValue:[]}},render:function(){var e=this.props,t=e.contentRender,n=e.prefixCls,r=e.selectedValue,l=e.value,c=e.showWeekNumber,f=e.dateRender,h=e.disabledDate,m=e.hoverValue,y=void 0,v=void 0,g=void 0,b=[],C=(0,p.getTodayTime)(l),P=n+"-cell",T=n+"-week-number-cell",w=n+"-date",_=n+"-today",S=n+"-selected-day",x=n+"-selected-date",O=n+"-in-range-cell",k=n+"-last-month-cell",M=n+"-next-month-btn-day",E=n+"-disabled-cell",D=n+"-disabled-cell-first-of-row",N=n+"-disabled-cell-last-of-row",j=l.clone();j.date(1);var R=j.day(),A=(R+7-l.localeData().firstDayOfWeek())%7,I=j.clone();I.add(0-A,"days");var V=0;for(y=0;y<d["default"].DATE_ROW_COUNT;y++)for(v=0;v<d["default"].DATE_COL_COUNT;v++)g=I,V&&(g=g.clone(),g.add(V,"days")),b.push(g),V++;var F=[];for(V=0,y=0;y<d["default"].DATE_ROW_COUNT;y++){var L=void 0,Y=void 0,U=[];for(c&&(Y=u["default"].createElement("td",{key:b[V].week(),role:"gridcell",className:T},b[V].week())),v=0;v<d["default"].DATE_COL_COUNT;v++){var W=null,H=null;g=b[V],v<d["default"].DATE_COL_COUNT-1&&(W=b[V+1]),v>0&&(H=b[V-1]);var z=P,K=!1,B=!1;a(g,C)&&(z+=" "+_,L=!0);var G=o(g,l),q=i(g,l);if(r&&Array.isArray(r)){var X=m.length?m:r;if(!G&&!q){var Z=X[0],Q=X[1];Z&&a(g,Z)&&(B=!0),Z&&Q&&(a(g,Q)?B=!0:g.isAfter(Z,"day")&&g.isBefore(Q,"day")&&(z+=" "+O))}}else a(g,l)&&(B=!0);a(g,r)&&(z+=" "+x),G&&(z+=" "+k),q&&(z+=" "+M),h&&h(g,l)&&(K=!0,H&&h(H,l)||(z+=" "+D),W&&h(W,l)||(z+=" "+N)),B&&(z+=" "+S),K&&(z+=" "+E);var $=void 0;if(f)$=f(g,l);else{var J=t?t(g,l):g.date();$=u["default"].createElement("div",{key:s(g),className:w,"aria-selected":B,"aria-disabled":K},J)}U.push(u["default"].createElement("td",{key:V,onClick:K?void 0:e.onSelect.bind(null,g),onMouseEnter:K?void 0:e.onDayHover&&e.onDayHover.bind(null,g)||void 0,role:"gridcell",title:(0,p.getTitleString)(g),className:z},$)),V++}F.push(u["default"].createElement("tr",{key:y,role:"row",className:L&&n+"-current-week"},Y,U))}return u["default"].createElement("tbody",{className:n+"-tbody"},F)}});t["default"]=f,e.exports=t["default"]},378:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(256),f=r(p),h=n(28),m=r(h),y=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){for(var e=this.props,t=e.value,n=t.localeData(),r=e.prefixCls,a=[],o=[],i=n.firstDayOfWeek(),s=void 0,l=(0,m["default"])(),u=0;u<f["default"].DATE_COL_COUNT;u++){var c=(i+u)%f["default"].DATE_COL_COUNT;l.day(c),a[u]=n.weekdaysMin(l),o[u]=n.weekdaysShort(l)}e.showWeekNumber&&(s=d["default"].createElement("th",{role:"columnheader",className:r+"-column-header "+r+"-week-number-header"},d["default"].createElement("span",{className:r+"-column-header-inner"},"x")));var p=o.map(function(e,t){return d["default"].createElement("th",{key:t,role:"columnheader",title:e,className:r+"-column-header"},d["default"].createElement("span",{className:r+"-column-header-inner"},a[t]))});return d["default"].createElement("thead",null,d["default"].createElement("tr",{role:"row"},s,p))},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},379:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"years"),this.setState({value:t})}function o(e,t){var n=this.state.value.clone();n.year(e),n.month(this.state.value.month()),this.props.onSelect(n),t.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=4,b=3,C=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.state={value:n.value||n.defaultValue},r.prefixCls=n.rootPrefixCls+"-decade-panel",r.nextCentury=a.bind(r,100),r.previousCentury=a.bind(r,-100),r}return(0,f["default"])(t,e),t.prototype.render=function(){for(var e=this,t=this.state.value,n=this.props.locale,r=t.year(),a=100*parseInt(r/100,10),i=a-10,l=a+99,u=[],c=0,d=this.prefixCls,p=0;p<g;p++){u[p]=[];for(var f=0;f<b;f++){var h=i+10*c,y=i+10*c+9;u[p][f]={startDecade:h,endDecade:y},c++}}var C=u.map(function(t,n){var i=t.map(function(t){var n,i=t.startDecade,u=t.endDecade,c=i<a,p=u>l,f=(n={},(0,s["default"])(n,d+"-cell",1),(0,s["default"])(n,d+"-selected-cell",i<=r&&r<=u),(0,s["default"])(n,d+"-last-century-cell",c),(0,s["default"])(n,d+"-next-century-cell",p),n),h=i+"-"+u,y=void 0;return y=c?e.previousCentury:p?e.nextCentury:o.bind(e,i),m["default"].createElement("td",{key:i,onClick:y,role:"gridcell",className:(0,v["default"])(f)},m["default"].createElement("a",{className:d+"-decade"},h))});return m["default"].createElement("tr",{key:n,role:"row"},i)});return m["default"].createElement("div",{className:this.prefixCls},m["default"].createElement("div",{className:d+"-header"},m["default"].createElement("a",{className:d+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:n.previousCentury}),m["default"].createElement("div",{className:d+"-century"},a,"-",l),m["default"].createElement("a",{className:d+"-next-century-btn",role:"button",onClick:this.nextCentury,title:n.nextCentury})),m["default"].createElement("div",{className:d+"-body"},m["default"].createElement("table",{className:d+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:d+"-tbody"},C))))},t}(m["default"].Component);t["default"]=C,C.propTypes={locale:h.PropTypes.object,value:h.PropTypes.object,defaultValue:h.PropTypes.object,rootPrefixCls:h.PropTypes.string},C.defaultProps={onSelect:function(){}},e.exports=t["default"]},380:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"Select time",dateSelect:"Select date",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthFormat:"MMMM",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t["default"]},381:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.month(e),this.setAndSelectValue(t)}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=n(58),b=4,C=3,P=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.state={value:n.value},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value})},t.prototype.setAndSelectValue=function(e){this.setState({value:e}),this.props.onSelect(e)},t.prototype.months=function n(){for(var e=this.state.value,t=e.clone(),n=[],r=e.localeData(),a=0,o=0;o<b;o++){n[o]=[];for(var i=0;i<C;i++){t.month(a);var s=r.monthsShort(t);n[o][i]={value:a,content:s,title:s},a++}}return n},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,r=(0,g.getTodayTime)(n),o=this.months(),i=n.month(),l=t.prefixCls,u=t.locale,c=t.contentRender,d=t.cellRender,p=o.map(function(o,p){var f=o.map(function(o){var p,f=!1;if(t.disabledDate){var h=n.clone();h.month(o.value),f=t.disabledDate(h)}var y=(p={},(0,s["default"])(p,l+"-cell",1),(0,s["default"])(p,l+"-cell-disabled",f),(0,s["default"])(p,l+"-selected-cell",o.value===i),(0,s["default"])(p,l+"-current-cell",r.year()===n.year()&&o.value===r.month()),p),g=void 0;if(d){var b=n.clone();b.month(o.value),g=d(b,u)}else{var C=void 0;if(c){var P=n.clone();P.month(o.value),C=c(P,u)}else C=o.content;g=m["default"].createElement("a",{className:l+"-month"},C)}return m["default"].createElement("td",{role:"gridcell",key:o.value,onClick:f?null:a.bind(e,o.value),title:o.title,className:(0,v["default"])(y)},g)});return m["default"].createElement("tr",{key:p,role:"row"},f)});return m["default"].createElement("table",{className:l+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:l+"-tbody"},p))},t}(h.Component);P.defaultProps={onSelect:o},P.propTypes={onSelect:h.PropTypes.func,cellRender:h.PropTypes.func,prefixCls:h.PropTypes.string,value:h.PropTypes.object},t["default"]=P,e.exports=t["default"]},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],a={bottomLeft:{points:["tl","tl"],overflow:n,offset:[0,-3],targetOffset:r},bottomRight:{points:["tr","tr"],overflow:n,offset:[0,-3],targetOffset:r},topRight:{points:["br","br"],overflow:n,offset:[0,3],targetOffset:r},topLeft:{points:["bl","bl"],overflow:n,offset:[0,3],targetOffset:r}};t["default"]=a,e.exports=t["default"]},383:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(1),s=r(i),l=n(252),u=r(l),c=n(258),d=r(c),p=n(257),f=r(p),h=n(58),m=s["default"].createClass({displayName:"CalendarPart",propTypes:{value:i.PropTypes.any,direction:i.PropTypes.any,prefixCls:i.PropTypes.any,locale:i.PropTypes.any,selectedValue:i.PropTypes.any,hoverValue:i.PropTypes.any,showTimePicker:i.PropTypes.bool,format:i.PropTypes.any,placeholder:i.PropTypes.any,disabledDate:i.PropTypes.any,timePicker:i.PropTypes.any,disabledTime:i.PropTypes.any,onInputSelect:i.PropTypes.func,timePickerDisabledTime:i.PropTypes.object},render:function(){var e=this.props,t=e.value,n=e.direction,r=e.prefixCls,a=e.locale,i=e.selectedValue,l=e.format,c=e.placeholder,p=e.disabledDate,m=e.timePicker,y=e.disabledTime,v=e.timePickerDisabledTime,g=e.showTimePicker,b=e.hoverValue,C=e.onInputSelect,P=g&&y&&m?(0,h.getTimeConfig)(i,y):null,T=r+"-range",w={locale:a,value:t,prefixCls:r,showTimePicker:g},_="left"===n?0:1,S=g&&m&&s["default"].cloneElement(m,(0,o["default"])({showHour:!0,showMinute:!0,showSecond:!0},m.props,P,v,{onChange:C,defaultOpenValue:t,value:i[_]}));return s["default"].createElement("div",{className:T+"-part "+T+"-"+n},s["default"].createElement(f["default"],{format:l,locale:a,prefixCls:r,timePicker:m,disabledDate:p,placeholder:c,disabledTime:y,value:t,showClear:!1,selectedValue:i[_],onChange:C}),s["default"].createElement("div",{style:{outline:"none"}},s["default"].createElement(u["default"],(0,o["default"])({},w,{enableNext:"right"===n,enablePrev:"left"===n,onValueChange:e.onValueChange})),g?s["default"].createElement("div",{className:r+"-time-picker"},s["default"].createElement("div",{className:r+"-time-picker-panel"},S)):null,s["default"].createElement("div",{className:r+"-body"},s["default"].createElement(d["default"],(0,o["default"])({},w,{hoverValue:b,selectedValue:i,dateRender:e.dateRender,onSelect:e.onSelect,onDayHover:e.onDayHover,disabledDate:p,showWeekNumber:e.showWeekNumber})))))}});t["default"]=m,e.exports=t["default"]},384:1043,385:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(388),s=r(i),l=function(e,t){var n=""+e;e<10&&(n="0"+e);var r=!1;return t&&t.indexOf(e)>=0&&(r=!0),{value:n,disabled:r}},u=o["default"].createClass({displayName:"Combobox",propTypes:{format:a.PropTypes.string,defaultOpenValue:a.PropTypes.object,prefixCls:a.PropTypes.string,value:a.PropTypes.object,onChange:a.PropTypes.func,showHour:a.PropTypes.bool,showMinute:a.PropTypes.bool,showSecond:a.PropTypes.bool,hourOptions:a.PropTypes.array,minuteOptions:a.PropTypes.array,secondOptions:a.PropTypes.array,disabledHours:a.PropTypes.func,disabledMinutes:a.PropTypes.func,disabledSeconds:a.PropTypes.func,onCurrentSelectPanelChange:a.PropTypes.func},onItemChange:function(e,t){var n=this.props,r=n.onChange,a=n.defaultOpenValue,o=(this.props.value||a).clone();"hour"===e?o.hour(t):"minute"===e?o.minute(t):o.second(t),r(o)},onEnterSelectPanel:function(e){this.props.onCurrentSelectPanelChange(e)},getHourSelect:function(e){var t=this.props,n=t.prefixCls,r=t.hourOptions,a=t.disabledHours,i=t.showHour;if(!i)return null;var u=a();return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,u)}),selectedIndex:r.indexOf(e),type:"hour",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"hour")})},getMinuteSelect:function(e){var t=this.props,n=t.prefixCls,r=t.minuteOptions,a=t.disabledMinutes,i=t.defaultOpenValue,u=t.showMinute;if(!u)return null;var c=this.props.value||i,d=a(c.hour());return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,d)}),selectedIndex:r.indexOf(e),type:"minute",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"minute")})},getSecondSelect:function(e){var t=this.props,n=t.prefixCls,r=t.secondOptions,a=t.disabledSeconds,i=t.showSecond,u=t.defaultOpenValue;if(!i)return null;var c=this.props.value||u,d=a(c.hour(),c.minute());return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,d)}),selectedIndex:r.indexOf(e),type:"second",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"second")})},render:function(){var e=this.props,t=e.prefixCls,n=e.defaultOpenValue,r=this.props.value||n;return o["default"].createElement("div",{className:t+"-combobox"},this.getHourSelect(r.hour()),this.getMinuteSelect(r.minute()),this.getSecondSelect(r.second()))}});t["default"]=u,e.exports=t["default"]},386:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(28),s=r(i),l=o["default"].createClass({displayName:"Header",propTypes:{format:a.PropTypes.string,prefixCls:a.PropTypes.string,disabledDate:a.PropTypes.func,placeholder:a.PropTypes.string,clearText:a.PropTypes.string,value:a.PropTypes.object,hourOptions:a.PropTypes.array,minuteOptions:a.PropTypes.array,secondOptions:a.PropTypes.array,disabledHours:a.PropTypes.func,disabledMinutes:a.PropTypes.func,disabledSeconds:a.PropTypes.func,onChange:a.PropTypes.func,onClear:a.PropTypes.func,onEsc:a.PropTypes.func,allowEmpty:a.PropTypes.bool,defaultOpenValue:a.PropTypes.object,currentSelectPanel:a.PropTypes.string},getInitialState:function(){var e=this.props,t=e.value,n=e.format;return{str:t&&t.format(n)||"",invalid:!1}},componentWillReceiveProps:function(e){var t=e.value,n=e.format;this.setState({str:t&&t.format(n)||"",invalid:!1})},onInputChange:function(e){var t=e.target.value;this.setState({str:t});var n=this.props,r=n.format,a=n.hourOptions,o=n.minuteOptions,i=n.secondOptions,l=n.disabledHours,u=n.disabledMinutes,c=n.disabledSeconds,d=n.onChange,p=n.allowEmpty;if(t){var f=this.props.value,h=this.getProtoValue().clone(),m=(0,s["default"])(t,r,!0);if(!m.isValid())return void this.setState({invalid:!0});if(h.hour(m.hour()).minute(m.minute()).second(m.second()),a.indexOf(h.hour())<0||o.indexOf(h.minute())<0||i.indexOf(h.second())<0)return void this.setState({invalid:!0});var y=l(),v=u(h.hour()),g=c(h.hour(),h.minute());if(y&&y.indexOf(h.hour())>=0||v&&v.indexOf(h.minute())>=0||g&&g.indexOf(h.second())>=0)return void this.setState({invalid:!0});if(f){if(f.hour()!==h.hour()||f.minute()!==h.minute()||f.second()!==h.second()){var b=f.clone();b.hour(h.hour()),b.minute(h.minute()),b.second(h.second()),d(b)}}else f!==h&&d(h)}else{if(!p)return void this.setState({invalid:!0});d(null)}this.setState({invalid:!1})},onKeyDown:function(e){27===e.keyCode&&this.props.onEsc()},onClear:function(){this.setState({str:""}),this.props.onClear()},getClearButton:function(){var e=this.props,t=e.prefixCls,n=e.allowEmpty;return n?o["default"].createElement("a",{className:t+"-clear-btn",role:"button",title:this.props.clearText,onMouseDown:this.onClear}):null},getProtoValue:function(){return this.props.value||this.props.defaultOpenValue},getInput:function(){var e=this.props,t=e.prefixCls,n=e.placeholder,r=this.state,a=r.invalid,i=r.str,s=a?t+"-input-invalid":"";return o["default"].createElement("input",{className:t+"-input  "+s,ref:"input",onKeyDown:this.onKeyDown,value:i,placeholder:n,onChange:this.onInputChange})},render:function(){var e=this.props.prefixCls;return o["default"].createElement("div",{className:e+"-input-wrap"},this.getInput(),this.getClearButton())}});t["default"]=l,e.exports=t["default"]},387:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t,n){for(var r=[],a=0;a<e;a++)(!t||t.indexOf(a)<0||!n)&&r.push(a);return r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(1),u=r(l),c=n(386),d=r(c),p=n(385),f=r(p),h=n(28),m=r(h),y=n(6),v=r(y),g=u["default"].createClass({displayName:"Panel",propTypes:{clearText:l.PropTypes.string,prefixCls:l.PropTypes.string,className:l.PropTypes.string,defaultOpenValue:l.PropTypes.object,value:l.PropTypes.object,placeholder:l.PropTypes.string,format:l.PropTypes.string,disabledHours:l.PropTypes.func,disabledMinutes:l.PropTypes.func,disabledSeconds:l.PropTypes.func,hideDisabledOptions:l.PropTypes.bool,onChange:l.PropTypes.func,onEsc:l.PropTypes.func,allowEmpty:l.PropTypes.bool,showHour:l.PropTypes.bool,showMinute:l.PropTypes.bool,showSecond:l.PropTypes.bool,onClear:l.PropTypes.func,addon:l.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-time-picker-panel",onChange:a,onClear:a,disabledHours:a,disabledMinutes:a,disabledSeconds:a,defaultOpenValue:(0,m["default"])(),addon:a}},getInitialState:function(){return{value:this.props.value,selectionRange:[]}},componentWillReceiveProps:function(e){var t=e.value;t&&this.setState({value:t})},onChange:function(e){this.setState({value:e}),this.props.onChange(e)},onClear:function(){this.props.onClear()},onCurrentSelectPanelChange:function(e){this.setState({currentSelectPanel:e})},close:function(){this.props.onEsc()},render:function(){var e,t=this.props,n=t.prefixCls,r=t.className,a=t.placeholder,i=t.disabledHours,l=t.disabledMinutes,c=t.disabledSeconds,p=t.hideDisabledOptions,h=t.allowEmpty,m=t.showHour,y=t.showMinute,g=t.showSecond,b=t.format,C=t.defaultOpenValue,P=t.clearText,T=t.onEsc,w=t.addon,_=this.state,S=_.value,x=_.currentSelectPanel,O=i(),k=l(S?S.hour():null),M=c(S?S.hour():null,S?S.minute():null),E=o(24,O,p),D=o(60,k,p),N=o(60,M,p);
return u["default"].createElement("div",{className:(0,v["default"])((e={},(0,s["default"])(e,n+"-inner",!0),(0,s["default"])(e,r,!!r),e))},u["default"].createElement(d["default"],{clearText:P,prefixCls:n,defaultOpenValue:C,value:S,currentSelectPanel:x,onEsc:T,format:b,placeholder:a,hourOptions:E,minuteOptions:D,secondOptions:N,disabledHours:i,disabledMinutes:l,disabledSeconds:c,onChange:this.onChange,onClear:this.onClear,allowEmpty:h}),u["default"].createElement(f["default"],{prefixCls:n,value:S,defaultOpenValue:C,format:b,onChange:this.onChange,showHour:m,showMinute:y,showSecond:g,hourOptions:E,minuteOptions:D,secondOptions:N,disabledHours:i,disabledMinutes:l,disabledSeconds:c,onCurrentSelectPanelChange:this.onCurrentSelectPanelChange}),w(this))}});t["default"]=g,e.exports=t["default"]},388:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(1),s=r(i),l=n(9),u=r(l),c=n(6),d=r(c),p=function h(e,t,n){var r=window.requestAnimationFrame||function(){return setTimeout(arguments[0],10)};if(n<=0)return void(e.scrollTop=t);var a=t-e.scrollTop,o=a/n*10;r(function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==t&&h(e,t,n-10)})},f=s["default"].createClass({displayName:"Select",propTypes:{prefixCls:i.PropTypes.string,options:i.PropTypes.array,selectedIndex:i.PropTypes.number,type:i.PropTypes.string,onSelect:i.PropTypes.func,onMouseEnter:i.PropTypes.func},componentDidMount:function(){this.scrollToSelected(0)},componentDidUpdate:function(e){e.selectedIndex!==this.props.selectedIndex&&this.scrollToSelected(120)},onSelect:function m(e){var t=this.props,m=t.onSelect,n=t.type;m(n,e)},getOptions:function(){var e=this,t=this.props,n=t.options,r=t.selectedIndex,a=t.prefixCls;return n.map(function(t,n){var i,l=(0,d["default"])((i={},(0,o["default"])(i,a+"-select-option-selected",r===n),(0,o["default"])(i,a+"-select-option-disabled",t.disabled),i)),u=null;return t.disabled||(u=e.onSelect.bind(e,+t.value)),s["default"].createElement("li",{className:l,key:n,onClick:u,disabled:t.disabled},t.value)})},scrollToSelected:function(e){var t=u["default"].findDOMNode(this),n=u["default"].findDOMNode(this.refs.list);if(n){var r=this.props.selectedIndex;r<0&&(r=0);var a=n.children[r],o=a.offsetTop;p(t,o,e)}},render:function(){if(0===this.props.options.length)return null;var e=this.props.prefixCls;return s["default"].createElement("div",{className:e+"-select",onMouseEnter:this.props.onMouseEnter},s["default"].createElement("ul",{ref:"list"},this.getOptions()))}});t["default"]=f,e.exports=t["default"]},695:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.location,n=e.loading,r=e.dataSource,a=e.pagination,o=e.onPageChange,s=[{title:"\u8ba2\u5355\u53f7",dataIndex:"order_id",key:"order_id"},{title:"\u8ba2\u5355\u7c7b\u578b",dataIndex:"type",key:"type",render:function(e){return p["default"].createElement("span",null,"1"==e?"\u5145\u503c":"\u6d88\u8d39")}},{title:"\u64cd\u4f5c\u7cfb\u7edf",dataIndex:"os",key:"os",render:function(e){return p["default"].createElement("span",null,"1"==e?p["default"].createElement("span",null,p["default"].createElement(c["default"],{type:"apple-o",style:{color:"rgb(160, 160, 160)"}})," IOS"):p["default"].createElement("span",null,p["default"].createElement(c["default"],{type:"android",style:{color:"rgb(171, 205, 5)"}})," Android"))}},{title:"\u91d1\u989d",dataIndex:"change",key:"change"},{title:"\u7528\u6237\u6635\u79f0",dataIndex:"user_name",key:"user_name"},{title:"\u7528\u6237\u624b\u673a",dataIndex:"user_phone",key:"user_phone"},{title:"\u5f53\u524d\u8bbe\u5907\u91d1\u989d",dataIndex:"current_money",key:"current_money"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"ctime",key:"ctime"}],u={page:t.query.page,current:a.current},d=function(e){return p["default"].createElement(y["default"],(0,l["default"])({},u,{body:e}))};return p["default"].createElement(i["default"],{className:h["default"].table,bordered:!0,scroll:{x:1200},columns:s,dataSource:r,loading:n,onChange:o,pagination:(0,l["default"])({},a,{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 "+e+" \u6761"}}),simple:!0,rowKey:function(e){return e.id},getBodyWrapper:d})}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(61),n(60)),i=r(o),s=n(2),l=r(s),u=(n(23),n(11)),c=r(u),d=n(1),p=r(d),f=n(872),h=r(f),m=n(154),y=r(m);a.propTypes={onPageChange:d.PropTypes.func,dataSource:d.PropTypes.array,loading:d.PropTypes.any,pagination:d.PropTypes.any},t["default"]=a,e.exports=t["default"]},696:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.phone,n=e.start_date,r=e.end_date,a=e.os,o=void 0===a?"":a,s=e.type,u=void 0===s?"":s,d=(e.status,e.onSearch),f=e.form,h=f.getFieldDecorator,m=f.validateFields,v=(f.getFieldsValue,{field:"phone",keyword:t,size:"large",select:!0,selectOptions:[{value:"phone",name:"\u624b\u673a\u53f7"}],selectProps:{defaultValue:"phone"},onSearch:function(e){m(function(t,n){if(!t){var r=n.date,a={};r.length&&(a.start_date=r[0].format("YYYY-MM-DD"),a.end_date=r[1].format("YYYY-MM-DD")),n.os&&(a.os=n.os),n.type&&(a.type=n.type),e.keyword&&(a[e.field]=e.keyword),d(a)}})}}),b={labelCol:{span:12},wrapperCol:{span:12}};return g["default"].createElement(i["default"],null,g["default"].createElement(y["default"],{inline:!0},g["default"].createElement(w,{label:"\u65e5\u671f\u67e5\u8be2",style:{marginBottom:20}},h("date",{initialValue:n&&r?[(0,C["default"])(n),(0,C["default"])(r)]:""})(g["default"].createElement(_,{style:{width:200}}))),g["default"].createElement(w,(0,l["default"])({},b,{label:"\u64cd\u4f5c\u7cfb\u7edf",style:{marginBottom:20,width:130,marginRight:50}}),h("os",{initialValue:o})(g["default"].createElement(p["default"],{style:{width:100}},g["default"].createElement(S,{value:""},"\u5168\u90e8"),g["default"].createElement(S,{value:"1"},g["default"].createElement(c["default"],{type:"apple-o",style:{color:"rgb(160, 160, 160)"}})," IOS"),g["default"].createElement(S,{value:"2"},g["default"].createElement(c["default"],{type:"android",style:{color:"rgb(171, 205, 5)"}})," Android")))),g["default"].createElement(w,(0,l["default"])({},b,{label:"\u8ba2\u5355\u7c7b\u578b",style:{marginBottom:20,width:130,marginRight:50}}),h("type",{initialValue:u})(g["default"].createElement(p["default"],{style:{width:100}},g["default"].createElement(S,{value:""},"\u5168\u90e8"),g["default"].createElement(S,{value:"1"},"\u5145\u503c"),g["default"].createElement(S,{value:"2"},"\u6d88\u8d39")))),g["default"].createElement(w,{style:{marginBottom:20,"float":"right",marginRight:0}},g["default"].createElement(T["default"],v))))}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(94),n(192)),i=r(o),s=n(2),l=r(s),u=(n(23),n(11)),c=r(u),d=(n(35),n(27)),p=r(d),f=(n(317),n(315)),h=r(f),m=(n(87),n(86)),y=r(m),v=n(1),g=r(v),b=n(28),C=r(b),P=n(153),T=r(P),w=y["default"].Item,_=h["default"].RangePicker,S=p["default"].Option;a.propTypes={form:v.PropTypes.object.isRequired,onSearch:v.PropTypes.func,field:v.PropTypes.string,keyword:v.PropTypes.string},t["default"]=y["default"].create()(a),e.exports=t["default"]},705:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(44),s=r(i),l=(n(64),n(37)),u=n(724),c=n(13);t["default"]={namespace:"orderFlow",state:{list:[],loading:!1,pagination:{current:1,pageSize:10,total:null}},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;n.listen(function(e){var n=e.pathname;if("/order/flow"===n){var r=(0,c.getCurPowers)(n);r?(t({type:"app/changeCurPowers",payload:{curPowers:r}}),t({type:"query"})):t(l.routerRedux.push({pathname:"/no-power"}))}})}},effects:{query:s["default"].mark(function d(e,t){var n,r,a=(e.payload,t.select),o=t.call,i=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"showLoading"});case 2:return e.next=4,a(function(e){var t=e.routing;return t.locationBeforeTransitions.query});case 4:return n=e.sent,e.next=7,o(u.query,n);case 7:if(r=e.sent,!r||!r.success){e.next=11;break}return e.next=11,i({type:"querySuccess",payload:{list:r.list,pagination:r.page}});case 11:return e.next=13,i({type:"hideLoading"});case 13:case"end":return e.stop()}},d,this)})},reducers:{querySuccess:function(e,t){return(0,o["default"])({},e,t.payload)},showLoading:function(e){return(0,o["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,o["default"])({},e,{loading:!1})}}},e.exports=t["default"]},717:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.location,n=(e.curPowers,e.dispatch),r=e.orderFlow,a=r.list,o=r.pagination,i=r.loading,l=t.query,d=l.phone,p=l.start_date,h=l.end_date,y=l.os,v=l.type,g=l.status,b={phone:d,start_date:p,end_date:h,os:y,type:v,status:g,onSearch:function(e){n(c.routerRedux.push({pathname:t.pathname,query:(0,s["default"])({},e)}))}},C={location:t,dataSource:a,loading:i,pagination:o,onPageChange:function(e){var r=t.query,a=t.pathname;n(c.routerRedux.push({pathname:a,query:(0,s["default"])({},r,{page:e.current,pageSize:e.pageSize})}))}};return u["default"].createElement("div",{className:"content-inner"},u["default"].createElement(m["default"],b),u["default"].createElement(f["default"],C))}function o(e){var t=e.orderFlow;return{orderFlow:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),l=n(1),u=r(l),c=n(37),d=n(62),p=n(695),f=r(p),h=n(696),m=r(h);n(13),n(74);a.propTypes={orderFlow:l.PropTypes.object,location:l.PropTypes.object,dispatch:l.PropTypes.func},t["default"]=(0,d.connect)(o)(a),e.exports=t["default"]},724:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.query=void 0;var a=n(44),o=r(a),i=n(155),s=r(i),l=(t.query=function(){var e=(0,s["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-wallet-history/list",{method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),n(13))},872:function(e,t){e.exports={table:"table___5e3xv",warning:"warning___2ssaj",danger:"danger___r_Vhp"}},1221:function(e,t,n,r){"use strict";n(10),n(r),n(25)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vb3JkZXItZmxvdy5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2NoZWNrYm94L2luZGV4LmpzPzA3NmYqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi91dGlsLmpzPzcxNTMqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi91dGlsLmpzPzEzYjkiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9zZWxlY3QvaW5kZXguanM/NmVjZCoiLCJ3ZWJwYWNrOi8vLy4vfi9tb21lbnQvbW9tZW50LmpzP2NiZDMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9yYWRpby5qcz9iMmRiKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9pbmRleC5qcz81MWFiKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2lucy5qcz9jMWI3Iiwid2VicGFjazovLy8uL34vc3R5bGUtdXRpbHMvbWFpbi5qcz9hOWJmIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcmFkaW8vaW5kZXguanM/ZWM5NioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi5qcz9kZWQwKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvQnV0dG9uLmpzPzFjMTcqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvQ29sdW1uR3JvdXAuanM/YjQ3MCoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jaGVja2JveC9saWIvaW5kZXguanM/YTNiZioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9LZXlDb2RlLmpzPzcxM2QqIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvbG9jYWxlL3poX0NOLmpzPzE4MzgqIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL3V0aWwvaW5kZXguanM/ZjliZiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL2luZGV4LmpzP2I1YmYqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvc3R5bGUvaW5kZXguanM/YTczMCoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lLmpzP2U2M2QiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL2Vhc2luZy5qcz8wYzkyIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qcz9mMTgwIiwid2VicGFjazovLy8uL34vcmFmL2luZGV4LmpzPzAxMTcqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvY2hlY2tib3gvR3JvdXAuanM/YjkxYyoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi1idXR0b24uanM/MWMxMSoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9pbmRleC5qcz9hMTAyKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2Ryb3Bkb3duL3N0eWxlL2luZGV4LmpzP2RkZDYqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9NaW5pU2VsZWN0LmpzPzI3Y2QqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzPzQ2OGIqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9pbmRleC5qcz9iZTFlKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vc3R5bGUvaW5kZXguanM/NjZiNioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9ncm91cC5qcz84M2NhKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3Jvdy9zdHlsZS9pbmRleC5qcz9iNTg2KiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL0NvbHVtbi5qcz83ZmE0KiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIuanM/MmE5YyoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9TZWxlY3Rpb25Cb3guanM/MzdmOCoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9TZWxlY3Rpb25DaGVja2JveEFsbC5qcz8xYmRjKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL1RhYmxlLmpzP2NmZTAqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvY3JlYXRlU3RvcmUuanM/ZmM3OCoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9maWx0ZXJEcm9wZG93bi5qcz81MmE3KiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL3V0aWwuanM/NmIxZSoiLCJ3ZWJwYWNrOi8vLy4vfi9kb20tY2xvc2VzdC9pbmRleC5qcz80OGQ0KiIsIndlYnBhY2s6Ly8vLi9+L2RvbS1tYXRjaGVzL2luZGV4LmpzPzBmMzMqIiwid2VicGFjazovLy8uL34vcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanM/YjhhMyoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jaGVja2JveC9saWIvQ2hlY2tib3guanM/OWU0YSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kcm9wZG93bi9saWIvRHJvcGRvd24uanM/YzkzOSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kcm9wZG93bi9saWIvaW5kZXguanM/ODA2MCoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kcm9wZG93bi9saWIvcGxhY2VtZW50cy5qcz9jNjJhKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXBhZ2luYXRpb24vbGliL09wdGlvbnMuanM/YWNiZSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdlci5qcz9lNDRkKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXBhZ2luYXRpb24vbGliL1BhZ2luYXRpb24uanM/NmViYSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9pbmRleC5qcz8zYTkxKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXJhZGlvL2xpYi9SYWRpby5qcz83NmZhKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXJhZGlvL2xpYi9pbmRleC5qcz85ZGFhKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvRHJvcGRvd25NZW51LmpzPzUwYzgqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9GaWx0ZXJNaXhpbi5qcz81MzI1KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvT3B0R3JvdXAuanM/MjhiNyoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL09wdGlvbi5qcz8yMDBkKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0LmpzP2NjZDMqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9TZWxlY3RUcmlnZ2VyLmpzPzUxMDEqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9pbmRleC5qcz80MGE3KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW4uanM/MDZkNSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvQ29sdW1uR3JvdXAuanM/ZmYwMyoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvQ29sdW1uTWFuYWdlci5qcz8yMDg1KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9FeHBhbmRJY29uLmpzPzI1Y2UqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL1RhYmxlLmpzP2FlMjIqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL1RhYmxlQ2VsbC5qcz9hZWNmKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUhlYWRlci5qcz9hOWNlKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZVJvdy5qcz84M2E3KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9jcmVhdGVTdG9yZS5qcz8zNTYxKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi91dGlscy5qcz9mOWI5KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXV0aWwvbGliL0NoaWxkcmVuL3RvQXJyYXkuanM/M2Q1MSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy11dGlsL2xpYi9LZXlDb2RlLmpzP2M2NzYqIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2guanM/M2NiMSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGFibGVCb2R5V3JhcHBlci5qcz8zNTkyIiwid2VicGFjazovLy8uL34vZGVlcC1lcWwvaW5kZXguanM/MzlkNyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmxlc3M/MWIxNiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvVGltZUxpbmUuanM/MGZlMSIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvVHdlZW5PbmVHcm91cC5qcz81YWM4Iiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9pbmRleC5qcz85Njk5Iiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW4vU3R5bGVQbHVnaW4uanM/NDA1MCIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvdGlja2VyLmpzP2M5OTgiLCJ3ZWJwYWNrOi8vLy4vfi90d2Vlbi1mdW5jdGlvbnMvaW5kZXguanM/MGY1ZiIsIndlYnBhY2s6Ly8vLi9+L3R5cGUtZGV0ZWN0L2luZGV4LmpzPzQ2MTIiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9fdXRpbC9nZXRMb2NhbGUuanM/ZmU0NCIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9taXhpbi9Db21tb25NaXhpbi5qcz83NDdiIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL01vbnRoQ2FsZW5kYXIuanM/YzQwMSIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9QaWNrZXIuanM/ODQ0YiIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9DYWxlbmRhckhlYWRlci5qcz8xZmQyIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL09rQnV0dG9uLmpzP2YwZDgiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvY2FsZW5kYXIvVGltZVBpY2tlckJ1dHRvbi5qcz81YTJlIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL1RvZGF5QnV0dG9uLmpzP2I0ZTMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlQ29uc3RhbnRzLmpzPzdjMjUiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlSW5wdXQuanM/OGFiZiIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVUYWJsZS5qcz84Mzg0Iiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2luZGV4LmpzPzg0MWYiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbG9jYWxlL3poX0NOLmpzPzZiNjMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbWl4aW4vQ2FsZW5kYXJNaXhpbi5qcz9mMjFlIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL21vbnRoL01vbnRoUGFuZWwuanM/NmIzMiIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi95ZWFyL1llYXJQYW5lbC5qcz8zMDYzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvfi9yYy11dGlsL2xpYi9DaGlsZHJlbi9tYXBTZWxmLmpzP2EzYjMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kYXRlLXBpY2tlci9DYWxlbmRhci5qcz81OTNiIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvUmFuZ2VQaWNrZXIuanM/ZTE5MyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2NyZWF0ZVBpY2tlci5qcz9mODc2Iiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvaW5kZXguanM/NDhkOCIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2xvY2FsZS96aF9DTi5qcz82ZmRmIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvc3R5bGUvaW5kZXguanM/YmRmMyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL3dyYXBQaWNrZXIuanM/ZDFkYSIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RpbWUtcGlja2VyL2xvY2FsZS96aF9DTi5qcz8wZThkIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzPzM1MGUiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcz8zOWM0Iiwid2VicGFjazovLy8uL34vY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlLmpzPzBiZDIiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzPzc3Y2MiLCJ3ZWJwYWNrOi8vLy4vfi9tb21lbnQvbG9jYWxlL3poLWNuLmpzPzI3YjIiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvQ2FsZW5kYXIuanM/OGIxOSIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9SYW5nZUNhbGVuZGFyLmpzPzU4YmYiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvY2FsZW5kYXIvQ2FsZW5kYXJGb290ZXIuanM/Yzk1OSIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVUQm9keS5qcz80YjlmIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2RhdGUvRGF0ZVRIZWFkLmpzPzNjY2EiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvZGVjYWRlL0RlY2FkZVBhbmVsLmpzP2I5YmIiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbG9jYWxlL2VuX1VTLmpzPzMyYzYiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbW9udGgvTW9udGhUYWJsZS5qcz85NmRhIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL3BpY2tlci9wbGFjZW1lbnRzLmpzPzQzZmIiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvcmFuZ2UtY2FsZW5kYXIvQ2FsZW5kYXJQYXJ0LmpzPzVmZTkiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10aW1lLXBpY2tlci9saWIvQ29tYm9ib3guanM/MTk3ZSIsIndlYnBhY2s6Ly8vLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9IZWFkZXIuanM/NThmYyIsIndlYnBhY2s6Ly8vLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9QYW5lbC5qcz8zOTdjIiwid2VicGFjazovLy8uL34vcmMtdGltZS1waWNrZXIvbGliL1NlbGVjdC5qcz82NTRlIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL29yZGVyL2Zsb3cvTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9vcmRlci9mbG93L1NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL29yZGVyL2Zsb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlcy9vcmRlci9GbG93LmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9vcmRlci9mbG93LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL29yZGVyL2Zsb3cvTGlzdC5sZXNzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzP2U1NWUqIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjE4IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwiX2V4dGVuZHMyIiwiX2V4dGVuZHMzIiwiX2RlZmluZVByb3BlcnR5MiIsIl9kZWZpbmVQcm9wZXJ0eTMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX3JjQ2hlY2tib3giLCJfcmNDaGVja2JveDIiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX0dyb3VwIiwiX0dyb3VwMiIsIl9jbGFzc25hbWVzIiwiX2NsYXNzbmFtZXMyIiwiX1B1cmVSZW5kZXJNaXhpbiIsIl9QdXJlUmVuZGVyTWl4aW4yIiwiX19yZXN0IiwicyIsImUiLCJ0IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJpIiwibGVuZ3RoIiwiQ2hlY2tib3giLCJfUmVhY3QkQ29tcG9uZW50IiwidGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJyZW5kZXIiLCJfYSIsInByb3BzIiwicHJlZml4Q2xzIiwic3R5bGUiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImluZGV0ZXJtaW5hdGUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJyZXN0UHJvcHMiLCJjbGFzc1N0cmluZyIsImNoZWNrYm94Q2xhc3MiLCJjcmVhdGVFbGVtZW50IiwiQ29tcG9uZW50IiwiR3JvdXAiLCJkZWZhdWx0UHJvcHMiLCIyMSIsImdldFZhbHVlUHJvcFZhbHVlIiwiY2hpbGQiLCJrZXkiLCJFcnJvciIsImdldFByb3BWYWx1ZSIsInByb3AiLCJpc0NvbWJvYm94IiwiY29tYm9ib3giLCJpc011bHRpcGxlT3JUYWdzIiwibXVsdGlwbGUiLCJ0YWdzIiwiaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3giLCJpc1NpbmdsZU1vZGUiLCJ0b0FycmF5IiwicmV0IiwiaXNBcnJheSIsInByZXZlbnREZWZhdWx0RXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZpbmRJbmRleEluVmFsdWVCeUtleSIsImluZGV4IiwiZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwiLCJsYWJlbCIsImpvaW4iLCJnZXRTZWxlY3RLZXlzIiwibWVudUl0ZW1zIiwic2VsZWN0ZWRLZXlzIiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiaXRlbSIsInR5cGUiLCJpc01lbnVJdGVtR3JvdXAiLCJjb25jYXQiLCJpdGVtVmFsdWUiLCJpdGVtS2V5IiwicHVzaCIsImZpbmRGaXJzdE1lbnVJdGVtIiwiZm91bmQiLCJkaXNhYmxlZCIsImluY2x1ZGVzU2VwYXJhdG9ycyIsInN0cmluZyIsInNlcGFyYXRvcnMiLCJsYXN0SW5kZXhPZiIsInNwbGl0QnlTZXBhcmF0b3JzIiwicmVnIiwiUmVnRXhwIiwiYXJyYXkiLCJzcGxpdCIsInNoaWZ0IiwicG9wIiwiVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSIsIlVOU0VMRUNUQUJMRV9TVFlMRSIsInVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwidW5zZWxlY3RhYmxlIiwiMjIiLCJ0b0FycmF5Q2hpbGRyZW4iLCJjIiwiZGF0YVRvQXJyYXkiLCJ2YXJzIiwib2JqZWN0RXF1YWwiLCJvYmoxIiwib2JqMiIsIl9kZWVwRXFsMiIsImVxdWFsQm9vbCIsImN1cnJlbnRPYmoiLCJuZXh0T2JqIiwiX3R5cGVvZiIsIm5hbWUiLCJzZXRFcXVhbEJvb2wiLCJvYmpBIiwib2JqQiIsImtleXMiLCJmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkiLCJtZXJnZUNoaWxkcmVuIiwicHJldiIsIm5leHQiLCJuZXh0Q2hpbGRyZW5QZW5kaW5nIiwicGVuZGluZ0NoaWxkcmVuIiwiZm9sbG93Q2hpbGRyZW5LZXkiLCJ0cmFuc2Zvcm1Bcmd1bWVudHMiLCJhcmciLCJyZXN1bHQiLCJnZXRDaGlsZHJlbkZyb21Qcm9wcyIsInN0YXJ0Q29udmVydFRvRW5kVW5pdCIsInRhcmdldCIsIm51bSIsInVuaXQiLCJkYXRhVW5pdCIsImZpeGVkIiwiaXNPcmlnaW5XaWR0aCIsImhvcml6IiwidGVzdCIsInBhcmVudE5vZGUiLCJkb2N1bWVudCIsImJvZHkiLCJwaXgiLCJwYXJzZUZsb2F0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXRjaCIsInBhcnNlUGF0aCIsInBhdGgiLCJjaGFyQXQiLCJkb21QYXRoIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0VHJhbnNmb3JtVmFsdWUiLCJzdXBwb3J0czNEIiwicGVyc3BlY3RpdmUiLCJhbmdsZSIsInJvdGF0ZSIsInJvdGF0ZVgiLCJyb3RhdGVZIiwic3giLCJzY2FsZVgiLCJzeSIsInNjYWxlWSIsInN6Iiwic2NhbGVaIiwic2t4Iiwic2tld1giLCJza3kiLCJza2V3WSIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInRyYW5zbGF0ZVoiLCJwZXJjZW50Iiwic2siLCJhbiIsInNzIiwidHJhbnNsYXRlIiwiclgiLCJyWSIsInBlciIsInRyYW5zbGF0ZTNkIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl9kZWVwRXFsIiwiMjciLCJfcmNTZWxlY3QiLCJfcmNTZWxlY3QyIiwiU2VsZWN0IiwiX2NsYXNzTmFtZXMiLCJfcHJvcHMiLCJfcHJvcHMkY2xhc3NOYW1lIiwic2l6ZSIsIl9wcm9wczIiLCJfcHJvcHMyJG5vdEZvdW5kQ29udGUiLCJub3RGb3VuZENvbnRlbnQiLCJvcHRpb25MYWJlbFByb3AiLCJjbHMiLCJhbnRMb2NhbGUiLCJjb250ZXh0IiwiT3B0aW9uIiwiT3B0R3JvdXAiLCJzaG93U2VhcmNoIiwidHJhbnNpdGlvbk5hbWUiLCJjaG9pY2VUcmFuc2l0aW9uTmFtZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mIiwiYm9vbCIsImFueSIsIjI4IiwiZ2xvYmFsIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsIm1vbWVudCIsImhvb2tzIiwiaG9va0NhbGxiYWNrIiwic2V0SG9va0NhbGxiYWNrIiwiY2FsbGJhY2siLCJpbnB1dCIsInRvU3RyaW5nIiwiaXNPYmplY3QiLCJpc09iamVjdEVtcHR5IiwiayIsImlzTnVtYmVyIiwiaXNEYXRlIiwiRGF0ZSIsIm1hcCIsImFyciIsImZuIiwicmVzIiwiaGFzT3duUHJvcCIsImEiLCJiIiwiZXh0ZW5kIiwidmFsdWVPZiIsImNyZWF0ZVVUQyIsImZvcm1hdCIsImxvY2FsZSIsInN0cmljdCIsImNyZWF0ZUxvY2FsT3JVVEMiLCJ1dGMiLCJkZWZhdWx0UGFyc2luZ0ZsYWdzIiwiZW1wdHkiLCJ1bnVzZWRUb2tlbnMiLCJ1bnVzZWRJbnB1dCIsIm92ZXJmbG93IiwiY2hhcnNMZWZ0T3ZlciIsIm51bGxJbnB1dCIsImludmFsaWRNb250aCIsImludmFsaWRGb3JtYXQiLCJ1c2VySW52YWxpZGF0ZWQiLCJpc28iLCJwYXJzZWREYXRlUGFydHMiLCJtZXJpZGllbSIsImdldFBhcnNpbmdGbGFncyIsIm0iLCJfcGYiLCJpc1ZhbGlkIiwiX2lzVmFsaWQiLCJmbGFncyIsInBhcnNlZFBhcnRzIiwic29tZSQxIiwiaXNOb3dWYWxpZCIsImlzTmFOIiwiX2QiLCJnZXRUaW1lIiwiaW52YWxpZFdlZWtkYXkiLCJfc3RyaWN0IiwiYmlnSG91ciIsImlzRnJvemVuIiwiY3JlYXRlSW52YWxpZCIsIk5hTiIsImlzVW5kZWZpbmVkIiwiY29weUNvbmZpZyIsInRvIiwiZnJvbSIsInZhbCIsIl9pc0FNb21lbnRPYmplY3QiLCJfaSIsIl9mIiwiX2wiLCJfdHptIiwiX2lzVVRDIiwiX29mZnNldCIsIl9sb2NhbGUiLCJtb21lbnRQcm9wZXJ0aWVzIiwiTW9tZW50IiwiY29uZmlnIiwidXBkYXRlSW5Qcm9ncmVzcyIsInVwZGF0ZU9mZnNldCIsImlzTW9tZW50IiwiYWJzRmxvb3IiLCJudW1iZXIiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwidG9JbnQiLCJhcmd1bWVudEZvckNvZXJjaW9uIiwiY29lcmNlZE51bWJlciIsImlzRmluaXRlIiwiY29tcGFyZUFycmF5cyIsImFycmF5MSIsImFycmF5MiIsImRvbnRDb252ZXJ0IiwibGVuIiwibWluIiwibGVuZ3RoRGlmZiIsImFicyIsImRpZmZzIiwid2FybiIsIm1zZyIsInN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyIsImNvbnNvbGUiLCJkZXByZWNhdGUiLCJmaXJzdFRpbWUiLCJkZXByZWNhdGlvbkhhbmRsZXIiLCJzbGljZSIsInN0YWNrIiwiZGVwcmVjYXRlU2ltcGxlIiwiZGVwcmVjYXRpb25zIiwiaXNGdW5jdGlvbiIsIkZ1bmN0aW9uIiwic2V0IiwiX2NvbmZpZyIsIl9vcmRpbmFsUGFyc2VMZW5pZW50IiwiX29yZGluYWxQYXJzZSIsInNvdXJjZSIsIm1lcmdlQ29uZmlncyIsInBhcmVudENvbmZpZyIsImNoaWxkQ29uZmlnIiwiTG9jYWxlIiwiY2FsZW5kYXIiLCJtb20iLCJub3ciLCJvdXRwdXQiLCJfY2FsZW5kYXIiLCJsb25nRGF0ZUZvcm1hdCIsIl9sb25nRGF0ZUZvcm1hdCIsImZvcm1hdFVwcGVyIiwidG9VcHBlckNhc2UiLCJyZXBsYWNlIiwiaW52YWxpZERhdGUiLCJfaW52YWxpZERhdGUiLCJvcmRpbmFsIiwiX29yZGluYWwiLCJyZWxhdGl2ZVRpbWUiLCJ3aXRob3V0U3VmZml4IiwiaXNGdXR1cmUiLCJfcmVsYXRpdmVUaW1lIiwicGFzdEZ1dHVyZSIsImRpZmYiLCJhZGRVbml0QWxpYXMiLCJzaG9ydGhhbmQiLCJsb3dlckNhc2UiLCJ0b0xvd2VyQ2FzZSIsImFsaWFzZXMiLCJub3JtYWxpemVVbml0cyIsInVuaXRzIiwibm9ybWFsaXplT2JqZWN0VW5pdHMiLCJpbnB1dE9iamVjdCIsIm5vcm1hbGl6ZWRQcm9wIiwibm9ybWFsaXplZElucHV0IiwiYWRkVW5pdFByaW9yaXR5IiwicHJpb3JpdHkiLCJwcmlvcml0aWVzIiwiZ2V0UHJpb3JpdGl6ZWRVbml0cyIsInVuaXRzT2JqIiwidSIsInNvcnQiLCJtYWtlR2V0U2V0Iiwia2VlcFRpbWUiLCJzZXQkMSIsImdldCIsInN0cmluZ0dldCIsInN0cmluZ1NldCIsInByaW9yaXRpemVkIiwiemVyb0ZpbGwiLCJ0YXJnZXRMZW5ndGgiLCJmb3JjZVNpZ24iLCJhYnNOdW1iZXIiLCJ6ZXJvc1RvRmlsbCIsInNpZ24iLCJwb3ciLCJtYXgiLCJzdWJzdHIiLCJhZGRGb3JtYXRUb2tlbiIsInRva2VuIiwicGFkZGVkIiwiZnVuYyIsImZvcm1hdFRva2VuRnVuY3Rpb25zIiwibG9jYWxlRGF0YSIsInJlbW92ZUZvcm1hdHRpbmdUb2tlbnMiLCJtYWtlRm9ybWF0RnVuY3Rpb24iLCJmb3JtYXR0aW5nVG9rZW5zIiwiZm9ybWF0TW9tZW50IiwiZXhwYW5kRm9ybWF0IiwiZm9ybWF0RnVuY3Rpb25zIiwicmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zIiwibG9jYWxGb3JtYXR0aW5nVG9rZW5zIiwibGFzdEluZGV4IiwiYWRkUmVnZXhUb2tlbiIsInJlZ2V4Iiwic3RyaWN0UmVnZXgiLCJyZWdleGVzIiwiaXNTdHJpY3QiLCJnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4iLCJ1bmVzY2FwZUZvcm1hdCIsInJlZ2V4RXNjYXBlIiwibWF0Y2hlZCIsInAxIiwicDIiLCJwMyIsInA0IiwiYWRkUGFyc2VUb2tlbiIsInRva2VucyIsImFkZFdlZWtQYXJzZVRva2VuIiwiX3ciLCJhZGRUaW1lVG9BcnJheUZyb21Ub2tlbiIsImRheXNJbk1vbnRoIiwieWVhciIsIm1vbnRoIiwiVVRDIiwiZ2V0VVRDRGF0ZSIsImxvY2FsZU1vbnRocyIsIl9tb250aHMiLCJpc0Zvcm1hdCIsIk1PTlRIU19JTl9GT1JNQVQiLCJsb2NhbGVNb250aHNTaG9ydCIsIl9tb250aHNTaG9ydCIsImhhbmRsZVN0cmljdFBhcnNlIiwibW9udGhOYW1lIiwiaWkiLCJsbGMiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIl9tb250aHNQYXJzZSIsIl9sb25nTW9udGhzUGFyc2UiLCJfc2hvcnRNb250aHNQYXJzZSIsIm1vbnRoc1Nob3J0IiwibW9udGhzIiwiaW5kZXhPZiQxIiwibG9jYWxlTW9udGhzUGFyc2UiLCJfbW9udGhzUGFyc2VFeGFjdCIsInNldE1vbnRoIiwiZGF5T2ZNb250aCIsIm1vbnRoc1BhcnNlIiwiZGF0ZSIsImdldFNldE1vbnRoIiwiZ2V0RGF5c0luTW9udGgiLCJtb250aHNTaG9ydFJlZ2V4IiwiY29tcHV0ZU1vbnRoc1BhcnNlIiwiX21vbnRoc1Nob3J0U3RyaWN0UmVnZXgiLCJfbW9udGhzU2hvcnRSZWdleCIsImRlZmF1bHRNb250aHNTaG9ydFJlZ2V4IiwibW9udGhzUmVnZXgiLCJfbW9udGhzU3RyaWN0UmVnZXgiLCJfbW9udGhzUmVnZXgiLCJkZWZhdWx0TW9udGhzUmVnZXgiLCJjbXBMZW5SZXYiLCJzaG9ydFBpZWNlcyIsImxvbmdQaWVjZXMiLCJtaXhlZFBpZWNlcyIsImRheXNJblllYXIiLCJpc0xlYXBZZWFyIiwiZ2V0SXNMZWFwWWVhciIsImNyZWF0ZURhdGUiLCJ5IiwiZCIsImgiLCJNIiwibXMiLCJnZXRGdWxsWWVhciIsInNldEZ1bGxZZWFyIiwiY3JlYXRlVVRDRGF0ZSIsImdldFVUQ0Z1bGxZZWFyIiwic2V0VVRDRnVsbFllYXIiLCJmaXJzdFdlZWtPZmZzZXQiLCJkb3ciLCJkb3kiLCJmd2QiLCJmd2RsdyIsImdldFVUQ0RheSIsImRheU9mWWVhckZyb21XZWVrcyIsIndlZWsiLCJ3ZWVrZGF5IiwicmVzWWVhciIsInJlc0RheU9mWWVhciIsImxvY2FsV2Vla2RheSIsIndlZWtPZmZzZXQiLCJkYXlPZlllYXIiLCJ3ZWVrT2ZZZWFyIiwicmVzV2VlayIsIndlZWtzSW5ZZWFyIiwid2Vla09mZnNldE5leHQiLCJsb2NhbGVXZWVrIiwiX3dlZWsiLCJsb2NhbGVGaXJzdERheU9mV2VlayIsImxvY2FsZUZpcnN0RGF5T2ZZZWFyIiwiZ2V0U2V0V2VlayIsImFkZCIsImdldFNldElTT1dlZWsiLCJwYXJzZVdlZWtkYXkiLCJ3ZWVrZGF5c1BhcnNlIiwicGFyc2VJbnQiLCJwYXJzZUlzb1dlZWtkYXkiLCJsb2NhbGVXZWVrZGF5cyIsIl93ZWVrZGF5cyIsImRheSIsImxvY2FsZVdlZWtkYXlzU2hvcnQiLCJfd2Vla2RheXNTaG9ydCIsImxvY2FsZVdlZWtkYXlzTWluIiwiX3dlZWtkYXlzTWluIiwiaGFuZGxlU3RyaWN0UGFyc2UkMSIsIndlZWtkYXlOYW1lIiwiX3dlZWtkYXlzUGFyc2UiLCJfc2hvcnRXZWVrZGF5c1BhcnNlIiwiX21pbldlZWtkYXlzUGFyc2UiLCJ3ZWVrZGF5c01pbiIsIndlZWtkYXlzU2hvcnQiLCJ3ZWVrZGF5cyIsImxvY2FsZVdlZWtkYXlzUGFyc2UiLCJfd2Vla2RheXNQYXJzZUV4YWN0IiwiX2Z1bGxXZWVrZGF5c1BhcnNlIiwiZ2V0U2V0RGF5T2ZXZWVrIiwiZ2V0RGF5IiwiZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIiwiZ2V0U2V0SVNPRGF5T2ZXZWVrIiwid2Vla2RheXNSZWdleCIsImNvbXB1dGVXZWVrZGF5c1BhcnNlIiwiX3dlZWtkYXlzU3RyaWN0UmVnZXgiLCJfd2Vla2RheXNSZWdleCIsImRlZmF1bHRXZWVrZGF5c1JlZ2V4Iiwid2Vla2RheXNTaG9ydFJlZ2V4IiwiX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCIsIl93ZWVrZGF5c1Nob3J0UmVnZXgiLCJkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4Iiwid2Vla2RheXNNaW5SZWdleCIsIl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IiwiX3dlZWtkYXlzTWluUmVnZXgiLCJkZWZhdWx0V2Vla2RheXNNaW5SZWdleCIsIm1pbnAiLCJzaG9ydHAiLCJsb25ncCIsIm1pblBpZWNlcyIsImhGb3JtYXQiLCJob3VycyIsImtGb3JtYXQiLCJsb3dlcmNhc2UiLCJtaW51dGVzIiwibWF0Y2hNZXJpZGllbSIsIl9tZXJpZGllbVBhcnNlIiwibG9jYWxlSXNQTSIsImxvY2FsZU1lcmlkaWVtIiwiaXNMb3dlciIsIm5vcm1hbGl6ZUxvY2FsZSIsImNob29zZUxvY2FsZSIsIm5hbWVzIiwiaiIsImxvYWRMb2NhbGUiLCJvbGRMb2NhbGUiLCJsb2NhbGVzIiwiZ2xvYmFsTG9jYWxlIiwiX2FiYnIiLCJyZXF1aXJlIiwiZ2V0U2V0R2xvYmFsTG9jYWxlIiwidmFsdWVzIiwiZGF0YSIsImdldExvY2FsZSIsImRlZmluZUxvY2FsZSIsImJhc2VDb25maWciLCJhYmJyIiwicGFyZW50TG9jYWxlIiwibG9jYWxlRmFtaWxpZXMiLCJ4IiwidXBkYXRlTG9jYWxlIiwibGlzdExvY2FsZXMiLCJrZXlzJDEiLCJjaGVja092ZXJmbG93IiwiTU9OVEgiLCJEQVRFIiwiWUVBUiIsIkhPVVIiLCJNSU5VVEUiLCJTRUNPTkQiLCJNSUxMSVNFQ09ORCIsIl9vdmVyZmxvd0RheU9mWWVhciIsIl9vdmVyZmxvd1dlZWtzIiwiV0VFSyIsIl9vdmVyZmxvd1dlZWtkYXkiLCJXRUVLREFZIiwiY29uZmlnRnJvbUlTTyIsImwiLCJhbGxvd1RpbWUiLCJkYXRlRm9ybWF0IiwidGltZUZvcm1hdCIsInR6Rm9ybWF0IiwiZXh0ZW5kZWRJc29SZWdleCIsImV4ZWMiLCJiYXNpY0lzb1JlZ2V4IiwiaXNvRGF0ZXMiLCJpc29UaW1lcyIsInR6UmVnZXgiLCJjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0IiwiY29uZmlnRnJvbVN0cmluZyIsImFzcE5ldEpzb25SZWdleCIsImNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrIiwiZGVmYXVsdHMiLCJjdXJyZW50RGF0ZUFycmF5Iiwibm93VmFsdWUiLCJfdXNlVVRDIiwiZ2V0VVRDTW9udGgiLCJnZXRNb250aCIsImdldERhdGUiLCJjb25maWdGcm9tQXJyYXkiLCJjdXJyZW50RGF0ZSIsInllYXJUb1VzZSIsImRheU9mWWVhckZyb21XZWVrSW5mbyIsIl9kYXlPZlllYXIiLCJfbmV4dERheSIsInNldFVUQ01pbnV0ZXMiLCJnZXRVVENNaW51dGVzIiwidyIsIndlZWtZZWFyIiwidGVtcCIsIndlZWtkYXlPdmVyZmxvdyIsIkdHIiwiVyIsIkUiLCJjcmVhdGVMb2NhbCIsImN1cldlZWsiLCJnZyIsIklTT184NjAxIiwicGFyc2VkSW5wdXQiLCJza2lwcGVkIiwic3RyaW5nTGVuZ3RoIiwidG90YWxQYXJzZWRJbnB1dExlbmd0aCIsIl9tZXJpZGllbSIsIm1lcmlkaWVtRml4V3JhcCIsImhvdXIiLCJpc1BtIiwibWVyaWRpZW1Ib3VyIiwiaXNQTSIsImNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheSIsInRlbXBDb25maWciLCJiZXN0TW9tZW50Iiwic2NvcmVUb0JlYXQiLCJjdXJyZW50U2NvcmUiLCJzY29yZSIsImNvbmZpZ0Zyb21PYmplY3QiLCJtaW51dGUiLCJzZWNvbmQiLCJtaWxsaXNlY29uZCIsImNyZWF0ZUZyb21Db25maWciLCJwcmVwYXJlQ29uZmlnIiwicHJlcGFyc2UiLCJjb25maWdGcm9tSW5wdXQiLCJpc1VUQyIsInBpY2tCeSIsIm1vbWVudHMiLCJEdXJhdGlvbiIsImR1cmF0aW9uIiwieWVhcnMiLCJxdWFydGVycyIsInF1YXJ0ZXIiLCJ3ZWVrcyIsImRheXMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiX21pbGxpc2Vjb25kcyIsIl9kYXlzIiwiX2RhdGEiLCJfYnViYmxlIiwiaXNEdXJhdGlvbiIsImFic1JvdW5kIiwicm91bmQiLCJvZmZzZXQiLCJzZXBhcmF0b3IiLCJ1dGNPZmZzZXQiLCJvZmZzZXRGcm9tU3RyaW5nIiwibWF0Y2hlciIsIm1hdGNoZXMiLCJjaHVuayIsInBhcnRzIiwiY2h1bmtPZmZzZXQiLCJjbG9uZVdpdGhPZmZzZXQiLCJtb2RlbCIsImNsb25lIiwic2V0VGltZSIsImxvY2FsIiwiZ2V0RGF0ZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwiZ2V0U2V0T2Zmc2V0Iiwia2VlcExvY2FsVGltZSIsImxvY2FsQWRqdXN0IiwibWF0Y2hTaG9ydE9mZnNldCIsIl9jaGFuZ2VJblByb2dyZXNzIiwiYWRkU3VidHJhY3QiLCJjcmVhdGVEdXJhdGlvbiIsImdldFNldFpvbmUiLCJzZXRPZmZzZXRUb1VUQyIsInNldE9mZnNldFRvTG9jYWwiLCJzdWJ0cmFjdCIsInNldE9mZnNldFRvUGFyc2VkT2Zmc2V0IiwidFpvbmUiLCJtYXRjaE9mZnNldCIsImhhc0FsaWduZWRIb3VyT2Zmc2V0IiwiaXNEYXlsaWdodFNhdmluZ1RpbWUiLCJpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQiLCJfaXNEU1RTaGlmdGVkIiwib3RoZXIiLCJpc0xvY2FsIiwiaXNVdGNPZmZzZXQiLCJpc1V0YyIsImRpZmZSZXMiLCJhc3BOZXRSZWdleCIsImlzb1JlZ2V4IiwicGFyc2VJc28iLCJtb21lbnRzRGlmZmVyZW5jZSIsImlucCIsInBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UiLCJiYXNlIiwiaXNBZnRlciIsImlzQmVmb3JlIiwiY3JlYXRlQWRkZXIiLCJkaXJlY3Rpb24iLCJwZXJpb2QiLCJkdXIiLCJ0bXAiLCJpc0FkZGluZyIsImdldENhbGVuZGFyRm9ybWF0IiwibXlNb21lbnQiLCJjYWxlbmRhciQxIiwidGltZSIsImZvcm1hdHMiLCJzb2QiLCJzdGFydE9mIiwiY2FsZW5kYXJGb3JtYXQiLCJsb2NhbElucHV0IiwiZW5kT2YiLCJpc0JldHdlZW4iLCJpbmNsdXNpdml0eSIsImlzU2FtZSIsImlucHV0TXMiLCJpc1NhbWVPckFmdGVyIiwiaXNTYW1lT3JCZWZvcmUiLCJhc0Zsb2F0IiwidGhhdCIsInpvbmVEZWx0YSIsImRlbHRhIiwibW9udGhEaWZmIiwiYW5jaG9yMiIsImFkanVzdCIsIndob2xlTW9udGhEaWZmIiwiYW5jaG9yIiwidG9JU09TdHJpbmciLCJ0b0RhdGUiLCJpbnNwZWN0Iiwiem9uZSIsInByZWZpeCIsImRhdGV0aW1lIiwic3VmZml4IiwiaW5wdXRTdHJpbmciLCJkZWZhdWx0Rm9ybWF0VXRjIiwiZGVmYXVsdEZvcm1hdCIsInBvc3Rmb3JtYXQiLCJodW1hbml6ZSIsImZyb21Ob3ciLCJ0b05vdyIsIm5ld0xvY2FsZURhdGEiLCJpc29XZWVrZGF5IiwidW5peCIsInRvT2JqZWN0IiwidG9KU09OIiwiaXNWYWxpZCQxIiwicGFyc2luZ0ZsYWdzIiwiaW52YWxpZEF0IiwiY3JlYXRpb25EYXRhIiwiYWRkV2Vla1llYXJGb3JtYXRUb2tlbiIsImdldHRlciIsImdldFNldFdlZWtZZWFyIiwiZ2V0U2V0V2Vla1llYXJIZWxwZXIiLCJnZXRTZXRJU09XZWVrWWVhciIsImlzb1dlZWsiLCJnZXRJU09XZWVrc0luWWVhciIsImdldFdlZWtzSW5ZZWFyIiwid2Vla0luZm8iLCJ3ZWVrc1RhcmdldCIsInNldFdlZWtBbGwiLCJkYXlPZlllYXJEYXRhIiwiZ2V0U2V0UXVhcnRlciIsImdldFNldERheU9mWWVhciIsInBhcnNlTXMiLCJnZXRab25lQWJiciIsImdldFpvbmVOYW1lIiwiY3JlYXRlVW5peCIsImNyZWF0ZUluWm9uZSIsInBhcnNlWm9uZSIsInByZVBhcnNlUG9zdEZvcm1hdCIsImdldCQxIiwiZmllbGQiLCJzZXR0ZXIiLCJsaXN0TW9udGhzSW1wbCIsIm91dCIsImxpc3RXZWVrZGF5c0ltcGwiLCJsb2NhbGVTb3J0ZWQiLCJsaXN0TW9udGhzIiwibGlzdE1vbnRoc1Nob3J0IiwibGlzdFdlZWtkYXlzIiwibGlzdFdlZWtkYXlzU2hvcnQiLCJsaXN0V2Vla2RheXNNaW4iLCJtYXRoQWJzIiwiYWRkU3VidHJhY3QkMSIsImFkZCQxIiwic3VidHJhY3QkMSIsImFic0NlaWwiLCJidWJibGUiLCJtb250aHNGcm9tRGF5cyIsIm1vbnRoc1RvRGF5cyIsImRheXNUb01vbnRocyIsImFzIiwidmFsdWVPZiQxIiwibWFrZUFzIiwiYWxpYXMiLCJnZXQkMiIsIm1ha2VHZXR0ZXIiLCJzdWJzdGl0dXRlVGltZUFnbyIsInJlbGF0aXZlVGltZSQxIiwicG9zTmVnRHVyYXRpb24iLCJ0aHJlc2hvbGRzIiwiZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmciLCJyb3VuZGluZ0Z1bmN0aW9uIiwiZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkIiwidGhyZXNob2xkIiwibGltaXQiLCJ3aXRoU3VmZml4IiwidG9JU09TdHJpbmckMSIsImFicyQxIiwiWSIsIkQiLCJ0b3RhbCIsImFzU2Vjb25kcyIsInNvbWUiLCJmdW4iLCJkZWZhdWx0Q2FsZW5kYXIiLCJzYW1lRGF5IiwibmV4dERheSIsIm5leHRXZWVrIiwibGFzdERheSIsImxhc3RXZWVrIiwic2FtZUVsc2UiLCJkZWZhdWx0TG9uZ0RhdGVGb3JtYXQiLCJMVFMiLCJMVCIsIkwiLCJMTCIsIkxMTCIsIkxMTEwiLCJkZWZhdWx0SW52YWxpZERhdGUiLCJkZWZhdWx0T3JkaW5hbCIsImRlZmF1bHRPcmRpbmFsUGFyc2UiLCJkZWZhdWx0UmVsYXRpdmVUaW1lIiwiZnV0dXJlIiwicGFzdCIsIm1tIiwiaGgiLCJkZCIsIk1NIiwieXkiLCJtYXRjaDEiLCJtYXRjaDIiLCJtYXRjaDMiLCJtYXRjaDQiLCJtYXRjaDYiLCJtYXRjaDF0bzIiLCJtYXRjaDN0bzQiLCJtYXRjaDV0bzYiLCJtYXRjaDF0bzMiLCJtYXRjaDF0bzQiLCJtYXRjaDF0bzYiLCJtYXRjaFVuc2lnbmVkIiwibWF0Y2hTaWduZWQiLCJtYXRjaFRpbWVzdGFtcCIsIm1hdGNoV29yZCIsIm8iLCJkZWZhdWx0TG9jYWxlTW9udGhzIiwiZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0IiwicGFyc2VUd29EaWdpdFllYXIiLCJnZXRTZXRZZWFyIiwiZGVmYXVsdExvY2FsZVdlZWsiLCJkZWZhdWx0TG9jYWxlV2Vla2RheXMiLCJkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCIsImRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiIsIl9pc1BtIiwicG9zIiwicG9zMSIsInBvczIiLCJkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSIsImdldFNldEhvdXIiLCJvcmRpbmFsUGFyc2UiLCJtZXJpZGllbVBhcnNlIiwicHJvdG90eXBlTWluIiwicHJvdG90eXBlTWF4IiwibGFuZyIsImlzb1dlZWtZZWFyIiwiZ2V0U2V0RGF5T2ZNb250aCIsImdldFNldE1pbnV0ZSIsImdldFNldFNlY29uZCIsImdldFNldE1pbGxpc2Vjb25kIiwicHJvdG8iLCJpc29XZWVrcyIsImlzb1dlZWtzSW5ZZWFyIiwiaXNEU1QiLCJ6b25lQWJiciIsInpvbmVOYW1lIiwiZGF0ZXMiLCJpc0RTVFNoaWZ0ZWQiLCJwcm90byQxIiwiZmlyc3REYXlPZlllYXIiLCJmaXJzdERheU9mV2VlayIsImxhbmdEYXRhIiwiYXNNaWxsaXNlY29uZHMiLCJhc01pbnV0ZXMiLCJhc0hvdXJzIiwiYXNEYXlzIiwiYXNXZWVrcyIsImFzTW9udGhzIiwiYXNZZWFycyIsInByb3RvJDIiLCJ0b0lzb1N0cmluZyIsInZlcnNpb24iLCJpbnZhbGlkIiwicmVsYXRpdmVUaW1lUm91bmRpbmciLCJyZWxhdGl2ZVRpbWVUaHJlc2hvbGQiLCIzMCIsIl9yY1JhZGlvIiwiX3JjUmFkaW8yIiwiUmFkaW8iLCJfY2xhc3NOYW1lczIiLCJjaGVja2VkIiwid3JhcHBlckNsYXNzU3RyaW5nIiwiMzEiLCJUYWJsZSIsIkNvbHVtbiIsIkNvbHVtbkdyb3VwIiwiMzUiLCIzOSIsIlBsdWdpbnMiLCJwbHVnaW4iLCI0MSIsInByZWZpeEtleSIsInN1YnN0cmluZyIsInRvRml4ZWQiLCJfcm5kIiwicm5kIiwibiIsImRlYyIsImNyZWF0ZU1hdHJpeCIsIndpbmRvdyIsIldlYktpdENTU01hdHJpeCIsIk1vekNTU01hdHJpeCIsIkRPTU1hdHJpeCIsIk1zQ1NTTWF0cml4IiwiT0NTU01hdHJpeCIsIkNTU01hdHJpeCIsImNoZWNrU3R5bGVOYW1lIiwiX3AiLCJwcmVmaXhDc3MiLCJmaWx0ZXIiLCJnZXRHc2FwVHlwZSIsInBhcnNlQ29sb3IiLCJfdiIsInIiLCJnIiwidiIsIl9udW1FeHAiLCJjb2xvckxvb2t1cCIsIk51bWJlciIsIl9odWUiLCJ0cmFuc3BhcmVudCIsImJsYWNrIiwicGFyc2VTaGFkb3ciLCJpbnNldCIsInRyaW0iLCJzcGxpY2UiLCJ2QXJyIiwiY29sb3IiLCJnZXRDb2xvciIsInJnYmEiLCJfdmFycyIsImlzVHJhbnNmb3JtIiwiY3NzTGlzdCIsIl9saXN0cyIsInRyYW5zZm9ybXNCYXNlIiwiaXNDb252ZXJ0IiwiY3NzTmFtZSIsInNwbGl0RmlsdGVyVG9PYmplY3QiLCJzdGFydERhdGEiLCJkYXRhQXJyIiwiZ2V0TWF0cml4IiwibTExIiwibTEyIiwibTEzIiwibTE0IiwibTIxIiwibTIyIiwibTIzIiwibTI0IiwibTMxIiwibTMyIiwibTMzIiwibTM0IiwibTQxIiwibTQyIiwibTQzIiwibTQ0IiwiZ2V0VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiX3RyYW5zZm9ybSIsInQxIiwidDIiLCJ0MyIsInRtIiwiYXNpbiIsIlJBRDJERUciLCJERUcyUkFEIiwidGFuIiwiY29zIiwic2luIiwiYXRhbjIiLCJzcXJ0Iiwic3R5bGVzVG9Dc3MiLCJfdmFsdWUiLCJpc1VuaXRsZXNzTnVtYmVyIiwidW5xdW90ZWRDb250ZW50VmFsdWVSZWdleCIsImdldFVuaXQiLCJjdXJyZW50VW5pdCIsImdldFZhbHVlcyIsImZpbmRTdHlsZUJ5TmFtZSIsImNzc0FycmF5IiwiX2NuYW1lIiwiY05hbWUiLCJ0cmFuc2Zvcm1Hcm91cCIsIm1lcmdlU3R5bGUiLCJjdXJyZW50IiwiY2hhbmdlIiwiX2N1cnJlbnQiLCJfY2hhbmdlIiwiY2hhbmdlT25seSIsImNoYW5nZUFyciIsImNoYW5nZU5hbWUiLCJjdXJyZW50U2FtZSIsInVuc2hpZnQiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImJvcmRlckltYWdlT3V0c2V0IiwiYm9yZGVySW1hZ2VTbGljZSIsImJvcmRlckltYWdlV2lkdGgiLCJib3hGbGV4IiwiYm94RmxleEdyb3VwIiwiYm94T3JkaW5hbEdyb3VwIiwiY29sdW1uQ291bnQiLCJmbGV4IiwiZmxleEdyb3ciLCJmbGV4UG9zaXRpdmUiLCJmbGV4U2hyaW5rIiwiZmxleE5lZ2F0aXZlIiwiZmxleE9yZGVyIiwiZ3JpZFJvdyIsImdyaWRDb2x1bW4iLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJ0YWJTaXplIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5IiwiZmxvb2RPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VEYXNoYXJyYXkiLCJzdHJva2VEYXNob2Zmc2V0Iiwic3Ryb2tlTWl0ZXJsaW1pdCIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXaWR0aCIsInByZWZpeGVzIiwiSUUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJhcXVhIiwibGltZSIsInNpbHZlciIsIm1hcm9vbiIsInRlYWwiLCJibHVlIiwibmF2eSIsIndoaXRlIiwiZnVjaHNpYSIsIm9saXZlIiwieWVsbG93Iiwib3JhbmdlIiwiZ3JheSIsInB1cnBsZSIsImdyZWVuIiwicmVkIiwicGluayIsImN5YW4iLCJtMSIsIm0yIiwiUEkiLCJ0cmFuc2Zvcm1zM0QiLCJzY2FsZSIsInNjYWxlM2QiLCJyb3RhdGUzZCIsImZpbHRlckNvbnZlcnQiLCJncmF5U2NhbGUiLCJodWVSb3RhdGUiLCI0MiIsIkJ1dHRvbiIsIl9yYWRpbyIsIl9yYWRpbzIiLCJfZ3JvdXAiLCJfZ3JvdXAyIiwiX3JhZGlvQnV0dG9uIiwiX3JhZGlvQnV0dG9uMiIsIjQ2IiwiX3JjRHJvcGRvd24iLCJfcmNEcm9wZG93bjIiLCJEcm9wZG93biIsImdldFRyYW5zaXRpb25OYW1lIiwiX3Byb3BzJHBsYWNlbWVudCIsInBsYWNlbWVudCIsImRyb3Bkb3duVHJpZ2dlciIsImNsb25lRWxlbWVudCIsIm1vdXNlRW50ZXJEZWxheSIsIm1vdXNlTGVhdmVEZWxheSIsIjQ3IiwiUmFkaW9CdXR0b24iLCI0OCIsIl9yY1RhYmxlIiwiX3JjVGFibGUyIiwiX1JjVGFibGUkQ29sdW1uR3JvdXAiLCI1MSIsIjUyIiwiWkVSTyIsIk5JTkUiLCJOVU1QQURfWkVSTyIsIk5VTVBBRF9OSU5FIiwiQkFDS1NQQUNFIiwiREVMRVRFIiwiRU5URVIiLCJBUlJPV19VUCIsIkFSUk9XX0RPV04iLCI1MyIsIml0ZW1zX3Blcl9wYWdlIiwianVtcF90byIsInBhZ2UiLCJwcmV2X3BhZ2UiLCJuZXh0X3BhZ2UiLCJwcmV2XzUiLCJuZXh0XzUiLCJwcmV2XzMiLCJuZXh0XzMiLCI1OCIsImdldFRvZGF5VGltZSIsInRvZGF5IiwiX21vbWVudDIiLCJnZXRUaXRsZVN0cmluZyIsImdldFRvZGF5VGltZVN0ciIsInN5bmNUaW1lIiwiZ2V0VGltZUNvbmZpZyIsImRpc2FibGVkVGltZSIsImRpc2FibGVkVGltZUNvbmZpZyIsImRlZmF1bHREaXNhYmxlZFRpbWUiLCJpc1RpbWVWYWxpZEJ5Q29uZmlnIiwiaW52YWxpZFRpbWUiLCJkaXNhYmxlZEhvdXJzIiwiZGlzYWJsZWRNaW51dGVzIiwiZGlzYWJsZWRTZWNvbmRzIiwiaXNUaW1lVmFsaWQiLCJpc0FsbG93ZWREYXRlIiwiZGlzYWJsZWREYXRlIiwiX21vbWVudCIsIjYwIiwiX1RhYmxlIiwiX1RhYmxlMiIsIjYxIiwiNjUiLCJfZGVmYXVsdHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJub29wIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJfcmVhY3REb20iLCJfcmVhY3REb20yIiwiX3V0aWwiLCJfc3R5bGVVdGlscyIsIl9UaW1lTGluZSIsIl9UaW1lTGluZTIiLCJfcGx1Z2lucyIsIl9wbHVnaW5zMiIsIl90aWNrZXIiLCJfdGlja2VyMiIsInBlckZyYW1lIiwiVHdlZW5PbmUiLCJfQ29tcG9uZW50IiwiX3RoaXMiLCJyZXN0YXJ0Iiwic3RhcnRNb21lbnQiLCJ0aW1lTGluZSIsInByb2dyZXNzVGltZSIsInN0YXJ0RnJhbWUiLCJmcmFtZSIsInBsYXkiLCJzdGFydCIsImFuaW1hdGlvbiIsImRvbSIsImF0dHIiLCJ3aWxsQ2hhbmdlIiwicmFmIiwiY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGF1c2VkIiwicmFmSUQiLCJyZWdpc3RlciIsInJlZ2lzdGVyTW9tZW50IiwicmV2ZXJzZSIsInRvdGFsVGltZSIsInJlc2V0RGVmYXVsdFN0eWxlIiwib25DaGFuZ2UiLCJjbGVhciIsIm5ld01vbWVudEFuaW0iLCJjb21wb25lbnREaWRNb3VudCIsImZpbmRET01Ob2RlIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsIl90aGlzMiIsIm5ld01vbWVudCIsInJlc2V0QW5pbURhdGEiLCJzZXRBdHRyaWJ1dGUiLCJuZXdBbmltYXRpb24iLCJjdXJyZW50QW5pbWF0aW9uIiwiZXF1YWwiLCJzdHlsZUVxdWFsIiwicmVzdGFydEFuaW0iLCJyZXNldFN0eWxlQm9vbCIsInJldmVyc2VEZWxheSIsInRpbWVvdXQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNvbXBvbmVudCIsImNvbXBvbmVudFJlcGxhY2UiLCJvYmplY3RPckFycmF5Iiwib25lT2ZUeXBlIiwib2JqZWN0IiwicGx1Z2lucyIsIjY2IiwiX3R3ZWVuRnVuY3Rpb25zIiwiX3R3ZWVuRnVuY3Rpb25zMiIsIl9wYXRoIiwiX3BhcmFtIiwicGFyYW0iLCJwYXRoTm9kZSIsInBhdGhMZW5ndGgiLCJnZXRUb3RhbExlbmd0aCIsInJlY3QiLCJsZW5ndGhQaXhlbCIsInBvaW50cyIsImdldFBvaW50QXRMZW5ndGgiLCJfYyIsImxpbmVhciIsInRpbWVQb2ludFgiLCJwb2ludCIsIjcxIiwiNzIiLCI3NCIsIk1FTlUiLCJERVRBSUwiLCJBREQiLCJVUERBVEUiLCJDSEVDSyIsIlVQTE9BRCIsIjc2Iiwicm9vdCIsInZlbmRvcnMiLCJjYWYiLCJsYXN0IiwiaWQiLCJxdWV1ZSIsImZyYW1lRHVyYXRpb24iLCJfbm93Iiwic2V0VGltZW91dCIsImNwIiwiY2FuY2VsbGVkIiwiaGFuZGxlIiwiY2FuY2VsIiwicG9seWZpbGwiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIjgyIiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsIl90b0NvbnN1bWFibGVBcnJheTMiLCJfaW5kZXgiLCJfaW5kZXgyIiwiQ2hlY2tib3hHcm91cCIsInRvZ2dsZU9wdGlvbiIsIm9wdGlvbiIsIm9wdGlvbkluZGV4Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImRlZmF1bHRWYWx1ZSIsImdldE9wdGlvbnMiLCJvcHRpb25zIiwiaXNSZXF1aXJlZCIsIjgzIiwiX2J1dHRvbiIsIl9idXR0b24yIiwiX2ljb24iLCJfaWNvbjIiLCJfZHJvcGRvd24iLCJfZHJvcGRvd24yIiwiQnV0dG9uR3JvdXAiLCJEcm9wZG93bkJ1dHRvbiIsIm92ZXJsYXkiLCJ0cmlnZ2VyIiwiYWxpZ24iLCJvbkNsaWNrIiwidmlzaWJsZSIsIm9uVmlzaWJsZUNoYW5nZSIsImRyb3Bkb3duUHJvcHMiLCJhZGp1c3RYIiwiYWRqdXN0WSIsInRhcmdldE9mZnNldCIsIjg0IiwiX2Ryb3Bkb3duQnV0dG9uIiwiX2Ryb3Bkb3duQnV0dG9uMiIsIjg1IiwiODkiLCJfc2VsZWN0IiwiX3NlbGVjdDIiLCJNaW5pU2VsZWN0IiwiOTAiLCJfcmNQYWdpbmF0aW9uIiwiX3JjUGFnaW5hdGlvbjIiLCJfTWluaVNlbGVjdCIsIl9NaW5pU2VsZWN0MiIsIl96aF9DTiIsIl96aF9DTjIiLCJQYWdpbmF0aW9uIiwic2VsZWN0Q29tcG9uZW50Q2xhc3MiLCJzZWxlY3RQcmVmaXhDbHMiLCJjb250ZXh0VHlwZXMiLCI5MSIsIl9QYWdpbmF0aW9uIiwiX1BhZ2luYXRpb24yIiwiOTIiLCI5MyIsImdldENoZWNrZWRWYWx1ZSIsInJhZGlvIiwiX29iamVjdEFzc2lnbiIsIl9vYmplY3RBc3NpZ24yIiwiUmFkaW9Hcm91cCIsIm9uUmFkaW9DaGFuZ2UiLCJldiIsImxhc3RWYWx1ZSIsImNoZWNrZWRWYWx1ZSIsIl9wcm9wcyRwcmVmaXhDbHMiLCI5NCIsIjk1IiwiX1JjVGFibGUkQ29sdW1uIiwiOTYiLCI5NyIsIl9jaGVja2JveCIsIl9jaGVja2JveDIiLCJTZWxlY3Rpb25Cb3giLCJnZXRDaGVja1N0YXRlIiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzdG9yZSIsImRlZmF1bHRTZWxlY3Rpb24iLCJyb3dJbmRleCIsImdldFN0YXRlIiwic2VsZWN0aW9uRGlydHkiLCJzZWxlY3RlZFJvd0tleXMiLCI5OCIsIlNlbGVjdGlvbkNoZWNrYm94QWxsIiwiZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlIiwic2V0Q2hlY2tTdGF0ZSIsImNoZWNrU2VsZWN0aW9uIiwiYnlEZWZhdWx0Q2hlY2tlZCIsImdldENoZWNrYm94UHJvcHNCeUl0ZW0iLCJnZXRSZWNvcmRLZXkiLCJkZWZhdWx0Q2hlY2tlZCIsIl9zdGF0ZSIsIjk5Iiwic3RvcFByb3BhZ2F0aW9uIiwibmF0aXZlRXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiX2ZpbHRlckRyb3Bkb3duIiwiX2ZpbHRlckRyb3Bkb3duMiIsIl9wYWdpbmF0aW9uIiwiX3BhZ2luYXRpb24yIiwiX3NwaW4iLCJfc3BpbjIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsIl9jcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZTIiLCJfU2VsZWN0aW9uQm94IiwiX1NlbGVjdGlvbkJveDIiLCJfU2VsZWN0aW9uQ2hlY2tib3hBbGwiLCJfU2VsZWN0aW9uQ2hlY2tib3hBbGwyIiwiX0NvbHVtbiIsIl9Db2x1bW4yIiwiX0NvbHVtbkdyb3VwIiwiX0NvbHVtbkdyb3VwMiIsIl9fYXNzaWduIiwiZGVmYXVsdExvY2FsZSIsImZpbHRlclRpdGxlIiwiZmlsdGVyQ29uZmlybSIsImZpbHRlclJlc2V0IiwiZW1wdHlUZXh0IiwiZGVmYXVsdFBhZ2luYXRpb24iLCJvblNob3dTaXplQ2hhbmdlIiwiX3RoaXMkcHJvcHMkcm93U2VsZWN0Iiwicm93U2VsZWN0aW9uIiwiZ2V0Q2hlY2tib3hQcm9wcyIsIkNoZWNrYm94UHJvcHNDYWNoZSIsImhhbmRsZUZpbHRlciIsImNvbHVtbiIsIm5leHRGaWx0ZXJzIiwicGFnaW5hdGlvbiIsImZpbHRlcnMiLCJnZXRDb2x1bW5LZXkiLCJjdXJyZW50Q29sdW1uS2V5cyIsInRyZWVNYXAiLCJjb2x1bW5zIiwiY29sdW1uS2V5IiwibmV3U3RhdGUiLCJmaWx0ZXJzVG9TZXRTdGF0ZSIsImdldEZpbHRlcmVkVmFsdWVDb2x1bW5zIiwiY29sIiwicHJlcGFyZVBhcmFtc0FyZ3VtZW50cyIsImhhbmRsZVNlbGVjdCIsInJlY29yZCIsImdldERlZmF1bHRTZWxlY3Rpb24iLCJzZXRTZWxlY3RlZFJvd0tleXMiLCJzZWxlY3RXYXkiLCJoYW5kbGVSYWRpb1NlbGVjdCIsImhhbmRsZVNlbGVjdEFsbFJvdyIsImdldEZsYXRDdXJyZW50UGFnZURhdGEiLCJjaGFuZ2FibGVSb3dLZXlzIiwiY2hhbmdlUm93S2V5cyIsImhhbmRsZVBhZ2VDaGFuZ2UiLCJvdGhlckFyZ3VtZW50cyIsInJlbmRlclNlbGVjdGlvbkJveCIsIl8iLCJoYW5kbGVDaGFuZ2UiLCJyb3dLZXkiLCJyZWNvcmRLZXkiLCJoYW5kbGVTaG93U2l6ZUNoYW5nZSIsInBhZ2VTaXplIiwibmV4dFBhZ2luYXRpb24iLCJub3JtYWxpemVDb2x1bW5zIiwiZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMiLCJnZXRGaWx0ZXJzRnJvbUNvbHVtbnMiLCJnZXREZWZhdWx0UGFnaW5hdGlvbiIsIl9wcm9wcyRyb3dTZWxlY3Rpb24iLCJnZXRGbGF0RGF0YSIsImhhc1BhZ2luYXRpb24iLCJkZWZhdWx0Q3VycmVudCIsImRlZmF1bHRQYWdlU2l6ZSIsInByZXZpb3VzU3RhdGUiLCJuZXdQYWdpbmF0aW9uIiwiZGF0YVNvdXJjZSIsImdldFNvcnRPcmRlckNvbHVtbnMiLCJzb3J0U3RhdGUiLCJzb3J0Q29sdW1uIiwic29ydE9yZGVyIiwiZmlsdGVyZWRWYWx1ZUNvbHVtbnMiLCJmaWx0ZXJzRnJvbUNvbHVtbnMiLCJuZXdGaWx0ZXJzIiwiaXNGaWx0ZXJzQ2hhbmdlZCIsIl9yZWYiLCJfdGhpczMiLCJfcHJvcHMkcm93U2VsZWN0aW9uMiIsInNlbGVjdGVkUm93cyIsInJvdyIsIm9uU2VsZWN0Iiwib25TZWxlY3RBbGwiLCJjaGFuZ2VSb3dzIiwiX3RoaXM0IiwiZmlsdGVyc0NoYW5nZWQiLCJmaWx0ZXJlZFZhbHVlIiwiX3RoaXM1Iiwic29ydGVkQ29sdW1uIiwiZ2V0U29ydGVyRm4iLCJzb3J0ZXIiLCJ0b2dnbGVTb3J0T3JkZXIiLCJfc3RhdGUyIiwiaXNTb3J0Q29sdW1uIiwicmVuZGVyUm93U2VsZWN0aW9uIiwiX3RoaXM2Iiwic2VsZWN0aW9uQ29sdW1uIiwiY2hlY2tib3hBbGxEaXNhYmxlZCIsImV2ZXJ5IiwidGl0bGUiLCJkYXRhSW5kZXgiLCJnZXRNYXhDdXJyZW50IiwiX3N0YXRlJHBhZ2luYXRpb24iLCJyZW5kZXJDb2x1bW5zRHJvcGRvd24iLCJfdGhpczciLCJkcm9wZG93blByZWZpeENscyIsIm9yaWdpbkNvbHVtbiIsImZpbHRlckRyb3Bkb3duIiwic29ydEJ1dHRvbiIsImNvbEZpbHRlcnMiLCJjb25maXJtRmlsdGVyIiwiaXNBc2NlbmQiLCJpc0Rlc2NlbmQiLCJyZW5kZXJQYWdpbmF0aW9uIiwiZ2V0TG9jYWxEYXRhIiwiZmluZENvbHVtbiIsIm15S2V5IiwiX3RoaXM4IiwiZ2V0Q3VycmVudFBhZ2VEYXRhIiwiTUFYX1ZBTFVFIiwiZmxhdEFycmF5IiwicmVjdXJzaXZlU29ydCIsInNvcnRlckZuIiwiX3RoaXM5IiwiX3Byb3BzJGNoaWxkcmVuQ29sdW1uIiwiY2hpbGRyZW5Db2x1bW5OYW1lIiwiX3RoaXMxMCIsIm9uRmlsdGVyIiwiX3RoaXMxMSIsInNob3dIZWFkZXIiLCJsb2FkaW5nIiwiZXhwYW5kSWNvbkFzQ2VsbCIsImV4cGFuZGVkUm93UmVuZGVyIiwiYm9yZGVyZWQiLCJuZXdDb2x1bW4iLCJleHBhbmRJY29uQ29sdW1uSW5kZXgiLCJ0YWJsZSIsInBhZ2luYXRpb25QYXRjaENsYXNzIiwic3Bpbm5pbmciLCJ1c2VGaXhlZEhlYWRlciIsImluZGVudFNpemUiLCIxMDAiLCJjcmVhdGVTdG9yZSIsImluaXRpYWxTdGF0ZSIsInBhcnRpYWwiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsIjEwMSIsIl9yY01lbnUiLCJfcmNNZW51MiIsIl9kb21DbG9zZXN0IiwiX2RvbUNsb3Nlc3QyIiwiX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIiLCJfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjIiLCJGaWx0ZXJNZW51Iiwic2V0U2VsZWN0ZWRLZXlzIiwiaGFuZGxlQ2xlYXJGaWx0ZXJzIiwiaGFuZGxlQ29uZmlybSIsInNldFZpc2libGUiLCJoYW5kbGVNZW51SXRlbUNsaWNrIiwiaW5mbyIsImtleVBhdGgiLCJrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0iLCJmaWx0ZXJEcm9wZG93blZpc2libGUiLCJyb290Tm9kZSIsImZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSIsIm5ldmVyU2hvd24iLCJvbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSIsInJlbmRlck1lbnVJdGVtIiwiZmlsdGVyTXVsdGlwbGUiLCJJdGVtIiwidGV4dCIsImhhc1N1Yk1lbnUiLCJfcHJvcHMkY29sdW1uJGZpbHRlcnMiLCJyZW5kZXJNZW51cyIsIml0ZW1zIiwiY29udGFpblNlbGVjdGVkIiwic3ViTWVudUNscyIsIlN1Yk1lbnUiLCJkcm9wZG93bk1lbnVDbGFzcyIsIm1lbnVzIiwib25EZXNlbGVjdCIsImRyb3Bkb3duU2VsZWN0ZWRDbGFzcyIsIjEwMiIsImNoaWxkcmVuTmFtZSIsImxvb3AiLCJuZXdJdGVtIiwidHJlZSIsIm1hcHBlciIsIm5vZGUiLCJleHRyYSIsImVsZW1lbnRzIiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiMTA1Iiwic2VsZWN0b3IiLCIxMDYiLCJlbGVtIiwiRWxlbWVudCIsIm5hdGl2ZU1hdGNoZXMiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJub2RlVHlwZSIsInBhcmVudEVsZW0iLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCIxMDciLCIxMDgiLCIxMTAiLCIxMTEiLCIxMTIiLCIxMTMiLCIxMTUiLCJwcm9jZXNzIiwiZ2V0TmFub1NlY29uZHMiLCJocnRpbWUiLCJsb2FkVGltZSIsInBlcmZvcm1hbmNlIiwiaHIiLCIxMTYiLCJfZGVmaW5lUHJvcGVydHkiLCJoYW5kbGVGb2N1cyIsImZvY3VzIiwib25Gb2N1cyIsImhhbmRsZUJsdXIiLCJvbkJsdXIiLCJyZWFkT25seSIsInRhYkluZGV4IiwiMTE3IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX3JjVHJpZ2dlciIsIl9yY1RyaWdnZXIyIiwiX3BsYWNlbWVudHMiLCJfcGxhY2VtZW50czIiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwibWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyIiwib3ZlcmxheUNsYXNzTmFtZSIsIm92ZXJsYXlTdHlsZSIsInNob3dBY3Rpb24iLCJoaWRlQWN0aW9uIiwiZ2V0UG9wdXBDb250YWluZXIiLCJnZXREZWZhdWx0UHJvcHMiLCJkZWZhdWx0VmlzaWJsZSIsImdldEluaXRpYWxTdGF0ZSIsIm92ZXJsYXlQcm9wcyIsImdldE1lbnVFbGVtZW50IiwiZ2V0UG9wdXBEb21Ob2RlIiwicmVmcyIsImFmdGVyVmlzaWJsZUNoYW5nZSIsIm92ZXJsYXlOb2RlIiwib2Zmc2V0V2lkdGgiLCJ3aWR0aCIsIm90aGVyUHJvcHMiLCJyZWYiLCJwb3B1cENsYXNzTmFtZSIsInBvcHVwU3R5bGUiLCJidWlsdGluUGxhY2VtZW50cyIsImFjdGlvbiIsInBvcHVwUGxhY2VtZW50IiwicG9wdXBBbGlnbiIsInBvcHVwVHJhbnNpdGlvbk5hbWUiLCJwb3B1cEFuaW1hdGlvbiIsInBvcHVwVmlzaWJsZSIsImFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlIiwicG9wdXAiLCJvblBvcHVwVmlzaWJsZUNoYW5nZSIsIjExOCIsIl9Ecm9wZG93biIsIl9Ecm9wZG93bjIiLCIxMTkiLCJhdXRvQWRqdXN0T3ZlcmZsb3ciLCJwbGFjZW1lbnRzIiwidG9wTGVmdCIsInRvcENlbnRlciIsInRvcFJpZ2h0IiwiYm90dG9tTGVmdCIsImJvdHRvbUNlbnRlciIsImJvdHRvbVJpZ2h0IiwiMTIwIiwiUmVhY3QiLCJLRVlDT0RFIiwiT3B0aW9ucyIsIm1ldGhvZCIsImJpbmQiLCJfYnVpbGRPcHRpb25UZXh0IiwiX2NoYW5nZVNpemUiLCJjaGFuZ2VTaXplIiwiX2hhbmRsZUNoYW5nZSIsImV2dCIsIl92YWwiLCJfZ28iLCJrZXlDb2RlIiwicXVpY2tHbyIsInJvb3RQcmVmaXhDbHMiLCJidWlsZE9wdGlvblRleHQiLCJjaGFuZ2VTZWxlY3QiLCJnb0lucHV0IiwicGFnZVNpemVPcHRpb25zIiwib3B0IiwiZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoIiwib25LZXlVcCIsImFycmF5T2YiLCIxMjEiLCJQYWdlciIsImFjdGl2ZSIsIjEyMiIsIkxPQ0FMRSIsImhhc09uQ2hhbmdlIiwiaGFzQ3VycmVudCIsIm5ld0N1cnJlbnQiLCJfY2FsY1BhZ2UiLCJfaGFuZGxlS2V5RG93biIsIl9oYW5kbGVLZXlVcCIsIl9jaGFuZ2VQYWdlU2l6ZSIsIl9wcmV2IiwiX2hhc1ByZXYiLCJfbmV4dCIsIl9oYXNOZXh0IiwiX2p1bXBQcmV2Iiwic2hvd0xlc3NJdGVtcyIsIl9qdW1wTmV4dCIsImFsbFBhZ2VzIiwicGFnZXJMaXN0IiwianVtcFByZXYiLCJqdW1wTmV4dCIsImZpcnN0UGFnZXIiLCJsYXN0UGFnZXIiLCJwYWdlQnVmZmVyU2l6ZSIsInNpbXBsZSIsIm9uS2V5RG93biIsImxlZnQiLCJyaWdodCIsIl9hY3RpdmUiLCJ0b3RhbFRleHQiLCJzaG93VG90YWwiLCJzaG93U2l6ZUNoYW5nZXIiLCJzaG93UXVpY2tKdW1wZXIiLCIxMjMiLCIxMjQiLCIxMjUiLCIxMjYiLCJfdG9BcnJheSIsIl90b0FycmF5MiIsIl9kb21TY3JvbGxJbnRvVmlldyIsIl9kb21TY3JvbGxJbnRvVmlldzIiLCJEcm9wZG93bk1lbnUiLCJkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24iLCJkcm9wZG93bk1lbnVTdHlsZSIsIm9uUG9wdXBGb2N1cyIsIm9uTWVudURlU2VsZWN0Iiwib25NZW51U2VsZWN0IiwiaW5wdXRWYWx1ZSIsImNvbXBvbmVudFdpbGxNb3VudCIsImxhc3RJbnB1dFZhbHVlIiwic2Nyb2xsQWN0aXZlSXRlbVRvVmlldyIsImxhc3RWaXNpYmxlIiwicHJldlByb3BzIiwiaXRlbUNvbXBvbmVudCIsImZpcnN0QWN0aXZlSXRlbSIsIm1lbnUiLCJvbmx5U2Nyb2xsSWZOZWVkZWQiLCJyZW5kZXJNZW51IiwiX3JldCIsIm1lbnVQcm9wcyIsIm9uTWVudURlc2VsZWN0IiwiYWN0aXZlS2V5UHJvcHMiLCJjbG9uZWRNZW51SXRlbXMiLCJhY3RpdmVLZXkiLCJmb3VuZEZpcnN0IiwiZGVmYXVsdEFjdGl2ZUZpcnN0IiwiZm9jdXNhYmxlIiwib25Nb3VzZURvd24iLCIxMjciLCJmaWx0ZXJPcHRpb24iLCJyZW5kZXJGaWx0ZXJPcHRpb25zIiwicmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbiIsInNob3dOb3RGb3VuZCIsIml2Iiwic2VsIiwiY2hpbGRyZW5LZXlzIiwiaXNTZWxlY3RPcHRHcm91cCIsImlubmVySXRlbXMiLCJJdGVtR3JvdXAiLCJpc1NlbGVjdE9wdGlvbiIsImNoaWxkVmFsdWUiLCJhdHRyaWJ1dGUiLCJzaW5nbGVWYWx1ZSIsIlN0cmluZyIsIm5vdEZpbmRJbnB1dEl0ZW0iLCIxMjgiLCIxMjkiLCIxMzAiLCJmaWx0ZXJGbiIsIm9wdGlvbkZpbHRlclByb3AiLCJzYXZlUmVmIiwiX0tleUNvZGUiLCJfS2V5Q29kZTIiLCJfY2xhc3NuYW1lczMiLCJfcmNBbmltYXRlIiwiX3JjQW5pbWF0ZTIiLCJfY29tcG9uZW50Q2xhc3NlcyIsIl9jb21wb25lbnRDbGFzc2VzMiIsIl9TZWxlY3RUcmlnZ2VyIiwiX1NlbGVjdFRyaWdnZXIyIiwiX0ZpbHRlck1peGluIiwiX0ZpbHRlck1peGluMiIsInZhbHVlT2JqZWN0U2hhcGUiLCJzaGFwZSIsImFsbG93Q2xlYXIiLCJzaG93QXJyb3ciLCJvblNlYXJjaCIsInBsYWNlaG9sZGVyIiwibGFiZWxJblZhbHVlIiwiZHJvcGRvd25TdHlsZSIsIm1heFRhZ1RleHRMZW5ndGgiLCJ0b2tlblNlcGFyYXRvcnMiLCJnZXRJbnB1dEVsZW1lbnQiLCJtaXhpbnMiLCJkZWZhdWx0T3BlbiIsImFkZExhYmVsVG9WYWx1ZSIsImFkZFRpdGxlVG9WYWx1ZSIsImdldExhYmVsRnJvbVByb3BzIiwic2F2ZUlucHV0UmVmIiwic2F2ZUlucHV0TWlycm9yUmVmIiwib3BlbiIsImFkanVzdE9wZW5TdGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0U3RhdGUiLCJpbnB1dE5vZGUiLCJnZXRJbnB1dERPTU5vZGUiLCJtaXJyb3JOb2RlIiwiZ2V0SW5wdXRNaXJyb3JET01Ob2RlIiwiY2xlYXJCbHVyVGltZSIsImNsZWFyQWRqdXN0VGltZXIiLCJkcm9wZG93bkNvbnRhaW5lciIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9uSW5wdXRDaGFuZ2UiLCJldmVudCIsIm5leHRWYWx1ZSIsInRva2VuaXplIiwiZmlyZUNoYW5nZSIsInNldE9wZW5TdGF0ZSIsInNldElucHV0VmFsdWUiLCJvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSIsIm9uSW5wdXRLZXlEb3duIiwiRE9XTiIsInJlbW92ZVNlbGVjdGVkIiwib3BlbklmSGFzQ2hpbGRyZW4iLCJFU0MiLCJnZXRJbm5lck1lbnUiLCJzZWxlY3RlZFZhbHVlIiwic2VsZWN0ZWRMYWJlbCIsImdldExhYmVsRnJvbU9wdGlvbiIsInNlbGVjdGVkVGl0bGUiLCJza2lwQWRqdXN0T3BlbiIsInNraXBBZGp1c3RPcGVuVGltZXIiLCJfcmVmMiIsImRvbUV2ZW50Iiwib25BcnJvd0NsaWNrIiwib25QbGFjZWhvbGRlckNsaWNrIiwib25PdXRlckZvY3VzIiwiX2ZvY3VzZWQiLCJ1cGRhdGVGb2N1c0NsYXNzTmFtZSIsIm1heWJlRm9jdXMiLCJvbk91dGVyQmx1ciIsImJsdXJUaW1lciIsIl9vcHRpb25zIiwiZmlyc3RPcHRpb24iLCJnZXRWTEZvck9uQ2hhbmdlIiwib25DbGVhclNlbGVjdGlvbiIsIm9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUiLCJmb3JjZVBvcHVwQWxpZ24iLCJnZXRMYWJlbEJ5U2luZ2xlVmFsdWUiLCJtYXliZSIsImdldFZhbHVlQnlMYWJlbCIsImdldExhYmVsQnlWYWx1ZSIsInZsc18iLCJ2bHMiLCJ2bCIsImdldERyb3Bkb3duQ29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJnZXRQbGFjZWhvbGRlckVsZW1lbnQiLCJoaWRkZW4iLCJkaXNwbGF5IiwiaW5wdXRFbGVtZW50IiwiaW5wdXRDbHMiLCJpbnB1dEluc3RhbmNlIiwiaW5wdXRNaXJyb3JJbnN0YW5jZSIsImdldFBvcHVwRE9NTm9kZSIsImdldFBvcHVwTWVudUNvbXBvbmVudCIsIm5lZWRGb2N1cyIsImZpcmVTZWFyY2giLCJjbGVhclRpbWVvdXQiLCJyZW1vdmUiLCJfZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwic2VsZWN0aW9uIiwidmFsdWVfIiwibmV4dFZhbHVlcyIsInZhbHVlSW5kZXgiLCJzZWxlY3RlZEtleSIsImlzQ2hpbGREaXNhYmxlZCIsImNhbk11bHRpcGxlIiwiY291bnQiLCJyZW5kZXJUb3BDb250cm9sTm9kZSIsImlubmVyTm9kZSIsInNob3dTZWxlY3RlZFZhbHVlIiwic2VsZWN0ZWRWYWx1ZU5vZGVzIiwiY29udGVudCIsImNob2ljZUNsYXNzTmFtZSIsIm9uTGVhdmUiLCJfcm9vdENscyIsImN0cmxOb2RlIiwiZXh0cmFTZWxlY3Rpb25Qcm9wcyIsInJvb3RDbHMiLCJjbGVhclN0eWxlIiwiZHJvcGRvd25BbGlnbiIsImRyb3Bkb3duQ2xhc3NOYW1lIiwicm9sZSIsImFyaWEtYXV0b2NvbXBsZXRlIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCIxMzEiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyIsIl9Ecm9wZG93bk1lbnUiLCJfRHJvcGRvd25NZW51MiIsIkJVSUxUX0lOX1BMQUNFTUVOVFMiLCJTZWxlY3RUcmlnZ2VyIiwiZHJvcGRvd25ET01Ob2RlIiwid2lkdGhQcm9wIiwicG9wdXBNZW51IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwibmV3UHJvcHMiLCJzYXZlTWVudSIsImdldERyb3Bkb3duUHJlZml4Q2xzIiwiZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSIsIl9wb3B1cENsYXNzTmFtZSIsInBvcHVwRWxlbWVudCIsIjEzMiIsIl9TZWxlY3QiLCJfU2VsZWN0MiIsIl9PcHRpb24iLCJfT3B0aW9uMiIsIl9PcHRHcm91cCIsIl9PcHRHcm91cDIiLCIxMzMiLCIxMzQiLCJjb2xTcGFuIiwib25DZWxsQ2xpY2siLCIxMzUiLCJpc1RhYmxlQ29sdW1uR3JvdXAiLCIxMzYiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiQ29sdW1uTWFuYWdlciIsIl9jYWNoZWQiLCJub3JtYWxpemUiLCJpc0FueUNvbHVtbnNGaXhlZCIsIl9jYWNoZSIsImlzQW55Q29sdW1uc0xlZnRGaXhlZCIsImlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQiLCJsZWZ0Q29sdW1ucyIsImdyb3VwZWRDb2x1bW5zIiwicmlnaHRDb2x1bW5zIiwibGVhZkNvbHVtbnMiLCJfbGVhZkNvbHVtbnMiLCJsZWZ0TGVhZkNvbHVtbnMiLCJyaWdodExlYWZDb2x1bW5zIiwiX2dyb3VwQ29sdW1ucyIsImN1cnJlbnRSb3ciLCJwYXJlbnRDb2x1bW4iLCJyb3dzIiwiZ3JvdXBlZCIsInNldFJvd1NwYW4iLCJyb3dTcGFuIiwicmVzZXQiLCIxMzciLCJfc2hhbGxvd2VxdWFsIiwiX3NoYWxsb3dlcXVhbDIiLCJFeHBhbmRJY29uIiwiZXhwYW5kYWJsZSIsIm9uRXhwYW5kIiwibmVlZEluZGVudFNwYWNlZCIsImV4cGFuZGVkIiwiZXhwYW5kQ2xhc3NOYW1lIiwiMTM4IiwiX1RhYmxlUm93IiwiX1RhYmxlUm93MiIsIl9UYWJsZUhlYWRlciIsIl9UYWJsZUhlYWRlcjIiLCJfdXRpbHMiLCJfYWRkRXZlbnRMaXN0ZW5lciIsIl9hZGRFdmVudExpc3RlbmVyMiIsIl9Db2x1bW5NYW5hZ2VyIiwiX0NvbHVtbk1hbmFnZXIyIiwib25FeHBhbmRlZCIsImZpbmRFeHBhbmRlZFJvdyIsImV4cGFuZGVkUm93cyIsImdldEV4cGFuZGVkUm93cyIsImdldFJvd0tleSIsIm9uRXhwYW5kZWRSb3dzQ2hhbmdlIiwib25Sb3dEZXN0cm95IiwiaGFuZGxlV2luZG93UmVzaXplIiwic3luY0ZpeGVkVGFibGVSb3dIZWlnaHQiLCJzZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSIsInRhYmxlUmVjdCIsInRhYmxlTm9kZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsImhlYWRSb3dzIiwiaGVhZFRhYmxlIiwiYm9keVRhYmxlIiwiYm9keVJvd3MiLCJmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCIsImZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0IiwiZGV0ZWN0U2Nyb2xsVGFyZ2V0Iiwic2Nyb2xsVGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImhhbmRsZUJvZHlTY3JvbGwiLCJfdGhpcyRwcm9wcyRzY3JvbGwiLCJzY3JvbGwiLCJfdGhpcyRyZWZzIiwiZml4ZWRDb2x1bW5zQm9keUxlZnQiLCJmaXhlZENvbHVtbnNCb2R5UmlnaHQiLCJzY3JvbGxMZWZ0IiwibGFzdFNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJoYW5kbGVSb3dIb3ZlciIsImlzSG92ZXIiLCJjdXJyZW50SG92ZXJLZXkiLCJleHBhbmRlZFJvd0tleXMiLCJjb2x1bW5NYW5hZ2VyIiwic2V0U2Nyb2xsUG9zaXRpb24iLCJkZWZhdWx0RXhwYW5kQWxsUm93cyIsImRlZmF1bHRFeHBhbmRlZFJvd0tleXMiLCJkZWJvdW5jZWRXaW5kb3dSZXNpemUiLCJkZWJvdW5jZSIsInJlc2l6ZUV2ZW50IiwiaGFzU2Nyb2xsWCIsInJlc2V0U2Nyb2xsWCIsIndhcm5pbmdPbmNlIiwiZ2V0SGVhZGVyIiwiZ2V0SGVhZGVyUm93cyIsInRyU3R5bGUiLCJnZXRIZWFkZXJSb3dTdHlsZSIsInJvd1N0eWxlIiwiY2VsbCIsImdldEV4cGFuZGVkUm93IiwiY29sQ291bnQiLCJpbmRlbnQiLCJnZXRSb3dzQnlEYXRhIiwiZXhwYW5kUm93QnlDbGljayIsInJzdCIsInJvd0NsYXNzTmFtZSIsInJvd1JlZiIsImV4cGFuZGVkUm93Q2xhc3NOYW1lIiwib25Sb3dDbGljayIsIm9uUm93RG91YmxlQ2xpY2siLCJjaGlsZHJlbkNvbHVtbiIsImlzUm93RXhwYW5kZWQiLCJleHBhbmRlZFJvd0NvbnRlbnQiLCJvbkhvdmVyUHJvcHMiLCJvbkhvdmVyIiwib25EZXN0cm95IiwiaG92ZXJLZXkiLCJzdWJWaXNpYmxlIiwiZ2V0Um93cyIsImdldENvbEdyb3VwIiwiY29scyIsIm1pbldpZHRoIiwiZ2V0TGVmdEZpeGVkVGFibGUiLCJnZXRUYWJsZSIsImdldFJpZ2h0Rml4ZWRUYWJsZSIsIl9wcm9wczMiLCJfcHJvcHMzJHNjcm9sbCIsImdldEJvZHlXcmFwcGVyIiwiYm9keVN0eWxlIiwiaGVhZFN0eWxlIiwidGFibGVDbGFzc05hbWUiLCJvdmVyZmxvd1giLCJpbm5lckJvZHlTdHlsZSIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsInNjcm9sbGJhcldpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJyZW5kZXJUYWJsZSIsImhhc0hlYWQiLCJoYXNCb2R5IiwidGFibGVTdHlsZSIsInRhYmxlTGF5b3V0IiwidGFibGVCb2R5Iiwib25Nb3VzZU92ZXIiLCJvblRvdWNoU3RhcnQiLCJvblNjcm9sbCIsInJlZk5hbWUiLCJnZXRUaXRsZSIsIl9wcm9wczQiLCJnZXRGb290ZXIiLCJfcHJvcHM1IiwiZm9vdGVyIiwiZ2V0RW1wdHlUZXh0IiwiX3Byb3BzNiIsImhlYWRlckhlaWdodCIsInBvc2l0aW9uIiwic2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxUb0xlZnQiLCJzY3JvbGxUb1JpZ2h0IiwiX3Byb3BzJHNjcm9sbCIsImlzVGFibGVTY3JvbGwiLCJzY3JvbGxUYWJsZSIsIjEzOSIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIlRhYmxlQ2VsbCIsIl90ZW1wIiwiaGFuZGxlQ2xpY2siLCJfdGhpcyRwcm9wcyIsImlzSW52YWxpZFJlbmRlckNlbGxUZXh0IiwiZXhwYW5kSWNvbiIsIl9jb2x1bW4kY2xhc3NOYW1lIiwidGRQcm9wcyIsImluZGVudFRleHQiLCJwYWRkaW5nTGVmdCIsIjE0MCIsIlRhYmxlSGVhZGVyIiwiY2VsbFByb3BzIiwiMTQxIiwiX1RhYmxlQ2VsbCIsIl9UYWJsZUNlbGwyIiwiX0V4cGFuZEljb24iLCJfRXhwYW5kSWNvbjIiLCJUYWJsZVJvdyIsImhvdmVyZWQiLCJfdGhpcyRwcm9wczIiLCJfdGhpcyRwcm9wczMiLCJfdGhpcyRwcm9wczQiLCJjZWxscyIsImlzQ29sdW1uSGF2ZUV4cGFuZEljb24iLCJvbkRvdWJsZUNsaWNrIiwiMTQyIiwiMTQzIiwic2Nyb2xsRGl2Iiwic2Nyb2xsUHJvcCIsInNjcm9sbGJhck1lYXN1cmUiLCJ3YWl0IiwiaW1tZWRpYXRlIiwiZGVib3VuY2VGdW5jIiwicGVyc2lzdCIsImxhdGVyIiwiY2FsbE5vdyIsImNvbmRpdGlvbiIsIndhcm5lZCIsInRvcCIsIjE0NCIsIjE0NSIsIktleUNvZGUiLCJNQUNfRU5URVIiLCJUQUIiLCJOVU1fQ0VOVEVSIiwiU0hJRlQiLCJDVFJMIiwiQUxUIiwiUEFVU0UiLCJDQVBTX0xPQ0siLCJTUEFDRSIsIlBBR0VfVVAiLCJQQUdFX0RPV04iLCJFTkQiLCJIT01FIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJQUklOVF9TQ1JFRU4iLCJJTlNFUlQiLCJPTkUiLCJUV08iLCJUSFJFRSIsIkZPVVIiLCJGSVZFIiwiU0lYIiwiU0VWRU4iLCJFSUdIVCIsIlFVRVNUSU9OX01BUksiLCJBIiwiQiIsIkMiLCJGIiwiRyIsIkgiLCJJIiwiSiIsIksiLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJYIiwiWiIsIk1FVEEiLCJXSU5fS0VZX1JJR0hUIiwiQ09OVEVYVF9NRU5VIiwiTlVNX1pFUk8iLCJOVU1fT05FIiwiTlVNX1RXTyIsIk5VTV9USFJFRSIsIk5VTV9GT1VSIiwiTlVNX0ZJVkUiLCJOVU1fU0lYIiwiTlVNX1NFVkVOIiwiTlVNX0VJR0hUIiwiTlVNX05JTkUiLCJOVU1fTVVMVElQTFkiLCJOVU1fUExVUyIsIk5VTV9NSU5VUyIsIk5VTV9QRVJJT0QiLCJOVU1fRElWSVNJT04iLCJGMSIsIkYyIiwiRjMiLCJGNCIsIkY1IiwiRjYiLCJGNyIsIkY4IiwiRjkiLCJGMTAiLCJGMTEiLCJGMTIiLCJOVU1MT0NLIiwiU0VNSUNPTE9OIiwiREFTSCIsIkVRVUFMUyIsIkNPTU1BIiwiUEVSSU9EIiwiU0xBU0giLCJBUE9TVFJPUEhFIiwiU0lOR0xFX1FVT1RFIiwiT1BFTl9TUVVBUkVfQlJBQ0tFVCIsIkJBQ0tTTEFTSCIsIkNMT1NFX1NRVUFSRV9CUkFDS0VUIiwiV0lOX0tFWSIsIk1BQ19GRl9NRVRBIiwiV0lOX0lNRSIsImlzVGV4dE1vZGlmeWluZ0tleUV2ZW50IiwiYWx0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJpc0NoYXJhY3RlcktleSIsIm5hdmlnYXRpb24iLCIxNTMiLCJfaW5wdXQiLCJfaW5wdXQyIiwiX1NlYXJjaCIsIl9TZWFyY2gyIiwiU2VhcmNoIiwiaGFuZGxlU2VhcmNoIiwia2V5d29yZCIsInNlYXJjaElucHV0Iiwic2VsZWN0Iiwic2VsZWN0VmFsdWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImNsZWFyVmlzaWJsZSIsImhhbmRlbGVTZWxlY3RDaGFuZ2UiLCJoYW5kbGVDbGVhcklucHV0Iiwic2VsZWN0UHJvcHMiLCJzZWxlY3RPcHRpb25zIiwiY29tcGFjdCIsInNlYXJjaCIsIm9uUHJlc3NFbnRlciIsIjE1NCIsIl9yY1R3ZWVuT25lIiwiX1RhYmxlQm9keVdyYXBwZXIiLCJlbnRlckFuaW0iLCJiYWNrZ3JvdW5kQ29sb3IiLCJkZWxheSIsImVhc2UiLCJvbkNvbXBsZXRlIiwibGVhdmVBbmltIiwiVGFibGVCb2R5V3JhcHBlciIsIl9yZWYkcGFnZSIsIlR3ZWVuT25lR3JvdXAiLCJlbnRlciIsImxlYXZlIiwiYXBwZWFyIiwiMTU4IiwiRmFrZU1hcCIsIm1lbW9pemVDb21wYXJlIiwibGVmdEhhbmRPcGVyYW5kIiwicmlnaHRIYW5kT3BlcmFuZCIsIm1lbW9pemVNYXAiLCJpc1ByaW1pdGl2ZSIsImxlZnRIYW5kTWFwIiwibWVtb2l6ZVNldCIsIk1lbW9pemVNYXAiLCJkZWVwRXF1YWwiLCJjb21wYXJhdG9yIiwiZXh0ZW5zaXZlRGVlcEVxdWFsIiwic2ltcGxlUmVzdWx0Iiwic2ltcGxlRXF1YWwiLCJtZW1vaXplIiwibWVtb2l6ZVJlc3VsdExlZnQiLCJtZW1vaXplUmVzdWx0UmlnaHQiLCJjb21wYXJhdG9yUmVzdWx0IiwibGVmdEhhbmRUeXBlIiwiZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlIiwiaXRlcmFibGVFcXVhbCIsInJlZ2V4cEVxdWFsIiwiZ2VuZXJhdG9yRXF1YWwiLCJVaW50OEFycmF5IiwiYnVmZmVyIiwiZW50cmllc0VxdWFsIiwibGVmdEhhbmRJdGVtcyIsInJpZ2h0SGFuZEl0ZW1zIiwiZ2V0R2VuZXJhdG9yRW50cmllcyIsImhhc0l0ZXJhdG9yRnVuY3Rpb24iLCJnZXRJdGVyYXRvckVudHJpZXMiLCJpdGVyYXRvckVycm9yIiwiZ2VuZXJhdG9yIiwiZ2VuZXJhdG9yUmVzdWx0IiwiYWNjdW11bGF0b3IiLCJkb25lIiwiZ2V0RW51bWVyYWJsZUtleXMiLCJrZXlzRXF1YWwiLCJsZWZ0SGFuZEtleXMiLCJyaWdodEhhbmRLZXlzIiwibGVmdEhhbmRFbnRyaWVzIiwicmlnaHRIYW5kRW50cmllcyIsImRlbGV0ZSIsIldlYWtNYXAiLCIxNTkiLCIxNjAiLCIxNjMiLCJkZWZhdWx0RGF0YSIsIkRFRkFVTFRfRFVSQVRJT04iLCJERUZBVUxUX0RFTEFZIiwiX2Vhc2luZzIiLCJERUZBVUxUX0VBU0lORyIsIm9uVXBkYXRlIiwib25TdGFydCIsIm9uUmVwZWF0IiwicmVwZWF0IiwicmVwZWF0RGVsYXkiLCJ5b3lvIiwiaW5pdFRpbWUiLCJhcHBlYXJUbyIsIl9lYXNpbmciLCJfU3R5bGVQbHVnaW4iLCJfU3R5bGVQbHVnaW4yIiwidG9EYXRhIiwic3RhcnREZWZhdWx0RGF0YSIsImdldEF0dHJpYnV0ZSIsImJlemllciIsInR3ZWVuIiwidGlueU51bSIsInNldERlZmF1bHREYXRhIiwicmVwZWF0TWF4IiwiYXBwZWFyVG9Cb29sIiwiYXBwZWFyVG9UaW1lIiwidHdlZW5EYXRhIiwiU1ZHTW9ycGgiLCJhcHBlYXJOb3ciLCJtb2RlIiwiZ2V0QW5pbVN0YXJ0RGF0YSIsImdldEFuaW1TdGFydCIsInNldEFuaW1EYXRhIiwic2V0UmF0aW8iLCJyYXRpbyIsImVuZERhdGEiLCJlbmRWYXJzIiwic3RhcnRWYXJzIiwiX2VuZERhdGEiLCJyZXBlYXROdW0iLCJmcm9tRGVsYXkiLCJzdCIsImNvbXBSYXRpbyIsIjE2NCIsIl9Ud2Vlbk9uZSIsIl9Ud2Vlbk9uZTIiLCJfaW5pdGlhbGlzZVByb3BzIiwia2V5c1RvRW50ZXIiLCJrZXlzVG9MZWF2ZSIsIm9uRW50ZXJCb29sIiwiaXNUd2VlbiIsIm5leHRDaGlsZHJlbiIsImN1cnJlbnRDaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiaGFzUHJldiIsImhhc05leHQiLCJjaGlsZHJlblRvUmVuZGVyIiwiZ2V0Q2hpbGRyZW5Ub1JlbmRlciIsImNvbXBvbmVudFByb3BzIiwiYW5pbWF0aW5nQ2xhc3NOYW1lIiwidGFnIiwiaXNFbnRlciIsIl9vYmoiLCJvbkVuZCIsImdldENvdmVyQW5pbWF0aW9uIiwib2JqZWN0T3JBcnJheU9yRnVuYyIsIjE2NSIsImVhc2luZyIsIjE2NiIsIl9zdHlsZVV0aWxzMiIsIlN0eWxlUGx1Z2luIiwicHJvcHNEYXRhIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRlZmF1bHRWaWV3IiwiZ2V0VHdlZW5EYXRhIiwiZGF0YVR5cGUiLCJkYXRhQ291bnQiLCJkYXRhU3BsaXRTdHIiLCJfaXRlbSIsImNvbnZlcnRUb01hcmtzQXJyYXkiLCJzdGFydFVuaXQiLCJlbmRVbml0Iiwid2lsbENoYW5nZUJvb2wiLCJjb21wdXRlZFN0eWxlIiwid2lsbENoYW5nZUFycmF5Iiwid2lsbFN0eWxlIiwidXNlU3R5bGUiLCJmaWx0ZXJOYW1lIiwiZmlsdGVyT2JqZWN0Iiwic2V0QXJyYXlSYXRpbyIsInN0YXJ0SW5zZXQiLCJlbmRJbnNldCIsImVycm9yIiwic3RhcnRJc0FscGhhIiwiX2lzVHJhbnNmb3JtIiwiY3NzIiwicE5hbWUiLCJ4U3RhcnQiLCJ5U3RhcnQiLCJfdHlwZSIsInN0eWxlVW5pdCIsImZpbHRlclN0eWxlIiwiZmlsdGVyS2V5IiwiMTY3IiwiX3JhZiIsIl9yYWYyIiwiVGlja2VyIiwidGlja0ZuT2JqZWN0IiwidHdlZW5JZCIsImVsYXBzZWQiLCJsYXN0VXBkYXRlIiwic2tpcEZyYW1lTWF4Iiwid2FrZSIsInRpY2siLCJzbGVlcCIsInRpY2tlciIsInRpbWVvdXRJZE51bWJlciIsInRpbWVvdXRJRCIsImludGVydmFsSWROdW1iZXIiLCJpbnRlcnZhbCIsImludGVydmFsSUQiLCJzdGFyRnJhbWUiLCIxNzIiLCJ0d2VlbkZ1bmN0aW9ucyIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiZWFzZU91dFNpbmUiLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImVhc2VJbkNpcmMiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5FbGFzdGljIiwiZWFzZU91dEVsYXN0aWMiLCJlYXNlSW5PdXRFbGFzdGljIiwiZWFzZUluQmFjayIsImVhc2VPdXRCYWNrIiwiZWFzZUluT3V0QmFjayIsImVhc2VJbkJvdW5jZSIsImVhc2VPdXRCb3VuY2UiLCJlYXNlSW5PdXRCb3VuY2UiLCIxNzMiLCJnZXRQcm90b3R5cGVPZkV4aXN0cyIsImdldFByb3RvdHlwZU9mIiwicHJvbWlzZUV4aXN0cyIsIlByb21pc2UiLCJnbG9iYWxPYmplY3QiLCJpc0RvbSIsImh0bWxFbGVtZW50RXhpc3RzIiwiSFRNTEVsZW1lbnQiLCJpc0FycmF5RXhpc3RzIiwic3ltYm9sRXhpc3RzIiwibWFwRXhpc3RzIiwiTWFwIiwic2V0RXhpc3RzIiwiU2V0Iiwid2Vha01hcEV4aXN0cyIsIndlYWtTZXRFeGlzdHMiLCJXZWFrU2V0IiwiZGF0YVZpZXdFeGlzdHMiLCJEYXRhVmlldyIsInN5bWJvbEl0ZXJhdG9yRXhpc3RzIiwic3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMiLCJ0b1N0cmluZ1RhZyIsInNldEVudHJpZXNFeGlzdHMiLCJlbnRyaWVzIiwibWFwRW50cmllc0V4aXN0cyIsInNldEl0ZXJhdG9yUHJvdG90eXBlIiwibWFwSXRlcmF0b3JQcm90b3R5cGUiLCJhcnJheUl0ZXJhdG9yRXhpc3RzIiwiYXJyYXlJdGVyYXRvclByb3RvdHlwZSIsInN0cmluZ0l0ZXJhdG9yRXhpc3RzIiwic3RyaW5nSXRlcmF0b3JQcm90b3R5cGUiLCJ0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCIsInRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCIsInR5cGVvZk9iaiIsImxvY2F0aW9uIiwibWltZVR5cGVzIiwidGFnTmFtZSIsInN0cmluZ1RhZyIsIm9ialByb3RvdHlwZSIsInR5cGVEZXRlY3QiLCIxODciLCJnZXRDb21wb25lbnRMb2NhbGUiLCJjb21wb25lbnROYW1lIiwiZ2V0RGVmYXVsdExvY2FsZSIsImdldExvY2FsZUNvZGUiLCJsb2NhbGVDb2RlIiwiZXhpc3QiLCIyMDciLCJfZW5fVVMiLCJfZW5fVVMyIiwib25PayIsIm9uQ2xlYXIiLCJyZW5kZXJGb290ZXIiLCJyZW5kZXJTaWRlYmFyIiwiZ2V0Rm9ybWF0IiwidGltZVBpY2tlciIsImRhdGVUaW1lRm9ybWF0IiwiMjA4IiwiMjUwIiwiX01vbnRoUGFuZWwiLCJfTW9udGhQYW5lbDIiLCJfQ2FsZW5kYXJNaXhpbiIsIl9DYWxlbmRhck1peGluMiIsIl9Db21tb25NaXhpbiIsIl9Db21tb25NaXhpbjIiLCJNb250aENhbGVuZGFyIiwibW9udGhDZWxsUmVuZGVyIiwiZGF0ZUNlbGxSZW5kZXIiLCJzdGF0ZVZhbHVlIiwic2V0VmFsdWUiLCJjZWxsUmVuZGVyIiwiY29udGVudFJlbmRlciIsIm1vbnRoQ2VsbENvbnRlbnRSZW5kZXIiLCJyZW5kZXJSb290IiwiMjUxIiwicmVmRm4iLCJfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uIiwiX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjIiLCJQaWNrZXIiLCJvbk9wZW5DaGFuZ2UiLCJnZXRDYWxlbmRhckNvbnRhaW5lciIsInNhdmVDYWxlbmRhclJlZiIsInByZXZTdGF0ZSIsImZvY3VzQ2FsZW5kYXIiLCJvbkNhbGVuZGFyS2V5RG93biIsImNsb3NlIiwib25DYWxlbmRhclNlbGVjdCIsImNhdXNlIiwib25DYWxlbmRhck9rIiwib25DYWxlbmRhckNsZWFyIiwic2V0T3BlbiIsImdldENhbGVuZGFyRWxlbWVudCIsImNhbGVuZGFyUHJvcHMiLCJleHRyYVByb3BzIiwiY2FsZW5kYXJJbnN0YW5jZSIsImRlc3Ryb3lQb3B1cE9uSGlkZSIsIjI1MiIsImdvTW9udGgiLCJvblZhbHVlQ2hhbmdlIiwiZ29ZZWFyIiwic2hvd0lmIiwiZWwiLCJfWWVhclBhbmVsIiwiX1llYXJQYW5lbDIiLCJfbWFwU2VsZiIsIl9tYXBTZWxmMiIsIkNhbGVuZGFySGVhZGVyIiwiZW5hYmxlUHJldiIsImVuYWJsZU5leHQiLCJzaG93VGltZVBpY2tlciIsIm5leHRNb250aCIsInByZXZpb3VzTW9udGgiLCJuZXh0WWVhciIsInByZXZpb3VzWWVhciIsInNob3dNb250aFBhbmVsIiwic2hvd1llYXJQYW5lbCIsIm1vbnRoWWVhckVsZW1lbnQiLCJtb250aEJlZm9yZVllYXIiLCJzZWxlY3RDbGFzc05hbWUiLCJ5ZWFyU2VsZWN0IiwieWVhckZvcm1hdCIsIm1vbnRoU2VsZWN0IiwibW9udGhGb3JtYXQiLCJkYXlGb3JtYXQiLCJteSIsIlBhbmVsQ2xhc3MiLCJwYW5lbCIsIjI1MyIsIk9rQnV0dG9uIiwib2tEaXNhYmxlZCIsIm9rIiwiMjU0IiwiVGltZVBpY2tlckJ1dHRvbiIsIm9uT3BlblRpbWVQaWNrZXIiLCJvbkNsb3NlVGltZVBpY2tlciIsInRpbWVQaWNrZXJEaXNhYmxlZCIsImRhdGVTZWxlY3QiLCJ0aW1lU2VsZWN0IiwiMjU1IiwiVG9kYXlCdXR0b24iLCJvblRvZGF5IiwibG9jYWxlTm93IiwiZGlzYWJsZWRUb2RheSIsImlzRGlzYWJsZWQiLCJkaXNhYmxlZFRvZGF5Q2xhc3MiLCIyNTYiLCJEQVRFX1JPV19DT1VOVCIsIkRBVEVfQ09MX0NPVU5UIiwiMjU3IiwiRGF0ZUlucHV0Iiwic3RyIiwicGFyc2VkIiwib3JpZ2luYWxWYWx1ZSIsImdldFJvb3RET01Ob2RlIiwiZGF0ZUlucHV0IiwiaW52YWxpZENsYXNzIiwic2hvd0NsZWFyIiwiMjU4IiwiX0RhdGVUSGVhZCIsIl9EYXRlVEhlYWQyIiwiX0RhdGVUQm9keSIsIl9EYXRlVEJvZHkyIiwiRGF0ZVRhYmxlIiwiY2VsbFNwYWNpbmciLCIyNTkiLCJfQ2FsZW5kYXIiLCJfQ2FsZW5kYXIyIiwiMjYwIiwiYmFja1RvVG9kYXkiLCJkZWNhZGVTZWxlY3QiLCJwcmV2aW91c0RlY2FkZSIsIm5leHREZWNhZGUiLCJwcmV2aW91c0NlbnR1cnkiLCJuZXh0Q2VudHVyeSIsIjI2MSIsImdldE5vdyIsImdldE5vd0J5Q3VycmVudFN0YXRlVmFsdWUiLCJDYWxlbmRhck1peGluIiwiZGVmYXVsdFNlbGVjdGVkVmFsdWUiLCJzZXRTZWxlY3RlZFZhbHVlIiwiX2NsYXNzTmFtZSIsIjI2MiIsInNldEFuZENoYW5nZVZhbHVlIiwiX01vbnRoVGFibGUiLCJfTW9udGhUYWJsZTIiLCJNb250aFBhbmVsIiwib25ZZWFyUGFuZWxTZWxlY3QiLCJzZXRBbmRTZWxlY3RWYWx1ZSIsInllYXJQYW5lbCIsIjI2MyIsImNob29zZVllYXIiLCJfRGVjYWRlUGFuZWwiLCJfRGVjYWRlUGFuZWwyIiwiUk9XIiwiQ09MIiwiWWVhclBhbmVsIiwib25EZWNhZGVQYW5lbFNlbGVjdCIsInNob3dEZWNhZGVQYW5lbCIsImN1cnJlbnRZZWFyIiwic3RhcnRZZWFyIiwiY29sSW5kZXgiLCJlbmRZZWFyIiwieWVhc0VscyIsInRkcyIsInllYXJEYXRhIiwiX2NsYXNzTmFtZU1hcCIsImNsYXNzTmFtZU1hcCIsImNsaWNrSGFuZGxlciIsImRlY2FkZVBhbmVsIiwiMjY0IiwibWlycm9yIiwiMzEyIiwiX3JjQ2FsZW5kYXIiLCJfcmNDYWxlbmRhcjIiLCJDYWxlbmRhciIsIjMxMyIsIl9SYW5nZUNhbGVuZGFyIiwiX1JhbmdlQ2FsZW5kYXIyIiwiX1BpY2tlciIsIl9QaWNrZXIyIiwiX2dldExvY2FsZSIsIlJhbmdlUGlja2VyIiwiY2xlYXJTZWxlY3Rpb24iLCJzaG93RGF0ZSIsImhhbmRsZU9wZW5DaGFuZ2UiLCJoYW5kbGVTaG93RGF0ZUNoYW5nZSIsInJhbmdlcyIsIm9wZXJhdGlvbnMiLCJyYW5nZSIsInNob3dUaW1lIiwic2hvd1RvZGF5IiwiY2FsZW5kYXJDbGFzc05hbWUiLCJwaWNrZXJDaGFuZ2VIYW5kbGVyIiwiY2FsZW5kYXJIYW5kbGVyIiwiY2hhbmdlZFZhbHVlIiwic3RhcnRQbGFjZWhvbGRlciIsInJhbmdlUGxhY2Vob2xkZXIiLCJlbmRQbGFjZWhvbGRlciIsImRhdGVJbnB1dFBsYWNlaG9sZGVyIiwiZGVmYXVsdFBpY2tlclZhbHVlIiwicGlja2VyU3R5bGUiLCJjbGVhckljb24iLCJlbmQiLCJwaWNrZXJJbnB1dENsYXNzIiwicGlja2VyQ2xhc3MiLCIzMTQiLCJjcmVhdGVQaWNrZXIiLCJUaGVDYWxlbmRhciIsIkNhbGVuZGVyV3JhcHBlciIsInRlbXBWYWx1ZSIsImhhbmRsZVRlbXBDaGFuZ2UiLCJfb21pdDIiLCJfTW9udGhDYWxlbmRhcjIiLCJwaWNrZXJWYWx1ZSIsIl9Nb250aENhbGVuZGFyIiwiX29taXQiLCIzMTUiLCJfY3JlYXRlUGlja2VyIiwiX2NyZWF0ZVBpY2tlcjIiLCJfd3JhcFBpY2tlciIsIl93cmFwUGlja2VyMiIsIl9SYW5nZVBpY2tlciIsIl9SYW5nZVBpY2tlcjIiLCJEYXRlUGlja2VyIiwiTW9udGhQaWNrZXIiLCIzMTYiLCJfemhfQ04zIiwiX3poX0NONCIsInRpbWVQaWNrZXJMb2NhbGUiLCIzMTciLCIzMTgiLCJnZXRDb2x1bW5zIiwic2hvd0hvdXIiLCJzaG93TWludXRlIiwic2hvd1NlY29uZCIsIndyYXBQaWNrZXIiLCJQaWNrZXJXcmFwcGVyIiwiaW5wdXRQcmVmaXhDbHMiLCJ0b2dnbGVPcGVuIiwiX2NsYXNzTmFtZXMzIiwicmNUaW1lUGlja2VyUHJvcHMiLCJ0aW1lUGlja2VyQ2xzIiwiX1BhbmVsMiIsIl9QYW5lbCIsIjMyMSIsIjMyMiIsIjMyNyIsIjMyOCIsIl9pc0l0ZXJhYmxlMiIsIl9pc0l0ZXJhYmxlMyIsIl9nZXRJdGVyYXRvcjIiLCJfZ2V0SXRlcmF0b3IzIiwic2xpY2VJdGVyYXRvciIsIl9hcnIiLCJfbiIsIl9lIiwiX3MiLCJlcnIiLCIzMjkiLCIzNDYiLCJjbGFzc29mIiwiSVRFUkFUT1IiLCJJdGVyYXRvcnMiLCJpc0l0ZXJhYmxlIiwiaXQiLCIzNTUiLCIzNTYiLCIzNzMiLCJ6aENuIiwibGwiLCJsbGwiLCJsbGxsIiwiaG0iLCJzdGFydE9mV2VlayIsIjM3NCIsImdvU3RhcnRNb250aCIsImdvRW5kTW9udGgiLCJnb1RpbWUiLCJnb1dlZWsiLCJnb0RheSIsIl9EYXRlVGFibGUiLCJfRGF0ZVRhYmxlMiIsIl9DYWxlbmRhckhlYWRlciIsIl9DYWxlbmRhckhlYWRlcjIiLCJfQ2FsZW5kYXJGb290ZXIiLCJfQ2FsZW5kYXJGb290ZXIyIiwiX0RhdGVJbnB1dCIsIl9EYXRlSW5wdXQyIiwic2hvd1dlZWtOdW1iZXIiLCJzaG93RGF0ZUlucHV0Iiwic2hvd09rIiwibm9kZU5hbWUiLCJvbkRhdGVJbnB1dENoYW5nZSIsIm9uRGF0ZVRhYmxlU2VsZWN0Iiwib3BlblRpbWVQaWNrZXIiLCJjbG9zZVRpbWVQaWNrZXIiLCJ0aW1lUGlja2VyRWxlIiwiZGVmYXVsdE9wZW5WYWx1ZSIsImRhdGVJbnB1dEVsZW1lbnQiLCJkYXRlUmVuZGVyIiwiMzc1IiwiZmlyZVZhbHVlQ2hhbmdlIiwibm9ybWFsaXplQW5jaG9yIiwiaW5pdCIsImdlbmVyYXRlT3B0aW9ucyIsIm9uSW5wdXRTZWxlY3QiLCJjb21wYXJlIiwiZmlyZVNlbGVjdFZhbHVlQ2hhbmdlIiwiX3NsaWNlZFRvQXJyYXkyIiwiX3NsaWNlZFRvQXJyYXkzIiwiX0NhbGVuZGFyUGFydCIsIl9DYWxlbmRhclBhcnQyIiwiX1RvZGF5QnV0dG9uIiwiX1RvZGF5QnV0dG9uMiIsIl9Pa0J1dHRvbiIsIl9Pa0J1dHRvbjIiLCJfVGltZVBpY2tlckJ1dHRvbiIsIl9UaW1lUGlja2VyQnV0dG9uMiIsIlJhbmdlQ2FsZW5kYXIiLCJob3ZlclZhbHVlIiwib25EYXRlUGFuZWxFbnRlciIsImhhc1NlbGVjdGVkVmFsdWUiLCJvbkRhdGVQYW5lbExlYXZlIiwibmV4dFNlbGVjdGVkVmFsdWUiLCJjaGFuZ2VkIiwiZW5kVmFsdWUiLCJzdGFydFZhbHVlIiwib25EYXlIb3ZlciIsImlzQWxsb3dlZERhdGVBbmRUaW1lIiwib25TdGFydElucHV0U2VsZWN0Iiwib2FyZ3MiLCJvbkVuZElucHV0U2VsZWN0IiwiX2xlbjIiLCJfa2V5MiIsIm9uU3RhcnRWYWx1ZUNoYW5nZSIsIl9sZW4zIiwiX2tleTMiLCJvbkVuZFZhbHVlQ2hhbmdlIiwiX2xlbjQiLCJfa2V5NCIsImdldFN0YXJ0VmFsdWUiLCJnZXRFbmRWYWx1ZSIsImdldEVuZERpc2FibGVUaW1lIiwiX2Rpc2FibGVkSG91cnMiLCJfZGlzYWJsZWRNaW51dGVzIiwiX2Rpc2FibGVkU2Vjb25kcyIsImRpc2FibGVkU3RhcnRUaW1lIiwiZGlzYWJsZWRFbmRUaW1lIiwidjEiLCJ2MiIsImRpcmVjdCIsImNsYXNzZXMiLCJwbGFjZWhvbGRlcjEiLCJwbGFjZWhvbGRlcjIiLCJfZGF0ZUlucHV0UGxhY2Vob2xkZXIiLCJzaG93T2tCdXR0b24iLCJ0b2RheVRpbWUiLCJ0aGlzTW9udGgiLCJ0aGlzWWVhciIsImlzVGhpc1llYXIiLCJpc1RvZGF5SW5WaWV3IiwidGltZVBpY2tlckRpc2FibGVkVGltZSIsIjM3NiIsIkNhbGVuZGFyRm9vdGVyIiwiZm9vdGVyRWwiLCJleHRyYUZvb3RlciIsIl9jeCIsIm5vd0VsIiwib2tCdG4iLCJ0aW1lUGlja2VyQnRuIiwiZm9vdGVyQnRuIiwiMzc3IiwiaXNTYW1lRGF5Iiwib25lIiwidHdvIiwiYmVmb3JlQ3VycmVudE1vbnRoWWVhciIsImFmdGVyQ3VycmVudE1vbnRoWWVhciIsImdldElkRnJvbURhdGUiLCJfRGF0ZUNvbnN0YW50cyIsIl9EYXRlQ29uc3RhbnRzMiIsIkRhdGVUQm9keSIsImlJbmRleCIsImpJbmRleCIsImRhdGVUYWJsZSIsImNlbGxDbGFzcyIsIndlZWtOdW1iZXJDZWxsQ2xhc3MiLCJkYXRlQ2xhc3MiLCJ0b2RheUNsYXNzIiwic2VsZWN0ZWRDbGFzcyIsInNlbGVjdGVkRGF0ZUNsYXNzIiwiaW5SYW5nZUNsYXNzIiwibGFzdE1vbnRoRGF5Q2xhc3MiLCJuZXh0TW9udGhEYXlDbGFzcyIsImRpc2FibGVkQ2xhc3MiLCJmaXJzdERpc2FibGVDbGFzcyIsImxhc3REaXNhYmxlQ2xhc3MiLCJtb250aDEiLCJsYXN0TW9udGhEaWZmRGF5IiwibGFzdE1vbnRoMSIsInBhc3NlZCIsInRhYmxlSHRtbCIsImlzQ3VycmVudFdlZWsiLCJ3ZWVrTnVtYmVyQ2VsbCIsImRhdGVDZWxscyIsInNlbGVjdGVkIiwiaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyIiwiaXNBZnRlckN1cnJlbnRNb250aFllYXIiLCJyYW5nZVZhbHVlIiwiZGF0ZUh0bWwiLCJhcmlhLXNlbGVjdGVkIiwiYXJpYS1kaXNhYmxlZCIsIjM3OCIsIkRhdGVUSGVhZCIsInZlcnlTaG9ydFdlZWtkYXlzIiwid2Vla0RheXMiLCJzaG93V2Vla051bWJlckVsIiwiZGF0ZUNvbEluZGV4Iiwid2Vla0RheXNFbHMiLCJ4aW5kZXgiLCIzNzkiLCJjaG9vc2VEZWNhZGUiLCJEZWNhZGVQYW5lbCIsInByZVllYXIiLCJkZWNhZGVzIiwic3RhcnREZWNhZGUiLCJlbmREZWNhZGUiLCJkZWNhZGVzRWxzIiwiZGVjYWRlSW5kZXgiLCJkZWNhZGVEYXRhIiwiZFN0YXJ0RGVjYWRlIiwiZEVuZERlY2FkZSIsImlzTGFzdCIsImlzTmV4dCIsIjM4MCIsIjM4MSIsImNob29zZU1vbnRoIiwiTW9udGhUYWJsZSIsImN1cnJlbnRNb250aCIsIm1vbnRoc0VscyIsIm1vbnRoRGF0YSIsInRlc3RWYWx1ZSIsImNlbGxFbCIsImN1cnJlbnRWYWx1ZSIsIl9jdXJyZW50VmFsdWUiLCIzODIiLCIzODMiLCJDYWxlbmRhclBhcnQiLCJyYW5nZUNsYXNzTmFtZSIsIm91dGxpbmUiLCIzODQiLCIzODUiLCJmb3JtYXRPcHRpb24iLCJkaXNhYmxlZE9wdGlvbnMiLCJDb21ib2JveCIsImhvdXJPcHRpb25zIiwibWludXRlT3B0aW9ucyIsInNlY29uZE9wdGlvbnMiLCJvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZSIsIm9uSXRlbUNoYW5nZSIsIm9uRW50ZXJTZWxlY3RQYW5lbCIsImdldEhvdXJTZWxlY3QiLCJzZWxlY3RlZEluZGV4IiwiZ2V0TWludXRlU2VsZWN0IiwiZ2V0U2Vjb25kU2VsZWN0IiwiMzg2IiwiSGVhZGVyIiwiY2xlYXJUZXh0Iiwib25Fc2MiLCJhbGxvd0VtcHR5IiwiY3VycmVudFNlbGVjdFBhbmVsIiwiZ2V0UHJvdG9WYWx1ZSIsImRpc2FibGVkSG91ck9wdGlvbnMiLCJkaXNhYmxlZE1pbnV0ZU9wdGlvbnMiLCJkaXNhYmxlZFNlY29uZE9wdGlvbnMiLCJnZXRDbGVhckJ1dHRvbiIsImdldElucHV0IiwiMzg3IiwiaGlkZURpc2FibGVkT3B0aW9ucyIsIl9IZWFkZXIiLCJfSGVhZGVyMiIsIl9Db21ib2JveCIsIl9Db21ib2JveDIiLCJQYW5lbCIsImFkZG9uIiwic2VsZWN0aW9uUmFuZ2UiLCJuZXdWYWx1ZSIsIjM4OCIsInNjcm9sbFRvIiwiZGlmZmVyZW5jZSIsInBlclRpY2siLCJzY3JvbGxUb1NlbGVjdGVkIiwib25jbGljayIsImxpc3QiLCJ0b3BPcHRpb24iLCJvZmZzZXRUb3AiLCI2OTUiLCJMaXN0Iiwib25QYWdlQ2hhbmdlIiwiZ2V0Qm9keVdyYXBwZXJQcm9wcyIsInF1ZXJ5IiwiX1RhYmxlQm9keVdyYXBwZXIyIiwiX3RhYmxlMiIsIl9MaXN0MiIsIl90YWJsZSIsIl9MaXN0IiwiNjk2IiwicGhvbmUiLCJzdGFydF9kYXRlIiwiZW5kX2RhdGUiLCJfcmVmJG9zIiwib3MiLCJfcmVmJHR5cGUiLCJzdGF0dXMiLCJfcmVmJGZvcm0iLCJmb3JtIiwiZ2V0RmllbGREZWNvcmF0b3IiLCJ2YWxpZGF0ZUZpZWxkcyIsInNlYXJjaEdyb3VwUHJvcHMiLCJnZXRGaWVsZHNWYWx1ZSIsImVycm9ycyIsImZvcm1JdGVtTGF5b3V0IiwibGFiZWxDb2wiLCJzcGFuIiwid3JhcHBlckNvbCIsIl9yb3cyIiwiX2Zvcm0yIiwiaW5saW5lIiwiRm9ybUl0ZW0iLCJpbml0aWFsVmFsdWUiLCJtYXJnaW5SaWdodCIsImZsb2F0IiwiX3JvdyIsIl9kYXRlUGlja2VyIiwiX2RhdGVQaWNrZXIyIiwiX2Zvcm0iLCI3MDUiLCJfcmVnZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3IyIiwiX3JvdXRlciIsIl9mbG93IiwibmFtZXNwYWNlIiwic3Vic2NyaXB0aW9ucyIsInNldHVwIiwiZGlzcGF0Y2giLCJoaXN0b3J5IiwibGlzdGVuIiwicGF0aG5hbWUiLCJjdXJQb3dlcnMiLCJnZXRDdXJQb3dlcnMiLCJwYXlsb2FkIiwicm91dGVyUmVkdXgiLCJlZmZlY3RzIiwibWFyayIsIl9yZWYzIiwicGF0aFF1ZXJ5IiwicHV0Iiwid3JhcCIsIl9jb250ZXh0IiwiX3JlZjQiLCJyb3V0aW5nIiwibG9jYXRpb25CZWZvcmVUcmFuc2l0aW9ucyIsInNlbnQiLCJzdWNjZXNzIiwic3RvcCIsInJlZHVjZXJzIiwicXVlcnlTdWNjZXNzIiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsIjcxNyIsIkZsb3ciLCJvcmRlckZsb3ciLCJfbG9jYXRpb24kcXVlcnkiLCJzZWFyY2hQcm9wcyIsImZpZWxkc1ZhbHVlIiwibGlzdFByb3BzIiwibWFwU3RhdGVUb1Byb3BzIiwiX2R2YSIsImNvbm5lY3QiLCI3MjQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfYXN5bmNUb0dlbmVyYXRvcjMiLCJfY2FsbGVlIiwicGFyYW1zIiwiYWJydXB0IiwicmVxdWVzdCIsIl94IiwiODcyIiwid2FybmluZyIsImRhbmdlciIsIjEyMjEiLCJfX3dlYnBhY2tfbW9kdWxlX3RlbXBsYXRlX2FyZ3VtZW50XzBfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsR0FDQSxTQUFTQyxFQUFRQyxFQUFTQyxHQ0hoQyxZQStDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0E3QzdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFDLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQUUsRUFBQVgsRUFBQSxHQUVB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SXUvckJNeW1HLElBQ0EsU0FBUzNtRyxFQUFRQyxHc0l2L3JCdkJELEVBQUFDLFNBQWtCcWpELE1BQUEsZ0JBQUFzakQsUUFBQSxrQkFBQUMsT0FBQSxtQnRJOC9yQlpDLEtBQ0EsU0FBUzltRyxFQUFRQyxFQUFTQyxFQUFxQjZtRyxHdUloZ3NCckQsWUFFQTdtRyxHQUFBLElBRUFBLEVBQUE2bUcsR0FFQTdtRyxFQUFBIiwiZmlsZSI6Im9yZGVyLWZsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzNdLHtcblxuLyoqKi8gMTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNDaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9yY0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2hlY2tib3gpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXApO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcblx0ICAgIHZhciB0ID0ge307XG5cdCAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuXHQgICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcblx0ICAgIH1yZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBDaGVja2JveCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgQ2hlY2tib3gucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfYS5pbmRldGVybWluYXRlLFxuXHQgICAgICAgICAgICBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXIsXG5cdCAgICAgICAgICAgIG9uTW91c2VMZWF2ZSA9IF9hLm9uTW91c2VMZWF2ZSxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJzdHlsZVwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiaW5kZXRlcm1pbmF0ZVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiXSk7XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSkpO1xuXHQgICAgICAgIHZhciBjaGVja2JveENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctaW5kZXRlcm1pbmF0ZScsIGluZGV0ZXJtaW5hdGUpKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2xhYmVsJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0NoZWNrYm94MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNoZWNrYm94Q2xhc3MsIGNoaWxkcmVuOiBudWxsIH0pKSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICAgKSA6IG51bGxcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gQ2hlY2tib3g7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5cdFxuXHRDaGVja2JveC5Hcm91cCA9IF9Hcm91cDJbXCJkZWZhdWx0XCJdO1xuXHRDaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gnLFxuXHQgICAgaW5kZXRlcm1pbmF0ZTogZmFsc2Vcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmdldFZhbHVlUHJvcFZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWU7XG5cdGV4cG9ydHMuZ2V0UHJvcFZhbHVlID0gZ2V0UHJvcFZhbHVlO1xuXHRleHBvcnRzLmlzQ29tYm9ib3ggPSBpc0NvbWJvYm94O1xuXHRleHBvcnRzLmlzTXVsdGlwbGVPclRhZ3MgPSBpc011bHRpcGxlT3JUYWdzO1xuXHRleHBvcnRzLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94ID0gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3g7XG5cdGV4cG9ydHMuaXNTaW5nbGVNb2RlID0gaXNTaW5nbGVNb2RlO1xuXHRleHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuXHRleHBvcnRzLnByZXZlbnREZWZhdWx0RXZlbnQgPSBwcmV2ZW50RGVmYXVsdEV2ZW50O1xuXHRleHBvcnRzLmZpbmRJbmRleEluVmFsdWVCeUtleSA9IGZpbmRJbmRleEluVmFsdWVCeUtleTtcblx0ZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCA9IGZpbmRJbmRleEluVmFsdWVCeUxhYmVsO1xuXHRleHBvcnRzLmdldFNlbGVjdEtleXMgPSBnZXRTZWxlY3RLZXlzO1xuXHRleHBvcnRzLmZpbmRGaXJzdE1lbnVJdGVtID0gZmluZEZpcnN0TWVudUl0ZW07XG5cdGV4cG9ydHMuaW5jbHVkZXNTZXBhcmF0b3JzID0gaW5jbHVkZXNTZXBhcmF0b3JzO1xuXHRleHBvcnRzLnNwbGl0QnlTZXBhcmF0b3JzID0gc3BsaXRCeVNlcGFyYXRvcnM7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCkge1xuXHQgIHZhciBwcm9wcyA9IGNoaWxkLnByb3BzO1xuXHQgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICByZXR1cm4gcHJvcHMudmFsdWU7XG5cdCAgfVxuXHQgIGlmIChjaGlsZC5rZXkpIHtcblx0ICAgIHJldHVybiBjaGlsZC5rZXk7XG5cdCAgfVxuXHQgIHRocm93IG5ldyBFcnJvcignbm8ga2V5IG9yIHZhbHVlIGZvciAnICsgY2hpbGQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQcm9wVmFsdWUoY2hpbGQsIHByb3ApIHtcblx0ICBpZiAocHJvcCA9PT0gJ3ZhbHVlJykge1xuXHQgICAgcmV0dXJuIGdldFZhbHVlUHJvcFZhbHVlKGNoaWxkKTtcblx0ICB9XG5cdCAgcmV0dXJuIGNoaWxkLnByb3BzW3Byb3BdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0NvbWJvYm94KHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzLmNvbWJvYm94O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc011bHRpcGxlT3JUYWdzKHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzLm11bHRpcGxlIHx8IHByb3BzLnRhZ3M7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKSB7XG5cdCAgcmV0dXJuIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHx8IGlzQ29tYm9ib3gocHJvcHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NpbmdsZU1vZGUocHJvcHMpIHtcblx0ICByZXR1cm4gIWlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuXHQgIHZhciByZXQgPSB2YWx1ZTtcblx0ICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0ID0gW107XG5cdCAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHJldCA9IFt2YWx1ZV07XG5cdCAgfVxuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0RXZlbnQoZSkge1xuXHQgIGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBrZXkpIHtcblx0ICB2YXIgaW5kZXggPSAtMTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAodmFsdWVbaV0ua2V5ID09PSBrZXkpIHtcblx0ICAgICAgaW5kZXggPSBpO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGluZGV4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaW5kSW5kZXhJblZhbHVlQnlMYWJlbCh2YWx1ZSwgbGFiZWwpIHtcblx0ICB2YXIgaW5kZXggPSAtMTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAodG9BcnJheSh2YWx1ZVtpXS5sYWJlbCkuam9pbignJykgPT09IGxhYmVsKSB7XG5cdCAgICAgIGluZGV4ID0gaTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBpbmRleDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2VsZWN0S2V5cyhtZW51SXRlbXMsIHZhbHVlKSB7XG5cdCAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiBbXTtcblx0ICB9XG5cdCAgdmFyIHNlbGVjdGVkS2V5cyA9IFtdO1xuXHQgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gobWVudUl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgaWYgKGl0ZW0udHlwZS5pc01lbnVJdGVtR3JvdXApIHtcblx0ICAgICAgc2VsZWN0ZWRLZXlzID0gc2VsZWN0ZWRLZXlzLmNvbmNhdChnZXRTZWxlY3RLZXlzKGl0ZW0ucHJvcHMuY2hpbGRyZW4sIHZhbHVlKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgaXRlbVZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWUoaXRlbSk7XG5cdCAgICAgIHZhciBpdGVtS2V5ID0gaXRlbS5rZXk7XG5cdCAgICAgIGlmIChmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGl0ZW1WYWx1ZSkgIT09IC0xICYmIGl0ZW1LZXkpIHtcblx0ICAgICAgICBzZWxlY3RlZEtleXMucHVzaChpdGVtS2V5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBzZWxlY3RlZEtleXM7XG5cdH1cblx0XG5cdHZhciBVTlNFTEVDVEFCTEVfU1RZTEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9TVFlMRSA9IHtcblx0ICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cdCAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnXG5cdH07XG5cdFxuXHR2YXIgVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IHtcblx0ICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBmaW5kRmlyc3RNZW51SXRlbShjaGlsZHJlbikge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHQgICAgaWYgKGNoaWxkLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG5cdCAgICAgIHZhciBmb3VuZCA9IGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkLnByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgaWYgKGZvdW5kKSB7XG5cdCAgICAgICAgcmV0dXJuIGZvdW5kO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKCFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm4gY2hpbGQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbmNsdWRlc1NlcGFyYXRvcnMoc3RyaW5nLCBzZXBhcmF0b3JzKSB7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXBhcmF0b3JzLmxlbmd0aDsgKytpKSB7XG5cdCAgICBpZiAoc3RyaW5nLmxhc3RJbmRleE9mKHNlcGFyYXRvcnNbaV0pID4gMCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzcGxpdEJ5U2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcblx0ICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWycgKyBzZXBhcmF0b3JzLmpvaW4oKSArICddJyk7XG5cdCAgdmFyIGFycmF5ID0gc3RyaW5nLnNwbGl0KHJlZyk7XG5cdCAgaWYgKGFycmF5WzBdID09PSAnJykge1xuXHQgICAgYXJyYXkuc2hpZnQoKTtcblx0ICB9XG5cdCAgaWYgKGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdID09PSAnJykge1xuXHQgICAgYXJyYXkucG9wKCk7XG5cdCAgfVxuXHQgIHJldHVybiBhcnJheTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0ZXhwb3J0cy50b0FycmF5Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW47XG5cdGV4cG9ydHMuZGF0YVRvQXJyYXkgPSBkYXRhVG9BcnJheTtcblx0ZXhwb3J0cy5vYmplY3RFcXVhbCA9IG9iamVjdEVxdWFsO1xuXHRleHBvcnRzLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSA9IGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleTtcblx0ZXhwb3J0cy5tZXJnZUNoaWxkcmVuID0gbWVyZ2VDaGlsZHJlbjtcblx0ZXhwb3J0cy50cmFuc2Zvcm1Bcmd1bWVudHMgPSB0cmFuc2Zvcm1Bcmd1bWVudHM7XG5cdGV4cG9ydHMuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMgPSBnZXRDaGlsZHJlbkZyb21Qcm9wcztcblx0ZXhwb3J0cy5zdGFydENvbnZlcnRUb0VuZFVuaXQgPSBzdGFydENvbnZlcnRUb0VuZFVuaXQ7XG5cdGV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuXHRleHBvcnRzLmdldFRyYW5zZm9ybVZhbHVlID0gZ2V0VHJhbnNmb3JtVmFsdWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9kZWVwRXFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xuXHRcblx0dmFyIF9kZWVwRXFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5Q2hpbGRyZW4oY2hpbGRyZW4pIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgIHJldC5wdXNoKGMpO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRhdGFUb0FycmF5KHZhcnMpIHtcblx0ICBpZiAoIXZhcnMgJiYgdmFycyAhPT0gMCkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHQgIH1cblx0ICBpZiAoQXJyYXkuaXNBcnJheSh2YXJzKSkge1xuXHQgICAgcmV0dXJuIHZhcnM7XG5cdCAgfVxuXHQgIHJldHVybiBbdmFyc107XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iamVjdEVxdWFsKG9iajEsIG9iajIpIHtcblx0ICBpZiAob2JqMSA9PT0gb2JqMiB8fCAoMCwgX2RlZXBFcWwyW1wiZGVmYXVsdFwiXSkob2JqMSwgb2JqMikpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICBpZiAoIW9iajEgfHwgIW9iajIpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy8gYW5pbWF0aW9uIOWGmeWcqOagh+etvuS4iueahOi/m+ihjOWIpOaWreaYr+WQpuebuOetie+8jCDliKTmlq3mr4/kuKrlj4LmlbDmnInmsqHmnIkgZnVuY3Rpb247XG5cdCAgdmFyIGVxdWFsQm9vbCA9IHRydWU7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkgJiYgQXJyYXkuaXNBcnJheShvYmoyKSkge1xuXHQgICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGN1cnJlbnRPYmogPSBvYmoxW2ldO1xuXHQgICAgICB2YXIgbmV4dE9iaiA9IG9iajJbaV07XG5cdCAgICAgIGZvciAodmFyIHAgaW4gY3VycmVudE9iaikge1xuXHQgICAgICAgIGlmIChjdXJyZW50T2JqW3BdICE9PSBuZXh0T2JqW3BdKSB7XG5cdCAgICAgICAgICBpZiAoX3R5cGVvZihjdXJyZW50T2JqW3BdKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihuZXh0T2JqW3BdKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwoY3VycmVudE9ialtwXSwgbmV4dE9ialtwXSk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50T2JqW3BdID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBuZXh0T2JqW3BdID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50T2JqW3BdLm5hbWUgIT09IG5leHRPYmpbcF0ubmFtZSkge1xuXHQgICAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIHNldEVxdWFsQm9vbCA9IGZ1bmN0aW9uIHNldEVxdWFsQm9vbChvYmpBLCBvYmpCKSB7XG5cdCAgICBPYmplY3Qua2V5cyhvYmpBKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgaWYgKCEoa2V5IGluIG9iakIpKSB7XG5cdCAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChfdHlwZW9mKG9iakFba2V5XSkgPT09ICdvYmplY3QnICYmIF90eXBlb2Yob2JqQltrZXldKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChvYmpBW2tleV0sIG9iakJba2V5XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iakFba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqQltrZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKG9iakFba2V5XS5uYW1lICE9PSBvYmpCW2tleV0ubmFtZSkge1xuXHQgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKG9iakFba2V5XSAhPT0gb2JqQltrZXldKSB7XG5cdCAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHNldEVxdWFsQm9vbChvYmoxLCBvYmoyKTtcblx0ICBzZXRFcXVhbEJvb2wob2JqMiwgb2JqMSk7XG5cdCAgcmV0dXJuIGVxdWFsQm9vbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KGNoaWxkcmVuLCBrZXkpIHtcblx0ICB2YXIgcmV0ID0gbnVsbDtcblx0ICBpZiAoY2hpbGRyZW4pIHtcblx0ICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgaWYgKHJldCB8fCAhYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoYy5rZXkgPT09IGtleSkge1xuXHQgICAgICAgIHJldCA9IGM7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUNoaWxkcmVuKHByZXYsIG5leHQpIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG5cdCAgLy8gdGhlIGNvbWJpbmVkIGxpc3Rcblx0ICB2YXIgbmV4dENoaWxkcmVuUGVuZGluZyA9IHt9O1xuXHQgIHZhciBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcblx0ICB2YXIgZm9sbG93Q2hpbGRyZW5LZXkgPSB2b2lkIDA7XG5cdCAgcHJldi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICBpZiAoIWMpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgaWYgKGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0LCBjLmtleSkpIHtcblx0ICAgICAgaWYgKHBlbmRpbmdDaGlsZHJlbi5sZW5ndGgpIHtcblx0ICAgICAgICBuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSA9IHBlbmRpbmdDaGlsZHJlbjtcblx0ICAgICAgICBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcblx0ICAgICAgfVxuXHQgICAgICBmb2xsb3dDaGlsZHJlbktleSA9IGMua2V5O1xuXHQgICAgfSBlbHNlIGlmIChjLmtleSkge1xuXHQgICAgICBwZW5kaW5nQ2hpbGRyZW4ucHVzaChjKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpZiAoIWZvbGxvd0NoaWxkcmVuS2V5KSB7XG5cdCAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG5cdCAgfVxuXHRcblx0ICBuZXh0LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgIGlmICghYykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAobmV4dENoaWxkcmVuUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShjLmtleSkpIHtcblx0ICAgICAgcmV0ID0gcmV0LmNvbmNhdChuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSk7XG5cdCAgICB9XG5cdCAgICByZXQucHVzaChjKTtcblx0ICAgIGlmIChjLmtleSA9PT0gZm9sbG93Q2hpbGRyZW5LZXkpIHtcblx0ICAgICAgcmV0ID0gcmV0LmNvbmNhdChwZW5kaW5nQ2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0cmFuc2Zvcm1Bcmd1bWVudHMoYXJnLCBrZXksIGkpIHtcblx0ICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXHQgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXN1bHQgPSBhcmcoe1xuXHQgICAgICBrZXk6IGtleSxcblx0ICAgICAgaW5kZXg6IGlcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXN1bHQgPSBhcmc7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzICYmIHByb3BzLmNoaWxkcmVuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGFydENvbnZlcnRUb0VuZFVuaXQodGFyZ2V0LCBzdHlsZSwgbnVtLCB1bml0LCBkYXRhVW5pdCwgZml4ZWQsIGlzT3JpZ2luV2lkdGgpIHtcblx0ICB2YXIgaG9yaXogPSAvKD86TGVmdHxSaWdodHxXaWR0aHxYKS9pLnRlc3Qoc3R5bGUpIHx8IGlzT3JpZ2luV2lkdGg7XG5cdCAgdmFyIHQgPSBzdHlsZS5pbmRleE9mKCdib3JkZXInKSAhPT0gLTEgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuXHQgIHQgPSBmaXhlZCA/IGRvY3VtZW50LmJvZHkgOiB0O1xuXHQgIHZhciBwaXggPSB2b2lkIDA7XG5cdFxuXHQgIGlmICh1bml0ID09PSAnJScpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDEwMCAqIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG5cdCAgfSBlbHNlIGlmICh1bml0ID09PSAndncnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gMTAwO1xuXHQgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLyAxMDA7XG5cdCAgfSBlbHNlIGlmICh1bml0ICYmIHVuaXQubWF0Y2goL2VtL2kpKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiAxNjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pO1xuXHQgIH1cblx0ICBpZiAoZGF0YVVuaXQgPT09ICclJykge1xuXHQgICAgcGl4ID0gcGl4ICogMTAwIC8gKGhvcml6ID8gdC5jbGllbnRXaWR0aCA6IHQuY2xpZW50SGVpZ2h0KTtcblx0ICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndncnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogMTAwO1xuXHQgIH0gZWxzZSBpZiAoZGF0YVVuaXQgPT09ICd2aCcpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMTAwO1xuXHQgIH0gZWxzZSBpZiAoZGF0YVVuaXQgJiYgZGF0YVVuaXQubWF0Y2goL2VtL2kpKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyAxNjtcblx0ICB9XG5cdCAgcmV0dXJuIHBpeDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcblx0ICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG5cdCAgICBpZiAocGF0aC5jaGFyQXQoMCkubWF0Y2goL20vaSkpIHtcblx0ICAgICAgdmFyIGRvbVBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0ICAgICAgZG9tUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIHBhdGgpO1xuXHQgICAgICByZXR1cm4gZG9tUGF0aDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhdGgpO1xuXHQgIH0gZWxzZSBpZiAocGF0aC5zdHlsZSkge1xuXHQgICAgcmV0dXJuIHBhdGg7XG5cdCAgfVxuXHQgIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUgcGF0aCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZSh0LCBzdXBwb3J0czNEKSB7XG5cdCAgaWYgKHR5cGVvZiB0ID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHQ7XG5cdCAgfVxuXHQgIHZhciBwZXJzcGVjdGl2ZSA9IHQucGVyc3BlY3RpdmU7XG5cdCAgdmFyIGFuZ2xlID0gdC5yb3RhdGU7XG5cdCAgdmFyIHJvdGF0ZVggPSB0LnJvdGF0ZVg7XG5cdCAgdmFyIHJvdGF0ZVkgPSB0LnJvdGF0ZVk7XG5cdCAgdmFyIHN4ID0gdC5zY2FsZVg7XG5cdCAgdmFyIHN5ID0gdC5zY2FsZVk7XG5cdCAgdmFyIHN6ID0gdC5zY2FsZVo7XG5cdCAgdmFyIHNreCA9IHQuc2tld1g7XG5cdCAgdmFyIHNreSA9IHQuc2tld1k7XG5cdCAgdmFyIHhQZXJjZW50ID0gdC54UGVyY2VudCB8fCAwO1xuXHQgIHZhciB5UGVyY2VudCA9IHQueVBlcmNlbnQgfHwgMDtcblx0ICB2YXIgdHJhbnNsYXRlWCA9IHhQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWDtcblx0ICB2YXIgdHJhbnNsYXRlWSA9IHlQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWTtcblx0ICB2YXIgdHJhbnNsYXRlWiA9IHQudHJhbnNsYXRlWiB8fCAwO1xuXHQgIHZhciBwZXJjZW50ID0geFBlcmNlbnQgfHwgeVBlcmNlbnQgPyAndHJhbnNsYXRlKCcgKyAoeFBlcmNlbnQgfHwgdHJhbnNsYXRlWCArICdweCcpICsgJywnICsgKHlQZXJjZW50IHx8IHRyYW5zbGF0ZVkgKyAncHgnKSArICcpJyA6ICcnO1xuXHQgIHZhciBzayA9IHNreCB8fCBza3kgPyAnc2tldygnICsgc2t4ICsgJ2RlZywnICsgc2t5ICsgJ2RlZyknIDogJyc7XG5cdCAgdmFyIGFuID0gYW5nbGUgPyAncm90YXRlKCcgKyBhbmdsZSArICdkZWcpJyA6ICcnO1xuXHQgIHZhciBzcyA9IHZvaWQgMDtcblx0ICBpZiAoIXBlcnNwZWN0aXZlICYmICFyb3RhdGVYICYmICFyb3RhdGVZICYmICF0cmFuc2xhdGVaICYmIHN6ID09PSAxIHx8ICFzdXBwb3J0czNEKSB7XG5cdCAgICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxID8gJ3NjYWxlKCcgKyBzeCArICcsJyArIHN5ICsgJyknIDogJyc7XG5cdCAgICB2YXIgdHJhbnNsYXRlID0gcGVyY2VudCB8fCAndHJhbnNsYXRlKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4KSc7XG5cdCAgICByZXR1cm4gdHJhbnNsYXRlICsgJyAnICsgYW4gKyAnICcgKyBzcyArICcgJyArIHNrO1xuXHQgIH1cblx0ICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxIHx8IHN6ICE9PSAxID8gJ3NjYWxlM2QoJyArIHN4ICsgJywnICsgc3kgKyAnLCcgKyBzeiArICcpJyA6ICcnO1xuXHQgIHZhciByWCA9IHJvdGF0ZVggPyAncm90YXRlWCgnICsgcm90YXRlWCArICdkZWcpJyA6ICcnO1xuXHQgIHZhciByWSA9IHJvdGF0ZVkgPyAncm90YXRlWSgnICsgcm90YXRlWSArICdkZWcpJyA6ICcnO1xuXHQgIHZhciBwZXIgPSBwZXJzcGVjdGl2ZSA/ICdwZXJzcGVjdGl2ZSgnICsgcGVyc3BlY3RpdmUgKyAncHgpJyA6ICcnO1xuXHQgIHZhciB0cmFuc2xhdGUzZCA9IHBlcmNlbnQgPyBwZXJjZW50ICsgJyB0cmFuc2xhdGUzZCgwLDAsJyArIHRyYW5zbGF0ZVogKyAncHgpJyA6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCwnICsgdHJhbnNsYXRlWiArICdweCknO1xuXHQgIHJldHVybiBwZXIgKyAnICcgKyB0cmFuc2xhdGUzZCArICcgJyArIHNzICsgJyAnICsgYW4gKyAnICcgKyByWCArICcgJyArIHJZICsgJyAnICsgc2s7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuXHRcblx0dmFyIF9yY1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1NlbGVjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvLyA9PiBJdCBpcyBuZWVkbGVzcyB0byBleHBvcnQgdGhlIGRlY2xhcmF0aW9uIG9mIGJlbG93IHR3byBpbm5lciBjb21wb25lbnRzLlxuXHQvLyBleHBvcnQgeyBPcHRpb24sIE9wdEdyb3VwIH07XG5cdHZhciBTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIFNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfY2xhc3NOYW1lcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcblx0ICAgICAgICAgICAgY29tYm9ib3ggPSBfcHJvcHMuY29tYm9ib3g7XG5cdCAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBfcHJvcHMyJG5vdEZvdW5kQ29udGUgPSBfcHJvcHMyLm5vdEZvdW5kQ29udGVudCxcblx0ICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gX3Byb3BzMiRub3RGb3VuZENvbnRlID09PSB1bmRlZmluZWQgPyAnTm90IEZvdW5kJyA6IF9wcm9wczIkbm90Rm91bmRDb250ZSxcblx0ICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wID0gX3Byb3BzMi5vcHRpb25MYWJlbFByb3A7XG5cdFxuXHQgICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbGcnLCBzaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1zbScsIHNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgdmFyIGFudExvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGU7XG5cdFxuXHQgICAgICAgIGlmIChhbnRMb2NhbGUgJiYgYW50TG9jYWxlLlNlbGVjdCkge1xuXHQgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSAnbm90Rm91bmRDb250ZW50JyBpbiB0aGlzLnByb3BzID8gbm90Rm91bmRDb250ZW50IDogYW50TG9jYWxlLlNlbGVjdC5ub3RGb3VuZENvbnRlbnQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb21ib2JveCkge1xuXHQgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAvLyBjaGlsZHJlbiDluKYgZG9tIOe7k+aehOaXtu+8jOaXoOazleWhq+WFpei+k+WFpeahhlxuXHQgICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBvcHRpb25MYWJlbFByb3AgfHwgJ3ZhbHVlJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjU2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNscywgb3B0aW9uTGFiZWxQcm9wOiBvcHRpb25MYWJlbFByb3AgfHwgJ2NoaWxkcmVuJywgbm90Rm91bmRDb250ZW50OiBub3RGb3VuZENvbnRlbnQgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcblx0XG5cdFNlbGVjdC5PcHRpb24gPSBfcmNTZWxlY3QuT3B0aW9uO1xuXHRTZWxlY3QuT3B0R3JvdXAgPSBfcmNTZWxlY3QuT3B0R3JvdXA7XG5cdFNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtc2VsZWN0Jyxcblx0ICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcsXG5cdCAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogJ3pvb20nXG5cdH07XG5cdFNlbGVjdC5wcm9wVHlwZXMgPSB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNpemU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ2xhcmdlJywgJ3NtYWxsJ10pLFxuXHQgICAgY29tYm9ib3g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG5vdEZvdW5kQ29udGVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvcHRpb25MYWJlbFByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vISBtb21lbnQuanNcblx0Ly8hIHZlcnNpb24gOiAyLjE3LjFcblx0Ly8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcblx0Ly8hIGxpY2Vuc2UgOiBNSVRcblx0Ly8hIG1vbWVudGpzLmNvbVxuXHRcblx0OyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdCAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdCAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQgICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxuXHR9KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBob29rQ2FsbGJhY2s7XG5cdFxuXHRmdW5jdGlvbiBob29rcyAoKSB7XG5cdCAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdC8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG5cdC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuXHRmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG5cdCAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgQXJyYXkgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcblx0ICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuXHQgICAgLy8gaW5wdXQgIT0gbnVsbFxuXHQgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG5cdCAgICB2YXIgaztcblx0ICAgIGZvciAoayBpbiBvYmopIHtcblx0ICAgICAgICAvLyBldmVuIGlmIGl0cyBub3Qgb3duIHByb3BlcnR5IEknZCBzdGlsbCBjYWxsIGl0IG5vbi1lbXB0eVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG5cdCAgICB2YXIgcmVzID0gW10sIGk7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcblx0ICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG5cdCAgICBmb3IgKHZhciBpIGluIGIpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuXHQgICAgICAgICAgICBhW2ldID0gYltpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcblx0ICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG5cdCAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG5cdCAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuXHQgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuXHQgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuXHQgICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuXHQgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG5cdCAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG5cdCAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcblx0ICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcblx0ICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcblx0ICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcblx0ICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcblx0ICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuXHQgICAgaWYgKG0uX3BmID09IG51bGwpIHtcblx0ICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBtLl9wZjtcblx0fVxuXHRcblx0dmFyIHNvbWU7XG5cdGlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuXHQgICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuXHR9IGVsc2Uge1xuXHQgICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcblx0ICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBzb21lJDEgPSBzb21lO1xuXHRcblx0ZnVuY3Rpb24gaXNWYWxpZChtKSB7XG5cdCAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuXHQgICAgICAgIHZhciBwYXJzZWRQYXJ0cyA9IHNvbWUkMS5jYWxsKGZsYWdzLnBhcnNlZERhdGVQYXJ0cywgZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgaXNOb3dWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcblx0ICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG5cdCAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG5cdCAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuXHQgICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG5cdCAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG5cdCAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcblx0ICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblx0XG5cdCAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuXHQgICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MuY2hhcnNMZWZ0T3ZlciA9PT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcblx0ICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbS5faXNWYWxpZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcblx0ICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG5cdCAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuXHQgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG5cdH1cblx0XG5cdC8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcblx0Ly8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cblx0dmFyIG1vbWVudFByb3BlcnRpZXMgPSBob29rcy5tb21lbnRQcm9wZXJ0aWVzID0gW107XG5cdFxuXHRmdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG5cdCAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXHRcblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuXHQgICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG5cdCAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuXHQgICAgICAgIHRvLl9mID0gZnJvbS5fZjtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcblx0ICAgICAgICB0by5fbCA9IGZyb20uX2w7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcblx0ICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG5cdCAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG5cdCAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcblx0ICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcblx0ICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcblx0ICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChtb21lbnRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuXHQgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcblx0ICAgICAgICAgICAgdmFsID0gZnJvbVtwcm9wXTtcblx0ICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG5cdCAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdG87XG5cdH1cblx0XG5cdHZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cdFxuXHQvLyBNb21lbnQgcHJvdG90eXBlIG9iamVjdFxuXHRmdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG5cdCAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG5cdCAgICB0aGlzLl9kID0gbmV3IERhdGUoY29uZmlnLl9kICE9IG51bGwgPyBjb25maWcuX2QuZ2V0VGltZSgpIDogTmFOKTtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcblx0ICAgIH1cblx0ICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcblx0ICAgIC8vIG9iamVjdHMuXG5cdCAgICBpZiAodXBkYXRlSW5Qcm9ncmVzcyA9PT0gZmFsc2UpIHtcblx0ICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG5cdCAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuXHQgICAgaWYgKG51bWJlciA8IDApIHtcblx0ICAgICAgICAvLyAtMCAtPiAwXG5cdCAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcblx0ICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG5cdCAgICAgICAgdmFsdWUgPSAwO1xuXHRcblx0ICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG5cdCAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdH1cblx0XG5cdC8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcblx0ZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcblx0ICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcblx0ICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuXHQgICAgICAgIGRpZmZzID0gMCxcblx0ICAgICAgICBpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcblx0ICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuXHQgICAgICAgICAgICBkaWZmcysrO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdhcm4obXNnKSB7XG5cdCAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuXHQgICAgICAgICAgICAodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcblx0ICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXHRcblx0ICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuXHQgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgYXJnO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgYXJnID0gJyc7XG5cdCAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcmcgKz0gJ1xcblsnICsgaSArICddICc7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG5cdCAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH0sIGZuKTtcblx0fVxuXHRcblx0dmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuXHQgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG5cdCAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG5hbWUsIG1zZyk7XG5cdCAgICB9XG5cdCAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuXHQgICAgICAgIHdhcm4obXNnKTtcblx0ICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcblx0aG9va3MuZGVwcmVjYXRpb25IYW5kbGVyID0gbnVsbDtcblx0XG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldCAoY29uZmlnKSB7XG5cdCAgICB2YXIgcHJvcCwgaTtcblx0ICAgIGZvciAoaSBpbiBjb25maWcpIHtcblx0ICAgICAgICBwcm9wID0gY29uZmlnW2ldO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG5cdCAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcblx0ICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuXHQgICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfb3JkaW5hbFBhcnNlTGVuaWVudC5cblx0ICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcblx0ICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG5cdCAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcblx0ICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcblx0ICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG5cdCAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcblx0ICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG5cdCAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcblx0ICAgICAgICAgICAgICAgICFoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSAmJlxuXHQgICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuXHQgICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG5cdCAgICAgICAgICAgIHJlc1twcm9wXSA9IGV4dGVuZCh7fSwgcmVzW3Byb3BdKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBMb2NhbGUoY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcblx0ICAgICAgICB0aGlzLnNldChjb25maWcpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIga2V5cztcblx0XG5cdGlmIChPYmplY3Qua2V5cykge1xuXHQgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuXHR9IGVsc2Uge1xuXHQgICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICB2YXIgaSwgcmVzID0gW107XG5cdCAgICAgICAgZm9yIChpIGluIG9iaikge1xuXHQgICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG5cdCAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGtleXMkMSA9IGtleXM7XG5cdFxuXHR2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuXHQgICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcblx0ICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG5cdCAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuXHQgICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG5cdCAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcblx0ICAgIHNhbWVFbHNlIDogJ0wnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBjYWxlbmRhciAoa2V5LCBtb20sIG5vdykge1xuXHQgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG5cdCAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuXHQgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuXHQgICAgTFQgICA6ICdoOm1tIEEnLFxuXHQgICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcblx0ICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcblx0ICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG5cdCAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcblx0ICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblx0XG5cdCAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cdFxuXHRmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG5cdHZhciBkZWZhdWx0T3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9Lztcblx0XG5cdGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuXHQgICAgcmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgnJWQnLCBudW1iZXIpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcblx0ICAgIGZ1dHVyZSA6ICdpbiAlcycsXG5cdCAgICBwYXN0ICAgOiAnJXMgYWdvJyxcblx0ICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuXHQgICAgbSAgOiAnYSBtaW51dGUnLFxuXHQgICAgbW0gOiAnJWQgbWludXRlcycsXG5cdCAgICBoICA6ICdhbiBob3VyJyxcblx0ICAgIGhoIDogJyVkIGhvdXJzJyxcblx0ICAgIGQgIDogJ2EgZGF5Jyxcblx0ICAgIGRkIDogJyVkIGRheXMnLFxuXHQgICAgTSAgOiAnYSBtb250aCcsXG5cdCAgICBNTSA6ICclZCBtb250aHMnLFxuXHQgICAgeSAgOiAnYSB5ZWFyJyxcblx0ICAgIHl5IDogJyVkIHllYXJzJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcblx0ICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcblx0ICAgIHJldHVybiAoaXNGdW5jdGlvbihvdXRwdXQpKSA/XG5cdCAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuXHQgICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcblx0ICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG5cdCAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcblx0fVxuXHRcblx0dmFyIGFsaWFzZXMgPSB7fTtcblx0XG5cdGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG5cdCAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuXHQgICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdW5pdHMgPT09ICdzdHJpbmcnID8gYWxpYXNlc1t1bml0c10gfHwgYWxpYXNlc1t1bml0cy50b0xvd2VyQ2FzZSgpXSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplT2JqZWN0VW5pdHMoaW5wdXRPYmplY3QpIHtcblx0ICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcblx0ICAgICAgICBub3JtYWxpemVkUHJvcCxcblx0ICAgICAgICBwcm9wO1xuXHRcblx0ICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuXHQgICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuXHQgICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcblx0ICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuXHR9XG5cdFxuXHR2YXIgcHJpb3JpdGllcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG5cdCAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcblx0ICAgIHZhciB1bml0cyA9IFtdO1xuXHQgICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuXHQgICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG5cdCAgICB9XG5cdCAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdW5pdHM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuXHQgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG5cdCAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG5cdCAgICAgICAgbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCkgOiBOYU47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldCQxIChtb20sIHVuaXQsIHZhbHVlKSB7XG5cdCAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG5cdCAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuXHQgICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gemVyb0ZpbGwobnVtYmVyLCB0YXJnZXRMZW5ndGgsIGZvcmNlU2lnbikge1xuXHQgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcblx0ICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG5cdCAgICAgICAgc2lnbiA9IG51bWJlciA+PSAwO1xuXHQgICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuXHQgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuXHR9XG5cdFxuXHR2YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cdFxuXHR2YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblx0XG5cdHZhciBmb3JtYXRGdW5jdGlvbnMgPSB7fTtcblx0XG5cdHZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXHRcblx0Ly8gdG9rZW46ICAgICdNJ1xuXHQvLyBwYWRkZWQ6ICAgWydNTScsIDJdXG5cdC8vIG9yZGluYWw6ICAnTW8nXG5cdC8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuXHRmdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG5cdCAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBpZiAodG9rZW4pIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuXHQgICAgfVxuXHQgICAgaWYgKHBhZGRlZCkge1xuXHQgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgaWYgKG9yZGluYWwpIHtcblx0ICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhpbnB1dCkge1xuXHQgICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcblx0ICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXHRcblx0ICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuXHQgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKG1vbSkge1xuXHQgICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgb3V0cHV0ICs9IGFycmF5W2ldIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBhcnJheVtpXS5jYWxsKG1vbSwgZm9ybWF0KSA6IGFycmF5W2ldO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gb3V0cHV0O1xuXHQgICAgfTtcblx0fVxuXHRcblx0Ly8gZm9ybWF0IGRhdGUgdXNpbmcgbmF0aXZlIGRhdGUgb2JqZWN0XG5cdGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gbS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG5cdCAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXHRcblx0ICAgIHJldHVybiBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XShtKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbG9jYWxlKSB7XG5cdCAgICB2YXIgaSA9IDU7XG5cdFxuXHQgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG5cdCAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShsb2NhbEZvcm1hdHRpbmdUb2tlbnMsIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2Vucyk7XG5cdCAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG5cdCAgICAgICAgaSAtPSAxO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmb3JtYXQ7XG5cdH1cblx0XG5cdHZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG5cdHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcblx0dmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxuXHR2YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxuXHR2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cdHZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcblx0dmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcblx0dmFyIG1hdGNoNXRvNiAgICAgID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vOyAvLyAgIDk5OTk5IC0gOTk5OTk5XG5cdHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcblx0dmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcblx0dmFyIG1hdGNoMXRvNiAgICAgID0gL1srLV0/XFxkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXHRcblx0dmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxuXHR2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cdFxuXHR2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXHR2YXIgbWF0Y2hTaG9ydE9mZnNldCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/L2dpOyAvLyArMDAgLTAwICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXHRcblx0dmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblx0XG5cdC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuXHQvLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG5cdHZhciBtYXRjaFdvcmQgPSAvWzAtOV0qWydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdK3xbXFx1MDYwMC1cXHUwNkZGXFwvXSsoXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSspezEsMn0vaTtcblx0XG5cdFxuXHR2YXIgcmVnZXhlcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuXHQgICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KSA/IHJlZ2V4IDogZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGVEYXRhKSB7XG5cdCAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG5cdCAgICBpZiAoIWhhc093blByb3AocmVnZXhlcywgdG9rZW4pKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcblx0fVxuXHRcblx0Ly8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuXHRmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG5cdCAgICByZXR1cm4gcmVnZXhFc2NhcGUocy5yZXBsYWNlKCdcXFxcJywgJycpLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKG1hdGNoZWQsIHAxLCBwMiwgcDMsIHA0KSB7XG5cdCAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuXHQgICAgfSkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG5cdCAgICByZXR1cm4gcy5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcblx0fVxuXHRcblx0dmFyIHRva2VucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgaSwgZnVuYyA9IGNhbGxiYWNrO1xuXHQgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG5cdCAgICB9XG5cdCAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG5cdCAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuXHQgICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuXHQgICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcblx0ICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgaW5wdXQsIGNvbmZpZykge1xuXHQgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuXHQgICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBZRUFSID0gMDtcblx0dmFyIE1PTlRIID0gMTtcblx0dmFyIERBVEUgPSAyO1xuXHR2YXIgSE9VUiA9IDM7XG5cdHZhciBNSU5VVEUgPSA0O1xuXHR2YXIgU0VDT05EID0gNTtcblx0dmFyIE1JTExJU0VDT05EID0gNjtcblx0dmFyIFdFRUsgPSA3O1xuXHR2YXIgV0VFS0RBWSA9IDg7XG5cdFxuXHR2YXIgaW5kZXhPZjtcblx0XG5cdGlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuXHQgICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xuXHR9IGVsc2Uge1xuXHQgICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG5cdCAgICAgICAgLy8gSSBrbm93XG5cdCAgICAgICAgdmFyIGk7XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBpbmRleE9mJDEgPSBpbmRleE9mO1xuXHRcblx0ZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignTScsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5tb250aHNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS5tb250aHNSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcblx0fSk7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuXHQgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG5cdCAgICAvLyBpZiB3ZSBkaWRuJ3QgZmluZCBhIG1vbnRoIG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZC5cblx0ICAgIGlmIChtb250aCAhPSBudWxsKSB7XG5cdCAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdHZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xuXHR2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVNb250aHMgKG0sIGZvcm1hdCkge1xuXHQgICAgaWYgKCFtKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG5cdCAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1Nob3J0IChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuXHQgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG5cdCAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcblx0ICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdHJpY3QpIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgbW9tLCByZWdleDtcblx0XG5cdCAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuXHQgICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG5cdCAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG5cdCAgICB2YXIgZGF5T2ZNb250aDtcblx0XG5cdCAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAvLyBObyBvcFxuXHQgICAgICAgIHJldHVybiBtb207XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcblx0ICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cblx0ICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBtb207XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG5cdCAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuXHQgICAgcmV0dXJuIG1vbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG5cdCAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHQgICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcblx0ICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UgKCkge1xuXHQgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuXHQgICAgICAgIGksIG1vbTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdCAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG5cdCAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcblx0ICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG5cdCAgICB9XG5cdCAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG5cdCAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG5cdCAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuXHQgICAgfVxuXHQgICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcblx0ICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcblx0ICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignWScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG5cdCAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLnllYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCd5ZWFyJywgJ3knKTtcblx0XG5cdC8vIFBSSU9SSVRJRVNcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdZWScsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRhZGRSZWdleFRva2VuKCdZWVlZWVknLCBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuXHRhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHRmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcblx0ICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcblx0ICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcblx0fVxuXHRcblx0Ly8gSE9PS1Ncblx0XG5cdGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG5cdCAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xuXHR9O1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0SXNMZWFwWWVhciAoKSB7XG5cdCAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG5cdCAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuXHQgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTM0OC9pbnN0YW50aWF0aW5nLWEtamF2YXNjcmlwdC1vYmplY3QtYnktY2FsbGluZy1wcm90b3R5cGUtY29uc3RydWN0b3ItYXBwbHlcblx0ICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXHRcblx0ICAgIC8vdGhlIGRhdGUgY29uc3RydWN0b3IgcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG5cdCAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuXHQgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZGF0ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuXHQgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblx0XG5cdCAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcblx0ICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG5cdCAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRlO1xuXHR9XG5cdFxuXHQvLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuXHRmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcblx0ICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcblx0ICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuXHQgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2Rcblx0ICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cdFxuXHQgICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG5cdH1cblx0XG5cdC8vaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuXHRmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcblx0ICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcblx0ICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuXHQgICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcblx0XG5cdCAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG5cdCAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcblx0ICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuXHQgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcblx0ICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXNZZWFyID0geWVhcjtcblx0ICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB5ZWFyOiByZXNZZWFyLFxuXHQgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcblx0ICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuXHQgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cdFxuXHQgICAgaWYgKHdlZWsgPCAxKSB7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuXHQgICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuXHQgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG5cdCAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG5cdCAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcblx0ICAgICAgICByZXNXZWVrID0gd2Vlaztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHdlZWs6IHJlc1dlZWssXG5cdCAgICAgICAgeWVhcjogcmVzWWVhclxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcblx0ICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcblx0ICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuXHQgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuXHRhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cdFxuXHQvLyBQUklPUklUSUVTXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcblx0YWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG5cdCAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2Vlaztcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuXHQgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG5cdCAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcblx0fVxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcblx0ICAgIHZhciB3ZWVrID0gdGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcblx0ICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuXHRhZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2RheScsICdkJyk7XG5cdGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcblx0YWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignZScsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNNaW5SZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzU2hvcnRSZWdleChpc1N0cmljdCk7XG5cdH0pO1xuXHRhZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1JlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuXHQgICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG5cdCAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG5cdCAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0ZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG5cdCAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuXHQgICAgICAgIHJldHVybiBpbnB1dDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VJc29XZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG5cdH1cblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcblx0ICAgIGlmICghbSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5cztcblx0ICAgIH1cblx0ICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5kYXkoKV07XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCA9ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcblx0ICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcblx0ICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcblx0ICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXHRcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG5cdCAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdHJpY3QpIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgbW9tLCByZWdleDtcblx0XG5cdCAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlJDEuY2FsbCh0aGlzLCB3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuXHQgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdFxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuXHQgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGRkJyAmJiB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdCAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBkYXk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdCAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcblx0ICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG5cdCAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cdFxuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICB2YXIgd2Vla2RheSA9IHBhcnNlSXNvV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmRheSgpIHx8IDc7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleCAoaXNTdHJpY3QpIHtcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSBkZWZhdWx0V2Vla2RheXNNaW5SZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuXHQgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcblx0ICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG5cdCAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuXHQgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXHQgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcblx0ICAgICAgICBtaW5wID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcblx0ICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG5cdCAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuXHQgICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuXHQgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcblx0ICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuXHQgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuXHQgICAgfVxuXHQgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG5cdCAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG5cdCAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG5cdCAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuXHQgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHQgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdFxuXHQgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGZ1bmN0aW9uIGhGb3JtYXQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGtGb3JtYXQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xuXHR9XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcblx0YWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuXHRhZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcblx0ICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuXHQgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcblx0ICAgIH0pO1xuXHR9XG5cdFxuXHRtZXJpZGllbSgnYScsIHRydWUpO1xuXHRtZXJpZGllbSgnQScsIGZhbHNlKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xuXHR9XG5cdFxuXHRhZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuXHRhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuXHRhZGRSZWdleFRva2VuKCdIJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRcblx0YWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcblx0YWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuXHRhZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuXHRhZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcblx0YWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5faXNQbSA9IGNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpO1xuXHQgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbihbJ2gnLCAnaGgnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcblx0ICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuXHQgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ0htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcblx0ICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuXHQgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG5cdCAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcblx0fSk7XG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuXHQgICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuXHQgICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG5cdCAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlID0gL1thcF1cXC4/bT9cXC4/L2k7XG5cdGZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuXHQgICAgaWYgKGhvdXJzID4gMTEpIHtcblx0ICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0Ly8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG5cdC8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cblx0Ly8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG5cdC8vIHRoaXMgcnVsZS5cblx0dmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXHRcblx0Ly8gbW9udGhzXG5cdC8vIHdlZWtcblx0Ly8gd2Vla2RheXNcblx0Ly8gbWVyaWRpZW1cblx0dmFyIGJhc2VDb25maWcgPSB7XG5cdCAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuXHQgICAgbG9uZ0RhdGVGb3JtYXQ6IGRlZmF1bHRMb25nRGF0ZUZvcm1hdCxcblx0ICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG5cdCAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcblx0ICAgIG9yZGluYWxQYXJzZTogZGVmYXVsdE9yZGluYWxQYXJzZSxcblx0ICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblx0XG5cdCAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG5cdCAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXHRcblx0ICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXHRcblx0ICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG5cdCAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuXHQgICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cdFxuXHQgICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2Vcblx0fTtcblx0XG5cdC8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcblx0dmFyIGxvY2FsZXMgPSB7fTtcblx0dmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG5cdHZhciBnbG9iYWxMb2NhbGU7XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG5cdCAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG5cdH1cblx0XG5cdC8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuXHQvLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuXHQvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5cdGZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuXHQgICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXHRcblx0ICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG5cdCAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcblx0ICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG5cdCAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuXHQgICAgICAgIHdoaWxlIChqID4gMCkge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG5cdCAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuXHQgICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgai0tO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpKys7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG5cdCAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcblx0ICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG5cdCAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuXHQgICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG5cdCAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcblx0ICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2Vcblx0ICAgICAgICAgICAgLy8gd2FudCB0byB1bmRvIHRoYXQgZm9yIGxhenkgbG9hZGVkIGxvY2FsZXNcblx0ICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcblx0fVxuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG5cdC8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG5cdC8vIGxvY2FsZSBrZXkuXG5cdGZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcblx0ICAgIHZhciBkYXRhO1xuXHQgICAgaWYgKGtleSkge1xuXHQgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGRhdGEpIHtcblx0ICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG5cdCAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG5cdCAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG5cdCAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuXHQgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG5cdCAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuXHQgICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuXHQgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXS5fY29uZmlnO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdID0gW107XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcblx0ICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuXHQgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXHRcblx0ICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcblx0ICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuXHQgICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuXHQgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGxvY2FsZSBBRlRFUiBhbGwgY2hpbGQgbG9jYWxlcyBoYXZlIGJlZW5cblx0ICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cblx0ICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cdFxuXHRcblx0ICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG5cdCAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcblx0ICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuXHQgICAgICAgIHZhciBsb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG5cdCAgICAgICAgLy8gTUVSR0Vcblx0ICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcblx0ICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG5cdCAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG5cdCAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblx0XG5cdCAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG5cdCAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuXHQgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG5cdH1cblx0XG5cdC8vIHJldHVybnMgbG9jYWxlIGRhdGFcblx0ZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcblx0ICAgIHZhciBsb2NhbGU7XG5cdFxuXHQgICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuXHQgICAgICAgIGtleSA9IGtleS5fbG9jYWxlLl9hYmJyO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgha2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuXHQgICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2Vcblx0ICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG5cdCAgICAgICAgaWYgKGxvY2FsZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBrZXkgPSBba2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuXHQgICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuXHQgICAgdmFyIG92ZXJmbG93O1xuXHQgICAgdmFyIGEgPSBtLl9hO1xuXHRcblx0ICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcblx0ICAgICAgICBvdmVyZmxvdyA9XG5cdCAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcblx0ICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XG5cdCAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG5cdCAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG5cdCAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XG5cdCAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcblx0ICAgICAgICAgICAgLTE7XG5cdFxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuXHQgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbTtcblx0fVxuXHRcblx0Ly8gaXNvIDg2MDEgcmVnZXhcblx0Ly8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG5cdHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXHR2YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cdFxuXHR2YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/Lztcblx0XG5cdHZhciBpc29EYXRlcyA9IFtcblx0ICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuXHQgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG5cdCAgICBbJ0dHR0ctW1ddV1ctRScsIC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxcblx0ICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcblx0ICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuXHQgICAgWydZWVlZLU1NJywgL1xcZHs0fS1cXGRcXGQvLCBmYWxzZV0sXG5cdCAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcblx0ICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG5cdCAgICAvLyBZWVlZTU0gaXMgTk9UIGFsbG93ZWQgYnkgdGhlIHN0YW5kYXJkXG5cdCAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuXHQgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcblx0ICAgIFsnWVlZWURERCcsIC9cXGR7N30vXVxuXHRdO1xuXHRcblx0Ly8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuXHR2YXIgaXNvVGltZXMgPSBbXG5cdCAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG5cdCAgICBbJ0hIOm1tOnNzLFNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFxuXHQgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuXHQgICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG5cdCAgICBbJ0hIbW1zcy5TU1NTJywgL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxcblx0ICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcblx0ICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuXHQgICAgWydISG1tJywgL1xcZFxcZFxcZFxcZC9dLFxuXHQgICAgWydISCcsIC9cXGRcXGQvXVxuXHRdO1xuXHRcblx0dmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cdFxuXHQvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuXHRmdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuXHQgICAgdmFyIGksIGwsXG5cdCAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuXHQgICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG5cdCAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblx0XG5cdCAgICBpZiAobWF0Y2gpIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXHRcblx0ICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuXHQgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuXHQgICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWF0Y2hbM10pIHtcblx0ICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuXHQgICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWF0Y2hbNF0pIHtcblx0ICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcblx0ICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcblx0ICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblx0XG5cdCAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuXHQgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuXHQgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrID0gZGVwcmVjYXRlKFxuXHQgICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG5cdCAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXG5cdCAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG5cdCAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG5cdCAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcblx0ICAgIH1cblx0KTtcblx0XG5cdC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cblx0ZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuXHQgICAgaWYgKGEgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBhO1xuXHQgICAgfVxuXHQgICAgaWYgKGIgIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBiO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG5cdCAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuXHQgICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuXHQgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG5cdCAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuXHR9XG5cdFxuXHQvLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cblx0Ly8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcblx0Ly8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG5cdC8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuXHRmdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuXHQgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblx0XG5cdCAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG5cdCAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuXHQgICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuXHQgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG5cdCAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cdFxuXHQgICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuXHQgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG5cdCAgICAgICAgY29uZmlnLl9hW01PTlRIXSA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcblx0ICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cblx0ICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcblx0ICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG5cdCAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuXHQgICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG5cdCAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcblx0ICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSAoY29uZmlnLl9hW2ldID09IG51bGwpID8gKGkgPT09IDIgPyAxIDogMCkgOiBjb25maWcuX2FbaV07XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgZm9yIDI0OjAwOjAwLjAwMFxuXHQgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW1NFQ09ORF0gPT09IDAgJiZcblx0ICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuXHQgICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuXHQgICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG5cdCAgICAvLyB3aXRoIHBhcnNlWm9uZS5cblx0ICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG5cdCAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG5cdCAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpIHtcblx0ICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblx0XG5cdCAgICB3ID0gY29uZmlnLl93O1xuXHQgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuXHQgICAgICAgIGRvdyA9IDE7XG5cdCAgICAgICAgZG95ID0gNDtcblx0XG5cdCAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG5cdCAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuXHQgICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG5cdCAgICAgICAgLy8gY3JlYXRlIG5vdykuXG5cdCAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhcik7XG5cdCAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG5cdCAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG5cdCAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG5cdCAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG5cdCAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXHRcblx0ICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXHRcblx0ICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuZ2csIGNvbmZpZy5fYVtZRUFSXSwgY3VyV2Vlay55ZWFyKTtcblx0XG5cdCAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG5cdCAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgY3VyV2Vlay53ZWVrKTtcblx0XG5cdCAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIC8vIHdlZWtkYXkgLS0gbG93IGRheSBudW1iZXJzIGFyZSBjb25zaWRlcmVkIG5leHQgd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuXHQgICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcblx0ICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIC8vIGxvY2FsIHdlZWtkYXkgLS0gY291bnRpbmcgc3RhcnRzIGZyb20gYmVnaW5pbmcgb2Ygd2Vla1xuXHQgICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuXHQgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG5cdCAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG5cdCAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh3ZWVrZGF5T3ZlcmZsb3cgIT0gbnVsbCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG5cdCAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuXHQgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBJU08gc3RhbmRhcmRcblx0aG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcblx0ICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG5cdCAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgY29uZmlnLl9hID0gW107XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cdFxuXHQgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2Bcblx0ICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcblx0ICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcblx0ICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHQgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXHRcblx0ICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cdCAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuXHQgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcblx0ICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG5cdCAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG5cdCAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG5cdCAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG5cdCAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuXHQgICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcblx0ICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcblx0ICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcblx0ICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuXHQgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJlxuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcblx0ICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG5cdCAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG5cdCAgICAvLyBoYW5kbGUgbWVyaWRpZW1cblx0ICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblx0XG5cdCAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0ICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuXHQgICAgdmFyIGlzUG07XG5cdFxuXHQgICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcblx0ICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG5cdCAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICB9XG5cdCAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuXHQgICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG5cdCAgICAgICAgLy8gRmFsbGJhY2tcblx0ICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuXHQgICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuXHQgICAgICAgICAgICBob3VyICs9IDEyO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcblx0ICAgICAgICAgICAgaG91ciA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cblx0ICAgICAgICByZXR1cm4gaG91cjtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3Ncblx0ZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuXHQgICAgdmFyIHRlbXBDb25maWcsXG5cdCAgICAgICAgYmVzdE1vbWVudCxcblx0XG5cdCAgICAgICAgc2NvcmVUb0JlYXQsXG5cdCAgICAgICAgaSxcblx0ICAgICAgICBjdXJyZW50U2NvcmU7XG5cdFxuXHQgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkRm9ybWF0ID0gdHJ1ZTtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgY3VycmVudFNjb3JlID0gMDtcblx0ICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcblx0ICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXHRcblx0ICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuXHQgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3Zlcjtcblx0XG5cdCAgICAgICAgLy9vciB0b2tlbnNcblx0ICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblx0XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXHRcblx0ICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuXHQgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcblx0ICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG5cdCAgICBpZiAoY29uZmlnLl9kKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcblx0ICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG5cdCAgICB9KTtcblx0XG5cdCAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG5cdCAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuXHQgICAgaWYgKHJlcy5fbmV4dERheSkge1xuXHQgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuXHQgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcblx0ICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG5cdCAgICB2YXIgaW5wdXQgPSBjb25maWcuX2ksXG5cdCAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXHRcblx0ICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cdFxuXHQgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoe251bGxJbnB1dDogdHJ1ZX0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuXHQgICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuXHQgICAgfSAgZWxzZSB7XG5cdCAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjb25maWc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcblx0ICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcblx0ICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuXHQgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcblx0ICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcblx0ICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG5cdCAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuXHQgICAgdmFyIGMgPSB7fTtcblx0XG5cdCAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcblx0ICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG5cdCAgICAgICAgbG9jYWxlID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuXHQgICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuXHQgICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG5cdCAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuXHQgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcblx0ICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG5cdCAgICBjLl9sID0gbG9jYWxlO1xuXHQgICAgYy5faSA9IGlucHV0O1xuXHQgICAgYy5fZiA9IGZvcm1hdDtcblx0ICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblx0XG5cdCAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcblx0ICAgIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG5cdCAgICAnbW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuXHQgICAgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQpO1xuXHRcblx0Ly8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcblx0Ly8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuXHQvL1xuXHQvLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG5cdC8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG5cdGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuXHQgICAgdmFyIHJlcywgaTtcblx0ICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG5cdCAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG5cdCAgICB9XG5cdCAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG5cdCAgICB9XG5cdCAgICByZXMgPSBtb21lbnRzWzBdO1xuXHQgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcblx0ICAgICAgICAgICAgcmVzID0gbW9tZW50c1tpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHQvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuXHRmdW5jdGlvbiBtaW4gKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdFxuXHQgICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWF4ICgpIHtcblx0ICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXHRcblx0ICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcblx0fVxuXHRcblx0dmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG5cdCAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuXHQgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcblx0ICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG5cdCAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG5cdCAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuXHQgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG5cdCAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuXHQgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG5cdCAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcblx0ICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblx0XG5cdCAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuXHQgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG5cdCAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcblx0ICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG5cdCAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG5cdCAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcblx0ICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcblx0ICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG5cdCAgICAgICAgd2Vla3MgKiA3O1xuXHQgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcblx0ICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG5cdCAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuXHQgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG5cdCAgICAgICAgcXVhcnRlcnMgKiAzICtcblx0ICAgICAgICB5ZWFycyAqIDEyO1xuXHRcblx0ICAgIHRoaXMuX2RhdGEgPSB7fTtcblx0XG5cdCAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblx0XG5cdCAgICB0aGlzLl9idWJibGUoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG5cdCAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFic1JvdW5kIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xuXHQgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcblx0ICAgICAgICB2YXIgc2lnbiA9ICcrJztcblx0ICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuXHQgICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuXHQgICAgICAgICAgICBzaWduID0gJy0nO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdG9mZnNldCgnWicsICc6Jyk7XG5cdG9mZnNldCgnWlonLCAnJyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuXHRhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuXHRhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcblx0ICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG5cdH0pO1xuXHRcblx0Ly8gSEVMUEVSU1xuXHRcblx0Ly8gdGltZXpvbmUgY2h1bmtlclxuXHQvLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cblx0Ly8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG5cdHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblx0XG5cdGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG5cdCAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXHRcblx0ICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG5cdCAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG5cdCAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cdFxuXHQgICAgcmV0dXJuIG1pbnV0ZXMgPT09IDAgP1xuXHQgICAgICAwIDpcblx0ICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcblx0fVxuXHRcblx0Ly8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cblx0ZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuXHQgICAgdmFyIHJlcywgZGlmZjtcblx0ICAgIGlmIChtb2RlbC5faXNVVEMpIHtcblx0ICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuXHQgICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG5cdCAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuXHQgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG5cdCAgICAgICAgcmV0dXJuIHJlcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG5cdCAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuXHQgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG5cdCAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG5cdH1cblx0XG5cdC8vIEhPT0tTXG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG5cdC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuXHRob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuXHQvLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuXHQvLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG5cdC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cblx0Ly9cblx0Ly8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG5cdC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuXHQvLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG5cdC8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuXHQvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuXHRmdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0IHx8IDAsXG5cdCAgICAgICAgbG9jYWxBZGp1c3Q7XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuXHQgICAgfVxuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuXHQgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuXHQgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuXHQgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuXHQgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcblx0ICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcblx0ICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXHRcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICBpZiAodGhpcy5faXNVVEMpIHtcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcblx0ICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXHRcblx0ICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuXHQgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcblx0ICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuXHQgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblx0XG5cdCAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuXHQgICAgcmV0dXJuIChcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuXHQgICAgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcblx0ICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGMgPSB7fTtcblx0XG5cdCAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuXHQgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cdFxuXHQgICAgaWYgKGMuX2EpIHtcblx0ICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuXHQgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG5cdCAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVXRjICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xuXHR9XG5cdFxuXHQvLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcblx0dmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtKT8oPzooXFxkKilbLiBdKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKykoXFwuXFxkKik/KT8kLztcblx0XG5cdC8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG5cdC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcblx0Ly8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxuXHR2YXIgaXNvUmVnZXggPSAvXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuXHQgICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG5cdCAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcblx0ICAgICAgICBtYXRjaCA9IG51bGwsXG5cdCAgICAgICAgc2lnbixcblx0ICAgICAgICByZXQsXG5cdCAgICAgICAgZGlmZlJlcztcblx0XG5cdCAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuXHQgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuXHQgICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcblx0ICAgICAgICB9O1xuXHQgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcblx0ICAgICAgICBkdXJhdGlvbiA9IHt9O1xuXHQgICAgICAgIGlmIChrZXkpIHtcblx0ICAgICAgICAgICAgZHVyYXRpb25ba2V5XSA9IGlucHV0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcblx0ICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuXHQgICAgICAgIGR1cmF0aW9uID0ge1xuXHQgICAgICAgICAgICB5ICA6IDAsXG5cdCAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgaCAgOiB0b0ludChtYXRjaFtIT1VSXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgbXMgOiB0b0ludChhYnNSb3VuZChtYXRjaFtNSUxMSVNFQ09ORF0gKiAxMDAwKSkgKiBzaWduIC8vIHRoZSBtaWxsaXNlY29uZCBkZWNpbWFsIHBvaW50IGlzIGluY2x1ZGVkIGluIHRoZSBtYXRjaFxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG5cdCAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcblx0ICAgICAgICBkdXJhdGlvbiA9IHtcblx0ICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcblx0ICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcblx0ICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcblx0ICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcblx0ICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcblx0ICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcblx0ICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG5cdCAgICAgICAgZHVyYXRpb24gPSB7fTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG5cdCAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXHRcblx0ICAgICAgICBkdXJhdGlvbiA9IHt9O1xuXHQgICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG5cdCAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cdFxuXHQgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcblx0ICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0Y3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG5cdCAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuXHQgICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG5cdCAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG5cdCAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcblx0ICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcblx0ICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuXHQgICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cdFxuXHQgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuXHQgICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcblx0ICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcblx0ICAgICAgICAtLXJlcy5tb250aHM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblx0XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuXHQgICAgdmFyIHJlcztcblx0ICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblx0ICAgIH1cblx0XG5cdCAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG5cdCAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcblx0ICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG5cdCAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuXHQgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHQvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG5cdGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuXHQgICAgICAgIHZhciBkdXIsIHRtcDtcblx0ICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcblx0ICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuXHQgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG5cdCAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG5cdCAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG5cdCAgICAgICAgZHVyID0gY3JlYXRlRHVyYXRpb24odmFsLCBwZXJpb2QpO1xuXHQgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFN1YnRyYWN0IChtb20sIGR1cmF0aW9uLCBpc0FkZGluZywgdXBkYXRlT2Zmc2V0KSB7XG5cdCAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcblx0ICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuXHQgICAgICAgIG1vbnRocyA9IGFic1JvdW5kKGR1cmF0aW9uLl9tb250aHMpO1xuXHRcblx0ICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIC8vIE5vIG9wXG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblx0XG5cdCAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG5cdCAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcblx0ICAgIH1cblx0ICAgIGlmIChkYXlzKSB7XG5cdCAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuXHQgICAgfVxuXHQgICAgaWYgKG1vbnRocykge1xuXHQgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG5cdCAgICB9XG5cdCAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG5cdCAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG5cdHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblx0XG5cdGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcblx0ICAgIHZhciBkaWZmID0gbXlNb21lbnQuZGlmZihub3csICdkYXlzJywgdHJ1ZSk7XG5cdCAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuXHQgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjYWxlbmRhciQxICh0aW1lLCBmb3JtYXRzKSB7XG5cdCAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuXHQgICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG5cdCAgICB2YXIgbm93ID0gdGltZSB8fCBjcmVhdGVMb2NhbCgpLFxuXHQgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuXHQgICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblx0XG5cdCAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGNyZWF0ZUxvY2FsKG5vdykpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2xvbmUgKCkge1xuXHQgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcblx0ICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG5cdCAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuXHQgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcblx0ICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG5cdCAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQmV0d2VlbiAoZnJvbSwgdG8sIHVuaXRzLCBpbmNsdXNpdml0eSkge1xuXHQgICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuXHQgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcblx0ICAgICAgICAoaW5jbHVzaXZpdHlbMV0gPT09ICcpJyA/IHRoaXMuaXNCZWZvcmUodG8sIHVuaXRzKSA6ICF0aGlzLmlzQWZ0ZXIodG8sIHVuaXRzKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuXHQgICAgICAgIGlucHV0TXM7XG5cdCAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuXHQgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lT3JBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG5cdCAgICB2YXIgdGhhdCxcblx0ICAgICAgICB6b25lRGVsdGEsXG5cdCAgICAgICAgZGVsdGEsIG91dHB1dDtcblx0XG5cdCAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblx0XG5cdCAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgcmV0dXJuIE5hTjtcblx0ICAgIH1cblx0XG5cdCAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXHRcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHRcblx0ICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG5cdCAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcblx0ICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcblx0ICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcblx0ICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuXHQgICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcblx0ICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG5cdCAgICAgICAgICAgIGRlbHRhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcblx0ICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG5cdCAgICB2YXIgd2hvbGVNb250aERpZmYgPSAoKGIueWVhcigpIC0gYS55ZWFyKCkpICogMTIpICsgKGIubW9udGgoKSAtIGEubW9udGgoKSksXG5cdCAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcblx0ICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG5cdCAgICAgICAgYW5jaG9yMiwgYWRqdXN0O1xuXHRcblx0ICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuXHQgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuXHQgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG5cdCAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcblx0ICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuXHQgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcblx0ICAgIH1cblx0XG5cdCAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG5cdCAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcblx0fVxuXHRcblx0aG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5cdGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cdFxuXHRmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSVNPU3RyaW5nICgpIHtcblx0ICAgIHZhciBtID0gdGhpcy5jbG9uZSgpLnV0YygpO1xuXHQgICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG5cdCAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuXHQgKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG5cdCAqXG5cdCAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG5cdCAqL1xuXHRmdW5jdGlvbiBpbnNwZWN0ICgpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuXHQgICAgfVxuXHQgICAgdmFyIGZ1bmMgPSAnbW9tZW50Jztcblx0ICAgIHZhciB6b25lID0gJyc7XG5cdCAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG5cdCAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG5cdCAgICAgICAgem9uZSA9ICdaJztcblx0ICAgIH1cblx0ICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuXHQgICAgdmFyIHllYXIgPSAoMCA8IHRoaXMueWVhcigpICYmIHRoaXMueWVhcigpIDw9IDk5OTkpID8gJ1lZWVknIDogJ1lZWVlZWSc7XG5cdCAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcblx0ICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuXHQgICAgaWYgKCFpbnB1dFN0cmluZykge1xuXHQgICAgICAgIGlucHV0U3RyaW5nID0gdGhpcy5pc1V0YygpID8gaG9va3MuZGVmYXVsdEZvcm1hdFV0YyA6IGhvb2tzLmRlZmF1bHRGb3JtYXQ7XG5cdCAgICB9XG5cdCAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZyb20gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuXHQgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuXHQgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuXHQgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7ZnJvbTogdGhpcywgdG86IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcblx0ICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuXHR9XG5cdFxuXHQvLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG5cdC8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cblx0Ly8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuXHRmdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuXHQgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cdFxuXHQgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuXHQgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBsYW5nID0gZGVwcmVjYXRlKFxuXHQgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcblx0ICAgIGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZShrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0KTtcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuXHQgICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuXHQgICAgc3dpdGNoICh1bml0cykge1xuXHQgICAgICAgIGNhc2UgJ3llYXInOlxuXHQgICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAncXVhcnRlcic6XG5cdCAgICAgICAgY2FzZSAnbW9udGgnOlxuXHQgICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICd3ZWVrJzpcblx0ICAgICAgICBjYXNlICdpc29XZWVrJzpcblx0ICAgICAgICBjYXNlICdkYXknOlxuXHQgICAgICAgIGNhc2UgJ2RhdGUnOlxuXHQgICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnaG91cic6XG5cdCAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ21pbnV0ZSc6XG5cdCAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ3NlY29uZCc6XG5cdCAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuXHQgICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcblx0ICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG5cdCAgICB9XG5cdCAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuXHQgICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBxdWFydGVycyBhcmUgYWxzbyBzcGVjaWFsXG5cdCAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuXHQgICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICAvLyAnZGF0ZScgaXMgYW4gYWxpYXMgZm9yICdkYXknLCBzbyBpdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBzdWNoLlxuXHQgICAgaWYgKHVuaXRzID09PSAnZGF0ZScpIHtcblx0ICAgICAgICB1bml0cyA9ICdkYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVuaXggKCkge1xuXHQgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9EYXRlICgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuXHQgICAgdmFyIG0gPSB0aGlzO1xuXHQgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcblx0ICAgIHZhciBtID0gdGhpcztcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuXHQgICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuXHQgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuXHQgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG5cdCAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG5cdCAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG5cdCAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0pTT04gKCkge1xuXHQgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy50b0lTT1N0cmluZygpIDogbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNWYWxpZCQxICgpIHtcblx0ICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuXHQgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcblx0ICAgIHJldHVybiBnZXRQYXJzaW5nRmxhZ3ModGhpcykub3ZlcmZsb3c7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0aW9uRGF0YSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG5cdCAgICAgICAgZm9ybWF0OiB0aGlzLl9mLFxuXHQgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuXHQgICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcblx0ICAgICAgICBzdHJpY3Q6IHRoaXMuX3N0cmljdFxuXHQgICAgfTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydnZycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG5cdCAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG5cdH1cblx0XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2cnLCAgICAgJ3dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG5cdGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0dHJywgJ2lzb1dlZWtZZWFyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5cdGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3dlZWtZZWFyJywgMSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblx0XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdHJywgICAgICBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdnZycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcblx0YWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuXHRhZGRSZWdleFRva2VuKCdHR0dHRycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuXHQgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG5cdCAgICAgICAgICAgIGlucHV0LFxuXHQgICAgICAgICAgICB0aGlzLndlZWsoKSxcblx0ICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG5cdCAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcblx0ICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG5cdCAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuXHQgICAgICAgICAgICBpbnB1dCwgdGhpcy5pc29XZWVrKCksIHRoaXMuaXNvV2Vla2RheSgpLCAxLCA0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SVNPV2Vla3NJblllYXIgKCkge1xuXHQgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuXHQgICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG5cdCAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXJIZWxwZXIoaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSB7XG5cdCAgICB2YXIgd2Vla3NUYXJnZXQ7XG5cdCAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKHRoaXMsIGRvdywgZG95KS55ZWFyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG5cdCAgICAgICAgaWYgKHdlZWsgPiB3ZWVrc1RhcmdldCkge1xuXHQgICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzZXRXZWVrQWxsLmNhbGwodGhpcywgaW5wdXQsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG5cdCAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoZGF5T2ZZZWFyRGF0YS55ZWFyLCAwLCBkYXlPZlllYXJEYXRhLmRheU9mWWVhcik7XG5cdFxuXHQgICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG5cdCAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG5cdCAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcblx0YWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gTWF0aC5jZWlsKCh0aGlzLm1vbnRoKCkgKyAxKSAvIDMpIDogdGhpcy5tb250aCgoaW5wdXQgLSAxKSAqIDMgKyB0aGlzLm1vbnRoKCkgJSAzKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXHRcblx0Ly8gUFJJT1JPSVRZXG5cdGFkZFVuaXRQcmlvcml0eSgnZGF0ZScsIDkpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG5cdH0pO1xuXHRcblx0YWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5cdGFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdLCAxMCk7XG5cdH0pO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0REREQnLCBtYXRjaDMpO1xuXHRhZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXREYXlPZlllYXIgKGlucHV0KSB7XG5cdCAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnbWludXRlJywgMTQpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignc3MnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdTJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1MnLCA0XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTUycsIDVdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1MnLCA2XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1MnLCA3XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTUycsIDhdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xuXHR9KTtcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTU1MnLCA5XSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG5cdH0pO1xuXHRcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbignUycsICAgIG1hdGNoMXRvMywgbWF0Y2gxKTtcblx0YWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblx0XG5cdHZhciB0b2tlbjtcblx0Zm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuXHQgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xuXHR9XG5cdFxuXHRmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG5cdCAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcblx0fVxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcblx0YWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG5cdH1cblx0XG5cdHZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cdFxuXHRwcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcblx0cHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuXHRwcm90by5jbG9uZSAgICAgICAgICAgICA9IGNsb25lO1xuXHRwcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5cdHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5cdHByb3RvLmZvcm1hdCAgICAgICAgICAgID0gZm9ybWF0O1xuXHRwcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5cdHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcblx0cHJvdG8udG8gICAgICAgICAgICAgICAgPSB0bztcblx0cHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcblx0cHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5cdHByb3RvLmludmFsaWRBdCAgICAgICAgID0gaW52YWxpZEF0O1xuXHRwcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5cdHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5cdHByb3RvLmlzQmV0d2VlbiAgICAgICAgID0gaXNCZXR3ZWVuO1xuXHRwcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcblx0cHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuXHRwcm90by5pc1NhbWVPckJlZm9yZSAgICA9IGlzU2FtZU9yQmVmb3JlO1xuXHRwcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcblx0cHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuXHRwcm90by5sb2NhbGUgICAgICAgICAgICA9IGxvY2FsZTtcblx0cHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xuXHRwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcblx0cHJvdG8ubWluICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNaW47XG5cdHByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xuXHRwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcblx0cHJvdG8uc3RhcnRPZiAgICAgICAgICAgPSBzdGFydE9mO1xuXHRwcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xuXHRwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5cdHByb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG5cdHByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xuXHRwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuXHRwcm90by5pbnNwZWN0ICAgICAgICAgICA9IGluc3BlY3Q7XG5cdHByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xuXHRwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuXHRwcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG5cdHByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcblx0cHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cdFxuXHQvLyBZZWFyXG5cdHByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuXHRwcm90by5pc0xlYXBZZWFyID0gZ2V0SXNMZWFwWWVhcjtcblx0XG5cdC8vIFdlZWsgWWVhclxuXHRwcm90by53ZWVrWWVhciAgICA9IGdldFNldFdlZWtZZWFyO1xuXHRwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXHRcblx0Ly8gUXVhcnRlclxuXHRwcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXHRcblx0Ly8gTW9udGhcblx0cHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcblx0cHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblx0XG5cdC8vIFdlZWtcblx0cHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xuXHRwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG5cdHByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5cdHByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cdFxuXHQvLyBEYXlcblx0cHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5cdHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuXHRwcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuXHRwcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xuXHRwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuXHRcblx0Ly8gSG91clxuXHRwcm90by5ob3VyID0gcHJvdG8uaG91cnMgPSBnZXRTZXRIb3VyO1xuXHRcblx0Ly8gTWludXRlXG5cdHByb3RvLm1pbnV0ZSA9IHByb3RvLm1pbnV0ZXMgPSBnZXRTZXRNaW51dGU7XG5cdFxuXHQvLyBTZWNvbmRcblx0cHJvdG8uc2Vjb25kID0gcHJvdG8uc2Vjb25kcyA9IGdldFNldFNlY29uZDtcblx0XG5cdC8vIE1pbGxpc2Vjb25kXG5cdHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG5cdFxuXHQvLyBPZmZzZXRcblx0cHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG5cdHByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5cdHByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcblx0cHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcblx0cHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcblx0cHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcblx0cHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuXHRwcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuXHRwcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuXHRwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuXHRcblx0Ly8gVGltZXpvbmVcblx0cHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcblx0cHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblx0XG5cdC8vIERlcHJlY2F0aW9uc1xuXHRwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5cdHByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuXHRwcm90by55ZWFycyAgPSBkZXByZWNhdGUoJ3llYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQnLCBnZXRTZXRZZWFyKTtcblx0cHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuXHRwcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXHRcblx0ZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cykucGFyc2Vab25lKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZVBhcnNlUG9zdEZvcm1hdCAoc3RyaW5nKSB7XG5cdCAgICByZXR1cm4gc3RyaW5nO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cdFxuXHRwcm90byQxLmNhbGVuZGFyICAgICAgICA9IGNhbGVuZGFyO1xuXHRwcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xuXHRwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuXHRwcm90byQxLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG5cdHByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuXHRwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcblx0cHJvdG8kMS5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZVRpbWU7XG5cdHByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcblx0cHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cdFxuXHQvLyBNb250aFxuXHRwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcblx0cHJvdG8kMS5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcblx0cHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcblx0cHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuXHRwcm90byQxLm1vbnRoc1Nob3J0UmVnZXggID0gbW9udGhzU2hvcnRSZWdleDtcblx0XG5cdC8vIFdlZWtcblx0cHJvdG8kMS53ZWVrID0gbG9jYWxlV2Vlaztcblx0cHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuXHRwcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cdFxuXHQvLyBEYXkgb2YgV2Vla1xuXHRwcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xuXHRwcm90byQxLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xuXHRwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5cdHByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblx0XG5cdHByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xuXHRwcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xuXHRwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblx0XG5cdC8vIEhvdXJzXG5cdHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG5cdHByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblx0XG5cdGZ1bmN0aW9uIGdldCQxIChmb3JtYXQsIGluZGV4LCBmaWVsZCwgc2V0dGVyKSB7XG5cdCAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cdCAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuXHQgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzSW1wbCAoZm9ybWF0LCBpbmRleCwgZmllbGQpIHtcblx0ICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblx0XG5cdCAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgb3V0ID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuXHQgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgaSwgZmllbGQsICdtb250aCcpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG91dDtcblx0fVxuXHRcblx0Ly8gKClcblx0Ly8gKDUpXG5cdC8vIChmbXQsIDUpXG5cdC8vIChmbXQpXG5cdC8vICh0cnVlKVxuXHQvLyAodHJ1ZSwgNSlcblx0Ly8gKHRydWUsIGZtdCwgNSlcblx0Ly8gKHRydWUsIGZtdClcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuXHQgICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuXHQgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG5cdCAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcblx0ICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcblx0ICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG5cdCAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblx0XG5cdCAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuXHQgICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGk7XG5cdCAgICB2YXIgb3V0ID0gW107XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJyk7XG5cdH1cblx0XG5cdGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG5cdCAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuXHQgICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcblx0ICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxuXHQgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuXHQgICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcblx0ICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XG5cdCAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuXHQgICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0Ly8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXHRob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5cdGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblx0XG5cdHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cdFxuXHRmdW5jdGlvbiBhYnMgKCkge1xuXHQgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblx0XG5cdCAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG5cdCAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuXHQgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXHRcblx0ICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuXHQgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuXHQgICAgZGF0YS5taW51dGVzICAgICAgID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuXHQgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcblx0ICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuXHQgICAgZGF0YS55ZWFycyAgICAgICAgID0gbWF0aEFicyhkYXRhLnllYXJzKTtcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG5cdCAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXHRcblx0ICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcblx0ICAgIGR1cmF0aW9uLl9kYXlzICAgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX2RheXM7XG5cdCAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cdFxuXHQgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcblx0fVxuXHRcblx0Ly8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuXHRmdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuXHR9XG5cdFxuXHQvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuXHRmdW5jdGlvbiBzdWJ0cmFjdCQxIChpbnB1dCwgdmFsdWUpIHtcblx0ICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcblx0ICAgIGlmIChudW1iZXIgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBidWJibGUgKCkge1xuXHQgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblx0ICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuXHQgICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcblx0ICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXHQgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cdFxuXHQgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuXHQgICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG5cdCAgICBpZiAoISgobWlsbGlzZWNvbmRzID49IDAgJiYgZGF5cyA+PSAwICYmIG1vbnRocyA+PSAwKSB8fFxuXHQgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcblx0ICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG5cdCAgICAgICAgZGF5cyA9IDA7XG5cdCAgICAgICAgbW9udGhzID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG5cdCAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG5cdCAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cdFxuXHQgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcblx0ICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXHRcblx0ICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcblx0ICAgIGRhdGEubWludXRlcyAgICAgID0gbWludXRlcyAlIDYwO1xuXHRcblx0ICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcblx0ICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblx0XG5cdCAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXHRcblx0ICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcblx0ICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcblx0ICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcblx0ICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblx0XG5cdCAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG5cdCAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcblx0ICAgIG1vbnRocyAlPSAxMjtcblx0XG5cdCAgICBkYXRhLmRheXMgICA9IGRheXM7XG5cdCAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcblx0ICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xuXHQgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuXHQgICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG5cdCAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG5cdCAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcblx0ICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhcyAodW5pdHMpIHtcblx0ICAgIHZhciBkYXlzO1xuXHQgICAgdmFyIG1vbnRocztcblx0ICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cdFxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdFxuXHQgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcblx0ICAgICAgICBkYXlzICAgPSB0aGlzLl9kYXlzICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcblx0ICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG5cdCAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2Nylcblx0ICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuXHQgICAgICAgIHN3aXRjaCAodW5pdHMpIHtcblx0ICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG5cdCAgICAgICAgICAgIGNhc2UgJ2hvdXInICAgOiByZXR1cm4gZGF5cyAqIDI0ICAgICsgbWlsbGlzZWNvbmRzIC8gMzZlNTtcblx0ICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG5cdCAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcblx0ICAgICAgICAgICAgLy8gTWF0aC5mbG9vciBwcmV2ZW50cyBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyBoZXJlXG5cdCAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcblx0ICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuXHRmdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuXHQgICAgcmV0dXJuIChcblx0ICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuXHQgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG5cdCAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG5cdCAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuXHQgICAgKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG5cdHZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xuXHR2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcblx0dmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG5cdHZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xuXHR2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcblx0dmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG5cdHZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0ICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFbbmFtZV07XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG5cdHZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG5cdHZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XG5cdHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuXHR2YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xuXHR2YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XG5cdHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXHRcblx0ZnVuY3Rpb24gd2Vla3MgKCkge1xuXHQgICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG5cdH1cblx0XG5cdHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG5cdHZhciB0aHJlc2hvbGRzID0ge1xuXHQgICAgczogNDUsICAvLyBzZWNvbmRzIHRvIG1pbnV0ZVxuXHQgICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcblx0ICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG5cdCAgICBkOiAyNiwgIC8vIGRheXMgdG8gbW9udGhcblx0ICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcblx0fTtcblx0XG5cdC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5cdGZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcblx0ICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcblx0ICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuXHQgICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG5cdCAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcblx0ICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuXHQgICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG5cdCAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblx0XG5cdCAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG5cdCAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8XG5cdCAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG5cdCAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG5cdCAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG5cdCAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8XG5cdCAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cdFxuXHQgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG5cdCAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcblx0ICAgIGFbNF0gPSBsb2NhbGU7XG5cdCAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG5cdH1cblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3Ncblx0ZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmcgKHJvdW5kaW5nRnVuY3Rpb24pIHtcblx0ICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gcm91bmQ7XG5cdCAgICB9XG5cdCAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3Ncblx0ZnVuY3Rpb24gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkICh0aHJlc2hvbGQsIGxpbWl0KSB7XG5cdCAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG5cdCAgICB9XG5cdCAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuXHQgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuXHQgICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXHRcblx0ICAgIGlmICh3aXRoU3VmZml4KSB7XG5cdCAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG5cdH1cblx0XG5cdHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXHRcblx0ZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcblx0ICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG5cdCAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG5cdCAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG5cdCAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG5cdCAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuXHQgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG5cdCAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuXHQgICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcblx0ICAgIHZhciBkYXlzICAgICAgICAgPSBhYnMkMSh0aGlzLl9kYXlzKTtcblx0ICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuXHQgICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblx0XG5cdCAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcblx0ICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcblx0ICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcblx0ICAgIHNlY29uZHMgJT0gNjA7XG5cdCAgICBtaW51dGVzICU9IDYwO1xuXHRcblx0ICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcblx0ICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcblx0ICAgIG1vbnRocyAlPSAxMjtcblx0XG5cdFxuXHQgICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2RvcmRpbGxlL21vbWVudC1pc29kdXJhdGlvbi9ibG9iL21hc3Rlci9tb21lbnQuaXNvZHVyYXRpb24uanNcblx0ICAgIHZhciBZID0geWVhcnM7XG5cdCAgICB2YXIgTSA9IG1vbnRocztcblx0ICAgIHZhciBEID0gZGF5cztcblx0ICAgIHZhciBoID0gaG91cnM7XG5cdCAgICB2YXIgbSA9IG1pbnV0ZXM7XG5cdCAgICB2YXIgcyA9IHNlY29uZHM7XG5cdCAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXHRcblx0ICAgIGlmICghdG90YWwpIHtcblx0ICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG5cdCAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuXHQgICAgICAgIHJldHVybiAnUDBEJztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG5cdCAgICAgICAgJ1AnICtcblx0ICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuXHQgICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG5cdCAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcblx0ICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG5cdCAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcblx0ICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuXHQgICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcblx0fVxuXHRcblx0dmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cdFxuXHRwcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xuXHRwcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG5cdHByb3RvJDIuc3VidHJhY3QgICAgICAgPSBzdWJ0cmFjdCQxO1xuXHRwcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5cdHByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcblx0cHJvdG8kMi5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcblx0cHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcblx0cHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG5cdHByb3RvJDIuYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG5cdHByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xuXHRwcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG5cdHByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuXHRwcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xuXHRwcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuXHRwcm90byQyLmdldCAgICAgICAgICAgID0gZ2V0JDI7XG5cdHByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5cdHByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuXHRwcm90byQyLm1pbnV0ZXMgICAgICAgID0gbWludXRlcztcblx0cHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xuXHRwcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcblx0cHJvdG8kMi53ZWVrcyAgICAgICAgICA9IHdlZWtzO1xuXHRwcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xuXHRwcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG5cdHByb3RvJDIuaHVtYW5pemUgICAgICAgPSBodW1hbml6ZTtcblx0cHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5cdHByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuXHRwcm90byQyLnRvSlNPTiAgICAgICAgID0gdG9JU09TdHJpbmckMTtcblx0cHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcblx0cHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cdFxuXHQvLyBEZXByZWNhdGlvbnNcblx0cHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcblx0cHJvdG8kMi5sYW5nID0gbGFuZztcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdYJywgMCwgMCwgJ3VuaXgnKTtcblx0YWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcblx0YWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xuXHR9KTtcblx0XG5cdC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblx0XG5cdFxuXHRob29rcy52ZXJzaW9uID0gJzIuMTcuMSc7XG5cdFxuXHRzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXHRcblx0aG9va3MuZm4gICAgICAgICAgICAgICAgICAgID0gcHJvdG87XG5cdGhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcblx0aG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuXHRob29rcy5ub3cgICAgICAgICAgICAgICAgICAgPSBub3c7XG5cdGhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcblx0aG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcblx0aG9va3MubW9udGhzICAgICAgICAgICAgICAgID0gbGlzdE1vbnRocztcblx0aG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuXHRob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5cdGhvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IGNyZWF0ZUludmFsaWQ7XG5cdGhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuXHRob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcblx0aG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdFdlZWtkYXlzO1xuXHRob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5cdGhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcblx0aG9va3MuaXNEdXJhdGlvbiAgICAgICAgICAgID0gaXNEdXJhdGlvbjtcblx0aG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuXHRob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG5cdGhvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcblx0aG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuXHRob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcblx0aG9va3Mud2Vla2RheXNTaG9ydCAgICAgICAgID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG5cdGhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuXHRob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuXHRob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5cdGhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuXHRob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblx0XG5cdHJldHVybiBob29rcztcblx0XG5cdH0pKSk7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNSYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KTtcblx0XG5cdHZhciBfcmNSYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1JhZGlvKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBSYWRpbyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBSYWRpbygpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFkaW8ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFJhZGlvLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVzLCBfY2xhc3NOYW1lczI7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG5cdFxuXHQgICAgICAgIHZhciB3cmFwcGVyQ2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSwgY2xhc3NOYW1lKTtcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoX2NsYXNzTmFtZXMyID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzMikpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcHBlckNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmUgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNSYWRpbzJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IG51bGwsIGNoaWxkcmVuOiBudWxsIH0pKSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICAgKSA6IG51bGxcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFkaW87XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW87XG5cdFxuXHRSYWRpby5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0dmFyIENvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0dmFyIENvbHVtbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXHRcblx0VGFibGUuQ29sdW1uID0gQ29sdW1uO1xuXHRUYWJsZS5Db2x1bW5Hcm91cCA9IENvbHVtbkdyb3VwO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBUYWJsZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzU6XG5bMTIyMSwgMTEyXSxcblxuLyoqKi8gMzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG5cdHZhciBQbHVnaW5zID0gZnVuY3Rpb24gUGx1Z2lucygpIHt9O1xuXHR2YXIgcCA9IFBsdWdpbnMucHJvdG90eXBlO1xuXHRwLnB1c2ggPSBmdW5jdGlvbiAocGx1Z2luKSB7XG5cdCAgdGhpc1twbHVnaW4ucHJvdG90eXBlLm5hbWVdID0gcGx1Z2luO1xuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IG5ldyBQbHVnaW5zKCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnRvRml4ZWQgPSB0b0ZpeGVkO1xuXHRleHBvcnRzLmNyZWF0ZU1hdHJpeCA9IGNyZWF0ZU1hdHJpeDtcblx0ZXhwb3J0cy5jaGVja1N0eWxlTmFtZSA9IGNoZWNrU3R5bGVOYW1lO1xuXHRleHBvcnRzLmdldEdzYXBUeXBlID0gZ2V0R3NhcFR5cGU7XG5cdGV4cG9ydHMucGFyc2VDb2xvciA9IHBhcnNlQ29sb3I7XG5cdGV4cG9ydHMucGFyc2VTaGFkb3cgPSBwYXJzZVNoYWRvdztcblx0ZXhwb3J0cy5nZXRDb2xvciA9IGdldENvbG9yO1xuXHRleHBvcnRzLmlzVHJhbnNmb3JtID0gaXNUcmFuc2Zvcm07XG5cdGV4cG9ydHMuaXNDb252ZXJ0ID0gaXNDb252ZXJ0O1xuXHRleHBvcnRzLnNwbGl0RmlsdGVyVG9PYmplY3QgPSBzcGxpdEZpbHRlclRvT2JqZWN0O1xuXHRleHBvcnRzLmdldE1hdHJpeCA9IGdldE1hdHJpeDtcblx0ZXhwb3J0cy5nZXRUcmFuc2Zvcm0gPSBnZXRUcmFuc2Zvcm07XG5cdGV4cG9ydHMuc3R5bGVzVG9Dc3MgPSBzdHlsZXNUb0Nzcztcblx0ZXhwb3J0cy5nZXRVbml0ID0gZ2V0VW5pdDtcblx0ZXhwb3J0cy5nZXRWYWx1ZXMgPSBnZXRWYWx1ZXM7XG5cdGV4cG9ydHMuZmluZFN0eWxlQnlOYW1lID0gZmluZFN0eWxlQnlOYW1lO1xuXHRleHBvcnRzLm1lcmdlU3R5bGUgPSBtZXJnZVN0eWxlO1xuXHR2YXIgaXNVbml0bGVzc051bWJlciA9IHtcblx0ICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcblx0ICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcblx0ICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuXHQgIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG5cdCAgYm94RmxleDogdHJ1ZSxcblx0ICBib3hGbGV4R3JvdXA6IHRydWUsXG5cdCAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuXHQgIGNvbHVtbkNvdW50OiB0cnVlLFxuXHQgIGZsZXg6IHRydWUsXG5cdCAgZmxleEdyb3c6IHRydWUsXG5cdCAgZmxleFBvc2l0aXZlOiB0cnVlLFxuXHQgIGZsZXhTaHJpbms6IHRydWUsXG5cdCAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuXHQgIGZsZXhPcmRlcjogdHJ1ZSxcblx0ICBncmlkUm93OiB0cnVlLFxuXHQgIGdyaWRDb2x1bW46IHRydWUsXG5cdCAgZm9udFdlaWdodDogdHJ1ZSxcblx0ICBsaW5lQ2xhbXA6IHRydWUsXG5cdCAgbGluZUhlaWdodDogdHJ1ZSxcblx0ICBvcGFjaXR5OiB0cnVlLFxuXHQgIG9yZGVyOiB0cnVlLFxuXHQgIG9ycGhhbnM6IHRydWUsXG5cdCAgdGFiU2l6ZTogdHJ1ZSxcblx0ICB3aWRvd3M6IHRydWUsXG5cdCAgekluZGV4OiB0cnVlLFxuXHQgIHpvb206IHRydWUsXG5cdFxuXHQgIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcblx0ICBmaWxsT3BhY2l0eTogdHJ1ZSxcblx0ICBmbG9vZE9wYWNpdHk6IHRydWUsXG5cdCAgc3RvcE9wYWNpdHk6IHRydWUsXG5cdCAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuXHQgIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG5cdCAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcblx0ICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuXHQgIHN0cm9rZVdpZHRoOiB0cnVlXG5cdH07XG5cdHZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cdFxuXHRmdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcblx0ICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcblx0fVxuXHRcblx0T2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuXHQgIHByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuXHQgICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuXHQgIH0pO1xuXHR9KTtcblx0XG5cdHZhciB1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4ID0gL14obm9ybWFsfG5vbmV8KFxcYih1cmxcXChbXildKlxcKXxjaGFwdGVyX2NvdW50ZXJ8YXR0clxcKFteKV0qXFwpfChuby0pPyhvcGVufGNsb3NlKS1xdW90ZXxpbmhlcml0KSgoXFxiXFxzKil8JHxcXHMrKSkrKSQvO1xuXHRcblx0dmFyIElFID0gZnVuY3Rpb24gKCkge1xuXHQgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIGlmIChuYXZpZ2F0b3IgJiYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOC4wXCIpID4gMCB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDkuMFwiKSA+IDApKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9KCk7XG5cdFxuXHR2YXIgcm5kID0gMTAwMDAwO1xuXHRcblx0dmFyIGNvbG9yTG9va3VwID0ge1xuXHQgIGFxdWE6IFswLCAyNTUsIDI1NV0sXG5cdCAgbGltZTogWzAsIDI1NSwgMF0sXG5cdCAgc2lsdmVyOiBbMTkyLCAxOTIsIDE5Ml0sXG5cdCAgYmxhY2s6IFswLCAwLCAwXSxcblx0ICBtYXJvb246IFsxMjgsIDAsIDBdLFxuXHQgIHRlYWw6IFswLCAxMjgsIDEyOF0sXG5cdCAgYmx1ZTogWzAsIDAsIDI1NV0sXG5cdCAgbmF2eTogWzAsIDAsIDEyOF0sXG5cdCAgd2hpdGU6IFsyNTUsIDI1NSwgMjU1XSxcblx0ICBmdWNoc2lhOiBbMjU1LCAwLCAyNTVdLFxuXHQgIG9saXZlOiBbMTI4LCAxMjgsIDBdLFxuXHQgIHllbGxvdzogWzI1NSwgMjU1LCAwXSxcblx0ICBvcmFuZ2U6IFsyNTUsIDE2NSwgMF0sXG5cdCAgZ3JheTogWzEyOCwgMTI4LCAxMjhdLFxuXHQgIHB1cnBsZTogWzEyOCwgMCwgMTI4XSxcblx0ICBncmVlbjogWzAsIDEyOCwgMF0sXG5cdCAgcmVkOiBbMjU1LCAwLCAwXSxcblx0ICBwaW5rOiBbMjU1LCAxOTIsIDIwM10sXG5cdCAgY3lhbjogWzAsIDI1NSwgMjU1XSxcblx0ICB0cmFuc3BhcmVudDogWzI1NSwgMjU1LCAyNTUsIDBdXG5cdH07XG5cdHZhciBfaHVlID0gZnVuY3Rpb24gX2h1ZShoaCwgbTEsIG0yKSB7XG5cdCAgdmFyIGggPSBoaCA+IDEgPyBoaCAtIDEgOiBoaDtcblx0ICBoID0gaGggPCAwID8gaGggKyAxIDogaDtcblx0ICB2YXIgYSA9IGggKiAzIDwgMiA/IG0xICsgKG0yIC0gbTEpICogKDIgLyAzIC0gaCkgKiA2IDogbTE7XG5cdCAgdmFyIGIgPSBoIDwgMC41ID8gbTIgOiBhO1xuXHQgIHZhciBjID0gaCAqIDYgPCAxID8gbTEgKyAobTIgLSBtMSkgKiBoICogNiA6IGI7XG5cdCAgcmV0dXJuIGMgKiAyNTUgKyAwLjUgfCAwO1xuXHR9O1xuXHR2YXIgREVHMlJBRCA9IE1hdGguUEkgLyAxODA7XG5cdHZhciBSQUQyREVHID0gMTgwIC8gTWF0aC5QSTtcblx0XG5cdHZhciBjc3NMaXN0ID0ge1xuXHQgIF9saXN0czoge1xuXHQgICAgdHJhbnNmb3Jtc0Jhc2U6IFsndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NrZXdYJywgJ3NrZXdZJywgJ3JvdGF0ZVonLCAncm90YXRlJ10sXG5cdCAgICB0cmFuc2Zvcm1zM0Q6IFsndHJhbnNsYXRlM2QnLCAndHJhbnNsYXRlWicsICdzY2FsZVonLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3BlcnNwZWN0aXZlJ11cblx0ICB9LFxuXHQgIHRyYW5zZm9ybUdyb3VwOiB7IHRyYW5zbGF0ZTogMSwgdHJhbnNsYXRlM2Q6IDEsIHNjYWxlOiAxLCBzY2FsZTNkOiAxLCByb3RhdGU6IDEsIHJvdGF0ZTNkOiAxIH0sXG5cdCAgZmlsdGVyOiBbJ2dyYXlTY2FsZScsICdzZXBpYScsICdodWVSb3RhdGUnLCAnaW52ZXJ0JywgJ2JyaWdodG5lc3MnLCAnY29udHJhc3QnLCAnYmx1ciddLFxuXHQgIGZpbHRlckNvbnZlcnQ6IHsgZ3JheVNjYWxlOiAnZ3JheXNjYWxlJywgaHVlUm90YXRlOiAnaHVlLXJvdGF0ZScgfVxuXHR9O1xuXHRjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZSA9ICFJRSA/IGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmNvbmNhdChjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zM0QpIDogY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2U7XG5cdFxuXHRmdW5jdGlvbiB0b0ZpeGVkKG51bSwgbGVuZ3RoKSB7XG5cdCAgdmFyIF9ybmQgPSBsZW5ndGggPyBNYXRoLnBvdygxMCwgbGVuZ3RoKSA6IHJuZDtcblx0ICB2YXIgbiA9IG51bSB8IDA7XG5cdCAgdmFyIGRlYyA9IG51bSAtIG47XG5cdCAgcmV0dXJuIGRlYyA/IChkZWMgKiBfcm5kICsgKG51bSA8IDAgPyAtMC41IDogMC41KSB8IDApIC8gX3JuZCArIG4gOiBudW07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZU1hdHJpeChzdHlsZSkge1xuXHQgIHJldHVybiB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTW96Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuTW96Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuRE9NTWF0cml4ICYmIG5ldyB3aW5kb3cuRE9NTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTXNDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nc0NTU01hdHJpeChzdHlsZSkgfHwgd2luZG93Lk9DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5PQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuQ1NTTWF0cml4KHN0eWxlKSB8fCBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja1N0eWxlTmFtZShwKSB7XG5cdCAgdmFyIGEgPSBbJ08nLCAnTW96JywgJ21zJywgJ01zJywgJ1dlYmtpdCddO1xuXHQgIGlmIChwICE9PSAnZmlsdGVyJyAmJiBwIGluIGRvY3VtZW50LmJvZHkuc3R5bGUpIHtcblx0ICAgIHJldHVybiBwO1xuXHQgIH1cblx0ICB2YXIgX3AgPSBwLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcC5zdWJzdHIoMSk7XG5cdCAgdmFyIHByZWZpeENzcyA9IGEuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHJldHVybiAnJyArIGtleSArIF9wIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHByZWZpeENzc1swXSA/ICcnICsgcHJlZml4Q3NzWzBdICsgX3AgOiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRHc2FwVHlwZShfcCkge1xuXHQgIHZhciBwID0gX3A7XG5cdCAgcCA9IHAgPT09ICd4JyA/ICd0cmFuc2xhdGVYJyA6IHA7XG5cdCAgcCA9IHAgPT09ICd5JyA/ICd0cmFuc2xhdGVZJyA6IHA7XG5cdCAgcCA9IHAgPT09ICd6JyA/ICd0cmFuc2xhdGVaJyA6IHA7XG5cdCAgLy8gcCA9IHAgPT09ICdyJyA/ICdyb3RhdGUnIDogcDtcblx0ICByZXR1cm4gcDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VDb2xvcihfdikge1xuXHQgIHZhciBhID0gdm9pZCAwO1xuXHQgIHZhciByID0gdm9pZCAwO1xuXHQgIHZhciBnID0gdm9pZCAwO1xuXHQgIHZhciBiID0gdm9pZCAwO1xuXHQgIHZhciBoID0gdm9pZCAwO1xuXHQgIHZhciBzID0gdm9pZCAwO1xuXHQgIHZhciBsID0gdm9pZCAwO1xuXHQgIHZhciB2ID0gX3Y7XG5cdCAgdmFyIF9udW1FeHAgPSAvKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkKSsvZztcblx0ICBpZiAoIXYpIHtcblx0ICAgIGEgPSBjb2xvckxvb2t1cC5ibGFjaztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuXHQgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAodi5jaGFyQXQodi5sZW5ndGggLSAxKSA9PT0gJywnKSB7XG5cdCAgICAgIHYgPSB2LnN1YnN0cigwLCB2Lmxlbmd0aCAtIDEpO1xuXHQgICAgfVxuXHQgICAgaWYgKGNvbG9yTG9va3VwW3ZdKSB7XG5cdCAgICAgIGEgPSBjb2xvckxvb2t1cFt2XTtcblx0ICAgIH0gZWxzZSBpZiAodi5jaGFyQXQoMCkgPT09ICcjJykge1xuXHQgICAgICAvLyBpcyAjRkZGXG5cdCAgICAgIGlmICh2Lmxlbmd0aCA9PT0gNCkge1xuXHQgICAgICAgIHIgPSB2LmNoYXJBdCgxKTtcblx0ICAgICAgICBnID0gdi5jaGFyQXQoMik7XG5cdCAgICAgICAgYiA9IHYuY2hhckF0KDMpO1xuXHQgICAgICAgIHYgPSAnIycgKyByICsgciArIGcgKyBnICsgYiArIGI7XG5cdCAgICAgIH1cblx0ICAgICAgdiA9IHBhcnNlSW50KHYuc3Vic3RyKDEpLCAxNik7XG5cdCAgICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgMjU1LCB2ICYgMjU1XTtcblx0ICAgIH0gZWxzZSBpZiAodi5zdWJzdHIoMCwgMykgPT09ICdoc2wnKSB7XG5cdCAgICAgIGEgPSB2Lm1hdGNoKF9udW1FeHApO1xuXHQgICAgICBoID0gTnVtYmVyKGFbMF0pICUgMzYwIC8gMzYwO1xuXHQgICAgICBzID0gTnVtYmVyKGFbMV0pIC8gMTAwO1xuXHQgICAgICBsID0gTnVtYmVyKGFbMl0pIC8gMTAwO1xuXHQgICAgICBnID0gbCA8PSAwLjUgPyBsICogKHMgKyAxKSA6IGwgKyBzIC0gbCAqIHM7XG5cdCAgICAgIHIgPSBsICogMiAtIGc7XG5cdCAgICAgIGlmIChhLmxlbmd0aCA+IDMpIHtcblx0ICAgICAgICBhWzNdID0gTnVtYmVyKGFbM10pO1xuXHQgICAgICB9XG5cdCAgICAgIGFbMF0gPSBfaHVlKGggKyAxIC8gMywgciwgZyk7XG5cdCAgICAgIGFbMV0gPSBfaHVlKGgsIHIsIGcpO1xuXHQgICAgICBhWzJdID0gX2h1ZShoIC0gMSAvIDMsIHIsIGcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgYSA9IHYubWF0Y2goX251bUV4cCkgfHwgY29sb3JMb29rdXAudHJhbnNwYXJlbnQ7XG5cdCAgICB9XG5cdCAgICBhWzBdID0gTnVtYmVyKGFbMF0pO1xuXHQgICAgYVsxXSA9IE51bWJlcihhWzFdKTtcblx0ICAgIGFbMl0gPSBOdW1iZXIoYVsyXSk7XG5cdFxuXHQgICAgaWYgKGEubGVuZ3RoID4gMykge1xuXHQgICAgICBhWzNdID0gTnVtYmVyKGFbM10pO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VTaGFkb3codikge1xuXHQgIGlmICghdikge1xuXHQgICAgcmV0dXJuIFswLCAwLCAwLCAwLCAwLCAwLCAwXTtcblx0ICB9XG5cdCAgdmFyIGluc2V0ID0gdm9pZCAwO1xuXHQgIGlmICh2LmluZGV4T2YoJ3JnYicpID49IDApIHtcblx0ICAgIHZhciB0ID0gdi5tYXRjaCgvcmdiKyg/OmEpP1xcKCguKilcXCkvKTtcblx0ICAgIHZhciBzID0gdi5yZXBsYWNlKHRbMF0sICcnKS50cmltKCkuc3BsaXQoL1xccysvKTtcblx0ICAgIGluc2V0ID0gcy5pbmRleE9mKCdpbnNldCcpO1xuXHQgICAgaWYgKGluc2V0ID49IDApIHtcblx0ICAgICAgcy5zcGxpY2UoaW5zZXQsIDEpO1xuXHQgICAgfVxuXHQgICAgdmFyIGMgPSB0WzFdLnJlcGxhY2UoL1xccysvZywgJycpLnNwbGl0KCcsJyk7XG5cdCAgICBpZiAoYy5sZW5ndGggPT09IDMpIHtcblx0ICAgICAgYy5wdXNoKDEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHMuY29uY2F0KGMsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG5cdCAgfVxuXHQgIHZhciB2QXJyID0gdi5zcGxpdCgvXFxzKy8pO1xuXHQgIGluc2V0ID0gdkFyci5pbmRleE9mKCdpbnNldCcpO1xuXHQgIGlmIChpbnNldCA+PSAwKSB7XG5cdCAgICB2QXJyLnNwbGljZShpbnNldCwgMSk7XG5cdCAgfVxuXHQgIHZhciBjb2xvciA9IHBhcnNlQ29sb3IodkFyclt2QXJyLmxlbmd0aCAtIDFdKTtcblx0ICBjb2xvclszXSA9IHR5cGVvZiBjb2xvclszXSA9PT0gJ251bWJlcicgPyBjb2xvclszXSA6IDE7XG5cdCAgdkFyciA9IHZBcnIuc3BsaWNlKDAsIHZBcnIubGVuZ3RoIC0gMSk7XG5cdCAgcmV0dXJuIHZBcnIuY29uY2F0KGNvbG9yLCBpbnNldCA+PSAwID8gWydpbnNldCddIDogW10pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRDb2xvcih2KSB7XG5cdCAgdmFyIHJnYmEgPSB2Lmxlbmd0aCA9PT0gNCA/ICdyZ2JhJyA6ICdyZ2InO1xuXHQgIHZhciBfdmFycyA9IHYubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG5cdCAgICByZXR1cm4gaSA8IDMgPyBNYXRoLnJvdW5kKGQpIDogZDtcblx0ICB9KTtcblx0ICByZXR1cm4gcmdiYSArICcoJyArIF92YXJzLmpvaW4oJywnKSArICcpJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNUcmFuc2Zvcm0ocCkge1xuXHQgIHJldHVybiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZS5pbmRleE9mKHApID49IDAgPyAndHJhbnNmb3JtJyA6IHA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQ29udmVydChwKSB7XG5cdCAgdmFyIGNzc05hbWUgPSBpc1RyYW5zZm9ybShwKTtcblx0ICByZXR1cm4gY3NzTGlzdC5maWx0ZXIuaW5kZXhPZihjc3NOYW1lKSA+PSAwID8gJ2ZpbHRlcicgOiBjc3NOYW1lO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzcGxpdEZpbHRlclRvT2JqZWN0KGRhdGEpIHtcblx0ICBpZiAoZGF0YSA9PT0gJ25vbmUnIHx8ICFkYXRhIHx8IGRhdGEgPT09ICcnKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdCAgdmFyIGZpbHRlciA9IGRhdGEucmVwbGFjZSgnICcsICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW07XG5cdCAgfSk7XG5cdCAgdmFyIHN0YXJ0RGF0YSA9IHt9O1xuXHQgIGZpbHRlci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICB2YXIgZGF0YUFyciA9IGl0ZW0uc3BsaXQoJygnKTtcblx0ICAgIHN0YXJ0RGF0YVtkYXRhQXJyWzBdXSA9IGRhdGFBcnJbMV07XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHN0YXJ0RGF0YTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0TWF0cml4KHQpIHtcblx0ICB2YXIgYXJyID0gdC5tYXRjaCgvKD86XFwtfFxcYilbXFxkXFwtXFwuZV0rXFxiL2dpKTtcblx0ICB2YXIgbSA9IHt9O1xuXHQgIGlmIChhcnIubGVuZ3RoID09PSA2KSB7XG5cdCAgICBtLm0xMSA9IHBhcnNlRmxvYXQoYXJyWzBdKTtcblx0ICAgIG0ubTEyID0gcGFyc2VGbG9hdChhcnJbMV0pO1xuXHQgICAgbS5tMTMgPSAwO1xuXHQgICAgbS5tMTQgPSAwO1xuXHQgICAgbS5tMjEgPSBwYXJzZUZsb2F0KGFyclsyXSk7XG5cdCAgICBtLm0yMiA9IHBhcnNlRmxvYXQoYXJyWzNdKTtcblx0ICAgIG0ubTIzID0gMDtcblx0ICAgIG0ubTI0ID0gMDtcblx0ICAgIG0ubTMxID0gMDtcblx0ICAgIG0ubTMyID0gMDtcblx0ICAgIG0ubTMzID0gMTtcblx0ICAgIG0ubTM0ID0gMDtcblx0ICAgIG0ubTQxID0gcGFyc2VGbG9hdChhcnJbNF0pO1xuXHQgICAgbS5tNDIgPSBwYXJzZUZsb2F0KGFycls1XSk7XG5cdCAgICBtLm00MyA9IDA7XG5cdCAgICBtLm00NCA9IDA7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICAgIHZhciBpaSA9IGkgJSA0ICsgMTtcblx0ICAgICAgdmFyIGogPSBNYXRoLmZsb29yKGkgLyA0KSArIDE7XG5cdCAgICAgIG1bJ20nICsgaiArIGlpXSA9IHBhcnNlRmxvYXQoaXRlbSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgcmV0dXJuIG07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcblx0ICB2YXIgX3RyYW5zZm9ybSA9IHRyYW5zZm9ybSA9PT0gJ25vbmUnIHx8IHRyYW5zZm9ybSA9PT0gJycgPyAnbWF0cml4KDEsIDAsIDAsIDEsIDAsIDApJyA6IHRyYW5zZm9ybTtcblx0ICB2YXIgbSA9IGdldE1hdHJpeChfdHJhbnNmb3JtKTtcblx0ICB2YXIgbTExID0gbS5tMTE7XG5cdCAgdmFyIG0xMiA9IG0ubTEyO1xuXHQgIHZhciBtMTMgPSBtLm0xMztcblx0ICB2YXIgbTE0ID0gbS5tMTQ7XG5cdCAgdmFyIG0yMSA9IG0ubTIxO1xuXHQgIHZhciBtMjIgPSBtLm0yMjtcblx0ICB2YXIgbTIzID0gbS5tMjM7XG5cdCAgdmFyIG0yNCA9IG0ubTI0O1xuXHQgIHZhciBtMzEgPSBtLm0zMTtcblx0ICB2YXIgbTMyID0gbS5tMzI7XG5cdCAgdmFyIG0zMyA9IG0ubTMzO1xuXHQgIHZhciBtMzQgPSBtLm0zNDtcblx0ICB2YXIgbTQzID0gbS5tNDM7XG5cdCAgdmFyIHQxID0gdm9pZCAwO1xuXHQgIHZhciB0MiA9IHZvaWQgMDtcblx0ICB2YXIgdDMgPSB2b2lkIDA7XG5cdCAgdmFyIHRtID0ge307XG5cdCAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyB0b0ZpeGVkKG0zMyAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkpIDogMDtcblx0ICB0bS5yb3RhdGVYID0gdG9GaXhlZChNYXRoLmFzaW4obTIzKSAqIFJBRDJERUcpO1xuXHQgIHZhciBhbmdsZSA9IHRtLnJvdGF0ZVggKiBERUcyUkFEO1xuXHQgIHZhciBza2V3WCA9IE1hdGgudGFuKG0yMSk7XG5cdCAgdmFyIHNrZXdZID0gTWF0aC50YW4obTEyKTtcblx0ICB2YXIgY29zID0gbTM0ICogdG0ucGVyc3BlY3RpdmU7XG5cdCAgdmFyIHNpbiA9IHZvaWQgMDtcblx0ICAvLyByb3RhdGVYXG5cdCAgaWYgKGFuZ2xlKSB7XG5cdCAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuXHQgICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcblx0ICAgIHQxID0gbTIxICogY29zICsgbTMxICogc2luO1xuXHQgICAgdDIgPSBtMjIgKiBjb3MgKyBtMzIgKiBzaW47XG5cdCAgICB0MyA9IG0yMyAqIGNvcyArIG0zMyAqIHNpbjtcblx0ICAgIG0zMSA9IG0yMSAqIC1zaW4gKyBtMzEgKiBjb3M7XG5cdCAgICBtMzIgPSBtMjIgKiAtc2luICsgbTMyICogY29zO1xuXHQgICAgbTMzID0gbTIzICogLXNpbiArIG0zMyAqIGNvcztcblx0ICAgIG0zNCA9IG0yNCAqIC1zaW4gKyBtMzQgKiBjb3M7XG5cdCAgICBtMjEgPSB0MTtcblx0ICAgIG0yMiA9IHQyO1xuXHQgICAgbTIzID0gdDM7XG5cdCAgfVxuXHQgIC8vIHJvdGF0ZVlcblx0ICBhbmdsZSA9IE1hdGguYXRhbjIobTMxLCBtMzMpO1xuXHQgIHRtLnJvdGF0ZVkgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG5cdCAgaWYgKGFuZ2xlKSB7XG5cdCAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuXHQgICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcblx0ICAgIHQxID0gbTExICogY29zIC0gbTMxICogc2luO1xuXHQgICAgdDIgPSBtMTIgKiBjb3MgLSBtMzIgKiBzaW47XG5cdCAgICB0MyA9IG0xMyAqIGNvcyAtIG0zMyAqIHNpbjtcblx0ICAgIG0zMiA9IG0xMiAqIHNpbiArIG0zMiAqIGNvcztcblx0ICAgIG0zMyA9IG0xMyAqIHNpbiArIG0zMyAqIGNvcztcblx0ICAgIG0zNCA9IG0xNCAqIHNpbiArIG0zNCAqIGNvcztcblx0ICAgIG0xMSA9IHQxO1xuXHQgICAgbTEyID0gdDI7XG5cdCAgICBtMTMgPSB0Mztcblx0ICB9XG5cdCAgLy8gcm90YXRlWlxuXHQgIGFuZ2xlID0gTWF0aC5hdGFuMihtMTIsIG0xMSk7XG5cdCAgdG0ucm90YXRlID0gdG9GaXhlZChhbmdsZSAqIFJBRDJERUcpO1xuXHQgIGlmIChhbmdsZSkge1xuXHQgICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcblx0ICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG5cdCAgICBtMTEgPSBtMTEgKiBjb3MgKyBtMjEgKiBzaW47XG5cdCAgICB0MiA9IG0xMiAqIGNvcyArIG0yMiAqIHNpbjtcblx0ICAgIG0yMiA9IG0xMiAqIC1zaW4gKyBtMjIgKiBjb3M7XG5cdCAgICBtMjMgPSBtMTMgKiAtc2luICsgbTIzICogY29zO1xuXHQgICAgbTEyID0gdDI7XG5cdCAgfVxuXHRcblx0ICBpZiAodG0ucm90YXRlWCAmJiBNYXRoLmFicyh0bS5yb3RhdGVYKSArIE1hdGguYWJzKHRtLnJvdGF0ZSkgPiAzNTkuOSkge1xuXHQgICAgdG0ucm90YXRlWCA9IHRtLnJvdGF0ZSA9IDA7XG5cdCAgICB0bS5yb3RhdGVZICs9IDE4MDtcblx0ICB9XG5cdCAgdG0uc2NhbGVYID0gdG9GaXhlZChNYXRoLnNxcnQobTExICogbTExICsgbTEyICogbTEyKSk7XG5cdCAgdG0uc2NhbGVZID0gdG9GaXhlZChNYXRoLnNxcnQobTIyICogbTIyICsgbTMyICogbTMyKSk7XG5cdCAgdG0uc2NhbGVaID0gdG9GaXhlZChNYXRoLnNxcnQobTIzICogbTIzICsgbTMzICogbTMzKSk7XG5cdCAgLy8g5LiN566hIHNrZXdYIHNrZXdZ5LqG77ybXG5cdCAgdG0uc2tld1ggPSBza2V3WCA9PT0gLXNrZXdZID8gMCA6IHNrZXdYO1xuXHQgIHRtLnNrZXdZID0gc2tld1kgPT09IC1za2V3WCA/IDAgOiBza2V3WTtcblx0ICB0bS5wZXJzcGVjdGl2ZSA9IG0zNCA/IDEgLyAobTM0IDwgMCA/IC1tMzQgOiBtMzQpIDogMDtcblx0ICB0bS50cmFuc2xhdGVYID0gbS5tNDE7XG5cdCAgdG0udHJhbnNsYXRlWSA9IG0ubTQyO1xuXHQgIHRtLnRyYW5zbGF0ZVogPSBtNDM7XG5cdCAgcmV0dXJuIHRtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdHlsZXNUb0NzcyhrZXksIHZhbHVlKSB7XG5cdCAgdmFyIF92YWx1ZSA9IHZvaWQgMDtcblx0ICBpZiAoIWlzVW5pdGxlc3NOdW1iZXJba2V5XSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG5cdCAgICBfdmFsdWUgPSAnICcgKyB2YWx1ZSArICdweCc7XG5cdCAgfSBlbHNlIGlmIChrZXkgPT09ICdjb250ZW50JyAmJiAhdW5xdW90ZWRDb250ZW50VmFsdWVSZWdleC50ZXN0KHZhbHVlKSkge1xuXHQgICAgX3ZhbHVlID0gJ1xcJycgKyB2YWx1ZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyAnXFwnJztcblx0ICB9XG5cdCAgcmV0dXJuIF92YWx1ZSB8fCB2YWx1ZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VW5pdChwLCB2KSB7XG5cdCAgdmFyIGN1cnJlbnRVbml0ID0gdiAmJiB2LnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vaWcsICcnKTtcblx0ICB2YXIgdW5pdCA9ICcnO1xuXHQgIGlmIChwLmluZGV4T2YoJ3RyYW5zbGF0ZScpID49IDAgfHwgcC5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgfHwgcC5pbmRleE9mKCdibHVyJykgPj0gMCkge1xuXHQgICAgdW5pdCA9ICdweCc7XG5cdCAgfSBlbHNlIGlmIChwLmluZGV4T2YoJ3NrZXcnKSA+PSAwIHx8IHAuaW5kZXhPZigncm90YXRlJykgPj0gMCkge1xuXHQgICAgdW5pdCA9ICdkZWcnO1xuXHQgIH1cblx0ICByZXR1cm4gY3VycmVudFVuaXQgfHwgdW5pdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VmFsdWVzKHAsIGQsIHUpIHtcblx0ICByZXR1cm4gcCArICcoJyArIGQgKyAodSB8fCAnJykgKyAnKSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZpbmRTdHlsZUJ5TmFtZShjc3NBcnJheSwgbmFtZSkge1xuXHQgIHZhciByZXQgPSBudWxsO1xuXHQgIGlmIChjc3NBcnJheSkge1xuXHQgICAgY3NzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoX2NuYW1lKSB7XG5cdCAgICAgIGlmIChyZXQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNOYW1lID0gX2NuYW1lLnNwbGl0KCcoJylbMF07XG5cdCAgICAgIHZhciBhID0gY05hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpLmluZGV4T2YoY05hbWUpID49IDA7XG5cdCAgICAgIHZhciBiID0gbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIGNOYW1lLnN1YnN0cmluZygwLCBjTmFtZS5sZW5ndGggLSAxKS5pbmRleE9mKG5hbWUpID49IDA7XG5cdCAgICAgIHZhciBjID0gY05hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBuYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgKGNOYW1lLnN1YnN0cmluZygwLCBjTmFtZS5sZW5ndGggLSAyKSA9PT0gbmFtZSB8fCBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDIpID09PSBjTmFtZSk7XG5cdCAgICAgIGlmIChjTmFtZSA9PT0gbmFtZSB8fCBhIHx8IGIgfHwgYykge1xuXHQgICAgICAgIHJldCA9IF9jbmFtZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlU3R5bGUoY3VycmVudCwgY2hhbmdlKSB7XG5cdCAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQgPT09ICcnKSB7XG5cdCAgICByZXR1cm4gY2hhbmdlO1xuXHQgIH1cblx0ICBpZiAoIWNoYW5nZSB8fCBjaGFuZ2UgPT09ICcnKSB7XG5cdCAgICByZXR1cm4gY3VycmVudDtcblx0ICB9XG5cdCAgdmFyIF9jdXJyZW50ID0gY3VycmVudC5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbTtcblx0ICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBpdGVtICsgJyknO1xuXHQgIH0pO1xuXHQgIHZhciBfY2hhbmdlID0gY2hhbmdlLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiBpdGVtO1xuXHQgIH0pO1xuXHQgIF9jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlT25seSkge1xuXHQgICAgdmFyIGNoYW5nZUFyciA9IGNoYW5nZU9ubHkuc3BsaXQoJygnKTtcblx0ICAgIHZhciBjaGFuZ2VOYW1lID0gY2hhbmdlQXJyWzBdO1xuXHQgICAgdmFyIGN1cnJlbnRTYW1lID0gZmluZFN0eWxlQnlOYW1lKF9jdXJyZW50LCBjaGFuZ2VOYW1lKTtcblx0ICAgIGlmICghY3VycmVudFNhbWUpIHtcblx0ICAgICAgX2N1cnJlbnQucHVzaChjaGFuZ2VPbmx5ICsgJyknKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBpbmRleCA9IF9jdXJyZW50LmluZGV4T2YoY3VycmVudFNhbWUpO1xuXHQgICAgICBfY3VycmVudFtpbmRleF0gPSBjaGFuZ2VPbmx5ICsgJyknO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIF9jdXJyZW50LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgIGlmIChpdGVtLmluZGV4T2YoJ3BlcnNwZWN0aXZlJykgPj0gMCAmJiBpKSB7XG5cdCAgICAgIF9jdXJyZW50LnNwbGljZShpLCAxKTtcblx0ICAgICAgX2N1cnJlbnQudW5zaGlmdChpdGVtKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gX2N1cnJlbnQuam9pbignICcpLnRyaW0oKTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gY3NzTGlzdDtcblxuXG4vKioqLyB9LFxuXG4vKioqLyA0Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkdyb3VwID0gZXhwb3J0cy5CdXR0b24gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdHZhciBfZ3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTtcblx0XG5cdHZhciBfZ3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ3JvdXApO1xuXHRcblx0dmFyIF9yYWRpb0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9yYWRpb0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpb0J1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF9yYWRpbzJbXCJkZWZhdWx0XCJdLkJ1dHRvbiA9IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdO1xuXHRfcmFkaW8yW1wiZGVmYXVsdFwiXS5Hcm91cCA9IF9ncm91cDJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLkJ1dHRvbiA9IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX3JhZGlvMltcImRlZmF1bHRcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDQ2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yY0Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO1xuXHRcblx0dmFyIF9yY0Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjRHJvcGRvd24pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRHJvcGRvd24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIERyb3Bkb3duKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRHJvcGRvd24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBEcm9wZG93bi5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbk5hbWUgPSBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzJHBsYWNlbWVudCA9IHRoaXMucHJvcHMucGxhY2VtZW50LFxuXHQgICAgICAgICAgICBwbGFjZW1lbnQgPSBfcHJvcHMkcGxhY2VtZW50ID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRwbGFjZW1lbnQ7XG5cdFxuXHQgICAgICAgIGlmIChwbGFjZW1lbnQuaW5kZXhPZigndG9wJykgPj0gMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ3NsaWRlLWRvd24nO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gJ3NsaWRlLXVwJztcblx0ICAgIH07XG5cdFxuXHQgICAgRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgICAgIHZhciBkcm9wZG93blRyaWdnZXIgPSAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoY2hpbGRyZW4sIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXRyaWdnZXInKVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNEcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyB0cmFuc2l0aW9uTmFtZTogdGhpcy5nZXRUcmFuc2l0aW9uTmFtZSgpIH0sIHRoaXMucHJvcHMpLFxuXHQgICAgICAgICAgICBkcm9wZG93blRyaWdnZXJcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRHJvcGRvd247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd247XG5cdFxuXHREcm9wZG93bi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24nLFxuXHQgICAgbW91c2VFbnRlckRlbGF5OiAwLjE1LFxuXHQgICAgbW91c2VMZWF2ZURlbGF5OiAwLjEsXG5cdCAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJhZGlvQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9CdXR0b24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB0aGlzLnByb3BzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFJhZGlvQnV0dG9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvQnV0dG9uO1xuXHRcblx0UmFkaW9CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LXJhZGlvLWJ1dHRvbidcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDQ4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yY1RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBDb2x1bW5Hcm91cCA9IGZ1bmN0aW9uIChfUmNUYWJsZSRDb2x1bW5Hcm91cCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ29sdW1uR3JvdXAsIF9SY1RhYmxlJENvbHVtbkdyb3VwKTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uR3JvdXAoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENvbHVtbkdyb3VwKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JjVGFibGUkQ29sdW1uR3JvdXAuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uR3JvdXA7XG5cdH0oX3JjVGFibGUyW1wiZGVmYXVsdFwiXS5Db2x1bW5Hcm91cCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE2KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgIFpFUk86IDQ4LFxuXHQgIE5JTkU6IDU3LFxuXHRcblx0ICBOVU1QQURfWkVSTzogOTYsXG5cdCAgTlVNUEFEX05JTkU6IDEwNSxcblx0XG5cdCAgQkFDS1NQQUNFOiA4LFxuXHQgIERFTEVURTogNDYsXG5cdCAgRU5URVI6IDEzLFxuXHRcblx0ICBBUlJPV19VUDogMzgsXG5cdCAgQVJST1dfRE9XTjogNDBcblx0fTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgLy8gT3B0aW9ucy5qc3hcblx0ICBpdGVtc19wZXJfcGFnZTogJ+adoS/pobUnLFxuXHQgIGp1bXBfdG86ICfot7Poh7MnLFxuXHQgIHBhZ2U6ICfpobUnLFxuXHRcblx0ICAvLyBQYWdpbmF0aW9uLmpzeFxuXHQgIHByZXZfcGFnZTogJ+S4iuS4gOmhtScsXG5cdCAgbmV4dF9wYWdlOiAn5LiL5LiA6aG1Jyxcblx0ICBwcmV2XzU6ICflkJHliY0gNSDpobUnLFxuXHQgIG5leHRfNTogJ+WQkeWQjiA1IOmhtScsXG5cdCAgcHJldl8zOiAn5ZCR5YmNIDMg6aG1Jyxcblx0ICBuZXh0XzM6ICflkJHlkI4gMyDpobUnXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0ZXhwb3J0cy5nZXRUb2RheVRpbWUgPSBnZXRUb2RheVRpbWU7XG5cdGV4cG9ydHMuZ2V0VGl0bGVTdHJpbmcgPSBnZXRUaXRsZVN0cmluZztcblx0ZXhwb3J0cy5nZXRUb2RheVRpbWVTdHIgPSBnZXRUb2RheVRpbWVTdHI7XG5cdGV4cG9ydHMuc3luY1RpbWUgPSBzeW5jVGltZTtcblx0ZXhwb3J0cy5nZXRUaW1lQ29uZmlnID0gZ2V0VGltZUNvbmZpZztcblx0ZXhwb3J0cy5pc1RpbWVWYWxpZEJ5Q29uZmlnID0gaXNUaW1lVmFsaWRCeUNvbmZpZztcblx0ZXhwb3J0cy5pc1RpbWVWYWxpZCA9IGlzVGltZVZhbGlkO1xuXHRleHBvcnRzLmlzQWxsb3dlZERhdGUgPSBpc0FsbG93ZWREYXRlO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBkZWZhdWx0RGlzYWJsZWRUaW1lID0ge1xuXHQgIGRpc2FibGVkSG91cnM6IGZ1bmN0aW9uIGRpc2FibGVkSG91cnMoKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfSxcblx0ICBkaXNhYmxlZE1pbnV0ZXM6IGZ1bmN0aW9uIGRpc2FibGVkTWludXRlcygpIHtcblx0ICAgIHJldHVybiBbXTtcblx0ICB9LFxuXHQgIGRpc2FibGVkU2Vjb25kczogZnVuY3Rpb24gZGlzYWJsZWRTZWNvbmRzKCkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIGdldFRvZGF5VGltZSh2YWx1ZSkge1xuXHQgIHZhciB0b2RheSA9ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKCk7XG5cdCAgdG9kYXkubG9jYWxlKHZhbHVlLmxvY2FsZSgpKS51dGNPZmZzZXQodmFsdWUudXRjT2Zmc2V0KCkpO1xuXHQgIHJldHVybiB0b2RheTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VGl0bGVTdHJpbmcodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUueWVhcigpICsgJy0nICsgKHZhbHVlLm1vbnRoKCkgKyAxKSArICctJyArIHZhbHVlLmRhdGUoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VG9kYXlUaW1lU3RyKHZhbHVlKSB7XG5cdCAgdmFyIHRvZGF5ID0gZ2V0VG9kYXlUaW1lKHZhbHVlKTtcblx0ICByZXR1cm4gZ2V0VGl0bGVTdHJpbmcodG9kYXkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzeW5jVGltZShmcm9tLCB0bykge1xuXHQgIHRvLmhvdXIoZnJvbS5ob3VyKCkpO1xuXHQgIHRvLm1pbnV0ZShmcm9tLm1pbnV0ZSgpKTtcblx0ICB0by5zZWNvbmQoZnJvbS5zZWNvbmQoKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRpbWVDb25maWcodmFsdWUsIGRpc2FibGVkVGltZSkge1xuXHQgIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBkaXNhYmxlZFRpbWUgPyBkaXNhYmxlZFRpbWUodmFsdWUpIDoge307XG5cdCAgZGlzYWJsZWRUaW1lQ29uZmlnID0gKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0RGlzYWJsZWRUaW1lLCBkaXNhYmxlZFRpbWVDb25maWcpO1xuXHQgIHJldHVybiBkaXNhYmxlZFRpbWVDb25maWc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVGltZVZhbGlkQnlDb25maWcodmFsdWUsIGRpc2FibGVkVGltZUNvbmZpZykge1xuXHQgIHZhciBpbnZhbGlkVGltZSA9IGZhbHNlO1xuXHQgIGlmICh2YWx1ZSkge1xuXHQgICAgdmFyIGhvdXIgPSB2YWx1ZS5ob3VyKCk7XG5cdCAgICB2YXIgbWludXRlcyA9IHZhbHVlLm1pbnV0ZSgpO1xuXHQgICAgdmFyIHNlY29uZHMgPSB2YWx1ZS5zZWNvbmQoKTtcblx0ICAgIHZhciBkaXNhYmxlZEhvdXJzID0gZGlzYWJsZWRUaW1lQ29uZmlnLmRpc2FibGVkSG91cnMoKTtcblx0ICAgIGlmIChkaXNhYmxlZEhvdXJzLmluZGV4T2YoaG91cikgPT09IC0xKSB7XG5cdCAgICAgIHZhciBkaXNhYmxlZE1pbnV0ZXMgPSBkaXNhYmxlZFRpbWVDb25maWcuZGlzYWJsZWRNaW51dGVzKGhvdXIpO1xuXHQgICAgICBpZiAoZGlzYWJsZWRNaW51dGVzLmluZGV4T2YobWludXRlcykgPT09IC0xKSB7XG5cdCAgICAgICAgdmFyIGRpc2FibGVkU2Vjb25kcyA9IGRpc2FibGVkVGltZUNvbmZpZy5kaXNhYmxlZFNlY29uZHMoaG91ciwgbWludXRlcyk7XG5cdCAgICAgICAgaW52YWxpZFRpbWUgPSBkaXNhYmxlZFNlY29uZHMuaW5kZXhPZihzZWNvbmRzKSAhPT0gLTE7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW52YWxpZFRpbWUgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpbnZhbGlkVGltZSA9IHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiAhaW52YWxpZFRpbWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVGltZVZhbGlkKHZhbHVlLCBkaXNhYmxlZFRpbWUpIHtcblx0ICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gZ2V0VGltZUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lKTtcblx0ICByZXR1cm4gaXNUaW1lVmFsaWRCeUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lQ29uZmlnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNBbGxvd2VkRGF0ZSh2YWx1ZSwgZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWUpIHtcblx0ICBpZiAoZGlzYWJsZWREYXRlKSB7XG5cdCAgICBpZiAoZGlzYWJsZWREYXRlKHZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGlmIChkaXNhYmxlZFRpbWUpIHtcblx0ICAgIGlmICghaXNUaW1lVmFsaWQodmFsdWUsIGRpc2FibGVkVGltZSkpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA2MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9UYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9UYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1RhYmxlMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTMpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oODUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfc3R5bGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF9UaW1lTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTYzKTtcblx0XG5cdHZhciBfVGltZUxpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZUxpbmUpO1xuXHRcblx0dmFyIF9wbHVnaW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cdFxuXHR2YXIgX3RpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTY3KTtcblx0XG5cdHZhciBfdGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpY2tlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgcGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG5cdFxuXHR2YXIgVHdlZW5PbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUd2Vlbk9uZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFR3ZWVuT25lKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3ZWVuT25lKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHRcblx0ICAgIF90aGlzLnJlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnN0YXJ0TW9tZW50ID0gX3RoaXMudGltZUxpbmUucHJvZ3Jlc3NUaW1lO1xuXHQgICAgICBfdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICBfdGhpcy5wbGF5KCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcblx0ICAgICAgaWYgKHByb3BzLmFuaW1hdGlvbiAmJiBPYmplY3Qua2V5cyhwcm9wcy5hbmltYXRpb24pLmxlbmd0aCkge1xuXHQgICAgICAgIF90aGlzLnRpbWVMaW5lID0gbmV3IF9UaW1lTGluZTJbXCJkZWZhdWx0XCJdKF90aGlzLmRvbSwgKDAsIF91dGlsLmRhdGFUb0FycmF5KShwcm9wcy5hbmltYXRpb24pLCB7IGF0dHI6IHByb3BzLmF0dHIsIHdpbGxDaGFuZ2U6IHByb3BzLndpbGxDaGFuZ2UgfSk7XG5cdCAgICAgICAgLy8g6aKE5YWI5rOo5YaMIHJhZiwg5Yid5aeL5Yqo55S75pWw5YC844CCXG5cdCAgICAgICAgX3RoaXMucmFmKDAsIHRydWUpO1xuXHQgICAgICAgIC8vIOW8gOWni+WKqOeUu1xuXHQgICAgICAgIF90aGlzLnBsYXkoKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgaWYgKF90aGlzLnBhdXNlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5yYWZJRCA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5hZGQoX3RoaXMucmFmKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuZnJhbWUgPSBmdW5jdGlvbiAoZGF0ZSwgcmVnaXN0ZXIpIHtcblx0ICAgICAgdmFyIHJlZ2lzdGVyTW9tZW50ID0gcmVnaXN0ZXIgPyBkYXRlIDogMDtcblx0ICAgICAgdmFyIG1vbWVudCA9IChfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWUgLSBfdGhpcy5zdGFydEZyYW1lKSAqIHBlckZyYW1lICsgcmVnaXN0ZXJNb21lbnQgKyBfdGhpcy5zdGFydE1vbWVudDtcblx0ICAgICAgaWYgKCFyZWdpc3RlciAmJiBtb21lbnQgPCBwZXJGcmFtZSAmJiB0eXBlb2YgX3RoaXMucHJvcHMubW9tZW50ICE9PSAnbnVtYmVyJykge1xuXHQgICAgICAgIC8vIOazqOWGjOWujOWQju+8jOesrOS4gOW4p+mihOWFiOi3keWKqO+8jCDpvKDmoIfot5/pmo9cblx0ICAgICAgICBtb21lbnQgPSBwZXJGcmFtZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoX3RoaXMucmV2ZXJzZSkge1xuXHQgICAgICAgIG1vbWVudCA9IChfdGhpcy5zdGFydE1vbWVudCB8fCAwKSAtIChfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWUgLSBfdGhpcy5zdGFydEZyYW1lKSAqIHBlckZyYW1lO1xuXHQgICAgICB9XG5cdCAgICAgIG1vbWVudCA9IG1vbWVudCA+IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSA/IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSA6IG1vbWVudDtcblx0ICAgICAgbW9tZW50ID0gbW9tZW50IDw9IDAgPyAwIDogbW9tZW50O1xuXHQgICAgICBpZiAobW9tZW50IDwgX3RoaXMubW9tZW50ICYmICFfdGhpcy5yZXZlcnNlKSB7XG5cdCAgICAgICAgX3RoaXMudGltZUxpbmUucmVzZXREZWZhdWx0U3R5bGUoKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5tb21lbnQgPSBtb21lbnQ7XG5cdCAgICAgIF90aGlzLnRpbWVMaW5lLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2U7XG5cdCAgICAgIF90aGlzLnRpbWVMaW5lLmZyYW1lKG1vbWVudCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnJhZiA9IGZ1bmN0aW9uIChkYXRlLCByZWdpc3Rlcikge1xuXHQgICAgICBfdGhpcy5mcmFtZShkYXRlLCByZWdpc3Rlcik7XG5cdCAgICAgIGlmIChfdGhpcy5tb21lbnQgPj0gX3RoaXMudGltZUxpbmUudG90YWxUaW1lICYmICFfdGhpcy5yZXZlcnNlIHx8IF90aGlzLnBhdXNlZCB8fCBfdGhpcy5yZXZlcnNlICYmIF90aGlzLm1vbWVudCA9PT0gMCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS5jbGVhcihfdGhpcy5yYWZJRCk7XG5cdCAgICAgIF90aGlzLnJhZklEID0gLTE7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnJhZklEID0gLTE7XG5cdCAgICBfdGhpcy5tb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcblx0ICAgIF90aGlzLnN0YXJ0TW9tZW50ID0gX3RoaXMucHJvcHMubW9tZW50IHx8IDA7XG5cdCAgICBfdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgX3RoaXMucGF1c2VkID0gX3RoaXMucHJvcHMucGF1c2VkO1xuXHQgICAgX3RoaXMucmV2ZXJzZSA9IF90aGlzLnByb3BzLnJldmVyc2U7XG5cdCAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgX3RoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB0aGlzLmRvbSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdGhpcy5zdGFydCgpO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMub25DaGFuZ2UgPSBuZXh0UHJvcHMub25DaGFuZ2U7XG5cdCAgICAvLyDot7PluKfkuovku7YgbW9tZW50O1xuXHQgICAgdmFyIG5ld01vbWVudCA9IG5leHRQcm9wcy5tb21lbnQ7XG5cdCAgICB0aGlzLm5ld01vbWVudEFuaW0gPSBmYWxzZTtcblx0ICAgIGlmICh0eXBlb2YgbmV3TW9tZW50ID09PSAnbnVtYmVyJyAmJiBuZXdNb21lbnQgIT09IHRoaXMubW9tZW50KSB7XG5cdCAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSBuZXdNb21lbnQ7XG5cdCAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgICAgaWYgKHRoaXMucmFmSUQgPT09IC0xICYmICFuZXh0UHJvcHMucGF1c2VkKSB7XG5cdCAgICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF90aGlzMi50aW1lTGluZS5yZXNldEFuaW1EYXRhKCk7XG5cdCAgICAgICAgICB2YXIgc3R5bGUgPSBuZXh0UHJvcHMuc3R5bGU7XG5cdCAgICAgICAgICBfdGhpczIuZG9tLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7XG5cdCAgICAgICAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgIF90aGlzMi5kb20uc3R5bGVba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5zdHlsZXNUb0Nzcykoa2V5LCBzdHlsZVtrZXldKTtcblx0ICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgX3RoaXMyLnBsYXkoKTtcblx0ICAgICAgICB9KSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8vIOWKqOeUu+WkhOeQhlxuXHQgICAgdmFyIG5ld0FuaW1hdGlvbiA9IG5leHRQcm9wcy5hbmltYXRpb247XG5cdCAgICB2YXIgY3VycmVudEFuaW1hdGlvbiA9IHRoaXMucHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgdmFyIGVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKShjdXJyZW50QW5pbWF0aW9uLCBuZXdBbmltYXRpb24pO1xuXHQgICAgdmFyIHN0eWxlRXF1YWwgPSAoMCwgX3V0aWwub2JqZWN0RXF1YWwpKHRoaXMucHJvcHMuc3R5bGUsIG5leHRQcm9wcy5zdHlsZSk7XG5cdCAgICAvLyDlpoLmnpwgYW5pbWF0aW9uIOS4jeWQjO+8jCDph43mlrDliqjnlLtcblx0ICAgIHRoaXMucmVzdGFydEFuaW0gPSBmYWxzZTtcblx0ICAgIGlmICghZXF1YWwpIHtcblx0ICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgaWYgKG5leHRQcm9wcy5yZXNldFN0eWxlQm9vbCAmJiB0aGlzLnRpbWVMaW5lKSB7XG5cdCAgICAgICAgdGhpcy50aW1lTGluZS5yZXNldERlZmF1bHRTdHlsZSgpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSAwO1xuXHQgICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICAgIHRoaXMucmVzdGFydEFuaW0gPSB0cnVlO1xuXHQgICAgICAvLyB0aGlzLnN0YXJ0KG5leHRQcm9wcyk7XG5cdCAgICB9IGVsc2UgaWYgKCFzdHlsZUVxdWFsKSB7XG5cdCAgICAgIC8vIOWmguaenCBhbmltYXRpb24g55u45ZCM77yM77yMc3R5bGUg5LiN5ZCM77yM5LuO5b2T5YmN5pe26Ze05byA5pS+44CCXG5cdCAgICAgIGlmICh0aGlzLnJhZklEICE9PSAtMSkge1xuXHQgICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgICAgdGhpcy5zdGFydE1vbWVudCA9IHRoaXMudGltZUxpbmUucHJvZ3Jlc3NUaW1lO1xuXHQgICAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgICAgICB0aGlzLnJlc3RhcnRBbmltID0gdHJ1ZTtcblx0ICAgICAgICAvLyB0aGlzLnN0YXJ0KG5leHRQcm9wcyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIC8vIOaaguWBnOWAkuaUvlxuXHQgICAgaWYgKHRoaXMucGF1c2VkICE9PSBuZXh0UHJvcHMucGF1c2VkIHx8IHRoaXMucmV2ZXJzZSAhPT0gbmV4dFByb3BzLnJldmVyc2UpIHtcblx0ICAgICAgdGhpcy5wYXVzZWQgPSBuZXh0UHJvcHMucGF1c2VkO1xuXHQgICAgICB0aGlzLnJldmVyc2UgPSBuZXh0UHJvcHMucmV2ZXJzZTtcblx0ICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAodGhpcy5yZXZlcnNlICYmIG5leHRQcm9wcy5yZXZlcnNlRGVsYXkpIHtcblx0ICAgICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgICAgICBfdGlja2VyMltcImRlZmF1bHRcIl0udGltZW91dCh0aGlzLnJlc3RhcnQsIG5leHRQcm9wcy5yZXZlcnNlRGVsYXkpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLnJlc3RhcnQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgLy8g5qC35byP5pu05paw5LqG5ZCO5YaN5omn6KGM5Yqo55S777ybXG5cdCAgICBpZiAodGhpcy5yZXN0YXJ0QW5pbSkge1xuXHQgICAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5uZXdNb21lbnRBbmltKSB7XG5cdCAgICAgIHRoaXMucmFmKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICBbJ2FuaW1hdGlvbicsICdjb21wb25lbnQnLCAncmV2ZXJzZURlbGF5JywgJ2F0dHInLCAncGF1c2VkJywgJ3JldmVyc2UnLCAnbW9tZW50JywgJ3Jlc2V0U3R5bGVCb29sJywgJ3dpbGxDaGFuZ2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgcmV0dXJuIGRlbGV0ZSBwcm9wc1trZXldO1xuXHQgICAgfSk7XG5cdCAgICBwcm9wcy5zdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLnN0eWxlKTtcblx0ICAgIE9iamVjdC5rZXlzKHByb3BzLnN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG5cdCAgICAgIGlmIChwLm1hdGNoKC9maWx0ZXIvaSkpIHtcblx0ICAgICAgICBbJ1dlYmtpdCcsICdNb3onLCAnTXMnLCAnbXMnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcblx0ICAgICAgICAgIHJldHVybiBwcm9wcy5zdHlsZVtwcmVmaXggKyAnRmlsdGVyJ10gPSBwcm9wcy5zdHlsZVtwXTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBwcm9wcy5jb21wb25lbnQgPSB0eXBlb2YgcHJvcHMuY29tcG9uZW50ID09PSAnZnVuY3Rpb24nID8gdGhpcy5wcm9wcy5jb21wb25lbnRSZXBsYWNlIDogcHJvcHMuY29tcG9uZW50O1xuXHQgICAgaWYgKCFwcm9wcy5jb21wb25lbnQpIHtcblx0ICAgICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuY29tcG9uZW50LCBwcm9wcyk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFR3ZWVuT25lO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0dmFyIG9iamVjdE9yQXJyYXkgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKTtcblx0XG5cdFR3ZWVuT25lLnByb3BUeXBlcyA9IHtcblx0ICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGNvbXBvbmVudFJlcGxhY2U6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGFuaW1hdGlvbjogb2JqZWN0T3JBcnJheSxcblx0ICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHBhdXNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHJldmVyc2U6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICByZXZlcnNlRGVsYXk6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG1vbWVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgYXR0cjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgcmVzZXRTdHlsZUJvb2w6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHR9O1xuXHRcblx0VHdlZW5PbmUuZGVmYXVsdFByb3BzID0ge1xuXHQgIGNvbXBvbmVudDogJ2RpdicsXG5cdCAgcmV2ZXJzZURlbGF5OiAwLFxuXHQgIGF0dHI6ICdzdHlsZScsXG5cdCAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgd2lsbENoYW5nZTogdHJ1ZVxuXHR9O1xuXHRUd2Vlbk9uZS5wbHVnaW5zID0gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUd2Vlbk9uZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDY2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R3ZWVuRnVuY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF90d2VlbkZ1bmN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90d2VlbkZ1bmN0aW9ucyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl0ucGF0aCA9IGZ1bmN0aW9uIChfcGF0aCwgX3BhcmFtKSB7XG5cdCAgdmFyIHBhcmFtID0gX3BhcmFtIHx8IHt9O1xuXHQgIHZhciBwYXRoTm9kZSA9ICgwLCBfdXRpbC5wYXJzZVBhdGgpKF9wYXRoKTtcblx0ICB2YXIgcGF0aExlbmd0aCA9IHBhdGhOb2RlLmdldFRvdGFsTGVuZ3RoKCk7XG5cdCAgdmFyIHJlY3QgPSBwYXJhbS5yZWN0IHx8IDEwMDsgLy8gcGF0aCDnmoTlpKflsI/vvIwxMDAgKiAxMDDvvIxcblx0ICB2YXIgbGVuZ3RoUGl4ZWwgPSBwYXJhbS5sZW5ndGhQaXhlbCB8fCAxNTAwOyAvLyDnur/kuIrlj5bngrnlg4/ntKDvvIzpu5jorqTliIbkuLogMTUwMCDmrrXjgILjgIJcblx0ICB2YXIgcG9pbnRzID0gW107XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhQaXhlbDsgaSsrKSB7XG5cdCAgICBwb2ludHMucHVzaChwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKHBhdGhMZW5ndGggLyBsZW5ndGhQaXhlbCAqIGkpKTtcblx0ICB9XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHBhdGgodCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBwID0gX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl0ubGluZWFyKHQsIGIsIF9jLCBkKTtcblx0ICAgIHZhciB0aW1lUG9pbnRYID0gcmVjdCAqIHA7IC8vIFgg6L2055qE55m+5YiG5q+UO1xuXHQgICAgLy8g5Y+W5Ye6IHgg6L2055m+5YiG5q+U5LiK55qE54K5O1xuXHQgICAgdmFyIHBvaW50ID0gcG9pbnRzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICByZXR1cm4gaXRlbS54ID49IHRpbWVQb2ludFg7XG5cdCAgICB9KVswXSB8fCBwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKHAgKiBwYXRoTGVuZ3RoKTtcblx0ICAgIHJldHVybiAxIC0gcG9pbnQueSAvIHJlY3Q7XG5cdCAgfTtcblx0fTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTpcblsxMjE2LCAxMDddLFxuXG4vKioqLyA3MjpcblsxMjE2LCAxMTFdLFxuXG4vKioqLyA3NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBNRU5VID0gZXhwb3J0cy5NRU5VID0gMTtcblx0dmFyIERFVEFJTCA9IGV4cG9ydHMuREVUQUlMID0gMjtcblx0dmFyIEFERCA9IGV4cG9ydHMuQUREID0gMztcblx0dmFyIFVQREFURSA9IGV4cG9ydHMuVVBEQVRFID0gNDtcblx0dmFyIERFTEVURSA9IGV4cG9ydHMuREVMRVRFID0gNTtcblx0dmFyIENIRUNLID0gZXhwb3J0cy5DSEVDSyA9IDY7XG5cdHZhciBVUExPQUQgPSBleHBvcnRzLlVQTE9BRCA9IDc7XG5cbi8qKiovIH0sXG5cbi8qKiovIDc2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCkge3ZhciBub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNSlcblx0ICAsIHJvb3QgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvd1xuXHQgICwgdmVuZG9ycyA9IFsnbW96JywgJ3dlYmtpdCddXG5cdCAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG5cdCAgLCByYWYgPSByb290WydyZXF1ZXN0JyArIHN1ZmZpeF1cblx0ICAsIGNhZiA9IHJvb3RbJ2NhbmNlbCcgKyBzdWZmaXhdIHx8IHJvb3RbJ2NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxuXHRcblx0Zm9yKHZhciBpID0gMDsgIXJhZiAmJiBpIDwgdmVuZG9ycy5sZW5ndGg7IGkrKykge1xuXHQgIHJhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdSZXF1ZXN0JyArIHN1ZmZpeF1cblx0ICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cblx0ICAgICAgfHwgcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxuXHR9XG5cdFxuXHQvLyBTb21lIHZlcnNpb25zIG9mIEZGIGhhdmUgckFGIGJ1dCBub3QgY0FGXG5cdGlmKCFyYWYgfHwgIWNhZikge1xuXHQgIHZhciBsYXN0ID0gMFxuXHQgICAgLCBpZCA9IDBcblx0ICAgICwgcXVldWUgPSBbXVxuXHQgICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cdFxuXHQgIHJhZiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdCAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgdmFyIF9ub3cgPSBub3coKVxuXHQgICAgICAgICwgbmV4dCA9IE1hdGgubWF4KDAsIGZyYW1lRHVyYXRpb24gLSAoX25vdyAtIGxhc3QpKVxuXHQgICAgICBsYXN0ID0gbmV4dCArIF9ub3dcblx0ICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgY3AgPSBxdWV1ZS5zbGljZSgwKVxuXHQgICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuXHQgICAgICAgIC8vIGNhbGxiYWNrcyBmcm9tIGFwcGVuZGluZyBsaXN0ZW5lcnNcblx0ICAgICAgICAvLyB0byB0aGUgY3VycmVudCBmcmFtZSdzIHF1ZXVlXG5cdCAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuXHQgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgaWYoIWNwW2ldLmNhbmNlbGxlZCkge1xuXHQgICAgICAgICAgICB0cnl7XG5cdCAgICAgICAgICAgICAgY3BbaV0uY2FsbGJhY2sobGFzdClcblx0ICAgICAgICAgICAgfSBjYXRjaChlKSB7XG5cdCAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCBNYXRoLnJvdW5kKG5leHQpKVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaCh7XG5cdCAgICAgIGhhbmRsZTogKytpZCxcblx0ICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuXHQgICAgICBjYW5jZWxsZWQ6IGZhbHNlXG5cdCAgICB9KVxuXHQgICAgcmV0dXJuIGlkXG5cdCAgfVxuXHRcblx0ICBjYWYgPSBmdW5jdGlvbihoYW5kbGUpIHtcblx0ICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgICBpZihxdWV1ZVtpXS5oYW5kbGUgPT09IGhhbmRsZSkge1xuXHQgICAgICAgIHF1ZXVlW2ldLmNhbmNlbGxlZCA9IHRydWVcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbikge1xuXHQgIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuXHQgIC8vIGBjYW5jZWxgIHBvdGVudGlhbGx5IGJlaW5nIGFzc2lnbmVkXG5cdCAgLy8gdG8gdGhlIG5hdGl2ZSByQUYgZnVuY3Rpb25cblx0ICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG5cdH1cblx0bW9kdWxlLmV4cG9ydHMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdCAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcblx0fVxuXHRtb2R1bGUuZXhwb3J0cy5wb2x5ZmlsbCA9IGZ1bmN0aW9uKCkge1xuXHQgIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG5cdCAgcm9vdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxuXHR9XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDgyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Db25zdW1hYmxlQXJyYXkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENoZWNrYm94R3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveEdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBDaGVja2JveEdyb3VwKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveEdyb3VwKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy50b2dnbGVPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25JbmRleCA9IF90aGlzLnN0YXRlLnZhbHVlLmluZGV4T2Yob3B0aW9uLnZhbHVlKTtcblx0ICAgICAgICAgICAgdmFyIHZhbHVlID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUudmFsdWUpKTtcblx0ICAgICAgICAgICAgaWYgKG9wdGlvbkluZGV4ID09PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgdmFsdWUucHVzaChvcHRpb24udmFsdWUpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdmFsdWUuc3BsaWNlKG9wdGlvbkluZGV4LCAxKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBbXVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWUgfHwgW11cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfTtcblx0XG5cdCAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcblx0ICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzc5NjBcblx0XG5cdCAgICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24sXG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvblxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lO1xuXHRcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX2luZGV4MltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IGRpc2FibGVkOiAnZGlzYWJsZWQnIGluIG9wdGlvbiA/IG9wdGlvbi5kaXNhYmxlZCA6IF90aGlzMi5wcm9wcy5kaXNhYmxlZCwgY2hlY2tlZDogX3RoaXMyLnN0YXRlLnZhbHVlLmluZGV4T2Yob3B0aW9uLnZhbHVlKSAhPT0gLTEsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVPcHRpb24ob3B0aW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbScsIGtleTogb3B0aW9uLnZhbHVlIH0sXG5cdCAgICAgICAgICAgICAgICBvcHRpb24ubGFiZWxcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nIH0sXG5cdCAgICAgICAgICAgIG9wdGlvbnNcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gQ2hlY2tib3hHcm91cDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveEdyb3VwO1xuXHRcblx0Q2hlY2tib3hHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBvcHRpb25zOiBbXSxcblx0ICAgIHByZWZpeENsczogJ2FudC1jaGVja2JveC1ncm91cCdcblx0fTtcblx0Q2hlY2tib3hHcm91cC5wcm9wVHlwZXMgPSB7XG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBvcHRpb25zOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9kcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcblx0ICAgIHZhciB0ID0ge307XG5cdCAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuXHQgICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcblx0ICAgIH1yZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBCdXR0b25Hcm91cCA9IF9idXR0b24yW1wiZGVmYXVsdFwiXS5Hcm91cDtcblx0XG5cdHZhciBEcm9wZG93bkJ1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERyb3Bkb3duQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBEcm9wZG93bkJ1dHRvbigpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERyb3Bkb3duQnV0dG9uKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgRHJvcGRvd25CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICB0eXBlID0gX2EudHlwZSxcblx0ICAgICAgICAgICAgb3ZlcmxheSA9IF9hLm92ZXJsYXksXG5cdCAgICAgICAgICAgIHRyaWdnZXIgPSBfYS50cmlnZ2VyLFxuXHQgICAgICAgICAgICBhbGlnbiA9IF9hLmFsaWduLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG5cdCAgICAgICAgICAgIHZpc2libGUgPSBfYS52aXNpYmxlLFxuXHQgICAgICAgICAgICBvblZpc2libGVDaGFuZ2UgPSBfYS5vblZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1widHlwZVwiLCBcIm92ZXJsYXlcIiwgXCJ0cmlnZ2VyXCIsIFwiYWxpZ25cIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJwcmVmaXhDbHNcIiwgXCJkaXNhYmxlZFwiLCBcInZpc2libGVcIiwgXCJvblZpc2libGVDaGFuZ2VcIl0pO1xuXHQgICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHZhciBkcm9wZG93blByb3BzID0ge1xuXHQgICAgICAgICAgICBhbGlnbjogYWxpZ24sXG5cdCAgICAgICAgICAgIG92ZXJsYXk6IG92ZXJsYXksXG5cdCAgICAgICAgICAgIHRyaWdnZXI6IGRpc2FibGVkID8gW10gOiB0cmlnZ2VyLFxuXHQgICAgICAgICAgICBvblZpc2libGVDaGFuZ2U6IG9uVmlzaWJsZUNoYW5nZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaWYgKCd2aXNpYmxlJyBpbiB0aGlzLnByb3BzKSB7XG5cdCAgICAgICAgICAgIGRyb3Bkb3duUHJvcHMudmlzaWJsZSA9IHZpc2libGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBCdXR0b25Hcm91cCxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByZXN0UHJvcHMsIHsgY2xhc3NOYW1lOiBjbHMgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IHR5cGU6IHR5cGUsIG9uQ2xpY2s6IG9uQ2xpY2ssIGRpc2FibGVkOiBkaXNhYmxlZCB9LFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgZHJvcGRvd25Qcm9wcyxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdkb3duJyB9KVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIERyb3Bkb3duQnV0dG9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duQnV0dG9uO1xuXHRcblx0RHJvcGRvd25CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgYWxpZ246IHtcblx0ICAgICAgICBwb2ludHM6IFsndHInLCAnYnInXSxcblx0ICAgICAgICBvdmVybGF5OiB7XG5cdCAgICAgICAgICAgIGFkanVzdFg6IDEsXG5cdCAgICAgICAgICAgIGFkanVzdFk6IDFcblx0ICAgICAgICB9LFxuXHQgICAgICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgICAgIHRhcmdldE9mZnNldDogWzAsIDBdXG5cdCAgICB9LFxuXHQgICAgdHlwZTogJ2RlZmF1bHQnLFxuXHQgICAgcHJlZml4Q2xzOiAnYW50LWRyb3Bkb3duLWJ1dHRvbidcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDg0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdHZhciBfZHJvcGRvd25CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgzKTtcblx0XG5cdHZhciBfZHJvcGRvd25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd25CdXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfZHJvcGRvd24yW1wiZGVmYXVsdFwiXS5CdXR0b24gPSBfZHJvcGRvd25CdXR0b24yW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIE1pbmlTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShNaW5pU2VsZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBNaW5pU2VsZWN0KCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTWluaVNlbGVjdCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIE1pbmlTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfc2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNpemU6ICdzbWFsbCcgfSwgdGhpcy5wcm9wcykpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gTWluaVNlbGVjdDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNaW5pU2VsZWN0O1xuXHRcblx0TWluaVNlbGVjdC5PcHRpb24gPSBfc2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjUGFnaW5hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblx0XG5cdHZhciBfcmNQYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUGFnaW5hdGlvbik7XG5cdFxuXHR2YXIgX3NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblx0XG5cdHZhciBfTWluaVNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXHRcblx0dmFyIF9NaW5pU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01pbmlTZWxlY3QpO1xuXHRcblx0dmFyIF96aF9DTiA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0dmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUGFnaW5hdGlvbigpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFBhZ2luYXRpb24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgICAgIHZhciBzZWxlY3RDb21wb25lbnRDbGFzcyA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXTtcblx0ICAgICAgICB2YXIgbG9jYWxlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb247XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbWluaSc7XG5cdCAgICAgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzID0gX01pbmlTZWxlY3QyW1wiZGVmYXVsdFwiXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBzZWxlY3RDb21wb25lbnRDbGFzczogc2VsZWN0Q29tcG9uZW50Q2xhc3MsIHNlbGVjdFByZWZpeENsczogdGhpcy5wcm9wcy5zZWxlY3RQcmVmaXhDbHMgfSwgdGhpcy5wcm9wcywgeyBsb2NhbGU6IGxvY2FsZSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUGFnaW5hdGlvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQYWdpbmF0aW9uO1xuXHRcblx0UGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBsb2NhbGU6IF96aF9DTjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgIHByZWZpeENsczogJ2FudC1wYWdpbmF0aW9uJyxcblx0ICAgIHNlbGVjdFByZWZpeENsczogJ2FudC1zZWxlY3QnXG5cdH07XG5cdFBhZ2luYXRpb24uY29udGV4dFR5cGVzID0ge1xuXHQgICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9QYWdpbmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cdFxuXHR2YXIgX1BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFnaW5hdGlvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDkyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRDaGVja2VkVmFsdWUoY2hpbGRyZW4pIHtcblx0ICAgIHZhciB2YWx1ZSA9IG51bGw7XG5cdCAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG5cdCAgICAgICAgaWYgKHJhZGlvICYmIHJhZGlvLnByb3BzICYmIHJhZGlvLnByb3BzLmNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSByYWRpby5wcm9wcy52YWx1ZTtcblx0ICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbWF0Y2hlZCA/IHsgdmFsdWU6IHZhbHVlIH0gOiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdHZhciBSYWRpb0dyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUmFkaW9Hcm91cChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9Hcm91cCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMub25SYWRpb0NoYW5nZSA9IGZ1bmN0aW9uIChldikge1xuXHQgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWU7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlICYmIHZhbHVlICE9PSBsYXN0VmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGV2KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcykge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKHByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgICAgICAgdmFsdWUgPSBjaGVja2VkVmFsdWUgJiYgY2hlY2tlZFZhbHVlLnZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGVja2VkVmFsdWUudmFsdWVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfTtcblx0XG5cdCAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgdmFyIGNoaWxkcmVuID0gIXByb3BzLmNoaWxkcmVuID8gW10gOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuXHQgICAgICAgICAgICBpZiAocmFkaW8gJiYgKHJhZGlvLnR5cGUgPT09IF9yYWRpbzJbXCJkZWZhdWx0XCJdIHx8IHJhZGlvLnR5cGUgPT09IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdKSAmJiByYWRpby5wcm9wcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChyYWRpbywgKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHJhZGlvLnByb3BzLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5vblJhZGlvQ2hhbmdlLFxuXHQgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZSA9PT0gcmFkaW8ucHJvcHMudmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHJhZGlvLnByb3BzLmRpc2FibGVkIHx8IF90aGlzMi5wcm9wcy5kaXNhYmxlZFxuXHQgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByYWRpbztcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgX3Byb3BzJHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzJHByZWZpeENscyA9PT0gdW5kZWZpbmVkID8gJ2FudC1yYWRpby1ncm91cCcgOiBfcHJvcHMkcHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWU7XG5cdFxuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctJyArIHByb3BzLnNpemUsIHByb3BzLnNpemUpLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogcHJvcHMuc3R5bGUsIG9uTW91c2VFbnRlcjogcHJvcHMub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYWRpb0dyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvR3JvdXA7XG5cdFxuXHRSYWRpb0dyb3VwLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGRpc2FibGVkOiBmYWxzZVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfUmNUYWJsZSRDb2x1bW4pIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENvbHVtbiwgX1JjVGFibGUkQ29sdW1uKTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDb2x1bW4pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uO1xuXHR9KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAocHJvcHMpIHtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcblx0ICAgICAgICBwcm9wcy5jaGlsZHJlblxuXHQgICAgKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25Cb3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkJveChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQm94KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcylcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdCAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnByb3BzLnN0b3JlO1xuXHRcblx0ICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBfdGhpczIuZ2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuXHQgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmdldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBnZXRDaGVja1N0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGRlZmF1bHRTZWxlY3Rpb24gPSBwcm9wcy5kZWZhdWx0U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICByb3dJbmRleCA9IHByb3BzLnJvd0luZGV4O1xuXHRcblx0ICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5KSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwIHx8IGRlZmF1bHRTZWxlY3Rpb24uaW5kZXhPZihyb3dJbmRleCkgPj0gMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICB0eXBlID0gX3Byb3BzLnR5cGUsXG5cdCAgICAgICAgICAgIHJvd0luZGV4ID0gX3Byb3BzLnJvd0luZGV4LFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cdFxuXHQgICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlLCB2YWx1ZTogcm93SW5kZXgsIGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aW9uQm94O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkJveDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBTZWxlY3Rpb25DaGVja2JveEFsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkNoZWNrYm94QWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWxlY3Rpb25DaGVja2JveEFsbChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKSxcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogX3RoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICB0aGlzLnNldENoZWNrU3RhdGUobmV4dFByb3BzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0ICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5wcm9wcy5zdG9yZTtcblx0XG5cdCAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzMi5zZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jaGVja1NlbGVjdGlvbiA9IGZ1bmN0aW9uIGNoZWNrU2VsZWN0aW9uKGRhdGEsIHR5cGUsIGJ5RGVmYXVsdENoZWNrZWQpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGdldENoZWNrYm94UHJvcHNCeUl0ZW0gPSBfcHJvcHMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSxcblx0ICAgICAgICAgICAgZ2V0UmVjb3JkS2V5ID0gX3Byb3BzLmdldFJlY29yZEtleTtcblx0ICAgICAgICAvLyB0eXBlIHNob3VsZCBiZSAnZXZlcnknIHwgJ3NvbWUnXG5cdFxuXHQgICAgICAgIGlmICh0eXBlID09PSAnZXZlcnknIHx8IHR5cGUgPT09ICdzb21lJykge1xuXHQgICAgICAgICAgICByZXR1cm4gYnlEZWZhdWx0Q2hlY2tlZCA/IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBnZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRlZmF1bHRDaGVja2VkO1xuXHQgICAgICAgICAgICB9KSA6IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGdldFJlY29yZEtleShpdGVtLCBpKSkgPj0gMDtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnNldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBzZXRDaGVja1N0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLmdldENoZWNrU3RhdGUocHJvcHMpO1xuXHQgICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpO1xuXHQgICAgICAgIGlmIChjaGVja2VkICE9PSB0aGlzLnN0YXRlLmNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpbmRldGVybWluYXRlICE9PSB0aGlzLnN0YXRlLmluZGV0ZXJtaW5hdGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcblx0ICAgICAgICAgICAgZGF0YSA9IHByb3BzLmRhdGE7XG5cdFxuXHQgICAgICAgIHZhciBjaGVja2VkID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgOiB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSB8fCB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY2hlY2tlZDtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmdldEluZGV0ZXJtaW5hdGVTdGF0ZSA9IGZ1bmN0aW9uIGdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcykge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuXHQgICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblx0XG5cdCAgICAgICAgdmFyIGluZGV0ZXJtaW5hdGUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCB0cnVlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGluZGV0ZXJtaW5hdGU7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQsXG5cdCAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzMi5vbkNoYW5nZTtcblx0ICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IF9zdGF0ZS5jaGVja2VkLFxuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gX3N0YXRlLmluZGV0ZXJtaW5hdGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdHZhciBfZmlsdGVyRHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cdFxuXHR2YXIgX2ZpbHRlckRyb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlckRyb3Bkb3duKTtcblx0XG5cdHZhciBfcGFnaW5hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhZ2luYXRpb24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3NwaW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdFxuXHR2YXIgX3NwaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3Bpbik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXHRcblx0dmFyIF9TZWxlY3Rpb25Cb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0XG5cdHZhciBfU2VsZWN0aW9uQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkJveCk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkNoZWNrYm94QWxsKTtcblx0XG5cdHZhciBfQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX0NvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW4pO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuXHQgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdCAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHQ7XG5cdH07XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XG5cdCAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgaWYgKGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG5cdCAgICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0ICAgIH1cblx0fVxuXHR2YXIgZGVmYXVsdExvY2FsZSA9IHtcblx0ICAgIGZpbHRlclRpdGxlOiAn562b6YCJJyxcblx0ICAgIGZpbHRlckNvbmZpcm06ICfnoa7lrponLFxuXHQgICAgZmlsdGVyUmVzZXQ6ICfph43nva4nLFxuXHQgICAgZW1wdHlUZXh0OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZnJvd24tbycgfSksXG5cdCAgICAgICAgJ1xcdTY2ODJcXHU2NUUwXFx1NjU3MFxcdTYzNkUnXG5cdCAgICApXG5cdH07XG5cdHZhciBkZWZhdWx0UGFnaW5hdGlvbiA9IHtcblx0ICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgb25TaG93U2l6ZUNoYW5nZTogbm9vcFxuXHR9O1xuXHRcblx0dmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBUYWJsZSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcm93U2VsZWN0ID0gX3RoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3RoaXMkcHJvcHMkcm93U2VsZWN0ID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHJvd1NlbGVjdDtcblx0XG5cdCAgICAgICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGluZGV4KTtcblx0ICAgICAgICAgICAgLy8gQ2FjaGUgY2hlY2tib3hQcm9wc1xuXHQgICAgICAgICAgICBpZiAoIV90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSA9IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKGl0ZW0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUZpbHRlciA9IGZ1bmN0aW9uIChjb2x1bW4sIG5leHRGaWx0ZXJzKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUuZmlsdGVycywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbiksIG5leHRGaWx0ZXJzKSk7XG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIG5vdCBpbiBjdXJyZW50IGNvbHVtbnNcblx0ICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2x1bW5LZXlzID0gW107XG5cdCAgICAgICAgICAgICgwLCBfdXRpbC50cmVlTWFwKShfdGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbHVtbktleXMucHVzaChfdGhpcy5nZXRDb2x1bW5LZXkoYykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbHVtbktleXMuaW5kZXhPZihjb2x1bW5LZXkpIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzW2NvbHVtbktleV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpZiAocHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBwcm9wXG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSAxO1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5vbkNoYW5nZShwYWdpbmF0aW9uLmN1cnJlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sXG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7fVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyc1RvU2V0U3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZmlsdGVycyk7XG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIHdoaWNoIGlzIGNvbnRyb2xsZWRcblx0ICAgICAgICAgICAgX3RoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjb2x1bW5LZXkgPSBfdGhpcy5nZXRDb2x1bW5LZXkoY29sKTtcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW5LZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1RvU2V0U3RhdGVbY29sdW1uS2V5XTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzVG9TZXRTdGF0ZSkubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbmV3U3RhdGUuZmlsdGVycyA9IGZpbHRlcnNUb1NldFN0YXRlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuXHQgICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgfSkpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IHNlbGVjdGVkUm93S2V5cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9PSBpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gW2tleV07XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcblx0ICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGNoYW5nYWJsZVJvd0tleXMgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRpc2FibGVkO1xuXHQgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSZWNvcmRLZXkoaXRlbSwgaSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAvLyDorrDlvZXlj5jljJbnmoTliJdcblx0ICAgICAgICAgICAgdmFyIGNoYW5nZVJvd0tleXMgPSBbXTtcblx0ICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgICAgIGNoYW5nYWJsZVJvd0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSkgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hhbmdhYmxlUm93S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5zcGxpY2Uoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdEFsbCcsXG5cdCAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuXHQgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5czogY2hhbmdlUm93S2V5c1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb3RoZXJBcmd1bWVudHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgICAgICBvdGhlckFyZ3VtZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IGN1cnJlbnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlLmFwcGx5KHBhZ2luYXRpb24sIFtwYWdpbmF0aW9uLmN1cnJlbnRdLmNvbmNhdChvdGhlckFyZ3VtZW50cykpO1xuXHQgICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuXHQgICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICAgICB9KSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF8sIHJlY29yZCwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIGluZGV4KTsgLy8g5LuOIDEg5byA5aeLXG5cdCAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKHJlY29yZCwgaW5kZXgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ3JhZGlvJyA/IF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpIDogX3RoaXMuaGFuZGxlU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbiB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdGlvbkJveDJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6IHR5cGUsIHN0b3JlOiBfdGhpcy5zdG9yZSwgcm93SW5kZXg6IHJvd0luZGV4LCBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIGRlZmF1bHRTZWxlY3Rpb246IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKSB9KVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmdldFJlY29yZEtleSA9IGZ1bmN0aW9uIChyZWNvcmQsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5wcm9wcy5yb3dLZXk7XG5cdCAgICAgICAgICAgIHZhciByZWNvcmRLZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG5cdCAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShyZWNvcmRLZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsIG9yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXksJyArICdzZWUgaHR0cDovL3UuYW50LmRlc2lnbi90YWJsZS1yb3cta2V5Jyk7XG5cdCAgICAgICAgICAgIHJldHVybiByZWNvcmRLZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDogcmVjb3JkS2V5O1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCwgcGFnZVNpemUpIHtcblx0ICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuXHQgICAgICAgICAgICBwYWdpbmF0aW9uLm9uU2hvd1NpemVDaGFuZ2UoY3VycmVudCwgcGFnZVNpemUpO1xuXHQgICAgICAgICAgICB2YXIgbmV4dFBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwgeyBwYWdlU2l6ZTogcGFnZVNpemUsIGN1cnJlbnQ6IGN1cnJlbnQgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb24gfSk7XG5cdCAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb25cblx0ICAgICAgICAgICAgICAgIH0pKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSghKCdjb2x1bW5zUGFnZVJhbmdlJyBpbiBwcm9wcyB8fCAnY29sdW1uc1BhZ2VTaXplJyBpbiBwcm9wcyksICdgY29sdW1uc1BhZ2VSYW5nZWAgYW5kIGBjb2x1bW5zUGFnZVNpemVgIGFyZSByZW1vdmVkLCBwbGVhc2UgdXNlICcgKyAnZml4ZWQgY29sdW1ucyBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZml4ZWQtY29sdW1ucy4nKTtcblx0ICAgICAgICBfdGhpcy5jb2x1bW5zID0gcHJvcHMuY29sdW1ucyB8fCAoMCwgX3V0aWwubm9ybWFsaXplQ29sdW1ucykocHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKCksIHtcblx0ICAgICAgICAgICAgLy8g5YeP5bCR54q25oCBXG5cdCAgICAgICAgICAgIGZpbHRlcnM6IF90aGlzLmdldEZpbHRlcnNGcm9tQ29sdW1ucygpLFxuXHQgICAgICAgICAgICBwYWdpbmF0aW9uOiBfdGhpcy5nZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcylcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcblx0ICAgICAgICBfdGhpcy5zdG9yZSA9ICgwLCBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IChwcm9wcy5yb3dTZWxlY3Rpb24gfHwge30pLnNlbGVjdGVkUm93S2V5cyB8fCBbXSxcblx0ICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2VsZWN0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFNlbGVjdGlvbigpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uO1xuXHRcblx0ICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhdERhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHJvd0luZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCByb3dJbmRleCkuZGVmYXVsdENoZWNrZWQ7XG5cdCAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFBhZ2luYXRpb24gPSBmdW5jdGlvbiBnZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcykge1xuXHQgICAgICAgIHZhciBwYWdpbmF0aW9uID0gcHJvcHMucGFnaW5hdGlvbiB8fCB7fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5oYXNQYWdpbmF0aW9uKHByb3BzKSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcGFnaW5hdGlvbiwge1xuXHQgICAgICAgICAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmRlZmF1bHRDdXJyZW50IHx8IHBhZ2luYXRpb24uY3VycmVudCB8fCAxLFxuXHQgICAgICAgICAgICBwYWdlU2l6ZTogcGFnaW5hdGlvbi5kZWZhdWx0UGFnZVNpemUgfHwgcGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMFxuXHQgICAgICAgIH0pIDoge307XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiBnZXRMb2NhbGUoKSB7XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHt9O1xuXHQgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuVGFibGUpIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlLCBsb2NhbGUsIHRoaXMucHJvcHMubG9jYWxlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIHRoaXMuY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmICgncGFnaW5hdGlvbicgaW4gbmV4dFByb3BzIHx8ICdwYWdpbmF0aW9uJyBpbiB0aGlzLnByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZpb3VzU3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBuZXdQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwcmV2aW91c1N0YXRlLnBhZ2luYXRpb24sIG5leHRQcm9wcy5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgICAgIG5ld1BhZ2luYXRpb24uY3VycmVudCA9IG5ld1BhZ2luYXRpb24uY3VycmVudCB8fCAxO1xuXHQgICAgICAgICAgICAgICAgbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSA9IG5ld1BhZ2luYXRpb24ucGFnZVNpemUgfHwgMTA7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4geyBwYWdpbmF0aW9uOiBuZXh0UHJvcHMucGFnaW5hdGlvbiAhPT0gZmFsc2UgPyBuZXdQYWdpbmF0aW9uIDoge30gfTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChuZXh0UHJvcHMucm93U2VsZWN0aW9uICYmICdzZWxlY3RlZFJvd0tleXMnIGluIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24pIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uc2VsZWN0ZWRSb3dLZXlzIHx8IFtdXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YXIgcm93U2VsZWN0aW9uID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb247XG5cdFxuXHQgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyAhPT0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCdkYXRhU291cmNlJyBpbiBuZXh0UHJvcHMgJiYgbmV4dFByb3BzLmRhdGFTb3VyY2UgIT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyh0aGlzLmNvbHVtbnMpLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdmFyIHNvcnRTdGF0ZSA9IHRoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnModGhpcy5jb2x1bW5zKTtcblx0ICAgICAgICAgICAgaWYgKHNvcnRTdGF0ZS5zb3J0Q29sdW1uICE9PSB0aGlzLnN0YXRlLnNvcnRDb2x1bW4gfHwgc29ydFN0YXRlLnNvcnRPcmRlciAhPT0gdGhpcy5zdGF0ZS5zb3J0T3JkZXIpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc29ydFN0YXRlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSB0aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKHRoaXMuY29sdW1ucyk7XG5cdCAgICAgICAgaWYgKGZpbHRlcmVkVmFsdWVDb2x1bW5zLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcnNGcm9tQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG5cdCAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUuZmlsdGVycyk7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnNGcm9tQ29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICBuZXdGaWx0ZXJzW2tleV0gPSBmaWx0ZXJzRnJvbUNvbHVtbnNba2V5XTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmlzRmlsdGVyc0NoYW5nZWQobmV3RmlsdGVycykpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJzOiBuZXdGaWx0ZXJzIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRSb3dLZXlzID0gZnVuY3Rpb24gc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywgX3JlZikge1xuXHQgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc2VsZWN0V2F5ID0gX3JlZi5zZWxlY3RXYXksXG5cdCAgICAgICAgICAgIHJlY29yZCA9IF9yZWYucmVjb3JkLFxuXHQgICAgICAgICAgICBjaGVja2VkID0gX3JlZi5jaGVja2VkLFxuXHQgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzID0gX3JlZi5jaGFuZ2VSb3dLZXlzO1xuXHQgICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uMiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMkcm93U2VsZWN0aW9uMiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uMjtcblx0XG5cdCAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiAhKCdzZWxlY3RlZFJvd0tleXMnIGluIHJvd1NlbGVjdGlvbikpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7IHNlbGVjdGVkUm93S2V5czogc2VsZWN0ZWRSb3dLZXlzIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdERhdGEoKTtcblx0ICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5vbkNoYW5nZSAmJiAhcm93U2VsZWN0aW9uW3NlbGVjdFdheV0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGlmIChyb3dTZWxlY3Rpb24ub25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uQ2hhbmdlKHNlbGVjdGVkUm93S2V5cywgc2VsZWN0ZWRSb3dzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0JyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3QpIHtcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uU2VsZWN0KHJlY29yZCwgY2hlY2tlZCwgc2VsZWN0ZWRSb3dzKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0QWxsJyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwpIHtcblx0ICAgICAgICAgICAgdmFyIGNoYW5nZVJvd3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlUm93S2V5cy5pbmRleE9mKF90aGlzMy5nZXRSZWNvcmRLZXkocm93LCBpKSkgPj0gMDtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vblNlbGVjdEFsbChjaGVja2VkLCBzZWxlY3RlZFJvd3MsIGNoYW5nZVJvd3MpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmhhc1BhZ2luYXRpb24gPSBmdW5jdGlvbiBoYXNQYWdpbmF0aW9uKHByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5wYWdpbmF0aW9uICE9PSBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmlzRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiBpc0ZpbHRlcnNDaGFuZ2VkKGZpbHRlcnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnMpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5maWx0ZXJzKS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgZmlsdGVyc0NoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbY29sdW1uS2V5XSAhPT0gX3RoaXM0LnN0YXRlLmZpbHRlcnNbY29sdW1uS2V5XSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzQ2hhbmdlZDtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRPcmRlckNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0T3JkZXJDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICByZXR1cm4gJ3NvcnRPcmRlcicgaW4gY29sdW1uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgcmV0dXJuIChjb2x1bW5zIHx8IHRoaXMuY29sdW1ucyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBjb2x1bW4uZmlsdGVyZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJzRnJvbUNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgZmlsdGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG5cdCAgICAgICAgICAgIGZpbHRlcnNbX3RoaXM1LmdldENvbHVtbktleShjb2wpXSA9IGNvbC5maWx0ZXJlZFZhbHVlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgLy8gcmV0dXJuIGZpc3J0IGNvbHVtbiB3aGljaCBzb3J0T3JkZXIgaXMgbm90IGZhbHN5XG5cdCAgICAgICAgdmFyIHNvcnRlZENvbHVtbiA9IHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKS5maWx0ZXIoZnVuY3Rpb24gKGNvbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY29sLnNvcnRPcmRlcjtcblx0ICAgICAgICB9KVswXTtcblx0ICAgICAgICBpZiAoc29ydGVkQ29sdW1uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0ZWRDb2x1bW4sXG5cdCAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRlZENvbHVtbi5zb3J0T3JkZXJcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgc29ydENvbHVtbjogbnVsbCxcblx0ICAgICAgICAgICAgc29ydE9yZGVyOiBudWxsXG5cdCAgICAgICAgfTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRlckZuID0gZnVuY3Rpb24gZ2V0U29ydGVyRm4oKSB7XG5cdCAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZS5zb3J0T3JkZXIsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUuc29ydENvbHVtbjtcblx0XG5cdCAgICAgICAgaWYgKCFzb3J0T3JkZXIgfHwgIXNvcnRDb2x1bW4gfHwgdHlwZW9mIHNvcnRDb2x1bW4uc29ydGVyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBzb3J0Q29sdW1uLnNvcnRlcihhLCBiKTtcblx0ICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnID8gLXJlc3VsdCA6IHJlc3VsdDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICB9O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUudG9nZ2xlU29ydE9yZGVyID0gZnVuY3Rpb24gdG9nZ2xlU29ydE9yZGVyKG9yZGVyLCBjb2x1bW4pIHtcblx0ICAgICAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUyLnNvcnRDb2x1bW4sXG5cdCAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZTIuc29ydE9yZGVyO1xuXHQgICAgICAgIC8vIOWPquWQjOaXtuWFgeiuuOS4gOWIl+i/m+ihjOaOkuW6j++8jOWQpuWImeS8muWvvOiHtOaOkuW6j+mhuuW6j+eahOmAu+i+kemXrumimFxuXHRcblx0ICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gdGhpcy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcblx0ICAgICAgICBpZiAoIWlzU29ydENvbHVtbikge1xuXHQgICAgICAgICAgICBzb3J0T3JkZXIgPSBvcmRlcjtcblx0ICAgICAgICAgICAgc29ydENvbHVtbiA9IGNvbHVtbjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoc29ydE9yZGVyID09PSBvcmRlcikge1xuXHQgICAgICAgICAgICAgICAgc29ydE9yZGVyID0gJyc7XG5cdCAgICAgICAgICAgICAgICBzb3J0Q29sdW1uID0gbnVsbDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0T3JkZXIsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW46IHNvcnRDb2x1bW5cblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIENvbnRyb2xsZWRcblx0ICAgICAgICBpZiAodGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKCkubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgb25DaGFuZ2UgPSB0aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCB0aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUsIG5ld1N0YXRlKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlclJvd1NlbGVjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclJvd1NlbGVjdGlvbigpIHtcblx0ICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcy5yb3dTZWxlY3Rpb247XG5cdFxuXHQgICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jb2x1bW5zLmNvbmNhdCgpO1xuXHQgICAgICAgIGlmIChyb3dTZWxlY3Rpb24pIHtcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEZsYXRDdXJyZW50UGFnZURhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIV90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkNvbHVtbiA9IHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbi1jb2x1bW4nLFxuXHQgICAgICAgICAgICAgICAgcmVuZGVyOiB0aGlzLnJlbmRlclNlbGVjdGlvbkJveChyb3dTZWxlY3Rpb24udHlwZSksXG5cdCAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLWNvbHVtbidcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi50eXBlICE9PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2hlY2tib3hBbGxEaXNhYmxlZCA9IGRhdGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uLnRpdGxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQ2hlY2tib3hBbGwyW1wiZGVmYXVsdFwiXSwgeyBzdG9yZTogdGhpcy5zdG9yZSwgZGF0YTogZGF0YSwgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbTogdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLCBnZXRSZWNvcmRLZXk6IHRoaXMuZ2V0UmVjb3JkS2V5LCBkaXNhYmxlZDogY2hlY2tib3hBbGxEaXNhYmxlZCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2VsZWN0QWxsUm93IH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChjb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcblx0ICAgICAgICAgICAgfSkpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvbHVtbi5maXhlZCA9ICdsZWZ0Jztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nKSB7XG5cdCAgICAgICAgICAgICAgICBjb2x1bW5zWzBdID0gc2VsZWN0aW9uQ29sdW1uO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHNlbGVjdGlvbkNvbHVtbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW5LZXkgPSBmdW5jdGlvbiBnZXRDb2x1bW5LZXkoY29sdW1uLCBpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4ua2V5IHx8IGNvbHVtbi5kYXRhSW5kZXggfHwgaW5kZXg7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRNYXhDdXJyZW50ID0gZnVuY3Rpb24gZ2V0TWF4Q3VycmVudCh0b3RhbCkge1xuXHQgICAgICAgIHZhciBfc3RhdGUkcGFnaW5hdGlvbiA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbixcblx0ICAgICAgICAgICAgY3VycmVudCA9IF9zdGF0ZSRwYWdpbmF0aW9uLmN1cnJlbnQsXG5cdCAgICAgICAgICAgIHBhZ2VTaXplID0gX3N0YXRlJHBhZ2luYXRpb24ucGFnZVNpemU7XG5cdFxuXHQgICAgICAgIGlmICgoY3VycmVudCAtIDEpICogcGFnZVNpemUgPj0gdG90YWwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgLSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY3VycmVudDtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmlzU29ydENvbHVtbiA9IGZ1bmN0aW9uIGlzU29ydENvbHVtbihjb2x1bW4pIHtcblx0ICAgICAgICB2YXIgc29ydENvbHVtbiA9IHRoaXMuc3RhdGUuc29ydENvbHVtbjtcblx0XG5cdCAgICAgICAgaWYgKCFjb2x1bW4gfHwgIXNvcnRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5LZXkoc29ydENvbHVtbikgPT09IHRoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbik7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJDb2x1bW5zRHJvcGRvd24gPSBmdW5jdGlvbiByZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucykge1xuXHQgICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wczIuZHJvcGRvd25QcmVmaXhDbHM7XG5cdCAgICAgICAgdmFyIHNvcnRPcmRlciA9IHRoaXMuc3RhdGUuc29ydE9yZGVyO1xuXHRcblx0ICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUoKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF91dGlsLnRyZWVNYXApKGNvbHVtbnMsIGZ1bmN0aW9uIChvcmlnaW5Db2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBvcmlnaW5Db2x1bW4pO1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXM3LmdldENvbHVtbktleShjb2x1bW4sIGkpO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyRHJvcGRvd24gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIHZhciBzb3J0QnV0dG9uID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY29sdW1uLmZpbHRlcnMgJiYgY29sdW1uLmZpbHRlcnMubGVuZ3RoID4gMCB8fCBjb2x1bW4uZmlsdGVyRHJvcGRvd24pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjb2xGaWx0ZXJzID0gX3RoaXM3LnN0YXRlLmZpbHRlcnNba2V5XSB8fCBbXTtcblx0ICAgICAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfZmlsdGVyRHJvcGRvd24yW1wiZGVmYXVsdFwiXSwgeyBsb2NhbGU6IGxvY2FsZSwgY29sdW1uOiBjb2x1bW4sIHNlbGVjdGVkS2V5czogY29sRmlsdGVycywgY29uZmlybUZpbHRlcjogX3RoaXM3LmhhbmRsZUZpbHRlciwgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLWZpbHRlcicsIGRyb3Bkb3duUHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyB8fCAnYW50LWRyb3Bkb3duJyB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29sdW1uLnNvcnRlcikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGlzU29ydENvbHVtbiA9IF90aGlzNy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcblx0ICAgICAgICAgICAgICAgIGlmIChpc1NvcnRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSB8fCAnJztcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc29ydE9yZGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydCc7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIGlzQXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2FzY2VuZCc7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXNEZXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnO1xuXHQgICAgICAgICAgICAgICAgc29ydEJ1dHRvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItdXAgJyArIChpc0FzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2FzY2VuZCcsIGNvbHVtbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtdXAnIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItZG93biAnICsgKGlzRGVzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MycsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2Rlc2NlbmQnLCBjb2x1bW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2NhcmV0LWRvd24nIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIGNvbHVtbi50aXRsZSxcblx0ICAgICAgICAgICAgICAgIHNvcnRCdXR0b24sXG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93blxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICByZXR1cm4gY29sdW1uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclBhZ2luYXRpb24oKSB7XG5cdCAgICAgICAgLy8g5by65Yi25LiN6ZyA6KaB5YiG6aG1XG5cdCAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNpemUgPSAnZGVmYXVsdCc7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb247XG5cdFxuXHQgICAgICAgIGlmIChwYWdpbmF0aW9uLnNpemUpIHtcblx0ICAgICAgICAgICAgc2l6ZSA9IHBhZ2luYXRpb24uc2l6ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2l6ZSA9PT0gJ21pZGRsZScgfHwgdGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnKSB7XG5cdCAgICAgICAgICAgIHNpemUgPSAnc21hbGwnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdG90YWwgPSBwYWdpbmF0aW9uLnRvdGFsIHx8IHRoaXMuZ2V0TG9jYWxEYXRhKCkubGVuZ3RoO1xuXHQgICAgICAgIHJldHVybiB0b3RhbCA+IDAgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3BhZ2luYXRpb24nIH0sIHBhZ2luYXRpb24sIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctcGFnaW5hdGlvbicsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVBhZ2VDaGFuZ2UsIHRvdGFsOiB0b3RhbCwgc2l6ZTogc2l6ZSwgY3VycmVudDogdGhpcy5nZXRNYXhDdXJyZW50KHRvdGFsKSwgb25TaG93U2l6ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSB9KSkgOiBudWxsO1xuXHQgICAgfTtcblx0ICAgIC8vIEdldCBwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXJcblx0XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnByZXBhcmVQYXJhbXNBcmd1bWVudHMgPSBmdW5jdGlvbiBwcmVwYXJlUGFyYW1zQXJndW1lbnRzKHN0YXRlKSB7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfX2Fzc2lnbih7fSwgc3RhdGUucGFnaW5hdGlvbik7XG5cdCAgICAgICAgLy8gcmVtb3ZlIHVzZWxlc3MgaGFuZGxlIGZ1bmN0aW9uIGluIFRhYmxlLm9uQ2hhbmdlXG5cdCAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25DaGFuZ2U7XG5cdCAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZTtcblx0ICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cdCAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuXHQgICAgICAgIGlmIChzdGF0ZS5zb3J0Q29sdW1uICYmIHN0YXRlLnNvcnRPcmRlcikge1xuXHQgICAgICAgICAgICBzb3J0ZXIuY29sdW1uID0gc3RhdGUuc29ydENvbHVtbjtcblx0ICAgICAgICAgICAgc29ydGVyLm9yZGVyID0gc3RhdGUuc29ydE9yZGVyO1xuXHQgICAgICAgICAgICBzb3J0ZXIuZmllbGQgPSBzdGF0ZS5zb3J0Q29sdW1uLmRhdGFJbmRleDtcblx0ICAgICAgICAgICAgc29ydGVyLmNvbHVtbktleSA9IHRoaXMuZ2V0Q29sdW1uS2V5KHN0YXRlLnNvcnRDb2x1bW4pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gW3BhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcl07XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5maW5kQ29sdW1uID0gZnVuY3Rpb24gZmluZENvbHVtbihteUtleSkge1xuXHQgICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgY29sdW1uID0gdm9pZCAwO1xuXHQgICAgICAgICgwLCBfdXRpbC50cmVlTWFwKSh0aGlzLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgICAgIGlmIChfdGhpczguZ2V0Q29sdW1uS2V5KGMpID09PSBteUtleSkge1xuXHQgICAgICAgICAgICAgICAgY29sdW1uID0gYztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBjb2x1bW47XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZURhdGEoKSB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldExvY2FsRGF0YSgpO1xuXHQgICAgICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuXHQgICAgICAgIHZhciBwYWdlU2l6ZSA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIC8vIOWmguaenOayoeacieWIhumhteeahOivne+8jOm7mOiupOWFqOmDqOWxleekulxuXHQgICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcblx0ICAgICAgICAgICAgcGFnZVNpemUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXHQgICAgICAgICAgICBjdXJyZW50ID0gMTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwYWdlU2l6ZSA9IHN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemU7XG5cdCAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmdldE1heEN1cnJlbnQoc3RhdGUucGFnaW5hdGlvbi50b3RhbCB8fCBkYXRhLmxlbmd0aCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIOWIhumhtVxuXHQgICAgICAgIC8vIC0tLVxuXHQgICAgICAgIC8vIOW9k+aVsOaNrumHj+WwkeS6juetieS6juavj+mhteaVsOmHj+aXtu+8jOebtOaOpeiuvue9ruaVsOaNrlxuXHQgICAgICAgIC8vIOWQpuWImei/m+ihjOivu+WPluWIhumhteaVsOaNrlxuXHQgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBhZ2VTaXplIHx8IHBhZ2VTaXplID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGkgPj0gKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICYmIGkgPCBjdXJyZW50ICogcGFnZVNpemU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEZsYXREYXRhID0gZnVuY3Rpb24gZ2V0RmxhdERhdGEoKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0TG9jYWxEYXRhKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSA9IGZ1bmN0aW9uIGdldEZsYXRDdXJyZW50UGFnZURhdGEoKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVjdXJzaXZlU29ydCA9IGZ1bmN0aW9uIHJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pIHtcblx0ICAgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9IHRoaXMucHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lLFxuXHQgICAgICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWUgPSBfcHJvcHMkY2hpbGRyZW5Db2x1bW4gPT09IHVuZGVmaW5lZCA/ICdjaGlsZHJlbicgOiBfcHJvcHMkY2hpbGRyZW5Db2x1bW47XG5cdFxuXHQgICAgICAgIHJldHVybiBkYXRhLnNvcnQoc29ydGVyRm4pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdID8gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGNoaWxkcmVuQ29sdW1uTmFtZSwgX3RoaXM5LnJlY3Vyc2l2ZVNvcnQoaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdLCBzb3J0ZXJGbikpKSA6IGl0ZW07XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbERhdGEgPSBmdW5jdGlvbiBnZXRMb2NhbERhdGEoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5wcm9wcy5kYXRhU291cmNlO1xuXHRcblx0ICAgICAgICB2YXIgZGF0YSA9IGRhdGFTb3VyY2UgfHwgW107XG5cdCAgICAgICAgLy8g5LyY5YyW5pys5Zyw5o6S5bqPXG5cdCAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCk7XG5cdCAgICAgICAgdmFyIHNvcnRlckZuID0gdGhpcy5nZXRTb3J0ZXJGbigpO1xuXHQgICAgICAgIGlmIChzb3J0ZXJGbikge1xuXHQgICAgICAgICAgICBkYXRhID0gdGhpcy5yZWN1cnNpdmVTb3J0KGRhdGEsIHNvcnRlckZuKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8g562b6YCJXG5cdCAgICAgICAgaWYgKHN0YXRlLmZpbHRlcnMpIHtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sID0gX3RoaXMxMC5maW5kQ29sdW1uKGNvbHVtbktleSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWNvbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzdGF0ZS5maWx0ZXJzW2NvbHVtbktleV0gfHwgW107XG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBvbkZpbHRlciA9IGNvbC5vbkZpbHRlcjtcblx0ICAgICAgICAgICAgICAgIGRhdGEgPSBvbkZpbHRlciA/IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZWNvcmQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLnNvbWUoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmlsdGVyKHYsIHJlY29yZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KSA6IGRhdGE7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG5cdCAgICAgICAgICAgIF90aGlzMTEgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcblx0ICAgICAgICAgICAgc2hvd0hlYWRlciA9IF9hLnNob3dIZWFkZXIsXG5cdCAgICAgICAgICAgIGxvYWRpbmcgPSBfYS5sb2FkaW5nLFxuXHQgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwic2hvd0hlYWRlclwiLCBcImxvYWRpbmdcIl0pO1xuXHQgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKTtcblx0ICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucmVuZGVyUm93U2VsZWN0aW9uKCk7XG5cdCAgICAgICAgdmFyIGV4cGFuZEljb25Bc0NlbGwgPSB0aGlzLnByb3BzLmV4cGFuZGVkUm93UmVuZGVyICYmIHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAhPT0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0aGlzLnByb3BzLnNpemUsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWJvcmRlcmVkJywgdGhpcy5wcm9wcy5ib3JkZXJlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZW1wdHknLCAhZGF0YS5sZW5ndGgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtY29sdW1uLWhlYWRlcicsICFzaG93SGVhZGVyKSwgX2NsYXNzTmFtZXMpKTtcblx0ICAgICAgICBjb2x1bW5zID0gdGhpcy5yZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucyk7XG5cdCAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgdmFyIG5ld0NvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBjb2x1bW4pO1xuXHQgICAgICAgICAgICBuZXdDb2x1bW4ua2V5ID0gX3RoaXMxMS5nZXRDb2x1bW5LZXkobmV3Q29sdW1uLCBpKTtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ld0NvbHVtbjtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nID8gMSA6IDA7XG5cdCAgICAgICAgaWYgKCdleHBhbmRJY29uQ29sdW1uSW5kZXgnIGluIHJlc3RQcm9wcykge1xuXHQgICAgICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXggPSByZXN0UHJvcHMuZXhwYW5kSWNvbkNvbHVtbkluZGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1RhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3RhYmxlJyB9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGRhdGE6IGRhdGEsIGNvbHVtbnM6IGNvbHVtbnMsIHNob3dIZWFkZXI6IHNob3dIZWFkZXIsIGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LCBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLCBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGUuZW1wdHlUZXh0O1xuXHQgICAgICAgICAgICB9IH0pKTtcblx0ICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBwYWdpbmF0aW9uIG9yIG5vIGRhdGEsXG5cdCAgICAgICAgLy8gdGhlIGhlaWdodCBvZiBzcGluIHNob3VsZCBkZWNyZWFzZSBieSBoYWxmIG9mIHBhZ2luYXRpb25cblx0ICAgICAgICB2YXIgcGFnaW5hdGlvblBhdGNoQ2xhc3MgPSB0aGlzLmhhc1BhZ2luYXRpb24oKSAmJiBkYXRhICYmIGRhdGEubGVuZ3RoICE9PSAwID8gcHJlZml4Q2xzICsgJy13aXRoLXBhZ2luYXRpb24nIDogcHJlZml4Q2xzICsgJy13aXRob3V0LXBhZ2luYXRpb24nO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9zcGluMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IHNwaW5uaW5nOiBsb2FkaW5nLCBjbGFzc05hbWU6IGxvYWRpbmcgPyBwYWdpbmF0aW9uUGF0Y2hDbGFzcyArICcgJyArIHByZWZpeENscyArICctc3Bpbi1ob2xkZXInIDogJycgfSxcblx0ICAgICAgICAgICAgICAgIHRhYmxlLFxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdpbmF0aW9uKClcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBUYWJsZTtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblx0XG5cdFRhYmxlLkNvbHVtbiA9IF9Db2x1bW4yW1wiZGVmYXVsdFwiXTtcblx0VGFibGUuQ29sdW1uR3JvdXAgPSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0VGFibGUucHJvcFR5cGVzID0ge1xuXHQgICAgZGF0YVNvdXJjZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgY29sdW1uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdXNlRml4ZWRIZWFkZXI6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgcm93U2VsZWN0aW9uOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc2l6ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxvYWRpbmc6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgYm9yZGVyZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZHJvcGRvd25QcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0VGFibGUuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGF0YVNvdXJjZTogW10sXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtdGFibGUnLFxuXHQgICAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuXHQgICAgcm93U2VsZWN0aW9uOiBudWxsLFxuXHQgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgIHNpemU6ICdsYXJnZScsXG5cdCAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgIGJvcmRlcmVkOiBmYWxzZSxcblx0ICAgIGluZGVudFNpemU6IDIwLFxuXHQgICAgbG9jYWxlOiB7fSxcblx0ICAgIHJvd0tleTogJ2tleScsXG5cdCAgICBzaG93SGVhZGVyOiB0cnVlXG5cdH07XG5cdFRhYmxlLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuXHQgICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXHQgICAgZnVuY3Rpb24gc2V0U3RhdGUocGFydGlhbCkge1xuXHQgICAgICAgIHN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0YXRlLCBwYXJ0aWFsKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcblx0ICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcblx0ICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHNldFN0YXRlOiBzZXRTdGF0ZSxcblx0ICAgICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG5cdCAgICAgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcblx0ICAgIH07XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblx0XG5cdHZhciBfZG9tQ2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0XG5cdHZhciBfZG9tQ2xvc2VzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21DbG9zZXN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9jaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdHZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuXHRcblx0dmFyIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRmlsdGVyTWVudSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKEZpbHRlck1lbnUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZpbHRlck1lbnUocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIEZpbHRlck1lbnUpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnNldFNlbGVjdGVkS2V5cyA9IGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSBfcmVmLnNlbGVjdGVkS2V5cztcblx0XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVDbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogW11cblx0ICAgICAgICAgICAgfSwgX3RoaXMuaGFuZGxlQ29uZmlybSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcblx0ICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZSh2aXNpYmxlKTtcblx0ICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZU1lbnVJdGVtQ2xpY2sgPSBmdW5jdGlvbiAoaW5mbykge1xuXHQgICAgICAgICAgICBpZiAoaW5mby5rZXlQYXRoLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzLnN0YXRlLmtleVBhdGhPZlNlbGVjdGVkSXRlbTtcblx0ICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGluZm8ua2V5KSA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBkZXNlbGVjdCBTdWJNZW51IGNoaWxkXG5cdCAgICAgICAgICAgICAgICBkZWxldGUga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2luZm8ua2V5XTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBTdWJNZW51IGNoaWxkXG5cdCAgICAgICAgICAgICAgICBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldID0gaW5mby5rZXlQYXRoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsga2V5UGF0aE9mU2VsZWN0ZWRJdGVtOiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgdmlzaWJsZSA9ICdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIHByb3BzLmNvbHVtbiA/IHByb3BzLmNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGUgOiBmYWxzZTtcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBwcm9wcy5zZWxlY3RlZEtleXMsXG5cdCAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbToge30sXG5cdCAgICAgICAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICAgICAgdmFyIGZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSA9ICEhKDAsIF9kb21DbG9zZXN0MltcImRlZmF1bHRcIl0pKHJvb3ROb2RlLCAnLmFudC10YWJsZS1zY3JvbGwnKTtcblx0ICAgICAgICBpZiAoZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5ICYmIGNvbHVtbi5maXhlZCkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIGZpeGVkIGNvbHVtbiBoYXZlIGZpbHRlcnMsIHRoZXJlIHdpbGwgYmUgdHdvIGRyb3Bkb3duIG1lbnVzXG5cdCAgICAgICAgICAgIC8vIEZpbHRlciBkcm9wZG93biBtZW51IGluc2lkZSBzY3JvbGwgYm9keSBzaG91bGQgbmV2ZXIgYmUgc2hvd25cblx0ICAgICAgICAgICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzUwMTBcblx0ICAgICAgICAgICAgdGhpcy5uZXZlclNob3duID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSBuZXh0UHJvcHMuY29sdW1uO1xuXHRcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblx0ICAgICAgICBpZiAoJ3NlbGVjdGVkS2V5cycgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkS2V5cyA9IG5leHRQcm9wcy5zZWxlY3RlZEtleXM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pIHtcblx0ICAgICAgICAgICAgbmV3U3RhdGUudmlzaWJsZSA9IGNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZSkubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcblx0ICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cdFxuXHQgICAgICAgIGlmICghKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IHZpc2libGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29uZmlybUZpbHRlciA9IGZ1bmN0aW9uIGNvbmZpcm1GaWx0ZXIoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cykge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmNvbmZpcm1GaWx0ZXIodGhpcy5wcm9wcy5jb2x1bW4sIHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVJdGVtID0gZnVuY3Rpb24gcmVuZGVyTWVudUl0ZW0oaXRlbSkge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuXHQgICAgICAgIHZhciBpbnB1dCA9IG11bHRpcGxlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgPj0gMCB9KSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcblx0ICAgICAgICAgICAgeyBrZXk6IGl0ZW0udmFsdWUgfSxcblx0ICAgICAgICAgICAgaW5wdXQsXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgaXRlbS50ZXh0XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5oYXNTdWJNZW51ID0gZnVuY3Rpb24gaGFzU3ViTWVudSgpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID0gdGhpcy5wcm9wcy5jb2x1bW4uZmlsdGVycyxcblx0ICAgICAgICAgICAgZmlsdGVycyA9IF9wcm9wcyRjb2x1bW4kZmlsdGVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkY29sdW1uJGZpbHRlcnM7XG5cdFxuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyTWVudXMgPSBmdW5jdGlvbiByZW5kZXJNZW51cyhpdGVtcykge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzMi5zdGF0ZS5rZXlQYXRoT2ZTZWxlY3RlZEl0ZW07XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5TZWxlY3RlZCA9IE9iamVjdC5rZXlzKGtleVBhdGhPZlNlbGVjdGVkSXRlbSkuc29tZShmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtrZXldLmluZGV4T2YoaXRlbS52YWx1ZSkgPj0gMDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnVDbHMgPSBjb250YWluU2VsZWN0ZWQgPyBfdGhpczIucHJvcHMuZHJvcGRvd25QcmVmaXhDbHMgKyAnLXN1Ym1lbnUtY29udGFpbi1zZWxlY3RlZCcgOiAnJztcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIF9yY01lbnUuU3ViTWVudSxcblx0ICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiBpdGVtLnRleHQsIGNsYXNzTmFtZTogc3ViTWVudUNscywga2V5OiBpdGVtLnZhbHVlLnRvU3RyaW5nKCkgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVuZGVyTWVudXMoaXRlbS5jaGlsZHJlbilcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5yZW5kZXJNZW51SXRlbShpdGVtKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjb2x1bW4gPSBfcHJvcHMuY29sdW1uLFxuXHQgICAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wcy5kcm9wZG93blByZWZpeENscztcblx0ICAgICAgICAvLyBkZWZhdWx0IG11bHRpcGxlIHNlbGVjdGlvbiBpbiBmaWx0ZXIgZHJvcGRvd25cblx0XG5cdCAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuXHQgICAgICAgIHZhciBkcm9wZG93bk1lbnVDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBkcm9wZG93blByZWZpeENscyArICctbWVudS13aXRob3V0LXN1Ym1lbnUnLCAhdGhpcy5oYXNTdWJNZW51KCkpKTtcblx0ICAgICAgICB2YXIgbWVudXMgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICBjb2x1bW4uZmlsdGVyRHJvcGRvd25cblx0ICAgICAgICApIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24nIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IG11bHRpcGxlOiBtdWx0aXBsZSwgb25DbGljazogdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrLCBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51JywgY2xhc3NOYW1lOiBkcm9wZG93bk1lbnVDbGFzcywgb25TZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBvbkRlc2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgc2VsZWN0ZWRLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyB9LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJNZW51cyhjb2x1bW4uZmlsdGVycylcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tYnRucycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY29uZmlybScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29uZmlybSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJDb25maXJtXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjbGVhcicsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmZpbHRlclJlc2V0XG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgICAgIHZhciBkcm9wZG93blNlbGVjdGVkQ2xhc3MgPSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cy5sZW5ndGggPiAwID8gcHJlZml4Q2xzICsgJy1zZWxlY3RlZCcgOiAnJztcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsgdHJpZ2dlcjogWydjbGljayddLCBvdmVybGF5OiBtZW51cywgdmlzaWJsZTogdGhpcy5uZXZlclNob3duID8gZmFsc2UgOiB0aGlzLnN0YXRlLnZpc2libGUsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHRpdGxlOiBsb2NhbGUuZmlsdGVyVGl0bGUsIHR5cGU6ICdmaWx0ZXInLCBjbGFzc05hbWU6IGRyb3Bkb3duU2VsZWN0ZWRDbGFzcyB9KVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBGaWx0ZXJNZW51O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZpbHRlck1lbnU7XG5cdFxuXHRGaWx0ZXJNZW51LmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGhhbmRsZUZpbHRlcjogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKCkge30sXG5cdFxuXHQgICAgY29sdW1uOiB7fVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTAyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5mbGF0QXJyYXkgPSBmbGF0QXJyYXk7XG5cdGV4cG9ydHMudHJlZU1hcCA9IHRyZWVNYXA7XG5cdGV4cG9ydHMubm9ybWFsaXplQ29sdW1ucyA9IG5vcm1hbGl6ZUNvbHVtbnM7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uR3JvdXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBmbGF0QXJyYXkoKSB7XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cdCAgICB2YXIgY2hpbGRyZW5OYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY2hpbGRyZW4nO1xuXHRcblx0ICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgIHZhciBsb29wID0gZnVuY3Rpb24gbG9vcChhcnJheSkge1xuXHQgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgaXRlbSk7XG5cdCAgICAgICAgICAgIGRlbGV0ZSBuZXdJdGVtW2NoaWxkcmVuTmFtZV07XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuXHQgICAgICAgICAgICBpZiAoaXRlbVtjaGlsZHJlbk5hbWVdICYmIGl0ZW1bY2hpbGRyZW5OYW1lXS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBsb29wKGl0ZW1bY2hpbGRyZW5OYW1lXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBsb29wKGRhdGEpO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRmdW5jdGlvbiB0cmVlTWFwKHRyZWUsIG1hcHBlcikge1xuXHQgICAgdmFyIGNoaWxkcmVuTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NoaWxkcmVuJztcblx0XG5cdCAgICByZXR1cm4gdHJlZS5tYXAoZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIGV4dHJhID0ge307XG5cdCAgICAgICAgaWYgKG5vZGVbY2hpbGRyZW5OYW1lXSkge1xuXHQgICAgICAgICAgICBleHRyYVtjaGlsZHJlbk5hbWVdID0gdHJlZU1hcChub2RlW2NoaWxkcmVuTmFtZV0sIG1hcHBlciwgY2hpbGRyZW5OYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBtYXBwZXIobm9kZSwgaW5kZXgpLCBleHRyYSk7XG5cdCAgICB9KTtcblx0fVxuXHRmdW5jdGlvbiBub3JtYWxpemVDb2x1bW5zKGVsZW1lbnRzKSB7XG5cdCAgICB2YXIgY29sdW1ucyA9IFtdO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0ICAgICAgICBpZiAoIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBlbGVtZW50LnByb3BzKTtcblx0ICAgICAgICBpZiAoZWxlbWVudC5rZXkpIHtcblx0ICAgICAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBub3JtYWxpemVDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gY29sdW1ucztcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxMDU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogTW9kdWxlIGRlcGVuZGVuY2llc1xuXHQgKi9cblx0XG5cdHZhciBtYXRjaGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0LyoqXG5cdCAqIEBwYXJhbSBlbGVtZW50IHtFbGVtZW50fVxuXHQgKiBAcGFyYW0gc2VsZWN0b3Ige1N0cmluZ31cblx0ICogQHBhcmFtIGNvbnRleHQge0VsZW1lbnR9XG5cdCAqIEByZXR1cm4ge0VsZW1lbnR9XG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY29udGV4dCkge1xuXHQgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXHQgIC8vIGd1YXJkIGFnYWluc3Qgb3JwaGFuc1xuXHQgIGVsZW1lbnQgPSB7IHBhcmVudE5vZGU6IGVsZW1lbnQgfTtcblx0XG5cdCAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBjb250ZXh0KSB7XG5cdCAgICBpZiAobWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcikpIHtcblx0ICAgICAgcmV0dXJuIGVsZW1lbnQ7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDEwNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSBET00gZWxlbWVudCBtYXRjaGVzIGEgQ1NTIHNlbGVjdG9yXG5cdCAqXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3Jcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBtYXRjaGVzKGVsZW0sIHNlbGVjdG9yKSB7XG5cdCAgLy8gVmVuZG9yLXNwZWNpZmljIGltcGxlbWVudGF0aW9ucyBvZiBgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcygpYC5cblx0ICB2YXIgcHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG5cdCAgdmFyIG5hdGl2ZU1hdGNoZXMgPSBwcm90by5tYXRjaGVzIHx8XG5cdCAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHQgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuXHQgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdCAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcblx0XG5cdCAgaWYgKCFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgIT09IDEpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIHZhciBwYXJlbnRFbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcblx0ICAvLyB1c2UgbmF0aXZlICdtYXRjaGVzJ1xuXHQgIGlmIChuYXRpdmVNYXRjaGVzKSB7XG5cdCAgICByZXR1cm4gbmF0aXZlTWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcblx0ICB9XG5cdFxuXHQgIC8vIG5hdGl2ZSBzdXBwb3J0IGZvciBgbWF0Y2hlc2AgaXMgbWlzc2luZyBhbmQgYSBmYWxsYmFjayBpcyByZXF1aXJlZFxuXHQgIHZhciBub2RlcyA9IHBhcmVudEVsZW0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgdmFyIGxlbiA9IG5vZGVzLmxlbmd0aDtcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgaWYgKG5vZGVzW2ldID09PSBlbGVtKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRXhwb3NlIGBtYXRjaGVzYFxuXHQgKi9cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxMDc6XG4xMCxcblxuLyoqKi8gMTA4OlxuMTAsXG5cbi8qKiovIDExMDpcbjEwLFxuXG4vKioqLyAxMTE6XG4xMCxcblxuLyoqKi8gMTEyOlxuMTAsXG5cbi8qKiovIDExMzpcbjEwLFxuXG4vKioqLyAxMTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS43LjFcblx0KGZ1bmN0aW9uKCkge1xuXHQgIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZTtcblx0XG5cdCAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuXHQgICAgfTtcblx0ICB9IGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzICE9PSBudWxsKSAmJiBwcm9jZXNzLmhydGltZSkge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbG9hZFRpbWUpIC8gMWU2O1xuXHQgICAgfTtcblx0ICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuXHQgICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGhyO1xuXHQgICAgICBociA9IGhydGltZSgpO1xuXHQgICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcblx0ICAgIH07XG5cdCAgICBsb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG5cdCAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcblx0ICAgIH07XG5cdCAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxvYWRUaW1lO1xuXHQgICAgfTtcblx0ICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgfVxuXHRcblx0fSkuY2FsbCh0aGlzKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyAxMTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENoZWNrYm94KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hlY2tib3gpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KTtcblx0ICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pO1xuXHQgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoISgnY2hlY2tlZCcgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcblx0ICAgICAgICB0YXJnZXQ6IF9leHRlbmRzKHt9LCBfdGhpcy5wcm9wcywge1xuXHQgICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuXHQgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBwcm9wcykge1xuXHQgICAgICBjaGVja2VkID0gcHJvcHMuY2hlY2tlZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNoZWNrZWQgPSBwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgIH1cblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjaGVja2VkOiBjaGVja2VkLFxuXHQgICAgICBmb2N1czogZmFsc2Vcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoJ2NoZWNrZWQnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjaGVja2VkOiBuZXh0UHJvcHMuY2hlY2tlZFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9O1xuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9jbGFzc05hbWVzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIC8vIFJlbW92ZSBSZWFjdCB3YXJuaW5nLlxuXHQgICAgLy8gV2FybmluZzogSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWRcblx0ICAgIC8vIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLlxuXHQgICAgZGVsZXRlIHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXHRcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGNoZWNrZWQgPSBzdGF0ZS5jaGVja2VkO1xuXHQgICAgaWYgKHR5cGVvZiBjaGVja2VkID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgY2hlY2tlZCA9IGNoZWNrZWQgPyAxIDogMDtcblx0ICAgIH1cblx0ICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCAxKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQtJyArIGNoZWNrZWQsICEhY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1mb2N1c2VkJywgc3RhdGUuZm9jdXMpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBwcm9wcy5kaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3NwYW4nLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG5cdCAgICAgIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG5cdCAgICAgICAgdHlwZTogcHJvcHMudHlwZSxcblx0ICAgICAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHksXG5cdCAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnLFxuXHQgICAgICAgIGNoZWNrZWQ6ICEhY2hlY2tlZCxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLm9uQ2xpY2ssXG5cdCAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1cyxcblx0ICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcblx0ICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2Vcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIENoZWNrYm94O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRDaGVja2JveC5wcm9wVHlwZXMgPSB7XG5cdCAgbmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgc3R5bGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgdHlwZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBjbGFzc05hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZGVmYXVsdENoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG5cdCAgZGlzYWJsZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgIGNoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG5cdCAgb25Gb2N1czogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25CbHVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25DbGljazogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0Q2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuXHQgIHByZWZpeENsczogJ3JjLWNoZWNrYm94Jyxcblx0ICBzdHlsZToge30sXG5cdCAgdHlwZTogJ2NoZWNrYm94Jyxcblx0ICBjbGFzc05hbWU6ICcnLFxuXHQgIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcblx0ICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge30sXG5cdCAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7fSxcblx0ICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblx0XG5cdHZhciBfcGxhY2VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblx0XG5cdHZhciBfcGxhY2VtZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGFjZW1lbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXHRcblx0Lypcblx0IHZhciBNZW51SXRlbSA9IE1lbnUuSXRlbTtcblx0XG5cdCB2YXIgbWVudSA9IDxNZW51PjxNZW51SXRlbT4xPC9NZW51SXRlbT48L01lbnU+O1xuXHRcblx0IDxEcm9wRG93biB0cmlnZ2VyPVwiY2xpY2tcIiBhbmltYXRpb25OYW1lPVwiXCIgb3ZlcmxheT17PD59IG9uU2VsZWN0PXt9PlxuXHQgPGJ1dHRvbj5vcGVuPC9idXR0b24+XG5cdCA8L0Ryb3BEb3duPlxuXHQqL1xuXHRcblx0dmFyIERyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnRHJvcGRvd24nLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25WaXNpYmxlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3ZlcmxheUNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb3ZlcmxheVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHBsYWNlbWVudDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0cmlnZ2VyOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgc2hvd0FjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGhpZGVBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBnZXRQb3B1cENvbnRhaW5lcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IHRydWUsXG5cdCAgICAgIHByZWZpeENsczogJ3JjLWRyb3Bkb3duJyxcblx0ICAgICAgdHJpZ2dlcjogWydob3ZlciddLFxuXHQgICAgICBzaG93QWN0aW9uOiBbXSxcblx0ICAgICAgaGlkZUFjdGlvbjogW10sXG5cdCAgICAgIG92ZXJsYXlDbGFzc05hbWU6ICcnLFxuXHQgICAgICBvdmVybGF5U3R5bGU6IHt9LFxuXHQgICAgICBkZWZhdWx0VmlzaWJsZTogZmFsc2UsXG5cdCAgICAgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKCkge30sXG5cdFxuXHQgICAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICgndmlzaWJsZScgaW4gcHJvcHMpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB2aXNpYmxlOiBwcm9wcy5kZWZhdWx0VmlzaWJsZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX3JlZikge1xuXHQgICAgdmFyIHZpc2libGUgPSBfcmVmLnZpc2libGU7XG5cdFxuXHQgICAgaWYgKHZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIG92ZXJsYXlQcm9wcyA9IHByb3BzLm92ZXJsYXkucHJvcHM7XG5cdCAgICAvLyBkbyBubyBjYWxsIG9uVmlzaWJsZUNoYW5nZSwgaWYgeW91IG5lZWQgY2xpY2sgdG8gaGlkZSwgdXNlIG9uQ2xpY2sgYW5kIGNvbnRyb2wgdmlzaWJsZVxuXHQgICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGlmIChvdmVybGF5UHJvcHMub25DbGljaykge1xuXHQgICAgICBvdmVybGF5UHJvcHMub25DbGljayhlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBwcm9wcy5vblZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG5cdCAgfSxcblx0ICBnZXRNZW51RWxlbWVudDogZnVuY3Rpb24gZ2V0TWVudUVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChwcm9wcy5vdmVybGF5LCB7XG5cdCAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1tZW51Jyxcblx0ICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFBvcHVwRG9tTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBEb21Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuXHQgIH0sXG5cdCAgYWZ0ZXJWaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBhZnRlclZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuXHQgICAgaWYgKHZpc2libGUgJiYgdGhpcy5wcm9wcy5taW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIpIHtcblx0ICAgICAgdmFyIG92ZXJsYXlOb2RlID0gdGhpcy5nZXRQb3B1cERvbU5vZGUoKTtcblx0ICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICAgIGlmIChyb290Tm9kZS5vZmZzZXRXaWR0aCA+IG92ZXJsYXlOb2RlLm9mZnNldFdpZHRoKSB7XG5cdCAgICAgICAgb3ZlcmxheU5vZGUuc3R5bGUud2lkdGggPSByb290Tm9kZS5vZmZzZXRXaWR0aCArICdweCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0ICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblx0ICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IF9wcm9wcy50cmFuc2l0aW9uTmFtZTtcblx0ICAgIHZhciBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgdmFyIGFsaWduID0gX3Byb3BzLmFsaWduO1xuXHQgICAgdmFyIHBsYWNlbWVudCA9IF9wcm9wcy5wbGFjZW1lbnQ7XG5cdCAgICB2YXIgZ2V0UG9wdXBDb250YWluZXIgPSBfcHJvcHMuZ2V0UG9wdXBDb250YWluZXI7XG5cdCAgICB2YXIgc2hvd0FjdGlvbiA9IF9wcm9wcy5zaG93QWN0aW9uO1xuXHQgICAgdmFyIGhpZGVBY3Rpb24gPSBfcHJvcHMuaGlkZUFjdGlvbjtcblx0ICAgIHZhciBvdmVybGF5Q2xhc3NOYW1lID0gX3Byb3BzLm92ZXJsYXlDbGFzc05hbWU7XG5cdCAgICB2YXIgb3ZlcmxheVN0eWxlID0gX3Byb3BzLm92ZXJsYXlTdHlsZTtcblx0ICAgIHZhciB0cmlnZ2VyID0gX3Byb3BzLnRyaWdnZXI7XG5cdFxuXHQgICAgdmFyIG90aGVyUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3ByZWZpeENscycsICdjaGlsZHJlbicsICd0cmFuc2l0aW9uTmFtZScsICdhbmltYXRpb24nLCAnYWxpZ24nLCAncGxhY2VtZW50JywgJ2dldFBvcHVwQ29udGFpbmVyJywgJ3Nob3dBY3Rpb24nLCAnaGlkZUFjdGlvbicsICdvdmVybGF5Q2xhc3NOYW1lJywgJ292ZXJsYXlTdHlsZScsICd0cmlnZ2VyJ10pO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgcmVmOiAndHJpZ2dlcicsXG5cdCAgICAgICAgcG9wdXBDbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG5cdCAgICAgICAgcG9wdXBTdHlsZTogb3ZlcmxheVN0eWxlLFxuXHQgICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBfcGxhY2VtZW50czJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgIGFjdGlvbjogdHJpZ2dlcixcblx0ICAgICAgICBzaG93QWN0aW9uOiBzaG93QWN0aW9uLFxuXHQgICAgICAgIGhpZGVBY3Rpb246IGhpZGVBY3Rpb24sXG5cdCAgICAgICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcblx0ICAgICAgICBwb3B1cEFsaWduOiBhbGlnbixcblx0ICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuXHQgICAgICAgIHBvcHVwVmlzaWJsZTogdGhpcy5zdGF0ZS52aXNpYmxlLFxuXHQgICAgICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLmFmdGVyVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBwb3B1cDogdGhpcy5nZXRNZW51RWxlbWVudCgpLFxuXHQgICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0UG9wdXBDb250YWluZXJcblx0ICAgICAgfSksXG5cdCAgICAgIGNoaWxkcmVuXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9Ecm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wZG93bik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHtcblx0ICBhZGp1c3RYOiAxLFxuXHQgIGFkanVzdFk6IDFcblx0fTtcblx0XG5cdHZhciB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG5cdFxuXHR2YXIgcGxhY2VtZW50cyA9IGV4cG9ydHMucGxhY2VtZW50cyA9IHtcblx0ICB0b3BMZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgdG9wQ2VudGVyOiB7XG5cdCAgICBwb2ludHM6IFsnYmMnLCAndGMnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgdG9wUmlnaHQ6IHtcblx0ICAgIHBvaW50czogWydicicsICd0ciddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21MZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21DZW50ZXI6IHtcblx0ICAgIHBvaW50czogWyd0YycsICdiYyddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIGJvdHRvbVJpZ2h0OiB7XG5cdCAgICBwb2ludHM6IFsndHInLCAnYnInXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwbGFjZW1lbnRzO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBLRVlDT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgT3B0aW9ucyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKE9wdGlvbnMsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRpb25zKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9ucyk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1cnJlbnQ6IHByb3BzLmN1cnJlbnQsXG5cdCAgICAgIF9jdXJyZW50OiBwcm9wcy5jdXJyZW50XG5cdCAgICB9O1xuXHRcblx0ICAgIFsnX2hhbmRsZUNoYW5nZScsICdfY2hhbmdlU2l6ZScsICdfZ28nLCAnX2J1aWxkT3B0aW9uVGV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLl9idWlsZE9wdGlvblRleHQgPSBmdW5jdGlvbiBfYnVpbGRPcHRpb25UZXh0KHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdmFsdWUgKyAnICcgKyB0aGlzLnByb3BzLmxvY2FsZS5pdGVtc19wZXJfcGFnZTtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5fY2hhbmdlU2l6ZSA9IGZ1bmN0aW9uIF9jaGFuZ2VTaXplKHZhbHVlKSB7XG5cdCAgICB0aGlzLnByb3BzLmNoYW5nZVNpemUoTnVtYmVyKHZhbHVlKSk7XG5cdCAgfTtcblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUuX2hhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UoZXZ0KSB7XG5cdCAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIF9jdXJyZW50OiBfdmFsXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5fZ28gPSBmdW5jdGlvbiBfZ28oZSkge1xuXHQgICAgdmFyIF92YWwgPSBlLnRhcmdldC52YWx1ZTtcblx0ICAgIGlmIChfdmFsID09PSAnJykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdmFsID0gTnVtYmVyKHRoaXMuc3RhdGUuX2N1cnJlbnQpO1xuXHQgICAgaWYgKGlzTmFOKHZhbCkpIHtcblx0ICAgICAgdmFsID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgICAgfVxuXHQgICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUikge1xuXHQgICAgICB2YXIgYyA9IHRoaXMucHJvcHMucXVpY2tHbyh2YWwpO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBfY3VycmVudDogYyxcblx0ICAgICAgICBjdXJyZW50OiBjXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1vcHRpb25zJztcblx0ICAgIHZhciBjaGFuZ2VTaXplID0gcHJvcHMuY2hhbmdlU2l6ZTtcblx0ICAgIHZhciBxdWlja0dvID0gcHJvcHMucXVpY2tHbztcblx0ICAgIHZhciBidWlsZE9wdGlvblRleHQgPSBwcm9wcy5idWlsZE9wdGlvblRleHQgfHwgdGhpcy5fYnVpbGRPcHRpb25UZXh0O1xuXHQgICAgdmFyIFNlbGVjdCA9IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzO1xuXHQgICAgdmFyIGNoYW5nZVNlbGVjdCA9IG51bGw7XG5cdCAgICB2YXIgZ29JbnB1dCA9IG51bGw7XG5cdFxuXHQgICAgaWYgKCEoY2hhbmdlU2l6ZSB8fCBxdWlja0dvKSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2hhbmdlU2l6ZSAmJiBTZWxlY3QpIHtcblx0ICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgT3B0aW9uID0gU2VsZWN0Lk9wdGlvbjtcblx0ICAgICAgICB2YXIgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZSB8fCBwcm9wcy5wYWdlU2l6ZU9wdGlvbnNbMF07XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSBwcm9wcy5wYWdlU2l6ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHQsIGkpIHtcblx0ICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsga2V5OiBpLCB2YWx1ZTogb3B0IH0sXG5cdCAgICAgICAgICAgIGJ1aWxkT3B0aW9uVGV4dChvcHQpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBjaGFuZ2VTZWxlY3QgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgU2VsZWN0LFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnNlbGVjdFByZWZpeENscyxcblx0ICAgICAgICAgICAgc2hvd1NlYXJjaDogZmFsc2UsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaXplLWNoYW5nZXInLFxuXHQgICAgICAgICAgICBvcHRpb25MYWJlbFByb3A6ICdjaGlsZHJlbicsXG5cdCAgICAgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogZmFsc2UsXG5cdCAgICAgICAgICAgIHZhbHVlOiBwYWdlU2l6ZS50b1N0cmluZygpLFxuXHQgICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLl9jaGFuZ2VTaXplXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgb3B0aW9uc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0pKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHF1aWNrR28pIHtcblx0ICAgICAgZ29JbnB1dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcXVpY2stanVtcGVyJyB9LFxuXHQgICAgICAgIGxvY2FsZS5qdW1wX3RvLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgdmFsdWU6IHN0YXRlLl9jdXJyZW50LFxuXHQgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUNoYW5nZSxcblx0ICAgICAgICAgIG9uS2V5VXA6IHRoaXMuX2dvXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgbG9jYWxlLnBhZ2Vcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiAnJyArIHByZWZpeENscyB9LFxuXHQgICAgICBjaGFuZ2VTZWxlY3QsXG5cdCAgICAgIGdvSW5wdXRcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIE9wdGlvbnM7XG5cdH0oUmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdE9wdGlvbnMucHJvcFR5cGVzID0ge1xuXHQgIGNoYW5nZVNpemU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHF1aWNrR286IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG5cdCAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgYnVpbGRPcHRpb25UZXh0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0XG5cdE9wdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuXHQgIHBhZ2VTaXplT3B0aW9uczogWycxMCcsICcyMCcsICczMCcsICc0MCddXG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9wdGlvbnM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBQYWdlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnZXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgUGFnZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctaXRlbSc7XG5cdCAgICB2YXIgY2xzID0gcHJlZml4Q2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMucGFnZTtcblx0XG5cdCAgICBpZiAocHJvcHMuYWN0aXZlKSB7XG5cdCAgICAgIGNscyA9IGNscyArICcgJyArIHByZWZpeENscyArICctYWN0aXZlJztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG5cdCAgICAgIGNscyA9IGNscyArICcgJyArIHByb3BzLmNsYXNzTmFtZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2xpJyxcblx0ICAgICAgeyB0aXRsZTogcHJvcHMucGFnZSwgY2xhc3NOYW1lOiBjbHMsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnYScsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICBwcm9wcy5wYWdlXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFBhZ2VyO1xuXHR9KFJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRQYWdlci5wcm9wVHlwZXMgPSB7XG5cdCAgcGFnZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGxhc3Q6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGFnZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFBhZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHR2YXIgT3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblx0dmFyIEtFWUNPREUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIExPQ0FMRSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQYWdpbmF0aW9uKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbik7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgdmFyIGhhc09uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UgIT09IG5vb3A7XG5cdCAgICB2YXIgaGFzQ3VycmVudCA9ICdjdXJyZW50JyBpbiBwcm9wcztcblx0ICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuXHQgICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IFlvdSBwcm92aWRlZCBhIGBjdXJyZW50YCBwcm9wIHRvIGEgUGFnaW5hdGlvbiBjb21wb25lbnQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgY29tcG9uZW50LicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGN1cnJlbnQgPSBwcm9wcy5kZWZhdWx0Q3VycmVudDtcblx0ICAgIGlmICgnY3VycmVudCcgaW4gcHJvcHMpIHtcblx0ICAgICAgY3VycmVudCA9IHByb3BzLmN1cnJlbnQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuXHQgICAgaWYgKCdwYWdlU2l6ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZTtcblx0ICAgIH1cblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY3VycmVudDogY3VycmVudCxcblx0ICAgICAgX2N1cnJlbnQ6IGN1cnJlbnQsXG5cdCAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZVxuXHQgICAgfTtcblx0XG5cdCAgICBbJ3JlbmRlcicsICdfaGFuZGxlQ2hhbmdlJywgJ19oYW5kbGVLZXlVcCcsICdfaGFuZGxlS2V5RG93bicsICdfY2hhbmdlUGFnZVNpemUnLCAnX2lzVmFsaWQnLCAnX3ByZXYnLCAnX25leHQnLCAnX2hhc1ByZXYnLCAnX2hhc05leHQnLCAnX2p1bXBQcmV2JywgJ19qdW1wTmV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY3VycmVudDogbmV4dFByb3BzLmN1cnJlbnQsXG5cdCAgICAgICAgX2N1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgncGFnZVNpemUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblx0ICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgICAgIHZhciBuZXdDdXJyZW50ID0gdGhpcy5fY2FsY1BhZ2UobmV4dFByb3BzLnBhZ2VTaXplKTtcblx0ICAgICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7XG5cdCAgICAgIGlmICghKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpKSB7XG5cdCAgICAgICAgbmV3U3RhdGUuY3VycmVudCA9IGN1cnJlbnQ7XG5cdCAgICAgICAgbmV3U3RhdGUuX2N1cnJlbnQgPSBjdXJyZW50O1xuXHQgICAgICB9XG5cdCAgICAgIG5ld1N0YXRlLnBhZ2VTaXplID0gbmV4dFByb3BzLnBhZ2VTaXplO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyBwcml2YXRlIG1ldGhvZHNcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NhbGNQYWdlID0gZnVuY3Rpb24gX2NhbGNQYWdlKHApIHtcblx0ICAgIHZhciBwYWdlU2l6ZSA9IHA7XG5cdCAgICBpZiAodHlwZW9mIHBhZ2VTaXplID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5wcm9wcy50b3RhbCAtIDEpIC8gcGFnZVNpemUpICsgMTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faXNWYWxpZCA9IGZ1bmN0aW9uIF9pc1ZhbGlkKHBhZ2UpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgcGFnZSA9PT0gJ251bWJlcicgJiYgcGFnZSA+PSAxICYmIHBhZ2UgIT09IHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIF9oYW5kbGVLZXlEb3duKGV2dCkge1xuXHQgICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQIHx8IGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcblx0ICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUtleVVwID0gZnVuY3Rpb24gX2hhbmRsZUtleVVwKGV2dCkge1xuXHQgICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgdmFyIHZhbCA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAoX3ZhbCA9PT0gJycpIHtcblx0ICAgICAgdmFsID0gX3ZhbDtcblx0ICAgIH0gZWxzZSBpZiAoaXNOYU4oTnVtYmVyKF92YWwpKSkge1xuXHQgICAgICB2YWwgPSB0aGlzLnN0YXRlLl9jdXJyZW50O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsID0gTnVtYmVyKF92YWwpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBfY3VycmVudDogdmFsXG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCk7XG5cdCAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgLSAxKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfRE9XTikge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsICsgMSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NoYW5nZVBhZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVBhZ2VTaXplKHNpemUpIHtcblx0ICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgICAgdmFyIG5ld0N1cnJlbnQgPSB0aGlzLl9jYWxjUGFnZShzaXplKTtcblx0ICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuXHQgICAgaWYgKHR5cGVvZiBzaXplID09PSAnbnVtYmVyJykge1xuXHQgICAgICBpZiAoISgncGFnZVNpemUnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBwYWdlU2l6ZTogc2l6ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgY3VycmVudDogY3VycmVudCxcblx0ICAgICAgICAgIF9jdXJyZW50OiBjdXJyZW50XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMucHJvcHMub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBzaXplKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShwKSB7XG5cdCAgICB2YXIgcGFnZSA9IHA7XG5cdCAgICBpZiAodGhpcy5faXNWYWxpZChwYWdlKSkge1xuXHQgICAgICBpZiAocGFnZSA+IHRoaXMuX2NhbGNQYWdlKCkpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy5fY2FsY1BhZ2UoKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBjdXJyZW50OiBwYWdlLFxuXHQgICAgICAgICAgX2N1cnJlbnQ6IHBhZ2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcblx0ICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShwYWdlLCBwYWdlU2l6ZSk7XG5cdFxuXHQgICAgICByZXR1cm4gcGFnZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9wcmV2ID0gZnVuY3Rpb24gX3ByZXYoKSB7XG5cdCAgICBpZiAodGhpcy5faGFzUHJldigpKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIF9uZXh0KCkge1xuXHQgICAgaWYgKHRoaXMuX2hhc05leHQoKSkge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50ICsgMSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2p1bXBQcmV2ID0gZnVuY3Rpb24gX2p1bXBQcmV2KCkge1xuXHQgICAgdGhpcy5faGFuZGxlQ2hhbmdlKE1hdGgubWF4KDEsIHRoaXMuc3RhdGUuY3VycmVudCAtICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fanVtcE5leHQgPSBmdW5jdGlvbiBfanVtcE5leHQoKSB7XG5cdCAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5taW4odGhpcy5fY2FsY1BhZ2UoKSwgdGhpcy5zdGF0ZS5jdXJyZW50ICsgKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNQcmV2ID0gZnVuY3Rpb24gX2hhc1ByZXYoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50ID4gMTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFzTmV4dCA9IGZ1bmN0aW9uIF9oYXNOZXh0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA8IHRoaXMuX2NhbGNQYWdlKCk7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdFxuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHZhciBhbGxQYWdlcyA9IHRoaXMuX2NhbGNQYWdlKCk7XG5cdCAgICB2YXIgcGFnZXJMaXN0ID0gW107XG5cdCAgICB2YXIganVtcFByZXYgPSBudWxsO1xuXHQgICAgdmFyIGp1bXBOZXh0ID0gbnVsbDtcblx0ICAgIHZhciBmaXJzdFBhZ2VyID0gbnVsbDtcblx0ICAgIHZhciBsYXN0UGFnZXIgPSBudWxsO1xuXHRcblx0ICAgIHZhciBwYWdlQnVmZmVyU2l6ZSA9IHByb3BzLnNob3dMZXNzSXRlbXMgPyAxIDogMjtcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIGN1cnJlbnQgPSBfc3RhdGUuY3VycmVudCxcblx0ICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZS5wYWdlU2l6ZTtcblx0XG5cdFxuXHQgICAgaWYgKHByb3BzLnNpbXBsZSkge1xuXHQgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndWwnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXNpbXBsZSAnICsgcHJvcHMuY2xhc3NOYW1lIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9wcmV2LFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgICApLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgeyB0aXRsZTogdGhpcy5zdGF0ZS5jdXJyZW50ICsgJy8nICsgYWxsUGFnZXMsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaW1wbGUtcGFnZXInIH0sXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5fY3VycmVudCxcblx0ICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLl9oYW5kbGVLZXlEb3duLFxuXHQgICAgICAgICAgICBvbktleVVwOiB0aGlzLl9oYW5kbGVLZXlVcCxcblx0ICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUtleVVwXG5cdCAgICAgICAgICB9KSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2xhc2gnIH0sXG5cdCAgICAgICAgICAgICdcXHVGRjBGJ1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIGFsbFBhZ2VzXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0X3BhZ2UsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc05leHQoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1uZXh0J1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYWxsUGFnZXMgPD0gNSArIHBhZ2VCdWZmZXJTaXplICogMikge1xuXHQgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBhbGxQYWdlczsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuc3RhdGUuY3VycmVudCA9PT0gaTtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG5cdCAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIGkpLFxuXHQgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgcGFnZTogaSxcblx0ICAgICAgICAgIGFjdGl2ZTogYWN0aXZlXG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBqdW1wUHJldiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81LFxuXHQgICAgICAgICAga2V5OiAncHJldicsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9qdW1wUHJldixcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLXByZXYnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgKTtcblx0ICAgICAganVtcE5leHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdGl0bGU6IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUubmV4dF8zIDogbG9jYWxlLm5leHRfNSxcblx0ICAgICAgICAgIGtleTogJ25leHQnLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5fanVtcE5leHQsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctanVtcC1uZXh0J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICk7XG5cdCAgICAgIGxhc3RQYWdlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcblx0ICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICBsYXN0OiB0cnVlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBhbGxQYWdlcyksXG5cdCAgICAgICAga2V5OiBhbGxQYWdlcyxcblx0ICAgICAgICBwYWdlOiBhbGxQYWdlcyxcblx0ICAgICAgICBhY3RpdmU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHQgICAgICBmaXJzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAxKSxcblx0ICAgICAgICBrZXk6IDEsXG5cdCAgICAgICAgcGFnZTogMSxcblx0ICAgICAgICBhY3RpdmU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgxLCBjdXJyZW50IC0gcGFnZUJ1ZmZlclNpemUpO1xuXHQgICAgICB2YXIgcmlnaHQgPSBNYXRoLm1pbihjdXJyZW50ICsgcGFnZUJ1ZmZlclNpemUsIGFsbFBhZ2VzKTtcblx0XG5cdCAgICAgIGlmIChjdXJyZW50IC0gMSA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuXHQgICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuXHQgICAgICAgIGxlZnQgPSBhbGxQYWdlcyAtIHBhZ2VCdWZmZXJTaXplICogMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZm9yICh2YXIgX2kgPSBsZWZ0OyBfaSA8PSByaWdodDsgX2krKykge1xuXHQgICAgICAgIHZhciBfYWN0aXZlID0gY3VycmVudCA9PT0gX2k7XG5cdCAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBfaSksXG5cdCAgICAgICAgICBrZXk6IF9pLFxuXHQgICAgICAgICAgcGFnZTogX2ksXG5cdCAgICAgICAgICBhY3RpdmU6IF9hY3RpdmVcblx0ICAgICAgICB9KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChjdXJyZW50IC0gMSA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gMSArIDIpIHtcblx0ICAgICAgICBwYWdlckxpc3RbMF0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0WzBdLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hZnRlci1qdW1wLXByZXYnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoanVtcFByZXYpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IGFsbFBhZ2VzIC0gMikge1xuXHQgICAgICAgIHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSwge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYmVmb3JlLWp1bXAtbmV4dCdcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChqdW1wTmV4dCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChsZWZ0ICE9PSAxKSB7XG5cdCAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHJpZ2h0ICE9PSBhbGxQYWdlcykge1xuXHQgICAgICAgIHBhZ2VyTGlzdC5wdXNoKGxhc3RQYWdlcik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdG90YWxUZXh0ID0gbnVsbDtcblx0XG5cdCAgICBpZiAocHJvcHMuc2hvd1RvdGFsKSB7XG5cdCAgICAgIHRvdGFsVGV4dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvdGFsLXRleHQnIH0sXG5cdCAgICAgICAgcHJvcHMuc2hvd1RvdGFsKHByb3BzLnRvdGFsLCBbKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICsgMSwgY3VycmVudCAqIHBhZ2VTaXplID4gcHJvcHMudG90YWwgPyBwcm9wcy50b3RhbCA6IGN1cnJlbnQgKiBwYWdlU2l6ZV0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd1bCcsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJ1xuXHQgICAgICB9LFxuXHQgICAgICB0b3RhbFRleHQsXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZfcGFnZSxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX3ByZXYsXG5cdCAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApLFxuXHQgICAgICBwYWdlckxpc3QsXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG5cdCAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApLFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE9wdGlvbnMsIHtcblx0ICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzLFxuXHQgICAgICAgIHNlbGVjdFByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuXHQgICAgICAgIGNoYW5nZVNpemU6IHRoaXMucHJvcHMuc2hvd1NpemVDaGFuZ2VyID8gdGhpcy5fY2hhbmdlUGFnZVNpemUuYmluZCh0aGlzKSA6IG51bGwsXG5cdCAgICAgICAgY3VycmVudDogdGhpcy5zdGF0ZS5jdXJyZW50LFxuXHQgICAgICAgIHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2VTaXplLFxuXHQgICAgICAgIHBhZ2VTaXplT3B0aW9uczogdGhpcy5wcm9wcy5wYWdlU2l6ZU9wdGlvbnMsXG5cdCAgICAgICAgcXVpY2tHbzogdGhpcy5wcm9wcy5zaG93UXVpY2tKdW1wZXIgPyB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSA6IG51bGxcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFBhZ2luYXRpb247XG5cdH0oUmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFBhZ2luYXRpb24ucHJvcFR5cGVzID0ge1xuXHQgIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgZGVmYXVsdEN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgdG90YWw6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgZGVmYXVsdFBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzaG93U2l6ZUNoYW5nZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHNob3dMZXNzSXRlbXM6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG9uU2hvd1NpemVDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzaG93UXVpY2tKdW1wZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG5cdCAgc2hvd1RvdGFsOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0XG5cdFBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuXHQgIGRlZmF1bHRDdXJyZW50OiAxLFxuXHQgIHRvdGFsOiAwLFxuXHQgIGRlZmF1bHRQYWdlU2l6ZTogMTAsXG5cdCAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgY2xhc3NOYW1lOiAnJyxcblx0ICBzZWxlY3RQcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuXHQgIHByZWZpeENsczogJ3JjLXBhZ2luYXRpb24nLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuXHQgIHNob3dRdWlja0p1bXBlcjogZmFsc2UsXG5cdCAgc2hvd1NpemVDaGFuZ2VyOiBmYWxzZSxcblx0ICBzaG93TGVzc0l0ZW1zOiBmYWxzZSxcblx0ICBvblNob3dTaXplQ2hhbmdlOiBub29wLFxuXHQgIGxvY2FsZTogTE9DQUxFLFxuXHQgIHN0eWxlOiB7fVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyBleHBvcnQgdGhpcyBwYWNrYWdlJ3MgYXBpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIENoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgUmFkaW8gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSYWRpbycsXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtcmFkaW8nLFxuXHQgICAgICB0eXBlOiAncmFkaW8nXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IHJlZjogJ2NoZWNrYm94JyB9KSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmFkaW87XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3RvQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7XG5cdFxuXHR2YXIgX3RvQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9BcnJheSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblx0XG5cdHZhciBfZG9tU2Nyb2xsSW50b1ZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCk7XG5cdFxuXHR2YXIgX2RvbVNjcm9sbEludG9WaWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbVNjcm9sbEludG9WaWV3KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRHJvcGRvd25NZW51ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnRHJvcGRvd25NZW51Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGRyb3Bkb3duTWVudVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uTWVudURlU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbk1lbnVTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtZW51SXRlbXM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSB0aGlzLnByb3BzLmlucHV0VmFsdWU7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKTtcblx0ICAgIHRoaXMubGFzdFZpc2libGUgPSB0aGlzLnByb3BzLnZpc2libGU7XG5cdCAgfSxcblx0ICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgIGlmICghbmV4dFByb3BzLnZpc2libGUpIHtcblx0ICAgICAgdGhpcy5sYXN0VmlzaWJsZSA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgLy8gZnJlZXplIHdoZW4gaGlkZVxuXHQgICAgcmV0dXJuIG5leHRQcm9wcy52aXNpYmxlO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCFwcmV2UHJvcHMudmlzaWJsZSAmJiBwcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5sYXN0VmlzaWJsZSA9IHByb3BzLnZpc2libGU7XG5cdCAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZTtcblx0ICB9LFxuXHQgIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXc6IGZ1bmN0aW9uIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKSB7XG5cdCAgICAvLyBzY3JvbGwgaW50byB2aWV3XG5cdCAgICB2YXIgaXRlbUNvbXBvbmVudCA9ICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMuZmlyc3RBY3RpdmVJdGVtKTtcblx0ICAgIGlmIChpdGVtQ29tcG9uZW50KSB7XG5cdCAgICAgICgwLCBfZG9tU2Nyb2xsSW50b1ZpZXcyW1wiZGVmYXVsdFwiXSkoaXRlbUNvbXBvbmVudCwgKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcy5yZWZzLm1lbnUpLCB7XG5cdCAgICAgICAgb25seVNjcm9sbElmTmVlZGVkOiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgcmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudSgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBtZW51SXRlbXMgPSBwcm9wcy5tZW51SXRlbXMsXG5cdCAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uID0gcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuXHQgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG5cdCAgICAgICAgb25NZW51U2VsZWN0ID0gcHJvcHMub25NZW51U2VsZWN0LFxuXHQgICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuXHRcblx0ICAgIGlmIChtZW51SXRlbXMgJiYgbWVudUl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbWVudVByb3BzID0ge307XG5cdCAgICAgICAgaWYgKG11bHRpcGxlKSB7XG5cdCAgICAgICAgICBtZW51UHJvcHMub25EZXNlbGVjdCA9IHByb3BzLm9uTWVudURlc2VsZWN0O1xuXHQgICAgICAgICAgbWVudVByb3BzLm9uU2VsZWN0ID0gb25NZW51U2VsZWN0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBtZW51UHJvcHMub25DbGljayA9IG9uTWVudVNlbGVjdDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSAoMCwgX3V0aWwuZ2V0U2VsZWN0S2V5cykobWVudUl0ZW1zLCB2YWx1ZSk7XG5cdCAgICAgICAgdmFyIGFjdGl2ZUtleVByb3BzID0ge307XG5cdFxuXHQgICAgICAgIHZhciBjbG9uZWRNZW51SXRlbXMgPSBtZW51SXRlbXM7XG5cdCAgICAgICAgaWYgKHNlbGVjdGVkS2V5cy5sZW5ndGgpIHtcblx0ICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9wcy52aXNpYmxlICYmICFfdGhpcy5sYXN0VmlzaWJsZSkge1xuXHQgICAgICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9IHNlbGVjdGVkS2V5c1swXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgZm91bmRGaXJzdCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAvLyBzZXQgZmlyc3RBY3RpdmVJdGVtIHZpYSBjbG9uaW5nIG1lbnVzXG5cdCAgICAgICAgICAgIC8vIGZvciBzY3JvbGwgaW50byB2aWV3XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICBpZiAoIWZvdW5kRmlyc3QgJiYgc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS5rZXkpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgZm91bmRGaXJzdCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHtcblx0ICAgICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmZpcnN0QWN0aXZlSXRlbSA9IF9yZWY7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gKDAsIF90b0FycmF5MltcImRlZmF1bHRcIl0pKGl0ZW0ucHJvcHMuY2hpbGRyZW4pLm1hcChjbG9uZSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHt9LCBjaGlsZHJlbik7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJldHVybiBjbG9uZShpdGVtKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9KSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY2xlYXIgYWN0aXZlS2V5IHdoZW4gaW5wdXRWYWx1ZSBjaGFuZ2Vcblx0ICAgICAgICBpZiAoaW5wdXRWYWx1ZSAhPT0gX3RoaXMubGFzdElucHV0VmFsdWUpIHtcblx0ICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9ICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHY6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgICByZWY6ICdtZW51Jyxcblx0ICAgICAgICAgICAgICBzdHlsZTogX3RoaXMucHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG5cdCAgICAgICAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0OiBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb25cblx0ICAgICAgICAgICAgfSwgYWN0aXZlS2V5UHJvcHMsIHtcblx0ICAgICAgICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG5cdCAgICAgICAgICAgICAgZm9jdXNhYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LCBtZW51UHJvcHMsIHtcblx0ICAgICAgICAgICAgICBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyxcblx0ICAgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctbWVudSdcblx0ICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtc1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0oKTtcblx0XG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiAoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHJlbmRlck1lbnUgPSB0aGlzLnJlbmRlck1lbnUoKTtcblx0ICAgIHJldHVybiByZW5kZXJNZW51ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICBzdHlsZTogeyBvdmVyZmxvdzogJ2F1dG8nIH0sXG5cdCAgICAgICAgb25Gb2N1czogdGhpcy5wcm9wcy5vblBvcHVwRm9jdXMsXG5cdCAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnRcblx0ICAgICAgfSxcblx0ICAgICAgcmVuZGVyTWVudVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25NZW51O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICBmaWx0ZXJPcHRpb246IGZ1bmN0aW9uIGZpbHRlck9wdGlvbihpbnB1dCwgY2hpbGQpIHtcblx0ICAgIGlmICghaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICB2YXIgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb247XG5cdCAgICBpZiAoIWZpbHRlck9wdGlvbikge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmIChjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmlsdGVyT3B0aW9uLmNhbGwodGhpcywgaW5wdXQsIGNoaWxkKTtcblx0ICB9LFxuXHQgIHJlbmRlckZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnMoaW5wdXRWYWx1ZSkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCB0cnVlLCBpbnB1dFZhbHVlKTtcblx0ICB9LFxuXHQgIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW46IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4sIHNob3dOb3RGb3VuZCwgaXYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHNlbCA9IFtdO1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBpbnB1dFZhbHVlID0gaXYgPT09IHVuZGVmaW5lZCA/IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSA6IGl2O1xuXHQgICAgdmFyIGNoaWxkcmVuS2V5cyA9IFtdO1xuXHQgICAgdmFyIHRhZ3MgPSBwcm9wcy50YWdzO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICB2YXIgaW5uZXJJdGVtcyA9IF90aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGQucHJvcHMuY2hpbGRyZW4sIGZhbHNlKTtcblx0ICAgICAgICBpZiAoaW5uZXJJdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBsYWJlbCA9IGNoaWxkLnByb3BzLmxhYmVsO1xuXHQgICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcblx0ICAgICAgICAgIGlmICgha2V5ICYmIHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAga2V5ID0gbGFiZWw7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKCFsYWJlbCAmJiBrZXkpIHtcblx0ICAgICAgICAgICAgbGFiZWwgPSBrZXk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNNZW51Lkl0ZW1Hcm91cCxcblx0ICAgICAgICAgICAgeyBrZXk6IGtleSwgdGl0bGU6IGxhYmVsIH0sXG5cdCAgICAgICAgICAgIGlubmVySXRlbXNcblx0ICAgICAgICAgICkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjaGlsZC50eXBlLmlzU2VsZWN0T3B0aW9uLCAndGhlIGNoaWxkcmVuIG9mIGBTZWxlY3RgIHNob3VsZCBiZSBgU2VsZWN0Lk9wdGlvbmAgb3IgYFNlbGVjdC5PcHRHcm91cGAsICcgKyAoJ2luc3RlYWQgb2YgYCcgKyAoY2hpbGQudHlwZS5uYW1lIHx8IGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgfHwgY2hpbGQudHlwZSkgKyAnYC4nKSk7XG5cdFxuXHQgICAgICB2YXIgY2hpbGRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICBpZiAoX3RoaXMuZmlsdGVyT3B0aW9uKGlucHV0VmFsdWUsIGNoaWxkKSkge1xuXHQgICAgICAgIHNlbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjTWVudS5JdGVtLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgIHZhbHVlOiBjaGlsZFZhbHVlLFxuXHQgICAgICAgICAga2V5OiBjaGlsZFZhbHVlXG5cdCAgICAgICAgfSwgY2hpbGQucHJvcHMpKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRhZ3MgJiYgIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgICAgY2hpbGRyZW5LZXlzLnB1c2goY2hpbGRWYWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKHRhZ3MpIHtcblx0ICAgICAgLy8gdGFncyB2YWx1ZSBtdXN0IGJlIHN0cmluZ1xuXHQgICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlIHx8IFtdO1xuXHQgICAgICB2YWx1ZSA9IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gY2hpbGRyZW5LZXlzLmluZGV4T2Yoc2luZ2xlVmFsdWUua2V5KSA9PT0gLTEgJiYgKCFpbnB1dFZhbHVlIHx8IFN0cmluZyhzaW5nbGVWYWx1ZS5rZXkpLmluZGV4T2YoU3RyaW5nKGlucHV0VmFsdWUpKSA+IC0xKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHNlbCA9IHNlbC5jb25jYXQodmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBzaW5nbGVWYWx1ZS5rZXk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgICAgdmFsdWU6IGtleSxcblx0ICAgICAgICAgICAga2V5OiBrZXlcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBrZXlcblx0ICAgICAgICApO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGlmIChpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgdmFyIG5vdEZpbmRJbnB1dEl0ZW0gPSBzZWwuZXZlcnkoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkob3B0aW9uKSAhPT0gaW5wdXRWYWx1ZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBpZiAobm90RmluZElucHV0SXRlbSkge1xuXHQgICAgICAgICAgc2VsLnVuc2hpZnQoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICAgICAgdmFsdWU6IGlucHV0VmFsdWUsXG5cdCAgICAgICAgICAgICAga2V5OiBpbnB1dFZhbHVlXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGlucHV0VmFsdWVcblx0ICAgICAgICAgICkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKCFzZWwubGVuZ3RoICYmIHNob3dOb3RGb3VuZCAmJiBwcm9wcy5ub3RGb3VuZENvbnRlbnQpIHtcblx0ICAgICAgc2VsID0gW19yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcblx0ICAgICAgICAgIHZhbHVlOiAnTk9UX0ZPVU5EJyxcblx0ICAgICAgICAgIGtleTogJ05PVF9GT1VORCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHByb3BzLm5vdEZvdW5kQ29udGVudFxuXHQgICAgICApXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzZWw7XG5cdCAgfVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgT3B0R3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoT3B0R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRHcm91cCgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0R3JvdXApO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE9wdEdyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRPcHRHcm91cC5pc1NlbGVjdE9wdEdyb3VwID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPcHRHcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIE9wdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRpb24oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE9wdGlvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gT3B0aW9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRPcHRpb24ucHJvcFR5cGVzID0ge1xuXHQgIHZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdE9wdGlvbi5pc1NlbGVjdE9wdGlvbiA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfS2V5Q29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblx0XG5cdHZhciBfcmNBbmltYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX3JjQW5pbWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0FuaW1hdGUpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdFxuXHR2YXIgX2NvbXBvbmVudENsYXNzZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50Q2xhc3Nlcyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfU2VsZWN0VHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcblx0XG5cdHZhciBfU2VsZWN0VHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RUcmlnZ2VyKTtcblx0XG5cdHZhciBfRmlsdGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHR2YXIgX0ZpbHRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXJGbihpbnB1dCwgY2hpbGQpIHtcblx0ICByZXR1cm4gU3RyaW5nKCgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGNoaWxkLCB0aGlzLnByb3BzLm9wdGlvbkZpbHRlclByb3ApKS5pbmRleE9mKGlucHV0KSA+IC0xO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlUmVmKG5hbWUsIGNvbXBvbmVudCkge1xuXHQgIHRoaXNbbmFtZV0gPSBjb21wb25lbnQ7XG5cdH1cblx0XG5cdHZhciB2YWx1ZU9iamVjdFNoYXBlID0gdm9pZCAwO1xuXHRcblx0aWYgKF9yZWFjdC5Qcm9wVHlwZXMpIHtcblx0ICB2YWx1ZU9iamVjdFNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIGtleTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBsYWJlbDogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG5cdCAgfSldKTtcblx0fVxuXHRcblx0dmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBhbGxvd0NsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93QXJyb3c6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHRhZ3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9wdGlvbkZpbHRlclByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkJsdXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25EZXNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgbGFiZWxJblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW3ZhbHVlT2JqZWN0U2hhcGUsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZih2YWx1ZU9iamVjdFNoYXBlKV0pLFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbdmFsdWVPYmplY3RTaGFwZSwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKHZhbHVlT2JqZWN0U2hhcGUpXSksXG5cdCAgICBkcm9wZG93blN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG1heFRhZ1RleHRMZW5ndGg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgdG9rZW5TZXBhcmF0b3JzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuXHQgICAgZ2V0SW5wdXRFbGVtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBtaXhpbnM6IFtfRmlsdGVyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtc2VsZWN0Jyxcblx0ICAgICAgZmlsdGVyT3B0aW9uOiBmaWx0ZXJGbixcblx0ICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuXHQgICAgICBsYWJlbEluVmFsdWU6IGZhbHNlLFxuXHQgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHRydWUsXG5cdCAgICAgIHNob3dTZWFyY2g6IHRydWUsXG5cdCAgICAgIGFsbG93Q2xlYXI6IGZhbHNlLFxuXHQgICAgICBwbGFjZWhvbGRlcjogJycsXG5cdCAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG5cdCAgICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgICBvbkZvY3VzOiBub29wLFxuXHQgICAgICBvbkJsdXI6IG5vb3AsXG5cdCAgICAgIG9uU2VsZWN0OiBub29wLFxuXHQgICAgICBvblNlYXJjaDogbm9vcCxcblx0ICAgICAgb25EZXNlbGVjdDogbm9vcCxcblx0ICAgICAgc2hvd0Fycm93OiB0cnVlLFxuXHQgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHRydWUsXG5cdCAgICAgIGRyb3Bkb3duU3R5bGU6IHt9LFxuXHQgICAgICBkcm9wZG93bk1lbnVTdHlsZToge30sXG5cdCAgICAgIG9wdGlvbkZpbHRlclByb3A6ICd2YWx1ZScsXG5cdCAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ3ZhbHVlJyxcblx0ICAgICAgbm90Rm91bmRDb250ZW50OiAnTm90IEZvdW5kJ1xuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IFtdO1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMudmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMuZGVmYXVsdFZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlKTtcblx0ICAgIHZhbHVlID0gdGhpcy5hZGRUaXRsZVRvVmFsdWUocHJvcHMsIHZhbHVlKTtcblx0ICAgIHZhciBpbnB1dFZhbHVlID0gJyc7XG5cdCAgICBpZiAocHJvcHMuY29tYm9ib3gpIHtcblx0ICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHZhbHVlWzBdLmtleSkgOiAnJztcblx0ICAgIH1cblx0ICAgIHRoaXMuc2F2ZUlucHV0UmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dEluc3RhbmNlJyk7XG5cdCAgICB0aGlzLnNhdmVJbnB1dE1pcnJvclJlZiA9IHNhdmVSZWYuYmluZCh0aGlzLCAnaW5wdXRNaXJyb3JJbnN0YW5jZScpO1xuXHQgICAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuO1xuXHQgICAgaWYgKG9wZW4gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBvcGVuID0gcHJvcHMuZGVmYXVsdE9wZW47XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG5cdCAgICAgIG9wZW46IG9wZW5cblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMuYWRqdXN0T3BlblN0YXRlKCk7XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShuZXh0UHJvcHMudmFsdWUpO1xuXHQgICAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuXHQgICAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMuY29tYm9ib3gpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGlucHV0VmFsdWU6IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMobmV4dFByb3BzLCB2YWx1ZVswXS5rZXkpIDogJydcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuXHQgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcblx0ICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG5cdCAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHZhciBpbnB1dE5vZGUgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuXHQgICAgICB2YXIgbWlycm9yTm9kZSA9IHRoaXMuZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCk7XG5cdCAgICAgIGlmIChpbnB1dE5vZGUudmFsdWUpIHtcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSBtaXJyb3JOb2RlLmNsaWVudFdpZHRoICsgJ3B4Jztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG5cdCAgICB0aGlzLmNsZWFyQWRqdXN0VGltZXIoKTtcblx0ICAgIGlmICh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG5cdCAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG5cdCAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuXHQgICAgdmFyIHRva2VuU2VwYXJhdG9ycyA9IHRoaXMucHJvcHMudG9rZW5TZXBhcmF0b3JzO1xuXHRcblx0ICAgIHZhciB2YWwgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpICYmIHRva2VuU2VwYXJhdG9ycyAmJiAoMCwgX3V0aWwuaW5jbHVkZXNTZXBhcmF0b3JzKSh2YWwsIHRva2VuU2VwYXJhdG9ycykpIHtcblx0ICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMudG9rZW5pemUodmFsKTtcblx0ICAgICAgdGhpcy5maXJlQ2hhbmdlKG5leHRWYWx1ZSk7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcblx0ICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnLCBmYWxzZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSh2YWwpO1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIG9wZW46IHRydWVcblx0ICAgIH0pO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KSh0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLmZpcmVDaGFuZ2UoW3tcblx0ICAgICAgICBrZXk6IHZhbFxuXHQgICAgICB9XSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25Ecm9wZG93blZpc2libGVDaGFuZ2Uob3Blbikge1xuXHQgICAgdGhpcy5zZXRPcGVuU3RhdGUob3Blbik7XG5cdCAgfSxcblx0XG5cdFxuXHQgIC8vIGNvbWJvYm94IGlnbm9yZVxuXHQgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcblx0ICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gJiYgIXRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcblx0ICAgICAgdGhpcy5vbklucHV0S2V5RG93bihldmVudCk7XG5cdCAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5URVIgfHwga2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKHRydWUpO1xuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25JbnB1dEtleURvd246IGZ1bmN0aW9uIG9uSW5wdXRLZXlEb3duKGV2ZW50KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiAhZXZlbnQudGFyZ2V0LnZhbHVlICYmIGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uQkFDS1NQQUNFKSB7XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXHRcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0ua2V5KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG5cdCAgICAgIGlmICghc3RhdGUub3Blbikge1xuXHQgICAgICAgIHRoaXMub3BlbklmSGFzQ2hpbGRyZW4oKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuXHQgICAgICBpZiAoc3RhdGUub3Blbikge1xuXHQgICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RhdGUub3Blbikge1xuXHQgICAgICB2YXIgbWVudSA9IHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuXHQgICAgICBpZiAobWVudSAmJiBtZW51Lm9uS2V5RG93bihldmVudCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbk1lbnVTZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudVNlbGVjdChfcmVmKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBpdGVtID0gX3JlZi5pdGVtO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGl0ZW0pO1xuXHQgICAgdmFyIHNlbGVjdGVkTGFiZWwgPSB0aGlzLmdldExhYmVsRnJvbU9wdGlvbihpdGVtKTtcblx0ICAgIHZhciBldmVudCA9IHNlbGVjdGVkVmFsdWU7XG5cdCAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgIGV2ZW50ID0ge1xuXHQgICAgICAgIGtleTogZXZlbnQsXG5cdCAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWxcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHByb3BzLm9uU2VsZWN0KGV2ZW50LCBpdGVtKTtcblx0ICAgIHZhciBzZWxlY3RlZFRpdGxlID0gaXRlbS5wcm9wcy50aXRsZTtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5S2V5KSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZSkgIT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gdmFsdWUuY29uY2F0KFt7XG5cdCAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuXHQgICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG5cdCAgICAgIH1dKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlbiA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG5cdCAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpcy5za2lwQWRqdXN0T3BlbiA9IGZhbHNlO1xuXHQgICAgICAgIH0sIDApO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgdmFsdWVbMF0ua2V5ID09PSBzZWxlY3RlZFZhbHVlKSB7XG5cdCAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZSA9IFt7XG5cdCAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuXHQgICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG5cdCAgICAgIH1dO1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmZpcmVDaGFuZ2UodmFsdWUpO1xuXHQgICAgdmFyIGlucHV0VmFsdWUgPSB2b2lkIDA7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSkge1xuXHQgICAgICBpbnB1dFZhbHVlID0gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoaXRlbSwgcHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlucHV0VmFsdWUgPSAnJztcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlLCBmYWxzZSk7XG5cdCAgfSxcblx0ICBvbk1lbnVEZXNlbGVjdDogZnVuY3Rpb24gb25NZW51RGVzZWxlY3QoX3JlZjIpIHtcblx0ICAgIHZhciBpdGVtID0gX3JlZjIuaXRlbSxcblx0ICAgICAgICBkb21FdmVudCA9IF9yZWYyLmRvbUV2ZW50O1xuXHRcblx0ICAgIGlmIChkb21FdmVudC50eXBlID09PSAnY2xpY2snKSB7XG5cdCAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShpdGVtKSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcblx0ICB9LFxuXHQgIG9uQXJyb3dDbGljazogZnVuY3Rpb24gb25BcnJvd0NsaWNrKGUpIHtcblx0ICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICBpZiAoIXRoaXMucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoIXRoaXMuc3RhdGUub3BlbiwgIXRoaXMuc3RhdGUub3Blbik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblBsYWNlaG9sZGVyQ2xpY2s6IGZ1bmN0aW9uIG9uUGxhY2Vob2xkZXJDbGljaygpIHtcblx0ICAgIGlmICh0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkuZm9jdXMoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uT3V0ZXJGb2N1czogZnVuY3Rpb24gb25PdXRlckZvY3VzKGUpIHtcblx0ICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSAmJiBlLnRhcmdldCA9PT0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLmNsZWFyQmx1clRpbWUoKTtcblx0ICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuXHQgICAgdGhpcy51cGRhdGVGb2N1c0NsYXNzTmFtZSgpO1xuXHQgICAgdGhpcy5wcm9wcy5vbkZvY3VzKCk7XG5cdCAgfSxcblx0ICBvblBvcHVwRm9jdXM6IGZ1bmN0aW9uIG9uUG9wdXBGb2N1cygpIHtcblx0ICAgIC8vIGZpeCBpZSBzY3JvbGxiYXIsIGZvY3VzIGVsZW1lbnQgYWdhaW5cblx0ICAgIHRoaXMubWF5YmVGb2N1cyh0cnVlLCB0cnVlKTtcblx0ICB9LFxuXHQgIG9uT3V0ZXJCbHVyOiBmdW5jdGlvbiBvbk91dGVyQmx1cigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuYmx1clRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5fZm9jdXNlZCA9IGZhbHNlO1xuXHQgICAgICBfdGhpczIudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcblx0ICAgICAgdmFyIHByb3BzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICB2YXIgdmFsdWUgPSBfdGhpczIuc3RhdGUudmFsdWU7XG5cdCAgICAgIHZhciBpbnB1dFZhbHVlID0gX3RoaXMyLnN0YXRlLmlucHV0VmFsdWU7XG5cdFxuXHQgICAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2ggJiYgaW5wdXRWYWx1ZSAmJiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24pIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IF90aGlzMi5fb3B0aW9ucyB8fCBbXTtcblx0ICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBmaXJzdE9wdGlvbiA9ICgwLCBfdXRpbC5maW5kRmlyc3RNZW51SXRlbSkob3B0aW9ucyk7XG5cdCAgICAgICAgICBpZiAoZmlyc3RPcHRpb24pIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBbe1xuXHQgICAgICAgICAgICAgIGtleTogZmlyc3RPcHRpb24ua2V5LFxuXHQgICAgICAgICAgICAgIGxhYmVsOiBfdGhpczIuZ2V0TGFiZWxGcm9tT3B0aW9uKGZpcnN0T3B0aW9uKVxuXHQgICAgICAgICAgICB9XTtcblx0ICAgICAgICAgICAgX3RoaXMyLmZpcmVDaGFuZ2UodmFsdWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGlucHV0VmFsdWUpIHtcblx0ICAgICAgICAvLyB3aHkgbm90IHVzZSBzZXRTdGF0ZT9cblx0ICAgICAgICBfdGhpczIuc3RhdGUuaW5wdXRWYWx1ZSA9IF90aGlzMi5nZXRJbnB1dERPTU5vZGUoKS52YWx1ZSA9ICcnO1xuXHQgICAgICB9XG5cdCAgICAgIHByb3BzLm9uQmx1cihfdGhpczIuZ2V0VkxGb3JPbkNoYW5nZSh2YWx1ZSkpO1xuXHQgICAgfSwgMTApO1xuXHQgIH0sXG5cdCAgb25DbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gb25DbGVhclNlbGVjdGlvbihldmVudCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGlucHV0VmFsdWUgPSBzdGF0ZS5pbnB1dFZhbHVlLFxuXHQgICAgICAgIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cdFxuXHQgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICBpZiAoaW5wdXRWYWx1ZSB8fCB2YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMuZmlyZUNoYW5nZShbXSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmU6IGZ1bmN0aW9uIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUoKSB7XG5cdCAgICB0aGlzLnJlZnMudHJpZ2dlci5yZWZzLnRyaWdnZXIuZm9yY2VQb3B1cEFsaWduKCk7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEJ5U2luZ2xlVmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGxhYmVsID0gbnVsbDtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIG1heWJlID0gX3RoaXMzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZC5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuXHQgICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgbGFiZWwgPSBtYXliZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCkgPT09IHZhbHVlKSB7XG5cdCAgICAgICAgbGFiZWwgPSBfdGhpczMuZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbGFiZWw7XG5cdCAgfSxcblx0ICBnZXRWYWx1ZUJ5TGFiZWw6IGZ1bmN0aW9uIGdldFZhbHVlQnlMYWJlbChjaGlsZHJlbiwgbGFiZWwpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIGlmIChsYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbHVlID0gbnVsbDtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIG1heWJlID0gX3RoaXM0LmdldFZhbHVlQnlMYWJlbChjaGlsZC5wcm9wcy5jaGlsZHJlbiwgbGFiZWwpO1xuXHQgICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgdmFsdWUgPSBtYXliZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLnRvQXJyYXkpKF90aGlzNC5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcblx0ICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9LFxuXHQgIGdldExhYmVsRnJvbU9wdGlvbjogZnVuY3Rpb24gZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcblx0ICB9LFxuXHQgIGdldExhYmVsRnJvbVByb3BzOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdmFsdWUpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldExhYmVsQnlWYWx1ZShwcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuXHQgIH0sXG5cdCAgZ2V0VkxGb3JPbkNoYW5nZTogZnVuY3Rpb24gZ2V0VkxGb3JPbkNoYW5nZSh2bHNfKSB7XG5cdCAgICB2YXIgdmxzID0gdmxzXztcblx0ICAgIGlmICh2bHMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBpZiAoIXRoaXMucHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgcmV0dXJuIHYua2V5O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZscyA9IHZscy5tYXAoZnVuY3Rpb24gKHZsKSB7XG5cdCAgICAgICAgICByZXR1cm4geyBrZXk6IHZsLmtleSwgbGFiZWw6IHZsLmxhYmVsIH07XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSA/IHZscyA6IHZsc1swXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2bHM7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEJ5VmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcblx0ICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSk7XG5cdCAgICBpZiAobGFiZWwgPT09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxhYmVsO1xuXHQgIH0sXG5cdCAgZ2V0RHJvcGRvd25Db250YWluZXI6IGZ1bmN0aW9uIGdldERyb3Bkb3duQ29udGFpbmVyKCkge1xuXHQgICAgaWYgKCF0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG5cdCAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLmRyb3Bkb3duQ29udGFpbmVyO1xuXHQgIH0sXG5cdCAgZ2V0UGxhY2Vob2xkZXJFbGVtZW50OiBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlckVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICB2YXIgaGlkZGVuID0gZmFsc2U7XG5cdCAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSkge1xuXHQgICAgICBoaWRkZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgaWYgKHN0YXRlLnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICBoaWRkZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykgJiYgc3RhdGUudmFsdWUubGVuZ3RoID09PSAxICYmICFzdGF0ZS52YWx1ZVswXS5rZXkpIHtcblx0ICAgICAgaGlkZGVuID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcjtcblx0ICAgIGlmIChwbGFjZWhvbGRlcikge1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG5cdCAgICAgICAgICBzdHlsZTogKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgZGlzcGxheTogaGlkZGVuID8gJ25vbmUnIDogJ2Jsb2NrJ1xuXHQgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFKVxuXHQgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25QbGFjZWhvbGRlckNsaWNrLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcGxhY2Vob2xkZXInXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgcGxhY2Vob2xkZXJcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH0sXG5cdCAgZ2V0SW5wdXRFbGVtZW50OiBmdW5jdGlvbiBnZXRJbnB1dEVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGlucHV0RWxlbWVudCA9IHByb3BzLmdldElucHV0RWxlbWVudCA/IHByb3BzLmdldElucHV0RWxlbWVudCgpIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBudWxsKTtcblx0ICAgIHZhciBpbnB1dENscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShpbnB1dEVsZW1lbnQucHJvcHMuY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGQnLCB0cnVlKSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGRfX3dyYXAnIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChpbnB1dEVsZW1lbnQsIHtcblx0ICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0UmVmLFxuXHQgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2UsXG5cdCAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uSW5wdXRLZXlEb3duLFxuXHQgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWUsXG5cdCAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIGNsYXNzTmFtZTogaW5wdXRDbHNcblx0ICAgICAgfSksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHJlZjogdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZF9fbWlycm9yJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGhpcy5zdGF0ZS5pbnB1dFZhbHVlXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfSxcblx0ICBnZXRJbnB1dERPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0RE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlucHV0SW5zdGFuY2U7XG5cdCAgfSxcblx0ICBnZXRJbnB1dE1pcnJvckRPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0TWlycm9yRE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlucHV0TWlycm9ySW5zdGFuY2U7XG5cdCAgfSxcblx0ICBnZXRQb3B1cERPTU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERPTU5vZGUoKTtcblx0ICB9LFxuXHQgIGdldFBvcHVwTWVudUNvbXBvbmVudDogZnVuY3Rpb24gZ2V0UG9wdXBNZW51Q29tcG9uZW50KCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuXHQgIH0sXG5cdCAgc2V0T3BlblN0YXRlOiBmdW5jdGlvbiBzZXRPcGVuU3RhdGUob3BlbiwgbmVlZEZvY3VzKSB7XG5cdCAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICBpZiAoc3RhdGUub3BlbiA9PT0gb3Blbikge1xuXHQgICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIG5leHRTdGF0ZSA9IHtcblx0ICAgICAgb3Blbjogb3BlblxuXHQgICAgfTtcblx0ICAgIC8vIGNsZWFyIHNlYXJjaCBpbnB1dCB2YWx1ZSB3aGVuIG9wZW4gaXMgZmFsc2UgaW4gc2luZ2xlTW9kZS5cblx0ICAgIGlmICghb3BlbiAmJiAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgcHJvcHMuc2hvd1NlYXJjaCkge1xuXHQgICAgICB0aGlzLnNldElucHV0VmFsdWUoJycpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFvcGVuKSB7XG5cdCAgICAgIHRoaXMubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKG9wZW4pIHtcblx0ICAgICAgICBfdGhpczUubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHNldElucHV0VmFsdWU6IGZ1bmN0aW9uIHNldElucHV0VmFsdWUoaW5wdXRWYWx1ZSkge1xuXHQgICAgdmFyIGZpcmVTZWFyY2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVcblx0ICAgIH0pO1xuXHQgICAgaWYgKGZpcmVTZWFyY2gpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChpbnB1dFZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNsZWFyQmx1clRpbWU6IGZ1bmN0aW9uIGNsZWFyQmx1clRpbWUoKSB7XG5cdCAgICBpZiAodGhpcy5ibHVyVGltZXIpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYmx1clRpbWVyKTtcblx0ICAgICAgdGhpcy5ibHVyVGltZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY2xlYXJBZGp1c3RUaW1lcjogZnVuY3Rpb24gY2xlYXJBZGp1c3RUaW1lcigpIHtcblx0ICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lcik7XG5cdCAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lciA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB1cGRhdGVGb2N1c0NsYXNzTmFtZTogZnVuY3Rpb24gdXBkYXRlRm9jdXNDbGFzc05hbWUoKSB7XG5cdCAgICB2YXIgcmVmcyA9IHRoaXMucmVmcyxcblx0ICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAvLyBhdm9pZCBzZXRTdGF0ZSBhbmQgaXRzIHNpZGUgZWZmZWN0XG5cdFxuXHQgICAgaWYgKHRoaXMuX2ZvY3VzZWQpIHtcblx0ICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkuYWRkKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkucmVtb3ZlKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWF5YmVGb2N1czogZnVuY3Rpb24gbWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpIHtcblx0ICAgIGlmIChuZWVkRm9jdXMgfHwgb3Blbikge1xuXHQgICAgICB2YXIgaW5wdXQgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuXHQgICAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsXG5cdCAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdFxuXHQgICAgICBpZiAoaW5wdXQgJiYgKG9wZW4gfHwgKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSkpIHtcblx0ICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQpIHtcblx0ICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnJlZnMuc2VsZWN0aW9uO1xuXHQgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBzZWxlY3Rpb24pIHtcblx0ICAgICAgICAgIHNlbGVjdGlvbi5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgYWRkTGFiZWxUb1ZhbHVlOiBmdW5jdGlvbiBhZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlXykge1xuXHQgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHZhbHVlID0gdmFsdWVfO1xuXHQgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuXHQgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgdi5sYWJlbCA9IHYubGFiZWwgfHwgX3RoaXM2LmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2LmtleSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAga2V5OiB2LFxuXHQgICAgICAgICAgbGFiZWw6IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdilcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9LFxuXHQgIGFkZFRpdGxlVG9WYWx1ZTogZnVuY3Rpb24gYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZXMpIHtcblx0ICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBuZXh0VmFsdWVzID0gdmFsdWVzO1xuXHQgICAgdmFyIGtleXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgIHJldHVybiB2LmtleTtcblx0ICAgIH0pO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICBuZXh0VmFsdWVzID0gX3RoaXM3LmFkZFRpdGxlVG9WYWx1ZShjaGlsZC5wcm9wcywgbmV4dFZhbHVlcyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG5cdCAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBrZXlzLmluZGV4T2YodmFsdWUpO1xuXHQgICAgICAgIGlmICh2YWx1ZUluZGV4ID4gLTEpIHtcblx0ICAgICAgICAgIG5leHRWYWx1ZXNbdmFsdWVJbmRleF0udGl0bGUgPSBjaGlsZC5wcm9wcy50aXRsZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG5leHRWYWx1ZXM7XG5cdCAgfSxcblx0ICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoc2VsZWN0ZWRLZXkpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5pc0NoaWxkRGlzYWJsZWQoc2VsZWN0ZWRLZXkpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBsYWJlbCA9IHZvaWQgMDtcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICBpZiAoc2luZ2xlVmFsdWUua2V5ID09PSBzZWxlY3RlZEtleSkge1xuXHQgICAgICAgIGxhYmVsID0gc2luZ2xlVmFsdWUubGFiZWw7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNpbmdsZVZhbHVlLmtleSAhPT0gc2VsZWN0ZWRLZXk7XG5cdCAgICB9KTtcblx0ICAgIHZhciBjYW5NdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG5cdFxuXHQgICAgaWYgKGNhbk11bHRpcGxlKSB7XG5cdCAgICAgIHZhciBldmVudCA9IHNlbGVjdGVkS2V5O1xuXHQgICAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgICAgZXZlbnQgPSB7XG5cdCAgICAgICAgICBrZXk6IHNlbGVjdGVkS2V5LFxuXHQgICAgICAgICAgbGFiZWw6IGxhYmVsXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgICBwcm9wcy5vbkRlc2VsZWN0KGV2ZW50KTtcblx0ICAgIH1cblx0ICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBvcGVuSWZIYXNDaGlsZHJlbjogZnVuY3Rpb24gb3BlbklmSGFzQ2hpbGRyZW4oKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmNvdW50KHByb3BzLmNoaWxkcmVuKSB8fCAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBmaXJlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlQ2hhbmdlKHZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25DaGFuZ2UodGhpcy5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG5cdCAgfSxcblx0ICBpc0NoaWxkRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzQ2hpbGREaXNhYmxlZChrZXkpIHtcblx0ICAgIHJldHVybiAoMCwgX3V0aWwudG9BcnJheSkodGhpcy5wcm9wcy5jaGlsZHJlbikuc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgdmFyIGNoaWxkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcblx0ICAgICAgcmV0dXJuIGNoaWxkVmFsdWUgPT09IGtleSAmJiBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5kaXNhYmxlZDtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKHN0cmluZykge1xuXHQgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG5cdCAgICAgICAgdG9rZW5TZXBhcmF0b3JzID0gX3Byb3BzLnRva2VuU2VwYXJhdG9ycyxcblx0ICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblx0XG5cdCAgICB2YXIgbmV4dFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgICgwLCBfdXRpbC5zcGxpdEJ5U2VwYXJhdG9ycykoc3RyaW5nLCB0b2tlblNlcGFyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XG5cdCAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0geyBrZXk6IGxhYmVsLCBsYWJlbDogbGFiZWwgfTtcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCkobmV4dFZhbHVlLCBsYWJlbCkgPT09IC0xKSB7XG5cdCAgICAgICAgaWYgKG11bHRpcGxlKSB7XG5cdCAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczguZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCk7XG5cdCAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZS5rZXkgPSB2YWx1ZTtcblx0ICAgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG5leHRWYWx1ZTtcblx0ICB9LFxuXHQgIGFkanVzdE9wZW5TdGF0ZTogZnVuY3Rpb24gYWRqdXN0T3BlblN0YXRlKCkge1xuXHQgICAgaWYgKHRoaXMuc2tpcEFkanVzdE9wZW4pIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5nZXRJbnB1dERPTU5vZGUoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIG9wZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgdmFyIG9wdGlvbnMgPSBbXTtcblx0ICAgIGlmIChvcGVuKSB7XG5cdCAgICAgIG9wdGlvbnMgPSB0aGlzLnJlbmRlckZpbHRlck9wdGlvbnMoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXHQgICAgaWYgKG9wZW4gJiYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykgfHwgIXRoaXMucHJvcHMuc2hvd1NlYXJjaCkgJiYgIW9wdGlvbnMubGVuZ3RoKSB7XG5cdCAgICAgIG9wZW4gPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc3RhdGUub3BlbiA9IG9wZW47XG5cdCAgfSxcblx0ICByZW5kZXJUb3BDb250cm9sTm9kZTogZnVuY3Rpb24gcmVuZGVyVG9wQ29udHJvbE5vZGUoKSB7XG5cdCAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICB2YWx1ZSA9IF9zdGF0ZS52YWx1ZSxcblx0ICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW4sXG5cdCAgICAgICAgaW5wdXRWYWx1ZSA9IF9zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hvaWNlVHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5jaG9pY2VUcmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbWF4VGFnVGV4dExlbmd0aCA9IHByb3BzLm1heFRhZ1RleHRMZW5ndGgsXG5cdCAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2g7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHByZWZpeENscyArICctc2VsZWN0aW9uX19yZW5kZXJlZCc7XG5cdCAgICAvLyBzZWFyY2ggaW5wdXQgaXMgaW5zaWRlIHRvcENvbnRyb2xOb2RlIGluIHNpbmdsZSwgbXVsdGlwbGUgJiBjb21ib2JveC4gMjAxNi8wNC8xM1xuXHQgICAgdmFyIGlubmVyTm9kZSA9IG51bGw7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG5cdCAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbnVsbDtcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHZhciBzaG93U2VsZWN0ZWRWYWx1ZSA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBvcGFjaXR5ID0gMTtcblx0ICAgICAgICBpZiAoIXNob3dTZWFyY2gpIHtcblx0ICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKG9wZW4pIHtcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSAhaW5wdXRWYWx1ZTtcblx0ICAgICAgICAgICAgaWYgKHNob3dTZWxlY3RlZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgb3BhY2l0eSA9IDAuNDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2luZ2xlVmFsdWUgPSB2YWx1ZVswXTtcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBrZXk6ICd2YWx1ZScsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tc2VsZWN0ZWQtdmFsdWUnLFxuXHQgICAgICAgICAgICB0aXRsZTogc2luZ2xlVmFsdWUudGl0bGUgfHwgc2luZ2xlVmFsdWUubGFiZWwsXG5cdCAgICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgZGlzcGxheTogc2hvd1NlbGVjdGVkVmFsdWUgPyAnYmxvY2snIDogJ25vbmUnLFxuXHQgICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHZhbHVlWzBdLmxhYmVsXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIXNob3dTZWFyY2gpIHtcblx0ICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZV07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gW3NlbGVjdGVkVmFsdWUsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG5cdCAgICAgICAgICAgIGtleTogJ2lucHV0Jyxcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICBkaXNwbGF5OiBvcGVuID8gJ2Jsb2NrJyA6ICdub25lJ1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuXHQgICAgICAgICldO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gW107XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gdmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICAgICAgdmFyIGNvbnRlbnQgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcblx0ICAgICAgICAgIHZhciB0aXRsZSA9IHNpbmdsZVZhbHVlLnRpdGxlIHx8IGNvbnRlbnQ7XG5cdCAgICAgICAgICBpZiAobWF4VGFnVGV4dExlbmd0aCAmJiB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgJiYgY29udGVudC5sZW5ndGggPiBtYXhUYWdUZXh0TGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIG1heFRhZ1RleHRMZW5ndGgpICsgJy4uLic7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpczkuaXNDaGlsZERpc2FibGVkKHNpbmdsZVZhbHVlLmtleSk7XG5cdCAgICAgICAgICB2YXIgY2hvaWNlQ2xhc3NOYW1lID0gZGlzYWJsZWQgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19kaXNhYmxlZCcgOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlJztcblx0ICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcblx0ICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2hvaWNlQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgICAgIGtleTogc2luZ2xlVmFsdWUua2V5LFxuXHQgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuXHQgICAgICAgICAgICB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fY29udGVudCcgfSxcblx0ICAgICAgICAgICAgICBjb250ZW50XG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIGRpc2FibGVkID8gbnVsbCA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19yZW1vdmUnLFxuXHQgICAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzOS5yZW1vdmVTZWxlY3RlZC5iaW5kKF90aGlzOSwgc2luZ2xlVmFsdWUua2V5KVxuXHQgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICBzZWxlY3RlZFZhbHVlTm9kZXMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG5cdCAgICAgICAgICBrZXk6ICdfX2lucHV0J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuXHQgICAgICApKTtcblx0XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGNob2ljZVRyYW5zaXRpb25OYW1lKSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgb25MZWF2ZTogdGhpcy5vbkNob2ljZUFuaW1hdGlvbkxlYXZlLFxuXHQgICAgICAgICAgICBjb21wb25lbnQ6ICd1bCcsXG5cdCAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lOiBjaG9pY2VUcmFuc2l0aW9uTmFtZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICAgIHRoaXMuZ2V0UGxhY2Vob2xkZXJFbGVtZW50KCksXG5cdCAgICAgIGlubmVyTm9kZVxuXHQgICAgKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9yb290Q2xzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgbXVsdGlwbGUgPSAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpO1xuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICBhbGxvd0NsZWFyID0gcHJvcHMuYWxsb3dDbGVhcixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIGN0cmxOb2RlID0gdGhpcy5yZW5kZXJUb3BDb250cm9sTm9kZSgpO1xuXHQgICAgdmFyIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7fTtcblx0ICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXHRcblx0ICAgIHZhciBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblx0ICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KShwcm9wcykpIHtcblx0ICAgICAgZXh0cmFTZWxlY3Rpb25Qcm9wcyA9IHtcblx0ICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuXHQgICAgICAgIHRhYkluZGV4OiAwXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICB2YXIgcm9vdENscyA9IChfcm9vdENscyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1vcGVuJywgb3BlbiksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZm9jdXNlZCcsIG9wZW4gfHwgISF0aGlzLl9mb2N1c2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1jb21ib2JveCcsICgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWVuYWJsZWQnLCAhZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWFsbG93LWNsZWFyJywgISFwcm9wcy5hbGxvd0NsZWFyKSwgX3Jvb3RDbHMpO1xuXHQgICAgdmFyIGNsZWFyU3R5bGUgPSAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSwge1xuXHQgICAgICBkaXNwbGF5OiAnbm9uZSdcblx0ICAgIH0pO1xuXHQgICAgaWYgKHN0YXRlLmlucHV0VmFsdWUgfHwgc3RhdGUudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgIGNsZWFyU3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdCAgICB9XG5cdCAgICB2YXIgY2xlYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAga2V5OiAnY2xlYXInLFxuXHQgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcblx0ICAgICAgc3R5bGU6IGNsZWFyU3R5bGVcblx0ICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2xlYXInLFxuXHQgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJTZWxlY3Rpb25cblx0ICAgIH0pKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfU2VsZWN0VHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICB7XG5cdCAgICAgICAgb25Qb3B1cEZvY3VzOiB0aGlzLm9uUG9wdXBGb2N1cyxcblx0ICAgICAgICBkcm9wZG93bkFsaWduOiBwcm9wcy5kcm9wZG93bkFsaWduLFxuXHQgICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZSxcblx0ICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHByb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCxcblx0ICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcblx0ICAgICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG5cdCAgICAgICAgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuXHQgICAgICAgIGFuaW1hdGlvbjogcHJvcHMuYW5pbWF0aW9uLFxuXHQgICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGRyb3Bkb3duU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGUsXG5cdCAgICAgICAgY29tYm9ib3g6IHByb3BzLmNvbWJvYm94LFxuXHQgICAgICAgIHNob3dTZWFyY2g6IHByb3BzLnNob3dTZWFyY2gsXG5cdCAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcblx0ICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG5cdCAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuXHQgICAgICAgIHZpc2libGU6IG9wZW4sXG5cdCAgICAgICAgaW5wdXRWYWx1ZTogc3RhdGUuaW5wdXRWYWx1ZSxcblx0ICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG5cdCAgICAgICAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U6IHRoaXMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuXHQgICAgICAgIG9uTWVudVNlbGVjdDogdGhpcy5vbk1lbnVTZWxlY3QsXG5cdCAgICAgICAgb25NZW51RGVzZWxlY3Q6IHRoaXMub25NZW51RGVzZWxlY3QsXG5cdCAgICAgICAgcmVmOiAndHJpZ2dlcidcblx0ICAgICAgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgICByZWY6ICdyb290Jyxcblx0ICAgICAgICAgIG9uQmx1cjogdGhpcy5vbk91dGVyQmx1cixcblx0ICAgICAgICAgIG9uRm9jdXM6IHRoaXMub25PdXRlckZvY3VzLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkocm9vdENscylcblx0ICAgICAgICB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgIHJlZjogJ3NlbGVjdGlvbicsXG5cdCAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbicsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25cXG4gICAgICAgICAgICAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLFxuXHQgICAgICAgICAgICByb2xlOiAnY29tYm9ib3gnLFxuXHQgICAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG5cdCAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ3RydWUnLFxuXHQgICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IG9wZW5cblx0ICAgICAgICAgIH0sIGV4dHJhU2VsZWN0aW9uUHJvcHMpLFxuXHQgICAgICAgICAgY3RybE5vZGUsXG5cdCAgICAgICAgICBhbGxvd0NsZWFyICYmICFtdWx0aXBsZSA/IGNsZWFyIDogbnVsbCxcblx0ICAgICAgICAgIG11bHRpcGxlIHx8ICFwcm9wcy5zaG93QXJyb3cgPyBudWxsIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICAgIGtleTogJ2Fycm93Jyxcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYXJyb3cnLFxuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcblx0ICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25BcnJvd0NsaWNrXG5cdCAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdiJywgbnVsbClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTk1KTtcblx0XG5cdHZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcblx0XG5cdHZhciBfRHJvcGRvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duTWVudSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBCVUlMVF9JTl9QTEFDRU1FTlRTID0ge1xuXHQgIGJvdHRvbUxlZnQ6IHtcblx0ICAgIHBvaW50czogWyd0bCcsICdibCddLFxuXHQgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICBvdmVyZmxvdzoge1xuXHQgICAgICBhZGp1c3RYOiAwLFxuXHQgICAgICBhZGp1c3RZOiAxXG5cdCAgICB9XG5cdCAgfSxcblx0ICB0b3BMZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIG92ZXJmbG93OiB7XG5cdCAgICAgIGFkanVzdFg6IDAsXG5cdCAgICAgIGFkanVzdFk6IDFcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgU2VsZWN0VHJpZ2dlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1NlbGVjdFRyaWdnZXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG9uUG9wdXBGb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkcm9wZG93bkFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkcm9wZG93bkNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBmaWx0ZXJPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgcG9wdXBDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICB2aXNpYmxlID0gX3Byb3BzLnZpc2libGUsXG5cdCAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID0gX3Byb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDtcblx0XG5cdCAgICBpZiAodmlzaWJsZSkge1xuXHQgICAgICB2YXIgZHJvcGRvd25ET01Ob2RlID0gdGhpcy5nZXRQb3B1cERPTU5vZGUoKTtcblx0ICAgICAgaWYgKGRyb3Bkb3duRE9NTm9kZSkge1xuXHQgICAgICAgIHZhciB3aWR0aFByb3AgPSBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPyAnd2lkdGgnIDogJ21pbldpZHRoJztcblx0ICAgICAgICBkcm9wZG93bkRPTU5vZGUuc3R5bGVbd2lkdGhQcm9wXSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLm9mZnNldFdpZHRoICsgJ3B4Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgZ2V0SW5uZXJNZW51OiBmdW5jdGlvbiBnZXRJbm5lck1lbnUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wb3B1cE1lbnUgJiYgdGhpcy5wb3B1cE1lbnUucmVmcy5tZW51O1xuXHQgIH0sXG5cdCAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBEb21Ob2RlKCk7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93bkVsZW1lbnQ6IGZ1bmN0aW9uIGdldERyb3Bkb3duRWxlbWVudChuZXdQcm9wcykge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ecm9wZG93bk1lbnUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgcmVmOiB0aGlzLnNhdmVNZW51XG5cdCAgICB9LCBuZXdQcm9wcywge1xuXHQgICAgICBwcmVmaXhDbHM6IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSxcblx0ICAgICAgb25NZW51U2VsZWN0OiBwcm9wcy5vbk1lbnVTZWxlY3QsXG5cdCAgICAgIG9uTWVudURlc2VsZWN0OiBwcm9wcy5vbk1lbnVEZXNlbGVjdCxcblx0ICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuXHQgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcblx0ICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHByb3BzLmRyb3Bkb3duTWVudVN0eWxlXG5cdCAgICB9KSk7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuXHQgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBwcm9wcy5hbmltYXRpb24pIHtcblx0ICAgICAgdHJhbnNpdGlvbk5hbWUgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCkgKyAnLScgKyBwcm9wcy5hbmltYXRpb247XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93blByZWZpeENsczogZnVuY3Rpb24gZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWRyb3Bkb3duJztcblx0ICB9LFxuXHQgIHNhdmVNZW51OiBmdW5jdGlvbiBzYXZlTWVudShtZW51KSB7XG5cdCAgICB0aGlzLnBvcHVwTWVudSA9IG1lbnU7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcG9wdXBDbGFzc05hbWU7XG5cdFxuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG9uUG9wdXBGb2N1cyA9IF9wcm9wczIub25Qb3B1cEZvY3VzLFxuXHQgICAgICAgIHByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczNbXCJkZWZhdWx0XCJdKShfcHJvcHMyLCBbJ29uUG9wdXBGb2N1cyddKTtcblx0ICAgIHZhciBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuXHQgICAgICAgIHZpc2libGUgPSBwcm9wcy52aXNpYmxlLFxuXHQgICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlLFxuXHQgICAgICAgIGRyb3Bkb3duQWxpZ24gPSBwcm9wcy5kcm9wZG93bkFsaWduLFxuXHQgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2gsXG5cdCAgICAgICAgZHJvcGRvd25DbGFzc05hbWUgPSBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZTtcblx0XG5cdCAgICB2YXIgZHJvcGRvd25QcmVmaXhDbHMgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCk7XG5cdCAgICB2YXIgcG9wdXBDbGFzc05hbWUgPSAoX3BvcHVwQ2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93bkNsYXNzTmFtZSwgISFkcm9wZG93bkNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93blByZWZpeENscyArICctLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLCAxKSwgX3BvcHVwQ2xhc3NOYW1lKTtcblx0ICAgIHZhciBwb3B1cEVsZW1lbnQgPSB0aGlzLmdldERyb3Bkb3duRWxlbWVudCh7XG5cdCAgICAgIG1lbnVJdGVtczogcHJvcHMub3B0aW9ucyxcblx0ICAgICAgb25Qb3B1cEZvY3VzOiBvblBvcHVwRm9jdXMsXG5cdCAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcblx0ICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcblx0ICAgICAgdmlzaWJsZTogdmlzaWJsZVxuXHQgICAgfSk7XG5cdCAgICB2YXIgaGlkZUFjdGlvbiA9IHZvaWQgMDtcblx0ICAgIGlmIChkaXNhYmxlZCkge1xuXHQgICAgICBoaWRlQWN0aW9uID0gW107XG5cdCAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiAhc2hvd1NlYXJjaCkge1xuXHQgICAgICBoaWRlQWN0aW9uID0gWydjbGljayddO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaGlkZUFjdGlvbiA9IFsnYmx1ciddO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuXHQgICAgICAgIHNob3dBY3Rpb246IGRpc2FibGVkID8gW10gOiBbJ2NsaWNrJ10sXG5cdCAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcblx0ICAgICAgICByZWY6ICd0cmlnZ2VyJyxcblx0ICAgICAgICBwb3B1cFBsYWNlbWVudDogJ2JvdHRvbUxlZnQnLFxuXHQgICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBCVUlMVF9JTl9QTEFDRU1FTlRTLFxuXHQgICAgICAgIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMsXG5cdCAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdGhpcy5nZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCksXG5cdCAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHByb3BzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIHBvcHVwOiBwb3B1cEVsZW1lbnQsXG5cdCAgICAgICAgcG9wdXBBbGlnbjogZHJvcGRvd25BbGlnbixcblx0ICAgICAgICBwb3B1cFZpc2libGU6IHZpc2libGUsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuXHQgICAgICAgIHBvcHVwQ2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocG9wdXBDbGFzc05hbWUpLFxuXHQgICAgICAgIHBvcHVwU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGVcblx0ICAgICAgfSksXG5cdCAgICAgIHByb3BzLmNoaWxkcmVuXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdFRyaWdnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5PcHRHcm91cCA9IGV4cG9ydHMuT3B0aW9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7XG5cdFxuXHR2YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXHRcblx0dmFyIF9PcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHR2YXIgX09wdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRpb24pO1xuXHRcblx0dmFyIF9PcHRHcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcblx0XG5cdHZhciBfT3B0R3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0R3JvdXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuXHRfU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfU2VsZWN0MltcImRlZmF1bHRcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzMzpcbjgxLFxuXG4vKioqLyAxMzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ29sdW1uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0Q29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGNvbFNwYW46IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG5cdCAgZGF0YUluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICB3aWR0aDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHQgIGZpeGVkOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFt0cnVlLCAnbGVmdCcsICdyaWdodCddKSxcblx0ICByZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkNlbGxDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ29sdW1uR3JvdXAsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW5Hcm91cCk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uR3JvdXA7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRDb2x1bW5Hcm91cC5wcm9wVHlwZXMgPSB7XG5cdCAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHR9O1xuXHRDb2x1bW5Hcm91cC5pc1RhYmxlQ29sdW1uR3JvdXAgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIENvbHVtbk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQ29sdW1uTWFuYWdlcihjb2x1bW5zLCBlbGVtZW50cykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbk1hbmFnZXIpO1xuXHRcblx0ICAgIHRoaXMuX2NhY2hlZCA9IHt9O1xuXHRcblx0ICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5ub3JtYWxpemUoZWxlbWVudHMpO1xuXHQgIH1cblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zRml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNGaXhlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuICEhY29sdW1uLmZpeGVkO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0xlZnRGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc0xlZnRGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zTGVmdEZpeGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMyLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNSaWdodEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzMy5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdENvbHVtbnMgPSBmdW5jdGlvbiBsZWZ0Q29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczQuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdyaWdodENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczUuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczYuX2xlYWZDb2x1bW5zKF90aGlzNi5jb2x1bW5zKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIGxlZnRMZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdExlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM3Ll9sZWFmQ29sdW1ucyhfdGhpczcubGVmdENvbHVtbnMoKSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodExlYWZDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRMZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgncmlnaHRMZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzOC5fbGVhZkNvbHVtbnMoX3RoaXM4LnJpZ2h0Q29sdW1ucygpKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGFkZCBhcHByb3ByaWF0ZSByb3dzcGFuIGFuZCBjb2xzcGFuIHRvIGNvbHVtblxuXHRcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuZ3JvdXBlZENvbHVtbnMgPSBmdW5jdGlvbiBncm91cGVkQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnZ3JvdXBlZENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBfZ3JvdXBDb2x1bW5zID0gZnVuY3Rpb24gX2dyb3VwQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cdCAgICAgICAgdmFyIHBhcmVudENvbHVtbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cdCAgICAgICAgdmFyIHJvd3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFtdO1xuXHRcblx0ICAgICAgICAvLyB0cmFjayBob3cgbWFueSByb3dzIHdlIGdvdFxuXHQgICAgICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuXHQgICAgICAgIHZhciBncm91cGVkID0gW107XG5cdCAgICAgICAgdmFyIHNldFJvd1NwYW4gPSBmdW5jdGlvbiBzZXRSb3dTcGFuKGNvbHVtbikge1xuXHQgICAgICAgICAgdmFyIHJvd1NwYW4gPSByb3dzLmxlbmd0aCAtIGN1cnJlbnRSb3c7XG5cdCAgICAgICAgICBpZiAoY29sdW1uICYmICFjb2x1bW4uY2hpbGRyZW4gJiYgLy8gcGFyZW50IGNvbHVtbnMgYXJlIHN1cHBvc2VkIHRvIGJlIG9uZSByb3dcblx0ICAgICAgICAgIHJvd1NwYW4gPiAxICYmICghY29sdW1uLnJvd1NwYW4gfHwgY29sdW1uLnJvd1NwYW4gPCByb3dTcGFuKSkge1xuXHQgICAgICAgICAgICBjb2x1bW4ucm93U3BhbiA9IHJvd1NwYW47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHtcblx0ICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSBfZXh0ZW5kcyh7fSwgY29sdW1uKTtcblx0ICAgICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChuZXdDb2x1bW4pO1xuXHQgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4gPSBwYXJlbnRDb2x1bW4uY29sU3BhbiB8fCAwO1xuXHQgICAgICAgICAgaWYgKG5ld0NvbHVtbi5jaGlsZHJlbiAmJiBuZXdDb2x1bW4uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICBuZXdDb2x1bW4uY2hpbGRyZW4gPSBfZ3JvdXBDb2x1bW5zKG5ld0NvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIG5ld0NvbHVtbiwgcm93cyk7XG5cdCAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gKyBuZXdDb2x1bW4uY29sU3Bhbjtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuKys7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyB1cGRhdGUgcm93c3BhbiB0byBhbGwgc2FtZSByb3cgY29sdW1uc1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzW2N1cnJlbnRSb3ddLmxlbmd0aCAtIDE7ICsraSkge1xuXHQgICAgICAgICAgICBzZXRSb3dTcGFuKHJvd3NbY3VycmVudFJvd11baV0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gbGFzdCBjb2x1bW4sIHVwZGF0ZSByb3dzcGFuIGltbWVkaWF0ZWx5XG5cdCAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBjb2x1bW5zLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBzZXRSb3dTcGFuKG5ld0NvbHVtbik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBncm91cGVkLnB1c2gobmV3Q29sdW1uKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gZ3JvdXBlZDtcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIF9ncm91cENvbHVtbnMoX3RoaXM5LmNvbHVtbnMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKGVsZW1lbnRzKSB7XG5cdCAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNvbHVtbnMgPSBbXTtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdCAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNvbHVtbiA9IF9leHRlbmRzKHt9LCBlbGVtZW50LnByb3BzKTtcblx0ICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG5cdCAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlbGVtZW50LnR5cGUuaXNUYWJsZUNvbHVtbkdyb3VwKSB7XG5cdCAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gX3RoaXMxMC5ub3JtYWxpemUoY29sdW1uLmNoaWxkcmVuKTtcblx0ICAgICAgfVxuXHQgICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGNvbHVtbnM7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldChjb2x1bW5zLCBlbGVtZW50cykge1xuXHQgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG5cdCAgICB0aGlzLl9jYWNoZWQgPSB7fTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5fY2FjaGUgPSBmdW5jdGlvbiBfY2FjaGUobmFtZSwgZm4pIHtcblx0ICAgIGlmIChuYW1lIGluIHRoaXMuX2NhY2hlZCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fY2FjaGVkW25hbWVdID0gZm4oKTtcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2xlYWZDb2x1bW5zID0gZnVuY3Rpb24gX2xlYWZDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgIHZhciBfdGhpczExID0gdGhpcztcblx0XG5cdCAgICB2YXIgbGVhZkNvbHVtbnMgPSBbXTtcblx0ICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgIGlmICghY29sdW1uLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMucHVzaChjb2x1bW4pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zLnB1c2guYXBwbHkobGVhZkNvbHVtbnMsIF90b0NvbnN1bWFibGVBcnJheShfdGhpczExLl9sZWFmQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pKSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGxlYWZDb2x1bW5zO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDb2x1bW5NYW5hZ2VyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbk1hbmFnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgRXhwYW5kSWNvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKEV4cGFuZEljb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBFeHBhbmRJY29uKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4cGFuZEljb24pO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgRXhwYW5kSWNvbi5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuXHQgICAgcmV0dXJuICEoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpO1xuXHQgIH07XG5cdFxuXHQgIEV4cGFuZEljb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIG9uRXhwYW5kID0gX3Byb3BzLm9uRXhwYW5kLFxuXHQgICAgICAgIG5lZWRJbmRlbnRTcGFjZWQgPSBfcHJvcHMubmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgICBleHBhbmRlZCA9IF9wcm9wcy5leHBhbmRlZCxcblx0ICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkO1xuXHRcblx0ICAgIGlmIChleHBhbmRhYmxlKSB7XG5cdCAgICAgIHZhciBleHBhbmRDbGFzc05hbWUgPSBleHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJztcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLScgKyBleHBhbmRDbGFzc05hbWUsXG5cdCAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICByZXR1cm4gb25FeHBhbmQoIWV4cGFuZGVkLCByZWNvcmQsIGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2UgaWYgKG5lZWRJbmRlbnRTcGFjZWQpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbiAnICsgcHJlZml4Q2xzICsgJy1zcGFjZWQnIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIEV4cGFuZEljb247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdEV4cGFuZEljb24ucHJvcFR5cGVzID0ge1xuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBleHBhbmRhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBleHBhbmRlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXhwYW5kSWNvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1RhYmxlUm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpO1xuXHRcblx0dmFyIF9UYWJsZVJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZVJvdyk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXHRcblx0dmFyIF9UYWJsZUhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUhlYWRlcik7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cdFxuXHR2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0XG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblx0XG5cdHZhciBfQ29sdW1uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTM2KTtcblx0XG5cdHZhciBfQ29sdW1uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5NYW5hZ2VyKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblx0XG5cdHZhciBfY29tcG9uZW50Q2xhc3NlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5vbkV4cGFuZGVkID0gZnVuY3Rpb24gKGV4cGFuZGVkLCByZWNvcmQsIGUsIGluZGV4KSB7XG5cdCAgICAgIGlmIChlKSB7XG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGluZm8gPSBfdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkKTtcblx0ICAgICAgaWYgKHR5cGVvZiBpbmZvICE9PSAndW5kZWZpbmVkJyAmJiAhZXhwYW5kZWQpIHtcblx0ICAgICAgICBfdGhpcy5vblJvd0Rlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWluZm8gJiYgZXhwYW5kZWQpIHtcblx0ICAgICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpKTtcblx0ICAgICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uRXhwYW5kKGV4cGFuZGVkLCByZWNvcmQpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5vblJvd0Rlc3Ryb3kgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCkge1xuXHQgICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG5cdCAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCByb3dJbmRleCk7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xO1xuXHQgICAgICBleHBhbmRlZFJvd3MuZm9yRWFjaChmdW5jdGlvbiAociwgaSkge1xuXHQgICAgICAgIGlmIChyID09PSByb3dLZXkpIHtcblx0ICAgICAgICAgIGluZGV4ID0gaTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCgpO1xuXHQgICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHRhYmxlUmVjdCA9IF90aGlzLnRhYmxlTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgLy8gSWYgdGFibGVOb2RlJ3MgaGVpZ2h0IGxlc3MgdGhhbiAwLCBzdXBwb3NlIGl0IGlzIGhpZGRlbiBhbmQgZG9uJ3QgcmVjYWxjdWxhdGUgcm93SGVpZ2h0LlxuXHQgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzQ4MzZcblx0ICAgICAgaWYgKHRhYmxlUmVjdC5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiB0YWJsZVJlY3QuaGVpZ2h0IDw9IDApIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByZWZpeENscyA9IF90aGlzLnByb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgIHZhciBoZWFkUm93cyA9IF90aGlzLnJlZnMuaGVhZFRhYmxlID8gX3RoaXMucmVmcy5oZWFkVGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQnKSA6IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJyk7XG5cdCAgICAgIHZhciBib2R5Um93cyA9IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgcHJlZml4Q2xzICsgJy1yb3cnKSB8fCBbXTtcblx0ICAgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoaGVhZFJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChib2R5Um93cywgZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIHJldHVybiByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8ICdhdXRvJztcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmICgoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCwgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQpICYmICgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCxcblx0ICAgICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmRldGVjdFNjcm9sbFRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChfdGhpcy5zY3JvbGxUYXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkge1xuXHQgICAgICAgIF90aGlzLnNjcm9sbFRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVCb2R5U2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgLy8gUHJldmVudCBzY3JvbGxUb3Agc2V0dGVyIHRyaWdnZXIgb25TY3JvbGwgZXZlbnRcblx0ICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTM4NjY5NlxuXHQgICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLnNjcm9sbFRhcmdldCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMkc2Nyb2xsID0gX3RoaXMucHJvcHMuc2Nyb2xsLFxuXHQgICAgICAgICAgc2Nyb2xsID0gX3RoaXMkcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHNjcm9sbDtcblx0ICAgICAgdmFyIF90aGlzJHJlZnMgPSBfdGhpcy5yZWZzLFxuXHQgICAgICAgICAgaGVhZFRhYmxlID0gX3RoaXMkcmVmcy5oZWFkVGFibGUsXG5cdCAgICAgICAgICBib2R5VGFibGUgPSBfdGhpcyRyZWZzLmJvZHlUYWJsZSxcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlMZWZ0ID0gX3RoaXMkcmVmcy5maXhlZENvbHVtbnNCb2R5TGVmdCxcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keVJpZ2h0O1xuXHRcblx0ICAgICAgaWYgKHNjcm9sbC54ICYmIGUudGFyZ2V0LnNjcm9sbExlZnQgIT09IF90aGlzLmxhc3RTY3JvbGxMZWZ0KSB7XG5cdCAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBib2R5VGFibGUgJiYgaGVhZFRhYmxlKSB7XG5cdCAgICAgICAgICBoZWFkVGFibGUuc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gaGVhZFRhYmxlICYmIGJvZHlUYWJsZSkge1xuXHQgICAgICAgICAgYm9keVRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZShlLnRhcmdldCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHNjcm9sbC55KSB7XG5cdCAgICAgICAgaWYgKGZpeGVkQ29sdW1uc0JvZHlMZWZ0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5TGVmdCkge1xuXHQgICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keVJpZ2h0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5UmlnaHQpIHtcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChib2R5VGFibGUgJiYgZS50YXJnZXQgIT09IGJvZHlUYWJsZSkge1xuXHQgICAgICAgICAgYm9keVRhYmxlLnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUmVtZW1iZXIgbGFzdCBzY3JvbGxMZWZ0IGZvciBzY3JvbGwgZGlyZWN0aW9uIGRldGVjdGluZy5cblx0ICAgICAgX3RoaXMubGFzdFNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVSb3dIb3ZlciA9IGZ1bmN0aW9uIChpc0hvdmVyLCBrZXkpIHtcblx0ICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgIGN1cnJlbnRIb3ZlcktleTogaXNIb3ZlciA/IGtleSA6IG51bGxcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBleHBhbmRlZFJvd0tleXMgPSBbXTtcblx0ICAgIHZhciByb3dzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5kYXRhKSk7XG5cdCAgICBfdGhpcy5jb2x1bW5NYW5hZ2VyID0gbmV3IF9Db2x1bW5NYW5hZ2VyMltcImRlZmF1bHRcIl0ocHJvcHMuY29sdW1ucywgcHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgX3RoaXMuc3RvcmUgPSAoMCwgX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl0pKHsgY3VycmVudEhvdmVyS2V5OiBudWxsIH0pO1xuXHQgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2xlZnQnKTtcblx0XG5cdCAgICBpZiAocHJvcHMuZGVmYXVsdEV4cGFuZEFsbFJvd3MpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJvdyA9IHJvd3NbaV07XG5cdCAgICAgICAgZXhwYW5kZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJvdywgaSkpO1xuXHQgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdChyb3dbcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lXSB8fCBbXSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGV4cGFuZGVkUm93S2V5cyA9IHByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCBwcm9wcy5kZWZhdWx0RXhwYW5kZWRSb3dLZXlzO1xuXHQgICAgfVxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzLFxuXHQgICAgICBjdXJyZW50SG92ZXJLZXk6IG51bGwsXG5cdCAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBbXSxcblx0ICAgICAgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ6IFtdXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcblx0ICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcblx0ICAgICAgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUgPSAoMCwgX3V0aWxzLmRlYm91bmNlKSh0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSwgMTUwKTtcblx0ICAgICAgdGhpcy5yZXNpemVFdmVudCA9ICgwLCBfYWRkRXZlbnRMaXN0ZW5lcjJbXCJkZWZhdWx0XCJdKSh3aW5kb3csICdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdleHBhbmRlZFJvd0tleXMnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBleHBhbmRlZFJvd0tleXM6IG5leHRQcm9wcy5leHBhbmRlZFJvd0tleXNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBpZiAobmV4dFByb3BzLmNvbHVtbnMgJiYgbmV4dFByb3BzLmNvbHVtbnMgIT09IHRoaXMucHJvcHMuY29sdW1ucykge1xuXHQgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIucmVzZXQobmV4dFByb3BzLmNvbHVtbnMpO1xuXHQgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuY2hpbGRyZW4gIT09IHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcblx0ICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG51bGwsIG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcblx0ICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuXHQgICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuXHQgICAgfVxuXHQgICAgLy8gd2hlbiB0YWJsZSBjaGFuZ2VzIHRvIGVtcHR5LCByZXNldCBzY3JvbGxMZWZ0XG5cdCAgICBpZiAocHJldlByb3BzLmRhdGEubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09PSAwICYmIHRoaXMuaGFzU2Nyb2xsWCgpKSB7XG5cdCAgICAgIHRoaXMucmVzZXRTY3JvbGxYKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICBpZiAodGhpcy5yZXNpemVFdmVudCkge1xuXHQgICAgICB0aGlzLnJlc2l6ZUV2ZW50LnJlbW92ZSgpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKSB7XG5cdCAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplLmNhbmNlbCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5vbkV4cGFuZGVkUm93c0NoYW5nZSA9IGZ1bmN0aW9uIG9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cykge1xuXHQgICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cyk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd0tleSA9IGZ1bmN0aW9uIGdldFJvd0tleShyZWNvcmQsIGluZGV4KSB7XG5cdCAgICB2YXIgcm93S2V5ID0gdGhpcy5wcm9wcy5yb3dLZXk7XG5cdCAgICB2YXIga2V5ID0gdHlwZW9mIHJvd0tleSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0tleShyZWNvcmQsIGluZGV4KSA6IHJlY29yZFtyb3dLZXldO1xuXHQgICAgKDAsIF91dGlscy53YXJuaW5nT25jZSkoa2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCcgKyAnb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleS4nKTtcblx0ICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDoga2V5O1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJvd3MgPSBmdW5jdGlvbiBnZXRFeHBhbmRlZFJvd3MoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5leHBhbmRlZFJvd0tleXMgfHwgdGhpcy5zdGF0ZS5leHBhbmRlZFJvd0tleXM7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIGdldEhlYWRlcihjb2x1bW5zLCBmaXhlZCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc2hvd0hlYWRlciA9IF9wcm9wcy5zaG93SGVhZGVyLFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgIHZhciByb3dzID0gdGhpcy5nZXRIZWFkZXJSb3dzKGNvbHVtbnMpO1xuXHRcblx0ICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG5cdCAgICAgIHJvd3NbMF0udW5zaGlmdCh7XG5cdCAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kSWNvbkFzQ2VsbCcsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLXRoJyxcblx0ICAgICAgICB0aXRsZTogJycsXG5cdCAgICAgICAgcm93U3Bhbjogcm93cy5sZW5ndGhcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHRyU3R5bGUgPSBmaXhlZCA/IHRoaXMuZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykgOiBudWxsO1xuXHRcblx0ICAgIHJldHVybiBzaG93SGVhZGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgcm93czogcm93cyxcblx0ICAgICAgcm93U3R5bGU6IHRyU3R5bGVcblx0ICAgIH0pIDogbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93cyA9IGZ1bmN0aW9uIGdldEhlYWRlclJvd3MoY29sdW1ucykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cdCAgICB2YXIgcm93cyA9IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgICByb3dzID0gcm93cyB8fCBbXTtcblx0ICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuXHRcblx0ICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgIGlmIChjb2x1bW4ucm93U3BhbiAmJiByb3dzLmxlbmd0aCA8IGNvbHVtbi5yb3dTcGFuKSB7XG5cdCAgICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcblx0ICAgICAgICAgIHJvd3MucHVzaChbXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZhciBjZWxsID0ge1xuXHQgICAgICAgIGtleTogY29sdW1uLmtleSxcblx0ICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfHwgJycsXG5cdCAgICAgICAgY2hpbGRyZW46IGNvbHVtbi50aXRsZVxuXHQgICAgICB9O1xuXHQgICAgICBpZiAoY29sdW1uLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgX3RoaXMyLmdldEhlYWRlclJvd3MoY29sdW1uLmNoaWxkcmVuLCBjdXJyZW50Um93ICsgMSwgcm93cyk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCdjb2xTcGFuJyBpbiBjb2x1bW4pIHtcblx0ICAgICAgICBjZWxsLmNvbFNwYW4gPSBjb2x1bW4uY29sU3Bhbjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoJ3Jvd1NwYW4nIGluIGNvbHVtbikge1xuXHQgICAgICAgIGNlbGwucm93U3BhbiA9IGNvbHVtbi5yb3dTcGFuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChjZWxsLmNvbFNwYW4gIT09IDApIHtcblx0ICAgICAgICByb3dzW2N1cnJlbnRSb3ddLnB1c2goY2VsbCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgcmV0dXJuIHJvdy5sZW5ndGggPiAwO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3coa2V5LCBjb250ZW50LCB2aXNpYmxlLCBjbGFzc05hbWUsIGZpeGVkKSB7XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczIuZXhwYW5kSWNvbkFzQ2VsbDtcblx0XG5cdCAgICB2YXIgY29sQ291bnQgPSB2b2lkIDA7XG5cdCAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG5cdCAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIHZhciBjb2x1bW5zID0gW3tcblx0ICAgICAga2V5OiAnZXh0cmEtcm93Jyxcblx0ICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHByb3BzOiB7XG5cdCAgICAgICAgICAgIGNvbFNwYW46IGNvbENvdW50XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgY2hpbGRyZW46IGZpeGVkICE9PSAncmlnaHQnID8gY29udGVudCA6ICcmbmJzcDsnXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfV07XG5cdCAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuXHQgICAgICBjb2x1bW5zLnVuc2hpZnQoe1xuXHQgICAgICAgIGtleTogJ2V4cGFuZC1pY29uLXBsYWNlaG9sZGVyJyxcblx0ICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVSb3cyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuXHQgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAga2V5OiBrZXkgKyAnLWV4dHJhLXJvdycsXG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1leHBhbmRlZC1yb3cnLFxuXHQgICAgICBpbmRlbnQ6IDEsXG5cdCAgICAgIGV4cGFuZGFibGU6IGZhbHNlLFxuXHQgICAgICBzdG9yZTogdGhpcy5zdG9yZVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd3NCeURhdGEgPSBmdW5jdGlvbiBnZXRSb3dzQnlEYXRhKGRhdGEsIHZpc2libGUsIGluZGVudCwgY29sdW1ucywgZml4ZWQpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hpbGRyZW5Db2x1bW5OYW1lID0gcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lO1xuXHQgICAgdmFyIGV4cGFuZGVkUm93UmVuZGVyID0gcHJvcHMuZXhwYW5kZWRSb3dSZW5kZXI7XG5cdCAgICB2YXIgZXhwYW5kUm93QnlDbGljayA9IHByb3BzLmV4cGFuZFJvd0J5Q2xpY2s7XG5cdCAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSB0aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0O1xuXHRcblx0ICAgIHZhciByc3QgPSBbXTtcblx0ICAgIHZhciByb3dDbGFzc05hbWUgPSBwcm9wcy5yb3dDbGFzc05hbWU7XG5cdCAgICB2YXIgcm93UmVmID0gcHJvcHMucm93UmVmO1xuXHQgICAgdmFyIGV4cGFuZGVkUm93Q2xhc3NOYW1lID0gcHJvcHMuZXhwYW5kZWRSb3dDbGFzc05hbWU7XG5cdCAgICB2YXIgbmVlZEluZGVudFNwYWNlZCA9IHByb3BzLmRhdGEuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7XG5cdCAgICAgIHJldHVybiByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcblx0ICAgIH0pO1xuXHQgICAgdmFyIG9uUm93Q2xpY2sgPSBwcm9wcy5vblJvd0NsaWNrO1xuXHQgICAgdmFyIG9uUm93RG91YmxlQ2xpY2sgPSBwcm9wcy5vblJvd0RvdWJsZUNsaWNrO1xuXHRcblx0ICAgIHZhciBleHBhbmRJY29uQXNDZWxsID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQXNDZWxsIDogZmFsc2U7XG5cdCAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQ29sdW1uSW5kZXggOiAtMTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIHJlY29yZCA9IGRhdGFbaV07XG5cdCAgICAgIHZhciBrZXkgPSB0aGlzLmdldFJvd0tleShyZWNvcmQsIGkpO1xuXHQgICAgICB2YXIgY2hpbGRyZW5Db2x1bW4gPSByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcblx0ICAgICAgdmFyIGlzUm93RXhwYW5kZWQgPSB0aGlzLmlzUm93RXhwYW5kZWQocmVjb3JkLCBpKTtcblx0ICAgICAgdmFyIGV4cGFuZGVkUm93Q29udGVudCA9IHZvaWQgMDtcblx0ICAgICAgaWYgKGV4cGFuZGVkUm93UmVuZGVyICYmIGlzUm93RXhwYW5kZWQpIHtcblx0ICAgICAgICBleHBhbmRlZFJvd0NvbnRlbnQgPSBleHBhbmRlZFJvd1JlbmRlcihyZWNvcmQsIGksIGluZGVudCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNsYXNzTmFtZSA9IHJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCk7XG5cdFxuXHQgICAgICB2YXIgb25Ib3ZlclByb3BzID0ge307XG5cdCAgICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuXHQgICAgICAgIG9uSG92ZXJQcm9wcy5vbkhvdmVyID0gdGhpcy5oYW5kbGVSb3dIb3Zlcjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGhlaWdodCA9IGZpeGVkICYmIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0W2ldID8gZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gOiBudWxsO1xuXHRcblx0ICAgICAgdmFyIGxlYWZDb2x1bW5zID0gdm9pZCAwO1xuXHQgICAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuXHQgICAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJzdC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlUm93MltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHtcblx0ICAgICAgICBpbmRlbnQ6IGluZGVudCxcblx0ICAgICAgICBpbmRlbnRTaXplOiBwcm9wcy5pbmRlbnRTaXplLFxuXHQgICAgICAgIG5lZWRJbmRlbnRTcGFjZWQ6IG5lZWRJbmRlbnRTcGFjZWQsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgICAgcmVjb3JkOiByZWNvcmQsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbDogZXhwYW5kSWNvbkFzQ2VsbCxcblx0ICAgICAgICBvbkRlc3Ryb3k6IHRoaXMub25Sb3dEZXN0cm95LFxuXHQgICAgICAgIGluZGV4OiBpLFxuXHQgICAgICAgIHZpc2libGU6IHZpc2libGUsXG5cdCAgICAgICAgZXhwYW5kUm93QnlDbGljazogZXhwYW5kUm93QnlDbGljayxcblx0ICAgICAgICBvbkV4cGFuZDogdGhpcy5vbkV4cGFuZGVkLFxuXHQgICAgICAgIGV4cGFuZGFibGU6IGNoaWxkcmVuQ29sdW1uIHx8IGV4cGFuZGVkUm93UmVuZGVyLFxuXHQgICAgICAgIGV4cGFuZGVkOiBpc1Jvd0V4cGFuZGVkLFxuXHQgICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1yb3cnLFxuXHQgICAgICAgIGNoaWxkcmVuQ29sdW1uTmFtZTogY2hpbGRyZW5Db2x1bW5OYW1lLFxuXHQgICAgICAgIGNvbHVtbnM6IGxlYWZDb2x1bW5zLFxuXHQgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuXHQgICAgICAgIG9uUm93Q2xpY2s6IG9uUm93Q2xpY2ssXG5cdCAgICAgICAgb25Sb3dEb3VibGVDbGljazogb25Sb3dEb3VibGVDbGljayxcblx0ICAgICAgICBoZWlnaHQ6IGhlaWdodFxuXHQgICAgICB9LCBvbkhvdmVyUHJvcHMsIHtcblx0ICAgICAgICBrZXk6IGtleSxcblx0ICAgICAgICBob3ZlcktleToga2V5LFxuXHQgICAgICAgIHJlZjogcm93UmVmKHJlY29yZCwgaSwgaW5kZW50KSxcblx0ICAgICAgICBzdG9yZTogdGhpcy5zdG9yZVxuXHQgICAgICB9KSkpO1xuXHRcblx0ICAgICAgdmFyIHN1YlZpc2libGUgPSB2aXNpYmxlICYmIGlzUm93RXhwYW5kZWQ7XG5cdFxuXHQgICAgICBpZiAoZXhwYW5kZWRSb3dDb250ZW50ICYmIGlzUm93RXhwYW5kZWQpIHtcblx0ICAgICAgICByc3QucHVzaCh0aGlzLmdldEV4cGFuZGVkUm93KGtleSwgZXhwYW5kZWRSb3dDb250ZW50LCBzdWJWaXNpYmxlLCBleHBhbmRlZFJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCksIGZpeGVkKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNoaWxkcmVuQ29sdW1uKSB7XG5cdCAgICAgICAgcnN0ID0gcnN0LmNvbmNhdCh0aGlzLmdldFJvd3NCeURhdGEoY2hpbGRyZW5Db2x1bW4sIHN1YlZpc2libGUsIGluZGVudCArIDEsIGNvbHVtbnMsIGZpeGVkKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByc3Q7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRSb3dzQnlEYXRhKHRoaXMucHJvcHMuZGF0YSwgdHJ1ZSwgMCwgY29sdW1ucywgZml4ZWQpO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2xHcm91cCA9IGZ1bmN0aW9uIGdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICB2YXIgY29scyA9IFtdO1xuXHQgICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuXHQgICAgICBjb2xzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLWNvbCcsXG5cdCAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY29sJ1xuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGVhZkNvbHVtbnMgPSB2b2lkIDA7XG5cdCAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKTtcblx0ICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKTtcblx0ICAgIH1cblx0ICAgIGNvbHMgPSBjb2xzLmNvbmNhdChsZWFmQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHsga2V5OiBjLmtleSwgc3R5bGU6IHsgd2lkdGg6IGMud2lkdGgsIG1pbldpZHRoOiBjLndpZHRoIH0gfSk7XG5cdCAgICB9KSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2NvbGdyb3VwJyxcblx0ICAgICAgbnVsbCxcblx0ICAgICAgY29sc1xuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0TGVmdEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRMZWZ0Rml4ZWRUYWJsZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcblx0ICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRDb2x1bW5zKCksXG5cdCAgICAgIGZpeGVkOiAnbGVmdCdcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRSaWdodEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRSaWdodEZpeGVkVGFibGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRUYWJsZSh7XG5cdCAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodENvbHVtbnMoKSxcblx0ICAgICAgZml4ZWQ6ICdyaWdodCdcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRUYWJsZSA9IGZ1bmN0aW9uIGdldFRhYmxlKCkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXHQgICAgdmFyIGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnMsXG5cdCAgICAgICAgZml4ZWQgPSBvcHRpb25zLmZpeGVkO1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuXHQgICAgICAgIF9wcm9wczMkc2Nyb2xsID0gX3Byb3BzMy5zY3JvbGwsXG5cdCAgICAgICAgc2Nyb2xsID0gX3Byb3BzMyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzMyRzY3JvbGwsXG5cdCAgICAgICAgZ2V0Qm9keVdyYXBwZXIgPSBfcHJvcHMzLmdldEJvZHlXcmFwcGVyO1xuXHQgICAgdmFyIHVzZUZpeGVkSGVhZGVyID0gdGhpcy5wcm9wcy51c2VGaXhlZEhlYWRlcjtcblx0XG5cdCAgICB2YXIgYm9keVN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuYm9keVN0eWxlKTtcblx0ICAgIHZhciBoZWFkU3R5bGUgPSB7fTtcblx0XG5cdCAgICB2YXIgdGFibGVDbGFzc05hbWUgPSAnJztcblx0ICAgIGlmIChzY3JvbGwueCB8fCBmaXhlZCkge1xuXHQgICAgICB0YWJsZUNsYXNzTmFtZSA9IHByZWZpeENscyArICctZml4ZWQnO1xuXHQgICAgICBib2R5U3R5bGUub3ZlcmZsb3dYID0gYm9keVN0eWxlLm92ZXJmbG93WCB8fCAnYXV0byc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlubmVyQm9keVN0eWxlID0ge307XG5cdCAgICBpZiAoc2Nyb2xsLnkpIHtcblx0ICAgICAgLy8gbWF4SGVpZ2h0IHdpbGwgbWFrZSBmaXhlZC1UYWJsZSBzY3JvbGxpbmcgbm90IHdvcmtpbmdcblx0ICAgICAgLy8gc28gd2Ugb25seSBzZXQgbWF4SGVpZ2h0IHRvIGJvZHktVGFibGUgaGVyZVxuXHQgICAgICBpZiAoZml4ZWQpIHtcblx0ICAgICAgICBpbm5lckJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuXHQgICAgICAgIGlubmVyQm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYm9keVN0eWxlLm1heEhlaWdodCA9IGJvZHlTdHlsZS5tYXhIZWlnaHQgfHwgc2Nyb2xsLnk7XG5cdCAgICAgIH1cblx0ICAgICAgYm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG5cdCAgICAgIHVzZUZpeGVkSGVhZGVyID0gdHJ1ZTtcblx0XG5cdCAgICAgIC8vIEFkZCBuZWdhdGl2ZSBtYXJnaW4gYm90dG9tIGZvciBzY3JvbGwgYmFyIG92ZXJmbG93IGJ1Z1xuXHQgICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSAoMCwgX3V0aWxzLm1lYXN1cmVTY3JvbGxiYXIpKCk7XG5cdCAgICAgIGlmIChzY3JvbGxiYXJXaWR0aCA+IDApIHtcblx0ICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLm1hcmdpbkJvdHRvbSA9ICctJyArIHNjcm9sbGJhcldpZHRoICsgJ3B4Jztcblx0ICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLnBhZGRpbmdCb3R0b20gPSAnMHB4Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZW5kZXJUYWJsZSA9IGZ1bmN0aW9uIHJlbmRlclRhYmxlKCkge1xuXHQgICAgICB2YXIgaGFzSGVhZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblx0ICAgICAgdmFyIGhhc0JvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cdFxuXHQgICAgICB2YXIgdGFibGVTdHlsZSA9IHt9O1xuXHQgICAgICBpZiAoIWZpeGVkICYmIHNjcm9sbC54KSB7XG5cdCAgICAgICAgLy8gbm90IHNldCB3aWR0aCwgdGhlbiB1c2UgY29udGVudCBmaXhlZCB3aWR0aFxuXHQgICAgICAgIGlmIChzY3JvbGwueCA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgdGFibGVTdHlsZS50YWJsZUxheW91dCA9ICdmaXhlZCc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRhYmxlU3R5bGUud2lkdGggPSBzY3JvbGwueDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRhYmxlQm9keSA9IGhhc0JvZHkgPyBnZXRCb2R5V3JhcHBlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0Ym9keScsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG5cdCAgICAgICAgX3RoaXMzLmdldFJvd3MoY29sdW1ucywgZml4ZWQpXG5cdCAgICAgICkpIDogbnVsbDtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogdGFibGVDbGFzc05hbWUsIHN0eWxlOiB0YWJsZVN0eWxlLCBrZXk6ICd0YWJsZScgfSxcblx0ICAgICAgICBfdGhpczMuZ2V0Q29sR3JvdXAoY29sdW1ucywgZml4ZWQpLFxuXHQgICAgICAgIGhhc0hlYWQgPyBfdGhpczMuZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSA6IG51bGwsXG5cdCAgICAgICAgdGFibGVCb2R5XG5cdCAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBoZWFkVGFibGUgPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKHVzZUZpeGVkSGVhZGVyKSB7XG5cdCAgICAgIGhlYWRUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAga2V5OiAnaGVhZFRhYmxlJyxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLFxuXHQgICAgICAgICAgcmVmOiBmaXhlZCA/IG51bGwgOiAnaGVhZFRhYmxlJyxcblx0ICAgICAgICAgIHN0eWxlOiBoZWFkU3R5bGUsXG5cdCAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyVGFibGUodHJ1ZSwgZmFsc2UpXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGJvZHlUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7XG5cdCAgICAgICAga2V5OiAnYm9keVRhYmxlJyxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsXG5cdCAgICAgICAgc3R5bGU6IGJvZHlTdHlsZSxcblx0ICAgICAgICByZWY6ICdib2R5VGFibGUnLFxuXHQgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcblx0ICAgICAgfSxcblx0ICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuXHQgICAgKTtcblx0XG5cdCAgICBpZiAoZml4ZWQgJiYgY29sdW1ucy5sZW5ndGgpIHtcblx0ICAgICAgdmFyIHJlZk5hbWUgPSB2b2lkIDA7XG5cdCAgICAgIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uc1swXS5maXhlZCA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHJlZk5hbWUgPSAnZml4ZWRDb2x1bW5zQm9keUxlZnQnO1xuXHQgICAgICB9IGVsc2UgaWYgKGNvbHVtbnNbMF0uZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlSaWdodCc7XG5cdCAgICAgIH1cblx0ICAgICAgZGVsZXRlIGJvZHlTdHlsZS5vdmVyZmxvd1g7XG5cdCAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dZO1xuXHQgICAgICBib2R5VGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGtleTogJ2JvZHlUYWJsZScsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1vdXRlcicsXG5cdCAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIGJvZHlTdHlsZSlcblx0ICAgICAgICB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktaW5uZXInLFxuXHQgICAgICAgICAgICBzdHlsZTogaW5uZXJCb2R5U3R5bGUsXG5cdCAgICAgICAgICAgIHJlZjogcmVmTmFtZSxcblx0ICAgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBbaGVhZFRhYmxlLCBib2R5VGFibGVdO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuXHQgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHRpdGxlID0gX3Byb3BzNC50aXRsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM0LnByZWZpeENscztcblx0XG5cdCAgICByZXR1cm4gdGl0bGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnLCBrZXk6ICd0aXRsZScgfSxcblx0ICAgICAgdGl0bGUodGhpcy5wcm9wcy5kYXRhKVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEZvb3RlciA9IGZ1bmN0aW9uIGdldEZvb3RlcigpIHtcblx0ICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBmb290ZXIgPSBfcHJvcHM1LmZvb3Rlcixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM1LnByZWZpeENscztcblx0XG5cdCAgICByZXR1cm4gZm9vdGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIGtleTogJ2Zvb3RlcicgfSxcblx0ICAgICAgZm9vdGVyKHRoaXMucHJvcHMuZGF0YSlcblx0ICAgICkgOiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRFbXB0eVRleHQgPSBmdW5jdGlvbiBnZXRFbXB0eVRleHQoKSB7XG5cdCAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZW1wdHlUZXh0ID0gX3Byb3BzNi5lbXB0eVRleHQsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNi5wcmVmaXhDbHMsXG5cdCAgICAgICAgZGF0YSA9IF9wcm9wczYuZGF0YTtcblx0XG5cdCAgICByZXR1cm4gIWRhdGEubGVuZ3RoID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBsYWNlaG9sZGVyJywga2V5OiAnZW1wdHlUZXh0JyB9LFxuXHQgICAgICBlbXB0eVRleHQoKVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd1N0eWxlID0gZnVuY3Rpb24gZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykge1xuXHQgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDtcblx0XG5cdCAgICB2YXIgaGVhZGVySGVpZ2h0ID0gZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHRbMF07XG5cdCAgICBpZiAoaGVhZGVySGVpZ2h0ICYmIGNvbHVtbnMpIHtcblx0ICAgICAgaWYgKGhlYWRlckhlaWdodCA9PT0gJ2F1dG8nKSB7XG5cdCAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAnYXV0bycgfTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4geyBoZWlnaHQ6IGhlYWRlckhlaWdodCAvIHJvd3MubGVuZ3RoIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb24gPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbihwb3NpdGlvbikge1xuXHQgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHBvc2l0aW9uO1xuXHQgICAgaWYgKHRoaXMudGFibGVOb2RlKSB7XG5cdCAgICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG5cdCAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQnKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkodGhpcy50YWJsZU5vZGUpLnJlbW92ZShuZXcgUmVnRXhwKCdeJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLS4rJCcpKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHBvc2l0aW9uKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSA9IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKHRhcmdldCkge1xuXHQgICAgdmFyIG5vZGUgPSB0YXJnZXQgfHwgdGhpcy5yZWZzLmJvZHlUYWJsZTtcblx0ICAgIHZhciBzY3JvbGxUb0xlZnQgPSBub2RlLnNjcm9sbExlZnQgPT09IDA7XG5cdCAgICB2YXIgc2Nyb2xsVG9SaWdodCA9IG5vZGUuc2Nyb2xsTGVmdCArIDEgPj0gbm9kZS5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG5cdCAgICBpZiAoc2Nyb2xsVG9MZWZ0ICYmIHNjcm9sbFRvUmlnaHQpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignYm90aCcpO1xuXHQgICAgfSBlbHNlIGlmIChzY3JvbGxUb0xlZnQpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuXHQgICAgfSBlbHNlIGlmIChzY3JvbGxUb1JpZ2h0KSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ3JpZ2h0Jyk7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsUG9zaXRpb24gIT09ICdtaWRkbGUnKSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ21pZGRsZScpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5yZXNldFNjcm9sbFggPSBmdW5jdGlvbiByZXNldFNjcm9sbFgoKSB7XG5cdCAgICBpZiAodGhpcy5yZWZzLmhlYWRUYWJsZSkge1xuXHQgICAgICB0aGlzLnJlZnMuaGVhZFRhYmxlLnNjcm9sbExlZnQgPSAwO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMucmVmcy5ib2R5VGFibGUpIHtcblx0ICAgICAgdGhpcy5yZWZzLmJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZmluZEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIHZhciByb3dzID0gdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgcmV0dXJuIGkgPT09IF90aGlzNC5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByb3dzWzBdO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5pc1Jvd0V4cGFuZGVkID0gZnVuY3Rpb24gaXNSb3dFeHBhbmRlZChyZWNvcmQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHRoaXMuZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpICE9PSAndW5kZWZpbmVkJztcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuaGFzU2Nyb2xsWCA9IGZ1bmN0aW9uIGhhc1Njcm9sbFgoKSB7XG5cdCAgICB2YXIgX3Byb3BzJHNjcm9sbCA9IHRoaXMucHJvcHMuc2Nyb2xsLFxuXHQgICAgICAgIHNjcm9sbCA9IF9wcm9wcyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHNjcm9sbDtcblx0XG5cdCAgICByZXR1cm4gJ3gnIGluIHNjcm9sbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLnByZWZpeENscztcblx0ICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByb3BzLmNsYXNzTmFtZTtcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wcy51c2VGaXhlZEhlYWRlciB8fCBwcm9wcy5zY3JvbGwgJiYgcHJvcHMuc2Nyb2xsLnkpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctZml4ZWQtaGVhZGVyJztcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAnYm90aCcpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLXJpZ2h0Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgdGhpcy5zY3JvbGxQb3NpdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaXNUYWJsZVNjcm9sbCA9IHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpIHx8IHByb3BzLnNjcm9sbC54IHx8IHByb3BzLnNjcm9sbC55O1xuXHRcblx0ICAgIHZhciBjb250ZW50ID0gW3RoaXMuZ2V0VGFibGUoeyBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIuZ3JvdXBlZENvbHVtbnMoKSB9KSwgdGhpcy5nZXRFbXB0eVRleHQoKSwgdGhpcy5nZXRGb290ZXIoKV07XG5cdFxuXHQgICAgdmFyIHNjcm9sbFRhYmxlID0gaXNUYWJsZVNjcm9sbCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zY3JvbGwnIH0sXG5cdCAgICAgIGNvbnRlbnRcblx0ICAgICkgOiBjb250ZW50O1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXM1LnRhYmxlTm9kZSA9IG5vZGU7XG5cdCAgICAgICAgfSwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuXHQgICAgICB0aGlzLmdldFRpdGxlKCksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSxcblx0ICAgICAgICBzY3JvbGxUYWJsZSxcblx0ICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtbGVmdCcgfSxcblx0ICAgICAgICAgIHRoaXMuZ2V0TGVmdEZpeGVkVGFibGUoKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQoKSAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1yaWdodCcgfSxcblx0ICAgICAgICAgIHRoaXMuZ2V0UmlnaHRGaXhlZFRhYmxlKClcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZS5wcm9wVHlwZXMgPSB7XG5cdCAgZGF0YTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZGVmYXVsdEV4cGFuZEFsbFJvd3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBleHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBib2R5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICByb3dLZXk6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSksXG5cdCAgcm93Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjaGlsZHJlbkNvbHVtbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgc2hvd0hlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZW1wdHlUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2Nyb2xsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICByb3dSZWY6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBnZXRCb2R5V3JhcHBlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcblx0fTtcblx0VGFibGUuZGVmYXVsdFByb3BzID0ge1xuXHQgIGRhdGE6IFtdLFxuXHQgIHVzZUZpeGVkSGVhZGVyOiBmYWxzZSxcblx0ICBleHBhbmRJY29uQXNDZWxsOiBmYWxzZSxcblx0ICBkZWZhdWx0RXhwYW5kQWxsUm93czogZmFsc2UsXG5cdCAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogW10sXG5cdCAgcm93S2V5OiAna2V5Jyxcblx0ICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZSgpIHtcblx0ICAgIHJldHVybiAnJztcblx0ICB9LFxuXHQgIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiBleHBhbmRlZFJvd0NsYXNzTmFtZSgpIHtcblx0ICAgIHJldHVybiAnJztcblx0ICB9LFxuXHQgIG9uRXhwYW5kOiBmdW5jdGlvbiBvbkV4cGFuZCgpIHt9LFxuXHQgIG9uRXhwYW5kZWRSb3dzQ2hhbmdlOiBmdW5jdGlvbiBvbkV4cGFuZGVkUm93c0NoYW5nZSgpIHt9LFxuXHQgIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cdFxuXHQgIHByZWZpeENsczogJ3JjLXRhYmxlJyxcblx0ICBib2R5U3R5bGU6IHt9LFxuXHQgIHN0eWxlOiB7fSxcblx0ICBjaGlsZHJlbkNvbHVtbk5hbWU6ICdjaGlsZHJlbicsXG5cdCAgaW5kZW50U2l6ZTogMTUsXG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuXHQgIHNob3dIZWFkZXI6IHRydWUsXG5cdCAgc2Nyb2xsOiB7fSxcblx0ICByb3dSZWY6IGZ1bmN0aW9uIHJvd1JlZigpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH0sXG5cdCAgZ2V0Qm9keVdyYXBwZXI6IGZ1bmN0aW9uIGdldEJvZHlXcmFwcGVyKGJvZHkpIHtcblx0ICAgIHJldHVybiBib2R5O1xuXHQgIH0sXG5cdCAgZW1wdHlUZXh0OiBmdW5jdGlvbiBlbXB0eVRleHQoKSB7XG5cdCAgICByZXR1cm4gJ05vIERhdGEnO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDQpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGVDZWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVDZWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVDZWxsKCkge1xuXHQgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDZWxsKTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuXHQgICAgICAgICAgb25DZWxsQ2xpY2sgPSBfdGhpcyRwcm9wcy5jb2x1bW4ub25DZWxsQ2xpY2s7XG5cdFxuXHQgICAgICBpZiAob25DZWxsQ2xpY2spIHtcblx0ICAgICAgICBvbkNlbGxDbGljayhyZWNvcmQsIGUpO1xuXHQgICAgICB9XG5cdCAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlQ2VsbC5wcm90b3R5cGUuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQgPSBmdW5jdGlvbiBpc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSB7XG5cdCAgICByZXR1cm4gdGV4dCAmJiAhX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQodGV4dCkgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHQpID09PSAnW29iamVjdCBPYmplY3RdJztcblx0ICB9O1xuXHRcblx0ICBUYWJsZUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wcy5yZWNvcmQsXG5cdCAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wcy5pbmRlbnRTaXplLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgaW5kZW50ID0gX3Byb3BzLmluZGVudCxcblx0ICAgICAgICBpbmRleCA9IF9wcm9wcy5pbmRleCxcblx0ICAgICAgICBleHBhbmRJY29uID0gX3Byb3BzLmV4cGFuZEljb24sXG5cdCAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbjtcblx0ICAgIHZhciBkYXRhSW5kZXggPSBjb2x1bW4uZGF0YUluZGV4LFxuXHQgICAgICAgIHJlbmRlciA9IGNvbHVtbi5yZW5kZXIsXG5cdCAgICAgICAgX2NvbHVtbiRjbGFzc05hbWUgPSBjb2x1bW4uY2xhc3NOYW1lLFxuXHQgICAgICAgIGNsYXNzTmFtZSA9IF9jb2x1bW4kY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9jb2x1bW4kY2xhc3NOYW1lO1xuXHRcblx0ICAgIC8vIFdlIHNob3VsZCByZXR1cm4gdW5kZWZpbmVkIGlmIG5vIGRhdGFJbmRleCBpcyBzcGVjaWZpZWQsIGJ1dCBpbiBvcmRlciB0b1xuXHQgICAgLy8gYmUgY29tcGF0aWJsZSB3aXRoIG9iamVjdC1wYXRoJ3MgYmVoYXZpb3IsIHdlIHJldHVybiB0aGUgcmVjb3JkIG9iamVjdCBpbnN0ZWFkLlxuXHRcblx0ICAgIHZhciB0ZXh0ID0gdm9pZCAwO1xuXHQgICAgaWYgKHR5cGVvZiBkYXRhSW5kZXggPT09ICdudW1iZXInKSB7XG5cdCAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG5cdCAgICB9IGVsc2UgaWYgKCFkYXRhSW5kZXggfHwgZGF0YUluZGV4Lmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB0ZXh0ID0gcmVjb3JkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGV4dCA9ICgwLCBfbG9kYXNoMltcImRlZmF1bHRcIl0pKHJlY29yZCwgZGF0YUluZGV4KTtcblx0ICAgIH1cblx0ICAgIHZhciB0ZFByb3BzID0gdm9pZCAwO1xuXHQgICAgdmFyIGNvbFNwYW4gPSB2b2lkIDA7XG5cdCAgICB2YXIgcm93U3BhbiA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAocmVuZGVyKSB7XG5cdCAgICAgIHRleHQgPSByZW5kZXIodGV4dCwgcmVjb3JkLCBpbmRleCk7XG5cdCAgICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG5cdCAgICAgICAgdGRQcm9wcyA9IHRleHQucHJvcHMgfHwge307XG5cdCAgICAgICAgcm93U3BhbiA9IHRkUHJvcHMucm93U3Bhbjtcblx0ICAgICAgICBjb2xTcGFuID0gdGRQcm9wcy5jb2xTcGFuO1xuXHQgICAgICAgIHRleHQgPSB0ZXh0LmNoaWxkcmVuO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzEyMDJcblx0ICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG5cdCAgICAgIHRleHQgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpbmRlbnRUZXh0ID0gZXhwYW5kSWNvbiA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBpbmRlbnRTaXplICogaW5kZW50ICsgJ3B4JyB9LFxuXHQgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5kZW50IGluZGVudC1sZXZlbC0nICsgaW5kZW50XG5cdCAgICB9KSA6IG51bGw7XG5cdFxuXHQgICAgaWYgKHJvd1NwYW4gPT09IDAgfHwgY29sU3BhbiA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndGQnLFxuXHQgICAgICB7XG5cdCAgICAgICAgY29sU3BhbjogY29sU3Bhbixcblx0ICAgICAgICByb3dTcGFuOiByb3dTcGFuLFxuXHQgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tcblx0ICAgICAgfSxcblx0ICAgICAgaW5kZW50VGV4dCxcblx0ICAgICAgZXhwYW5kSWNvbixcblx0ICAgICAgdGV4dFxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGVDZWxsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUNlbGwucHJvcFR5cGVzID0ge1xuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBjb2x1bW46IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGV4cGFuZEljb246IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlQ2VsbDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGVIZWFkZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZUhlYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlSGVhZGVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlSGVhZGVyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlSGVhZGVyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGVIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgcm93U3R5bGUgPSBfcHJvcHMucm93U3R5bGUsXG5cdCAgICAgICAgcm93cyA9IF9wcm9wcy5yb3dzO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndGhlYWQnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aGVhZCcgfSxcblx0ICAgICAgcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICB7IGtleTogaW5kZXgsIHN0eWxlOiByb3dTdHlsZSB9LFxuXHQgICAgICAgICAgcm93Lm1hcChmdW5jdGlvbiAoY2VsbFByb3BzLCBpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCd0aCcsIF9leHRlbmRzKHt9LCBjZWxsUHJvcHMsIHsga2V5OiBpIH0pKTtcblx0ICAgICAgICAgIH0pXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlSGVhZGVyO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUhlYWRlci5wcm9wVHlwZXMgPSB7XG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICByb3dTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcm93czogX3JlYWN0LlByb3BUeXBlcy5hcnJheVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlSGVhZGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9UYWJsZUNlbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7XG5cdFxuXHR2YXIgX1RhYmxlQ2VsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUNlbGwpO1xuXHRcblx0dmFyIF9FeHBhbmRJY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzcpO1xuXHRcblx0dmFyIF9FeHBhbmRJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuZEljb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBUYWJsZVJvdyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlUm93LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVSb3coKSB7XG5cdCAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZVJvdyk7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGhvdmVyZWQ6IGZhbHNlXG5cdCAgICB9LCBfdGhpcy5vblJvd0NsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuXHQgICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wcy5pbmRleCxcblx0ICAgICAgICAgIG9uUm93Q2xpY2sgPSBfdGhpcyRwcm9wcy5vblJvd0NsaWNrLFxuXHQgICAgICAgICAgZXhwYW5kYWJsZSA9IF90aGlzJHByb3BzLmV4cGFuZGFibGUsXG5cdCAgICAgICAgICBleHBhbmRSb3dCeUNsaWNrID0gX3RoaXMkcHJvcHMuZXhwYW5kUm93QnlDbGljayxcblx0ICAgICAgICAgIGV4cGFuZGVkID0gX3RoaXMkcHJvcHMuZXhwYW5kZWQsXG5cdCAgICAgICAgICBvbkV4cGFuZCA9IF90aGlzJHByb3BzLm9uRXhwYW5kO1xuXHRcblx0ICAgICAgaWYgKGV4cGFuZGFibGUgJiYgZXhwYW5kUm93QnlDbGljaykge1xuXHQgICAgICAgIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBldmVudCwgaW5kZXgpO1xuXHQgICAgICB9XG5cdCAgICAgIG9uUm93Q2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuXHQgICAgfSwgX3RoaXMub25Sb3dEb3VibGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wczIucmVjb3JkLFxuXHQgICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wczIuaW5kZXgsXG5cdCAgICAgICAgICBvblJvd0RvdWJsZUNsaWNrID0gX3RoaXMkcHJvcHMyLm9uUm93RG91YmxlQ2xpY2s7XG5cdFxuXHQgICAgICBvblJvd0RvdWJsZUNsaWNrKHJlY29yZCwgaW5kZXgsIGV2ZW50KTtcblx0ICAgIH0sIF90aGlzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzMy5vbkhvdmVyLFxuXHQgICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczMuaG92ZXJLZXk7XG5cdFxuXHQgICAgICBvbkhvdmVyKHRydWUsIGhvdmVyS2V5KTtcblx0ICAgIH0sIF90aGlzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzNC5vbkhvdmVyLFxuXHQgICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczQuaG92ZXJLZXk7XG5cdFxuXHQgICAgICBvbkhvdmVyKGZhbHNlLCBob3ZlcktleSk7XG5cdCAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgaG92ZXJLZXkgPSBfcHJvcHMuaG92ZXJLZXk7XG5cdFxuXHQgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLmN1cnJlbnRIb3ZlcktleSA9PT0gaG92ZXJLZXkpIHtcblx0ICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBob3ZlcmVkOiB0cnVlIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZS5ob3ZlcmVkID09PSB0cnVlKSB7XG5cdCAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaG92ZXJlZDogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wczIucmVjb3JkLFxuXHQgICAgICAgIG9uRGVzdHJveSA9IF9wcm9wczIub25EZXN0cm95LFxuXHQgICAgICAgIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0XG5cdCAgICBvbkRlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG5cdCAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuXHQgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGVSb3cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcblx0ICAgICAgICBjb2x1bW5zID0gX3Byb3BzMy5jb2x1bW5zLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wczMucmVjb3JkLFxuXHQgICAgICAgIGhlaWdodCA9IF9wcm9wczMuaGVpZ2h0LFxuXHQgICAgICAgIHZpc2libGUgPSBfcHJvcHMzLnZpc2libGUsXG5cdCAgICAgICAgaW5kZXggPSBfcHJvcHMzLmluZGV4LFxuXHQgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IF9wcm9wczMuZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMzLmV4cGFuZEljb25Bc0NlbGwsXG5cdCAgICAgICAgZXhwYW5kZWQgPSBfcHJvcHMzLmV4cGFuZGVkLFxuXHQgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfcHJvcHMzLmV4cGFuZFJvd0J5Q2xpY2ssXG5cdCAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wczMuZXhwYW5kYWJsZSxcblx0ICAgICAgICBvbkV4cGFuZCA9IF9wcm9wczMub25FeHBhbmQsXG5cdCAgICAgICAgbmVlZEluZGVudFNwYWNlZCA9IF9wcm9wczMubmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgICBpbmRlbnQgPSBfcHJvcHMzLmluZGVudCxcblx0ICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzMy5pbmRlbnRTaXplO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXHRcblx0XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5ob3ZlcmVkKSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWhvdmVyJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2VsbHMgPSBbXTtcblx0XG5cdCAgICB2YXIgZXhwYW5kSWNvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0V4cGFuZEljb24yW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBleHBhbmRhYmxlOiBleHBhbmRhYmxlLFxuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgb25FeHBhbmQ6IG9uRXhwYW5kLFxuXHQgICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuXHQgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG5cdCAgICAgIHJlY29yZDogcmVjb3JkXG5cdCAgICB9KTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgaSA9PT0gMCkge1xuXHQgICAgICAgIGNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0ZCcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jZWxsJyxcblx0ICAgICAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY2VsbCdcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBleHBhbmRJY29uXG5cdCAgICAgICAgKSk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPSBleHBhbmRJY29uQXNDZWxsIHx8IGV4cGFuZFJvd0J5Q2xpY2sgPyBmYWxzZSA6IGkgPT09IGV4cGFuZEljb25Db2x1bW5JbmRleDtcblx0ICAgICAgY2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZUNlbGwyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgIGluZGVudFNpemU6IGluZGVudFNpemUsXG5cdCAgICAgICAgaW5kZW50OiBpbmRlbnQsXG5cdCAgICAgICAgaW5kZXg6IGluZGV4LFxuXHQgICAgICAgIGNvbHVtbjogY29sdW1uc1tpXSxcblx0ICAgICAgICBrZXk6IGNvbHVtbnNbaV0ua2V5LFxuXHQgICAgICAgIGV4cGFuZEljb246IGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPyBleHBhbmRJY29uIDogbnVsbFxuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgICB2YXIgc3R5bGUgPSB7IGhlaWdodDogaGVpZ2h0IH07XG5cdCAgICBpZiAoIXZpc2libGUpIHtcblx0ICAgICAgc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RyJyxcblx0ICAgICAge1xuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3dDbGljayxcblx0ICAgICAgICBvbkRvdWJsZUNsaWNrOiB0aGlzLm9uUm93RG91YmxlQ2xpY2ssXG5cdCAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uTW91c2VFbnRlcixcblx0ICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLFxuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgY2xhc3NOYW1lICsgJyAnICsgcHJlZml4Q2xzICsgJy1sZXZlbC0nICsgaW5kZW50LFxuXHQgICAgICAgIHN0eWxlOiBzdHlsZVxuXHQgICAgICB9LFxuXHQgICAgICBjZWxsc1xuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGVSb3c7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlUm93LnByb3BUeXBlcyA9IHtcblx0ICBvbkRlc3Ryb3k6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG9uSG92ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjb2x1bW5zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGhlaWdodDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcl0pLFxuXHQgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaG92ZXJLZXk6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBpbmRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGV4cGFuZEljb25Bc0NlbGw6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBleHBhbmRSb3dCeUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgc3RvcmU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcblx0fTtcblx0VGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cdCAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7fSxcblx0XG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuXHQgIGV4cGFuZFJvd0J5Q2xpY2s6IGZhbHNlLFxuXHQgIG9uSG92ZXI6IGZ1bmN0aW9uIG9uSG92ZXIoKSB7fVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlUm93O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuXHRmdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpIHtcblx0ICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cdCAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXHRcblx0ICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG5cdCAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSwgcGFydGlhbCk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIHN0YXRlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG5cdCAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG5cdCAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG5cdCAgICBzdWJzY3JpYmU6IHN1YnNjcmliZVxuXHQgIH07XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLm1lYXN1cmVTY3JvbGxiYXIgPSBtZWFzdXJlU2Nyb2xsYmFyO1xuXHRleHBvcnRzLmRlYm91bmNlID0gZGVib3VuY2U7XG5cdGV4cG9ydHMud2FybmluZ09uY2UgPSB3YXJuaW5nT25jZTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgc2Nyb2xsYmFyV2lkdGggPSB2b2lkIDA7XG5cdFxuXHQvLyBNZWFzdXJlIHNjcm9sbGJhciB3aWR0aCBmb3IgcGFkZGluZyBib2R5IGR1cmluZyBtb2RhbCBzaG93L2hpZGVcblx0dmFyIHNjcm9sbGJhck1lYXN1cmUgPSB7XG5cdCAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdCAgdG9wOiAnLTk5OTlweCcsXG5cdCAgd2lkdGg6ICc1MHB4Jyxcblx0ICBoZWlnaHQ6ICc1MHB4Jyxcblx0ICBvdmVyZmxvdzogJ3Njcm9sbCdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1lYXN1cmVTY3JvbGxiYXIoKSB7XG5cdCAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHJldHVybiAwO1xuXHQgIH1cblx0ICBpZiAoc2Nyb2xsYmFyV2lkdGgpIHtcblx0ICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcblx0ICB9XG5cdCAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIGZvciAodmFyIHNjcm9sbFByb3AgaW4gc2Nyb2xsYmFyTWVhc3VyZSkge1xuXHQgICAgaWYgKHNjcm9sbGJhck1lYXN1cmUuaGFzT3duUHJvcGVydHkoc2Nyb2xsUHJvcCkpIHtcblx0ICAgICAgc2Nyb2xsRGl2LnN0eWxlW3Njcm9sbFByb3BdID0gc2Nyb2xsYmFyTWVhc3VyZVtzY3JvbGxQcm9wXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuXHQgIHZhciB3aWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblx0ICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cdCAgc2Nyb2xsYmFyV2lkdGggPSB3aWR0aDtcblx0ICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuXHQgIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuXHQgIGZ1bmN0aW9uIGRlYm91bmNlRnVuYygpIHtcblx0ICAgIHZhciBjb250ZXh0ID0gdGhpcztcblx0ICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHQgICAgLy8gaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nXG5cdCAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdLnBlcnNpc3QpIHtcblx0ICAgICAgYXJnc1swXS5wZXJzaXN0KCk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcblx0ICAgICAgdGltZW91dCA9IG51bGw7XG5cdCAgICAgIGlmICghaW1tZWRpYXRlKSB7XG5cdCAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuXHQgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHQgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuXHQgICAgaWYgKGNhbGxOb3cpIHtcblx0ICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZGVib3VuY2VGdW5jLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgIGlmICh0aW1lb3V0KSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0ICAgICAgdGltZW91dCA9IG51bGw7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gZGVib3VuY2VGdW5jO1xuXHR9XG5cdFxuXHR2YXIgd2FybmVkID0ge307XG5cdGZ1bmN0aW9uIHdhcm5pbmdPbmNlKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG5cdCAgaWYgKCF3YXJuZWRbZm9ybWF0XSkge1xuXHQgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKTtcblx0ICAgIHdhcm5lZFtmb3JtYXRdID0gIWNvbmRpdGlvbjtcblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdG9BcnJheTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgIHJldC5wdXNoKGMpO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKiBzb21lIGtleS1jb2RlcyBkZWZpbml0aW9uIGFuZCB1dGlscyBmcm9tIGNsb3N1cmUtbGlicmFyeVxuXHQgKiBAYXV0aG9yIHlpbWluZ2hlQGdtYWlsLmNvbVxuXHQgKi9cblx0XG5cdHZhciBLZXlDb2RlID0ge1xuXHQgIC8qKlxuXHQgICAqIE1BQ19FTlRFUlxuXHQgICAqL1xuXHQgIE1BQ19FTlRFUjogMyxcblx0ICAvKipcblx0ICAgKiBCQUNLU1BBQ0Vcblx0ICAgKi9cblx0ICBCQUNLU1BBQ0U6IDgsXG5cdCAgLyoqXG5cdCAgICogVEFCXG5cdCAgICovXG5cdCAgVEFCOiA5LFxuXHQgIC8qKlxuXHQgICAqIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuXHQgICAqL1xuXHQgIE5VTV9DRU5URVI6IDEyLCAvLyBOVU1MT0NLIG9uIEZGL1NhZmFyaSBNYWNcblx0ICAvKipcblx0ICAgKiBFTlRFUlxuXHQgICAqL1xuXHQgIEVOVEVSOiAxMyxcblx0ICAvKipcblx0ICAgKiBTSElGVFxuXHQgICAqL1xuXHQgIFNISUZUOiAxNixcblx0ICAvKipcblx0ICAgKiBDVFJMXG5cdCAgICovXG5cdCAgQ1RSTDogMTcsXG5cdCAgLyoqXG5cdCAgICogQUxUXG5cdCAgICovXG5cdCAgQUxUOiAxOCxcblx0ICAvKipcblx0ICAgKiBQQVVTRVxuXHQgICAqL1xuXHQgIFBBVVNFOiAxOSxcblx0ICAvKipcblx0ICAgKiBDQVBTX0xPQ0tcblx0ICAgKi9cblx0ICBDQVBTX0xPQ0s6IDIwLFxuXHQgIC8qKlxuXHQgICAqIEVTQ1xuXHQgICAqL1xuXHQgIEVTQzogMjcsXG5cdCAgLyoqXG5cdCAgICogU1BBQ0Vcblx0ICAgKi9cblx0ICBTUEFDRTogMzIsXG5cdCAgLyoqXG5cdCAgICogUEFHRV9VUFxuXHQgICAqL1xuXHQgIFBBR0VfVVA6IDMzLCAvLyBhbHNvIE5VTV9OT1JUSF9FQVNUXG5cdCAgLyoqXG5cdCAgICogUEFHRV9ET1dOXG5cdCAgICovXG5cdCAgUEFHRV9ET1dOOiAzNCwgLy8gYWxzbyBOVU1fU09VVEhfRUFTVFxuXHQgIC8qKlxuXHQgICAqIEVORFxuXHQgICAqL1xuXHQgIEVORDogMzUsIC8vIGFsc28gTlVNX1NPVVRIX1dFU1Rcblx0ICAvKipcblx0ICAgKiBIT01FXG5cdCAgICovXG5cdCAgSE9NRTogMzYsIC8vIGFsc28gTlVNX05PUlRIX1dFU1Rcblx0ICAvKipcblx0ICAgKiBMRUZUXG5cdCAgICovXG5cdCAgTEVGVDogMzcsIC8vIGFsc28gTlVNX1dFU1Rcblx0ICAvKipcblx0ICAgKiBVUFxuXHQgICAqL1xuXHQgIFVQOiAzOCwgLy8gYWxzbyBOVU1fTk9SVEhcblx0ICAvKipcblx0ICAgKiBSSUdIVFxuXHQgICAqL1xuXHQgIFJJR0hUOiAzOSwgLy8gYWxzbyBOVU1fRUFTVFxuXHQgIC8qKlxuXHQgICAqIERPV05cblx0ICAgKi9cblx0ICBET1dOOiA0MCwgLy8gYWxzbyBOVU1fU09VVEhcblx0ICAvKipcblx0ICAgKiBQUklOVF9TQ1JFRU5cblx0ICAgKi9cblx0ICBQUklOVF9TQ1JFRU46IDQ0LFxuXHQgIC8qKlxuXHQgICAqIElOU0VSVFxuXHQgICAqL1xuXHQgIElOU0VSVDogNDUsIC8vIGFsc28gTlVNX0lOU0VSVFxuXHQgIC8qKlxuXHQgICAqIERFTEVURVxuXHQgICAqL1xuXHQgIERFTEVURTogNDYsIC8vIGFsc28gTlVNX0RFTEVURVxuXHQgIC8qKlxuXHQgICAqIFpFUk9cblx0ICAgKi9cblx0ICBaRVJPOiA0OCxcblx0ICAvKipcblx0ICAgKiBPTkVcblx0ICAgKi9cblx0ICBPTkU6IDQ5LFxuXHQgIC8qKlxuXHQgICAqIFRXT1xuXHQgICAqL1xuXHQgIFRXTzogNTAsXG5cdCAgLyoqXG5cdCAgICogVEhSRUVcblx0ICAgKi9cblx0ICBUSFJFRTogNTEsXG5cdCAgLyoqXG5cdCAgICogRk9VUlxuXHQgICAqL1xuXHQgIEZPVVI6IDUyLFxuXHQgIC8qKlxuXHQgICAqIEZJVkVcblx0ICAgKi9cblx0ICBGSVZFOiA1Myxcblx0ICAvKipcblx0ICAgKiBTSVhcblx0ICAgKi9cblx0ICBTSVg6IDU0LFxuXHQgIC8qKlxuXHQgICAqIFNFVkVOXG5cdCAgICovXG5cdCAgU0VWRU46IDU1LFxuXHQgIC8qKlxuXHQgICAqIEVJR0hUXG5cdCAgICovXG5cdCAgRUlHSFQ6IDU2LFxuXHQgIC8qKlxuXHQgICAqIE5JTkVcblx0ICAgKi9cblx0ICBOSU5FOiA1Nyxcblx0ICAvKipcblx0ICAgKiBRVUVTVElPTl9NQVJLXG5cdCAgICovXG5cdCAgUVVFU1RJT05fTUFSSzogNjMsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIEFcblx0ICAgKi9cblx0ICBBOiA2NSxcblx0ICAvKipcblx0ICAgKiBCXG5cdCAgICovXG5cdCAgQjogNjYsXG5cdCAgLyoqXG5cdCAgICogQ1xuXHQgICAqL1xuXHQgIEM6IDY3LFxuXHQgIC8qKlxuXHQgICAqIERcblx0ICAgKi9cblx0ICBEOiA2OCxcblx0ICAvKipcblx0ICAgKiBFXG5cdCAgICovXG5cdCAgRTogNjksXG5cdCAgLyoqXG5cdCAgICogRlxuXHQgICAqL1xuXHQgIEY6IDcwLFxuXHQgIC8qKlxuXHQgICAqIEdcblx0ICAgKi9cblx0ICBHOiA3MSxcblx0ICAvKipcblx0ICAgKiBIXG5cdCAgICovXG5cdCAgSDogNzIsXG5cdCAgLyoqXG5cdCAgICogSVxuXHQgICAqL1xuXHQgIEk6IDczLFxuXHQgIC8qKlxuXHQgICAqIEpcblx0ICAgKi9cblx0ICBKOiA3NCxcblx0ICAvKipcblx0ICAgKiBLXG5cdCAgICovXG5cdCAgSzogNzUsXG5cdCAgLyoqXG5cdCAgICogTFxuXHQgICAqL1xuXHQgIEw6IDc2LFxuXHQgIC8qKlxuXHQgICAqIE1cblx0ICAgKi9cblx0ICBNOiA3Nyxcblx0ICAvKipcblx0ICAgKiBOXG5cdCAgICovXG5cdCAgTjogNzgsXG5cdCAgLyoqXG5cdCAgICogT1xuXHQgICAqL1xuXHQgIE86IDc5LFxuXHQgIC8qKlxuXHQgICAqIFBcblx0ICAgKi9cblx0ICBQOiA4MCxcblx0ICAvKipcblx0ICAgKiBRXG5cdCAgICovXG5cdCAgUTogODEsXG5cdCAgLyoqXG5cdCAgICogUlxuXHQgICAqL1xuXHQgIFI6IDgyLFxuXHQgIC8qKlxuXHQgICAqIFNcblx0ICAgKi9cblx0ICBTOiA4Myxcblx0ICAvKipcblx0ICAgKiBUXG5cdCAgICovXG5cdCAgVDogODQsXG5cdCAgLyoqXG5cdCAgICogVVxuXHQgICAqL1xuXHQgIFU6IDg1LFxuXHQgIC8qKlxuXHQgICAqIFZcblx0ICAgKi9cblx0ICBWOiA4Nixcblx0ICAvKipcblx0ICAgKiBXXG5cdCAgICovXG5cdCAgVzogODcsXG5cdCAgLyoqXG5cdCAgICogWFxuXHQgICAqL1xuXHQgIFg6IDg4LFxuXHQgIC8qKlxuXHQgICAqIFlcblx0ICAgKi9cblx0ICBZOiA4OSxcblx0ICAvKipcblx0ICAgKiBaXG5cdCAgICovXG5cdCAgWjogOTAsXG5cdCAgLyoqXG5cdCAgICogTUVUQVxuXHQgICAqL1xuXHQgIE1FVEE6IDkxLCAvLyBXSU5fS0VZX0xFRlRcblx0ICAvKipcblx0ICAgKiBXSU5fS0VZX1JJR0hUXG5cdCAgICovXG5cdCAgV0lOX0tFWV9SSUdIVDogOTIsXG5cdCAgLyoqXG5cdCAgICogQ09OVEVYVF9NRU5VXG5cdCAgICovXG5cdCAgQ09OVEVYVF9NRU5VOiA5Myxcblx0ICAvKipcblx0ICAgKiBOVU1fWkVST1xuXHQgICAqL1xuXHQgIE5VTV9aRVJPOiA5Nixcblx0ICAvKipcblx0ICAgKiBOVU1fT05FXG5cdCAgICovXG5cdCAgTlVNX09ORTogOTcsXG5cdCAgLyoqXG5cdCAgICogTlVNX1RXT1xuXHQgICAqL1xuXHQgIE5VTV9UV086IDk4LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9USFJFRVxuXHQgICAqL1xuXHQgIE5VTV9USFJFRTogOTksXG5cdCAgLyoqXG5cdCAgICogTlVNX0ZPVVJcblx0ICAgKi9cblx0ICBOVU1fRk9VUjogMTAwLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9GSVZFXG5cdCAgICovXG5cdCAgTlVNX0ZJVkU6IDEwMSxcblx0ICAvKipcblx0ICAgKiBOVU1fU0lYXG5cdCAgICovXG5cdCAgTlVNX1NJWDogMTAyLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9TRVZFTlxuXHQgICAqL1xuXHQgIE5VTV9TRVZFTjogMTAzLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9FSUdIVFxuXHQgICAqL1xuXHQgIE5VTV9FSUdIVDogMTA0LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9OSU5FXG5cdCAgICovXG5cdCAgTlVNX05JTkU6IDEwNSxcblx0ICAvKipcblx0ICAgKiBOVU1fTVVMVElQTFlcblx0ICAgKi9cblx0ICBOVU1fTVVMVElQTFk6IDEwNixcblx0ICAvKipcblx0ICAgKiBOVU1fUExVU1xuXHQgICAqL1xuXHQgIE5VTV9QTFVTOiAxMDcsXG5cdCAgLyoqXG5cdCAgICogTlVNX01JTlVTXG5cdCAgICovXG5cdCAgTlVNX01JTlVTOiAxMDksXG5cdCAgLyoqXG5cdCAgICogTlVNX1BFUklPRFxuXHQgICAqL1xuXHQgIE5VTV9QRVJJT0Q6IDExMCxcblx0ICAvKipcblx0ICAgKiBOVU1fRElWSVNJT05cblx0ICAgKi9cblx0ICBOVU1fRElWSVNJT046IDExMSxcblx0ICAvKipcblx0ICAgKiBGMVxuXHQgICAqL1xuXHQgIEYxOiAxMTIsXG5cdCAgLyoqXG5cdCAgICogRjJcblx0ICAgKi9cblx0ICBGMjogMTEzLFxuXHQgIC8qKlxuXHQgICAqIEYzXG5cdCAgICovXG5cdCAgRjM6IDExNCxcblx0ICAvKipcblx0ICAgKiBGNFxuXHQgICAqL1xuXHQgIEY0OiAxMTUsXG5cdCAgLyoqXG5cdCAgICogRjVcblx0ICAgKi9cblx0ICBGNTogMTE2LFxuXHQgIC8qKlxuXHQgICAqIEY2XG5cdCAgICovXG5cdCAgRjY6IDExNyxcblx0ICAvKipcblx0ICAgKiBGN1xuXHQgICAqL1xuXHQgIEY3OiAxMTgsXG5cdCAgLyoqXG5cdCAgICogRjhcblx0ICAgKi9cblx0ICBGODogMTE5LFxuXHQgIC8qKlxuXHQgICAqIEY5XG5cdCAgICovXG5cdCAgRjk6IDEyMCxcblx0ICAvKipcblx0ICAgKiBGMTBcblx0ICAgKi9cblx0ICBGMTA6IDEyMSxcblx0ICAvKipcblx0ICAgKiBGMTFcblx0ICAgKi9cblx0ICBGMTE6IDEyMixcblx0ICAvKipcblx0ICAgKiBGMTJcblx0ICAgKi9cblx0ICBGMTI6IDEyMyxcblx0ICAvKipcblx0ICAgKiBOVU1MT0NLXG5cdCAgICovXG5cdCAgTlVNTE9DSzogMTQ0LFxuXHQgIC8qKlxuXHQgICAqIFNFTUlDT0xPTlxuXHQgICAqL1xuXHQgIFNFTUlDT0xPTjogMTg2LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBEQVNIXG5cdCAgICovXG5cdCAgREFTSDogMTg5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBFUVVBTFNcblx0ICAgKi9cblx0ICBFUVVBTFM6IDE4NywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQ09NTUFcblx0ICAgKi9cblx0ICBDT01NQTogMTg4LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBQRVJJT0Rcblx0ICAgKi9cblx0ICBQRVJJT0Q6IDE5MCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogU0xBU0hcblx0ICAgKi9cblx0ICBTTEFTSDogMTkxLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBBUE9TVFJPUEhFXG5cdCAgICovXG5cdCAgQVBPU1RST1BIRTogMTkyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBTSU5HTEVfUVVPVEVcblx0ICAgKi9cblx0ICBTSU5HTEVfUVVPVEU6IDIyMiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogT1BFTl9TUVVBUkVfQlJBQ0tFVFxuXHQgICAqL1xuXHQgIE9QRU5fU1FVQVJFX0JSQUNLRVQ6IDIxOSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQkFDS1NMQVNIXG5cdCAgICovXG5cdCAgQkFDS1NMQVNIOiAyMjAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIENMT1NFX1NRVUFSRV9CUkFDS0VUXG5cdCAgICovXG5cdCAgQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6IDIyMSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogV0lOX0tFWVxuXHQgICAqL1xuXHQgIFdJTl9LRVk6IDIyNCxcblx0ICAvKipcblx0ICAgKiBNQUNfRkZfTUVUQVxuXHQgICAqL1xuXHQgIE1BQ19GRl9NRVRBOiAyMjQsIC8vIEZpcmVmb3ggKEdlY2tvKSBmaXJlcyB0aGlzIGZvciB0aGUgbWV0YSBrZXkgaW5zdGVhZCBvZiA5MVxuXHQgIC8qKlxuXHQgICAqIFdJTl9JTUVcblx0ICAgKi9cblx0ICBXSU5fSU1FOiAyMjlcblx0fTtcblx0XG5cdC8qXG5cdCB3aGV0aGVyIHRleHQgYW5kIG1vZGlmaWVkIGtleSBpcyBlbnRlcmVkIGF0IHRoZSBzYW1lIHRpbWUuXG5cdCAqL1xuXHRLZXlDb2RlLmlzVGV4dE1vZGlmeWluZ0tleUV2ZW50ID0gZnVuY3Rpb24gaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQoZSkge1xuXHQgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuXHQgIGlmIChlLmFsdEtleSAmJiAhZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fFxuXHQgIC8vIEZ1bmN0aW9uIGtleXMgZG9uJ3QgZ2VuZXJhdGUgdGV4dFxuXHQgIGtleUNvZGUgPj0gS2V5Q29kZS5GMSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuRjEyKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGUgZm9sbG93aW5nIGtleXMgYXJlIHF1aXRlIGhhcm1sZXNzLCBldmVuIGluIGNvbWJpbmF0aW9uIHdpdGhcblx0ICAvLyBDVFJMLCBBTFQgb3IgU0hJRlQuXG5cdCAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICBjYXNlIEtleUNvZGUuQUxUOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNBUFNfTE9DSzpcblx0ICAgIGNhc2UgS2V5Q29kZS5DT05URVhUX01FTlU6XG5cdCAgICBjYXNlIEtleUNvZGUuQ1RSTDpcblx0ICAgIGNhc2UgS2V5Q29kZS5ET1dOOlxuXHQgICAgY2FzZSBLZXlDb2RlLkVORDpcblx0ICAgIGNhc2UgS2V5Q29kZS5FU0M6XG5cdCAgICBjYXNlIEtleUNvZGUuSE9NRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5JTlNFUlQ6XG5cdCAgICBjYXNlIEtleUNvZGUuTEVGVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5NQUNfRkZfTUVUQTpcblx0ICAgIGNhc2UgS2V5Q29kZS5NRVRBOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTUxPQ0s6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX0NFTlRFUjpcblx0ICAgIGNhc2UgS2V5Q29kZS5QQUdFX0RPV046XG5cdCAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcblx0ICAgIGNhc2UgS2V5Q29kZS5QQVVTRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5QUklOVF9TQ1JFRU46XG5cdCAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG5cdCAgICBjYXNlIEtleUNvZGUuU0hJRlQ6XG5cdCAgICBjYXNlIEtleUNvZGUuVVA6XG5cdCAgICBjYXNlIEtleUNvZGUuV0lOX0tFWTpcblx0ICAgIGNhc2UgS2V5Q29kZS5XSU5fS0VZX1JJR0hUOlxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKlxuXHQgd2hldGhlciBjaGFyYWN0ZXIgaXMgZW50ZXJlZC5cblx0ICovXG5cdEtleUNvZGUuaXNDaGFyYWN0ZXJLZXkgPSBmdW5jdGlvbiBpc0NoYXJhY3RlcktleShrZXlDb2RlKSB7XG5cdCAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OSU5FKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIGlmIChrZXlDb2RlID49IEtleUNvZGUuTlVNX1pFUk8gJiYga2V5Q29kZSA8PSBLZXlDb2RlLk5VTV9NVUxUSVBMWSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLkEgJiYga2V5Q29kZSA8PSBLZXlDb2RlLlopIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgLy8gU2FmYXJpIHNlbmRzIHplcm8ga2V5IGNvZGUgZm9yIG5vbi1sYXRpbiBjaGFyYWN0ZXJzLlxuXHQgIGlmICh3aW5kb3cubmF2aWdhdGlvbi51c2VyQWdlbnQuaW5kZXhPZignV2ViS2l0JykgIT09IC0xICYmIGtleUNvZGUgPT09IDApIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICBjYXNlIEtleUNvZGUuU1BBQ0U6XG5cdCAgICBjYXNlIEtleUNvZGUuUVVFU1RJT05fTUFSSzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fUExVUzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fTUlOVVM6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX1BFUklPRDpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fRElWSVNJT046XG5cdCAgICBjYXNlIEtleUNvZGUuU0VNSUNPTE9OOlxuXHQgICAgY2FzZSBLZXlDb2RlLkRBU0g6XG5cdCAgICBjYXNlIEtleUNvZGUuRVFVQUxTOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNPTU1BOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBFUklPRDpcblx0ICAgIGNhc2UgS2V5Q29kZS5TTEFTSDpcblx0ICAgIGNhc2UgS2V5Q29kZS5BUE9TVFJPUEhFOlxuXHQgICAgY2FzZSBLZXlDb2RlLlNJTkdMRV9RVU9URTpcblx0ICAgIGNhc2UgS2V5Q29kZS5PUEVOX1NRVUFSRV9CUkFDS0VUOlxuXHQgICAgY2FzZSBLZXlDb2RlLkJBQ0tTTEFTSDpcblx0ICAgIGNhc2UgS2V5Q29kZS5DTE9TRV9TUVVBUkVfQlJBQ0tFVDpcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBLZXlDb2RlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0eWxlNSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHR2YXIgX3N0eWxlNiA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9pbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBfaW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5wdXQpO1xuXHRcblx0dmFyIF9zdHlsZTggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdHZhciBfc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHR2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlYXJjaCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2VhcmNoLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gU2VhcmNoKHByb3BzKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTZWFyY2gpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlU2VhcmNoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgZGF0YSA9IHtcblx0ICAgICAgICBrZXl3b3JkOiBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoX3RoaXMucmVmcy5zZWFyY2hJbnB1dCkudmFsdWVcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKF90aGlzLnByb3BzLnNlbGVjdCkge1xuXHQgICAgICAgIGRhdGEuZmllbGQgPSBfdGhpcy5zdGF0ZS5zZWxlY3RWYWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5wcm9wcy5vblNlYXJjaCAmJiBfdGhpcy5wcm9wcy5vblNlYXJjaChkYXRhKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIGNsZWFyVmlzaWJsZTogZS50YXJnZXQudmFsdWUgIT09ICcnXG5cdCAgICAgIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGVsZVNlbGVjdENoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIHNlbGVjdFZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUNsZWFySW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZSA9ICcnO1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2xlYXJWaXNpYmxlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgICAgX3RoaXMuaGFuZGxlU2VhcmNoKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgIHNlbGVjdCA9IF90aGlzJHByb3BzLnNlbGVjdCxcblx0ICAgICAgICBzZWxlY3RQcm9wcyA9IF90aGlzJHByb3BzLnNlbGVjdFByb3BzO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjbGVhclZpc2libGU6IGZhbHNlLFxuXHQgICAgICBzZWxlY3RWYWx1ZTogc2VsZWN0ICYmIHNlbGVjdFByb3BzID8gc2VsZWN0UHJvcHMuZGVmYXVsdFZhbHVlIDogJydcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBTZWFyY2gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcblx0ICAgICAgICBzZWxlY3QgPSBfcHJvcHMuc2VsZWN0LFxuXHQgICAgICAgIHNlbGVjdE9wdGlvbnMgPSBfcHJvcHMuc2VsZWN0T3B0aW9ucyxcblx0ICAgICAgICBzZWxlY3RQcm9wcyA9IF9wcm9wcy5zZWxlY3RQcm9wcyxcblx0ICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcblx0ICAgICAgICBrZXl3b3JkID0gX3Byb3BzLmtleXdvcmQ7XG5cdCAgICB2YXIgY2xlYXJWaXNpYmxlID0gdGhpcy5zdGF0ZS5jbGVhclZpc2libGU7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfaW5wdXQyLmRlZmF1bHQuR3JvdXAsXG5cdCAgICAgIHsgY29tcGFjdDogdHJ1ZSwgc2l6ZTogc2l6ZSwgY2xhc3NOYW1lOiBfU2VhcmNoMi5kZWZhdWx0LnNlYXJjaCwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgIHNlbGVjdCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyByZWY6ICdzZWFyY2hTZWxlY3QnLCBvbkNoYW5nZTogdGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlLCBzaXplOiBzaXplIH0sIHNlbGVjdFByb3BzKSxcblx0ICAgICAgICBzZWxlY3RPcHRpb25zICYmIHNlbGVjdE9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHtcblx0ICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3NlbGVjdDIuZGVmYXVsdC5PcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6IGl0ZW0udmFsdWUsIGtleToga2V5IH0sXG5cdCAgICAgICAgICAgIGl0ZW0ubmFtZSB8fCBpdGVtLnZhbHVlXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0pXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pbnB1dDIuZGVmYXVsdCwgeyByZWY6ICdzZWFyY2hJbnB1dCcsIHNpemU6IHNpemUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLCBvblByZXNzRW50ZXI6IHRoaXMuaGFuZGxlU2VhcmNoLCBkZWZhdWx0VmFsdWU6IGtleXdvcmQgfSksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9idXR0b24yLmRlZmF1bHQsXG5cdCAgICAgICAgeyBzaXplOiBzaXplLCB0eXBlOiAncHJpbWFyeScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2VhcmNoIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3NlYXJjaCcgfSksXG5cdCAgICAgICAgJ1xcdTY0MUNcXHU3RDIyJ1xuXHQgICAgICApLFxuXHQgICAgICBjbGVhclZpc2libGUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2Nyb3NzJywgb25DbGljazogdGhpcy5oYW5kbGVDbGVhcklucHV0IH0pXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBTZWFyY2g7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVCb2R5V3JhcHBlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGVudGVyQW5pbSA9IFt7XG5cdCAgb3BhY2l0eTogMCxcblx0ICB4OiAzMCxcblx0ICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZWVlJyxcblx0ICBkdXJhdGlvbjogMFxuXHR9LCB7XG5cdCAgaGVpZ2h0OiAwLFxuXHQgIGR1cmF0aW9uOiAyMDAsXG5cdCAgdHlwZTogJ2Zyb20nLFxuXHQgIGRlbGF5OiAyNTAsXG5cdCAgZWFzZTogJ2Vhc2VPdXRRdWFkJyxcblx0ICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKGUpIHtcblx0ICAgIGUudGFyZ2V0LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblx0ICB9XG5cdH0sIHtcblx0ICBvcGFjaXR5OiAxLFxuXHQgIHg6IDAsXG5cdCAgZHVyYXRpb246IDI1MCxcblx0ICBlYXNlOiAnZWFzZU91dFF1YWQnXG5cdH0sIHtcblx0ICBkZWxheTogMTAwMCxcblx0ICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJ1xuXHR9XTtcblx0XG5cdHZhciBsZWF2ZUFuaW0gPSBbe1xuXHQgIGR1cmF0aW9uOiAyNTAsXG5cdCAgeDogLTMwLFxuXHQgIG9wYWNpdHk6IDBcblx0fSwge1xuXHQgIGhlaWdodDogMCxcblx0ICBkdXJhdGlvbjogMjAwLFxuXHQgIGVhc2U6ICdlYXNlT3V0UXVhZCdcblx0fV07XG5cdFxuXHR2YXIgVGFibGVCb2R5V3JhcHBlciA9IGZ1bmN0aW9uIFRhYmxlQm9keVdyYXBwZXIoX3JlZikge1xuXHQgIHZhciBib2R5ID0gX3JlZi5ib2R5LFxuXHQgICAgICBfcmVmJHBhZ2UgPSBfcmVmLnBhZ2UsXG5cdCAgICAgIHBhZ2UgPSBfcmVmJHBhZ2UgPT09IHVuZGVmaW5lZCA/IDEgOiBfcmVmJHBhZ2UsXG5cdCAgICAgIGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQ7XG5cdFxuXHRcblx0ICAvLyDliIfmjaLliIbpobXljrvpmaTliqjnlLs7XG5cdCAgaWYgKGN1cnJlbnQgIT0gK3BhZ2UpIHtcblx0ICAgIHJldHVybiBib2R5O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgX3JjVHdlZW5PbmUuVHdlZW5PbmVHcm91cCxcblx0ICAgIHtcblx0ICAgICAgY29tcG9uZW50OiAndGJvZHknLFxuXHQgICAgICBjbGFzc05hbWU6IGJvZHkucHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICBlbnRlcjogZW50ZXJBbmltLFxuXHQgICAgICBsZWF2ZTogbGVhdmVBbmltLFxuXHQgICAgICBhcHBlYXI6IGZhbHNlIH0sXG5cdCAgICBib2R5LnByb3BzLmNoaWxkcmVuXG5cdCAgKTtcblx0fTtcblx0XG5cdFRhYmxlQm9keVdyYXBwZXIucHJvcFR5cGVzID0ge1xuXHQgIHBhZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGN1cnJlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRhYmxlQm9keVdyYXBwZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qIGdsb2JhbHMgU3ltYm9sOiB0cnVlLCBVaW50OEFycmF5OiB0cnVlLCBXZWFrTWFwOiB0cnVlICovXG5cdC8qIVxuXHQgKiBkZWVwLWVxbFxuXHQgKiBDb3B5cmlnaHQoYykgMjAxMyBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cblx0ICogTUlUIExpY2Vuc2VkXG5cdCAqL1xuXHRcblx0LyohXG5cdCAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcblx0ICovXG5cdFxuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblx0ZnVuY3Rpb24gRmFrZU1hcCgpIHtcblx0ICB0aGlzLmNsZWFyKCk7XG5cdH1cblx0RmFrZU1hcC5wcm90b3R5cGUgPSB7XG5cdCAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyTWFwKCkge1xuXHQgICAgdGhpcy5rZXlzID0gW107XG5cdCAgICB0aGlzLnZhbHVlcyA9IFtdO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBzZXQ6IGZ1bmN0aW9uIHNldE1hcChrZXksIHZhbHVlKSB7XG5cdCAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuXHQgICAgaWYgKGluZGV4ID49IDApIHtcblx0ICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuXHQgICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdCAgZ2V0OiBmdW5jdGlvbiBnZXRNYXAoa2V5KSB7XG5cdCAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5rZXlzLmluZGV4T2Yoa2V5KV07XG5cdCAgfSxcblx0ICBkZWxldGU6IGZ1bmN0aW9uIGRlbGV0ZU1hcChrZXkpIHtcblx0ICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG5cdCAgICBpZiAoaW5kZXggPj0gMCkge1xuXHQgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy52YWx1ZXMuc2xpY2UoaW5kZXggKyAxKSk7XG5cdCAgICAgIHRoaXMua2V5cyA9IHRoaXMua2V5cy5zbGljZSgwLCBpbmRleCkuY29uY2F0KHRoaXMua2V5cy5zbGljZShpbmRleCArIDEpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdH07XG5cdFxuXHR2YXIgTWVtb2l6ZU1hcCA9IG51bGw7XG5cdGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgIE1lbW9pemVNYXAgPSBXZWFrTWFwO1xuXHR9IGVsc2Uge1xuXHQgIE1lbW9pemVNYXAgPSBGYWtlTWFwO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBNZW1vaXplTWFwIGhhcyByZWNvcmRlZCBhIHJlc3VsdCBvZiB0aGUgdHdvIG9wZXJhbmRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbnxudWxsfSByZXN1bHRcblx0Ki9cblx0ZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwKSB7XG5cdCAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuXHQgIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRNYXApIHtcblx0ICAgIHZhciByZXN1bHQgPSBsZWZ0SGFuZE1hcC5nZXQocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2V0IHRoZSByZXN1bHQgb2YgdGhlIGVxdWFsaXR5IGludG8gdGhlIE1lbW9pemVNYXBcblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdWx0XG5cdCovXG5cdGZ1bmN0aW9uIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwLCByZXN1bHQpIHtcblx0ICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG5cdCAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRNYXApIHtcblx0ICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBsZWZ0SGFuZE1hcCA9IG5ldyBNZW1vaXplTWFwKCk7XG5cdCAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcblx0ICAgIG1lbW9pemVNYXAuc2V0KGxlZnRIYW5kT3BlcmFuZCwgbGVmdEhhbmRNYXApO1xuXHQgIH1cblx0fVxuXHRcblx0LyohXG5cdCAqIFByaW1hcnkgRXhwb3J0XG5cdCAqL1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBkZWVwRXF1YWw7XG5cdG1vZHVsZS5leHBvcnRzLk1lbW9pemVNYXAgPSBNZW1vaXplTWFwO1xuXHRcblx0LyoqXG5cdCAqIEFzc2VydCBkZWVwbHkgbmVzdGVkIHNhbWVWYWx1ZSBlcXVhbGl0eSBiZXR3ZWVuIHR3byBvYmplY3RzIG9mIGFueSB0eXBlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG5cdCAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcblx0ICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgLy8gSWYgd2UgaGF2ZSBhIGNvbXBhcmF0b3IsIHdlIGNhbid0IGFzc3VtZSBhbnl0aGluZzsgc28gYmFpbCB0byBpdHMgY2hlY2sgZmlyc3QuXG5cdCAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLy8gRGVlcGVyIGNvbXBhcmlzb25zIGFyZSBwdXNoZWQgdGhyb3VnaCB0byBhIGxhcmdlciBmdW5jdGlvblxuXHQgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIE1hbnkgY29tcGFyaXNvbnMgY2FuIGJlIGNhbmNlbGVkIG91dCBlYXJseSB2aWEgc2ltcGxlIGVxdWFsaXR5IG9yIHByaW1pdGl2ZSBjaGVja3MuXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW58bnVsbH0gZXF1YWwgbWF0Y2hcblx0ICovXG5cdGZ1bmN0aW9uIHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuXHQgIC8vIEVxdWFsIHJlZmVyZW5jZXMgKGV4Y2VwdCBmb3IgTnVtYmVycykgY2FuIGJlIHJldHVybmVkIGVhcmx5XG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZCkge1xuXHQgICAgLy8gSGFuZGxlICstMCBjYXNlc1xuXHQgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCAhPT0gMCB8fCAxIC8gbGVmdEhhbmRPcGVyYW5kID09PSAxIC8gcmlnaHRIYW5kT3BlcmFuZDtcblx0ICB9XG5cdFxuXHQgIC8vIGhhbmRsZSBOYU4gY2FzZXNcblx0ICBpZiAoXG5cdCAgICBsZWZ0SGFuZE9wZXJhbmQgIT09IGxlZnRIYW5kT3BlcmFuZCAmJiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgICAgcmlnaHRIYW5kT3BlcmFuZCAhPT0gcmlnaHRIYW5kT3BlcmFuZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgICkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICAvLyBBbnl0aGluZyB0aGF0IGlzIG5vdCBhbiAnb2JqZWN0JywgaS5lLiBzeW1ib2xzLCBmdW5jdGlvbnMsIGJvb2xlYW5zLCBudW1iZXJzLFxuXHQgIC8vIHN0cmluZ3MsIGFuZCB1bmRlZmluZWQsIGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UuXG5cdCAgaWYgKGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIC8vIEVhc3kgb3V0IGIvYyBpdCB3b3VsZCBoYXZlIHBhc3NlZCB0aGUgZmlyc3QgZXF1YWxpdHkgY2hlY2tcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBUaGUgbWFpbiBsb2dpYyBvZiB0aGUgYGRlZXBFcXVhbGAgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2Zcblx0ICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuXHQgICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcblx0Ki9cblx0ZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgIG9wdGlvbnMubWVtb2l6ZSA9IG9wdGlvbnMubWVtb2l6ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IG9wdGlvbnMubWVtb2l6ZSB8fCBuZXcgTWVtb2l6ZU1hcCgpO1xuXHQgIHZhciBjb21wYXJhdG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3I7XG5cdFxuXHQgIC8vIENoZWNrIGlmIGEgbWVtb2l6ZWQgcmVzdWx0IGV4aXN0cy5cblx0ICB2YXIgbWVtb2l6ZVJlc3VsdExlZnQgPSBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG5cdCAgaWYgKG1lbW9pemVSZXN1bHRMZWZ0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdExlZnQ7XG5cdCAgfVxuXHQgIHZhciBtZW1vaXplUmVzdWx0UmlnaHQgPSBtZW1vaXplQ29tcGFyZShyaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG5cdCAgaWYgKG1lbW9pemVSZXN1bHRSaWdodCAhPT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIG1lbW9pemVSZXN1bHRSaWdodDtcblx0ICB9XG5cdFxuXHQgIC8vIElmIGEgY29tcGFyYXRvciBpcyBwcmVzZW50LCB1c2UgaXQuXG5cdCAgaWYgKGNvbXBhcmF0b3IpIHtcblx0ICAgIHZhciBjb21wYXJhdG9yUmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgICAgLy8gQ29tcGFyYXRvcnMgbWF5IHJldHVybiBudWxsLCBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8gZ28gYmFjayB0byBkZWZhdWx0IGJlaGF2aW9yLlxuXHQgICAgaWYgKGNvbXBhcmF0b3JSZXN1bHQgPT09IGZhbHNlIHx8IGNvbXBhcmF0b3JSZXN1bHQgPT09IHRydWUpIHtcblx0ICAgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgY29tcGFyYXRvclJlc3VsdCk7XG5cdCAgICAgIHJldHVybiBjb21wYXJhdG9yUmVzdWx0O1xuXHQgICAgfVxuXHQgICAgLy8gVG8gYWxsb3cgY29tcGFyYXRvcnMgdG8gb3ZlcnJpZGUgKmFueSogYmVoYXZpb3IsIHdlIHJhbiB0aGVtIGZpcnN0LiBTaW5jZSBpdCBkaWRuJ3QgZGVjaWRlXG5cdCAgICAvLyB3aGF0IHRvIGRvLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0byByZXR1cm4gdGhlIGJhc2ljIHRlc3RzIGZpcnN0IGJlZm9yZSB3ZSBtb3ZlIG9uLlxuXHQgICAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG5cdCAgICAgIC8vIERvbid0IG1lbW9pemUgdGhpcywgaXQgdGFrZXMgbG9uZ2VyIHRvIHNldC9yZXRyaWV2ZSB0aGFuIHRvIGp1c3QgY29tcGFyZS5cblx0ICAgICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBsZWZ0SGFuZFR5cGUgPSB0eXBlKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kVHlwZSAhPT0gdHlwZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgZmFsc2UpO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGVtcG9yYXJpbHkgc2V0IHRoZSBvcGVyYW5kcyBpbiB0aGUgbWVtb2l6ZSBvYmplY3QgdG8gcHJldmVudCBibG93aW5nIHRoZSBzdGFja1xuXHQgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHRydWUpO1xuXHRcblx0ICB2YXIgcmVzdWx0ID0gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKTtcblx0ICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCByZXN1bHQpO1xuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucykge1xuXHQgIHN3aXRjaCAobGVmdEhhbmRUeXBlKSB7XG5cdCAgICBjYXNlICdTdHJpbmcnOlxuXHQgICAgY2FzZSAnTnVtYmVyJzpcblx0ICAgIGNhc2UgJ0Jvb2xlYW4nOlxuXHQgICAgY2FzZSAnRGF0ZSc6XG5cdCAgICAgIC8vIElmIHRoZXNlIHR5cGVzIGFyZSB0aGVpciBpbnN0YW5jZSB0eXBlcyAoZS5nLiBgbmV3IE51bWJlcmApIHRoZW4gcmUtZGVlcEVxdWFsIGFnYWluc3QgdGhlaXIgdmFsdWVzXG5cdCAgICAgIHJldHVybiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLnZhbHVlT2YoKSwgcmlnaHRIYW5kT3BlcmFuZC52YWx1ZU9mKCkpO1xuXHQgICAgY2FzZSAnUHJvbWlzZSc6XG5cdCAgICBjYXNlICdTeW1ib2wnOlxuXHQgICAgY2FzZSAnZnVuY3Rpb24nOlxuXHQgICAgY2FzZSAnV2Vha01hcCc6XG5cdCAgICBjYXNlICdXZWFrU2V0Jzpcblx0ICAgIGNhc2UgJ0Vycm9yJzpcblx0ICAgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZDtcblx0ICAgIGNhc2UgJ0FyZ3VtZW50cyc6XG5cdCAgICBjYXNlICdJbnQ4QXJyYXknOlxuXHQgICAgY2FzZSAnVWludDhBcnJheSc6XG5cdCAgICBjYXNlICdVaW50OENsYW1wZWRBcnJheSc6XG5cdCAgICBjYXNlICdJbnQxNkFycmF5Jzpcblx0ICAgIGNhc2UgJ1VpbnQxNkFycmF5Jzpcblx0ICAgIGNhc2UgJ0ludDMyQXJyYXknOlxuXHQgICAgY2FzZSAnVWludDMyQXJyYXknOlxuXHQgICAgY2FzZSAnRmxvYXQzMkFycmF5Jzpcblx0ICAgIGNhc2UgJ0Zsb2F0NjRBcnJheSc6XG5cdCAgICBjYXNlICdBcnJheSc6XG5cdCAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdSZWdFeHAnOlxuXHQgICAgICByZXR1cm4gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGNhc2UgJ0dlbmVyYXRvcic6XG5cdCAgICAgIHJldHVybiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnRGF0YVZpZXcnOlxuXHQgICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQuYnVmZmVyKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZC5idWZmZXIpLCBvcHRpb25zKTtcblx0ICAgIGNhc2UgJ0FycmF5QnVmZmVyJzpcblx0ICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnU2V0Jzpcblx0ICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnTWFwJzpcblx0ICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiFcblx0ICogQ29tcGFyZSB0d28gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgZXF1YWxpdHkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7UmVnRXhwfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtSZWdFeHB9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZC50b1N0cmluZygpID09PSByaWdodEhhbmRPcGVyYW5kLnRvU3RyaW5nKCk7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDb21wYXJlIHR3byBTZXRzL01hcHMgZm9yIGVxdWFsaXR5LiBGYXN0ZXIgdGhhbiBvdGhlciBlcXVhbGl0eSBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U2V0fSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtTZXR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBTZXQjZW50cmllcyBvciBTZXQjQEBpdGVyYXRvciwgc28gd2UgbmVlZCBtYW51YWxseSBwb3B1bGF0ZSB1c2luZyBTZXQjZm9yRWFjaFxuXHQgIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSAhPT0gcmlnaHRIYW5kT3BlcmFuZC5zaXplKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHZhciBsZWZ0SGFuZEl0ZW1zID0gW107XG5cdCAgdmFyIHJpZ2h0SGFuZEl0ZW1zID0gW107XG5cdCAgbGVmdEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG5cdCAgICBsZWZ0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuXHQgIH0pO1xuXHQgIHJpZ2h0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcblx0ICAgIHJpZ2h0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuXHQgIH0pO1xuXHQgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kSXRlbXMuc29ydCgpLCByaWdodEhhbmRJdGVtcy5zb3J0KCksIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2ltcGxlIGVxdWFsaXR5IGZvciBmbGF0IGl0ZXJhYmxlIG9iamVjdHMgc3VjaCBhcyBBcnJheXMsIFR5cGVkQXJyYXlzIG9yIE5vZGUuanMgYnVmZmVycy5cblx0ICpcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGxlZnRIYW5kT3BlcmFuZC5sZW5ndGg7XG5cdCAgaWYgKGxlbmd0aCAhPT0gcmlnaHRIYW5kT3BlcmFuZC5sZW5ndGgpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKGxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtpbmRleF0sIHJpZ2h0SGFuZE9wZXJhbmRbaW5kZXhdLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0LyohXG5cdCAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZ2VuZXJhdG9yIG9iamVjdHMgc3VjaCBhcyB0aG9zZSByZXR1cm5lZCBieSBnZW5lcmF0b3IgZnVuY3Rpb25zLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwoZ2V0R2VuZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpLCBnZXRHZW5lcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcblx0fVxuXHRcblx0LyohXG5cdCAqIERldGVybWluZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpIHtcblx0ICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmXG5cdCAgICB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgdHlwZW9mIHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgaXRlcmF0b3IgZW50cmllcyBmcm9tIHRoZSBnaXZlbiBPYmplY3QuIElmIHRoZSBPYmplY3QgaGFzIG5vIEBAaXRlcmF0b3IgZnVuY3Rpb24sIHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG5cdCAqIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBpdGVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzIGRlcGVuZGluZyBvbiB0aGUgQEBpdGVyYXRvciBpbXBsZW1lbnRhdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgQEBpdGVyYXRvciBmdW5jdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0SXRlcmF0b3JFbnRyaWVzKHRhcmdldCkge1xuXHQgIGlmIChoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBnZXRHZW5lcmF0b3JFbnRyaWVzKHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHQgICAgfSBjYXRjaCAoaXRlcmF0b3JFcnJvcikge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBbXTtcblx0fVxuXHRcblx0LyohXG5cdCAqIEdldHMgYWxsIGVudHJpZXMgZnJvbSBhIEdlbmVyYXRvci4gVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGdlbmVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0dlbmVyYXRvcn0gdGFyZ2V0XG5cdCAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBHZW5lcmF0b3IuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRHZW5lcmF0b3JFbnRyaWVzKGdlbmVyYXRvcikge1xuXHQgIHZhciBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuXHQgIHZhciBhY2N1bXVsYXRvciA9IFsgZ2VuZXJhdG9yUmVzdWx0LnZhbHVlIF07XG5cdCAgd2hpbGUgKGdlbmVyYXRvclJlc3VsdC5kb25lID09PSBmYWxzZSkge1xuXHQgICAgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcblx0ICAgIGFjY3VtdWxhdG9yLnB1c2goZ2VuZXJhdG9yUmVzdWx0LnZhbHVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gYSB0YXJnZXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcblx0ICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSB0aGUgdGFyZ2V0LlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RW51bWVyYWJsZUtleXModGFyZ2V0KSB7XG5cdCAgdmFyIGtleXMgPSBbXTtcblx0ICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG5cdCAgICBrZXlzLnB1c2goa2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIGtleXM7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIGhhdmUgbWF0Y2hpbmcgdmFsdWVzLCBnaXZlbiBhIHNldCBvZiBrZXlzLiBEZWZlcnMgdG8gZGVlcEVxdWFsIGZvciB0aGUgZXF1YWxpdHkgY2hlY2sgb2Zcblx0ICogZWFjaCBrZXkuIElmIGFueSB2YWx1ZSBvZiB0aGUgZ2l2ZW4ga2V5IGlzIG5vdCBlcXVhbCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZhbHNlIChlYXJseSkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGtleXMgQW4gYXJyYXkgb2Yga2V5cyB0byBjb21wYXJlIHRoZSB2YWx1ZXMgb2YgbGVmdEhhbmRPcGVyYW5kIGFuZCByaWdodEhhbmRPcGVyYW5kIGFnYWluc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0ZnVuY3Rpb24ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwga2V5cywgb3B0aW9ucykge1xuXHQgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcblx0ICBpZiAobGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRba2V5c1tpXV0sIHJpZ2h0SGFuZE9wZXJhbmRba2V5c1tpXV0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogUmVjdXJzaXZlbHkgY2hlY2sgdGhlIGVxdWFsaXR5IG9mIHR3byBPYmplY3RzLiBPbmNlIGJhc2ljIHNhbWVuZXNzIGhhcyBiZWVuIGVzdGFibGlzaGVkIGl0IHdpbGwgZGVmZXIgdG8gYGRlZXBFcXVhbGBcblx0ICogZm9yIGVhY2ggZW51bWVyYWJsZSBrZXkgaW4gdGhlIG9iamVjdC5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIHZhciBsZWZ0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIHZhciByaWdodEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggJiYgbGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gcmlnaHRIYW5kS2V5cy5sZW5ndGgpIHtcblx0ICAgIGxlZnRIYW5kS2V5cy5zb3J0KCk7XG5cdCAgICByaWdodEhhbmRLZXlzLnNvcnQoKTtcblx0ICAgIGlmIChpdGVyYWJsZUVxdWFsKGxlZnRIYW5kS2V5cywgcmlnaHRIYW5kS2V5cykgPT09IGZhbHNlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZEtleXMsIG9wdGlvbnMpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGxlZnRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIHZhciByaWdodEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZEVudHJpZXMubGVuZ3RoICYmIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoKSB7XG5cdCAgICBsZWZ0SGFuZEVudHJpZXMuc29ydCgpO1xuXHQgICAgcmlnaHRIYW5kRW50cmllcy5zb3J0KCk7XG5cdCAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEVudHJpZXMsIHJpZ2h0SGFuZEVudHJpZXMsIG9wdGlvbnMpO1xuXHQgIH1cblx0XG5cdCAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcblx0ICAgICAgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICByaWdodEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgcHJpbWl0aXZlLlxuXHQgKlxuXHQgKiBUaGlzIGludGVudGlvbmFsbHkgcmV0dXJucyB0cnVlIGZvciBhbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UsXG5cdCAqIGluY2x1ZGluZyBmdW5jdGlvbnMgYW5kIHN5bWJvbHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jztcblx0fVxuXG5cbi8qKiovIH0sXG5cbi8qKiovIDE1OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic2VhcmNoXCI6XCJzZWFyY2hfX19wMDRLTlwifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTYwOlxuMTAsXG5cbi8qKiovIDE2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXHQvKipcblx0ICogQ3JlYXRlZCBieSBqbGpzaiBvbiAxNi8xLzI3LlxuXHQgKi9cblx0XG5cdFxuXHR2YXIgX2Vhc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9lYXNpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFzaW5nKTtcblx0XG5cdHZhciBfcGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXHRcblx0dmFyIF9TdHlsZVBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblx0XG5cdHZhciBfU3R5bGVQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3R5bGVQbHVnaW4pO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERFRkFVTFRfRUFTSU5HID0gJ2Vhc2VJbk91dFF1YWQnO1xuXHR2YXIgREVGQVVMVF9EVVJBVElPTiA9IDQ1MDtcblx0dmFyIERFRkFVTFRfREVMQVkgPSAwO1xuXHRmdW5jdGlvbiBub29wKCkge31cblx0X3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5wdXNoKF9TdHlsZVBsdWdpbjJbXCJkZWZhdWx0XCJdKTtcblx0Ly8g6K6+572u6buY6K6k5pWw5o2uXG5cdGZ1bmN0aW9uIGRlZmF1bHREYXRhKHZhcnMsIG5vdykge1xuXHQgIHJldHVybiB7XG5cdCAgICBkdXJhdGlvbjogdmFycy5kdXJhdGlvbiB8fCB2YXJzLmR1cmF0aW9uID09PSAwID8gdmFycy5kdXJhdGlvbiA6IERFRkFVTFRfRFVSQVRJT04sXG5cdCAgICBkZWxheTogdmFycy5kZWxheSB8fCBERUZBVUxUX0RFTEFZLFxuXHQgICAgZWFzZTogdHlwZW9mIHZhcnMuZWFzZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhcnMuZWFzZSA6IF9lYXNpbmcyW1wiZGVmYXVsdFwiXVt2YXJzLmVhc2UgfHwgREVGQVVMVF9FQVNJTkddLFxuXHQgICAgb25VcGRhdGU6IHZhcnMub25VcGRhdGUgfHwgbm9vcCxcblx0ICAgIG9uQ29tcGxldGU6IHZhcnMub25Db21wbGV0ZSB8fCBub29wLFxuXHQgICAgb25TdGFydDogdmFycy5vblN0YXJ0IHx8IG5vb3AsXG5cdCAgICBvblJlcGVhdDogdmFycy5vblJlcGVhdCB8fCBub29wLFxuXHQgICAgcmVwZWF0OiB2YXJzLnJlcGVhdCB8fCAwLFxuXHQgICAgcmVwZWF0RGVsYXk6IHZhcnMucmVwZWF0RGVsYXkgfHwgMCxcblx0ICAgIHlveW86IHZhcnMueW95byB8fCBmYWxzZSxcblx0ICAgIHR5cGU6IHZhcnMudHlwZSB8fCAndG8nLFxuXHQgICAgaW5pdFRpbWU6IG5vdyxcblx0ICAgIGFwcGVhclRvOiB0eXBlb2YgdmFycy5hcHBlYXJUbyA9PT0gJ251bWJlcicgPyB2YXJzLmFwcGVhclRvIDogbnVsbFxuXHQgIH07XG5cdH1cblx0XG5cdHZhciB0aW1lTGluZSA9IGZ1bmN0aW9uIHRpbWVMaW5lKHRhcmdldCwgdG9EYXRhLCBwcm9wcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHQgIHRoaXMuYXR0ciA9IHByb3BzLmF0dHIgfHwgJ3N0eWxlJztcblx0ICB0aGlzLndpbGxDaGFuZ2UgPSBwcm9wcy53aWxsQ2hhbmdlO1xuXHQgIC8vIOiusOW9leaAu+aXtumXtDtcblx0ICB0aGlzLnRvdGFsVGltZSA9IDA7XG5cdCAgLy8g6K6w5b2V5b2T5YmN5pe26Ze0O1xuXHQgIHRoaXMucHJvZ3Jlc3NUaW1lID0gMDtcblx0ICAvLyDorrDlvZXml7bpl7TovbTmlbDmja47XG5cdCAgdGhpcy5kZWZhdWx0RGF0YSA9IFtdO1xuXHQgIC8vIOavj+S4queahOW8gOWni+aVsOaNru+8m1xuXHQgIHRoaXMuc3RhcnQgPSB7fTtcblx0ICAvLyDorrDlvZXliqjnlLvlvIDlp4s7XG5cdCAgdGhpcy5vblN0YXJ0ID0ge307XG5cdCAgLy8g5byA5aeL6buY6K6k55qE5pWw5o2u77ybXG5cdCAgdGhpcy5zdGFydERlZmF1bHREYXRhID0ge307XG5cdCAgdmFyIGRhdGEgPSBbXTtcblx0ICB0b0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCwgaSkge1xuXHQgICAgdmFyIF9kID0gX2V4dGVuZHMoe30sIGQpO1xuXHQgICAgaWYgKF90aGlzLmF0dHIgPT09ICdzdHlsZScpIHtcblx0ICAgICAgZGF0YVtpXSA9IHt9O1xuXHQgICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpIHtcblx0ICAgICAgICAgIGRhdGFbaV1ba2V5XSA9IF9kW2tleV07XG5cdCAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBkYXRhW2ldLnN0eWxlID0gX2Q7XG5cdCAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXHQgICAgfSBlbHNlIGlmIChfdGhpcy5hdHRyID09PSAnYXR0cicpIHtcblx0ICAgICAgT2JqZWN0LmtleXMoX2QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdzdHlsZScgJiYgQXJyYXkuaXNBcnJheShkW2tleV0pKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0eWxlIHNob3VsZCBiZSB0aGUgb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuXHQgICAgICAgICAgX2Quc3R5bGUgPSBfZXh0ZW5kcyh7fSwgX2Quc3R5bGUsIHsgYmV6aWVyOiBfZFtrZXldIH0pO1xuXHQgICAgICAgICAgZGVsZXRlIF9kW2tleV07XG5cdCAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhLnN0eWxlID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YVtrZXldID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZShrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGRhdGFbaV0gPSBfZDtcblx0ICAgIH1cblx0ICB9KTtcblx0ICAvLyDliqjnlLvov4fnqItcblx0ICB0aGlzLnR3ZWVuID0ge307XG5cdCAgLy8g5q+P5bin55qE5pe26Ze0O1xuXHQgIHRoaXMucGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG5cdCAgLy8g5rOo5YaM77yM56ys5LiA5qyh6L+b5YWl5omn6KGM5rOo5YaMXG5cdCAgdGhpcy5yZWdpc3RlciA9IGZhbHNlO1xuXHQgIC8vIOe8k+WKqOacgOWwj+WAvDtcblx0ICB0aGlzLnRpbnlOdW0gPSAwLjAwMDAwMDAwMDE7XG5cdCAgLy8g6K6+572u6buY6K6k5Yqo55S75pWw5o2uO1xuXHQgIHRoaXMuc2V0RGVmYXVsdERhdGEoZGF0YSk7XG5cdH07XG5cdHZhciBwID0gdGltZUxpbmUucHJvdG90eXBlO1xuXHRcblx0cC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uIChfdmFycykge1xuXHQgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICB2YXIgbm93ID0gMDtcblx0ICB2YXIgcmVwZWF0TWF4ID0gZmFsc2U7XG5cdCAgdmFyIGRhdGEgPSBfdmFycy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBhcHBlYXJUb0Jvb2wgPSB0eXBlb2YgaXRlbS5hcHBlYXJUbyA9PT0gJ251bWJlcic7XG5cdCAgICAvLyDliqDkuIrlu7bml7bvvIzlnKjmsqHmnInmkq3mlL7ov4fml7bvvJtcblx0ICAgIC8vICFhcHBlYXJUb0Jvb2wgJiYgKG5vdyArPSBpdGVtLmRlbGF5IHx8IDApO1xuXHQgICAgaWYgKCFhcHBlYXJUb0Jvb2wpIHtcblx0ICAgICAgbm93ICs9IGl0ZW0uZGVsYXkgfHwgMDtcblx0ICAgIH1cblx0ICAgIHZhciBhcHBlYXJUb1RpbWUgPSAoaXRlbS5hcHBlYXJUbyB8fCAwKSArIChpdGVtLmRlbGF5IHx8IDApO1xuXHQgICAgLy8g6I635Y+W6buY6K6k5pWw5o2uXG5cdCAgICB2YXIgdHdlZW5EYXRhID0gZGVmYXVsdERhdGEoaXRlbSwgYXBwZWFyVG9Cb29sID8gYXBwZWFyVG9UaW1lIDogbm93KTtcblx0ICAgIHR3ZWVuRGF0YS52YXJzID0ge307XG5cdCAgICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICAgIGlmICghKF9rZXkgaW4gdHdlZW5EYXRhKSkge1xuXHQgICAgICAgIHZhciBfZGF0YSA9IGl0ZW1bX2tleV07XG5cdCAgICAgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXVtfa2V5XShfdGhpczIudGFyZ2V0LCBfZGF0YSwgdHdlZW5EYXRhLnR5cGUpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IHsgdHlwZTogJ2NvbG9yJywgdmFyczogKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKF9kYXRhKSB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9kYXRhID09PSAnbnVtYmVyJyB8fCBfZGF0YS5zcGxpdCgvWyx8XFxzXS9nKS5sZW5ndGggPD0gMSkge1xuXHQgICAgICAgICAgdmFyIHZhcnMgPSBwYXJzZUZsb2F0KF9kYXRhKTtcblx0ICAgICAgICAgIHZhciB1bml0ID0gX2RhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgICAgICB2YXIgY291bnQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB1bml0OiB1bml0LCB2YXJzOiB2YXJzLCBjb3VudDogY291bnQgfTtcblx0ICAgICAgICB9IGVsc2UgaWYgKChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpICYmICdTVkdNb3JwaCcgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5TVkdNb3JwaChfdGhpczIudGFyZ2V0LCBfZGF0YSwgX2tleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmICh0d2VlbkRhdGEueW95byAmJiAhdHdlZW5EYXRhLnJlcGVhdCkge1xuXHQgICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IHlveW8gbXVzdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggcmVwZWF0OycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICB9XG5cdCAgICBpZiAodHdlZW5EYXRhLnJlcGVhdCA9PT0gLTEpIHtcblx0ICAgICAgcmVwZWF0TWF4ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHZhciByZXBlYXQgPSB0d2VlbkRhdGEucmVwZWF0ID09PSAtMSA/IDAgOiB0d2VlbkRhdGEucmVwZWF0O1xuXHQgICAgaWYgKGFwcGVhclRvQm9vbCkge1xuXHQgICAgICAvLyDlpoLmnpzmnIkgYXBwZWFyVG8g5LiU6L+Z5p2h5pe26Ze05q+UIG5vdyDlpKfml7bvvIzvvIzmgLvml7bpl7TnlKjov5nmnaHvvJtcblx0ICAgICAgdmFyIGFwcGVhck5vdyA9IGl0ZW0uYXBwZWFyVG8gKyAoaXRlbS5kZWxheSB8fCAwKSArIHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcblx0ICAgICAgbm93ID0gYXBwZWFyTm93ID49IG5vdyA/IGFwcGVhck5vdyA6IG5vdztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0d2VlbkRhdGEuZGVsYXkgPCAtdHdlZW5EYXRhLmR1cmF0aW9uKSB7XG5cdCAgICAgICAgLy8g5aaC5p6c5bu25pe25bCP5LqOIOi0n+aXtumXtOaXtiws5LiN5YqgLOWGjeWHj+WbnuW7tuaXtjtcblx0ICAgICAgICBub3cgLT0gdHdlZW5EYXRhLmRlbGF5O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHJlcGVhdCDkuLogLTEg5Y+q6K6w5b2V5LiA5qyh44CC5LiN6IO96LefIHJldmVyc2Ug5ZCM5pe25L2/55SoO1xuXHQgICAgICAgIG5vdyArPSB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHR3ZWVuRGF0YS5tb2RlID0gJyc7XG5cdCAgICByZXR1cm4gdHdlZW5EYXRhO1xuXHQgIH0pO1xuXHQgIHRoaXMudG90YWxUaW1lID0gcmVwZWF0TWF4ID8gTnVtYmVyLk1BWF9WQUxVRSA6IG5vdztcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gZGF0YTtcblx0fTtcblx0cC5nZXRBbmltU3RhcnREYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgdmFyIHN0YXJ0ID0ge307XG5cdCAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczMuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIHN0YXJ0W19rZXldID0gaXRlbVtfa2V5XS5nZXRBbmltU3RhcnQoX3RoaXMzLndpbGxDaGFuZ2UpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAoX3RoaXMzLmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG5cdCAgICAgIHZhciBhdHRyaWJ1dGUgPSBfdGhpczMudGFyZ2V0LmdldEF0dHJpYnV0ZShfa2V5KTtcblx0ICAgICAgdmFyIGRhdGEgPSBhdHRyaWJ1dGUgPT09ICdudWxsJyB8fCAhYXR0cmlidXRlID8gMCA6IGF0dHJpYnV0ZTtcblx0ICAgICAgaWYgKF9rZXkubWF0Y2goL2NvbG9yL2kpIHx8IF9rZXkgPT09ICdzdHJva2UnIHx8IF9rZXkgPT09ICdmaWxsJykge1xuXHQgICAgICAgIGRhdGEgPSAhZGF0YSAmJiBfa2V5ID09PSAnc3Ryb2tlJyA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyA6IGRhdGE7XG5cdCAgICAgICAgZGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShkYXRhKTtcblx0ICAgICAgICBzdGFydFtfa2V5XSA9IGRhdGE7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFyc2VGbG9hdChkYXRhKSB8fCBwYXJzZUZsb2F0KGRhdGEpID09PSAwIHx8IGRhdGEgPT09IDApIHtcblx0ICAgICAgICB2YXIgdW5pdCA9IGRhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgICAgc3RhcnRbX2tleV0gPSB1bml0ICE9PSBpdGVtW19rZXldLnVuaXQgPyAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczMudGFyZ2V0LCBfa2V5LCBwYXJzZUZsb2F0KGRhdGEpLCB1bml0LCBpdGVtW19rZXldLnVuaXQpIDogcGFyc2VGbG9hdChkYXRhKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBzdGFydFtfa2V5XSA9IGRhdGE7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHN0YXJ0W19rZXldID0gX3RoaXMzLnRhcmdldFtfa2V5XSB8fCAwO1xuXHQgIH0pO1xuXHQgIHJldHVybiBzdGFydDtcblx0fTtcblx0cC5zZXRBbmltRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzNC5hdHRyID09PSAnYXR0cicgJiYgKGtleSA9PT0gJ2QnIHx8IGtleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIF90aGlzNC50YXJnZXRba2V5XSA9IGRhdGFba2V5XTtcblx0ICB9KTtcblx0fTtcblx0cC5zZXRSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgZW5kRGF0YSwgaSkge1xuXHQgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICBPYmplY3Qua2V5cyhlbmREYXRhLnZhcnMpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcblx0ICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM1LmF0dHIgPT09ICdhdHRyJyAmJiAoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSkge1xuXHQgICAgICBlbmREYXRhLnZhcnNbX2tleV0uc2V0UmF0aW8ocmF0aW8sIF90aGlzNS50d2Vlbik7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBlbmRWYXJzID0gZW5kRGF0YS52YXJzW19rZXldO1xuXHQgICAgdmFyIHN0YXJ0VmFycyA9IF90aGlzNS5zdGFydFtpXVtfa2V5XTtcblx0ICAgIHZhciBkYXRhID0gdm9pZCAwO1xuXHQgICAgaWYgKF90aGlzNS5hdHRyID09PSAnYXR0cicpIHtcblx0ICAgICAgLy8g6Zmk5LqGZOWSjOi/mXBvaW50c+WklueahOagh+etvuWKqOeUu++8m1xuXHQgICAgICBpZiAoIWVuZFZhcnMudHlwZSkge1xuXHQgICAgICAgIGRhdGEgPSBlbmRWYXJzLnVuaXQuY2hhckF0KDEpID09PSAnPScgPyBzdGFydFZhcnMgKyBlbmRWYXJzLnZhcnMgKiByYXRpbyArIGVuZFZhcnMudW5pdCA6IChlbmRWYXJzLnZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyBlbmRWYXJzLnVuaXQ7XG5cdCAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgZGF0YSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoZW5kVmFycy50eXBlID09PSAnY29sb3InKSB7XG5cdCAgICAgICAgaWYgKGVuZFZhcnMudmFycy5sZW5ndGggPT09IDMgJiYgc3RhcnRWYXJzLmxlbmd0aCA9PT0gNCkge1xuXHQgICAgICAgICAgZW5kVmFycy52YXJzWzNdID0gMTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZGF0YSA9IGVuZFZhcnMudmFycy5tYXAoZnVuY3Rpb24gKF9lbmREYXRhLCBfaSkge1xuXHQgICAgICAgICAgdmFyIHN0YXJ0RGF0YSA9IHN0YXJ0VmFyc1tfaV0gfHwgMDtcblx0ICAgICAgICAgIHJldHVybiAoX2VuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGE7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShkYXRhKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0ICB0aGlzLnNldEFuaW1EYXRhKHRoaXMudHdlZW4pO1xuXHR9O1xuXHRwLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgdGhpcy5kZWZhdWx0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICB2YXIgaW5pdFRpbWUgPSBpdGVtLmluaXRUaW1lO1xuXHQgICAgdmFyIGR1cmF0aW9uID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKGl0ZW0uZHVyYXRpb24pO1xuXHQgICAgLy8g5aSE55CGIHlveW8g5ZKMIHJlcGVhdDsgeW95byDmmK/lnKjml7bpl7TovbTkuIrnmoQsIOW5tuS4jeaYr+WAkuaUvlxuXHQgICAgdmFyIHJlcGVhdE51bSA9IE1hdGguY2VpbCgoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKSAvIChkdXJhdGlvbiArIGl0ZW0ucmVwZWF0RGVsYXkpKSAtIDE7XG5cdCAgICByZXBlYXROdW0gPSByZXBlYXROdW0gPCAwID8gMCA6IHJlcGVhdE51bTtcblx0ICAgIC8vIHJlcGVhdE51bSA9IHRoaXMucHJvZ3Jlc3NUaW1lID09PSAwID8gcmVwZWF0TnVtICsgMSA6IHJlcGVhdE51bTtcblx0ICAgIGlmIChpdGVtLnJlcGVhdCkge1xuXHQgICAgICBpZiAoaXRlbS5yZXBlYXQgPCByZXBlYXROdW0gJiYgaXRlbS5yZXBlYXQgIT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpdGVtLnJlcGVhdCB8fCBpdGVtLnJlcGVhdCA8PSByZXBlYXROdW0pIHtcblx0ICAgICAgICBpbml0VGltZSA9IGluaXRUaW1lICsgcmVwZWF0TnVtICogKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBzdGFydERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwO1xuXHQgICAgdmFyIGVuZERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxO1xuXHQgICAgLy8gIOeyvuW6puaNn+Wkse+8jOWPquWPluWwj+aVsOeCueWQjjEw5L2N44CCXG5cdCAgICB2YXIgcHJvZ3Jlc3NUaW1lID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKF90aGlzNi5wcm9ncmVzc1RpbWUgLSBpbml0VGltZSk7XG5cdCAgICAvLyDorr7nva4gc3RhcnRcblx0ICAgIHZhciBkZWxheSA9IGl0ZW0uZGVsYXkgPj0gMCA/IGl0ZW0uZGVsYXkgOiAtaXRlbS5kZWxheTtcblx0ICAgIHZhciBmcm9tRGVsYXkgPSBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IGRlbGF5IDogMDtcblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYuc3RhcnRbaV0pIHtcblx0ICAgICAgX3RoaXM2LnN0YXJ0W2ldID0gX3RoaXM2LmdldEFuaW1TdGFydERhdGEoaXRlbS52YXJzKTtcblx0ICAgICAgaWYgKCFfdGhpczYucmVnaXN0ZXIgJiYgcHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAgIF90aGlzNi5yZWdpc3RlciA9IHRydWU7XG5cdCAgICAgICAgLy8g5Zyo5byA5aeL6Lez5bin5pe244CC44CCW3t4OjEwMCx0eXBlOidmcm9tJ30se3k6MzAwfV3vvIzot7Pov4fkuoZmcm9t5pe2LCBtb21lbnQgPSA2MDAgPT4g6ZyA6KaB5oqKZnJvbeWQiOWbnuadpVxuXHQgICAgICAgIC8vIOWmguaenCBkdXJhdGlvbiDlkowgZGVsYXkg6YO95Li6IDDvvIwg5Yik5pat55Soc2V0LCDnm7TmjqXms6jlhozml7blsLHnu5PmnZ87XG5cdCAgICAgICAgdmFyIHMgPSBkZWxheSA/IDAgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuXHQgICAgICAgIHZhciBzcyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IHM7XG5cdCAgICAgICAgdmFyIHN0ID0gcHJvZ3Jlc3NUaW1lIC8gKGR1cmF0aW9uICsgZnJvbURlbGF5KSA+IDEgPyAxIDogc3M7XG5cdCAgICAgICAgX3RoaXM2LnNldFJhdGlvKHN0LCBpdGVtLCBpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIGUgPSB7XG5cdCAgICAgIGluZGV4OiBpLFxuXHQgICAgICB0YXJnZXQ6IF90aGlzNi50YXJnZXRcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gb25SZXBlYXQg5aSE55CGXG5cdCAgICBpZiAoaXRlbS5yZXBlYXQgJiYgcmVwZWF0TnVtID4gMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgLy8g6YeN5paw5byA5aeLLCDlnKjnrKzkuIDnp5Lop6blj5Hml7bosIPnlKg7XG5cdCAgICAgIGl0ZW0ub25SZXBlYXQoZSk7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvZ3Jlc3NUaW1lIDwgMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lKSB7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwLCBpdGVtLCBpKTtcblx0ICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IGR1cmF0aW9uICYmIGl0ZW0ubW9kZSAhPT0gJ29uQ29tcGxldGUnKSB7XG5cdCAgICAgIHZhciBjb21wUmF0aW8gPSBkdXJhdGlvbiA/IGl0ZW0uZWFzZShkdXJhdGlvbiwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbikgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuXHQgICAgICBfdGhpczYuc2V0UmF0aW8oY29tcFJhdGlvLCBpdGVtLCBpKTtcblx0ICAgICAgaWYgKGl0ZW0ubW9kZSAhPT0gJ3Jlc2V0Jykge1xuXHQgICAgICAgIGl0ZW0ub25Db21wbGV0ZShlKTtcblx0ICAgICAgfVxuXHQgICAgICBpdGVtLm1vZGUgPSAnb25Db21wbGV0ZSc7XG5cdCAgICB9IGVsc2UgaWYgKHByb2dyZXNzVGltZSA+PSAwICYmIHByb2dyZXNzVGltZSA8IGR1cmF0aW9uKSB7XG5cdCAgICAgIGl0ZW0ubW9kZSA9IHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSAmJiAhX3RoaXM2Lm9uU3RhcnRbaV0gPyAnb25TdGFydCcgOiAnb25VcGRhdGUnO1xuXHQgICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZTtcblx0ICAgICAgcHJvZ3Jlc3NUaW1lID0gcHJvZ3Jlc3NUaW1lID4gZHVyYXRpb24gPyBkdXJhdGlvbiA6IHByb2dyZXNzVGltZTtcblx0ICAgICAgdmFyIHJhdGlvID0gaXRlbS5lYXNlKHByb2dyZXNzVGltZSwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbik7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhyYXRpbywgaXRlbSwgaSk7XG5cdCAgICAgIF90aGlzNi5vblN0YXJ0W2ldID0gdHJ1ZTtcblx0ICAgICAgaWYgKHByb2dyZXNzVGltZSA8PSBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgICBpdGVtLm9uU3RhcnQoZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaXRlbS5vblVwZGF0ZShfZXh0ZW5kcyh7IHJhdGlvOiByYXRpbyB9LCBlKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24gKyBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgX3RoaXM2Lm9uQ2hhbmdlKF9leHRlbmRzKHtcblx0ICAgICAgICBtb21lbnQ6IF90aGlzNi5wcm9ncmVzc1RpbWUsXG5cdCAgICAgICAgbW9kZTogaXRlbS5tb2RlXG5cdCAgICAgIH0sIGUpKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0Ly8g5pKt5pS+5binXG5cdHAuZnJhbWUgPSBmdW5jdGlvbiAobW9tZW50KSB7XG5cdCAgdGhpcy5wcm9ncmVzc1RpbWUgPSBtb21lbnQ7XG5cdCAgdGhpcy5yZW5kZXIoKTtcblx0fTtcblx0cC5yZXNldEFuaW1EYXRhID0gZnVuY3Rpb24gKCkge1xuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICB0aGlzLnN0YXJ0ID0ge307XG5cdCAgdGhpcy5vblN0YXJ0ID0ge307XG5cdH07XG5cdFxuXHRwLnJlc2V0RGVmYXVsdFN0eWxlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICB0aGlzLnR3ZWVuID0ge307XG5cdCAgdGhpcy5kZWZhdWx0RGF0YSA9IHRoaXMuZGVmYXVsdERhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICBpdGVtLm1vZGUgPSAncmVzZXQnO1xuXHQgICAgcmV0dXJuIGl0ZW07XG5cdCAgfSk7XG5cdCAgT2JqZWN0LmtleXModGhpcy5zdGFydERlZmF1bHREYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmICghKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpKSB7XG5cdCAgICAgIF90aGlzNy50YXJnZXQuc2V0QXR0cmlidXRlKGtleSwgX3RoaXM3LnN0YXJ0RGVmYXVsdERhdGFba2V5XSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdFxuXHRwLm9uQ2hhbmdlID0gbm9vcDtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aW1lTGluZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1R3ZWVuT25lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdFxuXHR2YXIgX1R3ZWVuT25lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R3ZWVuT25lKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIFR3ZWVuT25lR3JvdXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUd2Vlbk9uZUdyb3VwLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVHdlZW5PbmVHcm91cCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZUdyb3VwKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHRcblx0ICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cdFxuXHQgICAgX3RoaXMua2V5c1RvRW50ZXIgPSBbXTtcblx0ICAgIF90aGlzLmtleXNUb0xlYXZlID0gW107XG5cdCAgICBfdGhpcy5vbkVudGVyQm9vbCA9IGZhbHNlO1xuXHQgICAgX3RoaXMuaXNUd2VlbiA9IHt9O1xuXHQgICAgLy8g56ys5LiA6L+b5YWl77yMYXBwZWFyIOS4uiB0cnVlIOaXtum7mOiupOeUqCBlbnRlciDmiJYgdHdlZW4tb25lIOS4iueahOaViOaenFxuXHQgICAgdmFyIGNoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikoKDAsIF91dGlsLmdldENoaWxkcmVuRnJvbVByb3BzKShfdGhpcy5wcm9wcykpO1xuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB0aGlzLm9uRW50ZXJCb29sID0gdHJ1ZTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBuZXh0Q2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgdmFyIGN1cnJlbnRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuXHQgICAgdmFyIG5ld0NoaWxkcmVuID0gKDAsIF91dGlsLm1lcmdlQ2hpbGRyZW4pKGN1cnJlbnRDaGlsZHJlbiwgbmV4dENoaWxkcmVuKTtcblx0XG5cdCAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG5cdCAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG5cdCAgICBuZXh0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgICBpZiAoIWMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGtleSA9IGMua2V5O1xuXHQgICAgICB2YXIgaGFzUHJldiA9ICgwLCBfdXRpbC5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkpKGN1cnJlbnRDaGlsZHJlbiwga2V5KTtcblx0ICAgICAgaWYgKCFoYXNQcmV2ICYmIGtleSkge1xuXHQgICAgICAgIF90aGlzMi5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmICghYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gYy5rZXk7XG5cdCAgICAgIHZhciBoYXNOZXh0ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkobmV4dENoaWxkcmVuLCBrZXkpO1xuXHQgICAgICBpZiAoIWhhc05leHQgJiYga2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLmtleXNUb0xlYXZlLnB1c2goa2V5KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgY2hpbGRyZW46IG5ld0NoaWxkcmVuXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlcih0aGlzLnN0YXRlLmNoaWxkcmVuKTtcblx0ICAgIGlmICghdGhpcy5wcm9wcy5jb21wb25lbnQpIHtcblx0ICAgICAgcmV0dXJuIGNoaWxkcmVuVG9SZW5kZXJbMF0gfHwgbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBjb21wb25lbnRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIFsnY29tcG9uZW50JywgJ2FwcGVhcicsICdlbnRlcicsICdsZWF2ZScsICdhbmltYXRpbmdDbGFzc05hbWUnLCAnb25FbmQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gZGVsZXRlIGNvbXBvbmVudFByb3BzW2tleV07XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKHRoaXMucHJvcHMuY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFR3ZWVuT25lR3JvdXA7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG5cdCAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoYW5pbWF0aW9uLCBrZXksIHR5cGUsIG9iaikge1xuXHQgICAgdmFyIGxlbmd0aCA9ICgwLCBfdXRpbC5kYXRhVG9BcnJheSkoYW5pbWF0aW9uKS5sZW5ndGg7XG5cdCAgICB2YXIgYW5pbWF0aW5nQ2xhc3NOYW1lID0gX3RoaXMzLnByb3BzLmFuaW1hdGluZ0NsYXNzTmFtZTtcblx0ICAgIHZhciB0YWcgPSBvYmoudGFyZ2V0O1xuXHQgICAgdmFyIGlzRW50ZXIgPSB0eXBlID09PSAnZW50ZXInIHx8IHR5cGUgPT09ICdhcHBlYXInO1xuXHQgICAgaWYgKG9iai5tb2RlID09PSAnb25TdGFydCcpIHtcblx0ICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDEgOiAwXSwgJycpLnRyaW0oKTtcblx0ICAgICAgaWYgKHRhZy5jbGFzc05hbWUuaW5kZXhPZihhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkgPT09IC0xKSB7XG5cdCAgICAgICAgdGFnLmNsYXNzTmFtZSA9ICh0YWcuY2xhc3NOYW1lICsgJyAnICsgYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0pLnRyaW0oKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvYmouaW5kZXggPT09IGxlbmd0aCAtIDEgJiYgb2JqLm1vZGUgPT09ICdvbkNvbXBsZXRlJykge1xuXHQgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW47XG5cdCAgICAgIGlmICh0eXBlID09PSAnZW50ZXInKSB7XG5cdCAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnNwbGljZShfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpLCAxKTtcblx0ICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbGVhdmUnKSB7XG5cdCAgICAgICAgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGtleSAhPT0gY2hpbGQua2V5O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5zcGxpY2UoX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSwgMSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSwgJycpLnRyaW0oKTtcblx0ICAgICAgZGVsZXRlIF90aGlzMy5pc1R3ZWVuW2tleV07XG5cdCAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgX29iaiA9IHsga2V5OiBrZXksIHR5cGU6IHR5cGUgfTtcblx0ICAgICAgX3RoaXMzLnByb3BzLm9uRW5kKF9vYmopO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHRoaXMuZ2V0Q292ZXJBbmltYXRpb24gPSBmdW5jdGlvbiAoY2hpbGQsIGksIHR5cGUpIHtcblx0ICAgIHZhciBhbmltYXRpb24gPSB2b2lkIDA7XG5cdCAgICB2YXIgb25DaGFuZ2UgPSB2b2lkIDA7XG5cdCAgICBhbmltYXRpb24gPSB0eXBlID09PSAnbGVhdmUnID8gX3RoaXMzLnByb3BzLmxlYXZlIDogX3RoaXMzLnByb3BzLmVudGVyO1xuXHQgICAgaWYgKHR5cGUgPT09ICdhcHBlYXInKSB7XG5cdCAgICAgIHZhciBhcHBlYXIgPSAoMCwgX3V0aWwudHJhbnNmb3JtQXJndW1lbnRzKShfdGhpczMucHJvcHMuYXBwZWFyLCBjaGlsZC5rZXksIGkpO1xuXHQgICAgICBhbmltYXRpb24gPSBhcHBlYXIgJiYgX3RoaXMzLnByb3BzLmVudGVyIHx8IG51bGw7XG5cdCAgICB9XG5cdCAgICBvbkNoYW5nZSA9IF90aGlzMy5vbkNoYW5nZS5iaW5kKF90aGlzMywgYW5pbWF0aW9uLCBjaGlsZC5rZXksIHR5cGUpO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVHdlZW5PbmUyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7XG5cdCAgICAgIHdpbGxDaGFuZ2U6IF90aGlzMy5wcm9wcy53aWxsQ2hhbmdlLFxuXHQgICAgICBrZXk6IGNoaWxkLmtleSxcblx0ICAgICAgY29tcG9uZW50OiBjaGlsZC50eXBlLFxuXHQgICAgICBhbmltYXRpb246ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKGFuaW1hdGlvbiwgY2hpbGQua2V5LCBpKSxcblx0ICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuXHQgICAgICByZXNldFN0eWxlQm9vbDogX3RoaXMzLnByb3BzLnJlc2V0U3R5bGVCb29sXG5cdCAgICB9KSk7XG5cdCAgICBpZiAoX3RoaXMzLmtleXNUb0VudGVyLmNvbmNhdChfdGhpczMua2V5c1RvTGVhdmUpLmluZGV4T2YoY2hpbGQua2V5KSA+PSAwIHx8ICFfdGhpczMub25FbnRlckJvb2wgJiYgYW5pbWF0aW9uKSB7XG5cdCAgICAgIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gPSB0eXBlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNoaWxkcmVuO1xuXHQgIH07XG5cdFxuXHQgIHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHQgICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcblx0ICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQua2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG5cdCAgICAgIGlmIChfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID49IDApIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnbGVhdmUnKTtcblx0ICAgICAgfSBlbHNlIGlmIChfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpID49IDAgfHwgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID09PSAtMSkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdlbnRlcicpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFfdGhpczMub25FbnRlckJvb2wpIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnYXBwZWFyJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldKSB8fCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHsgY29tcG9uZW50OiBjaGlsZC50eXBlLCBrZXk6IGNoaWxkLmtleSB9KSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG9iamVjdE9yQXJyYXkgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKTtcblx0dmFyIG9iamVjdE9yQXJyYXlPckZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbb2JqZWN0T3JBcnJheSwgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSk7XG5cdFxuXHRUd2Vlbk9uZUdyb3VwLnByb3BUeXBlcyA9IHtcblx0ICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgYXBwZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZW50ZXI6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG5cdCAgbGVhdmU6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG5cdCAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIG9uRW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdFR3ZWVuT25lR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuXHQgIGNvbXBvbmVudDogJ2RpdicsXG5cdCAgYXBwZWFyOiB0cnVlLFxuXHQgIGFuaW1hdGluZ0NsYXNzTmFtZTogWyd0d2Vlbi1vbmUtZW50ZXJpbmcnLCAndHdlZW4tb25lLWxlYXZpbmcnXSxcblx0ICBlbnRlcjogeyB4OiA1MCwgb3BhY2l0eTogMCwgdHlwZTogJ2Zyb20nIH0sXG5cdCAgbGVhdmU6IHsgeDogLTUwLCBvcGFjaXR5OiAwIH0sXG5cdCAgb25FbmQ6IG5vb3AsXG5cdCAgd2lsbENoYW5nZTogdHJ1ZSxcblx0ICByZXNldFN0eWxlQm9vbDogdHJ1ZVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lR3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0VHdlZW5PbmUuVHdlZW5PbmVHcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0VHdlZW5PbmUuZWFzaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdG1vZHVsZS5leHBvcnRzID0gVHdlZW5PbmU7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcywgbm8tY29uc29sZSAqL1xuXHRcblx0XG5cdHZhciBfc3R5bGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0eWxlVXRpbHMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHR2YXIgX3BsdWdpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFN0eWxlUGx1Z2luID0gZnVuY3Rpb24gU3R5bGVQbHVnaW4odGFyZ2V0LCB2YXJzLCB0eXBlKSB7XG5cdCAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdCAgdGhpcy52YXJzID0gdmFycztcblx0ICB0aGlzLnR5cGUgPSB0eXBlO1xuXHQgIHRoaXMucHJvcHNEYXRhID0ge307XG5cdCAgdGhpcy5zZXREZWZhdWx0RGF0YSgpO1xuXHR9O1xuXHR2YXIgcCA9IFN0eWxlUGx1Z2luLnByb3RvdHlwZSA9IHtcblx0ICBuYW1lOiAnc3R5bGUnXG5cdH07XG5cdHAuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcgPyBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFyZ2V0KSA6IHt9O1xuXHR9O1xuXHRwLmdldFR3ZWVuRGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhcnMpIHtcblx0ICB2YXIgZGF0YSA9IHtcblx0ICAgIGRhdGE6IHt9LFxuXHQgICAgZGF0YVR5cGU6IHt9LFxuXHQgICAgZGF0YVVuaXQ6IHt9LFxuXHQgICAgZGF0YUNvdW50OiB7fSxcblx0ICAgIGRhdGFTcGxpdFN0cjoge31cblx0ICB9O1xuXHQgIGlmIChrZXkubWF0Y2goL2NvbG98ZmlsbHxzdG9ya2VyL2kpKSB7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKSh2YXJzKTtcblx0ICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdjb2xvcic7XG5cdCAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHZhcnMpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3NoYWRvdyc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgdmFycyA9PT0gJ3N0cmluZycgJiYgdmFycy5zcGxpdCgvW1xcc3wsXS8pLmxlbmd0aCA+IDEpIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gdmFycy5zcGxpdCgvW1xcc3wsXS8pO1xuXHQgICAgZGF0YS5kYXRhU3BsaXRTdHJba2V5XSA9IHZhcnMucmVwbGFjZSgvW15cXHN8LF0vZywgJycpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3N0cmluZyc7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gdmFycztcblx0ICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdvdGhlcic7XG5cdCAgfVxuXHQgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZGF0YVtrZXldKSkge1xuXHQgICAgZGF0YS5kYXRhVW5pdFtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuXHQgICAgICByZXR1cm4gX2l0ZW0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICB9KTtcblx0ICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuXHQgICAgICByZXR1cm4gIXBhcnNlRmxvYXQoX2l0ZW0pICYmIHBhcnNlRmxvYXQoX2l0ZW0pICE9PSAwID8gX2l0ZW0gOiBwYXJzZUZsb2F0KF9pdGVtKTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgIHZhciBkID0gcGFyc2VGbG9hdChkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1thLXp8JXw9XS9nLCAnJykpO1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSAhZCAmJiBkICE9PSAwID8gZGF0YS5kYXRhW2tleV0gOiBkO1xuXHQgIH1cblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblx0cC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGUgPSB7fTtcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhVW5pdCA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFDb3VudCA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0ciA9IHt9O1xuXHQgIE9iamVjdC5rZXlzKHRoaXMudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzLnRhcmdldCwgX3RoaXMudmFyc1tfa2V5XSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBrZXkgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0R3NhcFR5cGUpKF9rZXkpO1xuXHQgICAgdmFyIF9kYXRhID0gX3RoaXMuZ2V0VHdlZW5EYXRhKGtleSwgX3RoaXMudmFyc1tfa2V5XSk7XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtrZXldID0gX2RhdGEuZGF0YVtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV0gPSBfZGF0YS5kYXRhVHlwZVtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFVbml0W2tleV0gPSBfZGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFDb3VudFtrZXldID0gX2RhdGEuZGF0YUNvdW50W2tleV07XG5cdCAgICBpZiAoX2RhdGEuZGF0YVNwbGl0U3RyW2tleV0pIHtcblx0ICAgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0cltrZXldID0gX2RhdGEuZGF0YVNwbGl0U3RyW2tleV07XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdHAuY29udmVydFRvTWFya3NBcnJheSA9IGZ1bmN0aW9uICh1bml0LCBrZXksIGRhdGEsIGkpIHtcblx0ICB2YXIgc3RhcnRVbml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICB2YXIgZW5kVW5pdCA9IHVuaXRbaV07XG5cdCAgaWYgKHN0YXJ0VW5pdCA9PT0gZW5kVW5pdCkge1xuXHQgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSk7XG5cdCAgfSBlbHNlIGlmICghcGFyc2VGbG9hdChkYXRhKSAmJiBwYXJzZUZsb2F0KGRhdGEpICE9PSAwKSB7XG5cdCAgICByZXR1cm4gZGF0YTtcblx0ICB9XG5cdCAgcmV0dXJuICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKHRoaXMudGFyZ2V0LCBrZXksIGRhdGEsIHN0YXJ0VW5pdCwgZW5kVW5pdCwgbnVsbCwga2V5ID09PSAndHJhbnNmb3JtT3JpZ2luJyAmJiAhaSk7XG5cdH07XG5cdHAuZ2V0QW5pbVN0YXJ0ID0gZnVuY3Rpb24gKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIHZhciBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG5cdCAgdmFyIHN0eWxlID0ge307XG5cdCAgdGhpcy5zdXBwb3J0czNEID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgncGVyc3BlY3RpdmUnKTtcblx0ICB2YXIgd2lsbENoYW5nZUFycmF5ID0gdm9pZCAwO1xuXHQgIGlmICh3aWxsQ2hhbmdlQm9vbCkge1xuXHQgICAgdGhpcy53aWxsQ2hhbmdlID0gY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlID09PSAnYXV0bycgfHwgIWNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSB8fCBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdub25lJyA/ICcnIDogY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlO1xuXHQgICAgd2lsbENoYW5nZUFycmF5ID0gdGhpcy53aWxsQ2hhbmdlLnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG5cdCAgICAgIHJldHVybiBrO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIE9iamVjdC5rZXlzKHRoaXMucHJvcHNEYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIGNzc05hbWUgPSAoMCwgX3N0eWxlVXRpbHMuaXNDb252ZXJ0KShrZXkpO1xuXHQgICAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgICAgIHZhciB3aWxsU3R5bGUgPSBrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSA/IF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldLnVzZVN0eWxlIHx8IGNzc05hbWUgOiBjc3NOYW1lO1xuXHQgICAgICB3aWxsU3R5bGUgPSB3aWxsU3R5bGUgPT09ICd0cmFuc2Zvcm1PcmlnaW4nID8gJ3RyYW5zZm9ybS1vcmlnaW4nIDogd2lsbFN0eWxlO1xuXHQgICAgICBpZiAod2lsbENoYW5nZUFycmF5LmluZGV4T2Yod2lsbFN0eWxlKSA9PT0gLTEgJiYgKHdpbGxTdHlsZSBpbiBjb21wdXRlZFN0eWxlIHx8IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSkge1xuXHQgICAgICAgIHdpbGxDaGFuZ2VBcnJheS5wdXNoKHdpbGxTdHlsZSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMyLndpbGxDaGFuZ2UgPSB3aWxsQ2hhbmdlQXJyYXkuam9pbignLCcpO1xuXHQgICAgfVxuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbY3NzTmFtZV07XG5cdCAgICB2YXIgZml4ZWQgPSBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuXHQgICAgaWYgKCFzdGFydERhdGEgfHwgc3RhcnREYXRhID09PSAnbm9uZScgfHwgc3RhcnREYXRhID09PSAnYXV0bycpIHtcblx0ICAgICAgc3RhcnREYXRhID0gJyc7XG5cdCAgICB9XG5cdCAgICB2YXIgdHJhbnNmb3JtID0gdm9pZCAwO1xuXHQgICAgdmFyIGVuZFVuaXQgPSB2b2lkIDA7XG5cdCAgICB2YXIgc3RhcnRVbml0ID0gdm9pZCAwO1xuXHQgICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG5cdCAgICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuXHQgICAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLnRyYW5zZm9ybV07XG5cdCAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0uZ2V0QW5pbVN0YXJ0KCk7XG5cdCAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG5cdCAgICAgIF90aGlzMi50cmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCd0cmFuc2Zvcm0nKTtcblx0ICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG5cdCAgICAgIGlmIChlbmRVbml0ICYmIGVuZFVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG5cdCAgICAgICAgdmFyIHBlcmNlbnQgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuXHQgICAgICAgIHRyYW5zZm9ybVtwZXJjZW50XSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGtleSwgdHJhbnNmb3JtW2tleV0sIG51bGwsIGVuZFVuaXQpO1xuXHQgICAgICAgIHRyYW5zZm9ybVtrZXldID0gMDtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cdCAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICdmaWx0ZXInKSB7XG5cdCAgICAgIF90aGlzMi5maWx0ZXJOYW1lID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgnZmlsdGVyJykgfHwgJ2ZpbHRlcic7XG5cdCAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLmZpbHRlck5hbWVdO1xuXHQgICAgICBfdGhpczIuZmlsdGVyT2JqZWN0ID0gX2V4dGVuZHMoe30sIF90aGlzMi5maWx0ZXJPYmplY3QsICgwLCBfc3R5bGVVdGlscy5zcGxpdEZpbHRlclRvT2JqZWN0KShzdGFydERhdGEpKTtcblx0ICAgICAgc3RhcnREYXRhID0gX3RoaXMyLmZpbHRlck9iamVjdFtrZXldIHx8IDA7XG5cdCAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgaWYgKGVuZFVuaXQgIT09IHN0YXJ0VW5pdCkge1xuXHQgICAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGNzc05hbWUsIHBhcnNlRmxvYXQoc3RhcnREYXRhKSwgc3RhcnRVbml0LCBlbmRVbml0LCBmaXhlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgc3R5bGVba2V5XSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhKTtcblx0ICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9jb2xvcnxmaWxsL2kpIHx8IGtleSA9PT0gJ3N0cm9rZScpIHtcblx0ICAgICAgc3RhcnREYXRhID0gIXN0YXJ0RGF0YSAmJiBrZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogc3RhcnREYXRhO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShzdGFydERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuXHQgICAgICBzdGFydERhdGEgPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHN0YXJ0RGF0YSk7XG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcblx0ICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XSkpIHtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLnNwbGl0KC9bXFxzfCxdLyk7XG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIOiuoeeul+WNleS9jVxuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtjc3NOYW1lXTtcblx0ICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG5cdCAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhIHx8IDApO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHRoaXMuc3RhcnQgPSBzdHlsZTtcblx0ICByZXR1cm4gc3R5bGU7XG5cdH07XG5cdHAuc2V0QXJyYXlSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgc3RhcnQsIHZhcnMsIHVuaXQsIHR5cGUpIHtcblx0ICBpZiAodHlwZSA9PT0gJ2NvbG9yJyAmJiBzdGFydC5sZW5ndGggPT09IDQgJiYgdmFycy5sZW5ndGggPT09IDMpIHtcblx0ICAgIHZhcnNbM10gPSAxO1xuXHQgIH1cblx0ICB2YXIgc3RhcnRJbnNldCA9IHN0YXJ0LmluZGV4T2YoJ2luc2V0JykgPj0gMDtcblx0ICB2YXIgZW5kSW5zZXQgPSB2YXJzLmluZGV4T2YoJ2luc2V0JykgPj0gMDtcblx0ICBpZiAoc3RhcnRJbnNldCAmJiAhZW5kSW5zZXQgfHwgZW5kSW5zZXQgJiYgIXN0YXJ0SW5zZXQpIHtcblx0ICAgIHRocm93IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBcImJveC1zaGFkb3dcIiBpbnNldCBoYXZlIHRvIGV4aXN0Jyk7XG5cdCAgfVxuXHQgIHZhciBsZW5ndGggPSBlbmRJbnNldCA/IDkgOiA4O1xuXHQgIGlmIChzdGFydC5sZW5ndGggPT09IGxlbmd0aCAmJiB2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuXHQgICAgdmFycy5zcGxpY2UoMywgMCwgMCk7XG5cdCAgICB1bml0LnNwbGljZSgzLCAwLCAnJyk7XG5cdCAgfSBlbHNlIGlmICh2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoICYmIHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuXHQgICAgc3RhcnQuc3BsaWNlKDMsIDAsIDApO1xuXHQgIH1cblx0ICB2YXIgX3ZhcnMgPSB2YXJzLm1hcChmdW5jdGlvbiAoZW5kRGF0YSwgaSkge1xuXHQgICAgdmFyIHN0YXJ0SXNBbHBoYSA9IHR5cGUgPT09ICdjb2xvcicgJiYgaSA9PT0gMyAmJiAhc3RhcnRbaV0gPyAxIDogMDtcblx0ICAgIHZhciBzdGFydERhdGEgPSB0eXBlb2Ygc3RhcnRbaV0gPT09ICdudW1iZXInID8gc3RhcnRbaV0gOiBzdGFydElzQWxwaGE7XG5cdCAgICBpZiAodHlwZW9mIGVuZERhdGEgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHJldHVybiBlbmREYXRhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIChlbmREYXRhIC0gc3RhcnREYXRhKSAqIHJhdGlvICsgc3RhcnREYXRhICsgKHVuaXRbaV0gfHwgMCk7XG5cdCAgfSk7XG5cdCAgaWYgKHR5cGUgPT09ICdjb2xvcicpIHtcblx0ICAgIHJldHVybiAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKF92YXJzKTtcblx0ICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaGFkb3cnKSB7XG5cdCAgICB2YXIgbCA9IF92YXJzLmxlbmd0aCA9PT0gbGVuZ3RoID8gNCA6IDM7XG5cdCAgICB2YXIgcyA9IF92YXJzLnNsaWNlKDAsIGwpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW0gKyAncHgnO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBpdGVtO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgYyA9IF92YXJzLnNsaWNlKGwsIGVuZEluc2V0ID8gX3ZhcnMubGVuZ3RoIC0gMSA6IF92YXJzLmxlbmd0aCk7XG5cdCAgICB2YXIgY29sb3IgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGMpO1xuXHQgICAgcmV0dXJuIChzLmpvaW4oJyAnKSArICcgJyArIGNvbG9yICsgJyAnICsgKGVuZEluc2V0ID8gJ2luc2V0JyA6ICcnKSkudHJpbSgpO1xuXHQgIH1cblx0ICByZXR1cm4gX3ZhcnM7XG5cdH07XG5cdFxuXHRwLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCB0d2Vlbikge1xuXHQgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICB0d2Vlbi5zdHlsZSA9IHR3ZWVuLnN0eWxlIHx8IHt9O1xuXHQgIGlmICh0aGlzLnN0YXJ0LnRyYW5zZm9ybSkge1xuXHQgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtID0gdHdlZW4uc3R5bGUudHJhbnNmb3JtIHx8IF9leHRlbmRzKHt9LCB0aGlzLnN0YXJ0LnRyYW5zZm9ybSk7XG5cdCAgfVxuXHQgIHZhciBzdHlsZSA9IHRoaXMudGFyZ2V0LnN0eWxlO1xuXHQgIGlmICh0aGlzLndpbGxDaGFuZ2UpIHtcblx0ICAgIGlmIChyYXRpbyA9PT0gKHRoaXMudHlwZSA9PT0gJ2Zyb20nID8gMCA6IDEpKSB7XG5cdCAgICAgIHN0eWxlLndpbGxDaGFuZ2UgPSBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc3R5bGUud2lsbENoYW5nZSA9IHRoaXMud2lsbENoYW5nZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgX2lzVHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmlzVHJhbnNmb3JtKShrZXkpID09PSAndHJhbnNmb3JtJztcblx0ICAgIHZhciBzdGFydFZhcnMgPSBfaXNUcmFuc2Zvcm0gPyBfdGhpczMuc3RhcnQudHJhbnNmb3JtW2tleV0gOiBfdGhpczMuc3RhcnRba2V5XTtcblx0ICAgIHZhciBlbmRWYXJzID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV07XG5cdCAgICB2YXIgdW5pdCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgIHZhciBjb3VudCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV07XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcblx0ICAgICAgX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV0uc2V0UmF0aW8ocmF0aW8sIHR3ZWVuKTtcblx0ICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcblx0ICAgICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgT2JqZWN0LmtleXModHdlZW4uc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGNzcykge1xuXHQgICAgICAgICAgcmV0dXJuIHN0eWxlW2Nzc10gPSB0d2Vlbi5zdHlsZVtjc3NdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0gZWxzZSBpZiAoX2lzVHJhbnNmb3JtKSB7XG5cdCAgICAgIGlmICh1bml0ICYmIHVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG5cdCAgICAgICAgdmFyIHBOYW1lID0ga2V5ID09PSAndHJhbnNsYXRlWCcgPyAneFBlcmNlbnQnIDogJ3lQZXJjZW50Jztcblx0ICAgICAgICBzdGFydFZhcnMgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtW3BOYW1lXTtcblx0ICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzY2FsZScpIHtcblx0ICAgICAgICB2YXIgeFN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVg7XG5cdCAgICAgICAgdmFyIHlTdGFydCA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm0uc2NhbGVZO1xuXHQgICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IHhTdGFydCArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSB5U3RhcnQgKyBlbmRWYXJzICogcmF0aW87XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVggPSAoZW5kVmFycyAtIHhTdGFydCkgKiByYXRpbyArIHhTdGFydDtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSAoZW5kVmFycyAtIHlTdGFydCkgKiByYXRpbyArIHlTdGFydDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW87XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycztcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbmRWYXJzKSkge1xuXHQgICAgICB2YXIgX3R5cGUgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV07XG5cdCAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBfdGhpczMuc2V0QXJyYXlSYXRpbyhyYXRpbywgc3RhcnRWYXJzLCBlbmRWYXJzLCB1bml0LCBfdHlwZSk7XG5cdCAgICAgIGlmIChfdHlwZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XS5qb2luKF90aGlzMy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0pO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc3R5bGVVbml0ID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIDApO1xuXHQgICAgICBzdHlsZVVuaXQgPSB0eXBlb2Ygc3R5bGVVbml0ID09PSAnbnVtYmVyJyA/ICcnIDogc3R5bGVVbml0LnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgdW5pdCA9IHVuaXQgfHwgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwID8gJycgOiBzdHlsZVVuaXQpO1xuXHQgICAgICBpZiAodHlwZW9mIGVuZFZhcnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IGVuZFZhcnM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvICsgdW5pdDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgdW5pdDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChfc3R5bGVVdGlsczJbXCJkZWZhdWx0XCJdLmZpbHRlci5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICBpZiAoIV90aGlzMy5maWx0ZXJPYmplY3QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMzLmZpbHRlck9iamVjdFtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcblx0ICAgICAgdmFyIGZpbHRlclN0eWxlID0gJyc7XG5cdCAgICAgIE9iamVjdC5rZXlzKF90aGlzMy5maWx0ZXJPYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGZpbHRlcktleSkge1xuXHQgICAgICAgIGZpbHRlclN0eWxlICs9ICcgJyArIGZpbHRlcktleSArICcoJyArIF90aGlzMy5maWx0ZXJPYmplY3RbZmlsdGVyS2V5XSArICcpJztcblx0ICAgICAgfSk7XG5cdCAgICAgIHN0eWxlW190aGlzMy5maWx0ZXJOYW1lXSA9IGZpbHRlclN0eWxlLnRyaW0oKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgc3R5bGVba2V5XSA9IHR3ZWVuLnN0eWxlW2tleV07XG5cdCAgfSk7XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU3R5bGVQbHVnaW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmFmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdFxuXHR2YXIgX3JhZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGlja2VyID0gZnVuY3Rpb24gVGlja2VyKCkge307IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cblx0XG5cdFxuXHR2YXIgcCA9IFRpY2tlci5wcm90b3R5cGUgPSB7XG5cdCAgdGlja0ZuT2JqZWN0OiB7fSxcblx0ICBpZDogLTEsXG5cdCAgdHdlZW5JZDogMCxcblx0ICBmcmFtZTogMCxcblx0ICBwZXJGcmFtZTogTWF0aC5yb3VuZCgxMDAwIC8gNjApLFxuXHQgIGdldFRpbWU6IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICB9LFxuXHQgIGVsYXBzZWQ6IDAsXG5cdCAgbGFzdFVwZGF0ZTogMCxcblx0ICBza2lwRnJhbWVNYXg6IDE2NlxuXHR9O1xuXHRwLmFkZCA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHZhciBrZXkgPSAndHdlZW5PbmUnICsgdGhpcy50d2VlbklkO1xuXHQgIHRoaXMudHdlZW5JZCsrO1xuXHQgIHRoaXMud2FrZShrZXksIGZuKTtcblx0ICByZXR1cm4ga2V5O1xuXHR9O1xuXHRwLndha2UgPSBmdW5jdGlvbiAoa2V5LCBmbikge1xuXHQgIHRoaXMudGlja0ZuT2JqZWN0W2tleV0gPSBmbjtcblx0ICBpZiAodGhpcy5pZCA9PT0gLTEpIHtcblx0ICAgIHRoaXMuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aGlzLnRpY2spO1xuXHQgIH1cblx0fTtcblx0cC5jbGVhciA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICBkZWxldGUgdGhpcy50aWNrRm5PYmplY3Rba2V5XTtcblx0fTtcblx0cC5zbGVlcCA9IGZ1bmN0aW9uICgpIHtcblx0ICBfcmFmMltcImRlZmF1bHRcIl0uY2FuY2VsKHRoaXMuaWQpO1xuXHQgIHRoaXMuaWQgPSAtMTtcblx0ICB0aGlzLmZyYW1lID0gMDtcblx0fTtcblx0dmFyIHRpY2tlciA9IG5ldyBUaWNrZXIoKTtcblx0cC50aWNrID0gZnVuY3Rpb24gKGEpIHtcblx0ICB0aWNrZXIuZWxhcHNlZCA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmdldFRpbWUoKSAtIHRpY2tlci5sYXN0VXBkYXRlIDogMDtcblx0ICB0aWNrZXIubGFzdFVwZGF0ZSA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmxhc3RVcGRhdGUgKyB0aWNrZXIuZWxhcHNlZCA6IHRpY2tlci5nZXRUaW1lKCkgKyB0aWNrZXIuZWxhcHNlZDtcblx0ICB2YXIgb2JqID0gdGlja2VyLnRpY2tGbk9iamVjdDtcblx0ICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKG9ialtrZXldKSB7XG5cdCAgICAgIG9ialtrZXldKGEpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIC8vIOWmguaenCBvYmplY3Qg6YeM5rKh5a+56LGh5LqG77yM6Ieq5Yqo5p2A5o6J77ybXG5cdCAgaWYgKCFPYmplY3Qua2V5cyhvYmopLmxlbmd0aCkge1xuXHQgICAgdGlja2VyLnNsZWVwKCk7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIGlmICh0aWNrZXIuZWxhcHNlZCA+IHRpY2tlci5za2lwRnJhbWVNYXggfHwgIXRpY2tlci5mcmFtZSkge1xuXHQgICAgdGlja2VyLmZyYW1lKys7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRpY2tlci5mcmFtZSArPSBNYXRoLnJvdW5kKHRpY2tlci5lbGFwc2VkIC8gdGlja2VyLnBlckZyYW1lKTtcblx0ICB9XG5cdCAgdGlja2VyLmlkID0gKDAsIF9yYWYyW1wiZGVmYXVsdFwiXSkodGlja2VyLnRpY2spO1xuXHR9O1xuXHR2YXIgdGltZW91dElkTnVtYmVyID0gMDtcblx0cC50aW1lb3V0ID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgIH1cblx0ICB2YXIgdGltZW91dElEID0gJ3RpbWVvdXQnICsgRGF0ZS5ub3coKSArICctJyArIHRpbWVvdXRJZE51bWJlcjtcblx0ICB2YXIgc3RhcnRGcmFtZSA9IHRoaXMuZnJhbWU7XG5cdCAgdGhpcy53YWtlKHRpbWVvdXRJRCwgZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG1vbWVudCA9IChfdGhpcy5mcmFtZSAtIHN0YXJ0RnJhbWUpICogX3RoaXMucGVyRnJhbWU7XG5cdCAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG5cdCAgICAgIF90aGlzLmNsZWFyKHRpbWVvdXRJRCk7XG5cdCAgICAgIGZuKCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgdGltZW91dElkTnVtYmVyKys7XG5cdCAgcmV0dXJuIHRpbWVvdXRJRDtcblx0fTtcblx0dmFyIGludGVydmFsSWROdW1iZXIgPSAwO1xuXHRwLmludGVydmFsID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIGlmICghKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0ICAgIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfVxuXHQgIHZhciBpbnRlcnZhbElEID0gJ2ludGVydmFsJyArIERhdGUubm93KCkgKyAnLScgKyBpbnRlcnZhbElkTnVtYmVyO1xuXHQgIHZhciBzdGFyRnJhbWUgPSB0aGlzLmZyYW1lO1xuXHQgIHRoaXMud2FrZShpbnRlcnZhbElELCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbW9tZW50ID0gKF90aGlzMi5mcmFtZSAtIHN0YXJGcmFtZSkgKiBfdGhpczIucGVyRnJhbWU7XG5cdCAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG5cdCAgICAgIHN0YXJGcmFtZSA9IF90aGlzMi5mcmFtZTtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpbnRlcnZhbElkTnVtYmVyKys7XG5cdCAgcmV0dXJuIGludGVydmFsSUQ7XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdGlja2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTcyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8gdDogY3VycmVudCB0aW1lLCBiOiBiZWdpbm5pbmcgdmFsdWUsIF9jOiBmaW5hbCB2YWx1ZSwgZDogdG90YWwgZHVyYXRpb25cblx0dmFyIHR3ZWVuRnVuY3Rpb25zID0ge1xuXHQgIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5RdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5TaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbkV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAodD09MCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQvZCAtIDEpKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuICh0PT1kKSA/IGIrYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQvZCkgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAodCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gYjtcblx0ICAgIH1cblx0ICAgIGlmICh0ID09PSBkKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5FbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAwLjM7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAwLjM7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYyArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkIC8gMikgPT09IDIpIHtcblx0ICAgICAgcmV0dXJuIGIgKyBjO1xuXHQgICAgfVxuXHQgICAgaWYgKCFwKSB7XG5cdCAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgaWYgKHQgPCAxKSB7XG5cdCAgICAgIHJldHVybiAtMC41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogMC41ICsgYyArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5CYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG5cdCAgICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuXHQgICAgICBzID0gMS43MDE1ODtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmIChzID09PSB2b2lkIDApIHtcblx0ICAgICAgcyA9IDEuNzAxNTg7XG5cdCAgICB9XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCAtIHMpKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgdmFyIHY7XG5cdCAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCk7XG5cdCAgICByZXR1cm4gYyAtIHYgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQpIDwgMSAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcblx0ICAgIH0gZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG5cdCAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDEuNSAvIDIuNzUpICogdCArIDAuNzUpICsgYjtcblx0ICAgIH0gZWxzZSBpZiAodCA8IDIuNSAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi4yNSAvIDIuNzUpICogdCArIDAuOTM3NSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAwLjk4NDM3NSkgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgdjtcblx0ICAgIGlmICh0IDwgZCAvIDIpIHtcblx0ICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCk7XG5cdCAgICAgIHJldHVybiB2ICogMC41ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCk7XG5cdCAgICAgIHJldHVybiB2ICogMC41ICsgYyAqIDAuNSArIGI7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB0d2VlbkZ1bmN0aW9ucztcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7J3VzZSBzdHJpY3QnO1xuXHQvKiAhXG5cdCAqIHR5cGUtZGV0ZWN0XG5cdCAqIENvcHlyaWdodChjKSAyMDEzIGpha2UgbHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuXHQgKiBNSVQgTGljZW5zZWRcblx0ICovXG5cdHZhciBnZXRQcm90b3R5cGVPZkV4aXN0cyA9IHR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPT09ICdmdW5jdGlvbic7XG5cdHZhciBwcm9taXNlRXhpc3RzID0gdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbic7XG5cdHZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogc2VsZjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHR2YXIgaXNEb20gPSAnbG9jYXRpb24nIGluIGdsb2JhbE9iamVjdCAmJiAnZG9jdW1lbnQnIGluIGdsb2JhbE9iamVjdDtcblx0dmFyIGh0bWxFbGVtZW50RXhpc3RzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcblx0dmFyIGlzQXJyYXlFeGlzdHMgPSB0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHN5bWJvbEV4aXN0cyA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgbWFwRXhpc3RzID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzZXRFeGlzdHMgPSB0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHdlYWtNYXBFeGlzdHMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciB3ZWFrU2V0RXhpc3RzID0gdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgZGF0YVZpZXdFeGlzdHMgPSB0eXBlb2YgRGF0YVZpZXcgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgc3ltYm9sSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHNldEVudHJpZXNFeGlzdHMgPSBzZXRFeGlzdHMgJiYgdHlwZW9mIFNldC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIG1hcEVudHJpZXNFeGlzdHMgPSBtYXBFeGlzdHMgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHNldEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgc2V0RW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFNldCgpLmVudHJpZXMoKSk7XG5cdHZhciBtYXBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mRXhpc3RzICYmIG1hcEVudHJpZXNFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBNYXAoKS5lbnRyaWVzKCkpO1xuXHR2YXIgYXJyYXlJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIGFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBhcnJheUl0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHR2YXIgc3RyaW5nSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xJdGVyYXRvckV4aXN0cyAmJiB0eXBlb2YgQXJyYXkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cdHZhciBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSA9IHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZignJ1tTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHR2YXIgdG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGggPSA4O1xuXHR2YXIgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoID0gLTE7XG5cdC8qKlxuXHQgKiAjIyMgdHlwZU9mIChvYmopXG5cdCAqXG5cdCAqIFVzZXMgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QsXG5cdCAqIG5vcm1hbGlzaW5nIGJlaGF2aW91ciBhY3Jvc3MgZW5naW5lIHZlcnNpb25zICYgd2VsbCBvcHRpbWlzZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IG9iamVjdCB0eXBlXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHR5cGVEZXRlY3Qob2JqKSB7XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzLDAzOSwwMzUgb3BzL3NlYyDCsTEuNjIlICg3OCBydW5zIHNhbXBsZWQpXG5cdCAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAxLDQyNCwxMzggb3BzL3NlYyDCsTQuNTQlICg3NSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAxLDY1MywxNTMgb3BzL3NlYyDCsTEuOTElICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogICB1bmRlZmluZWQgICAgICAgICAgeCA5LDk3OCw2NjAgb3BzL3NlYyDCsTEuOTIlICg3NSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAyLDU1Niw3Njkgb3BzL3NlYyDCsTEuNzMlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDM4LDU2NCw3OTYgb3BzL3NlYyDCsTEuMTUlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAzMSwxNDgsOTQwIG9wcy9zZWMgwrExLjEwJSAoNzkgcnVucyBzYW1wbGVkKVxuXHQgICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMzIsNjc5LDMzMCBvcHMvc2VjIMKxMS45MCUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDMyLDM2MywzNjggb3BzL3NlYyDCsTEuMDclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAzMSwyOTYsODcwIG9wcy9zZWMgwrEwLjk2JSAoODMgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIHZhciB0eXBlb2ZPYmogPSB0eXBlb2Ygb2JqO1xuXHQgIGlmICh0eXBlb2ZPYmogIT09ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mT2JqO1xuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBudWxsICAgICAgICAgICAgICAgeCAyOCw2NDUsNzY1IG9wcy9zZWMgwrExLjE3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAqIFBvc3Q6XG5cdCAgICogICBudWxsICAgICAgICAgICAgICAgeCAzNiw0MjgsOTYyIG9wcy9zZWMgwrExLjM3JSAoODQgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIGlmIChvYmogPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfVxuXHRcblx0ICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdylgYFxuXHQgICAqICAtIE5vZGUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcblx0ICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcblx0ICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gUGhhbnRvbUpTID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBJRSBFZGdlID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKWBgXG5cdCAgICogIC0gQ2hyb21lIFdvcmtlciA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIEZpcmVmb3ggV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKiAgLSBTYWZhcmkgV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKiAgLSBJRSAxMSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIElFIEVkZ2UgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKi9cblx0ICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QpIHtcblx0ICAgIHJldHVybiAnZ2xvYmFsJztcblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICogUHJlOlxuXHQgICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMiw4ODgsMzUyIG9wcy9zZWMgwrEwLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAqIFBvc3Q6XG5cdCAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyMiw0NzksNjUwIG9wcy9zZWMgwrEwLjk2JSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIGlmIChpc0FycmF5RXhpc3RzICYmIEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHQgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgfVxuXHRcblx0ICBpZiAoaXNEb20pIHtcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Jyb3dzZXJzLmh0bWwjbG9jYXRpb24pXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ3LjcuMyAtIFRoZSBgTG9jYXRpb25gIGludGVyZmFjZVxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cubG9jYXRpb24pYGBcblx0ICAgICAqICAtIElFIDw9MTEgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QubG9jYXRpb24pIHtcblx0ICAgICAgcmV0dXJuICdMb2NhdGlvbic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jZG9jdW1lbnQpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQzLjEuMSAtIFRoZSBgRG9jdW1lbnRgIG9iamVjdFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTI2ODA5MjY4KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiAgICAgICBXaGF0V0cgSFRNTCBzdGF0ZXM6XG5cdCAgICAgKiAgICAgICAgID4gRm9yIGhpc3RvcmljYWwgcmVhc29ucywgV2luZG93IG9iamVjdHMgbXVzdCBhbHNvIGhhdmUgYVxuXHQgICAgICogICAgICAgICA+IHdyaXRhYmxlLCBjb25maWd1cmFibGUsIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVkXG5cdCAgICAgKiAgICAgICAgID4gSFRNTERvY3VtZW50IHdob3NlIHZhbHVlIGlzIHRoZSBEb2N1bWVudCBpbnRlcmZhY2Ugb2JqZWN0LlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudClgYFxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QuZG9jdW1lbnQpIHtcblx0ICAgICAgcmV0dXJuICdEb2N1bWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI21pbWV0eXBlYXJyYXkpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ4LjYuMS41IC0gUGx1Z2lucyAtIEludGVyZmFjZSBNaW1lVHlwZUFycmF5XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5taW1lVHlwZXMpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU01pbWVUeXBlc0NvbGxlY3Rpb25dXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLm1pbWVUeXBlcykge1xuXHQgICAgICByZXR1cm4gJ01pbWVUeXBlQXJyYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIFBsdWdpbkFycmF5XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5wbHVnaW5zKWBgXG5cdCAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNQbHVnaW5zQ29sbGVjdGlvbl1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkucGx1Z2lucykge1xuXHQgICAgICByZXR1cm4gJ1BsdWdpbkFycmF5Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ0LjQuNCAtIFRoZSBgYmxvY2txdW90ZWAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFF1b3RlRWxlbWVudGBcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYmxvY2txdW90ZScpKWBgXG5cdCAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgSFRNTEJsb2NrRWxlbWVudF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdCTE9DS1FVT1RFJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxRdW90ZUVsZW1lbnQnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWRhdGFjZWxsZWxlbWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50YFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSlcblx0ICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1REJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxUYWJsZURhdGFDZWxsRWxlbWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlaGVhZGVyY2VsbGVsZW1lbnQpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50YFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKSlcblx0ICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1RIJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Jztcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgKiBQcmU6XG5cdCAgKiAgIEZsb2F0NjRBcnJheSAgICAgICB4IDYyNSw2NDQgb3BzL3NlYyDCsTEuNTglICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDEsMjc5LDg1MiBvcHMvc2VjIMKxMi45MSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDMyQXJyYXkgICAgICAgIHggMSwxNzgsMTg1IG9wcy9zZWMgwrExLjk1JSAoODMgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MTZBcnJheSAgICAgICAgeCAxLDAwOCwzODAgb3BzL3NlYyDCsTIuMjUlICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDEsMTI4LDA0MCBvcHMvc2VjIMKxMi4xMSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50MzJBcnJheSAgICAgICAgIHggMSwxNzAsMTE5IG9wcy9zZWMgwrEyLjg4JSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQxNkFycmF5ICAgICAgICAgeCAxLDE3NiwzNDggb3BzL3NlYyDCsTUuNzklICg4NiBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDEsMDU4LDcwNyBvcHMvc2VjIMKxNC45NCUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggMSwxMTAsNjMzIG9wcy9zZWMgwrE0LjIwJSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogUG9zdDpcblx0ICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNywxMDUsNjcxIG9wcy9zZWMgwrExMy40NyUgKDY0IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggNSw4ODcsOTEyIG9wcy9zZWMgwrExLjQ2JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MzJBcnJheSAgICAgICAgeCA2LDQ5MSw2NjEgb3BzL3NlYyDCsTEuNzYlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDYsNTU5LDc5NSBvcHMvc2VjIMKxMS42NyUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhBcnJheSAgICAgICAgIHggNiw0NjMsOTY2IG9wcy9zZWMgwrExLjQzJSAoODUgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQzMkFycmF5ICAgICAgICAgeCA1LDY0MSw4NDEgb3BzL3NlYyDCsTMuNDklICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDYsNTgzLDUxMSBvcHMvc2VjIMKxMS45OCUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50OEFycmF5ICAgICAgICAgIHggNiw2MDYsMDc4IG9wcy9zZWMgwrExLjc0JSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OENsYW1wZWRBcnJheSAgeCA2LDYwMiwyMjQgb3BzL3NlYyDCsTEuNzclICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgKi9cblx0ICB2YXIgc3RyaW5nVGFnID0gKHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzICYmIG9ialtTeW1ib2wudG9TdHJpbmdUYWddKTtcblx0ICBpZiAodHlwZW9mIHN0cmluZ1RhZyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBzdHJpbmdUYWc7XG5cdCAgfVxuXHRcblx0ICBpZiAoZ2V0UHJvdG90eXBlT2ZFeGlzdHMpIHtcblx0ICAgIHZhciBvYmpQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAxLDc3MiwzODUgb3BzL3NlYyDCsTEuODUlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMiwxNDMsNjM0IG9wcy9zZWMgwrEyLjQ2JSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDMsOTI4LDAwOSBvcHMvc2VjIMKxMC42NSUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAzLDkzMSwxMDggb3BzL3NlYyDCsTAuNTglICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gUmVnRXhwLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1JlZ0V4cCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDIsMTMwLDA3NCBvcHMvc2VjIMKxNC40MiUgKDY4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAzLDk1Myw3Nzkgb3BzL3NlYyDCsTEuMzUlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gRGF0ZS5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdEYXRlJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLXByb21pc2UucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjUuNC41LjQgLSBQcm9taXNlLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJQcm9taXNlXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFByb21pc2UucmVzb2x2ZSgpKWBgXG5cdCAgICAgKiAgLSBDaHJvbWUgPD00NyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICogIC0gRWRnZSA8PTIwID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94IDI5LUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcblx0ICAgICAqICAtIFNhZmFyaSA3LjEtTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuXHQgICAgICovXG5cdCAgICBpZiAocHJvbWlzZUV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFByb21pc2UucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnUHJvbWlzZSc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDIsMjIyLDE4NiBvcHMvc2VjIMKxMS4zMSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBzZXQgICAgICAgICAgICAgICAgeCA0LDU0NSw4Nzkgb3BzL3NlYyDCsTEuMTMlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFNldC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdTZXQnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICBtYXAgICAgICAgICAgICAgICAgeCAyLDM5Niw4NDIgb3BzL3NlYyDCsTEuNTklICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggNCwxODMsOTQ1IG9wcy9zZWMgwrE2LjU5JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmIChtYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBNYXAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnTWFwJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggMSwzMjMsMjIwIG9wcy9zZWMgwrEyLjE3JSAoNzYgcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDQsMjM3LDUxMCBvcHMvc2VjIMKxMi4wMSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAod2Vha1NldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtTZXQucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnV2Vha1NldCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDEsNTAwLDI2MCBvcHMvc2VjIMKxMi4wMiUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICB3ZWFrbWFwICAgICAgICAgICAgeCAzLDg4MSwzODQgb3BzL3NlYyDCsTEuNDUlICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKHdlYWtNYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBXZWFrTWFwLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1dlYWtNYXAnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtZGF0YXZpZXcucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjQuMi40LjIxIC0gRGF0YVZpZXcucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkRhdGFWaWV3XCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGRhdGFWaWV3RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gRGF0YVZpZXcucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnRGF0YVZpZXcnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJW1hcGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIzLjEuNS4yLjIgLSAlTWFwSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIk1hcCBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgTWFwKCkuZW50cmllcygpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IG1hcEl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnTWFwIEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzZXRpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMy4yLjUuMi4yIC0gJVNldEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTZXQgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IFNldCgpLmVudHJpZXMoKSlgYFxuXHQgICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzZXRJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1NldCBJdGVyYXRvcic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMi4xLjUuMi4yIC0gJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkFycmF5IEl0ZXJhdG9yXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSlgYFxuXHQgICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChhcnJheUl0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gYXJyYXlJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ0FycmF5IEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMS4xLjUuMi4yIC0gJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTdHJpbmcgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJydbU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdTdHJpbmcgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCAyLDQyNCwzMjAgb3BzL3NlYyDCsTEuNjclICg3NiBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgb2JqZWN0IGZyb20gbnVsbCAgIHggNSw4MzgsMDAwIG9wcy9zZWMgwrEwLjk5JSAoODQgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmIChvYmpQcm90b3R5cGUgPT09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE9iamVjdFxuXHQgICAgLnByb3RvdHlwZVxuXHQgICAgLnRvU3RyaW5nXG5cdCAgICAuY2FsbChvYmopXG5cdCAgICAuc2xpY2UodG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGgsIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy50eXBlRGV0ZWN0ID0gbW9kdWxlLmV4cG9ydHM7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDE4Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ2V0Q29tcG9uZW50TG9jYWxlID0gZ2V0Q29tcG9uZW50TG9jYWxlO1xuXHRleHBvcnRzLmdldExvY2FsZUNvZGUgPSBnZXRMb2NhbGVDb2RlO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q29tcG9uZW50TG9jYWxlKHByb3BzLCBjb250ZXh0LCBjb21wb25lbnROYW1lLCBnZXREZWZhdWx0TG9jYWxlKSB7XG5cdCAgICB2YXIgbG9jYWxlID0gY29udGV4dCAmJiBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZVtjb21wb25lbnROYW1lXSA/IGNvbnRleHQuYW50TG9jYWxlW2NvbXBvbmVudE5hbWVdIDogZ2V0RGVmYXVsdExvY2FsZSgpO1xuXHQgICAgdmFyIHJlc3VsdCA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBsb2NhbGUsIHByb3BzLmxvY2FsZSk7XG5cdCAgICByZXN1bHQubGFuZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBsb2NhbGUubGFuZywgcHJvcHMubG9jYWxlLmxhbmcpO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRmdW5jdGlvbiBnZXRMb2NhbGVDb2RlKGNvbnRleHQpIHtcblx0ICAgIHZhciBsb2NhbGVDb2RlID0gY29udGV4dC5hbnRMb2NhbGUgJiYgY29udGV4dC5hbnRMb2NhbGUubG9jYWxlO1xuXHQgICAgLy8gSGFkIHVzZSBMb2NhbGVQcm92aWRlIGJ1dCBkaWRuJ3Qgc2V0IGxvY2FsZVxuXHQgICAgaWYgKGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlLmV4aXN0ICYmICFsb2NhbGVDb2RlKSB7XG5cdCAgICAgICAgcmV0dXJuICd6aC1jbic7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbG9jYWxlQ29kZTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyMDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9lbl9VUyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgwKTtcblx0XG5cdHZhciBfZW5fVVMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW5fVVMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIHByb3BUeXBlczoge1xuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbk9rOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIGxvY2FsZTogX2VuX1VTMltcImRlZmF1bHRcIl0sXG5cdCAgICAgIHN0eWxlOiB7fSxcblx0ICAgICAgdmlzaWJsZTogdHJ1ZSxcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtY2FsZW5kYXInLFxuXHQgICAgICBjbGFzc05hbWU6ICcnLFxuXHQgICAgICBvblNlbGVjdDogbm9vcCxcblx0ICAgICAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgICAgIG9uQ2xlYXI6IG5vb3AsXG5cdCAgICAgIHJlbmRlckZvb3RlcjogZnVuY3Rpb24gcmVuZGVyRm9vdGVyKCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9LFxuXHQgICAgICByZW5kZXJTaWRlYmFyOiBmdW5jdGlvbiByZW5kZXJTaWRlYmFyKCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy52aXNpYmxlIHx8IG5leHRQcm9wcy52aXNpYmxlO1xuXHQgIH0sXG5cdCAgZ2V0Rm9ybWF0OiBmdW5jdGlvbiBnZXRGb3JtYXQoKSB7XG5cdCAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgPSBfcHJvcHMudGltZVBpY2tlcjtcblx0XG5cdCAgICBpZiAoIWZvcm1hdCkge1xuXHQgICAgICBpZiAodGltZVBpY2tlcikge1xuXHQgICAgICAgIGZvcm1hdCA9IGxvY2FsZS5kYXRlVGltZUZvcm1hdDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb3JtYXQgPSBsb2NhbGUuZGF0ZUZvcm1hdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZvcm1hdDtcblx0ICB9LFxuXHQgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0ICAgIGlmICh0aGlzLnJlZnMucm9vdCkge1xuXHQgICAgICB0aGlzLnJlZnMucm9vdC5mb2N1cygpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDIwODpcbjI5NyxcblxuLyoqKi8gMjUwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Nb250aFBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjIpO1xuXHRcblx0dmFyIF9Nb250aFBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoUGFuZWwpO1xuXHRcblx0dmFyIF9DYWxlbmRhck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjEpO1xuXHRcblx0dmFyIF9DYWxlbmRhck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTWl4aW4pO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjA3KTtcblx0XG5cdHZhciBfQ29tbW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uTWl4aW4pO1xuXHRcblx0dmFyIF9LZXlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDgpO1xuXHRcblx0dmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTW9udGhDYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ01vbnRoQ2FsZW5kYXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG1vbnRoQ2VsbFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGF0ZUNlbGxSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdCAgbWl4aW5zOiBbX0NvbW1vbk1peGluMltcImRlZmF1bHRcIl0sIF9DYWxlbmRhck1peGluMltcImRlZmF1bHRcIl1dLFxuXHRcblx0ICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuXHQgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXHQgICAgdmFyIGN0cmxLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG5cdCAgICB2YXIgc3RhdGVWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgdmFsdWUgPSBzdGF0ZVZhbHVlO1xuXHQgICAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOOlxuXHQgICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgIHZhbHVlLmFkZCgzLCAnbW9udGhzJyk7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5VUDpcblx0ICAgICAgICB2YWx1ZSA9IHN0YXRlVmFsdWUuY2xvbmUoKTtcblx0ICAgICAgICB2YWx1ZS5hZGQoLTMsICdtb250aHMnKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkxFRlQ6XG5cdCAgICAgICAgdmFsdWUgPSBzdGF0ZVZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgaWYgKGN0cmxLZXkpIHtcblx0ICAgICAgICAgIHZhbHVlLmFkZCgtMSwgJ3llYXJzJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhbHVlLmFkZCgtMSwgJ21vbnRocycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlJJR0hUOlxuXHQgICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgIGlmIChjdHJsS2V5KSB7XG5cdCAgICAgICAgICB2YWx1ZS5hZGQoMSwgJ3llYXJzJyk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhbHVlLmFkZCgxLCAnbW9udGhzJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5URVI6XG5cdCAgICAgICAgdGhpcy5vblNlbGVjdChzdGF0ZVZhbHVlKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICBpZiAodmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcblx0ICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIHJldHVybiAxO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTW9udGhQYW5lbDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgc3R5bGU6IHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSxcblx0ICAgICAgdmFsdWU6IHRoaXMuc3RhdGUudmFsdWUsXG5cdCAgICAgIGNlbGxSZW5kZXI6IHByb3BzLm1vbnRoQ2VsbFJlbmRlcixcblx0ICAgICAgY29udGVudFJlbmRlcjogcHJvcHMubW9udGhDZWxsQ29udGVudFJlbmRlcixcblx0ICAgICAgcm9vdFByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICBvbkNoYW5nZTogdGhpcy5zZXRWYWx1ZSxcblx0ICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3Rcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdCh7XG5cdCAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuXHQgICAgfSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTW9udGhDYWxlbmRhcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzg0KTtcblx0XG5cdHZhciBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNoYWluZWRGdW5jdGlvbik7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOCk7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHR2YXIgX3BsYWNlbWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4Mik7XG5cdFxuXHR2YXIgX3BsYWNlbWVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2VtZW50cyk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRmdW5jdGlvbiByZWZGbihmaWVsZCwgY29tcG9uZW50KSB7XG5cdCAgdGhpc1tmaWVsZF0gPSBjb21wb25lbnQ7XG5cdH1cblx0XG5cdHZhciBQaWNrZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdQaWNrZXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGFuaW1hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuZnVuYywgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcblx0ICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25PcGVuQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZ2V0Q2FsZW5kYXJDb250YWluZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGNhbGVuZGFyOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG5cdCAgICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBvcGVuOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkZWZhdWx0T3BlbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHBsYWNlbWVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSksXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pLFxuXHQgICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1jYWxlbmRhci1waWNrZXInLFxuXHQgICAgICBzdHlsZToge30sXG5cdCAgICAgIGFsaWduOiB7fSxcblx0ICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG5cdCAgICAgIGRlZmF1bHRPcGVuOiBmYWxzZSxcblx0ICAgICAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgICAgIG9uT3BlbkNoYW5nZTogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBvcGVuID0gdm9pZCAwO1xuXHQgICAgaWYgKCdvcGVuJyBpbiBwcm9wcykge1xuXHQgICAgICBvcGVuID0gcHJvcHMub3Blbjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG9wZW4gPSBwcm9wcy5kZWZhdWx0T3Blbjtcblx0ICAgIH1cblx0ICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0ICAgIHRoaXMuc2F2ZUNhbGVuZGFyUmVmID0gcmVmRm4uYmluZCh0aGlzLCAnY2FsZW5kYXJJbnN0YW5jZScpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgb3Blbjogb3Blbixcblx0ICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSxcblx0ICAgICAgICBvcGVuID0gbmV4dFByb3BzLm9wZW47XG5cdFxuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGlmIChvcGVuICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgb3Blbjogb3BlblxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKF8sIHByZXZTdGF0ZSkge1xuXHQgICAgaWYgKCFwcmV2U3RhdGUub3BlbiAmJiB0aGlzLnN0YXRlLm9wZW4pIHtcblx0ICAgICAgdGhpcy5mb2N1c0NhbGVuZGFyKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNhbGVuZGFyS2V5RG93bjogZnVuY3Rpb24gb25DYWxlbmRhcktleURvd24oZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuXHQgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2FsZW5kYXJTZWxlY3Q6IGZ1bmN0aW9uIG9uQ2FsZW5kYXJTZWxlY3QodmFsdWUpIHtcblx0ICAgIHZhciBjYXVzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGlmIChjYXVzZS5zb3VyY2UgPT09ICdrZXlib2FyZCcgfHwgIXByb3BzLmNhbGVuZGFyLnByb3BzLnRpbWVQaWNrZXIgJiYgY2F1c2Uuc291cmNlICE9PSAnZGF0ZUlucHV0JyB8fCBjYXVzZS5zb3VyY2UgPT09ICd0b2RheUJ1dHRvbicpIHtcblx0ICAgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcblx0ICAgIH1cblx0ICAgIHByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcblx0ICB9LFxuXHQgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG5cdCAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOICYmICF0aGlzLnN0YXRlLm9wZW4pIHtcblx0ICAgICAgdGhpcy5vcGVuKCk7XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNhbGVuZGFyT2s6IGZ1bmN0aW9uIG9uQ2FsZW5kYXJPaygpIHtcblx0ICAgIHRoaXMuY2xvc2UodGhpcy5mb2N1cyk7XG5cdCAgfSxcblx0ICBvbkNhbGVuZGFyQ2xlYXI6IGZ1bmN0aW9uIG9uQ2FsZW5kYXJDbGVhcigpIHtcblx0ICAgIHRoaXMuY2xvc2UodGhpcy5mb2N1cyk7XG5cdCAgfSxcblx0ICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZShvcGVuKSB7XG5cdCAgICB0aGlzLnNldE9wZW4ob3Blbik7XG5cdCAgfSxcblx0ICBnZXRDYWxlbmRhckVsZW1lbnQ6IGZ1bmN0aW9uIGdldENhbGVuZGFyRWxlbWVudCgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIGNhbGVuZGFyUHJvcHMgPSBwcm9wcy5jYWxlbmRhci5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXHRcblx0ICAgIHZhciBkZWZhdWx0VmFsdWUgPSB2b2lkIDA7XG5cdCAgICAvLyBSYW5nZUNhbGVuZGFyXG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgICAgZGVmYXVsdFZhbHVlID0gdmFsdWVbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBkZWZhdWx0VmFsdWUgPSB2YWx1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBleHRyYVByb3BzID0ge1xuXHQgICAgICByZWY6IHRoaXMuc2F2ZUNhbGVuZGFyUmVmLFxuXHQgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB8fCBjYWxlbmRhclByb3BzLmRlZmF1bHRWYWx1ZSxcblx0ICAgICAgc2VsZWN0ZWRWYWx1ZTogdmFsdWUsXG5cdCAgICAgIG9uS2V5RG93bjogdGhpcy5vbkNhbGVuZGFyS2V5RG93bixcblx0ICAgICAgb25PazogKDAsIF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24yW1wiZGVmYXVsdFwiXSkoY2FsZW5kYXJQcm9wcy5vbk9rLCB0aGlzLm9uQ2FsZW5kYXJPayksXG5cdCAgICAgIG9uU2VsZWN0OiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uU2VsZWN0LCB0aGlzLm9uQ2FsZW5kYXJTZWxlY3QpLFxuXHQgICAgICBvbkNsZWFyOiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uQ2xlYXIsIHRoaXMub25DYWxlbmRhckNsZWFyKVxuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHByb3BzLmNhbGVuZGFyLCBleHRyYVByb3BzKTtcblx0ICB9LFxuXHQgIHNldE9wZW46IGZ1bmN0aW9uIHNldE9wZW4ob3BlbiwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBvbk9wZW5DaGFuZ2UgPSB0aGlzLnByb3BzLm9uT3BlbkNoYW5nZTtcblx0XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICE9PSBvcGVuKSB7XG5cdCAgICAgIGlmICghKCdvcGVuJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgb3Blbjogb3BlblxuXHQgICAgICAgIH0sIGNhbGxiYWNrKTtcblx0ICAgICAgfVxuXHQgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvcGVuOiBmdW5jdGlvbiBvcGVuKGNhbGxiYWNrKSB7XG5cdCAgICB0aGlzLnNldE9wZW4odHJ1ZSwgY2FsbGJhY2spO1xuXHQgIH0sXG5cdCAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGNhbGxiYWNrKSB7XG5cdCAgICB0aGlzLnNldE9wZW4oZmFsc2UsIGNhbGxiYWNrKTtcblx0ICB9LFxuXHQgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0ICAgIGlmICghdGhpcy5zdGF0ZS5vcGVuKSB7XG5cdCAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBmb2N1c0NhbGVuZGFyOiBmdW5jdGlvbiBmb2N1c0NhbGVuZGFyKCkge1xuXHQgICAgaWYgKHRoaXMuc3RhdGUub3BlbiAmJiB0aGlzLmNhbGVuZGFySW5zdGFuY2UgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5jYWxlbmRhckluc3RhbmNlLmZvY3VzKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcblx0ICAgICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuXHQgICAgICAgIGdldENhbGVuZGFyQ29udGFpbmVyID0gcHJvcHMuZ2V0Q2FsZW5kYXJDb250YWluZXIsXG5cdCAgICAgICAgYWxpZ24gPSBwcm9wcy5hbGlnbixcblx0ICAgICAgICBhbmltYXRpb24gPSBwcm9wcy5hbmltYXRpb24sXG5cdCAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuXHQgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgIHtcblx0ICAgICAgICBwb3B1cDogdGhpcy5nZXRDYWxlbmRhckVsZW1lbnQoKSxcblx0ICAgICAgICBwb3B1cEFsaWduOiBhbGlnbixcblx0ICAgICAgICBidWlsdGluUGxhY2VtZW50czogX3BsYWNlbWVudHMyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICBwb3B1cFBsYWNlbWVudDogcGxhY2VtZW50LFxuXHQgICAgICAgIGFjdGlvbjogZGlzYWJsZWQgJiYgIXN0YXRlLm9wZW4gPyBbXSA6IFsnY2xpY2snXSxcblx0ICAgICAgICBkZXN0cm95UG9wdXBPbkhpZGU6IHRydWUsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IGdldENhbGVuZGFyQ29udGFpbmVyLFxuXHQgICAgICAgIHBvcHVwU3R5bGU6IHN0eWxlLFxuXHQgICAgICAgIHBvcHVwQW5pbWF0aW9uOiBhbmltYXRpb24sXG5cdCAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgcG9wdXBWaXNpYmxlOiBzdGF0ZS5vcGVuLFxuXHQgICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENsc1xuXHQgICAgICB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoY2hpbGRyZW4oc3RhdGUsIHByb3BzKSwgeyBvbktleURvd246IHRoaXMub25LZXlEb3duIH0pXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBpY2tlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfTW9udGhQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYyKTtcblx0XG5cdHZhciBfTW9udGhQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb250aFBhbmVsKTtcblx0XG5cdHZhciBfWWVhclBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjMpO1xuXHRcblx0dmFyIF9ZZWFyUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWWVhclBhbmVsKTtcblx0XG5cdHZhciBfbWFwU2VsZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjY0KTtcblx0XG5cdHZhciBfbWFwU2VsZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBTZWxmKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ29Nb250aChkaXJlY3Rpb24pIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmFkZChkaXJlY3Rpb24sICdtb250aHMnKTtcblx0ICB0aGlzLnByb3BzLm9uVmFsdWVDaGFuZ2UobmV4dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmFkZChkaXJlY3Rpb24sICd5ZWFycycpO1xuXHQgIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2hvd0lmKGNvbmRpdGlvbiwgZWwpIHtcblx0ICByZXR1cm4gY29uZGl0aW9uID8gZWwgOiBudWxsO1xuXHR9XG5cdFxuXHR2YXIgQ2FsZW5kYXJIZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdDYWxlbmRhckhlYWRlcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgZW5hYmxlUHJldjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBlbmFibGVOZXh0OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBzaG93VGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG9uVmFsdWVDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgZW5hYmxlTmV4dDogMSxcblx0ICAgICAgZW5hYmxlUHJldjogMVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdGhpcy5uZXh0TW9udGggPSBnb01vbnRoLmJpbmQodGhpcywgMSk7XG5cdCAgICB0aGlzLnByZXZpb3VzTW9udGggPSBnb01vbnRoLmJpbmQodGhpcywgLTEpO1xuXHQgICAgdGhpcy5uZXh0WWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIDEpO1xuXHQgICAgdGhpcy5wcmV2aW91c1llYXIgPSBnb1llYXIuYmluZCh0aGlzLCAtMSk7XG5cdCAgICByZXR1cm4ge307XG5cdCAgfSxcblx0ICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93TW9udGhQYW5lbDogMCxcblx0ICAgICAgc2hvd1llYXJQYW5lbDogMFxuXHQgICAgfSk7XG5cdCAgICB0aGlzLnByb3BzLm9uVmFsdWVDaGFuZ2UodmFsdWUpO1xuXHQgIH0sXG5cdCAgbW9udGhZZWFyRWxlbWVudDogZnVuY3Rpb24gbW9udGhZZWFyRWxlbWVudChzaG93VGltZVBpY2tlcikge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXHQgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cdCAgICB2YXIgbW9udGhCZWZvcmVZZWFyID0gbG9jYWxlLm1vbnRoQmVmb3JlWWVhcjtcblx0ICAgIHZhciBzZWxlY3RDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLScgKyAobW9udGhCZWZvcmVZZWFyID8gJ215LXNlbGVjdCcgOiAneW0tc2VsZWN0Jyk7XG5cdCAgICB2YXIgeWVhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdhJyxcblx0ICAgICAge1xuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyLXNlbGVjdCcsXG5cdCAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgb25DbGljazogc2hvd1RpbWVQaWNrZXIgPyBudWxsIDogdGhpcy5zaG93WWVhclBhbmVsLFxuXHQgICAgICAgIHRpdGxlOiBsb2NhbGUueWVhclNlbGVjdFxuXHQgICAgICB9LFxuXHQgICAgICB2YWx1ZS5mb3JtYXQobG9jYWxlLnllYXJGb3JtYXQpXG5cdCAgICApO1xuXHQgICAgdmFyIG1vbnRoID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2EnLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1vbnRoLXNlbGVjdCcsXG5cdCAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgb25DbGljazogc2hvd1RpbWVQaWNrZXIgPyBudWxsIDogdGhpcy5zaG93TW9udGhQYW5lbCxcblx0ICAgICAgICB0aXRsZTogbG9jYWxlLm1vbnRoU2VsZWN0XG5cdCAgICAgIH0sXG5cdCAgICAgIHZhbHVlLmZvcm1hdChsb2NhbGUubW9udGhGb3JtYXQpXG5cdCAgICApO1xuXHQgICAgdmFyIGRheSA9IHZvaWQgMDtcblx0ICAgIGlmIChzaG93VGltZVBpY2tlcikge1xuXHQgICAgICBkYXkgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdhJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF5LXNlbGVjdCcsXG5cdCAgICAgICAgICByb2xlOiAnYnV0dG9uJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdmFsdWUuZm9ybWF0KGxvY2FsZS5kYXlGb3JtYXQpXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICB2YXIgbXkgPSBbXTtcblx0ICAgIGlmIChtb250aEJlZm9yZVllYXIpIHtcblx0ICAgICAgbXkgPSBbbW9udGgsIGRheSwgeWVhcl07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBteSA9IFt5ZWFyLCBtb250aCwgZGF5XTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnc3BhbicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBzZWxlY3RDbGFzc05hbWUgfSxcblx0ICAgICAgKDAsIF9tYXBTZWxmMltcImRlZmF1bHRcIl0pKG15KVxuXHQgICAgKTtcblx0ICB9LFxuXHQgIHNob3dNb250aFBhbmVsOiBmdW5jdGlvbiBzaG93TW9udGhQYW5lbCgpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93TW9udGhQYW5lbDogMSxcblx0ICAgICAgc2hvd1llYXJQYW5lbDogMFxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBzaG93WWVhclBhbmVsOiBmdW5jdGlvbiBzaG93WWVhclBhbmVsKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dNb250aFBhbmVsOiAwLFxuXHQgICAgICBzaG93WWVhclBhbmVsOiAxXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBlbmFibGVOZXh0ID0gcHJvcHMuZW5hYmxlTmV4dCxcblx0ICAgICAgICBlbmFibGVQcmV2ID0gcHJvcHMuZW5hYmxlUHJldixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG5cdCAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBwcm9wcy5zaG93VGltZVBpY2tlcjtcblx0XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIFBhbmVsQ2xhc3MgPSBudWxsO1xuXHQgICAgaWYgKHN0YXRlLnNob3dNb250aFBhbmVsKSB7XG5cdCAgICAgIFBhbmVsQ2xhc3MgPSBfTW9udGhQYW5lbDJbXCJkZWZhdWx0XCJdO1xuXHQgICAgfSBlbHNlIGlmIChzdGF0ZS5zaG93WWVhclBhbmVsKSB7XG5cdCAgICAgIFBhbmVsQ2xhc3MgPSBfWWVhclBhbmVsMltcImRlZmF1bHRcIl07XG5cdCAgICB9XG5cdCAgICB2YXIgcGFuZWwgPSB2b2lkIDA7XG5cdCAgICBpZiAoUGFuZWxDbGFzcykge1xuXHQgICAgICBwYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoUGFuZWxDbGFzcywge1xuXHQgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgIGRlZmF1bHRWYWx1ZTogdmFsdWUsXG5cdCAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBzdHlsZTogeyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9IH0sXG5cdCAgICAgICAgc2hvd0lmKGVuYWJsZVByZXYgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYteWVhci1idG4nLFxuXHQgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXZpb3VzWWVhcixcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldmlvdXNZZWFyXG5cdCAgICAgICAgfSkpLFxuXHQgICAgICAgIHNob3dJZihlbmFibGVQcmV2ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LW1vbnRoLWJ0bicsXG5cdCAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNNb250aCxcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldmlvdXNNb250aFxuXHQgICAgICAgIH0pKSxcblx0ICAgICAgICB0aGlzLm1vbnRoWWVhckVsZW1lbnQoc2hvd1RpbWVQaWNrZXIpLFxuXHQgICAgICAgIHNob3dJZihlbmFibGVOZXh0ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LW1vbnRoLWJ0bicsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHRNb250aCxcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dE1vbnRoXG5cdCAgICAgICAgfSkpLFxuXHQgICAgICAgIHNob3dJZihlbmFibGVOZXh0ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LXllYXItYnRuJyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dFllYXIsXG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRZZWFyXG5cdCAgICAgICAgfSkpXG5cdCAgICAgICksXG5cdCAgICAgIHBhbmVsXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFySGVhZGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPa0J1dHRvbjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIE9rQnV0dG9uKF9yZWYpIHtcblx0ICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG5cdCAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuXHQgICAgICBva0Rpc2FibGVkID0gX3JlZi5va0Rpc2FibGVkLFxuXHQgICAgICBvbk9rID0gX3JlZi5vbk9rO1xuXHRcblx0ICB2YXIgY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgXCItb2stYnRuXCI7XG5cdCAgaWYgKG9rRGlzYWJsZWQpIHtcblx0ICAgIGNsYXNzTmFtZSArPSBcIiBcIiArIHByZWZpeENscyArIFwiLW9rLWJ0bi1kaXNhYmxlZFwiO1xuXHQgIH1cblx0ICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgIFwiYVwiLFxuXHQgICAge1xuXHQgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgcm9sZTogXCJidXR0b25cIixcblx0ICAgICAgb25DbGljazogb2tEaXNhYmxlZCA/IG51bGwgOiBvbk9rXG5cdCAgICB9LFxuXHQgICAgbG9jYWxlLm9rXG5cdCAgKTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjU0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRpbWVQaWNrZXJCdXR0b247XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBUaW1lUGlja2VyQnV0dG9uKF9yZWYpIHtcblx0ICB2YXIgX2NsYXNzbmFtZXM7XG5cdFxuXHQgIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcblx0ICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG5cdCAgICAgIHNob3dUaW1lUGlja2VyID0gX3JlZi5zaG93VGltZVBpY2tlcixcblx0ICAgICAgb25PcGVuVGltZVBpY2tlciA9IF9yZWYub25PcGVuVGltZVBpY2tlcixcblx0ICAgICAgb25DbG9zZVRpbWVQaWNrZXIgPSBfcmVmLm9uQ2xvc2VUaW1lUGlja2VyLFxuXHQgICAgICB0aW1lUGlja2VyRGlzYWJsZWQgPSBfcmVmLnRpbWVQaWNrZXJEaXNhYmxlZDtcblx0XG5cdCAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKSgoX2NsYXNzbmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1idG4nLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1idG4tZGlzYWJsZWQnLCB0aW1lUGlja2VyRGlzYWJsZWQpLCBfY2xhc3NuYW1lcykpO1xuXHQgIHZhciBvbkNsaWNrID0gbnVsbDtcblx0ICBpZiAoIXRpbWVQaWNrZXJEaXNhYmxlZCkge1xuXHQgICAgb25DbGljayA9IHNob3dUaW1lUGlja2VyID8gb25DbG9zZVRpbWVQaWNrZXIgOiBvbk9wZW5UaW1lUGlja2VyO1xuXHQgIH1cblx0ICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICdhJyxcblx0ICAgIHtcblx0ICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICBvbkNsaWNrOiBvbkNsaWNrXG5cdCAgICB9LFxuXHQgICAgc2hvd1RpbWVQaWNrZXIgPyBsb2NhbGUuZGF0ZVNlbGVjdCA6IGxvY2FsZS50aW1lU2VsZWN0XG5cdCAgKTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjU1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVG9kYXlCdXR0b247XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRvZGF5QnV0dG9uKF9yZWYpIHtcblx0ICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG5cdCAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuXHQgICAgICB2YWx1ZSA9IF9yZWYudmFsdWUsXG5cdCAgICAgIHRpbWVQaWNrZXIgPSBfcmVmLnRpbWVQaWNrZXIsXG5cdCAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcblx0ICAgICAgZGlzYWJsZWREYXRlID0gX3JlZi5kaXNhYmxlZERhdGUsXG5cdCAgICAgIG9uVG9kYXkgPSBfcmVmLm9uVG9kYXksXG5cdCAgICAgIHRleHQgPSBfcmVmLnRleHQ7XG5cdFxuXHQgIHZhciBsb2NhbGVOb3cgPSAoIXRleHQgJiYgdGltZVBpY2tlciA/IGxvY2FsZS5ub3cgOiB0ZXh0KSB8fCBsb2NhbGUudG9kYXk7XG5cdCAgdmFyIGRpc2FibGVkVG9kYXkgPSBkaXNhYmxlZERhdGUgJiYgISgwLCBfdXRpbC5pc0FsbG93ZWREYXRlKSgoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKSh2YWx1ZSksIGRpc2FibGVkRGF0ZSk7XG5cdCAgdmFyIGlzRGlzYWJsZWQgPSBkaXNhYmxlZFRvZGF5IHx8IGRpc2FibGVkO1xuXHQgIHZhciBkaXNhYmxlZFRvZGF5Q2xhc3MgPSBpc0Rpc2FibGVkID8gcHJlZml4Q2xzICsgJy10b2RheS1idG4tZGlzYWJsZWQnIDogJyc7XG5cdCAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAnYScsXG5cdCAgICB7XG5cdCAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10b2RheS1idG4gJyArIGRpc2FibGVkVG9kYXlDbGFzcyxcblx0ICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgIG9uQ2xpY2s6IGlzRGlzYWJsZWQgPyBudWxsIDogb25Ub2RheSxcblx0ICAgICAgdGl0bGU6ICgwLCBfdXRpbC5nZXRUb2RheVRpbWVTdHIpKHZhbHVlKVxuXHQgICAgfSxcblx0ICAgIGxvY2FsZU5vd1xuXHQgICk7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIERBVEVfUk9XX0NPVU5UOiA2LFxuXHQgIERBVEVfQ09MX0NPVU5UOiA3XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlSW5wdXQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdEYXRlSW5wdXQnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHQgIH0sXG5cdFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWU7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzdHI6IHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0ZWRWYWx1ZS5mb3JtYXQodGhpcy5wcm9wcy5mb3JtYXQpIHx8ICcnLFxuXHQgICAgICBpbnZhbGlkOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAvLyB3aGVuIHBvcHVwIHNob3csIGNsaWNrIGJvZHkgd2lsbCBjYWxsIHRoaXMsIGJ1ZyFcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbmV4dFByb3BzLnNlbGVjdGVkVmFsdWU7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc3RyOiBzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGVkVmFsdWUuZm9ybWF0KG5leHRQcm9wcy5mb3JtYXQpIHx8ICcnLFxuXHQgICAgICBpbnZhbGlkOiBmYWxzZVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBvbklucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG5cdCAgICB2YXIgc3RyID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHN0cjogc3RyXG5cdCAgICB9KTtcblx0ICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGRpc2FibGVkRGF0ZSA9IF9wcm9wcy5kaXNhYmxlZERhdGUsXG5cdCAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcblx0ICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZTtcblx0XG5cdCAgICBpZiAoc3RyKSB7XG5cdCAgICAgIHZhciBwYXJzZWQgPSAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKShzdHIsIGZvcm1hdCwgdHJ1ZSk7XG5cdCAgICAgIGlmICghcGFyc2VkLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcblx0ICAgICAgdmFsdWUueWVhcihwYXJzZWQueWVhcigpKS5tb250aChwYXJzZWQubW9udGgoKSkuZGF0ZShwYXJzZWQuZGF0ZSgpKS5ob3VyKHBhcnNlZC5ob3VyKCkpLm1pbnV0ZShwYXJzZWQubWludXRlKCkpLnNlY29uZChwYXJzZWQuc2Vjb25kKCkpO1xuXHRcblx0ICAgICAgaWYgKHZhbHVlICYmICghZGlzYWJsZWREYXRlIHx8ICFkaXNhYmxlZERhdGUodmFsdWUpKSkge1xuXHQgICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlO1xuXHQgICAgICAgIGlmIChvcmlnaW5hbFZhbHVlICYmIHZhbHVlKSB7XG5cdCAgICAgICAgICBpZiAoIW9yaWdpbmFsVmFsdWUuaXNTYW1lKHZhbHVlKSkge1xuXHQgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSkge1xuXHQgICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGludmFsaWQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG9uQ2hhbmdlKG51bGwpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGludmFsaWQ6IGZhbHNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc3RyOiAnJ1xuXHQgICAgfSk7XG5cdCAgICB0aGlzLnByb3BzLm9uQ2xlYXIobnVsbCk7XG5cdCAgfSxcblx0ICBnZXRSb290RE9NTm9kZTogZnVuY3Rpb24gZ2V0Um9vdERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgfSxcblx0ICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG5cdCAgICB0aGlzLnJlZnMuZGF0ZUlucHV0LmZvY3VzKCk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICBpbnZhbGlkID0gX3N0YXRlLmludmFsaWQsXG5cdCAgICAgICAgc3RyID0gX3N0YXRlLnN0cjtcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXI7XG5cdFxuXHQgICAgdmFyIGludmFsaWRDbGFzcyA9IGludmFsaWQgPyBwcmVmaXhDbHMgKyAnLWlucHV0LWludmFsaWQnIDogJyc7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0LXdyYXAnIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1pbnB1dC13cmFwJyB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgcmVmOiAnZGF0ZUlucHV0Jyxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCAnICsgaW52YWxpZENsYXNzLFxuXHQgICAgICAgICAgdmFsdWU6IHN0cixcblx0ICAgICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcblx0ICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2Vcblx0ICAgICAgICB9KVxuXHQgICAgICApLFxuXHQgICAgICBwcm9wcy5zaG93Q2xlYXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbGVhci1idG4nLFxuXHQgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgIHRpdGxlOiBsb2NhbGUuY2xlYXIsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5vbkNsZWFyXG5cdCAgICAgIH0pIDogbnVsbFxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlSW5wdXQ7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0RhdGVUSGVhZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzc4KTtcblx0XG5cdHZhciBfRGF0ZVRIZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUSGVhZCk7XG5cdFxuXHR2YXIgX0RhdGVUQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oMzc3KTtcblx0XG5cdHZhciBfRGF0ZVRCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUQm9keSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRGF0ZVRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gRGF0ZVRhYmxlKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEYXRlVGFibGUpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgRGF0ZVRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndGFibGUnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVEhlYWQyW1wiZGVmYXVsdFwiXSwgcHJvcHMpLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVEJvZHkyW1wiZGVmYXVsdFwiXSwgcHJvcHMpXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBEYXRlVGFibGU7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVRhYmxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjU5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzQpO1xuXHRcblx0dmFyIF9DYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0NhbGVuZGFyMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgdG9kYXk6ICfku4rlpKknLFxuXHQgIG5vdzogJ+atpOWIuycsXG5cdCAgYmFja1RvVG9kYXk6ICfov5Tlm57ku4rlpKknLFxuXHQgIG9rOiAn56Gu5a6aJyxcblx0ICB0aW1lU2VsZWN0OiAn6YCJ5oup5pe26Ze0Jyxcblx0ICBkYXRlU2VsZWN0OiAn6YCJ5oup5pel5pyfJyxcblx0ICBjbGVhcjogJ+a4hemZpCcsXG5cdCAgbW9udGg6ICfmnIgnLFxuXHQgIHllYXI6ICflubQnLFxuXHQgIHByZXZpb3VzTW9udGg6ICfkuIrkuKrmnIggKOe/u+mhteS4iumUriknLFxuXHQgIG5leHRNb250aDogJ+S4i+S4quaciCAo57+76aG15LiL6ZSuKScsXG5cdCAgbW9udGhTZWxlY3Q6ICfpgInmi6nmnIjku70nLFxuXHQgIHllYXJTZWxlY3Q6ICfpgInmi6nlubTku70nLFxuXHQgIGRlY2FkZVNlbGVjdDogJ+mAieaLqeW5tOS7oycsXG5cdCAgeWVhckZvcm1hdDogJ1lZWVnlubQnLFxuXHQgIG1vbnRoRm9ybWF0OiAnTeaciCcsXG5cdCAgZGF5Rm9ybWF0OiAnROaXpScsXG5cdCAgZGF0ZUZvcm1hdDogJ1lZWVnlubRN5pyIROaXpScsXG5cdCAgZGF0ZVRpbWVGb3JtYXQ6ICdZWVlZ5bm0TeaciETml6UgSEjml7ZtbeWIhnNz56eSJyxcblx0ICBwcmV2aW91c1llYXI6ICfkuIrkuIDlubQgKENvbnRyb2zplK7liqDlt6bmlrnlkJHplK4pJyxcblx0ICBuZXh0WWVhcjogJ+S4i+S4gOW5tCAoQ29udHJvbOmUruWKoOWPs+aWueWQkemUriknLFxuXHQgIHByZXZpb3VzRGVjYWRlOiAn5LiK5LiA5bm05LujJyxcblx0ICBuZXh0RGVjYWRlOiAn5LiL5LiA5bm05LujJyxcblx0ICBwcmV2aW91c0NlbnR1cnk6ICfkuIrkuIDkuJbnuqonLFxuXHQgIG5leHRDZW50dXJ5OiAn5LiL5LiA5LiW57qqJ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIGdldE5vdygpIHtcblx0ICByZXR1cm4gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Tm93QnlDdXJyZW50U3RhdGVWYWx1ZSh2YWx1ZSkge1xuXHQgIHZhciByZXQgPSB2b2lkIDA7XG5cdCAgaWYgKHZhbHVlKSB7XG5cdCAgICByZXQgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXQgPSBnZXROb3coKTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0dmFyIENhbGVuZGFyTWl4aW4gPSB7XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb25LZXlEb3duOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIG9uS2V5RG93bjogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBnZXROb3coKTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgc2VsZWN0ZWRWYWx1ZTogcHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCBwcm9wcy5kZWZhdWx0U2VsZWN0ZWRWYWx1ZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlO1xuXHRcblx0ICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB2YWx1ZSA9IHZhbHVlIHx8IG5leHRQcm9wcy5kZWZhdWx0VmFsdWUgfHwgZ2V0Tm93QnlDdXJyZW50U3RhdGVWYWx1ZSh0aGlzLnN0YXRlLnZhbHVlKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKCdzZWxlY3RlZFZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSwgY2F1c2UpIHtcblx0ICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0U2VsZWN0ZWRWYWx1ZSh2YWx1ZSwgY2F1c2UpO1xuXHQgIH0sXG5cdCAgcmVuZGVyUm9vdDogZnVuY3Rpb24gcmVuZGVyUm9vdChuZXdQcm9wcykge1xuXHQgICAgdmFyIF9jbGFzc05hbWU7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IChfY2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLWhpZGRlbicsICFwcm9wcy52aXNpYmxlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBuZXdQcm9wcy5jbGFzc05hbWUsICEhbmV3UHJvcHMuY2xhc3NOYW1lKSwgX2NsYXNzTmFtZSk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7XG5cdCAgICAgICAgcmVmOiAncm9vdCcsXG5cdCAgICAgICAgY2xhc3NOYW1lOiAnJyArICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWUpLFxuXHQgICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuXHQgICAgICAgIHRhYkluZGV4OiAnMCcsXG5cdCAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93blxuXHQgICAgICB9LFxuXHQgICAgICBuZXdQcm9wcy5jaGlsZHJlblxuXHQgICAgKTtcblx0ICB9LFxuXHQgIHNldFNlbGVjdGVkVmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkVmFsdWUoc2VsZWN0ZWRWYWx1ZSwgY2F1c2UpIHtcblx0ICAgIC8vIGlmICh0aGlzLmlzQWxsb3dlZERhdGUoc2VsZWN0ZWRWYWx1ZSkpIHtcblx0ICAgIGlmICghKCdzZWxlY3RlZFZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy5wcm9wcy5vblNlbGVjdChzZWxlY3RlZFZhbHVlLCBjYXVzZSk7XG5cdCAgICAvLyB9XG5cdCAgfSxcblx0ICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0ICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIGlmICghKCd2YWx1ZScgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKG9yaWdpbmFsVmFsdWUgJiYgdmFsdWUgJiYgIW9yaWdpbmFsVmFsdWUuaXNTYW1lKHZhbHVlKSB8fCAhb3JpZ2luYWxWYWx1ZSAmJiB2YWx1ZSB8fCBvcmlnaW5hbFZhbHVlICYmICF2YWx1ZSkge1xuXHQgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGlzQWxsb3dlZERhdGU6IGZ1bmN0aW9uIGlzQWxsb3dlZERhdGUodmFsdWUpIHtcblx0ICAgIHZhciBkaXNhYmxlZERhdGUgPSB0aGlzLnByb3BzLmRpc2FibGVkRGF0ZTtcblx0ICAgIHZhciBkaXNhYmxlZFRpbWUgPSB0aGlzLnByb3BzLmRpc2FibGVkVGltZTtcblx0ICAgIHJldHVybiAoMCwgX2luZGV4LmlzQWxsb3dlZERhdGUpKHZhbHVlLCBkaXNhYmxlZERhdGUsIGRpc2FibGVkVGltZSk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxlbmRhck1peGluO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjYyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9ZZWFyUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2Myk7XG5cdFxuXHR2YXIgX1llYXJQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ZZWFyUGFuZWwpO1xuXHRcblx0dmFyIF9Nb250aFRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODEpO1xuXHRcblx0dmFyIF9Nb250aFRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoVGFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG5cdCAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG5cdCAgbmV4dC5hZGQoZGlyZWN0aW9uLCAneWVhcicpO1xuXHQgIHRoaXMuc2V0QW5kQ2hhbmdlVmFsdWUobmV4dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIE1vbnRoUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdNb250aFBhbmVsJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBvbkNoYW5nZTogbm9vcCxcblx0ICAgICAgb25TZWxlY3Q6IG5vb3Bcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAvLyBiaW5kIG1ldGhvZHNcblx0ICAgIHRoaXMubmV4dFllYXIgPSBnb1llYXIuYmluZCh0aGlzLCAxKTtcblx0ICAgIHRoaXMucHJldmlvdXNZZWFyID0gZ29ZZWFyLmJpbmQodGhpcywgLTEpO1xuXHQgICAgdGhpcy5wcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1tb250aC1wYW5lbCc7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25ZZWFyUGFuZWxTZWxlY3Q6IGZ1bmN0aW9uIG9uWWVhclBhbmVsU2VsZWN0KGN1cnJlbnQpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93WWVhclBhbmVsOiAwXG5cdCAgICB9KTtcblx0ICAgIHRoaXMuc2V0QW5kQ2hhbmdlVmFsdWUoY3VycmVudCk7XG5cdCAgfSxcblx0ICBzZXRBbmRDaGFuZ2VWYWx1ZTogZnVuY3Rpb24gc2V0QW5kQ2hhbmdlVmFsdWUodmFsdWUpIHtcblx0ICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHQgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBzZXRBbmRTZWxlY3RWYWx1ZTogZnVuY3Rpb24gc2V0QW5kU2VsZWN0VmFsdWUodmFsdWUpIHtcblx0ICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHQgICAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG5cdCAgfSxcblx0ICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcblx0ICAgIGlmICghKCd2YWx1ZScgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgc2hvd1llYXJQYW5lbDogZnVuY3Rpb24gc2hvd1llYXJQYW5lbCgpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93WWVhclBhbmVsOiAxXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgY2VsbFJlbmRlciA9IHByb3BzLmNlbGxSZW5kZXI7XG5cdCAgICB2YXIgY29udGVudFJlbmRlciA9IHByb3BzLmNvbnRlbnRSZW5kZXI7XG5cdCAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXHQgICAgdmFyIHllYXIgPSB2YWx1ZS55ZWFyKCk7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgeWVhclBhbmVsID0gdm9pZCAwO1xuXHQgICAgaWYgKHRoaXMuc3RhdGUuc2hvd1llYXJQYW5lbCkge1xuXHQgICAgICB5ZWFyUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9ZZWFyUGFuZWwyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcm9wcy5yb290UHJlZml4Q2xzLFxuXHQgICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uWWVhclBhbmVsU2VsZWN0XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LXllYXItYnRuJyxcblx0ICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNZZWFyLFxuXHQgICAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzWWVhclxuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QnLFxuXHQgICAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2hvd1llYXJQYW5lbCxcblx0ICAgICAgICAgICAgICB0aXRsZTogbG9jYWxlLnllYXJTZWxlY3Rcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QtY29udGVudCcgfSxcblx0ICAgICAgICAgICAgICB5ZWFyXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXItc2VsZWN0LWFycm93JyB9LFxuXHQgICAgICAgICAgICAgICd4J1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQteWVhci1idG4nLFxuXHQgICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5uZXh0WWVhcixcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0WWVhclxuXHQgICAgICAgICAgfSlcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Nb250aFRhYmxlMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgICAgICAgZGlzYWJsZWREYXRlOiBwcm9wcy5kaXNhYmxlZERhdGUsXG5cdCAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLnNldEFuZFNlbGVjdFZhbHVlLFxuXHQgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgICBjZWxsUmVuZGVyOiBjZWxsUmVuZGVyLFxuXHQgICAgICAgICAgICBjb250ZW50UmVuZGVyOiBjb250ZW50UmVuZGVyLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENsc1xuXHQgICAgICAgICAgfSlcblx0ICAgICAgICApXG5cdCAgICAgICksXG5cdCAgICAgIHllYXJQYW5lbFxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb250aFBhbmVsO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjYzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfRGVjYWRlUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3OSk7XG5cdFxuXHR2YXIgX0RlY2FkZVBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RlY2FkZVBhbmVsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJPVyA9IDQ7XG5cdHZhciBDT0wgPSAzO1xuXHRcblx0ZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuXHQgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICB2YWx1ZS5hZGQoZGlyZWN0aW9uLCAneWVhcicpO1xuXHQgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgdmFsdWU6IHZhbHVlXG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNob29zZVllYXIoeWVhcikge1xuXHQgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICB2YWx1ZS55ZWFyKHllYXIpO1xuXHQgIHZhbHVlLm1vbnRoKHRoaXMuc3RhdGUudmFsdWUubW9udGgoKSk7XG5cdCAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG5cdH1cblx0XG5cdHZhciBZZWFyUGFuZWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoWWVhclBhbmVsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gWWVhclBhbmVsKHByb3BzKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFllYXJQYW5lbCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLXllYXItcGFuZWwnO1xuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWVcblx0ICAgIH07XG5cdCAgICBfdGhpcy5uZXh0RGVjYWRlID0gZ29ZZWFyLmJpbmQoX3RoaXMsIDEwKTtcblx0ICAgIF90aGlzLnByZXZpb3VzRGVjYWRlID0gZ29ZZWFyLmJpbmQoX3RoaXMsIC0xMCk7XG5cdCAgICBbJ3Nob3dEZWNhZGVQYW5lbCcsICdvbkRlY2FkZVBhbmVsU2VsZWN0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBZZWFyUGFuZWwucHJvdG90eXBlLm9uRGVjYWRlUGFuZWxTZWxlY3QgPSBmdW5jdGlvbiBvbkRlY2FkZVBhbmVsU2VsZWN0KGN1cnJlbnQpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICB2YWx1ZTogY3VycmVudCxcblx0ICAgICAgc2hvd0RlY2FkZVBhbmVsOiAwXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBZZWFyUGFuZWwucHJvdG90eXBlLnllYXJzID0gZnVuY3Rpb24geWVhcnMoKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIGN1cnJlbnRZZWFyID0gdmFsdWUueWVhcigpO1xuXHQgICAgdmFyIHN0YXJ0WWVhciA9IHBhcnNlSW50KGN1cnJlbnRZZWFyIC8gMTAsIDEwKSAqIDEwO1xuXHQgICAgdmFyIHByZXZpb3VzWWVhciA9IHN0YXJ0WWVhciAtIDE7XG5cdCAgICB2YXIgeWVhcnMgPSBbXTtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICBmb3IgKHZhciByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgUk9XOyByb3dJbmRleCsrKSB7XG5cdCAgICAgIHllYXJzW3Jvd0luZGV4XSA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgQ09MOyBjb2xJbmRleCsrKSB7XG5cdCAgICAgICAgdmFyIHllYXIgPSBwcmV2aW91c1llYXIgKyBpbmRleDtcblx0ICAgICAgICB2YXIgY29udGVudCA9IFN0cmluZyh5ZWFyKTtcblx0ICAgICAgICB5ZWFyc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuXHQgICAgICAgICAgY29udGVudDogY29udGVudCxcblx0ICAgICAgICAgIHllYXI6IHllYXIsXG5cdCAgICAgICAgICB0aXRsZTogY29udGVudFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaW5kZXgrKztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHllYXJzO1xuXHQgIH07XG5cdFxuXHQgIFllYXJQYW5lbC5wcm90b3R5cGUuc2hvd0RlY2FkZVBhbmVsID0gZnVuY3Rpb24gc2hvd0RlY2FkZVBhbmVsKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dEZWNhZGVQYW5lbDogMVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgWWVhclBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdCAgICB2YXIgeWVhcnMgPSB0aGlzLnllYXJzKCk7XG5cdCAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG5cdCAgICB2YXIgc3RhcnRZZWFyID0gcGFyc2VJbnQoY3VycmVudFllYXIgLyAxMCwgMTApICogMTA7XG5cdCAgICB2YXIgZW5kWWVhciA9IHN0YXJ0WWVhciArIDk7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIHllYXNFbHMgPSB5ZWFycy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcblx0ICAgICAgdmFyIHRkcyA9IHJvdy5tYXAoZnVuY3Rpb24gKHllYXJEYXRhKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVNYXA7XG5cdFxuXHQgICAgICAgIHZhciBjbGFzc05hbWVNYXAgPSAoX2NsYXNzTmFtZU1hcCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY2VsbCcsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctc2VsZWN0ZWQtY2VsbCcsIHllYXJEYXRhLnllYXIgPT09IGN1cnJlbnRZZWFyKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWxhc3QtZGVjYWRlLWNlbGwnLCB5ZWFyRGF0YS55ZWFyIDwgc3RhcnRZZWFyKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLW5leHQtZGVjYWRlLWNlbGwnLCB5ZWFyRGF0YS55ZWFyID4gZW5kWWVhciksIF9jbGFzc05hbWVNYXApO1xuXHQgICAgICAgIHZhciBjbGlja0hhbmRsZXIgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHllYXJEYXRhLnllYXIgPCBzdGFydFllYXIpIHtcblx0ICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5wcmV2aW91c0RlY2FkZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHllYXJEYXRhLnllYXIgPiBlbmRZZWFyKSB7XG5cdCAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIubmV4dERlY2FkZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgY2xpY2tIYW5kbGVyID0gY2hvb3NlWWVhci5iaW5kKF90aGlzMiwgeWVhckRhdGEueWVhcik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcblx0ICAgICAgICAgICAgdGl0bGU6IHllYXJEYXRhLnRpdGxlLFxuXHQgICAgICAgICAgICBrZXk6IHllYXJEYXRhLmNvbnRlbnQsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IGNsaWNrSGFuZGxlcixcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lTWFwKVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyJ1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICB5ZWFyRGF0YS5jb250ZW50XG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0cicsXG5cdCAgICAgICAgeyBrZXk6IGluZGV4LCByb2xlOiAncm93JyB9LFxuXHQgICAgICAgIHRkc1xuXHQgICAgICApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgdmFyIGRlY2FkZVBhbmVsID0gdm9pZCAwO1xuXHQgICAgaWYgKHRoaXMuc3RhdGUuc2hvd0RlY2FkZVBhbmVsKSB7XG5cdCAgICAgIGRlY2FkZVBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGVjYWRlUGFuZWwyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcm9wcy5yb290UHJlZml4Q2xzLFxuXHQgICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uRGVjYWRlUGFuZWxTZWxlY3Rcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcmVmaXhDbHMgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LWRlY2FkZS1idG4nLFxuXHQgICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c0RlY2FkZSxcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c0RlY2FkZVxuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlLXNlbGVjdCcsXG5cdCAgICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zaG93RGVjYWRlUGFuZWwsXG5cdCAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5kZWNhZGVTZWxlY3Rcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlLXNlbGVjdC1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgIHN0YXJ0WWVhcixcblx0ICAgICAgICAgICAgICAnLScsXG5cdCAgICAgICAgICAgICAgZW5kWWVhclxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kZWNhZGUtc2VsZWN0LWFycm93JyB9LFxuXHQgICAgICAgICAgICAgICd4J1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtZGVjYWRlLWJ0bicsXG5cdCAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHREZWNhZGUsXG5cdCAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dERlY2FkZVxuXHQgICAgICAgICAgfSlcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndGFibGUnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICd0Ym9keScsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG5cdCAgICAgICAgICAgICAgeWVhc0Vsc1xuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApLFxuXHQgICAgICBkZWNhZGVQYW5lbFxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gWWVhclBhbmVsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFllYXJQYW5lbDtcblx0XG5cdFxuXHRZZWFyUGFuZWwucHJvcFR5cGVzID0ge1xuXHQgIHJvb3RQcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdFxuXHRZZWFyUGFuZWwuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCgpIHt9XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0ZnVuY3Rpb24gbWlycm9yKG8pIHtcblx0ICByZXR1cm4gbztcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXBTZWxmKGNoaWxkcmVuKSB7XG5cdCAgLy8gcmV0dXJuIFJlYWN0RnJhZ21lbnRcblx0ICByZXR1cm4gUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBtaXJyb3IpO1xuXHR9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3poX0NOID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjApO1xuXHRcblx0dmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cdFxuXHR2YXIgX3JjQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1OSk7XG5cdFxuXHR2YXIgX3JjQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNDYWxlbmRhcik7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENhbGVuZGFyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2FsZW5kYXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIENhbGVuZGFyKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2FsZW5kYXIpO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShmYWxzZSwgJ0RhdGVQaWNrZXIuQ2FsZW5kYXIgaXMgZGVwcmVjYXRlZCwgdXNlIENhbGVuZGFyIGluc3RlYWQuJyk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSwgdGhpcy5wcm9wcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBDYWxlbmRhcjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxlbmRhcjtcblx0XG5cdENhbGVuZGFyLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGxvY2FsZTogX3poX0NOMltcImRlZmF1bHRcIl0sXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdHZhciBfUmFuZ2VDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzc1KTtcblx0XG5cdHZhciBfUmFuZ2VDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYW5nZUNhbGVuZGFyKTtcblx0XG5cdHZhciBfUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTEpO1xuXHRcblx0dmFyIF9QaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGlja2VyKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2dldExvY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJhbmdlUGlja2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFuZ2VQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFJhbmdlUGlja2VyKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYW5nZVBpY2tlcik7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuY2xlYXJTZWxlY3Rpb24gPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IFtdIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoW10pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUsIHNob3dEYXRlOiB2YWx1ZVswXSB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSh2YWx1ZSwgW3ZhbHVlWzBdICYmIHZhbHVlWzBdLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnLCB2YWx1ZVsxXSAmJiB2YWx1ZVsxXS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJ10pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlT3BlbkNoYW5nZSA9IGZ1bmN0aW9uIChvcGVuKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3Blbjogb3BlbiB9KTtcblx0ICAgICAgICAgICAgdmFyIG9uT3BlbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uT3BlbkNoYW5nZTtcblx0XG5cdCAgICAgICAgICAgIGlmIChvbk9wZW5DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uT3BlbkNoYW5nZShvcGVuKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlU2hvd0RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAoc2hvd0RhdGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgc2hvd0RhdGU6IHNob3dEYXRlIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMucmVuZGVyRm9vdGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgICAgIHJhbmdlcyA9IF90aGlzJHByb3BzLnJhbmdlcztcblx0XG5cdCAgICAgICAgICAgIGlmICghcmFuZ2VzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IE9iamVjdC5rZXlzKHJhbmdlcykubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcmFuZ2VzW3JhbmdlXTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGtleTogcmFuZ2UsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICAgICAgcmFuZ2Vcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcXVpY2stc2VsZWN0b3InIH0sXG5cdCAgICAgICAgICAgICAgICBvcGVyYXRpb25zXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUgfHwgW107XG5cdCAgICAgICAgaWYgKHZhbHVlWzBdICYmICFfbW9tZW50MltcImRlZmF1bHRcIl0uaXNNb21lbnQodmFsdWVbMF0pIHx8IHZhbHVlWzFdICYmICFfbW9tZW50MltcImRlZmF1bHRcIl0uaXNNb21lbnQodmFsdWVbMV0pKSB7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlL2RlZmF1bHRWYWx1ZSBvZiBSYW5nZVBpY2tlciBtdXN0IGJlIGEgbW9tZW50IG9iamVjdCBhcnJheSBhZnRlciBgYW50ZEAyLjBgLCAnICsgJ3NlZTogaHR0cDovL3UuYW50LmRlc2lnbi9kYXRlLXBpY2tlci12YWx1ZScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgICBvcGVuOiBwcm9wcy5vcGVuXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFuZ2VQaWNrZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUgfHwgW107XG5cdCAgICAgICAgICAgIHZhciBzaG93RGF0ZSA9IHZhbHVlWzBdO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlLCBzaG93RGF0ZTogc2hvd0RhdGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICgnb3BlbicgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgb3BlbjogbmV4dFByb3BzLm9wZW5cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBSYW5nZVBpY2tlci5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHQgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHZhbHVlKTtcblx0ICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2hvd1RpbWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wZW46IGZhbHNlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUmFuZ2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG5cdCAgICAgICAgICAgIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIHByb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblx0ICAgICAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZSxcblx0ICAgICAgICAgICAgc2hvd0RhdGUgPSBzdGF0ZS5zaG93RGF0ZSxcblx0ICAgICAgICAgICAgb3BlbiA9IHN0YXRlLm9wZW47XG5cdFxuXHQgICAgICAgIHZhciBsb2NhbGVDb2RlID0gKDAsIF9nZXRMb2NhbGUuZ2V0TG9jYWxlQ29kZSkoY29udGV4dCk7XG5cdCAgICAgICAgaWYgKHZhbHVlICYmIGxvY2FsZUNvZGUpIHtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlWzBdKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZVswXS5sb2NhbGUobG9jYWxlQ29kZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHZhbHVlWzFdKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZVsxXS5sb2NhbGUobG9jYWxlQ29kZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGRpc2FibGVkRGF0ZSA9IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICAgICAgZGlzYWJsZWRUaW1lID0gcHJvcHMuZGlzYWJsZWRUaW1lLFxuXHQgICAgICAgICAgICBzaG93VGltZSA9IHByb3BzLnNob3dUaW1lLFxuXHQgICAgICAgICAgICBzaG93VG9kYXkgPSBwcm9wcy5zaG93VG9kYXksXG5cdCAgICAgICAgICAgIHJhbmdlcyA9IHByb3BzLnJhbmdlcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBwb3B1cFN0eWxlID0gcHJvcHMucG9wdXBTdHlsZSxcblx0ICAgICAgICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcblx0ICAgICAgICAgICAgb25PayA9IHByb3BzLm9uT2ssXG5cdCAgICAgICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0O1xuXHRcblx0ICAgICAgICB2YXIgY2FsZW5kYXJDbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctdGltZScsIHNob3dUaW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1yYW5nZS13aXRoLXJhbmdlcycsIHJhbmdlcyksIF9jbGFzc05hbWVzKSk7XG5cdCAgICAgICAgLy8g6ZyA6KaB6YCJ5oup5pe26Ze05pe277yM54K55Ye7IG9rIOaXtuaJjeinpuWPkSBvbkNoYW5nZVxuXHQgICAgICAgIHZhciBwaWNrZXJDaGFuZ2VIYW5kbGVyID0ge1xuXHQgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2Vcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciBjYWxlbmRhckhhbmRsZXIgPSB7XG5cdCAgICAgICAgICAgIG9uT2s6IHRoaXMuaGFuZGxlQ2hhbmdlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpZiAocHJvcHMudGltZVBpY2tlcikge1xuXHQgICAgICAgICAgICBwaWNrZXJDaGFuZ2VIYW5kbGVyLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZWRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoY2hhbmdlZFZhbHVlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWxlbmRhckhhbmRsZXIgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHN0YXJ0UGxhY2Vob2xkZXIgPSAncGxhY2Vob2xkZXInIGluIHByb3BzID8gcHJvcHMucGxhY2Vob2xkZXJbMF0gOiBsb2NhbGUubGFuZy5yYW5nZVBsYWNlaG9sZGVyWzBdO1xuXHQgICAgICAgIHZhciBlbmRQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicgaW4gcHJvcHMgPyBwcm9wcy5wbGFjZWhvbGRlclsxXSA6IGxvY2FsZS5sYW5nLnJhbmdlUGxhY2Vob2xkZXJbMV07XG5cdCAgICAgICAgdmFyIGNhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfUmFuZ2VDYWxlbmRhcjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGNhbGVuZGFySGFuZGxlciwgeyBmb3JtYXQ6IGZvcm1hdCwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2FsZW5kYXJDbGFzc05hbWUsIHJlbmRlckZvb3RlcjogdGhpcy5yZW5kZXJGb290ZXIsIHRpbWVQaWNrZXI6IHByb3BzLnRpbWVQaWNrZXIsIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWU6IGRpc2FibGVkVGltZSwgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IFtzdGFydFBsYWNlaG9sZGVyLCBlbmRQbGFjZWhvbGRlcl0sIGxvY2FsZTogbG9jYWxlLmxhbmcsIG9uT2s6IG9uT2ssIHZhbHVlOiBzaG93RGF0ZSB8fCBwcm9wcy5kZWZhdWx0UGlja2VyVmFsdWUgfHwgKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKSwgb25WYWx1ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93RGF0ZUNoYW5nZSwgc2hvd1RvZGF5OiBzaG93VG9kYXkgfSkpO1xuXHQgICAgICAgIC8vIGRlZmF1bHQgd2lkdGggZm9yIHNob3dUaW1lXG5cdCAgICAgICAgdmFyIHBpY2tlclN0eWxlID0ge307XG5cdCAgICAgICAgaWYgKHByb3BzLnNob3dUaW1lKSB7XG5cdCAgICAgICAgICAgIHBpY2tlclN0eWxlLndpZHRoID0gc3R5bGUgJiYgc3R5bGUud2lkdGggfHwgMzAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY2xlYXJJY29uID0gIXByb3BzLmRpc2FibGVkICYmIHByb3BzLmFsbG93Q2xlYXIgJiYgdmFsdWUgJiYgKHZhbHVlWzBdIHx8IHZhbHVlWzFdKSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY3Jvc3MtY2lyY2xlJywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jbGVhcicsIG9uQ2xpY2s6IHRoaXMuY2xlYXJTZWxlY3Rpb24gfSkgOiBudWxsO1xuXHQgICAgICAgIHZhciBpbnB1dCA9IGZ1bmN0aW9uIGlucHV0KF9yZWYpIHtcblx0ICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSBfcmVmLnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaW5wdXRWYWx1ZVswXTtcblx0ICAgICAgICAgICAgdmFyIGVuZCA9IGlucHV0VmFsdWVbMV07XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlcklucHV0Q2xhc3MsIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgcmVhZE9ubHk6IHRydWUsIHZhbHVlOiBzdGFydCAmJiBzdGFydC5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IHN0YXJ0UGxhY2Vob2xkZXIsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1waWNrZXItaW5wdXQnIH0pLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcGlja2VyLXNlcGFyYXRvcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICAnIH4gJ1xuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIHJlYWRPbmx5OiB0cnVlLCB2YWx1ZTogZW5kICYmIGVuZC5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IGVuZFBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcGlja2VyLWlucHV0JyB9KSxcblx0ICAgICAgICAgICAgICAgIGNsZWFySWNvbixcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItaWNvbicgfSlcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5waWNrZXJDbGFzcywgc3R5bGU6ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBzdHlsZSwgcGlja2VyU3R5bGUpIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfUGlja2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCBwaWNrZXJDaGFuZ2VIYW5kbGVyLCB7IGNhbGVuZGFyOiBjYWxlbmRhciwgdmFsdWU6IHZhbHVlLCBvcGVuOiBvcGVuLCBvbk9wZW5DaGFuZ2U6IHRoaXMuaGFuZGxlT3BlbkNoYW5nZSwgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jb250YWluZXInLCBzdHlsZTogcG9wdXBTdHlsZSB9KSxcblx0ICAgICAgICAgICAgICAgIGlucHV0XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFuZ2VQaWNrZXI7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFuZ2VQaWNrZXI7XG5cdFxuXHRSYW5nZVBpY2tlci5jb250ZXh0VHlwZXMgPSB7XG5cdCAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0UmFuZ2VQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LWNhbGVuZGFyJyxcblx0ICAgIGFsbG93Q2xlYXI6IHRydWUsXG5cdCAgICBzaG93VG9kYXk6IGZhbHNlXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVQaWNrZXI7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX01vbnRoQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1MCk7XG5cdFxuXHR2YXIgX01vbnRoQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhDYWxlbmRhcik7XG5cdFxuXHR2YXIgX1BpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUxKTtcblx0XG5cdHZhciBfUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BpY2tlcik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9vbWl0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODMpO1xuXHRcblx0dmFyIF9vbWl0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29taXQpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9nZXRMb2NhbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVBpY2tlcihUaGVDYWxlbmRhcikge1xuXHQgICAgLy8gdXNlIGNsYXNzIHR5cGVzY3JpcHQgZXJyb3Jcblx0ICAgIHZhciBDYWxlbmRlcldyYXBwZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxlbmRlcldyYXBwZXInLFxuXHRcblx0ICAgICAgICBjb250ZXh0VHlwZXM6IHtcblx0ICAgICAgICAgICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcicsXG5cdCAgICAgICAgICAgICAgICBhbGxvd0NsZWFyOiB0cnVlLFxuXHQgICAgICAgICAgICAgICAgc2hvd1RvZGF5OiB0cnVlXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHQgICAgICAgICAgICBpZiAodmFsdWUgJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlL2RlZmF1bHRWYWx1ZSBvZiBEYXRlUGlja2VyIG9yIE1vbnRoUGlja2VyIG11c3QgYmUgJyArICdhIG1vbWVudCBvYmplY3QgYWZ0ZXIgYGFudGRAMi4wYCwgc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2RhdGUtcGlja2VyLXZhbHVlJyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICAgICAgICAgIHRlbXBWYWx1ZTogdW5kZWZpbmVkXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlOiBuZXh0UHJvcHMudmFsdWVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBjbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oZSkge1xuXHQgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKG51bGwpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcHJvcHMub25DaGFuZ2UodmFsdWUsIHZhbHVlICYmIHZhbHVlLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGhhbmRsZVRlbXBDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVRlbXBDaGFuZ2UodGVtcFZhbHVlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0ZW1wVmFsdWU6IHRlbXBWYWx1ZSB9KTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICAvLyBDbGVhciB0ZW1wIHZhbHVlIGFuZCB0cmlnZ2VyIG9uQ2hhbmdlIHdoZW4gaGlkZSBEYXRlUGlja2VyW3Nob3dUaW1lXSBwYW5lbFxuXHQgICAgICAgIGhhbmRsZU9wZW5DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZU9wZW5DaGFuZ2Uob3Blbikge1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIHNob3dUaW1lID0gX3Byb3BzLnNob3dUaW1lLFxuXHQgICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlID0gX3Byb3BzLm9uT3BlbkNoYW5nZSxcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlLFxuXHQgICAgICAgICAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdDtcblx0XG5cdCAgICAgICAgICAgIGlmICghb3Blbikge1xuXHQgICAgICAgICAgICAgICAgLy8gdHJpY2t5IGNvZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBvbkNoYW5nZSBtdWx0aXBsZSB0aW1lc1xuXHQgICAgICAgICAgICAgICAgLy8gd2hlbiBjbGljayBgTm93YCBidXR0b25cblx0ICAgICAgICAgICAgICAgIHZhciB0ZW1wVmFsdWUgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSBwcmV2U3RhdGUudGVtcFZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB7IHRlbXBWYWx1ZTogdW5kZWZpbmVkIH07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dUaW1lICYmIHRlbXBWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUudmFsdWUgPSB0ZW1wVmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHRlbXBWYWx1ZSwgdGVtcFZhbHVlICYmIHRlbXBWYWx1ZS5mb3JtYXQoZm9ybWF0KSB8fCAnJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAob25PcGVuQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG5cdCAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuXHQgICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gX3N0YXRlLnRlbXBWYWx1ZTtcblx0XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9ICgwLCBfb21pdDJbXCJkZWZhdWx0XCJdKSh0aGlzLnByb3BzLCBbJ29uQ2hhbmdlJ10pO1xuXHQgICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyBpbiBwcm9wcyA/IHByb3BzLnBsYWNlaG9sZGVyIDogbG9jYWxlLmxhbmcucGxhY2Vob2xkZXI7XG5cdCAgICAgICAgICAgIHZhciBkaXNhYmxlZFRpbWUgPSBwcm9wcy5zaG93VGltZSA/IHByb3BzLmRpc2FibGVkVGltZSA6IG51bGw7XG5cdCAgICAgICAgICAgIHZhciBjYWxlbmRhckNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy10aW1lJywgcHJvcHMuc2hvd1RpbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLW1vbnRoJywgX01vbnRoQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSA9PT0gVGhlQ2FsZW5kYXIpLCBfY2xhc3NOYW1lcykpO1xuXHQgICAgICAgICAgICAvLyDpnIDopoHpgInmi6nml7bpl7Tml7bvvIzngrnlh7sgb2sg5pe25omN6Kem5Y+RIG9uQ2hhbmdlXG5cdCAgICAgICAgICAgIHZhciBwaWNrZXJDaGFuZ2VIYW5kbGVyID0ge307XG5cdCAgICAgICAgICAgIHZhciBjYWxlbmRhckhhbmRsZXIgPSB7fTtcblx0ICAgICAgICAgICAgaWYgKHByb3BzLnNob3dUaW1lKSB7XG5cdCAgICAgICAgICAgICAgICBjYWxlbmRhckhhbmRsZXIgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzE5MDJcblx0ICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3Qoc2VsZWN0ZWRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVUZW1wQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwaWNrZXJDaGFuZ2VIYW5kbGVyID0ge1xuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFRoZUNhbGVuZGFyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGNhbGVuZGFySGFuZGxlciwgeyBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSwgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsIGxvY2FsZTogbG9jYWxlLmxhbmcsIHRpbWVQaWNrZXI6IHByb3BzLnRpbWVQaWNrZXIsIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFBpY2tlclZhbHVlIHx8ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKCksIGRhdGVJbnB1dFBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2FsZW5kYXJDbGFzc05hbWUsIG9uT2s6IHByb3BzLm9uT2ssIGZvcm1hdDogcHJvcHMuZm9ybWF0LCBzaG93VG9kYXk6IHByb3BzLnNob3dUb2RheSwgbW9udGhDZWxsQ29udGVudFJlbmRlcjogcHJvcHMubW9udGhDZWxsQ29udGVudFJlbmRlciB9KSk7XG5cdCAgICAgICAgICAgIC8vIGRlZmF1bHQgd2lkdGggZm9yIHNob3dUaW1lXG5cdCAgICAgICAgICAgIHZhciBwaWNrZXJTdHlsZSA9IHt9O1xuXHQgICAgICAgICAgICBpZiAocHJvcHMuc2hvd1RpbWUpIHtcblx0ICAgICAgICAgICAgICAgIHBpY2tlclN0eWxlLndpZHRoID0gcHJvcHMuc3R5bGUgJiYgcHJvcHMuc3R5bGUud2lkdGggfHwgMTU0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBjbGVhckljb24gPSAhcHJvcHMuZGlzYWJsZWQgJiYgcHJvcHMuYWxsb3dDbGVhciAmJiB2YWx1ZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY3Jvc3MtY2lyY2xlJywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jbGVhcicsIG9uQ2xpY2s6IHRoaXMuY2xlYXJTZWxlY3Rpb24gfSkgOiBudWxsO1xuXHQgICAgICAgICAgICB2YXIgaW5wdXQgPSBmdW5jdGlvbiBpbnB1dChfcmVmKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IF9yZWYudmFsdWU7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCByZWFkT25seTogdHJ1ZSwgdmFsdWU6IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IHByb3BzLnBpY2tlcklucHV0Q2xhc3MgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgY2xlYXJJY29uLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItaWNvbicgfSlcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZhciBwaWNrZXJWYWx1ZSA9IHRlbXBWYWx1ZSB8fCB2YWx1ZTtcblx0ICAgICAgICAgICAgdmFyIGxvY2FsZUNvZGUgPSAoMCwgX2dldExvY2FsZS5nZXRMb2NhbGVDb2RlKSh0aGlzLmNvbnRleHQpO1xuXHQgICAgICAgICAgICBpZiAocGlja2VyVmFsdWUgJiYgbG9jYWxlQ29kZSkge1xuXHQgICAgICAgICAgICAgICAgcGlja2VyVmFsdWUubG9jYWxlKGxvY2FsZUNvZGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlckNsYXNzLCBzdHlsZTogKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLnN0eWxlLCBwaWNrZXJTdHlsZSkgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgX1BpY2tlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHBpY2tlckNoYW5nZUhhbmRsZXIsIHsgb25PcGVuQ2hhbmdlOiB0aGlzLmhhbmRsZU9wZW5DaGFuZ2UsIGNhbGVuZGFyOiBjYWxlbmRhciwgdmFsdWU6IHBpY2tlclZhbHVlLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctcGlja2VyLWNvbnRhaW5lcicsIHN0eWxlOiBwcm9wcy5wb3B1cFN0eWxlIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgIGlucHV0XG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gQ2FsZW5kZXJXcmFwcGVyO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfcmNDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjU5KTtcblx0XG5cdHZhciBfcmNDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NhbGVuZGFyKTtcblx0XG5cdHZhciBfTW9udGhDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUwKTtcblx0XG5cdHZhciBfTW9udGhDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb250aENhbGVuZGFyKTtcblx0XG5cdHZhciBfY3JlYXRlUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMTQpO1xuXHRcblx0dmFyIF9jcmVhdGVQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlUGlja2VyKTtcblx0XG5cdHZhciBfd3JhcFBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzE4KTtcblx0XG5cdHZhciBfd3JhcFBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwUGlja2VyKTtcblx0XG5cdHZhciBfUmFuZ2VQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMyk7XG5cdFxuXHR2YXIgX1JhbmdlUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhbmdlUGlja2VyKTtcblx0XG5cdHZhciBfQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMik7XG5cdFxuXHR2YXIgX0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERhdGVQaWNrZXIgPSAoMCwgX3dyYXBQaWNrZXIyW1wiZGVmYXVsdFwiXSkoKDAsIF9jcmVhdGVQaWNrZXIyW1wiZGVmYXVsdFwiXSkoX3JjQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSkpO1xuXHR2YXIgTW9udGhQaWNrZXIgPSAoMCwgX3dyYXBQaWNrZXIyW1wiZGVmYXVsdFwiXSkoKDAsIF9jcmVhdGVQaWNrZXIyW1wiZGVmYXVsdFwiXSkoX01vbnRoQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSksICdZWVlZLU1NJyk7XG5cdCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKERhdGVQaWNrZXIsIHtcblx0ICAgIFJhbmdlUGlja2VyOiAoMCwgX3dyYXBQaWNrZXIyW1wiZGVmYXVsdFwiXSkoX1JhbmdlUGlja2VyMltcImRlZmF1bHRcIl0pLFxuXHQgICAgQ2FsZW5kYXI6IF9DYWxlbmRhcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgTW9udGhQaWNrZXI6IE1vbnRoUGlja2VyXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERhdGVQaWNrZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF96aF9DTiA9IF9fd2VicGFja19yZXF1aXJlX18oMjYwKTtcblx0XG5cdHZhciBfemhfQ04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemhfQ04pO1xuXHRcblx0dmFyIF96aF9DTjMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMSk7XG5cdFxuXHR2YXIgX3poX0NONCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOMyk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM3Myk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8vIOWkh+azqO+8muS7peS4i+S7o+eggeaXoOazleWujOWFqOaMieacgOWIneiuvuiuoei/kOihjO+8jOS9huS4uuS6huS/neivgeWFvOWuueaAp++8jOmcgOimgeS/neeVme+8jOebtOiHsyBhbnRkIOm7mOiupOivreiogOaUueS4uuiLseaWh1xuXHQvLyAgMS4g5aaC5p6c55So5oi35LiN57uZ5pe26Ze057G757uE5Lu25Lyg5YWlIHZhbHVlIGRlZmF1bHRWYWx1Ze+8jOWImei/kOihjOespuWQiOmihOacn1xuXHQvLyAgMi4g5aaC5p6c55So5oi35Lyg5YWlIHZhbHVlIGRlZmF1bHRWYWx1Ze+8jOWboOS4uui/meauteS7o+eggeayoeacieWcqOeUqOaIt+S7o+eggeS5i+WJjei/kOihjO+8jOaJgOS7peeUqOaIt+iwg+eUqCBtb21lbnQg5pe277yM6buY6K6k6K+t6KiA5L6d54S25Li66Iux5paHXG5cdC8vIFRvIHNldCB0aGUgZGVmYXVsdCBsb2NhbGUgb2YgbW9tZW50IHRvIHpoLWNuIGdsb2JhbGx5LlxuXHRfbW9tZW50MltcImRlZmF1bHRcIl0ubG9jYWxlKCd6aC1jbicpO1xuXHQvLyDnu5/kuIDlkIjlubbkuLrlrozmlbTnmoQgTG9jYWxlXG5cdHZhciBsb2NhbGUgPSB7XG5cdCAgICBsYW5nOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6nml6XmnJ8nLFxuXHQgICAgICAgIHJhbmdlUGxhY2Vob2xkZXI6IFsn5byA5aeL5pel5pyfJywgJ+e7k+adn+aXpeacnyddXG5cdCAgICB9LCBfemhfQ04yW1wiZGVmYXVsdFwiXSksXG5cdCAgICB0aW1lUGlja2VyTG9jYWxlOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3poX0NONFtcImRlZmF1bHRcIl0pXG5cdH07XG5cdC8vIHNob3VsZCBhZGQgd2hpdGVzcGFjZSBiZXR3ZWVuIGNoYXIgaW4gQnV0dG9uXG5cdGxvY2FsZS5sYW5nLm9rID0gJ+ehriDlrponO1xuXHQvLyBBbGwgc2V0dGluZ3MgYXQ6XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vYmxvYi9tYXN0ZXIvY29tcG9uZW50cy9kYXRlLXBpY2tlci9sb2NhbGUvZXhhbXBsZS5qc29uXG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbG9jYWxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzIyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd3JhcFBpY2tlcjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1BhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODcpO1xuXHRcblx0dmFyIF9QYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYW5lbCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX2dldExvY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q29sdW1ucyhfcmVmKSB7XG5cdCAgICB2YXIgc2hvd0hvdXIgPSBfcmVmLnNob3dIb3VyLFxuXHQgICAgICAgIHNob3dNaW51dGUgPSBfcmVmLnNob3dNaW51dGUsXG5cdCAgICAgICAgc2hvd1NlY29uZCA9IF9yZWYuc2hvd1NlY29uZDtcblx0XG5cdCAgICB2YXIgY29sdW1uID0gMDtcblx0ICAgIGlmIChzaG93SG91cikge1xuXHQgICAgICAgIGNvbHVtbiArPSAxO1xuXHQgICAgfVxuXHQgICAgaWYgKHNob3dNaW51dGUpIHtcblx0ICAgICAgICBjb2x1bW4gKz0gMTtcblx0ICAgIH1cblx0ICAgIGlmIChzaG93U2Vjb25kKSB7XG5cdCAgICAgICAgY29sdW1uICs9IDE7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY29sdW1uO1xuXHR9XG5cdGZ1bmN0aW9uIHdyYXBQaWNrZXIoUGlja2VyLCBkZWZhdWx0Rm9ybWF0KSB7XG5cdCAgICB2YXIgUGlja2VyV3JhcHBlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICAgICAgICBkaXNwbGF5TmFtZTogJ1BpY2tlcldyYXBwZXInLFxuXHRcblx0ICAgICAgICBjb250ZXh0VHlwZXM6IHtcblx0ICAgICAgICAgICAgYW50TG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQgfHwgJ1lZWVktTU0tREQnLFxuXHQgICAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcsXG5cdCAgICAgICAgICAgICAgICBwb3B1cFN0eWxlOiB7fSxcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuXHQgICAgICAgICAgICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHt9LFxuXHQgICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlOiBmdW5jdGlvbiBvbk9wZW5DaGFuZ2UoKSB7fSxcblx0XG5cdCAgICAgICAgICAgICAgICBsb2NhbGU6IHt9LFxuXHQgICAgICAgICAgICAgICAgYWxpZ246IHtcblx0ICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IFswLCAtOV1cblx0ICAgICAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgICAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInLFxuXHQgICAgICAgICAgICAgICAgaW5wdXRQcmVmaXhDbHM6ICdhbnQtaW5wdXQnXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBoYW5kbGVPcGVuQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVPcGVuQ2hhbmdlKG9wZW4pIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2UgPSBfcHJvcHMub25PcGVuQ2hhbmdlLFxuXHQgICAgICAgICAgICAgICAgdG9nZ2xlT3BlbiA9IF9wcm9wcy50b2dnbGVPcGVuO1xuXHRcblx0ICAgICAgICAgICAgb25PcGVuQ2hhbmdlKG9wZW4pO1xuXHQgICAgICAgICAgICBpZiAodG9nZ2xlT3Blbikge1xuXHQgICAgICAgICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGZhbHNlLCAnYHRvZ2dsZU9wZW5gIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCAnICsgJ3BsZWFzZSB1c2UgYG9uT3BlbkNoYW5nZWAgaW5zdGVhZCwgc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2RhdGUtcGlja2VyLW9uLW9wZW4tY2hhbmdlJyk7XG5cdCAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKHsgb3Blbjogb3BlbiB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lczIsIF9jbGFzc05hbWVzMztcblx0XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgICAgICBpbnB1dFByZWZpeENscyA9IHByb3BzLmlucHV0UHJlZml4Q2xzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHBpY2tlckNsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctcGlja2VyJywgdHJ1ZSkpO1xuXHQgICAgICAgICAgICB2YXIgcGlja2VySW5wdXRDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMyID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLXBpY2tlci1pbnB1dCcsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgaW5wdXRQcmVmaXhDbHMsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgaW5wdXRQcmVmaXhDbHMgKyAnLWxnJywgcHJvcHMuc2l6ZSA9PT0gJ2xhcmdlJyksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBpbnB1dFByZWZpeENscyArICctc20nLCBwcm9wcy5zaXplID09PSAnc21hbGwnKSwgX2NsYXNzTmFtZXMyKSk7XG5cdCAgICAgICAgICAgIHZhciBsb2NhbGUgPSAoMCwgX2dldExvY2FsZS5nZXRDb21wb25lbnRMb2NhbGUpKHByb3BzLCB0aGlzLmNvbnRleHQsICdEYXRlUGlja2VyJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMzE2KTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciB0aW1lRm9ybWF0ID0gcHJvcHMuc2hvd1RpbWUgJiYgcHJvcHMuc2hvd1RpbWUuZm9ybWF0IHx8ICdISDptbTpzcyc7XG5cdCAgICAgICAgICAgIHZhciByY1RpbWVQaWNrZXJQcm9wcyA9IHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogdGltZUZvcm1hdCxcblx0ICAgICAgICAgICAgICAgIHNob3dTZWNvbmQ6IHRpbWVGb3JtYXQuaW5kZXhPZignc3MnKSA+PSAwLFxuXHQgICAgICAgICAgICAgICAgc2hvd01pbnV0ZTogdGltZUZvcm1hdC5pbmRleE9mKCdtbScpID49IDAsXG5cdCAgICAgICAgICAgICAgICBzaG93SG91cjogdGltZUZvcm1hdC5pbmRleE9mKCdISCcpID49IDBcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFyIGNvbHVtbnMgPSBnZXRDb2x1bW5zKHJjVGltZVBpY2tlclByb3BzKTtcblx0ICAgICAgICAgICAgdmFyIHRpbWVQaWNrZXJDbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzMyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci0xLWNvbHVtbicsIGNvbHVtbnMgPT09IDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci0yLWNvbHVtbnMnLCBjb2x1bW5zID09PSAyKSwgX2NsYXNzTmFtZXMzKSk7XG5cdCAgICAgICAgICAgIHZhciB0aW1lUGlja2VyID0gcHJvcHMuc2hvd1RpbWUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9QYW5lbDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJjVGltZVBpY2tlclByb3BzLCBwcm9wcy5zaG93VGltZSwgeyBwcmVmaXhDbHM6IHByZWZpeENscyArICctdGltZS1waWNrZXInLCBjbGFzc05hbWU6IHRpbWVQaWNrZXJDbHMsIHBsYWNlaG9sZGVyOiBsb2NhbGUudGltZVBpY2tlckxvY2FsZS5wbGFjZWhvbGRlciwgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcgfSkpIDogbnVsbDtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoUGlja2VyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7IHBpY2tlckNsYXNzOiBwaWNrZXJDbGFzcywgcGlja2VySW5wdXRDbGFzczogcGlja2VySW5wdXRDbGFzcywgbG9jYWxlOiBsb2NhbGUsIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsIG9uT3BlbkNoYW5nZTogdGhpcy5oYW5kbGVPcGVuQ2hhbmdlIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBQaWNrZXJXcmFwcGVyO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgbG9jYWxlID0ge1xuXHQgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6nml7bpl7QnXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbG9jYWxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzIyOlxuWzEyMjEsIDM1Nl0sXG5cbi8qKiovIDMyNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogX193ZWJwYWNrX3JlcXVpcmVfXygzMjkpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDMyODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0ZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblx0XG5cdHZhciBfaXNJdGVyYWJsZTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyk7XG5cdFxuXHR2YXIgX2lzSXRlcmFibGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJdGVyYWJsZTIpO1xuXHRcblx0dmFyIF9nZXRJdGVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0MCk7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldEl0ZXJhdG9yMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG5cdCAgICB2YXIgX2FyciA9IFtdO1xuXHQgICAgdmFyIF9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZCA9IGZhbHNlO1xuXHQgICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pID0gKDAsIF9nZXRJdGVyYXRvcjMuZGVmYXVsdCkoYXJyKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHtcblx0ICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXHRcblx0ICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZCA9IHRydWU7XG5cdCAgICAgIF9lID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuXHQgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX2Fycjtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG5cdCAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG5cdCAgICAgIHJldHVybiBhcnI7XG5cdCAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG5cdCAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcblx0ICAgIH1cblx0ICB9O1xuXHR9KCk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDMyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdF9fd2VicGFja19yZXF1aXJlX18oMjIyKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMDApO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQ2KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzQ2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIGNsYXNzb2YgICA9IF9fd2VicGFja19yZXF1aXJlX18oMjQxKVxuXHQgICwgSVRFUkFUT1IgID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSkoJ2l0ZXJhdG9yJylcblx0ICAsIEl0ZXJhdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTk4KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KS5pc0l0ZXJhYmxlID0gZnVuY3Rpb24oaXQpe1xuXHQgIHZhciBPID0gT2JqZWN0KGl0KTtcblx0ICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuXHQgICAgfHwgJ0BAaXRlcmF0b3InIGluIE9cblx0ICAgIHx8IEl0ZXJhdG9ycy5oYXNPd25Qcm9wZXJ0eShjbGFzc29mKE8pKTtcblx0fTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzU1OlxuMTAsXG5cbi8qKiovIDM1NjpcbjEwLFxuXG4vKioqLyAzNzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyEgbW9tZW50LmpzIGxvY2FsZSBjb25maWd1cmF0aW9uXG5cdC8vISBsb2NhbGUgOiBDaGluZXNlIChDaGluYSkgW3poLWNuXVxuXHQvLyEgYXV0aG9yIDogc3V1cGljIDogaHR0cHM6Ly9naXRodWIuY29tL3N1dXBpY1xuXHQvLyEgYXV0aG9yIDogWmVubyBaZW5nIDogaHR0cHM6Ly9naXRodWIuY29tL3plbm96ZW5nXG5cdFxuXHQ7KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgIHRydWUgPyBmYWN0b3J5KF9fd2VicGFja19yZXF1aXJlX18oMjgpKSA6XG5cdCAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJy4uL21vbWVudCddLCBmYWN0b3J5KSA6XG5cdCAgIGZhY3RvcnkoZ2xvYmFsLm1vbWVudClcblx0fSh0aGlzLCAoZnVuY3Rpb24gKG1vbWVudCkgeyAndXNlIHN0cmljdCc7XG5cdFxuXHRcblx0dmFyIHpoQ24gPSBtb21lbnQuZGVmaW5lTG9jYWxlKCd6aC1jbicsIHtcblx0ICAgIG1vbnRocyA6ICfkuIDmnIhf5LqM5pyIX+S4ieaciF/lm5vmnIhf5LqU5pyIX+WFreaciF/kuIPmnIhf5YWr5pyIX+S5neaciF/ljYHmnIhf5Y2B5LiA5pyIX+WNgeS6jOaciCcuc3BsaXQoJ18nKSxcblx0ICAgIG1vbnRoc1Nob3J0IDogJzHmnIhfMuaciF8z5pyIXzTmnIhfNeaciF825pyIXzfmnIhfOOaciF855pyIXzEw5pyIXzEx5pyIXzEy5pyIJy5zcGxpdCgnXycpLFxuXHQgICAgd2Vla2RheXMgOiAn5pif5pyf5pelX+aYn+acn+S4gF/mmJ/mnJ/kuoxf5pif5pyf5LiJX+aYn+acn+Wbm1/mmJ/mnJ/kupRf5pif5pyf5YWtJy5zcGxpdCgnXycpLFxuXHQgICAgd2Vla2RheXNTaG9ydCA6ICflkajml6Vf5ZGo5LiAX+WRqOS6jF/lkajkuIlf5ZGo5ZubX+WRqOS6lF/lkajlha0nLnNwbGl0KCdfJyksXG5cdCAgICB3ZWVrZGF5c01pbiA6ICfml6Vf5LiAX+S6jF/kuIlf5ZubX+S6lF/lha0nLnNwbGl0KCdfJyksXG5cdCAgICBsb25nRGF0ZUZvcm1hdCA6IHtcblx0ICAgICAgICBMVCA6ICdBaOeCuW1t5YiGJyxcblx0ICAgICAgICBMVFMgOiAnQWjngrlt5YiGc+enkicsXG5cdCAgICAgICAgTCA6ICdZWVlZLU1NLUREJyxcblx0ICAgICAgICBMTCA6ICdZWVlZ5bm0TU1NROaXpScsXG5cdCAgICAgICAgTExMIDogJ1lZWVnlubRNTU1E5pelQWjngrltbeWIhicsXG5cdCAgICAgICAgTExMTCA6ICdZWVlZ5bm0TU1NROaXpWRkZGRBaOeCuW1t5YiGJyxcblx0ICAgICAgICBsIDogJ1lZWVktTU0tREQnLFxuXHQgICAgICAgIGxsIDogJ1lZWVnlubRNTU1E5pelJyxcblx0ICAgICAgICBsbGwgOiAnWVlZWeW5tE1NTUTml6VBaOeCuW1t5YiGJyxcblx0ICAgICAgICBsbGxsIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnXG5cdCAgICB9LFxuXHQgICAgbWVyaWRpZW1QYXJzZTogL+WHjOaZqHzml6nkuIp85LiK5Y2IfOS4reWNiHzkuIvljYh85pma5LiKLyxcblx0ICAgIG1lcmlkaWVtSG91cjogZnVuY3Rpb24gKGhvdXIsIG1lcmlkaWVtKSB7XG5cdCAgICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG5cdCAgICAgICAgICAgIGhvdXIgPSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobWVyaWRpZW0gPT09ICflh4zmmagnIHx8IG1lcmlkaWVtID09PSAn5pep5LiKJyB8fFxuXHQgICAgICAgICAgICAgICAgbWVyaWRpZW0gPT09ICfkuIrljYgnKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgICAgIH0gZWxzZSBpZiAobWVyaWRpZW0gPT09ICfkuIvljYgnIHx8IG1lcmlkaWVtID09PSAn5pma5LiKJykge1xuXHQgICAgICAgICAgICByZXR1cm4gaG91ciArIDEyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vICfkuK3ljYgnXG5cdCAgICAgICAgICAgIHJldHVybiBob3VyID49IDExID8gaG91ciA6IGhvdXIgKyAxMjtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgbWVyaWRpZW0gOiBmdW5jdGlvbiAoaG91ciwgbWludXRlLCBpc0xvd2VyKSB7XG5cdCAgICAgICAgdmFyIGhtID0gaG91ciAqIDEwMCArIG1pbnV0ZTtcblx0ICAgICAgICBpZiAoaG0gPCA2MDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuICflh4zmmagnO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaG0gPCA5MDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuICfml6nkuIonO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaG0gPCAxMTMwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAn5LiK5Y2IJztcblx0ICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTIzMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ+S4reWNiCc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChobSA8IDE4MDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuICfkuIvljYgnO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiAn5pma5LiKJztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgY2FsZW5kYXIgOiB7XG5cdCAgICAgICAgc2FtZURheSA6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vku4rlpKldQWhb54K55pW0XScgOiAnW+S7iuWkqV1MVCc7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBuZXh0RGF5IDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+aYjuWkqV1BaFvngrnmlbRdJyA6ICdb5piO5aSpXUxUJztcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGxhc3REYXkgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5pio5aSpXUFoW+eCueaVtF0nIDogJ1vmmKjlpKldTFQnO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbmV4dFdlZWsgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFydE9mV2VlaywgcHJlZml4O1xuXHQgICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcblx0ICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5kaWZmKHN0YXJ0T2ZXZWVrLCAnZGF5cycpID49IDcgPyAnW+S4i10nIDogJ1vmnKxdJztcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gcHJlZml4ICsgJ2RkZEFo54K55pW0JyA6IHByZWZpeCArICdkZGRBaOeCuW1tJztcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGxhc3RXZWVrIDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgc3RhcnRPZldlZWssIHByZWZpeDtcblx0ICAgICAgICAgICAgc3RhcnRPZldlZWsgPSBtb21lbnQoKS5zdGFydE9mKCd3ZWVrJyk7XG5cdCAgICAgICAgICAgIHByZWZpeCA9IHRoaXMudW5peCgpIDwgc3RhcnRPZldlZWsudW5peCgpICA/ICdb5LiKXScgOiAnW+acrF0nO1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyBwcmVmaXggKyAnZGRkQWjngrnmlbQnIDogcHJlZml4ICsgJ2RkZEFo54K5bW0nO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgc2FtZUVsc2UgOiAnTEwnXG5cdCAgICB9LFxuXHQgICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0o5pelfOaciHzlkagpLyxcblx0ICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyLCBwZXJpb2QpIHtcblx0ICAgICAgICBzd2l0Y2ggKHBlcmlvZCkge1xuXHQgICAgICAgICAgICBjYXNlICdkJzpcblx0ICAgICAgICAgICAgY2FzZSAnRCc6XG5cdCAgICAgICAgICAgIGNhc2UgJ0RERCc6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aXpSc7XG5cdCAgICAgICAgICAgIGNhc2UgJ00nOlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlciArICfmnIgnO1xuXHQgICAgICAgICAgICBjYXNlICd3Jzpcblx0ICAgICAgICAgICAgY2FzZSAnVyc6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+WRqCc7XG5cdCAgICAgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICByZWxhdGl2ZVRpbWUgOiB7XG5cdCAgICAgICAgZnV0dXJlIDogJyVz5YaFJyxcblx0ICAgICAgICBwYXN0IDogJyVz5YmNJyxcblx0ICAgICAgICBzIDogJ+WHoOenkicsXG5cdCAgICAgICAgbSA6ICcxIOWIhumSnycsXG5cdCAgICAgICAgbW0gOiAnJWQg5YiG6ZKfJyxcblx0ICAgICAgICBoIDogJzEg5bCP5pe2Jyxcblx0ICAgICAgICBoaCA6ICclZCDlsI/ml7YnLFxuXHQgICAgICAgIGQgOiAnMSDlpKknLFxuXHQgICAgICAgIGRkIDogJyVkIOWkqScsXG5cdCAgICAgICAgTSA6ICcxIOS4quaciCcsXG5cdCAgICAgICAgTU0gOiAnJWQg5Liq5pyIJyxcblx0ICAgICAgICB5IDogJzEg5bm0Jyxcblx0ICAgICAgICB5eSA6ICclZCDlubQnXG5cdCAgICB9LFxuXHQgICAgd2VlayA6IHtcblx0ICAgICAgICAvLyBHQi9UIDc0MDgtMTk5NOOAiuaVsOaNruWFg+WSjOS6pOaNouagvOW8j8K35L+h5oGv5Lqk5o2iwrfml6XmnJ/lkozml7bpl7TooajnpLrms5XjgIvkuI5JU08gODYwMToxOTg4562J5pWIXG5cdCAgICAgICAgZG93IDogMSwgLy8gTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG5cdCAgICAgICAgZG95IDogNCAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNHRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuXHQgICAgfVxuXHR9KTtcblx0XG5cdHJldHVybiB6aENuO1xuXHRcblx0fSkpKTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9LZXlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDgpO1xuXHRcblx0dmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXHRcblx0dmFyIF9EYXRlVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1OCk7XG5cdFxuXHR2YXIgX0RhdGVUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlVGFibGUpO1xuXHRcblx0dmFyIF9DYWxlbmRhckhlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUyKTtcblx0XG5cdHZhciBfQ2FsZW5kYXJIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJIZWFkZXIpO1xuXHRcblx0dmFyIF9DYWxlbmRhckZvb3RlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzc2KTtcblx0XG5cdHZhciBfQ2FsZW5kYXJGb290ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJGb290ZXIpO1xuXHRcblx0dmFyIF9DYWxlbmRhck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjEpO1xuXHRcblx0dmFyIF9DYWxlbmRhck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTWl4aW4pO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjA3KTtcblx0XG5cdHZhciBfQ29tbW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uTWl4aW4pO1xuXHRcblx0dmFyIF9EYXRlSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nyk7XG5cdFxuXHR2YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIGdvU3RhcnRNb250aCgpIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LnN0YXJ0T2YoJ21vbnRoJyk7XG5cdCAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29FbmRNb250aCgpIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmVuZE9mKCdtb250aCcpO1xuXHQgIHRoaXMuc2V0VmFsdWUobmV4dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvVGltZShkaXJlY3Rpb24sIHVuaXQpIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmFkZChkaXJlY3Rpb24sIHVuaXQpO1xuXHQgIHRoaXMuc2V0VmFsdWUobmV4dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvTW9udGgoZGlyZWN0aW9uKSB7XG5cdCAgcmV0dXJuIGdvVGltZS5jYWxsKHRoaXMsIGRpcmVjdGlvbiwgJ21vbnRocycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG5cdCAgcmV0dXJuIGdvVGltZS5jYWxsKHRoaXMsIGRpcmVjdGlvbiwgJ3llYXJzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvV2VlayhkaXJlY3Rpb24pIHtcblx0ICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAnd2Vla3MnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29EYXkoZGlyZWN0aW9uKSB7XG5cdCAgcmV0dXJuIGdvVGltZS5jYWxsKHRoaXMsIGRpcmVjdGlvbiwgJ2RheXMnKTtcblx0fVxuXHRcblx0dmFyIENhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnQ2FsZW5kYXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgc2hvd1dlZWtOdW1iZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHNob3dUb2RheTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2hvd0RhdGVJbnB1dDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHNob3dPazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uS2V5RG93bjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5lbGVtZW50LFxuXHQgICAgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHJlbmRlckZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcmVuZGVyU2lkZWJhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgbWl4aW5zOiBbX0NvbW1vbk1peGluMltcImRlZmF1bHRcIl0sIF9DYWxlbmRhck1peGluMltcImRlZmF1bHRcIl1dLFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHNob3dUb2RheTogdHJ1ZSxcblx0ICAgICAgc2hvd0RhdGVJbnB1dDogdHJ1ZSxcblx0ICAgICAgdGltZVBpY2tlcjogbnVsbCxcblx0ICAgICAgb25Pazogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuXHQgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXHQgICAgLy8gbWFjXG5cdCAgICB2YXIgY3RybEtleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblx0ICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTjpcblx0ICAgICAgICBnb1dlZWsuY2FsbCh0aGlzLCAxKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uVVA6XG5cdCAgICAgICAgZ29XZWVrLmNhbGwodGhpcywgLTEpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5MRUZUOlxuXHQgICAgICAgIGlmIChjdHJsS2V5KSB7XG5cdCAgICAgICAgICBnb1llYXIuY2FsbCh0aGlzLCAtMSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGdvRGF5LmNhbGwodGhpcywgLTEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUklHSFQ6XG5cdCAgICAgICAgaWYgKGN0cmxLZXkpIHtcblx0ICAgICAgICAgIGdvWWVhci5jYWxsKHRoaXMsIDEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBnb0RheS5jYWxsKHRoaXMsIDEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uSE9NRTpcblx0ICAgICAgICBnb1N0YXJ0TW9udGguY2FsbCh0aGlzKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5EOlxuXHQgICAgICAgIGdvRW5kTW9udGguY2FsbCh0aGlzKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUEFHRV9ET1dOOlxuXHQgICAgICAgIGdvTW9udGguY2FsbCh0aGlzLCAxKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUEFHRV9VUDpcblx0ICAgICAgICBnb01vbnRoLmNhbGwodGhpcywgLTEpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUjpcblx0ICAgICAgICB0aGlzLm9uU2VsZWN0KHRoaXMuc3RhdGUudmFsdWUsIHtcblx0ICAgICAgICAgIHNvdXJjZTogJ2tleWJvYXJkJ1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DbGVhcjogZnVuY3Rpb24gb25DbGVhcigpIHtcblx0ICAgIHRoaXMub25TZWxlY3QobnVsbCk7XG5cdCAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcblx0ICB9LFxuXHQgIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblx0XG5cdCAgICBpZiAodGhpcy5pc0FsbG93ZWREYXRlKHNlbGVjdGVkVmFsdWUpKSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25PayhzZWxlY3RlZFZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uRGF0ZUlucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbkRhdGVJbnB1dENoYW5nZSh2YWx1ZSkge1xuXHQgICAgdGhpcy5vblNlbGVjdCh2YWx1ZSwge1xuXHQgICAgICBzb3VyY2U6ICdkYXRlSW5wdXQnXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uRGF0ZVRhYmxlU2VsZWN0OiBmdW5jdGlvbiBvbkRhdGVUYWJsZVNlbGVjdCh2YWx1ZSkge1xuXHQgICAgdGhpcy5vblNlbGVjdCh2YWx1ZSk7XG5cdCAgfSxcblx0ICBvblRvZGF5OiBmdW5jdGlvbiBvblRvZGF5KCkge1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0XG5cdCAgICB2YXIgbm93ID0gKDAsIF9pbmRleC5nZXRUb2RheVRpbWUpKHZhbHVlKTtcblx0ICAgIHRoaXMub25TZWxlY3Qobm93LCB7XG5cdCAgICAgIHNvdXJjZTogJ3RvZGF5QnV0dG9uJ1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBnZXRSb290RE9NTm9kZTogZnVuY3Rpb24gZ2V0Um9vdERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgfSxcblx0ICBvcGVuVGltZVBpY2tlcjogZnVuY3Rpb24gb3BlblRpbWVQaWNrZXIoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc2hvd1RpbWVQaWNrZXI6IHRydWVcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgY2xvc2VUaW1lUGlja2VyOiBmdW5jdGlvbiBjbG9zZVRpbWVQaWNrZXIoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGRpc2FibGVkRGF0ZSA9IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICBkYXRlSW5wdXRQbGFjZWhvbGRlciA9IHByb3BzLmRhdGVJbnB1dFBsYWNlaG9sZGVyLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuXHQgICAgICAgIGRpc2FibGVkVGltZSA9IHByb3BzLmRpc2FibGVkVGltZTtcblx0XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWUsXG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHN0YXRlLnNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBzdGF0ZS5zaG93VGltZVBpY2tlcjtcblx0XG5cdCAgICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gc2hvd1RpbWVQaWNrZXIgJiYgZGlzYWJsZWRUaW1lICYmIHRpbWVQaWNrZXIgPyAoMCwgX2luZGV4LmdldFRpbWVDb25maWcpKHNlbGVjdGVkVmFsdWUsIGRpc2FibGVkVGltZSkgOiBudWxsO1xuXHRcblx0ICAgIHZhciB0aW1lUGlja2VyRWxlID0gdGltZVBpY2tlciAmJiBzaG93VGltZVBpY2tlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudCh0aW1lUGlja2VyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICBzaG93SG91cjogdHJ1ZSxcblx0ICAgICAgc2hvd1NlY29uZDogdHJ1ZSxcblx0ICAgICAgc2hvd01pbnV0ZTogdHJ1ZVxuXHQgICAgfSwgdGltZVBpY2tlci5wcm9wcywgZGlzYWJsZWRUaW1lQ29uZmlnLCB7XG5cdCAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uRGF0ZUlucHV0Q2hhbmdlLFxuXHQgICAgICBkZWZhdWx0T3BlblZhbHVlOiB2YWx1ZSxcblx0ICAgICAgdmFsdWU6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lXG5cdCAgICB9KSkgOiBudWxsO1xuXHQgICAgdmFyIGRhdGVJbnB1dEVsZW1lbnQgPSBwcm9wcy5zaG93RGF0ZUlucHV0ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZUlucHV0MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgcmVmOiAnZGF0ZUlucHV0Jyxcblx0ICAgICAgZm9ybWF0OiB0aGlzLmdldEZvcm1hdCgpLFxuXHQgICAgICBrZXk6ICdkYXRlLWlucHV0Jyxcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgcGxhY2Vob2xkZXI6IGRhdGVJbnB1dFBsYWNlaG9sZGVyLFxuXHQgICAgICBzaG93Q2xlYXI6IHRydWUsXG5cdCAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuXHQgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcblx0ICAgICAgb25DbGVhcjogdGhpcy5vbkNsZWFyLFxuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgb25DaGFuZ2U6IHRoaXMub25EYXRlSW5wdXRDaGFuZ2Vcblx0ICAgIH0pIDogbnVsbDtcblx0ICAgIHZhciBjaGlsZHJlbiA9IFtwcm9wcy5yZW5kZXJTaWRlYmFyKCksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wYW5lbCcsIGtleTogJ3BhbmVsJyB9LFxuXHQgICAgICBkYXRlSW5wdXRFbGVtZW50LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRhdGUtcGFuZWwnIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgICBvblZhbHVlQ2hhbmdlOiB0aGlzLnNldFZhbHVlLFxuXHQgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuXHQgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHNcblx0ICAgICAgICB9KSxcblx0ICAgICAgICB0aW1lUGlja2VyICYmIHNob3dUaW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXInIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXItcGFuZWwnIH0sXG5cdCAgICAgICAgICAgIHRpbWVQaWNrZXJFbGVcblx0ICAgICAgICAgIClcblx0ICAgICAgICApIDogbnVsbCxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZVRhYmxlMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGRhdGVSZW5kZXI6IHByb3BzLmRhdGVSZW5kZXIsXG5cdCAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uRGF0ZVRhYmxlU2VsZWN0LFxuXHQgICAgICAgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcblx0ICAgICAgICAgICAgc2hvd1dlZWtOdW1iZXI6IHByb3BzLnNob3dXZWVrTnVtYmVyXG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJGb290ZXIyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgICAgc2hvd09rOiBwcm9wcy5zaG93T2ssXG5cdCAgICAgICAgICByZW5kZXJGb290ZXI6IHByb3BzLnJlbmRlckZvb3Rlcixcblx0ICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgICBzaG93VG9kYXk6IHByb3BzLnNob3dUb2RheSxcblx0ICAgICAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuXHQgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuXHQgICAgICAgICAgc2hvd0RhdGVJbnB1dDogcHJvcHMuc2hvd0RhdGVJbnB1dCxcblx0ICAgICAgICAgIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsXG5cdCAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG5cdCAgICAgICAgICBva0Rpc2FibGVkOiAhdGhpcy5pc0FsbG93ZWREYXRlKHNlbGVjdGVkVmFsdWUpLFxuXHQgICAgICAgICAgb25PazogdGhpcy5vbk9rLFxuXHQgICAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QsXG5cdCAgICAgICAgICBvblRvZGF5OiB0aGlzLm9uVG9kYXksXG5cdCAgICAgICAgICBvbk9wZW5UaW1lUGlja2VyOiB0aGlzLm9wZW5UaW1lUGlja2VyLFxuXHQgICAgICAgICAgb25DbG9zZVRpbWVQaWNrZXI6IHRoaXMuY2xvc2VUaW1lUGlja2VyXG5cdCAgICAgICAgfSlcblx0ICAgICAgKVxuXHQgICAgKV07XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdCh7XG5cdCAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcblx0ICAgICAgY2xhc3NOYW1lOiBwcm9wcy5zaG93V2Vla051bWJlciA/IHByZWZpeENscyArICctd2Vlay1udW1iZXInIDogJydcblx0ICAgIH0pO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjgpO1xuXHRcblx0dmFyIF9zbGljZWRUb0FycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NsaWNlZFRvQXJyYXkyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblx0XG5cdHZhciBfQ2FsZW5kYXJQYXJ0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODMpO1xuXHRcblx0dmFyIF9DYWxlbmRhclBhcnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJQYXJ0KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0dmFyIF9Ub2RheUJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjU1KTtcblx0XG5cdHZhciBfVG9kYXlCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9kYXlCdXR0b24pO1xuXHRcblx0dmFyIF9Pa0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUzKTtcblx0XG5cdHZhciBfT2tCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2tCdXR0b24pO1xuXHRcblx0dmFyIF9UaW1lUGlja2VyQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTQpO1xuXHRcblx0dmFyIF9UaW1lUGlja2VyQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXJCdXR0b24pO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjA3KTtcblx0XG5cdHZhciBfQ29tbW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIGdldE5vdygpIHtcblx0ICByZXR1cm4gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb25WYWx1ZUNoYW5nZShkaXJlY3Rpb24sIGN1cnJlbnQpIHtcblx0ICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cdCAgdmFsdWUgPSBjdXJyZW50O1xuXHQgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcblx0ICAgIHZhbHVlLmFkZCgtMSwgJ21vbnRocycpO1xuXHQgIH1cblx0ICB0aGlzLmZpcmVWYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZUFuY2hvcihwcm9wcywgaW5pdCkge1xuXHQgIHZhciBzZWxlY3RlZFZhbHVlID0gcHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCBpbml0ICYmIHByb3BzLmRlZmF1bHRTZWxlY3RlZFZhbHVlIHx8IFtdO1xuXHQgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuXHQgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgdmFsdWUgPSB2YWx1ZVswXTtcblx0ICB9XG5cdCAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShkZWZhdWx0VmFsdWUpKSB7XG5cdCAgICBkZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWVbMF07XG5cdCAgfVxuXHQgIHJldHVybiB2YWx1ZSB8fCBpbml0ICYmIGRlZmF1bHRWYWx1ZSB8fCBzZWxlY3RlZFZhbHVlWzBdIHx8IGluaXQgJiYgZ2V0Tm93KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9ucyhsZW5ndGgpIHtcblx0ICB2YXIgYXJyID0gW107XG5cdCAgZm9yICh2YXIgdmFsdWUgPSAwOyB2YWx1ZSA8IGxlbmd0aDsgdmFsdWUrKykge1xuXHQgICAgYXJyLnB1c2godmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gYXJyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvbklucHV0U2VsZWN0KGRpcmVjdGlvbiwgdmFsdWUpIHtcblx0ICBpZiAoIXZhbHVlKSB7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHQgIHZhciBzZWxlY3RlZFZhbHVlID0gb3JpZ2luYWxWYWx1ZS5jb25jYXQoKTtcblx0ICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IDAgOiAxO1xuXHQgIHNlbGVjdGVkVmFsdWVbaW5kZXhdID0gdmFsdWU7XG5cdCAgaWYgKHNlbGVjdGVkVmFsdWVbMF0gJiYgdGhpcy5jb21wYXJlKHNlbGVjdGVkVmFsdWVbMF0sIHNlbGVjdGVkVmFsdWVbMV0pID4gMCkge1xuXHQgICAgc2VsZWN0ZWRWYWx1ZVsxIC0gaW5kZXhdID0gdGhpcy5zdGF0ZS5zaG93VGltZVBpY2tlciA/IHNlbGVjdGVkVmFsdWVbaW5kZXhdIDogdW5kZWZpbmVkO1xuXHQgIH1cblx0ICB0aGlzLmZpcmVTZWxlY3RWYWx1ZUNoYW5nZShzZWxlY3RlZFZhbHVlKTtcblx0fVxuXHRcblx0dmFyIFJhbmdlQ2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSYW5nZUNhbGVuZGFyJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd09rOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93VG9kYXk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBkZWZhdWx0U2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHNob3dDbGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25WYWx1ZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcblx0ICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHR5cGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdHlwZTogJ2JvdGgnLFxuXHQgICAgICBkZWZhdWx0U2VsZWN0ZWRWYWx1ZTogW10sXG5cdCAgICAgIG9uVmFsdWVDaGFuZ2U6IG5vb3AsXG5cdCAgICAgIGRpc2FibGVkVGltZTogbm9vcCxcblx0ICAgICAgc2hvd1RvZGF5OiB0cnVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IHByb3BzLmRlZmF1bHRTZWxlY3RlZFZhbHVlO1xuXHQgICAgdmFyIHZhbHVlID0gbm9ybWFsaXplQW5jaG9yKHByb3BzLCAxKTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgIGhvdmVyVmFsdWU6IFtdLFxuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIHNob3dUaW1lUGlja2VyOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblx0ICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICBpZiAobmV4dFByb3BzLnZhbHVlKSB7XG5cdCAgICAgICAgbmV3U3RhdGUudmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV3U3RhdGUudmFsdWUgPSBub3JtYWxpemVBbmNob3IobmV4dFByb3BzLCAwKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgIH1cblx0ICAgIGlmICgnc2VsZWN0ZWRWYWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIG5ld1N0YXRlLnNlbGVjdGVkVmFsdWUgPSBuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkRhdGVQYW5lbEVudGVyOiBmdW5jdGlvbiBvbkRhdGVQYW5lbEVudGVyKCkge1xuXHQgICAgaWYgKHRoaXMuaGFzU2VsZWN0ZWRWYWx1ZSgpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGhvdmVyVmFsdWU6IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZS5jb25jYXQoKVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uRGF0ZVBhbmVsTGVhdmU6IGZ1bmN0aW9uIG9uRGF0ZVBhbmVsTGVhdmUoKSB7XG5cdCAgICBpZiAodGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogW11cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIGhvdmVyVmFsdWUgPSBfc3RhdGUuaG92ZXJWYWx1ZSxcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3N0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdFxuXHQgICAgdmFyIG5leHRTZWxlY3RlZFZhbHVlID0gdm9pZCAwO1xuXHQgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdFxuXHQgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcblx0ICAgIGlmICghaG92ZXJWYWx1ZVswXSAmJiAhaG92ZXJWYWx1ZVsxXSAmJiB0eXBlID09PSAnYm90aCcpIHtcblx0ICAgICAgbmV4dFNlbGVjdGVkVmFsdWUgPSBbdmFsdWVdO1xuXHQgICAgICBjaGFuZ2VkID0gdHJ1ZTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXJ0Jykge1xuXHQgICAgICB2YXIgZW5kVmFsdWUgPSBzZWxlY3RlZFZhbHVlWzFdO1xuXHQgICAgICBpZiAoIWVuZFZhbHVlIHx8IHRoaXMuY29tcGFyZShlbmRWYWx1ZSwgdmFsdWUpIDwgMCkge1xuXHQgICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZSwgZW5kVmFsdWVdO1xuXHQgICAgICB9XG5cdCAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB2b2lkIDA7XG5cdCAgICAgIHN0YXJ0VmFsdWUgPSB0eXBlID09PSAnZW5kJyA/IHNlbGVjdGVkVmFsdWVbMF0gOiBob3ZlclZhbHVlWzBdO1xuXHQgICAgICBpZiAoc3RhcnRWYWx1ZSAmJiB0aGlzLmNvbXBhcmUoc3RhcnRWYWx1ZSwgdmFsdWUpIDw9IDApIHtcblx0ICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFtzdGFydFZhbHVlLCB2YWx1ZV07XG5cdCAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbmV4dFNlbGVjdGVkVmFsdWUgPSBbdmFsdWVdO1xuXHQgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNoYW5nZWQpIHtcblx0ICAgICAgdGhpcy5maXJlU2VsZWN0VmFsdWVDaGFuZ2UobmV4dFNlbGVjdGVkVmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25EYXlIb3ZlcjogZnVuY3Rpb24gb25EYXlIb3Zlcih2YWx1ZSkge1xuXHQgICAgdmFyIGhvdmVyVmFsdWUgPSB0aGlzLnN0YXRlLmhvdmVyVmFsdWU7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblx0ICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXHRcblx0ICAgIGlmICh0eXBlID09PSAnc3RhcnQnICYmIHNlbGVjdGVkVmFsdWVbMV0pIHtcblx0ICAgICAgaWYgKHRoaXMuY29tcGFyZSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZVsxXSkgPCAwKSB7XG5cdCAgICAgICAgaG92ZXJWYWx1ZSA9IFt2YWx1ZSwgc2VsZWN0ZWRWYWx1ZVsxXV07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaG92ZXJWYWx1ZSA9IFt2YWx1ZV07XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VuZCcgJiYgc2VsZWN0ZWRWYWx1ZVswXSkge1xuXHQgICAgICBpZiAodGhpcy5jb21wYXJlKHZhbHVlLCBzZWxlY3RlZFZhbHVlWzBdKSA+IDApIHtcblx0ICAgICAgICBob3ZlclZhbHVlID0gW3NlbGVjdGVkVmFsdWVbMF0sIHZhbHVlXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBob3ZlclZhbHVlID0gW107XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICghaG92ZXJWYWx1ZVswXSB8fCB0aGlzLmNvbXBhcmUodmFsdWUsIGhvdmVyVmFsdWVbMF0pIDwgMCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBob3ZlclZhbHVlWzFdID0gdmFsdWU7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblRvZGF5OiBmdW5jdGlvbiBvblRvZGF5KCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHZhbHVlOiAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKSh0aGlzLnN0YXRlLnZhbHVlKVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBvbk9wZW5UaW1lUGlja2VyOiBmdW5jdGlvbiBvbk9wZW5UaW1lUGlja2VyKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dUaW1lUGlja2VyOiB0cnVlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uQ2xvc2VUaW1lUGlja2VyOiBmdW5jdGlvbiBvbkNsb3NlVGltZVBpY2tlcigpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93VGltZVBpY2tlcjogZmFsc2Vcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgb25PazogZnVuY3Rpb24gb25PaygpIHtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHRcblx0ICAgIGlmICh0aGlzLmlzQWxsb3dlZERhdGVBbmRUaW1lKHNlbGVjdGVkVmFsdWUpKSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25Payh0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25TdGFydElucHV0U2VsZWN0OiBmdW5jdGlvbiBvblN0YXJ0SW5wdXRTZWxlY3QoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgb2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ3MgPSBbJ2xlZnQnXS5jb25jYXQob2FyZ3MpO1xuXHQgICAgcmV0dXJuIG9uSW5wdXRTZWxlY3QuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgfSxcblx0ICBvbkVuZElucHV0U2VsZWN0OiBmdW5jdGlvbiBvbkVuZElucHV0U2VsZWN0KCkge1xuXHQgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBvYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICAgIG9hcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGFyZ3MgPSBbJ3JpZ2h0J10uY29uY2F0KG9hcmdzKTtcblx0ICAgIHJldHVybiBvbklucHV0U2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgIH0sXG5cdCAgb25TdGFydFZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblN0YXJ0VmFsdWVDaGFuZ2UoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcblx0ICAgICAgb2FyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYXJncyA9IFsnbGVmdCddLmNvbmNhdChvYXJncyk7XG5cdCAgICByZXR1cm4gb25WYWx1ZUNoYW5nZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9LFxuXHQgIG9uRW5kVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uRW5kVmFsdWVDaGFuZ2UoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0ICAgICAgb2FyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYXJncyA9IFsncmlnaHQnXS5jb25jYXQob2FyZ3MpO1xuXHQgICAgcmV0dXJuIG9uVmFsdWVDaGFuZ2UuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgfSxcblx0ICBnZXRTdGFydFZhbHVlOiBmdW5jdGlvbiBnZXRTdGFydFZhbHVlKCkge1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHQgICAgLy8ga2VlcCBzZWxlY3RlZFRpbWUgd2hlbiBzZWxlY3QgZGF0ZVxuXHQgICAgaWYgKHNlbGVjdGVkVmFsdWVbMF0gJiYgdGhpcy5wcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgIHZhbHVlID0gdmFsdWUuY2xvbmUoKTtcblx0ICAgICAgKDAsIF91dGlsLnN5bmNUaW1lKShzZWxlY3RlZFZhbHVlWzBdLCB2YWx1ZSk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5zaG93VGltZVBpY2tlciAmJiBzZWxlY3RlZFZhbHVlWzBdKSB7XG5cdCAgICAgIHJldHVybiBzZWxlY3RlZFZhbHVlWzBdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHQgIH0sXG5cdCAgZ2V0RW5kVmFsdWU6IGZ1bmN0aW9uIGdldEVuZFZhbHVlKCkge1xuXHQgICAgdmFyIGVuZFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgICAgZW5kVmFsdWUuYWRkKDEsICdtb250aHMnKTtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHQgICAgLy8ga2VlcCBzZWxlY3RlZFRpbWUgd2hlbiBzZWxlY3QgZGF0ZVxuXHQgICAgaWYgKHNlbGVjdGVkVmFsdWVbMV0gJiYgdGhpcy5wcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgICgwLCBfdXRpbC5zeW5jVGltZSkoc2VsZWN0ZWRWYWx1ZVsxXSwgZW5kVmFsdWUpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuc3RhdGUuc2hvd1RpbWVQaWNrZXIpIHtcblx0ICAgICAgcmV0dXJuIHNlbGVjdGVkVmFsdWVbMV0gPyBzZWxlY3RlZFZhbHVlWzFdIDogdGhpcy5nZXRTdGFydFZhbHVlKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZW5kVmFsdWU7XG5cdCAgfSxcblx0XG5cdCAgLy8gZ2V0IGRpc2FibGVkIGhvdXJzIGZvciBzZWNvbmQgcGlja2VyXG5cdCAgZ2V0RW5kRGlzYWJsZVRpbWU6IGZ1bmN0aW9uIGdldEVuZERpc2FibGVUaW1lKCkge1xuXHQgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfc3RhdGUyLnNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgdmFsdWUgPSBfc3RhdGUyLnZhbHVlO1xuXHRcblx0ICAgIHZhciBzdGFydFZhbHVlID0gc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3RlZFZhbHVlWzBdIHx8IHZhbHVlLmNsb25lKCk7XG5cdCAgICAvLyBpZiBzdGFydFRpbWUgYW5kIGVuZFRpbWUgaXMgc2FtZSBkYXkuLlxuXHQgICAgLy8gdGhlIHNlY29uZCB0aW1lIHBpY2tlciB3aWxsIG5vdCBhYmxlIHRvIHBpY2sgdGltZSBiZWZvcmUgZmlyc3QgdGltZSBwaWNrZXJcblx0ICAgIGlmICghc2VsZWN0ZWRWYWx1ZVsxXSB8fCBzdGFydFZhbHVlLmlzU2FtZShzZWxlY3RlZFZhbHVlWzFdLCAnZGF5JykpIHtcblx0ICAgICAgdmFyIGhvdXJzID0gc3RhcnRWYWx1ZS5ob3VyKCk7XG5cdCAgICAgIHZhciBtaW51dGVzID0gc3RhcnRWYWx1ZS5taW51dGUoKTtcblx0ICAgICAgdmFyIHNlY29uZCA9IHN0YXJ0VmFsdWUuc2Vjb25kKCk7XG5cdCAgICAgIHZhciBfZGlzYWJsZWRIb3VycyA9IGdlbmVyYXRlT3B0aW9ucyhob3Vycyk7XG5cdCAgICAgIHZhciBfZGlzYWJsZWRNaW51dGVzID0gZ2VuZXJhdGVPcHRpb25zKG1pbnV0ZXMpO1xuXHQgICAgICB2YXIgX2Rpc2FibGVkU2Vjb25kcyA9IGdlbmVyYXRlT3B0aW9ucyhzZWNvbmQpO1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIGRpc2FibGVkSG91cnM6IGZ1bmN0aW9uIGRpc2FibGVkSG91cnMoKSB7XG5cdCAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkSG91cnM7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBkaXNhYmxlZE1pbnV0ZXM6IGZ1bmN0aW9uIGRpc2FibGVkTWludXRlcyhob3VyKSB7XG5cdCAgICAgICAgICBpZiAoaG91ciA9PT0gaG91cnMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9kaXNhYmxlZE1pbnV0ZXM7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gW107XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBkaXNhYmxlZFNlY29uZHM6IGZ1bmN0aW9uIGRpc2FibGVkU2Vjb25kcyhob3VyLCBtaW51dGUpIHtcblx0ICAgICAgICAgIGlmIChob3VyID09PSBob3VycyAmJiBtaW51dGUgPT09IG1pbnV0ZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9kaXNhYmxlZFNlY29uZHM7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gW107XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfSxcblx0ICBpc0FsbG93ZWREYXRlQW5kVGltZTogZnVuY3Rpb24gaXNBbGxvd2VkRGF0ZUFuZFRpbWUoc2VsZWN0ZWRWYWx1ZSkge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbC5pc0FsbG93ZWREYXRlKShzZWxlY3RlZFZhbHVlWzBdLCB0aGlzLnByb3BzLmRpc2FibGVkRGF0ZSwgdGhpcy5kaXNhYmxlZFN0YXJ0VGltZSkgJiYgKDAsIF91dGlsLmlzQWxsb3dlZERhdGUpKHNlbGVjdGVkVmFsdWVbMV0sIHRoaXMucHJvcHMuZGlzYWJsZWREYXRlLCB0aGlzLmRpc2FibGVkRW5kVGltZSk7XG5cdCAgfSxcblx0ICBoYXNTZWxlY3RlZFZhbHVlOiBmdW5jdGlvbiBoYXNTZWxlY3RlZFZhbHVlKCkge1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdFxuXHQgICAgcmV0dXJuICEhc2VsZWN0ZWRWYWx1ZVsxXSAmJiAhIXNlbGVjdGVkVmFsdWVbMF07XG5cdCAgfSxcblx0ICBjb21wYXJlOiBmdW5jdGlvbiBjb21wYXJlKHYxLCB2Mikge1xuXHQgICAgaWYgKHRoaXMucHJvcHMudGltZVBpY2tlcikge1xuXHQgICAgICByZXR1cm4gdjEuZGlmZih2Mik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdjEuZGlmZih2MiwgJ2RheXMnKTtcblx0ICB9LFxuXHQgIGZpcmVTZWxlY3RWYWx1ZUNoYW5nZTogZnVuY3Rpb24gZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUsIGRpcmVjdCkge1xuXHQgICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8g5bCa5pyq6YCJ5oup6L+H5pe26Ze077yM55u05o6l6L6T5YWl55qE6K+dXG5cdCAgICBpZiAoIXRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZVswXSB8fCAhdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlWzFdKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgdmFsdWU6IHNlbGVjdGVkVmFsdWVbMF0gfHwgZ2V0Tm93KClcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHNlbGVjdGVkVmFsdWVbMF0gJiYgIXNlbGVjdGVkVmFsdWVbMV0pIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogc2VsZWN0ZWRWYWx1ZS5jb25jYXQoKVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICBpZiAoZGlyZWN0IHx8IHNlbGVjdGVkVmFsdWVbMF0gJiYgc2VsZWN0ZWRWYWx1ZVsxXSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBob3ZlclZhbHVlOiBbXVxuXHQgICAgICB9KTtcblx0ICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdChzZWxlY3RlZFZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGZpcmVWYWx1ZUNoYW5nZTogZnVuY3Rpb24gZmlyZVZhbHVlQ2hhbmdlKHZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICB0aGlzLmZpcmVTZWxlY3RWYWx1ZUNoYW5nZShbXSwgdHJ1ZSk7XG5cdCAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcblx0ICB9LFxuXHQgIGRpc2FibGVkU3RhcnRUaW1lOiBmdW5jdGlvbiBkaXNhYmxlZFN0YXJ0VGltZSh0aW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlZFRpbWUodGltZSwgJ3N0YXJ0Jyk7XG5cdCAgfSxcblx0ICBkaXNhYmxlZEVuZFRpbWU6IGZ1bmN0aW9uIGRpc2FibGVkRW5kVGltZSh0aW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlZFRpbWUodGltZSwgJ2VuZCcpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZSwgX2NsYXNzbmFtZXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgc2hvd1RpbWVQaWNrZXIgPSBzdGF0ZS5zaG93VGltZVBpY2tlcjtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgZGF0ZUlucHV0UGxhY2Vob2xkZXIgPSBwcm9wcy5kYXRlSW5wdXRQbGFjZWhvbGRlcixcblx0ICAgICAgICB0aW1lUGlja2VyID0gcHJvcHMudGltZVBpY2tlcixcblx0ICAgICAgICBzaG93T2sgPSBwcm9wcy5zaG93T2ssXG5cdCAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHNob3dDbGVhciA9IHByb3BzLnNob3dDbGVhcixcblx0ICAgICAgICBzaG93VG9kYXkgPSBwcm9wcy5zaG93VG9kYXksXG5cdCAgICAgICAgdHlwZSA9IHByb3BzLnR5cGU7XG5cdCAgICB2YXIgaG92ZXJWYWx1ZSA9IHN0YXRlLmhvdmVyVmFsdWUsXG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IChfY2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLWhpZGRlbicsICFwcm9wcy52aXNpYmxlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXJhbmdlJywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy1zaG93LXRpbWUtcGlja2VyJywgc2hvd1RpbWVQaWNrZXIpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctd2Vlay1udW1iZXInLCBwcm9wcy5zaG93V2Vla051bWJlciksIF9jbGFzc05hbWUpO1xuXHQgICAgdmFyIGNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lKTtcblx0ICAgIHZhciBuZXdQcm9wcyA9IHtcblx0ICAgICAgc2VsZWN0ZWRWYWx1ZTogc3RhdGUuc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QsXG5cdCAgICAgIG9uRGF5SG92ZXI6IHR5cGUgPT09ICdzdGFydCcgJiYgc2VsZWN0ZWRWYWx1ZVsxXSB8fCB0eXBlID09PSAnZW5kJyAmJiBzZWxlY3RlZFZhbHVlWzBdIHx8ICEhaG92ZXJWYWx1ZS5sZW5ndGggPyB0aGlzLm9uRGF5SG92ZXIgOiB1bmRlZmluZWRcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIHBsYWNlaG9sZGVyMSA9IHZvaWQgMDtcblx0ICAgIHZhciBwbGFjZWhvbGRlcjIgPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKGRhdGVJbnB1dFBsYWNlaG9sZGVyKSB7XG5cdCAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGVJbnB1dFBsYWNlaG9sZGVyKSkge1xuXHQgICAgICAgIHZhciBfZGF0ZUlucHV0UGxhY2Vob2xkZXIgPSAoMCwgX3NsaWNlZFRvQXJyYXkzW1wiZGVmYXVsdFwiXSkoZGF0ZUlucHV0UGxhY2Vob2xkZXIsIDIpO1xuXHRcblx0ICAgICAgICBwbGFjZWhvbGRlcjEgPSBfZGF0ZUlucHV0UGxhY2Vob2xkZXJbMF07XG5cdCAgICAgICAgcGxhY2Vob2xkZXIyID0gX2RhdGVJbnB1dFBsYWNlaG9sZGVyWzFdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHBsYWNlaG9sZGVyMSA9IHBsYWNlaG9sZGVyMiA9IGRhdGVJbnB1dFBsYWNlaG9sZGVyO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgc2hvd09rQnV0dG9uID0gc2hvd09rID09PSB0cnVlIHx8IHNob3dPayAhPT0gZmFsc2UgJiYgISF0aW1lUGlja2VyO1xuXHQgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKSgoX2NsYXNzbmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1mb290ZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1yYW5nZS1ib3R0b20nLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1mb290ZXItc2hvdy1vaycsIHNob3dPa0J1dHRvbiksIF9jbGFzc25hbWVzKSk7XG5cdFxuXHQgICAgdmFyIHN0YXJ0VmFsdWUgPSB0aGlzLmdldFN0YXJ0VmFsdWUoKTtcblx0ICAgIHZhciBlbmRWYWx1ZSA9IHRoaXMuZ2V0RW5kVmFsdWUoKTtcblx0ICAgIHZhciB0b2RheVRpbWUgPSAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKShzdGFydFZhbHVlKTtcblx0ICAgIHZhciB0aGlzTW9udGggPSB0b2RheVRpbWUubW9udGgoKTtcblx0ICAgIHZhciB0aGlzWWVhciA9IHRvZGF5VGltZS55ZWFyKCk7XG5cdCAgICB2YXIgaXNUaGlzWWVhciA9IHRoaXNZZWFyID09PSBzdGFydFZhbHVlLnllYXIoKSB8fCB0aGlzLnllYXIgPT09IGVuZFZhbHVlLnllYXIoKTtcblx0ICAgIHZhciBpc1RvZGF5SW5WaWV3ID0gaXNUaGlzWWVhciAmJiAodGhpc01vbnRoID09PSBzdGFydFZhbHVlLm1vbnRoKCkgfHwgdGhpc01vbnRoID09PSBlbmRWYWx1ZS5tb250aCgpKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICByZWY6ICdyb290Jyxcblx0ICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsXG5cdCAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuXHQgICAgICAgIHRhYkluZGV4OiAnMCdcblx0ICAgICAgfSxcblx0ICAgICAgcHJvcHMucmVuZGVyU2lkZWJhcigpLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBhbmVsJyB9LFxuXHQgICAgICAgIHNob3dDbGVhciAmJiBzZWxlY3RlZFZhbHVlWzBdICYmIHNlbGVjdGVkVmFsdWVbMV0gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWJ0bicsXG5cdCAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUuY2xlYXIsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsZWFyXG5cdCAgICAgICAgfSkgOiBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRhdGUtcGFuZWwnLFxuXHQgICAgICAgICAgICBvbk1vdXNlTGVhdmU6IHR5cGUgIT09ICdib3RoJyA/IHRoaXMub25EYXRlUGFuZWxMZWF2ZSA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgb25Nb3VzZUVudGVyOiB0eXBlICE9PSAnYm90aCcgPyB0aGlzLm9uRGF0ZVBhbmVsRW50ZXIgOiB1bmRlZmluZWRcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhclBhcnQyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgbmV3UHJvcHMsIHtcblx0ICAgICAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZSxcblx0ICAgICAgICAgICAgZGlyZWN0aW9uOiAnbGVmdCcsXG5cdCAgICAgICAgICAgIGRpc2FibGVkVGltZTogdGhpcy5kaXNhYmxlZFN0YXJ0VGltZSxcblx0ICAgICAgICAgICAgZm9ybWF0OiB0aGlzLmdldEZvcm1hdCgpLFxuXHQgICAgICAgICAgICB2YWx1ZTogc3RhcnRWYWx1ZSxcblx0ICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyMSxcblx0ICAgICAgICAgICAgb25JbnB1dFNlbGVjdDogdGhpcy5vblN0YXJ0SW5wdXRTZWxlY3QsXG5cdCAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHRoaXMub25TdGFydFZhbHVlQ2hhbmdlLFxuXHQgICAgICAgICAgICB0aW1lUGlja2VyOiB0aW1lUGlja2VyLFxuXHQgICAgICAgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXJcblx0ICAgICAgICAgIH0pKSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtbWlkZGxlJyB9LFxuXHQgICAgICAgICAgICAnfidcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhclBhcnQyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgbmV3UHJvcHMsIHtcblx0ICAgICAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZSxcblx0ICAgICAgICAgICAgZGlyZWN0aW9uOiAncmlnaHQnLFxuXHQgICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0KCksXG5cdCAgICAgICAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZFRpbWU6IHRoaXMuZ2V0RW5kRGlzYWJsZVRpbWUoKSxcblx0ICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyMixcblx0ICAgICAgICAgICAgdmFsdWU6IGVuZFZhbHVlLFxuXHQgICAgICAgICAgICBvbklucHV0U2VsZWN0OiB0aGlzLm9uRW5kSW5wdXRTZWxlY3QsXG5cdCAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHRoaXMub25FbmRWYWx1ZUNoYW5nZSxcblx0ICAgICAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcblx0ICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuXHQgICAgICAgICAgICBkaXNhYmxlZFRpbWU6IHRoaXMuZGlzYWJsZWRFbmRUaW1lXG5cdCAgICAgICAgICB9KSlcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbHMgfSxcblx0ICAgICAgICAgIHByb3BzLnJlbmRlckZvb3RlcigpLFxuXHQgICAgICAgICAgc2hvd1RvZGF5IHx8IHByb3BzLnRpbWVQaWNrZXIgfHwgc2hvd09rQnV0dG9uID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3Rlci1idG4nIH0sXG5cdCAgICAgICAgICAgIHNob3dUb2RheSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RvZGF5QnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgICAgICBkaXNhYmxlZDogaXNUb2RheUluVmlldyxcblx0ICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG5cdCAgICAgICAgICAgICAgb25Ub2RheTogdGhpcy5vblRvZGF5LFxuXHQgICAgICAgICAgICAgIHRleHQ6IGxvY2FsZS5iYWNrVG9Ub2RheVxuXHQgICAgICAgICAgICB9KSkgOiBudWxsLFxuXHQgICAgICAgICAgICBwcm9wcy50aW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckJ1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG5cdCAgICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuXHQgICAgICAgICAgICAgIG9uT3BlblRpbWVQaWNrZXI6IHRoaXMub25PcGVuVGltZVBpY2tlcixcblx0ICAgICAgICAgICAgICBvbkNsb3NlVGltZVBpY2tlcjogdGhpcy5vbkNsb3NlVGltZVBpY2tlcixcblx0ICAgICAgICAgICAgICB0aW1lUGlja2VyRGlzYWJsZWQ6ICF0aGlzLmhhc1NlbGVjdGVkVmFsdWUoKSB8fCBob3ZlclZhbHVlLmxlbmd0aFxuXHQgICAgICAgICAgICB9KSkgOiBudWxsLFxuXHQgICAgICAgICAgICBzaG93T2tCdXR0b24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Pa0J1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG5cdCAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuXHQgICAgICAgICAgICAgIG9uT2s6IHRoaXMub25Payxcblx0ICAgICAgICAgICAgICBva0Rpc2FibGVkOiAhdGhpcy5pc0FsbG93ZWREYXRlQW5kVGltZShzZWxlY3RlZFZhbHVlKSB8fCAhdGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkgfHwgaG92ZXJWYWx1ZS5sZW5ndGhcblx0ICAgICAgICAgICAgfSkpIDogbnVsbFxuXHQgICAgICAgICAgKSA6IG51bGxcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFuZ2VDYWxlbmRhcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDM3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX21hcFNlbGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NCk7XG5cdFxuXHR2YXIgX21hcFNlbGYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwU2VsZik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Ub2RheUJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjU1KTtcblx0XG5cdHZhciBfVG9kYXlCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9kYXlCdXR0b24pO1xuXHRcblx0dmFyIF9Pa0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjUzKTtcblx0XG5cdHZhciBfT2tCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2tCdXR0b24pO1xuXHRcblx0dmFyIF9UaW1lUGlja2VyQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTQpO1xuXHRcblx0dmFyIF9UaW1lUGlja2VyQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXJCdXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ2FsZW5kYXJGb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdDYWxlbmRhckZvb3RlcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNob3dEYXRlSW5wdXQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG5cdCAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHNob3dPazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHJlbmRlckZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHQgIH0sXG5cdFxuXHQgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuXHQgICAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG5cdCAgfSxcblx0ICBnZXRSb290RE9NTm9kZTogZnVuY3Rpb24gZ2V0Um9vdERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgc2hvd09rID0gcHJvcHMuc2hvd09rLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuXHQgICAgICAgIHJlbmRlckZvb3RlciA9IHByb3BzLnJlbmRlckZvb3Rlcjtcblx0XG5cdCAgICB2YXIgZm9vdGVyRWwgPSBudWxsO1xuXHQgICAgdmFyIGV4dHJhRm9vdGVyID0gcmVuZGVyRm9vdGVyKCk7XG5cdCAgICBpZiAocHJvcHMuc2hvd1RvZGF5IHx8IHRpbWVQaWNrZXIgfHwgZXh0cmFGb290ZXIpIHtcblx0ICAgICAgdmFyIF9jeDtcblx0XG5cdCAgICAgIHZhciBub3dFbCA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHByb3BzLnNob3dUb2RheSkge1xuXHQgICAgICAgIG5vd0VsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVG9kYXlCdXR0b24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgeyB2YWx1ZTogdmFsdWUgfSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBva0J0biA9IHZvaWQgMDtcblx0ICAgICAgaWYgKHNob3dPayA9PT0gdHJ1ZSB8fCBzaG93T2sgIT09IGZhbHNlICYmICEhcHJvcHMudGltZVBpY2tlcikge1xuXHQgICAgICAgIG9rQnRuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfT2tCdXR0b24yW1wiZGVmYXVsdFwiXSwgcHJvcHMpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciB0aW1lUGlja2VyQnRuID0gdm9pZCAwO1xuXHQgICAgICBpZiAoISFwcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgICAgdGltZVBpY2tlckJ0biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RpbWVQaWNrZXJCdXR0b24yW1wiZGVmYXVsdFwiXSwgcHJvcHMpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgZm9vdGVyQnRuID0gdm9pZCAwO1xuXHQgICAgICBpZiAobm93RWwgfHwgb2tCdG4pIHtcblx0ICAgICAgICBmb290ZXJCdG4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyLWJ0bicgfSxcblx0ICAgICAgICAgICgwLCBfbWFwU2VsZjJbXCJkZWZhdWx0XCJdKShbbm93RWwsIHRpbWVQaWNrZXJCdG4sIG9rQnRuXSlcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jeCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jeCwgcHJlZml4Q2xzICsgJy1mb290ZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY3gsIHByZWZpeENscyArICctZm9vdGVyLXNob3ctb2snLCBva0J0biksIF9jeCkpO1xuXHQgICAgICBmb290ZXJFbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IGNscyB9LFxuXHQgICAgICAgIGV4dHJhRm9vdGVyLFxuXHQgICAgICAgIGZvb3RlckJ0blxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZvb3RlckVsO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyRm9vdGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9EYXRlQ29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTYpO1xuXHRcblx0dmFyIF9EYXRlQ29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVDb25zdGFudHMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZURheShvbmUsIHR3bykge1xuXHQgIHJldHVybiBvbmUgJiYgdHdvICYmIG9uZS5pc1NhbWUodHdvLCAnZGF5Jyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJlZm9yZUN1cnJlbnRNb250aFllYXIoY3VycmVudCwgdG9kYXkpIHtcblx0ICBpZiAoY3VycmVudC55ZWFyKCkgPCB0b2RheS55ZWFyKCkpIHtcblx0ICAgIHJldHVybiAxO1xuXHQgIH1cblx0ICByZXR1cm4gY3VycmVudC55ZWFyKCkgPT09IHRvZGF5LnllYXIoKSAmJiBjdXJyZW50Lm1vbnRoKCkgPCB0b2RheS5tb250aCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZnRlckN1cnJlbnRNb250aFllYXIoY3VycmVudCwgdG9kYXkpIHtcblx0ICBpZiAoY3VycmVudC55ZWFyKCkgPiB0b2RheS55ZWFyKCkpIHtcblx0ICAgIHJldHVybiAxO1xuXHQgIH1cblx0ICByZXR1cm4gY3VycmVudC55ZWFyKCkgPT09IHRvZGF5LnllYXIoKSAmJiBjdXJyZW50Lm1vbnRoKCkgPiB0b2RheS5tb250aCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRJZEZyb21EYXRlKGRhdGUpIHtcblx0ICByZXR1cm4gJ3JjLWNhbGVuZGFyLScgKyBkYXRlLnllYXIoKSArICctJyArIGRhdGUubW9udGgoKSArICctJyArIGRhdGUuZGF0ZSgpO1xuXHR9XG5cdFxuXHR2YXIgRGF0ZVRCb2R5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnRGF0ZVRCb2R5Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBjb250ZW50UmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkYXRlUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCldKSxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGhvdmVyVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd1dlZWtOdW1iZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgaG92ZXJWYWx1ZTogW11cblx0ICAgIH07XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY29udGVudFJlbmRlciA9IHByb3BzLmNvbnRlbnRSZW5kZXIsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG5cdCAgICAgICAgc2hvd1dlZWtOdW1iZXIgPSBwcm9wcy5zaG93V2Vla051bWJlcixcblx0ICAgICAgICBkYXRlUmVuZGVyID0gcHJvcHMuZGF0ZVJlbmRlcixcblx0ICAgICAgICBkaXNhYmxlZERhdGUgPSBwcm9wcy5kaXNhYmxlZERhdGUsXG5cdCAgICAgICAgaG92ZXJWYWx1ZSA9IHByb3BzLmhvdmVyVmFsdWU7XG5cdFxuXHQgICAgdmFyIGlJbmRleCA9IHZvaWQgMDtcblx0ICAgIHZhciBqSW5kZXggPSB2b2lkIDA7XG5cdCAgICB2YXIgY3VycmVudCA9IHZvaWQgMDtcblx0ICAgIHZhciBkYXRlVGFibGUgPSBbXTtcblx0ICAgIHZhciB0b2RheSA9ICgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHZhbHVlKTtcblx0ICAgIHZhciBjZWxsQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWNlbGwnO1xuXHQgICAgdmFyIHdlZWtOdW1iZXJDZWxsQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLXdlZWstbnVtYmVyLWNlbGwnO1xuXHQgICAgdmFyIGRhdGVDbGFzcyA9IHByZWZpeENscyArICctZGF0ZSc7XG5cdCAgICB2YXIgdG9kYXlDbGFzcyA9IHByZWZpeENscyArICctdG9kYXknO1xuXHQgICAgdmFyIHNlbGVjdGVkQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWRheSc7XG5cdCAgICB2YXIgc2VsZWN0ZWREYXRlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWRhdGUnOyAvLyBkbyBub3QgbW92ZSB3aXRoIG1vdXNlIG9wZXJhdGlvblxuXHQgICAgdmFyIGluUmFuZ2VDbGFzcyA9IHByZWZpeENscyArICctaW4tcmFuZ2UtY2VsbCc7XG5cdCAgICB2YXIgbGFzdE1vbnRoRGF5Q2xhc3MgPSBwcmVmaXhDbHMgKyAnLWxhc3QtbW9udGgtY2VsbCc7XG5cdCAgICB2YXIgbmV4dE1vbnRoRGF5Q2xhc3MgPSBwcmVmaXhDbHMgKyAnLW5leHQtbW9udGgtYnRuLWRheSc7XG5cdCAgICB2YXIgZGlzYWJsZWRDbGFzcyA9IHByZWZpeENscyArICctZGlzYWJsZWQtY2VsbCc7XG5cdCAgICB2YXIgZmlyc3REaXNhYmxlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWRpc2FibGVkLWNlbGwtZmlyc3Qtb2Ytcm93Jztcblx0ICAgIHZhciBsYXN0RGlzYWJsZUNsYXNzID0gcHJlZml4Q2xzICsgJy1kaXNhYmxlZC1jZWxsLWxhc3Qtb2Ytcm93Jztcblx0ICAgIHZhciBtb250aDEgPSB2YWx1ZS5jbG9uZSgpO1xuXHQgICAgbW9udGgxLmRhdGUoMSk7XG5cdCAgICB2YXIgZGF5ID0gbW9udGgxLmRheSgpO1xuXHQgICAgdmFyIGxhc3RNb250aERpZmZEYXkgPSAoZGF5ICsgNyAtIHZhbHVlLmxvY2FsZURhdGEoKS5maXJzdERheU9mV2VlaygpKSAlIDc7XG5cdCAgICAvLyBjYWxjdWxhdGUgbGFzdCBtb250aFxuXHQgICAgdmFyIGxhc3RNb250aDEgPSBtb250aDEuY2xvbmUoKTtcblx0ICAgIGxhc3RNb250aDEuYWRkKDAgLSBsYXN0TW9udGhEaWZmRGF5LCAnZGF5cycpO1xuXHQgICAgdmFyIHBhc3NlZCA9IDA7XG5cdCAgICBmb3IgKGlJbmRleCA9IDA7IGlJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9ST1dfQ09VTlQ7IGlJbmRleCsrKSB7XG5cdCAgICAgIGZvciAoakluZGV4ID0gMDsgakluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVDsgakluZGV4KyspIHtcblx0ICAgICAgICBjdXJyZW50ID0gbGFzdE1vbnRoMTtcblx0ICAgICAgICBpZiAocGFzc2VkKSB7XG5cdCAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jbG9uZSgpO1xuXHQgICAgICAgICAgY3VycmVudC5hZGQocGFzc2VkLCAnZGF5cycpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkYXRlVGFibGUucHVzaChjdXJyZW50KTtcblx0ICAgICAgICBwYXNzZWQrKztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIHRhYmxlSHRtbCA9IFtdO1xuXHQgICAgcGFzc2VkID0gMDtcblx0XG5cdCAgICBmb3IgKGlJbmRleCA9IDA7IGlJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9ST1dfQ09VTlQ7IGlJbmRleCsrKSB7XG5cdCAgICAgIHZhciBpc0N1cnJlbnRXZWVrID0gdm9pZCAwO1xuXHQgICAgICB2YXIgd2Vla051bWJlckNlbGwgPSB2b2lkIDA7XG5cdCAgICAgIHZhciBkYXRlQ2VsbHMgPSBbXTtcblx0ICAgICAgaWYgKHNob3dXZWVrTnVtYmVyKSB7XG5cdCAgICAgICAgd2Vla051bWJlckNlbGwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAga2V5OiBkYXRlVGFibGVbcGFzc2VkXS53ZWVrKCksXG5cdCAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogd2Vla051bWJlckNlbGxDbGFzc1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGRhdGVUYWJsZVtwYXNzZWRdLndlZWsoKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yIChqSW5kZXggPSAwOyBqSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UOyBqSW5kZXgrKykge1xuXHQgICAgICAgIHZhciBuZXh0ID0gbnVsbDtcblx0ICAgICAgICB2YXIgbGFzdCA9IG51bGw7XG5cdCAgICAgICAgY3VycmVudCA9IGRhdGVUYWJsZVtwYXNzZWRdO1xuXHQgICAgICAgIGlmIChqSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UIC0gMSkge1xuXHQgICAgICAgICAgbmV4dCA9IGRhdGVUYWJsZVtwYXNzZWQgKyAxXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGpJbmRleCA+IDApIHtcblx0ICAgICAgICAgIGxhc3QgPSBkYXRlVGFibGVbcGFzc2VkIC0gMV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBjbHMgPSBjZWxsQ2xhc3M7XG5cdCAgICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgdG9kYXkpKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgdG9kYXlDbGFzcztcblx0ICAgICAgICAgIGlzQ3VycmVudFdlZWsgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGlzQmVmb3JlQ3VycmVudE1vbnRoWWVhciA9IGJlZm9yZUN1cnJlbnRNb250aFllYXIoY3VycmVudCwgdmFsdWUpO1xuXHQgICAgICAgIHZhciBpc0FmdGVyQ3VycmVudE1vbnRoWWVhciA9IGFmdGVyQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB2YWx1ZSk7XG5cdFxuXHQgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlICYmIEFycmF5LmlzQXJyYXkoc2VsZWN0ZWRWYWx1ZSkpIHtcblx0ICAgICAgICAgIHZhciByYW5nZVZhbHVlID0gaG92ZXJWYWx1ZS5sZW5ndGggPyBob3ZlclZhbHVlIDogc2VsZWN0ZWRWYWx1ZTtcblx0ICAgICAgICAgIGlmICghaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyICYmICFpc0FmdGVyQ3VycmVudE1vbnRoWWVhcikge1xuXHQgICAgICAgICAgICB2YXIgc3RhcnRWYWx1ZSA9IHJhbmdlVmFsdWVbMF07XG5cdCAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IHJhbmdlVmFsdWVbMV07XG5cdCAgICAgICAgICAgIGlmIChzdGFydFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGlzU2FtZURheShjdXJyZW50LCBzdGFydFZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSAmJiBlbmRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgZW5kVmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmlzQWZ0ZXIoc3RhcnRWYWx1ZSwgJ2RheScpICYmIGN1cnJlbnQuaXNCZWZvcmUoZW5kVmFsdWUsICdkYXknKSkge1xuXHQgICAgICAgICAgICAgICAgY2xzICs9ICcgJyArIGluUmFuZ2VDbGFzcztcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKGlzU2FtZURheShjdXJyZW50LCB2YWx1ZSkpIHtcblx0ICAgICAgICAgIC8vIGtleWJvYXJkIGNoYW5nZSB2YWx1ZSwgaGlnaGxpZ2h0IHdvcmtzXG5cdCAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHNlbGVjdGVkVmFsdWUpKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgc2VsZWN0ZWREYXRlQ2xhc3M7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgbGFzdE1vbnRoRGF5Q2xhc3M7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc0FmdGVyQ3VycmVudE1vbnRoWWVhcikge1xuXHQgICAgICAgICAgY2xzICs9ICcgJyArIG5leHRNb250aERheUNsYXNzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGRpc2FibGVkRGF0ZSkge1xuXHQgICAgICAgICAgaWYgKGRpc2FibGVkRGF0ZShjdXJyZW50LCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFsYXN0IHx8ICFkaXNhYmxlZERhdGUobGFzdCwgdmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgY2xzICs9ICcgJyArIGZpcnN0RGlzYWJsZUNsYXNzO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZiAoIW5leHQgfHwgIWRpc2FibGVkRGF0ZShuZXh0LCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgbGFzdERpc2FibGVDbGFzcztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgc2VsZWN0ZWRDbGFzcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChkaXNhYmxlZCkge1xuXHQgICAgICAgICAgY2xzICs9ICcgJyArIGRpc2FibGVkQ2xhc3M7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgZGF0ZUh0bWwgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKGRhdGVSZW5kZXIpIHtcblx0ICAgICAgICAgIGRhdGVIdG1sID0gZGF0ZVJlbmRlcihjdXJyZW50LCB2YWx1ZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHZhciBjb250ZW50ID0gY29udGVudFJlbmRlciA/IGNvbnRlbnRSZW5kZXIoY3VycmVudCwgdmFsdWUpIDogY3VycmVudC5kYXRlKCk7XG5cdCAgICAgICAgICBkYXRlSHRtbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAga2V5OiBnZXRJZEZyb21EYXRlKGN1cnJlbnQpLFxuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogZGF0ZUNsYXNzLFxuXHQgICAgICAgICAgICAgICdhcmlhLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG5cdCAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiBkaXNhYmxlZFxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBjb250ZW50XG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZGF0ZUNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0ZCcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGtleTogcGFzc2VkLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uU2VsZWN0LmJpbmQobnVsbCwgY3VycmVudCksXG5cdCAgICAgICAgICAgIG9uTW91c2VFbnRlcjogZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBwcm9wcy5vbkRheUhvdmVyICYmIHByb3BzLm9uRGF5SG92ZXIuYmluZChudWxsLCBjdXJyZW50KSB8fCB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG5cdCAgICAgICAgICAgIHRpdGxlOiAoMCwgX3V0aWwuZ2V0VGl0bGVTdHJpbmcpKGN1cnJlbnQpLCBjbGFzc05hbWU6IGNsc1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGRhdGVIdG1sXG5cdCAgICAgICAgKSk7XG5cdFxuXHQgICAgICAgIHBhc3NlZCsrO1xuXHQgICAgICB9XG5cdCAgICAgIHRhYmxlSHRtbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RyJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBrZXk6IGlJbmRleCxcblx0ICAgICAgICAgIHJvbGU6ICdyb3cnLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBpc0N1cnJlbnRXZWVrICYmIHByZWZpeENscyArICctY3VycmVudC13ZWVrJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgd2Vla051bWJlckNlbGwsXG5cdCAgICAgICAgZGF0ZUNlbGxzXG5cdCAgICAgICkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0Ym9keScsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuXHQgICAgICB0YWJsZUh0bWxcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVRCb2R5O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9EYXRlQ29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTYpO1xuXHRcblx0dmFyIF9EYXRlQ29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVDb25zdGFudHMpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBEYXRlVEhlYWQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRGF0ZVRIZWFkLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gRGF0ZVRIZWFkKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEYXRlVEhlYWQpO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgRGF0ZVRIZWFkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cdCAgICB2YXIgbG9jYWxlRGF0YSA9IHZhbHVlLmxvY2FsZURhdGEoKTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgdmVyeVNob3J0V2Vla2RheXMgPSBbXTtcblx0ICAgIHZhciB3ZWVrRGF5cyA9IFtdO1xuXHQgICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRGF0YS5maXJzdERheU9mV2VlaygpO1xuXHQgICAgdmFyIHNob3dXZWVrTnVtYmVyRWwgPSB2b2lkIDA7XG5cdCAgICB2YXIgbm93ID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcblx0ICAgIGZvciAodmFyIGRhdGVDb2xJbmRleCA9IDA7IGRhdGVDb2xJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQ7IGRhdGVDb2xJbmRleCsrKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IChmaXJzdERheU9mV2VlayArIGRhdGVDb2xJbmRleCkgJSBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UO1xuXHQgICAgICBub3cuZGF5KGluZGV4KTtcblx0ICAgICAgdmVyeVNob3J0V2Vla2RheXNbZGF0ZUNvbEluZGV4XSA9IGxvY2FsZURhdGEud2Vla2RheXNNaW4obm93KTtcblx0ICAgICAgd2Vla0RheXNbZGF0ZUNvbEluZGV4XSA9IGxvY2FsZURhdGEud2Vla2RheXNTaG9ydChub3cpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9wcy5zaG93V2Vla051bWJlcikge1xuXHQgICAgICBzaG93V2Vla051bWJlckVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGgnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHJvbGU6ICdjb2x1bW5oZWFkZXInLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXIgJyArIHByZWZpeENscyArICctd2Vlay1udW1iZXItaGVhZGVyJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXItaW5uZXInIH0sXG5cdCAgICAgICAgICAneCdcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICB2YXIgd2Vla0RheXNFbHMgPSB3ZWVrRGF5cy5tYXAoZnVuY3Rpb24gKGRheSwgeGluZGV4KSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0aCcsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAga2V5OiB4aW5kZXgsXG5cdCAgICAgICAgICByb2xlOiAnY29sdW1uaGVhZGVyJyxcblx0ICAgICAgICAgIHRpdGxlOiBkYXksXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLWhlYWRlcidcblx0ICAgICAgICB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyLWlubmVyJyB9LFxuXHQgICAgICAgICAgdmVyeVNob3J0V2Vla2RheXNbeGluZGV4XVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0aGVhZCcsXG5cdCAgICAgIG51bGwsXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RyJyxcblx0ICAgICAgICB7IHJvbGU6ICdyb3cnIH0sXG5cdCAgICAgICAgc2hvd1dlZWtOdW1iZXJFbCxcblx0ICAgICAgICB3ZWVrRGF5c0Vsc1xuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBEYXRlVEhlYWQ7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVRIZWFkO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJPVyA9IDQ7XG5cdHZhciBDT0wgPSAzO1xuXHRcblx0XG5cdGZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmFkZChkaXJlY3Rpb24sICd5ZWFycycpO1xuXHQgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgdmFsdWU6IG5leHRcblx0ICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hvb3NlRGVjYWRlKHllYXIsIGV2ZW50KSB7XG5cdCAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG5cdCAgbmV4dC55ZWFyKHllYXIpO1xuXHQgIG5leHQubW9udGgodGhpcy5zdGF0ZS52YWx1ZS5tb250aCgpKTtcblx0ICB0aGlzLnByb3BzLm9uU2VsZWN0KG5leHQpO1xuXHQgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0XG5cdHZhciBEZWNhZGVQYW5lbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEZWNhZGVQYW5lbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIERlY2FkZVBhbmVsKHByb3BzKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERlY2FkZVBhbmVsKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWVcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gYmluZCBtZXRob2RzXG5cdCAgICBfdGhpcy5wcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1kZWNhZGUtcGFuZWwnO1xuXHQgICAgX3RoaXMubmV4dENlbnR1cnkgPSBnb1llYXIuYmluZChfdGhpcywgMTAwKTtcblx0ICAgIF90aGlzLnByZXZpb3VzQ2VudHVyeSA9IGdvWWVhci5iaW5kKF90aGlzLCAtMTAwKTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIERlY2FkZVBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIGxvY2FsZSA9IHRoaXMucHJvcHMubG9jYWxlO1xuXHQgICAgdmFyIGN1cnJlbnRZZWFyID0gdmFsdWUueWVhcigpO1xuXHQgICAgdmFyIHN0YXJ0WWVhciA9IHBhcnNlSW50KGN1cnJlbnRZZWFyIC8gMTAwLCAxMCkgKiAxMDA7XG5cdCAgICB2YXIgcHJlWWVhciA9IHN0YXJ0WWVhciAtIDEwO1xuXHQgICAgdmFyIGVuZFllYXIgPSBzdGFydFllYXIgKyA5OTtcblx0ICAgIHZhciBkZWNhZGVzID0gW107XG5cdCAgICB2YXIgaW5kZXggPSAwO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJlZml4Q2xzO1xuXHRcblx0ICAgIGZvciAodmFyIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBST1c7IHJvd0luZGV4KyspIHtcblx0ICAgICAgZGVjYWRlc1tyb3dJbmRleF0gPSBbXTtcblx0ICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IENPTDsgY29sSW5kZXgrKykge1xuXHQgICAgICAgIHZhciBzdGFydERlY2FkZSA9IHByZVllYXIgKyBpbmRleCAqIDEwO1xuXHQgICAgICAgIHZhciBlbmREZWNhZGUgPSBwcmVZZWFyICsgaW5kZXggKiAxMCArIDk7XG5cdCAgICAgICAgZGVjYWRlc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuXHQgICAgICAgICAgc3RhcnREZWNhZGU6IHN0YXJ0RGVjYWRlLFxuXHQgICAgICAgICAgZW5kRGVjYWRlOiBlbmREZWNhZGVcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGluZGV4Kys7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZGVjYWRlc0VscyA9IGRlY2FkZXMubWFwKGZ1bmN0aW9uIChyb3csIGRlY2FkZUluZGV4KSB7XG5cdCAgICAgIHZhciB0ZHMgPSByb3cubWFwKGZ1bmN0aW9uIChkZWNhZGVEYXRhKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVNYXA7XG5cdFxuXHQgICAgICAgIHZhciBkU3RhcnREZWNhZGUgPSBkZWNhZGVEYXRhLnN0YXJ0RGVjYWRlO1xuXHQgICAgICAgIHZhciBkRW5kRGVjYWRlID0gZGVjYWRlRGF0YS5lbmREZWNhZGU7XG5cdCAgICAgICAgdmFyIGlzTGFzdCA9IGRTdGFydERlY2FkZSA8IHN0YXJ0WWVhcjtcblx0ICAgICAgICB2YXIgaXNOZXh0ID0gZEVuZERlY2FkZSA+IGVuZFllYXI7XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZU1hcCA9IChfY2xhc3NOYW1lTWFwID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1jZWxsJywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1jZWxsJywgZFN0YXJ0RGVjYWRlIDw9IGN1cnJlbnRZZWFyICYmIGN1cnJlbnRZZWFyIDw9IGRFbmREZWNhZGUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctbGFzdC1jZW50dXJ5LWNlbGwnLCBpc0xhc3QpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctbmV4dC1jZW50dXJ5LWNlbGwnLCBpc05leHQpLCBfY2xhc3NOYW1lTWFwKTtcblx0ICAgICAgICB2YXIgY29udGVudCA9IGRTdGFydERlY2FkZSArICctJyArIGRFbmREZWNhZGU7XG5cdCAgICAgICAgdmFyIGNsaWNrSGFuZGxlciA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoaXNMYXN0KSB7XG5cdCAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIucHJldmlvdXNDZW50dXJ5O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNOZXh0KSB7XG5cdCAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIubmV4dENlbnR1cnk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGNsaWNrSGFuZGxlciA9IGNob29zZURlY2FkZS5iaW5kKF90aGlzMiwgZFN0YXJ0RGVjYWRlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBrZXk6IGRTdGFydERlY2FkZSxcblx0ICAgICAgICAgICAgb25DbGljazogY2xpY2tIYW5kbGVyLFxuXHQgICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRlY2FkZSdcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgY29udGVudFxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndHInLFxuXHQgICAgICAgIHsga2V5OiBkZWNhZGVJbmRleCwgcm9sZTogJ3JvdycgfSxcblx0ICAgICAgICB0ZHNcblx0ICAgICAgKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJlZml4Q2xzIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi1jZW50dXJ5LWJ0bicsXG5cdCAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNDZW50dXJ5LFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c0NlbnR1cnlcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jZW50dXJ5JyB9LFxuXHQgICAgICAgICAgc3RhcnRZZWFyLFxuXHQgICAgICAgICAgJy0nLFxuXHQgICAgICAgICAgZW5kWWVhclxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LWNlbnR1cnktYnRuJyxcblx0ICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5uZXh0Q2VudHVyeSxcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dENlbnR1cnlcblx0ICAgICAgICB9KVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0YWJsZScsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG5cdCAgICAgICAgICAgIGRlY2FkZXNFbHNcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIERlY2FkZVBhbmVsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERlY2FkZVBhbmVsO1xuXHRcblx0XG5cdERlY2FkZVBhbmVsLnByb3BUeXBlcyA9IHtcblx0ICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHJvb3RQcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHREZWNhZGVQYW5lbC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KCkge31cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDM4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICB0b2RheTogJ1RvZGF5Jyxcblx0ICBub3c6ICdOb3cnLFxuXHQgIGJhY2tUb1RvZGF5OiAnQmFjayB0byB0b2RheScsXG5cdCAgb2s6ICdPaycsXG5cdCAgY2xlYXI6ICdDbGVhcicsXG5cdCAgbW9udGg6ICdNb250aCcsXG5cdCAgeWVhcjogJ1llYXInLFxuXHQgIHRpbWVTZWxlY3Q6ICdTZWxlY3QgdGltZScsXG5cdCAgZGF0ZVNlbGVjdDogJ1NlbGVjdCBkYXRlJyxcblx0ICBtb250aFNlbGVjdDogJ0Nob29zZSBhIG1vbnRoJyxcblx0ICB5ZWFyU2VsZWN0OiAnQ2hvb3NlIGEgeWVhcicsXG5cdCAgZGVjYWRlU2VsZWN0OiAnQ2hvb3NlIGEgZGVjYWRlJyxcblx0ICB5ZWFyRm9ybWF0OiAnWVlZWScsXG5cdCAgZGF0ZUZvcm1hdDogJ00vRC9ZWVlZJyxcblx0ICBkYXlGb3JtYXQ6ICdEJyxcblx0ICBkYXRlVGltZUZvcm1hdDogJ00vRC9ZWVlZIEhIOm1tOnNzJyxcblx0ICBtb250aEZvcm1hdDogJ01NTU0nLFxuXHQgIG1vbnRoQmVmb3JlWWVhcjogdHJ1ZSxcblx0ICBwcmV2aW91c01vbnRoOiAnUHJldmlvdXMgbW9udGggKFBhZ2VVcCknLFxuXHQgIG5leHRNb250aDogJ05leHQgbW9udGggKFBhZ2VEb3duKScsXG5cdCAgcHJldmlvdXNZZWFyOiAnTGFzdCB5ZWFyIChDb250cm9sICsgbGVmdCknLFxuXHQgIG5leHRZZWFyOiAnTmV4dCB5ZWFyIChDb250cm9sICsgcmlnaHQpJyxcblx0ICBwcmV2aW91c0RlY2FkZTogJ0xhc3QgZGVjYWRlJyxcblx0ICBuZXh0RGVjYWRlOiAnTmV4dCBkZWNhZGUnLFxuXHQgIHByZXZpb3VzQ2VudHVyeTogJ0xhc3QgY2VudHVyeScsXG5cdCAgbmV4dENlbnR1cnk6ICdOZXh0IGNlbnR1cnknXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzODE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUk9XID0gNDtcblx0dmFyIENPTCA9IDM7XG5cdFxuXHRmdW5jdGlvbiBjaG9vc2VNb250aChtb250aCkge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQubW9udGgobW9udGgpO1xuXHQgIHRoaXMuc2V0QW5kU2VsZWN0VmFsdWUobmV4dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIE1vbnRoVGFibGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTW9udGhUYWJsZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIE1vbnRoVGFibGUocHJvcHMpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTW9udGhUYWJsZSk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICB2YWx1ZTogcHJvcHMudmFsdWVcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBNb250aFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIE1vbnRoVGFibGUucHJvdG90eXBlLnNldEFuZFNlbGVjdFZhbHVlID0gZnVuY3Rpb24gc2V0QW5kU2VsZWN0VmFsdWUodmFsdWUpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgIH0pO1xuXHQgICAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG5cdCAgfTtcblx0XG5cdCAgTW9udGhUYWJsZS5wcm90b3R5cGUubW9udGhzID0gZnVuY3Rpb24gbW9udGhzKCkge1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciBjdXJyZW50ID0gdmFsdWUuY2xvbmUoKTtcblx0ICAgIHZhciBtb250aHMgPSBbXTtcblx0ICAgIHZhciBsb2NhbGVEYXRhID0gdmFsdWUubG9jYWxlRGF0YSgpO1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIGZvciAodmFyIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBST1c7IHJvd0luZGV4KyspIHtcblx0ICAgICAgbW9udGhzW3Jvd0luZGV4XSA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgQ09MOyBjb2xJbmRleCsrKSB7XG5cdCAgICAgICAgY3VycmVudC5tb250aChpbmRleCk7XG5cdCAgICAgICAgdmFyIGNvbnRlbnQgPSBsb2NhbGVEYXRhLm1vbnRoc1Nob3J0KGN1cnJlbnQpO1xuXHQgICAgICAgIG1vbnRoc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuXHQgICAgICAgICAgdmFsdWU6IGluZGV4LFxuXHQgICAgICAgICAgY29udGVudDogY29udGVudCxcblx0ICAgICAgICAgIHRpdGxlOiBjb250ZW50XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpbmRleCsrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbW9udGhzO1xuXHQgIH07XG5cdFxuXHQgIE1vbnRoVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIHRvZGF5ID0gKDAsIF9pbmRleC5nZXRUb2RheVRpbWUpKHZhbHVlKTtcblx0ICAgIHZhciBtb250aHMgPSB0aGlzLm1vbnRocygpO1xuXHQgICAgdmFyIGN1cnJlbnRNb250aCA9IHZhbHVlLm1vbnRoKCk7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICBjb250ZW50UmVuZGVyID0gcHJvcHMuY29udGVudFJlbmRlcixcblx0ICAgICAgICBjZWxsUmVuZGVyID0gcHJvcHMuY2VsbFJlbmRlcjtcblx0XG5cdCAgICB2YXIgbW9udGhzRWxzID0gbW9udGhzLm1hcChmdW5jdGlvbiAobW9udGgsIGluZGV4KSB7XG5cdCAgICAgIHZhciB0ZHMgPSBtb250aC5tYXAoZnVuY3Rpb24gKG1vbnRoRGF0YSkge1xuXHQgICAgICAgIHZhciBfY2xhc3NOYW1lTWFwO1xuXHRcblx0ICAgICAgICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWREYXRlKSB7XG5cdCAgICAgICAgICB2YXIgdGVzdFZhbHVlID0gdmFsdWUuY2xvbmUoKTtcblx0ICAgICAgICAgIHRlc3RWYWx1ZS5tb250aChtb250aERhdGEudmFsdWUpO1xuXHQgICAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZERhdGUodGVzdFZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZU1hcCA9IChfY2xhc3NOYW1lTWFwID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1jZWxsJywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1jZWxsLWRpc2FibGVkJywgZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctc2VsZWN0ZWQtY2VsbCcsIG1vbnRoRGF0YS52YWx1ZSA9PT0gY3VycmVudE1vbnRoKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWN1cnJlbnQtY2VsbCcsIHRvZGF5LnllYXIoKSA9PT0gdmFsdWUueWVhcigpICYmIG1vbnRoRGF0YS52YWx1ZSA9PT0gdG9kYXkubW9udGgoKSksIF9jbGFzc05hbWVNYXApO1xuXHQgICAgICAgIHZhciBjZWxsRWwgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKGNlbGxSZW5kZXIpIHtcblx0ICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgICAgY3VycmVudFZhbHVlLm1vbnRoKG1vbnRoRGF0YS52YWx1ZSk7XG5cdCAgICAgICAgICBjZWxsRWwgPSBjZWxsUmVuZGVyKGN1cnJlbnRWYWx1ZSwgbG9jYWxlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGNvbnRlbnQgPSB2b2lkIDA7XG5cdCAgICAgICAgICBpZiAoY29udGVudFJlbmRlcikge1xuXHQgICAgICAgICAgICB2YXIgX2N1cnJlbnRWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgICAgIF9jdXJyZW50VmFsdWUubW9udGgobW9udGhEYXRhLnZhbHVlKTtcblx0ICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnRSZW5kZXIoX2N1cnJlbnRWYWx1ZSwgbG9jYWxlKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNvbnRlbnQgPSBtb250aERhdGEuY29udGVudDtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGNlbGxFbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbW9udGgnIH0sXG5cdCAgICAgICAgICAgIGNvbnRlbnRcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcblx0ICAgICAgICAgICAga2V5OiBtb250aERhdGEudmFsdWUsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gbnVsbCA6IGNob29zZU1vbnRoLmJpbmQoX3RoaXMyLCBtb250aERhdGEudmFsdWUpLFxuXHQgICAgICAgICAgICB0aXRsZTogbW9udGhEYXRhLnRpdGxlLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgY2VsbEVsXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0cicsXG5cdCAgICAgICAgeyBrZXk6IGluZGV4LCByb2xlOiAncm93JyB9LFxuXHQgICAgICAgIHRkc1xuXHQgICAgICApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0YWJsZScsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcblx0ICAgICAgICBtb250aHNFbHNcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gTW9udGhUYWJsZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdE1vbnRoVGFibGUuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uU2VsZWN0OiBub29wXG5cdH07XG5cdE1vbnRoVGFibGUucHJvcFR5cGVzID0ge1xuXHQgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgY2VsbFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTW9udGhUYWJsZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDM4Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuXHQgIGFkanVzdFg6IDEsXG5cdCAgYWRqdXN0WTogMVxuXHR9O1xuXHRcblx0dmFyIHRhcmdldE9mZnNldCA9IFswLCAwXTtcblx0XG5cdHZhciBwbGFjZW1lbnRzID0ge1xuXHQgIGJvdHRvbUxlZnQ6IHtcblx0ICAgIHBvaW50czogWyd0bCcsICd0bCddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIC0zXSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21SaWdodDoge1xuXHQgICAgcG9pbnRzOiBbJ3RyJywgJ3RyJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgLTNdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIHRvcFJpZ2h0OiB7XG5cdCAgICBwb2ludHM6IFsnYnInLCAnYnInXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAzXSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICB0b3BMZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsnYmwnLCAnYmwnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAzXSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwbGFjZW1lbnRzO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzgzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9DYWxlbmRhckhlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUyKTtcblx0XG5cdHZhciBfQ2FsZW5kYXJIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJIZWFkZXIpO1xuXHRcblx0dmFyIF9EYXRlVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1OCk7XG5cdFxuXHR2YXIgX0RhdGVUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlVGFibGUpO1xuXHRcblx0dmFyIF9EYXRlSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nyk7XG5cdFxuXHR2YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXHRcblx0dmFyIF9pbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oNTgpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ2FsZW5kYXJQYXJ0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnQ2FsZW5kYXJQYXJ0Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkaXJlY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGhvdmVyVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd1RpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25JbnB1dFNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgdGltZVBpY2tlckRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuXHQgICAgICAgIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcblx0ICAgICAgICBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyLFxuXHQgICAgICAgIGRpc2FibGVkRGF0ZSA9IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICB0aW1lUGlja2VyID0gcHJvcHMudGltZVBpY2tlcixcblx0ICAgICAgICBkaXNhYmxlZFRpbWUgPSBwcm9wcy5kaXNhYmxlZFRpbWUsXG5cdCAgICAgICAgdGltZVBpY2tlckRpc2FibGVkVGltZSA9IHByb3BzLnRpbWVQaWNrZXJEaXNhYmxlZFRpbWUsXG5cdCAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBwcm9wcy5zaG93VGltZVBpY2tlcixcblx0ICAgICAgICBob3ZlclZhbHVlID0gcHJvcHMuaG92ZXJWYWx1ZSxcblx0ICAgICAgICBvbklucHV0U2VsZWN0ID0gcHJvcHMub25JbnB1dFNlbGVjdDtcblx0XG5cdCAgICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gc2hvd1RpbWVQaWNrZXIgJiYgZGlzYWJsZWRUaW1lICYmIHRpbWVQaWNrZXIgPyAoMCwgX2luZGV4LmdldFRpbWVDb25maWcpKHNlbGVjdGVkVmFsdWUsIGRpc2FibGVkVGltZSkgOiBudWxsO1xuXHQgICAgdmFyIHJhbmdlQ2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1yYW5nZSc7XG5cdCAgICB2YXIgbmV3UHJvcHMgPSB7XG5cdCAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXJcblx0ICAgIH07XG5cdCAgICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IDAgOiAxO1xuXHQgICAgdmFyIHRpbWVQaWNrZXJFbGUgPSBzaG93VGltZVBpY2tlciAmJiB0aW1lUGlja2VyICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudCh0aW1lUGlja2VyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICBzaG93SG91cjogdHJ1ZSxcblx0ICAgICAgc2hvd01pbnV0ZTogdHJ1ZSxcblx0ICAgICAgc2hvd1NlY29uZDogdHJ1ZVxuXHQgICAgfSwgdGltZVBpY2tlci5wcm9wcywgZGlzYWJsZWRUaW1lQ29uZmlnLCB0aW1lUGlja2VyRGlzYWJsZWRUaW1lLCB7XG5cdCAgICAgIG9uQ2hhbmdlOiBvbklucHV0U2VsZWN0LFxuXHQgICAgICBkZWZhdWx0T3BlblZhbHVlOiB2YWx1ZSxcblx0ICAgICAgdmFsdWU6IHNlbGVjdGVkVmFsdWVbaW5kZXhdXG5cdCAgICB9KSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiByYW5nZUNsYXNzTmFtZSArICctcGFydCAnICsgcmFuZ2VDbGFzc05hbWUgKyAnLScgKyBkaXJlY3Rpb24gfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZUlucHV0MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcblx0ICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICB0aW1lUGlja2VyOiB0aW1lUGlja2VyLFxuXHQgICAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuXHQgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcblx0ICAgICAgICBkaXNhYmxlZFRpbWU6IGRpc2FibGVkVGltZSxcblx0ICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgc2hvd0NsZWFyOiBmYWxzZSxcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlW2luZGV4XSxcblx0ICAgICAgICBvbkNoYW5nZTogb25JbnB1dFNlbGVjdFxuXHQgICAgICB9KSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IHN0eWxlOiB7IG91dGxpbmU6ICdub25lJyB9IH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJIZWFkZXIyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBuZXdQcm9wcywge1xuXHQgICAgICAgICAgZW5hYmxlTmV4dDogZGlyZWN0aW9uID09PSAncmlnaHQnLFxuXHQgICAgICAgICAgZW5hYmxlUHJldjogZGlyZWN0aW9uID09PSAnbGVmdCcsXG5cdCAgICAgICAgICBvblZhbHVlQ2hhbmdlOiBwcm9wcy5vblZhbHVlQ2hhbmdlXG5cdCAgICAgICAgfSkpLFxuXHQgICAgICAgIHNob3dUaW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXInIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXItcGFuZWwnIH0sXG5cdCAgICAgICAgICAgIHRpbWVQaWNrZXJFbGVcblx0ICAgICAgICAgIClcblx0ICAgICAgICApIDogbnVsbCxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZVRhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgbmV3UHJvcHMsIHtcblx0ICAgICAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZSxcblx0ICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICAgICAgZGF0ZVJlbmRlcjogcHJvcHMuZGF0ZVJlbmRlcixcblx0ICAgICAgICAgICAgb25TZWxlY3Q6IHByb3BzLm9uU2VsZWN0LFxuXHQgICAgICAgICAgICBvbkRheUhvdmVyOiBwcm9wcy5vbkRheUhvdmVyLFxuXHQgICAgICAgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcblx0ICAgICAgICAgICAgc2hvd1dlZWtOdW1iZXI6IHByb3BzLnNob3dXZWVrTnVtYmVyXG5cdCAgICAgICAgICB9KSlcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJQYXJ0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzg0OlxuMTA0MyxcblxuLyoqKi8gMzg1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4OCk7XG5cdFxuXHR2YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZm9ybWF0T3B0aW9uID0gZnVuY3Rpb24gZm9ybWF0T3B0aW9uKG9wdGlvbiwgZGlzYWJsZWRPcHRpb25zKSB7XG5cdCAgdmFyIHZhbHVlID0gJycgKyBvcHRpb247XG5cdCAgaWYgKG9wdGlvbiA8IDEwKSB7XG5cdCAgICB2YWx1ZSA9ICcwJyArIG9wdGlvbjtcblx0ICB9XG5cdFxuXHQgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xuXHQgIGlmIChkaXNhYmxlZE9wdGlvbnMgJiYgZGlzYWJsZWRPcHRpb25zLmluZGV4T2Yob3B0aW9uKSA+PSAwKSB7XG5cdCAgICBkaXNhYmxlZCA9IHRydWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgZGlzYWJsZWQ6IGRpc2FibGVkXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBDb21ib2JveCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0NvbWJvYm94Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGVmYXVsdE9wZW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHNob3dIb3VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93TWludXRlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93U2Vjb25kOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBob3VyT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIG1pbnV0ZU9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBzZWNvbmRPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgZGlzYWJsZWRIb3VyczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWRNaW51dGVzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZFNlY29uZHM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBvbkl0ZW1DaGFuZ2U6IGZ1bmN0aW9uIG9uSXRlbUNoYW5nZSh0eXBlLCBpdGVtVmFsdWUpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlLFxuXHQgICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHMuZGVmYXVsdE9wZW5WYWx1ZTtcblx0XG5cdCAgICB2YXIgdmFsdWUgPSAodGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlKS5jbG9uZSgpO1xuXHQgICAgaWYgKHR5cGUgPT09ICdob3VyJykge1xuXHQgICAgICB2YWx1ZS5ob3VyKGl0ZW1WYWx1ZSk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaW51dGUnKSB7XG5cdCAgICAgIHZhbHVlLm1pbnV0ZShpdGVtVmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWUuc2Vjb25kKGl0ZW1WYWx1ZSk7XG5cdCAgICB9XG5cdCAgICBvbkNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBvbkVudGVyU2VsZWN0UGFuZWw6IGZ1bmN0aW9uIG9uRW50ZXJTZWxlY3RQYW5lbChyYW5nZSkge1xuXHQgICAgdGhpcy5wcm9wcy5vbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZShyYW5nZSk7XG5cdCAgfSxcblx0ICBnZXRIb3VyU2VsZWN0OiBmdW5jdGlvbiBnZXRIb3VyU2VsZWN0KGhvdXIpIHtcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcblx0ICAgICAgICBob3VyT3B0aW9ucyA9IF9wcm9wczIuaG91ck9wdGlvbnMsXG5cdCAgICAgICAgZGlzYWJsZWRIb3VycyA9IF9wcm9wczIuZGlzYWJsZWRIb3Vycyxcblx0ICAgICAgICBzaG93SG91ciA9IF9wcm9wczIuc2hvd0hvdXI7XG5cdFxuXHQgICAgaWYgKCFzaG93SG91cikge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZEhvdXJzKCk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICBvcHRpb25zOiBob3VyT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpO1xuXHQgICAgICB9KSxcblx0ICAgICAgc2VsZWN0ZWRJbmRleDogaG91ck9wdGlvbnMuaW5kZXhPZihob3VyKSxcblx0ICAgICAgdHlwZTogJ2hvdXInLFxuXHQgICAgICBvblNlbGVjdDogdGhpcy5vbkl0ZW1DaGFuZ2UsXG5cdCAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbkVudGVyU2VsZWN0UGFuZWwuYmluZCh0aGlzLCAnaG91cicpXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldE1pbnV0ZVNlbGVjdDogZnVuY3Rpb24gZ2V0TWludXRlU2VsZWN0KG1pbnV0ZSkge1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuXHQgICAgICAgIG1pbnV0ZU9wdGlvbnMgPSBfcHJvcHMzLm1pbnV0ZU9wdGlvbnMsXG5cdCAgICAgICAgZGlzYWJsZWRNaW51dGVzID0gX3Byb3BzMy5kaXNhYmxlZE1pbnV0ZXMsXG5cdCAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZSA9IF9wcm9wczMuZGVmYXVsdE9wZW5WYWx1ZSxcblx0ICAgICAgICBzaG93TWludXRlID0gX3Byb3BzMy5zaG93TWludXRlO1xuXHRcblx0ICAgIGlmICghc2hvd01pbnV0ZSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgZGVmYXVsdE9wZW5WYWx1ZTtcblx0ICAgIHZhciBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE1pbnV0ZXModmFsdWUuaG91cigpKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIG9wdGlvbnM6IG1pbnV0ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICByZXR1cm4gZm9ybWF0T3B0aW9uKG9wdGlvbiwgZGlzYWJsZWRPcHRpb25zKTtcblx0ICAgICAgfSksXG5cdCAgICAgIHNlbGVjdGVkSW5kZXg6IG1pbnV0ZU9wdGlvbnMuaW5kZXhPZihtaW51dGUpLFxuXHQgICAgICB0eXBlOiAnbWludXRlJyxcblx0ICAgICAgb25TZWxlY3Q6IHRoaXMub25JdGVtQ2hhbmdlLFxuXHQgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25FbnRlclNlbGVjdFBhbmVsLmJpbmQodGhpcywgJ21pbnV0ZScpXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFNlY29uZFNlbGVjdDogZnVuY3Rpb24gZ2V0U2Vjb25kU2VsZWN0KHNlY29uZCkge1xuXHQgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzLFxuXHQgICAgICAgIHNlY29uZE9wdGlvbnMgPSBfcHJvcHM0LnNlY29uZE9wdGlvbnMsXG5cdCAgICAgICAgZGlzYWJsZWRTZWNvbmRzID0gX3Byb3BzNC5kaXNhYmxlZFNlY29uZHMsXG5cdCAgICAgICAgc2hvd1NlY29uZCA9IF9wcm9wczQuc2hvd1NlY29uZCxcblx0ICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzNC5kZWZhdWx0T3BlblZhbHVlO1xuXHRcblx0ICAgIGlmICghc2hvd1NlY29uZCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgZGVmYXVsdE9wZW5WYWx1ZTtcblx0ICAgIHZhciBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZFNlY29uZHModmFsdWUuaG91cigpLCB2YWx1ZS5taW51dGUoKSk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICBvcHRpb25zOiBzZWNvbmRPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE9wdGlvbihvcHRpb24sIGRpc2FibGVkT3B0aW9ucyk7XG5cdCAgICAgIH0pLFxuXHQgICAgICBzZWxlY3RlZEluZGV4OiBzZWNvbmRPcHRpb25zLmluZGV4T2Yoc2Vjb25kKSxcblx0ICAgICAgdHlwZTogJ3NlY29uZCcsXG5cdCAgICAgIG9uU2VsZWN0OiB0aGlzLm9uSXRlbUNoYW5nZSxcblx0ICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uRW50ZXJTZWxlY3RQYW5lbC5iaW5kKHRoaXMsICdzZWNvbmQnKVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM1LnByZWZpeENscyxcblx0ICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzNS5kZWZhdWx0T3BlblZhbHVlO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgZGVmYXVsdE9wZW5WYWx1ZTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29tYm9ib3gnIH0sXG5cdCAgICAgIHRoaXMuZ2V0SG91clNlbGVjdCh2YWx1ZS5ob3VyKCkpLFxuXHQgICAgICB0aGlzLmdldE1pbnV0ZVNlbGVjdCh2YWx1ZS5taW51dGUoKSksXG5cdCAgICAgIHRoaXMuZ2V0U2Vjb25kU2VsZWN0KHZhbHVlLnNlY29uZCgpKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb21ib2JveDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDM4Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgSGVhZGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnSGVhZGVyJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2xlYXJUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGhvdXJPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgbWludXRlT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNlY29uZE9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBkaXNhYmxlZEhvdXJzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZE1pbnV0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRpc2FibGVkU2Vjb25kczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uRXNjOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBhbGxvd0VtcHR5OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkZWZhdWx0T3BlblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGN1cnJlbnRTZWxlY3RQYW5lbDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0ICB9LFxuXHRcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHZhbHVlID0gX3Byb3BzLnZhbHVlLFxuXHQgICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQ7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc3RyOiB2YWx1ZSAmJiB2YWx1ZS5mb3JtYXQoZm9ybWF0KSB8fCAnJyxcblx0ICAgICAgaW52YWxpZDogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlLFxuXHQgICAgICAgIGZvcm1hdCA9IG5leHRQcm9wcy5mb3JtYXQ7XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHN0cjogdmFsdWUgJiYgdmFsdWUuZm9ybWF0KGZvcm1hdCkgfHwgJycsXG5cdCAgICAgIGludmFsaWQ6IGZhbHNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0ICAgIHZhciBzdHIgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc3RyOiBzdHJcblx0ICAgIH0pO1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGZvcm1hdCA9IF9wcm9wczIuZm9ybWF0LFxuXHQgICAgICAgIGhvdXJPcHRpb25zID0gX3Byb3BzMi5ob3VyT3B0aW9ucyxcblx0ICAgICAgICBtaW51dGVPcHRpb25zID0gX3Byb3BzMi5taW51dGVPcHRpb25zLFxuXHQgICAgICAgIHNlY29uZE9wdGlvbnMgPSBfcHJvcHMyLnNlY29uZE9wdGlvbnMsXG5cdCAgICAgICAgZGlzYWJsZWRIb3VycyA9IF9wcm9wczIuZGlzYWJsZWRIb3Vycyxcblx0ICAgICAgICBkaXNhYmxlZE1pbnV0ZXMgPSBfcHJvcHMyLmRpc2FibGVkTWludXRlcyxcblx0ICAgICAgICBkaXNhYmxlZFNlY29uZHMgPSBfcHJvcHMyLmRpc2FibGVkU2Vjb25kcyxcblx0ICAgICAgICBvbkNoYW5nZSA9IF9wcm9wczIub25DaGFuZ2UsXG5cdCAgICAgICAgYWxsb3dFbXB0eSA9IF9wcm9wczIuYWxsb3dFbXB0eTtcblx0XG5cdFxuXHQgICAgaWYgKHN0cikge1xuXHQgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7XG5cdCAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0UHJvdG9WYWx1ZSgpLmNsb25lKCk7XG5cdCAgICAgIHZhciBwYXJzZWQgPSAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKShzdHIsIGZvcm1hdCwgdHJ1ZSk7XG5cdCAgICAgIGlmICghcGFyc2VkLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZS5ob3VyKHBhcnNlZC5ob3VyKCkpLm1pbnV0ZShwYXJzZWQubWludXRlKCkpLnNlY29uZChwYXJzZWQuc2Vjb25kKCkpO1xuXHRcblx0ICAgICAgLy8gaWYgdGltZSB2YWx1ZSBub3QgYWxsb3dlZCwgcmVzcG9uc2Ugd2FybmluZy5cblx0ICAgICAgaWYgKGhvdXJPcHRpb25zLmluZGV4T2YodmFsdWUuaG91cigpKSA8IDAgfHwgbWludXRlT3B0aW9ucy5pbmRleE9mKHZhbHVlLm1pbnV0ZSgpKSA8IDAgfHwgc2Vjb25kT3B0aW9ucy5pbmRleE9mKHZhbHVlLnNlY29uZCgpKSA8IDApIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGludmFsaWQ6IHRydWVcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIC8vIGlmIHRpbWUgdmFsdWUgaXMgZGlzYWJsZWQsIHJlc3BvbnNlIHdhcm5pbmcuXG5cdCAgICAgIHZhciBkaXNhYmxlZEhvdXJPcHRpb25zID0gZGlzYWJsZWRIb3VycygpO1xuXHQgICAgICB2YXIgZGlzYWJsZWRNaW51dGVPcHRpb25zID0gZGlzYWJsZWRNaW51dGVzKHZhbHVlLmhvdXIoKSk7XG5cdCAgICAgIHZhciBkaXNhYmxlZFNlY29uZE9wdGlvbnMgPSBkaXNhYmxlZFNlY29uZHModmFsdWUuaG91cigpLCB2YWx1ZS5taW51dGUoKSk7XG5cdCAgICAgIGlmIChkaXNhYmxlZEhvdXJPcHRpb25zICYmIGRpc2FibGVkSG91ck9wdGlvbnMuaW5kZXhPZih2YWx1ZS5ob3VyKCkpID49IDAgfHwgZGlzYWJsZWRNaW51dGVPcHRpb25zICYmIGRpc2FibGVkTWludXRlT3B0aW9ucy5pbmRleE9mKHZhbHVlLm1pbnV0ZSgpKSA+PSAwIHx8IGRpc2FibGVkU2Vjb25kT3B0aW9ucyAmJiBkaXNhYmxlZFNlY29uZE9wdGlvbnMuaW5kZXhPZih2YWx1ZS5zZWNvbmQoKSkgPj0gMCkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKG9yaWdpbmFsVmFsdWUpIHtcblx0ICAgICAgICBpZiAob3JpZ2luYWxWYWx1ZS5ob3VyKCkgIT09IHZhbHVlLmhvdXIoKSB8fCBvcmlnaW5hbFZhbHVlLm1pbnV0ZSgpICE9PSB2YWx1ZS5taW51dGUoKSB8fCBvcmlnaW5hbFZhbHVlLnNlY29uZCgpICE9PSB2YWx1ZS5zZWNvbmQoKSkge1xuXHQgICAgICAgICAgLy8ga2VlcCBvdGhlciBmaWVsZHMgZm9yIHJjLWNhbGVuZGFyXG5cdCAgICAgICAgICB2YXIgY2hhbmdlZFZhbHVlID0gb3JpZ2luYWxWYWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgICAgY2hhbmdlZFZhbHVlLmhvdXIodmFsdWUuaG91cigpKTtcblx0ICAgICAgICAgIGNoYW5nZWRWYWx1ZS5taW51dGUodmFsdWUubWludXRlKCkpO1xuXHQgICAgICAgICAgY2hhbmdlZFZhbHVlLnNlY29uZCh2YWx1ZS5zZWNvbmQoKSk7XG5cdCAgICAgICAgICBvbkNoYW5nZShjaGFuZ2VkVmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSkge1xuXHQgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChhbGxvd0VtcHR5KSB7XG5cdCAgICAgIG9uQ2hhbmdlKG51bGwpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBpbnZhbGlkOiBmYWxzZVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG5cdCAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuXHQgICAgICB0aGlzLnByb3BzLm9uRXNjKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7IHN0cjogJycgfSk7XG5cdCAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcblx0ICB9LFxuXHQgIGdldENsZWFyQnV0dG9uOiBmdW5jdGlvbiBnZXRDbGVhckJ1dHRvbigpIHtcblx0ICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcblx0ICAgICAgICBhbGxvd0VtcHR5ID0gX3Byb3BzMy5hbGxvd0VtcHR5O1xuXHRcblx0ICAgIGlmICghYWxsb3dFbXB0eSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xlYXItYnRuJyxcblx0ICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgIHRpdGxlOiB0aGlzLnByb3BzLmNsZWFyVGV4dCxcblx0ICAgICAgb25Nb3VzZURvd246IHRoaXMub25DbGVhclxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBnZXRQcm90b1ZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b1ZhbHVlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMudmFsdWUgfHwgdGhpcy5wcm9wcy5kZWZhdWx0T3BlblZhbHVlO1xuXHQgIH0sXG5cdCAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuXHQgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzLFxuXHQgICAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzNC5wbGFjZWhvbGRlcjtcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIGludmFsaWQgPSBfc3RhdGUuaW52YWxpZCxcblx0ICAgICAgICBzdHIgPSBfc3RhdGUuc3RyO1xuXHRcblx0ICAgIHZhciBpbnZhbGlkQ2xhc3MgPSBpbnZhbGlkID8gcHJlZml4Q2xzICsgJy1pbnB1dC1pbnZhbGlkJyA6ICcnO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQgICcgKyBpbnZhbGlkQ2xhc3MsXG5cdCAgICAgIHJlZjogJ2lucHV0Jyxcblx0ICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcblx0ICAgICAgdmFsdWU6IHN0cixcblx0ICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuXHQgICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQtd3JhcCcgfSxcblx0ICAgICAgdGhpcy5nZXRJbnB1dCgpLFxuXHQgICAgICB0aGlzLmdldENsZWFyQnV0dG9uKClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSGVhZGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzg3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9IZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4Nik7XG5cdFxuXHR2YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXHRcblx0dmFyIF9Db21ib2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMzg1KTtcblx0XG5cdHZhciBfQ29tYm9ib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tYm9ib3gpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9ucyhsZW5ndGgsIGRpc2FibGVkT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucykge1xuXHQgIHZhciBhcnIgPSBbXTtcblx0ICBmb3IgKHZhciB2YWx1ZSA9IDA7IHZhbHVlIDwgbGVuZ3RoOyB2YWx1ZSsrKSB7XG5cdCAgICBpZiAoIWRpc2FibGVkT3B0aW9ucyB8fCBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZih2YWx1ZSkgPCAwIHx8ICFoaWRlRGlzYWJsZWRPcHRpb25zKSB7XG5cdCAgICAgIGFyci5wdXNoKHZhbHVlKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGFycjtcblx0fVxuXHRcblx0dmFyIFBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUGFuZWwnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGNsZWFyVGV4dDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGRlZmF1bHRPcGVuVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGRpc2FibGVkSG91cnM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRpc2FibGVkTWludXRlczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWRTZWNvbmRzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBoaWRlRGlzYWJsZWRPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25Fc2M6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGFsbG93RW1wdHk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dIb3VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93TWludXRlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93U2Vjb25kOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBhZGRvbjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwcmVmaXhDbHM6ICdyYy10aW1lLXBpY2tlci1wYW5lbCcsXG5cdCAgICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgICBvbkNsZWFyOiBub29wLFxuXHQgICAgICBkaXNhYmxlZEhvdXJzOiBub29wLFxuXHQgICAgICBkaXNhYmxlZE1pbnV0ZXM6IG5vb3AsXG5cdCAgICAgIGRpc2FibGVkU2Vjb25kczogbm9vcCxcblx0ICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKSxcblx0ICAgICAgYWRkb246IG5vb3Bcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuXHQgICAgICBzZWxlY3Rpb25SYW5nZTogW11cblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlO1xuXHQgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdWYWx1ZSkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBuZXdWYWx1ZSB9KTtcblx0ICAgIHRoaXMucHJvcHMub25DaGFuZ2UobmV3VmFsdWUpO1xuXHQgIH0sXG5cdCAgb25DbGVhcjogZnVuY3Rpb24gb25DbGVhcigpIHtcblx0ICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuXHQgIH0sXG5cdCAgb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2U6IGZ1bmN0aW9uIG9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlKGN1cnJlbnRTZWxlY3RQYW5lbCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRTZWxlY3RQYW5lbDogY3VycmVudFNlbGVjdFBhbmVsIH0pO1xuXHQgIH0sXG5cdCAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuXHQgICAgdGhpcy5wcm9wcy5vbkVzYygpO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzLnBsYWNlaG9sZGVyLFxuXHQgICAgICAgIGRpc2FibGVkSG91cnMgPSBfcHJvcHMuZGlzYWJsZWRIb3Vycyxcblx0ICAgICAgICBkaXNhYmxlZE1pbnV0ZXMgPSBfcHJvcHMuZGlzYWJsZWRNaW51dGVzLFxuXHQgICAgICAgIGRpc2FibGVkU2Vjb25kcyA9IF9wcm9wcy5kaXNhYmxlZFNlY29uZHMsXG5cdCAgICAgICAgaGlkZURpc2FibGVkT3B0aW9ucyA9IF9wcm9wcy5oaWRlRGlzYWJsZWRPcHRpb25zLFxuXHQgICAgICAgIGFsbG93RW1wdHkgPSBfcHJvcHMuYWxsb3dFbXB0eSxcblx0ICAgICAgICBzaG93SG91ciA9IF9wcm9wcy5zaG93SG91cixcblx0ICAgICAgICBzaG93TWludXRlID0gX3Byb3BzLnNob3dNaW51dGUsXG5cdCAgICAgICAgc2hvd1NlY29uZCA9IF9wcm9wcy5zaG93U2Vjb25kLFxuXHQgICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQsXG5cdCAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZSA9IF9wcm9wcy5kZWZhdWx0T3BlblZhbHVlLFxuXHQgICAgICAgIGNsZWFyVGV4dCA9IF9wcm9wcy5jbGVhclRleHQsXG5cdCAgICAgICAgb25Fc2MgPSBfcHJvcHMub25Fc2MsXG5cdCAgICAgICAgYWRkb24gPSBfcHJvcHMuYWRkb247XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICB2YWx1ZSA9IF9zdGF0ZS52YWx1ZSxcblx0ICAgICAgICBjdXJyZW50U2VsZWN0UGFuZWwgPSBfc3RhdGUuY3VycmVudFNlbGVjdFBhbmVsO1xuXHRcblx0ICAgIHZhciBkaXNhYmxlZEhvdXJPcHRpb25zID0gZGlzYWJsZWRIb3VycygpO1xuXHQgICAgdmFyIGRpc2FibGVkTWludXRlT3B0aW9ucyA9IGRpc2FibGVkTWludXRlcyh2YWx1ZSA/IHZhbHVlLmhvdXIoKSA6IG51bGwpO1xuXHQgICAgdmFyIGRpc2FibGVkU2Vjb25kT3B0aW9ucyA9IGRpc2FibGVkU2Vjb25kcyh2YWx1ZSA/IHZhbHVlLmhvdXIoKSA6IG51bGwsIHZhbHVlID8gdmFsdWUubWludXRlKCkgOiBudWxsKTtcblx0ICAgIHZhciBob3VyT3B0aW9ucyA9IGdlbmVyYXRlT3B0aW9ucygyNCwgZGlzYWJsZWRIb3VyT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucyk7XG5cdCAgICB2YXIgbWludXRlT3B0aW9ucyA9IGdlbmVyYXRlT3B0aW9ucyg2MCwgZGlzYWJsZWRNaW51dGVPcHRpb25zLCBoaWRlRGlzYWJsZWRPcHRpb25zKTtcblx0ICAgIHZhciBzZWNvbmRPcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKDYwLCBkaXNhYmxlZFNlY29uZE9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1pbm5lcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2NsYXNzTmFtZXMpKSB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9IZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIGNsZWFyVGV4dDogY2xlYXJUZXh0LFxuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIGRlZmF1bHRPcGVuVmFsdWU6IGRlZmF1bHRPcGVuVmFsdWUsXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgIGN1cnJlbnRTZWxlY3RQYW5lbDogY3VycmVudFNlbGVjdFBhbmVsLFxuXHQgICAgICAgIG9uRXNjOiBvbkVzYyxcblx0ICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcblx0ICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG5cdCAgICAgICAgaG91ck9wdGlvbnM6IGhvdXJPcHRpb25zLFxuXHQgICAgICAgIG1pbnV0ZU9wdGlvbnM6IG1pbnV0ZU9wdGlvbnMsXG5cdCAgICAgICAgc2Vjb25kT3B0aW9uczogc2Vjb25kT3B0aW9ucyxcblx0ICAgICAgICBkaXNhYmxlZEhvdXJzOiBkaXNhYmxlZEhvdXJzLFxuXHQgICAgICAgIGRpc2FibGVkTWludXRlczogZGlzYWJsZWRNaW51dGVzLFxuXHQgICAgICAgIGRpc2FibGVkU2Vjb25kczogZGlzYWJsZWRTZWNvbmRzLFxuXHQgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxuXHQgICAgICAgIG9uQ2xlYXI6IHRoaXMub25DbGVhcixcblx0ICAgICAgICBhbGxvd0VtcHR5OiBhbGxvd0VtcHR5XG5cdCAgICAgIH0pLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Db21ib2JveDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgIGRlZmF1bHRPcGVuVmFsdWU6IGRlZmF1bHRPcGVuVmFsdWUsXG5cdCAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG5cdCAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG5cdCAgICAgICAgc2hvd0hvdXI6IHNob3dIb3VyLFxuXHQgICAgICAgIHNob3dNaW51dGU6IHNob3dNaW51dGUsXG5cdCAgICAgICAgc2hvd1NlY29uZDogc2hvd1NlY29uZCxcblx0ICAgICAgICBob3VyT3B0aW9uczogaG91ck9wdGlvbnMsXG5cdCAgICAgICAgbWludXRlT3B0aW9uczogbWludXRlT3B0aW9ucyxcblx0ICAgICAgICBzZWNvbmRPcHRpb25zOiBzZWNvbmRPcHRpb25zLFxuXHQgICAgICAgIGRpc2FibGVkSG91cnM6IGRpc2FibGVkSG91cnMsXG5cdCAgICAgICAgZGlzYWJsZWRNaW51dGVzOiBkaXNhYmxlZE1pbnV0ZXMsXG5cdCAgICAgICAgZGlzYWJsZWRTZWNvbmRzOiBkaXNhYmxlZFNlY29uZHMsXG5cdCAgICAgICAgb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2U6IHRoaXMub25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2Vcblx0ICAgICAgfSksXG5cdCAgICAgIGFkZG9uKHRoaXMpXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBhbmVsO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzg4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uKSB7XG5cdCAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lVGltZW91dCgpIHtcblx0ICAgIHJldHVybiBzZXRUaW1lb3V0KGFyZ3VtZW50c1swXSwgMTApO1xuXHQgIH07XG5cdCAgLy8ganVtcCB0byB0YXJnZXQgaWYgZHVyYXRpb24gemVyb1xuXHQgIGlmIChkdXJhdGlvbiA8PSAwKSB7XG5cdCAgICBlbGVtZW50LnNjcm9sbFRvcCA9IHRvO1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB2YXIgZGlmZmVyZW5jZSA9IHRvIC0gZWxlbWVudC5zY3JvbGxUb3A7XG5cdCAgdmFyIHBlclRpY2sgPSBkaWZmZXJlbmNlIC8gZHVyYXRpb24gKiAxMDtcblx0XG5cdCAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcblx0ICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgKyBwZXJUaWNrO1xuXHQgICAgaWYgKGVsZW1lbnQuc2Nyb2xsVG9wID09PSB0bykgcmV0dXJuO1xuXHQgICAgc2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uIC0gMTApO1xuXHQgIH0pO1xuXHR9O1xuXHRcblx0dmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBzZWxlY3RlZEluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICAgIHR5cGU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uTW91c2VFbnRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgLy8ganVtcCB0byBzZWxlY3RlZCBvcHRpb25cblx0ICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZCgwKTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuXHQgICAgLy8gc21vb3RoIHNjcm9sbCB0byBzZWxlY3RlZCBvcHRpb25cblx0ICAgIGlmIChwcmV2UHJvcHMuc2VsZWN0ZWRJbmRleCAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZEluZGV4KSB7XG5cdCAgICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZCgxMjApO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBvblNlbGVjdCA9IF9wcm9wcy5vblNlbGVjdCxcblx0ICAgICAgICB0eXBlID0gX3Byb3BzLnR5cGU7XG5cdFxuXHQgICAgb25TZWxlY3QodHlwZSwgdmFsdWUpO1xuXHQgIH0sXG5cdCAgZ2V0T3B0aW9uczogZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG9wdGlvbnMgPSBfcHJvcHMyLm9wdGlvbnMsXG5cdCAgICAgICAgc2VsZWN0ZWRJbmRleCA9IF9wcm9wczIuc2VsZWN0ZWRJbmRleCxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscztcblx0XG5cdCAgICByZXR1cm4gb3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgIHZhciBfY2xhc3NuYW1lcztcblx0XG5cdCAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoKF9jbGFzc25hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctc2VsZWN0LW9wdGlvbi1zZWxlY3RlZCcsIHNlbGVjdGVkSW5kZXggPT09IGluZGV4KSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1zZWxlY3Qtb3B0aW9uLWRpc2FibGVkJywgaXRlbS5kaXNhYmxlZCksIF9jbGFzc25hbWVzKSk7XG5cdCAgICAgIHZhciBvbmNsaWNrID0gbnVsbDtcblx0ICAgICAgaWYgKCFpdGVtLmRpc2FibGVkKSB7XG5cdCAgICAgICAgb25jbGljayA9IF90aGlzLm9uU2VsZWN0LmJpbmQoX3RoaXMsICtpdGVtLnZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogY2xzLFxuXHQgICAgICAgICAga2V5OiBpbmRleCxcblx0ICAgICAgICAgIG9uQ2xpY2s6IG9uY2xpY2ssXG5cdCAgICAgICAgICBkaXNhYmxlZDogaXRlbS5kaXNhYmxlZFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgaXRlbS52YWx1ZVxuXHQgICAgICApO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBzY3JvbGxUb1NlbGVjdGVkOiBmdW5jdGlvbiBzY3JvbGxUb1NlbGVjdGVkKGR1cmF0aW9uKSB7XG5cdCAgICAvLyBtb3ZlIHRvIHNlbGVjdGVkIGl0ZW1cblx0ICAgIHZhciBzZWxlY3QgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHZhciBsaXN0ID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcy5yZWZzLmxpc3QpO1xuXHQgICAgaWYgKCFsaXN0KSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBpbmRleCA9IHRoaXMucHJvcHMuc2VsZWN0ZWRJbmRleDtcblx0ICAgIGlmIChpbmRleCA8IDApIHtcblx0ICAgICAgaW5kZXggPSAwO1xuXHQgICAgfVxuXHQgICAgdmFyIHRvcE9wdGlvbiA9IGxpc3QuY2hpbGRyZW5baW5kZXhdO1xuXHQgICAgdmFyIHRvID0gdG9wT3B0aW9uLm9mZnNldFRvcDtcblx0ICAgIHNjcm9sbFRvKHNlbGVjdCwgdG8sIGR1cmF0aW9uKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuXHRcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0Jyxcblx0ICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMucHJvcHMub25Nb3VzZUVudGVyXG5cdCAgICAgIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3VsJyxcblx0ICAgICAgICB7IHJlZjogJ2xpc3QnIH0sXG5cdCAgICAgICAgdGhpcy5nZXRPcHRpb25zKClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGUzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdFxuXHR2YXIgX3RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cdFxuXHR2YXIgX3RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RhYmxlKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfc3R5bGU0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0xpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3Mik7XG5cdFxuXHR2YXIgX0xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVCb2R5V3JhcHBlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gTGlzdChfcmVmKSB7XG5cdCAgdmFyIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcblx0ICAgICAgbG9hZGluZyA9IF9yZWYubG9hZGluZyxcblx0ICAgICAgZGF0YVNvdXJjZSA9IF9yZWYuZGF0YVNvdXJjZSxcblx0ICAgICAgcGFnaW5hdGlvbiA9IF9yZWYucGFnaW5hdGlvbixcblx0ICAgICAgb25QYWdlQ2hhbmdlID0gX3JlZi5vblBhZ2VDaGFuZ2U7XG5cdFxuXHQgIHZhciBjb2x1bW5zID0gW3tcblx0ICAgIHRpdGxlOiAn6K6i5Y2V5Y+3Jyxcblx0ICAgIGRhdGFJbmRleDogJ29yZGVyX2lkJyxcblx0ICAgIGtleTogJ29yZGVyX2lkJ1xuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn6K6i5Y2V57G75Z6LJyxcblx0ICAgIGRhdGFJbmRleDogJ3R5cGUnLFxuXHQgICAga2V5OiAndHlwZScsXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0ZXh0KSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICB0ZXh0ID09ICcxJyA/ICflhYXlgLwnIDogJ+a2iOi0uSdcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+aTjeS9nOezu+e7nycsXG5cdCAgICBkYXRhSW5kZXg6ICdvcycsXG5cdCAgICBrZXk6ICdvcycsXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0ZXh0KSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICB0ZXh0ID09ICcxJyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdhcHBsZS1vJywgc3R5bGU6IHsgY29sb3I6ICdyZ2IoMTYwLCAxNjAsIDE2MCknIH0gfSksXG5cdCAgICAgICAgICAnIElPUydcblx0ICAgICAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2FuZHJvaWQnLCBzdHlsZTogeyBjb2xvcjogJ3JnYigxNzEsIDIwNSwgNSknIH0gfSksXG5cdCAgICAgICAgICAnIEFuZHJvaWQnXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn6YeR6aKdJyxcblx0ICAgIGRhdGFJbmRleDogJ2NoYW5nZScsXG5cdCAgICBrZXk6ICdjaGFuZ2UnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfnlKjmiLfmmLXnp7AnLFxuXHQgICAgZGF0YUluZGV4OiAndXNlcl9uYW1lJyxcblx0ICAgIGtleTogJ3VzZXJfbmFtZSdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+eUqOaIt+aJi+acuicsXG5cdCAgICBkYXRhSW5kZXg6ICd1c2VyX3Bob25lJyxcblx0ICAgIGtleTogJ3VzZXJfcGhvbmUnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICflvZPliY3orr7lpIfph5Hpop0nLFxuXHQgICAgZGF0YUluZGV4OiAnY3VycmVudF9tb25leScsXG5cdCAgICBrZXk6ICdjdXJyZW50X21vbmV5J1xuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn5Yib5bu65pe26Ze0Jyxcblx0ICAgIGRhdGFJbmRleDogJ2N0aW1lJyxcblx0ICAgIGtleTogJ2N0aW1lJ1xuXHQgIH1dO1xuXHRcblx0ICB2YXIgZ2V0Qm9keVdyYXBwZXJQcm9wcyA9IHtcblx0ICAgIHBhZ2U6IGxvY2F0aW9uLnF1ZXJ5LnBhZ2UsXG5cdCAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmN1cnJlbnRcblx0ICB9O1xuXHRcblx0ICB2YXIgZ2V0Qm9keVdyYXBwZXIgPSBmdW5jdGlvbiBnZXRCb2R5V3JhcHBlcihib2R5KSB7XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYmxlQm9keVdyYXBwZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGdldEJvZHlXcmFwcGVyUHJvcHMsIHsgYm9keTogYm9keSB9KSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90YWJsZTIuZGVmYXVsdCwge1xuXHQgICAgY2xhc3NOYW1lOiBfTGlzdDIuZGVmYXVsdC50YWJsZSxcblx0ICAgIGJvcmRlcmVkOiB0cnVlLFxuXHQgICAgc2Nyb2xsOiB7IHg6IDEyMDAgfSxcblx0ICAgIGNvbHVtbnM6IGNvbHVtbnMsXG5cdCAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLFxuXHQgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgIG9uQ2hhbmdlOiBvblBhZ2VDaGFuZ2UsXG5cdCAgICBwYWdpbmF0aW9uOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwYWdpbmF0aW9uLCB7IHNob3dTaXplQ2hhbmdlcjogdHJ1ZSwgc2hvd1F1aWNrSnVtcGVyOiB0cnVlLCBzaG93VG90YWw6IGZ1bmN0aW9uIHNob3dUb3RhbCh0b3RhbCkge1xuXHQgICAgICAgIHJldHVybiAnXFx1NTE3MSAnICsgdG90YWwgKyAnIFxcdTY3NjEnO1xuXHQgICAgICB9IH0pLFxuXHQgICAgc2ltcGxlOiB0cnVlLFxuXHQgICAgcm93S2V5OiBmdW5jdGlvbiByb3dLZXkocmVjb3JkKSB7XG5cdCAgICAgIHJldHVybiByZWNvcmQuaWQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0Qm9keVdyYXBwZXI6IGdldEJvZHlXcmFwcGVyXG5cdCAgfSk7XG5cdH1cblx0XG5cdExpc3QucHJvcFR5cGVzID0ge1xuXHQgIG9uUGFnZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGRhdGFTb3VyY2U6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgbG9hZGluZzogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgcGFnaW5hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnlcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpc3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdFxuXHR2YXIgX3JvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblx0XG5cdHZhciBfcm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvdyk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHR2YXIgX3N0eWxlOSA9IF9fd2VicGFja19yZXF1aXJlX18oMzE3KTtcblx0XG5cdHZhciBfZGF0ZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzE1KTtcblx0XG5cdHZhciBfZGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlUGlja2VyKTtcblx0XG5cdHZhciBfc3R5bGUxMCA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEZvcm1JdGVtID0gX2Zvcm0yLmRlZmF1bHQuSXRlbTtcblx0dmFyIFJhbmdlUGlja2VyID0gX2RhdGVQaWNrZXIyLmRlZmF1bHQuUmFuZ2VQaWNrZXI7XG5cdHZhciBPcHRpb24gPSBfc2VsZWN0Mi5kZWZhdWx0Lk9wdGlvbjtcblx0XG5cdGZ1bmN0aW9uIFNlYXJjaChfcmVmKSB7XG5cdCAgdmFyIHBob25lID0gX3JlZi5waG9uZSxcblx0ICAgICAgc3RhcnRfZGF0ZSA9IF9yZWYuc3RhcnRfZGF0ZSxcblx0ICAgICAgZW5kX2RhdGUgPSBfcmVmLmVuZF9kYXRlLFxuXHQgICAgICBfcmVmJG9zID0gX3JlZi5vcyxcblx0ICAgICAgb3MgPSBfcmVmJG9zID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkb3MsXG5cdCAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcblx0ICAgICAgdHlwZSA9IF9yZWYkdHlwZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcmVmJHR5cGUsXG5cdCAgICAgIF9yZWYkc3RhdHVzID0gX3JlZi5zdGF0dXMsXG5cdCAgICAgIHN0YXR1cyA9IF9yZWYkc3RhdHVzID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkc3RhdHVzLFxuXHQgICAgICBfb25TZWFyY2ggPSBfcmVmLm9uU2VhcmNoLFxuXHQgICAgICBfcmVmJGZvcm0gPSBfcmVmLmZvcm0sXG5cdCAgICAgIGdldEZpZWxkRGVjb3JhdG9yID0gX3JlZiRmb3JtLmdldEZpZWxkRGVjb3JhdG9yLFxuXHQgICAgICB2YWxpZGF0ZUZpZWxkcyA9IF9yZWYkZm9ybS52YWxpZGF0ZUZpZWxkcyxcblx0ICAgICAgZ2V0RmllbGRzVmFsdWUgPSBfcmVmJGZvcm0uZ2V0RmllbGRzVmFsdWU7XG5cdFxuXHQgIHZhciBzZWFyY2hHcm91cFByb3BzID0ge1xuXHQgICAgZmllbGQ6ICdwaG9uZScsXG5cdCAgICBrZXl3b3JkOiBwaG9uZSxcblx0ICAgIHNpemU6ICdsYXJnZScsXG5cdCAgICBzZWxlY3Q6IHRydWUsXG5cdCAgICBzZWxlY3RPcHRpb25zOiBbeyB2YWx1ZTogJ3Bob25lJywgbmFtZTogJ+aJi+acuuWPtycgfV0sXG5cdCAgICBzZWxlY3RQcm9wczoge1xuXHQgICAgICBkZWZhdWx0VmFsdWU6ICdwaG9uZSdcblx0ICAgIH0sXG5cdCAgICBvblNlYXJjaDogZnVuY3Rpb24gb25TZWFyY2godmFsdWUpIHtcblx0ICAgICAgdmFsaWRhdGVGaWVsZHMoZnVuY3Rpb24gKGVycm9ycywgdmFsdWVzKSB7XG5cdCAgICAgICAgaWYgKGVycm9ycykge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcmFuZ2VWYWx1ZSA9IHZhbHVlc1snZGF0ZSddO1xuXHRcblx0ICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXHQgICAgICAgIGlmICghIXJhbmdlVmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgICBkYXRhLnN0YXJ0X2RhdGUgPSByYW5nZVZhbHVlWzBdLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXHQgICAgICAgICAgZGF0YS5lbmRfZGF0ZSA9IHJhbmdlVmFsdWVbMV0uZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghIXZhbHVlcy5vcykge1xuXHQgICAgICAgICAgZGF0YS5vcyA9IHZhbHVlcy5vcztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCEhdmFsdWVzLnR5cGUpIHtcblx0ICAgICAgICAgIGRhdGEudHlwZSA9IHZhbHVlcy50eXBlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoISF2YWx1ZS5rZXl3b3JkKSB7XG5cdCAgICAgICAgICAvLyBkYXRhLmZpZWxkID0gdmFsdWUuZmllbGRcblx0ICAgICAgICAgIC8vIGRhdGEua2V5d29yZCA9IHZhbHVlLmtleXdvcmRcblx0ICAgICAgICAgIGRhdGFbdmFsdWUuZmllbGRdID0gdmFsdWUua2V5d29yZDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX29uU2VhcmNoKGRhdGEpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgZm9ybUl0ZW1MYXlvdXQgPSB7XG5cdCAgICBsYWJlbENvbDogeyBzcGFuOiAxMiB9LFxuXHQgICAgd3JhcHBlckNvbDogeyBzcGFuOiAxMiB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgX3JvdzIuZGVmYXVsdCxcblx0ICAgIG51bGwsXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX2Zvcm0yLmRlZmF1bHQsXG5cdCAgICAgIHsgaW5saW5lOiB0cnVlIH0sXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgIHsgbGFiZWw6ICdcXHU2NUU1XFx1NjcxRlxcdTY3RTVcXHU4QkUyJywgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAyMCB9IH0sXG5cdCAgICAgICAgZ2V0RmllbGREZWNvcmF0b3IoJ2RhdGUnLCB7XG5cdCAgICAgICAgICBpbml0aWFsVmFsdWU6IHN0YXJ0X2RhdGUgJiYgZW5kX2RhdGUgPyBbKDAsIF9tb21lbnQyLmRlZmF1bHQpKHN0YXJ0X2RhdGUpLCAoMCwgX21vbWVudDIuZGVmYXVsdCkoZW5kX2RhdGUpXSA6ICcnXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmFuZ2VQaWNrZXIsIHsgc3R5bGU6IHsgd2lkdGg6IDIwMCB9IH0pKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBmb3JtSXRlbUxheW91dCwgeyBsYWJlbDogJ1xcdTY0Q0RcXHU0RjVDXFx1N0NGQlxcdTdFREYnLCBzdHlsZTogeyBtYXJnaW5Cb3R0b206IDIwLCB3aWR0aDogMTMwLCBtYXJnaW5SaWdodDogNTAgfSB9KSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignb3MnLCB7XG5cdCAgICAgICAgICBpbml0aWFsVmFsdWU6IG9zXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogMTAwIH0gfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6ICcnIH0sXG5cdCAgICAgICAgICAgICdcXHU1MTY4XFx1OTBFOCdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnMScgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2FwcGxlLW8nLCBzdHlsZTogeyBjb2xvcjogJ3JnYigxNjAsIDE2MCwgMTYwKScgfSB9KSxcblx0ICAgICAgICAgICAgJyBJT1MnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzInIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdhbmRyb2lkJywgc3R5bGU6IHsgY29sb3I6ICdyZ2IoMTcxLCAyMDUsIDUpJyB9IH0pLFxuXHQgICAgICAgICAgICAnIEFuZHJvaWQnXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZm9ybUl0ZW1MYXlvdXQsIHsgbGFiZWw6ICdcXHU4QkEyXFx1NTM1NVxcdTdDN0JcXHU1NzhCJywgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAyMCwgd2lkdGg6IDEzMCwgbWFyZ2luUmlnaHQ6IDUwIH0gfSksXG5cdCAgICAgICAgZ2V0RmllbGREZWNvcmF0b3IoJ3R5cGUnLCB7XG5cdCAgICAgICAgICBpbml0aWFsVmFsdWU6IHR5cGVcblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9zZWxlY3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiAxMDAgfSB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJycgfSxcblx0ICAgICAgICAgICAgJ1xcdTUxNjhcXHU5MEU4J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6ICcxJyB9LFxuXHQgICAgICAgICAgICAnXFx1NTE0NVxcdTUwM0MnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzInIH0sXG5cdCAgICAgICAgICAgICdcXHU2RDg4XFx1OEQzOSdcblx0ICAgICAgICAgIClcblx0ICAgICAgICApKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICB7IHN0eWxlOiB7IG1hcmdpbkJvdHRvbTogMjAsIGZsb2F0OiAncmlnaHQnLCBtYXJnaW5SaWdodDogMCB9IH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NlYXJjaDIuZGVmYXVsdCwgc2VhcmNoR3JvdXBQcm9wcylcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH1cblx0XG5cdFNlYXJjaC5wcm9wVHlwZXMgPSB7XG5cdCAgZm9ybTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblx0ICBvblNlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGZpZWxkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBrZXl3b3JkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2Zvcm0yLmRlZmF1bHQuY3JlYXRlKCkoU2VhcmNoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX3FzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9mbG93ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjQpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBuYW1lc3BhY2U6ICdvcmRlckZsb3cnLFxuXHQgIHN0YXRlOiB7XG5cdCAgICBsaXN0OiBbXSxcblx0ICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgcGFnaW5hdGlvbjoge1xuXHQgICAgICBjdXJyZW50OiAxLFxuXHQgICAgICBwYWdlU2l6ZTogMTAsXG5cdCAgICAgIHRvdGFsOiBudWxsXG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgc3Vic2NyaXB0aW9uczoge1xuXHQgICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9yZWYpIHtcblx0ICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcblx0ICAgICAgICAgIGhpc3RvcnkgPSBfcmVmLmhpc3Rvcnk7XG5cdFxuXHQgICAgICBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcblx0ICAgICAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvb3JkZXIvZmxvdycpIHtcblx0ICAgICAgICAgIHZhciBjdXJQb3dlcnMgPSAoMCwgX3V0aWxzLmdldEN1clBvd2VycykocGF0aG5hbWUpO1xuXHQgICAgICAgICAgaWYgKGN1clBvd2Vycykge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdhcHAvY2hhbmdlQ3VyUG93ZXJzJywgcGF5bG9hZDogeyBjdXJQb3dlcnM6IGN1clBvd2VycyB9IH0pO1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdxdWVyeScgfSk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBkaXNwYXRjaChfcm91dGVyLnJvdXRlclJlZHV4LnB1c2goeyBwYXRobmFtZTogJy9uby1wb3dlcicgfSkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0XG5cdCAgZWZmZWN0czoge1xuXHQgICAgcXVlcnk6IF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIHF1ZXJ5KF9yZWYyLCBfcmVmMykge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWYyLnBheWxvYWQ7XG5cdCAgICAgIHZhciBzZWxlY3QgPSBfcmVmMy5zZWxlY3QsXG5cdCAgICAgICAgICBjYWxsID0gX3JlZjMuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWYzLnB1dDtcblx0ICAgICAgdmFyIHBhdGhRdWVyeSwgZGF0YTtcblx0ICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIHF1ZXJ5JChfY29udGV4dCkge1xuXHQgICAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcblx0ICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0KGZ1bmN0aW9uIChfcmVmNCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJvdXRpbmcgPSBfcmVmNC5yb3V0aW5nO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJvdXRpbmcubG9jYXRpb25CZWZvcmVUcmFuc2l0aW9ucy5xdWVyeTtcblx0ICAgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICBwYXRoUXVlcnkgPSBfY29udGV4dC5zZW50O1xuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3O1xuXHQgICAgICAgICAgICAgIHJldHVybiBjYWxsKF9mbG93LnF1ZXJ5LCBwYXRoUXVlcnkpO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA3OlxuXHQgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50O1xuXHRcblx0ICAgICAgICAgICAgICBpZiAoIShkYXRhICYmIGRhdGEuc3VjY2VzcykpIHtcblx0ICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5U3VjY2VzcycsXG5cdCAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG5cdCAgICAgICAgICAgICAgICAgIGxpc3Q6IGRhdGEubGlzdCxcblx0ICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogZGF0YS5wYWdlXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDExOlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMztcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTM6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHF1ZXJ5LCB0aGlzKTtcblx0ICAgIH0pXG5cdCAgfSxcblx0XG5cdCAgcmVkdWNlcnM6IHtcblx0ICAgIHF1ZXJ5U3VjY2VzczogZnVuY3Rpb24gcXVlcnlTdWNjZXNzKHN0YXRlLCBhY3Rpb24pIHtcblx0ICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCBhY3Rpb24ucGF5bG9hZCk7XG5cdCAgICB9LFxuXHQgICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uIHNob3dMb2FkaW5nKHN0YXRlKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgfSxcblx0ICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbiBoaWRlTG9hZGluZyhzdGF0ZSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgbG9hZGluZzogZmFsc2UgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2R2YSA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHRcblx0dmFyIF9MaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTUpO1xuXHRcblx0dmFyIF9MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3QpO1xuXHRcblx0dmFyIF9TZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5Nik7XG5cdFxuXHR2YXIgX1NlYXJjaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWFyY2gpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9vcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gRmxvdyhfcmVmKSB7XG5cdCAgdmFyIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcblx0ICAgICAgY3VyUG93ZXJzID0gX3JlZi5jdXJQb3dlcnMsXG5cdCAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcblx0ICAgICAgb3JkZXJGbG93ID0gX3JlZi5vcmRlckZsb3c7XG5cdCAgdmFyIGxpc3QgPSBvcmRlckZsb3cubGlzdCxcblx0ICAgICAgcGFnaW5hdGlvbiA9IG9yZGVyRmxvdy5wYWdpbmF0aW9uLFxuXHQgICAgICBsb2FkaW5nID0gb3JkZXJGbG93LmxvYWRpbmc7XG5cdCAgdmFyIF9sb2NhdGlvbiRxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICBwaG9uZSA9IF9sb2NhdGlvbiRxdWVyeS5waG9uZSxcblx0ICAgICAgc3RhcnRfZGF0ZSA9IF9sb2NhdGlvbiRxdWVyeS5zdGFydF9kYXRlLFxuXHQgICAgICBlbmRfZGF0ZSA9IF9sb2NhdGlvbiRxdWVyeS5lbmRfZGF0ZSxcblx0ICAgICAgb3MgPSBfbG9jYXRpb24kcXVlcnkub3MsXG5cdCAgICAgIHR5cGUgPSBfbG9jYXRpb24kcXVlcnkudHlwZSxcblx0ICAgICAgc3RhdHVzID0gX2xvY2F0aW9uJHF1ZXJ5LnN0YXR1cztcblx0XG5cdFxuXHQgIHZhciBzZWFyY2hQcm9wcyA9IHtcblx0ICAgIHBob25lOiBwaG9uZSwgc3RhcnRfZGF0ZTogc3RhcnRfZGF0ZSwgZW5kX2RhdGU6IGVuZF9kYXRlLCBvczogb3MsIHR5cGU6IHR5cGUsIHN0YXR1czogc3RhdHVzLFxuXHQgICAgb25TZWFyY2g6IGZ1bmN0aW9uIG9uU2VhcmNoKGZpZWxkc1ZhbHVlKSB7XG5cdCAgICAgIGRpc3BhdGNoKF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7XG5cdCAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuXHQgICAgICAgIHF1ZXJ5OiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBmaWVsZHNWYWx1ZSlcblx0ICAgICAgfSkpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZhciBsaXN0UHJvcHMgPSB7XG5cdCAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICBkYXRhU291cmNlOiBsaXN0LFxuXHQgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sXG5cdCAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZShwYWdlKSB7XG5cdCAgICAgIHZhciBxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICAgICAgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0XG5cdCAgICAgIGRpc3BhdGNoKF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7XG5cdCAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuXHQgICAgICAgIHF1ZXJ5OiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBxdWVyeSwge1xuXHQgICAgICAgICAgcGFnZTogcGFnZS5jdXJyZW50LFxuXHQgICAgICAgICAgcGFnZVNpemU6IHBhZ2UucGFnZVNpemVcblx0ICAgICAgICB9KVxuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgJ2RpdicsXG5cdCAgICB7IGNsYXNzTmFtZTogJ2NvbnRlbnQtaW5uZXInIH0sXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU2VhcmNoMi5kZWZhdWx0LCBzZWFyY2hQcm9wcyksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlzdDIuZGVmYXVsdCwgbGlzdFByb3BzKVxuXHQgICk7XG5cdH1cblx0XG5cdEZsb3cucHJvcFR5cGVzID0ge1xuXHQgIG9yZGVyRmxvdzogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgbG9jYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGRpc3BhdGNoOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhfcmVmMikge1xuXHQgIHZhciBvcmRlckZsb3cgPSBfcmVmMi5vcmRlckZsb3c7XG5cdFxuXHQgIHJldHVybiB7IG9yZGVyRmxvdzogb3JkZXJGbG93IH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfZHZhLmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoRmxvdyk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5xdWVyeSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmVnZW5lcmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0XG5cdHZhciBfcmVnZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZW5lcmF0b3IpO1xuXHRcblx0dmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTU1KTtcblx0XG5cdHZhciBfYXN5bmNUb0dlbmVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hc3luY1RvR2VuZXJhdG9yMik7XG5cdFxuXHR2YXIgcXVlcnkgPSBleHBvcnRzLnF1ZXJ5ID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfcmVmID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhcmFtcykge1xuXHQgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG5cdCAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuXHQgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCdyZXR1cm4nLCAoMCwgX3V0aWxzLnJlcXVlc3QpKCcvZGFzaGJvYXJkLXdhbGxldC1oaXN0b3J5L2xpc3QnLCB7XG5cdCAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0Jyxcblx0ICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcblx0ICAgICAgICAgICAgfSkpO1xuXHRcblx0ICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBfY2FsbGVlLCB0aGlzKTtcblx0ICB9KSk7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBxdWVyeShfeCkge1xuXHQgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuXG4vKioqLyA4NzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcInRhYmxlXCI6XCJ0YWJsZV9fXzVlM3h2XCIsXCJ3YXJuaW5nXCI6XCJ3YXJuaW5nX19fMnNzYWpcIixcImRhbmdlclwiOlwiZGFuZ2VyX19fcl9WaHBcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18sIF9fd2VicGFja19tb2R1bGVfdGVtcGxhdGVfYXJndW1lbnRfMF9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19tb2R1bGVfdGVtcGxhdGVfYXJndW1lbnRfMF9fKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG4vKioqLyB9XG5cbn0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIG9yZGVyLWZsb3cuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNDaGVja2JveCA9IHJlcXVpcmUoJ3JjLWNoZWNrYm94Jyk7XG5cbnZhciBfcmNDaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NoZWNrYm94KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0dyb3VwID0gcmVxdWlyZSgnLi9Hcm91cCcpO1xuXG52YXIgX0dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGVja2JveCgpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICBpbmRldGVybWluYXRlID0gX2EuaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgIG9uTW91c2VFbnRlciA9IF9hLm9uTW91c2VFbnRlcixcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZSA9IF9hLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwic3R5bGVcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImluZGV0ZXJtaW5hdGVcIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIl0pO1xuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCB0cnVlKSk7XG4gICAgICAgIHZhciBjaGVja2JveENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctaW5kZXRlcm1pbmF0ZScsIGluZGV0ZXJtaW5hdGUpKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNDaGVja2JveDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjaGVja2JveENsYXNzLCBjaGlsZHJlbjogbnVsbCB9KSksXG4gICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENoZWNrYm94O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xuXG5DaGVja2JveC5Hcm91cCA9IF9Hcm91cDJbXCJkZWZhdWx0XCJdO1xuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1jaGVja2JveCcsXG4gICAgaW5kZXRlcm1pbmF0ZTogZmFsc2Vcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9jaGVja2JveC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5VTlNFTEVDVEFCTEVfQVRUUklCVVRFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfU1RZTEUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmdldFZhbHVlUHJvcFZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWU7XG5leHBvcnRzLmdldFByb3BWYWx1ZSA9IGdldFByb3BWYWx1ZTtcbmV4cG9ydHMuaXNDb21ib2JveCA9IGlzQ29tYm9ib3g7XG5leHBvcnRzLmlzTXVsdGlwbGVPclRhZ3MgPSBpc011bHRpcGxlT3JUYWdzO1xuZXhwb3J0cy5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCA9IGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94O1xuZXhwb3J0cy5pc1NpbmdsZU1vZGUgPSBpc1NpbmdsZU1vZGU7XG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuZXhwb3J0cy5wcmV2ZW50RGVmYXVsdEV2ZW50ID0gcHJldmVudERlZmF1bHRFdmVudDtcbmV4cG9ydHMuZmluZEluZGV4SW5WYWx1ZUJ5S2V5ID0gZmluZEluZGV4SW5WYWx1ZUJ5S2V5O1xuZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCA9IGZpbmRJbmRleEluVmFsdWVCeUxhYmVsO1xuZXhwb3J0cy5nZXRTZWxlY3RLZXlzID0gZ2V0U2VsZWN0S2V5cztcbmV4cG9ydHMuZmluZEZpcnN0TWVudUl0ZW0gPSBmaW5kRmlyc3RNZW51SXRlbTtcbmV4cG9ydHMuaW5jbHVkZXNTZXBhcmF0b3JzID0gaW5jbHVkZXNTZXBhcmF0b3JzO1xuZXhwb3J0cy5zcGxpdEJ5U2VwYXJhdG9ycyA9IHNwbGl0QnlTZXBhcmF0b3JzO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCkge1xuICB2YXIgcHJvcHMgPSBjaGlsZC5wcm9wcztcbiAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWU7XG4gIH1cbiAgaWYgKGNoaWxkLmtleSkge1xuICAgIHJldHVybiBjaGlsZC5rZXk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdubyBrZXkgb3IgdmFsdWUgZm9yICcgKyBjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BWYWx1ZShjaGlsZCwgcHJvcCkge1xuICBpZiAocHJvcCA9PT0gJ3ZhbHVlJykge1xuICAgIHJldHVybiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCk7XG4gIH1cbiAgcmV0dXJuIGNoaWxkLnByb3BzW3Byb3BdO1xufVxuXG5mdW5jdGlvbiBpc0NvbWJvYm94KHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb21ib2JveDtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFncyhwcm9wcykge1xuICByZXR1cm4gcHJvcHMubXVsdGlwbGUgfHwgcHJvcHMudGFncztcbn1cblxuZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gocHJvcHMpIHtcbiAgcmV0dXJuIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHx8IGlzQ29tYm9ib3gocHJvcHMpO1xufVxuXG5mdW5jdGlvbiBpc1NpbmdsZU1vZGUocHJvcHMpIHtcbiAgcmV0dXJuICFpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveChwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgdmFyIHJldCA9IHZhbHVlO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldCA9IFtdO1xuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldCA9IFt2YWx1ZV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHRFdmVudChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBrZXkpIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodmFsdWVbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgIGluZGV4ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleEluVmFsdWVCeUxhYmVsKHZhbHVlLCBsYWJlbCkge1xuICB2YXIgaW5kZXggPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0b0FycmF5KHZhbHVlW2ldLmxhYmVsKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcbiAgICAgIGluZGV4ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdEtleXMobWVudUl0ZW1zLCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgc2VsZWN0ZWRLZXlzID0gW107XG4gIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gobWVudUl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG4gICAgICBzZWxlY3RlZEtleXMgPSBzZWxlY3RlZEtleXMuY29uY2F0KGdldFNlbGVjdEtleXMoaXRlbS5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGl0ZW1WYWx1ZSA9IGdldFZhbHVlUHJvcFZhbHVlKGl0ZW0pO1xuICAgICAgdmFyIGl0ZW1LZXkgPSBpdGVtLmtleTtcbiAgICAgIGlmIChmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGl0ZW1WYWx1ZSkgIT09IC0xICYmIGl0ZW1LZXkpIHtcbiAgICAgICAgc2VsZWN0ZWRLZXlzLnB1c2goaXRlbUtleSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNlbGVjdGVkS2V5cztcbn1cblxudmFyIFVOU0VMRUNUQUJMRV9TVFlMRSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0ge1xuICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJ1xufTtcblxudmFyIFVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSB7XG4gIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcbn07XG5cbmZ1bmN0aW9uIGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkcmVuKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudHlwZS5pc01lbnVJdGVtR3JvdXApIHtcbiAgICAgIHZhciBmb3VuZCA9IGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzU2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXBhcmF0b3JzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHN0cmluZy5sYXN0SW5kZXhPZihzZXBhcmF0b3JzW2ldKSA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNwbGl0QnlTZXBhcmF0b3JzKHN0cmluZywgc2VwYXJhdG9ycykge1xuICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWycgKyBzZXBhcmF0b3JzLmpvaW4oKSArICddJyk7XG4gIHZhciBhcnJheSA9IHN0cmluZy5zcGxpdChyZWcpO1xuICBpZiAoYXJyYXlbMF0gPT09ICcnKSB7XG4gICAgYXJyYXkuc2hpZnQoKTtcbiAgfVxuICBpZiAoYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG4gICAgYXJyYXkucG9wKCk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvdXRpbC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMudG9BcnJheUNoaWxkcmVuID0gdG9BcnJheUNoaWxkcmVuO1xuZXhwb3J0cy5kYXRhVG9BcnJheSA9IGRhdGFUb0FycmF5O1xuZXhwb3J0cy5vYmplY3RFcXVhbCA9IG9iamVjdEVxdWFsO1xuZXhwb3J0cy5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkgPSBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXk7XG5leHBvcnRzLm1lcmdlQ2hpbGRyZW4gPSBtZXJnZUNoaWxkcmVuO1xuZXhwb3J0cy50cmFuc2Zvcm1Bcmd1bWVudHMgPSB0cmFuc2Zvcm1Bcmd1bWVudHM7XG5leHBvcnRzLmdldENoaWxkcmVuRnJvbVByb3BzID0gZ2V0Q2hpbGRyZW5Gcm9tUHJvcHM7XG5leHBvcnRzLnN0YXJ0Q29udmVydFRvRW5kVW5pdCA9IHN0YXJ0Q29udmVydFRvRW5kVW5pdDtcbmV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuZXhwb3J0cy5nZXRUcmFuc2Zvcm1WYWx1ZSA9IGdldFRyYW5zZm9ybVZhbHVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZGVlcEVxbCA9IHJlcXVpcmUoJ2RlZXAtZXFsJyk7XG5cbnZhciBfZGVlcEVxbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXFsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvQXJyYXlDaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgcmV0ID0gW107XG4gIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0LnB1c2goYyk7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkYXRhVG9BcnJheSh2YXJzKSB7XG4gIGlmICghdmFycyAmJiB2YXJzICE9PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhcnMpKSB7XG4gICAgcmV0dXJuIHZhcnM7XG4gIH1cbiAgcmV0dXJuIFt2YXJzXTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RXF1YWwob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMiB8fCAoMCwgX2RlZXBFcWwyW1wiZGVmYXVsdFwiXSkob2JqMSwgb2JqMikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIW9iajEgfHwgIW9iajIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gYW5pbWF0aW9uIOWGmeWcqOagh+etvuS4iueahOi/m+ihjOWIpOaWreaYr+WQpuebuOetie+8jCDliKTmlq3mr4/kuKrlj4LmlbDmnInmsqHmnIkgZnVuY3Rpb247XG4gIHZhciBlcXVhbEJvb2wgPSB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSAmJiBBcnJheS5pc0FycmF5KG9iajIpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXJyZW50T2JqID0gb2JqMVtpXTtcbiAgICAgIHZhciBuZXh0T2JqID0gb2JqMltpXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY3VycmVudE9iaikge1xuICAgICAgICBpZiAoY3VycmVudE9ialtwXSAhPT0gbmV4dE9ialtwXSkge1xuICAgICAgICAgIGlmIChfdHlwZW9mKGN1cnJlbnRPYmpbcF0pID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG5leHRPYmpbcF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwoY3VycmVudE9ialtwXSwgbmV4dE9ialtwXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY3VycmVudE9ialtwXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbmV4dE9ialtwXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmpbcF0ubmFtZSAhPT0gbmV4dE9ialtwXS5uYW1lKSB7XG4gICAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgc2V0RXF1YWxCb29sID0gZnVuY3Rpb24gc2V0RXF1YWxCb29sKG9iakEsIG9iakIpIHtcbiAgICBPYmplY3Qua2V5cyhvYmpBKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghKGtleSBpbiBvYmpCKSkge1xuICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90eXBlb2Yob2JqQVtrZXldKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihvYmpCW2tleV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChvYmpBW2tleV0sIG9iakJba2V5XSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpBW2tleV0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iakJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAob2JqQVtrZXldLm5hbWUgIT09IG9iakJba2V5XS5uYW1lKSB7XG4gICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2JqQVtrZXldICE9PSBvYmpCW2tleV0pIHtcbiAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgc2V0RXF1YWxCb29sKG9iajEsIG9iajIpO1xuICBzZXRFcXVhbEJvb2wob2JqMiwgb2JqMSk7XG4gIHJldHVybiBlcXVhbEJvb2w7XG59XG5cbmZ1bmN0aW9uIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5KSB7XG4gIHZhciByZXQgPSBudWxsO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAocmV0IHx8ICFjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldCA9IGM7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDaGlsZHJlbihwcmV2LCBuZXh0KSB7XG4gIHZhciByZXQgPSBbXTtcbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0Q2hpbGRyZW5QZW5kaW5nID0ge307XG4gIHZhciBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgdmFyIGZvbGxvd0NoaWxkcmVuS2V5ID0gdm9pZCAwO1xuICBwcmV2LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICBpZiAoIWMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0LCBjLmtleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIG5leHRDaGlsZHJlblBlbmRpbmdbYy5rZXldID0gcGVuZGluZ0NoaWxkcmVuO1xuICAgICAgICBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgICAgIH1cbiAgICAgIGZvbGxvd0NoaWxkcmVuS2V5ID0gYy5rZXk7XG4gICAgfSBlbHNlIGlmIChjLmtleSkge1xuICAgICAgcGVuZGluZ0NoaWxkcmVuLnB1c2goYyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFmb2xsb3dDaGlsZHJlbktleSkge1xuICAgIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcbiAgfVxuXG4gIG5leHQuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIGlmICghYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmV4dENoaWxkcmVuUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShjLmtleSkpIHtcbiAgICAgIHJldCA9IHJldC5jb25jYXQobmV4dENoaWxkcmVuUGVuZGluZ1tjLmtleV0pO1xuICAgIH1cbiAgICByZXQucHVzaChjKTtcbiAgICBpZiAoYy5rZXkgPT09IGZvbGxvd0NoaWxkcmVuS2V5KSB7XG4gICAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Bcmd1bWVudHMoYXJnLCBrZXksIGkpIHtcbiAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXN1bHQgPSBhcmcoe1xuICAgICAga2V5OiBrZXksXG4gICAgICBpbmRleDogaVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IGFyZztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXRDaGlsZHJlbkZyb21Qcm9wcyhwcm9wcykge1xuICByZXR1cm4gcHJvcHMgJiYgcHJvcHMuY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29udmVydFRvRW5kVW5pdCh0YXJnZXQsIHN0eWxlLCBudW0sIHVuaXQsIGRhdGFVbml0LCBmaXhlZCwgaXNPcmlnaW5XaWR0aCkge1xuICB2YXIgaG9yaXogPSAvKD86TGVmdHxSaWdodHxXaWR0aHxYKS9pLnRlc3Qoc3R5bGUpIHx8IGlzT3JpZ2luV2lkdGg7XG4gIHZhciB0ID0gc3R5bGUuaW5kZXhPZignYm9yZGVyJykgIT09IC0xID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keTtcbiAgdCA9IGZpeGVkID8gZG9jdW1lbnQuYm9keSA6IHQ7XG4gIHZhciBwaXggPSB2b2lkIDA7XG5cbiAgaWYgKHVuaXQgPT09ICclJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDEwMCAqIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3Z3Jykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLyAxMDA7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC8gMTAwO1xuICB9IGVsc2UgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvZW0vaSkpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiAxNjtcbiAgfSBlbHNlIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSk7XG4gIH1cbiAgaWYgKGRhdGFVbml0ID09PSAnJScpIHtcbiAgICBwaXggPSBwaXggKiAxMDAgLyAoaG9yaXogPyB0LmNsaWVudFdpZHRoIDogdC5jbGllbnRIZWlnaHQpO1xuICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndncnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqIDEwMDtcbiAgfSBlbHNlIGlmIChkYXRhVW5pdCA9PT0gJ3ZoJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMTAwO1xuICB9IGVsc2UgaWYgKGRhdGFVbml0ICYmIGRhdGFVbml0Lm1hdGNoKC9lbS9pKSkge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDE2O1xuICB9XG4gIHJldHVybiBwaXg7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAocGF0aC5jaGFyQXQoMCkubWF0Y2goL20vaSkpIHtcbiAgICAgIHZhciBkb21QYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICBkb21QYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgcGF0aCk7XG4gICAgICByZXR1cm4gZG9tUGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGF0aCk7XG4gIH0gZWxzZSBpZiAocGF0aC5zdHlsZSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUgcGF0aCcpO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZSh0LCBzdXBwb3J0czNEKSB7XG4gIGlmICh0eXBlb2YgdCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdDtcbiAgfVxuICB2YXIgcGVyc3BlY3RpdmUgPSB0LnBlcnNwZWN0aXZlO1xuICB2YXIgYW5nbGUgPSB0LnJvdGF0ZTtcbiAgdmFyIHJvdGF0ZVggPSB0LnJvdGF0ZVg7XG4gIHZhciByb3RhdGVZID0gdC5yb3RhdGVZO1xuICB2YXIgc3ggPSB0LnNjYWxlWDtcbiAgdmFyIHN5ID0gdC5zY2FsZVk7XG4gIHZhciBzeiA9IHQuc2NhbGVaO1xuICB2YXIgc2t4ID0gdC5za2V3WDtcbiAgdmFyIHNreSA9IHQuc2tld1k7XG4gIHZhciB4UGVyY2VudCA9IHQueFBlcmNlbnQgfHwgMDtcbiAgdmFyIHlQZXJjZW50ID0gdC55UGVyY2VudCB8fCAwO1xuICB2YXIgdHJhbnNsYXRlWCA9IHhQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWDtcbiAgdmFyIHRyYW5zbGF0ZVkgPSB5UGVyY2VudCA/IDAgOiB0LnRyYW5zbGF0ZVk7XG4gIHZhciB0cmFuc2xhdGVaID0gdC50cmFuc2xhdGVaIHx8IDA7XG4gIHZhciBwZXJjZW50ID0geFBlcmNlbnQgfHwgeVBlcmNlbnQgPyAndHJhbnNsYXRlKCcgKyAoeFBlcmNlbnQgfHwgdHJhbnNsYXRlWCArICdweCcpICsgJywnICsgKHlQZXJjZW50IHx8IHRyYW5zbGF0ZVkgKyAncHgnKSArICcpJyA6ICcnO1xuICB2YXIgc2sgPSBza3ggfHwgc2t5ID8gJ3NrZXcoJyArIHNreCArICdkZWcsJyArIHNreSArICdkZWcpJyA6ICcnO1xuICB2YXIgYW4gPSBhbmdsZSA/ICdyb3RhdGUoJyArIGFuZ2xlICsgJ2RlZyknIDogJyc7XG4gIHZhciBzcyA9IHZvaWQgMDtcbiAgaWYgKCFwZXJzcGVjdGl2ZSAmJiAhcm90YXRlWCAmJiAhcm90YXRlWSAmJiAhdHJhbnNsYXRlWiAmJiBzeiA9PT0gMSB8fCAhc3VwcG9ydHMzRCkge1xuICAgIHNzID0gc3ggIT09IDEgfHwgc3kgIT09IDEgPyAnc2NhbGUoJyArIHN4ICsgJywnICsgc3kgKyAnKScgOiAnJztcbiAgICB2YXIgdHJhbnNsYXRlID0gcGVyY2VudCB8fCAndHJhbnNsYXRlKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4KSc7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZSArICcgJyArIGFuICsgJyAnICsgc3MgKyAnICcgKyBzaztcbiAgfVxuICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxIHx8IHN6ICE9PSAxID8gJ3NjYWxlM2QoJyArIHN4ICsgJywnICsgc3kgKyAnLCcgKyBzeiArICcpJyA6ICcnO1xuICB2YXIgclggPSByb3RhdGVYID8gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAnZGVnKScgOiAnJztcbiAgdmFyIHJZID0gcm90YXRlWSA/ICdyb3RhdGVZKCcgKyByb3RhdGVZICsgJ2RlZyknIDogJyc7XG4gIHZhciBwZXIgPSBwZXJzcGVjdGl2ZSA/ICdwZXJzcGVjdGl2ZSgnICsgcGVyc3BlY3RpdmUgKyAncHgpJyA6ICcnO1xuICB2YXIgdHJhbnNsYXRlM2QgPSBwZXJjZW50ID8gcGVyY2VudCArICcgdHJhbnNsYXRlM2QoMCwwLCcgKyB0cmFuc2xhdGVaICsgJ3B4KScgOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsJyArIHRyYW5zbGF0ZVogKyAncHgpJztcbiAgcmV0dXJuIHBlciArICcgJyArIHRyYW5zbGF0ZTNkICsgJyAnICsgc3MgKyAnICcgKyBhbiArICcgJyArIHJYICsgJyAnICsgclkgKyAnICcgKyBzaztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3V0aWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY1NlbGVjdCA9IHJlcXVpcmUoJ3JjLXNlbGVjdCcpO1xuXG52YXIgX3JjU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjU2VsZWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vLyA9PiBJdCBpcyBuZWVkbGVzcyB0byBleHBvcnQgdGhlIGRlY2xhcmF0aW9uIG9mIGJlbG93IHR3byBpbm5lciBjb21wb25lbnRzLlxuLy8gZXhwb3J0IHsgT3B0aW9uLCBPcHRHcm91cCB9O1xudmFyIFNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2VsZWN0KCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuICAgICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuICAgICAgICAgICAgY29tYm9ib3ggPSBfcHJvcHMuY29tYm9ib3g7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF9wcm9wczIkbm90Rm91bmRDb250ZSA9IF9wcm9wczIubm90Rm91bmRDb250ZW50LFxuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gX3Byb3BzMiRub3RGb3VuZENvbnRlID09PSB1bmRlZmluZWQgPyAnTm90IEZvdW5kJyA6IF9wcm9wczIkbm90Rm91bmRDb250ZSxcbiAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcCA9IF9wcm9wczIub3B0aW9uTGFiZWxQcm9wO1xuXG4gICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbGcnLCBzaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1zbScsIHNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgICAgIHZhciBhbnRMb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlO1xuXG4gICAgICAgIGlmIChhbnRMb2NhbGUgJiYgYW50TG9jYWxlLlNlbGVjdCkge1xuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gJ25vdEZvdW5kQ29udGVudCcgaW4gdGhpcy5wcm9wcyA/IG5vdEZvdW5kQ29udGVudCA6IGFudExvY2FsZS5TZWxlY3Qubm90Rm91bmRDb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21ib2JveCkge1xuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIOW4piBkb20g57uT5p6E5pe277yM5peg5rOV5aGr5YWl6L6T5YWl5qGGXG4gICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBvcHRpb25MYWJlbFByb3AgfHwgJ3ZhbHVlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNTZWxlY3QyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnByb3BzLCB7IGNsYXNzTmFtZTogY2xzLCBvcHRpb25MYWJlbFByb3A6IG9wdGlvbkxhYmVsUHJvcCB8fCAnY2hpbGRyZW4nLCBub3RGb3VuZENvbnRlbnQ6IG5vdEZvdW5kQ29udGVudCB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3Q7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xuXG5TZWxlY3QuT3B0aW9uID0gX3JjU2VsZWN0Lk9wdGlvbjtcblNlbGVjdC5PcHRHcm91cCA9IF9yY1NlbGVjdC5PcHRHcm91cDtcblNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LXNlbGVjdCcsXG4gICAgc2hvd1NlYXJjaDogZmFsc2UsXG4gICAgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcsXG4gICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6ICd6b29tJ1xufTtcblNlbGVjdC5wcm9wVHlwZXMgPSB7XG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNpemU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ2xhcmdlJywgJ3NtYWxsJ10pLFxuICAgIGNvbWJvYm94OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgbm90Rm91bmRDb250ZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvc2VsZWN0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTcuMVxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcyAoKSB7XG4gICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5mdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICB2YXIgaztcbiAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIC8vIGV2ZW4gaWYgaXRzIG5vdCBvd24gcHJvcGVydHkgSSdkIHN0aWxsIGNhbGwgaXQgbm9uLWVtcHR5XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcbiAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG4gICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcbiAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbnZhciBzb21lJDEgPSBzb21lO1xuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LlxuICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGtleXMkMSA9IGtleXM7XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgc2FtZUVsc2UgOiAnTCdcbn07XG5cbmZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxudmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgTFQgICA6ICdoOm1tIEEnLFxuICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xufVxuXG52YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xudmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG59XG5cbnZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgbSAgOiAnYSBtaW51dGUnLFxuICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgIGggIDogJ2FuIGhvdXInLFxuICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICBkICA6ICdhIGRheScsXG4gICAgZGQgOiAnJWQgZGF5cycsXG4gICAgTSAgOiAnYSBtb250aCcsXG4gICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICB5ICA6ICdhIHllYXInLFxuICAgIHl5IDogJyVkIHllYXJzJ1xufTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbn1cblxuZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW107XG4gICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgIH1cbiAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pdHM7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcbn1cblxudmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXG52YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblxudmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG52YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuLy8gdG9rZW46ICAgICdNJ1xuLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuLy8gb3JkaW5hbDogICdNbydcbi8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b2tlbikge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgIH1cbiAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblxuICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG4vLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbmZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgaSA9IDU7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgfVxuXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxudmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxudmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxudmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbnZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbnZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG52YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbnZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG52YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbnZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbnZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxudmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbnZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbnZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbi8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xudmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXG5cbnZhciByZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbn1cblxuLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwO1xudmFyIE1PTlRIID0gMTtcbnZhciBEQVRFID0gMjtcbnZhciBIT1VSID0gMztcbnZhciBNSU5VVEUgPSA0O1xudmFyIFNFQ09ORCA9IDU7XG52YXIgTUlMTElTRUNPTkQgPSA2O1xudmFyIFdFRUsgPSA3O1xudmFyIFdFRUtEQVkgPSA4O1xuXG52YXIgaW5kZXhPZjtcblxuaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xufSBlbHNlIHtcbiAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgLy8gSSBrbm93XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cblxudmFyIGluZGV4T2YkMSA9IGluZGV4T2Y7XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoICsgMSwgMCkpLmdldFVUQ0RhdGUoKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICByZXR1cm4gbW9tO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbnZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXG4gICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbmZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbn1cblxuLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG4gICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5hZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cblxuICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcbiAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG59XG5cbmZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5hZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5hZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgfSk7XG59XG5cbm1lcmlkaWVtKCdhJywgdHJ1ZSk7XG5tZXJpZGllbSgnQScsIGZhbHNlKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4vLyBQQVJTSU5HXG5cbmZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xufVxuXG5hZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbmZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cblxuLy8gTU9NRU5UU1xuXG4vLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbi8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbi8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuLy8gdGhpcyBydWxlLlxudmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4vLyBtb250aHNcbi8vIHdlZWtcbi8vIHdlZWtkYXlzXG4vLyBtZXJpZGllbVxudmFyIGJhc2VDb25maWcgPSB7XG4gICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgb3JkaW5hbFBhcnNlOiBkZWZhdWx0T3JkaW5hbFBhcnNlLFxuICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxufTtcblxuLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xudmFyIGxvY2FsZXMgPSB7fTtcbnZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xudmFyIGdsb2JhbExvY2FsZTtcblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbn1cblxuLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4vLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG4gICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIHJldHVybnMgbG9jYWxlIGRhdGFcbmZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICB2YXIgb3ZlcmZsb3c7XG4gICAgdmFyIGEgPSBtLl9hO1xuXG4gICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG4gICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgIC0xO1xuXG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGlzbyA4NjAxIHJlZ2V4XG4vLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbnZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xudmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG52YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxudmFyIGlzb0RhdGVzID0gW1xuICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcbiAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgWydZWVlZREREJywgL1xcZHs3fS9dXG5dO1xuXG4vLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG52YXIgaXNvVGltZXMgPSBbXG4gICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgWydISCcsIC9cXGRcXGQvXVxuXTtcblxudmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgIHZhciBpLCBsLFxuICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG4gICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cblxuZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuICAgIH1cbiAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG59XG5cbi8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbi8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5mdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLklTT184NjAxKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xufVxuXG5cbmZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgIHZhciBpc1BtO1xuXG4gICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgIGksXG4gICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcblxuICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcbiAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICB9KTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG4gICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuICAgIHZhciBjID0ge307XG5cbiAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG4gICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgYy5fbCA9IGxvY2FsZTtcbiAgICBjLl9pID0gaW5wdXQ7XG4gICAgYy5fZiA9IGZvcm1hdDtcbiAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcbn1cblxudmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG52YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbi8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4vLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4vL1xuLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbmZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgIHZhciByZXMsIGk7XG4gICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgfVxuICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgfVxuICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG4gICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG5mdW5jdGlvbiBtaW4gKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gbWF4ICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbn07XG5cbmZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIHRpbWV6b25lIGNodW5rZXJcbi8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG52YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbmZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAwIDpcbiAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4vLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxudmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbn1cblxuZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXG4gICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcztcbiAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuICAgIH1cblxuICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcbmZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgdmFyIGR1ciwgdG1wO1xuICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCAnbW9tZW50KCkuJyArIG5hbWUgICsgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICsgbmFtZSArICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKGRheXMpIHtcbiAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAobW9udGhzKSB7XG4gICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgIH1cbn1cblxudmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xudmFyIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG5mdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG59XG5cbmZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG4gICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICBpbnB1dE1zO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgIHZhciB0aGF0LFxuICAgICAgICB6b25lRGVsdGEsXG4gICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgIH1cblxuICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbn1cblxuaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG5mdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xufVxuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG4gICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG4gICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgfVxuICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgdmFyIHpvbmUgPSAnJztcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB2YXIgeWVhciA9ICgwIDwgdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xufVxuXG5mdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgIH1cblxuICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICB9XG4gICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgIH1cblxuICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xufVxuXG5mdW5jdGlvbiB1bml4ICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xufVxuXG5mdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDEgKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgfTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbn1cblxuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9ST0lUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5hZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbnZhciB0b2tlbjtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xufVxuXG52YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG5wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcbnByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5wcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5wcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xucHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5wcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5wcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5wcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xucHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcbnByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xucHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5wcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xucHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcbnByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbnByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xucHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5wcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5wcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbnByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbnByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbnByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcbnByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXG4vLyBZZWFyXG5wcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXG4vLyBXZWVrIFllYXJcbnByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4vLyBRdWFydGVyXG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4vLyBNb250aFxucHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cbi8vIFdlZWtcbnByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4vLyBEYXlcbnByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xucHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbnByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbi8vIEhvdXJcbnByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbi8vIE1pbnV0ZVxucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuLy8gU2Vjb25kXG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4vLyBNaWxsaXNlY29uZFxucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuLy8gT2Zmc2V0XG5wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xucHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbnByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbnByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbi8vIFRpbWV6b25lXG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcbnByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xucHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbn1cblxuZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xucHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbnByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbnByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4vLyBNb250aFxucHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5wcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4vLyBXZWVrXG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG4vLyBEYXkgb2YgV2Vla1xucHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbnByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbnByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXG4vLyBIb3Vyc1xucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG4gICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuICAgIH1cbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicyAoKSB7XG4gICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbmZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcbiAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgbW9udGhzID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblxuICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgICA9IGRheXM7XG4gICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xufVxuXG5mdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICB2YXIgZGF5cztcbiAgICB2YXIgbW9udGhzO1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgfTtcbn1cblxudmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xudmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG52YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbnZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xudmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG52YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbnZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xudmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbmZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICB9O1xufVxuXG52YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG52YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xudmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbnZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xudmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbnZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbnZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG5mdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG59XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgdGhyZXNob2xkcyA9IHtcbiAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcbn07XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5mdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcbiAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcbiAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgIHZhciBhID0gc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHZhciBZID0geWVhcnM7XG4gICAgdmFyIE0gPSBtb250aHM7XG4gICAgdmFyIEQgPSBkYXlzO1xuICAgIHZhciBoID0gaG91cnM7XG4gICAgdmFyIG0gPSBtaW51dGVzO1xuICAgIHZhciBzID0gc2Vjb25kcztcbiAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgIH1cblxuICAgIHJldHVybiAodG90YWwgPCAwID8gJy0nIDogJycpICtcbiAgICAgICAgJ1AnICtcbiAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgKE0gPyBNICsgJ00nIDogJycpICtcbiAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAoaCA/IGggKyAnSCcgOiAnJykgK1xuICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG59XG5cbnZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5wcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xucHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xucHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xucHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xucHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xucHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5wcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjE3LjEnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbmhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbmhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbnJldHVybiBob29rcztcblxufSkpKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vbWVudC9tb21lbnQuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNSYWRpbyA9IHJlcXVpcmUoJ3JjLXJhZGlvJyk7XG5cbnZhciBfcmNSYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1JhZGlvKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBSYWRpbyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpbywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpbygpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpbyk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBSYWRpby5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBSYWRpby5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXMsIF9jbGFzc05hbWVzMjtcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblxuICAgICAgICB2YXIgd3JhcHBlckNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyLWNoZWNrZWQnLCBjaGVja2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMyKSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiB0aGlzLnByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiB0aGlzLnByb3BzLm9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNSYWRpbzJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IG51bGwsIGNoaWxkcmVuOiBudWxsIH0pKSxcbiAgICAgICAgICAgIGNoaWxkcmVuICE9PSB1bmRlZmluZWQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApIDogbnVsbFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmFkaW87XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW87XG5cblJhZGlvLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vcmFkaW8uanNcbiAqKiBtb2R1bGUgaWQgPSAzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIFRhYmxlID0gcmVxdWlyZSgnLi9UYWJsZScpO1xudmFyIENvbHVtbiA9IHJlcXVpcmUoJy4vQ29sdW1uJyk7XG52YXIgQ29sdW1uR3JvdXAgPSByZXF1aXJlKCcuL0NvbHVtbkdyb3VwJyk7XG5cblRhYmxlLkNvbHVtbiA9IENvbHVtbjtcblRhYmxlLkNvbHVtbkdyb3VwID0gQ29sdW1uR3JvdXA7XG5cbm1vZHVsZS5leHBvcnRzID0gVGFibGU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbnZhciBQbHVnaW5zID0gZnVuY3Rpb24gUGx1Z2lucygpIHt9O1xudmFyIHAgPSBQbHVnaW5zLnByb3RvdHlwZTtcbnAucHVzaCA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgdGhpc1twbHVnaW4ucHJvdG90eXBlLm5hbWVdID0gcGx1Z2luO1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbmV3IFBsdWdpbnMoKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2lucy5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudG9GaXhlZCA9IHRvRml4ZWQ7XG5leHBvcnRzLmNyZWF0ZU1hdHJpeCA9IGNyZWF0ZU1hdHJpeDtcbmV4cG9ydHMuY2hlY2tTdHlsZU5hbWUgPSBjaGVja1N0eWxlTmFtZTtcbmV4cG9ydHMuZ2V0R3NhcFR5cGUgPSBnZXRHc2FwVHlwZTtcbmV4cG9ydHMucGFyc2VDb2xvciA9IHBhcnNlQ29sb3I7XG5leHBvcnRzLnBhcnNlU2hhZG93ID0gcGFyc2VTaGFkb3c7XG5leHBvcnRzLmdldENvbG9yID0gZ2V0Q29sb3I7XG5leHBvcnRzLmlzVHJhbnNmb3JtID0gaXNUcmFuc2Zvcm07XG5leHBvcnRzLmlzQ29udmVydCA9IGlzQ29udmVydDtcbmV4cG9ydHMuc3BsaXRGaWx0ZXJUb09iamVjdCA9IHNwbGl0RmlsdGVyVG9PYmplY3Q7XG5leHBvcnRzLmdldE1hdHJpeCA9IGdldE1hdHJpeDtcbmV4cG9ydHMuZ2V0VHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtO1xuZXhwb3J0cy5zdHlsZXNUb0NzcyA9IHN0eWxlc1RvQ3NzO1xuZXhwb3J0cy5nZXRVbml0ID0gZ2V0VW5pdDtcbmV4cG9ydHMuZ2V0VmFsdWVzID0gZ2V0VmFsdWVzO1xuZXhwb3J0cy5maW5kU3R5bGVCeU5hbWUgPSBmaW5kU3R5bGVCeU5hbWU7XG5leHBvcnRzLm1lcmdlU3R5bGUgPSBtZXJnZVN0eWxlO1xudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZsZXhPcmRlcjogdHJ1ZSxcbiAgZ3JpZFJvdzogdHJ1ZSxcbiAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbmZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbn1cblxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbnZhciB1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4ID0gL14obm9ybWFsfG5vbmV8KFxcYih1cmxcXChbXildKlxcKXxjaGFwdGVyX2NvdW50ZXJ8YXR0clxcKFteKV0qXFwpfChuby0pPyhvcGVufGNsb3NlKS1xdW90ZXxpbmhlcml0KSgoXFxiXFxzKil8JHxcXHMrKSkrKSQvO1xuXG52YXIgSUUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChuYXZpZ2F0b3IgJiYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOC4wXCIpID4gMCB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDkuMFwiKSA+IDApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSgpO1xuXG52YXIgcm5kID0gMTAwMDAwO1xuXG52YXIgY29sb3JMb29rdXAgPSB7XG4gIGFxdWE6IFswLCAyNTUsIDI1NV0sXG4gIGxpbWU6IFswLCAyNTUsIDBdLFxuICBzaWx2ZXI6IFsxOTIsIDE5MiwgMTkyXSxcbiAgYmxhY2s6IFswLCAwLCAwXSxcbiAgbWFyb29uOiBbMTI4LCAwLCAwXSxcbiAgdGVhbDogWzAsIDEyOCwgMTI4XSxcbiAgYmx1ZTogWzAsIDAsIDI1NV0sXG4gIG5hdnk6IFswLCAwLCAxMjhdLFxuICB3aGl0ZTogWzI1NSwgMjU1LCAyNTVdLFxuICBmdWNoc2lhOiBbMjU1LCAwLCAyNTVdLFxuICBvbGl2ZTogWzEyOCwgMTI4LCAwXSxcbiAgeWVsbG93OiBbMjU1LCAyNTUsIDBdLFxuICBvcmFuZ2U6IFsyNTUsIDE2NSwgMF0sXG4gIGdyYXk6IFsxMjgsIDEyOCwgMTI4XSxcbiAgcHVycGxlOiBbMTI4LCAwLCAxMjhdLFxuICBncmVlbjogWzAsIDEyOCwgMF0sXG4gIHJlZDogWzI1NSwgMCwgMF0sXG4gIHBpbms6IFsyNTUsIDE5MiwgMjAzXSxcbiAgY3lhbjogWzAsIDI1NSwgMjU1XSxcbiAgdHJhbnNwYXJlbnQ6IFsyNTUsIDI1NSwgMjU1LCAwXVxufTtcbnZhciBfaHVlID0gZnVuY3Rpb24gX2h1ZShoaCwgbTEsIG0yKSB7XG4gIHZhciBoID0gaGggPiAxID8gaGggLSAxIDogaGg7XG4gIGggPSBoaCA8IDAgPyBoaCArIDEgOiBoO1xuICB2YXIgYSA9IGggKiAzIDwgMiA/IG0xICsgKG0yIC0gbTEpICogKDIgLyAzIC0gaCkgKiA2IDogbTE7XG4gIHZhciBiID0gaCA8IDAuNSA/IG0yIDogYTtcbiAgdmFyIGMgPSBoICogNiA8IDEgPyBtMSArIChtMiAtIG0xKSAqIGggKiA2IDogYjtcbiAgcmV0dXJuIGMgKiAyNTUgKyAwLjUgfCAwO1xufTtcbnZhciBERUcyUkFEID0gTWF0aC5QSSAvIDE4MDtcbnZhciBSQUQyREVHID0gMTgwIC8gTWF0aC5QSTtcblxudmFyIGNzc0xpc3QgPSB7XG4gIF9saXN0czoge1xuICAgIHRyYW5zZm9ybXNCYXNlOiBbJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdza2V3WCcsICdza2V3WScsICdyb3RhdGVaJywgJ3JvdGF0ZSddLFxuICAgIHRyYW5zZm9ybXMzRDogWyd0cmFuc2xhdGUzZCcsICd0cmFuc2xhdGVaJywgJ3NjYWxlWicsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncGVyc3BlY3RpdmUnXVxuICB9LFxuICB0cmFuc2Zvcm1Hcm91cDogeyB0cmFuc2xhdGU6IDEsIHRyYW5zbGF0ZTNkOiAxLCBzY2FsZTogMSwgc2NhbGUzZDogMSwgcm90YXRlOiAxLCByb3RhdGUzZDogMSB9LFxuICBmaWx0ZXI6IFsnZ3JheVNjYWxlJywgJ3NlcGlhJywgJ2h1ZVJvdGF0ZScsICdpbnZlcnQnLCAnYnJpZ2h0bmVzcycsICdjb250cmFzdCcsICdibHVyJ10sXG4gIGZpbHRlckNvbnZlcnQ6IHsgZ3JheVNjYWxlOiAnZ3JheXNjYWxlJywgaHVlUm90YXRlOiAnaHVlLXJvdGF0ZScgfVxufTtcbmNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlID0gIUlFID8gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuY29uY2F0KGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXMzRCkgOiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZTtcblxuZnVuY3Rpb24gdG9GaXhlZChudW0sIGxlbmd0aCkge1xuICB2YXIgX3JuZCA9IGxlbmd0aCA/IE1hdGgucG93KDEwLCBsZW5ndGgpIDogcm5kO1xuICB2YXIgbiA9IG51bSB8IDA7XG4gIHZhciBkZWMgPSBudW0gLSBuO1xuICByZXR1cm4gZGVjID8gKGRlYyAqIF9ybmQgKyAobnVtIDwgMCA/IC0wLjUgOiAwLjUpIHwgMCkgLyBfcm5kICsgbiA6IG51bTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWF0cml4KHN0eWxlKSB7XG4gIHJldHVybiB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTW96Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuTW96Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuRE9NTWF0cml4ICYmIG5ldyB3aW5kb3cuRE9NTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTXNDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nc0NTU01hdHJpeChzdHlsZSkgfHwgd2luZG93Lk9DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5PQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuQ1NTTWF0cml4KHN0eWxlKSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBjaGVja1N0eWxlTmFtZShwKSB7XG4gIHZhciBhID0gWydPJywgJ01veicsICdtcycsICdNcycsICdXZWJraXQnXTtcbiAgaWYgKHAgIT09ICdmaWx0ZXInICYmIHAgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSkge1xuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciBfcCA9IHAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwLnN1YnN0cigxKTtcbiAgdmFyIHByZWZpeENzcyA9IGEuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gJycgKyBrZXkgKyBfcCBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeENzc1swXSA/ICcnICsgcHJlZml4Q3NzWzBdICsgX3AgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRHc2FwVHlwZShfcCkge1xuICB2YXIgcCA9IF9wO1xuICBwID0gcCA9PT0gJ3gnID8gJ3RyYW5zbGF0ZVgnIDogcDtcbiAgcCA9IHAgPT09ICd5JyA/ICd0cmFuc2xhdGVZJyA6IHA7XG4gIHAgPSBwID09PSAneicgPyAndHJhbnNsYXRlWicgOiBwO1xuICAvLyBwID0gcCA9PT0gJ3InID8gJ3JvdGF0ZScgOiBwO1xuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb2xvcihfdikge1xuICB2YXIgYSA9IHZvaWQgMDtcbiAgdmFyIHIgPSB2b2lkIDA7XG4gIHZhciBnID0gdm9pZCAwO1xuICB2YXIgYiA9IHZvaWQgMDtcbiAgdmFyIGggPSB2b2lkIDA7XG4gIHZhciBzID0gdm9pZCAwO1xuICB2YXIgbCA9IHZvaWQgMDtcbiAgdmFyIHYgPSBfdjtcbiAgdmFyIF9udW1FeHAgPSAvKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkKSsvZztcbiAgaWYgKCF2KSB7XG4gICAgYSA9IGNvbG9yTG9va3VwLmJsYWNrO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgMjU1LCB2ICYgMjU1XTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodi5jaGFyQXQodi5sZW5ndGggLSAxKSA9PT0gJywnKSB7XG4gICAgICB2ID0gdi5zdWJzdHIoMCwgdi5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKGNvbG9yTG9va3VwW3ZdKSB7XG4gICAgICBhID0gY29sb3JMb29rdXBbdl07XG4gICAgfSBlbHNlIGlmICh2LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAvLyBpcyAjRkZGXG4gICAgICBpZiAodi5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgciA9IHYuY2hhckF0KDEpO1xuICAgICAgICBnID0gdi5jaGFyQXQoMik7XG4gICAgICAgIGIgPSB2LmNoYXJBdCgzKTtcbiAgICAgICAgdiA9ICcjJyArIHIgKyByICsgZyArIGcgKyBiICsgYjtcbiAgICAgIH1cbiAgICAgIHYgPSBwYXJzZUludCh2LnN1YnN0cigxKSwgMTYpO1xuICAgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuICAgIH0gZWxzZSBpZiAodi5zdWJzdHIoMCwgMykgPT09ICdoc2wnKSB7XG4gICAgICBhID0gdi5tYXRjaChfbnVtRXhwKTtcbiAgICAgIGggPSBOdW1iZXIoYVswXSkgJSAzNjAgLyAzNjA7XG4gICAgICBzID0gTnVtYmVyKGFbMV0pIC8gMTAwO1xuICAgICAgbCA9IE51bWJlcihhWzJdKSAvIDEwMDtcbiAgICAgIGcgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcbiAgICAgIHIgPSBsICogMiAtIGc7XG4gICAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG4gICAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG4gICAgICB9XG4gICAgICBhWzBdID0gX2h1ZShoICsgMSAvIDMsIHIsIGcpO1xuICAgICAgYVsxXSA9IF9odWUoaCwgciwgZyk7XG4gICAgICBhWzJdID0gX2h1ZShoIC0gMSAvIDMsIHIsIGcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gdi5tYXRjaChfbnVtRXhwKSB8fCBjb2xvckxvb2t1cC50cmFuc3BhcmVudDtcbiAgICB9XG4gICAgYVswXSA9IE51bWJlcihhWzBdKTtcbiAgICBhWzFdID0gTnVtYmVyKGFbMV0pO1xuICAgIGFbMl0gPSBOdW1iZXIoYVsyXSk7XG5cbiAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG4gICAgICBhWzNdID0gTnVtYmVyKGFbM10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTaGFkb3codikge1xuICBpZiAoIXYpIHtcbiAgICByZXR1cm4gWzAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICB9XG4gIHZhciBpbnNldCA9IHZvaWQgMDtcbiAgaWYgKHYuaW5kZXhPZigncmdiJykgPj0gMCkge1xuICAgIHZhciB0ID0gdi5tYXRjaCgvcmdiKyg/OmEpP1xcKCguKilcXCkvKTtcbiAgICB2YXIgcyA9IHYucmVwbGFjZSh0WzBdLCAnJykudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gICAgaW5zZXQgPSBzLmluZGV4T2YoJ2luc2V0Jyk7XG4gICAgaWYgKGluc2V0ID49IDApIHtcbiAgICAgIHMuc3BsaWNlKGluc2V0LCAxKTtcbiAgICB9XG4gICAgdmFyIGMgPSB0WzFdLnJlcGxhY2UoL1xccysvZywgJycpLnNwbGl0KCcsJyk7XG4gICAgaWYgKGMubGVuZ3RoID09PSAzKSB7XG4gICAgICBjLnB1c2goMSk7XG4gICAgfVxuICAgIHJldHVybiBzLmNvbmNhdChjLCBpbnNldCA+PSAwID8gWydpbnNldCddIDogW10pO1xuICB9XG4gIHZhciB2QXJyID0gdi5zcGxpdCgvXFxzKy8pO1xuICBpbnNldCA9IHZBcnIuaW5kZXhPZignaW5zZXQnKTtcbiAgaWYgKGluc2V0ID49IDApIHtcbiAgICB2QXJyLnNwbGljZShpbnNldCwgMSk7XG4gIH1cbiAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcih2QXJyW3ZBcnIubGVuZ3RoIC0gMV0pO1xuICBjb2xvclszXSA9IHR5cGVvZiBjb2xvclszXSA9PT0gJ251bWJlcicgPyBjb2xvclszXSA6IDE7XG4gIHZBcnIgPSB2QXJyLnNwbGljZSgwLCB2QXJyLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gdkFyci5jb25jYXQoY29sb3IsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG59XG5cbmZ1bmN0aW9uIGdldENvbG9yKHYpIHtcbiAgdmFyIHJnYmEgPSB2Lmxlbmd0aCA9PT0gNCA/ICdyZ2JhJyA6ICdyZ2InO1xuICB2YXIgX3ZhcnMgPSB2Lm1hcChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHJldHVybiBpIDwgMyA/IE1hdGgucm91bmQoZCkgOiBkO1xuICB9KTtcbiAgcmV0dXJuIHJnYmEgKyAnKCcgKyBfdmFycy5qb2luKCcsJykgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtKHApIHtcbiAgcmV0dXJuIGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmluZGV4T2YocCkgPj0gMCA/ICd0cmFuc2Zvcm0nIDogcDtcbn1cblxuZnVuY3Rpb24gaXNDb252ZXJ0KHApIHtcbiAgdmFyIGNzc05hbWUgPSBpc1RyYW5zZm9ybShwKTtcbiAgcmV0dXJuIGNzc0xpc3QuZmlsdGVyLmluZGV4T2YoY3NzTmFtZSkgPj0gMCA/ICdmaWx0ZXInIDogY3NzTmFtZTtcbn1cblxuZnVuY3Rpb24gc3BsaXRGaWx0ZXJUb09iamVjdChkYXRhKSB7XG4gIGlmIChkYXRhID09PSAnbm9uZScgfHwgIWRhdGEgfHwgZGF0YSA9PT0gJycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZmlsdGVyID0gZGF0YS5yZXBsYWNlKCcgJywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH0pO1xuICB2YXIgc3RhcnREYXRhID0ge307XG4gIGZpbHRlci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGRhdGFBcnIgPSBpdGVtLnNwbGl0KCcoJyk7XG4gICAgc3RhcnREYXRhW2RhdGFBcnJbMF1dID0gZGF0YUFyclsxXTtcbiAgfSk7XG4gIHJldHVybiBzdGFydERhdGE7XG59XG5cbmZ1bmN0aW9uIGdldE1hdHJpeCh0KSB7XG4gIHZhciBhcnIgPSB0Lm1hdGNoKC8oPzpcXC18XFxiKVtcXGRcXC1cXC5lXStcXGIvZ2kpO1xuICB2YXIgbSA9IHt9O1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gNikge1xuICAgIG0ubTExID0gcGFyc2VGbG9hdChhcnJbMF0pO1xuICAgIG0ubTEyID0gcGFyc2VGbG9hdChhcnJbMV0pO1xuICAgIG0ubTEzID0gMDtcbiAgICBtLm0xNCA9IDA7XG4gICAgbS5tMjEgPSBwYXJzZUZsb2F0KGFyclsyXSk7XG4gICAgbS5tMjIgPSBwYXJzZUZsb2F0KGFyclszXSk7XG4gICAgbS5tMjMgPSAwO1xuICAgIG0ubTI0ID0gMDtcbiAgICBtLm0zMSA9IDA7XG4gICAgbS5tMzIgPSAwO1xuICAgIG0ubTMzID0gMTtcbiAgICBtLm0zNCA9IDA7XG4gICAgbS5tNDEgPSBwYXJzZUZsb2F0KGFycls0XSk7XG4gICAgbS5tNDIgPSBwYXJzZUZsb2F0KGFycls1XSk7XG4gICAgbS5tNDMgPSAwO1xuICAgIG0ubTQ0ID0gMDtcbiAgfSBlbHNlIHtcbiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgdmFyIGlpID0gaSAlIDQgKyAxO1xuICAgICAgdmFyIGogPSBNYXRoLmZsb29yKGkgLyA0KSArIDE7XG4gICAgICBtWydtJyArIGogKyBpaV0gPSBwYXJzZUZsb2F0KGl0ZW0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gIHZhciBfdHJhbnNmb3JtID0gdHJhbnNmb3JtID09PSAnbm9uZScgfHwgdHJhbnNmb3JtID09PSAnJyA/ICdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCknIDogdHJhbnNmb3JtO1xuICB2YXIgbSA9IGdldE1hdHJpeChfdHJhbnNmb3JtKTtcbiAgdmFyIG0xMSA9IG0ubTExO1xuICB2YXIgbTEyID0gbS5tMTI7XG4gIHZhciBtMTMgPSBtLm0xMztcbiAgdmFyIG0xNCA9IG0ubTE0O1xuICB2YXIgbTIxID0gbS5tMjE7XG4gIHZhciBtMjIgPSBtLm0yMjtcbiAgdmFyIG0yMyA9IG0ubTIzO1xuICB2YXIgbTI0ID0gbS5tMjQ7XG4gIHZhciBtMzEgPSBtLm0zMTtcbiAgdmFyIG0zMiA9IG0ubTMyO1xuICB2YXIgbTMzID0gbS5tMzM7XG4gIHZhciBtMzQgPSBtLm0zNDtcbiAgdmFyIG00MyA9IG0ubTQzO1xuICB2YXIgdDEgPSB2b2lkIDA7XG4gIHZhciB0MiA9IHZvaWQgMDtcbiAgdmFyIHQzID0gdm9pZCAwO1xuICB2YXIgdG0gPSB7fTtcbiAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyB0b0ZpeGVkKG0zMyAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkpIDogMDtcbiAgdG0ucm90YXRlWCA9IHRvRml4ZWQoTWF0aC5hc2luKG0yMykgKiBSQUQyREVHKTtcbiAgdmFyIGFuZ2xlID0gdG0ucm90YXRlWCAqIERFRzJSQUQ7XG4gIHZhciBza2V3WCA9IE1hdGgudGFuKG0yMSk7XG4gIHZhciBza2V3WSA9IE1hdGgudGFuKG0xMik7XG4gIHZhciBjb3MgPSBtMzQgKiB0bS5wZXJzcGVjdGl2ZTtcbiAgdmFyIHNpbiA9IHZvaWQgMDtcbiAgLy8gcm90YXRlWFxuICBpZiAoYW5nbGUpIHtcbiAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgdDEgPSBtMjEgKiBjb3MgKyBtMzEgKiBzaW47XG4gICAgdDIgPSBtMjIgKiBjb3MgKyBtMzIgKiBzaW47XG4gICAgdDMgPSBtMjMgKiBjb3MgKyBtMzMgKiBzaW47XG4gICAgbTMxID0gbTIxICogLXNpbiArIG0zMSAqIGNvcztcbiAgICBtMzIgPSBtMjIgKiAtc2luICsgbTMyICogY29zO1xuICAgIG0zMyA9IG0yMyAqIC1zaW4gKyBtMzMgKiBjb3M7XG4gICAgbTM0ID0gbTI0ICogLXNpbiArIG0zNCAqIGNvcztcbiAgICBtMjEgPSB0MTtcbiAgICBtMjIgPSB0MjtcbiAgICBtMjMgPSB0MztcbiAgfVxuICAvLyByb3RhdGVZXG4gIGFuZ2xlID0gTWF0aC5hdGFuMihtMzEsIG0zMyk7XG4gIHRtLnJvdGF0ZVkgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG4gIGlmIChhbmdsZSkge1xuICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG4gICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICB0MSA9IG0xMSAqIGNvcyAtIG0zMSAqIHNpbjtcbiAgICB0MiA9IG0xMiAqIGNvcyAtIG0zMiAqIHNpbjtcbiAgICB0MyA9IG0xMyAqIGNvcyAtIG0zMyAqIHNpbjtcbiAgICBtMzIgPSBtMTIgKiBzaW4gKyBtMzIgKiBjb3M7XG4gICAgbTMzID0gbTEzICogc2luICsgbTMzICogY29zO1xuICAgIG0zNCA9IG0xNCAqIHNpbiArIG0zNCAqIGNvcztcbiAgICBtMTEgPSB0MTtcbiAgICBtMTIgPSB0MjtcbiAgICBtMTMgPSB0MztcbiAgfVxuICAvLyByb3RhdGVaXG4gIGFuZ2xlID0gTWF0aC5hdGFuMihtMTIsIG0xMSk7XG4gIHRtLnJvdGF0ZSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcbiAgaWYgKGFuZ2xlKSB7XG4gICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgIG0xMSA9IG0xMSAqIGNvcyArIG0yMSAqIHNpbjtcbiAgICB0MiA9IG0xMiAqIGNvcyArIG0yMiAqIHNpbjtcbiAgICBtMjIgPSBtMTIgKiAtc2luICsgbTIyICogY29zO1xuICAgIG0yMyA9IG0xMyAqIC1zaW4gKyBtMjMgKiBjb3M7XG4gICAgbTEyID0gdDI7XG4gIH1cblxuICBpZiAodG0ucm90YXRlWCAmJiBNYXRoLmFicyh0bS5yb3RhdGVYKSArIE1hdGguYWJzKHRtLnJvdGF0ZSkgPiAzNTkuOSkge1xuICAgIHRtLnJvdGF0ZVggPSB0bS5yb3RhdGUgPSAwO1xuICAgIHRtLnJvdGF0ZVkgKz0gMTgwO1xuICB9XG4gIHRtLnNjYWxlWCA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0xMSAqIG0xMSArIG0xMiAqIG0xMikpO1xuICB0bS5zY2FsZVkgPSB0b0ZpeGVkKE1hdGguc3FydChtMjIgKiBtMjIgKyBtMzIgKiBtMzIpKTtcbiAgdG0uc2NhbGVaID0gdG9GaXhlZChNYXRoLnNxcnQobTIzICogbTIzICsgbTMzICogbTMzKSk7XG4gIC8vIOS4jeeuoSBza2V3WCBza2V3WeS6hu+8m1xuICB0bS5za2V3WCA9IHNrZXdYID09PSAtc2tld1kgPyAwIDogc2tld1g7XG4gIHRtLnNrZXdZID0gc2tld1kgPT09IC1za2V3WCA/IDAgOiBza2V3WTtcbiAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyAxIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSA6IDA7XG4gIHRtLnRyYW5zbGF0ZVggPSBtLm00MTtcbiAgdG0udHJhbnNsYXRlWSA9IG0ubTQyO1xuICB0bS50cmFuc2xhdGVaID0gbTQzO1xuICByZXR1cm4gdG07XG59XG5cbmZ1bmN0aW9uIHN0eWxlc1RvQ3NzKGtleSwgdmFsdWUpIHtcbiAgdmFyIF92YWx1ZSA9IHZvaWQgMDtcbiAgaWYgKCFpc1VuaXRsZXNzTnVtYmVyW2tleV0gJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIF92YWx1ZSA9ICcgJyArIHZhbHVlICsgJ3B4JztcbiAgfSBlbHNlIGlmIChrZXkgPT09ICdjb250ZW50JyAmJiAhdW5xdW90ZWRDb250ZW50VmFsdWVSZWdleC50ZXN0KHZhbHVlKSkge1xuICAgIF92YWx1ZSA9ICdcXCcnICsgdmFsdWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpICsgJ1xcJyc7XG4gIH1cbiAgcmV0dXJuIF92YWx1ZSB8fCB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0VW5pdChwLCB2KSB7XG4gIHZhciBjdXJyZW50VW5pdCA9IHYgJiYgdi50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2lnLCAnJyk7XG4gIHZhciB1bml0ID0gJyc7XG4gIGlmIChwLmluZGV4T2YoJ3RyYW5zbGF0ZScpID49IDAgfHwgcC5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgfHwgcC5pbmRleE9mKCdibHVyJykgPj0gMCkge1xuICAgIHVuaXQgPSAncHgnO1xuICB9IGVsc2UgaWYgKHAuaW5kZXhPZignc2tldycpID49IDAgfHwgcC5pbmRleE9mKCdyb3RhdGUnKSA+PSAwKSB7XG4gICAgdW5pdCA9ICdkZWcnO1xuICB9XG4gIHJldHVybiBjdXJyZW50VW5pdCB8fCB1bml0O1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZXMocCwgZCwgdSkge1xuICByZXR1cm4gcCArICcoJyArIGQgKyAodSB8fCAnJykgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGZpbmRTdHlsZUJ5TmFtZShjc3NBcnJheSwgbmFtZSkge1xuICB2YXIgcmV0ID0gbnVsbDtcbiAgaWYgKGNzc0FycmF5KSB7XG4gICAgY3NzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoX2NuYW1lKSB7XG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjTmFtZSA9IF9jbmFtZS5zcGxpdCgnKCcpWzBdO1xuICAgICAgdmFyIGEgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihjTmFtZSkgPj0gMDtcbiAgICAgIHZhciBiID0gbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIGNOYW1lLnN1YnN0cmluZygwLCBjTmFtZS5sZW5ndGggLSAxKS5pbmRleE9mKG5hbWUpID49IDA7XG4gICAgICB2YXIgYyA9IGNOYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIChjTmFtZS5zdWJzdHJpbmcoMCwgY05hbWUubGVuZ3RoIC0gMikgPT09IG5hbWUgfHwgbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAyKSA9PT0gY05hbWUpO1xuICAgICAgaWYgKGNOYW1lID09PSBuYW1lIHx8IGEgfHwgYiB8fCBjKSB7XG4gICAgICAgIHJldCA9IF9jbmFtZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtZXJnZVN0eWxlKGN1cnJlbnQsIGNoYW5nZSkge1xuICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudCA9PT0gJycpIHtcbiAgICByZXR1cm4gY2hhbmdlO1xuICB9XG4gIGlmICghY2hhbmdlIHx8IGNoYW5nZSA9PT0gJycpIHtcbiAgICByZXR1cm4gY3VycmVudDtcbiAgfVxuICB2YXIgX2N1cnJlbnQgPSBjdXJyZW50LnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbTtcbiAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gKyAnKSc7XG4gIH0pO1xuICB2YXIgX2NoYW5nZSA9IGNoYW5nZS5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG4gIH0pO1xuICBfY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZU9ubHkpIHtcbiAgICB2YXIgY2hhbmdlQXJyID0gY2hhbmdlT25seS5zcGxpdCgnKCcpO1xuICAgIHZhciBjaGFuZ2VOYW1lID0gY2hhbmdlQXJyWzBdO1xuICAgIHZhciBjdXJyZW50U2FtZSA9IGZpbmRTdHlsZUJ5TmFtZShfY3VycmVudCwgY2hhbmdlTmFtZSk7XG4gICAgaWYgKCFjdXJyZW50U2FtZSkge1xuICAgICAgX2N1cnJlbnQucHVzaChjaGFuZ2VPbmx5ICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4ID0gX2N1cnJlbnQuaW5kZXhPZihjdXJyZW50U2FtZSk7XG4gICAgICBfY3VycmVudFtpbmRleF0gPSBjaGFuZ2VPbmx5ICsgJyknO1xuICAgIH1cbiAgfSk7XG4gIF9jdXJyZW50LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICBpZiAoaXRlbS5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgJiYgaSkge1xuICAgICAgX2N1cnJlbnQuc3BsaWNlKGksIDEpO1xuICAgICAgX2N1cnJlbnQudW5zaGlmdChpdGVtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gX2N1cnJlbnQuam9pbignICcpLnRyaW0oKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY3NzTGlzdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLXV0aWxzL21haW4uanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkdyb3VwID0gZXhwb3J0cy5CdXR0b24gPSB1bmRlZmluZWQ7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG52YXIgX2dyb3VwID0gcmVxdWlyZSgnLi9ncm91cCcpO1xuXG52YXIgX2dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyb3VwKTtcblxudmFyIF9yYWRpb0J1dHRvbiA9IHJlcXVpcmUoJy4vcmFkaW9CdXR0b24nKTtcblxudmFyIF9yYWRpb0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpb0J1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5fcmFkaW8yW1wiZGVmYXVsdFwiXS5CdXR0b24gPSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXTtcbl9yYWRpbzJbXCJkZWZhdWx0XCJdLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5leHBvcnRzLkJ1dHRvbiA9IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5Hcm91cCA9IF9ncm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfcmFkaW8yW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yYWRpby9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjRHJvcGRvd24gPSByZXF1aXJlKCdyYy1kcm9wZG93bicpO1xuXG52YXIgX3JjRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNEcm9wZG93bik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERyb3Bkb3duLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERyb3Bkb3duKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERyb3Bkb3duKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIERyb3Bkb3duLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uTmFtZSA9IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuICAgICAgICB2YXIgX3Byb3BzJHBsYWNlbWVudCA9IHRoaXMucHJvcHMucGxhY2VtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50ID0gX3Byb3BzJHBsYWNlbWVudCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkcGxhY2VtZW50O1xuXG4gICAgICAgIGlmIChwbGFjZW1lbnQuaW5kZXhPZigndG9wJykgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdzbGlkZS1kb3duJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3NsaWRlLXVwJztcbiAgICB9O1xuXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgICAgdmFyIGRyb3Bkb3duVHJpZ2dlciA9ICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShjaGlsZHJlbiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXRyaWdnZXInKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNEcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgdHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0VHJhbnNpdGlvbk5hbWUoKSB9LCB0aGlzLnByb3BzKSxcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlclxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gRHJvcGRvd247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd247XG5cbkRyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24nLFxuICAgIG1vdXNlRW50ZXJEZWxheTogMC4xNSxcbiAgICBtb3VzZUxlYXZlRGVsYXk6IDAuMSxcbiAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUmFkaW9CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaW9CdXR0b24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9CdXR0b24pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHRoaXMucHJvcHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmFkaW9CdXR0b247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9CdXR0b247XG5cblJhZGlvQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8tYnV0dG9uJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvQnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JjVGFibGUgPSByZXF1aXJlKCdyYy10YWJsZScpO1xuXG52YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uR3JvdXApIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW5Hcm91cCwgX1JjVGFibGUkQ29sdW1uR3JvdXApO1xuXG4gIGZ1bmN0aW9uIENvbHVtbkdyb3VwKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uR3JvdXApO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JjVGFibGUkQ29sdW1uR3JvdXAuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uR3JvdXA7XG59KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uR3JvdXApO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvQ29sdW1uR3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL0NoZWNrYm94Jyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2hlY2tib3gvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFpFUk86IDQ4LFxuICBOSU5FOiA1NyxcblxuICBOVU1QQURfWkVSTzogOTYsXG4gIE5VTVBBRF9OSU5FOiAxMDUsXG5cbiAgQkFDS1NQQUNFOiA4LFxuICBERUxFVEU6IDQ2LFxuICBFTlRFUjogMTMsXG5cbiAgQVJST1dfVVA6IDM4LFxuICBBUlJPV19ET1dOOiA0MFxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9LZXlDb2RlLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgLy8gT3B0aW9ucy5qc3hcbiAgaXRlbXNfcGVyX3BhZ2U6ICfmnaEv6aG1JyxcbiAganVtcF90bzogJ+i3s+iHsycsXG4gIHBhZ2U6ICfpobUnLFxuXG4gIC8vIFBhZ2luYXRpb24uanN4XG4gIHByZXZfcGFnZTogJ+S4iuS4gOmhtScsXG4gIG5leHRfcGFnZTogJ+S4i+S4gOmhtScsXG4gIHByZXZfNTogJ+WQkeWJjSA1IOmhtScsXG4gIG5leHRfNTogJ+WQkeWQjiA1IOmhtScsXG4gIHByZXZfMzogJ+WQkeWJjSAzIOmhtScsXG4gIG5leHRfMzogJ+WQkeWQjiAzIOmhtSdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04uanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbmV4cG9ydHMuZ2V0VG9kYXlUaW1lID0gZ2V0VG9kYXlUaW1lO1xuZXhwb3J0cy5nZXRUaXRsZVN0cmluZyA9IGdldFRpdGxlU3RyaW5nO1xuZXhwb3J0cy5nZXRUb2RheVRpbWVTdHIgPSBnZXRUb2RheVRpbWVTdHI7XG5leHBvcnRzLnN5bmNUaW1lID0gc3luY1RpbWU7XG5leHBvcnRzLmdldFRpbWVDb25maWcgPSBnZXRUaW1lQ29uZmlnO1xuZXhwb3J0cy5pc1RpbWVWYWxpZEJ5Q29uZmlnID0gaXNUaW1lVmFsaWRCeUNvbmZpZztcbmV4cG9ydHMuaXNUaW1lVmFsaWQgPSBpc1RpbWVWYWxpZDtcbmV4cG9ydHMuaXNBbGxvd2VkRGF0ZSA9IGlzQWxsb3dlZERhdGU7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdERpc2FibGVkVGltZSA9IHtcbiAgZGlzYWJsZWRIb3VyczogZnVuY3Rpb24gZGlzYWJsZWRIb3VycygpIHtcbiAgICByZXR1cm4gW107XG4gIH0sXG4gIGRpc2FibGVkTWludXRlczogZnVuY3Rpb24gZGlzYWJsZWRNaW51dGVzKCkge1xuICAgIHJldHVybiBbXTtcbiAgfSxcbiAgZGlzYWJsZWRTZWNvbmRzOiBmdW5jdGlvbiBkaXNhYmxlZFNlY29uZHMoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRUb2RheVRpbWUodmFsdWUpIHtcbiAgdmFyIHRvZGF5ID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcbiAgdG9kYXkubG9jYWxlKHZhbHVlLmxvY2FsZSgpKS51dGNPZmZzZXQodmFsdWUudXRjT2Zmc2V0KCkpO1xuICByZXR1cm4gdG9kYXk7XG59XG5cbmZ1bmN0aW9uIGdldFRpdGxlU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS55ZWFyKCkgKyAnLScgKyAodmFsdWUubW9udGgoKSArIDEpICsgJy0nICsgdmFsdWUuZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBnZXRUb2RheVRpbWVTdHIodmFsdWUpIHtcbiAgdmFyIHRvZGF5ID0gZ2V0VG9kYXlUaW1lKHZhbHVlKTtcbiAgcmV0dXJuIGdldFRpdGxlU3RyaW5nKHRvZGF5KTtcbn1cblxuZnVuY3Rpb24gc3luY1RpbWUoZnJvbSwgdG8pIHtcbiAgdG8uaG91cihmcm9tLmhvdXIoKSk7XG4gIHRvLm1pbnV0ZShmcm9tLm1pbnV0ZSgpKTtcbiAgdG8uc2Vjb25kKGZyb20uc2Vjb25kKCkpO1xufVxuXG5mdW5jdGlvbiBnZXRUaW1lQ29uZmlnKHZhbHVlLCBkaXNhYmxlZFRpbWUpIHtcbiAgdmFyIGRpc2FibGVkVGltZUNvbmZpZyA9IGRpc2FibGVkVGltZSA/IGRpc2FibGVkVGltZSh2YWx1ZSkgOiB7fTtcbiAgZGlzYWJsZWRUaW1lQ29uZmlnID0gKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0RGlzYWJsZWRUaW1lLCBkaXNhYmxlZFRpbWVDb25maWcpO1xuICByZXR1cm4gZGlzYWJsZWRUaW1lQ29uZmlnO1xufVxuXG5mdW5jdGlvbiBpc1RpbWVWYWxpZEJ5Q29uZmlnKHZhbHVlLCBkaXNhYmxlZFRpbWVDb25maWcpIHtcbiAgdmFyIGludmFsaWRUaW1lID0gZmFsc2U7XG4gIGlmICh2YWx1ZSkge1xuICAgIHZhciBob3VyID0gdmFsdWUuaG91cigpO1xuICAgIHZhciBtaW51dGVzID0gdmFsdWUubWludXRlKCk7XG4gICAgdmFyIHNlY29uZHMgPSB2YWx1ZS5zZWNvbmQoKTtcbiAgICB2YXIgZGlzYWJsZWRIb3VycyA9IGRpc2FibGVkVGltZUNvbmZpZy5kaXNhYmxlZEhvdXJzKCk7XG4gICAgaWYgKGRpc2FibGVkSG91cnMuaW5kZXhPZihob3VyKSA9PT0gLTEpIHtcbiAgICAgIHZhciBkaXNhYmxlZE1pbnV0ZXMgPSBkaXNhYmxlZFRpbWVDb25maWcuZGlzYWJsZWRNaW51dGVzKGhvdXIpO1xuICAgICAgaWYgKGRpc2FibGVkTWludXRlcy5pbmRleE9mKG1pbnV0ZXMpID09PSAtMSkge1xuICAgICAgICB2YXIgZGlzYWJsZWRTZWNvbmRzID0gZGlzYWJsZWRUaW1lQ29uZmlnLmRpc2FibGVkU2Vjb25kcyhob3VyLCBtaW51dGVzKTtcbiAgICAgICAgaW52YWxpZFRpbWUgPSBkaXNhYmxlZFNlY29uZHMuaW5kZXhPZihzZWNvbmRzKSAhPT0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkVGltZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFsaWRUaW1lID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICFpbnZhbGlkVGltZTtcbn1cblxuZnVuY3Rpb24gaXNUaW1lVmFsaWQodmFsdWUsIGRpc2FibGVkVGltZSkge1xuICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gZ2V0VGltZUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lKTtcbiAgcmV0dXJuIGlzVGltZVZhbGlkQnlDb25maWcodmFsdWUsIGRpc2FibGVkVGltZUNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGlzQWxsb3dlZERhdGUodmFsdWUsIGRpc2FibGVkRGF0ZSwgZGlzYWJsZWRUaW1lKSB7XG4gIGlmIChkaXNhYmxlZERhdGUpIHtcbiAgICBpZiAoZGlzYWJsZWREYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoZGlzYWJsZWRUaW1lKSB7XG4gICAgaWYgKCFpc1RpbWVWYWxpZCh2YWx1ZSwgZGlzYWJsZWRUaW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvdXRpbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9UYWJsZSA9IHJlcXVpcmUoJy4vVGFibGUnKTtcblxudmFyIF9UYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9UYWJsZTJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vcmFkaW8vc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vY2hlY2tib3gvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vZHJvcGRvd24vc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vc3Bpbi9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9wYWdpbmF0aW9uL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9zdHlsZVV0aWxzID0gcmVxdWlyZSgnc3R5bGUtdXRpbHMnKTtcblxudmFyIF9UaW1lTGluZSA9IHJlcXVpcmUoJy4vVGltZUxpbmUnKTtcblxudmFyIF9UaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGluZSk7XG5cbnZhciBfcGx1Z2lucyA9IHJlcXVpcmUoJy4vcGx1Z2lucycpO1xuXG52YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF90aWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIHBlckZyYW1lID0gTWF0aC5yb3VuZCgxMDAwIC8gNjApO1xuXG52YXIgVHdlZW5PbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHdlZW5PbmUsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFR3ZWVuT25lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX3RoaXMucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0YXJ0TW9tZW50ID0gX3RoaXMudGltZUxpbmUucHJvZ3Jlc3NUaW1lO1xuICAgICAgX3RoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgIF90aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgIGlmIChwcm9wcy5hbmltYXRpb24gJiYgT2JqZWN0LmtleXMocHJvcHMuYW5pbWF0aW9uKS5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMudGltZUxpbmUgPSBuZXcgX1RpbWVMaW5lMltcImRlZmF1bHRcIl0oX3RoaXMuZG9tLCAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKHByb3BzLmFuaW1hdGlvbiksIHsgYXR0cjogcHJvcHMuYXR0ciwgd2lsbENoYW5nZTogcHJvcHMud2lsbENoYW5nZSB9KTtcbiAgICAgICAgLy8g6aKE5YWI5rOo5YaMIHJhZiwg5Yid5aeL5Yqo55S75pWw5YC844CCXG4gICAgICAgIF90aGlzLnJhZigwLCB0cnVlKTtcbiAgICAgICAgLy8g5byA5aeL5Yqo55S7XG4gICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgaWYgKF90aGlzLnBhdXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5yYWZJRCA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5hZGQoX3RoaXMucmFmKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZnJhbWUgPSBmdW5jdGlvbiAoZGF0ZSwgcmVnaXN0ZXIpIHtcbiAgICAgIHZhciByZWdpc3Rlck1vbWVudCA9IHJlZ2lzdGVyID8gZGF0ZSA6IDA7XG4gICAgICB2YXIgbW9tZW50ID0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWUgKyByZWdpc3Rlck1vbWVudCArIF90aGlzLnN0YXJ0TW9tZW50O1xuICAgICAgaWYgKCFyZWdpc3RlciAmJiBtb21lbnQgPCBwZXJGcmFtZSAmJiB0eXBlb2YgX3RoaXMucHJvcHMubW9tZW50ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAvLyDms6jlhozlrozlkI7vvIznrKzkuIDluKfpooTlhYjot5HliqjvvIwg6byg5qCH6Lef6ZqPXG4gICAgICAgIG1vbWVudCA9IHBlckZyYW1lO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLnJldmVyc2UpIHtcbiAgICAgICAgbW9tZW50ID0gKF90aGlzLnN0YXJ0TW9tZW50IHx8IDApIC0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWU7XG4gICAgICB9XG4gICAgICBtb21lbnQgPSBtb21lbnQgPiBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgPyBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgOiBtb21lbnQ7XG4gICAgICBtb21lbnQgPSBtb21lbnQgPD0gMCA/IDAgOiBtb21lbnQ7XG4gICAgICBpZiAobW9tZW50IDwgX3RoaXMubW9tZW50ICYmICFfdGhpcy5yZXZlcnNlKSB7XG4gICAgICAgIF90aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5tb21lbnQgPSBtb21lbnQ7XG4gICAgICBfdGhpcy50aW1lTGluZS5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlO1xuICAgICAgX3RoaXMudGltZUxpbmUuZnJhbWUobW9tZW50KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmFmID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG4gICAgICBfdGhpcy5mcmFtZShkYXRlLCByZWdpc3Rlcik7XG4gICAgICBpZiAoX3RoaXMubW9tZW50ID49IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSAmJiAhX3RoaXMucmV2ZXJzZSB8fCBfdGhpcy5wYXVzZWQgfHwgX3RoaXMucmV2ZXJzZSAmJiBfdGhpcy5tb21lbnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGlja2VyMltcImRlZmF1bHRcIl0uY2xlYXIoX3RoaXMucmFmSUQpO1xuICAgICAgX3RoaXMucmFmSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmFmSUQgPSAtMTtcbiAgICBfdGhpcy5tb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcbiAgICBfdGhpcy5zdGFydE1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgX3RoaXMucGF1c2VkID0gX3RoaXMucHJvcHMucGF1c2VkO1xuICAgIF90aGlzLnJldmVyc2UgPSBfdGhpcy5wcm9wcy5yZXZlcnNlO1xuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgX3RoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZG9tID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMub25DaGFuZ2UgPSBuZXh0UHJvcHMub25DaGFuZ2U7XG4gICAgLy8g6Lez5bin5LqL5Lu2IG1vbWVudDtcbiAgICB2YXIgbmV3TW9tZW50ID0gbmV4dFByb3BzLm1vbWVudDtcbiAgICB0aGlzLm5ld01vbWVudEFuaW0gPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG5ld01vbWVudCA9PT0gJ251bWJlcicgJiYgbmV3TW9tZW50ICE9PSB0aGlzLm1vbWVudCkge1xuICAgICAgdGhpcy5zdGFydE1vbWVudCA9IG5ld01vbWVudDtcbiAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgIGlmICh0aGlzLnJhZklEID09PSAtMSAmJiAhbmV4dFByb3BzLnBhdXNlZCkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi50aW1lTGluZS5yZXNldEFuaW1EYXRhKCk7XG4gICAgICAgICAgdmFyIHN0eWxlID0gbmV4dFByb3BzLnN0eWxlO1xuICAgICAgICAgIF90aGlzMi5kb20uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBfdGhpczIuZG9tLnN0eWxlW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgc3R5bGVba2V5XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX3RoaXMyLnBsYXkoKTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIOWKqOeUu+WkhOeQhlxuICAgIHZhciBuZXdBbmltYXRpb24gPSBuZXh0UHJvcHMuYW5pbWF0aW9uO1xuICAgIHZhciBjdXJyZW50QW5pbWF0aW9uID0gdGhpcy5wcm9wcy5hbmltYXRpb247XG4gICAgdmFyIGVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKShjdXJyZW50QW5pbWF0aW9uLCBuZXdBbmltYXRpb24pO1xuICAgIHZhciBzdHlsZUVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKSh0aGlzLnByb3BzLnN0eWxlLCBuZXh0UHJvcHMuc3R5bGUpO1xuICAgIC8vIOWmguaenCBhbmltYXRpb24g5LiN5ZCM77yMIOmHjeaWsOWKqOeUu1xuICAgIHRoaXMucmVzdGFydEFuaW0gPSBmYWxzZTtcbiAgICBpZiAoIWVxdWFsKSB7XG4gICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgaWYgKG5leHRQcm9wcy5yZXNldFN0eWxlQm9vbCAmJiB0aGlzLnRpbWVMaW5lKSB7XG4gICAgICAgIHRoaXMudGltZUxpbmUucmVzZXREZWZhdWx0U3R5bGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSAwO1xuICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG4gICAgICAvLyB0aGlzLnN0YXJ0KG5leHRQcm9wcyk7XG4gICAgfSBlbHNlIGlmICghc3R5bGVFcXVhbCkge1xuICAgICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDnm7jlkIzvvIzvvIxzdHlsZSDkuI3lkIzvvIzku47lvZPliY3ml7bpl7TlvIDmlL7jgIJcbiAgICAgIGlmICh0aGlzLnJhZklEICE9PSAtMSkge1xuICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG4gICAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG4gICAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8g5pqC5YGc5YCS5pS+XG4gICAgaWYgKHRoaXMucGF1c2VkICE9PSBuZXh0UHJvcHMucGF1c2VkIHx8IHRoaXMucmV2ZXJzZSAhPT0gbmV4dFByb3BzLnJldmVyc2UpIHtcbiAgICAgIHRoaXMucGF1c2VkID0gbmV4dFByb3BzLnBhdXNlZDtcbiAgICAgIHRoaXMucmV2ZXJzZSA9IG5leHRQcm9wcy5yZXZlcnNlO1xuICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5yZXZlcnNlICYmIG5leHRQcm9wcy5yZXZlcnNlRGVsYXkpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS50aW1lb3V0KHRoaXMucmVzdGFydCwgbmV4dFByb3BzLnJldmVyc2VEZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAvLyDmoLflvI/mm7TmlrDkuoblkI7lho3miafooYzliqjnlLvvvJtcbiAgICBpZiAodGhpcy5yZXN0YXJ0QW5pbSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5uZXdNb21lbnRBbmltKSB7XG4gICAgICB0aGlzLnJhZigpO1xuICAgIH1cbiAgfTtcblxuICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIFsnYW5pbWF0aW9uJywgJ2NvbXBvbmVudCcsICdyZXZlcnNlRGVsYXknLCAnYXR0cicsICdwYXVzZWQnLCAncmV2ZXJzZScsICdtb21lbnQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgIH0pO1xuICAgIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuc3R5bGUpO1xuICAgIE9iamVjdC5rZXlzKHByb3BzLnN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICBpZiAocC5tYXRjaCgvZmlsdGVyL2kpKSB7XG4gICAgICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5zdHlsZVtwcmVmaXggKyAnRmlsdGVyJ10gPSBwcm9wcy5zdHlsZVtwXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJvcHMuY29tcG9uZW50ID0gdHlwZW9mIHByb3BzLmNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucHJvcHMuY29tcG9uZW50UmVwbGFjZSA6IHByb3BzLmNvbXBvbmVudDtcbiAgICBpZiAoIXByb3BzLmNvbXBvbmVudCkge1xuICAgICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gVHdlZW5PbmU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXG5Ud2Vlbk9uZS5wcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGNvbXBvbmVudFJlcGxhY2U6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBhbmltYXRpb246IG9iamVjdE9yQXJyYXksXG4gIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBwYXVzZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgcmV2ZXJzZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICByZXZlcnNlRGVsYXk6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBtb21lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBhdHRyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICByZXNldFN0eWxlQm9vbDogX3JlYWN0LlByb3BUeXBlcy5ib29sXG59O1xuXG5Ud2Vlbk9uZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ2RpdicsXG4gIHJldmVyc2VEZWxheTogMCxcbiAgYXR0cjogJ3N0eWxlJyxcbiAgb25DaGFuZ2U6IG5vb3AsXG4gIHdpbGxDaGFuZ2U6IHRydWVcbn07XG5Ud2Vlbk9uZS5wbHVnaW5zID0gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R3ZWVuRnVuY3Rpb25zID0gcmVxdWlyZSgndHdlZW4tZnVuY3Rpb25zJyk7XG5cbnZhciBfdHdlZW5GdW5jdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHdlZW5GdW5jdGlvbnMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdLnBhdGggPSBmdW5jdGlvbiAoX3BhdGgsIF9wYXJhbSkge1xuICB2YXIgcGFyYW0gPSBfcGFyYW0gfHwge307XG4gIHZhciBwYXRoTm9kZSA9ICgwLCBfdXRpbC5wYXJzZVBhdGgpKF9wYXRoKTtcbiAgdmFyIHBhdGhMZW5ndGggPSBwYXRoTm9kZS5nZXRUb3RhbExlbmd0aCgpO1xuICB2YXIgcmVjdCA9IHBhcmFtLnJlY3QgfHwgMTAwOyAvLyBwYXRoIOeahOWkp+Wwj++8jDEwMCAqIDEwMO+8jFxuICB2YXIgbGVuZ3RoUGl4ZWwgPSBwYXJhbS5sZW5ndGhQaXhlbCB8fCAxNTAwOyAvLyDnur/kuIrlj5bngrnlg4/ntKDvvIzpu5jorqTliIbkuLogMTUwMCDmrrXjgILjgIJcbiAgdmFyIHBvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aFBpeGVsOyBpKyspIHtcbiAgICBwb2ludHMucHVzaChwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKHBhdGhMZW5ndGggLyBsZW5ndGhQaXhlbCAqIGkpKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gcGF0aCh0LCBiLCBfYywgZCkge1xuICAgIHZhciBwID0gX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl0ubGluZWFyKHQsIGIsIF9jLCBkKTtcbiAgICB2YXIgdGltZVBvaW50WCA9IHJlY3QgKiBwOyAvLyBYIOi9tOeahOeZvuWIhuavlDtcbiAgICAvLyDlj5blh7ogeCDovbTnmb7liIbmr5TkuIrnmoTngrk7XG4gICAgdmFyIHBvaW50ID0gcG9pbnRzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0ueCA+PSB0aW1lUG9pbnRYO1xuICAgIH0pWzBdIHx8IHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocCAqIHBhdGhMZW5ndGgpO1xuICAgIHJldHVybiAxIC0gcG9pbnQueSAvIHJlY3Q7XG4gIH07XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9lYXNpbmcuanNcbiAqKiBtb2R1bGUgaWQgPSA2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCJleHBvcnQgY29uc3QgTUVOVSA9IDFcclxuZXhwb3J0IGNvbnN0IERFVEFJTCA9IDJcclxuZXhwb3J0IGNvbnN0IEFERCA9IDNcclxuZXhwb3J0IGNvbnN0IFVQREFURSA9IDRcclxuZXhwb3J0IGNvbnN0IERFTEVURSA9IDVcclxuZXhwb3J0IGNvbnN0IENIRUNLID0gNlxyXG5leHBvcnQgY29uc3QgVVBMT0FEID0gN1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qc1xuICoqLyIsInZhciBub3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZS1ub3cnKVxuICAsIHJvb3QgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvd1xuICAsIHZlbmRvcnMgPSBbJ21veicsICd3ZWJraXQnXVxuICAsIHN1ZmZpeCA9ICdBbmltYXRpb25GcmFtZSdcbiAgLCByYWYgPSByb290WydyZXF1ZXN0JyArIHN1ZmZpeF1cbiAgLCBjYWYgPSByb290WydjYW5jZWwnICsgc3VmZml4XSB8fCByb290WydjYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cblxuZm9yKHZhciBpID0gMDsgIXJhZiAmJiBpIDwgdmVuZG9ycy5sZW5ndGg7IGkrKykge1xuICByYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnUmVxdWVzdCcgKyBzdWZmaXhdXG4gIGNhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWwnICsgc3VmZml4XVxuICAgICAgfHwgcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxufVxuXG4vLyBTb21lIHZlcnNpb25zIG9mIEZGIGhhdmUgckFGIGJ1dCBub3QgY0FGXG5pZighcmFmIHx8ICFjYWYpIHtcbiAgdmFyIGxhc3QgPSAwXG4gICAgLCBpZCA9IDBcbiAgICAsIHF1ZXVlID0gW11cbiAgICAsIGZyYW1lRHVyYXRpb24gPSAxMDAwIC8gNjBcblxuICByYWYgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdmFyIF9ub3cgPSBub3coKVxuICAgICAgICAsIG5leHQgPSBNYXRoLm1heCgwLCBmcmFtZUR1cmF0aW9uIC0gKF9ub3cgLSBsYXN0KSlcbiAgICAgIGxhc3QgPSBuZXh0ICsgX25vd1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNwID0gcXVldWUuc2xpY2UoMClcbiAgICAgICAgLy8gQ2xlYXIgcXVldWUgaGVyZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGNhbGxiYWNrcyBmcm9tIGFwcGVuZGluZyBsaXN0ZW5lcnNcbiAgICAgICAgLy8gdG8gdGhlIGN1cnJlbnQgZnJhbWUncyBxdWV1ZVxuICAgICAgICBxdWV1ZS5sZW5ndGggPSAwXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmKCFjcFtpXS5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgY3BbaV0uY2FsbGJhY2sobGFzdClcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0aHJvdyBlIH0sIDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBNYXRoLnJvdW5kKG5leHQpKVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKHtcbiAgICAgIGhhbmRsZTogKytpZCxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIGNhbmNlbGxlZDogZmFsc2VcbiAgICB9KVxuICAgIHJldHVybiBpZFxuICB9XG5cbiAgY2FmID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZihxdWV1ZVtpXS5oYW5kbGUgPT09IGhhbmRsZSkge1xuICAgICAgICBxdWV1ZVtpXS5jYW5jZWxsZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4pIHtcbiAgLy8gV3JhcCBpbiBhIG5ldyBmdW5jdGlvbiB0byBwcmV2ZW50XG4gIC8vIGBjYW5jZWxgIHBvdGVudGlhbGx5IGJlaW5nIGFzc2lnbmVkXG4gIC8vIHRvIHRoZSBuYXRpdmUgckFGIGZ1bmN0aW9uXG4gIHJldHVybiByYWYuY2FsbChyb290LCBmbilcbn1cbm1vZHVsZS5leHBvcnRzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICBjYWYuYXBwbHkocm9vdCwgYXJndW1lbnRzKVxufVxubW9kdWxlLmV4cG9ydHMucG9seWZpbGwgPSBmdW5jdGlvbigpIHtcbiAgcm9vdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByYWZcbiAgcm9vdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmFmL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheScpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoJy4vaW5kZXgnKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ2hlY2tib3hHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveEdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENoZWNrYm94R3JvdXAocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveEdyb3VwKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gX3RoaXMuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUudmFsdWUpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLnNwbGljZShvcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBbXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSB8fCBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnM7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzk2MFxuXG4gICAgICAgIHJldHVybiBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKS5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2luZGV4MltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyBkaXNhYmxlZDogJ2Rpc2FibGVkJyBpbiBvcHRpb24gPyBvcHRpb24uZGlzYWJsZWQgOiBfdGhpczIucHJvcHMuZGlzYWJsZWQsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSkgIT09IC0xLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZU9wdGlvbihvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbScsIGtleTogb3B0aW9uLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uLmxhYmVsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZyB9LFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2hlY2tib3hHcm91cDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveEdyb3VwO1xuXG5DaGVja2JveEdyb3VwLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBvcHRpb25zOiBbXSxcbiAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gtZ3JvdXAnXG59O1xuQ2hlY2tib3hHcm91cC5wcm9wVHlwZXMgPSB7XG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcbiAgICBvcHRpb25zOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9jaGVja2JveC9Hcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2J1dHRvbiA9IHJlcXVpcmUoJy4uL2J1dHRvbicpO1xuXG52YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9kcm9wZG93biA9IHJlcXVpcmUoJy4vZHJvcGRvd24nKTtcblxudmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuXG52YXIgQnV0dG9uR3JvdXAgPSBfYnV0dG9uMltcImRlZmF1bHRcIl0uR3JvdXA7XG5cbnZhciBEcm9wZG93bkJ1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93bkJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEcm9wZG93bkJ1dHRvbigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bkJ1dHRvbik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBEcm9wZG93bkJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgICBvdmVybGF5ID0gX2Eub3ZlcmxheSxcbiAgICAgICAgICAgIHRyaWdnZXIgPSBfYS50cmlnZ2VyLFxuICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgICAgICB2aXNpYmxlID0gX2EudmlzaWJsZSxcbiAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZSA9IF9hLm9uVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1widHlwZVwiLCBcIm92ZXJsYXlcIiwgXCJ0cmlnZ2VyXCIsIFwiYWxpZ25cIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJwcmVmaXhDbHNcIiwgXCJkaXNhYmxlZFwiLCBcInZpc2libGVcIiwgXCJvblZpc2libGVDaGFuZ2VcIl0pO1xuICAgICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGRyb3Bkb3duUHJvcHMgPSB7XG4gICAgICAgICAgICBhbGlnbjogYWxpZ24sXG4gICAgICAgICAgICBvdmVybGF5OiBvdmVybGF5LFxuICAgICAgICAgICAgdHJpZ2dlcjogZGlzYWJsZWQgPyBbXSA6IHRyaWdnZXIsXG4gICAgICAgICAgICBvblZpc2libGVDaGFuZ2U6IG9uVmlzaWJsZUNoYW5nZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duUHJvcHMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBCdXR0b25Hcm91cCxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IGNsYXNzTmFtZTogY2xzIH0pLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBvbkNsaWNrOiBvbkNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Qcm9wcyxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZG93bicgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBEcm9wZG93bkJ1dHRvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bkJ1dHRvbjtcblxuRHJvcGRvd25CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFsaWduOiB7XG4gICAgICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgICAgICBvdmVybGF5OiB7XG4gICAgICAgICAgICBhZGp1c3RYOiAxLFxuICAgICAgICAgICAgYWRqdXN0WTogMVxuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiBbMCwgMF1cbiAgICB9LFxuICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24tYnV0dG9uJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL2Ryb3Bkb3duLWJ1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Ryb3Bkb3duID0gcmVxdWlyZSgnLi9kcm9wZG93bicpO1xuXG52YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblxudmFyIF9kcm9wZG93bkJ1dHRvbiA9IHJlcXVpcmUoJy4vZHJvcGRvd24tYnV0dG9uJyk7XG5cbnZhciBfZHJvcGRvd25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd25CdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX2Ryb3Bkb3duQnV0dG9uMltcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vYnV0dG9uL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zZWxlY3QgPSByZXF1aXJlKCcuLi9zZWxlY3QnKTtcblxudmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBNaW5pU2VsZWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE1pbmlTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTWluaVNlbGVjdCgpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBNaW5pU2VsZWN0KTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIE1pbmlTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3NlbGVjdDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBzaXplOiAnc21hbGwnIH0sIHRoaXMucHJvcHMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1pbmlTZWxlY3Q7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWluaVNlbGVjdDtcblxuTWluaVNlbGVjdC5PcHRpb24gPSBfc2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcGFnaW5hdGlvbi9NaW5pU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gODlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmNQYWdpbmF0aW9uID0gcmVxdWlyZSgncmMtcGFnaW5hdGlvbicpO1xuXG52YXIgX3JjUGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1BhZ2luYXRpb24pO1xuXG52YXIgX3NlbGVjdCA9IHJlcXVpcmUoJy4uL3NlbGVjdCcpO1xuXG52YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG52YXIgX01pbmlTZWxlY3QgPSByZXF1aXJlKCcuL01pbmlTZWxlY3QnKTtcblxudmFyIF9NaW5pU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01pbmlTZWxlY3QpO1xuXG52YXIgX3poX0NOID0gcmVxdWlyZSgncmMtcGFnaW5hdGlvbi9saWIvbG9jYWxlL3poX0NOJyk7XG5cbnZhciBfemhfQ04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemhfQ04pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQYWdpbmF0aW9uKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFBhZ2luYXRpb24pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgUGFnaW5hdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG4gICAgICAgIHZhciBzZWxlY3RDb21wb25lbnRDbGFzcyA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5QYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NhbGUgPSB0aGlzLnByb3BzLmxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBtaW5pJztcbiAgICAgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzID0gX01pbmlTZWxlY3QyW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNQYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNlbGVjdENvbXBvbmVudENsYXNzOiBzZWxlY3RDb21wb25lbnRDbGFzcywgc2VsZWN0UHJlZml4Q2xzOiB0aGlzLnByb3BzLnNlbGVjdFByZWZpeENscyB9LCB0aGlzLnByb3BzLCB7IGxvY2FsZTogbG9jYWxlLCBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBQYWdpbmF0aW9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBhZ2luYXRpb247XG5cblBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuICAgIGxvY2FsZTogX3poX0NOMltcImRlZmF1bHRcIl0sXG4gICAgY2xhc3NOYW1lOiAnJyxcbiAgICBwcmVmaXhDbHM6ICdhbnQtcGFnaW5hdGlvbicsXG4gICAgc2VsZWN0UHJlZml4Q2xzOiAnYW50LXNlbGVjdCdcbn07XG5QYWdpbmF0aW9uLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL1BhZ2luYXRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA5MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9QYWdpbmF0aW9uID0gcmVxdWlyZSgnLi9QYWdpbmF0aW9uJyk7XG5cbnZhciBfUGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYWdpbmF0aW9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BhZ2luYXRpb24vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vc2VsZWN0L3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2lucHV0L3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcGFnaW5hdGlvbi9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDkyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG52YXIgX3JhZGlvQnV0dG9uID0gcmVxdWlyZSgnLi9yYWRpb0J1dHRvbicpO1xuXG52YXIgX3JhZGlvQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvQnV0dG9uKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRDaGVja2VkVmFsdWUoY2hpbGRyZW4pIHtcbiAgICB2YXIgdmFsdWUgPSBudWxsO1xuICAgIHZhciBtYXRjaGVkID0gZmFsc2U7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG4gICAgICAgIGlmIChyYWRpbyAmJiByYWRpby5wcm9wcyAmJiByYWRpby5wcm9wcy5jaGVja2VkKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHJhZGlvLnByb3BzLnZhbHVlO1xuICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWF0Y2hlZCA/IHsgdmFsdWU6IHZhbHVlIH0gOiB1bmRlZmluZWQ7XG59XG5cbnZhciBSYWRpb0dyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvR3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaW9Hcm91cChwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvR3JvdXApO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vblJhZGlvQ2hhbmdlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBldi50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlICYmIHZhbHVlICE9PSBsYXN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShldik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoJ2RlZmF1bHRWYWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGdldENoZWNrZWRWYWx1ZShwcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB2YWx1ZSA9IGNoZWNrZWRWYWx1ZSAmJiBjaGVja2VkVmFsdWUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGdldENoZWNrZWRWYWx1ZShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hlY2tlZFZhbHVlLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9ICFwcm9wcy5jaGlsZHJlbiA/IFtdIDogX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4ubWFwKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAocmFkaW8pIHtcbiAgICAgICAgICAgIGlmIChyYWRpbyAmJiAocmFkaW8udHlwZSA9PT0gX3JhZGlvMltcImRlZmF1bHRcIl0gfHwgcmFkaW8udHlwZSA9PT0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl0pICYmIHJhZGlvLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChyYWRpbywgKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHJhZGlvLnByb3BzLCB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpczIub25SYWRpb0NoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMyLnN0YXRlLnZhbHVlID09PSByYWRpby5wcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHJhZGlvLnByb3BzLmRpc2FibGVkIHx8IF90aGlzMi5wcm9wcy5kaXNhYmxlZFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByYWRpbztcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBfcHJvcHMkcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzJHByZWZpeENscyA9PT0gdW5kZWZpbmVkID8gJ2FudC1yYWRpby1ncm91cCcgOiBfcHJvcHMkcHJlZml4Q2xzLFxuICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZTtcblxuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy5zaXplLCBwcm9wcy5zaXplKSwgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHByb3BzLnN0eWxlLCBvbk1vdXNlRW50ZXI6IHByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbk1vdXNlTGVhdmUgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBSYWRpb0dyb3VwO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvR3JvdXA7XG5cblJhZGlvR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuICAgIGRpc2FibGVkOiBmYWxzZVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3JhZGlvL2dyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gOTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vZ3JpZC9zdHlsZS9pbmRleC5sZXNzJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcm93L3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JjVGFibGUgPSByZXF1aXJlKCdyYy10YWJsZScpO1xuXG52YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9SY1RhYmxlJENvbHVtbikge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENvbHVtbiwgX1JjVGFibGUkQ29sdW1uKTtcblxuICBmdW5jdGlvbiBDb2x1bW4oKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDb2x1bW4pO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JjVGFibGUkQ29sdW1uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbjtcbn0oX3JjVGFibGUyW1wiZGVmYXVsdFwiXS5Db2x1bW4pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL0NvbHVtbi5qc1xuICoqIG1vZHVsZSBpZCA9IDk1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG4gICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA5NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NoZWNrYm94ID0gcmVxdWlyZSgnLi4vY2hlY2tib3gnKTtcblxudmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuLi9yYWRpbycpO1xuXG52YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0aW9uQm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkJveChwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdGlvbkJveCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcylcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnByb3BzLnN0b3JlO1xuXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBfdGhpczIuZ2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgY2hlY2tlZDogY2hlY2tlZCB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBkZWZhdWx0U2VsZWN0aW9uID0gcHJvcHMuZGVmYXVsdFNlbGVjdGlvbixcbiAgICAgICAgICAgIHJvd0luZGV4ID0gcHJvcHMucm93SW5kZXg7XG5cbiAgICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkpIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yocm93SW5kZXgpID49IDAgfHwgZGVmYXVsdFNlbGVjdGlvbi5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja2VkO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB0eXBlID0gX3Byb3BzLnR5cGUsXG4gICAgICAgICAgICByb3dJbmRleCA9IF9wcm9wcy5yb3dJbmRleCxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2U7XG4gICAgICAgIHZhciBjaGVja2VkID0gdGhpcy5zdGF0ZS5jaGVja2VkO1xuXG4gICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSwgdmFsdWU6IHJvd0luZGV4LCBjaGVja2VkOiBjaGVja2VkIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2VsZWN0aW9uQm94O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkJveDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL1NlbGVjdGlvbkJveC5qc1xuICoqIG1vZHVsZSBpZCA9IDk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2hlY2tib3ggPSByZXF1aXJlKCcuLi9jaGVja2JveCcpO1xuXG52YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBTZWxlY3Rpb25DaGVja2JveEFsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25DaGVja2JveEFsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWxlY3Rpb25DaGVja2JveEFsbChwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdGlvbkNoZWNrYm94QWxsKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKSxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IF90aGlzLmdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcylcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuc2V0Q2hlY2tTdGF0ZShuZXh0UHJvcHMpO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnByb3BzLnN0b3JlO1xuXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMyLnNldENoZWNrU3RhdGUoX3RoaXMyLnByb3BzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jaGVja1NlbGVjdGlvbiA9IGZ1bmN0aW9uIGNoZWNrU2VsZWN0aW9uKGRhdGEsIHR5cGUsIGJ5RGVmYXVsdENoZWNrZWQpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBzdG9yZSA9IF9wcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIGdldENoZWNrYm94UHJvcHNCeUl0ZW0gPSBfcHJvcHMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSxcbiAgICAgICAgICAgIGdldFJlY29yZEtleSA9IF9wcm9wcy5nZXRSZWNvcmRLZXk7XG4gICAgICAgIC8vIHR5cGUgc2hvdWxkIGJlICdldmVyeScgfCAnc29tZSdcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ2V2ZXJ5JyB8fCB0eXBlID09PSAnc29tZScpIHtcbiAgICAgICAgICAgIHJldHVybiBieURlZmF1bHRDaGVja2VkID8gZGF0YVt0eXBlXShmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRlZmF1bHRDaGVja2VkO1xuICAgICAgICAgICAgfSkgOiBkYXRhW3R5cGVdKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZ2V0UmVjb3JkS2V5KGl0ZW0sIGkpKSA+PSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuc2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIHNldENoZWNrU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLmdldENoZWNrU3RhdGUocHJvcHMpO1xuICAgICAgICB2YXIgaW5kZXRlcm1pbmF0ZSA9IHRoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKTtcbiAgICAgICAgaWYgKGNoZWNrZWQgIT09IHRoaXMuc3RhdGUuY2hlY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV0ZXJtaW5hdGUgIT09IHRoaXMuc3RhdGUuaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmdldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBnZXRDaGVja1N0YXRlKHByb3BzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuICAgICAgICAgICAgZGF0YSA9IHByb3BzLmRhdGE7XG5cbiAgICAgICAgdmFyIGNoZWNrZWQgPSB2b2lkIDA7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgOiB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSB8fCB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja2VkO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlID0gZnVuY3Rpb24gZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuICAgICAgICAgICAgZGF0YSA9IHByb3BzLmRhdGE7XG5cbiAgICAgICAgdmFyIGluZGV0ZXJtaW5hdGUgPSB2b2lkIDA7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIGZhbHNlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgOiB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSB8fCB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgdHJ1ZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV0ZXJtaW5hdGU7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzMi5kaXNhYmxlZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzMi5vbkNoYW5nZTtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBjaGVja2VkID0gX3N0YXRlLmNoZWNrZWQsXG4gICAgICAgICAgICBpbmRldGVybWluYXRlID0gX3N0YXRlLmluZGV0ZXJtaW5hdGU7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogY2hlY2tlZCwgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3Rpb25DaGVja2JveEFsbDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Rpb25DaGVja2JveEFsbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL1NlbGVjdGlvbkNoZWNrYm94QWxsLmpzXG4gKiogbW9kdWxlIGlkID0gOThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZicpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY1RhYmxlID0gcmVxdWlyZSgncmMtdGFibGUnKTtcblxudmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXG52YXIgX2ZpbHRlckRyb3Bkb3duID0gcmVxdWlyZSgnLi9maWx0ZXJEcm9wZG93bicpO1xuXG52YXIgX2ZpbHRlckRyb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlckRyb3Bkb3duKTtcblxudmFyIF9wYWdpbmF0aW9uID0gcmVxdWlyZSgnLi4vcGFnaW5hdGlvbicpO1xuXG52YXIgX3BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFnaW5hdGlvbik7XG5cbnZhciBfaWNvbiA9IHJlcXVpcmUoJy4uL2ljb24nKTtcblxudmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXG52YXIgX3NwaW4gPSByZXF1aXJlKCcuLi9zcGluJyk7XG5cbnZhciBfc3BpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcGluKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi4vX3V0aWwvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX1NlbGVjdGlvbkJveCA9IHJlcXVpcmUoJy4vU2VsZWN0aW9uQm94Jyk7XG5cbnZhciBfU2VsZWN0aW9uQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkJveCk7XG5cbnZhciBfU2VsZWN0aW9uQ2hlY2tib3hBbGwgPSByZXF1aXJlKCcuL1NlbGVjdGlvbkNoZWNrYm94QWxsJyk7XG5cbnZhciBfU2VsZWN0aW9uQ2hlY2tib3hBbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXG52YXIgX0NvbHVtbiA9IHJlcXVpcmUoJy4vQ29sdW1uJyk7XG5cbnZhciBfQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbik7XG5cbnZhciBfQ29sdW1uR3JvdXAgPSByZXF1aXJlKCcuL0NvbHVtbkdyb3VwJyk7XG5cbnZhciBfQ29sdW1uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuXG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcbiAgICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG59XG52YXIgZGVmYXVsdExvY2FsZSA9IHtcbiAgICBmaWx0ZXJUaXRsZTogJ+etm+mAiScsXG4gICAgZmlsdGVyQ29uZmlybTogJ+ehruWumicsXG4gICAgZmlsdGVyUmVzZXQ6ICfph43nva4nLFxuICAgIGVtcHR5VGV4dDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICBudWxsLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Zyb3duLW8nIH0pLFxuICAgICAgICAnXFx1NjY4MlxcdTY1RTBcXHU2NTcwXFx1NjM2RSdcbiAgICApXG59O1xudmFyIGRlZmF1bHRQYWdpbmF0aW9uID0ge1xuICAgIG9uQ2hhbmdlOiBub29wLFxuICAgIG9uU2hvd1NpemVDaGFuZ2U6IG5vb3Bcbn07XG5cbnZhciBUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFRhYmxlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzJHJvd1NlbGVjdCA9IF90aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcbiAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfdGhpcyRwcm9wcyRyb3dTZWxlY3QgPT09IHVuZGVmaW5lZCA/IHt9IDogX3RoaXMkcHJvcHMkcm93U2VsZWN0O1xuXG4gICAgICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShpdGVtLCBpbmRleCk7XG4gICAgICAgICAgICAvLyBDYWNoZSBjaGVja2JveFByb3BzXG4gICAgICAgICAgICBpZiAoIV90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV0gPSByb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyhpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlRmlsdGVyID0gZnVuY3Rpb24gKGNvbHVtbiwgbmV4dEZpbHRlcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUucGFnaW5hdGlvbik7XG4gICAgICAgICAgICB2YXIgZmlsdGVycyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5maWx0ZXJzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5nZXRDb2x1bW5LZXkoY29sdW1uKSwgbmV4dEZpbHRlcnMpKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIG5vdCBpbiBjdXJyZW50IGNvbHVtbnNcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q29sdW1uS2V5cyA9IFtdO1xuICAgICAgICAgICAgKDAsIF91dGlsLnRyZWVNYXApKF90aGlzLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5LZXlzLnB1c2goX3RoaXMuZ2V0Q29sdW1uS2V5KGMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29sdW1uS2V5cy5pbmRleE9mKGNvbHVtbktleSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzW2NvbHVtbktleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocHJvcHMucGFnaW5hdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGN1cnJlbnQgcHJvcFxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IDE7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5vbkNoYW5nZShwYWdpbmF0aW9uLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sXG4gICAgICAgICAgICAgICAgZmlsdGVyczoge31cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZmlsdGVyc1RvU2V0U3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZmlsdGVycyk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZmlsdGVycyB3aGljaCBpcyBjb250cm9sbGVkXG4gICAgICAgICAgICBfdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucygpLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2x1bW5LZXkgPSBfdGhpcy5nZXRDb2x1bW5LZXkoY29sKTtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzVG9TZXRTdGF0ZVtjb2x1bW5LZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnNUb1NldFN0YXRlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUuZmlsdGVycyA9IGZpbHRlcnNUb1NldFN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ29udHJvbGxlZCBjdXJyZW50IHByb3Agd2lsbCBub3QgcmVzcG9uZCB1c2VyIGludGVyYWN0aW9uXG4gICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUucGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IF90aGlzLnN0YXRlLnBhZ2luYXRpb24uY3VycmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyczogZmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IHNlbGVjdGVkUm93S2V5cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSAhPT0gaTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3QnLFxuICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVSYWRpb1NlbGVjdCA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4LCBlKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gW2tleV07XG4gICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0JyxcbiAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0QWxsUm93ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGNoYW5nYWJsZVJvd0tleXMgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpKS5kaXNhYmxlZDtcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSZWNvcmRLZXkoaXRlbSwgaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIOiusOW9leWPmOWMlueahOWIl1xuICAgICAgICAgICAgdmFyIGNoYW5nZVJvd0tleXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdhYmxlUm93S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hhbmdhYmxlUm93S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnNwbGljZShzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0QWxsJyxcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXM6IGNoYW5nZVJvd0tleXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVQYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvdGhlckFyZ3VtZW50cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBvdGhlckFyZ3VtZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUucGFnaW5hdGlvbik7XG4gICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IHBhZ2luYXRpb24uY3VycmVudCB8fCAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnaW5hdGlvbi5vbkNoYW5nZS5hcHBseShwYWdpbmF0aW9uLCBbcGFnaW5hdGlvbi5jdXJyZW50XS5jb25jYXQob3RoZXJBcmd1bWVudHMpKTtcbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29udHJvbGxlZCBjdXJyZW50IHByb3Agd2lsbCBub3QgcmVzcG9uZCB1c2VyIGludGVyYWN0aW9uXG4gICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUucGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IF90aGlzLnN0YXRlLnBhZ2luYXRpb24uY3VycmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbmRlclNlbGVjdGlvbkJveCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF8sIHJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93SW5kZXggPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCBpbmRleCk7IC8vIOS7jiAxIOW8gOWni1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0ocmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT09ICdyYWRpbycgPyBfdGhpcy5oYW5kbGVSYWRpb1NlbGVjdChyZWNvcmQsIHJvd0luZGV4LCBlKSA6IF90aGlzLmhhbmRsZVNlbGVjdChyZWNvcmQsIHJvd0luZGV4LCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogc3RvcFByb3BhZ2F0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdGlvbkJveDJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6IHR5cGUsIHN0b3JlOiBfdGhpcy5zdG9yZSwgcm93SW5kZXg6IHJvd0luZGV4LCBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIGRlZmF1bHRTZWxlY3Rpb246IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKSB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRSZWNvcmRLZXkgPSBmdW5jdGlvbiAocmVjb3JkLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHJvd0tleSA9IF90aGlzLnByb3BzLnJvd0tleTtcbiAgICAgICAgICAgIHZhciByZWNvcmRLZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG4gICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkocmVjb3JkS2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCBvciBzZXQgYHJvd0tleWAgdG8gYW4gdW5pcXVlIHByaW1hcnkga2V5LCcgKyAnc2VlIGh0dHA6Ly91LmFudC5kZXNpZ24vdGFibGUtcm93LWtleScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZEtleSA9PT0gdW5kZWZpbmVkID8gaW5kZXggOiByZWNvcmRLZXk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVNob3dTaXplQ2hhbmdlID0gZnVuY3Rpb24gKGN1cnJlbnQsIHBhZ2VTaXplKSB7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IF90aGlzLnN0YXRlLnBhZ2luYXRpb247XG4gICAgICAgICAgICBwYWdpbmF0aW9uLm9uU2hvd1NpemVDaGFuZ2UoY3VycmVudCwgcGFnZVNpemUpO1xuICAgICAgICAgICAgdmFyIG5leHRQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHsgcGFnZVNpemU6IHBhZ2VTaXplLCBjdXJyZW50OiBjdXJyZW50IH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwYWdpbmF0aW9uOiBuZXh0UGFnaW5hdGlvbiB9KTtcbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoISgnY29sdW1uc1BhZ2VSYW5nZScgaW4gcHJvcHMgfHwgJ2NvbHVtbnNQYWdlU2l6ZScgaW4gcHJvcHMpLCAnYGNvbHVtbnNQYWdlUmFuZ2VgIGFuZCBgY29sdW1uc1BhZ2VTaXplYCBhcmUgcmVtb3ZlZCwgcGxlYXNlIHVzZSAnICsgJ2ZpeGVkIGNvbHVtbnMgaW5zdGVhZCwgc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2ZpeGVkLWNvbHVtbnMuJyk7XG4gICAgICAgIF90aGlzLmNvbHVtbnMgPSBwcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShwcm9wcy5jaGlsZHJlbik7XG4gICAgICAgIF90aGlzLnN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKCksIHtcbiAgICAgICAgICAgIC8vIOWHj+WwkeeKtuaAgVxuICAgICAgICAgICAgZmlsdGVyczogX3RoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKCksXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBfdGhpcy5nZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcylcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuICAgICAgICBfdGhpcy5zdG9yZSA9ICgwLCBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiAocHJvcHMucm93U2VsZWN0aW9uIHx8IHt9KS5zZWxlY3RlZFJvd0tleXMgfHwgW10sXG4gICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGdldERlZmF1bHRTZWxlY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG4gICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMkcm93U2VsZWN0aW9uID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRyb3dTZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZsYXREYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCByb3dJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIHJvd0luZGV4KS5kZWZhdWx0Q2hlY2tlZDtcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0UGFnaW5hdGlvbiA9IGZ1bmN0aW9uIGdldERlZmF1bHRQYWdpbmF0aW9uKHByb3BzKSB7XG4gICAgICAgIHZhciBwYWdpbmF0aW9uID0gcHJvcHMucGFnaW5hdGlvbiB8fCB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFnaW5hdGlvbihwcm9wcykgPyAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdFBhZ2luYXRpb24sIHBhZ2luYXRpb24sIHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IHBhZ2luYXRpb24uZGVmYXVsdEN1cnJlbnQgfHwgcGFnaW5hdGlvbi5jdXJyZW50IHx8IDEsXG4gICAgICAgICAgICBwYWdlU2l6ZTogcGFnaW5hdGlvbi5kZWZhdWx0UGFnZVNpemUgfHwgcGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMFxuICAgICAgICB9KSA6IHt9O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TG9jYWxlID0gZnVuY3Rpb24gZ2V0TG9jYWxlKCkge1xuICAgICAgICB2YXIgbG9jYWxlID0ge307XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuVGFibGUpIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuVGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlLCBsb2NhbGUsIHRoaXMucHJvcHMubG9jYWxlKTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucyB8fCAoMCwgX3V0aWwubm9ybWFsaXplQ29sdW1ucykobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgaWYgKCdwYWdpbmF0aW9uJyBpbiBuZXh0UHJvcHMgfHwgJ3BhZ2luYXRpb24nIGluIHRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3UGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcHJldmlvdXNTdGF0ZS5wYWdpbmF0aW9uLCBuZXh0UHJvcHMucGFnaW5hdGlvbik7XG4gICAgICAgICAgICAgICAgbmV3UGFnaW5hdGlvbi5jdXJyZW50ID0gbmV3UGFnaW5hdGlvbi5jdXJyZW50IHx8IDE7XG4gICAgICAgICAgICAgICAgbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSA9IG5ld1BhZ2luYXRpb24ucGFnZVNpemUgfHwgMTA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcGFnaW5hdGlvbjogbmV4dFByb3BzLnBhZ2luYXRpb24gIT09IGZhbHNlID8gbmV3UGFnaW5hdGlvbiA6IHt9IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dFByb3BzLnJvd1NlbGVjdGlvbiAmJiAnc2VsZWN0ZWRSb3dLZXlzJyBpbiBuZXh0UHJvcHMucm93U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uc2VsZWN0ZWRSb3dLZXlzIHx8IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciByb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiBuZXh0UHJvcHMucm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMgIT09IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2RhdGFTb3VyY2UnIGluIG5leHRQcm9wcyAmJiBuZXh0UHJvcHMuZGF0YVNvdXJjZSAhPT0gdGhpcy5wcm9wcy5kYXRhU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKHRoaXMuY29sdW1ucykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHNvcnRTdGF0ZSA9IHRoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnModGhpcy5jb2x1bW5zKTtcbiAgICAgICAgICAgIGlmIChzb3J0U3RhdGUuc29ydENvbHVtbiAhPT0gdGhpcy5zdGF0ZS5zb3J0Q29sdW1uIHx8IHNvcnRTdGF0ZS5zb3J0T3JkZXIgIT09IHRoaXMuc3RhdGUuc29ydE9yZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShzb3J0U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmaWx0ZXJlZFZhbHVlQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnModGhpcy5jb2x1bW5zKTtcbiAgICAgICAgaWYgKGZpbHRlcmVkVmFsdWVDb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzRnJvbUNvbHVtbnMgPSB0aGlzLmdldEZpbHRlcnNGcm9tQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICAgICAgdmFyIG5ld0ZpbHRlcnMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5zdGF0ZS5maWx0ZXJzKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnNGcm9tQ29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgbmV3RmlsdGVyc1trZXldID0gZmlsdGVyc0Zyb21Db2x1bW5zW2tleV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRmlsdGVyc0NoYW5nZWQobmV3RmlsdGVycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZmlsdGVyczogbmV3RmlsdGVycyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRSb3dLZXlzID0gZnVuY3Rpb24gc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywgX3JlZikge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB2YXIgc2VsZWN0V2F5ID0gX3JlZi5zZWxlY3RXYXksXG4gICAgICAgICAgICByZWNvcmQgPSBfcmVmLnJlY29yZCxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBfcmVmLmNoZWNrZWQsXG4gICAgICAgICAgICBjaGFuZ2VSb3dLZXlzID0gX3JlZi5jaGFuZ2VSb3dLZXlzO1xuICAgICAgICB2YXIgX3Byb3BzJHJvd1NlbGVjdGlvbjIgPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcyRyb3dTZWxlY3Rpb24yID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRyb3dTZWxlY3Rpb24yO1xuXG4gICAgICAgIGlmIChyb3dTZWxlY3Rpb24gJiYgISgnc2VsZWN0ZWRSb3dLZXlzJyBpbiByb3dTZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHsgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEZsYXREYXRhKCk7XG4gICAgICAgIGlmICghcm93U2VsZWN0aW9uLm9uQ2hhbmdlICYmICFyb3dTZWxlY3Rpb25bc2VsZWN0V2F5XSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi5vbkNoYW5nZSkge1xuICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uQ2hhbmdlKHNlbGVjdGVkUm93S2V5cywgc2VsZWN0ZWRSb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0V2F5ID09PSAnb25TZWxlY3QnICYmIHJvd1NlbGVjdGlvbi5vblNlbGVjdCkge1xuICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uU2VsZWN0KHJlY29yZCwgY2hlY2tlZCwgc2VsZWN0ZWRSb3dzKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RXYXkgPT09ICdvblNlbGVjdEFsbCcgJiYgcm93U2VsZWN0aW9uLm9uU2VsZWN0QWxsKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlUm93cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlUm93S2V5cy5pbmRleE9mKF90aGlzMy5nZXRSZWNvcmRLZXkocm93LCBpKSkgPj0gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uU2VsZWN0QWxsKGNoZWNrZWQsIHNlbGVjdGVkUm93cywgY2hhbmdlUm93cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmhhc1BhZ2luYXRpb24gPSBmdW5jdGlvbiBoYXNQYWdpbmF0aW9uKHByb3BzKSB7XG4gICAgICAgIHJldHVybiAocHJvcHMgfHwgdGhpcy5wcm9wcykucGFnaW5hdGlvbiAhPT0gZmFsc2U7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5pc0ZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gaXNGaWx0ZXJzQ2hhbmdlZChmaWx0ZXJzKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVycykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmZpbHRlcnMpLmxlbmd0aCkge1xuICAgICAgICAgICAgZmlsdGVyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbY29sdW1uS2V5XSAhPT0gX3RoaXM0LnN0YXRlLmZpbHRlcnNbY29sdW1uS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbHRlcnNDaGFuZ2VkO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydE9yZGVyQ29sdW1ucyA9IGZ1bmN0aW9uIGdldFNvcnRPcmRlckNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuICdzb3J0T3JkZXInIGluIGNvbHVtbjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyA9IGZ1bmN0aW9uIGdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIChjb2x1bW5zIHx8IHRoaXMuY29sdW1ucyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgY29sdW1uLmZpbHRlcmVkVmFsdWUgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEZpbHRlcnNGcm9tQ29sdW1ucyA9IGZ1bmN0aW9uIGdldEZpbHRlcnNGcm9tQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0ge307XG4gICAgICAgIHRoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgICAgICBmaWx0ZXJzW190aGlzNS5nZXRDb2x1bW5LZXkoY29sKV0gPSBjb2wuZmlsdGVyZWRWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJzO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIC8vIHJldHVybiBmaXNydCBjb2x1bW4gd2hpY2ggc29ydE9yZGVyIGlzIG5vdCBmYWxzeVxuICAgICAgICB2YXIgc29ydGVkQ29sdW1uID0gdGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKGNvbHVtbnMpLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sLnNvcnRPcmRlcjtcbiAgICAgICAgfSlbMF07XG4gICAgICAgIGlmIChzb3J0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc29ydENvbHVtbjogc29ydGVkQ29sdW1uLFxuICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydGVkQ29sdW1uLnNvcnRPcmRlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc29ydENvbHVtbjogbnVsbCxcbiAgICAgICAgICAgIHNvcnRPcmRlcjogbnVsbFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydGVyRm4gPSBmdW5jdGlvbiBnZXRTb3J0ZXJGbigpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBzb3J0T3JkZXIgPSBfc3RhdGUuc29ydE9yZGVyLFxuICAgICAgICAgICAgc29ydENvbHVtbiA9IF9zdGF0ZS5zb3J0Q29sdW1uO1xuXG4gICAgICAgIGlmICghc29ydE9yZGVyIHx8ICFzb3J0Q29sdW1uIHx8IHR5cGVvZiBzb3J0Q29sdW1uLnNvcnRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHNvcnRDb2x1bW4uc29ydGVyKGEsIGIpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3J0T3JkZXIgPT09ICdkZXNjZW5kJyA/IC1yZXN1bHQgOiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnRvZ2dsZVNvcnRPcmRlciA9IGZ1bmN0aW9uIHRvZ2dsZVNvcnRPcmRlcihvcmRlciwgY29sdW1uKSB7XG4gICAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUyLnNvcnRDb2x1bW4sXG4gICAgICAgICAgICBzb3J0T3JkZXIgPSBfc3RhdGUyLnNvcnRPcmRlcjtcbiAgICAgICAgLy8g5Y+q5ZCM5pe25YWB6K645LiA5YiX6L+b6KGM5o6S5bqP77yM5ZCm5YiZ5Lya5a+86Ie05o6S5bqP6aG65bqP55qE6YC76L6R6Zeu6aKYXG5cbiAgICAgICAgdmFyIGlzU29ydENvbHVtbiA9IHRoaXMuaXNTb3J0Q29sdW1uKGNvbHVtbik7XG4gICAgICAgIGlmICghaXNTb3J0Q29sdW1uKSB7XG4gICAgICAgICAgICBzb3J0T3JkZXIgPSBvcmRlcjtcbiAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc29ydE9yZGVyID09PSBvcmRlcikge1xuICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9ICcnO1xuICAgICAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSBvcmRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRPcmRlcixcbiAgICAgICAgICAgIHNvcnRDb2x1bW46IHNvcnRDb2x1bW5cbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ29udHJvbGxlZFxuICAgICAgICBpZiAodGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25DaGFuZ2UgPSB0aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIHRoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5zdGF0ZSwgbmV3U3RhdGUpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlclJvd1NlbGVjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclJvd1NlbGVjdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzLnJvd1NlbGVjdGlvbjtcblxuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMuY29sdW1ucy5jb25jYXQoKTtcbiAgICAgICAgaWYgKHJvd1NlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEZsYXRDdXJyZW50UGFnZURhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhX3RoaXM2LmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaW5kZXgpLmRpc2FibGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkNvbHVtbiA9IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzZWxlY3Rpb24tY29sdW1uJyxcbiAgICAgICAgICAgICAgICByZW5kZXI6IHRoaXMucmVuZGVyU2VsZWN0aW9uQm94KHJvd1NlbGVjdGlvbi50eXBlKSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLWNvbHVtbidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLnR5cGUgIT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tib3hBbGxEaXNhYmxlZCA9IGRhdGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpbmRleCkuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uLnRpdGxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQ2hlY2tib3hBbGwyW1wiZGVmYXVsdFwiXSwgeyBzdG9yZTogdGhpcy5zdG9yZSwgZGF0YTogZGF0YSwgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbTogdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLCBnZXRSZWNvcmRLZXk6IHRoaXMuZ2V0UmVjb3JkS2V5LCBkaXNhYmxlZDogY2hlY2tib3hBbGxEaXNhYmxlZCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2VsZWN0QWxsUm93IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uLmZpeGVkID0gJ2xlZnQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHVtbnNbMF0gJiYgY29sdW1uc1swXS5rZXkgPT09ICdzZWxlY3Rpb24tY29sdW1uJykge1xuICAgICAgICAgICAgICAgIGNvbHVtbnNbMF0gPSBzZWxlY3Rpb25Db2x1bW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbHVtbnMudW5zaGlmdChzZWxlY3Rpb25Db2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0Q29sdW1uS2V5ID0gZnVuY3Rpb24gZ2V0Q29sdW1uS2V5KGNvbHVtbiwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5rZXkgfHwgY29sdW1uLmRhdGFJbmRleCB8fCBpbmRleDtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldE1heEN1cnJlbnQgPSBmdW5jdGlvbiBnZXRNYXhDdXJyZW50KHRvdGFsKSB7XG4gICAgICAgIHZhciBfc3RhdGUkcGFnaW5hdGlvbiA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbixcbiAgICAgICAgICAgIGN1cnJlbnQgPSBfc3RhdGUkcGFnaW5hdGlvbi5jdXJyZW50LFxuICAgICAgICAgICAgcGFnZVNpemUgPSBfc3RhdGUkcGFnaW5hdGlvbi5wYWdlU2l6ZTtcblxuICAgICAgICBpZiAoKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplID49IHRvdGFsKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5pc1NvcnRDb2x1bW4gPSBmdW5jdGlvbiBpc1NvcnRDb2x1bW4oY29sdW1uKSB7XG4gICAgICAgIHZhciBzb3J0Q29sdW1uID0gdGhpcy5zdGF0ZS5zb3J0Q29sdW1uO1xuXG4gICAgICAgIGlmICghY29sdW1uIHx8ICFzb3J0Q29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sdW1uS2V5KHNvcnRDb2x1bW4pID09PSB0aGlzLmdldENvbHVtbktleShjb2x1bW4pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyQ29sdW1uc0Ryb3Bkb3duID0gZnVuY3Rpb24gcmVuZGVyQ29sdW1uc0Ryb3Bkb3duKGNvbHVtbnMpIHtcbiAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG4gICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wczIuZHJvcGRvd25QcmVmaXhDbHM7XG4gICAgICAgIHZhciBzb3J0T3JkZXIgPSB0aGlzLnN0YXRlLnNvcnRPcmRlcjtcblxuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUoKTtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbC50cmVlTWFwKShjb2x1bW5zLCBmdW5jdGlvbiAob3JpZ2luQ29sdW1uLCBpKSB7XG4gICAgICAgICAgICB2YXIgY29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIG9yaWdpbkNvbHVtbik7XG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXM3LmdldENvbHVtbktleShjb2x1bW4sIGkpO1xuICAgICAgICAgICAgdmFyIGZpbHRlckRyb3Bkb3duID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIHNvcnRCdXR0b24gPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoY29sdW1uLmZpbHRlcnMgJiYgY29sdW1uLmZpbHRlcnMubGVuZ3RoID4gMCB8fCBjb2x1bW4uZmlsdGVyRHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sRmlsdGVycyA9IF90aGlzNy5zdGF0ZS5maWx0ZXJzW2tleV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJEcm9wZG93bjJbXCJkZWZhdWx0XCJdLCB7IGxvY2FsZTogbG9jYWxlLCBjb2x1bW46IGNvbHVtbiwgc2VsZWN0ZWRLZXlzOiBjb2xGaWx0ZXJzLCBjb25maXJtRmlsdGVyOiBfdGhpczcuaGFuZGxlRmlsdGVyLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctZmlsdGVyJywgZHJvcGRvd25QcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzIHx8ICdhbnQtZHJvcGRvd24nIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHVtbi5zb3J0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gX3RoaXM3LmlzU29ydENvbHVtbihjb2x1bW4pO1xuICAgICAgICAgICAgICAgIGlmIChpc1NvcnRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IGNvbHVtbi5jbGFzc05hbWUgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0T3JkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGlzQXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2FzY2VuZCc7XG4gICAgICAgICAgICAgICAgdmFyIGlzRGVzY2VuZCA9IGlzU29ydENvbHVtbiAmJiBzb3J0T3JkZXIgPT09ICdkZXNjZW5kJztcbiAgICAgICAgICAgICAgICBzb3J0QnV0dG9uID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyLXVwICcgKyAoaXNBc2NlbmQgPyAnb24nIDogJ29mZicpLCB0aXRsZTogJ1xcdTIxOTEnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnRvZ2dsZVNvcnRPcmRlcignYXNjZW5kJywgY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2NhcmV0LXVwJyB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlci1kb3duICcgKyAoaXNEZXNjZW5kID8gJ29uJyA6ICdvZmYnKSwgdGl0bGU6ICdcXHUyMTkzJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2Rlc2NlbmQnLCBjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtZG93bicgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGNvbHVtbi50aXRsZSxcbiAgICAgICAgICAgICAgICBzb3J0QnV0dG9uLFxuICAgICAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJQYWdpbmF0aW9uID0gZnVuY3Rpb24gcmVuZGVyUGFnaW5hdGlvbigpIHtcbiAgICAgICAgLy8g5by65Yi25LiN6ZyA6KaB5YiG6aG1XG4gICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gJ2RlZmF1bHQnO1xuICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbjtcblxuICAgICAgICBpZiAocGFnaW5hdGlvbi5zaXplKSB7XG4gICAgICAgICAgICBzaXplID0gcGFnaW5hdGlvbi5zaXplO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2l6ZSA9PT0gJ21pZGRsZScgfHwgdGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnKSB7XG4gICAgICAgICAgICBzaXplID0gJ3NtYWxsJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWwgPSBwYWdpbmF0aW9uLnRvdGFsIHx8IHRoaXMuZ2V0TG9jYWxEYXRhKCkubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdG90YWwgPiAwID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBrZXk6ICdwYWdpbmF0aW9uJyB9LCBwYWdpbmF0aW9uLCB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLXBhZ2luYXRpb24nLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVQYWdlQ2hhbmdlLCB0b3RhbDogdG90YWwsIHNpemU6IHNpemUsIGN1cnJlbnQ6IHRoaXMuZ2V0TWF4Q3VycmVudCh0b3RhbCksIG9uU2hvd1NpemVDaGFuZ2U6IHRoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgfSkpIDogbnVsbDtcbiAgICB9O1xuICAgIC8vIEdldCBwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXJcblxuXG4gICAgVGFibGUucHJvdG90eXBlLnByZXBhcmVQYXJhbXNBcmd1bWVudHMgPSBmdW5jdGlvbiBwcmVwYXJlUGFyYW1zQXJndW1lbnRzKHN0YXRlKSB7XG4gICAgICAgIHZhciBwYWdpbmF0aW9uID0gX19hc3NpZ24oe30sIHN0YXRlLnBhZ2luYXRpb24pO1xuICAgICAgICAvLyByZW1vdmUgdXNlbGVzcyBoYW5kbGUgZnVuY3Rpb24gaW4gVGFibGUub25DaGFuZ2VcbiAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25DaGFuZ2U7XG4gICAgICAgIGRlbGV0ZSBwYWdpbmF0aW9uLm9uU2hvd1NpemVDaGFuZ2U7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcbiAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuICAgICAgICBpZiAoc3RhdGUuc29ydENvbHVtbiAmJiBzdGF0ZS5zb3J0T3JkZXIpIHtcbiAgICAgICAgICAgIHNvcnRlci5jb2x1bW4gPSBzdGF0ZS5zb3J0Q29sdW1uO1xuICAgICAgICAgICAgc29ydGVyLm9yZGVyID0gc3RhdGUuc29ydE9yZGVyO1xuICAgICAgICAgICAgc29ydGVyLmZpZWxkID0gc3RhdGUuc29ydENvbHVtbi5kYXRhSW5kZXg7XG4gICAgICAgICAgICBzb3J0ZXIuY29sdW1uS2V5ID0gdGhpcy5nZXRDb2x1bW5LZXkoc3RhdGUuc29ydENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXJdO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZmluZENvbHVtbiA9IGZ1bmN0aW9uIGZpbmRDb2x1bW4obXlLZXkpIHtcbiAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGNvbHVtbiA9IHZvaWQgMDtcbiAgICAgICAgKDAsIF91dGlsLnRyZWVNYXApKHRoaXMuY29sdW1ucywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIGlmIChfdGhpczguZ2V0Q29sdW1uS2V5KGMpID09PSBteUtleSkge1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IGM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29sdW1uO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0Q3VycmVudFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2VEYXRhKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0TG9jYWxEYXRhKCk7XG4gICAgICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgcGFnZVNpemUgPSB2b2lkIDA7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIC8vIOWmguaenOayoeacieWIhumhteeahOivne+8jOm7mOiupOWFqOmDqOWxleekulxuICAgICAgICBpZiAoIXRoaXMuaGFzUGFnaW5hdGlvbigpKSB7XG4gICAgICAgICAgICBwYWdlU2l6ZSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBjdXJyZW50ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VTaXplID0gc3RhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmdldE1heEN1cnJlbnQoc3RhdGUucGFnaW5hdGlvbi50b3RhbCB8fCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5YiG6aG1XG4gICAgICAgIC8vIC0tLVxuICAgICAgICAvLyDlvZPmlbDmja7ph4/lsJHkuo7nrYnkuo7mr4/pobXmlbDph4/ml7bvvIznm7TmjqXorr7nva7mlbDmja5cbiAgICAgICAgLy8g5ZCm5YiZ6L+b6KGM6K+75Y+W5YiG6aG15pWw5o2uXG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBhZ2VTaXplIHx8IHBhZ2VTaXplID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKF8sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSA+PSAoY3VycmVudCAtIDEpICogcGFnZVNpemUgJiYgaSA8IGN1cnJlbnQgKiBwYWdlU2l6ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmxhdERhdGEgPSBmdW5jdGlvbiBnZXRGbGF0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0TG9jYWxEYXRhKCkpO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSA9IGZ1bmN0aW9uIGdldEZsYXRDdXJyZW50UGFnZURhdGEoKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWwuZmxhdEFycmF5KSh0aGlzLmdldEN1cnJlbnRQYWdlRGF0YSgpKTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlY3Vyc2l2ZVNvcnQgPSBmdW5jdGlvbiByZWN1cnNpdmVTb3J0KGRhdGEsIHNvcnRlckZuKSB7XG4gICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMkY2hpbGRyZW5Db2x1bW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuQ29sdW1uTmFtZSxcbiAgICAgICAgICAgIGNoaWxkcmVuQ29sdW1uTmFtZSA9IF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9PT0gdW5kZWZpbmVkID8gJ2NoaWxkcmVuJyA6IF9wcm9wcyRjaGlsZHJlbkNvbHVtbjtcblxuICAgICAgICByZXR1cm4gZGF0YS5zb3J0KHNvcnRlckZuKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtW2NoaWxkcmVuQ29sdW1uTmFtZV0gPyAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgaXRlbSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgY2hpbGRyZW5Db2x1bW5OYW1lLCBfdGhpczkucmVjdXJzaXZlU29ydChpdGVtW2NoaWxkcmVuQ29sdW1uTmFtZV0sIHNvcnRlckZuKSkpIDogaXRlbTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbERhdGEgPSBmdW5jdGlvbiBnZXRMb2NhbERhdGEoKSB7XG4gICAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZGF0YVNvdXJjZSA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZTtcblxuICAgICAgICB2YXIgZGF0YSA9IGRhdGFTb3VyY2UgfHwgW107XG4gICAgICAgIC8vIOS8mOWMluacrOWcsOaOkuW6j1xuICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgwKTtcbiAgICAgICAgdmFyIHNvcnRlckZuID0gdGhpcy5nZXRTb3J0ZXJGbigpO1xuICAgICAgICBpZiAoc29ydGVyRm4pIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLnJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIOetm+mAiVxuICAgICAgICBpZiAoc3RhdGUuZmlsdGVycykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbCA9IF90aGlzMTAuZmluZENvbHVtbihjb2x1bW5LZXkpO1xuICAgICAgICAgICAgICAgIGlmICghY29sKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHN0YXRlLmZpbHRlcnNbY29sdW1uS2V5XSB8fCBbXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBvbkZpbHRlciA9IGNvbC5vbkZpbHRlcjtcbiAgICAgICAgICAgICAgICBkYXRhID0gb25GaWx0ZXIgPyBkYXRhLmZpbHRlcihmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuc29tZShmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmlsdGVyKHYsIHJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pIDogZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG4gICAgICAgICAgICBfdGhpczExID0gdGhpcztcblxuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgIHNob3dIZWFkZXIgPSBfYS5zaG93SGVhZGVyLFxuICAgICAgICAgICAgbG9hZGluZyA9IF9hLmxvYWRpbmcsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwic2hvd0hlYWRlclwiLCBcImxvYWRpbmdcIl0pO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCk7XG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5yZW5kZXJSb3dTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIGV4cGFuZEljb25Bc0NlbGwgPSB0aGlzLnByb3BzLmV4cGFuZGVkUm93UmVuZGVyICYmIHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAhPT0gZmFsc2U7XG4gICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmdldExvY2FsZSgpO1xuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHRoaXMucHJvcHMuc2l6ZSwgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctYm9yZGVyZWQnLCB0aGlzLnByb3BzLmJvcmRlcmVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1lbXB0eScsICFkYXRhLmxlbmd0aCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd2l0aG91dC1jb2x1bW4taGVhZGVyJywgIXNob3dIZWFkZXIpLCBfY2xhc3NOYW1lcykpO1xuICAgICAgICBjb2x1bW5zID0gdGhpcy5yZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucyk7XG4gICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGNvbHVtbik7XG4gICAgICAgICAgICBuZXdDb2x1bW4ua2V5ID0gX3RoaXMxMS5nZXRDb2x1bW5LZXkobmV3Q29sdW1uLCBpKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdDb2x1bW47XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nID8gMSA6IDA7XG4gICAgICAgIGlmICgnZXhwYW5kSWNvbkNvbHVtbkluZGV4JyBpbiByZXN0UHJvcHMpIHtcbiAgICAgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IHJlc3RQcm9wcy5leHBhbmRJY29uQ29sdW1uSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBrZXk6ICd0YWJsZScgfSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBkYXRhOiBkYXRhLCBjb2x1bW5zOiBjb2x1bW5zLCBzaG93SGVhZGVyOiBzaG93SGVhZGVyLCBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBleHBhbmRJY29uQ29sdW1uSW5kZXg6IGV4cGFuZEljb25Db2x1bW5JbmRleCwgZXhwYW5kSWNvbkFzQ2VsbDogZXhwYW5kSWNvbkFzQ2VsbCwgZW1wdHlUZXh0OiBmdW5jdGlvbiBlbXB0eVRleHQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5lbXB0eVRleHQ7XG4gICAgICAgICAgICB9IH0pKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gcGFnaW5hdGlvbiBvciBubyBkYXRhLFxuICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHNwaW4gc2hvdWxkIGRlY3JlYXNlIGJ5IGhhbGYgb2YgcGFnaW5hdGlvblxuICAgICAgICB2YXIgcGFnaW5hdGlvblBhdGNoQ2xhc3MgPSB0aGlzLmhhc1BhZ2luYXRpb24oKSAmJiBkYXRhICYmIGRhdGEubGVuZ3RoICE9PSAwID8gcHJlZml4Q2xzICsgJy13aXRoLXBhZ2luYXRpb24nIDogcHJlZml4Q2xzICsgJy13aXRob3V0LXBhZ2luYXRpb24nO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX3NwaW4yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IHNwaW5uaW5nOiBsb2FkaW5nLCBjbGFzc05hbWU6IGxvYWRpbmcgPyBwYWdpbmF0aW9uUGF0Y2hDbGFzcyArICcgJyArIHByZWZpeENscyArICctc3Bpbi1ob2xkZXInIDogJycgfSxcbiAgICAgICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2luYXRpb24oKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGFibGU7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGU7XG5cblRhYmxlLkNvbHVtbiA9IF9Db2x1bW4yW1wiZGVmYXVsdFwiXTtcblRhYmxlLkNvbHVtbkdyb3VwID0gX0NvbHVtbkdyb3VwMltcImRlZmF1bHRcIl07XG5UYWJsZS5wcm9wVHlwZXMgPSB7XG4gICAgZGF0YVNvdXJjZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuICAgIGNvbHVtbnM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdXNlRml4ZWRIZWFkZXI6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICAgIHJvd1NlbGVjdGlvbjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2l6ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2FkaW5nOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcbiAgICBib3JkZXJlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG4gICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuICAgIGxvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcbiAgICBkcm9wZG93blByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZ1xufTtcblRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkYXRhU291cmNlOiBbXSxcbiAgICBwcmVmaXhDbHM6ICdhbnQtdGFibGUnLFxuICAgIHVzZUZpeGVkSGVhZGVyOiBmYWxzZSxcbiAgICByb3dTZWxlY3Rpb246IG51bGwsXG4gICAgY2xhc3NOYW1lOiAnJyxcbiAgICBzaXplOiAnbGFyZ2UnLFxuICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgIGJvcmRlcmVkOiBmYWxzZSxcbiAgICBpbmRlbnRTaXplOiAyMCxcbiAgICBsb2NhbGU6IHt9LFxuICAgIHJvd0tleTogJ2tleScsXG4gICAgc2hvd0hlYWRlcjogdHJ1ZVxufTtcblRhYmxlLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9UYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDk5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgZnVuY3Rpb24gc2V0U3RhdGUocGFydGlhbCkge1xuICAgICAgICBzdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBzdGF0ZSwgcGFydGlhbCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0U3RhdGU6IHNldFN0YXRlLFxuICAgICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgICAgIHN1YnNjcmliZTogc3Vic2NyaWJlXG4gICAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL2NyZWF0ZVN0b3JlLmpzXG4gKiogbW9kdWxlIGlkID0gMTAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yY01lbnUgPSByZXF1aXJlKCdyYy1tZW51Jyk7XG5cbnZhciBfcmNNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjTWVudSk7XG5cbnZhciBfZG9tQ2xvc2VzdCA9IHJlcXVpcmUoJ2RvbS1jbG9zZXN0Jyk7XG5cbnZhciBfZG9tQ2xvc2VzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21DbG9zZXN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfZHJvcGRvd24gPSByZXF1aXJlKCcuLi9kcm9wZG93bicpO1xuXG52YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfY2hlY2tib3ggPSByZXF1aXJlKCcuLi9jaGVja2JveCcpO1xuXG52YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4uL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG52YXIgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIgPSByZXF1aXJlKCcuL0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXInKTtcblxudmFyIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIEZpbHRlck1lbnUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRmlsdGVyTWVudSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBGaWx0ZXJNZW51KHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRmlsdGVyTWVudSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnNldFNlbGVjdGVkS2V5cyA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzID0gX3JlZi5zZWxlY3RlZEtleXM7XG5cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZUNsZWFyRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEtleXM6IFtdXG4gICAgICAgICAgICB9LCBfdGhpcy5oYW5kbGVDb25maXJtKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ29uZmlybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblZpc2libGVDaGFuZ2UgPSBmdW5jdGlvbiAodmlzaWJsZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICAgICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpcm1GaWx0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlTWVudUl0ZW1DbGljayA9IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5rZXlQYXRoLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzLnN0YXRlLmtleVBhdGhPZlNlbGVjdGVkSXRlbTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpbmZvLmtleSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGRlc2VsZWN0IFN1Yk1lbnUgY2hpbGRcbiAgICAgICAgICAgICAgICBkZWxldGUga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2luZm8ua2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0IFN1Yk1lbnUgY2hpbGRcbiAgICAgICAgICAgICAgICBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldID0gaW5mby5rZXlQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW06IGtleVBhdGhPZlNlbGVjdGVkSXRlbSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZpc2libGUgPSAnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBwcm9wcy5jb2x1bW4gPyBwcm9wcy5jb2x1bW4uZmlsdGVyRHJvcGRvd25WaXNpYmxlIDogZmFsc2U7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBwcm9wcy5zZWxlY3RlZEtleXMsXG4gICAgICAgICAgICBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW06IHt9LFxuICAgICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXG4gICAgICAgIHZhciByb290Tm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgICB2YXIgZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5ID0gISEoMCwgX2RvbUNsb3Nlc3QyW1wiZGVmYXVsdFwiXSkocm9vdE5vZGUsICcuYW50LXRhYmxlLXNjcm9sbCcpO1xuICAgICAgICBpZiAoZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5ICYmIGNvbHVtbi5maXhlZCkge1xuICAgICAgICAgICAgLy8gV2hlbiBmaXhlZCBjb2x1bW4gaGF2ZSBmaWx0ZXJzLCB0aGVyZSB3aWxsIGJlIHR3byBkcm9wZG93biBtZW51c1xuICAgICAgICAgICAgLy8gRmlsdGVyIGRyb3Bkb3duIG1lbnUgaW5zaWRlIHNjcm9sbCBib2R5IHNob3VsZCBuZXZlciBiZSBzaG93blxuICAgICAgICAgICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzUwMTBcbiAgICAgICAgICAgIHRoaXMubmV2ZXJTaG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSBuZXh0UHJvcHMuY29sdW1uO1xuXG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuICAgICAgICBpZiAoJ3NlbGVjdGVkS2V5cycgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZS5zZWxlY3RlZEtleXMgPSBuZXh0UHJvcHMuc2VsZWN0ZWRLZXlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLnZpc2libGUgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd25WaXNpYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cbiAgICAgICAgaWYgKCEoJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gY29sdW1uKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IHZpc2libGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbi5vbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSkge1xuICAgICAgICAgICAgY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbmZpcm1GaWx0ZXIgPSBmdW5jdGlvbiBjb25maXJtRmlsdGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRLZXlzKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmNvbmZpcm1GaWx0ZXIodGhpcy5wcm9wcy5jb2x1bW4sIHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51SXRlbSA9IGZ1bmN0aW9uIHJlbmRlck1lbnVJdGVtKGl0ZW0pIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXG4gICAgICAgIHZhciBtdWx0aXBsZSA9ICdmaWx0ZXJNdWx0aXBsZScgaW4gY29sdW1uID8gY29sdW1uLmZpbHRlck11bHRpcGxlIDogdHJ1ZTtcbiAgICAgICAgdmFyIGlucHV0ID0gbXVsdGlwbGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS52YWx1ZS50b1N0cmluZygpKSA+PSAwIH0pIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgPj0gMCB9KTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG4gICAgICAgICAgICB7IGtleTogaXRlbS52YWx1ZSB9LFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGl0ZW0udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5oYXNTdWJNZW51ID0gZnVuY3Rpb24gaGFzU3ViTWVudSgpIHtcbiAgICAgICAgdmFyIF9wcm9wcyRjb2x1bW4kZmlsdGVycyA9IHRoaXMucHJvcHMuY29sdW1uLmZpbHRlcnMsXG4gICAgICAgICAgICBmaWx0ZXJzID0gX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID09PSB1bmRlZmluZWQgPyBbXSA6IF9wcm9wcyRjb2x1bW4kZmlsdGVycztcblxuICAgICAgICByZXR1cm4gZmlsdGVycy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gISEoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyTWVudXMgPSBmdW5jdGlvbiByZW5kZXJNZW51cyhpdGVtcykge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aE9mU2VsZWN0ZWRJdGVtID0gX3RoaXMyLnN0YXRlLmtleVBhdGhPZlNlbGVjdGVkSXRlbTtcblxuICAgICAgICAgICAgICAgIHZhciBjb250YWluU2VsZWN0ZWQgPSBPYmplY3Qua2V5cyhrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0pLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2tleV0uaW5kZXhPZihpdGVtLnZhbHVlKSA+PSAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzdWJNZW51Q2xzID0gY29udGFpblNlbGVjdGVkID8gX3RoaXMyLnByb3BzLmRyb3Bkb3duUHJlZml4Q2xzICsgJy1zdWJtZW51LWNvbnRhaW4tc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9yY01lbnUuU3ViTWVudSxcbiAgICAgICAgICAgICAgICAgICAgeyB0aXRsZTogaXRlbS50ZXh0LCBjbGFzc05hbWU6IHN1Yk1lbnVDbHMsIGtleTogaXRlbS52YWx1ZS50b1N0cmluZygpIH0sXG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZW5kZXJNZW51cyhpdGVtLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbmRlck1lbnVJdGVtKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNvbHVtbiA9IF9wcm9wcy5jb2x1bW4sXG4gICAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIGRyb3Bkb3duUHJlZml4Q2xzID0gX3Byb3BzLmRyb3Bkb3duUHJlZml4Q2xzO1xuICAgICAgICAvLyBkZWZhdWx0IG11bHRpcGxlIHNlbGVjdGlvbiBpbiBmaWx0ZXIgZHJvcGRvd25cblxuICAgICAgICB2YXIgbXVsdGlwbGUgPSAnZmlsdGVyTXVsdGlwbGUnIGluIGNvbHVtbiA/IGNvbHVtbi5maWx0ZXJNdWx0aXBsZSA6IHRydWU7XG4gICAgICAgIHZhciBkcm9wZG93bk1lbnVDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBkcm9wZG93blByZWZpeENscyArICctbWVudS13aXRob3V0LXN1Ym1lbnUnLCAhdGhpcy5oYXNTdWJNZW51KCkpKTtcbiAgICAgICAgdmFyIG1lbnVzID0gY29sdW1uLmZpbHRlckRyb3Bkb3duID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgY29sdW1uLmZpbHRlckRyb3Bkb3duXG4gICAgICAgICkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duJyB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyBtdWx0aXBsZTogbXVsdGlwbGUsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlTWVudUl0ZW1DbGljaywgcHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyArICctbWVudScsIGNsYXNzTmFtZTogZHJvcGRvd25NZW51Q2xhc3MsIG9uU2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgb25EZXNlbGVjdDogdGhpcy5zZXRTZWxlY3RlZEtleXMsIHNlbGVjdGVkS2V5czogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMgfSxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1lbnVzKGNvbHVtbi5maWx0ZXJzKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tYnRucycgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY29uZmlybScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29uZmlybSB9LFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUuZmlsdGVyQ29uZmlybVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1saW5rIGNsZWFyJywgb25DbGljazogdGhpcy5oYW5kbGVDbGVhckZpbHRlcnMgfSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmZpbHRlclJlc2V0XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICB2YXIgZHJvcGRvd25TZWxlY3RlZENsYXNzID0gdGhpcy5wcm9wcy5zZWxlY3RlZEtleXMubGVuZ3RoID4gMCA/IHByZWZpeENscyArICctc2VsZWN0ZWQnIDogJyc7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICB7IHRyaWdnZXI6IFsnY2xpY2snXSwgb3ZlcmxheTogbWVudXMsIHZpc2libGU6IHRoaXMubmV2ZXJTaG93biA/IGZhbHNlIDogdGhpcy5zdGF0ZS52aXNpYmxlLCBvblZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdGl0bGU6IGxvY2FsZS5maWx0ZXJUaXRsZSwgdHlwZTogJ2ZpbHRlcicsIGNsYXNzTmFtZTogZHJvcGRvd25TZWxlY3RlZENsYXNzIH0pXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJNZW51O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZpbHRlck1lbnU7XG5cbkZpbHRlck1lbnUuZGVmYXVsdFByb3BzID0ge1xuICAgIGhhbmRsZUZpbHRlcjogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKCkge30sXG5cbiAgICBjb2x1bW46IHt9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvZmlsdGVyRHJvcGRvd24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZmxhdEFycmF5ID0gZmxhdEFycmF5O1xuZXhwb3J0cy50cmVlTWFwID0gdHJlZU1hcDtcbmV4cG9ydHMubm9ybWFsaXplQ29sdW1ucyA9IG5vcm1hbGl6ZUNvbHVtbnM7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbnZhciBfQ29sdW1uR3JvdXAgPSByZXF1aXJlKCcuL0NvbHVtbkdyb3VwJyk7XG5cbnZhciBfQ29sdW1uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uR3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZmxhdEFycmF5KCkge1xuICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICB2YXIgY2hpbGRyZW5OYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY2hpbGRyZW4nO1xuXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBsb29wID0gZnVuY3Rpb24gbG9vcChhcnJheSkge1xuICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgbmV3SXRlbSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBpdGVtKTtcbiAgICAgICAgICAgIGRlbGV0ZSBuZXdJdGVtW2NoaWxkcmVuTmFtZV07XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXdJdGVtKTtcbiAgICAgICAgICAgIGlmIChpdGVtW2NoaWxkcmVuTmFtZV0gJiYgaXRlbVtjaGlsZHJlbk5hbWVdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsb29wKGl0ZW1bY2hpbGRyZW5OYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgbG9vcChkYXRhKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdHJlZU1hcCh0cmVlLCBtYXBwZXIpIHtcbiAgICB2YXIgY2hpbGRyZW5OYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuXG4gICAgcmV0dXJuIHRyZWUubWFwKGZ1bmN0aW9uIChub2RlLCBpbmRleCkge1xuICAgICAgICB2YXIgZXh0cmEgPSB7fTtcbiAgICAgICAgaWYgKG5vZGVbY2hpbGRyZW5OYW1lXSkge1xuICAgICAgICAgICAgZXh0cmFbY2hpbGRyZW5OYW1lXSA9IHRyZWVNYXAobm9kZVtjaGlsZHJlbk5hbWVdLCBtYXBwZXIsIGNoaWxkcmVuTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBtYXBwZXIobm9kZSwgaW5kZXgpLCBleHRyYSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb2x1bW5zKGVsZW1lbnRzKSB7XG4gICAgdmFyIGNvbHVtbnMgPSBbXTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBlbGVtZW50LnByb3BzKTtcbiAgICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG4gICAgICAgICAgICBjb2x1bW4ua2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gX0NvbHVtbkdyb3VwMltcImRlZmF1bHRcIl0pIHtcbiAgICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNvbHVtbnMoY29sdW1uLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29sdW1ucztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS91dGlsLmpzXG4gKiogbW9kdWxlIGlkID0gMTAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIG1hdGNoZXMgPSByZXF1aXJlKCdkb20tbWF0Y2hlcycpO1xuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50IHtFbGVtZW50fVxuICogQHBhcmFtIHNlbGVjdG9yIHtTdHJpbmd9XG4gKiBAcGFyYW0gY29udGV4dCB7RWxlbWVudH1cbiAqIEByZXR1cm4ge0VsZW1lbnR9XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuICAvLyBndWFyZCBhZ2FpbnN0IG9ycGhhbnNcbiAgZWxlbWVudCA9IHsgcGFyZW50Tm9kZTogZWxlbWVudCB9O1xuXG4gIHdoaWxlICgoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSkgJiYgZWxlbWVudCAhPT0gY29udGV4dCkge1xuICAgIGlmIChtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICB9XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZG9tLWNsb3Nlc3QvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgRE9NIGVsZW1lbnQgbWF0Y2hlcyBhIENTUyBzZWxlY3RvclxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBtYXRjaGVzKGVsZW0sIHNlbGVjdG9yKSB7XG4gIC8vIFZlbmRvci1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMgb2YgYEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMoKWAuXG4gIHZhciBwcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTtcbiAgdmFyIG5hdGl2ZU1hdGNoZXMgPSBwcm90by5tYXRjaGVzIHx8XG4gICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG5cbiAgaWYgKCFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcGFyZW50RWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcblxuICAvLyB1c2UgbmF0aXZlICdtYXRjaGVzJ1xuICBpZiAobmF0aXZlTWF0Y2hlcykge1xuICAgIHJldHVybiBuYXRpdmVNYXRjaGVzLmNhbGwoZWxlbSwgc2VsZWN0b3IpO1xuICB9XG5cbiAgLy8gbmF0aXZlIHN1cHBvcnQgZm9yIGBtYXRjaGVzYCBpcyBtaXNzaW5nIGFuZCBhIGZhbGxiYWNrIGlzIHJlcXVpcmVkXG4gIHZhciBub2RlcyA9IHBhcmVudEVsZW0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gIHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChub2Rlc1tpXSA9PT0gZWxlbSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEV4cG9zZSBgbWF0Y2hlc2BcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoZXM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kb20tbWF0Y2hlcy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS43LjFcbihmdW5jdGlvbigpIHtcbiAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIGxvYWRUaW1lKSAvIDFlNjtcbiAgICB9O1xuICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuICAgIGdldE5hbm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaHI7XG4gICAgICBociA9IGhydGltZSgpO1xuICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qc1xuICoqIG1vZHVsZSBpZCA9IDExNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENoZWNrYm94KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoZWNrYm94KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KTtcbiAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2N1czogZmFsc2UgfSk7XG4gICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEoJ2NoZWNrZWQnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgdGFyZ2V0OiBfZXh0ZW5kcyh7fSwgX3RoaXMucHJvcHMsIHtcbiAgICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgIH0pLFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcbiAgICBpZiAoJ2NoZWNrZWQnIGluIHByb3BzKSB7XG4gICAgICBjaGVja2VkID0gcHJvcHMuY2hlY2tlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tlZCA9IHByb3BzLmRlZmF1bHRDaGVja2VkO1xuICAgIH1cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgICBmb2N1czogZmFsc2VcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIENoZWNrYm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ2NoZWNrZWQnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoZWNrZWQ6IG5leHRQcm9wcy5jaGVja2VkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ2hlY2tib3gucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcblxuICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICAvLyBSZW1vdmUgUmVhY3Qgd2FybmluZy5cbiAgICAvLyBXYXJuaW5nOiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZFxuICAgIC8vIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLlxuICAgIGRlbGV0ZSBwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICB2YXIgY2hlY2tlZCA9IHN0YXRlLmNoZWNrZWQ7XG4gICAgaWYgKHR5cGVvZiBjaGVja2VkID09PSAnYm9vbGVhbicpIHtcbiAgICAgIGNoZWNrZWQgPSBjaGVja2VkID8gMSA6IDA7XG4gICAgfVxuICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCAxKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQtJyArIGNoZWNrZWQsICEhY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1mb2N1c2VkJywgc3RhdGUuZm9jdXMpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBwcm9wcy5kaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3BhbicsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICAgIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5uZXInIH0pLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG4gICAgICAgIHR5cGU6IHByb3BzLnR5cGUsXG4gICAgICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSxcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCcsXG4gICAgICAgIGNoZWNrZWQ6ICEhY2hlY2tlZCxcbiAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy5vbkNsaWNrLFxuICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIENoZWNrYm94O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5DaGVja2JveC5wcm9wVHlwZXMgPSB7XG4gIG5hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gIHByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG4gIHR5cGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gIGNsYXNzTmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVmYXVsdENoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG4gIGRpc2FibGVkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcbiAgY2hlY2tlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2xdKSxcbiAgb25Gb2N1czogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQmx1cjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgb25DbGljazogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcbn07XG5DaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ3JjLWNoZWNrYm94JyxcbiAgc3R5bGU6IHt9LFxuICB0eXBlOiAnY2hlY2tib3gnLFxuICBjbGFzc05hbWU6ICcnLFxuICBkZWZhdWx0Q2hlY2tlZDogZmFsc2UsXG4gIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7fSxcbiAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7fSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge31cbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2hlY2tib3gvbGliL0NoZWNrYm94LmpzXG4gKiogbW9kdWxlIGlkID0gMTE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmNUcmlnZ2VyID0gcmVxdWlyZSgncmMtdHJpZ2dlcicpO1xuXG52YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXG52YXIgX3BsYWNlbWVudHMgPSByZXF1aXJlKCcuL3BsYWNlbWVudHMnKTtcblxudmFyIF9wbGFjZW1lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYWNlbWVudHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKlxuIHZhciBNZW51SXRlbSA9IE1lbnUuSXRlbTtcblxuIHZhciBtZW51ID0gPE1lbnU+PE1lbnVJdGVtPjE8L01lbnVJdGVtPjwvTWVudT47XG5cbiA8RHJvcERvd24gdHJpZ2dlcj1cImNsaWNrXCIgYW5pbWF0aW9uTmFtZT1cIlwiIG92ZXJsYXk9ezw+fSBvblNlbGVjdD17fT5cbiA8YnV0dG9uPm9wZW48L2J1dHRvbj5cbiA8L0Ryb3BEb3duPlxuKi9cblxudmFyIERyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0Ryb3Bkb3duJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvblZpc2libGVDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3ZlcmxheUNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBhbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb3ZlcmxheVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwbGFjZW1lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRyaWdnZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgc2hvd0FjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBoaWRlQWN0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGdldFBvcHVwQ29udGFpbmVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyOiB0cnVlLFxuICAgICAgcHJlZml4Q2xzOiAncmMtZHJvcGRvd24nLFxuICAgICAgdHJpZ2dlcjogWydob3ZlciddLFxuICAgICAgc2hvd0FjdGlvbjogW10sXG4gICAgICBoaWRlQWN0aW9uOiBbXSxcbiAgICAgIG92ZXJsYXlDbGFzc05hbWU6ICcnLFxuICAgICAgb3ZlcmxheVN0eWxlOiB7fSxcbiAgICAgIGRlZmF1bHRWaXNpYmxlOiBmYWxzZSxcbiAgICAgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKCkge30sXG5cbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoJ3Zpc2libGUnIGluIHByb3BzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZTogcHJvcHMuZGVmYXVsdFZpc2libGVcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKF9yZWYpIHtcbiAgICB2YXIgdmlzaWJsZSA9IF9yZWYudmlzaWJsZTtcblxuICAgIGlmICh2aXNpYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG92ZXJsYXlQcm9wcyA9IHByb3BzLm92ZXJsYXkucHJvcHM7XG4gICAgLy8gZG8gbm8gY2FsbCBvblZpc2libGVDaGFuZ2UsIGlmIHlvdSBuZWVkIGNsaWNrIHRvIGhpZGUsIHVzZSBvbkNsaWNrIGFuZCBjb250cm9sIHZpc2libGVcbiAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob3ZlcmxheVByb3BzLm9uQ2xpY2spIHtcbiAgICAgIG92ZXJsYXlQcm9wcy5vbkNsaWNrKGUpO1xuICAgIH1cbiAgfSxcbiAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9wcy5vblZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG4gIH0sXG4gIGdldE1lbnVFbGVtZW50OiBmdW5jdGlvbiBnZXRNZW51RWxlbWVudCgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQocHJvcHMub3ZlcmxheSwge1xuICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1lbnUnLFxuICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrXG4gICAgfSk7XG4gIH0sXG4gIGdldFBvcHVwRG9tTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBEb21Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERvbU5vZGUoKTtcbiAgfSxcbiAgYWZ0ZXJWaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBhZnRlclZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuICAgIGlmICh2aXNpYmxlICYmIHRoaXMucHJvcHMubWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyKSB7XG4gICAgICB2YXIgb3ZlcmxheU5vZGUgPSB0aGlzLmdldFBvcHVwRG9tTm9kZSgpO1xuICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gICAgICBpZiAocm9vdE5vZGUub2Zmc2V0V2lkdGggPiBvdmVybGF5Tm9kZS5vZmZzZXRXaWR0aCkge1xuICAgICAgICBvdmVybGF5Tm9kZS5zdHlsZS53aWR0aCA9IHJvb3ROb2RlLm9mZnNldFdpZHRoICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBfcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgdmFyIGFuaW1hdGlvbiA9IF9wcm9wcy5hbmltYXRpb247XG4gICAgdmFyIGFsaWduID0gX3Byb3BzLmFsaWduO1xuICAgIHZhciBwbGFjZW1lbnQgPSBfcHJvcHMucGxhY2VtZW50O1xuICAgIHZhciBnZXRQb3B1cENvbnRhaW5lciA9IF9wcm9wcy5nZXRQb3B1cENvbnRhaW5lcjtcbiAgICB2YXIgc2hvd0FjdGlvbiA9IF9wcm9wcy5zaG93QWN0aW9uO1xuICAgIHZhciBoaWRlQWN0aW9uID0gX3Byb3BzLmhpZGVBY3Rpb247XG4gICAgdmFyIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMub3ZlcmxheUNsYXNzTmFtZTtcbiAgICB2YXIgb3ZlcmxheVN0eWxlID0gX3Byb3BzLm92ZXJsYXlTdHlsZTtcbiAgICB2YXIgdHJpZ2dlciA9IF9wcm9wcy50cmlnZ2VyO1xuXG4gICAgdmFyIG90aGVyUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3ByZWZpeENscycsICdjaGlsZHJlbicsICd0cmFuc2l0aW9uTmFtZScsICdhbmltYXRpb24nLCAnYWxpZ24nLCAncGxhY2VtZW50JywgJ2dldFBvcHVwQ29udGFpbmVyJywgJ3Nob3dBY3Rpb24nLCAnaGlkZUFjdGlvbicsICdvdmVybGF5Q2xhc3NOYW1lJywgJ292ZXJsYXlTdHlsZScsICd0cmlnZ2VyJ10pO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG4gICAgICBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywge1xuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgcmVmOiAndHJpZ2dlcicsXG4gICAgICAgIHBvcHVwQ2xhc3NOYW1lOiBvdmVybGF5Q2xhc3NOYW1lLFxuICAgICAgICBwb3B1cFN0eWxlOiBvdmVybGF5U3R5bGUsXG4gICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBfcGxhY2VtZW50czJbXCJkZWZhdWx0XCJdLFxuICAgICAgICBhY3Rpb246IHRyaWdnZXIsXG4gICAgICAgIHNob3dBY3Rpb246IHNob3dBY3Rpb24sXG4gICAgICAgIGhpZGVBY3Rpb246IGhpZGVBY3Rpb24sXG4gICAgICAgIHBvcHVwUGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgIHBvcHVwQWxpZ246IGFsaWduLFxuICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcbiAgICAgICAgcG9wdXBBbmltYXRpb246IGFuaW1hdGlvbixcbiAgICAgICAgcG9wdXBWaXNpYmxlOiB0aGlzLnN0YXRlLnZpc2libGUsXG4gICAgICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLmFmdGVyVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgcG9wdXA6IHRoaXMuZ2V0TWVudUVsZW1lbnQoKSxcbiAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0UG9wdXBDb250YWluZXJcbiAgICAgIH0pLFxuICAgICAgY2hpbGRyZW5cbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRyb3Bkb3duL2xpYi9Ecm9wZG93bi5qc1xuICoqIG1vZHVsZSBpZCA9IDExN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9Ecm9wZG93biA9IHJlcXVpcmUoJy4vRHJvcGRvd24nKTtcblxudmFyIF9Ecm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wZG93bik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9Ecm9wZG93bjJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZHJvcGRvd24vbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHtcbiAgYWRqdXN0WDogMSxcbiAgYWRqdXN0WTogMVxufTtcblxudmFyIHRhcmdldE9mZnNldCA9IFswLCAwXTtcblxudmFyIHBsYWNlbWVudHMgPSBleHBvcnRzLnBsYWNlbWVudHMgPSB7XG4gIHRvcExlZnQ6IHtcbiAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIC00XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICB0b3BDZW50ZXI6IHtcbiAgICBwb2ludHM6IFsnYmMnLCAndGMnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIC00XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICB0b3BSaWdodDoge1xuICAgIHBvaW50czogWydicicsICd0ciddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIGJvdHRvbUxlZnQ6IHtcbiAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIDRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIGJvdHRvbUNlbnRlcjoge1xuICAgIHBvaW50czogWyd0YycsICdiYyddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tUmlnaHQ6IHtcbiAgICBwb2ludHM6IFsndHInLCAnYnInXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIDRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcGxhY2VtZW50cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kcm9wZG93bi9saWIvcGxhY2VtZW50cy5qc1xuICoqIG1vZHVsZSBpZCA9IDExOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgS0VZQ09ERSA9IHJlcXVpcmUoJy4vS2V5Q29kZScpO1xuXG52YXIgT3B0aW9ucyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhPcHRpb25zLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPcHRpb25zKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9wdGlvbnMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnQ6IHByb3BzLmN1cnJlbnQsXG4gICAgICBfY3VycmVudDogcHJvcHMuY3VycmVudFxuICAgIH07XG5cbiAgICBbJ19oYW5kbGVDaGFuZ2UnLCAnX2NoYW5nZVNpemUnLCAnX2dvJywgJ19idWlsZE9wdGlvblRleHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIHJldHVybiBfdGhpc1ttZXRob2RdID0gX3RoaXNbbWV0aG9kXS5iaW5kKF90aGlzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBPcHRpb25zLnByb3RvdHlwZS5fYnVpbGRPcHRpb25UZXh0ID0gZnVuY3Rpb24gX2J1aWxkT3B0aW9uVGV4dCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSArICcgJyArIHRoaXMucHJvcHMubG9jYWxlLml0ZW1zX3Blcl9wYWdlO1xuICB9O1xuXG4gIE9wdGlvbnMucHJvdG90eXBlLl9jaGFuZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVNpemUodmFsdWUpIHtcbiAgICB0aGlzLnByb3BzLmNoYW5nZVNpemUoTnVtYmVyKHZhbHVlKSk7XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2hhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UoZXZ0KSB7XG4gICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBfY3VycmVudDogX3ZhbFxuICAgIH0pO1xuICB9O1xuXG4gIE9wdGlvbnMucHJvdG90eXBlLl9nbyA9IGZ1bmN0aW9uIF9nbyhlKSB7XG4gICAgdmFyIF92YWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBpZiAoX3ZhbCA9PT0gJycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHZhbCA9IE51bWJlcih0aGlzLnN0YXRlLl9jdXJyZW50KTtcbiAgICBpZiAoaXNOYU4odmFsKSkge1xuICAgICAgdmFsID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgIH1cbiAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFLkVOVEVSKSB7XG4gICAgICB2YXIgYyA9IHRoaXMucHJvcHMucXVpY2tHbyh2YWwpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIF9jdXJyZW50OiBjLFxuICAgICAgICBjdXJyZW50OiBjXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLW9wdGlvbnMnO1xuICAgIHZhciBjaGFuZ2VTaXplID0gcHJvcHMuY2hhbmdlU2l6ZTtcbiAgICB2YXIgcXVpY2tHbyA9IHByb3BzLnF1aWNrR287XG4gICAgdmFyIGJ1aWxkT3B0aW9uVGV4dCA9IHByb3BzLmJ1aWxkT3B0aW9uVGV4dCB8fCB0aGlzLl9idWlsZE9wdGlvblRleHQ7XG4gICAgdmFyIFNlbGVjdCA9IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzO1xuICAgIHZhciBjaGFuZ2VTZWxlY3QgPSBudWxsO1xuICAgIHZhciBnb0lucHV0ID0gbnVsbDtcblxuICAgIGlmICghKGNoYW5nZVNpemUgfHwgcXVpY2tHbykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VTaXplICYmIFNlbGVjdCkge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIE9wdGlvbiA9IFNlbGVjdC5PcHRpb247XG4gICAgICAgIHZhciBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplIHx8IHByb3BzLnBhZ2VTaXplT3B0aW9uc1swXTtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBwcm9wcy5wYWdlU2l6ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHQsIGkpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIE9wdGlvbixcbiAgICAgICAgICAgIHsga2V5OiBpLCB2YWx1ZTogb3B0IH0sXG4gICAgICAgICAgICBidWlsZE9wdGlvblRleHQob3B0KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYW5nZVNlbGVjdCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgU2VsZWN0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuICAgICAgICAgICAgc2hvd1NlYXJjaDogZmFsc2UsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2l6ZS1jaGFuZ2VyJyxcbiAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ2NoaWxkcmVuJyxcbiAgICAgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogcGFnZVNpemUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpczIuX2NoYW5nZVNpemVcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgaWYgKHF1aWNrR28pIHtcbiAgICAgIGdvSW5wdXQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcXVpY2stanVtcGVyJyB9LFxuICAgICAgICBsb2NhbGUuanVtcF90byxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgIHZhbHVlOiBzdGF0ZS5fY3VycmVudCxcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5faGFuZGxlQ2hhbmdlLFxuICAgICAgICAgIG9uS2V5VXA6IHRoaXMuX2dvXG4gICAgICAgIH0pLFxuICAgICAgICBsb2NhbGUucGFnZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6ICcnICsgcHJlZml4Q2xzIH0sXG4gICAgICBjaGFuZ2VTZWxlY3QsXG4gICAgICBnb0lucHV0XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gT3B0aW9ucztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuT3B0aW9ucy5wcm9wVHlwZXMgPSB7XG4gIGNoYW5nZVNpemU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBxdWlja0dvOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBjdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBwYWdlU2l6ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuICBwYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgYnVpbGRPcHRpb25UZXh0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG59O1xuXG5PcHRpb25zLmRlZmF1bHRQcm9wcyA9IHtcbiAgcGFnZVNpemVPcHRpb25zOiBbJzEwJywgJzIwJywgJzMwJywgJzQwJ11cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT3B0aW9ucztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9PcHRpb25zLmpzXG4gKiogbW9kdWxlIGlkID0gMTIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIFBhZ2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBhZ2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQYWdlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBQYWdlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLWl0ZW0nO1xuICAgIHZhciBjbHMgPSBwcmVmaXhDbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy5wYWdlO1xuXG4gICAgaWYgKHByb3BzLmFjdGl2ZSkge1xuICAgICAgY2xzID0gY2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy1hY3RpdmUnO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIGNscyA9IGNscyArICcgJyArIHByb3BzLmNsYXNzTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdsaScsXG4gICAgICB7IHRpdGxlOiBwcm9wcy5wYWdlLCBjbGFzc05hbWU6IGNscywgb25DbGljazogcHJvcHMub25DbGljayB9LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2EnLFxuICAgICAgICBudWxsLFxuICAgICAgICBwcm9wcy5wYWdlXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gUGFnZXI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBhZ2VyLnByb3BUeXBlcyA9IHtcbiAgcGFnZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgYWN0aXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgbGFzdDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2VyO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL1BhZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBQYWdlciA9IHJlcXVpcmUoJy4vUGFnZXInKTtcbnZhciBPcHRpb25zID0gcmVxdWlyZSgnLi9PcHRpb25zJyk7XG52YXIgS0VZQ09ERSA9IHJlcXVpcmUoJy4vS2V5Q29kZScpO1xudmFyIExPQ0FMRSA9IHJlcXVpcmUoJy4vbG9jYWxlL3poX0NOJyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQYWdpbmF0aW9uKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb24pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICB2YXIgaGFzT25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSAhPT0gbm9vcDtcbiAgICB2YXIgaGFzQ3VycmVudCA9ICdjdXJyZW50JyBpbiBwcm9wcztcbiAgICBpZiAoaGFzQ3VycmVudCAmJiAhaGFzT25DaGFuZ2UpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogWW91IHByb3ZpZGVkIGEgYGN1cnJlbnRgIHByb3AgdG8gYSBQYWdpbmF0aW9uIGNvbXBvbmVudCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBjb21wb25lbnQuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9XG5cbiAgICB2YXIgY3VycmVudCA9IHByb3BzLmRlZmF1bHRDdXJyZW50O1xuICAgIGlmICgnY3VycmVudCcgaW4gcHJvcHMpIHtcbiAgICAgIGN1cnJlbnQgPSBwcm9wcy5jdXJyZW50O1xuICAgIH1cblxuICAgIHZhciBwYWdlU2l6ZSA9IHByb3BzLmRlZmF1bHRQYWdlU2l6ZTtcbiAgICBpZiAoJ3BhZ2VTaXplJyBpbiBwcm9wcykge1xuICAgICAgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZTtcbiAgICB9XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgICBfY3VycmVudDogY3VycmVudCxcbiAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZVxuICAgIH07XG5cbiAgICBbJ3JlbmRlcicsICdfaGFuZGxlQ2hhbmdlJywgJ19oYW5kbGVLZXlVcCcsICdfaGFuZGxlS2V5RG93bicsICdfY2hhbmdlUGFnZVNpemUnLCAnX2lzVmFsaWQnLCAnX3ByZXYnLCAnX25leHQnLCAnX2hhc1ByZXYnLCAnX2hhc05leHQnLCAnX2p1bXBQcmV2JywgJ19qdW1wTmV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnY3VycmVudCcgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudDogbmV4dFByb3BzLmN1cnJlbnQsXG4gICAgICAgIF9jdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCdwYWdlU2l6ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgICAgdmFyIG5ld0N1cnJlbnQgPSB0aGlzLl9jYWxjUGFnZShuZXh0UHJvcHMucGFnZVNpemUpO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7XG4gICAgICBpZiAoISgnY3VycmVudCcgaW4gbmV4dFByb3BzKSkge1xuICAgICAgICBuZXdTdGF0ZS5jdXJyZW50ID0gY3VycmVudDtcbiAgICAgICAgbmV3U3RhdGUuX2N1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgfVxuICAgICAgbmV3U3RhdGUucGFnZVNpemUgPSBuZXh0UHJvcHMucGFnZVNpemU7XG4gICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NhbGNQYWdlID0gZnVuY3Rpb24gX2NhbGNQYWdlKHApIHtcbiAgICB2YXIgcGFnZVNpemUgPSBwO1xuICAgIGlmICh0eXBlb2YgcGFnZVNpemUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLnByb3BzLnRvdGFsIC0gMSkgLyBwYWdlU2l6ZSkgKyAxO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9pc1ZhbGlkID0gZnVuY3Rpb24gX2lzVmFsaWQocGFnZSkge1xuICAgIHJldHVybiB0eXBlb2YgcGFnZSA9PT0gJ251bWJlcicgJiYgcGFnZSA+PSAxICYmIHBhZ2UgIT09IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIF9oYW5kbGVLZXlEb3duKGV2dCkge1xuICAgIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCB8fCBldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUtleVVwID0gZnVuY3Rpb24gX2hhbmRsZUtleVVwKGV2dCkge1xuICAgIHZhciBfdmFsID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICB2YXIgdmFsID0gdm9pZCAwO1xuXG4gICAgaWYgKF92YWwgPT09ICcnKSB7XG4gICAgICB2YWwgPSBfdmFsO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4oTnVtYmVyKF92YWwpKSkge1xuICAgICAgdmFsID0gdGhpcy5zdGF0ZS5fY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gTnVtYmVyKF92YWwpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgX2N1cnJlbnQ6IHZhbFxuICAgIH0pO1xuXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkVOVEVSKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsIC0gMSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9jaGFuZ2VQYWdlU2l6ZSA9IGZ1bmN0aW9uIF9jaGFuZ2VQYWdlU2l6ZShzaXplKSB7XG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgdmFyIG5ld0N1cnJlbnQgPSB0aGlzLl9jYWxjUGFnZShzaXplKTtcbiAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcbiAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoISgncGFnZVNpemUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHBhZ2VTaXplOiBzaXplXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgICAgICAgX2N1cnJlbnQ6IGN1cnJlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBzaXplKTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShwKSB7XG4gICAgdmFyIHBhZ2UgPSBwO1xuICAgIGlmICh0aGlzLl9pc1ZhbGlkKHBhZ2UpKSB7XG4gICAgICBpZiAocGFnZSA+IHRoaXMuX2NhbGNQYWdlKCkpIHtcbiAgICAgICAgcGFnZSA9IHRoaXMuX2NhbGNQYWdlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50OiBwYWdlLFxuICAgICAgICAgIF9jdXJyZW50OiBwYWdlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFnZVNpemUgPSB0aGlzLnN0YXRlLnBhZ2VTaXplO1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShwYWdlLCBwYWdlU2l6ZSk7XG5cbiAgICAgIHJldHVybiBwYWdlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX3ByZXYgPSBmdW5jdGlvbiBfcHJldigpIHtcbiAgICBpZiAodGhpcy5faGFzUHJldigpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50IC0gMSk7XG4gICAgfVxuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gX25leHQoKSB7XG4gICAgaWYgKHRoaXMuX2hhc05leHQoKSkge1xuICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudCArIDEpO1xuICAgIH1cbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fanVtcFByZXYgPSBmdW5jdGlvbiBfanVtcFByZXYoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2hhbmdlKE1hdGgubWF4KDEsIHRoaXMuc3RhdGUuY3VycmVudCAtICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpKTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fanVtcE5leHQgPSBmdW5jdGlvbiBfanVtcE5leHQoKSB7XG4gICAgdGhpcy5faGFuZGxlQ2hhbmdlKE1hdGgubWluKHRoaXMuX2NhbGNQYWdlKCksIHRoaXMuc3RhdGUuY3VycmVudCArICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpKTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFzUHJldiA9IGZ1bmN0aW9uIF9oYXNQcmV2KCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQgPiAxO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNOZXh0ID0gZnVuY3Rpb24gX2hhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA8IHRoaXMuX2NhbGNQYWdlKCk7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblxuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGFsbFBhZ2VzID0gdGhpcy5fY2FsY1BhZ2UoKTtcbiAgICB2YXIgcGFnZXJMaXN0ID0gW107XG4gICAgdmFyIGp1bXBQcmV2ID0gbnVsbDtcbiAgICB2YXIganVtcE5leHQgPSBudWxsO1xuICAgIHZhciBmaXJzdFBhZ2VyID0gbnVsbDtcbiAgICB2YXIgbGFzdFBhZ2VyID0gbnVsbDtcblxuICAgIHZhciBwYWdlQnVmZmVyU2l6ZSA9IHByb3BzLnNob3dMZXNzSXRlbXMgPyAxIDogMjtcbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgY3VycmVudCA9IF9zdGF0ZS5jdXJyZW50LFxuICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZS5wYWdlU2l6ZTtcblxuXG4gICAgaWYgKHByb3BzLnNpbXBsZSkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd1bCcsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXNpbXBsZSAnICsgcHJvcHMuY2xhc3NOYW1lIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZfcGFnZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX3ByZXYsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgICApLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdsaScsXG4gICAgICAgICAgeyB0aXRsZTogdGhpcy5zdGF0ZS5jdXJyZW50ICsgJy8nICsgYWxsUGFnZXMsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaW1wbGUtcGFnZXInIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5fY3VycmVudCxcbiAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5faGFuZGxlS2V5RG93bixcbiAgICAgICAgICAgIG9uS2V5VXA6IHRoaXMuX2hhbmRsZUtleVVwLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUtleVVwXG4gICAgICAgICAgfSksXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNsYXNoJyB9LFxuICAgICAgICAgICAgJ1xcdUZGMEYnXG4gICAgICAgICAgKSxcbiAgICAgICAgICBhbGxQYWdlc1xuICAgICAgICApLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdsaScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0X3BhZ2UsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9uZXh0LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzTmV4dCgpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLW5leHQnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoYWxsUGFnZXMgPD0gNSArIHBhZ2VCdWZmZXJTaXplICogMikge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gYWxsUGFnZXM7IGkrKykge1xuICAgICAgICB2YXIgYWN0aXZlID0gdGhpcy5zdGF0ZS5jdXJyZW50ID09PSBpO1xuICAgICAgICBwYWdlckxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIGkpLFxuICAgICAgICAgIGtleTogaSxcbiAgICAgICAgICBwYWdlOiBpLFxuICAgICAgICAgIGFjdGl2ZTogYWN0aXZlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAganVtcFByZXYgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUucHJldl8zIDogbG9jYWxlLnByZXZfNSxcbiAgICAgICAgICBrZXk6ICdwcmV2JyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9qdW1wUHJldixcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctanVtcC1wcmV2J1xuICAgICAgICB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICk7XG4gICAgICBqdW1wTmV4dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5uZXh0XzMgOiBsb2NhbGUubmV4dF81LFxuICAgICAgICAgIGtleTogJ25leHQnLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2p1bXBOZXh0LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLW5leHQnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKTtcbiAgICAgIGxhc3RQYWdlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG4gICAgICAgIGxhc3Q6IHRydWUsXG4gICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgYWxsUGFnZXMpLFxuICAgICAgICBrZXk6IGFsbFBhZ2VzLFxuICAgICAgICBwYWdlOiBhbGxQYWdlcyxcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBmaXJzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAxKSxcbiAgICAgICAga2V5OiAxLFxuICAgICAgICBwYWdlOiAxLFxuICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgxLCBjdXJyZW50IC0gcGFnZUJ1ZmZlclNpemUpO1xuICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5taW4oY3VycmVudCArIHBhZ2VCdWZmZXJTaXplLCBhbGxQYWdlcyk7XG5cbiAgICAgIGlmIChjdXJyZW50IC0gMSA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICByaWdodCA9IDEgKyBwYWdlQnVmZmVyU2l6ZSAqIDI7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPD0gcGFnZUJ1ZmZlclNpemUpIHtcbiAgICAgICAgbGVmdCA9IGFsbFBhZ2VzIC0gcGFnZUJ1ZmZlclNpemUgKiAyO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaSA9IGxlZnQ7IF9pIDw9IHJpZ2h0OyBfaSsrKSB7XG4gICAgICAgIHZhciBfYWN0aXZlID0gY3VycmVudCA9PT0gX2k7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgX2kpLFxuICAgICAgICAgIGtleTogX2ksXG4gICAgICAgICAgcGFnZTogX2ksXG4gICAgICAgICAgYWN0aXZlOiBfYWN0aXZlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnQgLSAxID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSAxICsgMikge1xuICAgICAgICBwYWdlckxpc3RbMF0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0WzBdLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYWZ0ZXItanVtcC1wcmV2J1xuICAgICAgICB9KTtcbiAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoanVtcFByZXYpO1xuICAgICAgfVxuICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gYWxsUGFnZXMgLSAyKSB7XG4gICAgICAgIHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWJlZm9yZS1qdW1wLW5leHQnXG4gICAgICAgIH0pO1xuICAgICAgICBwYWdlckxpc3QucHVzaChqdW1wTmV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsZWZ0ICE9PSAxKSB7XG4gICAgICAgIHBhZ2VyTGlzdC51bnNoaWZ0KGZpcnN0UGFnZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHJpZ2h0ICE9PSBhbGxQYWdlcykge1xuICAgICAgICBwYWdlckxpc3QucHVzaChsYXN0UGFnZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0b3RhbFRleHQgPSBudWxsO1xuXG4gICAgaWYgKHByb3BzLnNob3dUb3RhbCkge1xuICAgICAgdG90YWxUZXh0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10b3RhbC10ZXh0JyB9LFxuICAgICAgICBwcm9wcy5zaG93VG90YWwocHJvcHMudG90YWwsIFsoY3VycmVudCAtIDEpICogcGFnZVNpemUgKyAxLCBjdXJyZW50ICogcGFnZVNpemUgPiBwcm9wcy50b3RhbCA/IHByb3BzLnRvdGFsIDogY3VycmVudCAqIHBhZ2VTaXplXSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndWwnLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnXG4gICAgICB9LFxuICAgICAgdG90YWxUZXh0LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX3ByZXYsXG4gICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzUHJldigpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXByZXYnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKSxcbiAgICAgIHBhZ2VyTGlzdCxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9uZXh0LFxuICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc05leHQoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1uZXh0J1xuICAgICAgICB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICksXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE9wdGlvbnMsIHtcbiAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG4gICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzLFxuICAgICAgICBzZWxlY3RQcmVmaXhDbHM6IHByb3BzLnNlbGVjdFByZWZpeENscyxcbiAgICAgICAgY2hhbmdlU2l6ZTogdGhpcy5wcm9wcy5zaG93U2l6ZUNoYW5nZXIgPyB0aGlzLl9jaGFuZ2VQYWdlU2l6ZS5iaW5kKHRoaXMpIDogbnVsbCxcbiAgICAgICAgY3VycmVudDogdGhpcy5zdGF0ZS5jdXJyZW50LFxuICAgICAgICBwYWdlU2l6ZTogdGhpcy5zdGF0ZS5wYWdlU2l6ZSxcbiAgICAgICAgcGFnZVNpemVPcHRpb25zOiB0aGlzLnByb3BzLnBhZ2VTaXplT3B0aW9ucyxcbiAgICAgICAgcXVpY2tHbzogdGhpcy5wcm9wcy5zaG93UXVpY2tKdW1wZXIgPyB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSA6IG51bGxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gUGFnaW5hdGlvbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUGFnaW5hdGlvbi5wcm9wVHlwZXMgPSB7XG4gIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGRlZmF1bHRDdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICB0b3RhbDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGRlZmF1bHRQYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzaG93U2l6ZUNoYW5nZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBzaG93TGVzc0l0ZW1zOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgb25TaG93U2l6ZUNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2hvd1F1aWNrSnVtcGVyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgcGFnZVNpemVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcbiAgc2hvd1RvdGFsOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxufTtcblxuUGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRlZmF1bHRDdXJyZW50OiAxLFxuICB0b3RhbDogMCxcbiAgZGVmYXVsdFBhZ2VTaXplOiAxMCxcbiAgb25DaGFuZ2U6IG5vb3AsXG4gIGNsYXNzTmFtZTogJycsXG4gIHNlbGVjdFByZWZpeENsczogJ3JjLXNlbGVjdCcsXG4gIHByZWZpeENsczogJ3JjLXBhZ2luYXRpb24nLFxuICBzZWxlY3RDb21wb25lbnRDbGFzczogbnVsbCxcbiAgc2hvd1F1aWNrSnVtcGVyOiBmYWxzZSxcbiAgc2hvd1NpemVDaGFuZ2VyOiBmYWxzZSxcbiAgc2hvd0xlc3NJdGVtczogZmFsc2UsXG4gIG9uU2hvd1NpemVDaGFuZ2U6IG5vb3AsXG4gIGxvY2FsZTogTE9DQUxFLFxuICBzdHlsZToge31cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdpbmF0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBleHBvcnQgdGhpcyBwYWNrYWdlJ3MgYXBpXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vUGFnaW5hdGlvbicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIENoZWNrYm94ID0gcmVxdWlyZSgncmMtY2hlY2tib3gnKTtcblxudmFyIFJhZGlvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JhZGlvJyxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlZml4Q2xzOiAncmMtcmFkaW8nLFxuICAgICAgdHlwZTogJ3JhZGlvJ1xuICAgIH07XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IHJlZjogJ2NoZWNrYm94JyB9KSk7XG4gIH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJhZGlvO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXJhZGlvL2xpYi9SYWRpby5qc1xuICoqIG1vZHVsZSBpZCA9IDEyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL1JhZGlvJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcmFkaW8vbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mJyk7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfdG9BcnJheSA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0NoaWxkcmVuL3RvQXJyYXknKTtcblxudmFyIF90b0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQXJyYXkpO1xuXG52YXIgX3JjTWVudSA9IHJlcXVpcmUoJ3JjLW1lbnUnKTtcblxudmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblxudmFyIF9kb21TY3JvbGxJbnRvVmlldyA9IHJlcXVpcmUoJ2RvbS1zY3JvbGwtaW50by12aWV3Jyk7XG5cbnZhciBfZG9tU2Nyb2xsSW50b1ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tU2Nyb2xsSW50b1ZpZXcpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBEcm9wZG93bk1lbnUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnRHJvcGRvd25NZW51JyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgZHJvcGRvd25NZW51U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb25Qb3B1cEZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25NZW51RGVTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1lbnVTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG1lbnVJdGVtczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sXG4gIH0sXG5cbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5sYXN0SW5wdXRWYWx1ZSA9IHRoaXMucHJvcHMuaW5wdXRWYWx1ZTtcbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpO1xuICAgIHRoaXMubGFzdFZpc2libGUgPSB0aGlzLnByb3BzLnZpc2libGU7XG4gIH0sXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgIGlmICghbmV4dFByb3BzLnZpc2libGUpIHtcbiAgICAgIHRoaXMubGFzdFZpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZnJlZXplIHdoZW4gaGlkZVxuICAgIHJldHVybiBuZXh0UHJvcHMudmlzaWJsZTtcbiAgfSxcbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXByZXZQcm9wcy52aXNpYmxlICYmIHByb3BzLnZpc2libGUpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RWaXNpYmxlID0gcHJvcHMudmlzaWJsZTtcbiAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZTtcbiAgfSxcbiAgc2Nyb2xsQWN0aXZlSXRlbVRvVmlldzogZnVuY3Rpb24gc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpIHtcbiAgICAvLyBzY3JvbGwgaW50byB2aWV3XG4gICAgdmFyIGl0ZW1Db21wb25lbnQgPSAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzLmZpcnN0QWN0aXZlSXRlbSk7XG4gICAgaWYgKGl0ZW1Db21wb25lbnQpIHtcbiAgICAgICgwLCBfZG9tU2Nyb2xsSW50b1ZpZXcyW1wiZGVmYXVsdFwiXSkoaXRlbUNvbXBvbmVudCwgKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcy5yZWZzLm1lbnUpLCB7XG4gICAgICAgIG9ubHlTY3JvbGxJZk5lZWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICByZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBtZW51SXRlbXMgPSBwcm9wcy5tZW51SXRlbXMsXG4gICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbiA9IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcbiAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuICAgICAgICBvbk1lbnVTZWxlY3QgPSBwcm9wcy5vbk1lbnVTZWxlY3QsXG4gICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuXG4gICAgaWYgKG1lbnVJdGVtcyAmJiBtZW51SXRlbXMubGVuZ3RoKSB7XG4gICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lbnVQcm9wcyA9IHt9O1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICBtZW51UHJvcHMub25EZXNlbGVjdCA9IHByb3BzLm9uTWVudURlc2VsZWN0O1xuICAgICAgICAgIG1lbnVQcm9wcy5vblNlbGVjdCA9IG9uTWVudVNlbGVjdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZW51UHJvcHMub25DbGljayA9IG9uTWVudVNlbGVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSAoMCwgX3V0aWwuZ2V0U2VsZWN0S2V5cykobWVudUl0ZW1zLCB2YWx1ZSk7XG4gICAgICAgIHZhciBhY3RpdmVLZXlQcm9wcyA9IHt9O1xuXG4gICAgICAgIHZhciBjbG9uZWRNZW51SXRlbXMgPSBtZW51SXRlbXM7XG4gICAgICAgIGlmIChzZWxlY3RlZEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy52aXNpYmxlICYmICFfdGhpcy5sYXN0VmlzaWJsZSkge1xuICAgICAgICAgICAgICBhY3RpdmVLZXlQcm9wcy5hY3RpdmVLZXkgPSBzZWxlY3RlZEtleXNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZm91bmRGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gc2V0IGZpcnN0QWN0aXZlSXRlbSB2aWEgY2xvbmluZyBtZW51c1xuICAgICAgICAgICAgLy8gZm9yIHNjcm9sbCBpbnRvIHZpZXdcbiAgICAgICAgICAgIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lKGl0ZW0pIHtcbiAgICAgICAgICAgICAgaWYgKCFmb3VuZEZpcnN0ICYmIHNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0ua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmlyc3RBY3RpdmVJdGVtID0gX3JlZjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZS5pc01lbnVJdGVtR3JvdXApIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3RvQXJyYXkyW1wiZGVmYXVsdFwiXSkoaXRlbS5wcm9wcy5jaGlsZHJlbikubWFwKGNsb25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHt9LCBjaGlsZHJlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGNsb25lKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGFjdGl2ZUtleSB3aGVuIGlucHV0VmFsdWUgY2hhbmdlXG4gICAgICAgIGlmIChpbnB1dFZhbHVlICE9PSBfdGhpcy5sYXN0SW5wdXRWYWx1ZSkge1xuICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjTWVudTJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgICAgcmVmOiAnbWVudScsXG4gICAgICAgICAgICAgIHN0eWxlOiBfdGhpcy5wcm9wcy5kcm9wZG93bk1lbnVTdHlsZSxcbiAgICAgICAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0OiBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb25cbiAgICAgICAgICAgIH0sIGFjdGl2ZUtleVByb3BzLCB7XG4gICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgICAgICAgZm9jdXNhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSwgbWVudVByb3BzLCB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogc2VsZWN0ZWRLZXlzLFxuICAgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctbWVudSdcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2xvbmVkTWVudUl0ZW1zXG4gICAgICAgICAgKVxuICAgICAgICB9O1xuICAgICAgfSgpO1xuXG4gICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHJlbmRlck1lbnUgPSB0aGlzLnJlbmRlck1lbnUoKTtcbiAgICByZXR1cm4gcmVuZGVyTWVudSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHtcbiAgICAgICAgc3R5bGU6IHsgb3ZlcmZsb3c6ICdhdXRvJyB9LFxuICAgICAgICBvbkZvY3VzOiB0aGlzLnByb3BzLm9uUG9wdXBGb2N1cyxcbiAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnRcbiAgICAgIH0sXG4gICAgICByZW5kZXJNZW51XG4gICAgKSA6IG51bGw7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duTWVudTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvRHJvcGRvd25NZW51LmpzXG4gKiogbW9kdWxlIGlkID0gMTI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9yY01lbnUgPSByZXF1aXJlKCdyYy1tZW51Jyk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIGZpbHRlck9wdGlvbjogZnVuY3Rpb24gZmlsdGVyT3B0aW9uKGlucHV0LCBjaGlsZCkge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb247XG4gICAgaWYgKCFmaWx0ZXJPcHRpb24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlck9wdGlvbi5jYWxsKHRoaXMsIGlucHV0LCBjaGlsZCk7XG4gIH0sXG4gIHJlbmRlckZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnMoaW5wdXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgdHJ1ZSwgaW5wdXRWYWx1ZSk7XG4gIH0sXG4gIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW46IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4sIHNob3dOb3RGb3VuZCwgaXYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHNlbCA9IFtdO1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGlucHV0VmFsdWUgPSBpdiA9PT0gdW5kZWZpbmVkID8gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlIDogaXY7XG4gICAgdmFyIGNoaWxkcmVuS2V5cyA9IFtdO1xuICAgIHZhciB0YWdzID0gcHJvcHMudGFncztcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgdmFyIGlubmVySXRlbXMgPSBfdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBmYWxzZSk7XG4gICAgICAgIGlmIChpbm5lckl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYWJlbCA9IGNoaWxkLnByb3BzLmxhYmVsO1xuICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgaWYgKCFrZXkgJiYgdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAga2V5ID0gbGFiZWw7XG4gICAgICAgICAgfSBlbHNlIGlmICghbGFiZWwgJiYga2V5KSB7XG4gICAgICAgICAgICBsYWJlbCA9IGtleTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUuSXRlbUdyb3VwLFxuICAgICAgICAgICAgeyBrZXk6IGtleSwgdGl0bGU6IGxhYmVsIH0sXG4gICAgICAgICAgICBpbm5lckl0ZW1zXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoY2hpbGQudHlwZS5pc1NlbGVjdE9wdGlvbiwgJ3RoZSBjaGlsZHJlbiBvZiBgU2VsZWN0YCBzaG91bGQgYmUgYFNlbGVjdC5PcHRpb25gIG9yIGBTZWxlY3QuT3B0R3JvdXBgLCAnICsgKCdpbnN0ZWFkIG9mIGAnICsgKGNoaWxkLnR5cGUubmFtZSB8fCBjaGlsZC50eXBlLmRpc3BsYXlOYW1lIHx8IGNoaWxkLnR5cGUpICsgJ2AuJykpO1xuXG4gICAgICB2YXIgY2hpbGRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuICAgICAgaWYgKF90aGlzLmZpbHRlck9wdGlvbihpbnB1dFZhbHVlLCBjaGlsZCkpIHtcbiAgICAgICAgc2VsLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNNZW51Lkl0ZW0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG4gICAgICAgICAgdmFsdWU6IGNoaWxkVmFsdWUsXG4gICAgICAgICAga2V5OiBjaGlsZFZhbHVlXG4gICAgICAgIH0sIGNoaWxkLnByb3BzKSkpO1xuICAgICAgfVxuICAgICAgaWYgKHRhZ3MgJiYgIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIGNoaWxkcmVuS2V5cy5wdXNoKGNoaWxkVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YWdzKSB7XG4gICAgICAvLyB0YWdzIHZhbHVlIG11c3QgYmUgc3RyaW5nXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlIHx8IFtdO1xuICAgICAgdmFsdWUgPSB2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbktleXMuaW5kZXhPZihzaW5nbGVWYWx1ZS5rZXkpID09PSAtMSAmJiAoIWlucHV0VmFsdWUgfHwgU3RyaW5nKHNpbmdsZVZhbHVlLmtleSkuaW5kZXhPZihTdHJpbmcoaW5wdXRWYWx1ZSkpID4gLTEpO1xuICAgICAgfSk7XG4gICAgICBzZWwgPSBzZWwuY29uY2F0KHZhbHVlLm1hcChmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgICAgdmFyIGtleSA9IHNpbmdsZVZhbHVlLmtleTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JjTWVudS5JdGVtLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG4gICAgICAgICAgICB2YWx1ZToga2V5LFxuICAgICAgICAgICAga2V5OiBrZXlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleVxuICAgICAgICApO1xuICAgICAgfSkpO1xuICAgICAgaWYgKGlucHV0VmFsdWUpIHtcbiAgICAgICAgdmFyIG5vdEZpbmRJbnB1dEl0ZW0gPSBzZWwuZXZlcnkoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgIHJldHVybiAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKG9wdGlvbikgIT09IGlucHV0VmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobm90RmluZElucHV0SXRlbSkge1xuICAgICAgICAgIHNlbC51bnNoaWZ0KF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICAgICAgdmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICAgICAgICAgIGtleTogaW5wdXRWYWx1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0VmFsdWVcbiAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXNlbC5sZW5ndGggJiYgc2hvd05vdEZvdW5kICYmIHByb3BzLm5vdEZvdW5kQ29udGVudCkge1xuICAgICAgc2VsID0gW19yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG4gICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiAnTk9UX0ZPVU5EJyxcbiAgICAgICAgICBrZXk6ICdOT1RfRk9VTkQnXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzLm5vdEZvdW5kQ29udGVudFxuICAgICAgKV07XG4gICAgfVxuICAgIHJldHVybiBzZWw7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL0ZpbHRlck1peGluLmpzXG4gKiogbW9kdWxlIGlkID0gMTI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBPcHRHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoT3B0R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE9wdEdyb3VwKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0R3JvdXApO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBPcHRHcm91cDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuT3B0R3JvdXAuaXNTZWxlY3RPcHRHcm91cCA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9wdEdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9PcHRHcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgT3B0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE9wdGlvbigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE9wdGlvbik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIE9wdGlvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuT3B0aW9uLnByb3BUeXBlcyA9IHtcbiAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmdcbn07XG5PcHRpb24uaXNTZWxlY3RPcHRpb24gPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPcHRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL09wdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX0tleUNvZGUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9LZXlDb2RlJyk7XG5cbnZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblxudmFyIF9yY0FuaW1hdGUgPSByZXF1aXJlKCdyYy1hbmltYXRlJyk7XG5cbnZhciBfcmNBbmltYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQW5pbWF0ZSk7XG5cbnZhciBfY29tcG9uZW50Q2xhc3NlcyA9IHJlcXVpcmUoJ2NvbXBvbmVudC1jbGFzc2VzJyk7XG5cbnZhciBfY29tcG9uZW50Q2xhc3NlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRDbGFzc2VzKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciBfU2VsZWN0VHJpZ2dlciA9IHJlcXVpcmUoJy4vU2VsZWN0VHJpZ2dlcicpO1xuXG52YXIgX1NlbGVjdFRyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0VHJpZ2dlcik7XG5cbnZhciBfRmlsdGVyTWl4aW4gPSByZXF1aXJlKCcuL0ZpbHRlck1peGluJyk7XG5cbnZhciBfRmlsdGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGZpbHRlckZuKGlucHV0LCBjaGlsZCkge1xuICByZXR1cm4gU3RyaW5nKCgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGNoaWxkLCB0aGlzLnByb3BzLm9wdGlvbkZpbHRlclByb3ApKS5pbmRleE9mKGlucHV0KSA+IC0xO1xufVxuXG5mdW5jdGlvbiBzYXZlUmVmKG5hbWUsIGNvbXBvbmVudCkge1xuICB0aGlzW25hbWVdID0gY29tcG9uZW50O1xufVxuXG52YXIgdmFsdWVPYmplY3RTaGFwZSA9IHZvaWQgMDtcblxuaWYgKF9yZWFjdC5Qcm9wVHlwZXMpIHtcbiAgdmFsdWVPYmplY3RTaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAga2V5OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsYWJlbDogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG4gIH0pXSk7XG59XG5cbnZhciBTZWxlY3QgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU2VsZWN0JyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGZpbHRlck9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkaXNhYmxlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGFsbG93Q2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93QXJyb3c6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICB0YWdzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvcHRpb25MYWJlbFByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9wdGlvbkZpbHRlclByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGFuaW1hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25CbHVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Gb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25TZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgb25EZXNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGxhYmVsSW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbdmFsdWVPYmplY3RTaGFwZSwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKHZhbHVlT2JqZWN0U2hhcGUpXSksXG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbdmFsdWVPYmplY3RTaGFwZSwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKHZhbHVlT2JqZWN0U2hhcGUpXSksXG4gICAgZHJvcGRvd25TdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgbWF4VGFnVGV4dExlbmd0aDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgdG9rZW5TZXBhcmF0b3JzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuICAgIGdldElucHV0RWxlbWVudDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgbWl4aW5zOiBbX0ZpbHRlck1peGluMltcImRlZmF1bHRcIl1dLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuICAgICAgZmlsdGVyT3B0aW9uOiBmaWx0ZXJGbixcbiAgICAgIGRlZmF1bHRPcGVuOiBmYWxzZSxcbiAgICAgIGxhYmVsSW5WYWx1ZTogZmFsc2UsXG4gICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHRydWUsXG4gICAgICBzaG93U2VhcmNoOiB0cnVlLFxuICAgICAgYWxsb3dDbGVhcjogZmFsc2UsXG4gICAgICBwbGFjZWhvbGRlcjogJycsXG4gICAgICBkZWZhdWx0VmFsdWU6IFtdLFxuICAgICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgICBvbkZvY3VzOiBub29wLFxuICAgICAgb25CbHVyOiBub29wLFxuICAgICAgb25TZWxlY3Q6IG5vb3AsXG4gICAgICBvblNlYXJjaDogbm9vcCxcbiAgICAgIG9uRGVzZWxlY3Q6IG5vb3AsXG4gICAgICBzaG93QXJyb3c6IHRydWUsXG4gICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHRydWUsXG4gICAgICBkcm9wZG93blN0eWxlOiB7fSxcbiAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiB7fSxcbiAgICAgIG9wdGlvbkZpbHRlclByb3A6ICd2YWx1ZScsXG4gICAgICBvcHRpb25MYWJlbFByb3A6ICd2YWx1ZScsXG4gICAgICBub3RGb3VuZENvbnRlbnQ6ICdOb3QgRm91bmQnXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSBbXTtcbiAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShwcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgIH1cbiAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKHByb3BzLCB2YWx1ZSk7XG4gICAgdmFsdWUgPSB0aGlzLmFkZFRpdGxlVG9WYWx1ZShwcm9wcywgdmFsdWUpO1xuICAgIHZhciBpbnB1dFZhbHVlID0gJyc7XG4gICAgaWYgKHByb3BzLmNvbWJvYm94KSB7XG4gICAgICBpbnB1dFZhbHVlID0gdmFsdWUubGVuZ3RoID8gdGhpcy5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdmFsdWVbMF0ua2V5KSA6ICcnO1xuICAgIH1cbiAgICB0aGlzLnNhdmVJbnB1dFJlZiA9IHNhdmVSZWYuYmluZCh0aGlzLCAnaW5wdXRJbnN0YW5jZScpO1xuICAgIHRoaXMuc2F2ZUlucHV0TWlycm9yUmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dE1pcnJvckluc3RhbmNlJyk7XG4gICAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuO1xuICAgIGlmIChvcGVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wZW4gPSBwcm9wcy5kZWZhdWx0T3BlbjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICBvcGVuOiBvcGVuXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5hZGp1c3RPcGVuU3RhdGUoKTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShuZXh0UHJvcHMudmFsdWUpO1xuICAgICAgdmFsdWUgPSB0aGlzLmFkZExhYmVsVG9WYWx1ZShuZXh0UHJvcHMsIHZhbHVlKTtcbiAgICAgIHZhbHVlID0gdGhpcy5hZGRUaXRsZVRvVmFsdWUobmV4dFByb3BzLCB2YWx1ZSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGlmIChuZXh0UHJvcHMuY29tYm9ib3gpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW5wdXRWYWx1ZTogdmFsdWUubGVuZ3RoID8gdGhpcy5nZXRMYWJlbEZyb21Qcm9wcyhuZXh0UHJvcHMsIHZhbHVlWzBdLmtleSkgOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgdGhpcy5hZGp1c3RPcGVuU3RhdGUoKTtcbiAgfSxcbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSkge1xuICAgICAgdmFyIGlucHV0Tm9kZSA9IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCk7XG4gICAgICB2YXIgbWlycm9yTm9kZSA9IHRoaXMuZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCk7XG4gICAgICBpZiAoaW5wdXROb2RlLnZhbHVlKSB7XG4gICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSBtaXJyb3JOb2RlLmNsaWVudFdpZHRoICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2xlYXJCbHVyVGltZSgpO1xuICAgIHRoaXMuY2xlYXJBZGp1c3RUaW1lcigpO1xuICAgIGlmICh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG4gICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuICAgIHZhciB0b2tlblNlcGFyYXRvcnMgPSB0aGlzLnByb3BzLnRva2VuU2VwYXJhdG9ycztcblxuICAgIHZhciB2YWwgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSAmJiB0b2tlblNlcGFyYXRvcnMgJiYgKDAsIF91dGlsLmluY2x1ZGVzU2VwYXJhdG9ycykodmFsLCB0b2tlblNlcGFyYXRvcnMpKSB7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gdGhpcy50b2tlbml6ZSh2YWwpO1xuICAgICAgdGhpcy5maXJlQ2hhbmdlKG5leHRWYWx1ZSk7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG4gICAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKHZhbCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcGVuOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KSh0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5maXJlQ2hhbmdlKFt7XG4gICAgICAgIGtleTogdmFsXG4gICAgICB9XSk7XG4gICAgfVxuICB9LFxuICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25Ecm9wZG93blZpc2libGVDaGFuZ2Uob3Blbikge1xuICAgIHRoaXMuc2V0T3BlblN0YXRlKG9wZW4pO1xuICB9LFxuXG5cbiAgLy8gY29tYm9ib3ggaWdub3JlXG4gIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gJiYgIXRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcbiAgICAgIHRoaXMub25JbnB1dEtleURvd24oZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUiB8fCBrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04pIHtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKHRydWUpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sXG4gIG9uSW5wdXRLZXlEb3duOiBmdW5jdGlvbiBvbklucHV0S2V5RG93bihldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmICFldmVudC50YXJnZXQudmFsdWUgJiYga2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5CQUNLU1BBQ0UpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcblxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdLmtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04pIHtcbiAgICAgIGlmICghc3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLm9wZW5JZkhhc0NoaWxkcmVuKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuICAgICAgaWYgKHN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUub3Blbikge1xuICAgICAgdmFyIG1lbnUgPSB0aGlzLnJlZnMudHJpZ2dlci5nZXRJbm5lck1lbnUoKTtcbiAgICAgIGlmIChtZW51ICYmIG1lbnUub25LZXlEb3duKGV2ZW50KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG9uTWVudVNlbGVjdDogZnVuY3Rpb24gb25NZW51U2VsZWN0KF9yZWYpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZW0gPSBfcmVmLml0ZW07XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGl0ZW0pO1xuICAgIHZhciBzZWxlY3RlZExhYmVsID0gdGhpcy5nZXRMYWJlbEZyb21PcHRpb24oaXRlbSk7XG4gICAgdmFyIGV2ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcbiAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG4gICAgICBldmVudCA9IHtcbiAgICAgICAga2V5OiBldmVudCxcbiAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWxcbiAgICAgIH07XG4gICAgfVxuICAgIHByb3BzLm9uU2VsZWN0KGV2ZW50LCBpdGVtKTtcbiAgICB2YXIgc2VsZWN0ZWRUaXRsZSA9IGl0ZW0ucHJvcHMudGl0bGU7XG4gICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykpIHtcbiAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5S2V5KSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuY29uY2F0KFt7XG4gICAgICAgIGtleTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWwsXG4gICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG4gICAgICB9XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLmNsZWFyQWRqdXN0VGltZXIoKTtcbiAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuc2tpcEFkanVzdE9wZW4gPSBmYWxzZTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUubGVuZ3RoICYmIHZhbHVlWzBdLmtleSA9PT0gc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gW3tcbiAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbCxcbiAgICAgICAgdGl0bGU6IHNlbGVjdGVkVGl0bGVcbiAgICAgIH1dO1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICB0aGlzLmZpcmVDaGFuZ2UodmFsdWUpO1xuICAgIHZhciBpbnB1dFZhbHVlID0gdm9pZCAwO1xuICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSB7XG4gICAgICBpbnB1dFZhbHVlID0gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoaXRlbSwgcHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRWYWx1ZSA9ICcnO1xuICAgIH1cbiAgICB0aGlzLnNldElucHV0VmFsdWUoaW5wdXRWYWx1ZSwgZmFsc2UpO1xuICB9LFxuICBvbk1lbnVEZXNlbGVjdDogZnVuY3Rpb24gb25NZW51RGVzZWxlY3QoX3JlZjIpIHtcbiAgICB2YXIgaXRlbSA9IF9yZWYyLml0ZW0sXG4gICAgICAgIGRvbUV2ZW50ID0gX3JlZjIuZG9tRXZlbnQ7XG5cbiAgICBpZiAoZG9tRXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgdGhpcy5yZW1vdmVTZWxlY3RlZCgoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGl0ZW0pKTtcbiAgICB9XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnLCBmYWxzZSk7XG4gIH0sXG4gIG9uQXJyb3dDbGljazogZnVuY3Rpb24gb25BcnJvd0NsaWNrKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICghdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoIXRoaXMuc3RhdGUub3BlbiwgIXRoaXMuc3RhdGUub3Blbik7XG4gICAgfVxuICB9LFxuICBvblBsYWNlaG9sZGVyQ2xpY2s6IGZ1bmN0aW9uIG9uUGxhY2Vob2xkZXJDbGljaygpIHtcbiAgICBpZiAodGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuICAgICAgdGhpcy5nZXRJbnB1dERPTU5vZGUoKS5mb2N1cygpO1xuICAgIH1cbiAgfSxcbiAgb25PdXRlckZvY3VzOiBmdW5jdGlvbiBvbk91dGVyRm9jdXMoZSkge1xuICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSAmJiBlLnRhcmdldCA9PT0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyQmx1clRpbWUoKTtcbiAgICB0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLnVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCk7XG4gICAgdGhpcy5wcm9wcy5vbkZvY3VzKCk7XG4gIH0sXG4gIG9uUG9wdXBGb2N1czogZnVuY3Rpb24gb25Qb3B1cEZvY3VzKCkge1xuICAgIC8vIGZpeCBpZSBzY3JvbGxiYXIsIGZvY3VzIGVsZW1lbnQgYWdhaW5cbiAgICB0aGlzLm1heWJlRm9jdXModHJ1ZSwgdHJ1ZSk7XG4gIH0sXG4gIG9uT3V0ZXJCbHVyOiBmdW5jdGlvbiBvbk91dGVyQmx1cigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMuYmx1clRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpczIuX2ZvY3VzZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzMi51cGRhdGVGb2N1c0NsYXNzTmFtZSgpO1xuICAgICAgdmFyIHByb3BzID0gX3RoaXMyLnByb3BzO1xuICAgICAgdmFyIHZhbHVlID0gX3RoaXMyLnN0YXRlLnZhbHVlO1xuICAgICAgdmFyIGlucHV0VmFsdWUgPSBfdGhpczIuc3RhdGUuaW5wdXRWYWx1ZTtcblxuICAgICAgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiBwcm9wcy5zaG93U2VhcmNoICYmIGlucHV0VmFsdWUgJiYgcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gX3RoaXMyLl9vcHRpb25zIHx8IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZmlyc3RPcHRpb24gPSAoMCwgX3V0aWwuZmluZEZpcnN0TWVudUl0ZW0pKG9wdGlvbnMpO1xuICAgICAgICAgIGlmIChmaXJzdE9wdGlvbikge1xuICAgICAgICAgICAgdmFsdWUgPSBbe1xuICAgICAgICAgICAgICBrZXk6IGZpcnN0T3B0aW9uLmtleSxcbiAgICAgICAgICAgICAgbGFiZWw6IF90aGlzMi5nZXRMYWJlbEZyb21PcHRpb24oZmlyc3RPcHRpb24pXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIF90aGlzMi5maXJlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiBpbnB1dFZhbHVlKSB7XG4gICAgICAgIC8vIHdoeSBub3QgdXNlIHNldFN0YXRlP1xuICAgICAgICBfdGhpczIuc3RhdGUuaW5wdXRWYWx1ZSA9IF90aGlzMi5nZXRJbnB1dERPTU5vZGUoKS52YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgcHJvcHMub25CbHVyKF90aGlzMi5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG4gICAgfSwgMTApO1xuICB9LFxuICBvbkNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBvbkNsZWFyU2VsZWN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaW5wdXRWYWx1ZSA9IHN0YXRlLmlucHV0VmFsdWUsXG4gICAgICAgIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoaW5wdXRWYWx1ZSB8fCB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5maXJlQ2hhbmdlKFtdKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICAgIGlmIChpbnB1dFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbkNob2ljZUFuaW1hdGlvbkxlYXZlOiBmdW5jdGlvbiBvbkNob2ljZUFuaW1hdGlvbkxlYXZlKCkge1xuICAgIHRoaXMucmVmcy50cmlnZ2VyLnJlZnMudHJpZ2dlci5mb3JjZVBvcHVwQWxpZ24oKTtcbiAgfSxcbiAgZ2V0TGFiZWxCeVNpbmdsZVZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGRyZW4sIHZhbHVlKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBsYWJlbCA9IG51bGw7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG4gICAgICAgIHZhciBtYXliZSA9IF90aGlzMy5nZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGQucHJvcHMuY2hpbGRyZW4sIHZhbHVlKTtcbiAgICAgICAgaWYgKG1heWJlICE9PSBudWxsKSB7XG4gICAgICAgICAgbGFiZWwgPSBtYXliZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgbGFiZWwgPSBfdGhpczMuZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH0sXG4gIGdldFZhbHVlQnlMYWJlbDogZnVuY3Rpb24gZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgaWYgKGxhYmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSBudWxsO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuICAgICAgICB2YXIgbWF5YmUgPSBfdGhpczQuZ2V0VmFsdWVCeUxhYmVsKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBsYWJlbCk7XG4gICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhbHVlID0gbWF5YmU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLnRvQXJyYXkpKF90aGlzNC5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcbiAgICAgICAgdmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIGdldExhYmVsRnJvbU9wdGlvbjogZnVuY3Rpb24gZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGNoaWxkLCB0aGlzLnByb3BzLm9wdGlvbkxhYmVsUHJvcCk7XG4gIH0sXG4gIGdldExhYmVsRnJvbVByb3BzOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRMYWJlbEJ5VmFsdWUocHJvcHMuY2hpbGRyZW4sIHZhbHVlKTtcbiAgfSxcbiAgZ2V0VkxGb3JPbkNoYW5nZTogZnVuY3Rpb24gZ2V0VkxGb3JPbkNoYW5nZSh2bHNfKSB7XG4gICAgdmFyIHZscyA9IHZsc187XG4gICAgaWYgKHZscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIXRoaXMucHJvcHMubGFiZWxJblZhbHVlKSB7XG4gICAgICAgIHZscyA9IHZscy5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICByZXR1cm4gdi5rZXk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodmwpIHtcbiAgICAgICAgICByZXR1cm4geyBrZXk6IHZsLmtleSwgbGFiZWw6IHZsLmxhYmVsIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSA/IHZscyA6IHZsc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHZscztcbiAgfSxcbiAgZ2V0TGFiZWxCeVZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbEJ5VmFsdWUoY2hpbGRyZW4sIHZhbHVlKSB7XG4gICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGRyZW4sIHZhbHVlKTtcbiAgICBpZiAobGFiZWwgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9LFxuICBnZXREcm9wZG93bkNvbnRhaW5lcjogZnVuY3Rpb24gZ2V0RHJvcGRvd25Db250YWluZXIoKSB7XG4gICAgaWYgKCF0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kcm9wZG93bkNvbnRhaW5lcjtcbiAgfSxcbiAgZ2V0UGxhY2Vob2xkZXJFbGVtZW50OiBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlckVsZW1lbnQoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgdmFyIGhpZGRlbiA9IGZhbHNlO1xuICAgIGlmIChzdGF0ZS5pbnB1dFZhbHVlKSB7XG4gICAgICBoaWRkZW4gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc3RhdGUudmFsdWUubGVuZ3RoKSB7XG4gICAgICBoaWRkZW4gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSAmJiBzdGF0ZS52YWx1ZS5sZW5ndGggPT09IDEgJiYgIXN0YXRlLnZhbHVlWzBdLmtleSkge1xuICAgICAgaGlkZGVuID0gZmFsc2U7XG4gICAgfVxuICAgIHZhciBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyO1xuICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuICAgICAgICAgIHN0eWxlOiAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgZGlzcGxheTogaGlkZGVuID8gJ25vbmUnIDogJ2Jsb2NrJ1xuICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSlcbiAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25QbGFjZWhvbGRlckNsaWNrLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX3BsYWNlaG9sZGVyJ1xuICAgICAgICB9KSxcbiAgICAgICAgcGxhY2Vob2xkZXJcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBnZXRJbnB1dEVsZW1lbnQ6IGZ1bmN0aW9uIGdldElucHV0RWxlbWVudCgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBpbnB1dEVsZW1lbnQgPSBwcm9wcy5nZXRJbnB1dEVsZW1lbnQgPyBwcm9wcy5nZXRJbnB1dEVsZW1lbnQoKSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgbnVsbCk7XG4gICAgdmFyIGlucHV0Q2xzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKGlucHV0RWxlbWVudC5wcm9wcy5jbGFzc05hbWUsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZCcsIHRydWUpKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZF9fd3JhcCcgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChpbnB1dEVsZW1lbnQsIHtcbiAgICAgICAgcmVmOiB0aGlzLnNhdmVJbnB1dFJlZixcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZSxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uSW5wdXRLZXlEb3duLFxuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5pbnB1dFZhbHVlLFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIGNsYXNzTmFtZTogaW5wdXRDbHNcbiAgICAgIH0pLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiB0aGlzLnNhdmVJbnB1dE1pcnJvclJlZixcbiAgICAgICAgICBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZF9fbWlycm9yJ1xuICAgICAgICB9LFxuICAgICAgICB0aGlzLnN0YXRlLmlucHV0VmFsdWVcbiAgICAgIClcbiAgICApO1xuICB9LFxuICBnZXRJbnB1dERPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0RE9NTm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEluc3RhbmNlO1xuICB9LFxuICBnZXRJbnB1dE1pcnJvckRPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0TWlycm9yRE9NTm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dE1pcnJvckluc3RhbmNlO1xuICB9LFxuICBnZXRQb3B1cERPTU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRE9NTm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBET01Ob2RlKCk7XG4gIH0sXG4gIGdldFBvcHVwTWVudUNvbXBvbmVudDogZnVuY3Rpb24gZ2V0UG9wdXBNZW51Q29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRJbm5lck1lbnUoKTtcbiAgfSxcbiAgc2V0T3BlblN0YXRlOiBmdW5jdGlvbiBzZXRPcGVuU3RhdGUob3BlbiwgbmVlZEZvY3VzKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAoc3RhdGUub3BlbiA9PT0gb3Blbikge1xuICAgICAgdGhpcy5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBuZXh0U3RhdGUgPSB7XG4gICAgICBvcGVuOiBvcGVuXG4gICAgfTtcbiAgICAvLyBjbGVhciBzZWFyY2ggaW5wdXQgdmFsdWUgd2hlbiBvcGVuIGlzIGZhbHNlIGluIHNpbmdsZU1vZGUuXG4gICAgaWYgKCFvcGVuICYmICgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiBwcm9wcy5zaG93U2VhcmNoKSB7XG4gICAgICB0aGlzLnNldElucHV0VmFsdWUoJycpO1xuICAgIH1cbiAgICBpZiAoIW9wZW4pIHtcbiAgICAgIHRoaXMubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9wZW4pIHtcbiAgICAgICAgX3RoaXM1Lm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlKSB7XG4gICAgdmFyIGZpcmVTZWFyY2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVcbiAgICB9KTtcbiAgICBpZiAoZmlyZVNlYXJjaCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChpbnB1dFZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGNsZWFyQmx1clRpbWU6IGZ1bmN0aW9uIGNsZWFyQmx1clRpbWUoKSB7XG4gICAgaWYgKHRoaXMuYmx1clRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5ibHVyVGltZXIpO1xuICAgICAgdGhpcy5ibHVyVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgY2xlYXJBZGp1c3RUaW1lcjogZnVuY3Rpb24gY2xlYXJBZGp1c3RUaW1lcigpIHtcbiAgICBpZiAodGhpcy5za2lwQWRqdXN0T3BlblRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5za2lwQWRqdXN0T3BlblRpbWVyKTtcbiAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lciA9IG51bGw7XG4gICAgfVxuICB9LFxuICB1cGRhdGVGb2N1c0NsYXNzTmFtZTogZnVuY3Rpb24gdXBkYXRlRm9jdXNDbGFzc05hbWUoKSB7XG4gICAgdmFyIHJlZnMgPSB0aGlzLnJlZnMsXG4gICAgICAgIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAvLyBhdm9pZCBzZXRTdGF0ZSBhbmQgaXRzIHNpZGUgZWZmZWN0XG5cbiAgICBpZiAodGhpcy5fZm9jdXNlZCkge1xuICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkuYWRkKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkocmVmcy5yb290KS5yZW1vdmUocHJvcHMucHJlZml4Q2xzICsgJy1mb2N1c2VkJyk7XG4gICAgfVxuICB9LFxuICBtYXliZUZvY3VzOiBmdW5jdGlvbiBtYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cykge1xuICAgIGlmIChuZWVkRm9jdXMgfHwgb3Blbikge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKTtcbiAgICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICAgIGlmIChpbnB1dCAmJiAob3BlbiB8fCAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpKSkge1xuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5yZWZzLnNlbGVjdGlvbjtcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IHNlbGVjdGlvbikge1xuICAgICAgICAgIHNlbGVjdGlvbi5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBhZGRMYWJlbFRvVmFsdWU6IGZ1bmN0aW9uIGFkZExhYmVsVG9WYWx1ZShwcm9wcywgdmFsdWVfKSB7XG4gICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICB2YXIgdmFsdWUgPSB2YWx1ZV87XG4gICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICB2LmxhYmVsID0gdi5sYWJlbCB8fCBfdGhpczYuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHYua2V5KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtleTogdixcbiAgICAgICAgICBsYWJlbDogX3RoaXM2LmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2KVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgYWRkVGl0bGVUb1ZhbHVlOiBmdW5jdGlvbiBhZGRUaXRsZVRvVmFsdWUocHJvcHMsIHZhbHVlcykge1xuICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgdmFyIG5leHRWYWx1ZXMgPSB2YWx1ZXM7XG4gICAgdmFyIGtleXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICByZXR1cm4gdi5rZXk7XG4gICAgfSk7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG4gICAgICAgIG5leHRWYWx1ZXMgPSBfdGhpczcuYWRkVGl0bGVUb1ZhbHVlKGNoaWxkLnByb3BzLCBuZXh0VmFsdWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuICAgICAgICB2YXIgdmFsdWVJbmRleCA9IGtleXMuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICBuZXh0VmFsdWVzW3ZhbHVlSW5kZXhdLnRpdGxlID0gY2hpbGQucHJvcHMudGl0bGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dFZhbHVlcztcbiAgfSxcbiAgcmVtb3ZlU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKHNlbGVjdGVkS2V5KSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5pc0NoaWxkRGlzYWJsZWQoc2VsZWN0ZWRLZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBsYWJlbCA9IHZvaWQgMDtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgIGlmIChzaW5nbGVWYWx1ZS5rZXkgPT09IHNlbGVjdGVkS2V5KSB7XG4gICAgICAgIGxhYmVsID0gc2luZ2xlVmFsdWUubGFiZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2luZ2xlVmFsdWUua2V5ICE9PSBzZWxlY3RlZEtleTtcbiAgICB9KTtcbiAgICB2YXIgY2FuTXVsdGlwbGUgPSAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpO1xuXG4gICAgaWYgKGNhbk11bHRpcGxlKSB7XG4gICAgICB2YXIgZXZlbnQgPSBzZWxlY3RlZEtleTtcbiAgICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAga2V5OiBzZWxlY3RlZEtleSxcbiAgICAgICAgICBsYWJlbDogbGFiZWxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHByb3BzLm9uRGVzZWxlY3QoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmZpcmVDaGFuZ2UodmFsdWUpO1xuICB9LFxuICBvcGVuSWZIYXNDaGlsZHJlbjogZnVuY3Rpb24gb3BlbklmSGFzQ2hpbGRyZW4oKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uY291bnQocHJvcHMuY2hpbGRyZW4pIHx8ICgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG4gICAgfVxuICB9LFxuICBmaXJlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlQ2hhbmdlKHZhbHVlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByb3BzLm9uQ2hhbmdlKHRoaXMuZ2V0VkxGb3JPbkNoYW5nZSh2YWx1ZSkpO1xuICB9LFxuICBpc0NoaWxkRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzQ2hpbGREaXNhYmxlZChrZXkpIHtcbiAgICByZXR1cm4gKDAsIF91dGlsLnRvQXJyYXkpKHRoaXMucHJvcHMuY2hpbGRyZW4pLnNvbWUoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICB2YXIgY2hpbGRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuICAgICAgcmV0dXJuIGNoaWxkVmFsdWUgPT09IGtleSAmJiBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5kaXNhYmxlZDtcbiAgICB9KTtcbiAgfSxcbiAgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKHN0cmluZykge1xuICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIG11bHRpcGxlID0gX3Byb3BzLm11bHRpcGxlLFxuICAgICAgICB0b2tlblNlcGFyYXRvcnMgPSBfcHJvcHMudG9rZW5TZXBhcmF0b3JzLFxuICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblxuICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgICgwLCBfdXRpbC5zcGxpdEJ5U2VwYXJhdG9ycykoc3RyaW5nLCB0b2tlblNlcGFyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHsga2V5OiBsYWJlbCwgbGFiZWw6IGxhYmVsIH07XG4gICAgICBpZiAoKDAsIF91dGlsLmZpbmRJbmRleEluVmFsdWVCeUxhYmVsKShuZXh0VmFsdWUsIGxhYmVsKSA9PT0gLTEpIHtcbiAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXM4LmdldFZhbHVlQnlMYWJlbChjaGlsZHJlbiwgbGFiZWwpO1xuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZS5rZXkgPSB2YWx1ZTtcbiAgICAgICAgICAgIG5leHRWYWx1ZSA9IG5leHRWYWx1ZS5jb25jYXQoc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHRWYWx1ZSA9IG5leHRWYWx1ZS5jb25jYXQoc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV4dFZhbHVlO1xuICB9LFxuICBhZGp1c3RPcGVuU3RhdGU6IGZ1bmN0aW9uIGFkanVzdE9wZW5TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5za2lwQWRqdXN0T3Blbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuICAgICAgb3BlbiA9IHRydWU7XG4gICAgfVxuICAgIHZhciBvcHRpb25zID0gW107XG4gICAgaWYgKG9wZW4pIHtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLnJlbmRlckZpbHRlck9wdGlvbnMoKTtcbiAgICB9XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKG9wZW4gJiYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykgfHwgIXRoaXMucHJvcHMuc2hvd1NlYXJjaCkgJiYgIW9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICBvcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUub3BlbiA9IG9wZW47XG4gIH0sXG4gIHJlbmRlclRvcENvbnRyb2xOb2RlOiBmdW5jdGlvbiByZW5kZXJUb3BDb250cm9sTm9kZSgpIHtcbiAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICB2YWx1ZSA9IF9zdGF0ZS52YWx1ZSxcbiAgICAgICAgb3BlbiA9IF9zdGF0ZS5vcGVuLFxuICAgICAgICBpbnB1dFZhbHVlID0gX3N0YXRlLmlucHV0VmFsdWU7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjaG9pY2VUcmFuc2l0aW9uTmFtZSA9IHByb3BzLmNob2ljZVRyYW5zaXRpb25OYW1lLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIG1heFRhZ1RleHRMZW5ndGggPSBwcm9wcy5tYXhUYWdUZXh0TGVuZ3RoLFxuICAgICAgICBzaG93U2VhcmNoID0gcHJvcHMuc2hvd1NlYXJjaDtcblxuICAgIHZhciBjbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcmVuZGVyZWQnO1xuICAgIC8vIHNlYXJjaCBpbnB1dCBpcyBpbnNpZGUgdG9wQ29udHJvbE5vZGUgaW4gc2luZ2xlLCBtdWx0aXBsZSAmIGNvbWJvYm94LiAyMDE2LzA0LzEzXG4gICAgdmFyIGlubmVyTm9kZSA9IG51bGw7XG4gICAgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSkge1xuICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBudWxsO1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuICAgICAgICB2YXIgc2hvd1NlbGVjdGVkVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIG9wYWNpdHkgPSAxO1xuICAgICAgICBpZiAoIXNob3dTZWFyY2gpIHtcbiAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG9wZW4pIHtcbiAgICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gIWlucHV0VmFsdWU7XG4gICAgICAgICAgICBpZiAoc2hvd1NlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgb3BhY2l0eSA9IDAuNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2luZ2xlVmFsdWUgPSB2YWx1ZVswXTtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiAndmFsdWUnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi1zZWxlY3RlZC12YWx1ZScsXG4gICAgICAgICAgICB0aXRsZTogc2luZ2xlVmFsdWUudGl0bGUgfHwgc2luZ2xlVmFsdWUubGFiZWwsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBzaG93U2VsZWN0ZWRWYWx1ZSA/ICdibG9jaycgOiAnbm9uZScsXG4gICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbHVlWzBdLmxhYmVsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoIXNob3dTZWFyY2gpIHtcbiAgICAgICAgaW5uZXJOb2RlID0gW3NlbGVjdGVkVmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5uZXJOb2RlID0gW3NlbGVjdGVkVmFsdWUsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG4gICAgICAgICAgICBrZXk6ICdpbnB1dCcsXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBvcGVuID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuICAgICAgICApXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNlbGVjdGVkVmFsdWVOb2RlcyA9IFtdO1xuICAgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykpIHtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gdmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gc2luZ2xlVmFsdWUubGFiZWw7XG4gICAgICAgICAgdmFyIHRpdGxlID0gc2luZ2xlVmFsdWUudGl0bGUgfHwgY29udGVudDtcbiAgICAgICAgICBpZiAobWF4VGFnVGV4dExlbmd0aCAmJiB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgJiYgY29udGVudC5sZW5ndGggPiBtYXhUYWdUZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgwLCBtYXhUYWdUZXh0TGVuZ3RoKSArICcuLi4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpczkuaXNDaGlsZERpc2FibGVkKHNpbmdsZVZhbHVlLmtleSk7XG4gICAgICAgICAgdmFyIGNob2ljZUNsYXNzTmFtZSA9IGRpc2FibGVkID8gcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZSAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fZGlzYWJsZWQnIDogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZSc7XG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGknLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRVxuICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuICAgICAgICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjaG9pY2VDbGFzc05hbWUsXG4gICAgICAgICAgICAgIGtleTogc2luZ2xlVmFsdWUua2V5LFxuICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19jb250ZW50JyB9LFxuICAgICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZGlzYWJsZWQgPyBudWxsIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19yZW1vdmUnLFxuICAgICAgICAgICAgICBvbkNsaWNrOiBfdGhpczkucmVtb3ZlU2VsZWN0ZWQuYmluZChfdGhpczksIHNpbmdsZVZhbHVlLmtleSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzZWxlY3RlZFZhbHVlTm9kZXMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG4gICAgICAgICAga2V5OiAnX19pbnB1dCdcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuICAgICAgKSk7XG5cbiAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGNob2ljZVRyYW5zaXRpb25OYW1lKSB7XG4gICAgICAgIGlubmVyTm9kZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgX3JjQW5pbWF0ZTJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9uTGVhdmU6IHRoaXMub25DaG9pY2VBbmltYXRpb25MZWF2ZSxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ3VsJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lOiBjaG9pY2VUcmFuc2l0aW9uTmFtZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbm5lck5vZGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd1bCcsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcbiAgICAgIHRoaXMuZ2V0UGxhY2Vob2xkZXJFbGVtZW50KCksXG4gICAgICBpbm5lck5vZGVcbiAgICApO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Jvb3RDbHM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBtdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBhbGxvd0NsZWFyID0gcHJvcHMuYWxsb3dDbGVhcixcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgdmFyIGN0cmxOb2RlID0gdGhpcy5yZW5kZXJUb3BDb250cm9sTm9kZSgpO1xuICAgIHZhciBleHRyYVNlbGVjdGlvblByb3BzID0ge307XG4gICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG4gICAgaWYgKCEoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHByb3BzKSkge1xuICAgICAgZXh0cmFTZWxlY3Rpb25Qcm9wcyA9IHtcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgdGFiSW5kZXg6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciByb290Q2xzID0gKF9yb290Q2xzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIGNsYXNzTmFtZSwgISFjbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLW9wZW4nLCBvcGVuKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1mb2N1c2VkJywgb3BlbiB8fCAhIXRoaXMuX2ZvY3VzZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWNvbWJvYm94JywgKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZW5hYmxlZCcsICFkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctYWxsb3ctY2xlYXInLCAhIXByb3BzLmFsbG93Q2xlYXIpLCBfcm9vdENscyk7XG4gICAgdmFyIGNsZWFyU3R5bGUgPSAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSwge1xuICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgfSk7XG4gICAgaWYgKHN0YXRlLmlucHV0VmFsdWUgfHwgc3RhdGUudmFsdWUubGVuZ3RoKSB7XG4gICAgICBjbGVhclN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgICB2YXIgY2xlYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgIGtleTogJ2NsZWFyJyxcbiAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuICAgICAgc3R5bGU6IGNsZWFyU3R5bGVcbiAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jbGVhcicsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJTZWxlY3Rpb25cbiAgICB9KSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBfU2VsZWN0VHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAge1xuICAgICAgICBvblBvcHVwRm9jdXM6IHRoaXMub25Qb3B1cEZvY3VzLFxuICAgICAgICBkcm9wZG93bkFsaWduOiBwcm9wcy5kcm9wZG93bkFsaWduLFxuICAgICAgICBkcm9wZG93bkNsYXNzTmFtZTogcHJvcHMuZHJvcGRvd25DbGFzc05hbWUsXG4gICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogcHJvcHMuZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoLFxuICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcbiAgICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHByb3BzLmRyb3Bkb3duTWVudVN0eWxlLFxuICAgICAgICB0cmFuc2l0aW9uTmFtZTogcHJvcHMudHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIGFuaW1hdGlvbjogcHJvcHMuYW5pbWF0aW9uLFxuICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgZHJvcGRvd25TdHlsZTogcHJvcHMuZHJvcGRvd25TdHlsZSxcbiAgICAgICAgY29tYm9ib3g6IHByb3BzLmNvbWJvYm94LFxuICAgICAgICBzaG93U2VhcmNoOiBwcm9wcy5zaG93U2VhcmNoLFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgdmlzaWJsZTogb3BlbixcbiAgICAgICAgaW5wdXRWYWx1ZTogc3RhdGUuaW5wdXRWYWx1ZSxcbiAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuICAgICAgICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZTogdGhpcy5vbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuICAgICAgICBvbk1lbnVTZWxlY3Q6IHRoaXMub25NZW51U2VsZWN0LFxuICAgICAgICBvbk1lbnVEZXNlbGVjdDogdGhpcy5vbk1lbnVEZXNlbGVjdCxcbiAgICAgICAgcmVmOiAndHJpZ2dlcidcbiAgICAgIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICAgICAgICByZWY6ICdyb290JyxcbiAgICAgICAgICBvbkJsdXI6IHRoaXMub25PdXRlckJsdXIsXG4gICAgICAgICAgb25Gb2N1czogdGhpcy5vbk91dGVyRm9jdXMsXG4gICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkocm9vdENscylcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgcmVmOiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbicsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uXFxuICAgICAgICAgICAgJyArIHByZWZpeENscyArICctc2VsZWN0aW9uLS0nICsgKG11bHRpcGxlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnKSxcbiAgICAgICAgICAgIHJvbGU6ICdjb21ib2JveCcsXG4gICAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICAgICAnYXJpYS1oYXNwb3B1cCc6ICd0cnVlJyxcbiAgICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogb3BlblxuICAgICAgICAgIH0sIGV4dHJhU2VsZWN0aW9uUHJvcHMpLFxuICAgICAgICAgIGN0cmxOb2RlLFxuICAgICAgICAgIGFsbG93Q2xlYXIgJiYgIW11bHRpcGxlID8gY2xlYXIgOiBudWxsLFxuICAgICAgICAgIG11bHRpcGxlIHx8ICFwcm9wcy5zaG93QXJyb3cgPyBudWxsIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICAgIGtleTogJ2Fycm93JyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWFycm93JyxcbiAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRVxuICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQXJyb3dDbGlja1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdiJywgbnVsbClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL1NlbGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JjVHJpZ2dlciA9IHJlcXVpcmUoJ3JjLXRyaWdnZXInKTtcblxudmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9Ecm9wZG93bk1lbnUgPSByZXF1aXJlKCcuL0Ryb3Bkb3duTWVudScpO1xuXG52YXIgX0Ryb3Bkb3duTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wZG93bk1lbnUpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBCVUlMVF9JTl9QTEFDRU1FTlRTID0ge1xuICBib3R0b21MZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ3RsJywgJ2JsJ10sXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgb3ZlcmZsb3c6IHtcbiAgICAgIGFkanVzdFg6IDAsXG4gICAgICBhZGp1c3RZOiAxXG4gICAgfVxuICB9LFxuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIG92ZXJmbG93OiB7XG4gICAgICBhZGp1c3RYOiAwLFxuICAgICAgYWRqdXN0WTogMVxuICAgIH1cbiAgfVxufTtcblxudmFyIFNlbGVjdFRyaWdnZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU2VsZWN0VHJpZ2dlcicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgb25Qb3B1cEZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZHJvcGRvd25BbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGlucHV0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGZpbHRlck9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgb3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBwb3B1cENsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZpc2libGUgPSBfcHJvcHMudmlzaWJsZSxcbiAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID0gX3Byb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDtcblxuICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICB2YXIgZHJvcGRvd25ET01Ob2RlID0gdGhpcy5nZXRQb3B1cERPTU5vZGUoKTtcbiAgICAgIGlmIChkcm9wZG93bkRPTU5vZGUpIHtcbiAgICAgICAgdmFyIHdpZHRoUHJvcCA9IGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCA/ICd3aWR0aCcgOiAnbWluV2lkdGgnO1xuICAgICAgICBkcm9wZG93bkRPTU5vZGUuc3R5bGVbd2lkdGhQcm9wXSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLm9mZnNldFdpZHRoICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGdldElubmVyTWVudTogZnVuY3Rpb24gZ2V0SW5uZXJNZW51KCkge1xuICAgIHJldHVybiB0aGlzLnBvcHVwTWVudSAmJiB0aGlzLnBvcHVwTWVudS5yZWZzLm1lbnU7XG4gIH0sXG4gIGdldFBvcHVwRE9NTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERvbU5vZGUoKTtcbiAgfSxcbiAgZ2V0RHJvcGRvd25FbGVtZW50OiBmdW5jdGlvbiBnZXREcm9wZG93bkVsZW1lbnQobmV3UHJvcHMpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ecm9wZG93bk1lbnUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgIHJlZjogdGhpcy5zYXZlTWVudVxuICAgIH0sIG5ld1Byb3BzLCB7XG4gICAgICBwcmVmaXhDbHM6IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSxcbiAgICAgIG9uTWVudVNlbGVjdDogcHJvcHMub25NZW51U2VsZWN0LFxuICAgICAgb25NZW51RGVzZWxlY3Q6IHByb3BzLm9uTWVudURlc2VsZWN0LFxuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG4gICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGVcbiAgICB9KSk7XG4gIH0sXG4gIGdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIGdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIHByb3BzLmFuaW1hdGlvbikge1xuICAgICAgdHJhbnNpdGlvbk5hbWUgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCkgKyAnLScgKyBwcm9wcy5hbmltYXRpb247XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcbiAgfSxcbiAgZ2V0RHJvcGRvd25QcmVmaXhDbHM6IGZ1bmN0aW9uIGdldERyb3Bkb3duUHJlZml4Q2xzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnByZWZpeENscyArICctZHJvcGRvd24nO1xuICB9LFxuICBzYXZlTWVudTogZnVuY3Rpb24gc2F2ZU1lbnUobWVudSkge1xuICAgIHRoaXMucG9wdXBNZW51ID0gbWVudTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wb3B1cENsYXNzTmFtZTtcblxuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25Qb3B1cEZvY3VzID0gX3Byb3BzMi5vblBvcHVwRm9jdXMsXG4gICAgICAgIHByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczNbXCJkZWZhdWx0XCJdKShfcHJvcHMyLCBbJ29uUG9wdXBGb2N1cyddKTtcbiAgICB2YXIgbXVsdGlwbGUgPSBwcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgdmlzaWJsZSA9IHByb3BzLnZpc2libGUsXG4gICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlLFxuICAgICAgICBkcm9wZG93bkFsaWduID0gcHJvcHMuZHJvcGRvd25BbGlnbixcbiAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2gsXG4gICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lID0gcHJvcHMuZHJvcGRvd25DbGFzc05hbWU7XG5cbiAgICB2YXIgZHJvcGRvd25QcmVmaXhDbHMgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCk7XG4gICAgdmFyIHBvcHVwQ2xhc3NOYW1lID0gKF9wb3B1cENsYXNzTmFtZSA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9wb3B1cENsYXNzTmFtZSwgZHJvcGRvd25DbGFzc05hbWUsICEhZHJvcGRvd25DbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9wb3B1cENsYXNzTmFtZSwgZHJvcGRvd25QcmVmaXhDbHMgKyAnLS0nICsgKG11bHRpcGxlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnKSwgMSksIF9wb3B1cENsYXNzTmFtZSk7XG4gICAgdmFyIHBvcHVwRWxlbWVudCA9IHRoaXMuZ2V0RHJvcGRvd25FbGVtZW50KHtcbiAgICAgIG1lbnVJdGVtczogcHJvcHMub3B0aW9ucyxcbiAgICAgIG9uUG9wdXBGb2N1czogb25Qb3B1cEZvY3VzLFxuICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICB9KTtcbiAgICB2YXIgaGlkZUFjdGlvbiA9IHZvaWQgMDtcbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIGhpZGVBY3Rpb24gPSBbXTtcbiAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiAhc2hvd1NlYXJjaCkge1xuICAgICAgaGlkZUFjdGlvbiA9IFsnY2xpY2snXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlkZUFjdGlvbiA9IFsnYmx1ciddO1xuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcbiAgICAgICAgc2hvd0FjdGlvbjogZGlzYWJsZWQgPyBbXSA6IFsnY2xpY2snXSxcbiAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcbiAgICAgICAgcmVmOiAndHJpZ2dlcicsXG4gICAgICAgIHBvcHVwUGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG4gICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBCVUlMVF9JTl9QTEFDRU1FTlRTLFxuICAgICAgICBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzLFxuICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0aGlzLmdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWUoKSxcbiAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHByb3BzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICBwb3B1cDogcG9wdXBFbGVtZW50LFxuICAgICAgICBwb3B1cEFsaWduOiBkcm9wZG93bkFsaWduLFxuICAgICAgICBwb3B1cFZpc2libGU6IHZpc2libGUsXG4gICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBwcm9wcy5nZXRQb3B1cENvbnRhaW5lcixcbiAgICAgICAgcG9wdXBDbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwb3B1cENsYXNzTmFtZSksXG4gICAgICAgIHBvcHVwU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGVcbiAgICAgIH0pLFxuICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3RUcmlnZ2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9TZWxlY3RUcmlnZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5PcHRHcm91cCA9IGV4cG9ydHMuT3B0aW9uID0gdW5kZWZpbmVkO1xuXG52YXIgX1NlbGVjdCA9IHJlcXVpcmUoJy4vU2VsZWN0Jyk7XG5cbnZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cbnZhciBfT3B0aW9uID0gcmVxdWlyZSgnLi9PcHRpb24nKTtcblxudmFyIF9PcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uKTtcblxudmFyIF9PcHRHcm91cCA9IHJlcXVpcmUoJy4vT3B0R3JvdXAnKTtcblxudmFyIF9PcHRHcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRHcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5fU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuX1NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdEdyb3VwID0gX09wdEdyb3VwMltcImRlZmF1bHRcIl07XG5leHBvcnRzLk9wdGlvbiA9IF9PcHRpb24yW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1NlbGVjdDJbXCJkZWZhdWx0XCJdO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2x1bW4sIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbHVtbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNvbHVtbi5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGNvbFNwYW46IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuICBkYXRhSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICB3aWR0aDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuICBmaXhlZDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2xlZnQnLCAncmlnaHQnXSksXG4gIHJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvbkNlbGxDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvQ29sdW1uLmpzXG4gKiogbW9kdWxlIGlkID0gMTM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBDb2x1bW5Hcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2x1bW5Hcm91cCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ29sdW1uR3JvdXAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbkdyb3VwKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbkdyb3VwO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ29sdW1uR3JvdXAucHJvcFR5cGVzID0ge1xuICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG59O1xuQ29sdW1uR3JvdXAuaXNUYWJsZUNvbHVtbkdyb3VwID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvQ29sdW1uR3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ29sdW1uTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ29sdW1uTWFuYWdlcihjb2x1bW5zLCBlbGVtZW50cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW5NYW5hZ2VyKTtcblxuICAgIHRoaXMuX2NhY2hlZCA9IHt9O1xuXG4gICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG4gIH1cblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc0ZpeGVkKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc0ZpeGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiAhIWNvbHVtbi5maXhlZDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0xlZnRGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc0xlZnRGaXhlZCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zTGVmdEZpeGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMi5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc1JpZ2h0Rml4ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWZ0Q29sdW1ucyA9IGZ1bmN0aW9uIGxlZnRDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWZ0Q29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczQuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdyaWdodENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM1Lmdyb3VwZWRDb2x1bW5zKCkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ3JpZ2h0JztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlYWZDb2x1bW5zID0gZnVuY3Rpb24gbGVhZkNvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzNi5fbGVhZkNvbHVtbnMoX3RoaXM2LmNvbHVtbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIGxlZnRMZWFmQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdExlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzNy5fbGVhZkNvbHVtbnMoX3RoaXM3LmxlZnRDb2x1bW5zKCkpO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJpZ2h0TGVhZkNvbHVtbnMgPSBmdW5jdGlvbiByaWdodExlYWZDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdyaWdodExlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzOC5fbGVhZkNvbHVtbnMoX3RoaXM4LnJpZ2h0Q29sdW1ucygpKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBhZGQgYXBwcm9wcmlhdGUgcm93c3BhbiBhbmQgY29sc3BhbiB0byBjb2x1bW5cblxuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmdyb3VwZWRDb2x1bW5zID0gZnVuY3Rpb24gZ3JvdXBlZENvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2dyb3VwZWRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9ncm91cENvbHVtbnMgPSBmdW5jdGlvbiBfZ3JvdXBDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgICAgIHZhciBwYXJlbnRDb2x1bW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgICB2YXIgcm93cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogW107XG5cbiAgICAgICAgLy8gdHJhY2sgaG93IG1hbnkgcm93cyB3ZSBnb3RcbiAgICAgICAgcm93c1tjdXJyZW50Um93XSA9IHJvd3NbY3VycmVudFJvd10gfHwgW107XG4gICAgICAgIHZhciBncm91cGVkID0gW107XG4gICAgICAgIHZhciBzZXRSb3dTcGFuID0gZnVuY3Rpb24gc2V0Um93U3Bhbihjb2x1bW4pIHtcbiAgICAgICAgICB2YXIgcm93U3BhbiA9IHJvd3MubGVuZ3RoIC0gY3VycmVudFJvdztcbiAgICAgICAgICBpZiAoY29sdW1uICYmICFjb2x1bW4uY2hpbGRyZW4gJiYgLy8gcGFyZW50IGNvbHVtbnMgYXJlIHN1cHBvc2VkIHRvIGJlIG9uZSByb3dcbiAgICAgICAgICByb3dTcGFuID4gMSAmJiAoIWNvbHVtbi5yb3dTcGFuIHx8IGNvbHVtbi5yb3dTcGFuIDwgcm93U3BhbikpIHtcbiAgICAgICAgICAgIGNvbHVtbi5yb3dTcGFuID0gcm93U3BhbjtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xuICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSBfZXh0ZW5kcyh7fSwgY29sdW1uKTtcbiAgICAgICAgICByb3dzW2N1cnJlbnRSb3ddLnB1c2gobmV3Q29sdW1uKTtcbiAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbiA9IHBhcmVudENvbHVtbi5jb2xTcGFuIHx8IDA7XG4gICAgICAgICAgaWYgKG5ld0NvbHVtbi5jaGlsZHJlbiAmJiBuZXdDb2x1bW4uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbmV3Q29sdW1uLmNoaWxkcmVuID0gX2dyb3VwQ29sdW1ucyhuZXdDb2x1bW4uY2hpbGRyZW4sIGN1cnJlbnRSb3cgKyAxLCBuZXdDb2x1bW4sIHJvd3MpO1xuICAgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4gPSBwYXJlbnRDb2x1bW4uY29sU3BhbiArIG5ld0NvbHVtbi5jb2xTcGFuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbisrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB1cGRhdGUgcm93c3BhbiB0byBhbGwgc2FtZSByb3cgY29sdW1uc1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93c1tjdXJyZW50Um93XS5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgIHNldFJvd1NwYW4ocm93c1tjdXJyZW50Um93XVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGxhc3QgY29sdW1uLCB1cGRhdGUgcm93c3BhbiBpbW1lZGlhdGVseVxuICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRSb3dTcGFuKG5ld0NvbHVtbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGdyb3VwZWQucHVzaChuZXdDb2x1bW4pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdyb3VwZWQ7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIF9ncm91cENvbHVtbnMoX3RoaXM5LmNvbHVtbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShlbGVtZW50cykge1xuICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgIHZhciBjb2x1bW5zID0gW107XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNvbHVtbiA9IF9leHRlbmRzKHt9LCBlbGVtZW50LnByb3BzKTtcbiAgICAgIGlmIChlbGVtZW50LmtleSkge1xuICAgICAgICBjb2x1bW4ua2V5ID0gZWxlbWVudC5rZXk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC50eXBlLmlzVGFibGVDb2x1bW5Hcm91cCkge1xuICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBfdGhpczEwLm5vcm1hbGl6ZShjb2x1bW4uY2hpbGRyZW4pO1xuICAgICAgfVxuICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbHVtbnM7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldChjb2x1bW5zLCBlbGVtZW50cykge1xuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5ub3JtYWxpemUoZWxlbWVudHMpO1xuICAgIHRoaXMuX2NhY2hlZCA9IHt9O1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLl9jYWNoZSA9IGZ1bmN0aW9uIF9jYWNoZShuYW1lLCBmbikge1xuICAgIGlmIChuYW1lIGluIHRoaXMuX2NhY2hlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFtuYW1lXTtcbiAgICB9XG4gICAgdGhpcy5fY2FjaGVkW25hbWVdID0gZm4oKTtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLl9sZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIF9sZWFmQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgdmFyIGxlYWZDb2x1bW5zID0gW107XG4gICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIGlmICghY29sdW1uLmNoaWxkcmVuKSB7XG4gICAgICAgIGxlYWZDb2x1bW5zLnB1c2goY29sdW1uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYWZDb2x1bW5zLnB1c2guYXBwbHkobGVhZkNvbHVtbnMsIF90b0NvbnN1bWFibGVBcnJheShfdGhpczExLl9sZWFmQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGxlYWZDb2x1bW5zO1xuICB9O1xuXG4gIHJldHVybiBDb2x1bW5NYW5hZ2VyO1xufSgpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbk1hbmFnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvQ29sdW1uTWFuYWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3NoYWxsb3dlcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xuXG52YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBFeHBhbmRJY29uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEV4cGFuZEljb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEV4cGFuZEljb24oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4cGFuZEljb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBFeHBhbmRJY29uLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICEoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIEV4cGFuZEljb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBvbkV4cGFuZCA9IF9wcm9wcy5vbkV4cGFuZCxcbiAgICAgICAgbmVlZEluZGVudFNwYWNlZCA9IF9wcm9wcy5uZWVkSW5kZW50U3BhY2VkLFxuICAgICAgICBleHBhbmRlZCA9IF9wcm9wcy5leHBhbmRlZCxcbiAgICAgICAgcmVjb3JkID0gX3Byb3BzLnJlY29yZDtcblxuICAgIGlmIChleHBhbmRhYmxlKSB7XG4gICAgICB2YXIgZXhwYW5kQ2xhc3NOYW1lID0gZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCc7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLScgKyBleHBhbmRDbGFzc05hbWUsXG4gICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgIHJldHVybiBvbkV4cGFuZCghZXhwYW5kZWQsIHJlY29yZCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobmVlZEluZGVudFNwYWNlZCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbiAnICsgcHJlZml4Q2xzICsgJy1zcGFjZWQnIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gRXhwYW5kSWNvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuRXhwYW5kSWNvbi5wcm9wVHlwZXMgPSB7XG4gIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGV4cGFuZGFibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBleHBhbmRlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEV4cGFuZEljb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvRXhwYW5kSWNvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1RhYmxlUm93ID0gcmVxdWlyZSgnLi9UYWJsZVJvdycpO1xuXG52YXIgX1RhYmxlUm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlUm93KTtcblxudmFyIF9UYWJsZUhlYWRlciA9IHJlcXVpcmUoJy4vVGFibGVIZWFkZXInKTtcblxudmFyIF9UYWJsZUhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUhlYWRlcik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBfc2hhbGxvd2VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5cbnZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0RvbS9hZGRFdmVudExpc3RlbmVyJyk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblxudmFyIF9Db2x1bW5NYW5hZ2VyID0gcmVxdWlyZSgnLi9Db2x1bW5NYW5hZ2VyJyk7XG5cbnZhciBfQ29sdW1uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5NYW5hZ2VyKTtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfY29tcG9uZW50Q2xhc3NlcyA9IHJlcXVpcmUoJ2NvbXBvbmVudC1jbGFzc2VzJyk7XG5cbnZhciBfY29tcG9uZW50Q2xhc3NlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRDbGFzc2VzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLm9uRXhwYW5kZWQgPSBmdW5jdGlvbiAoZXhwYW5kZWQsIHJlY29yZCwgZSwgaW5kZXgpIHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmZvID0gX3RoaXMuZmluZEV4cGFuZGVkUm93KHJlY29yZCk7XG4gICAgICBpZiAodHlwZW9mIGluZm8gIT09ICd1bmRlZmluZWQnICYmICFleHBhbmRlZCkge1xuICAgICAgICBfdGhpcy5vblJvd0Rlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKCFpbmZvICYmIGV4cGFuZGVkKSB7XG4gICAgICAgIHZhciBleHBhbmRlZFJvd3MgPSBfdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5jb25jYXQoKTtcbiAgICAgICAgZXhwYW5kZWRSb3dzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpKTtcbiAgICAgICAgX3RoaXMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dzKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLnByb3BzLm9uRXhwYW5kKGV4cGFuZGVkLCByZWNvcmQpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vblJvd0Rlc3Ryb3kgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCkge1xuICAgICAgdmFyIGV4cGFuZGVkUm93cyA9IF90aGlzLmdldEV4cGFuZGVkUm93cygpLmNvbmNhdCgpO1xuICAgICAgdmFyIHJvd0tleSA9IF90aGlzLmdldFJvd0tleShyZWNvcmQsIHJvd0luZGV4KTtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgZXhwYW5kZWRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHIsIGkpIHtcbiAgICAgICAgaWYgKHIgPT09IHJvd0tleSkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGV4cGFuZGVkUm93cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgX3RoaXMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3luY0ZpeGVkVGFibGVSb3dIZWlnaHQoKTtcbiAgICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKCk7XG4gICAgfTtcblxuICAgIF90aGlzLnN5bmNGaXhlZFRhYmxlUm93SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRhYmxlUmVjdCA9IF90aGlzLnRhYmxlTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIC8vIElmIHRhYmxlTm9kZSdzIGhlaWdodCBsZXNzIHRoYW4gMCwgc3VwcG9zZSBpdCBpcyBoaWRkZW4gYW5kIGRvbid0IHJlY2FsY3VsYXRlIHJvd0hlaWdodC5cbiAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNDgzNlxuICAgICAgaWYgKHRhYmxlUmVjdC5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiB0YWJsZVJlY3QuaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHByZWZpeENscyA9IF90aGlzLnByb3BzLnByZWZpeENscztcblxuICAgICAgdmFyIGhlYWRSb3dzID0gX3RoaXMucmVmcy5oZWFkVGFibGUgPyBfdGhpcy5yZWZzLmhlYWRUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0aGVhZCcpIDogX3RoaXMucmVmcy5ib2R5VGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQnKTtcbiAgICAgIHZhciBib2R5Um93cyA9IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgcHJlZml4Q2xzICsgJy1yb3cnKSB8fCBbXTtcbiAgICAgIHZhciBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCA9IFtdLm1hcC5jYWxsKGhlYWRSb3dzLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHJldHVybiByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8ICdhdXRvJztcbiAgICAgIH0pO1xuICAgICAgdmFyIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoYm9keVJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgJ2F1dG8nO1xuICAgICAgfSk7XG4gICAgICBpZiAoKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUuZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQsIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0KSAmJiAoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCwgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ6IGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0LFxuICAgICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnNjcm9sbFRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIF90aGlzLnNjcm9sbFRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQm9keVNjcm9sbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBQcmV2ZW50IHNjcm9sbFRvcCBzZXR0ZXIgdHJpZ2dlciBvblNjcm9sbCBldmVudFxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTM4NjY5NlxuICAgICAgaWYgKGUudGFyZ2V0ICE9PSBfdGhpcy5zY3JvbGxUYXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIF90aGlzJHByb3BzJHNjcm9sbCA9IF90aGlzLnByb3BzLnNjcm9sbCxcbiAgICAgICAgICBzY3JvbGwgPSBfdGhpcyRwcm9wcyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3RoaXMkcHJvcHMkc2Nyb2xsO1xuICAgICAgdmFyIF90aGlzJHJlZnMgPSBfdGhpcy5yZWZzLFxuICAgICAgICAgIGhlYWRUYWJsZSA9IF90aGlzJHJlZnMuaGVhZFRhYmxlLFxuICAgICAgICAgIGJvZHlUYWJsZSA9IF90aGlzJHJlZnMuYm9keVRhYmxlLFxuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlMZWZ0ID0gX3RoaXMkcmVmcy5maXhlZENvbHVtbnNCb2R5TGVmdCxcbiAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5UmlnaHQgPSBfdGhpcyRyZWZzLmZpeGVkQ29sdW1uc0JvZHlSaWdodDtcblxuICAgICAgaWYgKHNjcm9sbC54ICYmIGUudGFyZ2V0LnNjcm9sbExlZnQgIT09IF90aGlzLmxhc3RTY3JvbGxMZWZ0KSB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gYm9keVRhYmxlICYmIGhlYWRUYWJsZSkge1xuICAgICAgICAgIGhlYWRUYWJsZS5zY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gaGVhZFRhYmxlICYmIGJvZHlUYWJsZSkge1xuICAgICAgICAgIGJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZShlLnRhcmdldCk7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsLnkpIHtcbiAgICAgICAgaWYgKGZpeGVkQ29sdW1uc0JvZHlMZWZ0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5TGVmdCkge1xuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlMZWZ0LnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keVJpZ2h0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5UmlnaHQpIHtcbiAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5UmlnaHQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5VGFibGUgJiYgZS50YXJnZXQgIT09IGJvZHlUYWJsZSkge1xuICAgICAgICAgIGJvZHlUYWJsZS5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFJlbWVtYmVyIGxhc3Qgc2Nyb2xsTGVmdCBmb3Igc2Nyb2xsIGRpcmVjdGlvbiBkZXRlY3RpbmcuXG4gICAgICBfdGhpcy5sYXN0U2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVJvd0hvdmVyID0gZnVuY3Rpb24gKGlzSG92ZXIsIGtleSkge1xuICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50SG92ZXJLZXk6IGlzSG92ZXIgPyBrZXkgOiBudWxsXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV4cGFuZGVkUm93S2V5cyA9IFtdO1xuICAgIHZhciByb3dzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5kYXRhKSk7XG4gICAgX3RoaXMuY29sdW1uTWFuYWdlciA9IG5ldyBfQ29sdW1uTWFuYWdlcjJbXCJkZWZhdWx0XCJdKHByb3BzLmNvbHVtbnMsIHByb3BzLmNoaWxkcmVuKTtcbiAgICBfdGhpcy5zdG9yZSA9ICgwLCBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXSkoeyBjdXJyZW50SG92ZXJLZXk6IG51bGwgfSk7XG4gICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2xlZnQnKTtcblxuICAgIGlmIChwcm9wcy5kZWZhdWx0RXhwYW5kQWxsUm93cykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSByb3dzW2ldO1xuICAgICAgICBleHBhbmRlZFJvd0tleXMucHVzaChfdGhpcy5nZXRSb3dLZXkocm93LCBpKSk7XG4gICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdChyb3dbcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lXSB8fCBbXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cGFuZGVkUm93S2V5cyA9IHByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCBwcm9wcy5kZWZhdWx0RXhwYW5kZWRSb3dLZXlzO1xuICAgIH1cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzLFxuICAgICAgY3VycmVudEhvdmVyS2V5OiBudWxsLFxuICAgICAgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ6IFtdLFxuICAgICAgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ6IFtdXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKCk7XG4gICAgICB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSA9ICgwLCBfdXRpbHMuZGVib3VuY2UpKHRoaXMuaGFuZGxlV2luZG93UmVzaXplLCAxNTApO1xuICAgICAgdGhpcy5yZXNpemVFdmVudCA9ICgwLCBfYWRkRXZlbnRMaXN0ZW5lcjJbXCJkZWZhdWx0XCJdKSh3aW5kb3csICdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSk7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ2V4cGFuZGVkUm93S2V5cycgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXhwYW5kZWRSb3dLZXlzOiBuZXh0UHJvcHMuZXhwYW5kZWRSb3dLZXlzXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG5leHRQcm9wcy5jb2x1bW5zICYmIG5leHRQcm9wcy5jb2x1bW5zICE9PSB0aGlzLnByb3BzLmNvbHVtbnMpIHtcbiAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5yZXNldChuZXh0UHJvcHMuY29sdW1ucyk7XG4gICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuY2hpbGRyZW4gIT09IHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5yZXNldChudWxsLCBuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICB9XG4gICAgLy8gd2hlbiB0YWJsZSBjaGFuZ2VzIHRvIGVtcHR5LCByZXNldCBzY3JvbGxMZWZ0XG4gICAgaWYgKHByZXZQcm9wcy5kYXRhLmxlbmd0aCA+IDAgJiYgdGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmhhc1Njcm9sbFgoKSkge1xuICAgICAgdGhpcy5yZXNldFNjcm9sbFgoKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMucmVzaXplRXZlbnQpIHtcbiAgICAgIHRoaXMucmVzaXplRXZlbnQucmVtb3ZlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSkge1xuICAgICAgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUuY2FuY2VsKCk7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5vbkV4cGFuZGVkUm93c0NoYW5nZSA9IGZ1bmN0aW9uIG9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cykge1xuICAgIGlmICghdGhpcy5wcm9wcy5leHBhbmRlZFJvd0tleXMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZFJvd0tleXM6IGV4cGFuZGVkUm93S2V5cyB9KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd0tleXMpO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dLZXkgPSBmdW5jdGlvbiBnZXRSb3dLZXkocmVjb3JkLCBpbmRleCkge1xuICAgIHZhciByb3dLZXkgPSB0aGlzLnByb3BzLnJvd0tleTtcbiAgICB2YXIga2V5ID0gdHlwZW9mIHJvd0tleSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0tleShyZWNvcmQsIGluZGV4KSA6IHJlY29yZFtyb3dLZXldO1xuICAgICgwLCBfdXRpbHMud2FybmluZ09uY2UpKGtleSAhPT0gdW5kZWZpbmVkLCAnRWFjaCByZWNvcmQgaW4gdGFibGUgc2hvdWxkIGhhdmUgYSB1bmlxdWUgYGtleWAgcHJvcCwnICsgJ29yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXkuJyk7XG4gICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gaW5kZXggOiBrZXk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93cyA9IGZ1bmN0aW9uIGdldEV4cGFuZGVkUm93cygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5leHBhbmRlZFJvd0tleXMgfHwgdGhpcy5zdGF0ZS5leHBhbmRlZFJvd0tleXM7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIGdldEhlYWRlcihjb2x1bW5zLCBmaXhlZCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzaG93SGVhZGVyID0gX3Byb3BzLnNob3dIZWFkZXIsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblxuICAgIHZhciByb3dzID0gdGhpcy5nZXRIZWFkZXJSb3dzKGNvbHVtbnMpO1xuXG4gICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcbiAgICAgIHJvd3NbMF0udW5zaGlmdCh7XG4gICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZEljb25Bc0NlbGwnLFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24tdGgnLFxuICAgICAgICB0aXRsZTogJycsXG4gICAgICAgIHJvd1NwYW46IHJvd3MubGVuZ3RoXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgdHJTdHlsZSA9IGZpeGVkID8gdGhpcy5nZXRIZWFkZXJSb3dTdHlsZShjb2x1bW5zLCByb3dzKSA6IG51bGw7XG5cbiAgICByZXR1cm4gc2hvd0hlYWRlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlSGVhZGVyMltcImRlZmF1bHRcIl0sIHtcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgcm93czogcm93cyxcbiAgICAgIHJvd1N0eWxlOiB0clN0eWxlXG4gICAgfSkgOiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXJSb3dzID0gZnVuY3Rpb24gZ2V0SGVhZGVyUm93cyhjb2x1bW5zKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgY3VycmVudFJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICB2YXIgcm93cyA9IGFyZ3VtZW50c1syXTtcblxuICAgIHJvd3MgPSByb3dzIHx8IFtdO1xuICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuXG4gICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgIGlmIChjb2x1bW4ucm93U3BhbiAmJiByb3dzLmxlbmd0aCA8IGNvbHVtbi5yb3dTcGFuKSB7XG4gICAgICAgIHdoaWxlIChyb3dzLmxlbmd0aCA8IGNvbHVtbi5yb3dTcGFuKSB7XG4gICAgICAgICAgcm93cy5wdXNoKFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNlbGwgPSB7XG4gICAgICAgIGtleTogY29sdW1uLmtleSxcbiAgICAgICAgY2xhc3NOYW1lOiBjb2x1bW4uY2xhc3NOYW1lIHx8ICcnLFxuICAgICAgICBjaGlsZHJlbjogY29sdW1uLnRpdGxlXG4gICAgICB9O1xuICAgICAgaWYgKGNvbHVtbi5jaGlsZHJlbikge1xuICAgICAgICBfdGhpczIuZ2V0SGVhZGVyUm93cyhjb2x1bW4uY2hpbGRyZW4sIGN1cnJlbnRSb3cgKyAxLCByb3dzKTtcbiAgICAgIH1cbiAgICAgIGlmICgnY29sU3BhbicgaW4gY29sdW1uKSB7XG4gICAgICAgIGNlbGwuY29sU3BhbiA9IGNvbHVtbi5jb2xTcGFuO1xuICAgICAgfVxuICAgICAgaWYgKCdyb3dTcGFuJyBpbiBjb2x1bW4pIHtcbiAgICAgICAgY2VsbC5yb3dTcGFuID0gY29sdW1uLnJvd1NwYW47XG4gICAgICB9XG4gICAgICBpZiAoY2VsbC5jb2xTcGFuICE9PSAwKSB7XG4gICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChjZWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgICAgcmV0dXJuIHJvdy5sZW5ndGggPiAwO1xuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJvdyA9IGZ1bmN0aW9uIGdldEV4cGFuZGVkUm93KGtleSwgY29udGVudCwgdmlzaWJsZSwgY2xhc3NOYW1lLCBmaXhlZCkge1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMyLmV4cGFuZEljb25Bc0NlbGw7XG5cbiAgICB2YXIgY29sQ291bnQgPSB2b2lkIDA7XG4gICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcbiAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG4gICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCkubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpLmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIGNvbHVtbnMgPSBbe1xuICAgICAga2V5OiAnZXh0cmEtcm93JyxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBjb2xTcGFuOiBjb2xDb3VudFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW46IGZpeGVkICE9PSAncmlnaHQnID8gY29udGVudCA6ICcmbmJzcDsnXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfV07XG4gICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcbiAgICAgIGNvbHVtbnMudW5zaGlmdCh7XG4gICAgICAgIGtleTogJ2V4cGFuZC1pY29uLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVSb3cyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgIGtleToga2V5ICsgJy1leHRyYS1yb3cnLFxuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLWV4cGFuZGVkLXJvdycsXG4gICAgICBpbmRlbnQ6IDEsXG4gICAgICBleHBhbmRhYmxlOiBmYWxzZSxcbiAgICAgIHN0b3JlOiB0aGlzLnN0b3JlXG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFJvd3NCeURhdGEgPSBmdW5jdGlvbiBnZXRSb3dzQnlEYXRhKGRhdGEsIHZpc2libGUsIGluZGVudCwgY29sdW1ucywgZml4ZWQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjaGlsZHJlbkNvbHVtbk5hbWUgPSBwcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWU7XG4gICAgdmFyIGV4cGFuZGVkUm93UmVuZGVyID0gcHJvcHMuZXhwYW5kZWRSb3dSZW5kZXI7XG4gICAgdmFyIGV4cGFuZFJvd0J5Q2xpY2sgPSBwcm9wcy5leHBhbmRSb3dCeUNsaWNrO1xuICAgIHZhciBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCA9IHRoaXMuc3RhdGUuZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ7XG5cbiAgICB2YXIgcnN0ID0gW107XG4gICAgdmFyIHJvd0NsYXNzTmFtZSA9IHByb3BzLnJvd0NsYXNzTmFtZTtcbiAgICB2YXIgcm93UmVmID0gcHJvcHMucm93UmVmO1xuICAgIHZhciBleHBhbmRlZFJvd0NsYXNzTmFtZSA9IHByb3BzLmV4cGFuZGVkUm93Q2xhc3NOYW1lO1xuICAgIHZhciBuZWVkSW5kZW50U3BhY2VkID0gcHJvcHMuZGF0YS5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgIHJldHVybiByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcbiAgICB9KTtcbiAgICB2YXIgb25Sb3dDbGljayA9IHByb3BzLm9uUm93Q2xpY2s7XG4gICAgdmFyIG9uUm93RG91YmxlQ2xpY2sgPSBwcm9wcy5vblJvd0RvdWJsZUNsaWNrO1xuXG4gICAgdmFyIGV4cGFuZEljb25Bc0NlbGwgPSBmaXhlZCAhPT0gJ3JpZ2h0JyA/IHByb3BzLmV4cGFuZEljb25Bc0NlbGwgOiBmYWxzZTtcbiAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQ29sdW1uSW5kZXggOiAtMTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlY29yZCA9IGRhdGFbaV07XG4gICAgICB2YXIga2V5ID0gdGhpcy5nZXRSb3dLZXkocmVjb3JkLCBpKTtcbiAgICAgIHZhciBjaGlsZHJlbkNvbHVtbiA9IHJlY29yZFtjaGlsZHJlbkNvbHVtbk5hbWVdO1xuICAgICAgdmFyIGlzUm93RXhwYW5kZWQgPSB0aGlzLmlzUm93RXhwYW5kZWQocmVjb3JkLCBpKTtcbiAgICAgIHZhciBleHBhbmRlZFJvd0NvbnRlbnQgPSB2b2lkIDA7XG4gICAgICBpZiAoZXhwYW5kZWRSb3dSZW5kZXIgJiYgaXNSb3dFeHBhbmRlZCkge1xuICAgICAgICBleHBhbmRlZFJvd0NvbnRlbnQgPSBleHBhbmRlZFJvd1JlbmRlcihyZWNvcmQsIGksIGluZGVudCk7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NOYW1lID0gcm93Q2xhc3NOYW1lKHJlY29yZCwgaSwgaW5kZW50KTtcblxuICAgICAgdmFyIG9uSG92ZXJQcm9wcyA9IHt9O1xuICAgICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG4gICAgICAgIG9uSG92ZXJQcm9wcy5vbkhvdmVyID0gdGhpcy5oYW5kbGVSb3dIb3ZlcjtcbiAgICAgIH1cblxuICAgICAgdmFyIGhlaWdodCA9IGZpeGVkICYmIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0W2ldID8gZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gOiBudWxsO1xuXG4gICAgICB2YXIgbGVhZkNvbHVtbnMgPSB2b2lkIDA7XG4gICAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKTtcbiAgICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKTtcbiAgICAgIH1cblxuICAgICAgcnN0LnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVSb3cyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe1xuICAgICAgICBpbmRlbnQ6IGluZGVudCxcbiAgICAgICAgaW5kZW50U2l6ZTogcHJvcHMuaW5kZW50U2l6ZSxcbiAgICAgICAgbmVlZEluZGVudFNwYWNlZDogbmVlZEluZGVudFNwYWNlZCxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLFxuICAgICAgICBvbkRlc3Ryb3k6IHRoaXMub25Sb3dEZXN0cm95LFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgZXhwYW5kUm93QnlDbGljazogZXhwYW5kUm93QnlDbGljayxcbiAgICAgICAgb25FeHBhbmQ6IHRoaXMub25FeHBhbmRlZCxcbiAgICAgICAgZXhwYW5kYWJsZTogY2hpbGRyZW5Db2x1bW4gfHwgZXhwYW5kZWRSb3dSZW5kZXIsXG4gICAgICAgIGV4cGFuZGVkOiBpc1Jvd0V4cGFuZGVkLFxuICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyArICctcm93JyxcbiAgICAgICAgY2hpbGRyZW5Db2x1bW5OYW1lOiBjaGlsZHJlbkNvbHVtbk5hbWUsXG4gICAgICAgIGNvbHVtbnM6IGxlYWZDb2x1bW5zLFxuICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IGV4cGFuZEljb25Db2x1bW5JbmRleCxcbiAgICAgICAgb25Sb3dDbGljazogb25Sb3dDbGljayxcbiAgICAgICAgb25Sb3dEb3VibGVDbGljazogb25Sb3dEb3VibGVDbGljayxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH0sIG9uSG92ZXJQcm9wcywge1xuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgaG92ZXJLZXk6IGtleSxcbiAgICAgICAgcmVmOiByb3dSZWYocmVjb3JkLCBpLCBpbmRlbnQpLFxuICAgICAgICBzdG9yZTogdGhpcy5zdG9yZVxuICAgICAgfSkpKTtcblxuICAgICAgdmFyIHN1YlZpc2libGUgPSB2aXNpYmxlICYmIGlzUm93RXhwYW5kZWQ7XG5cbiAgICAgIGlmIChleHBhbmRlZFJvd0NvbnRlbnQgJiYgaXNSb3dFeHBhbmRlZCkge1xuICAgICAgICByc3QucHVzaCh0aGlzLmdldEV4cGFuZGVkUm93KGtleSwgZXhwYW5kZWRSb3dDb250ZW50LCBzdWJWaXNpYmxlLCBleHBhbmRlZFJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCksIGZpeGVkKSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGRyZW5Db2x1bW4pIHtcbiAgICAgICAgcnN0ID0gcnN0LmNvbmNhdCh0aGlzLmdldFJvd3NCeURhdGEoY2hpbGRyZW5Db2x1bW4sIHN1YlZpc2libGUsIGluZGVudCArIDEsIGNvbHVtbnMsIGZpeGVkKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByc3Q7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Um93c0J5RGF0YSh0aGlzLnByb3BzLmRhdGEsIHRydWUsIDAsIGNvbHVtbnMsIGZpeGVkKTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Q29sR3JvdXAgPSBmdW5jdGlvbiBnZXRDb2xHcm91cChjb2x1bW5zLCBmaXhlZCkge1xuICAgIHZhciBjb2xzID0gW107XG4gICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuICAgICAgY29scy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHtcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctZXhwYW5kLWljb24tY29sJyxcbiAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY29sJ1xuICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgbGVhZkNvbHVtbnMgPSB2b2lkIDA7XG4gICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcbiAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcbiAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKTtcbiAgICB9XG4gICAgY29scyA9IGNvbHMuY29uY2F0KGxlYWZDb2x1bW5zLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHsga2V5OiBjLmtleSwgc3R5bGU6IHsgd2lkdGg6IGMud2lkdGgsIG1pbldpZHRoOiBjLndpZHRoIH0gfSk7XG4gICAgfSkpO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2NvbGdyb3VwJyxcbiAgICAgIG51bGwsXG4gICAgICBjb2xzXG4gICAgKTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0TGVmdEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRMZWZ0Rml4ZWRUYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUYWJsZSh7XG4gICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdENvbHVtbnMoKSxcbiAgICAgIGZpeGVkOiAnbGVmdCdcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0UmlnaHRGaXhlZFRhYmxlID0gZnVuY3Rpb24gZ2V0UmlnaHRGaXhlZFRhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcbiAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodENvbHVtbnMoKSxcbiAgICAgIGZpeGVkOiAncmlnaHQnXG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFRhYmxlID0gZnVuY3Rpb24gZ2V0VGFibGUoKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnMsXG4gICAgICAgIGZpeGVkID0gb3B0aW9ucy5maXhlZDtcbiAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuICAgICAgICBfcHJvcHMzJHNjcm9sbCA9IF9wcm9wczMuc2Nyb2xsLFxuICAgICAgICBzY3JvbGwgPSBfcHJvcHMzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMzJHNjcm9sbCxcbiAgICAgICAgZ2V0Qm9keVdyYXBwZXIgPSBfcHJvcHMzLmdldEJvZHlXcmFwcGVyO1xuICAgIHZhciB1c2VGaXhlZEhlYWRlciA9IHRoaXMucHJvcHMudXNlRml4ZWRIZWFkZXI7XG5cbiAgICB2YXIgYm9keVN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuYm9keVN0eWxlKTtcbiAgICB2YXIgaGVhZFN0eWxlID0ge307XG5cbiAgICB2YXIgdGFibGVDbGFzc05hbWUgPSAnJztcbiAgICBpZiAoc2Nyb2xsLnggfHwgZml4ZWQpIHtcbiAgICAgIHRhYmxlQ2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1maXhlZCc7XG4gICAgICBib2R5U3R5bGUub3ZlcmZsb3dYID0gYm9keVN0eWxlLm92ZXJmbG93WCB8fCAnYXV0byc7XG4gICAgfVxuXG4gICAgdmFyIGlubmVyQm9keVN0eWxlID0ge307XG4gICAgaWYgKHNjcm9sbC55KSB7XG4gICAgICAvLyBtYXhIZWlnaHQgd2lsbCBtYWtlIGZpeGVkLVRhYmxlIHNjcm9sbGluZyBub3Qgd29ya2luZ1xuICAgICAgLy8gc28gd2Ugb25seSBzZXQgbWF4SGVpZ2h0IHRvIGJvZHktVGFibGUgaGVyZVxuICAgICAgaWYgKGZpeGVkKSB7XG4gICAgICAgIGlubmVyQm9keVN0eWxlLm1heEhlaWdodCA9IGJvZHlTdHlsZS5tYXhIZWlnaHQgfHwgc2Nyb2xsLnk7XG4gICAgICAgIGlubmVyQm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5U3R5bGUubWF4SGVpZ2h0ID0gYm9keVN0eWxlLm1heEhlaWdodCB8fCBzY3JvbGwueTtcbiAgICAgIH1cbiAgICAgIGJvZHlTdHlsZS5vdmVyZmxvd1kgPSBib2R5U3R5bGUub3ZlcmZsb3dZIHx8ICdzY3JvbGwnO1xuICAgICAgdXNlRml4ZWRIZWFkZXIgPSB0cnVlO1xuXG4gICAgICAvLyBBZGQgbmVnYXRpdmUgbWFyZ2luIGJvdHRvbSBmb3Igc2Nyb2xsIGJhciBvdmVyZmxvdyBidWdcbiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9ICgwLCBfdXRpbHMubWVhc3VyZVNjcm9sbGJhcikoKTtcbiAgICAgIGlmIChzY3JvbGxiYXJXaWR0aCA+IDApIHtcbiAgICAgICAgKGZpeGVkID8gYm9keVN0eWxlIDogaGVhZFN0eWxlKS5tYXJnaW5Cb3R0b20gPSAnLScgKyBzY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICAgIChmaXhlZCA/IGJvZHlTdHlsZSA6IGhlYWRTdHlsZSkucGFkZGluZ0JvdHRvbSA9ICcwcHgnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZW5kZXJUYWJsZSA9IGZ1bmN0aW9uIHJlbmRlclRhYmxlKCkge1xuICAgICAgdmFyIGhhc0hlYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG4gICAgICB2YXIgaGFzQm9keSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgICAgdmFyIHRhYmxlU3R5bGUgPSB7fTtcbiAgICAgIGlmICghZml4ZWQgJiYgc2Nyb2xsLngpIHtcbiAgICAgICAgLy8gbm90IHNldCB3aWR0aCwgdGhlbiB1c2UgY29udGVudCBmaXhlZCB3aWR0aFxuICAgICAgICBpZiAoc2Nyb2xsLnggPT09IHRydWUpIHtcbiAgICAgICAgICB0YWJsZVN0eWxlLnRhYmxlTGF5b3V0ID0gJ2ZpeGVkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YWJsZVN0eWxlLndpZHRoID0gc2Nyb2xsLng7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0YWJsZUJvZHkgPSBoYXNCb2R5ID8gZ2V0Qm9keVdyYXBwZXIoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG4gICAgICAgIF90aGlzMy5nZXRSb3dzKGNvbHVtbnMsIGZpeGVkKVxuICAgICAgKSkgOiBudWxsO1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0YWJsZScsXG4gICAgICAgIHsgY2xhc3NOYW1lOiB0YWJsZUNsYXNzTmFtZSwgc3R5bGU6IHRhYmxlU3R5bGUsIGtleTogJ3RhYmxlJyB9LFxuICAgICAgICBfdGhpczMuZ2V0Q29sR3JvdXAoY29sdW1ucywgZml4ZWQpLFxuICAgICAgICBoYXNIZWFkID8gX3RoaXMzLmdldEhlYWRlcihjb2x1bW5zLCBmaXhlZCkgOiBudWxsLFxuICAgICAgICB0YWJsZUJvZHlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBoZWFkVGFibGUgPSB2b2lkIDA7XG5cbiAgICBpZiAodXNlRml4ZWRIZWFkZXIpIHtcbiAgICAgIGhlYWRUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAga2V5OiAnaGVhZFRhYmxlJyxcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyxcbiAgICAgICAgICByZWY6IGZpeGVkID8gbnVsbCA6ICdoZWFkVGFibGUnLFxuICAgICAgICAgIHN0eWxlOiBoZWFkU3R5bGUsXG4gICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuICAgICAgICB9LFxuICAgICAgICByZW5kZXJUYWJsZSh0cnVlLCBmYWxzZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGJvZHlUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnYm9keVRhYmxlJyxcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknLFxuICAgICAgICBzdHlsZTogYm9keVN0eWxlLFxuICAgICAgICByZWY6ICdib2R5VGFibGUnLFxuICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcbiAgICAgIH0sXG4gICAgICByZW5kZXJUYWJsZSghdXNlRml4ZWRIZWFkZXIpXG4gICAgKTtcblxuICAgIGlmIChmaXhlZCAmJiBjb2x1bW5zLmxlbmd0aCkge1xuICAgICAgdmFyIHJlZk5hbWUgPSB2b2lkIDA7XG4gICAgICBpZiAoY29sdW1uc1swXS5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbnNbMF0uZml4ZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmVmTmFtZSA9ICdmaXhlZENvbHVtbnNCb2R5TGVmdCc7XG4gICAgICB9IGVsc2UgaWYgKGNvbHVtbnNbMF0uZml4ZWQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgcmVmTmFtZSA9ICdmaXhlZENvbHVtbnNCb2R5UmlnaHQnO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGJvZHlTdHlsZS5vdmVyZmxvd1g7XG4gICAgICBkZWxldGUgYm9keVN0eWxlLm92ZXJmbG93WTtcbiAgICAgIGJvZHlUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAga2V5OiAnYm9keVRhYmxlJyxcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1vdXRlcicsXG4gICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBib2R5U3R5bGUpXG4gICAgICAgIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktaW5uZXInLFxuICAgICAgICAgICAgc3R5bGU6IGlubmVyQm9keVN0eWxlLFxuICAgICAgICAgICAgcmVmOiByZWZOYW1lLFxuICAgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbmRlclRhYmxlKCF1c2VGaXhlZEhlYWRlcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFtoZWFkVGFibGUsIGJvZHlUYWJsZV07XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG4gICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICB0aXRsZSA9IF9wcm9wczQudGl0bGUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzO1xuXG4gICAgcmV0dXJuIHRpdGxlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnLCBrZXk6ICd0aXRsZScgfSxcbiAgICAgIHRpdGxlKHRoaXMucHJvcHMuZGF0YSlcbiAgICApIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Rm9vdGVyID0gZnVuY3Rpb24gZ2V0Rm9vdGVyKCkge1xuICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZm9vdGVyID0gX3Byb3BzNS5mb290ZXIsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczUucHJlZml4Q2xzO1xuXG4gICAgcmV0dXJuIGZvb3RlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIGtleTogJ2Zvb3RlcicgfSxcbiAgICAgIGZvb3Rlcih0aGlzLnByb3BzLmRhdGEpXG4gICAgKSA6IG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEVtcHR5VGV4dCA9IGZ1bmN0aW9uIGdldEVtcHR5VGV4dCgpIHtcbiAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGVtcHR5VGV4dCA9IF9wcm9wczYuZW1wdHlUZXh0LFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM2LnByZWZpeENscyxcbiAgICAgICAgZGF0YSA9IF9wcm9wczYuZGF0YTtcblxuICAgIHJldHVybiAhZGF0YS5sZW5ndGggPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wbGFjZWhvbGRlcicsIGtleTogJ2VtcHR5VGV4dCcgfSxcbiAgICAgIGVtcHR5VGV4dCgpXG4gICAgKSA6IG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd1N0eWxlID0gZnVuY3Rpb24gZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykge1xuICAgIHZhciBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCA9IHRoaXMuc3RhdGUuZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ7XG5cbiAgICB2YXIgaGVhZGVySGVpZ2h0ID0gZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHRbMF07XG4gICAgaWYgKGhlYWRlckhlaWdodCAmJiBjb2x1bW5zKSB7XG4gICAgICBpZiAoaGVhZGVySGVpZ2h0ID09PSAnYXV0bycpIHtcbiAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAnYXV0bycgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGhlaWdodDogaGVhZGVySGVpZ2h0IC8gcm93cy5sZW5ndGggfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLnNldFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0U2Nyb2xsUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgaWYgKHRoaXMudGFibGVOb2RlKSB7XG4gICAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRhYmxlTm9kZSkucmVtb3ZlKG5ldyBSZWdFeHAoJ14nICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tLiskJykpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1sZWZ0JykuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLXJpZ2h0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkodGhpcy50YWJsZU5vZGUpLnJlbW92ZShuZXcgUmVnRXhwKCdeJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLS4rJCcpKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lID0gZnVuY3Rpb24gc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUodGFyZ2V0KSB7XG4gICAgdmFyIG5vZGUgPSB0YXJnZXQgfHwgdGhpcy5yZWZzLmJvZHlUYWJsZTtcbiAgICB2YXIgc2Nyb2xsVG9MZWZ0ID0gbm9kZS5zY3JvbGxMZWZ0ID09PSAwO1xuICAgIHZhciBzY3JvbGxUb1JpZ2h0ID0gbm9kZS5zY3JvbGxMZWZ0ICsgMSA+PSBub2RlLmNoaWxkcmVuWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICBpZiAoc2Nyb2xsVG9MZWZ0ICYmIHNjcm9sbFRvUmlnaHQpIHtcbiAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2JvdGgnKTtcbiAgICB9IGVsc2UgaWYgKHNjcm9sbFRvTGVmdCkge1xuICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9SaWdodCkge1xuICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbigncmlnaHQnKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsUG9zaXRpb24gIT09ICdtaWRkbGUnKSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdtaWRkbGUnKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLnJlc2V0U2Nyb2xsWCA9IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsWCgpIHtcbiAgICBpZiAodGhpcy5yZWZzLmhlYWRUYWJsZSkge1xuICAgICAgdGhpcy5yZWZzLmhlYWRUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVmcy5ib2R5VGFibGUpIHtcbiAgICAgIHRoaXMucmVmcy5ib2R5VGFibGUuc2Nyb2xsTGVmdCA9IDA7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5maW5kRXhwYW5kZWRSb3cgPSBmdW5jdGlvbiBmaW5kRXhwYW5kZWRSb3cocmVjb3JkLCBpbmRleCkge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLmdldEV4cGFuZGVkUm93cygpLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkgPT09IF90aGlzNC5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJvd3NbMF07XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmlzUm93RXhwYW5kZWQgPSBmdW5jdGlvbiBpc1Jvd0V4cGFuZGVkKHJlY29yZCwgaW5kZXgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMuZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpICE9PSAndW5kZWZpbmVkJztcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuaGFzU2Nyb2xsWCA9IGZ1bmN0aW9uIGhhc1Njcm9sbFgoKSB7XG4gICAgdmFyIF9wcm9wcyRzY3JvbGwgPSB0aGlzLnByb3BzLnNjcm9sbCxcbiAgICAgICAgc2Nyb2xsID0gX3Byb3BzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkc2Nyb2xsO1xuXG4gICAgcmV0dXJuICd4JyBpbiBzY3JvbGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblxuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByb3BzLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgaWYgKHByb3BzLnVzZUZpeGVkSGVhZGVyIHx8IHByb3BzLnNjcm9sbCAmJiBwcm9wcy5zY3JvbGwueSkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctZml4ZWQtaGVhZGVyJztcbiAgICB9XG4gICAgaWYgKHRoaXMuc2Nyb2xsUG9zaXRpb24gPT09ICdib3RoJykge1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLXJpZ2h0JztcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLScgKyB0aGlzLnNjcm9sbFBvc2l0aW9uO1xuICAgIH1cblxuICAgIHZhciBpc1RhYmxlU2Nyb2xsID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkgfHwgcHJvcHMuc2Nyb2xsLnggfHwgcHJvcHMuc2Nyb2xsLnk7XG5cbiAgICB2YXIgY29udGVudCA9IFt0aGlzLmdldFRhYmxlKHsgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLmdyb3VwZWRDb2x1bW5zKCkgfSksIHRoaXMuZ2V0RW1wdHlUZXh0KCksIHRoaXMuZ2V0Rm9vdGVyKCldO1xuXG4gICAgdmFyIHNjcm9sbFRhYmxlID0gaXNUYWJsZVNjcm9sbCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNjcm9sbCcgfSxcbiAgICAgIGNvbnRlbnRcbiAgICApIDogY29udGVudDtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM1LnRhYmxlTm9kZSA9IG5vZGU7XG4gICAgICAgIH0sIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcbiAgICAgIHRoaXMuZ2V0VGl0bGUoKSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LFxuICAgICAgICBzY3JvbGxUYWJsZSxcbiAgICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0xlZnRGaXhlZCgpICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtbGVmdCcgfSxcbiAgICAgICAgICB0aGlzLmdldExlZnRGaXhlZFRhYmxlKClcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQoKSAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZpeGVkLXJpZ2h0JyB9LFxuICAgICAgICAgIHRoaXMuZ2V0UmlnaHRGaXhlZFRhYmxlKClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5UYWJsZS5wcm9wVHlwZXMgPSB7XG4gIGRhdGE6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIGV4cGFuZEljb25Bc0NlbGw6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZGVmYXVsdEV4cGFuZEFsbFJvd3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZXhwYW5kZWRSb3dLZXlzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBkZWZhdWx0RXhwYW5kZWRSb3dLZXlzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBjb2x1bW5zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBib2R5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHJvd0tleTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNdKSxcbiAgcm93Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGNoaWxkcmVuQ29sdW1uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRXhwYW5kZWRSb3dzQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uUm93RG91YmxlQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgc2hvd0hlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBmb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZW1wdHlUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNjcm9sbDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHJvd1JlZjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBnZXRCb2R5V3JhcHBlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG59O1xuVGFibGUuZGVmYXVsdFByb3BzID0ge1xuICBkYXRhOiBbXSxcbiAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuICBleHBhbmRJY29uQXNDZWxsOiBmYWxzZSxcbiAgZGVmYXVsdEV4cGFuZEFsbFJvd3M6IGZhbHNlLFxuICBkZWZhdWx0RXhwYW5kZWRSb3dLZXlzOiBbXSxcbiAgcm93S2V5OiAna2V5JyxcbiAgcm93Q2xhc3NOYW1lOiBmdW5jdGlvbiByb3dDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9LFxuICBleHBhbmRlZFJvd0NsYXNzTmFtZTogZnVuY3Rpb24gZXhwYW5kZWRSb3dDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9LFxuICBvbkV4cGFuZDogZnVuY3Rpb24gb25FeHBhbmQoKSB7fSxcbiAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IGZ1bmN0aW9uIG9uRXhwYW5kZWRSb3dzQ2hhbmdlKCkge30sXG4gIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcbiAgb25Sb3dEb3VibGVDbGljazogZnVuY3Rpb24gb25Sb3dEb3VibGVDbGljaygpIHt9LFxuXG4gIHByZWZpeENsczogJ3JjLXRhYmxlJyxcbiAgYm9keVN0eWxlOiB7fSxcbiAgc3R5bGU6IHt9LFxuICBjaGlsZHJlbkNvbHVtbk5hbWU6ICdjaGlsZHJlbicsXG4gIGluZGVudFNpemU6IDE1LFxuICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IDAsXG4gIHNob3dIZWFkZXI6IHRydWUsXG4gIHNjcm9sbDoge30sXG4gIHJvd1JlZjogZnVuY3Rpb24gcm93UmVmKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBnZXRCb2R5V3JhcHBlcjogZnVuY3Rpb24gZ2V0Qm9keVdyYXBwZXIoYm9keSkge1xuICAgIHJldHVybiBib2R5O1xuICB9LFxuICBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcbiAgICByZXR1cm4gJ05vIERhdGEnO1xuICB9XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9UYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEzOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2xvZGFzaCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgVGFibGVDZWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYmxlQ2VsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGVDZWxsKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDZWxsKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wcy5yZWNvcmQsXG4gICAgICAgICAgb25DZWxsQ2xpY2sgPSBfdGhpcyRwcm9wcy5jb2x1bW4ub25DZWxsQ2xpY2s7XG5cbiAgICAgIGlmIChvbkNlbGxDbGljaykge1xuICAgICAgICBvbkNlbGxDbGljayhyZWNvcmQsIGUpO1xuICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgVGFibGVDZWxsLnByb3RvdHlwZS5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCA9IGZ1bmN0aW9uIGlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gdGV4dCAmJiAhX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQodGV4dCkgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHQpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfTtcblxuICBUYWJsZUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcmVjb3JkID0gX3Byb3BzLnJlY29yZCxcbiAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wcy5pbmRlbnRTaXplLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBpbmRlbnQgPSBfcHJvcHMuaW5kZW50LFxuICAgICAgICBpbmRleCA9IF9wcm9wcy5pbmRleCxcbiAgICAgICAgZXhwYW5kSWNvbiA9IF9wcm9wcy5leHBhbmRJY29uLFxuICAgICAgICBjb2x1bW4gPSBfcHJvcHMuY29sdW1uO1xuICAgIHZhciBkYXRhSW5kZXggPSBjb2x1bW4uZGF0YUluZGV4LFxuICAgICAgICByZW5kZXIgPSBjb2x1bW4ucmVuZGVyLFxuICAgICAgICBfY29sdW1uJGNsYXNzTmFtZSA9IGNvbHVtbi5jbGFzc05hbWUsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9jb2x1bW4kY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9jb2x1bW4kY2xhc3NOYW1lO1xuXG4gICAgLy8gV2Ugc2hvdWxkIHJldHVybiB1bmRlZmluZWQgaWYgbm8gZGF0YUluZGV4IGlzIHNwZWNpZmllZCwgYnV0IGluIG9yZGVyIHRvXG4gICAgLy8gYmUgY29tcGF0aWJsZSB3aXRoIG9iamVjdC1wYXRoJ3MgYmVoYXZpb3IsIHdlIHJldHVybiB0aGUgcmVjb3JkIG9iamVjdCBpbnN0ZWFkLlxuXG4gICAgdmFyIHRleHQgPSB2b2lkIDA7XG4gICAgaWYgKHR5cGVvZiBkYXRhSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICB0ZXh0ID0gKDAsIF9sb2Rhc2gyW1wiZGVmYXVsdFwiXSkocmVjb3JkLCBkYXRhSW5kZXgpO1xuICAgIH0gZWxzZSBpZiAoIWRhdGFJbmRleCB8fCBkYXRhSW5kZXgubGVuZ3RoID09PSAwKSB7XG4gICAgICB0ZXh0ID0gcmVjb3JkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0ID0gKDAsIF9sb2Rhc2gyW1wiZGVmYXVsdFwiXSkocmVjb3JkLCBkYXRhSW5kZXgpO1xuICAgIH1cbiAgICB2YXIgdGRQcm9wcyA9IHZvaWQgMDtcbiAgICB2YXIgY29sU3BhbiA9IHZvaWQgMDtcbiAgICB2YXIgcm93U3BhbiA9IHZvaWQgMDtcblxuICAgIGlmIChyZW5kZXIpIHtcbiAgICAgIHRleHQgPSByZW5kZXIodGV4dCwgcmVjb3JkLCBpbmRleCk7XG4gICAgICBpZiAodGhpcy5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSkge1xuICAgICAgICB0ZFByb3BzID0gdGV4dC5wcm9wcyB8fCB7fTtcbiAgICAgICAgcm93U3BhbiA9IHRkUHJvcHMucm93U3BhbjtcbiAgICAgICAgY29sU3BhbiA9IHRkUHJvcHMuY29sU3BhbjtcbiAgICAgICAgdGV4dCA9IHRleHQuY2hpbGRyZW47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzEyMDJcbiAgICBpZiAodGhpcy5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSkge1xuICAgICAgdGV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGluZGVudFRleHQgPSBleHBhbmRJY29uID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBpbmRlbnRTaXplICogaW5kZW50ICsgJ3B4JyB9LFxuICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWluZGVudCBpbmRlbnQtbGV2ZWwtJyArIGluZGVudFxuICAgIH0pIDogbnVsbDtcblxuICAgIGlmIChyb3dTcGFuID09PSAwIHx8IGNvbFNwYW4gPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0ZCcsXG4gICAgICB7XG4gICAgICAgIGNvbFNwYW46IGNvbFNwYW4sXG4gICAgICAgIHJvd1NwYW46IHJvd1NwYW4sXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrXG4gICAgICB9LFxuICAgICAgaW5kZW50VGV4dCxcbiAgICAgIGV4cGFuZEljb24sXG4gICAgICB0ZXh0XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gVGFibGVDZWxsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5UYWJsZUNlbGwucHJvcFR5cGVzID0ge1xuICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGluZGVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBjb2x1bW46IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBleHBhbmRJY29uOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlQ2VsbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUNlbGwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zaGFsbG93ZXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgVGFibGVIZWFkZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGVIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlSGVhZGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIFRhYmxlSGVhZGVyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgcmV0dXJuICEoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpO1xuICB9O1xuXG4gIFRhYmxlSGVhZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHJvd1N0eWxlID0gX3Byb3BzLnJvd1N0eWxlLFxuICAgICAgICByb3dzID0gX3Byb3BzLnJvd3M7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0aGVhZCcsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aGVhZCcgfSxcbiAgICAgIHJvd3MubWFwKGZ1bmN0aW9uIChyb3csIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0cicsXG4gICAgICAgICAgeyBrZXk6IGluZGV4LCBzdHlsZTogcm93U3R5bGUgfSxcbiAgICAgICAgICByb3cubWFwKGZ1bmN0aW9uIChjZWxsUHJvcHMsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCd0aCcsIF9leHRlbmRzKHt9LCBjZWxsUHJvcHMsIHsga2V5OiBpIH0pKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZUhlYWRlcjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuVGFibGVIZWFkZXIucHJvcFR5cGVzID0ge1xuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICByb3dTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHJvd3M6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlSGVhZGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlSGVhZGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfVGFibGVDZWxsID0gcmVxdWlyZSgnLi9UYWJsZUNlbGwnKTtcblxudmFyIF9UYWJsZUNlbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVDZWxsKTtcblxudmFyIF9FeHBhbmRJY29uID0gcmVxdWlyZSgnLi9FeHBhbmRJY29uJyk7XG5cbnZhciBfRXhwYW5kSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbmRJY29uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgVGFibGVSb3cgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGVSb3csIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlUm93KCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVSb3cpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJlZDogZmFsc2VcbiAgICB9LCBfdGhpcy5vblJvd0NsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wcy5yZWNvcmQsXG4gICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wcy5pbmRleCxcbiAgICAgICAgICBvblJvd0NsaWNrID0gX3RoaXMkcHJvcHMub25Sb3dDbGljayxcbiAgICAgICAgICBleHBhbmRhYmxlID0gX3RoaXMkcHJvcHMuZXhwYW5kYWJsZSxcbiAgICAgICAgICBleHBhbmRSb3dCeUNsaWNrID0gX3RoaXMkcHJvcHMuZXhwYW5kUm93QnlDbGljayxcbiAgICAgICAgICBleHBhbmRlZCA9IF90aGlzJHByb3BzLmV4cGFuZGVkLFxuICAgICAgICAgIG9uRXhwYW5kID0gX3RoaXMkcHJvcHMub25FeHBhbmQ7XG5cbiAgICAgIGlmIChleHBhbmRhYmxlICYmIGV4cGFuZFJvd0J5Q2xpY2spIHtcbiAgICAgICAgb25FeHBhbmQoIWV4cGFuZGVkLCByZWNvcmQsIGV2ZW50LCBpbmRleCk7XG4gICAgICB9XG4gICAgICBvblJvd0NsaWNrKHJlY29yZCwgaW5kZXgsIGV2ZW50KTtcbiAgICB9LCBfdGhpcy5vblJvd0RvdWJsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMyLnJlY29yZCxcbiAgICAgICAgICBpbmRleCA9IF90aGlzJHByb3BzMi5pbmRleCxcbiAgICAgICAgICBvblJvd0RvdWJsZUNsaWNrID0gX3RoaXMkcHJvcHMyLm9uUm93RG91YmxlQ2xpY2s7XG5cbiAgICAgIG9uUm93RG91YmxlQ2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuICAgIH0sIF90aGlzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkhvdmVyID0gX3RoaXMkcHJvcHMzLm9uSG92ZXIsXG4gICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczMuaG92ZXJLZXk7XG5cbiAgICAgIG9uSG92ZXIodHJ1ZSwgaG92ZXJLZXkpO1xuICAgIH0sIF90aGlzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBvbkhvdmVyID0gX3RoaXMkcHJvcHM0Lm9uSG92ZXIsXG4gICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczQuaG92ZXJLZXk7XG5cbiAgICAgIG9uSG92ZXIoZmFsc2UsIGhvdmVyS2V5KTtcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHN0b3JlID0gX3Byb3BzLnN0b3JlLFxuICAgICAgICBob3ZlcktleSA9IF9wcm9wcy5ob3ZlcktleTtcblxuICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0b3JlLmdldFN0YXRlKCkuY3VycmVudEhvdmVyS2V5ID09PSBob3ZlcktleSkge1xuICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBob3ZlcmVkOiB0cnVlIH0pO1xuICAgICAgfSBlbHNlIGlmIChfdGhpczIuc3RhdGUuaG92ZXJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBob3ZlcmVkOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZVJvdy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHJlY29yZCA9IF9wcm9wczIucmVjb3JkLFxuICAgICAgICBvbkRlc3Ryb3kgPSBfcHJvcHMyLm9uRGVzdHJveSxcbiAgICAgICAgaW5kZXggPSBfcHJvcHMyLmluZGV4O1xuXG4gICAgb25EZXN0cm95KHJlY29yZCwgaW5kZXgpO1xuICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlUm93LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcbiAgICAgICAgY29sdW1ucyA9IF9wcm9wczMuY29sdW1ucyxcbiAgICAgICAgcmVjb3JkID0gX3Byb3BzMy5yZWNvcmQsXG4gICAgICAgIGhlaWdodCA9IF9wcm9wczMuaGVpZ2h0LFxuICAgICAgICB2aXNpYmxlID0gX3Byb3BzMy52aXNpYmxlLFxuICAgICAgICBpbmRleCA9IF9wcm9wczMuaW5kZXgsXG4gICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IF9wcm9wczMuZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzMy5leHBhbmRJY29uQXNDZWxsLFxuICAgICAgICBleHBhbmRlZCA9IF9wcm9wczMuZXhwYW5kZWQsXG4gICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfcHJvcHMzLmV4cGFuZFJvd0J5Q2xpY2ssXG4gICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMzLmV4cGFuZGFibGUsXG4gICAgICAgIG9uRXhwYW5kID0gX3Byb3BzMy5vbkV4cGFuZCxcbiAgICAgICAgbmVlZEluZGVudFNwYWNlZCA9IF9wcm9wczMubmVlZEluZGVudFNwYWNlZCxcbiAgICAgICAgaW5kZW50ID0gX3Byb3BzMy5pbmRlbnQsXG4gICAgICAgIGluZGVudFNpemUgPSBfcHJvcHMzLmluZGVudFNpemU7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXG5cbiAgICBpZiAodGhpcy5zdGF0ZS5ob3ZlcmVkKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1ob3Zlcic7XG4gICAgfVxuXG4gICAgdmFyIGNlbGxzID0gW107XG5cbiAgICB2YXIgZXhwYW5kSWNvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0V4cGFuZEljb24yW1wiZGVmYXVsdFwiXSwge1xuICAgICAgZXhwYW5kYWJsZTogZXhwYW5kYWJsZSxcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgb25FeHBhbmQ6IG9uRXhwYW5kLFxuICAgICAgbmVlZEluZGVudFNwYWNlZDogbmVlZEluZGVudFNwYWNlZCxcbiAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcbiAgICAgIHJlY29yZDogcmVjb3JkXG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGkgPT09IDApIHtcbiAgICAgICAgY2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0ZCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLWNlbGwnLFxuICAgICAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY2VsbCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGV4cGFuZEljb25cbiAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB2YXIgaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiA9IGV4cGFuZEljb25Bc0NlbGwgfHwgZXhwYW5kUm93QnlDbGljayA/IGZhbHNlIDogaSA9PT0gZXhwYW5kSWNvbkNvbHVtbkluZGV4O1xuICAgICAgY2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZUNlbGwyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgIGluZGVudFNpemU6IGluZGVudFNpemUsXG4gICAgICAgIGluZGVudDogaW5kZW50LFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNvbHVtbjogY29sdW1uc1tpXSxcbiAgICAgICAga2V5OiBjb2x1bW5zW2ldLmtleSxcbiAgICAgICAgZXhwYW5kSWNvbjogaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiA/IGV4cGFuZEljb24gOiBudWxsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IHsgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndHInLFxuICAgICAge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUm93Q2xpY2ssXG4gICAgICAgIG9uRG91YmxlQ2xpY2s6IHRoaXMub25Sb3dEb3VibGVDbGljayxcbiAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uTW91c2VFbnRlcixcbiAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBjbGFzc05hbWUgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWxldmVsLScgKyBpbmRlbnQsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfSxcbiAgICAgIGNlbGxzXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gVGFibGVSb3c7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlUm93LnByb3BUeXBlcyA9IHtcbiAgb25EZXN0cm95OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uUm93Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBvbkhvdmVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIGhlaWdodDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcl0pLFxuICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaG92ZXJLZXk6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBleHBhbmRlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBleHBhbmRhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgbmVlZEluZGVudFNwYWNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBpbmRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgZXhwYW5kSWNvbkFzQ2VsbDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBleHBhbmRSb3dCeUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHN0b3JlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xuVGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xuICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKCkge30sXG4gIG9uUm93RG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uUm93RG91YmxlQ2xpY2soKSB7fSxcbiAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7fSxcblxuICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IDAsXG4gIGV4cGFuZFJvd0J5Q2xpY2s6IGZhbHNlLFxuICBvbkhvdmVyOiBmdW5jdGlvbiBvbkhvdmVyKCkge31cbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlUm93O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlUm93LmpzXG4gKiogbW9kdWxlIGlkID0gMTQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5mdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpIHtcbiAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgZnVuY3Rpb24gc2V0U3RhdGUocGFydGlhbCkge1xuICAgIHN0YXRlID0gX2V4dGVuZHMoe30sIHN0YXRlLCBwYXJ0aWFsKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGlzdGVuZXJzW2ldKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2V0U3RhdGU6IHNldFN0YXRlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL2NyZWF0ZVN0b3JlLmpzXG4gKiogbW9kdWxlIGlkID0gMTQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5tZWFzdXJlU2Nyb2xsYmFyID0gbWVhc3VyZVNjcm9sbGJhcjtcbmV4cG9ydHMuZGVib3VuY2UgPSBkZWJvdW5jZTtcbmV4cG9ydHMud2FybmluZ09uY2UgPSB3YXJuaW5nT25jZTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgc2Nyb2xsYmFyV2lkdGggPSB2b2lkIDA7XG5cbi8vIE1lYXN1cmUgc2Nyb2xsYmFyIHdpZHRoIGZvciBwYWRkaW5nIGJvZHkgZHVyaW5nIG1vZGFsIHNob3cvaGlkZVxudmFyIHNjcm9sbGJhck1lYXN1cmUgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6ICctOTk5OXB4JyxcbiAgd2lkdGg6ICc1MHB4JyxcbiAgaGVpZ2h0OiAnNTBweCcsXG4gIG92ZXJmbG93OiAnc2Nyb2xsJ1xufTtcblxuZnVuY3Rpb24gbWVhc3VyZVNjcm9sbGJhcigpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoc2Nyb2xsYmFyV2lkdGgpIHtcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG4gIH1cbiAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmb3IgKHZhciBzY3JvbGxQcm9wIGluIHNjcm9sbGJhck1lYXN1cmUpIHtcbiAgICBpZiAoc2Nyb2xsYmFyTWVhc3VyZS5oYXNPd25Qcm9wZXJ0eShzY3JvbGxQcm9wKSkge1xuICAgICAgc2Nyb2xsRGl2LnN0eWxlW3Njcm9sbFByb3BdID0gc2Nyb2xsYmFyTWVhc3VyZVtzY3JvbGxQcm9wXTtcbiAgICB9XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICB2YXIgd2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgc2Nyb2xsYmFyV2lkdGggPSB3aWR0aDtcbiAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIGRlYm91bmNlRnVuYygpIHtcbiAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgLy8gaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nXG4gICAgaWYgKGFyZ3NbMF0gJiYgYXJnc1swXS5wZXJzaXN0KSB7XG4gICAgICBhcmdzWzBdLnBlcnNpc3QoKTtcbiAgICB9XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIGlmIChjYWxsTm93KSB7XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgfVxuICBkZWJvdW5jZUZ1bmMuY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH07XG4gIHJldHVybiBkZWJvdW5jZUZ1bmM7XG59XG5cbnZhciB3YXJuZWQgPSB7fTtcbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gIGlmICghd2FybmVkW2Zvcm1hdF0pIHtcbiAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpO1xuICAgIHdhcm5lZFtmb3JtYXRdID0gIWNvbmRpdGlvbjtcbiAgfVxufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi91dGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdG9BcnJheTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmV0ID0gW107XG4gIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0LnB1c2goYyk7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdXRpbC9saWIvQ2hpbGRyZW4vdG9BcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDE0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8qKlxuICogQGlnbm9yZVxuICogc29tZSBrZXktY29kZXMgZGVmaW5pdGlvbiBhbmQgdXRpbHMgZnJvbSBjbG9zdXJlLWxpYnJhcnlcbiAqIEBhdXRob3IgeWltaW5naGVAZ21haWwuY29tXG4gKi9cblxudmFyIEtleUNvZGUgPSB7XG4gIC8qKlxuICAgKiBNQUNfRU5URVJcbiAgICovXG4gIE1BQ19FTlRFUjogMyxcbiAgLyoqXG4gICAqIEJBQ0tTUEFDRVxuICAgKi9cbiAgQkFDS1NQQUNFOiA4LFxuICAvKipcbiAgICogVEFCXG4gICAqL1xuICBUQUI6IDksXG4gIC8qKlxuICAgKiBOVU1MT0NLIG9uIEZGL1NhZmFyaSBNYWNcbiAgICovXG4gIE5VTV9DRU5URVI6IDEyLCAvLyBOVU1MT0NLIG9uIEZGL1NhZmFyaSBNYWNcbiAgLyoqXG4gICAqIEVOVEVSXG4gICAqL1xuICBFTlRFUjogMTMsXG4gIC8qKlxuICAgKiBTSElGVFxuICAgKi9cbiAgU0hJRlQ6IDE2LFxuICAvKipcbiAgICogQ1RSTFxuICAgKi9cbiAgQ1RSTDogMTcsXG4gIC8qKlxuICAgKiBBTFRcbiAgICovXG4gIEFMVDogMTgsXG4gIC8qKlxuICAgKiBQQVVTRVxuICAgKi9cbiAgUEFVU0U6IDE5LFxuICAvKipcbiAgICogQ0FQU19MT0NLXG4gICAqL1xuICBDQVBTX0xPQ0s6IDIwLFxuICAvKipcbiAgICogRVNDXG4gICAqL1xuICBFU0M6IDI3LFxuICAvKipcbiAgICogU1BBQ0VcbiAgICovXG4gIFNQQUNFOiAzMixcbiAgLyoqXG4gICAqIFBBR0VfVVBcbiAgICovXG4gIFBBR0VfVVA6IDMzLCAvLyBhbHNvIE5VTV9OT1JUSF9FQVNUXG4gIC8qKlxuICAgKiBQQUdFX0RPV05cbiAgICovXG4gIFBBR0VfRE9XTjogMzQsIC8vIGFsc28gTlVNX1NPVVRIX0VBU1RcbiAgLyoqXG4gICAqIEVORFxuICAgKi9cbiAgRU5EOiAzNSwgLy8gYWxzbyBOVU1fU09VVEhfV0VTVFxuICAvKipcbiAgICogSE9NRVxuICAgKi9cbiAgSE9NRTogMzYsIC8vIGFsc28gTlVNX05PUlRIX1dFU1RcbiAgLyoqXG4gICAqIExFRlRcbiAgICovXG4gIExFRlQ6IDM3LCAvLyBhbHNvIE5VTV9XRVNUXG4gIC8qKlxuICAgKiBVUFxuICAgKi9cbiAgVVA6IDM4LCAvLyBhbHNvIE5VTV9OT1JUSFxuICAvKipcbiAgICogUklHSFRcbiAgICovXG4gIFJJR0hUOiAzOSwgLy8gYWxzbyBOVU1fRUFTVFxuICAvKipcbiAgICogRE9XTlxuICAgKi9cbiAgRE9XTjogNDAsIC8vIGFsc28gTlVNX1NPVVRIXG4gIC8qKlxuICAgKiBQUklOVF9TQ1JFRU5cbiAgICovXG4gIFBSSU5UX1NDUkVFTjogNDQsXG4gIC8qKlxuICAgKiBJTlNFUlRcbiAgICovXG4gIElOU0VSVDogNDUsIC8vIGFsc28gTlVNX0lOU0VSVFxuICAvKipcbiAgICogREVMRVRFXG4gICAqL1xuICBERUxFVEU6IDQ2LCAvLyBhbHNvIE5VTV9ERUxFVEVcbiAgLyoqXG4gICAqIFpFUk9cbiAgICovXG4gIFpFUk86IDQ4LFxuICAvKipcbiAgICogT05FXG4gICAqL1xuICBPTkU6IDQ5LFxuICAvKipcbiAgICogVFdPXG4gICAqL1xuICBUV086IDUwLFxuICAvKipcbiAgICogVEhSRUVcbiAgICovXG4gIFRIUkVFOiA1MSxcbiAgLyoqXG4gICAqIEZPVVJcbiAgICovXG4gIEZPVVI6IDUyLFxuICAvKipcbiAgICogRklWRVxuICAgKi9cbiAgRklWRTogNTMsXG4gIC8qKlxuICAgKiBTSVhcbiAgICovXG4gIFNJWDogNTQsXG4gIC8qKlxuICAgKiBTRVZFTlxuICAgKi9cbiAgU0VWRU46IDU1LFxuICAvKipcbiAgICogRUlHSFRcbiAgICovXG4gIEVJR0hUOiA1NixcbiAgLyoqXG4gICAqIE5JTkVcbiAgICovXG4gIE5JTkU6IDU3LFxuICAvKipcbiAgICogUVVFU1RJT05fTUFSS1xuICAgKi9cbiAgUVVFU1RJT05fTUFSSzogNjMsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQVxuICAgKi9cbiAgQTogNjUsXG4gIC8qKlxuICAgKiBCXG4gICAqL1xuICBCOiA2NixcbiAgLyoqXG4gICAqIENcbiAgICovXG4gIEM6IDY3LFxuICAvKipcbiAgICogRFxuICAgKi9cbiAgRDogNjgsXG4gIC8qKlxuICAgKiBFXG4gICAqL1xuICBFOiA2OSxcbiAgLyoqXG4gICAqIEZcbiAgICovXG4gIEY6IDcwLFxuICAvKipcbiAgICogR1xuICAgKi9cbiAgRzogNzEsXG4gIC8qKlxuICAgKiBIXG4gICAqL1xuICBIOiA3MixcbiAgLyoqXG4gICAqIElcbiAgICovXG4gIEk6IDczLFxuICAvKipcbiAgICogSlxuICAgKi9cbiAgSjogNzQsXG4gIC8qKlxuICAgKiBLXG4gICAqL1xuICBLOiA3NSxcbiAgLyoqXG4gICAqIExcbiAgICovXG4gIEw6IDc2LFxuICAvKipcbiAgICogTVxuICAgKi9cbiAgTTogNzcsXG4gIC8qKlxuICAgKiBOXG4gICAqL1xuICBOOiA3OCxcbiAgLyoqXG4gICAqIE9cbiAgICovXG4gIE86IDc5LFxuICAvKipcbiAgICogUFxuICAgKi9cbiAgUDogODAsXG4gIC8qKlxuICAgKiBRXG4gICAqL1xuICBROiA4MSxcbiAgLyoqXG4gICAqIFJcbiAgICovXG4gIFI6IDgyLFxuICAvKipcbiAgICogU1xuICAgKi9cbiAgUzogODMsXG4gIC8qKlxuICAgKiBUXG4gICAqL1xuICBUOiA4NCxcbiAgLyoqXG4gICAqIFVcbiAgICovXG4gIFU6IDg1LFxuICAvKipcbiAgICogVlxuICAgKi9cbiAgVjogODYsXG4gIC8qKlxuICAgKiBXXG4gICAqL1xuICBXOiA4NyxcbiAgLyoqXG4gICAqIFhcbiAgICovXG4gIFg6IDg4LFxuICAvKipcbiAgICogWVxuICAgKi9cbiAgWTogODksXG4gIC8qKlxuICAgKiBaXG4gICAqL1xuICBaOiA5MCxcbiAgLyoqXG4gICAqIE1FVEFcbiAgICovXG4gIE1FVEE6IDkxLCAvLyBXSU5fS0VZX0xFRlRcbiAgLyoqXG4gICAqIFdJTl9LRVlfUklHSFRcbiAgICovXG4gIFdJTl9LRVlfUklHSFQ6IDkyLFxuICAvKipcbiAgICogQ09OVEVYVF9NRU5VXG4gICAqL1xuICBDT05URVhUX01FTlU6IDkzLFxuICAvKipcbiAgICogTlVNX1pFUk9cbiAgICovXG4gIE5VTV9aRVJPOiA5NixcbiAgLyoqXG4gICAqIE5VTV9PTkVcbiAgICovXG4gIE5VTV9PTkU6IDk3LFxuICAvKipcbiAgICogTlVNX1RXT1xuICAgKi9cbiAgTlVNX1RXTzogOTgsXG4gIC8qKlxuICAgKiBOVU1fVEhSRUVcbiAgICovXG4gIE5VTV9USFJFRTogOTksXG4gIC8qKlxuICAgKiBOVU1fRk9VUlxuICAgKi9cbiAgTlVNX0ZPVVI6IDEwMCxcbiAgLyoqXG4gICAqIE5VTV9GSVZFXG4gICAqL1xuICBOVU1fRklWRTogMTAxLFxuICAvKipcbiAgICogTlVNX1NJWFxuICAgKi9cbiAgTlVNX1NJWDogMTAyLFxuICAvKipcbiAgICogTlVNX1NFVkVOXG4gICAqL1xuICBOVU1fU0VWRU46IDEwMyxcbiAgLyoqXG4gICAqIE5VTV9FSUdIVFxuICAgKi9cbiAgTlVNX0VJR0hUOiAxMDQsXG4gIC8qKlxuICAgKiBOVU1fTklORVxuICAgKi9cbiAgTlVNX05JTkU6IDEwNSxcbiAgLyoqXG4gICAqIE5VTV9NVUxUSVBMWVxuICAgKi9cbiAgTlVNX01VTFRJUExZOiAxMDYsXG4gIC8qKlxuICAgKiBOVU1fUExVU1xuICAgKi9cbiAgTlVNX1BMVVM6IDEwNyxcbiAgLyoqXG4gICAqIE5VTV9NSU5VU1xuICAgKi9cbiAgTlVNX01JTlVTOiAxMDksXG4gIC8qKlxuICAgKiBOVU1fUEVSSU9EXG4gICAqL1xuICBOVU1fUEVSSU9EOiAxMTAsXG4gIC8qKlxuICAgKiBOVU1fRElWSVNJT05cbiAgICovXG4gIE5VTV9ESVZJU0lPTjogMTExLFxuICAvKipcbiAgICogRjFcbiAgICovXG4gIEYxOiAxMTIsXG4gIC8qKlxuICAgKiBGMlxuICAgKi9cbiAgRjI6IDExMyxcbiAgLyoqXG4gICAqIEYzXG4gICAqL1xuICBGMzogMTE0LFxuICAvKipcbiAgICogRjRcbiAgICovXG4gIEY0OiAxMTUsXG4gIC8qKlxuICAgKiBGNVxuICAgKi9cbiAgRjU6IDExNixcbiAgLyoqXG4gICAqIEY2XG4gICAqL1xuICBGNjogMTE3LFxuICAvKipcbiAgICogRjdcbiAgICovXG4gIEY3OiAxMTgsXG4gIC8qKlxuICAgKiBGOFxuICAgKi9cbiAgRjg6IDExOSxcbiAgLyoqXG4gICAqIEY5XG4gICAqL1xuICBGOTogMTIwLFxuICAvKipcbiAgICogRjEwXG4gICAqL1xuICBGMTA6IDEyMSxcbiAgLyoqXG4gICAqIEYxMVxuICAgKi9cbiAgRjExOiAxMjIsXG4gIC8qKlxuICAgKiBGMTJcbiAgICovXG4gIEYxMjogMTIzLFxuICAvKipcbiAgICogTlVNTE9DS1xuICAgKi9cbiAgTlVNTE9DSzogMTQ0LFxuICAvKipcbiAgICogU0VNSUNPTE9OXG4gICAqL1xuICBTRU1JQ09MT046IDE4NiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBEQVNIXG4gICAqL1xuICBEQVNIOiAxODksIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogRVFVQUxTXG4gICAqL1xuICBFUVVBTFM6IDE4NywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBDT01NQVxuICAgKi9cbiAgQ09NTUE6IDE4OCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBQRVJJT0RcbiAgICovXG4gIFBFUklPRDogMTkwLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFNMQVNIXG4gICAqL1xuICBTTEFTSDogMTkxLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIEFQT1NUUk9QSEVcbiAgICovXG4gIEFQT1NUUk9QSEU6IDE5MiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBTSU5HTEVfUVVPVEVcbiAgICovXG4gIFNJTkdMRV9RVU9URTogMjIyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIE9QRU5fU1FVQVJFX0JSQUNLRVRcbiAgICovXG4gIE9QRU5fU1FVQVJFX0JSQUNLRVQ6IDIxOSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBCQUNLU0xBU0hcbiAgICovXG4gIEJBQ0tTTEFTSDogMjIwLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIENMT1NFX1NRVUFSRV9CUkFDS0VUXG4gICAqL1xuICBDTE9TRV9TUVVBUkVfQlJBQ0tFVDogMjIxLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFdJTl9LRVlcbiAgICovXG4gIFdJTl9LRVk6IDIyNCxcbiAgLyoqXG4gICAqIE1BQ19GRl9NRVRBXG4gICAqL1xuICBNQUNfRkZfTUVUQTogMjI0LCAvLyBGaXJlZm94IChHZWNrbykgZmlyZXMgdGhpcyBmb3IgdGhlIG1ldGEga2V5IGluc3RlYWQgb2YgOTFcbiAgLyoqXG4gICAqIFdJTl9JTUVcbiAgICovXG4gIFdJTl9JTUU6IDIyOVxufTtcblxuLypcbiB3aGV0aGVyIHRleHQgYW5kIG1vZGlmaWVkIGtleSBpcyBlbnRlcmVkIGF0IHRoZSBzYW1lIHRpbWUuXG4gKi9cbktleUNvZGUuaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQgPSBmdW5jdGlvbiBpc1RleHRNb2RpZnlpbmdLZXlFdmVudChlKSB7XG4gIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuICBpZiAoZS5hbHRLZXkgJiYgIWUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHxcbiAgLy8gRnVuY3Rpb24ga2V5cyBkb24ndCBnZW5lcmF0ZSB0ZXh0XG4gIGtleUNvZGUgPj0gS2V5Q29kZS5GMSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuRjEyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGhlIGZvbGxvd2luZyBrZXlzIGFyZSBxdWl0ZSBoYXJtbGVzcywgZXZlbiBpbiBjb21iaW5hdGlvbiB3aXRoXG4gIC8vIENUUkwsIEFMVCBvciBTSElGVC5cbiAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgY2FzZSBLZXlDb2RlLkFMVDpcbiAgICBjYXNlIEtleUNvZGUuQ0FQU19MT0NLOlxuICAgIGNhc2UgS2V5Q29kZS5DT05URVhUX01FTlU6XG4gICAgY2FzZSBLZXlDb2RlLkNUUkw6XG4gICAgY2FzZSBLZXlDb2RlLkRPV046XG4gICAgY2FzZSBLZXlDb2RlLkVORDpcbiAgICBjYXNlIEtleUNvZGUuRVNDOlxuICAgIGNhc2UgS2V5Q29kZS5IT01FOlxuICAgIGNhc2UgS2V5Q29kZS5JTlNFUlQ6XG4gICAgY2FzZSBLZXlDb2RlLkxFRlQ6XG4gICAgY2FzZSBLZXlDb2RlLk1BQ19GRl9NRVRBOlxuICAgIGNhc2UgS2V5Q29kZS5NRVRBOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1MT0NLOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fQ0VOVEVSOlxuICAgIGNhc2UgS2V5Q29kZS5QQUdFX0RPV046XG4gICAgY2FzZSBLZXlDb2RlLlBBR0VfVVA6XG4gICAgY2FzZSBLZXlDb2RlLlBBVVNFOlxuICAgIGNhc2UgS2V5Q29kZS5QUklOVF9TQ1JFRU46XG4gICAgY2FzZSBLZXlDb2RlLlJJR0hUOlxuICAgIGNhc2UgS2V5Q29kZS5TSElGVDpcbiAgICBjYXNlIEtleUNvZGUuVVA6XG4gICAgY2FzZSBLZXlDb2RlLldJTl9LRVk6XG4gICAgY2FzZSBLZXlDb2RlLldJTl9LRVlfUklHSFQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKlxuIHdoZXRoZXIgY2hhcmFjdGVyIGlzIGVudGVyZWQuXG4gKi9cbktleUNvZGUuaXNDaGFyYWN0ZXJLZXkgPSBmdW5jdGlvbiBpc0NoYXJhY3RlcktleShrZXlDb2RlKSB7XG4gIGlmIChrZXlDb2RlID49IEtleUNvZGUuWkVSTyAmJiBrZXlDb2RlIDw9IEtleUNvZGUuTklORSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5OVU1fWkVSTyAmJiBrZXlDb2RlIDw9IEtleUNvZGUuTlVNX01VTFRJUExZKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLkEgJiYga2V5Q29kZSA8PSBLZXlDb2RlLlopIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFNhZmFyaSBzZW5kcyB6ZXJvIGtleSBjb2RlIGZvciBub24tbGF0aW4gY2hhcmFjdGVycy5cbiAgaWYgKHdpbmRvdy5uYXZpZ2F0aW9uLnVzZXJBZ2VudC5pbmRleE9mKCdXZWJLaXQnKSAhPT0gLTEgJiYga2V5Q29kZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgY2FzZSBLZXlDb2RlLlNQQUNFOlxuICAgIGNhc2UgS2V5Q29kZS5RVUVTVElPTl9NQVJLOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fUExVUzpcbiAgICBjYXNlIEtleUNvZGUuTlVNX01JTlVTOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fUEVSSU9EOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fRElWSVNJT046XG4gICAgY2FzZSBLZXlDb2RlLlNFTUlDT0xPTjpcbiAgICBjYXNlIEtleUNvZGUuREFTSDpcbiAgICBjYXNlIEtleUNvZGUuRVFVQUxTOlxuICAgIGNhc2UgS2V5Q29kZS5DT01NQTpcbiAgICBjYXNlIEtleUNvZGUuUEVSSU9EOlxuICAgIGNhc2UgS2V5Q29kZS5TTEFTSDpcbiAgICBjYXNlIEtleUNvZGUuQVBPU1RST1BIRTpcbiAgICBjYXNlIEtleUNvZGUuU0lOR0xFX1FVT1RFOlxuICAgIGNhc2UgS2V5Q29kZS5PUEVOX1NRVUFSRV9CUkFDS0VUOlxuICAgIGNhc2UgS2V5Q29kZS5CQUNLU0xBU0g6XG4gICAgY2FzZSBLZXlDb2RlLkNMT1NFX1NRVUFSRV9CUkFDS0VUOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBLZXlDb2RlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdXRpbC9saWIvS2V5Q29kZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1NlYXJjaC5sZXNzJ1xyXG5pbXBvcnQgeyBJbnB1dCwgU2VsZWN0LCBCdXR0b24sIEljb24gfSBmcm9tICdhbnRkJ1xyXG5cclxuY2xhc3MgU2VhcmNoIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgc3VwZXIocHJvcHMpXHJcbiAgICAgIGNvbnN0IHsgc2VsZWN0LCBzZWxlY3RQcm9wcyB9ID0gdGhpcy5wcm9wc1xyXG4gICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgIGNsZWFyVmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgc2VsZWN0VmFsdWU6IHNlbGVjdCAmJiBzZWxlY3RQcm9wcyA/IHNlbGVjdFByb3BzLmRlZmF1bHRWYWx1ZSA6ICcnXHJcbiAgICAgIH1cclxuICB9XHJcblxyXG5cclxuXHJcbiAgaGFuZGxlU2VhcmNoID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAga2V5d29yZDogUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0KSB7XHJcbiAgICAgIGRhdGEuZmllbGQgPSB0aGlzLnN0YXRlLnNlbGVjdFZhbHVlXHJcbiAgICB9XHJcbiAgICB0aGlzLnByb3BzLm9uU2VhcmNoICYmIHRoaXMucHJvcHMub25TZWFyY2goZGF0YSlcclxuICB9XHJcbiAgaGFuZGxlSW5wdXRDaGFuZ2UgPSBlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAuLi50aGlzLnN0YXRlLFxyXG4gICAgICBjbGVhclZpc2libGU6IGUudGFyZ2V0LnZhbHVlICE9PSAnJ1xyXG4gICAgfSlcclxuICB9XHJcbiAgaGFuZGVsZVNlbGVjdENoYW5nZSA9IHZhbHVlID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAuLi50aGlzLnN0YXRlLFxyXG4gICAgICBzZWxlY3RWYWx1ZTogdmFsdWVcclxuICAgIH0pXHJcbiAgfVxyXG4gIGhhbmRsZUNsZWFySW5wdXQgPSAoKSA9PiB7XHJcbiAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpLnZhbHVlID0gJydcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjbGVhclZpc2libGU6IGZhbHNlXHJcbiAgICB9KVxyXG4gICAgdGhpcy5oYW5kbGVTZWFyY2goKVxyXG4gIH1cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3Qge3NpemUsIHNlbGVjdCwgc2VsZWN0T3B0aW9ucywgc2VsZWN0UHJvcHMsIHN0eWxlLCBrZXl3b3JkfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHtjbGVhclZpc2libGV9ID0gdGhpcy5zdGF0ZVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPElucHV0Lkdyb3VwIGNvbXBhY3Qgc2l6ZT17c2l6ZX0gY2xhc3NOYW1lPXtzdHlsZXMuc2VhcmNofSBzdHlsZT17c3R5bGV9PlxyXG4gICAgICAgIHtzZWxlY3QgJiYgPFNlbGVjdCByZWY9J3NlYXJjaFNlbGVjdCcgb25DaGFuZ2U9e3RoaXMuaGFuZGVsZVNlbGVjdENoYW5nZX0gc2l6ZT17c2l6ZX0gey4uLnNlbGVjdFByb3BzfT5cclxuICAgICAgICAgIHtzZWxlY3RPcHRpb25zICYmIHNlbGVjdE9wdGlvbnMubWFwKChpdGVtLCBrZXkpID0+IDxTZWxlY3QuT3B0aW9uIHZhbHVlPXtpdGVtLnZhbHVlfSBrZXk9e2tleX0+e2l0ZW0ubmFtZSB8fCBpdGVtLnZhbHVlfTwvU2VsZWN0Lk9wdGlvbj4pfVxyXG4gICAgICAgIDwvU2VsZWN0Pn1cclxuICAgICAgICA8SW5wdXQgcmVmPSdzZWFyY2hJbnB1dCcgc2l6ZT17c2l6ZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2V9IG9uUHJlc3NFbnRlcj17dGhpcy5oYW5kbGVTZWFyY2h9IGRlZmF1bHRWYWx1ZT17a2V5d29yZH0vPlxyXG4gICAgICAgIDxCdXR0b24gc2l6ZT17c2l6ZX0gdHlwZT0ncHJpbWFyeScgb25DbGljaz17dGhpcy5oYW5kbGVTZWFyY2h9PjxJY29uIHR5cGU9XCJzZWFyY2hcIiAvPuaQnOe0ojwvQnV0dG9uPlxyXG4gICAgICAgIHtjbGVhclZpc2libGUgJiYgPEljb24gdHlwZT0nY3Jvc3MnIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xlYXJJbnB1dH0gLz59XHJcbiAgICAgIDwvSW5wdXQuR3JvdXA+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBUd2Vlbk9uZUdyb3VwIH0gZnJvbSAncmMtdHdlZW4tb25lJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vVGFibGVCb2R5V3JhcHBlci5sZXNzJ1xyXG5cclxuY29uc3QgZW50ZXJBbmltID0gW1xyXG4gIHtcclxuICAgIG9wYWNpdHk6IDAsXHJcbiAgICB4OiAzMCxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZlZWUnLFxyXG4gICAgZHVyYXRpb246IDBcclxuICB9LCB7XHJcbiAgICBoZWlnaHQ6IDAsXHJcbiAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgdHlwZTogJ2Zyb20nLFxyXG4gICAgZGVsYXk6IDI1MCxcclxuICAgIGVhc2U6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICBvbkNvbXBsZXRlOiAoZSkgPT4ge1xyXG4gICAgICBlLnRhcmdldC5zdHlsZS5oZWlnaHQgPSAnYXV0bydcclxuICAgIH0sXHJcbiAgfSwge1xyXG4gICAgb3BhY2l0eTogMSxcclxuICAgIHg6IDAsXHJcbiAgICBkdXJhdGlvbjogMjUwLFxyXG4gICAgZWFzZTogJ2Vhc2VPdXRRdWFkJ1xyXG4gIH0sIHtcclxuICAgIGRlbGF5OiAxMDAwLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZidcclxuICB9XHJcbl1cclxuXHJcbmNvbnN0IGxlYXZlQW5pbSA9IFtcclxuICB7XHJcbiAgICBkdXJhdGlvbjogMjUwLFxyXG4gICAgeDogLTMwLFxyXG4gICAgb3BhY2l0eTogMFxyXG4gIH0sIHtcclxuICAgIGhlaWdodDogMCxcclxuICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICBlYXNlOiAnZWFzZU91dFF1YWQnXHJcbiAgfVxyXG5dXHJcblxyXG5jb25zdCBUYWJsZUJvZHlXcmFwcGVyID0gKHsgYm9keSwgcGFnZSA9IDEsIGN1cnJlbnQgfSkgPT4ge1xyXG5cclxuICAvLyDliIfmjaLliIbpobXljrvpmaTliqjnlLs7XHJcbiAgaWYoY3VycmVudCAhPSArcGFnZSkge1xyXG4gICAgcmV0dXJuIGJvZHlcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8VHdlZW5PbmVHcm91cFxyXG4gICAgY29tcG9uZW50PVwidGJvZHlcIlxyXG4gICAgY2xhc3NOYW1lPXtib2R5LnByb3BzLmNsYXNzTmFtZX1cclxuICAgIGVudGVyPXtlbnRlckFuaW19XHJcbiAgICBsZWF2ZT17bGVhdmVBbmltfVxyXG4gICAgYXBwZWFyPXtmYWxzZX0+XHJcbiAgICAgIHtib2R5LnByb3BzLmNoaWxkcmVufVxyXG4gICAgPC9Ud2Vlbk9uZUdyb3VwPlxyXG4gIClcclxufVxyXG5cclxuVGFibGVCb2R5V3JhcHBlci5wcm9wVHlwZXMgPSB7XHJcbiAgcGFnZTogUHJvcFR5cGVzLmFueSxcclxuICBjdXJyZW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGFibGVCb2R5V3JhcHBlclxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL2NvbW1vbi9UYWJsZUJvZHlXcmFwcGVyLmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLyogZ2xvYmFscyBTeW1ib2w6IHRydWUsIFVpbnQ4QXJyYXk6IHRydWUsIFdlYWtNYXA6IHRydWUgKi9cbi8qIVxuICogZGVlcC1lcWxcbiAqIENvcHlyaWdodChjKSAyMDEzIEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyohXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG4gKi9cblxudmFyIHR5cGUgPSByZXF1aXJlKCd0eXBlLWRldGVjdCcpO1xuZnVuY3Rpb24gRmFrZU1hcCgpIHtcbiAgdGhpcy5jbGVhcigpO1xufVxuRmFrZU1hcC5wcm90b3R5cGUgPSB7XG4gIGNsZWFyOiBmdW5jdGlvbiBjbGVhck1hcCgpIHtcbiAgICB0aGlzLmtleXMgPSBbXTtcbiAgICB0aGlzLnZhbHVlcyA9IFtdO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldE1hcChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG4gICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gZ2V0TWFwKGtleSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlc1t0aGlzLmtleXMuaW5kZXhPZihrZXkpXTtcbiAgfSxcbiAgZGVsZXRlOiBmdW5jdGlvbiBkZWxldGVNYXAoa2V5KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy52YWx1ZXMgPSB0aGlzLnZhbHVlcy5zbGljZSgwLCBpbmRleCkuY29uY2F0KHRoaXMudmFsdWVzLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgICAgdGhpcy5rZXlzID0gdGhpcy5rZXlzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy5rZXlzLnNsaWNlKGluZGV4ICsgMSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbn07XG5cbnZhciBNZW1vaXplTWFwID0gbnVsbDtcbmlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICBNZW1vaXplTWFwID0gV2Vha01hcDtcbn0gZWxzZSB7XG4gIE1lbW9pemVNYXAgPSBGYWtlTWFwO1xufVxuXG4vKiFcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgTWVtb2l6ZU1hcCBoYXMgcmVjb3JkZWQgYSByZXN1bHQgb2YgdGhlIHR3byBvcGVyYW5kc1xuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG4gKiBAcmV0dXJucyB7Qm9vbGVhbnxudWxsfSByZXN1bHRcbiovXG5mdW5jdGlvbiBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXApIHtcbiAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBsZWZ0SGFuZE1hcCA9IG1lbW9pemVNYXAuZ2V0KGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZE1hcCkge1xuICAgIHZhciByZXN1bHQgPSBsZWZ0SGFuZE1hcC5nZXQocmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qIVxuICogU2V0IHRoZSByZXN1bHQgb2YgdGhlIGVxdWFsaXR5IGludG8gdGhlIE1lbW9pemVNYXBcbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuICogQHBhcmFtIHtCb29sZWFufSByZXN1bHRcbiovXG5mdW5jdGlvbiBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbWVtb2l6ZU1hcCwgcmVzdWx0KSB7XG4gIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cbiAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kTWFwKSB7XG4gICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgbGVmdEhhbmRNYXAgPSBuZXcgTWVtb2l6ZU1hcCgpO1xuICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuICAgIG1lbW9pemVNYXAuc2V0KGxlZnRIYW5kT3BlcmFuZCwgbGVmdEhhbmRNYXApO1xuICB9XG59XG5cbi8qIVxuICogUHJpbWFyeSBFeHBvcnRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBFcXVhbDtcbm1vZHVsZS5leHBvcnRzLk1lbW9pemVNYXAgPSBNZW1vaXplTWFwO1xuXG4vKipcbiAqIEFzc2VydCBkZWVwbHkgbmVzdGVkIHNhbWVWYWx1ZSBlcXVhbGl0eSBiZXR3ZWVuIHR3byBvYmplY3RzIG9mIGFueSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG4gICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG4gICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG4gKi9cbmZ1bmN0aW9uIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgLy8gSWYgd2UgaGF2ZSBhIGNvbXBhcmF0b3IsIHdlIGNhbid0IGFzc3VtZSBhbnl0aGluZzsgc28gYmFpbCB0byBpdHMgY2hlY2sgZmlyc3QuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcikge1xuICAgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcbiAgfVxuXG4gIC8vIERlZXBlciBjb21wYXJpc29ucyBhcmUgcHVzaGVkIHRocm91Z2ggdG8gYSBsYXJnZXIgZnVuY3Rpb25cbiAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIE1hbnkgY29tcGFyaXNvbnMgY2FuIGJlIGNhbmNlbGVkIG91dCBlYXJseSB2aWEgc2ltcGxlIGVxdWFsaXR5IG9yIHByaW1pdGl2ZSBjaGVja3MuXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEByZXR1cm4ge0Jvb2xlYW58bnVsbH0gZXF1YWwgbWF0Y2hcbiAqL1xuZnVuY3Rpb24gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG4gIC8vIEVxdWFsIHJlZmVyZW5jZXMgKGV4Y2VwdCBmb3IgTnVtYmVycykgY2FuIGJlIHJldHVybmVkIGVhcmx5XG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQgPT09IHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgICAvLyBIYW5kbGUgKy0wIGNhc2VzXG4gICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCAhPT0gMCB8fCAxIC8gbGVmdEhhbmRPcGVyYW5kID09PSAxIC8gcmlnaHRIYW5kT3BlcmFuZDtcbiAgfVxuXG4gIC8vIGhhbmRsZSBOYU4gY2FzZXNcbiAgaWYgKFxuICAgIGxlZnRIYW5kT3BlcmFuZCAhPT0gbGVmdEhhbmRPcGVyYW5kICYmIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgcmlnaHRIYW5kT3BlcmFuZCAhPT0gcmlnaHRIYW5kT3BlcmFuZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFueXRoaW5nIHRoYXQgaXMgbm90IGFuICdvYmplY3QnLCBpLmUuIHN5bWJvbHMsIGZ1bmN0aW9ucywgYm9vbGVhbnMsIG51bWJlcnMsXG4gIC8vIHN0cmluZ3MsIGFuZCB1bmRlZmluZWQsIGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UuXG4gIGlmIChpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgLy8gRWFzeSBvdXQgYi9jIGl0IHdvdWxkIGhhdmUgcGFzc2VkIHRoZSBmaXJzdCBlcXVhbGl0eSBjaGVja1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyohXG4gKiBUaGUgbWFpbiBsb2dpYyBvZiB0aGUgYGRlZXBFcXVhbGAgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2ZcbiAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcbiAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcbiovXG5mdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLm1lbW9pemUgPSBvcHRpb25zLm1lbW9pemUgPT09IGZhbHNlID8gZmFsc2UgOiBvcHRpb25zLm1lbW9pemUgfHwgbmV3IE1lbW9pemVNYXAoKTtcbiAgdmFyIGNvbXBhcmF0b3IgPSBvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcjtcblxuICAvLyBDaGVjayBpZiBhIG1lbW9pemVkIHJlc3VsdCBleGlzdHMuXG4gIHZhciBtZW1vaXplUmVzdWx0TGVmdCA9IG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcbiAgaWYgKG1lbW9pemVSZXN1bHRMZWZ0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIG1lbW9pemVSZXN1bHRMZWZ0O1xuICB9XG4gIHZhciBtZW1vaXplUmVzdWx0UmlnaHQgPSBtZW1vaXplQ29tcGFyZShyaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG4gIGlmIChtZW1vaXplUmVzdWx0UmlnaHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdFJpZ2h0O1xuICB9XG5cbiAgLy8gSWYgYSBjb21wYXJhdG9yIGlzIHByZXNlbnQsIHVzZSBpdC5cbiAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgY29tcGFyYXRvclJlc3VsdCA9IGNvbXBhcmF0b3IobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICAvLyBDb21wYXJhdG9ycyBtYXkgcmV0dXJuIG51bGwsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBnbyBiYWNrIHRvIGRlZmF1bHQgYmVoYXZpb3IuXG4gICAgaWYgKGNvbXBhcmF0b3JSZXN1bHQgPT09IGZhbHNlIHx8IGNvbXBhcmF0b3JSZXN1bHQgPT09IHRydWUpIHtcbiAgICAgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIGNvbXBhcmF0b3JSZXN1bHQpO1xuICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQ7XG4gICAgfVxuICAgIC8vIFRvIGFsbG93IGNvbXBhcmF0b3JzIHRvIG92ZXJyaWRlICphbnkqIGJlaGF2aW9yLCB3ZSByYW4gdGhlbSBmaXJzdC4gU2luY2UgaXQgZGlkbid0IGRlY2lkZVxuICAgIC8vIHdoYXQgdG8gZG8sIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvIHJldHVybiB0aGUgYmFzaWMgdGVzdHMgZmlyc3QgYmVmb3JlIHdlIG1vdmUgb24uXG4gICAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgaWYgKHNpbXBsZVJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgLy8gRG9uJ3QgbWVtb2l6ZSB0aGlzLCBpdCB0YWtlcyBsb25nZXIgdG8gc2V0L3JldHJpZXZlIHRoYW4gdG8ganVzdCBjb21wYXJlLlxuICAgICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcbiAgICB9XG4gIH1cblxuICB2YXIgbGVmdEhhbmRUeXBlID0gdHlwZShsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRUeXBlICE9PSB0eXBlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgZmFsc2UpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlbXBvcmFyaWx5IHNldCB0aGUgb3BlcmFuZHMgaW4gdGhlIG1lbW9pemUgb2JqZWN0IHRvIHByZXZlbnQgYmxvd2luZyB0aGUgc3RhY2tcbiAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgdHJ1ZSk7XG5cbiAgdmFyIHJlc3VsdCA9IGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucyk7XG4gIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucykge1xuICBzd2l0Y2ggKGxlZnRIYW5kVHlwZSkge1xuICAgIGNhc2UgJ1N0cmluZyc6XG4gICAgY2FzZSAnTnVtYmVyJzpcbiAgICBjYXNlICdCb29sZWFuJzpcbiAgICBjYXNlICdEYXRlJzpcbiAgICAgIC8vIElmIHRoZXNlIHR5cGVzIGFyZSB0aGVpciBpbnN0YW5jZSB0eXBlcyAoZS5nLiBgbmV3IE51bWJlcmApIHRoZW4gcmUtZGVlcEVxdWFsIGFnYWluc3QgdGhlaXIgdmFsdWVzXG4gICAgICByZXR1cm4gZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZC52YWx1ZU9mKCksIHJpZ2h0SGFuZE9wZXJhbmQudmFsdWVPZigpKTtcbiAgICBjYXNlICdQcm9taXNlJzpcbiAgICBjYXNlICdTeW1ib2wnOlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICBjYXNlICdXZWFrTWFwJzpcbiAgICBjYXNlICdXZWFrU2V0JzpcbiAgICBjYXNlICdFcnJvcic6XG4gICAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kO1xuICAgIGNhc2UgJ0FyZ3VtZW50cyc6XG4gICAgY2FzZSAnSW50OEFycmF5JzpcbiAgICBjYXNlICdVaW50OEFycmF5JzpcbiAgICBjYXNlICdVaW50OENsYW1wZWRBcnJheSc6XG4gICAgY2FzZSAnSW50MTZBcnJheSc6XG4gICAgY2FzZSAnVWludDE2QXJyYXknOlxuICAgIGNhc2UgJ0ludDMyQXJyYXknOlxuICAgIGNhc2UgJ1VpbnQzMkFycmF5JzpcbiAgICBjYXNlICdGbG9hdDMyQXJyYXknOlxuICAgIGNhc2UgJ0Zsb2F0NjRBcnJheSc6XG4gICAgY2FzZSAnQXJyYXknOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdSZWdFeHAnOlxuICAgICAgcmV0dXJuIHJlZ2V4cEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgY2FzZSAnR2VuZXJhdG9yJzpcbiAgICAgIHJldHVybiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ0RhdGFWaWV3JzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZC5idWZmZXIpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kLmJ1ZmZlciksIG9wdGlvbnMpO1xuICAgIGNhc2UgJ0FycmF5QnVmZmVyJzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZCksIG5ldyBVaW50OEFycmF5KHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcbiAgICBjYXNlICdTZXQnOlxuICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ01hcCc6XG4gICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBvYmplY3RFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICB9XG59XG5cbi8qIVxuICogQ29tcGFyZSB0d28gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgZXF1YWxpdHkuXG4gKlxuICogQHBhcmFtIHtSZWdFeHB9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtSZWdFeHB9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIHJlZ2V4cEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kLnRvU3RyaW5nKCkgPT09IHJpZ2h0SGFuZE9wZXJhbmQudG9TdHJpbmcoKTtcbn1cblxuLyohXG4gKiBDb21wYXJlIHR3byBTZXRzL01hcHMgZm9yIGVxdWFsaXR5LiBGYXN0ZXIgdGhhbiBvdGhlciBlcXVhbGl0eSBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtTZXR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtTZXR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBTZXQjZW50cmllcyBvciBTZXQjQEBpdGVyYXRvciwgc28gd2UgbmVlZCBtYW51YWxseSBwb3B1bGF0ZSB1c2luZyBTZXQjZm9yRWFjaFxuICBpZiAobGVmdEhhbmRPcGVyYW5kLnNpemUgIT09IHJpZ2h0SGFuZE9wZXJhbmQuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGVmdEhhbmRPcGVyYW5kLnNpemUgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgbGVmdEhhbmRJdGVtcyA9IFtdO1xuICB2YXIgcmlnaHRIYW5kSXRlbXMgPSBbXTtcbiAgbGVmdEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG4gICAgbGVmdEhhbmRJdGVtcy5wdXNoKFsga2V5LCB2YWx1ZSBdKTtcbiAgfSk7XG4gIHJpZ2h0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcbiAgICByaWdodEhhbmRJdGVtcy5wdXNoKFsga2V5LCB2YWx1ZSBdKTtcbiAgfSk7XG4gIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kSXRlbXMuc29ydCgpLCByaWdodEhhbmRJdGVtcy5zb3J0KCksIG9wdGlvbnMpO1xufVxuXG4vKiFcbiAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZmxhdCBpdGVyYWJsZSBvYmplY3RzIHN1Y2ggYXMgQXJyYXlzLCBUeXBlZEFycmF5cyBvciBOb2RlLmpzIGJ1ZmZlcnMuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHZhciBsZW5ndGggPSBsZWZ0SGFuZE9wZXJhbmQubGVuZ3RoO1xuICBpZiAobGVuZ3RoICE9PSByaWdodEhhbmRPcGVyYW5kLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGluZGV4ID0gLTE7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRbaW5kZXhdLCByaWdodEhhbmRPcGVyYW5kW2luZGV4XSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKiFcbiAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZ2VuZXJhdG9yIG9iamVjdHMgc3VjaCBhcyB0aG9zZSByZXR1cm5lZCBieSBnZW5lcmF0b3IgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwoZ2V0R2VuZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpLCBnZXRHZW5lcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcbn1cblxuLyohXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgYW4gQEBpdGVyYXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBoYXMgYW4gQEBpdGVyYXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB0YXJnZXRbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBpdGVyYXRvciBlbnRyaWVzIGZyb20gdGhlIGdpdmVuIE9iamVjdC4gSWYgdGhlIE9iamVjdCBoYXMgbm8gQEBpdGVyYXRvciBmdW5jdGlvbiwgcmV0dXJucyBhbiBlbXB0eSBhcnJheS5cbiAqIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBpdGVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzIGRlcGVuZGluZyBvbiB0aGUgQEBpdGVyYXRvciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgQEBpdGVyYXRvciBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckVudHJpZXModGFyZ2V0KSB7XG4gIGlmIChoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGdldEdlbmVyYXRvckVudHJpZXModGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0oKSk7XG4gICAgfSBjYXRjaCAoaXRlcmF0b3JFcnJvcikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW107XG59XG5cbi8qIVxuICogR2V0cyBhbGwgZW50cmllcyBmcm9tIGEgR2VuZXJhdG9yLiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgZ2VuZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gKlxuICogQHBhcmFtIHtHZW5lcmF0b3J9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEdlbmVyYXRvci5cbiAqL1xuZnVuY3Rpb24gZ2V0R2VuZXJhdG9yRW50cmllcyhnZW5lcmF0b3IpIHtcbiAgdmFyIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG4gIHZhciBhY2N1bXVsYXRvciA9IFsgZ2VuZXJhdG9yUmVzdWx0LnZhbHVlIF07XG4gIHdoaWxlIChnZW5lcmF0b3JSZXN1bHQuZG9uZSA9PT0gZmFsc2UpIHtcbiAgICBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuICAgIGFjY3VtdWxhdG9yLnB1c2goZ2VuZXJhdG9yUmVzdWx0LnZhbHVlKTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qIVxuICogR2V0cyBhbGwgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gYSB0YXJnZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSB0aGUgdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlS2V5cyh0YXJnZXQpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG4vKiFcbiAqIERldGVybWluZXMgaWYgdHdvIG9iamVjdHMgaGF2ZSBtYXRjaGluZyB2YWx1ZXMsIGdpdmVuIGEgc2V0IG9mIGtleXMuIERlZmVycyB0byBkZWVwRXF1YWwgZm9yIHRoZSBlcXVhbGl0eSBjaGVjayBvZlxuICogZWFjaCBrZXkuIElmIGFueSB2YWx1ZSBvZiB0aGUgZ2l2ZW4ga2V5IGlzIG5vdCBlcXVhbCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZhbHNlIChlYXJseSkuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBrZXlzIEFuIGFycmF5IG9mIGtleXMgdG8gY29tcGFyZSB0aGUgdmFsdWVzIG9mIGxlZnRIYW5kT3BlcmFuZCBhbmQgcmlnaHRIYW5kT3BlcmFuZCBhZ2FpbnN0XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5mdW5jdGlvbiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBrZXlzLCBvcHRpb25zKSB7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgcmlnaHRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKiFcbiAqIFJlY3Vyc2l2ZWx5IGNoZWNrIHRoZSBlcXVhbGl0eSBvZiB0d28gT2JqZWN0cy4gT25jZSBiYXNpYyBzYW1lbmVzcyBoYXMgYmVlbiBlc3RhYmxpc2hlZCBpdCB3aWxsIGRlZmVyIHRvIGBkZWVwRXF1YWxgXG4gKiBmb3IgZWFjaCBlbnVtZXJhYmxlIGtleSBpbiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBvYmplY3RFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlZnRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKGxlZnRIYW5kT3BlcmFuZCk7XG4gIHZhciByaWdodEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMocmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZEtleXMubGVuZ3RoICYmIGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IHJpZ2h0SGFuZEtleXMubGVuZ3RoKSB7XG4gICAgbGVmdEhhbmRLZXlzLnNvcnQoKTtcbiAgICByaWdodEhhbmRLZXlzLnNvcnQoKTtcbiAgICBpZiAoaXRlcmFibGVFcXVhbChsZWZ0SGFuZEtleXMsIHJpZ2h0SGFuZEtleXMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRLZXlzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHZhciBsZWZ0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMobGVmdEhhbmRPcGVyYW5kKTtcbiAgdmFyIHJpZ2h0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZEVudHJpZXMubGVuZ3RoICYmIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoKSB7XG4gICAgbGVmdEhhbmRFbnRyaWVzLnNvcnQoKTtcbiAgICByaWdodEhhbmRFbnRyaWVzLnNvcnQoKTtcbiAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEVudHJpZXMsIHJpZ2h0SGFuZEVudHJpZXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcbiAgICAgIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IDAgJiZcbiAgICAgIHJpZ2h0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG4gICAgICByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKiFcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBwcmltaXRpdmUuXG4gKlxuICogVGhpcyBpbnRlbnRpb25hbGx5IHJldHVybnMgdHJ1ZSBmb3IgYWxsIG9iamVjdHMgdGhhdCBjYW4gYmUgY29tcGFyZWQgYnkgcmVmZXJlbmNlLFxuICogaW5jbHVkaW5nIGZ1bmN0aW9ucyBhbmQgc3ltYm9scy5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZGVlcC1lcWwvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VhcmNoXCI6XCJzZWFyY2hfX19wMDRLTlwifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1NlYXJjaC5sZXNzXG4gKiogbW9kdWxlIGlkID0gMTU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IGpsanNqIG9uIDE2LzEvMjcuXG4gKi9cblxuXG52YXIgX2Vhc2luZyA9IHJlcXVpcmUoJy4vZWFzaW5nJyk7XG5cbnZhciBfZWFzaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Vhc2luZyk7XG5cbnZhciBfcGx1Z2lucyA9IHJlcXVpcmUoJy4vcGx1Z2lucycpO1xuXG52YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cbnZhciBfU3R5bGVQbHVnaW4gPSByZXF1aXJlKCcuL3BsdWdpbi9TdHlsZVBsdWdpbicpO1xuXG52YXIgX1N0eWxlUGx1Z2luMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N0eWxlUGx1Z2luKTtcblxudmFyIF9zdHlsZVV0aWxzID0gcmVxdWlyZSgnc3R5bGUtdXRpbHMnKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsLmpzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgREVGQVVMVF9FQVNJTkcgPSAnZWFzZUluT3V0UXVhZCc7XG52YXIgREVGQVVMVF9EVVJBVElPTiA9IDQ1MDtcbnZhciBERUZBVUxUX0RFTEFZID0gMDtcbmZ1bmN0aW9uIG5vb3AoKSB7fVxuX3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5wdXNoKF9TdHlsZVBsdWdpbjJbXCJkZWZhdWx0XCJdKTtcbi8vIOiuvue9rum7mOiupOaVsOaNrlxuZnVuY3Rpb24gZGVmYXVsdERhdGEodmFycywgbm93KSB7XG4gIHJldHVybiB7XG4gICAgZHVyYXRpb246IHZhcnMuZHVyYXRpb24gfHwgdmFycy5kdXJhdGlvbiA9PT0gMCA/IHZhcnMuZHVyYXRpb24gOiBERUZBVUxUX0RVUkFUSU9OLFxuICAgIGRlbGF5OiB2YXJzLmRlbGF5IHx8IERFRkFVTFRfREVMQVksXG4gICAgZWFzZTogdHlwZW9mIHZhcnMuZWFzZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhcnMuZWFzZSA6IF9lYXNpbmcyW1wiZGVmYXVsdFwiXVt2YXJzLmVhc2UgfHwgREVGQVVMVF9FQVNJTkddLFxuICAgIG9uVXBkYXRlOiB2YXJzLm9uVXBkYXRlIHx8IG5vb3AsXG4gICAgb25Db21wbGV0ZTogdmFycy5vbkNvbXBsZXRlIHx8IG5vb3AsXG4gICAgb25TdGFydDogdmFycy5vblN0YXJ0IHx8IG5vb3AsXG4gICAgb25SZXBlYXQ6IHZhcnMub25SZXBlYXQgfHwgbm9vcCxcbiAgICByZXBlYXQ6IHZhcnMucmVwZWF0IHx8IDAsXG4gICAgcmVwZWF0RGVsYXk6IHZhcnMucmVwZWF0RGVsYXkgfHwgMCxcbiAgICB5b3lvOiB2YXJzLnlveW8gfHwgZmFsc2UsXG4gICAgdHlwZTogdmFycy50eXBlIHx8ICd0bycsXG4gICAgaW5pdFRpbWU6IG5vdyxcbiAgICBhcHBlYXJUbzogdHlwZW9mIHZhcnMuYXBwZWFyVG8gPT09ICdudW1iZXInID8gdmFycy5hcHBlYXJUbyA6IG51bGxcbiAgfTtcbn1cblxudmFyIHRpbWVMaW5lID0gZnVuY3Rpb24gdGltZUxpbmUodGFyZ2V0LCB0b0RhdGEsIHByb3BzKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuYXR0ciA9IHByb3BzLmF0dHIgfHwgJ3N0eWxlJztcbiAgdGhpcy53aWxsQ2hhbmdlID0gcHJvcHMud2lsbENoYW5nZTtcbiAgLy8g6K6w5b2V5oC75pe26Ze0O1xuICB0aGlzLnRvdGFsVGltZSA9IDA7XG4gIC8vIOiusOW9leW9k+WJjeaXtumXtDtcbiAgdGhpcy5wcm9ncmVzc1RpbWUgPSAwO1xuICAvLyDorrDlvZXml7bpl7TovbTmlbDmja47XG4gIHRoaXMuZGVmYXVsdERhdGEgPSBbXTtcbiAgLy8g5q+P5Liq55qE5byA5aeL5pWw5o2u77ybXG4gIHRoaXMuc3RhcnQgPSB7fTtcbiAgLy8g6K6w5b2V5Yqo55S75byA5aeLO1xuICB0aGlzLm9uU3RhcnQgPSB7fTtcbiAgLy8g5byA5aeL6buY6K6k55qE5pWw5o2u77ybXG4gIHRoaXMuc3RhcnREZWZhdWx0RGF0YSA9IHt9O1xuICB2YXIgZGF0YSA9IFtdO1xuICB0b0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHZhciBfZCA9IF9leHRlbmRzKHt9LCBkKTtcbiAgICBpZiAoX3RoaXMuYXR0ciA9PT0gJ3N0eWxlJykge1xuICAgICAgZGF0YVtpXSA9IHt9O1xuICAgICAgT2JqZWN0LmtleXMoX2QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkge1xuICAgICAgICAgIGRhdGFbaV1ba2V5XSA9IF9kW2tleV07XG4gICAgICAgICAgZGVsZXRlIF9kW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGF0YVtpXS5zdHlsZSA9IF9kO1xuICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YS5zdHlsZSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgfSBlbHNlIGlmIChfdGhpcy5hdHRyID09PSAnYXR0cicpIHtcbiAgICAgIE9iamVjdC5rZXlzKF9kKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3N0eWxlJyAmJiBBcnJheS5pc0FycmF5KGRba2V5XSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0eWxlIHNob3VsZCBiZSB0aGUgb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG4gICAgICAgICAgX2Quc3R5bGUgPSBfZXh0ZW5kcyh7fSwgX2Quc3R5bGUsIHsgYmV6aWVyOiBfZFtrZXldIH0pO1xuICAgICAgICAgIGRlbGV0ZSBfZFtrZXldO1xuICAgICAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGFba2V5XSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYXRhW2ldID0gX2Q7XG4gICAgfVxuICB9KTtcbiAgLy8g5Yqo55S76L+H56iLXG4gIHRoaXMudHdlZW4gPSB7fTtcbiAgLy8g5q+P5bin55qE5pe26Ze0O1xuICB0aGlzLnBlckZyYW1lID0gTWF0aC5yb3VuZCgxMDAwIC8gNjApO1xuICAvLyDms6jlhozvvIznrKzkuIDmrKHov5vlhaXmiafooYzms6jlhoxcbiAgdGhpcy5yZWdpc3RlciA9IGZhbHNlO1xuICAvLyDnvJPliqjmnIDlsI/lgLw7XG4gIHRoaXMudGlueU51bSA9IDAuMDAwMDAwMDAwMTtcbiAgLy8g6K6+572u6buY6K6k5Yqo55S75pWw5o2uO1xuICB0aGlzLnNldERlZmF1bHREYXRhKGRhdGEpO1xufTtcbnZhciBwID0gdGltZUxpbmUucHJvdG90eXBlO1xuXG5wLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKF92YXJzKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHZhciBub3cgPSAwO1xuICB2YXIgcmVwZWF0TWF4ID0gZmFsc2U7XG4gIHZhciBkYXRhID0gX3ZhcnMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGFwcGVhclRvQm9vbCA9IHR5cGVvZiBpdGVtLmFwcGVhclRvID09PSAnbnVtYmVyJztcbiAgICAvLyDliqDkuIrlu7bml7bvvIzlnKjmsqHmnInmkq3mlL7ov4fml7bvvJtcbiAgICAvLyAhYXBwZWFyVG9Cb29sICYmIChub3cgKz0gaXRlbS5kZWxheSB8fCAwKTtcbiAgICBpZiAoIWFwcGVhclRvQm9vbCkge1xuICAgICAgbm93ICs9IGl0ZW0uZGVsYXkgfHwgMDtcbiAgICB9XG4gICAgdmFyIGFwcGVhclRvVGltZSA9IChpdGVtLmFwcGVhclRvIHx8IDApICsgKGl0ZW0uZGVsYXkgfHwgMCk7XG4gICAgLy8g6I635Y+W6buY6K6k5pWw5o2uXG4gICAgdmFyIHR3ZWVuRGF0YSA9IGRlZmF1bHREYXRhKGl0ZW0sIGFwcGVhclRvQm9vbCA/IGFwcGVhclRvVGltZSA6IG5vdyk7XG4gICAgdHdlZW5EYXRhLnZhcnMgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgICBpZiAoIShfa2V5IGluIHR3ZWVuRGF0YSkpIHtcbiAgICAgICAgdmFyIF9kYXRhID0gaXRlbVtfa2V5XTtcbiAgICAgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0gbmV3IF9wbHVnaW5zMltcImRlZmF1bHRcIl1bX2tleV0oX3RoaXMyLnRhcmdldCwgX2RhdGEsIHR3ZWVuRGF0YS50eXBlKTtcbiAgICAgICAgfSBlbHNlIGlmIChfa2V5Lm1hdGNoKC9jb2xvci9pKSB8fCBfa2V5ID09PSAnc3Ryb2tlJyB8fCBfa2V5ID09PSAnZmlsbCcpIHtcbiAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IHsgdHlwZTogJ2NvbG9yJywgdmFyczogKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKF9kYXRhKSB9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfZGF0YSA9PT0gJ251bWJlcicgfHwgX2RhdGEuc3BsaXQoL1ssfFxcc10vZykubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICB2YXIgdmFycyA9IHBhcnNlRmxvYXQoX2RhdGEpO1xuICAgICAgICAgIHZhciB1bml0ID0gX2RhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICAgICAgdmFyIGNvdW50ID0gX2RhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXit8PXwtXS9nLCAnJyk7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSB7IHVuaXQ6IHVuaXQsIHZhcnM6IHZhcnMsIGNvdW50OiBjb3VudCB9O1xuICAgICAgICB9IGVsc2UgaWYgKChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpICYmICdTVkdNb3JwaCcgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0gbmV3IF9wbHVnaW5zMltcImRlZmF1bHRcIl0uU1ZHTW9ycGgoX3RoaXMyLnRhcmdldCwgX2RhdGEsIF9rZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR3ZWVuRGF0YS55b3lvICYmICF0d2VlbkRhdGEucmVwZWF0KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IHlveW8gbXVzdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggcmVwZWF0OycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfVxuICAgIGlmICh0d2VlbkRhdGEucmVwZWF0ID09PSAtMSkge1xuICAgICAgcmVwZWF0TWF4ID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHJlcGVhdCA9IHR3ZWVuRGF0YS5yZXBlYXQgPT09IC0xID8gMCA6IHR3ZWVuRGF0YS5yZXBlYXQ7XG4gICAgaWYgKGFwcGVhclRvQm9vbCkge1xuICAgICAgLy8g5aaC5p6c5pyJIGFwcGVhclRvIOS4lOi/meadoeaXtumXtOavlCBub3cg5aSn5pe277yM77yM5oC75pe26Ze055So6L+Z5p2h77ybXG4gICAgICB2YXIgYXBwZWFyTm93ID0gaXRlbS5hcHBlYXJUbyArIChpdGVtLmRlbGF5IHx8IDApICsgdHdlZW5EYXRhLmR1cmF0aW9uICogKHJlcGVhdCArIDEpICsgdHdlZW5EYXRhLnJlcGVhdERlbGF5ICogcmVwZWF0O1xuICAgICAgbm93ID0gYXBwZWFyTm93ID49IG5vdyA/IGFwcGVhck5vdyA6IG5vdztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR3ZWVuRGF0YS5kZWxheSA8IC10d2VlbkRhdGEuZHVyYXRpb24pIHtcbiAgICAgICAgLy8g5aaC5p6c5bu25pe25bCP5LqOIOi0n+aXtumXtOaXtiws5LiN5YqgLOWGjeWHj+WbnuW7tuaXtjtcbiAgICAgICAgbm93IC09IHR3ZWVuRGF0YS5kZWxheTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHJlcGVhdCDkuLogLTEg5Y+q6K6w5b2V5LiA5qyh44CC5LiN6IO96LefIHJldmVyc2Ug5ZCM5pe25L2/55SoO1xuICAgICAgICBub3cgKz0gdHdlZW5EYXRhLmR1cmF0aW9uICogKHJlcGVhdCArIDEpICsgdHdlZW5EYXRhLnJlcGVhdERlbGF5ICogcmVwZWF0O1xuICAgICAgfVxuICAgIH1cbiAgICB0d2VlbkRhdGEubW9kZSA9ICcnO1xuICAgIHJldHVybiB0d2VlbkRhdGE7XG4gIH0pO1xuICB0aGlzLnRvdGFsVGltZSA9IHJlcGVhdE1heCA/IE51bWJlci5NQVhfVkFMVUUgOiBub3c7XG4gIHRoaXMuZGVmYXVsdERhdGEgPSBkYXRhO1xufTtcbnAuZ2V0QW5pbVN0YXJ0RGF0YSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHZhciBzdGFydCA9IHt9O1xuICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczMuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG4gICAgICBzdGFydFtfa2V5XSA9IGl0ZW1bX2tleV0uZ2V0QW5pbVN0YXJ0KF90aGlzMy53aWxsQ2hhbmdlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKF90aGlzMy5hdHRyID09PSAnYXR0cicpIHtcbiAgICAgIC8vIOmZpOS6hmTlkozov5lwb2ludHPlpJbnmoTmoIfnrb7liqjnlLvvvJtcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBfdGhpczMudGFyZ2V0LmdldEF0dHJpYnV0ZShfa2V5KTtcbiAgICAgIHZhciBkYXRhID0gYXR0cmlidXRlID09PSAnbnVsbCcgfHwgIWF0dHJpYnV0ZSA/IDAgOiBhdHRyaWJ1dGU7XG4gICAgICBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG4gICAgICAgIGRhdGEgPSAhZGF0YSAmJiBfa2V5ID09PSAnc3Ryb2tlJyA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyA6IGRhdGE7XG4gICAgICAgIGRhdGEgPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoZGF0YSk7XG4gICAgICAgIHN0YXJ0W19rZXldID0gZGF0YTtcbiAgICAgIH0gZWxzZSBpZiAocGFyc2VGbG9hdChkYXRhKSB8fCBwYXJzZUZsb2F0KGRhdGEpID09PSAwIHx8IGRhdGEgPT09IDApIHtcbiAgICAgICAgdmFyIHVuaXQgPSBkYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgICAgICBzdGFydFtfa2V5XSA9IHVuaXQgIT09IGl0ZW1bX2tleV0udW5pdCA/ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMy50YXJnZXQsIF9rZXksIHBhcnNlRmxvYXQoZGF0YSksIHVuaXQsIGl0ZW1bX2tleV0udW5pdCkgOiBwYXJzZUZsb2F0KGRhdGEpO1xuICAgICAgfVxuICAgICAgLy8gc3RhcnRbX2tleV0gPSBkYXRhO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGFydFtfa2V5XSA9IF90aGlzMy50YXJnZXRbX2tleV0gfHwgMDtcbiAgfSk7XG4gIHJldHVybiBzdGFydDtcbn07XG5wLnNldEFuaW1EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzNC5hdHRyID09PSAnYXR0cicgJiYgKGtleSA9PT0gJ2QnIHx8IGtleSA9PT0gJ3BvaW50cycpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF90aGlzNC50YXJnZXRba2V5XSA9IGRhdGFba2V5XTtcbiAgfSk7XG59O1xucC5zZXRSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgZW5kRGF0YSwgaSkge1xuICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICBPYmplY3Qua2V5cyhlbmREYXRhLnZhcnMpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzNS5hdHRyID09PSAnYXR0cicgJiYgKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykpIHtcbiAgICAgIGVuZERhdGEudmFyc1tfa2V5XS5zZXRSYXRpbyhyYXRpbywgX3RoaXM1LnR3ZWVuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVuZFZhcnMgPSBlbmREYXRhLnZhcnNbX2tleV07XG4gICAgdmFyIHN0YXJ0VmFycyA9IF90aGlzNS5zdGFydFtpXVtfa2V5XTtcbiAgICB2YXIgZGF0YSA9IHZvaWQgMDtcbiAgICBpZiAoX3RoaXM1LmF0dHIgPT09ICdhdHRyJykge1xuICAgICAgLy8g6Zmk5LqGZOWSjOi/mXBvaW50c+WklueahOagh+etvuWKqOeUu++8m1xuICAgICAgaWYgKCFlbmRWYXJzLnR5cGUpIHtcbiAgICAgICAgZGF0YSA9IGVuZFZhcnMudW5pdC5jaGFyQXQoMSkgPT09ICc9JyA/IHN0YXJ0VmFycyArIGVuZFZhcnMudmFycyAqIHJhdGlvICsgZW5kVmFycy51bml0IDogKGVuZFZhcnMudmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIGVuZFZhcnMudW5pdDtcbiAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgZGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKGVuZFZhcnMudHlwZSA9PT0gJ2NvbG9yJykge1xuICAgICAgICBpZiAoZW5kVmFycy52YXJzLmxlbmd0aCA9PT0gMyAmJiBzdGFydFZhcnMubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgZW5kVmFycy52YXJzWzNdID0gMTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gZW5kVmFycy52YXJzLm1hcChmdW5jdGlvbiAoX2VuZERhdGEsIF9pKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0RGF0YSA9IHN0YXJ0VmFyc1tfaV0gfHwgMDtcbiAgICAgICAgICByZXR1cm4gKF9lbmREYXRhIC0gc3RhcnREYXRhKSAqIHJhdGlvICsgc3RhcnREYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShkYXRhKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5zZXRBbmltRGF0YSh0aGlzLnR3ZWVuKTtcbn07XG5wLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgdGhpcy5kZWZhdWx0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgdmFyIGluaXRUaW1lID0gaXRlbS5pbml0VGltZTtcbiAgICB2YXIgZHVyYXRpb24gPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoaXRlbS5kdXJhdGlvbik7XG4gICAgLy8g5aSE55CGIHlveW8g5ZKMIHJlcGVhdDsgeW95byDmmK/lnKjml7bpl7TovbTkuIrnmoQsIOW5tuS4jeaYr+WAkuaUvlxuICAgIHZhciByZXBlYXROdW0gPSBNYXRoLmNlaWwoKF90aGlzNi5wcm9ncmVzc1RpbWUgLSBpbml0VGltZSkgLyAoZHVyYXRpb24gKyBpdGVtLnJlcGVhdERlbGF5KSkgLSAxO1xuICAgIHJlcGVhdE51bSA9IHJlcGVhdE51bSA8IDAgPyAwIDogcmVwZWF0TnVtO1xuICAgIC8vIHJlcGVhdE51bSA9IHRoaXMucHJvZ3Jlc3NUaW1lID09PSAwID8gcmVwZWF0TnVtICsgMSA6IHJlcGVhdE51bTtcbiAgICBpZiAoaXRlbS5yZXBlYXQpIHtcbiAgICAgIGlmIChpdGVtLnJlcGVhdCA8IHJlcGVhdE51bSAmJiBpdGVtLnJlcGVhdCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0ucmVwZWF0IHx8IGl0ZW0ucmVwZWF0IDw9IHJlcGVhdE51bSkge1xuICAgICAgICBpbml0VGltZSA9IGluaXRUaW1lICsgcmVwZWF0TnVtICogKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzdGFydERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwO1xuICAgIHZhciBlbmREYXRhID0gaXRlbS55b3lvICYmIHJlcGVhdE51bSAlIDIgfHwgaXRlbS50eXBlID09PSAnZnJvbScgPyAwIDogMTtcbiAgICAvLyAg57K+5bqm5o2f5aSx77yM5Y+q5Y+W5bCP5pWw54K55ZCOMTDkvY3jgIJcbiAgICB2YXIgcHJvZ3Jlc3NUaW1lID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKF90aGlzNi5wcm9ncmVzc1RpbWUgLSBpbml0VGltZSk7XG4gICAgLy8g6K6+572uIHN0YXJ0XG4gICAgdmFyIGRlbGF5ID0gaXRlbS5kZWxheSA+PSAwID8gaXRlbS5kZWxheSA6IC1pdGVtLmRlbGF5O1xuICAgIHZhciBmcm9tRGVsYXkgPSBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IGRlbGF5IDogMDtcbiAgICBpZiAocHJvZ3Jlc3NUaW1lICsgZnJvbURlbGF5ID4gLV90aGlzNi5wZXJGcmFtZSAmJiAhX3RoaXM2LnN0YXJ0W2ldKSB7XG4gICAgICBfdGhpczYuc3RhcnRbaV0gPSBfdGhpczYuZ2V0QW5pbVN0YXJ0RGF0YShpdGVtLnZhcnMpO1xuICAgICAgaWYgKCFfdGhpczYucmVnaXN0ZXIgJiYgcHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgICBfdGhpczYucmVnaXN0ZXIgPSB0cnVlO1xuICAgICAgICAvLyDlnKjlvIDlp4vot7PluKfml7bjgILjgIJbe3g6MTAwLHR5cGU6J2Zyb20nfSx7eTozMDB9Xe+8jOi3s+i/h+S6hmZyb23ml7YsIG1vbWVudCA9IDYwMCA9PiDpnIDopoHmiopmcm9t5ZCI5Zue5p2lXG4gICAgICAgIC8vIOWmguaenCBkdXJhdGlvbiDlkowgZGVsYXkg6YO95Li6IDDvvIwg5Yik5pat55Soc2V0LCDnm7TmjqXms6jlhozml7blsLHnu5PmnZ87XG4gICAgICAgIHZhciBzID0gZGVsYXkgPyAwIDogaXRlbS5lYXNlKF90aGlzNi50aW55TnVtLCBzdGFydERhdGEsIGVuZERhdGEsIF90aGlzNi50aW55TnVtKTtcbiAgICAgICAgdmFyIHNzID0gZHVyYXRpb24gPyBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lIDwgMCA/IDAgOiBwcm9ncmVzc1RpbWUsIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pIDogcztcbiAgICAgICAgdmFyIHN0ID0gcHJvZ3Jlc3NUaW1lIC8gKGR1cmF0aW9uICsgZnJvbURlbGF5KSA+IDEgPyAxIDogc3M7XG4gICAgICAgIF90aGlzNi5zZXRSYXRpbyhzdCwgaXRlbSwgaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBlID0ge1xuICAgICAgaW5kZXg6IGksXG4gICAgICB0YXJnZXQ6IF90aGlzNi50YXJnZXRcbiAgICB9O1xuXG4gICAgLy8gb25SZXBlYXQg5aSE55CGXG4gICAgaWYgKGl0ZW0ucmVwZWF0ICYmIHJlcGVhdE51bSA+IDAgJiYgcHJvZ3Jlc3NUaW1lICsgZnJvbURlbGF5ID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICAvLyDph43mlrDlvIDlp4ssIOWcqOesrOS4gOenkuinpuWPkeaXtuiwg+eUqDtcbiAgICAgIGl0ZW0ub25SZXBlYXQoZSk7XG4gICAgfVxuICAgIGlmIChwcm9ncmVzc1RpbWUgPCAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUpIHtcbiAgICAgIF90aGlzNi5zZXRSYXRpbyhpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwLCBpdGVtLCBpKTtcbiAgICB9IGVsc2UgaWYgKHByb2dyZXNzVGltZSA+PSBkdXJhdGlvbiAmJiBpdGVtLm1vZGUgIT09ICdvbkNvbXBsZXRlJykge1xuICAgICAgdmFyIGNvbXBSYXRpbyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKGR1cmF0aW9uLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG4gICAgICBfdGhpczYuc2V0UmF0aW8oY29tcFJhdGlvLCBpdGVtLCBpKTtcbiAgICAgIGlmIChpdGVtLm1vZGUgIT09ICdyZXNldCcpIHtcbiAgICAgICAgaXRlbS5vbkNvbXBsZXRlKGUpO1xuICAgICAgfVxuICAgICAgaXRlbS5tb2RlID0gJ29uQ29tcGxldGUnO1xuICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24pIHtcbiAgICAgIGl0ZW0ubW9kZSA9IHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSAmJiAhX3RoaXM2Lm9uU3RhcnRbaV0gPyAnb25TdGFydCcgOiAnb25VcGRhdGUnO1xuICAgICAgcHJvZ3Jlc3NUaW1lID0gcHJvZ3Jlc3NUaW1lIDwgMCA/IDAgOiBwcm9ncmVzc1RpbWU7XG4gICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPiBkdXJhdGlvbiA/IGR1cmF0aW9uIDogcHJvZ3Jlc3NUaW1lO1xuICAgICAgdmFyIHJhdGlvID0gaXRlbS5lYXNlKHByb2dyZXNzVGltZSwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbik7XG4gICAgICBfdGhpczYuc2V0UmF0aW8ocmF0aW8sIGl0ZW0sIGkpO1xuICAgICAgX3RoaXM2Lm9uU3RhcnRbaV0gPSB0cnVlO1xuICAgICAgaWYgKHByb2dyZXNzVGltZSA8PSBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgICAgaXRlbS5vblN0YXJ0KGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlbS5vblVwZGF0ZShfZXh0ZW5kcyh7IHJhdGlvOiByYXRpbyB9LCBlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb2dyZXNzVGltZSA+PSAwICYmIHByb2dyZXNzVGltZSA8IGR1cmF0aW9uICsgX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICBfdGhpczYub25DaGFuZ2UoX2V4dGVuZHMoe1xuICAgICAgICBtb21lbnQ6IF90aGlzNi5wcm9ncmVzc1RpbWUsXG4gICAgICAgIG1vZGU6IGl0ZW0ubW9kZVxuICAgICAgfSwgZSkpO1xuICAgIH1cbiAgfSk7XG59O1xuLy8g5pKt5pS+5binXG5wLmZyYW1lID0gZnVuY3Rpb24gKG1vbWVudCkge1xuICB0aGlzLnByb2dyZXNzVGltZSA9IG1vbWVudDtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5wLnJlc2V0QW5pbURhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudHdlZW4gPSB7fTtcbiAgdGhpcy5zdGFydCA9IHt9O1xuICB0aGlzLm9uU3RhcnQgPSB7fTtcbn07XG5cbnAucmVzZXREZWZhdWx0U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gIHRoaXMudHdlZW4gPSB7fTtcbiAgdGhpcy5kZWZhdWx0RGF0YSA9IHRoaXMuZGVmYXVsdERhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaXRlbS5tb2RlID0gJ3Jlc2V0JztcbiAgICByZXR1cm4gaXRlbTtcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHRoaXMuc3RhcnREZWZhdWx0RGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkpIHtcbiAgICAgIF90aGlzNy50YXJnZXQuc2V0QXR0cmlidXRlKGtleSwgX3RoaXM3LnN0YXJ0RGVmYXVsdERhdGFba2V5XSk7XG4gICAgfVxuICB9KTtcbn07XG5cbnAub25DaGFuZ2UgPSBub29wO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aW1lTGluZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvVGltZUxpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfVHdlZW5PbmUgPSByZXF1aXJlKCcuL1R3ZWVuT25lJyk7XG5cbnZhciBfVHdlZW5PbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHdlZW5PbmUpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFR3ZWVuT25lR3JvdXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHdlZW5PbmVHcm91cCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHdlZW5PbmVHcm91cCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdlZW5PbmVHcm91cCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIF90aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgX3RoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgICBfdGhpcy5vbkVudGVyQm9vbCA9IGZhbHNlO1xuICAgIF90aGlzLmlzVHdlZW4gPSB7fTtcbiAgICAvLyDnrKzkuIDov5vlhaXvvIxhcHBlYXIg5Li6IHRydWUg5pe26buY6K6k55SoIGVudGVyIOaIliB0d2Vlbi1vbmUg5LiK55qE5pWI5p6cXG4gICAgdmFyIGNoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikoKDAsIF91dGlsLmdldENoaWxkcmVuRnJvbVByb3BzKShfdGhpcy5wcm9wcykpO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMub25FbnRlckJvb2wgPSB0cnVlO1xuICB9O1xuXG4gIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgdmFyIGN1cnJlbnRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuICAgIHZhciBuZXdDaGlsZHJlbiA9ICgwLCBfdXRpbC5tZXJnZUNoaWxkcmVuKShjdXJyZW50Q2hpbGRyZW4sIG5leHRDaGlsZHJlbik7XG5cbiAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIG5leHRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoIWMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGMua2V5O1xuICAgICAgdmFyIGhhc1ByZXYgPSAoMCwgX3V0aWwuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KShjdXJyZW50Q2hpbGRyZW4sIGtleSk7XG4gICAgICBpZiAoIWhhc1ByZXYgJiYga2V5KSB7XG4gICAgICAgIF90aGlzMi5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjdXJyZW50Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSBjLmtleTtcbiAgICAgIHZhciBoYXNOZXh0ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkobmV4dENoaWxkcmVuLCBrZXkpO1xuICAgICAgaWYgKCFoYXNOZXh0ICYmIGtleSkge1xuICAgICAgICBfdGhpczIua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2hpbGRyZW46IG5ld0NoaWxkcmVuXG4gICAgfSk7XG4gIH07XG5cbiAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBjaGlsZHJlblRvUmVuZGVyID0gdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuICAgIGlmICghdGhpcy5wcm9wcy5jb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblRvUmVuZGVyWzBdIHx8IG51bGw7XG4gICAgfVxuICAgIHZhciBjb21wb25lbnRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBbJ2NvbXBvbmVudCcsICdhcHBlYXInLCAnZW50ZXInLCAnbGVhdmUnLCAnYW5pbWF0aW5nQ2xhc3NOYW1lJywgJ29uRW5kJywgJ3Jlc2V0U3R5bGVCb29sJywgJ3dpbGxDaGFuZ2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBkZWxldGUgY29tcG9uZW50UHJvcHNba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDAsIF9yZWFjdC5jcmVhdGVFbGVtZW50KSh0aGlzLnByb3BzLmNvbXBvbmVudCwgY29tcG9uZW50UHJvcHMsIGNoaWxkcmVuVG9SZW5kZXIpO1xuICB9O1xuXG4gIHJldHVybiBUd2Vlbk9uZUdyb3VwO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGFuaW1hdGlvbiwga2V5LCB0eXBlLCBvYmopIHtcbiAgICB2YXIgbGVuZ3RoID0gKDAsIF91dGlsLmRhdGFUb0FycmF5KShhbmltYXRpb24pLmxlbmd0aDtcbiAgICB2YXIgYW5pbWF0aW5nQ2xhc3NOYW1lID0gX3RoaXMzLnByb3BzLmFuaW1hdGluZ0NsYXNzTmFtZTtcbiAgICB2YXIgdGFnID0gb2JqLnRhcmdldDtcbiAgICB2YXIgaXNFbnRlciA9IHR5cGUgPT09ICdlbnRlcicgfHwgdHlwZSA9PT0gJ2FwcGVhcic7XG4gICAgaWYgKG9iai5tb2RlID09PSAnb25TdGFydCcpIHtcbiAgICAgIHRhZy5jbGFzc05hbWUgPSB0YWcuY2xhc3NOYW1lLnJlcGxhY2UoYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAxIDogMF0sICcnKS50cmltKCk7XG4gICAgICBpZiAodGFnLmNsYXNzTmFtZS5pbmRleE9mKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdKSA9PT0gLTEpIHtcbiAgICAgICAgdGFnLmNsYXNzTmFtZSA9ICh0YWcuY2xhc3NOYW1lICsgJyAnICsgYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0pLnRyaW0oKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9iai5pbmRleCA9PT0gbGVuZ3RoIC0gMSAmJiBvYmoubW9kZSA9PT0gJ29uQ29tcGxldGUnKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW47XG4gICAgICBpZiAodHlwZSA9PT0gJ2VudGVyJykge1xuICAgICAgICBfdGhpczMua2V5c1RvRW50ZXIuc3BsaWNlKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSksIDEpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbGVhdmUnKSB7XG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMzLnN0YXRlLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4ga2V5ICE9PSBjaGlsZC5rZXk7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczMua2V5c1RvTGVhdmUuc3BsaWNlKF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSksIDEpO1xuICAgICAgfVxuICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSwgJycpLnRyaW0oKTtcbiAgICAgIGRlbGV0ZSBfdGhpczMuaXNUd2VlbltrZXldO1xuICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICB9KTtcbiAgICAgIHZhciBfb2JqID0geyBrZXk6IGtleSwgdHlwZTogdHlwZSB9O1xuICAgICAgX3RoaXMzLnByb3BzLm9uRW5kKF9vYmopO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldENvdmVyQW5pbWF0aW9uID0gZnVuY3Rpb24gKGNoaWxkLCBpLCB0eXBlKSB7XG4gICAgdmFyIGFuaW1hdGlvbiA9IHZvaWQgMDtcbiAgICB2YXIgb25DaGFuZ2UgPSB2b2lkIDA7XG4gICAgYW5pbWF0aW9uID0gdHlwZSA9PT0gJ2xlYXZlJyA/IF90aGlzMy5wcm9wcy5sZWF2ZSA6IF90aGlzMy5wcm9wcy5lbnRlcjtcbiAgICBpZiAodHlwZSA9PT0gJ2FwcGVhcicpIHtcbiAgICAgIHZhciBhcHBlYXIgPSAoMCwgX3V0aWwudHJhbnNmb3JtQXJndW1lbnRzKShfdGhpczMucHJvcHMuYXBwZWFyLCBjaGlsZC5rZXksIGkpO1xuICAgICAgYW5pbWF0aW9uID0gYXBwZWFyICYmIF90aGlzMy5wcm9wcy5lbnRlciB8fCBudWxsO1xuICAgIH1cbiAgICBvbkNoYW5nZSA9IF90aGlzMy5vbkNoYW5nZS5iaW5kKF90aGlzMywgYW5pbWF0aW9uLCBjaGlsZC5rZXksIHR5cGUpO1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1R3ZWVuT25lMltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHt9LCBjaGlsZC5wcm9wcywge1xuICAgICAgd2lsbENoYW5nZTogX3RoaXMzLnByb3BzLndpbGxDaGFuZ2UsXG4gICAgICBrZXk6IGNoaWxkLmtleSxcbiAgICAgIGNvbXBvbmVudDogY2hpbGQudHlwZSxcbiAgICAgIGFuaW1hdGlvbjogKDAsIF91dGlsLnRyYW5zZm9ybUFyZ3VtZW50cykoYW5pbWF0aW9uLCBjaGlsZC5rZXksIGkpLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgcmVzZXRTdHlsZUJvb2w6IF90aGlzMy5wcm9wcy5yZXNldFN0eWxlQm9vbFxuICAgIH0pKTtcbiAgICBpZiAoX3RoaXMzLmtleXNUb0VudGVyLmNvbmNhdChfdGhpczMua2V5c1RvTGVhdmUpLmluZGV4T2YoY2hpbGQua2V5KSA+PSAwIHx8ICFfdGhpczMub25FbnRlckJvb2wgJiYgYW5pbWF0aW9uKSB7XG4gICAgICBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldID0gdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9O1xuXG4gIHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgIHJldHVybiBjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5rZXkpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgIGlmIChfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2xlYXZlJyk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSkgPj0gMCB8fCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldICYmIF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdlbnRlcicpO1xuICAgICAgfSBlbHNlIGlmICghX3RoaXMzLm9uRW50ZXJCb29sKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdhcHBlYXInKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldICYmIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSkgfHwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVHdlZW5PbmUyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7IGNvbXBvbmVudDogY2hpbGQudHlwZSwga2V5OiBjaGlsZC5rZXkgfSkpO1xuICAgIH0pO1xuICB9O1xufTtcblxudmFyIG9iamVjdE9yQXJyYXkgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKTtcbnZhciBvYmplY3RPckFycmF5T3JGdW5jID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW29iamVjdE9yQXJyYXksIF9yZWFjdC5Qcm9wVHlwZXMuZnVuY10pO1xuXG5Ud2Vlbk9uZUdyb3VwLnByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIGFwcGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBlbnRlcjogb2JqZWN0T3JBcnJheU9yRnVuYyxcbiAgbGVhdmU6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG4gIGFuaW1hdGluZ0NsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgb25FbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICByZXNldFN0eWxlQm9vbDogX3JlYWN0LlByb3BUeXBlcy5ib29sXG59O1xuXG5Ud2Vlbk9uZUdyb3VwLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29tcG9uZW50OiAnZGl2JyxcbiAgYXBwZWFyOiB0cnVlLFxuICBhbmltYXRpbmdDbGFzc05hbWU6IFsndHdlZW4tb25lLWVudGVyaW5nJywgJ3R3ZWVuLW9uZS1sZWF2aW5nJ10sXG4gIGVudGVyOiB7IHg6IDUwLCBvcGFjaXR5OiAwLCB0eXBlOiAnZnJvbScgfSxcbiAgbGVhdmU6IHsgeDogLTUwLCBvcGFjaXR5OiAwIH0sXG4gIG9uRW5kOiBub29wLFxuICB3aWxsQ2hhbmdlOiB0cnVlLFxuICByZXNldFN0eWxlQm9vbDogdHJ1ZVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmVHcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvVHdlZW5PbmVHcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUd2Vlbk9uZSA9IHJlcXVpcmUoJy4vVHdlZW5PbmUnKTtcblR3ZWVuT25lLlR3ZWVuT25lR3JvdXAgPSByZXF1aXJlKCcuL1R3ZWVuT25lR3JvdXAnKTtcblR3ZWVuT25lLmVhc2luZyA9IHJlcXVpcmUoJy4vZWFzaW5nJyk7XG5tb2R1bGUuZXhwb3J0cyA9IFR3ZWVuT25lO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzLCBuby1jb25zb2xlICovXG5cblxudmFyIF9zdHlsZVV0aWxzID0gcmVxdWlyZSgnc3R5bGUtdXRpbHMnKTtcblxudmFyIF9zdHlsZVV0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0eWxlVXRpbHMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuLi91dGlsLmpzJyk7XG5cbnZhciBfcGx1Z2lucyA9IHJlcXVpcmUoJy4uL3BsdWdpbnMnKTtcblxudmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFN0eWxlUGx1Z2luID0gZnVuY3Rpb24gU3R5bGVQbHVnaW4odGFyZ2V0LCB2YXJzLCB0eXBlKSB7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLnZhcnMgPSB2YXJzO1xuICB0aGlzLnR5cGUgPSB0eXBlO1xuICB0aGlzLnByb3BzRGF0YSA9IHt9O1xuICB0aGlzLnNldERlZmF1bHREYXRhKCk7XG59O1xudmFyIHAgPSBTdHlsZVBsdWdpbi5wcm90b3R5cGUgPSB7XG4gIG5hbWU6ICdzdHlsZSdcbn07XG5wLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyA/IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy50YXJnZXQpIDoge307XG59O1xucC5nZXRUd2VlbkRhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YXJzKSB7XG4gIHZhciBkYXRhID0ge1xuICAgIGRhdGE6IHt9LFxuICAgIGRhdGFUeXBlOiB7fSxcbiAgICBkYXRhVW5pdDoge30sXG4gICAgZGF0YUNvdW50OiB7fSxcbiAgICBkYXRhU3BsaXRTdHI6IHt9XG4gIH07XG4gIGlmIChrZXkubWF0Y2goL2NvbG98ZmlsbHxzdG9ya2VyL2kpKSB7XG4gICAgZGF0YS5kYXRhW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikodmFycyk7XG4gICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ2NvbG9yJztcbiAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuICAgIGRhdGEuZGF0YVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlU2hhZG93KSh2YXJzKTtcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc2hhZG93JztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFycyA9PT0gJ3N0cmluZycgJiYgdmFycy5zcGxpdCgvW1xcc3wsXS8pLmxlbmd0aCA+IDEpIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9IHZhcnMuc3BsaXQoL1tcXHN8LF0vKTtcbiAgICBkYXRhLmRhdGFTcGxpdFN0cltrZXldID0gdmFycy5yZXBsYWNlKC9bXlxcc3wsXS9nLCAnJyk7XG4gICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3N0cmluZyc7XG4gIH0gZWxzZSB7XG4gICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzO1xuICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdvdGhlcic7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5kYXRhW2tleV0pKSB7XG4gICAgZGF0YS5kYXRhVW5pdFtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuICAgICAgcmV0dXJuIF9pdGVtLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgIH0pO1xuICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG4gICAgICByZXR1cm4gX2l0ZW0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXit8PXwtXS9nLCAnJyk7XG4gICAgfSk7XG5cbiAgICBkYXRhLmRhdGFba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcbiAgICAgIHJldHVybiAhcGFyc2VGbG9hdChfaXRlbSkgJiYgcGFyc2VGbG9hdChfaXRlbSkgIT09IDAgPyBfaXRlbSA6IHBhcnNlRmxvYXQoX2l0ZW0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGEuZGF0YVVuaXRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcbiAgICB2YXIgZCA9IHBhcnNlRmxvYXQoZGF0YS5kYXRhW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKC9bYS16fCV8PV0vZywgJycpKTtcbiAgICBkYXRhLmRhdGFba2V5XSA9ICFkICYmIGQgIT09IDAgPyBkYXRhLmRhdGFba2V5XSA6IGQ7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59O1xucC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLnByb3BzRGF0YS5kYXRhID0ge307XG4gIHRoaXMucHJvcHNEYXRhLmRhdGFUeXBlID0ge307XG4gIHRoaXMucHJvcHNEYXRhLmRhdGFVbml0ID0ge307XG4gIHRoaXMucHJvcHNEYXRhLmRhdGFDb3VudCA9IHt9O1xuICB0aGlzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHIgPSB7fTtcbiAgT2JqZWN0LmtleXModGhpcy52YXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXVtfa2V5XShfdGhpcy50YXJnZXQsIF90aGlzLnZhcnNbX2tleV0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5ID0gKDAsIF9zdHlsZVV0aWxzLmdldEdzYXBUeXBlKShfa2V5KTtcbiAgICB2YXIgX2RhdGEgPSBfdGhpcy5nZXRUd2VlbkRhdGEoa2V5LCBfdGhpcy52YXJzW19rZXldKTtcbiAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtrZXldID0gX2RhdGEuZGF0YVtrZXldO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhVHlwZVtrZXldID0gX2RhdGEuZGF0YVR5cGVba2V5XTtcbiAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XSA9IF9kYXRhLmRhdGFVbml0W2tleV07XG4gICAgX3RoaXMucHJvcHNEYXRhLmRhdGFDb3VudFtrZXldID0gX2RhdGEuZGF0YUNvdW50W2tleV07XG4gICAgaWYgKF9kYXRhLmRhdGFTcGxpdFN0cltrZXldKSB7XG4gICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0gPSBfZGF0YS5kYXRhU3BsaXRTdHJba2V5XTtcbiAgICB9XG4gIH0pO1xufTtcbnAuY29udmVydFRvTWFya3NBcnJheSA9IGZ1bmN0aW9uICh1bml0LCBrZXksIGRhdGEsIGkpIHtcbiAgdmFyIHN0YXJ0VW5pdCA9IGRhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gIHZhciBlbmRVbml0ID0gdW5pdFtpXTtcbiAgaWYgKHN0YXJ0VW5pdCA9PT0gZW5kVW5pdCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpO1xuICB9IGVsc2UgaWYgKCFwYXJzZUZsb2F0KGRhdGEpICYmIHBhcnNlRmxvYXQoZGF0YSkgIT09IDApIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuICByZXR1cm4gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkodGhpcy50YXJnZXQsIGtleSwgZGF0YSwgc3RhcnRVbml0LCBlbmRVbml0LCBudWxsLCBrZXkgPT09ICd0cmFuc2Zvcm1PcmlnaW4nICYmICFpKTtcbn07XG5wLmdldEFuaW1TdGFydCA9IGZ1bmN0aW9uICh3aWxsQ2hhbmdlQm9vbCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICB2YXIgY29tcHV0ZWRTdHlsZSA9IHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZSgpO1xuICB2YXIgc3R5bGUgPSB7fTtcbiAgdGhpcy5zdXBwb3J0czNEID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgncGVyc3BlY3RpdmUnKTtcbiAgdmFyIHdpbGxDaGFuZ2VBcnJheSA9IHZvaWQgMDtcbiAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG4gICAgdGhpcy53aWxsQ2hhbmdlID0gY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlID09PSAnYXV0bycgfHwgIWNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSB8fCBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdub25lJyA/ICcnIDogY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlO1xuICAgIHdpbGxDaGFuZ2VBcnJheSA9IHRoaXMud2lsbENoYW5nZS5zcGxpdCgnLCcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgcmV0dXJuIGs7XG4gICAgfSk7XG4gIH1cbiAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGNzc05hbWUgPSAoMCwgX3N0eWxlVXRpbHMuaXNDb252ZXJ0KShrZXkpO1xuICAgIGlmICh3aWxsQ2hhbmdlQm9vbCkge1xuICAgICAgdmFyIHdpbGxTdHlsZSA9IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdID8gX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0udXNlU3R5bGUgfHwgY3NzTmFtZSA6IGNzc05hbWU7XG4gICAgICB3aWxsU3R5bGUgPSB3aWxsU3R5bGUgPT09ICd0cmFuc2Zvcm1PcmlnaW4nID8gJ3RyYW5zZm9ybS1vcmlnaW4nIDogd2lsbFN0eWxlO1xuICAgICAgaWYgKHdpbGxDaGFuZ2VBcnJheS5pbmRleE9mKHdpbGxTdHlsZSkgPT09IC0xICYmICh3aWxsU3R5bGUgaW4gY29tcHV0ZWRTdHlsZSB8fCBrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkpIHtcbiAgICAgICAgd2lsbENoYW5nZUFycmF5LnB1c2god2lsbFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIF90aGlzMi53aWxsQ2hhbmdlID0gd2lsbENoYW5nZUFycmF5LmpvaW4oJywnKTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbY3NzTmFtZV07XG4gICAgdmFyIGZpeGVkID0gY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJztcbiAgICBpZiAoIXN0YXJ0RGF0YSB8fCBzdGFydERhdGEgPT09ICdub25lJyB8fCBzdGFydERhdGEgPT09ICdhdXRvJykge1xuICAgICAgc3RhcnREYXRhID0gJyc7XG4gICAgfVxuICAgIHZhciB0cmFuc2Zvcm0gPSB2b2lkIDA7XG4gICAgdmFyIGVuZFVuaXQgPSB2b2lkIDA7XG4gICAgdmFyIHN0YXJ0VW5pdCA9IHZvaWQgMDtcbiAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcbiAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG4gICAgICAgIF90aGlzMi50cmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCd0cmFuc2Zvcm0nKTtcbiAgICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG4gICAgICB9XG4gICAgICBfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XS5nZXRBbmltU3RhcnQoKTtcbiAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICBfdGhpczIudHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgndHJhbnNmb3JtJyk7XG4gICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi50cmFuc2Zvcm1dO1xuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICAgIHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSB8fCAoMCwgX3N0eWxlVXRpbHMuZ2V0VHJhbnNmb3JtKShzdGFydERhdGEpO1xuICAgICAgaWYgKGVuZFVuaXQgJiYgZW5kVW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcbiAgICAgICAgdmFyIHBlcmNlbnQgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuICAgICAgICB0cmFuc2Zvcm1bcGVyY2VudF0gPSAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczIudGFyZ2V0LCBrZXksIHRyYW5zZm9ybVtrZXldLCBudWxsLCBlbmRVbml0KTtcbiAgICAgICAgdHJhbnNmb3JtW2tleV0gPSAwO1xuICAgICAgfVxuICAgICAgc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ2ZpbHRlcicpIHtcbiAgICAgIF90aGlzMi5maWx0ZXJOYW1lID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgnZmlsdGVyJykgfHwgJ2ZpbHRlcic7XG4gICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi5maWx0ZXJOYW1lXTtcbiAgICAgIF90aGlzMi5maWx0ZXJPYmplY3QgPSBfZXh0ZW5kcyh7fSwgX3RoaXMyLmZpbHRlck9iamVjdCwgKDAsIF9zdHlsZVV0aWxzLnNwbGl0RmlsdGVyVG9PYmplY3QpKHN0YXJ0RGF0YSkpO1xuICAgICAgc3RhcnREYXRhID0gX3RoaXMyLmZpbHRlck9iamVjdFtrZXldIHx8IDA7XG4gICAgICBzdGFydFVuaXQgPSBzdGFydERhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgaWYgKGVuZFVuaXQgIT09IHN0YXJ0VW5pdCkge1xuICAgICAgICBzdGFydERhdGEgPSAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczIudGFyZ2V0LCBjc3NOYW1lLCBwYXJzZUZsb2F0KHN0YXJ0RGF0YSksIHN0YXJ0VW5pdCwgZW5kVW5pdCwgZml4ZWQpO1xuICAgICAgfVxuICAgICAgc3R5bGVba2V5XSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvY29sb3J8ZmlsbC9pKSB8fCBrZXkgPT09ICdzdHJva2UnKSB7XG4gICAgICBzdGFydERhdGEgPSAhc3RhcnREYXRhICYmIGtleSA9PT0gJ3N0cm9rZScgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScgOiBzdGFydERhdGE7XG4gICAgICBzdHlsZVtjc3NOYW1lXSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShzdGFydERhdGEpO1xuICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9zaGFkb3cvaSkpIHtcbiAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykoc3RhcnREYXRhKTtcbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgICBzdGFydERhdGEgPSBzdGFydERhdGEubWFwKF90aGlzMi5jb252ZXJ0VG9NYXJrc0FycmF5LmJpbmQoX3RoaXMyLCBlbmRVbml0LCBrZXkpKTtcbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XSkpIHtcbiAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5zcGxpdCgvW1xcc3wsXS8pO1xuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuICAgICAgc3R5bGVbY3NzTmFtZV0gPSBzdGFydERhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOiuoeeul+WNleS9jVxuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRbY3NzTmFtZV07XG4gICAgICBzdGFydFVuaXQgPSBzdGFydERhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG4gICAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGNzc05hbWUsIHBhcnNlRmxvYXQoc3RhcnREYXRhKSwgc3RhcnRVbml0LCBlbmRVbml0LCBmaXhlZCk7XG4gICAgICB9XG4gICAgICBzdHlsZVtjc3NOYW1lXSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhIHx8IDApO1xuICAgIH1cbiAgfSk7XG4gIHRoaXMuc3RhcnQgPSBzdHlsZTtcbiAgcmV0dXJuIHN0eWxlO1xufTtcbnAuc2V0QXJyYXlSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgc3RhcnQsIHZhcnMsIHVuaXQsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09ICdjb2xvcicgJiYgc3RhcnQubGVuZ3RoID09PSA0ICYmIHZhcnMubGVuZ3RoID09PSAzKSB7XG4gICAgdmFyc1szXSA9IDE7XG4gIH1cbiAgdmFyIHN0YXJ0SW5zZXQgPSBzdGFydC5pbmRleE9mKCdpbnNldCcpID49IDA7XG4gIHZhciBlbmRJbnNldCA9IHZhcnMuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuICBpZiAoc3RhcnRJbnNldCAmJiAhZW5kSW5zZXQgfHwgZW5kSW5zZXQgJiYgIXN0YXJ0SW5zZXQpIHtcbiAgICB0aHJvdyBjb25zb2xlLmVycm9yKCdFcnJvcjogXCJib3gtc2hhZG93XCIgaW5zZXQgaGF2ZSB0byBleGlzdCcpO1xuICB9XG4gIHZhciBsZW5ndGggPSBlbmRJbnNldCA/IDkgOiA4O1xuICBpZiAoc3RhcnQubGVuZ3RoID09PSBsZW5ndGggJiYgdmFycy5sZW5ndGggPT09IGxlbmd0aCAtIDEpIHtcbiAgICB2YXJzLnNwbGljZSgzLCAwLCAwKTtcbiAgICB1bml0LnNwbGljZSgzLCAwLCAnJyk7XG4gIH0gZWxzZSBpZiAodmFycy5sZW5ndGggPT09IGxlbmd0aCAmJiBzdGFydC5sZW5ndGggPT09IGxlbmd0aCAtIDEpIHtcbiAgICBzdGFydC5zcGxpY2UoMywgMCwgMCk7XG4gIH1cbiAgdmFyIF92YXJzID0gdmFycy5tYXAoZnVuY3Rpb24gKGVuZERhdGEsIGkpIHtcbiAgICB2YXIgc3RhcnRJc0FscGhhID0gdHlwZSA9PT0gJ2NvbG9yJyAmJiBpID09PSAzICYmICFzdGFydFtpXSA/IDEgOiAwO1xuICAgIHZhciBzdGFydERhdGEgPSB0eXBlb2Ygc3RhcnRbaV0gPT09ICdudW1iZXInID8gc3RhcnRbaV0gOiBzdGFydElzQWxwaGE7XG4gICAgaWYgKHR5cGVvZiBlbmREYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGVuZERhdGE7XG4gICAgfVxuICAgIHJldHVybiAoZW5kRGF0YSAtIHN0YXJ0RGF0YSkgKiByYXRpbyArIHN0YXJ0RGF0YSArICh1bml0W2ldIHx8IDApO1xuICB9KTtcbiAgaWYgKHR5cGUgPT09ICdjb2xvcicpIHtcbiAgICByZXR1cm4gKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShfdmFycyk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NoYWRvdycpIHtcbiAgICB2YXIgbCA9IF92YXJzLmxlbmd0aCA9PT0gbGVuZ3RoID8gNCA6IDM7XG4gICAgdmFyIHMgPSBfdmFycy5zbGljZSgwLCBsKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gKyAncHgnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSk7XG4gICAgdmFyIGMgPSBfdmFycy5zbGljZShsLCBlbmRJbnNldCA/IF92YXJzLmxlbmd0aCAtIDEgOiBfdmFycy5sZW5ndGgpO1xuICAgIHZhciBjb2xvciA9ICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoYyk7XG4gICAgcmV0dXJuIChzLmpvaW4oJyAnKSArICcgJyArIGNvbG9yICsgJyAnICsgKGVuZEluc2V0ID8gJ2luc2V0JyA6ICcnKSkudHJpbSgpO1xuICB9XG4gIHJldHVybiBfdmFycztcbn07XG5cbnAuc2V0UmF0aW8gPSBmdW5jdGlvbiAocmF0aW8sIHR3ZWVuKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHR3ZWVuLnN0eWxlID0gdHdlZW4uc3R5bGUgfHwge307XG4gIGlmICh0aGlzLnN0YXJ0LnRyYW5zZm9ybSkge1xuICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybSA9IHR3ZWVuLnN0eWxlLnRyYW5zZm9ybSB8fCBfZXh0ZW5kcyh7fSwgdGhpcy5zdGFydC50cmFuc2Zvcm0pO1xuICB9XG4gIHZhciBzdHlsZSA9IHRoaXMudGFyZ2V0LnN0eWxlO1xuICBpZiAodGhpcy53aWxsQ2hhbmdlKSB7XG4gICAgaWYgKHJhdGlvID09PSAodGhpcy50eXBlID09PSAnZnJvbScgPyAwIDogMSkpIHtcbiAgICAgIHN0eWxlLndpbGxDaGFuZ2UgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS53aWxsQ2hhbmdlID0gdGhpcy53aWxsQ2hhbmdlO1xuICAgIH1cbiAgfVxuICBPYmplY3Qua2V5cyh0aGlzLnByb3BzRGF0YS5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgX2lzVHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmlzVHJhbnNmb3JtKShrZXkpID09PSAndHJhbnNmb3JtJztcbiAgICB2YXIgc3RhcnRWYXJzID0gX2lzVHJhbnNmb3JtID8gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybVtrZXldIDogX3RoaXMzLnN0YXJ0W2tleV07XG4gICAgdmFyIGVuZFZhcnMgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XTtcbiAgICB2YXIgdW5pdCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICB2YXIgY291bnQgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFDb3VudFtrZXldO1xuICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV0uc2V0UmF0aW8ocmF0aW8sIHR3ZWVuKTtcbiAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG4gICAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHR3ZWVuLnN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChjc3MpIHtcbiAgICAgICAgICByZXR1cm4gc3R5bGVbY3NzXSA9IHR3ZWVuLnN0eWxlW2Nzc107XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoX2lzVHJhbnNmb3JtKSB7XG4gICAgICBpZiAodW5pdCAmJiB1bml0Lm1hdGNoKC8lfHZ3fHZofGVtfHJlbS9pKSkge1xuICAgICAgICB2YXIgcE5hbWUgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuICAgICAgICBzdGFydFZhcnMgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtW3BOYW1lXTtcbiAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW3BOYW1lXSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbyArIHVuaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW3BOYW1lXSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgdW5pdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzY2FsZScpIHtcbiAgICAgICAgdmFyIHhTdGFydCA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm0uc2NhbGVYO1xuICAgICAgICB2YXIgeVN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVk7XG4gICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVggPSB4U3RhcnQgKyBlbmRWYXJzICogcmF0aW87XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IHlTdGFydCArIGVuZFZhcnMgKiByYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVYID0gKGVuZFZhcnMgLSB4U3RhcnQpICogcmF0aW8gKyB4U3RhcnQ7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IChlbmRWYXJzIC0geVN0YXJ0KSAqIHJhdGlvICsgeVN0YXJ0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcbiAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzO1xuICAgICAgfVxuICAgICAgc3R5bGVbX3RoaXMzLnRyYW5zZm9ybV0gPSAoMCwgX3V0aWwuZ2V0VHJhbnNmb3JtVmFsdWUpKHR3ZWVuLnN0eWxlLnRyYW5zZm9ybSwgX3RoaXMzLnN1cHBvcnRzM0QpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbmRWYXJzKSkge1xuICAgICAgdmFyIF90eXBlID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhVHlwZVtrZXldO1xuICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IF90aGlzMy5zZXRBcnJheVJhdGlvKHJhdGlvLCBzdGFydFZhcnMsIGVuZFZhcnMsIHVuaXQsIF90eXBlKTtcbiAgICAgIGlmIChfdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IHR3ZWVuLnN0eWxlW2tleV0uam9pbihfdGhpczMucHJvcHNEYXRhLmRhdGFTcGxpdFN0cltrZXldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0eWxlVW5pdCA9ICgwLCBfc3R5bGVVdGlscy5zdHlsZXNUb0Nzcykoa2V5LCAwKTtcbiAgICAgIHN0eWxlVW5pdCA9IHR5cGVvZiBzdHlsZVVuaXQgPT09ICdudW1iZXInID8gJycgOiBzdHlsZVVuaXQucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgICAgdW5pdCA9IHVuaXQgfHwgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwID8gJycgOiBzdHlsZVVuaXQpO1xuICAgICAgaWYgKHR5cGVvZiBlbmRWYXJzID09PSAnc3RyaW5nJykge1xuICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gZW5kVmFycztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIHVuaXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICBpZiAoIV90aGlzMy5maWx0ZXJPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMzLmZpbHRlck9iamVjdFtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcbiAgICAgIHZhciBmaWx0ZXJTdHlsZSA9ICcnO1xuICAgICAgT2JqZWN0LmtleXMoX3RoaXMzLmZpbHRlck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyS2V5KSB7XG4gICAgICAgIGZpbHRlclN0eWxlICs9ICcgJyArIGZpbHRlcktleSArICcoJyArIF90aGlzMy5maWx0ZXJPYmplY3RbZmlsdGVyS2V5XSArICcpJztcbiAgICAgIH0pO1xuICAgICAgc3R5bGVbX3RoaXMzLmZpbHRlck5hbWVdID0gZmlsdGVyU3R5bGUudHJpbSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcbiAgfSk7XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTdHlsZVBsdWdpbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2luL1N0eWxlUGx1Z2luLmpzXG4gKiogbW9kdWxlIGlkID0gMTY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yYWYgPSByZXF1aXJlKCdyYWYnKTtcblxudmFyIF9yYWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBUaWNrZXIgPSBmdW5jdGlvbiBUaWNrZXIoKSB7fTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXG5cbnZhciBwID0gVGlja2VyLnByb3RvdHlwZSA9IHtcbiAgdGlja0ZuT2JqZWN0OiB7fSxcbiAgaWQ6IC0xLFxuICB0d2VlbklkOiAwLFxuICBmcmFtZTogMCxcbiAgcGVyRnJhbWU6IE1hdGgucm91bmQoMTAwMCAvIDYwKSxcbiAgZ2V0VGltZTogRGF0ZS5ub3cgfHwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfSxcbiAgZWxhcHNlZDogMCxcbiAgbGFzdFVwZGF0ZTogMCxcbiAgc2tpcEZyYW1lTWF4OiAxNjZcbn07XG5wLmFkZCA9IGZ1bmN0aW9uIChmbikge1xuICB2YXIga2V5ID0gJ3R3ZWVuT25lJyArIHRoaXMudHdlZW5JZDtcbiAgdGhpcy50d2VlbklkKys7XG4gIHRoaXMud2FrZShrZXksIGZuKTtcbiAgcmV0dXJuIGtleTtcbn07XG5wLndha2UgPSBmdW5jdGlvbiAoa2V5LCBmbikge1xuICB0aGlzLnRpY2tGbk9iamVjdFtrZXldID0gZm47XG4gIGlmICh0aGlzLmlkID09PSAtMSkge1xuICAgIHRoaXMuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aGlzLnRpY2spO1xuICB9XG59O1xucC5jbGVhciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgZGVsZXRlIHRoaXMudGlja0ZuT2JqZWN0W2tleV07XG59O1xucC5zbGVlcCA9IGZ1bmN0aW9uICgpIHtcbiAgX3JhZjJbXCJkZWZhdWx0XCJdLmNhbmNlbCh0aGlzLmlkKTtcbiAgdGhpcy5pZCA9IC0xO1xuICB0aGlzLmZyYW1lID0gMDtcbn07XG52YXIgdGlja2VyID0gbmV3IFRpY2tlcigpO1xucC50aWNrID0gZnVuY3Rpb24gKGEpIHtcbiAgdGlja2VyLmVsYXBzZWQgPSB0aWNrZXIubGFzdFVwZGF0ZSA/IHRpY2tlci5nZXRUaW1lKCkgLSB0aWNrZXIubGFzdFVwZGF0ZSA6IDA7XG4gIHRpY2tlci5sYXN0VXBkYXRlID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIubGFzdFVwZGF0ZSArIHRpY2tlci5lbGFwc2VkIDogdGlja2VyLmdldFRpbWUoKSArIHRpY2tlci5lbGFwc2VkO1xuICB2YXIgb2JqID0gdGlja2VyLnRpY2tGbk9iamVjdDtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAob2JqW2tleV0pIHtcbiAgICAgIG9ialtrZXldKGEpO1xuICAgIH1cbiAgfSk7XG4gIC8vIOWmguaenCBvYmplY3Qg6YeM5rKh5a+56LGh5LqG77yM6Ieq5Yqo5p2A5o6J77ybXG4gIGlmICghT2JqZWN0LmtleXMob2JqKS5sZW5ndGgpIHtcbiAgICB0aWNrZXIuc2xlZXAoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRpY2tlci5lbGFwc2VkID4gdGlja2VyLnNraXBGcmFtZU1heCB8fCAhdGlja2VyLmZyYW1lKSB7XG4gICAgdGlja2VyLmZyYW1lKys7XG4gIH0gZWxzZSB7XG4gICAgdGlja2VyLmZyYW1lICs9IE1hdGgucm91bmQodGlja2VyLmVsYXBzZWQgLyB0aWNrZXIucGVyRnJhbWUpO1xuICB9XG4gIHRpY2tlci5pZCA9ICgwLCBfcmFmMltcImRlZmF1bHRcIl0pKHRpY2tlci50aWNrKTtcbn07XG52YXIgdGltZW91dElkTnVtYmVyID0gMDtcbnAudGltZW91dCA9IGZ1bmN0aW9uIChmbiwgdGltZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIGlmICghKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICByZXR1cm4gY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIH1cbiAgdmFyIHRpbWVvdXRJRCA9ICd0aW1lb3V0JyArIERhdGUubm93KCkgKyAnLScgKyB0aW1lb3V0SWROdW1iZXI7XG4gIHZhciBzdGFydEZyYW1lID0gdGhpcy5mcmFtZTtcbiAgdGhpcy53YWtlKHRpbWVvdXRJRCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb21lbnQgPSAoX3RoaXMuZnJhbWUgLSBzdGFydEZyYW1lKSAqIF90aGlzLnBlckZyYW1lO1xuICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcbiAgICAgIF90aGlzLmNsZWFyKHRpbWVvdXRJRCk7XG4gICAgICBmbigpO1xuICAgIH1cbiAgfSk7XG4gIHRpbWVvdXRJZE51bWJlcisrO1xuICByZXR1cm4gdGltZW91dElEO1xufTtcbnZhciBpbnRlcnZhbElkTnVtYmVyID0gMDtcbnAuaW50ZXJ2YWwgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuICAgIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBpbnRlcnZhbElEID0gJ2ludGVydmFsJyArIERhdGUubm93KCkgKyAnLScgKyBpbnRlcnZhbElkTnVtYmVyO1xuICB2YXIgc3RhckZyYW1lID0gdGhpcy5mcmFtZTtcbiAgdGhpcy53YWtlKGludGVydmFsSUQsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW9tZW50ID0gKF90aGlzMi5mcmFtZSAtIHN0YXJGcmFtZSkgKiBfdGhpczIucGVyRnJhbWU7XG4gICAgaWYgKG1vbWVudCA+PSAodGltZSB8fCAwKSkge1xuICAgICAgc3RhckZyYW1lID0gX3RoaXMyLmZyYW1lO1xuICAgICAgZm4oKTtcbiAgICB9XG4gIH0pO1xuICBpbnRlcnZhbElkTnVtYmVyKys7XG4gIHJldHVybiBpbnRlcnZhbElEO1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdGlja2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi90aWNrZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyB0OiBjdXJyZW50IHRpbWUsIGI6IGJlZ2lubmluZyB2YWx1ZSwgX2M6IGZpbmFsIHZhbHVlLCBkOiB0b3RhbCBkdXJhdGlvblxudmFyIHR3ZWVuRnVuY3Rpb25zID0ge1xuICBsaW5lYXI6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG4gIH0sXG4gIGVhc2VJblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgfSxcbiAgZWFzZU91dEN1YmljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5RdWFydDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgfSxcbiAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJblF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgfSxcbiAgZWFzZU91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5TaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgfSxcbiAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbkV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuICh0PT0wKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodC9kIC0gMSkpICsgYjtcbiAgfSxcbiAgZWFzZU91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuICh0PT1kKSA/IGIrYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQvZCkgKyAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICBpZiAodCA9PT0gZCkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkNpcmM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgfSxcbiAgZWFzZU91dENpcmM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIGEsIHAsIHM7XG4gICAgcyA9IDEuNzAxNTg7XG4gICAgcCA9IDA7XG4gICAgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH0gZWxzZSBpZiAoKHQgLz0gZCkgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBzID0gcCAvIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgfVxuICAgIHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gIH0sXG4gIGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciBhLCBwLCBzO1xuICAgIHMgPSAxLjcwMTU4O1xuICAgIHAgPSAwO1xuICAgIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAwLjM7XG4gICAgfVxuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgIH1cbiAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0RWxhc3RpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgYSwgcCwgcztcbiAgICBzID0gMS43MDE1ODtcbiAgICBwID0gMDtcbiAgICBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSBlbHNlIGlmICgodCAvPSBkIC8gMikgPT09IDIpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqICgwLjMgKiAxLjUpO1xuICAgIH1cbiAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICBhID0gYztcbiAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICB9XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gLTAuNSAqIChhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogMC41ICsgYyArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5CYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgfSxcbiAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5Cb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIHY7XG4gICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VPdXRCb3VuY2UoZCAtIHQsIDAsIGMsIGQpO1xuICAgIHJldHVybiBjIC0gdiArIGI7XG4gIH0sXG4gIGVhc2VPdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQpIDwgMSAvIDIuNzUpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqIHQgKiB0KSArIGI7XG4gICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDEuNSAvIDIuNzUpICogdCArIDAuNzUpICsgYjtcbiAgICB9IGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgMC45Mzc1KSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuNjI1IC8gMi43NSkgKiB0ICsgMC45ODQzNzUpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbk91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgdjtcbiAgICBpZiAodCA8IGQgLyAyKSB7XG4gICAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZUluQm91bmNlKHQgKiAyLCAwLCBjLCBkKTtcbiAgICAgIHJldHVybiB2ICogMC41ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKTtcbiAgICAgIHJldHVybiB2ICogMC41ICsgYyAqIDAuNSArIGI7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR3ZWVuRnVuY3Rpb25zO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdHdlZW4tZnVuY3Rpb25zL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8qICFcbiAqIHR5cGUtZGV0ZWN0XG4gKiBDb3B5cmlnaHQoYykgMjAxMyBqYWtlIGx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG52YXIgZ2V0UHJvdG90eXBlT2ZFeGlzdHMgPSB0eXBlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mID09PSAnZnVuY3Rpb24nO1xudmFyIHByb21pc2VFeGlzdHMgPSB0eXBlb2YgUHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogc2VsZjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxudmFyIGlzRG9tID0gJ2xvY2F0aW9uJyBpbiBnbG9iYWxPYmplY3QgJiYgJ2RvY3VtZW50JyBpbiBnbG9iYWxPYmplY3Q7XG52YXIgaHRtbEVsZW1lbnRFeGlzdHMgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnO1xudmFyIGlzQXJyYXlFeGlzdHMgPSB0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzeW1ib2xFeGlzdHMgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJztcbnZhciBtYXBFeGlzdHMgPSB0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJztcbnZhciBzZXRFeGlzdHMgPSB0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJztcbnZhciB3ZWFrTWFwRXhpc3RzID0gdHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnO1xudmFyIHdlYWtTZXRFeGlzdHMgPSB0eXBlb2YgV2Vha1NldCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgZGF0YVZpZXdFeGlzdHMgPSB0eXBlb2YgRGF0YVZpZXcgIT09ICd1bmRlZmluZWQnO1xudmFyIHN5bWJvbEl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sRXhpc3RzICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09ICd1bmRlZmluZWQnO1xudmFyIHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzID0gc3ltYm9sRXhpc3RzICYmIHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgIT09ICd1bmRlZmluZWQnO1xudmFyIHNldEVudHJpZXNFeGlzdHMgPSBzZXRFeGlzdHMgJiYgdHlwZW9mIFNldC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcbnZhciBtYXBFbnRyaWVzRXhpc3RzID0gbWFwRXhpc3RzICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09ICdmdW5jdGlvbic7XG52YXIgc2V0SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZkV4aXN0cyAmJiBzZXRFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgU2V0KCkuZW50cmllcygpKTtcbnZhciBtYXBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mRXhpc3RzICYmIG1hcEVudHJpZXNFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBNYXAoKS5lbnRyaWVzKCkpO1xudmFyIGFycmF5SXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xJdGVyYXRvckV4aXN0cyAmJiB0eXBlb2YgQXJyYXkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG52YXIgYXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG52YXIgc3RyaW5nSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xJdGVyYXRvckV4aXN0cyAmJiB0eXBlb2YgQXJyYXkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG52YXIgc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUgPSBzdHJpbmdJdGVyYXRvckV4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoJydbU3ltYm9sLml0ZXJhdG9yXSgpKTtcbnZhciB0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCA9IDg7XG52YXIgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoID0gLTE7XG4vKipcbiAqICMjIyB0eXBlT2YgKG9iailcbiAqXG4gKiBVc2VzIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCB0byBkZXRlcm1pbmUgdGhlIHR5cGUgb2YgYW4gb2JqZWN0LFxuICogbm9ybWFsaXNpbmcgYmVoYXZpb3VyIGFjcm9zcyBlbmdpbmUgdmVyc2lvbnMgJiB3ZWxsIG9wdGltaXNlZC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBvYmplY3RcbiAqIEByZXR1cm4ge1N0cmluZ30gb2JqZWN0IHR5cGVcbiAqIEBhcGkgcHVibGljXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHlwZURldGVjdChvYmopIHtcbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDMsMDM5LDAzNSBvcHMvc2VjIMKxMS42MiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAxLDQyNCwxMzggb3BzL3NlYyDCsTQuNTQlICg3NSBydW5zIHNhbXBsZWQpXG4gICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMSw2NTMsMTUzIG9wcy9zZWMgwrExLjkxJSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDksOTc4LDY2MCBvcHMvc2VjIMKxMS45MiUgKDc1IHJ1bnMgc2FtcGxlZClcbiAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAyLDU1Niw3Njkgb3BzL3NlYyDCsTEuNzMlICg3NyBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMzgsNTY0LDc5NiBvcHMvc2VjIMKxMS4xNSUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAzMSwxNDgsOTQwIG9wcy9zZWMgwrExLjEwJSAoNzkgcnVucyBzYW1wbGVkKVxuICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDMyLDY3OSwzMzAgb3BzL3NlYyDCsTEuOTAlICg3OCBydW5zIHNhbXBsZWQpXG4gICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggMzIsMzYzLDM2OCBvcHMvc2VjIMKxMS4wNyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAzMSwyOTYsODcwIG9wcy9zZWMgwrEwLjk2JSAoODMgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgdmFyIHR5cGVvZk9iaiA9IHR5cGVvZiBvYmo7XG4gIGlmICh0eXBlb2ZPYmogIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHR5cGVvZk9iajtcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBudWxsICAgICAgICAgICAgICAgeCAyOCw2NDUsNzY1IG9wcy9zZWMgwrExLjE3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDM2LDQyOCw5NjIgb3BzL3NlYyDCsTEuMzclICg4NCBydW5zIHNhbXBsZWQpXG4gICAqL1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdylgYFxuICAgKiAgLSBOb2RlID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIFBoYW50b21KUyA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gSUUgRWRnZSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpYGBcbiAgICogIC0gQ2hyb21lIFdvcmtlciA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBGaXJlZm94IFdvcmtlciA9PT0gXCJbb2JqZWN0IERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIFNhZmFyaSBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBJRSAxMSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBJRSBFZGdlIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqL1xuICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QpIHtcbiAgICByZXR1cm4gJ2dsb2JhbCc7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMiw4ODgsMzUyIG9wcy9zZWMgwrEwLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIyLDQ3OSw2NTAgb3BzL3NlYyDCsTAuOTYlICg4MSBydW5zIHNhbXBsZWQpXG4gICAqL1xuICBpZiAoaXNBcnJheUV4aXN0cyAmJiBBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gJ0FycmF5JztcbiAgfVxuXG4gIGlmIChpc0RvbSkge1xuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9icm93c2Vycy5odG1sI2xvY2F0aW9uKVxuICAgICAqIFdoYXRXRyBIVE1MJDcuNy4zIC0gVGhlIGBMb2NhdGlvbmAgaW50ZXJmYWNlXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cubG9jYXRpb24pYGBcbiAgICAgKiAgLSBJRSA8PTExID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gZ2xvYmFsT2JqZWN0LmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gJ0xvY2F0aW9uJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jZG9jdW1lbnQpXG4gICAgICogV2hhdFdHIEhUTUwkMy4xLjEgLSBUaGUgYERvY3VtZW50YCBvYmplY3RcbiAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTI2ODA5MjY4KVxuICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgKiAgICAgICBXaGF0V0cgSFRNTCBzdGF0ZXM6XG4gICAgICogICAgICAgICA+IEZvciBoaXN0b3JpY2FsIHJlYXNvbnMsIFdpbmRvdyBvYmplY3RzIG11c3QgYWxzbyBoYXZlIGFcbiAgICAgKiAgICAgICAgID4gd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSwgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgbmFtZWRcbiAgICAgKiAgICAgICAgID4gSFRNTERvY3VtZW50IHdob3NlIHZhbHVlIGlzIHRoZSBEb2N1bWVudCBpbnRlcmZhY2Ugb2JqZWN0LlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQpYGBcbiAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QuZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiAnRG9jdW1lbnQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjbWltZXR5cGVhcnJheSlcbiAgICAgKiBXaGF0V0cgSFRNTCQ4LjYuMS41IC0gUGx1Z2lucyAtIEludGVyZmFjZSBNaW1lVHlwZUFycmF5XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuYXZpZ2F0b3IubWltZVR5cGVzKWBgXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TTWltZVR5cGVzQ29sbGVjdGlvbl1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IChnbG9iYWxPYmplY3QubmF2aWdhdG9yIHx8IHt9KS5taW1lVHlwZXMpIHtcbiAgICAgIHJldHVybiAnTWltZVR5cGVBcnJheSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcbiAgICAgKiBXaGF0V0cgSFRNTCQ4LjYuMS41IC0gUGx1Z2lucyAtIEludGVyZmFjZSBQbHVnaW5BcnJheVxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLnBsdWdpbnMpYGBcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNQbHVnaW5zQ29sbGVjdGlvbl1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IChnbG9iYWxPYmplY3QubmF2aWdhdG9yIHx8IHt9KS5wbHVnaW5zKSB7XG4gICAgICByZXR1cm4gJ1BsdWdpbkFycmF5JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuICAgICAqIFdoYXRXRyBIVE1MJDQuNC40IC0gVGhlIGBibG9ja3F1b3RlYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MUXVvdGVFbGVtZW50YFxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYmxvY2txdW90ZScpKWBgXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IEhUTUxCbG9ja0VsZW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdCTE9DS1FVT1RFJykge1xuICAgICAgcmV0dXJuICdIVE1MUXVvdGVFbGVtZW50JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlZGF0YWNlbGxlbGVtZW50KVxuICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50YFxuICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG4gICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKVxuICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdURCcpIHtcbiAgICAgIHJldHVybiAnSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlaGVhZGVyY2VsbGVsZW1lbnQpXG4gICAgICogV2hhdFdHIEhUTUwkNC45LjkgLSBUaGUgYHRkYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MVGFibGVIZWFkZXJDZWxsRWxlbWVudGBcbiAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKSlcbiAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICovXG4gICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEgnKSB7XG4gICAgICByZXR1cm4gJ0hUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50JztcbiAgICB9XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAqIFByZTpcbiAgKiAgIEZsb2F0NjRBcnJheSAgICAgICB4IDYyNSw2NDQgb3BzL3NlYyDCsTEuNTglICg4MCBydW5zIHNhbXBsZWQpXG4gICogICBGbG9hdDMyQXJyYXkgICAgICAgeCAxLDI3OSw4NTIgb3BzL3NlYyDCsTIuOTElICg3NyBydW5zIHNhbXBsZWQpXG4gICogICBVaW50MzJBcnJheSAgICAgICAgeCAxLDE3OCwxODUgb3BzL3NlYyDCsTEuOTUlICg4MyBydW5zIHNhbXBsZWQpXG4gICogICBVaW50MTZBcnJheSAgICAgICAgeCAxLDAwOCwzODAgb3BzL3NlYyDCsTIuMjUlICg4MCBydW5zIHNhbXBsZWQpXG4gICogICBVaW50OEFycmF5ICAgICAgICAgeCAxLDEyOCwwNDAgb3BzL3NlYyDCsTIuMTElICg4MSBydW5zIHNhbXBsZWQpXG4gICogICBJbnQzMkFycmF5ICAgICAgICAgeCAxLDE3MCwxMTkgb3BzL3NlYyDCsTIuODglICg4MCBydW5zIHNhbXBsZWQpXG4gICogICBJbnQxNkFycmF5ICAgICAgICAgeCAxLDE3NiwzNDggb3BzL3NlYyDCsTUuNzklICg4NiBydW5zIHNhbXBsZWQpXG4gICogICBJbnQ4QXJyYXkgICAgICAgICAgeCAxLDA1OCw3MDcgb3BzL3NlYyDCsTQuOTQlICg3NyBydW5zIHNhbXBsZWQpXG4gICogICBVaW50OENsYW1wZWRBcnJheSAgeCAxLDExMCw2MzMgb3BzL3NlYyDCsTQuMjAlICg4MCBydW5zIHNhbXBsZWQpXG4gICogUG9zdDpcbiAgKiAgIEZsb2F0NjRBcnJheSAgICAgICB4IDcsMTA1LDY3MSBvcHMvc2VjIMKxMTMuNDclICg2NCBydW5zIHNhbXBsZWQpXG4gICogICBGbG9hdDMyQXJyYXkgICAgICAgeCA1LDg4Nyw5MTIgb3BzL3NlYyDCsTEuNDYlICg4MiBydW5zIHNhbXBsZWQpXG4gICogICBVaW50MzJBcnJheSAgICAgICAgeCA2LDQ5MSw2NjEgb3BzL3NlYyDCsTEuNzYlICg3OSBydW5zIHNhbXBsZWQpXG4gICogICBVaW50MTZBcnJheSAgICAgICAgeCA2LDU1OSw3OTUgb3BzL3NlYyDCsTEuNjclICg4MiBydW5zIHNhbXBsZWQpXG4gICogICBVaW50OEFycmF5ICAgICAgICAgeCA2LDQ2Myw5NjYgb3BzL3NlYyDCsTEuNDMlICg4NSBydW5zIHNhbXBsZWQpXG4gICogICBJbnQzMkFycmF5ICAgICAgICAgeCA1LDY0MSw4NDEgb3BzL3NlYyDCsTMuNDklICg4MSBydW5zIHNhbXBsZWQpXG4gICogICBJbnQxNkFycmF5ICAgICAgICAgeCA2LDU4Myw1MTEgb3BzL3NlYyDCsTEuOTglICg4MCBydW5zIHNhbXBsZWQpXG4gICogICBJbnQ4QXJyYXkgICAgICAgICAgeCA2LDYwNiwwNzggb3BzL3NlYyDCsTEuNzQlICg4MSBydW5zIHNhbXBsZWQpXG4gICogICBVaW50OENsYW1wZWRBcnJheSAgeCA2LDYwMiwyMjQgb3BzL3NlYyDCsTEuNzclICg4MyBydW5zIHNhbXBsZWQpXG4gICovXG4gIHZhciBzdHJpbmdUYWcgPSAoc3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10pO1xuICBpZiAodHlwZW9mIHN0cmluZ1RhZyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyaW5nVGFnO1xuICB9XG5cbiAgaWYgKGdldFByb3RvdHlwZU9mRXhpc3RzKSB7XG4gICAgdmFyIG9ialByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDEsNzcyLDM4NSBvcHMvc2VjIMKxMS44NSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMiwxNDMsNjM0IG9wcy9zZWMgwrEyLjQ2JSAoNzggcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMyw5MjgsMDA5IG9wcy9zZWMgwrEwLjY1JSAoNzggcnVucyBzYW1wbGVkKVxuICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAzLDkzMSwxMDggb3BzL3NlYyDCsTAuNTglICg4NCBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAob2JqUHJvdG90eXBlID09PSBSZWdFeHAucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1JlZ0V4cCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgZGF0ZSAgICAgICAgICAgICAgIHggMiwxMzAsMDc0IG9wcy9zZWMgwrE0LjQyJSAoNjggcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgZGF0ZSAgICAgICAgICAgICAgIHggMyw5NTMsNzc5IG9wcy9zZWMgwrExLjM1JSAoNzcgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG9ialByb3RvdHlwZSA9PT0gRGF0ZS5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnRGF0ZSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtcHJvbWlzZS5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjUuNC41LjQgLSBQcm9taXNlLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJQcm9taXNlXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQcm9taXNlLnJlc29sdmUoKSlgYFxuICAgICAqICAtIENocm9tZSA8PTQ3ID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICogIC0gRWRnZSA8PTIwID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICogIC0gRmlyZWZveCAyOS1MYXRlc3QgPT09IFwiW29iamVjdCBQcm9taXNlXVwiXG4gICAgICogIC0gU2FmYXJpIDcuMS1MYXRlc3QgPT09IFwiW29iamVjdCBQcm9taXNlXVwiXG4gICAgICovXG4gICAgaWYgKHByb21pc2VFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBQcm9taXNlLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdQcm9taXNlJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBzZXQgICAgICAgICAgICAgICAgeCAyLDIyMiwxODYgb3BzL3NlYyDCsTEuMzElICg4MiBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBzZXQgICAgICAgICAgICAgICAgeCA0LDU0NSw4Nzkgb3BzL3NlYyDCsTEuMTMlICg4MyBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gU2V0LnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdTZXQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIG1hcCAgICAgICAgICAgICAgICB4IDIsMzk2LDg0MiBvcHMvc2VjIMKxMS41OSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIG1hcCAgICAgICAgICAgICAgICB4IDQsMTgzLDk0NSBvcHMvc2VjIMKxNi41OSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChtYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBNYXAucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ01hcCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggMSwzMjMsMjIwIG9wcy9zZWMgwrEyLjE3JSAoNzYgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggNCwyMzcsNTEwIG9wcy9zZWMgwrEyLjAxJSAoNzcgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKHdlYWtTZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBXZWFrU2V0LnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdXZWFrU2V0JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICB3ZWFrbWFwICAgICAgICAgICAgeCAxLDUwMCwyNjAgb3BzL3NlYyDCsTIuMDIlICg3OCBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICB3ZWFrbWFwICAgICAgICAgICAgeCAzLDg4MSwzODQgb3BzL3NlYyDCsTEuNDUlICg4MiBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAod2Vha01hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtNYXAucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1dlYWtNYXAnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLWRhdGF2aWV3LnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyNC4yLjQuMjEgLSBEYXRhVmlldy5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiRGF0YVZpZXdcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKGRhdGFWaWV3RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gRGF0YVZpZXcucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ0RhdGFWaWV3JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lbWFwaXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIzLjEuNS4yLjIgLSAlTWFwSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIk1hcCBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IE1hcCgpLmVudHJpZXMoKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChtYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBtYXBJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdNYXAgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzZXRpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjMuMi41LjIuMiAtICVTZXRJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiU2V0IEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgU2V0KCkuZW50cmllcygpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IHNldEl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1NldCBJdGVyYXRvcic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJWFycmF5aXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIyLjEuNS4yLjIgLSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiQXJyYXkgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChhcnJheUl0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gYXJyYXlJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdBcnJheSBJdGVyYXRvcic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMS4xLjUuMi4yIC0gJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTdHJpbmcgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChzdHJpbmdJdGVyYXRvckV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IHN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1N0cmluZyBJdGVyYXRvcic7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgb2JqZWN0IGZyb20gbnVsbCAgIHggMiw0MjQsMzIwIG9wcy9zZWMgwrExLjY3JSAoNzYgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgb2JqZWN0IGZyb20gbnVsbCAgIHggNSw4MzgsMDAwIG9wcy9zZWMgwrEwLjk5JSAoODQgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG9ialByb3RvdHlwZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdPYmplY3QnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPYmplY3RcbiAgICAucHJvdG90eXBlXG4gICAgLnRvU3RyaW5nXG4gICAgLmNhbGwob2JqKVxuICAgIC5zbGljZSh0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCwgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLnR5cGVEZXRlY3QgPSBtb2R1bGUuZXhwb3J0cztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3R5cGUtZGV0ZWN0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTczXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRDb21wb25lbnRMb2NhbGUgPSBnZXRDb21wb25lbnRMb2NhbGU7XG5leHBvcnRzLmdldExvY2FsZUNvZGUgPSBnZXRMb2NhbGVDb2RlO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudExvY2FsZShwcm9wcywgY29udGV4dCwgY29tcG9uZW50TmFtZSwgZ2V0RGVmYXVsdExvY2FsZSkge1xuICAgIHZhciBsb2NhbGUgPSBjb250ZXh0ICYmIGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlW2NvbXBvbmVudE5hbWVdID8gY29udGV4dC5hbnRMb2NhbGVbY29tcG9uZW50TmFtZV0gOiBnZXREZWZhdWx0TG9jYWxlKCk7XG4gICAgdmFyIHJlc3VsdCA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBsb2NhbGUsIHByb3BzLmxvY2FsZSk7XG4gICAgcmVzdWx0LmxhbmcgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgbG9jYWxlLmxhbmcsIHByb3BzLmxvY2FsZS5sYW5nKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxlQ29kZShjb250ZXh0KSB7XG4gICAgdmFyIGxvY2FsZUNvZGUgPSBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZS5sb2NhbGU7XG4gICAgLy8gSGFkIHVzZSBMb2NhbGVQcm92aWRlIGJ1dCBkaWRuJ3Qgc2V0IGxvY2FsZVxuICAgIGlmIChjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZS5leGlzdCAmJiAhbG9jYWxlQ29kZSkge1xuICAgICAgICByZXR1cm4gJ3poLWNuJztcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZUNvZGU7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvX3V0aWwvZ2V0TG9jYWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfZW5fVVMgPSByZXF1aXJlKCcuLi9sb2NhbGUvZW5fVVMnKTtcblxudmFyIF9lbl9VUzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbl9VUyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIHByb3BUeXBlczoge1xuICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2NhbGU6IF9lbl9VUzJbXCJkZWZhdWx0XCJdLFxuICAgICAgc3R5bGU6IHt9LFxuICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgIHByZWZpeENsczogJ3JjLWNhbGVuZGFyJyxcbiAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICBvblNlbGVjdDogbm9vcCxcbiAgICAgIG9uQ2hhbmdlOiBub29wLFxuICAgICAgb25DbGVhcjogbm9vcCxcbiAgICAgIHJlbmRlckZvb3RlcjogZnVuY3Rpb24gcmVuZGVyRm9vdGVyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICByZW5kZXJTaWRlYmFyOiBmdW5jdGlvbiByZW5kZXJTaWRlYmFyKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy52aXNpYmxlIHx8IG5leHRQcm9wcy52aXNpYmxlO1xuICB9LFxuICBnZXRGb3JtYXQ6IGZ1bmN0aW9uIGdldEZvcm1hdCgpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5wcm9wcy5mb3JtYXQ7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgIHRpbWVQaWNrZXIgPSBfcHJvcHMudGltZVBpY2tlcjtcblxuICAgIGlmICghZm9ybWF0KSB7XG4gICAgICBpZiAodGltZVBpY2tlcikge1xuICAgICAgICBmb3JtYXQgPSBsb2NhbGUuZGF0ZVRpbWVGb3JtYXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JtYXQgPSBsb2NhbGUuZGF0ZUZvcm1hdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfSxcbiAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIGlmICh0aGlzLnJlZnMucm9vdCkge1xuICAgICAgdGhpcy5yZWZzLnJvb3QuZm9jdXMoKTtcbiAgICB9XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbWl4aW4vQ29tbW9uTWl4aW4uanNcbiAqKiBtb2R1bGUgaWQgPSAyMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTW9udGhQYW5lbCA9IHJlcXVpcmUoJy4vbW9udGgvTW9udGhQYW5lbCcpO1xuXG52YXIgX01vbnRoUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhQYW5lbCk7XG5cbnZhciBfQ2FsZW5kYXJNaXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4vQ2FsZW5kYXJNaXhpbicpO1xuXG52YXIgX0NhbGVuZGFyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNaXhpbik7XG5cbnZhciBfQ29tbW9uTWl4aW4gPSByZXF1aXJlKCcuL21peGluL0NvbW1vbk1peGluJyk7XG5cbnZhciBfQ29tbW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uTWl4aW4pO1xuXG52YXIgX0tleUNvZGUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9LZXlDb2RlJyk7XG5cbnZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBNb250aENhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ01vbnRoQ2FsZW5kYXInLFxuXG4gIHByb3BUeXBlczoge1xuICAgIG1vbnRoQ2VsbFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRhdGVDZWxsUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcbiAgbWl4aW5zOiBbX0NvbW1vbk1peGluMltcImRlZmF1bHRcIl0sIF9DYWxlbmRhck1peGluMltcImRlZmF1bHRcIl1dLFxuXG4gIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIHZhciBjdHJsS2V5ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZVZhbHVlO1xuICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV046XG4gICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuICAgICAgICB2YWx1ZS5hZGQoMywgJ21vbnRocycpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5VUDpcbiAgICAgICAgdmFsdWUgPSBzdGF0ZVZhbHVlLmNsb25lKCk7XG4gICAgICAgIHZhbHVlLmFkZCgtMywgJ21vbnRocycpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5MRUZUOlxuICAgICAgICB2YWx1ZSA9IHN0YXRlVmFsdWUuY2xvbmUoKTtcbiAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICB2YWx1ZS5hZGQoLTEsICd5ZWFycycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlLmFkZCgtMSwgJ21vbnRocycpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlJJR0hUOlxuICAgICAgICB2YWx1ZSA9IHN0YXRlVmFsdWUuY2xvbmUoKTtcbiAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICB2YWx1ZS5hZGQoMSwgJ3llYXJzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUuYWRkKDEsICdtb250aHMnKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUjpcbiAgICAgICAgdGhpcy5vblNlbGVjdChzdGF0ZVZhbHVlKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IHN0YXRlVmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Nb250aFBhbmVsMltcImRlZmF1bHRcIl0sIHtcbiAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgZGlzYWJsZWREYXRlOiBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICBzdHlsZTogeyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9LFxuICAgICAgdmFsdWU6IHRoaXMuc3RhdGUudmFsdWUsXG4gICAgICBjZWxsUmVuZGVyOiBwcm9wcy5tb250aENlbGxSZW5kZXIsXG4gICAgICBjb250ZW50UmVuZGVyOiBwcm9wcy5tb250aENlbGxDb250ZW50UmVuZGVyLFxuICAgICAgcm9vdFByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuc2V0VmFsdWUsXG4gICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3Qoe1xuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vbnRoQ2FsZW5kYXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvTW9udGhDYWxlbmRhci5qc1xuICoqIG1vZHVsZSBpZCA9IDI1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9jcmVhdGVDaGFpbmVkRnVuY3Rpb24nKTtcblxudmFyIF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKTtcblxudmFyIF9LZXlDb2RlID0gcmVxdWlyZSgncmMtdXRpbC9saWIvS2V5Q29kZScpO1xuXG52YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cbnZhciBfcGxhY2VtZW50cyA9IHJlcXVpcmUoJy4vcGlja2VyL3BsYWNlbWVudHMnKTtcblxudmFyIF9wbGFjZW1lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYWNlbWVudHMpO1xuXG52YXIgX3JjVHJpZ2dlciA9IHJlcXVpcmUoJ3JjLXRyaWdnZXInKTtcblxudmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiByZWZGbihmaWVsZCwgY29tcG9uZW50KSB7XG4gIHRoaXNbZmllbGRdID0gY29tcG9uZW50O1xufVxuXG52YXIgUGlja2VyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1BpY2tlcicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5mdW5jLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25PcGVuQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBnZXRDYWxlbmRhckNvbnRhaW5lcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGNhbGVuZGFyOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIG9wZW46IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkZWZhdWx0T3BlbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgcGxhY2VtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSksXG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKSxcbiAgICBhbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3RcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlZml4Q2xzOiAncmMtY2FsZW5kYXItcGlja2VyJyxcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIGFsaWduOiB7fSxcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnLFxuICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgICBvbk9wZW5DaGFuZ2U6IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBvcGVuID0gdm9pZCAwO1xuICAgIGlmICgnb3BlbicgaW4gcHJvcHMpIHtcbiAgICAgIG9wZW4gPSBwcm9wcy5vcGVuO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuID0gcHJvcHMuZGVmYXVsdE9wZW47XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLnNhdmVDYWxlbmRhclJlZiA9IHJlZkZuLmJpbmQodGhpcywgJ2NhbGVuZGFySW5zdGFuY2UnKTtcbiAgICByZXR1cm4ge1xuICAgICAgb3Blbjogb3BlbixcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlLFxuICAgICAgICBvcGVuID0gbmV4dFByb3BzLm9wZW47XG5cbiAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob3BlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgb3Blbjogb3BlblxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShfLCBwcmV2U3RhdGUpIHtcbiAgICBpZiAoIXByZXZTdGF0ZS5vcGVuICYmIHRoaXMuc3RhdGUub3Blbikge1xuICAgICAgdGhpcy5mb2N1c0NhbGVuZGFyKCk7XG4gICAgfVxuICB9LFxuICBvbkNhbGVuZGFyS2V5RG93bjogZnVuY3Rpb24gb25DYWxlbmRhcktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FU0MpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcbiAgICB9XG4gIH0sXG4gIG9uQ2FsZW5kYXJTZWxlY3Q6IGZ1bmN0aW9uIG9uQ2FsZW5kYXJTZWxlY3QodmFsdWUpIHtcbiAgICB2YXIgY2F1c2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChjYXVzZS5zb3VyY2UgPT09ICdrZXlib2FyZCcgfHwgIXByb3BzLmNhbGVuZGFyLnByb3BzLnRpbWVQaWNrZXIgJiYgY2F1c2Uuc291cmNlICE9PSAnZGF0ZUlucHV0JyB8fCBjYXVzZS5zb3VyY2UgPT09ICd0b2RheUJ1dHRvbicpIHtcbiAgICAgIHRoaXMuY2xvc2UodGhpcy5mb2N1cyk7XG4gICAgfVxuICAgIHByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcbiAgfSxcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOICYmICF0aGlzLnN0YXRlLm9wZW4pIHtcbiAgICAgIHRoaXMub3BlbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sXG4gIG9uQ2FsZW5kYXJPazogZnVuY3Rpb24gb25DYWxlbmRhck9rKCkge1xuICAgIHRoaXMuY2xvc2UodGhpcy5mb2N1cyk7XG4gIH0sXG4gIG9uQ2FsZW5kYXJDbGVhcjogZnVuY3Rpb24gb25DYWxlbmRhckNsZWFyKCkge1xuICAgIHRoaXMuY2xvc2UodGhpcy5mb2N1cyk7XG4gIH0sXG4gIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKG9wZW4pIHtcbiAgICB0aGlzLnNldE9wZW4ob3Blbik7XG4gIH0sXG4gIGdldENhbGVuZGFyRWxlbWVudDogZnVuY3Rpb24gZ2V0Q2FsZW5kYXJFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgY2FsZW5kYXJQcm9wcyA9IHByb3BzLmNhbGVuZGFyLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHZvaWQgMDtcbiAgICAvLyBSYW5nZUNhbGVuZGFyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB2YWx1ZVswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHZhciBleHRyYVByb3BzID0ge1xuICAgICAgcmVmOiB0aGlzLnNhdmVDYWxlbmRhclJlZixcbiAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIHx8IGNhbGVuZGFyUHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgc2VsZWN0ZWRWYWx1ZTogdmFsdWUsXG4gICAgICBvbktleURvd246IHRoaXMub25DYWxlbmRhcktleURvd24sXG4gICAgICBvbk9rOiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uT2ssIHRoaXMub25DYWxlbmRhck9rKSxcbiAgICAgIG9uU2VsZWN0OiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uU2VsZWN0LCB0aGlzLm9uQ2FsZW5kYXJTZWxlY3QpLFxuICAgICAgb25DbGVhcjogKDAsIF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24yW1wiZGVmYXVsdFwiXSkoY2FsZW5kYXJQcm9wcy5vbkNsZWFyLCB0aGlzLm9uQ2FsZW5kYXJDbGVhcilcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChwcm9wcy5jYWxlbmRhciwgZXh0cmFQcm9wcyk7XG4gIH0sXG4gIHNldE9wZW46IGZ1bmN0aW9uIHNldE9wZW4ob3BlbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgb25PcGVuQ2hhbmdlID0gdGhpcy5wcm9wcy5vbk9wZW5DaGFuZ2U7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICE9PSBvcGVuKSB7XG4gICAgICBpZiAoISgnb3BlbicgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgb3Blbjogb3BlblxuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG4gICAgfVxuICB9LFxuICBvcGVuOiBmdW5jdGlvbiBvcGVuKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRPcGVuKHRydWUsIGNhbGxiYWNrKTtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRPcGVuKGZhbHNlLCBjYWxsYmFjayk7XG4gIH0sXG4gIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUub3Blbikge1xuICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcbiAgICB9XG4gIH0sXG4gIGZvY3VzQ2FsZW5kYXI6IGZ1bmN0aW9uIGZvY3VzQ2FsZW5kYXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUub3BlbiAmJiB0aGlzLmNhbGVuZGFySW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXJJbnN0YW5jZS5mb2N1cygpO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBwbGFjZW1lbnQgPSBwcm9wcy5wbGFjZW1lbnQsXG4gICAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICAgIGdldENhbGVuZGFyQ29udGFpbmVyID0gcHJvcHMuZ2V0Q2FsZW5kYXJDb250YWluZXIsXG4gICAgICAgIGFsaWduID0gcHJvcHMuYWxpZ24sXG4gICAgICAgIGFuaW1hdGlvbiA9IHByb3BzLmFuaW1hdGlvbixcbiAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZSxcbiAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcblxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG4gICAgICB7XG4gICAgICAgIHBvcHVwOiB0aGlzLmdldENhbGVuZGFyRWxlbWVudCgpLFxuICAgICAgICBwb3B1cEFsaWduOiBhbGlnbixcbiAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IF9wbGFjZW1lbnRzMltcImRlZmF1bHRcIl0sXG4gICAgICAgIHBvcHVwUGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgIGFjdGlvbjogZGlzYWJsZWQgJiYgIXN0YXRlLm9wZW4gPyBbXSA6IFsnY2xpY2snXSxcbiAgICAgICAgZGVzdHJveVBvcHVwT25IaWRlOiB0cnVlLFxuICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0Q2FsZW5kYXJDb250YWluZXIsXG4gICAgICAgIHBvcHVwU3R5bGU6IHN0eWxlLFxuICAgICAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcbiAgICAgICAgcG9wdXBWaXNpYmxlOiBzdGF0ZS5vcGVuLFxuICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsXG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzXG4gICAgICB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGNoaWxkcmVuKHN0YXRlLCBwcm9wcyksIHsgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93biB9KVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBpY2tlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9QaWNrZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAyNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfTW9udGhQYW5lbCA9IHJlcXVpcmUoJy4uL21vbnRoL01vbnRoUGFuZWwnKTtcblxudmFyIF9Nb250aFBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoUGFuZWwpO1xuXG52YXIgX1llYXJQYW5lbCA9IHJlcXVpcmUoJy4uL3llYXIvWWVhclBhbmVsJyk7XG5cbnZhciBfWWVhclBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1llYXJQYW5lbCk7XG5cbnZhciBfbWFwU2VsZiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0NoaWxkcmVuL21hcFNlbGYnKTtcblxudmFyIF9tYXBTZWxmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFNlbGYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ29Nb250aChkaXJlY3Rpb24pIHtcbiAgdmFyIG5leHQgPSB0aGlzLnByb3BzLnZhbHVlLmNsb25lKCk7XG4gIG5leHQuYWRkKGRpcmVjdGlvbiwgJ21vbnRocycpO1xuICB0aGlzLnByb3BzLm9uVmFsdWVDaGFuZ2UobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcbiAgdmFyIG5leHQgPSB0aGlzLnByb3BzLnZhbHVlLmNsb25lKCk7XG4gIG5leHQuYWRkKGRpcmVjdGlvbiwgJ3llYXJzJyk7XG4gIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZShuZXh0KTtcbn1cblxuZnVuY3Rpb24gc2hvd0lmKGNvbmRpdGlvbiwgZWwpIHtcbiAgcmV0dXJuIGNvbmRpdGlvbiA/IGVsIDogbnVsbDtcbn1cblxudmFyIENhbGVuZGFySGVhZGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFySGVhZGVyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBlbmFibGVQcmV2OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBlbmFibGVOZXh0OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNob3dUaW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb25WYWx1ZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuYWJsZU5leHQ6IDEsXG4gICAgICBlbmFibGVQcmV2OiAxXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdGhpcy5uZXh0TW9udGggPSBnb01vbnRoLmJpbmQodGhpcywgMSk7XG4gICAgdGhpcy5wcmV2aW91c01vbnRoID0gZ29Nb250aC5iaW5kKHRoaXMsIC0xKTtcbiAgICB0aGlzLm5leHRZZWFyID0gZ29ZZWFyLmJpbmQodGhpcywgMSk7XG4gICAgdGhpcy5wcmV2aW91c1llYXIgPSBnb1llYXIuYmluZCh0aGlzLCAtMSk7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dNb250aFBhbmVsOiAwLFxuICAgICAgc2hvd1llYXJQYW5lbDogMFxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG4gIH0sXG4gIG1vbnRoWWVhckVsZW1lbnQ6IGZ1bmN0aW9uIG1vbnRoWWVhckVsZW1lbnQoc2hvd1RpbWVQaWNrZXIpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICB2YXIgbW9udGhCZWZvcmVZZWFyID0gbG9jYWxlLm1vbnRoQmVmb3JlWWVhcjtcbiAgICB2YXIgc2VsZWN0Q2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy0nICsgKG1vbnRoQmVmb3JlWWVhciA/ICdteS1zZWxlY3QnIDogJ3ltLXNlbGVjdCcpO1xuICAgIHZhciB5ZWFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdhJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXItc2VsZWN0JyxcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgIG9uQ2xpY2s6IHNob3dUaW1lUGlja2VyID8gbnVsbCA6IHRoaXMuc2hvd1llYXJQYW5lbCxcbiAgICAgICAgdGl0bGU6IGxvY2FsZS55ZWFyU2VsZWN0XG4gICAgICB9LFxuICAgICAgdmFsdWUuZm9ybWF0KGxvY2FsZS55ZWFyRm9ybWF0KVxuICAgICk7XG4gICAgdmFyIG1vbnRoID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdhJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1vbnRoLXNlbGVjdCcsXG4gICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICBvbkNsaWNrOiBzaG93VGltZVBpY2tlciA/IG51bGwgOiB0aGlzLnNob3dNb250aFBhbmVsLFxuICAgICAgICB0aXRsZTogbG9jYWxlLm1vbnRoU2VsZWN0XG4gICAgICB9LFxuICAgICAgdmFsdWUuZm9ybWF0KGxvY2FsZS5tb250aEZvcm1hdClcbiAgICApO1xuICAgIHZhciBkYXkgPSB2b2lkIDA7XG4gICAgaWYgKHNob3dUaW1lUGlja2VyKSB7XG4gICAgICBkYXkgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnYScsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF5LXNlbGVjdCcsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbidcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWUuZm9ybWF0KGxvY2FsZS5kYXlGb3JtYXQpXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgbXkgPSBbXTtcbiAgICBpZiAobW9udGhCZWZvcmVZZWFyKSB7XG4gICAgICBteSA9IFttb250aCwgZGF5LCB5ZWFyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXkgPSBbeWVhciwgbW9udGgsIGRheV07XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3NwYW4nLFxuICAgICAgeyBjbGFzc05hbWU6IHNlbGVjdENsYXNzTmFtZSB9LFxuICAgICAgKDAsIF9tYXBTZWxmMltcImRlZmF1bHRcIl0pKG15KVxuICAgICk7XG4gIH0sXG4gIHNob3dNb250aFBhbmVsOiBmdW5jdGlvbiBzaG93TW9udGhQYW5lbCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dNb250aFBhbmVsOiAxLFxuICAgICAgc2hvd1llYXJQYW5lbDogMFxuICAgIH0pO1xuICB9LFxuICBzaG93WWVhclBhbmVsOiBmdW5jdGlvbiBzaG93WWVhclBhbmVsKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd01vbnRoUGFuZWw6IDAsXG4gICAgICBzaG93WWVhclBhbmVsOiAxXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGVuYWJsZU5leHQgPSBwcm9wcy5lbmFibGVOZXh0LFxuICAgICAgICBlbmFibGVQcmV2ID0gcHJvcHMuZW5hYmxlUHJldixcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG4gICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICAgIHNob3dUaW1lUGlja2VyID0gcHJvcHMuc2hvd1RpbWVQaWNrZXI7XG5cbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBQYW5lbENsYXNzID0gbnVsbDtcbiAgICBpZiAoc3RhdGUuc2hvd01vbnRoUGFuZWwpIHtcbiAgICAgIFBhbmVsQ2xhc3MgPSBfTW9udGhQYW5lbDJbXCJkZWZhdWx0XCJdO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuc2hvd1llYXJQYW5lbCkge1xuICAgICAgUGFuZWxDbGFzcyA9IF9ZZWFyUGFuZWwyW1wiZGVmYXVsdFwiXTtcbiAgICB9XG4gICAgdmFyIHBhbmVsID0gdm9pZCAwO1xuICAgIGlmIChQYW5lbENsYXNzKSB7XG4gICAgICBwYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoUGFuZWxDbGFzcywge1xuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogeyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9IH0sXG4gICAgICAgIHNob3dJZihlbmFibGVQcmV2ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi15ZWFyLWJ0bicsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c1llYXIsXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c1llYXJcbiAgICAgICAgfSkpLFxuICAgICAgICBzaG93SWYoZW5hYmxlUHJldiAmJiAhc2hvd1RpbWVQaWNrZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYtbW9udGgtYnRuJyxcbiAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXZpb3VzTW9udGgsXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c01vbnRoXG4gICAgICAgIH0pKSxcbiAgICAgICAgdGhpcy5tb250aFllYXJFbGVtZW50KHNob3dUaW1lUGlja2VyKSxcbiAgICAgICAgc2hvd0lmKGVuYWJsZU5leHQgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LW1vbnRoLWJ0bicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5uZXh0TW9udGgsXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0TW9udGhcbiAgICAgICAgfSkpLFxuICAgICAgICBzaG93SWYoZW5hYmxlTmV4dCAmJiAhc2hvd1RpbWVQaWNrZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQteWVhci1idG4nLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dFllYXIsXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0WWVhclxuICAgICAgICB9KSlcbiAgICAgICksXG4gICAgICBwYW5lbFxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFySGVhZGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL0NhbGVuZGFySGVhZGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMjUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPa0J1dHRvbjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBPa0J1dHRvbihfcmVmKSB7XG4gIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcbiAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuICAgICAgb2tEaXNhYmxlZCA9IF9yZWYub2tEaXNhYmxlZCxcbiAgICAgIG9uT2sgPSBfcmVmLm9uT2s7XG5cbiAgdmFyIGNsYXNzTmFtZSA9IHByZWZpeENscyArIFwiLW9rLWJ0blwiO1xuICBpZiAob2tEaXNhYmxlZCkge1xuICAgIGNsYXNzTmFtZSArPSBcIiBcIiArIHByZWZpeENscyArIFwiLW9rLWJ0bi1kaXNhYmxlZFwiO1xuICB9XG4gIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgIFwiYVwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIG9uQ2xpY2s6IG9rRGlzYWJsZWQgPyBudWxsIDogb25Pa1xuICAgIH0sXG4gICAgbG9jYWxlLm9rXG4gICk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvY2FsZW5kYXIvT2tCdXR0b24uanNcbiAqKiBtb2R1bGUgaWQgPSAyNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGltZVBpY2tlckJ1dHRvbjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gVGltZVBpY2tlckJ1dHRvbihfcmVmKSB7XG4gIHZhciBfY2xhc3NuYW1lcztcblxuICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG4gICAgICBsb2NhbGUgPSBfcmVmLmxvY2FsZSxcbiAgICAgIHNob3dUaW1lUGlja2VyID0gX3JlZi5zaG93VGltZVBpY2tlcixcbiAgICAgIG9uT3BlblRpbWVQaWNrZXIgPSBfcmVmLm9uT3BlblRpbWVQaWNrZXIsXG4gICAgICBvbkNsb3NlVGltZVBpY2tlciA9IF9yZWYub25DbG9zZVRpbWVQaWNrZXIsXG4gICAgICB0aW1lUGlja2VyRGlzYWJsZWQgPSBfcmVmLnRpbWVQaWNrZXJEaXNhYmxlZDtcblxuICB2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLWJ0bicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLWJ0bi1kaXNhYmxlZCcsIHRpbWVQaWNrZXJEaXNhYmxlZCksIF9jbGFzc25hbWVzKSk7XG4gIHZhciBvbkNsaWNrID0gbnVsbDtcbiAgaWYgKCF0aW1lUGlja2VyRGlzYWJsZWQpIHtcbiAgICBvbkNsaWNrID0gc2hvd1RpbWVQaWNrZXIgPyBvbkNsb3NlVGltZVBpY2tlciA6IG9uT3BlblRpbWVQaWNrZXI7XG4gIH1cbiAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2EnLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICBvbkNsaWNrOiBvbkNsaWNrXG4gICAgfSxcbiAgICBzaG93VGltZVBpY2tlciA/IGxvY2FsZS5kYXRlU2VsZWN0IDogbG9jYWxlLnRpbWVTZWxlY3RcbiAgKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9UaW1lUGlja2VyQnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gMjU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVG9kYXlCdXR0b247XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi4vdXRpbC8nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIFRvZGF5QnV0dG9uKF9yZWYpIHtcbiAgdmFyIHByZWZpeENscyA9IF9yZWYucHJlZml4Q2xzLFxuICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG4gICAgICB2YWx1ZSA9IF9yZWYudmFsdWUsXG4gICAgICB0aW1lUGlja2VyID0gX3JlZi50aW1lUGlja2VyLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgZGlzYWJsZWREYXRlID0gX3JlZi5kaXNhYmxlZERhdGUsXG4gICAgICBvblRvZGF5ID0gX3JlZi5vblRvZGF5LFxuICAgICAgdGV4dCA9IF9yZWYudGV4dDtcblxuICB2YXIgbG9jYWxlTm93ID0gKCF0ZXh0ICYmIHRpbWVQaWNrZXIgPyBsb2NhbGUubm93IDogdGV4dCkgfHwgbG9jYWxlLnRvZGF5O1xuICB2YXIgZGlzYWJsZWRUb2RheSA9IGRpc2FibGVkRGF0ZSAmJiAhKDAsIF91dGlsLmlzQWxsb3dlZERhdGUpKCgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHZhbHVlKSwgZGlzYWJsZWREYXRlKTtcbiAgdmFyIGlzRGlzYWJsZWQgPSBkaXNhYmxlZFRvZGF5IHx8IGRpc2FibGVkO1xuICB2YXIgZGlzYWJsZWRUb2RheUNsYXNzID0gaXNEaXNhYmxlZCA/IHByZWZpeENscyArICctdG9kYXktYnRuLWRpc2FibGVkJyA6ICcnO1xuICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAnYScsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvZGF5LWJ0biAnICsgZGlzYWJsZWRUb2RheUNsYXNzLFxuICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICBvbkNsaWNrOiBpc0Rpc2FibGVkID8gbnVsbCA6IG9uVG9kYXksXG4gICAgICB0aXRsZTogKDAsIF91dGlsLmdldFRvZGF5VGltZVN0cikodmFsdWUpXG4gICAgfSxcbiAgICBsb2NhbGVOb3dcbiAgKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9Ub2RheUJ1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDI1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBEQVRFX1JPV19DT1VOVDogNixcbiAgREFURV9DT0xfQ09VTlQ6IDdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlQ29uc3RhbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gMjU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERhdGVJbnB1dCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdEYXRlSW5wdXQnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cjogc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3RlZFZhbHVlLmZvcm1hdCh0aGlzLnByb3BzLmZvcm1hdCkgfHwgJycsXG4gICAgICBpbnZhbGlkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgLy8gd2hlbiBwb3B1cCBzaG93LCBjbGljayBib2R5IHdpbGwgY2FsbCB0aGlzLCBidWchXG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHN0cjogc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3RlZFZhbHVlLmZvcm1hdChuZXh0UHJvcHMuZm9ybWF0KSB8fCAnJyxcbiAgICAgIGludmFsaWQ6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgc3RyID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RyOiBzdHJcbiAgICB9KTtcbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRpc2FibGVkRGF0ZSA9IF9wcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQsXG4gICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlO1xuXG4gICAgaWYgKHN0cikge1xuICAgICAgdmFyIHBhcnNlZCA9ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKHN0ciwgZm9ybWF0LCB0cnVlKTtcbiAgICAgIGlmICghcGFyc2VkLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnZhbGlkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcbiAgICAgIHZhbHVlLnllYXIocGFyc2VkLnllYXIoKSkubW9udGgocGFyc2VkLm1vbnRoKCkpLmRhdGUocGFyc2VkLmRhdGUoKSkuaG91cihwYXJzZWQuaG91cigpKS5taW51dGUocGFyc2VkLm1pbnV0ZSgpKS5zZWNvbmQocGFyc2VkLnNlY29uZCgpKTtcblxuICAgICAgaWYgKHZhbHVlICYmICghZGlzYWJsZWREYXRlIHx8ICFkaXNhYmxlZERhdGUodmFsdWUpKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgaWYgKG9yaWdpbmFsVmFsdWUgJiYgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoIW9yaWdpbmFsVmFsdWUuaXNTYW1lKHZhbHVlKSkge1xuICAgICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW52YWxpZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvbkNoYW5nZShudWxsKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbnZhbGlkOiBmYWxzZVxuICAgIH0pO1xuICB9LFxuICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RyOiAnJ1xuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25DbGVhcihudWxsKTtcbiAgfSxcbiAgZ2V0Um9vdERPTU5vZGU6IGZ1bmN0aW9uIGdldFJvb3RET01Ob2RlKCkge1xuICAgIHJldHVybiBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgfSxcbiAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIHRoaXMucmVmcy5kYXRlSW5wdXQuZm9jdXMoKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgaW52YWxpZCA9IF9zdGF0ZS5pbnZhbGlkLFxuICAgICAgICBzdHIgPSBfc3RhdGUuc3RyO1xuICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcjtcblxuICAgIHZhciBpbnZhbGlkQ2xhc3MgPSBpbnZhbGlkID8gcHJlZml4Q2xzICsgJy1pbnB1dC1pbnZhbGlkJyA6ICcnO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dC13cmFwJyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRhdGUtaW5wdXQtd3JhcCcgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgICAgICAgcmVmOiAnZGF0ZUlucHV0JyxcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQgJyArIGludmFsaWRDbGFzcyxcbiAgICAgICAgICB2YWx1ZTogc3RyLFxuICAgICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHByb3BzLnNob3dDbGVhciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbGVhci1idG4nLFxuICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgdGl0bGU6IGxvY2FsZS5jbGVhcixcbiAgICAgICAgb25DbGljazogdGhpcy5vbkNsZWFyXG4gICAgICB9KSA6IG51bGxcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlSW5wdXQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlSW5wdXQuanNcbiAqKiBtb2R1bGUgaWQgPSAyNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9EYXRlVEhlYWQgPSByZXF1aXJlKCcuL0RhdGVUSGVhZCcpO1xuXG52YXIgX0RhdGVUSGVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlVEhlYWQpO1xuXG52YXIgX0RhdGVUQm9keSA9IHJlcXVpcmUoJy4vRGF0ZVRCb2R5Jyk7XG5cbnZhciBfRGF0ZVRCb2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUQm9keSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRGF0ZVRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEYXRlVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVUYWJsZSgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERhdGVUYWJsZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgRGF0ZVRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RhYmxlJyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVEhlYWQyW1wiZGVmYXVsdFwiXSwgcHJvcHMpLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZVRCb2R5MltcImRlZmF1bHRcIl0sIHByb3BzKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIERhdGVUYWJsZTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVGFibGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlVGFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAyNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0NhbGVuZGFyID0gcmVxdWlyZSgnLi9DYWxlbmRhcicpO1xuXG52YXIgX0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0NhbGVuZGFyMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIHRvZGF5OiAn5LuK5aSpJyxcbiAgbm93OiAn5q2k5Yi7JyxcbiAgYmFja1RvVG9kYXk6ICfov5Tlm57ku4rlpKknLFxuICBvazogJ+ehruWumicsXG4gIHRpbWVTZWxlY3Q6ICfpgInmi6nml7bpl7QnLFxuICBkYXRlU2VsZWN0OiAn6YCJ5oup5pel5pyfJyxcbiAgY2xlYXI6ICfmuIXpmaQnLFxuICBtb250aDogJ+aciCcsXG4gIHllYXI6ICflubQnLFxuICBwcmV2aW91c01vbnRoOiAn5LiK5Liq5pyIICjnv7vpobXkuIrplK4pJyxcbiAgbmV4dE1vbnRoOiAn5LiL5Liq5pyIICjnv7vpobXkuIvplK4pJyxcbiAgbW9udGhTZWxlY3Q6ICfpgInmi6nmnIjku70nLFxuICB5ZWFyU2VsZWN0OiAn6YCJ5oup5bm05Lu9JyxcbiAgZGVjYWRlU2VsZWN0OiAn6YCJ5oup5bm05LujJyxcbiAgeWVhckZvcm1hdDogJ1lZWVnlubQnLFxuICBtb250aEZvcm1hdDogJ03mnIgnLFxuICBkYXlGb3JtYXQ6ICdE5pelJyxcbiAgZGF0ZUZvcm1hdDogJ1lZWVnlubRN5pyIROaXpScsXG4gIGRhdGVUaW1lRm9ybWF0OiAnWVlZWeW5tE3mnIhE5pelIEhI5pe2bW3liIZzc+enkicsXG4gIHByZXZpb3VzWWVhcjogJ+S4iuS4gOW5tCAoQ29udHJvbOmUruWKoOW3puaWueWQkemUriknLFxuICBuZXh0WWVhcjogJ+S4i+S4gOW5tCAoQ29udHJvbOmUruWKoOWPs+aWueWQkemUriknLFxuICBwcmV2aW91c0RlY2FkZTogJ+S4iuS4gOW5tOS7oycsXG4gIG5leHREZWNhZGU6ICfkuIvkuIDlubTku6MnLFxuICBwcmV2aW91c0NlbnR1cnk6ICfkuIrkuIDkuJbnuqonLFxuICBuZXh0Q2VudHVyeTogJ+S4i+S4gOS4lue6qidcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbG9jYWxlL3poX0NOLmpzXG4gKiogbW9kdWxlIGlkID0gMjYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi4vdXRpbC9pbmRleCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGdldE5vdygpIHtcbiAgcmV0dXJuICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKCk7XG59XG5cbmZ1bmN0aW9uIGdldE5vd0J5Q3VycmVudFN0YXRlVmFsdWUodmFsdWUpIHtcbiAgdmFyIHJldCA9IHZvaWQgMDtcbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0ID0gKDAsIF9pbmRleC5nZXRUb2RheVRpbWUpKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXQgPSBnZXROb3coKTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG52YXIgQ2FsZW5kYXJNaXhpbiA9IHtcbiAgcHJvcFR5cGVzOiB7XG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb25LZXlEb3duOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25LZXlEb3duOiBub29wXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUgfHwgZ2V0Tm93KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIHNlbGVjdGVkVmFsdWU6IHByb3BzLnNlbGVjdGVkVmFsdWUgfHwgcHJvcHMuZGVmYXVsdFNlbGVjdGVkVmFsdWVcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlO1xuXG4gICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlIHx8IG5leHRQcm9wcy5kZWZhdWx0VmFsdWUgfHwgZ2V0Tm93QnlDdXJyZW50U3RhdGVWYWx1ZSh0aGlzLnN0YXRlLnZhbHVlKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoJ3NlbGVjdGVkVmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlLCBjYXVzZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMuc2V0U2VsZWN0ZWRWYWx1ZSh2YWx1ZSwgY2F1c2UpO1xuICB9LFxuICByZW5kZXJSb290OiBmdW5jdGlvbiByZW5kZXJSb290KG5ld1Byb3BzKSB7XG4gICAgdmFyIF9jbGFzc05hbWU7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gKF9jbGFzc05hbWUgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctaGlkZGVuJywgIXByb3BzLnZpc2libGUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByb3BzLmNsYXNzTmFtZSwgISFwcm9wcy5jbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIG5ld1Byb3BzLmNsYXNzTmFtZSwgISFuZXdQcm9wcy5jbGFzc05hbWUpLCBfY2xhc3NOYW1lKTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIHJlZjogJ3Jvb3QnLFxuICAgICAgICBjbGFzc05hbWU6ICcnICsgKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSksXG4gICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLnN0eWxlLFxuICAgICAgICB0YWJJbmRleDogJzAnLFxuICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duXG4gICAgICB9LFxuICAgICAgbmV3UHJvcHMuY2hpbGRyZW5cbiAgICApO1xuICB9LFxuICBzZXRTZWxlY3RlZFZhbHVlOiBmdW5jdGlvbiBzZXRTZWxlY3RlZFZhbHVlKHNlbGVjdGVkVmFsdWUsIGNhdXNlKSB7XG4gICAgLy8gaWYgKHRoaXMuaXNBbGxvd2VkRGF0ZShzZWxlY3RlZFZhbHVlKSkge1xuICAgIGlmICghKCdzZWxlY3RlZFZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHNlbGVjdGVkVmFsdWUsIGNhdXNlKTtcbiAgICAvLyB9XG4gIH0sXG4gIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICBpZiAoISgndmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgJiYgdmFsdWUgJiYgIW9yaWdpbmFsVmFsdWUuaXNTYW1lKHZhbHVlKSB8fCAhb3JpZ2luYWxWYWx1ZSAmJiB2YWx1ZSB8fCBvcmlnaW5hbFZhbHVlICYmICF2YWx1ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBpc0FsbG93ZWREYXRlOiBmdW5jdGlvbiBpc0FsbG93ZWREYXRlKHZhbHVlKSB7XG4gICAgdmFyIGRpc2FibGVkRGF0ZSA9IHRoaXMucHJvcHMuZGlzYWJsZWREYXRlO1xuICAgIHZhciBkaXNhYmxlZFRpbWUgPSB0aGlzLnByb3BzLmRpc2FibGVkVGltZTtcbiAgICByZXR1cm4gKDAsIF9pbmRleC5pc0FsbG93ZWREYXRlKSh2YWx1ZSwgZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWUpO1xuICB9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyTWl4aW47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbWl4aW4vQ2FsZW5kYXJNaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDI2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9ZZWFyUGFuZWwgPSByZXF1aXJlKCcuLi95ZWFyL1llYXJQYW5lbCcpO1xuXG52YXIgX1llYXJQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ZZWFyUGFuZWwpO1xuXG52YXIgX01vbnRoVGFibGUgPSByZXF1aXJlKCcuL01vbnRoVGFibGUnKTtcblxudmFyIF9Nb250aFRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoVGFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5hZGQoZGlyZWN0aW9uLCAneWVhcicpO1xuICB0aGlzLnNldEFuZENoYW5nZVZhbHVlKG5leHQpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIE1vbnRoUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnTW9udGhQYW5lbCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uQ2hhbmdlOiBub29wLFxuICAgICAgb25TZWxlY3Q6IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIC8vIGJpbmQgbWV0aG9kc1xuICAgIHRoaXMubmV4dFllYXIgPSBnb1llYXIuYmluZCh0aGlzLCAxKTtcbiAgICB0aGlzLnByZXZpb3VzWWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIC0xKTtcbiAgICB0aGlzLnByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLW1vbnRoLXBhbmVsJztcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvblllYXJQYW5lbFNlbGVjdDogZnVuY3Rpb24gb25ZZWFyUGFuZWxTZWxlY3QoY3VycmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1llYXJQYW5lbDogMFxuICAgIH0pO1xuICAgIHRoaXMuc2V0QW5kQ2hhbmdlVmFsdWUoY3VycmVudCk7XG4gIH0sXG4gIHNldEFuZENoYW5nZVZhbHVlOiBmdW5jdGlvbiBzZXRBbmRDaGFuZ2VWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xuICB9LFxuICBzZXRBbmRTZWxlY3RWYWx1ZTogZnVuY3Rpb24gc2V0QW5kU2VsZWN0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcbiAgfSxcbiAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKCEoJ3ZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBzaG93WWVhclBhbmVsOiBmdW5jdGlvbiBzaG93WWVhclBhbmVsKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1llYXJQYW5lbDogMVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIGNlbGxSZW5kZXIgPSBwcm9wcy5jZWxsUmVuZGVyO1xuICAgIHZhciBjb250ZW50UmVuZGVyID0gcHJvcHMuY29udGVudFJlbmRlcjtcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgIHZhciB5ZWFyID0gdmFsdWUueWVhcigpO1xuICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByZWZpeENscztcbiAgICB2YXIgeWVhclBhbmVsID0gdm9pZCAwO1xuICAgIGlmICh0aGlzLnN0YXRlLnNob3dZZWFyUGFuZWwpIHtcbiAgICAgIHllYXJQYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1llYXJQYW5lbDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHJvb3RQcmVmaXhDbHM6IHByb3BzLnJvb3RQcmVmaXhDbHMsXG4gICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uWWVhclBhbmVsU2VsZWN0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi15ZWFyLWJ0bicsXG4gICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNZZWFyLFxuICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c1llYXJcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QnLFxuICAgICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zaG93WWVhclBhbmVsLFxuICAgICAgICAgICAgICB0aXRsZTogbG9jYWxlLnllYXJTZWxlY3RcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXItc2VsZWN0LWNvbnRlbnQnIH0sXG4gICAgICAgICAgICAgIHllYXJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXItc2VsZWN0LWFycm93JyB9LFxuICAgICAgICAgICAgICAneCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbmV4dC15ZWFyLWJ0bicsXG4gICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dFllYXIsXG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRZZWFyXG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX01vbnRoVGFibGUyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgICAgZGlzYWJsZWREYXRlOiBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgICAgICBvblNlbGVjdDogdGhpcy5zZXRBbmRTZWxlY3RWYWx1ZSxcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgY2VsbFJlbmRlcjogY2VsbFJlbmRlcixcbiAgICAgICAgICAgIGNvbnRlbnRSZW5kZXI6IGNvbnRlbnRSZW5kZXIsXG4gICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENsc1xuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICksXG4gICAgICB5ZWFyUGFuZWxcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb250aFBhbmVsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL21vbnRoL01vbnRoUGFuZWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyNjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9EZWNhZGVQYW5lbCA9IHJlcXVpcmUoJy4uL2RlY2FkZS9EZWNhZGVQYW5lbCcpO1xuXG52YXIgX0RlY2FkZVBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RlY2FkZVBhbmVsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBST1cgPSA0O1xudmFyIENPTCA9IDM7XG5cbmZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcbiAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuICB2YWx1ZS5hZGQoZGlyZWN0aW9uLCAneWVhcicpO1xuICB0aGlzLnNldFN0YXRlKHtcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNob29zZVllYXIoeWVhcikge1xuICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIHZhbHVlLnllYXIoeWVhcik7XG4gIHZhbHVlLm1vbnRoKHRoaXMuc3RhdGUudmFsdWUubW9udGgoKSk7XG4gIHRoaXMucHJvcHMub25TZWxlY3QodmFsdWUpO1xufVxuXG52YXIgWWVhclBhbmVsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShZZWFyUGFuZWwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFllYXJQYW5lbChwcm9wcykge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgWWVhclBhbmVsKTtcblxuICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLXllYXItcGFuZWwnO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZVxuICAgIH07XG4gICAgX3RoaXMubmV4dERlY2FkZSA9IGdvWWVhci5iaW5kKF90aGlzLCAxMCk7XG4gICAgX3RoaXMucHJldmlvdXNEZWNhZGUgPSBnb1llYXIuYmluZChfdGhpcywgLTEwKTtcbiAgICBbJ3Nob3dEZWNhZGVQYW5lbCcsICdvbkRlY2FkZVBhbmVsU2VsZWN0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICBfdGhpc1ttZXRob2RdID0gX3RoaXNbbWV0aG9kXS5iaW5kKF90aGlzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBZZWFyUGFuZWwucHJvdG90eXBlLm9uRGVjYWRlUGFuZWxTZWxlY3QgPSBmdW5jdGlvbiBvbkRlY2FkZVBhbmVsU2VsZWN0KGN1cnJlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZhbHVlOiBjdXJyZW50LFxuICAgICAgc2hvd0RlY2FkZVBhbmVsOiAwXG4gICAgfSk7XG4gIH07XG5cbiAgWWVhclBhbmVsLnByb3RvdHlwZS55ZWFycyA9IGZ1bmN0aW9uIHllYXJzKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdmFsdWUueWVhcigpO1xuICAgIHZhciBzdGFydFllYXIgPSBwYXJzZUludChjdXJyZW50WWVhciAvIDEwLCAxMCkgKiAxMDtcbiAgICB2YXIgcHJldmlvdXNZZWFyID0gc3RhcnRZZWFyIC0gMTtcbiAgICB2YXIgeWVhcnMgPSBbXTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGZvciAodmFyIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBST1c7IHJvd0luZGV4KyspIHtcbiAgICAgIHllYXJzW3Jvd0luZGV4XSA9IFtdO1xuICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IENPTDsgY29sSW5kZXgrKykge1xuICAgICAgICB2YXIgeWVhciA9IHByZXZpb3VzWWVhciArIGluZGV4O1xuICAgICAgICB2YXIgY29udGVudCA9IFN0cmluZyh5ZWFyKTtcbiAgICAgICAgeWVhcnNbcm93SW5kZXhdW2NvbEluZGV4XSA9IHtcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgIHllYXI6IHllYXIsXG4gICAgICAgICAgdGl0bGU6IGNvbnRlbnRcbiAgICAgICAgfTtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHllYXJzO1xuICB9O1xuXG4gIFllYXJQYW5lbC5wcm90b3R5cGUuc2hvd0RlY2FkZVBhbmVsID0gZnVuY3Rpb24gc2hvd0RlY2FkZVBhbmVsKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd0RlY2FkZVBhbmVsOiAxXG4gICAgfSk7XG4gIH07XG5cbiAgWWVhclBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICB2YXIgeWVhcnMgPSB0aGlzLnllYXJzKCk7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdmFsdWUueWVhcigpO1xuICAgIHZhciBzdGFydFllYXIgPSBwYXJzZUludChjdXJyZW50WWVhciAvIDEwLCAxMCkgKiAxMDtcbiAgICB2YXIgZW5kWWVhciA9IHN0YXJ0WWVhciArIDk7XG4gICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJlZml4Q2xzO1xuXG4gICAgdmFyIHllYXNFbHMgPSB5ZWFycy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcbiAgICAgIHZhciB0ZHMgPSByb3cubWFwKGZ1bmN0aW9uICh5ZWFyRGF0YSkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZU1hcDtcblxuICAgICAgICB2YXIgY2xhc3NOYW1lTWFwID0gKF9jbGFzc05hbWVNYXAgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWNlbGwnLCB5ZWFyRGF0YS55ZWFyID09PSBjdXJyZW50WWVhciksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1sYXN0LWRlY2FkZS1jZWxsJywgeWVhckRhdGEueWVhciA8IHN0YXJ0WWVhciksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1uZXh0LWRlY2FkZS1jZWxsJywgeWVhckRhdGEueWVhciA+IGVuZFllYXIpLCBfY2xhc3NOYW1lTWFwKTtcbiAgICAgICAgdmFyIGNsaWNrSGFuZGxlciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHllYXJEYXRhLnllYXIgPCBzdGFydFllYXIpIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIucHJldmlvdXNEZWNhZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoeWVhckRhdGEueWVhciA+IGVuZFllYXIpIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIubmV4dERlY2FkZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIgPSBjaG9vc2VZZWFyLmJpbmQoX3RoaXMyLCB5ZWFyRGF0YS55ZWFyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICB0aXRsZTogeWVhckRhdGEudGl0bGUsXG4gICAgICAgICAgICBrZXk6IHllYXJEYXRhLmNvbnRlbnQsXG4gICAgICAgICAgICBvbkNsaWNrOiBjbGlja0hhbmRsZXIsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5ZWFyRGF0YS5jb250ZW50XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RyJyxcbiAgICAgICAgeyBrZXk6IGluZGV4LCByb2xlOiAncm93JyB9LFxuICAgICAgICB0ZHNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB2YXIgZGVjYWRlUGFuZWwgPSB2b2lkIDA7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd0RlY2FkZVBhbmVsKSB7XG4gICAgICBkZWNhZGVQYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RlY2FkZVBhbmVsMltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJvcHMucm9vdFByZWZpeENscyxcbiAgICAgICAgb25TZWxlY3Q6IHRoaXMub25EZWNhZGVQYW5lbFNlbGVjdFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByZWZpeENscyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi1kZWNhZGUtYnRuJyxcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c0RlY2FkZSxcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldmlvdXNEZWNhZGVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlLXNlbGVjdCcsXG4gICAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNob3dEZWNhZGVQYW5lbCxcbiAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5kZWNhZGVTZWxlY3RcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRlY2FkZS1zZWxlY3QtY29udGVudCcgfSxcbiAgICAgICAgICAgICAgc3RhcnRZZWFyLFxuICAgICAgICAgICAgICAnLScsXG4gICAgICAgICAgICAgIGVuZFllYXJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRlY2FkZS1zZWxlY3QtYXJyb3cnIH0sXG4gICAgICAgICAgICAgICd4J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LWRlY2FkZS1idG4nLFxuICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHREZWNhZGUsXG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHREZWNhZGVcbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICd0YWJsZScsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG4gICAgICAgICAgICAgIHllYXNFbHNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICksXG4gICAgICBkZWNhZGVQYW5lbFxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFllYXJQYW5lbDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBZZWFyUGFuZWw7XG5cblxuWWVhclBhbmVsLnByb3BUeXBlcyA9IHtcbiAgcm9vdFByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxufTtcblxuWWVhclBhbmVsLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KCkge31cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIveWVhci9ZZWFyUGFuZWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBtaXJyb3Iobykge1xuICByZXR1cm4gbztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtYXBTZWxmKGNoaWxkcmVuKSB7XG4gIC8vIHJldHVybiBSZWFjdEZyYWdtZW50XG4gIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIG1pcnJvcik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL34vcmMtdXRpbC9saWIvQ2hpbGRyZW4vbWFwU2VsZi5qc1xuICoqIG1vZHVsZSBpZCA9IDI2NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF96aF9DTiA9IHJlcXVpcmUoJ3JjLWNhbGVuZGFyL2xpYi9sb2NhbGUvemhfQ04nKTtcblxudmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cbnZhciBfcmNDYWxlbmRhciA9IHJlcXVpcmUoJ3JjLWNhbGVuZGFyJyk7XG5cbnZhciBfcmNDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NhbGVuZGFyKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ2FsZW5kYXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2FsZW5kYXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2FsZW5kYXIpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgQ2FsZW5kYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGZhbHNlLCAnRGF0ZVBpY2tlci5DYWxlbmRhciBpcyBkZXByZWNhdGVkLCB1c2UgQ2FsZW5kYXIgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSwgdGhpcy5wcm9wcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYWxlbmRhcjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxlbmRhcjtcblxuQ2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGxvY2FsZTogX3poX0NOMltcImRlZmF1bHRcIl0sXG4gICAgcHJlZml4Q2xzOiAnYW50LWNhbGVuZGFyJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL0NhbGVuZGFyLmpzXG4gKiogbW9kdWxlIGlkID0gMzEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX1JhbmdlQ2FsZW5kYXIgPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvUmFuZ2VDYWxlbmRhcicpO1xuXG52YXIgX1JhbmdlQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFuZ2VDYWxlbmRhcik7XG5cbnZhciBfUGlja2VyID0gcmVxdWlyZSgncmMtY2FsZW5kYXIvbGliL1BpY2tlcicpO1xuXG52YXIgX1BpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QaWNrZXIpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbnZhciBfaWNvbiA9IHJlcXVpcmUoJy4uL2ljb24nKTtcblxudmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXG52YXIgX2dldExvY2FsZSA9IHJlcXVpcmUoJy4uL191dGlsL2dldExvY2FsZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJhbmdlUGlja2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhbmdlUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJhbmdlUGlja2VyKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFuZ2VQaWNrZXIpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogW10gfSk7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UoW10pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSwgc2hvd0RhdGU6IHZhbHVlWzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcHMub25DaGFuZ2UodmFsdWUsIFt2YWx1ZVswXSAmJiB2YWx1ZVswXS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgdmFsdWVbMV0gJiYgdmFsdWVbMV0uZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJyddKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlT3BlbkNoYW5nZSA9IGZ1bmN0aW9uIChvcGVuKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IG9wZW46IG9wZW4gfSk7XG4gICAgICAgICAgICB2YXIgb25PcGVuQ2hhbmdlID0gX3RoaXMucHJvcHMub25PcGVuQ2hhbmdlO1xuXG4gICAgICAgICAgICBpZiAob25PcGVuQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlKG9wZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTaG93RGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChzaG93RGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgc2hvd0RhdGU6IHNob3dEYXRlIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZW5kZXJGb290ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfdGhpcyRwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgcmFuZ2VzID0gX3RoaXMkcHJvcHMucmFuZ2VzO1xuXG4gICAgICAgICAgICBpZiAoIXJhbmdlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBPYmplY3Qua2V5cyhyYW5nZXMpLm1hcChmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByYW5nZXNbcmFuZ2VdO1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsga2V5OiByYW5nZSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICByYW5nZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXJhbmdlLXF1aWNrLXNlbGVjdG9yJyB9LFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBbXTtcbiAgICAgICAgaWYgKHZhbHVlWzBdICYmICFfbW9tZW50MltcImRlZmF1bHRcIl0uaXNNb21lbnQodmFsdWVbMF0pIHx8IHZhbHVlWzFdICYmICFfbW9tZW50MltcImRlZmF1bHRcIl0uaXNNb21lbnQodmFsdWVbMV0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZS9kZWZhdWx0VmFsdWUgb2YgUmFuZ2VQaWNrZXIgbXVzdCBiZSBhIG1vbWVudCBvYmplY3QgYXJyYXkgYWZ0ZXIgYGFudGRAMi4wYCwgJyArICdzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZGF0ZS1waWNrZXItdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG9wZW46IHByb3BzLm9wZW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFJhbmdlUGlja2VyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUgfHwgW107XG4gICAgICAgICAgICB2YXIgc2hvd0RhdGUgPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUsIHNob3dEYXRlOiBzaG93RGF0ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ29wZW4nIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgb3BlbjogbmV4dFByb3BzLm9wZW5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFJhbmdlUGlja2VyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNob3dUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUmFuZ2VQaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVzLFxuICAgICAgICAgICAgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWUsXG4gICAgICAgICAgICBzaG93RGF0ZSA9IHN0YXRlLnNob3dEYXRlLFxuICAgICAgICAgICAgb3BlbiA9IHN0YXRlLm9wZW47XG5cbiAgICAgICAgdmFyIGxvY2FsZUNvZGUgPSAoMCwgX2dldExvY2FsZS5nZXRMb2NhbGVDb2RlKShjb250ZXh0KTtcbiAgICAgICAgaWYgKHZhbHVlICYmIGxvY2FsZUNvZGUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZVswXSkge1xuICAgICAgICAgICAgICAgIHZhbHVlWzBdLmxvY2FsZShsb2NhbGVDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZVsxXSkge1xuICAgICAgICAgICAgICAgIHZhbHVlWzFdLmxvY2FsZShsb2NhbGVDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuICAgICAgICAgICAgZGlzYWJsZWRUaW1lID0gcHJvcHMuZGlzYWJsZWRUaW1lLFxuICAgICAgICAgICAgc2hvd1RpbWUgPSBwcm9wcy5zaG93VGltZSxcbiAgICAgICAgICAgIHNob3dUb2RheSA9IHByb3BzLnNob3dUb2RheSxcbiAgICAgICAgICAgIHJhbmdlcyA9IHByb3BzLnJhbmdlcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHBvcHVwU3R5bGUgPSBwcm9wcy5wb3B1cFN0eWxlLFxuICAgICAgICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgICAgICAgIG9uT2sgPSBwcm9wcy5vbk9rLFxuICAgICAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuICAgICAgICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0O1xuXG4gICAgICAgIHZhciBjYWxlbmRhckNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy10aW1lJywgc2hvd1RpbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXJhbmdlLXdpdGgtcmFuZ2VzJywgcmFuZ2VzKSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgICAgLy8g6ZyA6KaB6YCJ5oup5pe26Ze05pe277yM54K55Ye7IG9rIOaXtuaJjeinpuWPkSBvbkNoYW5nZVxuICAgICAgICB2YXIgcGlja2VyQ2hhbmdlSGFuZGxlciA9IHtcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2FsZW5kYXJIYW5kbGVyID0ge1xuICAgICAgICAgICAgb25PazogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHByb3BzLnRpbWVQaWNrZXIpIHtcbiAgICAgICAgICAgIHBpY2tlckNoYW5nZUhhbmRsZXIub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2hhbmdlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5oYW5kbGVDaGFuZ2UoY2hhbmdlZFZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxlbmRhckhhbmRsZXIgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicgaW4gcHJvcHMgPyBwcm9wcy5wbGFjZWhvbGRlclswXSA6IGxvY2FsZS5sYW5nLnJhbmdlUGxhY2Vob2xkZXJbMF07XG4gICAgICAgIHZhciBlbmRQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicgaW4gcHJvcHMgPyBwcm9wcy5wbGFjZWhvbGRlclsxXSA6IGxvY2FsZS5sYW5nLnJhbmdlUGxhY2Vob2xkZXJbMV07XG4gICAgICAgIHZhciBjYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1JhbmdlQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBjYWxlbmRhckhhbmRsZXIsIHsgZm9ybWF0OiBmb3JtYXQsIHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNhbGVuZGFyQ2xhc3NOYW1lLCByZW5kZXJGb290ZXI6IHRoaXMucmVuZGVyRm9vdGVyLCB0aW1lUGlja2VyOiBwcm9wcy50aW1lUGlja2VyLCBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSwgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsIGRhdGVJbnB1dFBsYWNlaG9sZGVyOiBbc3RhcnRQbGFjZWhvbGRlciwgZW5kUGxhY2Vob2xkZXJdLCBsb2NhbGU6IGxvY2FsZS5sYW5nLCBvbk9rOiBvbk9rLCB2YWx1ZTogc2hvd0RhdGUgfHwgcHJvcHMuZGVmYXVsdFBpY2tlclZhbHVlIHx8ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKCksIG9uVmFsdWVDaGFuZ2U6IHRoaXMuaGFuZGxlU2hvd0RhdGVDaGFuZ2UsIHNob3dUb2RheTogc2hvd1RvZGF5IH0pKTtcbiAgICAgICAgLy8gZGVmYXVsdCB3aWR0aCBmb3Igc2hvd1RpbWVcbiAgICAgICAgdmFyIHBpY2tlclN0eWxlID0ge307XG4gICAgICAgIGlmIChwcm9wcy5zaG93VGltZSkge1xuICAgICAgICAgICAgcGlja2VyU3R5bGUud2lkdGggPSBzdHlsZSAmJiBzdHlsZS53aWR0aCB8fCAzMDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsZWFySWNvbiA9ICFwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5hbGxvd0NsZWFyICYmIHZhbHVlICYmICh2YWx1ZVswXSB8fCB2YWx1ZVsxXSkgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Nyb3NzLWNpcmNsZScsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItY2xlYXInLCBvbkNsaWNrOiB0aGlzLmNsZWFyU2VsZWN0aW9uIH0pIDogbnVsbDtcbiAgICAgICAgdmFyIGlucHV0ID0gZnVuY3Rpb24gaW5wdXQoX3JlZikge1xuICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSBfcmVmLnZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnB1dFZhbHVlWzBdO1xuICAgICAgICAgICAgdmFyIGVuZCA9IGlucHV0VmFsdWVbMV07XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlcklucHV0Q2xhc3MsIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIHJlYWRPbmx5OiB0cnVlLCB2YWx1ZTogc3RhcnQgJiYgc3RhcnQuZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycsIHBsYWNlaG9sZGVyOiBzdGFydFBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcGlja2VyLWlucHV0JyB9KSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXJhbmdlLXBpY2tlci1zZXBhcmF0b3InIH0sXG4gICAgICAgICAgICAgICAgICAgICcgfiAnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCByZWFkT25seTogdHJ1ZSwgdmFsdWU6IGVuZCAmJiBlbmQuZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycsIHBsYWNlaG9sZGVyOiBlbmRQbGFjZWhvbGRlciwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXJhbmdlLXBpY2tlci1pbnB1dCcgfSksXG4gICAgICAgICAgICAgICAgY2xlYXJJY29uLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItaWNvbicgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlckNsYXNzLCBzdHlsZTogKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0eWxlLCBwaWNrZXJTdHlsZSkgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX1BpY2tlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHBpY2tlckNoYW5nZUhhbmRsZXIsIHsgY2FsZW5kYXI6IGNhbGVuZGFyLCB2YWx1ZTogdmFsdWUsIG9wZW46IG9wZW4sIG9uT3BlbkNoYW5nZTogdGhpcy5oYW5kbGVPcGVuQ2hhbmdlLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctcGlja2VyLWNvbnRhaW5lcicsIHN0eWxlOiBwb3B1cFN0eWxlIH0pLFxuICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBSYW5nZVBpY2tlcjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYW5nZVBpY2tlcjtcblxuUmFuZ2VQaWNrZXIuY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxufTtcblJhbmdlUGlja2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInLFxuICAgIGFsbG93Q2xlYXI6IHRydWUsXG4gICAgc2hvd1RvZGF5OiBmYWxzZVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL1JhbmdlUGlja2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMzEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVBpY2tlcjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX01vbnRoQ2FsZW5kYXIgPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvTW9udGhDYWxlbmRhcicpO1xuXG52YXIgX01vbnRoQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhDYWxlbmRhcik7XG5cbnZhciBfUGlja2VyID0gcmVxdWlyZSgncmMtY2FsZW5kYXIvbGliL1BpY2tlcicpO1xuXG52YXIgX1BpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QaWNrZXIpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9vbWl0ID0gcmVxdWlyZSgnb21pdC5qcycpO1xuXG52YXIgX29taXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb21pdCk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9nZXRMb2NhbGUgPSByZXF1aXJlKCcuLi9fdXRpbC9nZXRMb2NhbGUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNyZWF0ZVBpY2tlcihUaGVDYWxlbmRhcikge1xuICAgIC8vIHVzZSBjbGFzcyB0eXBlc2NyaXB0IGVycm9yXG4gICAgdmFyIENhbGVuZGVyV3JhcHBlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgICAgICAgZGlzcGxheU5hbWU6ICdDYWxlbmRlcldyYXBwZXInLFxuXG4gICAgICAgIGNvbnRleHRUeXBlczoge1xuICAgICAgICAgICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG4gICAgICAgIH0sXG4gICAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInLFxuICAgICAgICAgICAgICAgIGFsbG93Q2xlYXI6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1RvZGF5OiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSB2YWx1ZS9kZWZhdWx0VmFsdWUgb2YgRGF0ZVBpY2tlciBvciBNb250aFBpY2tlciBtdXN0IGJlICcgKyAnYSBtb21lbnQgb2JqZWN0IGFmdGVyIGBhbnRkQDIuMGAsIHNlZTogaHR0cDovL3UuYW50LmRlc2lnbi9kYXRlLXBpY2tlci12YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgdGVtcFZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcFZhbHVlOiBuZXh0UHJvcHMudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZShudWxsKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSh2YWx1ZSwgdmFsdWUgJiYgdmFsdWUuZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVUZW1wQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVUZW1wQ2hhbmdlKHRlbXBWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRlbXBWYWx1ZTogdGVtcFZhbHVlIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIENsZWFyIHRlbXAgdmFsdWUgYW5kIHRyaWdnZXIgb25DaGFuZ2Ugd2hlbiBoaWRlIERhdGVQaWNrZXJbc2hvd1RpbWVdIHBhbmVsXG4gICAgICAgIGhhbmRsZU9wZW5DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZU9wZW5DaGFuZ2Uob3Blbikge1xuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgc2hvd1RpbWUgPSBfcHJvcHMuc2hvd1RpbWUsXG4gICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlID0gX3Byb3BzLm9uT3BlbkNoYW5nZSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZSxcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0O1xuXG4gICAgICAgICAgICBpZiAoIW9wZW4pIHtcbiAgICAgICAgICAgICAgICAvLyB0cmlja3kgY29kZSB0byBhdm9pZCB0cmlnZ2VyaW5nIG9uQ2hhbmdlIG11bHRpcGxlIHRpbWVzXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBjbGljayBgTm93YCBidXR0b25cbiAgICAgICAgICAgICAgICB2YXIgdGVtcFZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSBwcmV2U3RhdGUudGVtcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0geyB0ZW1wVmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1RpbWUgJiYgdGVtcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUudmFsdWUgPSB0ZW1wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSh0ZW1wVmFsdWUsIHRlbXBWYWx1ZSAmJiB0ZW1wVmFsdWUuZm9ybWF0KGZvcm1hdCkgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25PcGVuQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlKG9wZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IF9zdGF0ZS50ZW1wVmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBwcm9wcyA9ICgwLCBfb21pdDJbXCJkZWZhdWx0XCJdKSh0aGlzLnByb3BzLCBbJ29uQ2hhbmdlJ10pO1xuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cbiAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicgaW4gcHJvcHMgPyBwcm9wcy5wbGFjZWhvbGRlciA6IGxvY2FsZS5sYW5nLnBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgdmFyIGRpc2FibGVkVGltZSA9IHByb3BzLnNob3dUaW1lID8gcHJvcHMuZGlzYWJsZWRUaW1lIDogbnVsbDtcbiAgICAgICAgICAgIHZhciBjYWxlbmRhckNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy10aW1lJywgcHJvcHMuc2hvd1RpbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLW1vbnRoJywgX01vbnRoQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSA9PT0gVGhlQ2FsZW5kYXIpLCBfY2xhc3NOYW1lcykpO1xuICAgICAgICAgICAgLy8g6ZyA6KaB6YCJ5oup5pe26Ze05pe277yM54K55Ye7IG9rIOaXtuaJjeinpuWPkSBvbkNoYW5nZVxuICAgICAgICAgICAgdmFyIHBpY2tlckNoYW5nZUhhbmRsZXIgPSB7fTtcbiAgICAgICAgICAgIHZhciBjYWxlbmRhckhhbmRsZXIgPSB7fTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5zaG93VGltZSkge1xuICAgICAgICAgICAgICAgIGNhbGVuZGFySGFuZGxlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzE5MDJcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVRlbXBDaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaWNrZXJDaGFuZ2VIYW5kbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChUaGVDYWxlbmRhciwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBjYWxlbmRhckhhbmRsZXIsIHsgZGlzYWJsZWREYXRlOiBwcm9wcy5kaXNhYmxlZERhdGUsIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLCBsb2NhbGU6IGxvY2FsZS5sYW5nLCB0aW1lUGlja2VyOiBwcm9wcy50aW1lUGlja2VyLCBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRQaWNrZXJWYWx1ZSB8fCAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpLCBkYXRlSW5wdXRQbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNhbGVuZGFyQ2xhc3NOYW1lLCBvbk9rOiBwcm9wcy5vbk9rLCBmb3JtYXQ6IHByb3BzLmZvcm1hdCwgc2hvd1RvZGF5OiBwcm9wcy5zaG93VG9kYXksIG1vbnRoQ2VsbENvbnRlbnRSZW5kZXI6IHByb3BzLm1vbnRoQ2VsbENvbnRlbnRSZW5kZXIgfSkpO1xuICAgICAgICAgICAgLy8gZGVmYXVsdCB3aWR0aCBmb3Igc2hvd1RpbWVcbiAgICAgICAgICAgIHZhciBwaWNrZXJTdHlsZSA9IHt9O1xuICAgICAgICAgICAgaWYgKHByb3BzLnNob3dUaW1lKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyU3R5bGUud2lkdGggPSBwcm9wcy5zdHlsZSAmJiBwcm9wcy5zdHlsZS53aWR0aCB8fCAxNTQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xlYXJJY29uID0gIXByb3BzLmRpc2FibGVkICYmIHByb3BzLmFsbG93Q2xlYXIgJiYgdmFsdWUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Nyb3NzLWNpcmNsZScsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItY2xlYXInLCBvbkNsaWNrOiB0aGlzLmNsZWFyU2VsZWN0aW9uIH0pIDogbnVsbDtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGZ1bmN0aW9uIGlucHV0KF9yZWYpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IF9yZWYudmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgcmVhZE9ubHk6IHRydWUsIHZhbHVlOiBpbnB1dFZhbHVlICYmIGlucHV0VmFsdWUuZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgY2xhc3NOYW1lOiBwcm9wcy5waWNrZXJJbnB1dENsYXNzIH0pLFxuICAgICAgICAgICAgICAgICAgICBjbGVhckljb24sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1waWNrZXItaWNvbicgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBwaWNrZXJWYWx1ZSA9IHRlbXBWYWx1ZSB8fCB2YWx1ZTtcbiAgICAgICAgICAgIHZhciBsb2NhbGVDb2RlID0gKDAsIF9nZXRMb2NhbGUuZ2V0TG9jYWxlQ29kZSkodGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIGlmIChwaWNrZXJWYWx1ZSAmJiBsb2NhbGVDb2RlKSB7XG4gICAgICAgICAgICAgICAgcGlja2VyVmFsdWUubG9jYWxlKGxvY2FsZUNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5waWNrZXJDbGFzcywgc3R5bGU6ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5zdHlsZSwgcGlja2VyU3R5bGUpIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX1BpY2tlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCBwaWNrZXJDaGFuZ2VIYW5kbGVyLCB7IG9uT3BlbkNoYW5nZTogdGhpcy5oYW5kbGVPcGVuQ2hhbmdlLCBjYWxlbmRhcjogY2FsZW5kYXIsIHZhbHVlOiBwaWNrZXJWYWx1ZSwgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jb250YWluZXInLCBzdHlsZTogcHJvcHMucG9wdXBTdHlsZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIENhbGVuZGVyV3JhcHBlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2NyZWF0ZVBpY2tlci5qc1xuICoqIG1vZHVsZSBpZCA9IDMxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbnZhciBfcmNDYWxlbmRhciA9IHJlcXVpcmUoJ3JjLWNhbGVuZGFyJyk7XG5cbnZhciBfcmNDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NhbGVuZGFyKTtcblxudmFyIF9Nb250aENhbGVuZGFyID0gcmVxdWlyZSgncmMtY2FsZW5kYXIvbGliL01vbnRoQ2FsZW5kYXInKTtcblxudmFyIF9Nb250aENhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoQ2FsZW5kYXIpO1xuXG52YXIgX2NyZWF0ZVBpY2tlciA9IHJlcXVpcmUoJy4vY3JlYXRlUGlja2VyJyk7XG5cbnZhciBfY3JlYXRlUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVBpY2tlcik7XG5cbnZhciBfd3JhcFBpY2tlciA9IHJlcXVpcmUoJy4vd3JhcFBpY2tlcicpO1xuXG52YXIgX3dyYXBQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFBpY2tlcik7XG5cbnZhciBfUmFuZ2VQaWNrZXIgPSByZXF1aXJlKCcuL1JhbmdlUGlja2VyJyk7XG5cbnZhciBfUmFuZ2VQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFuZ2VQaWNrZXIpO1xuXG52YXIgX0NhbGVuZGFyID0gcmVxdWlyZSgnLi9DYWxlbmRhcicpO1xuXG52YXIgX0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBEYXRlUGlja2VyID0gKDAsIF93cmFwUGlja2VyMltcImRlZmF1bHRcIl0pKCgwLCBfY3JlYXRlUGlja2VyMltcImRlZmF1bHRcIl0pKF9yY0NhbGVuZGFyMltcImRlZmF1bHRcIl0pKTtcbnZhciBNb250aFBpY2tlciA9ICgwLCBfd3JhcFBpY2tlcjJbXCJkZWZhdWx0XCJdKSgoMCwgX2NyZWF0ZVBpY2tlcjJbXCJkZWZhdWx0XCJdKShfTW9udGhDYWxlbmRhcjJbXCJkZWZhdWx0XCJdKSwgJ1lZWVktTU0nKTtcbigwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKERhdGVQaWNrZXIsIHtcbiAgICBSYW5nZVBpY2tlcjogKDAsIF93cmFwUGlja2VyMltcImRlZmF1bHRcIl0pKF9SYW5nZVBpY2tlcjJbXCJkZWZhdWx0XCJdKSxcbiAgICBDYWxlbmRhcjogX0NhbGVuZGFyMltcImRlZmF1bHRcIl0sXG4gICAgTW9udGhQaWNrZXI6IE1vbnRoUGlja2VyXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVBpY2tlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3poX0NOID0gcmVxdWlyZSgncmMtY2FsZW5kYXIvbGliL2xvY2FsZS96aF9DTicpO1xuXG52YXIgX3poX0NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOKTtcblxudmFyIF96aF9DTjMgPSByZXF1aXJlKCcuLi8uLi90aW1lLXBpY2tlci9sb2NhbGUvemhfQ04nKTtcblxudmFyIF96aF9DTjQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTjMpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxucmVxdWlyZSgnbW9tZW50L2xvY2FsZS96aC1jbicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLy8g5aSH5rOo77ya5Lul5LiL5Luj56CB5peg5rOV5a6M5YWo5oyJ5pyA5Yid6K6+6K6h6L+Q6KGM77yM5L2G5Li65LqG5L+d6K+B5YW85a655oCn77yM6ZyA6KaB5L+d55WZ77yM55u06IezIGFudGQg6buY6K6k6K+t6KiA5pS55Li66Iux5paHXG4vLyAgMS4g5aaC5p6c55So5oi35LiN57uZ5pe26Ze057G757uE5Lu25Lyg5YWlIHZhbHVlIGRlZmF1bHRWYWx1Ze+8jOWImei/kOihjOespuWQiOmihOacn1xuLy8gIDIuIOWmguaenOeUqOaIt+S8oOWFpSB2YWx1ZSBkZWZhdWx0VmFsdWXvvIzlm6DkuLrov5nmrrXku6PnoIHmsqHmnInlnKjnlKjmiLfku6PnoIHkuYvliY3ov5DooYzvvIzmiYDku6XnlKjmiLfosIPnlKggbW9tZW50IOaXtu+8jOm7mOiupOivreiogOS+neeEtuS4uuiLseaWh1xuLy8gVG8gc2V0IHRoZSBkZWZhdWx0IGxvY2FsZSBvZiBtb21lbnQgdG8gemgtY24gZ2xvYmFsbHkuXG5fbW9tZW50MltcImRlZmF1bHRcIl0ubG9jYWxlKCd6aC1jbicpO1xuLy8g57uf5LiA5ZCI5bm25Li65a6M5pW055qEIExvY2FsZVxudmFyIGxvY2FsZSA9IHtcbiAgICBsYW5nOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oup5pel5pyfJyxcbiAgICAgICAgcmFuZ2VQbGFjZWhvbGRlcjogWyflvIDlp4vml6XmnJ8nLCAn57uT5p2f5pel5pyfJ11cbiAgICB9LCBfemhfQ04yW1wiZGVmYXVsdFwiXSksXG4gICAgdGltZVBpY2tlckxvY2FsZTogKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF96aF9DTjRbXCJkZWZhdWx0XCJdKVxufTtcbi8vIHNob3VsZCBhZGQgd2hpdGVzcGFjZSBiZXR3ZWVuIGNoYXIgaW4gQnV0dG9uXG5sb2NhbGUubGFuZy5vayA9ICfnoa4g5a6aJztcbi8vIEFsbCBzZXR0aW5ncyBhdDpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vYmxvYi9tYXN0ZXIvY29tcG9uZW50cy9kYXRlLXBpY2tlci9sb2NhbGUvZXhhbXBsZS5qc29uXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGxvY2FsZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2xvY2FsZS96aF9DTi5qc1xuICoqIG1vZHVsZSBpZCA9IDMxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2lucHV0L3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3RpbWUtcGlja2VyL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd3JhcFBpY2tlcjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1BhbmVsID0gcmVxdWlyZSgncmMtdGltZS1waWNrZXIvbGliL1BhbmVsJyk7XG5cbnZhciBfUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFuZWwpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi4vX3V0aWwvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfZ2V0TG9jYWxlID0gcmVxdWlyZSgnLi4vX3V0aWwvZ2V0TG9jYWxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRDb2x1bW5zKF9yZWYpIHtcbiAgICB2YXIgc2hvd0hvdXIgPSBfcmVmLnNob3dIb3VyLFxuICAgICAgICBzaG93TWludXRlID0gX3JlZi5zaG93TWludXRlLFxuICAgICAgICBzaG93U2Vjb25kID0gX3JlZi5zaG93U2Vjb25kO1xuXG4gICAgdmFyIGNvbHVtbiA9IDA7XG4gICAgaWYgKHNob3dIb3VyKSB7XG4gICAgICAgIGNvbHVtbiArPSAxO1xuICAgIH1cbiAgICBpZiAoc2hvd01pbnV0ZSkge1xuICAgICAgICBjb2x1bW4gKz0gMTtcbiAgICB9XG4gICAgaWYgKHNob3dTZWNvbmQpIHtcbiAgICAgICAgY29sdW1uICs9IDE7XG4gICAgfVxuICAgIHJldHVybiBjb2x1bW47XG59XG5mdW5jdGlvbiB3cmFwUGlja2VyKFBpY2tlciwgZGVmYXVsdEZvcm1hdCkge1xuICAgIHZhciBQaWNrZXJXcmFwcGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICAgICAgICBkaXNwbGF5TmFtZTogJ1BpY2tlcldyYXBwZXInLFxuXG4gICAgICAgIGNvbnRleHRUeXBlczoge1xuICAgICAgICAgICAgYW50TG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuICAgICAgICB9LFxuICAgICAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0IHx8ICdZWVlZLU1NLUREJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZTogJ3NsaWRlLXVwJyxcbiAgICAgICAgICAgICAgICBwb3B1cFN0eWxlOiB7fSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fSxcbiAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkge30sXG4gICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlOiBmdW5jdGlvbiBvbk9wZW5DaGFuZ2UoKSB7fSxcblxuICAgICAgICAgICAgICAgIGxvY2FsZToge30sXG4gICAgICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBbMCwgLTldXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInLFxuICAgICAgICAgICAgICAgIGlucHV0UHJlZml4Q2xzOiAnYW50LWlucHV0J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFuZGxlT3BlbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlT3BlbkNoYW5nZShvcGVuKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2UgPSBfcHJvcHMub25PcGVuQ2hhbmdlLFxuICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4gPSBfcHJvcHMudG9nZ2xlT3BlbjtcblxuICAgICAgICAgICAgb25PcGVuQ2hhbmdlKG9wZW4pO1xuICAgICAgICAgICAgaWYgKHRvZ2dsZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoZmFsc2UsICdgdG9nZ2xlT3BlbmAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsICcgKyAncGxlYXNlIHVzZSBgb25PcGVuQ2hhbmdlYCBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZGF0ZS1waWNrZXItb24tb3Blbi1jaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVPcGVuKHsgb3Blbjogb3BlbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzTmFtZXMyLCBfY2xhc3NOYW1lczM7XG5cbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGlucHV0UHJlZml4Q2xzID0gcHJvcHMuaW5wdXRQcmVmaXhDbHM7XG5cbiAgICAgICAgICAgIHZhciBwaWNrZXJDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLXBpY2tlcicsIHRydWUpKTtcbiAgICAgICAgICAgIHZhciBwaWNrZXJJbnB1dENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctcGlja2VyLWlucHV0JywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBpbnB1dFByZWZpeENscywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBpbnB1dFByZWZpeENscyArICctbGcnLCBwcm9wcy5zaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIGlucHV0UHJlZml4Q2xzICsgJy1zbScsIHByb3BzLnNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lczIpKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGUgPSAoMCwgX2dldExvY2FsZS5nZXRDb21wb25lbnRMb2NhbGUpKHByb3BzLCB0aGlzLmNvbnRleHQsICdEYXRlUGlja2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdGltZUZvcm1hdCA9IHByb3BzLnNob3dUaW1lICYmIHByb3BzLnNob3dUaW1lLmZvcm1hdCB8fCAnSEg6bW06c3MnO1xuICAgICAgICAgICAgdmFyIHJjVGltZVBpY2tlclByb3BzID0ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogdGltZUZvcm1hdCxcbiAgICAgICAgICAgICAgICBzaG93U2Vjb25kOiB0aW1lRm9ybWF0LmluZGV4T2YoJ3NzJykgPj0gMCxcbiAgICAgICAgICAgICAgICBzaG93TWludXRlOiB0aW1lRm9ybWF0LmluZGV4T2YoJ21tJykgPj0gMCxcbiAgICAgICAgICAgICAgICBzaG93SG91cjogdGltZUZvcm1hdC5pbmRleE9mKCdISCcpID49IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgY29sdW1ucyA9IGdldENvbHVtbnMocmNUaW1lUGlja2VyUHJvcHMpO1xuICAgICAgICAgICAgdmFyIHRpbWVQaWNrZXJDbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzMyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci0xLWNvbHVtbicsIGNvbHVtbnMgPT09IDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMywgcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci0yLWNvbHVtbnMnLCBjb2x1bW5zID09PSAyKSwgX2NsYXNzTmFtZXMzKSk7XG4gICAgICAgICAgICB2YXIgdGltZVBpY2tlciA9IHByb3BzLnNob3dUaW1lID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfUGFuZWwyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByY1RpbWVQaWNrZXJQcm9wcywgcHJvcHMuc2hvd1RpbWUsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyJywgY2xhc3NOYW1lOiB0aW1lUGlja2VyQ2xzLCBwbGFjZWhvbGRlcjogbG9jYWxlLnRpbWVQaWNrZXJMb2NhbGUucGxhY2Vob2xkZXIsIHRyYW5zaXRpb25OYW1lOiAnc2xpZGUtdXAnIH0pKSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChQaWNrZXIsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHsgcGlja2VyQ2xhc3M6IHBpY2tlckNsYXNzLCBwaWNrZXJJbnB1dENsYXNzOiBwaWNrZXJJbnB1dENsYXNzLCBsb2NhbGU6IGxvY2FsZSwgdGltZVBpY2tlcjogdGltZVBpY2tlciwgb25PcGVuQ2hhbmdlOiB0aGlzLmhhbmRsZU9wZW5DaGFuZ2UgfSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFBpY2tlcldyYXBwZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kYXRlLXBpY2tlci93cmFwUGlja2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMzE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGxvY2FsZSA9IHtcbiAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqeaXtumXtCdcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGxvY2FsZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RpbWUtcGlja2VyL2xvY2FsZS96aF9DTi5qc1xuICoqIG1vZHVsZSBpZCA9IDMyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvaXMtaXRlcmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAzMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXNJdGVyYWJsZTIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxudmFyIF9pc0l0ZXJhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSXRlcmFibGUyKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9nZXQtaXRlcmF0b3JcIik7XG5cbnZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanNcbiAqKiBtb2R1bGUgaWQgPSAzMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gMzI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuaXNJdGVyYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8gPSBPYmplY3QoaXQpO1xuICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuICAgIHx8ICdAQGl0ZXJhdG9yJyBpbiBPXG4gICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gMzQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIi8vISBtb21lbnQuanMgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbi8vISBsb2NhbGUgOiBDaGluZXNlIChDaGluYSkgW3poLWNuXVxuLy8hIGF1dGhvciA6IHN1dXBpYyA6IGh0dHBzOi8vZ2l0aHViLmNvbS9zdXVwaWNcbi8vISBhdXRob3IgOiBaZW5vIFplbmcgOiBodHRwczovL2dpdGh1Yi5jb20vemVub3plbmdcblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyA/IGZhY3RvcnkocmVxdWlyZSgnLi4vbW9tZW50JykpIDpcbiAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJy4uL21vbWVudCddLCBmYWN0b3J5KSA6XG4gICBmYWN0b3J5KGdsb2JhbC5tb21lbnQpXG59KHRoaXMsIChmdW5jdGlvbiAobW9tZW50KSB7ICd1c2Ugc3RyaWN0JztcblxuXG52YXIgemhDbiA9IG1vbWVudC5kZWZpbmVMb2NhbGUoJ3poLWNuJywge1xuICAgIG1vbnRocyA6ICfkuIDmnIhf5LqM5pyIX+S4ieaciF/lm5vmnIhf5LqU5pyIX+WFreaciF/kuIPmnIhf5YWr5pyIX+S5neaciF/ljYHmnIhf5Y2B5LiA5pyIX+WNgeS6jOaciCcuc3BsaXQoJ18nKSxcbiAgICBtb250aHNTaG9ydCA6ICcx5pyIXzLmnIhfM+aciF805pyIXzXmnIhfNuaciF835pyIXzjmnIhfOeaciF8xMOaciF8xMeaciF8xMuaciCcuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5cyA6ICfmmJ/mnJ/ml6Vf5pif5pyf5LiAX+aYn+acn+S6jF/mmJ/mnJ/kuIlf5pif5pyf5ZubX+aYn+acn+S6lF/mmJ/mnJ/lha0nLnNwbGl0KCdfJyksXG4gICAgd2Vla2RheXNTaG9ydCA6ICflkajml6Vf5ZGo5LiAX+WRqOS6jF/lkajkuIlf5ZGo5ZubX+WRqOS6lF/lkajlha0nLnNwbGl0KCdfJyksXG4gICAgd2Vla2RheXNNaW4gOiAn5pelX+S4gF/kuoxf5LiJX+Wbm1/kupRf5YWtJy5zcGxpdCgnXycpLFxuICAgIGxvbmdEYXRlRm9ybWF0IDoge1xuICAgICAgICBMVCA6ICdBaOeCuW1t5YiGJyxcbiAgICAgICAgTFRTIDogJ0Fo54K5beWIhnPnp5InLFxuICAgICAgICBMIDogJ1lZWVktTU0tREQnLFxuICAgICAgICBMTCA6ICdZWVlZ5bm0TU1NROaXpScsXG4gICAgICAgIExMTCA6ICdZWVlZ5bm0TU1NROaXpUFo54K5bW3liIYnLFxuICAgICAgICBMTExMIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnLFxuICAgICAgICBsIDogJ1lZWVktTU0tREQnLFxuICAgICAgICBsbCA6ICdZWVlZ5bm0TU1NROaXpScsXG4gICAgICAgIGxsbCA6ICdZWVlZ5bm0TU1NROaXpUFo54K5bW3liIYnLFxuICAgICAgICBsbGxsIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnXG4gICAgfSxcbiAgICBtZXJpZGllbVBhcnNlOiAv5YeM5pmofOaXqeS4inzkuIrljYh85Lit5Y2IfOS4i+WNiHzmmZrkuIovLFxuICAgIG1lcmlkaWVtSG91cjogZnVuY3Rpb24gKGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIGlmIChob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lcmlkaWVtID09PSAn5YeM5pmoJyB8fCBtZXJpZGllbSA9PT0gJ+aXqeS4iicgfHxcbiAgICAgICAgICAgICAgICBtZXJpZGllbSA9PT0gJ+S4iuWNiCcpIHtcbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9IGVsc2UgaWYgKG1lcmlkaWVtID09PSAn5LiL5Y2IJyB8fCBtZXJpZGllbSA9PT0gJ+aZmuS4iicpIHtcbiAgICAgICAgICAgIHJldHVybiBob3VyICsgMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAn5Lit5Y2IJ1xuICAgICAgICAgICAgcmV0dXJuIGhvdXIgPj0gMTEgPyBob3VyIDogaG91ciArIDEyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXJpZGllbSA6IGZ1bmN0aW9uIChob3VyLCBtaW51dGUsIGlzTG93ZXIpIHtcbiAgICAgICAgdmFyIGhtID0gaG91ciAqIDEwMCArIG1pbnV0ZTtcbiAgICAgICAgaWYgKGhtIDwgNjAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ+WHjOaZqCc7XG4gICAgICAgIH0gZWxzZSBpZiAoaG0gPCA5MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5pep5LiKJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDExMzApIHtcbiAgICAgICAgICAgIHJldHVybiAn5LiK5Y2IJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDEyMzApIHtcbiAgICAgICAgICAgIHJldHVybiAn5Lit5Y2IJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDE4MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5LiL5Y2IJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAn5pma5LiKJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2FsZW5kYXIgOiB7XG4gICAgICAgIHNhbWVEYXkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+S7iuWkqV1BaFvngrnmlbRdJyA6ICdb5LuK5aSpXUxUJztcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dERheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5piO5aSpXUFoW+eCueaVtF0nIDogJ1vmmI7lpKldTFQnO1xuICAgICAgICB9LFxuICAgICAgICBsYXN0RGF5IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vmmKjlpKldQWhb54K55pW0XScgOiAnW+aYqOWkqV1MVCc7XG4gICAgICAgIH0sXG4gICAgICAgIG5leHRXZWVrIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2ZXZWVrLCBwcmVmaXg7XG4gICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcbiAgICAgICAgICAgIHByZWZpeCA9IHRoaXMuZGlmZihzdGFydE9mV2VlaywgJ2RheXMnKSA+PSA3ID8gJ1vkuItdJyA6ICdb5pysXSc7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyBwcmVmaXggKyAnZGRkQWjngrnmlbQnIDogcHJlZml4ICsgJ2RkZEFo54K5bW0nO1xuICAgICAgICB9LFxuICAgICAgICBsYXN0V2VlayA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGFydE9mV2VlaywgcHJlZml4O1xuICAgICAgICAgICAgc3RhcnRPZldlZWsgPSBtb21lbnQoKS5zdGFydE9mKCd3ZWVrJyk7XG4gICAgICAgICAgICBwcmVmaXggPSB0aGlzLnVuaXgoKSA8IHN0YXJ0T2ZXZWVrLnVuaXgoKSAgPyAnW+S4il0nIDogJ1vmnKxdJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/IHByZWZpeCArICdkZGRBaOeCueaVtCcgOiBwcmVmaXggKyAnZGRkQWjngrltbSc7XG4gICAgICAgIH0sXG4gICAgICAgIHNhbWVFbHNlIDogJ0xMJ1xuICAgIH0sXG4gICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0o5pelfOaciHzlkagpLyxcbiAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlciwgcGVyaW9kKSB7XG4gICAgICAgIHN3aXRjaCAocGVyaW9kKSB7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgY2FzZSAnREREJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aXpSc7XG4gICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aciCc7XG4gICAgICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgICAgIGNhc2UgJ1cnOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5ZGoJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVsYXRpdmVUaW1lIDoge1xuICAgICAgICBmdXR1cmUgOiAnJXPlhoUnLFxuICAgICAgICBwYXN0IDogJyVz5YmNJyxcbiAgICAgICAgcyA6ICflh6Dnp5InLFxuICAgICAgICBtIDogJzEg5YiG6ZKfJyxcbiAgICAgICAgbW0gOiAnJWQg5YiG6ZKfJyxcbiAgICAgICAgaCA6ICcxIOWwj+aXticsXG4gICAgICAgIGhoIDogJyVkIOWwj+aXticsXG4gICAgICAgIGQgOiAnMSDlpKknLFxuICAgICAgICBkZCA6ICclZCDlpKknLFxuICAgICAgICBNIDogJzEg5Liq5pyIJyxcbiAgICAgICAgTU0gOiAnJWQg5Liq5pyIJyxcbiAgICAgICAgeSA6ICcxIOW5tCcsXG4gICAgICAgIHl5IDogJyVkIOW5tCdcbiAgICB9LFxuICAgIHdlZWsgOiB7XG4gICAgICAgIC8vIEdCL1QgNzQwOC0xOTk044CK5pWw5o2u5YWD5ZKM5Lqk5o2i5qC85byPwrfkv6Hmga/kuqTmjaLCt+aXpeacn+WSjOaXtumXtOihqOekuuazleOAi+S4jklTTyA4NjAxOjE5ODjnrYnmlYhcbiAgICAgICAgZG93IDogMSwgLy8gTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDQgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDR0aCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9XG59KTtcblxucmV0dXJuIHpoQ247XG5cbn0pKSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9tb21lbnQvbG9jYWxlL3poLWNuLmpzXG4gKiogbW9kdWxlIGlkID0gMzczXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9LZXlDb2RlID0gcmVxdWlyZSgncmMtdXRpbC9saWIvS2V5Q29kZScpO1xuXG52YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cbnZhciBfRGF0ZVRhYmxlID0gcmVxdWlyZSgnLi9kYXRlL0RhdGVUYWJsZScpO1xuXG52YXIgX0RhdGVUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlVGFibGUpO1xuXG52YXIgX0NhbGVuZGFySGVhZGVyID0gcmVxdWlyZSgnLi9jYWxlbmRhci9DYWxlbmRhckhlYWRlcicpO1xuXG52YXIgX0NhbGVuZGFySGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFySGVhZGVyKTtcblxudmFyIF9DYWxlbmRhckZvb3RlciA9IHJlcXVpcmUoJy4vY2FsZW5kYXIvQ2FsZW5kYXJGb290ZXInKTtcblxudmFyIF9DYWxlbmRhckZvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckZvb3Rlcik7XG5cbnZhciBfQ2FsZW5kYXJNaXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4vQ2FsZW5kYXJNaXhpbicpO1xuXG52YXIgX0NhbGVuZGFyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNaXhpbik7XG5cbnZhciBfQ29tbW9uTWl4aW4gPSByZXF1aXJlKCcuL21peGluL0NvbW1vbk1peGluJyk7XG5cbnZhciBfQ29tbW9uTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uTWl4aW4pO1xuXG52YXIgX0RhdGVJbnB1dCA9IHJlcXVpcmUoJy4vZGF0ZS9EYXRlSW5wdXQnKTtcblxudmFyIF9EYXRlSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZUlucHV0KTtcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoJy4vdXRpbC9pbmRleCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGdvU3RhcnRNb250aCgpIHtcbiAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIG5leHQuc3RhcnRPZignbW9udGgnKTtcbiAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ29FbmRNb250aCgpIHtcbiAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIG5leHQuZW5kT2YoJ21vbnRoJyk7XG4gIHRoaXMuc2V0VmFsdWUobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdvVGltZShkaXJlY3Rpb24sIHVuaXQpIHtcbiAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIG5leHQuYWRkKGRpcmVjdGlvbiwgdW5pdCk7XG4gIHRoaXMuc2V0VmFsdWUobmV4dCk7XG59XG5cbmZ1bmN0aW9uIGdvTW9udGgoZGlyZWN0aW9uKSB7XG4gIHJldHVybiBnb1RpbWUuY2FsbCh0aGlzLCBkaXJlY3Rpb24sICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAneWVhcnMnKTtcbn1cblxuZnVuY3Rpb24gZ29XZWVrKGRpcmVjdGlvbikge1xuICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAnd2Vla3MnKTtcbn1cblxuZnVuY3Rpb24gZ29EYXkoZGlyZWN0aW9uKSB7XG4gIHJldHVybiBnb1RpbWUuY2FsbCh0aGlzLCBkaXJlY3Rpb24sICdkYXlzJyk7XG59XG5cbnZhciBDYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdDYWxlbmRhcicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2hvd1dlZWtOdW1iZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgc2hvd1RvZGF5OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd0RhdGVJbnB1dDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBzaG93T2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uS2V5RG93bjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcbiAgICBkYXRlSW5wdXRQbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcmVuZGVyRm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcmVuZGVyU2lkZWJhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgbWl4aW5zOiBbX0NvbW1vbk1peGluMltcImRlZmF1bHRcIl0sIF9DYWxlbmRhck1peGluMltcImRlZmF1bHRcIl1dLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93VG9kYXk6IHRydWUsXG4gICAgICBzaG93RGF0ZUlucHV0OiB0cnVlLFxuICAgICAgdGltZVBpY2tlcjogbnVsbCxcbiAgICAgIG9uT2s6IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAvLyBtYWNcbiAgICB2YXIgY3RybEtleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcbiAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOOlxuICAgICAgICBnb1dlZWsuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uVVA6XG4gICAgICAgIGdvV2Vlay5jYWxsKHRoaXMsIC0xKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uTEVGVDpcbiAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICBnb1llYXIuY2FsbCh0aGlzLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ29EYXkuY2FsbCh0aGlzLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUklHSFQ6XG4gICAgICAgIGlmIChjdHJsS2V5KSB7XG4gICAgICAgICAgZ29ZZWFyLmNhbGwodGhpcywgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZ29EYXkuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5IT01FOlxuICAgICAgICBnb1N0YXJ0TW9udGguY2FsbCh0aGlzKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5EOlxuICAgICAgICBnb0VuZE1vbnRoLmNhbGwodGhpcyk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlBBR0VfRE9XTjpcbiAgICAgICAgZ29Nb250aC5jYWxsKHRoaXMsIDEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5QQUdFX1VQOlxuICAgICAgICBnb01vbnRoLmNhbGwodGhpcywgLTEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUjpcbiAgICAgICAgdGhpcy5vblNlbGVjdCh0aGlzLnN0YXRlLnZhbHVlLCB7XG4gICAgICAgICAgc291cmNlOiAna2V5Ym9hcmQnXG4gICAgICAgIH0pO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9LFxuICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgIHRoaXMub25TZWxlY3QobnVsbCk7XG4gICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gIH0sXG4gIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cbiAgICBpZiAodGhpcy5pc0FsbG93ZWREYXRlKHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICB0aGlzLnByb3BzLm9uT2soc2VsZWN0ZWRWYWx1ZSk7XG4gICAgfVxuICB9LFxuICBvbkRhdGVJbnB1dENoYW5nZTogZnVuY3Rpb24gb25EYXRlSW5wdXRDaGFuZ2UodmFsdWUpIHtcbiAgICB0aGlzLm9uU2VsZWN0KHZhbHVlLCB7XG4gICAgICBzb3VyY2U6ICdkYXRlSW5wdXQnXG4gICAgfSk7XG4gIH0sXG4gIG9uRGF0ZVRhYmxlU2VsZWN0OiBmdW5jdGlvbiBvbkRhdGVUYWJsZVNlbGVjdCh2YWx1ZSkge1xuICAgIHRoaXMub25TZWxlY3QodmFsdWUpO1xuICB9LFxuICBvblRvZGF5OiBmdW5jdGlvbiBvblRvZGF5KCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cbiAgICB2YXIgbm93ID0gKDAsIF9pbmRleC5nZXRUb2RheVRpbWUpKHZhbHVlKTtcbiAgICB0aGlzLm9uU2VsZWN0KG5vdywge1xuICAgICAgc291cmNlOiAndG9kYXlCdXR0b24nXG4gICAgfSk7XG4gIH0sXG4gIGdldFJvb3RET01Ob2RlOiBmdW5jdGlvbiBnZXRSb290RE9NTm9kZSgpIHtcbiAgICByZXR1cm4gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gIH0sXG4gIG9wZW5UaW1lUGlja2VyOiBmdW5jdGlvbiBvcGVuVGltZVBpY2tlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dUaW1lUGlja2VyOiB0cnVlXG4gICAgfSk7XG4gIH0sXG4gIGNsb3NlVGltZVBpY2tlcjogZnVuY3Rpb24gY2xvc2VUaW1lUGlja2VyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBkaXNhYmxlZERhdGUgPSBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgIGRhdGVJbnB1dFBsYWNlaG9sZGVyID0gcHJvcHMuZGF0ZUlucHV0UGxhY2Vob2xkZXIsXG4gICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuICAgICAgICBkaXNhYmxlZFRpbWUgPSBwcm9wcy5kaXNhYmxlZFRpbWU7XG5cbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlLFxuICAgICAgICBzZWxlY3RlZFZhbHVlID0gc3RhdGUuc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBzdGF0ZS5zaG93VGltZVBpY2tlcjtcblxuICAgIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBzaG93VGltZVBpY2tlciAmJiBkaXNhYmxlZFRpbWUgJiYgdGltZVBpY2tlciA/ICgwLCBfaW5kZXguZ2V0VGltZUNvbmZpZykoc2VsZWN0ZWRWYWx1ZSwgZGlzYWJsZWRUaW1lKSA6IG51bGw7XG5cbiAgICB2YXIgdGltZVBpY2tlckVsZSA9IHRpbWVQaWNrZXIgJiYgc2hvd1RpbWVQaWNrZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQodGltZVBpY2tlciwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgIHNob3dIb3VyOiB0cnVlLFxuICAgICAgc2hvd1NlY29uZDogdHJ1ZSxcbiAgICAgIHNob3dNaW51dGU6IHRydWVcbiAgICB9LCB0aW1lUGlja2VyLnByb3BzLCBkaXNhYmxlZFRpbWVDb25maWcsIHtcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uRGF0ZUlucHV0Q2hhbmdlLFxuICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogdmFsdWUsXG4gICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lXG4gICAgfSkpIDogbnVsbDtcbiAgICB2YXIgZGF0ZUlucHV0RWxlbWVudCA9IHByb3BzLnNob3dEYXRlSW5wdXQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlSW5wdXQyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgcmVmOiAnZGF0ZUlucHV0JyxcbiAgICAgIGZvcm1hdDogdGhpcy5nZXRGb3JtYXQoKSxcbiAgICAgIGtleTogJ2RhdGUtaW5wdXQnLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICBwbGFjZWhvbGRlcjogZGF0ZUlucHV0UGxhY2Vob2xkZXIsXG4gICAgICBzaG93Q2xlYXI6IHRydWUsXG4gICAgICBkaXNhYmxlZFRpbWU6IGRpc2FibGVkVGltZSxcbiAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuICAgICAgb25DbGVhcjogdGhpcy5vbkNsZWFyLFxuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25EYXRlSW5wdXRDaGFuZ2VcbiAgICB9KSA6IG51bGw7XG4gICAgdmFyIGNoaWxkcmVuID0gW3Byb3BzLnJlbmRlclNpZGViYXIoKSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGFuZWwnLCBrZXk6ICdwYW5lbCcgfSxcbiAgICAgIGRhdGVJbnB1dEVsZW1lbnQsXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1wYW5lbCcgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHRoaXMuc2V0VmFsdWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlcixcbiAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENsc1xuICAgICAgICB9KSxcbiAgICAgICAgdGltZVBpY2tlciAmJiBzaG93VGltZVBpY2tlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXInIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXItcGFuZWwnIH0sXG4gICAgICAgICAgICB0aW1lUGlja2VyRWxlXG4gICAgICAgICAgKVxuICAgICAgICApIDogbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVUYWJsZTJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG4gICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICAgIGRhdGVSZW5kZXI6IHByb3BzLmRhdGVSZW5kZXIsXG4gICAgICAgICAgICBvblNlbGVjdDogdGhpcy5vbkRhdGVUYWJsZVNlbGVjdCxcbiAgICAgICAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuICAgICAgICAgICAgc2hvd1dlZWtOdW1iZXI6IHByb3BzLnNob3dXZWVrTnVtYmVyXG4gICAgICAgICAgfSlcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJGb290ZXIyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICAgIHNob3dPazogcHJvcHMuc2hvd09rLFxuICAgICAgICAgIHJlbmRlckZvb3RlcjogcHJvcHMucmVuZGVyRm9vdGVyLFxuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgIHNob3dUb2RheTogcHJvcHMuc2hvd1RvZGF5LFxuICAgICAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlcixcbiAgICAgICAgICBzaG93RGF0ZUlucHV0OiBwcm9wcy5zaG93RGF0ZUlucHV0LFxuICAgICAgICAgIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG4gICAgICAgICAgb2tEaXNhYmxlZDogIXRoaXMuaXNBbGxvd2VkRGF0ZShzZWxlY3RlZFZhbHVlKSxcbiAgICAgICAgICBvbk9rOiB0aGlzLm9uT2ssXG4gICAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3QsXG4gICAgICAgICAgb25Ub2RheTogdGhpcy5vblRvZGF5LFxuICAgICAgICAgIG9uT3BlblRpbWVQaWNrZXI6IHRoaXMub3BlblRpbWVQaWNrZXIsXG4gICAgICAgICAgb25DbG9zZVRpbWVQaWNrZXI6IHRoaXMuY2xvc2VUaW1lUGlja2VyXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKV07XG5cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290KHtcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZTogcHJvcHMuc2hvd1dlZWtOdW1iZXIgPyBwcmVmaXhDbHMgKyAnLXdlZWstbnVtYmVyJyA6ICcnXG4gICAgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL0NhbGVuZGFyLmpzXG4gKiogbW9kdWxlIGlkID0gMzc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfc2xpY2VkVG9BcnJheTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheScpO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9jbGFzc25hbWVzMiA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblxudmFyIF9DYWxlbmRhclBhcnQgPSByZXF1aXJlKCcuL3JhbmdlLWNhbGVuZGFyL0NhbGVuZGFyUGFydCcpO1xuXG52YXIgX0NhbGVuZGFyUGFydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhclBhcnQpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwvJyk7XG5cbnZhciBfVG9kYXlCdXR0b24gPSByZXF1aXJlKCcuL2NhbGVuZGFyL1RvZGF5QnV0dG9uJyk7XG5cbnZhciBfVG9kYXlCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9kYXlCdXR0b24pO1xuXG52YXIgX09rQnV0dG9uID0gcmVxdWlyZSgnLi9jYWxlbmRhci9Pa0J1dHRvbicpO1xuXG52YXIgX09rQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09rQnV0dG9uKTtcblxudmFyIF9UaW1lUGlja2VyQnV0dG9uID0gcmVxdWlyZSgnLi9jYWxlbmRhci9UaW1lUGlja2VyQnV0dG9uJyk7XG5cbnZhciBfVGltZVBpY2tlckJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lUGlja2VyQnV0dG9uKTtcblxudmFyIF9Db21tb25NaXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4vQ29tbW9uTWl4aW4nKTtcblxudmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZ2V0Tm93KCkge1xuICByZXR1cm4gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcbn1cblxuZnVuY3Rpb24gb25WYWx1ZUNoYW5nZShkaXJlY3Rpb24sIGN1cnJlbnQpIHtcbiAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICB2YWx1ZSA9IGN1cnJlbnQ7XG4gIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICB2YWx1ZS5hZGQoLTEsICdtb250aHMnKTtcbiAgfVxuICB0aGlzLmZpcmVWYWx1ZUNoYW5nZSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFuY2hvcihwcm9wcywgaW5pdCkge1xuICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUgfHwgaW5pdCAmJiBwcm9wcy5kZWZhdWx0U2VsZWN0ZWRWYWx1ZSB8fCBbXTtcbiAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHZhbHVlID0gdmFsdWVbMF07XG4gIH1cbiAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSkge1xuICAgIGRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZVswXTtcbiAgfVxuICByZXR1cm4gdmFsdWUgfHwgaW5pdCAmJiBkZWZhdWx0VmFsdWUgfHwgc2VsZWN0ZWRWYWx1ZVswXSB8fCBpbml0ICYmIGdldE5vdygpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU9wdGlvbnMobGVuZ3RoKSB7XG4gIHZhciBhcnIgPSBbXTtcbiAgZm9yICh2YXIgdmFsdWUgPSAwOyB2YWx1ZSA8IGxlbmd0aDsgdmFsdWUrKykge1xuICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiBvbklucHV0U2VsZWN0KGRpcmVjdGlvbiwgdmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcbiAgdmFyIHNlbGVjdGVkVmFsdWUgPSBvcmlnaW5hbFZhbHVlLmNvbmNhdCgpO1xuICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IDAgOiAxO1xuICBzZWxlY3RlZFZhbHVlW2luZGV4XSA9IHZhbHVlO1xuICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiB0aGlzLmNvbXBhcmUoc2VsZWN0ZWRWYWx1ZVswXSwgc2VsZWN0ZWRWYWx1ZVsxXSkgPiAwKSB7XG4gICAgc2VsZWN0ZWRWYWx1ZVsxIC0gaW5kZXhdID0gdGhpcy5zdGF0ZS5zaG93VGltZVBpY2tlciA/IHNlbGVjdGVkVmFsdWVbaW5kZXhdIDogdW5kZWZpbmVkO1xuICB9XG4gIHRoaXMuZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xufVxuXG52YXIgUmFuZ2VDYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSYW5nZUNhbGVuZGFyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRhdGVJbnB1dFBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93T2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93VG9kYXk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBzaG93Q2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblZhbHVlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHR5cGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgbWl4aW5zOiBbX0NvbW1vbk1peGluMltcImRlZmF1bHRcIl1dLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnYm90aCcsXG4gICAgICBkZWZhdWx0U2VsZWN0ZWRWYWx1ZTogW10sXG4gICAgICBvblZhbHVlQ2hhbmdlOiBub29wLFxuICAgICAgZGlzYWJsZWRUaW1lOiBub29wLFxuICAgICAgc2hvd1RvZGF5OiB0cnVlXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUgfHwgcHJvcHMuZGVmYXVsdFNlbGVjdGVkVmFsdWU7XG4gICAgdmFyIHZhbHVlID0gbm9ybWFsaXplQW5jaG9yKHByb3BzLCAxKTtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgIGhvdmVyVmFsdWU6IFtdLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgbmV3U3RhdGUgPSB7fTtcbiAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIGlmIChuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgICAgbmV3U3RhdGUudmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdTdGF0ZS52YWx1ZSA9IG5vcm1hbGl6ZUFuY2hvcihuZXh0UHJvcHMsIDApO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuICAgIGlmICgnc2VsZWN0ZWRWYWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICBuZXdTdGF0ZS5zZWxlY3RlZFZhbHVlID0gbmV4dFByb3BzLnNlbGVjdGVkVmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gIH0sXG4gIG9uRGF0ZVBhbmVsRW50ZXI6IGZ1bmN0aW9uIG9uRGF0ZVBhbmVsRW50ZXIoKSB7XG4gICAgaWYgKHRoaXMuaGFzU2VsZWN0ZWRWYWx1ZSgpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlLmNvbmNhdCgpXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG9uRGF0ZVBhbmVsTGVhdmU6IGZ1bmN0aW9uIG9uRGF0ZVBhbmVsTGVhdmUoKSB7XG4gICAgaWYgKHRoaXMuaGFzU2VsZWN0ZWRWYWx1ZSgpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogW11cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlKSB7XG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGhvdmVyVmFsdWUgPSBfc3RhdGUuaG92ZXJWYWx1ZSxcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IF9zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXG4gICAgdmFyIG5leHRTZWxlY3RlZFZhbHVlID0gdm9pZCAwO1xuICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoIWhvdmVyVmFsdWVbMF0gJiYgIWhvdmVyVmFsdWVbMV0gJiYgdHlwZSA9PT0gJ2JvdGgnKSB7XG4gICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZV07XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdGFydCcpIHtcbiAgICAgIHZhciBlbmRWYWx1ZSA9IHNlbGVjdGVkVmFsdWVbMV07XG4gICAgICBpZiAoIWVuZFZhbHVlIHx8IHRoaXMuY29tcGFyZShlbmRWYWx1ZSwgdmFsdWUpIDwgMCkge1xuICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZSwgZW5kVmFsdWVdO1xuICAgICAgfVxuICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdGFydFZhbHVlID0gdm9pZCAwO1xuICAgICAgc3RhcnRWYWx1ZSA9IHR5cGUgPT09ICdlbmQnID8gc2VsZWN0ZWRWYWx1ZVswXSA6IGhvdmVyVmFsdWVbMF07XG4gICAgICBpZiAoc3RhcnRWYWx1ZSAmJiB0aGlzLmNvbXBhcmUoc3RhcnRWYWx1ZSwgdmFsdWUpIDw9IDApIHtcbiAgICAgICAgbmV4dFNlbGVjdGVkVmFsdWUgPSBbc3RhcnRWYWx1ZSwgdmFsdWVdO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIHRoaXMuZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKG5leHRTZWxlY3RlZFZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG9uRGF5SG92ZXI6IGZ1bmN0aW9uIG9uRGF5SG92ZXIodmFsdWUpIHtcbiAgICB2YXIgaG92ZXJWYWx1ZSA9IHRoaXMuc3RhdGUuaG92ZXJWYWx1ZTtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcbiAgICB2YXIgdHlwZSA9IHRoaXMucHJvcHMudHlwZTtcblxuICAgIGlmICh0eXBlID09PSAnc3RhcnQnICYmIHNlbGVjdGVkVmFsdWVbMV0pIHtcbiAgICAgIGlmICh0aGlzLmNvbXBhcmUodmFsdWUsIHNlbGVjdGVkVmFsdWVbMV0pIDwgMCkge1xuICAgICAgICBob3ZlclZhbHVlID0gW3ZhbHVlLCBzZWxlY3RlZFZhbHVlWzFdXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhvdmVyVmFsdWUgPSBbdmFsdWVdO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2VuZCcgJiYgc2VsZWN0ZWRWYWx1ZVswXSkge1xuICAgICAgaWYgKHRoaXMuY29tcGFyZSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZVswXSkgPiAwKSB7XG4gICAgICAgIGhvdmVyVmFsdWUgPSBbc2VsZWN0ZWRWYWx1ZVswXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaG92ZXJWYWx1ZSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWhvdmVyVmFsdWVbMF0gfHwgdGhpcy5jb21wYXJlKHZhbHVlLCBob3ZlclZhbHVlWzBdKSA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaG92ZXJWYWx1ZVsxXSA9IHZhbHVlO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25Ub2RheTogZnVuY3Rpb24gb25Ub2RheSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZhbHVlOiAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKSh0aGlzLnN0YXRlLnZhbHVlKVxuICAgIH0pO1xuICB9LFxuICBvbk9wZW5UaW1lUGlja2VyOiBmdW5jdGlvbiBvbk9wZW5UaW1lUGlja2VyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1RpbWVQaWNrZXI6IHRydWVcbiAgICB9KTtcbiAgfSxcbiAgb25DbG9zZVRpbWVQaWNrZXI6IGZ1bmN0aW9uIG9uQ2xvc2VUaW1lUGlja2VyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cbiAgICBpZiAodGhpcy5pc0FsbG93ZWREYXRlQW5kVGltZShzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk9rKHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSk7XG4gICAgfVxuICB9LFxuICBvblN0YXJ0SW5wdXRTZWxlY3Q6IGZ1bmN0aW9uIG9uU3RhcnRJbnB1dFNlbGVjdCgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIG9hcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gWydsZWZ0J10uY29uY2F0KG9hcmdzKTtcbiAgICByZXR1cm4gb25JbnB1dFNlbGVjdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSxcbiAgb25FbmRJbnB1dFNlbGVjdDogZnVuY3Rpb24gb25FbmRJbnB1dFNlbGVjdCgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIG9hcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbJ3JpZ2h0J10uY29uY2F0KG9hcmdzKTtcbiAgICByZXR1cm4gb25JbnB1dFNlbGVjdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSxcbiAgb25TdGFydFZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvblN0YXJ0VmFsdWVDaGFuZ2UoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBvYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBvYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciBhcmdzID0gWydsZWZ0J10uY29uY2F0KG9hcmdzKTtcbiAgICByZXR1cm4gb25WYWx1ZUNoYW5nZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSxcbiAgb25FbmRWYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25FbmRWYWx1ZUNoYW5nZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIG9hcmdzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbJ3JpZ2h0J10uY29uY2F0KG9hcmdzKTtcbiAgICByZXR1cm4gb25WYWx1ZUNoYW5nZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSxcbiAgZ2V0U3RhcnRWYWx1ZTogZnVuY3Rpb24gZ2V0U3RhcnRWYWx1ZSgpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuICAgIC8vIGtlZXAgc2VsZWN0ZWRUaW1lIHdoZW4gc2VsZWN0IGRhdGVcbiAgICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiB0aGlzLnByb3BzLnRpbWVQaWNrZXIpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUuY2xvbmUoKTtcbiAgICAgICgwLCBfdXRpbC5zeW5jVGltZSkoc2VsZWN0ZWRWYWx1ZVswXSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5zaG93VGltZVBpY2tlciAmJiBzZWxlY3RlZFZhbHVlWzBdKSB7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRWYWx1ZVswXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBnZXRFbmRWYWx1ZTogZnVuY3Rpb24gZ2V0RW5kVmFsdWUoKSB7XG4gICAgdmFyIGVuZFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuICAgIGVuZFZhbHVlLmFkZCgxLCAnbW9udGhzJyk7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG4gICAgLy8ga2VlcCBzZWxlY3RlZFRpbWUgd2hlbiBzZWxlY3QgZGF0ZVxuICAgIGlmIChzZWxlY3RlZFZhbHVlWzFdICYmIHRoaXMucHJvcHMudGltZVBpY2tlcikge1xuICAgICAgKDAsIF91dGlsLnN5bmNUaW1lKShzZWxlY3RlZFZhbHVlWzFdLCBlbmRWYWx1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnNob3dUaW1lUGlja2VyKSB7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRWYWx1ZVsxXSA/IHNlbGVjdGVkVmFsdWVbMV0gOiB0aGlzLmdldFN0YXJ0VmFsdWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuZFZhbHVlO1xuICB9LFxuXG4gIC8vIGdldCBkaXNhYmxlZCBob3VycyBmb3Igc2Vjb25kIHBpY2tlclxuICBnZXRFbmREaXNhYmxlVGltZTogZnVuY3Rpb24gZ2V0RW5kRGlzYWJsZVRpbWUoKSB7XG4gICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3N0YXRlMi5zZWxlY3RlZFZhbHVlLFxuICAgICAgICB2YWx1ZSA9IF9zdGF0ZTIudmFsdWU7XG5cbiAgICB2YXIgc3RhcnRWYWx1ZSA9IHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0ZWRWYWx1ZVswXSB8fCB2YWx1ZS5jbG9uZSgpO1xuICAgIC8vIGlmIHN0YXJ0VGltZSBhbmQgZW5kVGltZSBpcyBzYW1lIGRheS4uXG4gICAgLy8gdGhlIHNlY29uZCB0aW1lIHBpY2tlciB3aWxsIG5vdCBhYmxlIHRvIHBpY2sgdGltZSBiZWZvcmUgZmlyc3QgdGltZSBwaWNrZXJcbiAgICBpZiAoIXNlbGVjdGVkVmFsdWVbMV0gfHwgc3RhcnRWYWx1ZS5pc1NhbWUoc2VsZWN0ZWRWYWx1ZVsxXSwgJ2RheScpKSB7XG4gICAgICB2YXIgaG91cnMgPSBzdGFydFZhbHVlLmhvdXIoKTtcbiAgICAgIHZhciBtaW51dGVzID0gc3RhcnRWYWx1ZS5taW51dGUoKTtcbiAgICAgIHZhciBzZWNvbmQgPSBzdGFydFZhbHVlLnNlY29uZCgpO1xuICAgICAgdmFyIF9kaXNhYmxlZEhvdXJzID0gZ2VuZXJhdGVPcHRpb25zKGhvdXJzKTtcbiAgICAgIHZhciBfZGlzYWJsZWRNaW51dGVzID0gZ2VuZXJhdGVPcHRpb25zKG1pbnV0ZXMpO1xuICAgICAgdmFyIF9kaXNhYmxlZFNlY29uZHMgPSBnZW5lcmF0ZU9wdGlvbnMoc2Vjb25kKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpc2FibGVkSG91cnM6IGZ1bmN0aW9uIGRpc2FibGVkSG91cnMoKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNhYmxlZEhvdXJzO1xuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZE1pbnV0ZXM6IGZ1bmN0aW9uIGRpc2FibGVkTWludXRlcyhob3VyKSB7XG4gICAgICAgICAgaWYgKGhvdXIgPT09IGhvdXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkTWludXRlcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBkaXNhYmxlZFNlY29uZHM6IGZ1bmN0aW9uIGRpc2FibGVkU2Vjb25kcyhob3VyLCBtaW51dGUpIHtcbiAgICAgICAgICBpZiAoaG91ciA9PT0gaG91cnMgJiYgbWludXRlID09PSBtaW51dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkU2Vjb25kcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgaXNBbGxvd2VkRGF0ZUFuZFRpbWU6IGZ1bmN0aW9uIGlzQWxsb3dlZERhdGVBbmRUaW1lKHNlbGVjdGVkVmFsdWUpIHtcbiAgICByZXR1cm4gKDAsIF91dGlsLmlzQWxsb3dlZERhdGUpKHNlbGVjdGVkVmFsdWVbMF0sIHRoaXMucHJvcHMuZGlzYWJsZWREYXRlLCB0aGlzLmRpc2FibGVkU3RhcnRUaW1lKSAmJiAoMCwgX3V0aWwuaXNBbGxvd2VkRGF0ZSkoc2VsZWN0ZWRWYWx1ZVsxXSwgdGhpcy5wcm9wcy5kaXNhYmxlZERhdGUsIHRoaXMuZGlzYWJsZWRFbmRUaW1lKTtcbiAgfSxcbiAgaGFzU2VsZWN0ZWRWYWx1ZTogZnVuY3Rpb24gaGFzU2VsZWN0ZWRWYWx1ZSgpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblxuICAgIHJldHVybiAhIXNlbGVjdGVkVmFsdWVbMV0gJiYgISFzZWxlY3RlZFZhbHVlWzBdO1xuICB9LFxuICBjb21wYXJlOiBmdW5jdGlvbiBjb21wYXJlKHYxLCB2Mikge1xuICAgIGlmICh0aGlzLnByb3BzLnRpbWVQaWNrZXIpIHtcbiAgICAgIHJldHVybiB2MS5kaWZmKHYyKTtcbiAgICB9XG4gICAgcmV0dXJuIHYxLmRpZmYodjIsICdkYXlzJyk7XG4gIH0sXG4gIGZpcmVTZWxlY3RWYWx1ZUNoYW5nZTogZnVuY3Rpb24gZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUsIGRpcmVjdCkge1xuICAgIGlmICghKCdzZWxlY3RlZFZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOWwmuacqumAieaLqei/h+aXtumXtO+8jOebtOaOpei+k+WFpeeahOivnVxuICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlWzBdIHx8ICF0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVbMV0pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZVswXSB8fCBnZXROb3coKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGVkVmFsdWVbMF0gJiYgIXNlbGVjdGVkVmFsdWVbMV0pIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBob3ZlclZhbHVlOiBzZWxlY3RlZFZhbHVlLmNvbmNhdCgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShzZWxlY3RlZFZhbHVlKTtcbiAgICBpZiAoZGlyZWN0IHx8IHNlbGVjdGVkVmFsdWVbMF0gJiYgc2VsZWN0ZWRWYWx1ZVsxXSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhvdmVyVmFsdWU6IFtdXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3Qoc2VsZWN0ZWRWYWx1ZSk7XG4gICAgfVxuICB9LFxuICBmaXJlVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIGZpcmVWYWx1ZUNoYW5nZSh2YWx1ZSkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9wcy5vblZhbHVlQ2hhbmdlKHZhbHVlKTtcbiAgfSxcbiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIHRoaXMuZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKFtdLCB0cnVlKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgfSxcbiAgZGlzYWJsZWRTdGFydFRpbWU6IGZ1bmN0aW9uIGRpc2FibGVkU3RhcnRUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlZFRpbWUodGltZSwgJ3N0YXJ0Jyk7XG4gIH0sXG4gIGRpc2FibGVkRW5kVGltZTogZnVuY3Rpb24gZGlzYWJsZWRFbmRUaW1lKHRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlZFRpbWUodGltZSwgJ2VuZCcpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX2NsYXNzTmFtZSwgX2NsYXNzbmFtZXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIHNob3dUaW1lUGlja2VyID0gc3RhdGUuc2hvd1RpbWVQaWNrZXI7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgZGF0ZUlucHV0UGxhY2Vob2xkZXIgPSBwcm9wcy5kYXRlSW5wdXRQbGFjZWhvbGRlcixcbiAgICAgICAgdGltZVBpY2tlciA9IHByb3BzLnRpbWVQaWNrZXIsXG4gICAgICAgIHNob3dPayA9IHByb3BzLnNob3dPayxcbiAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuICAgICAgICBzaG93Q2xlYXIgPSBwcm9wcy5zaG93Q2xlYXIsXG4gICAgICAgIHNob3dUb2RheSA9IHByb3BzLnNob3dUb2RheSxcbiAgICAgICAgdHlwZSA9IHByb3BzLnR5cGU7XG4gICAgdmFyIGhvdmVyVmFsdWUgPSBzdGF0ZS5ob3ZlclZhbHVlLFxuICAgICAgICBzZWxlY3RlZFZhbHVlID0gc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblxuICAgIHZhciBjbGFzc05hbWUgPSAoX2NsYXNzTmFtZSA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByb3BzLmNsYXNzTmFtZSwgISFwcm9wcy5jbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy1oaWRkZW4nLCAhcHJvcHMudmlzaWJsZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy1yYW5nZScsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctc2hvdy10aW1lLXBpY2tlcicsIHNob3dUaW1lUGlja2VyKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXdlZWstbnVtYmVyJywgcHJvcHMuc2hvd1dlZWtOdW1iZXIpLCBfY2xhc3NOYW1lKTtcbiAgICB2YXIgY2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShjbGFzc05hbWUpO1xuICAgIHZhciBuZXdQcm9wcyA9IHtcbiAgICAgIHNlbGVjdGVkVmFsdWU6IHN0YXRlLnNlbGVjdGVkVmFsdWUsXG4gICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdCxcbiAgICAgIG9uRGF5SG92ZXI6IHR5cGUgPT09ICdzdGFydCcgJiYgc2VsZWN0ZWRWYWx1ZVsxXSB8fCB0eXBlID09PSAnZW5kJyAmJiBzZWxlY3RlZFZhbHVlWzBdIHx8ICEhaG92ZXJWYWx1ZS5sZW5ndGggPyB0aGlzLm9uRGF5SG92ZXIgOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgdmFyIHBsYWNlaG9sZGVyMSA9IHZvaWQgMDtcbiAgICB2YXIgcGxhY2Vob2xkZXIyID0gdm9pZCAwO1xuXG4gICAgaWYgKGRhdGVJbnB1dFBsYWNlaG9sZGVyKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRlSW5wdXRQbGFjZWhvbGRlcikpIHtcbiAgICAgICAgdmFyIF9kYXRlSW5wdXRQbGFjZWhvbGRlciA9ICgwLCBfc2xpY2VkVG9BcnJheTNbXCJkZWZhdWx0XCJdKShkYXRlSW5wdXRQbGFjZWhvbGRlciwgMik7XG5cbiAgICAgICAgcGxhY2Vob2xkZXIxID0gX2RhdGVJbnB1dFBsYWNlaG9sZGVyWzBdO1xuICAgICAgICBwbGFjZWhvbGRlcjIgPSBfZGF0ZUlucHV0UGxhY2Vob2xkZXJbMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwbGFjZWhvbGRlcjEgPSBwbGFjZWhvbGRlcjIgPSBkYXRlSW5wdXRQbGFjZWhvbGRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHNob3dPa0J1dHRvbiA9IHNob3dPayA9PT0gdHJ1ZSB8fCBzaG93T2sgIT09IGZhbHNlICYmICEhdGltZVBpY2tlcjtcbiAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXJhbmdlLWJvdHRvbScsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZvb3Rlci1zaG93LW9rJywgc2hvd09rQnV0dG9uKSwgX2NsYXNzbmFtZXMpKTtcblxuICAgIHZhciBzdGFydFZhbHVlID0gdGhpcy5nZXRTdGFydFZhbHVlKCk7XG4gICAgdmFyIGVuZFZhbHVlID0gdGhpcy5nZXRFbmRWYWx1ZSgpO1xuICAgIHZhciB0b2RheVRpbWUgPSAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKShzdGFydFZhbHVlKTtcbiAgICB2YXIgdGhpc01vbnRoID0gdG9kYXlUaW1lLm1vbnRoKCk7XG4gICAgdmFyIHRoaXNZZWFyID0gdG9kYXlUaW1lLnllYXIoKTtcbiAgICB2YXIgaXNUaGlzWWVhciA9IHRoaXNZZWFyID09PSBzdGFydFZhbHVlLnllYXIoKSB8fCB0aGlzLnllYXIgPT09IGVuZFZhbHVlLnllYXIoKTtcbiAgICB2YXIgaXNUb2RheUluVmlldyA9IGlzVGhpc1llYXIgJiYgKHRoaXNNb250aCA9PT0gc3RhcnRWYWx1ZS5tb250aCgpIHx8IHRoaXNNb250aCA9PT0gZW5kVmFsdWUubW9udGgoKSk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICByZWY6ICdyb290JyxcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc2VzLFxuICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICAgIHRhYkluZGV4OiAnMCdcbiAgICAgIH0sXG4gICAgICBwcm9wcy5yZW5kZXJTaWRlYmFyKCksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGFuZWwnIH0sXG4gICAgICAgIHNob3dDbGVhciAmJiBzZWxlY3RlZFZhbHVlWzBdICYmIHNlbGVjdGVkVmFsdWVbMV0gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbGVhci1idG4nLFxuICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgIHRpdGxlOiBsb2NhbGUuY2xlYXIsXG4gICAgICAgICAgb25DbGljazogdGhpcy5jbGVhclxuICAgICAgICB9KSA6IG51bGwsXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRhdGUtcGFuZWwnLFxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiB0eXBlICE9PSAnYm90aCcgPyB0aGlzLm9uRGF0ZVBhbmVsTGVhdmUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI6IHR5cGUgIT09ICdib3RoJyA/IHRoaXMub25EYXRlUGFuZWxFbnRlciA6IHVuZGVmaW5lZFxuICAgICAgICAgIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfQ2FsZW5kYXJQYXJ0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIG5ld1Byb3BzLCB7XG4gICAgICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnbGVmdCcsXG4gICAgICAgICAgICBkaXNhYmxlZFRpbWU6IHRoaXMuZGlzYWJsZWRTdGFydFRpbWUsXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0KCksXG4gICAgICAgICAgICB2YWx1ZTogc3RhcnRWYWx1ZSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcjEsXG4gICAgICAgICAgICBvbklucHV0U2VsZWN0OiB0aGlzLm9uU3RhcnRJbnB1dFNlbGVjdCxcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHRoaXMub25TdGFydFZhbHVlQ2hhbmdlLFxuICAgICAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcbiAgICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlclxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtbWlkZGxlJyB9LFxuICAgICAgICAgICAgJ34nXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhclBhcnQyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgbmV3UHJvcHMsIHtcbiAgICAgICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWUsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0KCksXG4gICAgICAgICAgICB0aW1lUGlja2VyRGlzYWJsZWRUaW1lOiB0aGlzLmdldEVuZERpc2FibGVUaW1lKCksXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIyLFxuICAgICAgICAgICAgdmFsdWU6IGVuZFZhbHVlLFxuICAgICAgICAgICAgb25JbnB1dFNlbGVjdDogdGhpcy5vbkVuZElucHV0U2VsZWN0LFxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZTogdGhpcy5vbkVuZFZhbHVlQ2hhbmdlLFxuICAgICAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcbiAgICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlcixcbiAgICAgICAgICAgIGRpc2FibGVkVGltZTogdGhpcy5kaXNhYmxlZEVuZFRpbWVcbiAgICAgICAgICB9KSlcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogY2xzIH0sXG4gICAgICAgICAgcHJvcHMucmVuZGVyRm9vdGVyKCksXG4gICAgICAgICAgc2hvd1RvZGF5IHx8IHByb3BzLnRpbWVQaWNrZXIgfHwgc2hvd09rQnV0dG9uID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyLWJ0bicgfSxcbiAgICAgICAgICAgIHNob3dUb2RheSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RvZGF5QnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgZGlzYWJsZWQ6IGlzVG9kYXlJblZpZXcsXG4gICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICAgICAgb25Ub2RheTogdGhpcy5vblRvZGF5LFxuICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGUuYmFja1RvVG9kYXlcbiAgICAgICAgICAgIH0pKSA6IG51bGwsXG4gICAgICAgICAgICBwcm9wcy50aW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckJ1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG4gICAgICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlcixcbiAgICAgICAgICAgICAgb25PcGVuVGltZVBpY2tlcjogdGhpcy5vbk9wZW5UaW1lUGlja2VyLFxuICAgICAgICAgICAgICBvbkNsb3NlVGltZVBpY2tlcjogdGhpcy5vbkNsb3NlVGltZVBpY2tlcixcbiAgICAgICAgICAgICAgdGltZVBpY2tlckRpc2FibGVkOiAhdGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkgfHwgaG92ZXJWYWx1ZS5sZW5ndGhcbiAgICAgICAgICAgIH0pKSA6IG51bGwsXG4gICAgICAgICAgICBzaG93T2tCdXR0b24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Pa0J1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICAgICAgb25PazogdGhpcy5vbk9rLFxuICAgICAgICAgICAgICBva0Rpc2FibGVkOiAhdGhpcy5pc0FsbG93ZWREYXRlQW5kVGltZShzZWxlY3RlZFZhbHVlKSB8fCAhdGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkgfHwgaG92ZXJWYWx1ZS5sZW5ndGhcbiAgICAgICAgICAgIH0pKSA6IG51bGxcbiAgICAgICAgICApIDogbnVsbFxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFuZ2VDYWxlbmRhcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9SYW5nZUNhbGVuZGFyLmpzXG4gKiogbW9kdWxlIGlkID0gMzc1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX21hcFNlbGYgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9DaGlsZHJlbi9tYXBTZWxmJyk7XG5cbnZhciBfbWFwU2VsZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBTZWxmKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfVG9kYXlCdXR0b24gPSByZXF1aXJlKCcuLi9jYWxlbmRhci9Ub2RheUJ1dHRvbicpO1xuXG52YXIgX1RvZGF5QnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RvZGF5QnV0dG9uKTtcblxudmFyIF9Pa0J1dHRvbiA9IHJlcXVpcmUoJy4uL2NhbGVuZGFyL09rQnV0dG9uJyk7XG5cbnZhciBfT2tCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2tCdXR0b24pO1xuXG52YXIgX1RpbWVQaWNrZXJCdXR0b24gPSByZXF1aXJlKCcuLi9jYWxlbmRhci9UaW1lUGlja2VyQnV0dG9uJyk7XG5cbnZhciBfVGltZVBpY2tlckJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lUGlja2VyQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDYWxlbmRhckZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdDYWxlbmRhckZvb3RlcicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzaG93RGF0ZUlucHV0OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG4gICAgc2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgc2hvd09rOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgcmVuZGVyRm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuICB9LFxuXG4gIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMub25TZWxlY3QodmFsdWUpO1xuICB9LFxuICBnZXRSb290RE9NTm9kZTogZnVuY3Rpb24gZ2V0Um9vdERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHNob3dPayA9IHByb3BzLnNob3dPayxcbiAgICAgICAgdGltZVBpY2tlciA9IHByb3BzLnRpbWVQaWNrZXIsXG4gICAgICAgIHJlbmRlckZvb3RlciA9IHByb3BzLnJlbmRlckZvb3RlcjtcblxuICAgIHZhciBmb290ZXJFbCA9IG51bGw7XG4gICAgdmFyIGV4dHJhRm9vdGVyID0gcmVuZGVyRm9vdGVyKCk7XG4gICAgaWYgKHByb3BzLnNob3dUb2RheSB8fCB0aW1lUGlja2VyIHx8IGV4dHJhRm9vdGVyKSB7XG4gICAgICB2YXIgX2N4O1xuXG4gICAgICB2YXIgbm93RWwgPSB2b2lkIDA7XG4gICAgICBpZiAocHJvcHMuc2hvd1RvZGF5KSB7XG4gICAgICAgIG5vd0VsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVG9kYXlCdXR0b24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgeyB2YWx1ZTogdmFsdWUgfSkpO1xuICAgICAgfVxuICAgICAgdmFyIG9rQnRuID0gdm9pZCAwO1xuICAgICAgaWYgKHNob3dPayA9PT0gdHJ1ZSB8fCBzaG93T2sgIT09IGZhbHNlICYmICEhcHJvcHMudGltZVBpY2tlcikge1xuICAgICAgICBva0J0biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX09rQnV0dG9uMltcImRlZmF1bHRcIl0sIHByb3BzKTtcbiAgICAgIH1cbiAgICAgIHZhciB0aW1lUGlja2VyQnRuID0gdm9pZCAwO1xuICAgICAgaWYgKCEhcHJvcHMudGltZVBpY2tlcikge1xuICAgICAgICB0aW1lUGlja2VyQnRuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckJ1dHRvbjJbXCJkZWZhdWx0XCJdLCBwcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBmb290ZXJCdG4gPSB2b2lkIDA7XG4gICAgICBpZiAobm93RWwgfHwgb2tCdG4pIHtcbiAgICAgICAgZm9vdGVyQnRuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyLWJ0bicgfSxcbiAgICAgICAgICAoMCwgX21hcFNlbGYyW1wiZGVmYXVsdFwiXSkoW25vd0VsLCB0aW1lUGlja2VyQnRuLCBva0J0bl0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY3ggPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY3gsIHByZWZpeENscyArICctZm9vdGVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2N4LCBwcmVmaXhDbHMgKyAnLWZvb3Rlci1zaG93LW9rJywgb2tCdG4pLCBfY3gpKTtcbiAgICAgIGZvb3RlckVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbHMgfSxcbiAgICAgICAgZXh0cmFGb290ZXIsXG4gICAgICAgIGZvb3RlckJ0blxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvb3RlckVsO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxlbmRhckZvb3Rlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9DYWxlbmRhckZvb3Rlci5qc1xuICoqIG1vZHVsZSBpZCA9IDM3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9EYXRlQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9EYXRlQ29uc3RhbnRzJyk7XG5cbnZhciBfRGF0ZUNvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlQ29uc3RhbnRzKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi4vdXRpbC8nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzU2FtZURheShvbmUsIHR3bykge1xuICByZXR1cm4gb25lICYmIHR3byAmJiBvbmUuaXNTYW1lKHR3bywgJ2RheScpO1xufVxuXG5mdW5jdGlvbiBiZWZvcmVDdXJyZW50TW9udGhZZWFyKGN1cnJlbnQsIHRvZGF5KSB7XG4gIGlmIChjdXJyZW50LnllYXIoKSA8IHRvZGF5LnllYXIoKSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiBjdXJyZW50LnllYXIoKSA9PT0gdG9kYXkueWVhcigpICYmIGN1cnJlbnQubW9udGgoKSA8IHRvZGF5Lm1vbnRoKCk7XG59XG5cbmZ1bmN0aW9uIGFmdGVyQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB0b2RheSkge1xuICBpZiAoY3VycmVudC55ZWFyKCkgPiB0b2RheS55ZWFyKCkpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gY3VycmVudC55ZWFyKCkgPT09IHRvZGF5LnllYXIoKSAmJiBjdXJyZW50Lm1vbnRoKCkgPiB0b2RheS5tb250aCgpO1xufVxuXG5mdW5jdGlvbiBnZXRJZEZyb21EYXRlKGRhdGUpIHtcbiAgcmV0dXJuICdyYy1jYWxlbmRhci0nICsgZGF0ZS55ZWFyKCkgKyAnLScgKyBkYXRlLm1vbnRoKCkgKyAnLScgKyBkYXRlLmRhdGUoKTtcbn1cblxudmFyIERhdGVUQm9keSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdEYXRlVEJvZHknLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGNvbnRlbnRSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkYXRlUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCldKSxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgaG92ZXJWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgc2hvd1dlZWtOdW1iZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBob3ZlclZhbHVlOiBbXVxuICAgIH07XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNvbnRlbnRSZW5kZXIgPSBwcm9wcy5jb250ZW50UmVuZGVyLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlLFxuICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICBzaG93V2Vla051bWJlciA9IHByb3BzLnNob3dXZWVrTnVtYmVyLFxuICAgICAgICBkYXRlUmVuZGVyID0gcHJvcHMuZGF0ZVJlbmRlcixcbiAgICAgICAgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuICAgICAgICBob3ZlclZhbHVlID0gcHJvcHMuaG92ZXJWYWx1ZTtcblxuICAgIHZhciBpSW5kZXggPSB2b2lkIDA7XG4gICAgdmFyIGpJbmRleCA9IHZvaWQgMDtcbiAgICB2YXIgY3VycmVudCA9IHZvaWQgMDtcbiAgICB2YXIgZGF0ZVRhYmxlID0gW107XG4gICAgdmFyIHRvZGF5ID0gKDAsIF91dGlsLmdldFRvZGF5VGltZSkodmFsdWUpO1xuICAgIHZhciBjZWxsQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWNlbGwnO1xuICAgIHZhciB3ZWVrTnVtYmVyQ2VsbENsYXNzID0gcHJlZml4Q2xzICsgJy13ZWVrLW51bWJlci1jZWxsJztcbiAgICB2YXIgZGF0ZUNsYXNzID0gcHJlZml4Q2xzICsgJy1kYXRlJztcbiAgICB2YXIgdG9kYXlDbGFzcyA9IHByZWZpeENscyArICctdG9kYXknO1xuICAgIHZhciBzZWxlY3RlZENsYXNzID0gcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1kYXknO1xuICAgIHZhciBzZWxlY3RlZERhdGVDbGFzcyA9IHByZWZpeENscyArICctc2VsZWN0ZWQtZGF0ZSc7IC8vIGRvIG5vdCBtb3ZlIHdpdGggbW91c2Ugb3BlcmF0aW9uXG4gICAgdmFyIGluUmFuZ2VDbGFzcyA9IHByZWZpeENscyArICctaW4tcmFuZ2UtY2VsbCc7XG4gICAgdmFyIGxhc3RNb250aERheUNsYXNzID0gcHJlZml4Q2xzICsgJy1sYXN0LW1vbnRoLWNlbGwnO1xuICAgIHZhciBuZXh0TW9udGhEYXlDbGFzcyA9IHByZWZpeENscyArICctbmV4dC1tb250aC1idG4tZGF5JztcbiAgICB2YXIgZGlzYWJsZWRDbGFzcyA9IHByZWZpeENscyArICctZGlzYWJsZWQtY2VsbCc7XG4gICAgdmFyIGZpcnN0RGlzYWJsZUNsYXNzID0gcHJlZml4Q2xzICsgJy1kaXNhYmxlZC1jZWxsLWZpcnN0LW9mLXJvdyc7XG4gICAgdmFyIGxhc3REaXNhYmxlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWRpc2FibGVkLWNlbGwtbGFzdC1vZi1yb3cnO1xuICAgIHZhciBtb250aDEgPSB2YWx1ZS5jbG9uZSgpO1xuICAgIG1vbnRoMS5kYXRlKDEpO1xuICAgIHZhciBkYXkgPSBtb250aDEuZGF5KCk7XG4gICAgdmFyIGxhc3RNb250aERpZmZEYXkgPSAoZGF5ICsgNyAtIHZhbHVlLmxvY2FsZURhdGEoKS5maXJzdERheU9mV2VlaygpKSAlIDc7XG4gICAgLy8gY2FsY3VsYXRlIGxhc3QgbW9udGhcbiAgICB2YXIgbGFzdE1vbnRoMSA9IG1vbnRoMS5jbG9uZSgpO1xuICAgIGxhc3RNb250aDEuYWRkKDAgLSBsYXN0TW9udGhEaWZmRGF5LCAnZGF5cycpO1xuICAgIHZhciBwYXNzZWQgPSAwO1xuICAgIGZvciAoaUluZGV4ID0gMDsgaUluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX1JPV19DT1VOVDsgaUluZGV4KyspIHtcbiAgICAgIGZvciAoakluZGV4ID0gMDsgakluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVDsgakluZGV4KyspIHtcbiAgICAgICAgY3VycmVudCA9IGxhc3RNb250aDE7XG4gICAgICAgIGlmIChwYXNzZWQpIHtcbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jbG9uZSgpO1xuICAgICAgICAgIGN1cnJlbnQuYWRkKHBhc3NlZCwgJ2RheXMnKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRlVGFibGUucHVzaChjdXJyZW50KTtcbiAgICAgICAgcGFzc2VkKys7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0YWJsZUh0bWwgPSBbXTtcbiAgICBwYXNzZWQgPSAwO1xuXG4gICAgZm9yIChpSW5kZXggPSAwOyBpSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfUk9XX0NPVU5UOyBpSW5kZXgrKykge1xuICAgICAgdmFyIGlzQ3VycmVudFdlZWsgPSB2b2lkIDA7XG4gICAgICB2YXIgd2Vla051bWJlckNlbGwgPSB2b2lkIDA7XG4gICAgICB2YXIgZGF0ZUNlbGxzID0gW107XG4gICAgICBpZiAoc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgICAgd2Vla051bWJlckNlbGwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0ZCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBkYXRlVGFibGVbcGFzc2VkXS53ZWVrKCksXG4gICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiB3ZWVrTnVtYmVyQ2VsbENsYXNzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRlVGFibGVbcGFzc2VkXS53ZWVrKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvciAoakluZGV4ID0gMDsgakluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVDsgakluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHQgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdCA9IG51bGw7XG4gICAgICAgIGN1cnJlbnQgPSBkYXRlVGFibGVbcGFzc2VkXTtcbiAgICAgICAgaWYgKGpJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQgLSAxKSB7XG4gICAgICAgICAgbmV4dCA9IGRhdGVUYWJsZVtwYXNzZWQgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoakluZGV4ID4gMCkge1xuICAgICAgICAgIGxhc3QgPSBkYXRlVGFibGVbcGFzc2VkIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNscyA9IGNlbGxDbGFzcztcbiAgICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgdG9kYXkpKSB7XG4gICAgICAgICAgY2xzICs9ICcgJyArIHRvZGF5Q2xhc3M7XG4gICAgICAgICAgaXNDdXJyZW50V2VlayA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyID0gYmVmb3JlQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB2YWx1ZSk7XG4gICAgICAgIHZhciBpc0FmdGVyQ3VycmVudE1vbnRoWWVhciA9IGFmdGVyQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB2YWx1ZSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgQXJyYXkuaXNBcnJheShzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICAgIHZhciByYW5nZVZhbHVlID0gaG92ZXJWYWx1ZS5sZW5ndGggPyBob3ZlclZhbHVlIDogc2VsZWN0ZWRWYWx1ZTtcbiAgICAgICAgICBpZiAoIWlzQmVmb3JlQ3VycmVudE1vbnRoWWVhciAmJiAhaXNBZnRlckN1cnJlbnRNb250aFllYXIpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFZhbHVlID0gcmFuZ2VWYWx1ZVswXTtcbiAgICAgICAgICAgIHZhciBlbmRWYWx1ZSA9IHJhbmdlVmFsdWVbMV07XG4gICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHN0YXJ0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnRWYWx1ZSAmJiBlbmRWYWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIGVuZFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50LmlzQWZ0ZXIoc3RhcnRWYWx1ZSwgJ2RheScpICYmIGN1cnJlbnQuaXNCZWZvcmUoZW5kVmFsdWUsICdkYXknKSkge1xuICAgICAgICAgICAgICAgIGNscyArPSAnICcgKyBpblJhbmdlQ2xhc3M7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHZhbHVlKSkge1xuICAgICAgICAgIC8vIGtleWJvYXJkIGNoYW5nZSB2YWx1ZSwgaGlnaGxpZ2h0IHdvcmtzXG4gICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzU2FtZURheShjdXJyZW50LCBzZWxlY3RlZFZhbHVlKSkge1xuICAgICAgICAgIGNscyArPSAnICcgKyBzZWxlY3RlZERhdGVDbGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JlZm9yZUN1cnJlbnRNb250aFllYXIpIHtcbiAgICAgICAgICBjbHMgKz0gJyAnICsgbGFzdE1vbnRoRGF5Q2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQWZ0ZXJDdXJyZW50TW9udGhZZWFyKSB7XG4gICAgICAgICAgY2xzICs9ICcgJyArIG5leHRNb250aERheUNsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc2FibGVkRGF0ZSkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZERhdGUoY3VycmVudCwgdmFsdWUpKSB7XG4gICAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghbGFzdCB8fCAhZGlzYWJsZWREYXRlKGxhc3QsIHZhbHVlKSkge1xuICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgZmlyc3REaXNhYmxlQ2xhc3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmV4dCB8fCAhZGlzYWJsZWREYXRlKG5leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgbGFzdERpc2FibGVDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICBjbHMgKz0gJyAnICsgc2VsZWN0ZWRDbGFzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgIGNscyArPSAnICcgKyBkaXNhYmxlZENsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGVIdG1sID0gdm9pZCAwO1xuICAgICAgICBpZiAoZGF0ZVJlbmRlcikge1xuICAgICAgICAgIGRhdGVIdG1sID0gZGF0ZVJlbmRlcihjdXJyZW50LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBjb250ZW50UmVuZGVyID8gY29udGVudFJlbmRlcihjdXJyZW50LCB2YWx1ZSkgOiBjdXJyZW50LmRhdGUoKTtcbiAgICAgICAgICBkYXRlSHRtbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBnZXRJZEZyb21EYXRlKGN1cnJlbnQpLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGRhdGVDbGFzcyxcbiAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiBkaXNhYmxlZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZUNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogcGFzc2VkLFxuICAgICAgICAgICAgb25DbGljazogZGlzYWJsZWQgPyB1bmRlZmluZWQgOiBwcm9wcy5vblNlbGVjdC5iaW5kKG51bGwsIGN1cnJlbnQpLFxuICAgICAgICAgICAgb25Nb3VzZUVudGVyOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uRGF5SG92ZXIgJiYgcHJvcHMub25EYXlIb3Zlci5iaW5kKG51bGwsIGN1cnJlbnQpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICB0aXRsZTogKDAsIF91dGlsLmdldFRpdGxlU3RyaW5nKShjdXJyZW50KSwgY2xhc3NOYW1lOiBjbHNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGVIdG1sXG4gICAgICAgICkpO1xuXG4gICAgICAgIHBhc3NlZCsrO1xuICAgICAgfVxuICAgICAgdGFibGVIdG1sLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RyJyxcbiAgICAgICAge1xuICAgICAgICAgIGtleTogaUluZGV4LFxuICAgICAgICAgIHJvbGU6ICdyb3cnLFxuICAgICAgICAgIGNsYXNzTmFtZTogaXNDdXJyZW50V2VlayAmJiBwcmVmaXhDbHMgKyAnLWN1cnJlbnQtd2VlaydcbiAgICAgICAgfSxcbiAgICAgICAgd2Vla051bWJlckNlbGwsXG4gICAgICAgIGRhdGVDZWxsc1xuICAgICAgKSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3Rib2R5JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuICAgICAgdGFibGVIdG1sXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVRCb2R5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2RhdGUvRGF0ZVRCb2R5LmpzXG4gKiogbW9kdWxlIGlkID0gMzc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfRGF0ZUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vRGF0ZUNvbnN0YW50cycpO1xuXG52YXIgX0RhdGVDb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZUNvbnN0YW50cyk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRGF0ZVRIZWFkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEYXRlVEhlYWQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVUSGVhZCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERhdGVUSGVhZCk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgRGF0ZVRIZWFkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICB2YXIgbG9jYWxlRGF0YSA9IHZhbHVlLmxvY2FsZURhdGEoKTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciB2ZXJ5U2hvcnRXZWVrZGF5cyA9IFtdO1xuICAgIHZhciB3ZWVrRGF5cyA9IFtdO1xuICAgIHZhciBmaXJzdERheU9mV2VlayA9IGxvY2FsZURhdGEuZmlyc3REYXlPZldlZWsoKTtcbiAgICB2YXIgc2hvd1dlZWtOdW1iZXJFbCA9IHZvaWQgMDtcbiAgICB2YXIgbm93ID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcbiAgICBmb3IgKHZhciBkYXRlQ29sSW5kZXggPSAwOyBkYXRlQ29sSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UOyBkYXRlQ29sSW5kZXgrKykge1xuICAgICAgdmFyIGluZGV4ID0gKGZpcnN0RGF5T2ZXZWVrICsgZGF0ZUNvbEluZGV4KSAlIF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQ7XG4gICAgICBub3cuZGF5KGluZGV4KTtcbiAgICAgIHZlcnlTaG9ydFdlZWtkYXlzW2RhdGVDb2xJbmRleF0gPSBsb2NhbGVEYXRhLndlZWtkYXlzTWluKG5vdyk7XG4gICAgICB3ZWVrRGF5c1tkYXRlQ29sSW5kZXhdID0gbG9jYWxlRGF0YS53ZWVrZGF5c1Nob3J0KG5vdyk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLnNob3dXZWVrTnVtYmVyKSB7XG4gICAgICBzaG93V2Vla051bWJlckVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RoJyxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICdjb2x1bW5oZWFkZXInLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyICcgKyBwcmVmaXhDbHMgKyAnLXdlZWstbnVtYmVyLWhlYWRlcidcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLWhlYWRlci1pbm5lcicgfSxcbiAgICAgICAgICAneCdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIHdlZWtEYXlzRWxzID0gd2Vla0RheXMubWFwKGZ1bmN0aW9uIChkYXksIHhpbmRleCkge1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0aCcsXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6IHhpbmRleCxcbiAgICAgICAgICByb2xlOiAnY29sdW1uaGVhZGVyJyxcbiAgICAgICAgICB0aXRsZTogZGF5LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyJ1xuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyLWlubmVyJyB9LFxuICAgICAgICAgIHZlcnlTaG9ydFdlZWtkYXlzW3hpbmRleF1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0aGVhZCcsXG4gICAgICBudWxsLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RyJyxcbiAgICAgICAgeyByb2xlOiAncm93JyB9LFxuICAgICAgICBzaG93V2Vla051bWJlckVsLFxuICAgICAgICB3ZWVrRGF5c0Vsc1xuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIERhdGVUSGVhZDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVEhlYWQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlVEhlYWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBST1cgPSA0O1xudmFyIENPTCA9IDM7XG5cblxuZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5hZGQoZGlyZWN0aW9uLCAneWVhcnMnKTtcbiAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgdmFsdWU6IG5leHRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNob29zZURlY2FkZSh5ZWFyLCBldmVudCkge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC55ZWFyKHllYXIpO1xuICBuZXh0Lm1vbnRoKHRoaXMuc3RhdGUudmFsdWUubW9udGgoKSk7XG4gIHRoaXMucHJvcHMub25TZWxlY3QobmV4dCk7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbnZhciBEZWNhZGVQYW5lbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRGVjYWRlUGFuZWwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERlY2FkZVBhbmVsKHByb3BzKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEZWNhZGVQYW5lbCk7XG5cbiAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWVcbiAgICB9O1xuXG4gICAgLy8gYmluZCBtZXRob2RzXG4gICAgX3RoaXMucHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctZGVjYWRlLXBhbmVsJztcbiAgICBfdGhpcy5uZXh0Q2VudHVyeSA9IGdvWWVhci5iaW5kKF90aGlzLCAxMDApO1xuICAgIF90aGlzLnByZXZpb3VzQ2VudHVyeSA9IGdvWWVhci5iaW5kKF90aGlzLCAtMTAwKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBEZWNhZGVQYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG4gICAgdmFyIGN1cnJlbnRZZWFyID0gdmFsdWUueWVhcigpO1xuICAgIHZhciBzdGFydFllYXIgPSBwYXJzZUludChjdXJyZW50WWVhciAvIDEwMCwgMTApICogMTAwO1xuICAgIHZhciBwcmVZZWFyID0gc3RhcnRZZWFyIC0gMTA7XG4gICAgdmFyIGVuZFllYXIgPSBzdGFydFllYXIgKyA5OTtcbiAgICB2YXIgZGVjYWRlcyA9IFtdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJlZml4Q2xzO1xuXG4gICAgZm9yICh2YXIgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IFJPVzsgcm93SW5kZXgrKykge1xuICAgICAgZGVjYWRlc1tyb3dJbmRleF0gPSBbXTtcbiAgICAgIGZvciAodmFyIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBDT0w7IGNvbEluZGV4KyspIHtcbiAgICAgICAgdmFyIHN0YXJ0RGVjYWRlID0gcHJlWWVhciArIGluZGV4ICogMTA7XG4gICAgICAgIHZhciBlbmREZWNhZGUgPSBwcmVZZWFyICsgaW5kZXggKiAxMCArIDk7XG4gICAgICAgIGRlY2FkZXNbcm93SW5kZXhdW2NvbEluZGV4XSA9IHtcbiAgICAgICAgICBzdGFydERlY2FkZTogc3RhcnREZWNhZGUsXG4gICAgICAgICAgZW5kRGVjYWRlOiBlbmREZWNhZGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVjYWRlc0VscyA9IGRlY2FkZXMubWFwKGZ1bmN0aW9uIChyb3csIGRlY2FkZUluZGV4KSB7XG4gICAgICB2YXIgdGRzID0gcm93Lm1hcChmdW5jdGlvbiAoZGVjYWRlRGF0YSkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZU1hcDtcblxuICAgICAgICB2YXIgZFN0YXJ0RGVjYWRlID0gZGVjYWRlRGF0YS5zdGFydERlY2FkZTtcbiAgICAgICAgdmFyIGRFbmREZWNhZGUgPSBkZWNhZGVEYXRhLmVuZERlY2FkZTtcbiAgICAgICAgdmFyIGlzTGFzdCA9IGRTdGFydERlY2FkZSA8IHN0YXJ0WWVhcjtcbiAgICAgICAgdmFyIGlzTmV4dCA9IGRFbmREZWNhZGUgPiBlbmRZZWFyO1xuICAgICAgICB2YXIgY2xhc3NOYW1lTWFwID0gKF9jbGFzc05hbWVNYXAgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWNlbGwnLCBkU3RhcnREZWNhZGUgPD0gY3VycmVudFllYXIgJiYgY3VycmVudFllYXIgPD0gZEVuZERlY2FkZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1sYXN0LWNlbnR1cnktY2VsbCcsIGlzTGFzdCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1uZXh0LWNlbnR1cnktY2VsbCcsIGlzTmV4dCksIF9jbGFzc05hbWVNYXApO1xuICAgICAgICB2YXIgY29udGVudCA9IGRTdGFydERlY2FkZSArICctJyArIGRFbmREZWNhZGU7XG4gICAgICAgIHZhciBjbGlja0hhbmRsZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIgPSBfdGhpczIucHJldmlvdXNDZW50dXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTmV4dCkge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5uZXh0Q2VudHVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIgPSBjaG9vc2VEZWNhZGUuYmluZChfdGhpczIsIGRTdGFydERlY2FkZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RkJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IGRTdGFydERlY2FkZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGNsaWNrSGFuZGxlcixcbiAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndHInLFxuICAgICAgICB7IGtleTogZGVjYWRlSW5kZXgsIHJvbGU6ICdyb3cnIH0sXG4gICAgICAgIHRkc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcmVmaXhDbHMgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYtY2VudHVyeS1idG4nLFxuICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNDZW50dXJ5LFxuICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldmlvdXNDZW50dXJ5XG4gICAgICAgIH0pLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNlbnR1cnknIH0sXG4gICAgICAgICAgc3RhcnRZZWFyLFxuICAgICAgICAgICctJyxcbiAgICAgICAgICBlbmRZZWFyXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtY2VudHVyeS1idG4nLFxuICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dENlbnR1cnksXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0Q2VudHVyeVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0YWJsZScsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFibGUnLCBjZWxsU3BhY2luZzogJzAnLCByb2xlOiAnZ3JpZCcgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuICAgICAgICAgICAgZGVjYWRlc0Vsc1xuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIERlY2FkZVBhbmVsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERlY2FkZVBhbmVsO1xuXG5cbkRlY2FkZVBhbmVsLnByb3BUeXBlcyA9IHtcbiAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICByb290UHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuRGVjYWRlUGFuZWwuZGVmYXVsdFByb3BzID0ge1xuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoKSB7fVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9kZWNhZGUvRGVjYWRlUGFuZWwuanNcbiAqKiBtb2R1bGUgaWQgPSAzNzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIHRvZGF5OiAnVG9kYXknLFxuICBub3c6ICdOb3cnLFxuICBiYWNrVG9Ub2RheTogJ0JhY2sgdG8gdG9kYXknLFxuICBvazogJ09rJyxcbiAgY2xlYXI6ICdDbGVhcicsXG4gIG1vbnRoOiAnTW9udGgnLFxuICB5ZWFyOiAnWWVhcicsXG4gIHRpbWVTZWxlY3Q6ICdTZWxlY3QgdGltZScsXG4gIGRhdGVTZWxlY3Q6ICdTZWxlY3QgZGF0ZScsXG4gIG1vbnRoU2VsZWN0OiAnQ2hvb3NlIGEgbW9udGgnLFxuICB5ZWFyU2VsZWN0OiAnQ2hvb3NlIGEgeWVhcicsXG4gIGRlY2FkZVNlbGVjdDogJ0Nob29zZSBhIGRlY2FkZScsXG4gIHllYXJGb3JtYXQ6ICdZWVlZJyxcbiAgZGF0ZUZvcm1hdDogJ00vRC9ZWVlZJyxcbiAgZGF5Rm9ybWF0OiAnRCcsXG4gIGRhdGVUaW1lRm9ybWF0OiAnTS9EL1lZWVkgSEg6bW06c3MnLFxuICBtb250aEZvcm1hdDogJ01NTU0nLFxuICBtb250aEJlZm9yZVllYXI6IHRydWUsXG4gIHByZXZpb3VzTW9udGg6ICdQcmV2aW91cyBtb250aCAoUGFnZVVwKScsXG4gIG5leHRNb250aDogJ05leHQgbW9udGggKFBhZ2VEb3duKScsXG4gIHByZXZpb3VzWWVhcjogJ0xhc3QgeWVhciAoQ29udHJvbCArIGxlZnQpJyxcbiAgbmV4dFllYXI6ICdOZXh0IHllYXIgKENvbnRyb2wgKyByaWdodCknLFxuICBwcmV2aW91c0RlY2FkZTogJ0xhc3QgZGVjYWRlJyxcbiAgbmV4dERlY2FkZTogJ05leHQgZGVjYWRlJyxcbiAgcHJldmlvdXNDZW50dXJ5OiAnTGFzdCBjZW50dXJ5JyxcbiAgbmV4dENlbnR1cnk6ICdOZXh0IGNlbnR1cnknXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2xvY2FsZS9lbl9VUy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi4vdXRpbC9pbmRleCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJPVyA9IDQ7XG52YXIgQ09MID0gMztcblxuZnVuY3Rpb24gY2hvb3NlTW9udGgobW9udGgpIHtcbiAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIG5leHQubW9udGgobW9udGgpO1xuICB0aGlzLnNldEFuZFNlbGVjdFZhbHVlKG5leHQpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIE1vbnRoVGFibGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE1vbnRoVGFibGUsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE1vbnRoVGFibGUocHJvcHMpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1vbnRoVGFibGUpO1xuXG4gICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9Db21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWVcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE1vbnRoVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBNb250aFRhYmxlLnByb3RvdHlwZS5zZXRBbmRTZWxlY3RWYWx1ZSA9IGZ1bmN0aW9uIHNldEFuZFNlbGVjdFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcbiAgfTtcblxuICBNb250aFRhYmxlLnByb3RvdHlwZS5tb250aHMgPSBmdW5jdGlvbiBtb250aHMoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgY3VycmVudCA9IHZhbHVlLmNsb25lKCk7XG4gICAgdmFyIG1vbnRocyA9IFtdO1xuICAgIHZhciBsb2NhbGVEYXRhID0gdmFsdWUubG9jYWxlRGF0YSgpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgZm9yICh2YXIgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IFJPVzsgcm93SW5kZXgrKykge1xuICAgICAgbW9udGhzW3Jvd0luZGV4XSA9IFtdO1xuICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IENPTDsgY29sSW5kZXgrKykge1xuICAgICAgICBjdXJyZW50Lm1vbnRoKGluZGV4KTtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBsb2NhbGVEYXRhLm1vbnRoc1Nob3J0KGN1cnJlbnQpO1xuICAgICAgICBtb250aHNbcm93SW5kZXhdW2NvbEluZGV4XSA9IHtcbiAgICAgICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgICB0aXRsZTogY29udGVudFxuICAgICAgICB9O1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbW9udGhzO1xuICB9O1xuXG4gIE1vbnRoVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgdG9kYXkgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuICAgIHZhciBtb250aHMgPSB0aGlzLm1vbnRocygpO1xuICAgIHZhciBjdXJyZW50TW9udGggPSB2YWx1ZS5tb250aCgpO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcbiAgICAgICAgY29udGVudFJlbmRlciA9IHByb3BzLmNvbnRlbnRSZW5kZXIsXG4gICAgICAgIGNlbGxSZW5kZXIgPSBwcm9wcy5jZWxsUmVuZGVyO1xuXG4gICAgdmFyIG1vbnRoc0VscyA9IG1vbnRocy5tYXAoZnVuY3Rpb24gKG1vbnRoLCBpbmRleCkge1xuICAgICAgdmFyIHRkcyA9IG1vbnRoLm1hcChmdW5jdGlvbiAobW9udGhEYXRhKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lTWFwO1xuXG4gICAgICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWREYXRlKSB7XG4gICAgICAgICAgdmFyIHRlc3RWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG4gICAgICAgICAgdGVzdFZhbHVlLm1vbnRoKG1vbnRoRGF0YS52YWx1ZSk7XG4gICAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZERhdGUodGVzdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xhc3NOYW1lTWFwID0gKF9jbGFzc05hbWVNYXAgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwtZGlzYWJsZWQnLCBkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1jZWxsJywgbW9udGhEYXRhLnZhbHVlID09PSBjdXJyZW50TW9udGgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY3VycmVudC1jZWxsJywgdG9kYXkueWVhcigpID09PSB2YWx1ZS55ZWFyKCkgJiYgbW9udGhEYXRhLnZhbHVlID09PSB0b2RheS5tb250aCgpKSwgX2NsYXNzTmFtZU1hcCk7XG4gICAgICAgIHZhciBjZWxsRWwgPSB2b2lkIDA7XG4gICAgICAgIGlmIChjZWxsUmVuZGVyKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG4gICAgICAgICAgY3VycmVudFZhbHVlLm1vbnRoKG1vbnRoRGF0YS52YWx1ZSk7XG4gICAgICAgICAgY2VsbEVsID0gY2VsbFJlbmRlcihjdXJyZW50VmFsdWUsIGxvY2FsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSB2b2lkIDA7XG4gICAgICAgICAgaWYgKGNvbnRlbnRSZW5kZXIpIHtcbiAgICAgICAgICAgIHZhciBfY3VycmVudFZhbHVlID0gdmFsdWUuY2xvbmUoKTtcbiAgICAgICAgICAgIF9jdXJyZW50VmFsdWUubW9udGgobW9udGhEYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50UmVuZGVyKF9jdXJyZW50VmFsdWUsIGxvY2FsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBtb250aERhdGEuY29udGVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2VsbEVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1vbnRoJyB9LFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RkJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuICAgICAgICAgICAga2V5OiBtb250aERhdGEudmFsdWUsXG4gICAgICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCA/IG51bGwgOiBjaG9vc2VNb250aC5iaW5kKF90aGlzMiwgbW9udGhEYXRhLnZhbHVlKSxcbiAgICAgICAgICAgIHRpdGxlOiBtb250aERhdGEudGl0bGUsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZWxsRWxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0cicsXG4gICAgICAgIHsga2V5OiBpbmRleCwgcm9sZTogJ3JvdycgfSxcbiAgICAgICAgdGRzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndGFibGUnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFibGUnLCBjZWxsU3BhY2luZzogJzAnLCByb2xlOiAnZ3JpZCcgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0Ym9keScsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuICAgICAgICBtb250aHNFbHNcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBNb250aFRhYmxlO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuTW9udGhUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uU2VsZWN0OiBub29wXG59O1xuTW9udGhUYWJsZS5wcm9wVHlwZXMgPSB7XG4gIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGNlbGxSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb250aFRhYmxlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL21vbnRoL01vbnRoVGFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAzODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHtcbiAgYWRqdXN0WDogMSxcbiAgYWRqdXN0WTogMVxufTtcblxudmFyIHRhcmdldE9mZnNldCA9IFswLCAwXTtcblxudmFyIHBsYWNlbWVudHMgPSB7XG4gIGJvdHRvbUxlZnQ6IHtcbiAgICBwb2ludHM6IFsndGwnLCAndGwnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIC0zXSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21SaWdodDoge1xuICAgIHBvaW50czogWyd0cicsICd0ciddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTNdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcFJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ2JyJywgJ2JyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAzXSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ2JsJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAzXSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHBsYWNlbWVudHM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvcGlja2VyL3BsYWNlbWVudHMuanNcbiAqKiBtb2R1bGUgaWQgPSAzODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0NhbGVuZGFySGVhZGVyID0gcmVxdWlyZSgnLi4vY2FsZW5kYXIvQ2FsZW5kYXJIZWFkZXInKTtcblxudmFyIF9DYWxlbmRhckhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckhlYWRlcik7XG5cbnZhciBfRGF0ZVRhYmxlID0gcmVxdWlyZSgnLi4vZGF0ZS9EYXRlVGFibGUnKTtcblxudmFyIF9EYXRlVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVRhYmxlKTtcblxudmFyIF9EYXRlSW5wdXQgPSByZXF1aXJlKCcuLi9kYXRlL0RhdGVJbnB1dCcpO1xuXG52YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi4vdXRpbC9pbmRleCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIENhbGVuZGFyUGFydCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdDYWxlbmRhclBhcnQnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBkaXJlY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBob3ZlclZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93VGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvbklucHV0U2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgdGltZVBpY2tlckRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3RcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgICAgZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUsXG4gICAgICAgIGZvcm1hdCA9IHByb3BzLmZvcm1hdCxcbiAgICAgICAgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuICAgICAgICB0aW1lUGlja2VyID0gcHJvcHMudGltZVBpY2tlcixcbiAgICAgICAgZGlzYWJsZWRUaW1lID0gcHJvcHMuZGlzYWJsZWRUaW1lLFxuICAgICAgICB0aW1lUGlja2VyRGlzYWJsZWRUaW1lID0gcHJvcHMudGltZVBpY2tlckRpc2FibGVkVGltZSxcbiAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBwcm9wcy5zaG93VGltZVBpY2tlcixcbiAgICAgICAgaG92ZXJWYWx1ZSA9IHByb3BzLmhvdmVyVmFsdWUsXG4gICAgICAgIG9uSW5wdXRTZWxlY3QgPSBwcm9wcy5vbklucHV0U2VsZWN0O1xuXG4gICAgdmFyIGRpc2FibGVkVGltZUNvbmZpZyA9IHNob3dUaW1lUGlja2VyICYmIGRpc2FibGVkVGltZSAmJiB0aW1lUGlja2VyID8gKDAsIF9pbmRleC5nZXRUaW1lQ29uZmlnKShzZWxlY3RlZFZhbHVlLCBkaXNhYmxlZFRpbWUpIDogbnVsbDtcbiAgICB2YXIgcmFuZ2VDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLXJhbmdlJztcbiAgICB2YXIgbmV3UHJvcHMgPSB7XG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyXG4gICAgfTtcbiAgICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IDAgOiAxO1xuICAgIHZhciB0aW1lUGlja2VyRWxlID0gc2hvd1RpbWVQaWNrZXIgJiYgdGltZVBpY2tlciAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQodGltZVBpY2tlciwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgIHNob3dIb3VyOiB0cnVlLFxuICAgICAgc2hvd01pbnV0ZTogdHJ1ZSxcbiAgICAgIHNob3dTZWNvbmQ6IHRydWVcbiAgICB9LCB0aW1lUGlja2VyLnByb3BzLCBkaXNhYmxlZFRpbWVDb25maWcsIHRpbWVQaWNrZXJEaXNhYmxlZFRpbWUsIHtcbiAgICAgIG9uQ2hhbmdlOiBvbklucHV0U2VsZWN0LFxuICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogdmFsdWUsXG4gICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZVtpbmRleF1cbiAgICB9KSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiByYW5nZUNsYXNzTmFtZSArICctcGFydCAnICsgcmFuZ2VDbGFzc05hbWUgKyAnLScgKyBkaXJlY3Rpb24gfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVJbnB1dDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsXG4gICAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHNob3dDbGVhcjogZmFsc2UsXG4gICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVbaW5kZXhdLFxuICAgICAgICBvbkNoYW5nZTogb25JbnB1dFNlbGVjdFxuICAgICAgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBzdHlsZTogeyBvdXRsaW5lOiAnbm9uZScgfSB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckhlYWRlcjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIG5ld1Byb3BzLCB7XG4gICAgICAgICAgZW5hYmxlTmV4dDogZGlyZWN0aW9uID09PSAncmlnaHQnLFxuICAgICAgICAgIGVuYWJsZVByZXY6IGRpcmVjdGlvbiA9PT0gJ2xlZnQnLFxuICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHByb3BzLm9uVmFsdWVDaGFuZ2VcbiAgICAgICAgfSkpLFxuICAgICAgICBzaG93VGltZVBpY2tlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXInIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGltZS1waWNrZXItcGFuZWwnIH0sXG4gICAgICAgICAgICB0aW1lUGlja2VyRWxlXG4gICAgICAgICAgKVxuICAgICAgICApIDogbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVUYWJsZTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIG5ld1Byb3BzLCB7XG4gICAgICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlLFxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICAgIGRhdGVSZW5kZXI6IHByb3BzLmRhdGVSZW5kZXIsXG4gICAgICAgICAgICBvblNlbGVjdDogcHJvcHMub25TZWxlY3QsXG4gICAgICAgICAgICBvbkRheUhvdmVyOiBwcm9wcy5vbkRheUhvdmVyLFxuICAgICAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG4gICAgICAgICAgICBzaG93V2Vla051bWJlcjogcHJvcHMuc2hvd1dlZWtOdW1iZXJcbiAgICAgICAgICB9KSlcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyUGFydDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9yYW5nZS1jYWxlbmRhci9DYWxlbmRhclBhcnQuanNcbiAqKiBtb2R1bGUgaWQgPSAzODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfU2VsZWN0ID0gcmVxdWlyZSgnLi9TZWxlY3QnKTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBmb3JtYXRPcHRpb24gPSBmdW5jdGlvbiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpIHtcbiAgdmFyIHZhbHVlID0gJycgKyBvcHRpb247XG4gIGlmIChvcHRpb24gPCAxMCkge1xuICAgIHZhbHVlID0gJzAnICsgb3B0aW9uO1xuICB9XG5cbiAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG4gIGlmIChkaXNhYmxlZE9wdGlvbnMgJiYgZGlzYWJsZWRPcHRpb25zLmluZGV4T2Yob3B0aW9uKSA+PSAwKSB7XG4gICAgZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkXG4gIH07XG59O1xuXG52YXIgQ29tYm9ib3ggPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnQ29tYm9ib3gnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGVmYXVsdE9wZW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBzaG93SG91cjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dNaW51dGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93U2Vjb25kOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgaG91ck9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgbWludXRlT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBzZWNvbmRPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGRpc2FibGVkSG91cnM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZE1pbnV0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZFNlY29uZHM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgb25JdGVtQ2hhbmdlOiBmdW5jdGlvbiBvbkl0ZW1DaGFuZ2UodHlwZSwgaXRlbVZhbHVlKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlLFxuICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzLmRlZmF1bHRPcGVuVmFsdWU7XG5cbiAgICB2YXIgdmFsdWUgPSAodGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlKS5jbG9uZSgpO1xuICAgIGlmICh0eXBlID09PSAnaG91cicpIHtcbiAgICAgIHZhbHVlLmhvdXIoaXRlbVZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaW51dGUnKSB7XG4gICAgICB2YWx1ZS5taW51dGUoaXRlbVZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUuc2Vjb25kKGl0ZW1WYWx1ZSk7XG4gICAgfVxuICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgfSxcbiAgb25FbnRlclNlbGVjdFBhbmVsOiBmdW5jdGlvbiBvbkVudGVyU2VsZWN0UGFuZWwocmFuZ2UpIHtcbiAgICB0aGlzLnByb3BzLm9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlKHJhbmdlKTtcbiAgfSxcbiAgZ2V0SG91clNlbGVjdDogZnVuY3Rpb24gZ2V0SG91clNlbGVjdChob3VyKSB7XG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgaG91ck9wdGlvbnMgPSBfcHJvcHMyLmhvdXJPcHRpb25zLFxuICAgICAgICBkaXNhYmxlZEhvdXJzID0gX3Byb3BzMi5kaXNhYmxlZEhvdXJzLFxuICAgICAgICBzaG93SG91ciA9IF9wcm9wczIuc2hvd0hvdXI7XG5cbiAgICBpZiAoIXNob3dIb3VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkSG91cnMoKTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBvcHRpb25zOiBob3VyT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gZm9ybWF0T3B0aW9uKG9wdGlvbiwgZGlzYWJsZWRPcHRpb25zKTtcbiAgICAgIH0pLFxuICAgICAgc2VsZWN0ZWRJbmRleDogaG91ck9wdGlvbnMuaW5kZXhPZihob3VyKSxcbiAgICAgIHR5cGU6ICdob3VyJyxcbiAgICAgIG9uU2VsZWN0OiB0aGlzLm9uSXRlbUNoYW5nZSxcbiAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbkVudGVyU2VsZWN0UGFuZWwuYmluZCh0aGlzLCAnaG91cicpXG4gICAgfSk7XG4gIH0sXG4gIGdldE1pbnV0ZVNlbGVjdDogZnVuY3Rpb24gZ2V0TWludXRlU2VsZWN0KG1pbnV0ZSkge1xuICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgIG1pbnV0ZU9wdGlvbnMgPSBfcHJvcHMzLm1pbnV0ZU9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkTWludXRlcyA9IF9wcm9wczMuZGlzYWJsZWRNaW51dGVzLFxuICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzMy5kZWZhdWx0T3BlblZhbHVlLFxuICAgICAgICBzaG93TWludXRlID0gX3Byb3BzMy5zaG93TWludXRlO1xuXG4gICAgaWYgKCFzaG93TWludXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlO1xuICAgIHZhciBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE1pbnV0ZXModmFsdWUuaG91cigpKTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBvcHRpb25zOiBtaW51dGVPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpO1xuICAgICAgfSksXG4gICAgICBzZWxlY3RlZEluZGV4OiBtaW51dGVPcHRpb25zLmluZGV4T2YobWludXRlKSxcbiAgICAgIHR5cGU6ICdtaW51dGUnLFxuICAgICAgb25TZWxlY3Q6IHRoaXMub25JdGVtQ2hhbmdlLFxuICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uRW50ZXJTZWxlY3RQYW5lbC5iaW5kKHRoaXMsICdtaW51dGUnKVxuICAgIH0pO1xuICB9LFxuICBnZXRTZWNvbmRTZWxlY3Q6IGZ1bmN0aW9uIGdldFNlY29uZFNlbGVjdChzZWNvbmQpIHtcbiAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzLFxuICAgICAgICBzZWNvbmRPcHRpb25zID0gX3Byb3BzNC5zZWNvbmRPcHRpb25zLFxuICAgICAgICBkaXNhYmxlZFNlY29uZHMgPSBfcHJvcHM0LmRpc2FibGVkU2Vjb25kcyxcbiAgICAgICAgc2hvd1NlY29uZCA9IF9wcm9wczQuc2hvd1NlY29uZCxcbiAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZSA9IF9wcm9wczQuZGVmYXVsdE9wZW5WYWx1ZTtcblxuICAgIGlmICghc2hvd1NlY29uZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgZGVmYXVsdE9wZW5WYWx1ZTtcbiAgICB2YXIgZGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRTZWNvbmRzKHZhbHVlLmhvdXIoKSwgdmFsdWUubWludXRlKCkpO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIG9wdGlvbnM6IHNlY29uZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE9wdGlvbihvcHRpb24sIGRpc2FibGVkT3B0aW9ucyk7XG4gICAgICB9KSxcbiAgICAgIHNlbGVjdGVkSW5kZXg6IHNlY29uZE9wdGlvbnMuaW5kZXhPZihzZWNvbmQpLFxuICAgICAgdHlwZTogJ3NlY29uZCcsXG4gICAgICBvblNlbGVjdDogdGhpcy5vbkl0ZW1DaGFuZ2UsXG4gICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25FbnRlclNlbGVjdFBhbmVsLmJpbmQodGhpcywgJ3NlY29uZCcpXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNS5wcmVmaXhDbHMsXG4gICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHM1LmRlZmF1bHRPcGVuVmFsdWU7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlIHx8IGRlZmF1bHRPcGVuVmFsdWU7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbWJvYm94JyB9LFxuICAgICAgdGhpcy5nZXRIb3VyU2VsZWN0KHZhbHVlLmhvdXIoKSksXG4gICAgICB0aGlzLmdldE1pbnV0ZVNlbGVjdCh2YWx1ZS5taW51dGUoKSksXG4gICAgICB0aGlzLmdldFNlY29uZFNlbGVjdCh2YWx1ZS5zZWNvbmQoKSlcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb21ib2JveDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9Db21ib2JveC5qc1xuICoqIG1vZHVsZSBpZCA9IDM4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBIZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnSGVhZGVyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsZWFyVGV4dDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGhvdXJPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIG1pbnV0ZU9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgc2Vjb25kT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBkaXNhYmxlZEhvdXJzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWRNaW51dGVzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWRTZWNvbmRzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Fc2M6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBhbGxvd0VtcHR5OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZGVmYXVsdE9wZW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgY3VycmVudFNlbGVjdFBhbmVsOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICB2YWx1ZSA9IF9wcm9wcy52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdDtcblxuICAgIHJldHVybiB7XG4gICAgICBzdHI6IHZhbHVlICYmIHZhbHVlLmZvcm1hdChmb3JtYXQpIHx8ICcnLFxuICAgICAgaW52YWxpZDogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gbmV4dFByb3BzLmZvcm1hdDtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RyOiB2YWx1ZSAmJiB2YWx1ZS5mb3JtYXQoZm9ybWF0KSB8fCAnJyxcbiAgICAgIGludmFsaWQ6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgc3RyID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RyOiBzdHJcbiAgICB9KTtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGZvcm1hdCA9IF9wcm9wczIuZm9ybWF0LFxuICAgICAgICBob3VyT3B0aW9ucyA9IF9wcm9wczIuaG91ck9wdGlvbnMsXG4gICAgICAgIG1pbnV0ZU9wdGlvbnMgPSBfcHJvcHMyLm1pbnV0ZU9wdGlvbnMsXG4gICAgICAgIHNlY29uZE9wdGlvbnMgPSBfcHJvcHMyLnNlY29uZE9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkSG91cnMgPSBfcHJvcHMyLmRpc2FibGVkSG91cnMsXG4gICAgICAgIGRpc2FibGVkTWludXRlcyA9IF9wcm9wczIuZGlzYWJsZWRNaW51dGVzLFxuICAgICAgICBkaXNhYmxlZFNlY29uZHMgPSBfcHJvcHMyLmRpc2FibGVkU2Vjb25kcyxcbiAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMyLm9uQ2hhbmdlLFxuICAgICAgICBhbGxvd0VtcHR5ID0gX3Byb3BzMi5hbGxvd0VtcHR5O1xuXG5cbiAgICBpZiAoc3RyKSB7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWU7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFByb3RvVmFsdWUoKS5jbG9uZSgpO1xuICAgICAgdmFyIHBhcnNlZCA9ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKHN0ciwgZm9ybWF0LCB0cnVlKTtcbiAgICAgIGlmICghcGFyc2VkLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnZhbGlkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YWx1ZS5ob3VyKHBhcnNlZC5ob3VyKCkpLm1pbnV0ZShwYXJzZWQubWludXRlKCkpLnNlY29uZChwYXJzZWQuc2Vjb25kKCkpO1xuXG4gICAgICAvLyBpZiB0aW1lIHZhbHVlIG5vdCBhbGxvd2VkLCByZXNwb25zZSB3YXJuaW5nLlxuICAgICAgaWYgKGhvdXJPcHRpb25zLmluZGV4T2YodmFsdWUuaG91cigpKSA8IDAgfHwgbWludXRlT3B0aW9ucy5pbmRleE9mKHZhbHVlLm1pbnV0ZSgpKSA8IDAgfHwgc2Vjb25kT3B0aW9ucy5pbmRleE9mKHZhbHVlLnNlY29uZCgpKSA8IDApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW52YWxpZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aW1lIHZhbHVlIGlzIGRpc2FibGVkLCByZXNwb25zZSB3YXJuaW5nLlxuICAgICAgdmFyIGRpc2FibGVkSG91ck9wdGlvbnMgPSBkaXNhYmxlZEhvdXJzKCk7XG4gICAgICB2YXIgZGlzYWJsZWRNaW51dGVPcHRpb25zID0gZGlzYWJsZWRNaW51dGVzKHZhbHVlLmhvdXIoKSk7XG4gICAgICB2YXIgZGlzYWJsZWRTZWNvbmRPcHRpb25zID0gZGlzYWJsZWRTZWNvbmRzKHZhbHVlLmhvdXIoKSwgdmFsdWUubWludXRlKCkpO1xuICAgICAgaWYgKGRpc2FibGVkSG91ck9wdGlvbnMgJiYgZGlzYWJsZWRIb3VyT3B0aW9ucy5pbmRleE9mKHZhbHVlLmhvdXIoKSkgPj0gMCB8fCBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMgJiYgZGlzYWJsZWRNaW51dGVPcHRpb25zLmluZGV4T2YodmFsdWUubWludXRlKCkpID49IDAgfHwgZGlzYWJsZWRTZWNvbmRPcHRpb25zICYmIGRpc2FibGVkU2Vjb25kT3B0aW9ucy5pbmRleE9mKHZhbHVlLnNlY29uZCgpKSA+PSAwKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGludmFsaWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9yaWdpbmFsVmFsdWUpIHtcbiAgICAgICAgaWYgKG9yaWdpbmFsVmFsdWUuaG91cigpICE9PSB2YWx1ZS5ob3VyKCkgfHwgb3JpZ2luYWxWYWx1ZS5taW51dGUoKSAhPT0gdmFsdWUubWludXRlKCkgfHwgb3JpZ2luYWxWYWx1ZS5zZWNvbmQoKSAhPT0gdmFsdWUuc2Vjb25kKCkpIHtcbiAgICAgICAgICAvLyBrZWVwIG90aGVyIGZpZWxkcyBmb3IgcmMtY2FsZW5kYXJcbiAgICAgICAgICB2YXIgY2hhbmdlZFZhbHVlID0gb3JpZ2luYWxWYWx1ZS5jbG9uZSgpO1xuICAgICAgICAgIGNoYW5nZWRWYWx1ZS5ob3VyKHZhbHVlLmhvdXIoKSk7XG4gICAgICAgICAgY2hhbmdlZFZhbHVlLm1pbnV0ZSh2YWx1ZS5taW51dGUoKSk7XG4gICAgICAgICAgY2hhbmdlZFZhbHVlLnNlY29uZCh2YWx1ZS5zZWNvbmQoKSk7XG4gICAgICAgICAgb25DaGFuZ2UoY2hhbmdlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbGxvd0VtcHR5KSB7XG4gICAgICBvbkNoYW5nZShudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGludmFsaWQ6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW52YWxpZDogZmFsc2VcbiAgICB9KTtcbiAgfSxcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICB0aGlzLnByb3BzLm9uRXNjKCk7XG4gICAgfVxuICB9LFxuICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzdHI6ICcnIH0pO1xuICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuICB9LFxuICBnZXRDbGVhckJ1dHRvbjogZnVuY3Rpb24gZ2V0Q2xlYXJCdXR0b24oKSB7XG4gICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcbiAgICAgICAgYWxsb3dFbXB0eSA9IF9wcm9wczMuYWxsb3dFbXB0eTtcblxuICAgIGlmICghYWxsb3dFbXB0eSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWJ0bicsXG4gICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLmNsZWFyVGV4dCxcbiAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uQ2xlYXJcbiAgICB9KTtcbiAgfSxcbiAgZ2V0UHJvdG9WYWx1ZTogZnVuY3Rpb24gZ2V0UHJvdG9WYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZSB8fCB0aGlzLnByb3BzLmRlZmF1bHRPcGVuVmFsdWU7XG4gIH0sXG4gIGdldElucHV0OiBmdW5jdGlvbiBnZXRJbnB1dCgpIHtcbiAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzLFxuICAgICAgICBwbGFjZWhvbGRlciA9IF9wcm9wczQucGxhY2Vob2xkZXI7XG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGludmFsaWQgPSBfc3RhdGUuaW52YWxpZCxcbiAgICAgICAgc3RyID0gX3N0YXRlLnN0cjtcblxuICAgIHZhciBpbnZhbGlkQ2xhc3MgPSBpbnZhbGlkID8gcHJlZml4Q2xzICsgJy1pbnB1dC1pbnZhbGlkJyA6ICcnO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCAgJyArIGludmFsaWRDbGFzcyxcbiAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICB2YWx1ZTogc3RyLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQtd3JhcCcgfSxcbiAgICAgIHRoaXMuZ2V0SW5wdXQoKSxcbiAgICAgIHRoaXMuZ2V0Q2xlYXJCdXR0b24oKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEhlYWRlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9IZWFkZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9IZWFkZXIgPSByZXF1aXJlKCcuL0hlYWRlcicpO1xuXG52YXIgX0hlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9IZWFkZXIpO1xuXG52YXIgX0NvbWJvYm94ID0gcmVxdWlyZSgnLi9Db21ib2JveCcpO1xuXG52YXIgX0NvbWJvYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbWJvYm94KTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKGxlbmd0aCwgZGlzYWJsZWRPcHRpb25zLCBoaWRlRGlzYWJsZWRPcHRpb25zKSB7XG4gIHZhciBhcnIgPSBbXTtcbiAgZm9yICh2YXIgdmFsdWUgPSAwOyB2YWx1ZSA8IGxlbmd0aDsgdmFsdWUrKykge1xuICAgIGlmICghZGlzYWJsZWRPcHRpb25zIHx8IGRpc2FibGVkT3B0aW9ucy5pbmRleE9mKHZhbHVlKSA8IDAgfHwgIWhpZGVEaXNhYmxlZE9wdGlvbnMpIHtcbiAgICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxudmFyIFBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1BhbmVsJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBjbGVhclRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZWZhdWx0T3BlblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGlzYWJsZWRIb3VyczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRpc2FibGVkTWludXRlczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRpc2FibGVkU2Vjb25kczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGhpZGVEaXNhYmxlZE9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uRXNjOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgYWxsb3dFbXB0eTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dIb3VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd01pbnV0ZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dTZWNvbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgYWRkb246IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy10aW1lLXBpY2tlci1wYW5lbCcsXG4gICAgICBvbkNoYW5nZTogbm9vcCxcbiAgICAgIG9uQ2xlYXI6IG5vb3AsXG4gICAgICBkaXNhYmxlZEhvdXJzOiBub29wLFxuICAgICAgZGlzYWJsZWRNaW51dGVzOiBub29wLFxuICAgICAgZGlzYWJsZWRTZWNvbmRzOiBub29wLFxuICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKSxcbiAgICAgIGFkZG9uOiBub29wXG4gICAgfTtcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgICAgc2VsZWN0aW9uUmFuZ2U6IFtdXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShuZXdWYWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogbmV3VmFsdWUgfSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShuZXdWYWx1ZSk7XG4gIH0sXG4gIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG4gICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gIH0sXG4gIG9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlOiBmdW5jdGlvbiBvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZShjdXJyZW50U2VsZWN0UGFuZWwpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudFNlbGVjdFBhbmVsOiBjdXJyZW50U2VsZWN0UGFuZWwgfSk7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICB0aGlzLnByb3BzLm9uRXNjKCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBwbGFjZWhvbGRlciA9IF9wcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgZGlzYWJsZWRIb3VycyA9IF9wcm9wcy5kaXNhYmxlZEhvdXJzLFxuICAgICAgICBkaXNhYmxlZE1pbnV0ZXMgPSBfcHJvcHMuZGlzYWJsZWRNaW51dGVzLFxuICAgICAgICBkaXNhYmxlZFNlY29uZHMgPSBfcHJvcHMuZGlzYWJsZWRTZWNvbmRzLFxuICAgICAgICBoaWRlRGlzYWJsZWRPcHRpb25zID0gX3Byb3BzLmhpZGVEaXNhYmxlZE9wdGlvbnMsXG4gICAgICAgIGFsbG93RW1wdHkgPSBfcHJvcHMuYWxsb3dFbXB0eSxcbiAgICAgICAgc2hvd0hvdXIgPSBfcHJvcHMuc2hvd0hvdXIsXG4gICAgICAgIHNob3dNaW51dGUgPSBfcHJvcHMuc2hvd01pbnV0ZSxcbiAgICAgICAgc2hvd1NlY29uZCA9IF9wcm9wcy5zaG93U2Vjb25kLFxuICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzLmRlZmF1bHRPcGVuVmFsdWUsXG4gICAgICAgIGNsZWFyVGV4dCA9IF9wcm9wcy5jbGVhclRleHQsXG4gICAgICAgIG9uRXNjID0gX3Byb3BzLm9uRXNjLFxuICAgICAgICBhZGRvbiA9IF9wcm9wcy5hZGRvbjtcbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG4gICAgICAgIGN1cnJlbnRTZWxlY3RQYW5lbCA9IF9zdGF0ZS5jdXJyZW50U2VsZWN0UGFuZWw7XG5cbiAgICB2YXIgZGlzYWJsZWRIb3VyT3B0aW9ucyA9IGRpc2FibGVkSG91cnMoKTtcbiAgICB2YXIgZGlzYWJsZWRNaW51dGVPcHRpb25zID0gZGlzYWJsZWRNaW51dGVzKHZhbHVlID8gdmFsdWUuaG91cigpIDogbnVsbCk7XG4gICAgdmFyIGRpc2FibGVkU2Vjb25kT3B0aW9ucyA9IGRpc2FibGVkU2Vjb25kcyh2YWx1ZSA/IHZhbHVlLmhvdXIoKSA6IG51bGwsIHZhbHVlID8gdmFsdWUubWludXRlKCkgOiBudWxsKTtcbiAgICB2YXIgaG91ck9wdGlvbnMgPSBnZW5lcmF0ZU9wdGlvbnMoMjQsIGRpc2FibGVkSG91ck9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpO1xuICAgIHZhciBtaW51dGVPcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKDYwLCBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpO1xuICAgIHZhciBzZWNvbmRPcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKDYwLCBkaXNhYmxlZFNlY29uZE9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctaW5uZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksIF9jbGFzc05hbWVzKSkgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0hlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIGNsZWFyVGV4dDogY2xlYXJUZXh0LFxuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogZGVmYXVsdE9wZW5WYWx1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBjdXJyZW50U2VsZWN0UGFuZWw6IGN1cnJlbnRTZWxlY3RQYW5lbCxcbiAgICAgICAgb25Fc2M6IG9uRXNjLFxuICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgICBob3VyT3B0aW9uczogaG91ck9wdGlvbnMsXG4gICAgICAgIG1pbnV0ZU9wdGlvbnM6IG1pbnV0ZU9wdGlvbnMsXG4gICAgICAgIHNlY29uZE9wdGlvbnM6IHNlY29uZE9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkSG91cnM6IGRpc2FibGVkSG91cnMsXG4gICAgICAgIGRpc2FibGVkTWludXRlczogZGlzYWJsZWRNaW51dGVzLFxuICAgICAgICBkaXNhYmxlZFNlY29uZHM6IGRpc2FibGVkU2Vjb25kcyxcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG4gICAgICAgIG9uQ2xlYXI6IHRoaXMub25DbGVhcixcbiAgICAgICAgYWxsb3dFbXB0eTogYWxsb3dFbXB0eVxuICAgICAgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Db21ib2JveDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRlZmF1bHRPcGVuVmFsdWU6IGRlZmF1bHRPcGVuVmFsdWUsXG4gICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgc2hvd0hvdXI6IHNob3dIb3VyLFxuICAgICAgICBzaG93TWludXRlOiBzaG93TWludXRlLFxuICAgICAgICBzaG93U2Vjb25kOiBzaG93U2Vjb25kLFxuICAgICAgICBob3VyT3B0aW9uczogaG91ck9wdGlvbnMsXG4gICAgICAgIG1pbnV0ZU9wdGlvbnM6IG1pbnV0ZU9wdGlvbnMsXG4gICAgICAgIHNlY29uZE9wdGlvbnM6IHNlY29uZE9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkSG91cnM6IGRpc2FibGVkSG91cnMsXG4gICAgICAgIGRpc2FibGVkTWludXRlczogZGlzYWJsZWRNaW51dGVzLFxuICAgICAgICBkaXNhYmxlZFNlY29uZHM6IGRpc2FibGVkU2Vjb25kcyxcbiAgICAgICAgb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2U6IHRoaXMub25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2VcbiAgICAgIH0pLFxuICAgICAgYWRkb24odGhpcylcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQYW5lbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9QYW5lbC5qc1xuICoqIG1vZHVsZSBpZCA9IDM4N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uKSB7XG4gIHZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZVRpbWVvdXQoKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYXJndW1lbnRzWzBdLCAxMCk7XG4gIH07XG4gIC8vIGp1bXAgdG8gdGFyZ2V0IGlmIGR1cmF0aW9uIHplcm9cbiAgaWYgKGR1cmF0aW9uIDw9IDApIHtcbiAgICBlbGVtZW50LnNjcm9sbFRvcCA9IHRvO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgZGlmZmVyZW5jZSA9IHRvIC0gZWxlbWVudC5zY3JvbGxUb3A7XG4gIHZhciBwZXJUaWNrID0gZGlmZmVyZW5jZSAvIGR1cmF0aW9uICogMTA7XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICBlbGVtZW50LnNjcm9sbFRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wICsgcGVyVGljaztcbiAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3AgPT09IHRvKSByZXR1cm47XG4gICAgc2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uIC0gMTApO1xuICB9KTtcbn07XG5cbnZhciBTZWxlY3QgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnU2VsZWN0JyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgc2VsZWN0ZWRJbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gICAgdHlwZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1vdXNlRW50ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyBqdW1wIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZCgwKTtcbiAgfSxcbiAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgLy8gc21vb3RoIHNjcm9sbCB0byBzZWxlY3RlZCBvcHRpb25cbiAgICBpZiAocHJldlByb3BzLnNlbGVjdGVkSW5kZXggIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRJbmRleCkge1xuICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKDEyMCk7XG4gICAgfVxuICB9LFxuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25TZWxlY3QgPSBfcHJvcHMub25TZWxlY3QsXG4gICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZTtcblxuICAgIG9uU2VsZWN0KHR5cGUsIHZhbHVlKTtcbiAgfSxcbiAgZ2V0T3B0aW9uczogZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBvcHRpb25zID0gX3Byb3BzMi5vcHRpb25zLFxuICAgICAgICBzZWxlY3RlZEluZGV4ID0gX3Byb3BzMi5zZWxlY3RlZEluZGV4LFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscztcblxuICAgIHJldHVybiBvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKSgoX2NsYXNzbmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1zZWxlY3Qtb3B0aW9uLXNlbGVjdGVkJywgc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXNlbGVjdC1vcHRpb24tZGlzYWJsZWQnLCBpdGVtLmRpc2FibGVkKSwgX2NsYXNzbmFtZXMpKTtcbiAgICAgIHZhciBvbmNsaWNrID0gbnVsbDtcbiAgICAgIGlmICghaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICBvbmNsaWNrID0gX3RoaXMub25TZWxlY3QuYmluZChfdGhpcywgK2l0ZW0udmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNscyxcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgIG9uQ2xpY2s6IG9uY2xpY2ssXG4gICAgICAgICAgZGlzYWJsZWQ6IGl0ZW0uZGlzYWJsZWRcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbS52YWx1ZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSxcbiAgc2Nyb2xsVG9TZWxlY3RlZDogZnVuY3Rpb24gc2Nyb2xsVG9TZWxlY3RlZChkdXJhdGlvbikge1xuICAgIC8vIG1vdmUgdG8gc2VsZWN0ZWQgaXRlbVxuICAgIHZhciBzZWxlY3QgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB2YXIgbGlzdCA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMucmVmcy5saXN0KTtcbiAgICBpZiAoIWxpc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gdGhpcy5wcm9wcy5zZWxlY3RlZEluZGV4O1xuICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgIGluZGV4ID0gMDtcbiAgICB9XG4gICAgdmFyIHRvcE9wdGlvbiA9IGxpc3QuY2hpbGRyZW5baW5kZXhdO1xuICAgIHZhciB0byA9IHRvcE9wdGlvbi5vZmZzZXRUb3A7XG4gICAgc2Nyb2xsVG8oc2VsZWN0LCB0bywgZHVyYXRpb24pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuXG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0JyxcbiAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLnByb3BzLm9uTW91c2VFbnRlclxuICAgICAgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd1bCcsXG4gICAgICAgIHsgcmVmOiAnbGlzdCcgfSxcbiAgICAgICAgdGhpcy5nZXRPcHRpb25zKClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10aW1lLXBpY2tlci9saWIvU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMzg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgVGFibGUsIFBvcGNvbmZpcm0sIEljb24sIFRvb2x0aXAgfSBmcm9tICdhbnRkJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vTGlzdC5sZXNzJ1xyXG5pbXBvcnQgVGFibGVCb2R5V3JhcHBlciBmcm9tICcuLi8uLi9jb21tb24vVGFibGVCb2R5V3JhcHBlcidcclxuXHJcbmZ1bmN0aW9uIExpc3QgKHtcclxuICBsb2NhdGlvbixcclxuICBsb2FkaW5nLFxyXG4gIGRhdGFTb3VyY2UsXHJcbiAgcGFnaW5hdGlvbixcclxuICBvblBhZ2VDaGFuZ2VcclxufSkge1xyXG4gIGNvbnN0IGNvbHVtbnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAn6K6i5Y2V5Y+3JyxcclxuICAgICAgZGF0YUluZGV4OiAnb3JkZXJfaWQnLFxyXG4gICAgICBrZXk6ICdvcmRlcl9pZCdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICforqLljZXnsbvlnosnLFxyXG4gICAgICBkYXRhSW5kZXg6ICd0eXBlJyxcclxuICAgICAga2V5OiAndHlwZScsXHJcbiAgICAgIHJlbmRlcjogKHRleHQpID0+IDxzcGFuPnt0ZXh0ID09ICcxJ1xyXG4gICAgICAgICAgICA/ICflhYXlgLwnXHJcbiAgICAgICAgICAgIDogJ+a2iOi0uSd9PC9zcGFuPlxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aTjeS9nOezu+e7nycsXHJcbiAgICAgIGRhdGFJbmRleDogJ29zJyxcclxuICAgICAga2V5OiAnb3MnLFxyXG4gICAgICByZW5kZXI6ICh0ZXh0KSA9PiA8c3Bhbj57dGV4dCA9PSAnMSdcclxuICAgICAgICAgICAgPyA8c3Bhbj48SWNvbiB0eXBlPVwiYXBwbGUtb1wiIHN0eWxlPXt7IGNvbG9yOiAncmdiKDE2MCwgMTYwLCAxNjApJyB9fS8+IElPUzwvc3Bhbj5cclxuICAgICAgICAgICAgOiA8c3Bhbj48SWNvbiB0eXBlPVwiYW5kcm9pZFwiIHN0eWxlPXt7IGNvbG9yOiAncmdiKDE3MSwgMjA1LCA1KScgfX0vPiBBbmRyb2lkPC9zcGFuPn08L3NwYW4+XHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn6YeR6aKdJyxcclxuICAgICAgZGF0YUluZGV4OiAnY2hhbmdlJyxcclxuICAgICAga2V5OiAnY2hhbmdlJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+eUqOaIt+aYteensCcsXHJcbiAgICAgIGRhdGFJbmRleDogJ3VzZXJfbmFtZScsXHJcbiAgICAgIGtleTogJ3VzZXJfbmFtZSdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICfnlKjmiLfmiYvmnLonLFxyXG4gICAgICBkYXRhSW5kZXg6ICd1c2VyX3Bob25lJyxcclxuICAgICAga2V5OiAndXNlcl9waG9uZSdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICflvZPliY3orr7lpIfph5Hpop0nLFxyXG4gICAgICBkYXRhSW5kZXg6ICdjdXJyZW50X21vbmV5JyxcclxuICAgICAga2V5OiAnY3VycmVudF9tb25leSdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICfliJvlu7rml7bpl7QnLFxyXG4gICAgICBkYXRhSW5kZXg6ICdjdGltZScsXHJcbiAgICAgIGtleTogJ2N0aW1lJ1xyXG4gICAgfVxyXG4gIF1cclxuXHJcbiAgY29uc3QgZ2V0Qm9keVdyYXBwZXJQcm9wcyA9IHtcclxuICAgIHBhZ2U6IGxvY2F0aW9uLnF1ZXJ5LnBhZ2UsXHJcbiAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmN1cnJlbnRcclxuICB9XHJcblxyXG4gIGNvbnN0IGdldEJvZHlXcmFwcGVyID0gKGJvZHkpID0+ICg8VGFibGVCb2R5V3JhcHBlciB7Li4uZ2V0Qm9keVdyYXBwZXJQcm9wc30gYm9keT17Ym9keX0gLz4pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8VGFibGVcclxuICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9XHJcbiAgICAgIGJvcmRlcmVkXHJcbiAgICAgIHNjcm9sbD17eyB4OiAxMjAwIH19XHJcbiAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XHJcbiAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgIG9uQ2hhbmdlPXtvblBhZ2VDaGFuZ2V9XHJcbiAgICAgIHBhZ2luYXRpb249e3suLi5wYWdpbmF0aW9uLCBzaG93U2l6ZUNoYW5nZXI6IHRydWUsIHNob3dRdWlja0p1bXBlcjogdHJ1ZSwgc2hvd1RvdGFsOiB0b3RhbCA9PiBg5YWxICR7dG90YWx9IOadoWB9fVxyXG4gICAgICBzaW1wbGVcclxuICAgICAgcm93S2V5PXtyZWNvcmQgPT4gcmVjb3JkLmlkfVxyXG4gICAgICBnZXRCb2R5V3JhcHBlcj17Z2V0Qm9keVdyYXBwZXJ9XHJcbiAgICAvPlxyXG4gIClcclxufVxyXG5cclxuTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgb25QYWdlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBkYXRhU291cmNlOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgbG9hZGluZzogUHJvcFR5cGVzLmFueSxcclxuICBwYWdpbmF0aW9uOiBQcm9wVHlwZXMuYW55XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpc3RcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9vcmRlci9mbG93L0xpc3QuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEZvcm0sIEJ1dHRvbiwgUm93LCBDb2wsIEljb24sIERhdGVQaWNrZXIsIFNlbGVjdCB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5pbXBvcnQgU2VhcmNoR3JvdXAgZnJvbSAnLi4vLi4vY29tbW9uL1NlYXJjaCdcclxuXHJcbmNvbnN0IEZvcm1JdGVtID0gRm9ybS5JdGVtXHJcbmNvbnN0IFJhbmdlUGlja2VyID0gRGF0ZVBpY2tlci5SYW5nZVBpY2tlclxyXG5jb25zdCBPcHRpb24gPSBTZWxlY3QuT3B0aW9uXHJcblxyXG5mdW5jdGlvbiBTZWFyY2goe1xyXG4gIHBob25lLCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgb3MgPSAnJywgdHlwZSA9ICcnLCBzdGF0dXMgPSAnJyxcclxuICBvblNlYXJjaCxcclxuICBmb3JtOiB7XHJcbiAgICBnZXRGaWVsZERlY29yYXRvcixcclxuICAgIHZhbGlkYXRlRmllbGRzLFxyXG4gICAgZ2V0RmllbGRzVmFsdWVcclxuICB9XHJcbn0pIHtcclxuICBjb25zdCBzZWFyY2hHcm91cFByb3BzID0ge1xyXG4gICAgZmllbGQ6ICdwaG9uZScsXHJcbiAgICBrZXl3b3JkOiBwaG9uZSxcclxuICAgIHNpemU6ICdsYXJnZScsXHJcbiAgICBzZWxlY3Q6IHRydWUsXHJcbiAgICBzZWxlY3RPcHRpb25zOiBbeyB2YWx1ZTogJ3Bob25lJywgbmFtZTogJ+aJi+acuuWPtycgfV0sXHJcbiAgICBzZWxlY3RQcm9wczoge1xyXG4gICAgICBkZWZhdWx0VmFsdWU6ICdwaG9uZSdcclxuICAgIH0sXHJcbiAgICBvblNlYXJjaDogKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbGlkYXRlRmllbGRzKChlcnJvcnMsIHZhbHVlcykgPT4ge1xyXG4gICAgICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByYW5nZVZhbHVlID0gdmFsdWVzWydkYXRlJ11cclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSB7fVxyXG4gICAgICAgIGlmKCEhcmFuZ2VWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIGRhdGEuc3RhcnRfZGF0ZSA9IHJhbmdlVmFsdWVbMF0uZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICAgIGRhdGEuZW5kX2RhdGUgPSByYW5nZVZhbHVlWzFdLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWVzLm9zKSB7XHJcbiAgICAgICAgICBkYXRhLm9zID0gdmFsdWVzLm9zXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWVzLnR5cGUpIHtcclxuICAgICAgICAgIGRhdGEudHlwZSA9IHZhbHVlcy50eXBlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWUua2V5d29yZCkge1xyXG4gICAgICAgICAgLy8gZGF0YS5maWVsZCA9IHZhbHVlLmZpZWxkXHJcbiAgICAgICAgICAvLyBkYXRhLmtleXdvcmQgPSB2YWx1ZS5rZXl3b3JkXHJcbiAgICAgICAgICBkYXRhW3ZhbHVlLmZpZWxkXSA9IHZhbHVlLmtleXdvcmRcclxuICAgICAgICB9XHJcbiAgICAgICAgb25TZWFyY2goZGF0YSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGZvcm1JdGVtTGF5b3V0ID0ge1xyXG4gICAgbGFiZWxDb2w6IHsgc3BhbjogMTIgfSxcclxuICAgIHdyYXBwZXJDb2w6IHsgc3BhbjogMTIgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxSb3c+XHJcbiAgICAgIDxGb3JtIGlubGluZT5cclxuICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCLml6XmnJ/mn6Xor6JcIiBzdHlsZT17e21hcmdpbkJvdHRvbTogMjB9fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignZGF0ZScsIHtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBzdGFydF9kYXRlICYmIGVuZF9kYXRlID8gW21vbWVudChzdGFydF9kYXRlKSwgbW9tZW50KGVuZF9kYXRlKV0gOiAnJ1xyXG4gICAgICAgICAgfSkoPFJhbmdlUGlja2VyIHN0eWxlPXt7d2lkdGg6IDIwMH19Lz4pfVxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgICAgPEZvcm1JdGVtIHsuLi5mb3JtSXRlbUxheW91dH0gbGFiZWw9XCLmk43kvZzns7vnu59cIiBzdHlsZT17e21hcmdpbkJvdHRvbTogMjAsIHdpZHRoOiAxMzAsIG1hcmdpblJpZ2h0OiA1MH19PlxyXG4gICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCdvcycsIHtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBvcyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKDxTZWxlY3Qgc3R5bGU9e3t3aWR0aDogMTAwfX0+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIlwiPuWFqOmDqDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCIxXCI+PEljb24gdHlwZT1cImFwcGxlLW9cIiBzdHlsZT17eyBjb2xvcjogJ3JnYigxNjAsIDE2MCwgMTYwKScgfX0vPiBJT1M8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiMlwiPjxJY29uIHR5cGU9XCJhbmRyb2lkXCIgc3R5bGU9e3sgY29sb3I6ICdyZ2IoMTcxLCAyMDUsIDUpJyB9fS8+IEFuZHJvaWQ8L09wdGlvbj5cclxuICAgICAgICAgICAgPC9TZWxlY3Q+KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgICAgPEZvcm1JdGVtIHsuLi5mb3JtSXRlbUxheW91dH0gbGFiZWw9XCLorqLljZXnsbvlnotcIiBzdHlsZT17e21hcmdpbkJvdHRvbTogMjAsIHdpZHRoOiAxMzAsIG1hcmdpblJpZ2h0OiA1MH19PlxyXG4gICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCd0eXBlJywge1xyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6IHR5cGUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICg8U2VsZWN0IHN0eWxlPXt7d2lkdGg6IDEwMH19PlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJcIj7lhajpg6g8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiMVwiPuWFheWAvDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCIyXCI+5raI6LS5PC9PcHRpb24+XHJcbiAgICAgICAgICAgIDwvU2VsZWN0PilcclxuICAgICAgICAgIH1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICAgIDxGb3JtSXRlbSBzdHlsZT17e21hcmdpbkJvdHRvbTogMjAsIGZsb2F0OiAncmlnaHQnLCBtYXJnaW5SaWdodDogMH19PlxyXG4gICAgICAgICAgPFNlYXJjaEdyb3VwIHsuLi5zZWFyY2hHcm91cFByb3BzfSAvPlxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgIDwvRm9ybT5cclxuICAgIDwvUm93PlxyXG4gIClcclxufVxyXG5cclxuU2VhcmNoLnByb3BUeXBlcyA9IHtcclxuICBmb3JtOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXHJcbiAgb25TZWFyY2g6IFByb3BUeXBlcy5mdW5jLFxyXG4gIGZpZWxkOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIGtleXdvcmQ6IFByb3BUeXBlcy5zdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybS5jcmVhdGUoKShTZWFyY2gpXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvb3JkZXIvZmxvdy9TZWFyY2guanNcbiAqKi8iLCJpbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3FzJ1xyXG5pbXBvcnQgeyBtZXNzYWdlIH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHsgcm91dGVyUmVkdXggfSBmcm9tICdkdmEvcm91dGVyJ1xyXG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVyL2Zsb3cnXHJcbmltcG9ydCB7IGdldEN1clBvd2VycyB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWVzcGFjZTogJ29yZGVyRmxvdycsXHJcbiAgc3RhdGU6IHtcclxuICAgIGxpc3Q6IFtdLFxyXG4gICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGN1cnJlbnQ6IDEsXHJcbiAgICAgIHBhZ2VTaXplOiAxMCxcclxuICAgICAgdG90YWw6IG51bGxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBzdWJzY3JpcHRpb25zOiB7XHJcbiAgICBzZXR1cCAoeyBkaXNwYXRjaCwgaGlzdG9yeSB9KSB7XHJcbiAgICAgIGhpc3RvcnkubGlzdGVuKGxvY2F0aW9uID0+IHtcclxuICAgICAgICBjb25zdCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lXHJcbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSAnL29yZGVyL2Zsb3cnKSB7XHJcbiAgICAgICAgICBjb25zdCBjdXJQb3dlcnMgPSBnZXRDdXJQb3dlcnMocGF0aG5hbWUpXHJcbiAgICAgICAgICBpZihjdXJQb3dlcnMpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzIH0gfSlcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBlZmZlY3RzOiB7XHJcbiAgICAqcXVlcnkgKHsgcGF5bG9hZCB9LCB7IHNlbGVjdCwgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KVxyXG4gICAgICBjb25zdCBwYXRoUXVlcnkgPSB5aWVsZCBzZWxlY3QoKHsgcm91dGluZyB9KSA9PiByb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucXVlcnkpXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBjYWxsKHF1ZXJ5LCBwYXRoUXVlcnkpXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7XHJcbiAgICAgICAgICB0eXBlOiAncXVlcnlTdWNjZXNzJyxcclxuICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgbGlzdDogZGF0YS5saXN0LFxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBkYXRhLnBhZ2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdoaWRlTG9hZGluZycgfSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICByZWR1Y2Vyczoge1xyXG4gICAgcXVlcnlTdWNjZXNzIChzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5hY3Rpb24ucGF5bG9hZCB9XHJcbiAgICB9LFxyXG4gICAgc2hvd0xvYWRpbmcgKHN0YXRlKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiB0cnVlIH1cclxuICAgIH0sXHJcbiAgICBoaWRlTG9hZGluZyAoc3RhdGUpIHtcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxvYWRpbmc6IGZhbHNlIH1cclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZGVscy9vcmRlci9mbG93LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyByb3V0ZXJSZWR1eCB9IGZyb20gJ2R2YS9yb3V0ZXInXHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdkdmEnXHJcbmltcG9ydCBMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvb3JkZXIvZmxvdy9MaXN0J1xyXG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvb3JkZXIvZmxvdy9TZWFyY2gnXHJcbmltcG9ydCB7IGNoZWNrUG93ZXIgfSBmcm9tICcuLi8uLi91dGlscydcclxuaW1wb3J0IHsgQURELCBERVRBSUwgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvb3B0aW9ucydcclxuXHJcbmZ1bmN0aW9uIEZsb3coeyBsb2NhdGlvbiwgY3VyUG93ZXJzLCBkaXNwYXRjaCwgb3JkZXJGbG93IH0pIHtcclxuXHJcbiAgY29uc3QgeyBsaXN0LCBwYWdpbmF0aW9uLCBsb2FkaW5nIH0gPSBvcmRlckZsb3dcclxuXHJcbiAgY29uc3QgeyBwaG9uZSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIG9zLCB0eXBlLCBzdGF0dXMgfSA9IGxvY2F0aW9uLnF1ZXJ5XHJcblxyXG4gIGNvbnN0IHNlYXJjaFByb3BzID0ge1xyXG4gICAgcGhvbmUsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBvcywgdHlwZSwgc3RhdHVzLFxyXG4gICAgb25TZWFyY2goZmllbGRzVmFsdWUpIHtcclxuICAgICAgZGlzcGF0Y2gocm91dGVyUmVkdXgucHVzaCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxyXG4gICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAuLi5maWVsZHNWYWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBsaXN0UHJvcHMgPSB7XHJcbiAgICBsb2NhdGlvbixcclxuICAgIGRhdGFTb3VyY2U6IGxpc3QsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbixcclxuICAgIG9uUGFnZUNoYW5nZShwYWdlKSB7XHJcbiAgICAgIGNvbnN0IHtxdWVyeSwgcGF0aG5hbWV9ID0gbG9jYXRpb25cclxuICAgICAgZGlzcGF0Y2gocm91dGVyUmVkdXgucHVzaCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxyXG4gICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAuLi5xdWVyeSxcclxuICAgICAgICAgIHBhZ2U6IHBhZ2UuY3VycmVudCxcclxuICAgICAgICAgIHBhZ2VTaXplOiBwYWdlLnBhZ2VTaXplXHJcbiAgICAgICAgfVxyXG4gICAgICB9KSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT0nY29udGVudC1pbm5lcic+XHJcbiAgICAgIDxTZWFyY2ggey4uLnNlYXJjaFByb3BzfSAvPlxyXG4gICAgICA8TGlzdCB7Li4ubGlzdFByb3BzfSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcblxyXG5GbG93LnByb3BUeXBlcyA9IHtcclxuICBvcmRlckZsb3c6IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgbG9jYXRpb246IFByb3BUeXBlcy5vYmplY3QsXHJcbiAgZGlzcGF0Y2g6IFByb3BUeXBlcy5mdW5jXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyh7IG9yZGVyRmxvdyB9KSB7XHJcbiAgcmV0dXJuIHsgb3JkZXJGbG93IH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKEZsb3cpXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JvdXRlcy9vcmRlci9GbG93LmpzXG4gKiovIiwiaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5IChwYXJhbXMpIHtcclxuICByZXR1cm4gcmVxdWVzdCgnL2Rhc2hib2FyZC13YWxsZXQtaGlzdG9yeS9saXN0Jywge1xyXG4gICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgIGRhdGE6IHBhcmFtc1xyXG4gIH0pXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvc2VydmljZXMvb3JkZXIvZmxvdy5qc1xuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRhYmxlXCI6XCJ0YWJsZV9fXzVlM3h2XCIsXCJ3YXJuaW5nXCI6XCJ3YXJuaW5nX19fMnNzYWpcIixcImRhbmdlclwiOlwiZGFuZ2VyX19fcl9WaHBcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb21wb25lbnRzL29yZGVyL2Zsb3cvTGlzdC5sZXNzXG4gKiogbW9kdWxlIGlkID0gODcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2lucHV0L3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9