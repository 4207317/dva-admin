webpackJsonp([6],{18:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(51),y=r(h),m=n(1),v=r(m),g=n(82),b=r(g),C=n(6),w=r(C),x=n(17),P=r(x),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return P["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.style,r=e.children,o=e.className,i=e.indeterminate,l=e.onMouseEnter,u=e.onMouseLeave,c=T(e,["prefixCls","style","children","className","indeterminate","onMouseEnter","onMouseLeave"]),p=(0,w["default"])(o,(0,s["default"])({},t+"-wrapper",!0)),f=(0,w["default"])((0,s["default"])({},t+"-indeterminate",i));return v["default"].createElement("label",{className:p,style:n,onMouseEnter:l,onMouseLeave:u},v["default"].createElement(y["default"],(0,a["default"])({},c,{prefixCls:t,className:f,children:null})),void 0!==r?v["default"].createElement("span",null,r):null)},t}(v["default"].Component);t["default"]=S,S.Group=b["default"],S.defaultProps={prefixCls:"ant-checkbox",indeterminate:!1},e.exports=t["default"]},21:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;throw new Error("no key or value for "+e)}function a(e,t){return"value"===t?o(e):e.props[t]}function i(e){return e.combobox}function s(e){return e.multiple||e.tags}function l(e){return s(e)||i(e)}function u(e){return!l(e)}function c(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function p(e){e.preventDefault()}function f(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].key===t){n=r;break}return n}function d(e,t){for(var n=-1,r=0;r<e.length;r++)if(c(e[r].label).join("")===t){n=r;break}return n}function h(e,t){if(null===t||void 0===t)return[];var n=[];return b["default"].Children.forEach(e,function(e){if(e.type.isMenuItemGroup)n=n.concat(h(e.props.children,t));else{var r=o(e),a=e.key;f(t,r)!==-1&&a&&n.push(a)}}),n}function y(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.type.isMenuItemGroup){var r=y(n.props.children);if(r)return r}else if(!n.props.disabled)return n}return null}function m(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}function v(e,t){var n=new RegExp("["+t.join()+"]"),r=e.split(n);return""===r[0]&&r.shift(),""===r[r.length-1]&&r.pop(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTABLE_ATTRIBUTE=t.UNSELECTABLE_STYLE=void 0,t.getValuePropValue=o,t.getPropValue=a,t.isCombobox=i,t.isMultipleOrTags=s,t.isMultipleOrTagsOrCombobox=l,t.isSingleMode=u,t.toArray=c,t.preventDefaultEvent=p,t.findIndexInValueByKey=f,t.findIndexInValueByLabel=d,t.getSelectKeys=h,t.findFirstMenuItem=y,t.includesSeparators=m,t.splitBySeparators=v;var g=n(1),b=r(g);t.UNSELECTABLE_STYLE={userSelect:"none",WebkitUserSelect:"none"},t.UNSELECTABLE_ATTRIBUTE={unselectable:"unselectable"}},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=[];return m["default"].Children.forEach(e,function(e){t.push(e)}),t}function a(e){return e||0===e?Array.isArray(e)?e:[e]:[]}function i(e,t){if(e===t||(0,g["default"])(e,t))return!0;if(!e||!t)return!1;var n=!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var o=e[r],a=t[r];for(var s in o)if(o[s]!==a[s])if("object"===h(o[s])&&"object"===h(a[s]))n=i(o[s],a[s]);else{if("function"!=typeof o[s]||"function"!=typeof a[s])return n=!1,!1;o[s].name!==a[s].name&&(n=!1)}}}var l=function(e,t){Object.keys(e).forEach(function(r){r in t||(n=!1),"object"===h(e[r])&&"object"===h(t[r])?n=i(e[r],t[r]):"function"==typeof e[r]&&"function"==typeof t[r]?e[r].name!==t[r].name&&(n=!1):e[r]!==t[r]&&(n=!1)})};return l(e,t),l(t,e),n}function s(e,t){var n=null;return e&&e.forEach(function(e){!n&&e&&e.key===t&&(n=e)}),n}function l(e,t){var n=[],r={},o=[],a=void 0;return e.forEach(function(e){e&&(s(t,e.key)?(o.length&&(r[e.key]=o,o=[]),a=e.key):e.key&&o.push(e))}),a||(n=n.concat(o)),t.forEach(function(e){e&&(r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e),e.key===a&&(n=n.concat(o)))}),n}function u(e,t,n){var r=void 0;return r="function"==typeof e?e({key:t,index:n}):e}function c(e){return e&&e.children}function p(e,t,n,r,o,a,i){var s=/(?:Left|Right|Width|X)/i.test(t)||i,l=t.indexOf("border")!==-1?e:e.parentNode||document.body;l=a?document.body:l;var u=void 0;return u="%"===r?parseFloat(n)/100*(s?l.clientWidth:l.clientHeight):"vw"===r?parseFloat(n)*document.body.clientWidth/100:"vh"===r?parseFloat(n)*document.body.clientHeight/100:r&&r.match(/em/i)?16*parseFloat(n):parseFloat(n),"%"===o?u=100*u/(s?l.clientWidth:l.clientHeight):"vw"===o?u=parseFloat(n)/document.body.clientWidth*100:"vh"===o?u=parseFloat(n)/document.body.clientHeight*100:o&&o.match(/em/i)&&(u=parseFloat(n)/16),u}function f(e){if("string"==typeof e){if(e.charAt(0).match(/m/i)){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}return document.querySelector(e)}if(e.style)return e;throw new Error("Error while parsing the path")}function d(e,t){if("string"==typeof e)return e;var n=e.perspective,r=e.rotate,o=e.rotateX,a=e.rotateY,i=e.scaleX,s=e.scaleY,l=e.scaleZ,u=e.skewX,c=e.skewY,p=e.xPercent||0,f=e.yPercent||0,d=p?0:e.translateX,h=f?0:e.translateY,y=e.translateZ||0,m=p||f?"translate("+(p||d+"px")+","+(f||h+"px")+")":"",v=u||c?"skew("+u+"deg,"+c+"deg)":"",g=r?"rotate("+r+"deg)":"",b=void 0;if(!n&&!o&&!a&&!y&&1===l||!t){b=1!==i||1!==s?"scale("+i+","+s+")":"";var C=m||"translate("+d+"px,"+h+"px)";return C+" "+g+" "+b+" "+v}b=1!==i||1!==s||1!==l?"scale3d("+i+","+s+","+l+")":"";var w=o?"rotateX("+o+"deg)":"",x=a?"rotateY("+a+"deg)":"",P=n?"perspective("+n+"px)":"",T=m?m+" translate3d(0,0,"+y+"px)":"translate3d("+d+"px,"+h+"px,"+y+"px)";return P+" "+T+" "+b+" "+g+" "+w+" "+x+" "+v}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toArrayChildren=o,t.dataToArray=a,t.objectEqual=i,t.findChildInChildrenByKey=s,t.mergeChildren=l,t.transformArguments=u,t.getChildrenFromProps=c,t.startConvertToEndUnit=p,t.parsePath=f,t.getTransformValue=d;var y=n(1),m=r(y),v=n(158),g=r(v)},27:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(1),y=r(h),m=n(132),v=r(m),g=n(6),b=r(g),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=void 0===r?"":r,i=t.size,l=t.combobox,u=this.props,c=u.notFoundContent,p=void 0===c?"Not Found":c,f=u.optionLabelProp,d=(0,b["default"])((e={},(0,s["default"])(e,n+"-lg","large"===i),(0,s["default"])(e,n+"-sm","small"===i),e),o),h=this.context.antLocale;return h&&h.Select&&(p="notFoundContent"in this.props?p:h.Select.notFoundContent),l&&(p=null,f=f||"value"),y["default"].createElement(v["default"],(0,a["default"])({},this.props,{className:d,optionLabelProp:f||"children",notFoundContent:p}))},t}(y["default"].Component);t["default"]=C,C.Option=m.Option,C.OptGroup=m.OptGroup,C.defaultProps={prefixCls:"ant-select",showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},C.propTypes={prefixCls:h.PropTypes.string,className:h.PropTypes.string,size:h.PropTypes.oneOf(["default","large","small"]),combobox:h.PropTypes.bool,notFoundContent:h.PropTypes.any,showSearch:h.PropTypes.bool,optionLabelProp:h.PropTypes.string,transitionName:h.PropTypes.string,choiceTransitionName:h.PropTypes.string},e.exports=t["default"]},30:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(125),y=r(h),m=n(1),v=r(m),g=n(6),b=r(g),C=n(17),w=r(C),x=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return w["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t,n=this.props,r=n.prefixCls,o=n.children,i=n.checked,l=n.disabled,u=n.className,c=void 0===u?"":u,p=n.style,f=(0,b["default"])((e={},(0,s["default"])(e,r+"-wrapper",!0),(0,s["default"])(e,r+"-wrapper-checked",i),(0,s["default"])(e,r+"-wrapper-disabled",l),e),c),d=(0,b["default"])(r,(t={},(0,s["default"])(t,r+"-checked",i),(0,s["default"])(t,r+"-disabled",l),t));return v["default"].createElement("label",{className:f,style:p,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},v["default"].createElement(y["default"],(0,a["default"])({},this.props,{className:d,style:null,children:null})),void 0!==o?v["default"].createElement("span",null,o):null)},t}(v["default"].Component);t["default"]=x,x.defaultProps={prefixCls:"ant-radio"},e.exports=t["default"]},31:function(e,t,n){"use strict";var r=n(138),o=n(134),a=n(135);r.Column=o,r.ColumnGroup=a,e.exports=r},35:function(e,t,n){"use strict";n(10),n(112),n(25)},39:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},r=n.prototype;r.push=function(e){this[e.prototype.name]=e},t["default"]=new n,e.exports=t["default"]},41:function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function r(e,t){var n=t?Math.pow(10,t):T,r=0|e,o=e-r;return o?(o*n+(e<0?-.5:.5)|0)/n+r:e}function o(e){return window.WebKitCSSMatrix&&new window.WebKitCSSMatrix(e)||window.MozCSSMatrix&&new window.MozCSSMatrix(e)||window.DOMMatrix&&new window.DOMMatrix(e)||window.MsCSSMatrix&&new window.MsCSSMatrix(e)||window.OCSSMatrix&&new window.OCSSMatrix(e)||window.CSSMatrix&&new window.CSSMatrix(e)||null}function a(e){var t=["O","Moz","ms","Ms","Webkit"];if("filter"!==e&&e in document.body.style)return e;var n=e.charAt(0).toUpperCase()+e.substr(1),r=t.filter(function(e){return""+e+n in document.body.style});return r[0]?""+r[0]+n:null}function i(e){var t=e;return t="x"===t?"translateX":t,t="y"===t?"translateY":t,t="z"===t?"translateZ":t}function s(e){var t=void 0,n=void 0,r=void 0,o=void 0,a=void 0,i=void 0,s=void 0,l=e,u=/(?:\d|\-\d|\.\d|\-\.\d)+/g;return l?"number"==typeof l?t=[l>>16,l>>8&255,255&l]:(","===l.charAt(l.length-1)&&(l=l.substr(0,l.length-1)),S[l]?t=S[l]:"#"===l.charAt(0)?(4===l.length&&(n=l.charAt(1),r=l.charAt(2),o=l.charAt(3),l="#"+n+n+r+r+o+o),l=parseInt(l.substr(1),16),t=[l>>16,l>>8&255,255&l]):"hsl"===l.substr(0,3)?(t=l.match(u),a=Number(t[0])%360/360,i=Number(t[1])/100,s=Number(t[2])/100,r=s<=.5?s*(i+1):s+i-s*i,n=2*s-r,t.length>3&&(t[3]=Number(t[3])),t[0]=O(a+1/3,n,r),t[1]=O(a,n,r),t[2]=O(a-1/3,n,r)):t=l.match(u)||S.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3]))):t=S.black,t}function l(e){if(!e)return[0,0,0,0,0,0,0];var t=void 0;if(e.indexOf("rgb")>=0){var n=e.match(/rgb+(?:a)?\((.*)\)/),r=e.replace(n[0],"").trim().split(/\s+/);t=r.indexOf("inset"),t>=0&&r.splice(t,1);var o=n[1].replace(/\s+/g,"").split(",");return 3===o.length&&o.push(1),r.concat(o,t>=0?["inset"]:[])}var a=e.split(/\s+/);t=a.indexOf("inset"),t>=0&&a.splice(t,1);var i=s(a[a.length-1]);return i[3]="number"==typeof i[3]?i[3]:1,a=a.splice(0,a.length-1),a.concat(i,t>=0?["inset"]:[])}function u(e){var t=4===e.length?"rgba":"rgb",n=e.map(function(e,t){return t<3?Math.round(e):e});return t+"("+n.join(",")+")"}function c(e){return _._lists.transformsBase.indexOf(e)>=0?"transform":e}function p(e){var t=c(e);return _.filter.indexOf(t)>=0?"filter":t}function f(e){if("none"===e||!e||""===e)return null;var t=e.replace(" ","").split(")").filter(function(e){return e}),n={};return t.forEach(function(e){var t=e.split("(");n[t[0]]=t[1]}),n}function d(e){var t=e.match(/(?:\-|\b)[\d\-\.e]+\b/gi),n={};return 6===t.length?(n.m11=parseFloat(t[0]),n.m12=parseFloat(t[1]),n.m13=0,n.m14=0,n.m21=parseFloat(t[2]),n.m22=parseFloat(t[3]),n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=parseFloat(t[4]),n.m42=parseFloat(t[5]),n.m43=0,n.m44=0):t.forEach(function(e,t){var r=t%4+1,o=Math.floor(t/4)+1;n["m"+o+r]=parseFloat(e)}),n}function h(e){var t="none"===e||""===e?"matrix(1, 0, 0, 1, 0, 0)":e,n=d(t),o=n.m11,a=n.m12,i=n.m13,s=n.m14,l=n.m21,u=n.m22,c=n.m23,p=n.m24,f=n.m31,h=n.m32,y=n.m33,m=n.m34,v=n.m43,g=void 0,b=void 0,C=void 0,w={};w.perspective=m?r(y/(m<0?-m:m)):0,w.rotateX=r(Math.asin(c)*k);var x=w.rotateX*E,P=Math.tan(l),T=Math.tan(a),S=m*w.perspective,O=void 0;return x&&(S=Math.cos(-x),O=Math.sin(-x),g=l*S+f*O,b=u*S+h*O,C=c*S+y*O,f=l*-O+f*S,h=u*-O+h*S,y=c*-O+y*S,m=p*-O+m*S,l=g,u=b,c=C),x=Math.atan2(f,y),w.rotateY=r(x*k),x&&(S=Math.cos(-x),O=Math.sin(-x),g=o*S-f*O,b=a*S-h*O,C=i*S-y*O,h=a*O+h*S,y=i*O+y*S,m=s*O+m*S,o=g,a=b,i=C),x=Math.atan2(a,o),w.rotate=r(x*k),x&&(S=Math.cos(-x),O=Math.sin(-x),o=o*S+l*O,b=a*S+u*O,u=a*-O+u*S,c=i*-O+c*S,a=b),w.rotateX&&Math.abs(w.rotateX)+Math.abs(w.rotate)>359.9&&(w.rotateX=w.rotate=0,w.rotateY+=180),w.scaleX=r(Math.sqrt(o*o+a*a)),w.scaleY=r(Math.sqrt(u*u+h*h)),w.scaleZ=r(Math.sqrt(c*c+y*y)),w.skewX=P===-T?0:P,w.skewY=T===-P?0:T,w.perspective=m?1/(m<0?-m:m):0,w.translateX=n.m41,w.translateY=n.m42,w.translateZ=v,w}function y(e,t){var n=void 0;return C[e]||"number"!=typeof t?"content"!==e||x.test(t)||(n="'"+t.replace(/'/g,"\\'")+"'"):n=" "+t+"px",n||t}function m(e,t){var n=t&&t.toString().replace(/[^a-z|%]/gi,""),r="";return e.indexOf("translate")>=0||e.indexOf("perspective")>=0||e.indexOf("blur")>=0?r="px":(e.indexOf("skew")>=0||e.indexOf("rotate")>=0)&&(r="deg"),n||r}function v(e,t,n){return e+"("+t+(n||"")+")"}function g(e,t){var n=null;return e&&e.forEach(function(e){if(!n){var r=e.split("(")[0],o=r in _.transformGroup&&t.substring(0,t.length-1).indexOf(r)>=0,a=t in _.transformGroup&&r.substring(0,r.length-1).indexOf(t)>=0,i=r in _.transformGroup&&t in _.transformGroup&&(r.substring(0,r.length-2)===t||t.substring(0,t.length-2)===r);(r===t||o||a||i)&&(n=e)}}),n}function b(e,t){if(!e||""===e)return t;if(!t||""===t)return e;var n=e.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e}).map(function(e){return e+")"}),r=t.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e});return r.forEach(function(e){var t=e.split("("),r=t[0],o=g(n,r);if(o){var a=n.indexOf(o);n[a]=e+")"}else n.push(e+")")}),n.forEach(function(e,t){e.indexOf("perspective")>=0&&t&&(n.splice(t,1),n.unshift(e))}),n.join(" ").trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=r,t.createMatrix=o,t.checkStyleName=a,t.getGsapType=i,t.parseColor=s,t.parseShadow=l,t.getColor=u,t.isTransform=c,t.isConvert=p,t.splitFilterToObject=f,t.getMatrix=d,t.getTransform=h,t.stylesToCss=y,t.getUnit=m,t.getValues=v,t.findStyleByName=g,t.mergeStyle=b;var C={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["Webkit","ms","Moz","O"];Object.keys(C).forEach(function(e){w.forEach(function(t){C[n(t,e)]=C[e]})});var x=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,P=function(){return"undefined"!=typeof document&&!(!navigator||!(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),T=1e5,S={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},O=function(e,t,n){var r=e>1?e-1:e;r=e<0?e+1:r;var o=3*r<2?t+(n-t)*(2/3-r)*6:t,a=r<.5?n:o,i=6*r<1?t+(n-t)*r*6:a;return 255*i+.5|0},E=Math.PI/180,k=180/Math.PI,_={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};_._lists.transformsBase=P?_._lists.transformsBase:_._lists.transformsBase.concat(_._lists.transforms3D),t["default"]=_},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.Button=void 0;var o=n(30),a=r(o),i=n(93),s=r(i),l=n(47),u=r(l);a["default"].Button=u["default"],a["default"].Group=s["default"],t.Button=u["default"],t.Group=s["default"],t["default"]=a["default"]},46:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(118),y=r(h),m=n(6),v=r(m),g=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.getTransitionName=function(){var e=this.props.placement,t=void 0===e?"":e;return t.indexOf("top")>=0?"slide-down":"slide-up"},t.prototype.render=function(){var e=this.props,t=e.children,n=e.prefixCls,r=(0,f.cloneElement)(t,{className:(0,v["default"])(t.props.className,n+"-trigger")});return d["default"].createElement(y["default"],(0,a["default"])({transitionName:this.getTransitionName()},this.props),r)},t}(d["default"].Component);t["default"]=g,g.defaultProps={prefixCls:"ant-dropdown",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"},e.exports=t["default"]},47:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(30),d=r(f),h=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return p["default"].createElement(d["default"],this.props)},t}(p["default"].Component);t["default"]=h,h.defaultProps={prefixCls:"ant-radio-button"},e.exports=t["default"]},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].ColumnGroup);t["default"]=f,e.exports=t["default"]},51:function(e,t,n){"use strict";e.exports=n(116)},52:function(e,t){"use strict";e.exports={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},e.exports=t["default"]},60:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(99),a=r(o);t["default"]=a["default"],e.exports=t["default"]},61:function(e,t,n){"use strict";n(10),n(113),n(72),n(71),n(85),n(175),n(92)},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(9),d=r(f),h=n(22),y=n(41),m=n(163),v=r(m),g=n(39),b=r(g),C=n(167),w=r(C),x=Math.round(1e3/60),P=function(e){function t(){a(this,t);var n=i(this,e.apply(this,arguments));return n.restart=function(){n.startMoment=n.timeLine.progressTime,n.startFrame=w["default"].frame,n.play()},n.start=function(){var e=n.props;e.animation&&Object.keys(e.animation).length&&(n.timeLine=new v["default"](n.dom,(0,h.dataToArray)(e.animation),{attr:e.attr,willChange:e.willChange}),n.raf(0,!0),n.play())},n.play=function(){n.cancelRequestAnimationFrame(),n.paused||(n.rafID=w["default"].add(n.raf))},n.frame=function(e,t){var r=t?e:0,o=(w["default"].frame-n.startFrame)*x+r+n.startMoment;!t&&o<x&&"number"!=typeof n.props.moment&&(o=x),n.reverse&&(o=(n.startMoment||0)-(w["default"].frame-n.startFrame)*x),o=o>n.timeLine.totalTime?n.timeLine.totalTime:o,o=o<=0?0:o,o<n.moment&&!n.reverse&&n.timeLine.resetDefaultStyle(),n.moment=o,n.timeLine.onChange=n.onChange,n.timeLine.frame(o)},n.raf=function(e,t){if(n.frame(e,t),n.moment>=n.timeLine.totalTime&&!n.reverse||n.paused||n.reverse&&0===n.moment)return n.cancelRequestAnimationFrame()},n.cancelRequestAnimationFrame=function(){w["default"].clear(n.rafID),n.rafID=-1},n.rafID=-1,n.moment=n.props.moment||0,n.startMoment=n.props.moment||0,n.startFrame=w["default"].frame,n.paused=n.props.paused,n.reverse=n.props.reverse,n.onChange=n.props.onChange,n.newMomentAnim=!1,n}return s(t,e),t.prototype.componentDidMount=function(){this.dom=d["default"].findDOMNode(this),this.start()},t.prototype.componentWillReceiveProps=function(e){var t=this;this.onChange=e.onChange;var n=e.moment;this.newMomentAnim=!1,"number"==typeof n&&n!==this.moment&&(this.startMoment=n,this.startFrame=w["default"].frame,this.rafID!==-1||e.paused?this.newMomentAnim=!0:!function(){t.timeLine.resetAnimData();var n=e.style;t.dom.setAttribute("style",""),Object.keys(n).forEach(function(e){t.dom.style[e]=(0,y.stylesToCss)(e,n[e])}),t.play()}());var r=e.animation,o=this.props.animation,a=(0,h.objectEqual)(o,r),i=(0,h.objectEqual)(this.props.style,e.style);this.restartAnim=!1,a?i||this.rafID!==-1&&(this.cancelRequestAnimationFrame(),this.startMoment=this.timeLine.progressTime,this.startFrame=w["default"].frame,this.restartAnim=!0):(this.cancelRequestAnimationFrame(),e.resetStyleBool&&this.timeLine&&this.timeLine.resetDefaultStyle(),this.startMoment=0,this.startFrame=w["default"].frame,this.restartAnim=!0),this.paused===e.paused&&this.reverse===e.reverse||(this.paused=e.paused,this.reverse=e.reverse,this.paused?this.cancelRequestAnimationFrame():this.reverse&&e.reverseDelay?(this.cancelRequestAnimationFrame(),w["default"].timeout(this.restart,e.reverseDelay)):this.restart())},t.prototype.componentDidUpdate=function(){this.restartAnim&&this.start(),this.newMomentAnim&&this.raf()},t.prototype.componentWillUnmount=function(){this.cancelRequestAnimationFrame()},t.prototype.render=function(){var e=u({},this.props);return["animation","component","reverseDelay","attr","paused","reverse","moment","resetStyleBool","willChange"].forEach(function(t){return delete e[t]}),e.style=u({},this.props.style),Object.keys(e.style).forEach(function(t){t.match(/filter/i)&&["Webkit","Moz","Ms","ms"].forEach(function(n){return e.style[n+"Filter"]=e.style[t]})}),e.component="function"==typeof e.component?this.props.componentReplace:e.component,e.component||delete e.component,p["default"].createElement(this.props.component,e)},t}(c.Component),T=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]);P.propTypes={component:c.PropTypes.any,componentReplace:c.PropTypes.string,animation:T,children:c.PropTypes.any,style:c.PropTypes.object,paused:c.PropTypes.bool,reverse:c.PropTypes.bool,reverseDelay:c.PropTypes.number,moment:c.PropTypes.number,attr:c.PropTypes.string,willChange:c.PropTypes.bool,onChange:c.PropTypes.func,resetStyleBool:c.PropTypes.bool},P.defaultProps={component:"div",reverseDelay:0,attr:"style",onChange:l,willChange:!0},P.plugins=b["default"],t["default"]=P,e.exports=t["default"]},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(172),a=r(o),i=n(22);a["default"].path=function(e,t){for(var n=t||{},r=(0,i.parsePath)(e),o=r.getTotalLength(),s=n.rect||100,l=n.lengthPixel||1500,u=[],c=0;c<l;c++)u.push(r.getPointAtLength(o/l*c));return function(e,t,n,i){var l=a["default"].linear(e,t,n,i),c=s*l,p=u.filter(function(e){return e.x>=c})[0]||r.getPointAtLength(l*o);return 1-p.y/s}},t["default"]=a["default"],e.exports=t["default"]},71:[1216,107],72:[1216,111],74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MENU=1,t.DETAIL=2,t.ADD=3,t.UPDATE=4,t.DELETE=5,t.CHECK=6,t.UPLOAD=7},76:function(e,t,n){(function(t){for(var r=n(115),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],l=o["cancel"+i]||o["cancelRequest"+i],u=0;!s&&u<a.length;u++)s=o[a[u]+"Request"+i],l=o[a[u]+"Cancel"+i]||o[a[u]+"CancelRequest"+i];if(!s||!l){var c=0,p=0,f=[],d=1e3/60;s=function(e){if(0===f.length){var t=r(),n=Math.max(0,d-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,function(){return this}())},82:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(156),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(6),y=r(h),m=n(18),v=r(m),g=n(17),b=r(g),C=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.toggleOption=function(e){var t=r.state.value.indexOf(e.value),n=[].concat((0,a["default"])(r.state.value));t===-1?n.push(e.value):n.splice(t,1),"value"in r.props||r.setState({value:n});var o=r.props.onChange;o&&o(n)},r.state={value:n.value||n.defaultValue||[]},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value||[]})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return b["default"].shouldComponentUpdate.apply(this,t)},t.prototype.getOptions=function(){var e=this.props.options;return e.map(function(e){return"string"==typeof e?{label:e,value:e}:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,o=this.getOptions().map(function(t){return d["default"].createElement(v["default"],{disabled:"disabled"in t?t.disabled:e.props.disabled,checked:e.state.value.indexOf(t.value)!==-1,onChange:function(){return e.toggleOption(t)},className:n+"-item",key:t.value},t.label)}),a=(0,y["default"])(n,r);return d["default"].createElement("div",{className:a},o)},t}(d["default"].Component);t["default"]=C,C.defaultProps={options:[],prefixCls:"ant-checkbox-group"},C.propTypes={defaultValue:d["default"].PropTypes.array,value:d["default"].PropTypes.array,options:d["default"].PropTypes.array.isRequired,onChange:d["default"].PropTypes.func},e.exports=t["default"]},83:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(20),y=r(h),m=n(11),v=r(m),g=n(46),b=r(g),C=n(6),w=r(C),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},P=y["default"].Group,T=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.overlay,r=e.trigger,o=e.align,i=e.children,s=e.className,l=e.onClick,u=e.prefixCls,c=e.disabled,p=e.visible,f=e.onVisibleChange,h=x(e,["type","overlay","trigger","align","children","className","onClick","prefixCls","disabled","visible","onVisibleChange"]),m=(0,w["default"])(u,s),g={align:o,overlay:n,trigger:c?[]:r,onVisibleChange:f};return"visible"in this.props&&(g.visible=p),d["default"].createElement(P,(0,a["default"])({},h,{className:m}),d["default"].createElement(y["default"],{type:t,onClick:l,disabled:c},i),d["default"].createElement(b["default"],g,d["default"].createElement(y["default"],{type:t,disabled:c},d["default"].createElement(v["default"],{type:"down"}))))},t}(d["default"].Component);t["default"]=T,T.defaultProps={align:{points:["tr","br"],overlay:{adjustX:1,adjustY:1},offset:[0,4],targetOffset:[0,0]},type:"default",prefixCls:"ant-dropdown-button"},e.exports=t["default"]},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=r(o),i=n(83),s=r(i);a["default"].Button=s["default"],t["default"]=a["default"],e.exports=t["default"]},85:[1219,108],88:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(210),y=r(h),m=n(77),v=r(m),g=n(20),b=r(g),C=void 0,w=void 0,x=function(e){function t(){(0,s["default"])(this,t);var n=(0,u["default"])(this,e.apply(this,arguments));return n.handleCancel=function(e){var t=n.props.onCancel;t&&t(e)},n.handleOk=function(e){var t=n.props.onOk;t&&t(e)},n}return(0,p["default"])(t,e),t.prototype.componentDidMount=function(){w||((0,v["default"])(document.documentElement,"click",function(e){C={x:e.pageX,y:e.pageY},setTimeout(function(){return C=null;
},100)}),w=!0)},t.prototype.render=function(){var e=this.props,t=e.okText,n=e.cancelText,r=e.confirmLoading,o=e.footer,i=e.visible;this.context.antLocale&&this.context.antLocale.Modal&&(t=t||this.context.antLocale.Modal.okText,n=n||this.context.antLocale.Modal.cancelText);var s=[d["default"].createElement(b["default"],{key:"cancel",size:"large",onClick:this.handleCancel},n||"\u53d6\u6d88"),d["default"].createElement(b["default"],{key:"confirm",type:"primary",size:"large",loading:r,onClick:this.handleOk},t||"\u786e\u5b9a")];return d["default"].createElement(y["default"],(0,a["default"])({onClose:this.handleCancel,footer:o||s},this.props,{visible:i,mousePosition:C}))},t}(d["default"].Component);t["default"]=x,x.defaultProps={prefixCls:"ant-modal",width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1},x.propTypes={prefixCls:f.PropTypes.string,onOk:f.PropTypes.func,onCancel:f.PropTypes.func,okText:f.PropTypes.node,cancelText:f.PropTypes.node,width:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string]),confirmLoading:f.PropTypes.bool,visible:f.PropTypes.bool,align:f.PropTypes.object,footer:f.PropTypes.node,title:f.PropTypes.node,closable:f.PropTypes.bool},x.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},89:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(27),y=r(h),m=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){return d["default"].createElement(y["default"],(0,a["default"])({size:"small"},this.props))},t}(d["default"].Component);t["default"]=m,m.Option=y["default"].Option,e.exports=t["default"]},90:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(123),y=r(h),m=n(27),v=r(m),g=n(89),b=r(g),C=n(53),w=r(C),x=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){var e=this.props.className,t=v["default"],n=void 0;return n=this.context.antLocale&&this.context.antLocale.Pagination?this.context.antLocale.Pagination:this.props.locale,"small"===this.props.size&&(e+=" mini",t=b["default"]),d["default"].createElement(y["default"],(0,a["default"])({selectComponentClass:t,selectPrefixCls:this.props.selectPrefixCls},this.props,{locale:n,className:e}))},t}(d["default"].Component);t["default"]=x,x.defaultProps={locale:w["default"],className:"",prefixCls:"ant-pagination",selectPrefixCls:"ant-select"},x.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=r(o);t["default"]=a["default"],e.exports=t["default"]},92:function(e,t,n){"use strict";n(10),n(110),n(35),n(25)},93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=null,n=!1;return h["default"].Children.forEach(e,function(e){e&&e.props&&e.props.checked&&(t=e.props.value,n=!0)}),n?{value:t}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(7),i=r(a),s=n(3),l=r(s),u=n(5),c=r(u),p=n(4),f=r(p),d=n(1),h=r(d),y=n(6),m=r(y),v=n(30),g=r(v),b=n(47),C=r(b),w=n(17),x=r(w),P=n(8),T=r(P),S=function(e){function t(n){(0,l["default"])(this,t);var r=(0,c["default"])(this,e.call(this,n));r.onRadioChange=function(e){var t=r.state.value,n=e.target.value;"value"in r.props||r.setState({value:n});var o=r.props.onChange;o&&n!==t&&o(e)};var a=void 0;if("value"in n)a=n.value;else if("defaultValue"in n)a=n.defaultValue;else{var i=o(n.children);a=i&&i.value}return r.state={value:a},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e)this.setState({value:e.value});else{var t=o(e.children);t&&this.setState({value:t.value})}},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return x["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.children?h["default"].Children.map(t.children,function(t){return t&&(t.type===g["default"]||t.type===C["default"])&&t.props?h["default"].cloneElement(t,(0,T["default"])({},t.props,{onChange:e.onRadioChange,checked:e.state.value===t.props.value,disabled:t.props.disabled||e.props.disabled})):t}):[],r=t.prefixCls,o=void 0===r?"ant-radio-group":r,a=t.className,s=void 0===a?"":a,l=(0,m["default"])(o,(0,i["default"])({},o+"-"+t.size,t.size),s);return h["default"].createElement("div",{className:l,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},n)},t}(h["default"].Component);t["default"]=S,S.defaultProps={disabled:!1},e.exports=t["default"]},94:function(e,t,n){"use strict";n(10),n(109)},95:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Column);t["default"]=f,e.exports=t["default"]},96:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);t["default"]=function(e){return a["default"].createElement("div",{className:e.className,onClick:e.onClick},e.children)},e.exports=t["default"]},97:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(18),d=r(f),h=n(42),y=r(h),m=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var t=e.getCheckState(e.props);e.setState({checked:t})})},t.prototype.getCheckState=function(e){var t=e.store,n=e.defaultSelection,r=e.rowIndex,o=!1;return o=t.getState().selectionDirty?t.getState().selectedRowKeys.indexOf(r)>=0:t.getState().selectedRowKeys.indexOf(r)>=0||n.indexOf(r)>=0},t.prototype.render=function(){var e=this.props,t=e.type,n=e.rowIndex,r=e.disabled,o=e.onChange,a=this.state.checked;return"radio"===t?p["default"].createElement(y["default"],{disabled:r,onChange:o,value:n,checked:a}):p["default"].createElement(d["default"],{checked:a,disabled:r,onChange:o})},t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},98:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(18),d=r(f),h=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n),indeterminate:r.getIndeterminateState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillReceiveProps=function(e){this.setCheckState(e)},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){e.setCheckState(e.props)})},t.prototype.checkSelection=function(e,t,n){var r=this.props,o=r.store,a=r.getCheckboxPropsByItem,i=r.getRecordKey;return("every"===t||"some"===t)&&(n?e[t](function(e,t){return a(e,t).defaultChecked}):e[t](function(e,t){return o.getState().selectedRowKeys.indexOf(i(e,t))>=0}))},t.prototype.setCheckState=function(e){var t=this.getCheckState(e),n=this.getIndeterminateState(e);t!==this.state.checked&&this.setState({checked:t}),n!==this.state.indeterminate&&this.setState({indeterminate:n})},t.prototype.getCheckState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"every",!1):this.checkSelection(n,"every",!1)||this.checkSelection(n,"every",!0))},t.prototype.getIndeterminateState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1):this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1)||this.checkSelection(n,"some",!0)&&!this.checkSelection(n,"every",!0))},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.onChange,r=this.state,o=r.checked,a=r.indeterminate;return p["default"].createElement(d["default"],{checked:o,indeterminate:a,disabled:t,onChange:n})},t}(p["default"].Component);t["default"]=h,e.exports=t["default"]},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(2),s=r(i),l=n(43),u=r(l),c=n(7),p=r(c),f=n(3),d=r(f),h=n(5),y=r(h),m=n(4),v=r(m),g=n(1),b=r(g),C=n(31),w=r(C),x=n(101),P=r(x),T=n(91),S=r(T),O=n(11),E=r(O),k=n(174),_=r(k),M=n(6),N=r(M),D=n(102),j=n(8),A=r(j),I=n(68),R=r(I),L=n(100),F=r(L),V=n(97),U=r(V),z=n(98),K=r(z),B=n(95),W=r(B),H=n(48),q=r(H),G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},X={filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:b["default"].createElement("span",null,b["default"].createElement(E["default"],{type:"frown-o"}),"\u6682\u65e0\u6570\u636e")},Q={onChange:o,onShowSizeChange:o},Z=function(e){function t(n){(0,d["default"])(this,t);var r=(0,y["default"])(this,e.call(this,n));return r.getCheckboxPropsByItem=function(e,t){var n=r.props.rowSelection,o=void 0===n?{}:n;if(!o.getCheckboxProps)return{};var a=r.getRecordKey(e,t);return r.CheckboxPropsCache[a]||(r.CheckboxPropsCache[a]=o.getCheckboxProps(e)),r.CheckboxPropsCache[a]},r.handleFilter=function(e,t){var n=r.props,o=(0,A["default"])({},r.state.pagination),a=(0,A["default"])({},r.state.filters,(0,p["default"])({},r.getColumnKey(e),t)),i=[];(0,D.treeMap)(r.columns,function(e){e.children||i.push(r.getColumnKey(e))}),Object.keys(a).forEach(function(e){i.indexOf(e)<0&&delete a[e]}),n.pagination&&(o.current=1,o.onChange(o.current));var s={pagination:o,filters:{}},l=(0,A["default"])({},a);r.getFilteredValueColumns().forEach(function(e){var t=r.getColumnKey(e);t&&delete l[t]}),Object.keys(l).length>0&&(s.filters=l),"object"===(0,u["default"])(n.pagination)&&"current"in n.pagination&&(s.pagination=(0,A["default"])({},o,{current:r.state.pagination.current})),r.setState(s,function(){r.store.setState({selectionDirty:!1});var e=r.props.onChange;e&&e.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{selectionDirty:!1,filters:a,pagination:o})))})},r.handleSelect=function(e,t,n){var o=n.target.checked,a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(a),s=r.getRecordKey(e,t);o?i.push(r.getRecordKey(e,t)):i=i.filter(function(e){return s!==e}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:o})},r.handleRadioSelect=function(e,t,n){var o=n.target.checked,a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(a),s=r.getRecordKey(e,t);i=[s],r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:o})},r.handleSelectAllRow=function(e){var t=e.target.checked,n=r.getFlatCurrentPageData(),o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),a=r.store.getState().selectedRowKeys.concat(o),i=n.filter(function(e,t){return!r.getCheckboxPropsByItem(e,t).disabled}).map(function(e,t){return r.getRecordKey(e,t)}),s=[];t?i.forEach(function(e){a.indexOf(e)<0&&(a.push(e),s.push(e))}):i.forEach(function(e){a.indexOf(e)>=0&&(a.splice(a.indexOf(e),1),s.push(e))}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(a,{selectWay:"onSelectAll",checked:t,changeRowKeys:s})},r.handlePageChange=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r.props,i=(0,A["default"])({},r.state.pagination);e?i.current=e:i.current=i.current||1,i.onChange.apply(i,[i.current].concat(n));var s={pagination:i};"object"===(0,u["default"])(a.pagination)&&"current"in a.pagination&&(s.pagination=(0,A["default"])({},i,{current:r.state.pagination.current})),r.setState(s),r.store.setState({selectionDirty:!1});var l=r.props.onChange;l&&l.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{selectionDirty:!1,pagination:i})))},r.renderSelectionBox=function(e){return function(t,n,o){var i=r.getRecordKey(n,o),s=r.getCheckboxPropsByItem(n,o),l=function(t){"radio"===e?r.handleRadioSelect(n,i,t):r.handleSelect(n,i,t)};return b["default"].createElement("span",{onClick:a},b["default"].createElement(U["default"],{type:e,store:r.store,rowIndex:i,disabled:s.disabled,onChange:l,defaultSelection:r.getDefaultSelection()}))}},r.getRecordKey=function(e,t){var n=r.props.rowKey,o="function"==typeof n?n(e,t):e[n];return(0,R["default"])(void 0!==o,"Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key,see http://u.ant.design/table-row-key"),void 0===o?t:o},r.handleShowSizeChange=function(e,t){var n=r.state.pagination;n.onShowSizeChange(e,t);var o=(0,A["default"])({},n,{pageSize:t,current:e});r.setState({pagination:o});var a=r.props.onChange;a&&a.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{pagination:o})))},(0,R["default"])(!("columnsPageRange"in n||"columnsPageSize"in n),"`columnsPageRange` and `columnsPageSize` are removed, please use fixed columns instead, see: http://u.ant.design/fixed-columns."),r.columns=n.columns||(0,D.normalizeColumns)(n.children),r.state=(0,A["default"])({},r.getSortStateFromColumns(),{filters:r.getFiltersFromColumns(),pagination:r.getDefaultPagination(n)}),r.CheckboxPropsCache={},r.store=(0,F["default"])({selectedRowKeys:(n.rowSelection||{}).selectedRowKeys||[],selectionDirty:!1}),r}return(0,v["default"])(t,e),t.prototype.getDefaultSelection=function(){var e=this,t=this.props.rowSelection,n=void 0===t?{}:t;return n.getCheckboxProps?this.getFlatData().filter(function(t,n){return e.getCheckboxPropsByItem(t,n).defaultChecked}).map(function(t,n){return e.getRecordKey(t,n)}):[]},t.prototype.getDefaultPagination=function(e){var t=e.pagination||{};return this.hasPagination(e)?(0,A["default"])({},Q,t,{current:t.defaultCurrent||t.current||1,pageSize:t.defaultPageSize||t.pageSize||10}):{}},t.prototype.getLocale=function(){var e={};return this.context.antLocale&&this.context.antLocale.Table&&(e=this.context.antLocale.Table),(0,A["default"])({},X,e,this.props.locale)},t.prototype.componentWillReceiveProps=function(e){if(this.columns=e.columns||(0,D.normalizeColumns)(e.children),("pagination"in e||"pagination"in this.props)&&this.setState(function(t){var n=(0,A["default"])({},Q,t.pagination,e.pagination);return n.current=n.current||1,n.pageSize=n.pageSize||10,{pagination:e.pagination!==!1?n:{}}}),e.rowSelection&&"selectedRowKeys"in e.rowSelection){this.store.setState({selectedRowKeys:e.rowSelection.selectedRowKeys||[]});var t=this.props.rowSelection;t&&e.rowSelection.getCheckboxProps!==t.getCheckboxProps&&(this.CheckboxPropsCache={})}if("dataSource"in e&&e.dataSource!==this.props.dataSource&&(this.store.setState({selectionDirty:!1}),this.CheckboxPropsCache={}),this.getSortOrderColumns(this.columns).length>0){var n=this.getSortStateFromColumns(this.columns);n.sortColumn===this.state.sortColumn&&n.sortOrder===this.state.sortOrder||this.setState(n)}var r=this.getFilteredValueColumns(this.columns);if(r.length>0){var o=this.getFiltersFromColumns(this.columns),a=(0,A["default"])({},this.state.filters);Object.keys(o).forEach(function(e){a[e]=o[e]}),this.isFiltersChanged(a)&&this.setState({filters:a})}},t.prototype.setSelectedRowKeys=function(e,t){var n=this,r=t.selectWay,o=t.record,a=t.checked,i=t.changeRowKeys,s=this.props.rowSelection,l=void 0===s?{}:s;!l||"selectedRowKeys"in l||this.store.setState({selectedRowKeys:e});var u=this.getFlatData();if(l.onChange||l[r]){var c=u.filter(function(t,r){return e.indexOf(n.getRecordKey(t,r))>=0});if(l.onChange&&l.onChange(e,c),"onSelect"===r&&l.onSelect)l.onSelect(o,a,c);else if("onSelectAll"===r&&l.onSelectAll){var p=u.filter(function(e,t){return i.indexOf(n.getRecordKey(e,t))>=0});l.onSelectAll(a,c,p)}}},t.prototype.hasPagination=function(e){return(e||this.props).pagination!==!1},t.prototype.isFiltersChanged=function(e){var t=this,n=!1;return Object.keys(e).length!==Object.keys(this.state.filters).length?n=!0:Object.keys(e).forEach(function(r){e[r]!==t.state.filters[r]&&(n=!0)}),n},t.prototype.getSortOrderColumns=function(e){return(e||this.columns||[]).filter(function(e){return"sortOrder"in e})},t.prototype.getFilteredValueColumns=function(e){return(e||this.columns||[]).filter(function(e){return"undefined"!=typeof e.filteredValue})},t.prototype.getFiltersFromColumns=function(e){var t=this,n={};return this.getFilteredValueColumns(e).forEach(function(e){n[t.getColumnKey(e)]=e.filteredValue}),n},t.prototype.getSortStateFromColumns=function(e){var t=this.getSortOrderColumns(e).filter(function(e){return e.sortOrder})[0];return t?{sortColumn:t,sortOrder:t.sortOrder}:{sortColumn:null,sortOrder:null}},t.prototype.getSorterFn=function(){var e=this.state,t=e.sortOrder,n=e.sortColumn;if(t&&n&&"function"==typeof n.sorter)return function(e,r){var o=n.sorter(e,r);return 0!==o?"descend"===t?-o:o:0}},t.prototype.toggleSortOrder=function(e,t){var n=this.state,r=n.sortColumn,o=n.sortOrder,a=this.isSortColumn(t);a?o===e?(o="",r=null):o=e:(o=e,r=t);var i={sortOrder:o,sortColumn:r};0===this.getSortOrderColumns().length&&this.setState(i);var s=this.props.onChange;s&&s.apply(null,this.prepareParamsArguments((0,A["default"])({},this.state,i)))},t.prototype.renderRowSelection=function(){var e=this,t=this.props,n=t.prefixCls,r=t.rowSelection,o=this.columns.concat();if(r){var a=this.getFlatCurrentPageData().filter(function(t,n){return!r.getCheckboxProps||!e.getCheckboxPropsByItem(t,n).disabled}),i={key:"selection-column",render:this.renderSelectionBox(r.type),className:n+"-selection-column"};if("radio"!==r.type){var s=a.every(function(t,n){return e.getCheckboxPropsByItem(t,n).disabled});i.title=b["default"].createElement(K["default"],{store:this.store,data:a,getCheckboxPropsByItem:this.getCheckboxPropsByItem,getRecordKey:this.getRecordKey,disabled:s,onChange:this.handleSelectAllRow})}o.some(function(e){return"left"===e.fixed||e.fixed===!0})&&(i.fixed="left"),o[0]&&"selection-column"===o[0].key?o[0]=i:o.unshift(i)}return o},t.prototype.getColumnKey=function(e,t){return e.key||e.dataIndex||t},t.prototype.getMaxCurrent=function(e){var t=this.state.pagination,n=t.current,r=t.pageSize;return(n-1)*r>=e?n-1:n},t.prototype.isSortColumn=function(e){var t=this.state.sortColumn;return!(!e||!t)&&this.getColumnKey(t)===this.getColumnKey(e)},t.prototype.renderColumnsDropdown=function(e){var t=this,n=this.props,r=n.prefixCls,o=n.dropdownPrefixCls,a=this.state.sortOrder,i=this.getLocale();return(0,D.treeMap)(e,function(e,n){var s=(0,A["default"])({},e),l=t.getColumnKey(s,n),u=void 0,c=void 0;if(s.filters&&s.filters.length>0||s.filterDropdown){var p=t.state.filters[l]||[];u=b["default"].createElement(P["default"],{locale:i,column:s,selectedKeys:p,confirmFilter:t.handleFilter,prefixCls:r+"-filter",dropdownPrefixCls:o||"ant-dropdown"})}if(s.sorter){var f=t.isSortColumn(s);f&&(s.className=s.className||"",a&&(s.className+=" "+r+"-column-sort"));var d=f&&"ascend"===a,h=f&&"descend"===a;c=b["default"].createElement("div",{className:r+"-column-sorter"},b["default"].createElement("span",{className:r+"-column-sorter-up "+(d?"on":"off"),title:"\u2191",onClick:function(){return t.toggleSortOrder("ascend",s)}},b["default"].createElement(E["default"],{type:"caret-up"})),b["default"].createElement("span",{className:r+"-column-sorter-down "+(h?"on":"off"),title:"\u2193",onClick:function(){return t.toggleSortOrder("descend",s)}},b["default"].createElement(E["default"],{type:"caret-down"})))}return s.title=b["default"].createElement("span",null,s.title,c,u),s})},t.prototype.renderPagination=function(){if(!this.hasPagination())return null;var e="default",t=this.state.pagination;t.size?e=t.size:"middle"!==this.props.size&&"small"!==this.props.size||(e="small");var n=t.total||this.getLocalData().length;return n>0?b["default"].createElement(S["default"],(0,s["default"])({key:"pagination"},t,{className:this.props.prefixCls+"-pagination",onChange:this.handlePageChange,total:n,size:e,current:this.getMaxCurrent(n),onShowSizeChange:this.handleShowSizeChange})):null},t.prototype.prepareParamsArguments=function(e){var t=G({},e.pagination);delete t.onChange,delete t.onShowSizeChange;var n=e.filters,r={};return e.sortColumn&&e.sortOrder&&(r.column=e.sortColumn,r.order=e.sortOrder,r.field=e.sortColumn.dataIndex,r.columnKey=this.getColumnKey(e.sortColumn)),[t,n,r]},t.prototype.findColumn=function(e){var t=this,n=void 0;return(0,D.treeMap)(this.columns,function(r){t.getColumnKey(r)===e&&(n=r)}),n},t.prototype.getCurrentPageData=function(){var e=this.getLocalData(),t=void 0,n=void 0,r=this.state;return this.hasPagination()?(n=r.pagination.pageSize,t=this.getMaxCurrent(r.pagination.total||e.length)):(n=Number.MAX_VALUE,t=1),(e.length>n||n===Number.MAX_VALUE)&&(e=e.filter(function(e,r){return r>=(t-1)*n&&r<t*n})),e},t.prototype.getFlatData=function(){return(0,D.flatArray)(this.getLocalData())},t.prototype.getFlatCurrentPageData=function(){return(0,D.flatArray)(this.getCurrentPageData())},t.prototype.recursiveSort=function(e,t){var n=this,r=this.props.childrenColumnName,o=void 0===r?"children":r;return e.sort(t).map(function(e){return e[o]?(0,A["default"])({},e,(0,p["default"])({},o,n.recursiveSort(e[o],t))):e})},t.prototype.getLocalData=function(){var e=this,t=this.state,n=this.props.dataSource,r=n||[];r=r.slice(0);var o=this.getSorterFn();return o&&(r=this.recursiveSort(r,o)),t.filters&&Object.keys(t.filters).forEach(function(n){var o=e.findColumn(n);if(o){var a=t.filters[n]||[];if(0!==a.length){var i=o.onFilter;r=i?r.filter(function(e){return a.some(function(t){return i(t,e)})}):r}}}),r},t.prototype.render=function(){var e,t=this,n=this.props,r=n.style,o=n.className,a=n.prefixCls,i=n.showHeader,l=n.loading,u=Y(n,["style","className","prefixCls","showHeader","loading"]),c=this.getCurrentPageData(),f=this.renderRowSelection(),d=this.props.expandedRowRender&&this.props.expandIconAsCell!==!1,h=this.getLocale(),y=(0,N["default"])((e={},(0,p["default"])(e,a+"-"+this.props.size,!0),(0,p["default"])(e,a+"-bordered",this.props.bordered),(0,p["default"])(e,a+"-empty",!c.length),(0,p["default"])(e,a+"-without-column-header",!i),e));f=this.renderColumnsDropdown(f),f=f.map(function(e,n){var r=(0,A["default"])({},e);return r.key=t.getColumnKey(r,n),r});var m=f[0]&&"selection-column"===f[0].key?1:0;"expandIconColumnIndex"in u&&(m=u.expandIconColumnIndex);var v=b["default"].createElement(w["default"],(0,s["default"])({key:"table"},u,{prefixCls:a,data:c,columns:f,showHeader:i,className:y,expandIconColumnIndex:m,expandIconAsCell:d,emptyText:function(){return h.emptyText}})),g=this.hasPagination()&&c&&0!==c.length?a+"-with-pagination":a+"-without-pagination";return b["default"].createElement("div",{className:(0,N["default"])(a+"-wrapper",o),style:r},b["default"].createElement(_["default"],{spinning:l,className:l?g+" "+a+"-spin-holder":""},v,this.renderPagination()))},t}(b["default"].Component);t["default"]=Z,Z.Column=W["default"],Z.ColumnGroup=q["default"],Z.propTypes={dataSource:b["default"].PropTypes.array,columns:b["default"].PropTypes.array,prefixCls:b["default"].PropTypes.string,useFixedHeader:b["default"].PropTypes.bool,rowSelection:b["default"].PropTypes.object,className:b["default"].PropTypes.string,size:b["default"].PropTypes.string,loading:b["default"].PropTypes.bool,bordered:b["default"].PropTypes.bool,onChange:b["default"].PropTypes.func,locale:b["default"].PropTypes.object,dropdownPrefixCls:b["default"].PropTypes.string},Z.defaultProps={dataSource:[],prefixCls:"ant-table",useFixedHeader:!1,rowSelection:null,className:"",size:"large",loading:!1,bordered:!1,indentSize:20,locale:{},rowKey:"key",showHeader:!0},Z.contextTypes={antLocale:b["default"].PropTypes.object},e.exports=t["default"]},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e){o=(0,i["default"])({},o,e);for(var t=0;t<a.length;t++)a[t]()}function n(){return o}function r(e){return a.push(e),function(){var t=a.indexOf(e);a.splice(t,1)}}var o=e,a=[];return{setState:t,getState:n,subscribe:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(8),i=r(a);e.exports=t["default"]},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(7),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(9),y=r(h),m=n(38),v=r(m),g=n(105),b=r(g),C=n(6),w=r(C),x=n(84),P=r(x),T=n(11),S=r(T),O=n(18),E=r(O),k=n(42),_=r(k),M=n(96),N=r(M),D=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));r.setSelectedKeys=function(e){var t=e.selectedKeys;r.setState({selectedKeys:t})},r.handleClearFilters=function(){r.setState({selectedKeys:[]},r.handleConfirm)},r.handleConfirm=function(){r.setVisible(!1),r.confirmFilter()},r.onVisibleChange=function(e){r.setVisible(e),e||r.confirmFilter()},r.handleMenuItemClick=function(e){if(!(e.keyPath.length<=1)){var t=r.state.keyPathOfSelectedItem;r.state.selectedKeys.indexOf(e.key)>=0?delete t[e.key]:t[e.key]=e.keyPath,r.setState({keyPathOfSelectedItem:t})}};var o="filterDropdownVisible"in n.column&&n.column.filterDropdownVisible;return r.state={selectedKeys:n.selectedKeys,keyPathOfSelectedItem:{},visible:o},r}return(0,p["default"])(t,e),t.prototype.componentDidMount=function(){var e=this.props.column,t=y["default"].findDOMNode(this),n=!!(0,b["default"])(t,".ant-table-scroll");n&&e.fixed&&(this.neverShown=!0)},t.prototype.componentWillReceiveProps=function(e){var t=e.column,n={};"selectedKeys"in e&&(n.selectedKeys=e.selectedKeys),"filterDropdownVisible"in t&&(n.visible=t.filterDropdownVisible),Object.keys(n).length>0&&this.setState(n)},t.prototype.setVisible=function(e){var t=this.props.column;"filterDropdownVisible"in t||this.setState({visible:e}),t.onFilterDropdownVisibleChange&&t.onFilterDropdownVisibleChange(e)},t.prototype.confirmFilter=function(){this.state.selectedKeys!==this.props.selectedKeys&&this.props.confirmFilter(this.props.column,this.state.selectedKeys)},t.prototype.renderMenuItem=function(e){var t=this.props.column,n=!("filterMultiple"in t)||t.filterMultiple,r=n?d["default"].createElement(E["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0}):d["default"].createElement(_["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0});return d["default"].createElement(m.Item,{key:e.value},r,d["default"].createElement("span",null,e.text))},t.prototype.hasSubMenu=function(){var e=this.props.column.filters,t=void 0===e?[]:e;return t.some(function(e){return!!(e.children&&e.children.length>0)})},t.prototype.renderMenus=function(e){var t=this;return e.map(function(e){if(e.children&&e.children.length>0){var n=t.state.keyPathOfSelectedItem,r=Object.keys(n).some(function(t){return n[t].indexOf(e.value)>=0}),o=r?t.props.dropdownPrefixCls+"-submenu-contain-selected":"";return d["default"].createElement(m.SubMenu,{title:e.text,className:o,key:e.value.toString()},t.renderMenus(e.children))}return t.renderMenuItem(e)})},t.prototype.render=function(){var e=this.props,t=e.column,n=e.locale,r=e.prefixCls,o=e.dropdownPrefixCls,i=!("filterMultiple"in t)||t.filterMultiple,s=(0,w["default"])((0,a["default"])({},o+"-menu-without-submenu",!this.hasSubMenu())),l=t.filterDropdown?d["default"].createElement(N["default"],null,t.filterDropdown):d["default"].createElement(N["default"],{className:r+"-dropdown"},d["default"].createElement(v["default"],{multiple:i,onClick:this.handleMenuItemClick,prefixCls:o+"-menu",className:s,onSelect:this.setSelectedKeys,onDeselect:this.setSelectedKeys,selectedKeys:this.state.selectedKeys},this.renderMenus(t.filters)),d["default"].createElement("div",{className:r+"-dropdown-btns"},d["default"].createElement("a",{className:r+"-dropdown-link confirm",onClick:this.handleConfirm},n.filterConfirm),d["default"].createElement("a",{className:r+"-dropdown-link clear",onClick:this.handleClearFilters},n.filterReset))),u=this.props.selectedKeys.length>0?r+"-selected":"";return d["default"].createElement(P["default"],{trigger:["click"],overlay:l,visible:!this.neverShown&&this.state.visible,onVisibleChange:this.onVisibleChange},d["default"].createElement(S["default"],{title:n.filterTitle,type:"filter",className:u}))},t}(d["default"].Component);t["default"]=D,D.defaultProps={handleFilter:function(){},column:{}},e.exports=t["default"]},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[],r=function o(e){e.forEach(function(e){var r=(0,c["default"])({},e);delete r[t],n.push(r),e[t]&&e[t].length>0&&o(e[t])})};return r(e),n}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";return e.map(function(e,r){var o={};return e[n]&&(o[n]=a(e[n],t,n)),(0,c["default"])({},t(e,r),o)})}function i(e){var t=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var n=(0,c["default"])({},e.props);e.key&&(n.key=e.key),e.type===f["default"]&&(n.children=i(n.children)),t.push(n)}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.flatArray=o,t.treeMap=a,t.normalizeColumns=i;var s=n(1),l=r(s),u=n(8),c=r(u),p=n(48),f=r(p)},105:function(e,t,n){var r=n(106);e.exports=function(e,t,n){for(n=n||document,e={parentNode:e};(e=e.parentNode)&&e!==n;)if(r(e,t))return e}},106:function(e,t){"use strict";function n(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var o=e.parentNode;if(r)return r.call(e,t);for(var a=o.querySelectorAll(t),i=a.length,s=0;s<i;s++)if(a[s]===e)return!0;return!1}e.exports=n},107:10,108:10,110:10,111:10,112:10,113:10,115:function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){
return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(114))},116:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(17),d=r(f),h=n(6),y=r(h),m=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.handleFocus=function(e){r.setState({focus:!0}),r.props.onFocus(e)},r.handleBlur=function(e){r.setState({focus:!1}),r.props.onBlur(e)},r.handleChange=function(e){r.props.disabled||("checked"in r.props||r.setState({checked:e.target.checked}),r.props.onChange({target:u({},r.props,{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}}))};var o=!1;return o="checked"in n?n.checked:n.defaultChecked,r.state={checked:o,focus:!1},r}return l(t,e),t.prototype.componentWillReceiveProps=function(e){"checked"in e&&this.setState({checked:e.checked})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t=u({},this.props);delete t.defaultChecked;var n=this.state,r=t.prefixCls,o=n.checked;"boolean"==typeof o&&(o=o?1:0);var i=(0,y["default"])((e={},a(e,t.className,!!t.className),a(e,r,1),a(e,r+"-checked",o),a(e,r+"-checked-"+o,!!o),a(e,r+"-focused",n.focus),a(e,r+"-disabled",t.disabled),e));return p["default"].createElement("span",{className:i,style:t.style},p["default"].createElement("span",{className:r+"-inner"}),p["default"].createElement("input",{name:t.name,type:t.type,readOnly:t.readOnly,disabled:t.disabled,tabIndex:t.tabIndex,className:r+"-input",checked:!!o,onClick:this.props.onClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}))},t}(p["default"].Component);m.propTypes={name:p["default"].PropTypes.string,prefixCls:p["default"].PropTypes.string,style:p["default"].PropTypes.object,type:p["default"].PropTypes.string,className:p["default"].PropTypes.string,defaultChecked:p["default"].PropTypes.oneOfType([p["default"].PropTypes.number,p["default"].PropTypes.bool]),disabled:p["default"].PropTypes.bool,checked:p["default"].PropTypes.oneOfType([p["default"].PropTypes.number,p["default"].PropTypes.bool]),onFocus:p["default"].PropTypes.func,onBlur:p["default"].PropTypes.func,onChange:p["default"].PropTypes.func,onClick:p["default"].PropTypes.func},m.defaultProps={prefixCls:"rc-checkbox",style:{},type:"checkbox",className:"",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},t["default"]=m,e.exports=t["default"]},117:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=r(i),l=n(9),u=r(l),c=n(59),p=r(c),f=n(119),d=r(f),h=s["default"].createClass({displayName:"Dropdown",propTypes:{minOverlayWidthMatchTrigger:i.PropTypes.bool,onVisibleChange:i.PropTypes.func,prefixCls:i.PropTypes.string,children:i.PropTypes.any,transitionName:i.PropTypes.string,overlayClassName:i.PropTypes.string,animation:i.PropTypes.any,align:i.PropTypes.object,overlayStyle:i.PropTypes.object,placement:i.PropTypes.string,trigger:i.PropTypes.array,showAction:i.PropTypes.array,hideAction:i.PropTypes.array,getPopupContainer:i.PropTypes.func},getDefaultProps:function(){return{minOverlayWidthMatchTrigger:!0,prefixCls:"rc-dropdown",trigger:["hover"],showAction:[],hideAction:[],overlayClassName:"",overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft"}},getInitialState:function(){var e=this.props;return"visible"in e?{visible:e.visible}:{visible:e.defaultVisible}},componentWillReceiveProps:function(e){var t=e.visible;void 0!==t&&this.setState({visible:t})},onClick:function(e){var t=this.props,n=t.overlay.props;"visible"in t||this.setState({visible:!1}),n.onClick&&n.onClick(e)},onVisibleChange:function(e){var t=this.props;"visible"in t||this.setState({visible:e}),t.onVisibleChange(e)},getMenuElement:function(){var e=this.props;return s["default"].cloneElement(e.overlay,{prefixCls:e.prefixCls+"-menu",onClick:this.onClick})},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},afterVisibleChange:function(e){if(e&&this.props.minOverlayWidthMatchTrigger){var t=this.getPopupDomNode(),n=u["default"].findDOMNode(this);n.offsetWidth>t.offsetWidth&&(t.style.width=n.offsetWidth+"px")}},render:function(){var e=this.props,t=e.prefixCls,n=e.children,r=e.transitionName,i=e.animation,l=e.align,u=e.placement,c=e.getPopupContainer,f=e.showAction,h=e.hideAction,y=e.overlayClassName,m=e.overlayStyle,v=e.trigger,g=o(e,["prefixCls","children","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]);return s["default"].createElement(p["default"],a({},g,{prefixCls:t,ref:"trigger",popupClassName:y,popupStyle:m,builtinPlacements:d["default"],action:v,showAction:f,hideAction:h,popupPlacement:u,popupAlign:l,popupTransitionName:r,popupAnimation:i,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getMenuElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:c}),n)}});t["default"]=h,e.exports=t["default"]},118:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(117),a=r(o);t["default"]=a["default"],e.exports=t["default"]},119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],o=t.placements={topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},topCenter:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},bottomCenter:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r}};t["default"]=o},120:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=n(52),u=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.state={current:n.current,_current:n.current},["_handleChange","_changeSize","_go","_buildOptionText"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype._buildOptionText=function(e){return e+" "+this.props.locale.items_per_page},t.prototype._changeSize=function(e){this.props.changeSize(Number(e))},t.prototype._handleChange=function(e){var t=e.target.value;this.setState({_current:t})},t.prototype._go=function(e){var t=e.target.value;if(""!==t){var n=Number(this.state._current);if(isNaN(n)&&(n=this.state.current),e.keyCode===l.ENTER){var r=this.props.quickGo(n);this.setState({_current:r,current:r})}}},t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=t.locale,o=t.rootPrefixCls+"-options",a=t.changeSize,i=t.quickGo,l=t.buildOptionText||this._buildOptionText,u=t.selectComponentClass,c=null,p=null;return a||i?(a&&u&&!function(){var n=u.Option,r=t.pageSize||t.pageSizeOptions[0],a=t.pageSizeOptions.map(function(e,t){return s.createElement(n,{key:t,value:e},l(e))});c=s.createElement(u,{prefixCls:t.selectPrefixCls,showSearch:!1,className:o+"-size-changer",optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:r.toString(),onChange:e._changeSize},a)}(),i&&(p=s.createElement("div",{className:o+"-quick-jumper"},r.jump_to,s.createElement("input",{type:"text",value:n._current,onChange:this._handleChange,onKeyUp:this._go}),r.page)),s.createElement("div",{className:""+o},c,p)):null},t}(s.Component);u.propTypes={changeSize:s.PropTypes.func,quickGo:s.PropTypes.func,selectComponentClass:s.PropTypes.func,current:s.PropTypes.number,pageSizeOptions:s.PropTypes.arrayOf(s.PropTypes.string),pageSize:s.PropTypes.number,buildOptionText:s.PropTypes.func,locale:s.PropTypes.object},u.defaultProps={pageSizeOptions:["10","20","30","40"]},e.exports=u},121:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.rootPrefixCls+"-item",n=t+" "+t+"-"+e.page;return e.active&&(n=n+" "+t+"-active"),e.className&&(n=n+" "+e.className),s.createElement("li",{title:e.page,className:n,onClick:e.onClick},s.createElement("a",null,e.page))},t}(s.Component);l.propTypes={page:s.PropTypes.number,active:s.PropTypes.bool,last:s.PropTypes.bool,locale:s.PropTypes.object,className:s.PropTypes.string},e.exports=l},122:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function s(){}var l=n(1),u=n(121),c=n(120),p=n(52),f=n(53),d=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n)),i=n.onChange!==s,l="current"in n;l&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=n.defaultCurrent;"current"in n&&(u=n.current);var c=n.defaultPageSize;return"pageSize"in n&&(c=n.pageSize),r.state={current:u,_current:u,pageSize:c},["render","_handleChange","_handleKeyUp","_handleKeyDown","_changePageSize","_isValid","_prev","_next","_hasPrev","_hasNext","_jumpPrev","_jumpNext"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){if("current"in e&&this.setState({current:e.current,_current:e.current}),"pageSize"in e){var t={},n=this.state.current,r=this._calcPage(e.pageSize);n=n>r?r:n,"current"in e||(t.current=n,t._current=n),t.pageSize=e.pageSize,this.setState(t)}},t.prototype._calcPage=function(e){var t=e;return"undefined"==typeof t&&(t=this.state.pageSize),Math.floor((this.props.total-1)/t)+1},t.prototype._isValid=function(e){return"number"==typeof e&&e>=1&&e!==this.state.current},t.prototype._handleKeyDown=function(e){e.keyCode!==p.ARROW_UP&&e.keyCode!==p.ARROW_DOWN||e.preventDefault()},t.prototype._handleKeyUp=function(e){var t=e.target.value,n=void 0;n=""===t?t:isNaN(Number(t))?this.state._current:Number(t),this.setState({_current:n}),e.keyCode===p.ENTER?this._handleChange(n):e.keyCode===p.ARROW_UP?this._handleChange(n-1):e.keyCode===p.ARROW_DOWN&&this._handleChange(n+1)},t.prototype._changePageSize=function(e){var t=this.state.current,n=this._calcPage(e);t=t>n?n:t,"number"==typeof e&&("pageSize"in this.props||this.setState({pageSize:e}),"current"in this.props||this.setState({current:t,_current:t})),this.props.onShowSizeChange(t,e)},t.prototype._handleChange=function(e){var t=e;if(this._isValid(t)){t>this._calcPage()&&(t=this._calcPage()),"current"in this.props||this.setState({current:t,_current:t});var n=this.state.pageSize;return this.props.onChange(t,n),t}return this.state.current},t.prototype._prev=function(){this._hasPrev()&&this._handleChange(this.state.current-1)},t.prototype._next=function(){this._hasNext()&&this._handleChange(this.state.current+1)},t.prototype._jumpPrev=function(){this._handleChange(Math.max(1,this.state.current-(this.props.showLessItems?3:5)))},t.prototype._jumpNext=function(){this._handleChange(Math.min(this._calcPage(),this.state.current+(this.props.showLessItems?3:5)))},t.prototype._hasPrev=function(){return this.state.current>1},t.prototype._hasNext=function(){return this.state.current<this._calcPage()},t.prototype.render=function(){var e=this.props,t=e.locale,n=e.prefixCls,r=this._calcPage(),o=[],a=null,i=null,s=null,p=null,f=e.showLessItems?1:2,d=this.state,h=d.current,y=d.pageSize;if(e.simple)return l.createElement("ul",{className:n+" "+n+"-simple "+e.className},l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),l.createElement("li",{title:this.state.current+"/"+r,className:n+"-simple-pager"},l.createElement("input",{type:"text",value:this.state._current,onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onChange:this._handleKeyUp}),l.createElement("span",{className:n+"-slash"},"\uff0f"),r),l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)));if(r<=5+2*f)for(var m=1;m<=r;m++){var v=this.state.current===m;o.push(l.createElement(u,{locale:t,rootPrefixCls:n,onClick:this._handleChange.bind(this,m),key:m,page:m,active:v}))}else{a=l.createElement("li",{title:e.showLessItems?t.prev_3:t.prev_5,key:"prev",onClick:this._jumpPrev,className:n+"-jump-prev"},l.createElement("a",null)),i=l.createElement("li",{title:e.showLessItems?t.next_3:t.next_5,key:"next",onClick:this._jumpNext,className:n+"-jump-next"},l.createElement("a",null)),p=l.createElement(u,{locale:e.locale,last:!0,rootPrefixCls:n,onClick:this._handleChange.bind(this,r),key:r,page:r,active:!1}),s=l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,1),key:1,page:1,active:!1});var g=Math.max(1,h-f),b=Math.min(h+f,r);h-1<=f&&(b=1+2*f),r-h<=f&&(g=r-2*f);for(var C=g;C<=b;C++){var w=h===C;o.push(l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,C),key:C,page:C,active:w}))}h-1>=2*f&&3!==h&&(o[0]=l.cloneElement(o[0],{className:n+"-item-after-jump-prev"}),o.unshift(a)),r-h>=2*f&&h!==r-2&&(o[o.length-1]=l.cloneElement(o[o.length-1],{className:n+"-item-before-jump-next"}),o.push(i)),1!==g&&o.unshift(s),b!==r&&o.push(p)}var x=null;return e.showTotal&&(x=l.createElement("span",{className:n+"-total-text"},e.showTotal(e.total,[(h-1)*y+1,h*y>e.total?e.total:h*y]))),l.createElement("ul",{className:n+" "+e.className,style:e.style,unselectable:"unselectable"},x,l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),o,l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)),l.createElement(c,{locale:e.locale,rootPrefixCls:n,selectComponentClass:e.selectComponentClass,selectPrefixCls:e.selectPrefixCls,changeSize:this.props.showSizeChanger?this._changePageSize.bind(this):null,current:this.state.current,pageSize:this.state.pageSize,pageSizeOptions:this.props.pageSizeOptions,quickGo:this.props.showQuickJumper?this._handleChange.bind(this):null}))},t}(l.Component);d.propTypes={current:l.PropTypes.number,defaultCurrent:l.PropTypes.number,total:l.PropTypes.number,pageSize:l.PropTypes.number,defaultPageSize:l.PropTypes.number,onChange:l.PropTypes.func,showSizeChanger:l.PropTypes.bool,showLessItems:l.PropTypes.bool,onShowSizeChange:l.PropTypes.func,selectComponentClass:l.PropTypes.func,showQuickJumper:l.PropTypes.bool,pageSizeOptions:l.PropTypes.arrayOf(l.PropTypes.string),showTotal:l.PropTypes.func,locale:l.PropTypes.object,style:l.PropTypes.object},d.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:s,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,showQuickJumper:!1,showSizeChanger:!1,showLessItems:!1,onShowSizeChange:s,locale:f,style:{}},e.exports=d},123:function(e,t,n){"use strict";e.exports=n(122)},124:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=n(51),i=o.createClass({displayName:"Radio",getDefaultProps:function(){return{prefixCls:"rc-radio",type:"radio"}},render:function(){return o.createElement(a,r({},this.props,{ref:"checkbox"}))}});e.exports=i},125:function(e,t,n){"use strict";e.exports=n(124)},126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),a=r(o),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),p=n(144),f=r(p),d=n(38),h=r(d),y=n(180),m=r(y),v=n(21),g=u["default"].createClass({displayName:"DropdownMenu",propTypes:{defaultActiveFirstOption:l.PropTypes.bool,value:l.PropTypes.any,dropdownMenuStyle:l.PropTypes.object,multiple:l.PropTypes.bool,onPopupFocus:l.PropTypes.func,onMenuDeSelect:l.PropTypes.func,onMenuSelect:l.PropTypes.func,prefixCls:l.PropTypes.string,menuItems:l.PropTypes.any,inputValue:l.PropTypes.string,visible:l.PropTypes.bool},componentWillMount:function(){this.lastInputValue=this.props.inputValue},componentDidMount:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible},shouldComponentUpdate:function(e){return e.visible||(this.lastVisible=!1),e.visible},componentDidUpdate:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue},scrollActiveItemToView:function(){var e=(0,c.findDOMNode)(this.firstActiveItem);e&&(0,m["default"])(e,(0,c.findDOMNode)(this.refs.menu),{onlyScrollIfNeeded:!0})},renderMenu:function(){var e=this,t=this.props,n=t.menuItems,r=t.defaultActiveFirstOption,o=t.value,i=t.prefixCls,c=t.multiple,p=t.onMenuSelect,d=t.inputValue;if(n&&n.length){var y=function(){var a={};c?(a.onDeselect=t.onMenuDeselect,a.onSelect=p):a.onClick=p;var y=(0,v.getSelectKeys)(n,o),m={},g=n;return y.length&&!function(){t.visible&&!e.lastVisible&&(m.activeKey=y[0]);var r=!1,o=function(t){return r||y.indexOf(t.key)===-1?t:(r=!0,(0,l.cloneElement)(t,{ref:function(t){e.firstActiveItem=t}}))};g=n.map(function(e){if(e.type.isMenuItemGroup){var t=(0,f["default"])(e.props.children).map(o);return(0,l.cloneElement)(e,{},t)}return o(e)})}(),d!==e.lastInputValue&&(m.activeKey=""),{v:u["default"].createElement(h["default"],(0,s["default"])({ref:"menu",style:e.props.dropdownMenuStyle,defaultActiveFirst:r},m,{multiple:c,focusable:!1},a,{selectedKeys:y,prefixCls:i+"-menu"}),g)}}();if("object"===("undefined"==typeof y?"undefined":(0,a["default"])(y)))return y.v}return null},render:function(){var e=this.renderMenu();return e?u["default"].createElement("div",{style:{overflow:"auto"},onFocus:this.props.onPopupFocus,onMouseDown:v.preventDefaultEvent},e):null}});t["default"]=g,e.exports=t["default"]},127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(1),s=r(i),l=n(21),u=n(38),c=n(133),p=r(c);t["default"]={filterOption:function f(e,t){if(!e)return!0;var f=this.props.filterOption;return!f||!t.props.disabled&&f.call(this,e,t)},renderFilterOptions:function(e){return this.renderFilterOptionsFromChildren(this.props.children,!0,e)},renderFilterOptionsFromChildren:function(e,t,n){var r=this,o=[],i=this.props,c=void 0===n?this.state.inputValue:n,f=[],d=i.tags;if(s["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var t=r.renderFilterOptionsFromChildren(e.props.children,!1);if(t.length){var n=e.props.label,i=e.key;i||"string"!=typeof n?!n&&i&&(n=i):i=n,o.push(s["default"].createElement(u.ItemGroup,{key:i,title:n},t))}}else{(0,p["default"])(e.type.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+("instead of `"+(e.type.name||e.type.displayName||e.type)+"`."));var h=(0,l.getValuePropValue)(e);r.filterOption(c,e)&&o.push(s["default"].createElement(u.Item,(0,a["default"])({style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:h,key:h},e.props))),d&&!e.props.disabled&&f.push(h)}}),d){var h=this.state.value||[];if(h=h.filter(function(e){return f.indexOf(e.key)===-1&&(!c||String(e.key).indexOf(String(c))>-1)}),o=o.concat(h.map(function(e){var t=e.key;return s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:t,key:t},t)})),c){var y=o.every(function(e){return(0,l.getValuePropValue)(e)!==c});y&&o.unshift(s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:c,key:c},c))}}return!o.length&&t&&i.notFoundContent&&(o=[s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,disabled:!0,value:"NOT_FOUND",key:"NOT_FOUND"},i.notFoundContent)]),o}},e.exports=t["default"]},128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Component);f.isSelectOptGroup=!0,t["default"]=f,e.exports=t["default"]},129:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Component);f.propTypes={value:p["default"].PropTypes.string},f.isSelectOption=!0,t["default"]=f,e.exports=t["default"]},130:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){return String((0,P.getPropValue)(t,this.props.optionFilterProp)).indexOf(e)>-1}function i(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(2),c=r(u),p=n(1),f=r(p),d=n(9),h=r(d),y=n(145),m=r(y),v=n(6),g=r(v),b=n(56),C=r(b),w=n(69),x=r(w),P=n(21),T=n(131),S=r(T),O=n(127),E=r(O),k=void 0;p.PropTypes&&(k=p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.shape({key:p.PropTypes.string,label:p.PropTypes.node})]));var _=f["default"].createClass({displayName:"Select",propTypes:{defaultActiveFirstOption:p.PropTypes.bool,multiple:p.PropTypes.bool,filterOption:p.PropTypes.any,children:p.PropTypes.any,showSearch:p.PropTypes.bool,disabled:p.PropTypes.bool,allowClear:p.PropTypes.bool,showArrow:p.PropTypes.bool,tags:p.PropTypes.bool,prefixCls:p.PropTypes.string,className:p.PropTypes.string,transitionName:p.PropTypes.string,optionLabelProp:p.PropTypes.string,optionFilterProp:p.PropTypes.string,animation:p.PropTypes.string,choiceTransitionName:p.PropTypes.string,onChange:p.PropTypes.func,onBlur:p.PropTypes.func,onFocus:p.PropTypes.func,onSelect:p.PropTypes.func,onSearch:p.PropTypes.func,placeholder:p.PropTypes.any,onDeselect:p.PropTypes.func,labelInValue:p.PropTypes.bool,value:p.PropTypes.oneOfType([k,p.PropTypes.arrayOf(k)]),defaultValue:p.PropTypes.oneOfType([k,p.PropTypes.arrayOf(k)]),dropdownStyle:p.PropTypes.object,maxTagTextLength:p.PropTypes.number,tokenSeparators:p.PropTypes.arrayOf(p.PropTypes.string),getInputElement:p.PropTypes.func},mixins:[E["default"]],getDefaultProps:function(){return{prefixCls:"rc-select",filterOption:a,defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",defaultValue:[],onChange:o,onFocus:o,onBlur:o,onSelect:o,onSearch:o,onDeselect:o,showArrow:!0,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found"}},getInitialState:function(){var e=this.props,t=[];t="value"in e?(0,P.toArray)(e.value):(0,P.toArray)(e.defaultValue),t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t);var n="";e.combobox&&(n=t.length?this.getLabelFromProps(e,t[0].key):""),this.saveInputRef=i.bind(this,"inputInstance"),this.saveInputMirrorRef=i.bind(this,"inputMirrorInstance");var r=e.open;return void 0===r&&(r=e.defaultOpen),{value:t,inputValue:n,open:r}},componentWillMount:function(){this.adjustOpenState()},componentWillReceiveProps:function(e){if("value"in e){var t=(0,P.toArray)(e.value);t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t),this.setState({value:t}),e.combobox&&this.setState({inputValue:t.length?this.getLabelFromProps(e,t[0].key):""})}},componentWillUpdate:function(e,t){this.props=e,this.state=t,this.adjustOpenState()},componentDidUpdate:function(){if((0,P.isMultipleOrTags)(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e.value?(e.style.width="",e.style.width=t.clientWidth+"px"):e.style.width=""}},componentWillUnmount:function(){this.clearBlurTime(),this.clearAdjustTimer(),this.dropdownContainer&&(h["default"].unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)},onInputChange:function(e){var t=this.props.tokenSeparators,n=e.target.value;if((0,P.isMultipleOrTags)(this.props)&&t&&(0,P.includesSeparators)(n,t)){var r=this.tokenize(n);return this.fireChange(r),this.setOpenState(!1,!0),void this.setInputValue("",!1)}this.setInputValue(n),this.setState({open:!0}),(0,P.isCombobox)(this.props)&&this.fireChange([{key:n}])},onDropdownVisibleChange:function(e){this.setOpenState(e)},onKeyDown:function(e){var t=this.props;if(!t.disabled){var n=e.keyCode;this.state.open&&!this.getInputDOMNode()?this.onInputKeyDown(e):n!==m["default"].ENTER&&n!==m["default"].DOWN||(this.setOpenState(!0),e.preventDefault())}},onInputKeyDown:function(e){var t=this.props;if(!t.disabled){var n=this.state,r=e.keyCode;if((0,P.isMultipleOrTags)(t)&&!e.target.value&&r===m["default"].BACKSPACE){e.preventDefault();var o=n.value;return void(o.length&&this.removeSelected(o[o.length-1].key))}if(r===m["default"].DOWN){if(!n.open)return this.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(r===m["default"].ESC)return void(n.open&&(this.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(n.open){var a=this.refs.trigger.getInnerMenu();a&&a.onKeyDown(e)&&(e.preventDefault(),e.stopPropagation())}}},onMenuSelect:function(e){var t=this,n=e.item,r=this.state.value,o=this.props,a=(0,P.getValuePropValue)(n),i=this.getLabelFromOption(n),s=a;o.labelInValue&&(s={key:s,label:i}),o.onSelect(s,n);var l=n.props.title;if((0,P.isMultipleOrTags)(o)){if((0,P.findIndexInValueByKey)(r,a)!==-1)return;r=r.concat([{key:a,label:i,title:l}])}else{if((0,P.isCombobox)(o)&&(this.skipAdjustOpen=!0,this.clearAdjustTimer(),this.skipAdjustOpenTimer=setTimeout(function(){t.skipAdjustOpen=!1},0)),r.length&&r[0].key===a)return void this.setOpenState(!1,!0);r=[{key:a,label:i,title:l}],this.setOpenState(!1,!0)}this.fireChange(r);var u=void 0;u=(0,P.isCombobox)(o)?(0,P.getPropValue)(n,o.optionLabelProp):"",this.setInputValue(u,!1)},onMenuDeselect:function(e){var t=e.item,n=e.domEvent;"click"===n.type&&this.removeSelected((0,P.getValuePropValue)(t)),this.setInputValue("",!1)},onArrowClick:function(e){e.stopPropagation(),this.props.disabled||this.setOpenState(!this.state.open,!this.state.open)},onPlaceholderClick:function(){this.getInputDOMNode()&&this.getInputDOMNode().focus()},onOuterFocus:function(e){((0,P.isMultipleOrTagsOrCombobox)(this.props)||e.target!==this.getInputDOMNode())&&(this.clearBlurTime(),this._focused=!0,this.updateFocusClassName(),this.props.onFocus())},onPopupFocus:function(){this.maybeFocus(!0,!0)},onOuterBlur:function(){var e=this;this.blurTimer=setTimeout(function(){e._focused=!1,e.updateFocusClassName();var t=e.props,n=e.state.value,r=e.state.inputValue;if((0,P.isSingleMode)(t)&&t.showSearch&&r&&t.defaultActiveFirstOption){var o=e._options||[];if(o.length){var a=(0,P.findFirstMenuItem)(o);a&&(n=[{key:a.key,label:e.getLabelFromOption(a)}],e.fireChange(n))}}else(0,P.isMultipleOrTags)(t)&&r&&(e.state.inputValue=e.getInputDOMNode().value="");t.onBlur(e.getVLForOnChange(n))},10)},onClearSelection:function(e){var t=this.props,n=this.state;if(!t.disabled){var r=n.inputValue,o=n.value;e.stopPropagation(),(r||o.length)&&(o.length&&this.fireChange([]),this.setOpenState(!1,!0),r&&this.setInputValue(""))}},onChoiceAnimationLeave:function(){this.refs.trigger.refs.trigger.forcePopupAlign()},getLabelBySingleValue:function(e,t){var n=this;if(void 0===t)return null;var r=null;return f["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var o=n.getLabelBySingleValue(e.props.children,t);null!==o&&(r=o)}else(0,P.getValuePropValue)(e)===t&&(r=n.getLabelFromOption(e))}),r},getValueByLabel:function(e,t){var n=this;if(void 0===t)return null;var r=null;return f["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var o=n.getValueByLabel(e.props.children,t);null!==o&&(r=o)}else(0,P.toArray)(n.getLabelFromOption(e)).join("")===t&&(r=(0,P.getValuePropValue)(e))}),r},getLabelFromOption:function(e){return(0,P.getPropValue)(e,this.props.optionLabelProp)},getLabelFromProps:function(e,t){return this.getLabelByValue(e.children,t)},getVLForOnChange:function(e){var t=e;return void 0!==t?(t=this.props.labelInValue?t.map(function(e){
return{key:e.key,label:e.label}}):t.map(function(e){return e.key}),(0,P.isMultipleOrTags)(this.props)?t:t[0]):t},getLabelByValue:function(e,t){var n=this.getLabelBySingleValue(e,t);return null===n?t:n},getDropdownContainer:function(){return this.dropdownContainer||(this.dropdownContainer=document.createElement("div"),document.body.appendChild(this.dropdownContainer)),this.dropdownContainer},getPlaceholderElement:function(){var e=this.props,t=this.state,n=!1;t.inputValue&&(n=!0),t.value.length&&(n=!0),(0,P.isCombobox)(e)&&1===t.value.length&&!t.value[0].key&&(n=!1);var r=e.placeholder;return r?f["default"].createElement("div",(0,c["default"])({onMouseDown:P.preventDefaultEvent,style:(0,c["default"])({display:n?"none":"block"},P.UNSELECTABLE_STYLE)},P.UNSELECTABLE_ATTRIBUTE,{onClick:this.onPlaceholderClick,className:e.prefixCls+"-selection__placeholder"}),r):null},getInputElement:function(){var e=this.props,t=e.getInputElement?e.getInputElement():f["default"].createElement("input",null),n=(0,g["default"])(t.props.className,(0,l["default"])({},e.prefixCls+"-search__field",!0));return f["default"].createElement("div",{className:e.prefixCls+"-search__field__wrap"},f["default"].cloneElement(t,{ref:this.saveInputRef,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,value:this.state.inputValue,disabled:e.disabled,className:n}),f["default"].createElement("span",{ref:this.saveInputMirrorRef,className:e.prefixCls+"-search__field__mirror"},this.state.inputValue))},getInputDOMNode:function(){return this.inputInstance},getInputMirrorDOMNode:function(){return this.inputMirrorInstance},getPopupDOMNode:function(){return this.refs.trigger.getPopupDOMNode()},getPopupMenuComponent:function(){return this.refs.trigger.getInnerMenu()},setOpenState:function(e,t){var n=this,r=this.props,o=this.state;if(o.open===e)return void this.maybeFocus(e,t);var a={open:e};!e&&(0,P.isSingleMode)(r)&&r.showSearch&&this.setInputValue(""),e||this.maybeFocus(e,t),this.setState(a,function(){e&&n.maybeFocus(e,t)})},setInputValue:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({inputValue:e}),t&&this.props.onSearch(e)},clearBlurTime:function(){this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},clearAdjustTimer:function(){this.skipAdjustOpenTimer&&(clearTimeout(this.skipAdjustOpenTimer),this.skipAdjustOpenTimer=null)},updateFocusClassName:function(){var e=this.refs,t=this.props;this._focused?(0,x["default"])(e.root).add(t.prefixCls+"-focused"):(0,x["default"])(e.root).remove(t.prefixCls+"-focused")},maybeFocus:function(e,t){if(t||e){var n=this.getInputDOMNode(),r=document,o=r.activeElement;if(n&&(e||(0,P.isMultipleOrTagsOrCombobox)(this.props)))o!==n&&n.focus();else{var a=this.refs.selection;o!==a&&a.focus()}}},addLabelToValue:function(e,t){var n=this,r=t;return e.labelInValue?r.forEach(function(t){t.label=t.label||n.getLabelFromProps(e,t.key)}):r=r.map(function(t){return{key:t,label:n.getLabelFromProps(e,t)}}),r},addTitleToValue:function(e,t){var n=this,r=t,o=t.map(function(e){return e.key});return f["default"].Children.forEach(e.children,function(e){if(e.type.isSelectOptGroup)r=n.addTitleToValue(e.props,r);else{var t=(0,P.getValuePropValue)(e),a=o.indexOf(t);a>-1&&(r[a].title=e.props.title)}}),r},removeSelected:function(e){var t=this.props;if(!t.disabled&&!this.isChildDisabled(e)){var n=void 0,r=this.state.value.filter(function(t){return t.key===e&&(n=t.label),t.key!==e}),o=(0,P.isMultipleOrTags)(t);if(o){var a=e;t.labelInValue&&(a={key:e,label:n}),t.onDeselect(a)}this.fireChange(r)}},openIfHasChildren:function(){var e=this.props;(f["default"].Children.count(e.children)||(0,P.isSingleMode)(e))&&this.setOpenState(!0)},fireChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(this.getVLForOnChange(e))},isChildDisabled:function(e){return(0,P.toArray)(this.props.children).some(function(t){var n=(0,P.getValuePropValue)(t);return n===e&&t.props&&t.props.disabled})},tokenize:function(e){var t=this,n=this.props,r=n.multiple,o=n.tokenSeparators,a=n.children,i=this.state.value;return(0,P.splitBySeparators)(e,o).forEach(function(e){var n={key:e,label:e};if((0,P.findIndexInValueByLabel)(i,e)===-1)if(r){var o=t.getValueByLabel(a,e);o&&(n.key=o,i=i.concat(n))}else i=i.concat(n)}),i},adjustOpenState:function(){if(!this.skipAdjustOpen){var e=this.state.open;"undefined"!=typeof document&&this.getInputDOMNode()&&document.activeElement===this.getInputDOMNode()&&(e=!0);var t=[];e&&(t=this.renderFilterOptions()),this._options=t,!e||!(0,P.isMultipleOrTagsOrCombobox)(this.props)&&this.props.showSearch||t.length||(e=!1),this.state.open=e}},renderTopControlNode:function(){var e=this,t=this.state,n=t.value,r=t.open,o=t.inputValue,a=this.props,i=a.choiceTransitionName,s=a.prefixCls,l=a.maxTagTextLength,u=a.showSearch,p=s+"-selection__rendered",d=null;if((0,P.isSingleMode)(a)){var h=null;if(n.length){var y=!1,m=1;u&&r?(y=!o,y&&(m=.4)):y=!0;var v=n[0];h=f["default"].createElement("div",{key:"value",className:s+"-selection-selected-value",title:v.title||v.label,style:{display:y?"block":"none",opacity:m}},n[0].label)}d=u?[h,f["default"].createElement("div",{className:s+"-search "+s+"-search--inline",key:"input",style:{display:r?"block":"none"}},this.getInputElement())]:[h]}else{var g=[];(0,P.isMultipleOrTags)(a)&&(g=n.map(function(t){var n=t.label,r=t.title||n;l&&"string"==typeof n&&n.length>l&&(n=n.slice(0,l)+"...");var o=e.isChildDisabled(t.key),a=o?s+"-selection__choice "+s+"-selection__choice__disabled":s+"-selection__choice";return f["default"].createElement("li",(0,c["default"])({style:P.UNSELECTABLE_STYLE},P.UNSELECTABLE_ATTRIBUTE,{onMouseDown:P.preventDefaultEvent,className:a,key:t.key,title:r}),f["default"].createElement("div",{className:s+"-selection__choice__content"},n),o?null:f["default"].createElement("span",{className:s+"-selection__choice__remove",onClick:e.removeSelected.bind(e,t.key)}))})),g.push(f["default"].createElement("li",{className:s+"-search "+s+"-search--inline",key:"__input"},this.getInputElement())),d=(0,P.isMultipleOrTags)(a)&&i?f["default"].createElement(C["default"],{onLeave:this.onChoiceAnimationLeave,component:"ul",transitionName:i},g):f["default"].createElement("ul",null,g)}return f["default"].createElement("div",{className:p},this.getPlaceholderElement(),d)},render:function(){var e,t=this.props,n=(0,P.isMultipleOrTags)(t),r=this.state,o=t.className,a=t.disabled,i=t.allowClear,s=t.prefixCls,u=this.renderTopControlNode(),p={},d=this.state.open,h=this._options;(0,P.isMultipleOrTagsOrCombobox)(t)||(p={onKeyDown:this.onKeyDown,tabIndex:0});var y=(e={},(0,l["default"])(e,o,!!o),(0,l["default"])(e,s,1),(0,l["default"])(e,s+"-open",d),(0,l["default"])(e,s+"-focused",d||!!this._focused),(0,l["default"])(e,s+"-combobox",(0,P.isCombobox)(t)),(0,l["default"])(e,s+"-disabled",a),(0,l["default"])(e,s+"-enabled",!a),(0,l["default"])(e,s+"-allow-clear",!!t.allowClear),e),m=(0,c["default"])({},P.UNSELECTABLE_STYLE,{display:"none"});(r.inputValue||r.value.length)&&(m.display="block");var v=f["default"].createElement("span",(0,c["default"])({key:"clear",onMouseDown:P.preventDefaultEvent,style:m},P.UNSELECTABLE_ATTRIBUTE,{className:s+"-selection__clear",onClick:this.onClearSelection}));return f["default"].createElement(S["default"],{onPopupFocus:this.onPopupFocus,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:h,multiple:n,disabled:a,visible:d,inputValue:r.inputValue,value:r.value,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,ref:"trigger"},f["default"].createElement("div",{style:t.style,ref:"root",onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,g["default"])(y)},f["default"].createElement("div",(0,c["default"])({ref:"selection",key:"selection",className:s+"-selection\n            "+s+"-selection--"+(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":d},p),u,i&&!n?v:null,n||!t.showArrow?null:f["default"].createElement("span",(0,c["default"])({key:"arrow",className:s+"-arrow",style:P.UNSELECTABLE_STYLE},P.UNSELECTABLE_ATTRIBUTE,{onClick:this.onArrowClick}),f["default"].createElement("b",null)))))}});t["default"]=_,e.exports=t["default"]},131:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=r(o),i=n(195),s=r(i),l=n(2),u=r(l),c=n(59),p=r(c),f=n(1),d=r(f),h=n(6),y=r(h),m=n(126),v=r(m),g=n(9),b=r(g),C=n(21),w={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},x=d["default"].createClass({displayName:"SelectTrigger",propTypes:{onPopupFocus:f.PropTypes.func,dropdownMatchSelectWidth:f.PropTypes.bool,dropdownAlign:f.PropTypes.object,visible:f.PropTypes.bool,disabled:f.PropTypes.bool,showSearch:f.PropTypes.bool,dropdownClassName:f.PropTypes.string,multiple:f.PropTypes.bool,inputValue:f.PropTypes.string,filterOption:f.PropTypes.any,options:f.PropTypes.any,prefixCls:f.PropTypes.string,popupClassName:f.PropTypes.string,children:f.PropTypes.any},componentDidUpdate:function(){var e=this.props,t=e.visible,n=e.dropdownMatchSelectWidth;if(t){var r=this.getPopupDOMNode();if(r){var o=n?"width":"minWidth";r.style[o]=b["default"].findDOMNode(this).offsetWidth+"px"}}},getInnerMenu:function(){return this.popupMenu&&this.popupMenu.refs.menu},getPopupDOMNode:function(){return this.refs.trigger.getPopupDomNode()},getDropdownElement:function(e){var t=this.props;return d["default"].createElement(v["default"],(0,u["default"])({ref:this.saveMenu},e,{prefixCls:this.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,value:t.value,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle}))},getDropdownTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=this.getDropdownPrefixCls()+"-"+e.animation),t},getDropdownPrefixCls:function(){return this.props.prefixCls+"-dropdown"},saveMenu:function(e){this.popupMenu=e},render:function(){var e,t=this.props,n=t.onPopupFocus,r=(0,s["default"])(t,["onPopupFocus"]),o=r.multiple,i=r.visible,l=r.inputValue,c=r.dropdownAlign,f=r.disabled,h=r.showSearch,m=r.dropdownClassName,v=this.getDropdownPrefixCls(),g=(e={},(0,a["default"])(e,m,!!m),(0,a["default"])(e,v+"--"+(o?"multiple":"single"),1),e),b=this.getDropdownElement({menuItems:r.options,onPopupFocus:n,multiple:o,inputValue:l,visible:i}),x=void 0;return x=f?[]:(0,C.isSingleMode)(r)&&!h?["click"]:["blur"],d["default"].createElement(p["default"],(0,u["default"])({},r,{showAction:f?[]:["click"],hideAction:x,ref:"trigger",popupPlacement:"bottomLeft",builtinPlacements:w,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:r.onDropdownVisibleChange,popup:b,popupAlign:c,popupVisible:i,getPopupContainer:r.getPopupContainer,popupClassName:(0,y["default"])(g),popupStyle:r.dropdownStyle}),r.children)}});t["default"]=x,e.exports=t["default"]},132:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptGroup=t.Option=void 0;var o=n(130),a=r(o),i=n(129),s=r(i),l=n(128),u=r(l);a["default"].Option=s["default"],a["default"].OptGroup=u["default"],t.Option=s["default"],t.OptGroup=u["default"],t["default"]=a["default"]},133:81,134:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={className:s.PropTypes.string,colSpan:s.PropTypes.number,title:s.PropTypes.node,dataIndex:s.PropTypes.string,width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),fixed:s.PropTypes.oneOf([!0,"left","right"]),render:s.PropTypes.func,onCellClick:s.PropTypes.func},t["default"]=l,e.exports=t["default"]},135:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={title:s.PropTypes.node},l.isTableColumnGroup=!0,t["default"]=l,e.exports=t["default"]},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),l=r(s),u=function(){function e(t,n){a(this,e),this._cached={},this.columns=t||this.normalize(n)}return e.prototype.isAnyColumnsFixed=function(){var e=this;return this._cache("isAnyColumnsFixed",function(){return e.columns.some(function(e){return!!e.fixed})})},e.prototype.isAnyColumnsLeftFixed=function(){var e=this;return this._cache("isAnyColumnsLeftFixed",function(){return e.columns.some(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.isAnyColumnsRightFixed=function(){var e=this;return this._cache("isAnyColumnsRightFixed",function(){return e.columns.some(function(e){return"right"===e.fixed})})},e.prototype.leftColumns=function(){var e=this;return this._cache("leftColumns",function(){return e.groupedColumns().filter(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.rightColumns=function(){var e=this;return this._cache("rightColumns",function(){return e.groupedColumns().filter(function(e){return"right"===e.fixed})})},e.prototype.leafColumns=function(){var e=this;return this._cache("leafColumns",function(){return e._leafColumns(e.columns)})},e.prototype.leftLeafColumns=function(){var e=this;return this._cache("leftLeafColumns",function(){return e._leafColumns(e.leftColumns())})},e.prototype.rightLeafColumns=function(){var e=this;return this._cache("rightLeafColumns",function(){return e._leafColumns(e.rightColumns())})},e.prototype.groupedColumns=function(){var e=this;return this._cache("groupedColumns",function(){var t=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];o[t]=o[t]||[];var a=[],s=function(e){var n=o.length-t;e&&!e.children&&n>1&&(!e.rowSpan||e.rowSpan<n)&&(e.rowSpan=n)};return e.forEach(function(l,u){var c=i({},l);o[t].push(c),r.colSpan=r.colSpan||0,c.children&&c.children.length>0?(c.children=n(c.children,t+1,c,o),r.colSpan=r.colSpan+c.colSpan):r.colSpan++;for(var p=0;p<o[t].length-1;++p)s(o[t][p]);u+1===e.length&&s(c),a.push(c)}),a};return t(e.columns)})},e.prototype.normalize=function(e){var t=this,n=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var r=i({},e.props);e.key&&(r.key=e.key),e.type.isTableColumnGroup&&(r.children=t.normalize(r.children)),n.push(r)}}),n},e.prototype.reset=function(e,t){this.columns=e||this.normalize(t),this._cached={}},e.prototype._cache=function(e,t){return e in this._cached?this._cached[e]:(this._cached[e]=t(),this._cached[e])},e.prototype._leafColumns=function(e){var t=this,n=[];return e.forEach(function(e){e.children?n.push.apply(n,o(t._leafColumns(e.children))):n.push(e)}),n},e}();t["default"]=u,e.exports=t["default"]},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(40),p=r(c),f=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,p["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.expandable,n=e.prefixCls,r=e.onExpand,o=e.needIndentSpaced,a=e.expanded,i=e.record;if(t){var s=a?"expanded":"collapsed";return u["default"].createElement("span",{className:n+"-expand-icon "+n+"-"+s,onClick:function(e){return r(!a,i,e)}})}return o?u["default"].createElement("span",{className:n+"-expand-icon "+n+"-spaced"}):null},t}(u["default"].Component);f.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandable:l.PropTypes.any,expanded:l.PropTypes.bool,needIndentSpaced:l.PropTypes.bool,onExpand:l.PropTypes.func},t["default"]=f,e.exports=t["default"]},138:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(141),d=r(f),h=n(140),y=r(h),m=n(143),v=n(40),g=r(v),b=n(77),C=r(b),w=n(136),x=r(w),P=n(142),T=r(P),S=n(69),O=r(S),E=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.onExpanded=function(e,t,n,o){n&&(n.preventDefault(),n.stopPropagation());var a=r.findExpandedRow(t);if("undefined"==typeof a||e){if(!a&&e){var i=r.getExpandedRows().concat();i.push(r.getRowKey(t,o)),r.onExpandedRowsChange(i)}}else r.onRowDestroy(t,o);r.props.onExpand(e,t)},r.onRowDestroy=function(e,t){var n=r.getExpandedRows().concat(),o=r.getRowKey(e,t),a=-1;n.forEach(function(e,t){e===o&&(a=t)}),a!==-1&&n.splice(a,1),r.onExpandedRowsChange(n)},r.handleWindowResize=function(){r.syncFixedTableRowHeight(),r.setScrollPositionClassName()},r.syncFixedTableRowHeight=function(){var e=r.tableNode.getBoundingClientRect();if(!(void 0!==e.height&&e.height<=0)){var t=r.props.prefixCls,n=r.refs.headTable?r.refs.headTable.querySelectorAll("thead"):r.refs.bodyTable.querySelectorAll("thead"),o=r.refs.bodyTable.querySelectorAll("."+t+"-row")||[],a=[].map.call(n,function(e){return e.getBoundingClientRect().height||"auto"}),i=[].map.call(o,function(e){return e.getBoundingClientRect().height||"auto"});(0,g["default"])(r.state.fixedColumnsHeadRowsHeight,a)&&(0,g["default"])(r.state.fixedColumnsBodyRowsHeight,i)||r.setState({fixedColumnsHeadRowsHeight:a,fixedColumnsBodyRowsHeight:i})}},r.detectScrollTarget=function(e){r.scrollTarget!==e.currentTarget&&(r.scrollTarget=e.currentTarget)},r.handleBodyScroll=function(e){if(e.target===r.scrollTarget){var t=r.props.scroll,n=void 0===t?{}:t,o=r.refs,a=o.headTable,i=o.bodyTable,s=o.fixedColumnsBodyLeft,l=o.fixedColumnsBodyRight;n.x&&e.target.scrollLeft!==r.lastScrollLeft&&(e.target===i&&a?a.scrollLeft=e.target.scrollLeft:e.target===a&&i&&(i.scrollLeft=e.target.scrollLeft),r.setScrollPositionClassName(e.target)),n.y&&(s&&e.target!==s&&(s.scrollTop=e.target.scrollTop),l&&e.target!==l&&(l.scrollTop=e.target.scrollTop),i&&e.target!==i&&(i.scrollTop=e.target.scrollTop)),r.lastScrollLeft=e.target.scrollLeft}},r.handleRowHover=function(e,t){r.store.setState({currentHoverKey:e?t:null})};var o=[],l=[].concat(a(n.data));if(r.columnManager=new x["default"](n.columns,n.children),r.store=(0,T["default"])({currentHoverKey:null}),r.setScrollPosition("left"),n.defaultExpandAllRows)for(var u=0;u<l.length;u++){var c=l[u];o.push(r.getRowKey(c,u)),l=l.concat(c[n.childrenColumnName]||[])}else o=n.expandedRowKeys||n.defaultExpandedRowKeys;return r.state={expandedRowKeys:o,currentHoverKey:null,fixedColumnsHeadRowsHeight:[],fixedColumnsBodyRowsHeight:[]},r}return l(t,e),t.prototype.componentDidMount=function(){this.columnManager.isAnyColumnsFixed()&&(this.handleWindowResize(),this.debouncedWindowResize=(0,m.debounce)(this.handleWindowResize,150),this.resizeEvent=(0,C["default"])(window,"resize",this.debouncedWindowResize))},t.prototype.componentWillReceiveProps=function(e){"expandedRowKeys"in e&&this.setState({expandedRowKeys:e.expandedRowKeys}),e.columns&&e.columns!==this.props.columns?this.columnManager.reset(e.columns):e.children!==this.props.children&&this.columnManager.reset(null,e.children)},t.prototype.componentDidUpdate=function(e){this.columnManager.isAnyColumnsFixed()&&this.handleWindowResize(),e.data.length>0&&0===this.props.data.length&&this.hasScrollX()&&this.resetScrollX()},t.prototype.componentWillUnmount=function(){this.resizeEvent&&this.resizeEvent.remove(),this.debouncedWindowResize&&this.debouncedWindowResize.cancel()},t.prototype.onExpandedRowsChange=function(e){this.props.expandedRowKeys||this.setState({expandedRowKeys:e}),this.props.onExpandedRowsChange(e)},t.prototype.getRowKey=function(e,t){var n=this.props.rowKey,r="function"==typeof n?n(e,t):e[n];return(0,m.warningOnce)(void 0!==r,"Each record in table should have a unique `key` prop,or set `rowKey` to an unique primary key."),void 0===r?t:r},t.prototype.getExpandedRows=function(){return this.props.expandedRowKeys||this.state.expandedRowKeys},t.prototype.getHeader=function(e,t){var n=this.props,r=n.showHeader,o=n.expandIconAsCell,a=n.prefixCls,i=this.getHeaderRows(e);o&&"right"!==t&&i[0].unshift({key:"rc-table-expandIconAsCell",className:a+"-expand-icon-th",title:"",rowSpan:i.length});var s=t?this.getHeaderRowStyle(e,i):null;return r?p["default"].createElement(y["default"],{prefixCls:a,rows:i,rowStyle:s}):null},t.prototype.getHeaderRows=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2];return r=r||[],r[n]=r[n]||[],e.forEach(function(e){if(e.rowSpan&&r.length<e.rowSpan)for(;r.length<e.rowSpan;)r.push([]);var o={key:e.key,className:e.className||"",children:e.title};e.children&&t.getHeaderRows(e.children,n+1,r),"colSpan"in e&&(o.colSpan=e.colSpan),"rowSpan"in e&&(o.rowSpan=e.rowSpan),0!==o.colSpan&&r[n].push(o)}),r.filter(function(e){return e.length>0})},t.prototype.getExpandedRow=function(e,t,n,r,o){var a=this.props,i=a.prefixCls,s=a.expandIconAsCell,l=void 0;l="left"===o?this.columnManager.leftLeafColumns().length:"right"===o?this.columnManager.rightLeafColumns().length:this.columnManager.leafColumns().length;var u=[{key:"extra-row",render:function(){return{props:{colSpan:l},children:"right"!==o?t:"&nbsp;"}}}];return s&&"right"!==o&&u.unshift({key:"expand-icon-placeholder",render:function(){return null}}),p["default"].createElement(d["default"],{columns:u,visible:n,className:r,key:e+"-extra-row",prefixCls:i+"-expanded-row",indent:1,expandable:!1,store:this.store})},t.prototype.getRowsByData=function(e,t,n,r,o){for(var a=this.props,i=a.childrenColumnName,s=a.expandedRowRender,l=a.expandRowByClick,c=this.state.fixedColumnsBodyRowsHeight,f=[],h=a.rowClassName,y=a.rowRef,m=a.expandedRowClassName,v=a.data.some(function(e){return e[i]}),g=a.onRowClick,b=a.onRowDoubleClick,C="right"!==o&&a.expandIconAsCell,w="right"!==o?a.expandIconColumnIndex:-1,x=0;x<e.length;x++){var P=e[x],T=this.getRowKey(P,x),S=P[i],O=this.isRowExpanded(P,x),E=void 0;s&&O&&(E=s(P,x,n));var k=h(P,x,n),_={};this.columnManager.isAnyColumnsFixed()&&(_.onHover=this.handleRowHover);var M=o&&c[x]?c[x]:null,N=void 0;N="left"===o?this.columnManager.leftLeafColumns():"right"===o?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),f.push(p["default"].createElement(d["default"],u({indent:n,indentSize:a.indentSize,needIndentSpaced:v,className:k,record:P,expandIconAsCell:C,onDestroy:this.onRowDestroy,index:x,visible:t,expandRowByClick:l,onExpand:this.onExpanded,expandable:S||s,expanded:O,prefixCls:a.prefixCls+"-row",childrenColumnName:i,columns:N,expandIconColumnIndex:w,onRowClick:g,onRowDoubleClick:b,height:M},_,{key:T,hoverKey:T,ref:y(P,x,n),store:this.store})));var D=t&&O;E&&O&&f.push(this.getExpandedRow(T,E,D,m(P,x,n),o)),S&&(f=f.concat(this.getRowsByData(S,D,n+1,r,o)))}return f},t.prototype.getRows=function(e,t){return this.getRowsByData(this.props.data,!0,0,e,t)},t.prototype.getColGroup=function(e,t){var n=[];this.props.expandIconAsCell&&"right"!==t&&n.push(p["default"].createElement("col",{className:this.props.prefixCls+"-expand-icon-col",key:"rc-table-expand-icon-col"}));var r=void 0;return r="left"===t?this.columnManager.leftLeafColumns():"right"===t?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),n=n.concat(r.map(function(e){return p["default"].createElement("col",{key:e.key,style:{width:e.width,minWidth:e.width}})})),p["default"].createElement("colgroup",null,n)},t.prototype.getLeftFixedTable=function(){return this.getTable({columns:this.columnManager.leftColumns(),fixed:"left"})},t.prototype.getRightFixedTable=function(){return this.getTable({columns:this.columnManager.rightColumns(),fixed:"right"})},t.prototype.getTable=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.columns,r=t.fixed,o=this.props,a=o.prefixCls,i=o.scroll,s=void 0===i?{}:i,l=o.getBodyWrapper,c=this.props.useFixedHeader,f=u({},this.props.bodyStyle),d={},h="";(s.x||r)&&(h=a+"-fixed",f.overflowX=f.overflowX||"auto");var y={};if(s.y){r?(y.maxHeight=f.maxHeight||s.y,y.overflowY=f.overflowY||"scroll"):f.maxHeight=f.maxHeight||s.y,f.overflowY=f.overflowY||"scroll",c=!0;var v=(0,m.measureScrollbar)();v>0&&((r?f:d).marginBottom="-"+v+"px",(r?f:d).paddingBottom="0px")}var g=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={};!r&&s.x&&(s.x===!0?i.tableLayout="fixed":i.width=s.x);var u=o?l(p["default"].createElement("tbody",{className:a+"-tbody"},e.getRows(n,r))):null;return p["default"].createElement("table",{className:h,style:i,key:"table"},e.getColGroup(n,r),t?e.getHeader(n,r):null,u)},b=void 0;c&&(b=p["default"].createElement("div",{key:"headTable",className:a+"-header",ref:r?null:"headTable",style:d,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!0,!1)));var C=p["default"].createElement("div",{key:"bodyTable",className:a+"-body",style:f,ref:"bodyTable",onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c));if(r&&n.length){var w=void 0;"left"===n[0].fixed||n[0].fixed===!0?w="fixedColumnsBodyLeft":"right"===n[0].fixed&&(w="fixedColumnsBodyRight"),delete f.overflowX,delete f.overflowY,C=p["default"].createElement("div",{key:"bodyTable",className:a+"-body-outer",style:u({},f)},p["default"].createElement("div",{className:a+"-body-inner",style:y,ref:w,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c)))}return[b,C]},t.prototype.getTitle=function(){var e=this.props,t=e.title,n=e.prefixCls;return t?p["default"].createElement("div",{className:n+"-title",key:"title"},t(this.props.data)):null},t.prototype.getFooter=function(){var e=this.props,t=e.footer,n=e.prefixCls;return t?p["default"].createElement("div",{className:n+"-footer",key:"footer"},t(this.props.data)):null},t.prototype.getEmptyText=function(){var e=this.props,t=e.emptyText,n=e.prefixCls,r=e.data;return r.length?null:p["default"].createElement("div",{className:n+"-placeholder",key:"emptyText"},t())},t.prototype.getHeaderRowStyle=function(e,t){var n=this.state.fixedColumnsHeadRowsHeight,r=n[0];return r&&e?"auto"===r?{height:"auto"}:{height:r/t.length}:null},t.prototype.setScrollPosition=function(e){if(this.scrollPosition=e,this.tableNode){var t=this.props.prefixCls;"both"===e?(0,O["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-left").add(t+"-scroll-position-right"):(0,O["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-"+e)}},t.prototype.setScrollPositionClassName=function(e){var t=e||this.refs.bodyTable,n=0===t.scrollLeft,r=t.scrollLeft+1>=t.children[0].getBoundingClientRect().width-t.getBoundingClientRect().width;n&&r?this.setScrollPosition("both"):n?this.setScrollPosition("left"):r?this.setScrollPosition("right"):"middle"!==this.scrollPosition&&this.setScrollPosition("middle")},t.prototype.resetScrollX=function(){this.refs.headTable&&(this.refs.headTable.scrollLeft=0),this.refs.bodyTable&&(this.refs.bodyTable.scrollLeft=0)},t.prototype.findExpandedRow=function(e,t){var n=this,r=this.getExpandedRows().filter(function(r){return r===n.getRowKey(e,t)});return r[0]},t.prototype.isRowExpanded=function(e,t){return"undefined"!=typeof this.findExpandedRow(e,t)},t.prototype.hasScrollX=function(){var e=this.props.scroll,t=void 0===e?{}:e;return"x"in t},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.prefixCls;t.className&&(r+=" "+t.className),(t.useFixedHeader||t.scroll&&t.scroll.y)&&(r+=" "+n+"-fixed-header"),
r+="both"===this.scrollPosition?" "+n+"-scroll-position-left "+n+"-scroll-position-right":" "+n+"-scroll-position-"+this.scrollPosition;var o=this.columnManager.isAnyColumnsFixed()||t.scroll.x||t.scroll.y,a=[this.getTable({columns:this.columnManager.groupedColumns()}),this.getEmptyText(),this.getFooter()],i=o?p["default"].createElement("div",{className:n+"-scroll"},a):a;return p["default"].createElement("div",{ref:function(t){return e.tableNode=t},className:r,style:t.style},this.getTitle(),p["default"].createElement("div",{className:n+"-content"},i,this.columnManager.isAnyColumnsLeftFixed()&&p["default"].createElement("div",{className:n+"-fixed-left"},this.getLeftFixedTable()),this.columnManager.isAnyColumnsRightFixed()&&p["default"].createElement("div",{className:n+"-fixed-right"},this.getRightFixedTable())))},t}(p["default"].Component);E.propTypes={data:c.PropTypes.array,expandIconAsCell:c.PropTypes.bool,defaultExpandAllRows:c.PropTypes.bool,expandedRowKeys:c.PropTypes.array,defaultExpandedRowKeys:c.PropTypes.array,useFixedHeader:c.PropTypes.bool,columns:c.PropTypes.array,prefixCls:c.PropTypes.string,bodyStyle:c.PropTypes.object,style:c.PropTypes.object,rowKey:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.func]),rowClassName:c.PropTypes.func,expandedRowClassName:c.PropTypes.func,childrenColumnName:c.PropTypes.string,onExpand:c.PropTypes.func,onExpandedRowsChange:c.PropTypes.func,indentSize:c.PropTypes.number,onRowClick:c.PropTypes.func,onRowDoubleClick:c.PropTypes.func,expandIconColumnIndex:c.PropTypes.number,showHeader:c.PropTypes.bool,title:c.PropTypes.func,footer:c.PropTypes.func,emptyText:c.PropTypes.func,scroll:c.PropTypes.object,rowRef:c.PropTypes.func,getBodyWrapper:c.PropTypes.func,children:c.PropTypes.node},E.defaultProps={data:[],useFixedHeader:!1,expandIconAsCell:!1,defaultExpandAllRows:!1,defaultExpandedRowKeys:[],rowKey:"key",rowClassName:function(){return""},expandedRowClassName:function(){return""},onExpand:function(){},onExpandedRowsChange:function(){},onRowClick:function(){},onRowDoubleClick:function(){},prefixCls:"rc-table",bodyStyle:{},style:{},childrenColumnName:"children",indentSize:15,expandIconColumnIndex:0,showHeader:!0,scroll:{},rowRef:function(){return null},getBodyWrapper:function(e){return e},emptyText:function(){return"No Data"}},t["default"]=E,e.exports=t["default"]},139:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(204),p=r(c),f=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props,n=t.record,o=t.column.onCellClick;o&&o(n,e)},o=n,i(r,o)}return s(t,e),t.prototype.isInvalidRenderCellText=function(e){return e&&!u["default"].isValidElement(e)&&"[object Object]"===Object.prototype.toString.call(e)},t.prototype.render=function n(){var e=this.props,t=e.record,r=e.indentSize,o=e.prefixCls,a=e.indent,i=e.index,s=e.expandIcon,l=e.column,c=l.dataIndex,n=l.render,f=l.className,d=void 0===f?"":f,h=void 0;h="number"==typeof c?(0,p["default"])(t,c):c&&0!==c.length?(0,p["default"])(t,c):t;var y=void 0,m=void 0,v=void 0;n&&(h=n(h,t,i),this.isInvalidRenderCellText(h)&&(y=h.props||{},v=y.rowSpan,m=y.colSpan,h=h.children)),this.isInvalidRenderCellText(h)&&(h=null);var g=s?u["default"].createElement("span",{style:{paddingLeft:r*a+"px"},className:o+"-indent indent-level-"+a}):null;return 0===v||0===m?null:u["default"].createElement("td",{colSpan:m,rowSpan:v,className:d,onClick:this.handleClick},g,s,h)},t}(u["default"].Component);f.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,index:l.PropTypes.number,indent:l.PropTypes.number,indentSize:l.PropTypes.number,column:l.PropTypes.object,expandIcon:l.PropTypes.node},t["default"]=f,e.exports=t["default"]},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),c=r(u),p=n(40),f=r(p),d=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,f["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.rowStyle,r=e.rows;return c["default"].createElement("thead",{className:t+"-thead"},r.map(function(e,t){return c["default"].createElement("tr",{key:t,style:n},e.map(function(e,t){return c["default"].createElement("th",l({},e,{key:t}))}))}))},t}(c["default"].Component);d.propTypes={prefixCls:u.PropTypes.string,rowStyle:u.PropTypes.object,rows:u.PropTypes.array},t["default"]=d,e.exports=t["default"]},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(139),p=r(c),f=n(137),d=r(f),h=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.state={hovered:!1},r.onRowClick=function(e){var t=r.props,n=t.record,o=t.index,a=t.onRowClick,i=t.expandable,s=t.expandRowByClick,l=t.expanded,u=t.onExpand;i&&s&&u(!l,n,e,o),a(n,o,e)},r.onRowDoubleClick=function(e){var t=r.props,n=t.record,o=t.index,a=t.onRowDoubleClick;a(n,o,e)},r.onMouseEnter=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!0,n)},r.onMouseLeave=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!1,n)},o=n,i(r,o)}return s(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.store,r=t.hoverKey;this.unsubscribe=n.subscribe(function(){n.getState().currentHoverKey===r?e.setState({hovered:!0}):e.state.hovered===!0&&e.setState({hovered:!1})})},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.record,n=e.onDestroy,r=e.index;n(t,r),this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.columns,r=e.record,o=e.height,a=e.visible,i=e.index,s=e.expandIconColumnIndex,l=e.expandIconAsCell,c=e.expanded,f=e.expandRowByClick,h=e.expandable,y=e.onExpand,m=e.needIndentSpaced,v=e.indent,g=e.indentSize,b=this.props.className;this.state.hovered&&(b+=" "+t+"-hover");for(var C=[],w=u["default"].createElement(d["default"],{expandable:h,prefixCls:t,onExpand:y,needIndentSpaced:m,expanded:c,record:r}),x=0;x<n.length;x++){l&&0===x&&C.push(u["default"].createElement("td",{className:t+"-expand-icon-cell",key:"rc-table-expand-icon-cell"},w));var P=!l&&!f&&x===s;C.push(u["default"].createElement(p["default"],{prefixCls:t,record:r,indentSize:g,indent:v,index:i,column:n[x],key:n[x].key,expandIcon:P?w:null}))}var T={height:o};return a||(T.display="none"),u["default"].createElement("tr",{onClick:this.onRowClick,onDoubleClick:this.onRowDoubleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:t+" "+b+" "+t+"-level-"+v,style:T},C)},t}(u["default"].Component);h.propTypes={onDestroy:l.PropTypes.func,onRowClick:l.PropTypes.func,onRowDoubleClick:l.PropTypes.func,record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandIconColumnIndex:l.PropTypes.number,onHover:l.PropTypes.func,columns:l.PropTypes.array,height:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),visible:l.PropTypes.bool,index:l.PropTypes.number,hoverKey:l.PropTypes.any,expanded:l.PropTypes.bool,expandable:l.PropTypes.any,onExpand:l.PropTypes.func,needIndentSpaced:l.PropTypes.bool,className:l.PropTypes.string,indent:l.PropTypes.number,indentSize:l.PropTypes.number,expandIconAsCell:l.PropTypes.bool,expandRowByClick:l.PropTypes.bool,store:l.PropTypes.object.isRequired},h.defaultProps={onRowClick:function(){},onRowDoubleClick:function(){},onDestroy:function(){},expandIconColumnIndex:0,expandRowByClick:!1,onHover:function(){}},t["default"]=h,e.exports=t["default"]},142:function(e,t){"use strict";function n(e){function t(e){a=r({},a,e);for(var t=0;t<i.length;t++)i[t]()}function n(){return a}function o(e){return i.push(e),function(){var t=i.indexOf(e);i.splice(t,1)}}var a=e,i=[];return{setState:t,getState:n,subscribe:o}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){if("undefined"==typeof document||"undefined"==typeof window)return 0;if(u)return u;var e=document.createElement("div");for(var t in c)c.hasOwnProperty(t)&&(e.style[t]=c[t]);document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),u=n}function a(e,t,n){function r(){var r=this,a=arguments;a[0]&&a[0].persist&&a[0].persist();var i=function(){o=null,n||e.apply(r,a)},s=n&&!o;clearTimeout(o),o=setTimeout(i,t),s&&e.apply(r,a)}var o=void 0;return r.cancel=function(){o&&(clearTimeout(o),o=null)},r}function i(e,t,n){p[t]||((0,l["default"])(e,t,n),p[t]=!e)}Object.defineProperty(t,"__esModule",{value:!0}),t.measureScrollbar=o,t.debounce=a,t.warningOnce=i;var s=n(81),l=r(s),u=void 0,c={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"},p={}},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=[];return i["default"].Children.forEach(e,function(e){t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(1),i=r(a);e.exports=t["default"]},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};n.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},n.isCharacterKey=function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(window.navigation.userAgent.indexOf("WebKit")!==-1&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},t["default"]=n,e.exports=t["default"]},148:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=r(o),i=n(190),s=r(i),l=n(8),u=r(l);a["default"].info=function(e){var t=(0,u["default"])({},{type:"info",iconType:"info-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].success=function(e){var t=(0,u["default"])({},{type:"success",iconType:"check-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].error=function(e){var t=(0,u["default"])({},{type:"error",iconType:"cross-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].warning=a["default"].warn=function(e){var t=(0,u["default"])({},{type:"warning",iconType:"exclamation-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].confirm=function(e){var t=(0,u["default"])({},{type:"confirm",okCancel:!0},e);return(0,s["default"])(t)},t["default"]=a["default"],e.exports=t["default"]},149:[1219,201],153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(26),n(20)),a=r(o),i=(n(23),n(11)),s=r(i),l=(n(25),n(147)),u=r(l),c=(n(35),n(27)),p=r(c),f=n(2),d=r(f),h=n(3),y=r(h),m=n(5),v=r(m),g=n(4),b=r(g),C=n(1),w=r(C),x=n(9),P=r(x),T=n(159),S=r(T),O=function(e){function t(n){(0,y["default"])(this,t);var r=(0,v["default"])(this,e.call(this,n));r.handleSearch=function(){var e={keyword:P["default"].findDOMNode(r.refs.searchInput).value};r.props.select&&(e.field=r.state.selectValue),r.props.onSearch&&r.props.onSearch(e)},r.handleInputChange=function(e){r.setState((0,d["default"])({},r.state,{clearVisible:""!==e.target.value}))},r.handeleSelectChange=function(e){r.setState((0,d["default"])({},r.state,{selectValue:e}))},r.handleClearInput=function(){P["default"].findDOMNode(r.refs.searchInput).value="",r.setState({clearVisible:!1}),r.handleSearch()};var o=r.props,a=o.select,i=o.selectProps;return r.state={clearVisible:!1,selectValue:a&&i?i.defaultValue:""},r}return(0,b["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.select,r=e.selectOptions,o=e.selectProps,i=e.style,l=e.keyword,c=this.state.clearVisible;return w["default"].createElement(u["default"].Group,{compact:!0,size:t,className:S["default"].search,style:i},n&&w["default"].createElement(p["default"],(0,d["default"])({ref:"searchSelect",onChange:this.handeleSelectChange,size:t},o),r&&r.map(function(e,t){return w["default"].createElement(p["default"].Option,{value:e.value,key:t},e.name||e.value)})),w["default"].createElement(u["default"],{ref:"searchInput",size:t,onChange:this.handleInputChange,onPressEnter:this.handleSearch,defaultValue:l}),w["default"].createElement(a["default"],{size:t,type:"primary",onClick:this.handleSearch},w["default"].createElement(s["default"],{type:"search"}),"\u641c\u7d22"),c&&w["default"].createElement(s["default"],{type:"cross",onClick:this.handleClearInput}))},t}(w["default"].Component);t["default"]=O,e.exports=t["default"]},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(165),s=n(160),l=(r(s),[{opacity:0,x:30,backgroundColor:"#fffeee",duration:0},{height:0,duration:200,type:"from",delay:250,ease:"easeOutQuad",onComplete:function(e){e.target.style.height="auto"}},{opacity:1,x:0,duration:250,ease:"easeOutQuad"},{delay:1e3,backgroundColor:"#fff"}]),u=[{duration:250,x:-30,opacity:0},{height:0,duration:200,ease:"easeOutQuad"}],c=function(e){var t=e.body,n=e.page,r=void 0===n?1:n,o=e.current;return o!=+r?t:a["default"].createElement(i.TweenOneGroup,{component:"tbody",className:t.props.className,enter:l,leave:u,appear:!1},t.props.children)};c.propTypes={page:o.PropTypes.any,current:o.PropTypes.number.isRequired},t["default"]=c,e.exports=t["default"]},158:function(e,t,n){"use strict";function r(){this.clear()}/*!
	 * Check to see if the MemoizeMap has recorded a result of the two operands
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @returns {Boolean|null} result
	*/
function o(e,t,n){if(!n||C(e)||C(t))return null;var r=n.get(e);if(r){var o=r.get(t);if("boolean"==typeof o)return o}return null}/*!
	 * Set the result of the equality into the MemoizeMap
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @param {Boolean} result
	*/
function a(e,t,n,r){if(n&&!C(e)&&!C(t)){var o=n.get(e);o?o.set(t,r):(o=new x,o.set(t,r),n.set(e,o))}}function i(e,t,n){if(n&&n.comparator)return l(e,t,n);var r=s(e,t);return null!==r?r:l(e,t,n)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t||!C(e)&&!C(t)&&null}/*!
	 * The main logic of the `deepEqual` function.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (optional) Additional options
	 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
	 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
	    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
	    references to blow the stack.
	 * @return {Boolean} equal match
	*/
function l(e,t,n){n=n||{},n.memoize=n.memoize!==!1&&(n.memoize||new x);var r=n&&n.comparator,i=o(e,t,n.memoize);if(null!==i)return i;var l=o(t,e,n.memoize);if(null!==l)return l;if(r){var c=r(e,t);if(c===!1||c===!0)return a(e,t,n.memoize,c),c;var p=s(e,t);if(null!==p)return p}var f=w(e);if(f!==w(t))return a(e,t,n.memoize,!1),!1;a(e,t,n.memoize,!0);var d=u(e,t,f,n);return a(e,t,n.memoize,d),d}function u(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return i(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return f(e,t,r);case"RegExp":return c(e,t);case"Generator":return d(e,t,r);case"DataView":return f(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return f(new Uint8Array(e),new Uint8Array(t),r);case"Set":return p(e,t,r);case"Map":return p(e,t,r);default:return b(e,t,r)}}/*!
	 * Compare two Regular Expressions for equality.
	 *
	 * @param {RegExp} leftHandOperand
	 * @param {RegExp} rightHandOperand
	 * @return {Boolean} result
	 */
function c(e,t){return e.toString()===t.toString()}/*!
	 * Compare two Sets/Maps for equality. Faster than other equality functions.
	 *
	 * @param {Set} leftHandOperand
	 * @param {Set} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function p(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var r=[],o=[];return e.forEach(function(e,t){r.push([e,t])}),t.forEach(function(e,t){o.push([e,t])}),f(r.sort(),o.sort(),n)}/*!
	 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function f(e,t,n){var r=e.length;if(r!==t.length)return!1;if(0===r)return!0;for(var o=-1;++o<r;)if(i(e[o],t[o],n)===!1)return!1;return!0}/*!
	 * Simple equality for generator objects such as those returned by generator functions.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function d(e,t,n){return f(m(e),m(t),n)}/*!
	 * Determine if the given object has an @@iterator function.
	 *
	 * @param {Object} target
	 * @return {Boolean} `true` if the object has an @@iterator function.
	 */
function h(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&"undefined"!=typeof Symbol.iterator&&"function"==typeof e[Symbol.iterator]}/*!
	 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
	 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of entries from the @@iterator function
	 */
function y(e){if(h(e))try{return m(e[Symbol.iterator]())}catch(t){return[]}return[]}/*!
	 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
	 *
	 * @param {Generator} target
	 * @returns {Array} an array of entries from the Generator.
	 */
function m(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
	 * Gets all own and inherited enumerable keys from a target.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of own and inherited enumerable keys from the target.
	 */
function v(e){var t=[];for(var n in e)t.push(n);return t}/*!
	 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
	 * each key. If any value of the given key is not equal, the function will return false (early).
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function g(e,t,n,r){var o=n.length;if(0===o)return!0;for(var a=0;a<o;a+=1)if(i(e[n[a]],t[n[a]],r)===!1)return!1;return!0}/*!
	 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
	 * for each enumerable key in the object.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function b(e,t,n){var r=v(e),o=v(t);if(r.length&&r.length===o.length)return r.sort(),o.sort(),f(r,o)!==!1&&g(e,t,r,n);var a=y(e),i=y(t);return a.length&&a.length===i.length?(a.sort(),i.sort(),f(a,i,n)):0===r.length&&0===a.length&&0===o.length&&0===i.length}/*!
	 * Returns true if the argument is a primitive.
	 *
	 * This intentionally returns true for all objects that can be compared by reference,
	 * including functions and symbols.
	 *
	 * @param {Mixed} value
	 * @return {Boolean} result
	 */
function C(e){return null===e||"object"!=typeof e}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var w=n(173);r.prototype={clear:function(){return this.keys=[],this.values=[],this},set:function(e,t){var n=this.keys.indexOf(e);return n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},get:function(e){return this.values[this.keys.indexOf(e)]},"delete":function(e){var t=this.keys.indexOf(e);return t>=0&&(this.values=this.values.slice(0,t).concat(this.values.slice(t+1)),this.keys=this.keys.slice(0,t).concat(this.keys.slice(t+1))),this}};var x=null;x="function"==typeof WeakMap?WeakMap:r,/*!
	 * Primary Export
	 */
e.exports=i,e.exports.MemoizeMap=x},159:function(e,t){e.exports={search:"search___p04KN"}},160:10,163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){return{duration:e.duration||0===e.duration?e.duration:m,delay:e.delay||v,ease:"function"==typeof e.ease?e.ease:l["default"][e.ease||y],onUpdate:e.onUpdate||o,onComplete:e.onComplete||o,onStart:e.onStart||o,onRepeat:e.onRepeat||o,repeat:e.repeat||0,repeatDelay:e.repeatDelay||0,yoyo:e.yoyo||!1,type:e.type||"to",initTime:t,appearTo:"number"==typeof e.appearTo?e.appearTo:null}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(66),l=r(s),u=n(39),c=r(u),p=n(166),f=r(p),d=n(41),h=n(22),y="easeInOutQuad",m=450,v=0;c["default"].push(f["default"]);var g=function(e,t,n){var r=this;this.target=e,this.attr=n.attr||"style",this.willChange=n.willChange,this.totalTime=0,this.progressTime=0,this.defaultData=[],this.start={},this.onStart={},this.startDefaultData={};var o=[];t.forEach(function(e,t){var n=i({},e);"style"===r.attr?(o[t]={},Object.keys(n).forEach(function(e){e in a({},0)&&(o[t][e]=n[e],delete n[e])}),o[t].style=n,r.startDefaultData.style=r.target.getAttribute("style")):"attr"===r.attr&&(Object.keys(n).forEach(function(t){if("style"===t&&Array.isArray(e[t]))throw new Error("Style should be the object.");"bezier"===t?(n.style=i({},n.style,{bezier:n[t]}),delete n[t],r.startDefaultData.style=r.target.getAttribute("style")):r.startDefaultData[t]=r.target.getAttribute(t)}),o[t]=n)}),this.tween={},this.perFrame=Math.round(1e3/60),this.register=!1,this.tinyNum=1e-10,this.setDefaultData(o)},b=g.prototype;b.setDefaultData=function(e){var t=this,n=0,r=!1,o=e.map(function(e){var o="number"==typeof e.appearTo;o||(n+=e.delay||0);var i=(e.appearTo||0)+(e.delay||0),s=a(e,o?i:n);s.vars={},Object.keys(e).forEach(function(n){if(!(n in s)){var r=e[n];if(n in c["default"])s.vars[n]=new c["default"][n](t.target,r,s.type);else if(n.match(/color/i)||"stroke"===n||"fill"===n)s.vars[n]={type:"color",vars:(0,d.parseColor)(r)};else if("number"==typeof r||r.split(/[,|\s]/g).length<=1){var o=parseFloat(r),a=r.toString().replace(/[^a-z|%]/g,""),i=r.toString().replace(/[^+|=|-]/g,"");s.vars[n]={unit:a,vars:o,count:i}}else("d"===n||"points"===n)&&"SVGMorph"in c["default"]&&(s.vars[n]=new c["default"].SVGMorph(t.target,r,n))}}),s.yoyo&&!s.repeat&&console.warn("Warning: yoyo must be used together with repeat;"),s.repeat===-1&&(r=!0);var l=s.repeat===-1?0:s.repeat;if(o){var u=e.appearTo+(e.delay||0)+s.duration*(l+1)+s.repeatDelay*l;n=u>=n?u:n}else s.delay<-s.duration?n-=s.delay:n+=s.duration*(l+1)+s.repeatDelay*l;return s.mode="",s});this.totalTime=r?Number.MAX_VALUE:n,this.defaultData=o},b.getAnimStartData=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){if(r in c["default"]||"attr"===t.attr&&("d"===r||"points"===r))return void(n[r]=e[r].getAnimStart(t.willChange));if("attr"!==t.attr)n[r]=t.target[r]||0;else{var o=t.target.getAttribute(r),a="null"!==o&&o?o:0;if(r.match(/color/i)||"stroke"===r||"fill"===r)a=a||"stroke"!==r?a:"rgba(255, 255, 255, 0)",a=(0,d.parseColor)(a),n[r]=a;else if(parseFloat(a)||0===parseFloat(a)||0===a){var i=a.toString().replace(/[^a-z|%]/g,"");n[r]=i!==e[r].unit?(0,h.startConvertToEndUnit)(t.target,r,parseFloat(a),i,e[r].unit):parseFloat(a)}}}),n},b.setAnimData=function(e){var t=this;Object.keys(e).forEach(function(n){n in c["default"]||"attr"===t.attr&&("d"===n||"points"===n)||(t.target[n]=e[n])})},b.setRatio=function(e,t,n){var r=this;Object.keys(t.vars).forEach(function(o){if(o in c["default"]||"attr"===r.attr&&("d"===o||"points"===o))return void t.vars[o].setRatio(e,r.tween);var a=t.vars[o],i=r.start[n][o],s=void 0;"attr"===r.attr&&(a.type?"color"===a.type&&(3===a.vars.length&&4===i.length&&(a.vars[3]=1),s=a.vars.map(function(t,n){var r=i[n]||0;return(t-r)*e+r}),r.target.setAttribute(o,(0,d.getColor)(s))):(s="="===a.unit.charAt(1)?i+a.vars*e+a.unit:(a.vars-i)*e+i+a.unit,r.target.setAttribute(o,s)))}),this.setAnimData(this.tween)},b.render=function(){var e=this;this.defaultData.forEach(function(t,n){var r=t.initTime,o=(0,d.toFixed)(t.duration),a=Math.ceil((e.progressTime-r)/(o+t.repeatDelay))-1;if(a=a<0?0:a,t.repeat){if(t.repeat<a&&t.repeat!==-1)return;(t.repeat||t.repeat<=a)&&(r+=a*(o+t.repeatDelay))}var s=t.yoyo&&a%2||"from"===t.type?1:0,l=t.yoyo&&a%2||"from"===t.type?0:1,u=(0,d.toFixed)(e.progressTime-r),c=t.delay>=0?t.delay:-t.delay,p="from"===t.type?c:0;if(u+p>-e.perFrame&&!e.start[n]&&(e.start[n]=e.getAnimStartData(t.vars),!e.register&&u<=e.perFrame)){e.register=!0;var f=c?0:t.ease(e.tinyNum,s,l,e.tinyNum),h=o?t.ease(u<0?0:u,s,l,o):f,y=u/(o+p)>1?1:h;e.setRatio(y,t,n)}var m={index:n,target:e.target};if(t.repeat&&a>0&&u+p>=0&&u<e.perFrame&&t.onRepeat(m),u<0&&u+p>-e.perFrame)e.setRatio("from"===t.type?1:0,t,n);else if(u>=o&&"onComplete"!==t.mode){var v=o?t.ease(o,s,l,o):t.ease(e.tinyNum,s,l,e.tinyNum);e.setRatio(v,t,n),"reset"!==t.mode&&t.onComplete(m),t.mode="onComplete"}else if(u>=0&&u<o){t.mode=u<e.perFrame&&!e.onStart[n]?"onStart":"onUpdate",u=u<0?0:u,u=u>o?o:u;var g=t.ease(u,s,l,o);e.setRatio(g,t,n),e.onStart[n]=!0,u<=e.perFrame?t.onStart(m):t.onUpdate(i({ratio:g},m))}u>=0&&u<o+e.perFrame&&e.onChange(i({moment:e.progressTime,mode:t.mode},m))})},b.frame=function(e){this.progressTime=e,this.render()},b.resetAnimData=function(){this.tween={},this.start={},this.onStart={}},b.resetDefaultStyle=function(){var e=this;this.tween={},this.defaultData=this.defaultData.map(function(e){return e.mode="reset",e}),Object.keys(this.startDefaultData).forEach(function(t){t in a({},0)||e.target.setAttribute(t,e.startDefaultData[t])})},b.onChange=o,t["default"]=g,e.exports=t["default"]},164:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(65),d=r(f),h=n(22),y=function(e){function t(){a(this,t);var n=i(this,e.apply(this,arguments));m.call(n),n.keysToEnter=[],n.keysToLeave=[],n.onEnterBool=!1,n.isTween={};var r=(0,h.toArrayChildren)((0,h.getChildrenFromProps)(n.props));return n.state={children:r},n}return s(t,e),t.prototype.componentDidMount=function(){this.onEnterBool=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=(0,h.toArrayChildren)(e.children),r=(0,h.toArrayChildren)(this.state.children),o=(0,h.mergeChildren)(r,n);this.keysToEnter=[],this.keysToLeave=[],n.forEach(function(e){if(e){var n=e.key,o=(0,h.findChildInChildrenByKey)(r,n);!o&&n&&t.keysToEnter.push(n)}}),r.forEach(function(e){if(e){var r=e.key,o=(0,h.findChildInChildrenByKey)(n,r);!o&&r&&t.keysToLeave.push(r)}}),this.setState({children:o})},t.prototype.render=function(){var e=this.getChildrenToRender(this.state.children);if(!this.props.component)return e[0]||null;var t=u({},this.props);return["component","appear","enter","leave","animatingClassName","onEnd","resetStyleBool","willChange"].forEach(function(e){return delete t[e]}),(0,c.createElement)(this.props.component,t,e)},t}(c.Component),m=function(){var e=this;this.onChange=function(t,n,r,o){var a=(0,h.dataToArray)(t).length,i=e.props.animatingClassName,s=o.target,l="enter"===r||"appear"===r;if("onStart"===o.mode)s.className=s.className.replace(i[l?1:0],"").trim(),s.className.indexOf(i[l?0:1])===-1&&(s.className=(s.className+" "+i[l?0:1]).trim());else if(o.index===a-1&&"onComplete"===o.mode){var u=e.state.children;"enter"===r?e.keysToEnter.splice(e.keysToEnter.indexOf(n),1):"leave"===r&&(u=e.state.children.filter(function(e){return n!==e.key}),e.keysToLeave.splice(e.keysToLeave.indexOf(n),1)),s.className=s.className.replace(i[l?0:1],"").trim(),delete e.isTween[n],e.setState({children:u});var c={key:n,type:r};e.props.onEnd(c)}},this.getCoverAnimation=function(t,n,r){var o=void 0,a=void 0;if(o="leave"===r?e.props.leave:e.props.enter,"appear"===r){var i=(0,h.transformArguments)(e.props.appear,t.key,n);o=i&&e.props.enter||null}a=e.onChange.bind(e,o,t.key,r);var s=p["default"].createElement(d["default"],u({},t.props,{willChange:e.props.willChange,key:t.key,component:t.type,animation:(0,h.transformArguments)(o,t.key,n),onChange:a,resetStyleBool:e.props.resetStyleBool}));return(e.keysToEnter.concat(e.keysToLeave).indexOf(t.key)>=0||!e.onEnterBool&&o)&&(e.isTween[t.key]=r),s},this.getChildrenToRender=function(t){return t.map(function(t,n){if(!t||!t.key)return t;var r=t.key;return e.keysToLeave.indexOf(r)>=0?e.getCoverAnimation(t,n,"leave"):e.keysToEnter.indexOf(r)>=0||e.isTween[t.key]&&e.keysToLeave.indexOf(r)===-1?e.getCoverAnimation(t,n,"enter"):e.onEnterBool?e.isTween[t.key]&&e.getCoverAnimation(t,n,e.isTween[t.key])||p["default"].createElement(d["default"],u({},t.props,{component:t.type,key:t.key})):e.getCoverAnimation(t,n,"appear")})}},v=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]),g=c.PropTypes.oneOfType([v,c.PropTypes.func]);y.propTypes={component:c.PropTypes.any,children:c.PropTypes.any,style:c.PropTypes.object,appear:c.PropTypes.bool,enter:g,leave:g,animatingClassName:c.PropTypes.array,onEnd:c.PropTypes.func,willChange:c.PropTypes.bool,resetStyleBool:c.PropTypes.bool},y.defaultProps={component:"div",appear:!0,animatingClassName:["tween-one-entering","tween-one-leaving"],enter:{x:50,opacity:0,type:"from"},leave:{x:-50,opacity:0},onEnd:l,willChange:!0,resetStyleBool:!0},t["default"]=y,e.exports=t["default"]},165:function(e,t,n){"use strict";var r=n(65);r.TweenOneGroup=n(164),r.easing=n(66),e.exports=r},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(41),i=r(a),s=n(22),l=n(39),u=r(l),c=function(e,t,n){this.target=e,this.vars=t,this.type=n,this.propsData={},this.setDefaultData()},p=c.prototype={name:"style"};p.getComputedStyle=function(){return document.defaultView?document.defaultView.getComputedStyle(this.target):{}},p.getTweenData=function(e,t){var n={data:{},dataType:{},dataUnit:{},dataCount:{},dataSplitStr:{}};if(e.match(/colo|fill|storker/i)?(n.data[e]=(0,a.parseColor)(t),n.dataType[e]="color"):e.match(/shadow/i)?(n.data[e]=(0,a.parseShadow)(t),n.dataType[e]="shadow"):"string"==typeof t&&t.split(/[\s|,]/).length>1?(n.data[e]=t.split(/[\s|,]/),n.dataSplitStr[e]=t.replace(/[^\s|,]/g,""),n.dataType[e]="string"):(n.data[e]=t,n.dataType[e]="other"),Array.isArray(n.data[e]))n.dataUnit[e]=n.data[e].map(function(e){return e.toString().replace(/[^a-z|%]/g,"")}),n.dataCount[e]=n.data[e].map(function(e){return e.toString().replace(/[^+|=|-]/g,"")}),n.data[e]=n.data[e].map(function(e){return parseFloat(e)||0===parseFloat(e)?parseFloat(e):e});else{n.dataUnit[e]=n.data[e].toString().replace(/[^a-z|%]/g,""),n.dataCount[e]=n.data[e].toString().replace(/[^+|=|-]/g,"");var r=parseFloat(n.data[e].toString().replace(/[a-z|%|=]/g,""));n.data[e]=r||0===r?r:n.data[e]}return n},p.setDefaultData=function(){var e=this;this.propsData.data={},this.propsData.dataType={},this.propsData.dataUnit={},this.propsData.dataCount={},this.propsData.dataSplitStr={},Object.keys(this.vars).forEach(function(t){if(t in u["default"])return void(e.propsData.data[t]=new u["default"][t](e.target,e.vars[t]));var n=(0,a.getGsapType)(t),r=e.getTweenData(n,e.vars[t]);e.propsData.data[n]=r.data[n],e.propsData.dataType[n]=r.dataType[n],e.propsData.dataUnit[n]=r.dataUnit[n],e.propsData.dataCount[n]=r.dataCount[n],r.dataSplitStr[n]&&(e.propsData.dataSplitStr[n]=r.dataSplitStr[n])})},p.convertToMarksArray=function(e,t,n,r){var o=n.toString().replace(/[^a-z|%]/g,""),a=e[r];return o===a?parseFloat(n):parseFloat(n)||0===parseFloat(n)?(0,s.startConvertToEndUnit)(this.target,t,n,o,a,null,"transformOrigin"===t&&!r):n},p.getAnimStart=function(e){var t=this,n=this.getComputedStyle(),r={};this.supports3D=(0,a.checkStyleName)("perspective");var i=void 0;return e&&(this.willChange="auto"!==n.willChange&&n.willChange&&"none"!==n.willChange?n.willChange:"",i=this.willChange.split(",").filter(function(e){return e})),Object.keys(this.propsData.data).forEach(function(l){var c=(0,a.isConvert)(l);if(e){var p=l in u["default"]?t.propsData.data[l].useStyle||c:c;p="transformOrigin"===p?"transform-origin":p,i.indexOf(p)===-1&&(p in n||l in u["default"])&&i.push(p),t.willChange=i.join(",")}var f=n[c],d="fixed"===n.position;f&&"none"!==f&&"auto"!==f||(f="");var h=void 0,y=void 0,m=void 0;if(l in u["default"])"bezier"===l&&(t.transform=(0,a.checkStyleName)("transform"),f=n[t.transform],r.transform=r.transform||(0,a.getTransform)(f)),t.propsData.data[l].getAnimStart();else if("transform"===c){if(t.transform=(0,a.checkStyleName)("transform"),f=n[t.transform],y=t.propsData.dataUnit[l],h=r.transform||(0,a.getTransform)(f),y&&y.match(/%|vw|vh|em|rem/i)){var v="translateX"===l?"xPercent":"yPercent";h[v]=(0,s.startConvertToEndUnit)(t.target,l,h[l],null,y),h[l]=0}r.transform=h}else"filter"===c?(t.filterName=(0,a.checkStyleName)("filter")||"filter",f=n[t.filterName],t.filterObject=o({},t.filterObject,(0,a.splitFilterToObject)(f)),f=t.filterObject[l]||0,m=f.toString().replace(/[^a-z|%]/g,""),y=t.propsData.dataUnit[l],y!==m&&(f=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(f),m,y,d)),r[l]=parseFloat(f)):l.match(/color|fill/i)||"stroke"===l?(f=f||"stroke"!==l?f:"rgba(255, 255, 255, 0)",r[c]=(0,a.parseColor)(f)):l.match(/shadow/i)?(f=(0,a.parseShadow)(f),y=t.propsData.dataUnit[l],f=f.map(t.convertToMarksArray.bind(t,y,l)),r[c]=f):Array.isArray(t.propsData.data[l])?(f=f.split(/[\s|,]/),y=t.propsData.dataUnit[l],f=f.map(t.convertToMarksArray.bind(t,y,l)),r[c]=f):(y=t.propsData.dataUnit[c],m=f.toString().replace(/[^a-z|%]/g,""),y!==m&&(f=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(f),m,y,d)),r[c]=parseFloat(f||0))}),this.start=r,r},p.setArrayRatio=function(e,t,n,r,o){"color"===o&&4===t.length&&3===n.length&&(n[3]=1);var i=t.indexOf("inset")>=0,s=n.indexOf("inset")>=0;if(i&&!s||s&&!i)throw console.error('Error: "box-shadow" inset have to exist');var l=s?9:8;t.length===l&&n.length===l-1?(n.splice(3,0,0),r.splice(3,0,"")):n.length===l&&t.length===l-1&&t.splice(3,0,0);var u=n.map(function(n,a){var i="color"!==o||3!==a||t[a]?0:1,s="number"==typeof t[a]?t[a]:i;return"string"==typeof n?n:(n-s)*e+s+(r[a]||0)});if("color"===o)return(0,a.getColor)(u);if("shadow"===o){var c=u.length===l?4:3,p=u.slice(0,c).map(function(e){return"number"==typeof e?e+"px":e}),f=u.slice(c,s?u.length-1:u.length),d=(0,a.getColor)(f);return(p.join(" ")+" "+d+" "+(s?"inset":"")).trim()}return u},p.setRatio=function(e,t){var n=this;t.style=t.style||{},this.start.transform&&(t.style.transform=t.style.transform||o({},this.start.transform));var r=this.target.style;this.willChange&&(e===("from"===this.type?0:1)?r.willChange=null:r.willChange=this.willChange),Object.keys(this.propsData.data).forEach(function(o){var l="transform"===(0,a.isTransform)(o),c=l?n.start.transform[o]:n.start[o],p=n.propsData.data[o],f=n.propsData.dataUnit[o],d=n.propsData.dataCount[o];if(o in u["default"])return n.propsData.data[o].setRatio(e,t),void("bezier"===o?r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D):Object.keys(t.style).forEach(function(e){return r[e]=t.style[e]}));if(l){if(f&&f.match(/%|vw|vh|em|rem/i)){var h="translateX"===o?"xPercent":"yPercent";c=n.start.transform[h],"="===d.charAt(1)?t.style.transform[h]=c+p*e+f:t.style.transform[h]=(p-c)*e+c+f}else if("scale"===o){var y=n.start.transform.scaleX,m=n.start.transform.scaleY;"="===d.charAt(1)?(t.style.transform.scaleX=y+p*e,t.style.transform.scaleY=m+p*e):(t.style.transform.scaleX=(p-y)*e+y,t.style.transform.scaleY=(p-m)*e+m)}return"="===d.charAt(1)?t.style.transform[o]=c+p*e:t.style.transform[o]=(p-c)*e+c,void(r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D))}if(Array.isArray(p)){var v=n.propsData.dataType[o];t.style[o]=n.setArrayRatio(e,c,p,f,v),"string"===v&&(t.style[o]=t.style[o].join(n.propsData.dataSplitStr[o]))}else{var g=(0,a.stylesToCss)(o,0);g="number"==typeof g?"":g.replace(/[^a-z|%]/g,""),f=f||(i["default"].filter.indexOf(o)>=0?"":g),"string"==typeof p?t.style[o]=p:"="===d.charAt(1)?t.style[o]=c+p*e+f:t.style[o]=(p-c)*e+c+f}if(i["default"].filter.indexOf(o)>=0){if(!n.filterObject)return;n.filterObject[o]=t.style[o];var b="";return Object.keys(n.filterObject).forEach(function(e){b+=" "+e+"("+n.filterObject[e]+")"}),void(r[n.filterName]=b.trim())}r[o]=t.style[o]})},t["default"]=c,e.exports=t["default"]},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),a=r(o),i=function(){},s=i.prototype={tickFnObject:{},id:-1,tweenId:0,frame:0,perFrame:Math.round(1e3/60),getTime:Date.now||function(){return(new Date).getTime()},elapsed:0,lastUpdate:0,skipFrameMax:166};s.add=function(e){var t="tweenOne"+this.tweenId;return this.tweenId++,this.wake(t,e),t},s.wake=function(e,t){this.tickFnObject[e]=t,this.id===-1&&(this.id=(0,a["default"])(this.tick))},s.clear=function(e){delete this.tickFnObject[e]},s.sleep=function(){a["default"].cancel(this.id),this.id=-1,this.frame=0};var l=new i;s.tick=function(e){l.elapsed=l.lastUpdate?l.getTime()-l.lastUpdate:0,l.lastUpdate=l.lastUpdate?l.lastUpdate+l.elapsed:l.getTime()+l.elapsed;var t=l.tickFnObject;return Object.keys(t).forEach(function(n){t[n]&&t[n](e)}),Object.keys(t).length?(l.elapsed>l.skipFrameMax||!l.frame?l.frame++:l.frame+=Math.round(l.elapsed/l.perFrame),void(l.id=(0,a["default"])(l.tick))):void l.sleep()};var u=0;s.timeout=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function");var r="timeout"+Date.now()+"-"+u,o=this.frame;return this.wake(r,function(){var a=(n.frame-o)*n.perFrame;a>=(t||0)&&(n.clear(r),e())}),u++,r};var c=0;s.interval=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function"),null;var r="interval"+Date.now()+"-"+c,o=this.frame;return this.wake(r,function(){var r=(n.frame-o)*n.perFrame;r>=(t||0)&&(o=n.frame,e())}),c++,r},t["default"]=l,e.exports=t["default"]},172:function(e,t){"use strict";var n={linear:function(e,t,n,r){var o=n-t;return o*e/r+t},easeInQuad:function(e,t,n,r){var o=n-t;return o*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var o=n-t;return-o*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var o=n-t;return o*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var o=n-t;return-o*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var o=n-t;return o*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var o=n-t;return-o*Math.cos(e/r*(Math.PI/2))+o+t},easeOutSine:function(e,t,n,r){var o=n-t;return o*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=n-t;return-o/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var o=n-t;return 0==e?t:o*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var o=n-t;return e==r?t+o:o*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var o=n-t;return 0===e?t:e===r?t+o:(e/=r/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var o=n-t;return-o*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var o=n-t;return o*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:1===(e/=r)?t+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a))+t)},easeOutElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:1===(e/=r)?t+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/a)+s+t)},easeInOutElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:2===(e/=r/2)?t+s:(a||(a=r*(.3*1.5)),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*.5+s+t)},easeInBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),a*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),a*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),(e/=r/2)<1?a/2*(e*e*(((o*=1.525)+1)*e-o))+t:a/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t},easeInBounce:function(e,t,r,o){var a,i=r-t;return a=n.easeOutBounce(o-e,0,i,o),i-a+t},easeOutBounce:function(e,t,n,r){var o=n-t;return(e/=r)<1/2.75?o*(7.5625*e*e)+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,r,o){var a,i=r-t;return e<o/2?(a=n.easeInBounce(2*e,0,i,o),.5*a+t):(a=n.easeOutBounce(2*e-o,0,i,o),.5*a+.5*i+t)}};e.exports=n},173:function(e,t){(function(t){"use strict";var n="function"==typeof Object.getPrototypeOf,r="function"==typeof Promise,o="undefined"!=typeof window?window:"undefined"!=typeof t?t:self,a="location"in o&&"document"in o,i="undefined"!=typeof HTMLElement,s="function"==typeof Array.isArray,l="undefined"!=typeof Symbol,u="undefined"!=typeof Map,c="undefined"!=typeof Set,p="undefined"!=typeof WeakMap,f="undefined"!=typeof WeakSet,d="undefined"!=typeof DataView,h=l&&"undefined"!=typeof Symbol.iterator,y=l&&"undefined"!=typeof Symbol.toStringTag,m=c&&"function"==typeof Set.prototype.entries,v=u&&"function"==typeof Map.prototype.entries,g=n&&m&&Object.getPrototypeOf((new Set).entries()),b=n&&v&&Object.getPrototypeOf((new Map).entries()),C=h&&"function"==typeof Array.prototype[Symbol.iterator],w=C&&Object.getPrototypeOf([][Symbol.iterator]()),x=h&&"function"==typeof Array.prototype[Symbol.iterator],P=x&&Object.getPrototypeOf(""[Symbol.iterator]()),T=8,S=-1;e.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(s&&Array.isArray(e))return"Array";if(a){if(e===o.location)return"Location";if(e===o.document)return"Document";if(e===(o.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(o.navigator||{}).plugins)return"PluginArray";if(i&&e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(i&&e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(i&&e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var l=y&&e[Symbol.toStringTag];if("string"==typeof l)return l;if(n){var h=Object.getPrototypeOf(e);if(h===RegExp.prototype)return"RegExp";if(h===Date.prototype)return"Date";if(r&&h===Promise.prototype)return"Promise";if(c&&h===Set.prototype)return"Set";if(u&&h===Map.prototype)return"Map";if(f&&h===WeakSet.prototype)return"WeakSet";if(p&&h===WeakMap.prototype)return"WeakMap";if(d&&h===DataView.prototype)return"DataView";if(u&&h===b)return"Map Iterator";if(c&&h===g)return"Set Iterator";if(C&&h===w)return"Array Iterator";if(x&&h===P)return"String Iterator";if(null===h)return"Object"}return Object.prototype.toString.call(e).slice(T,S)},e.exports.typeDetect=e.exports}).call(t,function(){return this}())},188:94,189:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(9),d=r(f),h=n(20),y=r(h),m=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.onClick=function(){var e=r.props,t=e.actionFn,n=e.closeModal;if(t){var o=void 0;t.length?o=t(n):(o=t(),o||n()),o&&o.then&&(r.setState({loading:!0}),o.then(function(){n.apply(void 0,arguments)}))}else n()},r.state={loading:!1},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){if(this.props.autoFocus){var e=d["default"].findDOMNode(this);this.timeoutId=setTimeout(function(){return e.focus()})}},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeoutId)},t.prototype.render=function(){var e=this.props,t=e.type,n=e.children,r=this.state.loading;return p["default"].createElement(y["default"],{type:t,size:"large",onClick:this.onClick,loading:r},n)},t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},190:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(){var e=c["default"].unmountComponentAtNode(o);e&&o.parentNode&&o.parentNode.removeChild(o)}var n=(0,h["default"])({iconType:"question-circle"},e),r=n.prefixCls||"ant-confirm",o=document.createElement("div");document.body.appendChild(o);var a=n.width||416,s=n.style||{},u=void 0!==n.maskClosable&&n.maskClosable;"okCancel"in n||(n.okCancel=!0);var p=(0,w.getConfirmLocale)();n.okText=n.okText||(n.okCancel?p.okText:p.justOkText),n.cancelText=n.cancelText||p.cancelText;var d=l["default"].createElement("div",{className:r+"-body"},l["default"].createElement(m["default"],{type:n.iconType}),l["default"].createElement("span",{className:r+"-title"},n.title),l["default"].createElement("div",{className:r+"-content"},n.content)),y=null;y=n.okCancel?l["default"].createElement("div",{className:r+"-btns"},l["default"].createElement(C["default"],{actionFn:n.onCancel,closeModal:t},n.cancelText),l["default"].createElement(C["default"],{type:"primary",actionFn:n.onOk,closeModal:t,autoFocus:!0},n.okText)):l["default"].createElement("div",{className:r+"-btns"},l["default"].createElement(C["default"],{type:"primary",actionFn:n.onOk,closeModal:t,autoFocus:!0},n.okText));var v=(0,f["default"])(r,(0,i["default"])({},r+"-"+n.type,!0),n.className);return c["default"].render(l["default"].createElement(g["default"],{className:v,onCancel:t,visible:!0,title:"",transitionName:"zoom",footer:"",maskTransitionName:"fade",maskClosable:u,style:s,width:a},l["default"].createElement("div",{className:r+"-body-wrapper"},d," ",y)),o),{destroy:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=r(a);t["default"]=o;var s=n(1),l=r(s),u=n(9),c=r(u),p=n(6),f=r(p),d=n(8),h=r(d),y=n(11),m=r(y),v=n(88),g=r(v),b=n(189),C=r(b),w=n(191);e.exports=t["default"]},191:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){u=e?(0,s["default"])({},u,e):(0,s["default"])({},l)}function a(){return u}Object.defineProperty(t,"__esModule",{value:!0}),t.changeConfirmLocale=o,t.getConfirmLocale=a;var i=n(8),s=r(i),l={okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},u=(0,s["default"])({},l)},193:[1216,202],201:10,202:10,209:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;n=o.documentElement[r],"number"!=typeof n&&(n=o.body[r])}return n}function i(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach(function(e){n[e+"TransformOrigin"]=t}),n.transformOrigin=t}function s(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=a(o),n.top+=a(o,!0),n}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(9),p=r(c),f=n(212),d=r(f),h=n(56),y=r(h),m=n(211),v=r(m),g=n(214),b=r(g),C=n(8),w=r(C),x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},P=0,T=0,S=u["default"].createClass({displayName:"Dialog",getDefaultProps:function(){return{afterClose:o,className:"",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,prefixCls:"rc-dialog",onClose:o}},componentWillMount:function(){this.inTransition=!1,this.titleId="rcDialogTitle"+P++},componentDidMount:function(){this.componentDidUpdate({})},componentDidUpdate:function(e){var t=this.props,n=this.props.mousePosition;if(t.visible){if(!e.visible){this.openTime=Date.now(),this.lastOutSideFocusNode=document.activeElement,this.addScrollingEffect(),this.refs.wrap.focus();var r=p["default"].findDOMNode(this.refs.dialog);if(n){var o=s(r);i(r,n.x-o.left+"px "+(n.y-o.top)+"px")}else i(r,"")}}else if(e.visible&&(this.inTransition=!0,t.mask&&this.lastOutSideFocusNode)){try{this.lastOutSideFocusNode.focus()}catch(a){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},componentWillUnmount:function(){(this.props.visible||this.inTransition)&&this.removeScrollingEffect()},onAnimateLeave:function(){this.refs.wrap&&(this.refs.wrap.style.display="none"),this.inTransition=!1,this.removeScrollingEffect(),this.props.afterClose()},onMaskClick:function(e){Date.now()-this.openTime<300||e.target===e.currentTarget&&this.close(e)},onKeyDown:function(e){var t=this.props;if(t.keyboard&&e.keyCode===d["default"].ESC&&this.close(e),t.visible&&e.keyCode===d["default"].TAB){var n=document.activeElement,r=this.refs.wrap,o=this.refs.sentinel;e.shiftKey?n===r&&o.focus():n===this.refs.sentinel&&r.focus()}},getDialogElement:function(){var e=this.props,t=e.closable,n=e.prefixCls,r={};void 0!==e.width&&(r.width=e.width),void 0!==e.height&&(r.height=e.height);var o=void 0;e.footer&&(o=u["default"].createElement("div",{className:n+"-footer",ref:"footer"},e.footer));var a=void 0;e.title&&(a=u["default"].createElement("div",{className:n+"-header",ref:"header"},u["default"].createElement("div",{className:n+"-title",id:this.titleId},e.title)));var i=void 0;t&&(i=u["default"].createElement("button",{onClick:this.close,"aria-label":"Close",className:n+"-close"},u["default"].createElement("span",{className:n+"-close-x"})));var s=(0,w["default"])({},e.style,r),l=this.getTransitionName(),c=u["default"].createElement(v["default"],{key:"dialog-element",role:"document",ref:"dialog",style:s,className:n+" "+(e.className||""),visible:e.visible},u["default"].createElement("div",{className:n+"-content"},i,a,u["default"].createElement("div",x({className:n+"-body",style:e.bodyStyle,ref:"body"},e.bodyProps),e.children),o),u["default"].createElement("div",{tabIndex:0,ref:"sentinel",style:{width:0,height:0,overflow:"hidden"}},"sentinel"));return u["default"].createElement(y["default"],{key:"dialog",showProp:"visible",onLeave:this.onAnimateLeave,transitionName:l,component:"",transitionAppear:!0},c)},getZIndexStyle:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),
e},getWrapStyle:function(){return(0,w["default"])({},this.getZIndexStyle(),this.props.wrapStyle)},getMaskStyle:function(){return(0,w["default"])({},this.getZIndexStyle(),this.props.maskStyle)},getMaskElement:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=u["default"].createElement(v["default"],x({style:this.getMaskStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),n&&(t=u["default"].createElement(y["default"],{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},getMaskTransitionName:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getTransitionName:function(){var e=this.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getElement:function(e){return this.refs[e]},setScrollbar:function(){this.bodyIsOverflowing&&void 0!==this.scrollbarWidth&&(document.body.style.paddingRight=this.scrollbarWidth+"px")},addScrollingEffect:function(){T++,1===T&&(this.checkScrollbar(),this.setScrollbar(),document.body.style.overflow="hidden")},removeScrollingEffect:function(){T--,0===T&&(document.body.style.overflow="",this.resetScrollbar())},close:function(e){this.props.onClose(e)},checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollbarWidth=(0,b["default"])())},resetScrollbar:function(){document.body.style.paddingRight=""},adjustDialog:function(){if(this.refs.wrap&&void 0!==this.scrollbarWidth){var e=this.refs.wrap.scrollHeight>document.documentElement.clientHeight;this.refs.wrap.style.paddingLeft=(!this.bodyIsOverflowing&&e?this.scrollbarWidth:"")+"px",this.refs.wrap.style.paddingRight=(this.bodyIsOverflowing&&!e?this.scrollbarWidth:"")+"px"}},resetAdjustments:function(){this.refs.wrap&&(this.refs.wrap.style.paddingLeft=this.refs.wrap.style.paddingLeft="")},render:function(){var e=this.props,t=e.prefixCls,n=e.maskClosable,r=this.getWrapStyle();return e.visible&&(r.display=null),u["default"].createElement("div",null,this.getMaskElement(),u["default"].createElement("div",x({tabIndex:-1,onKeyDown:this.onKeyDown,className:t+"-wrap "+(e.wrapClassName||""),ref:"wrap",onClick:n?this.onMaskClick:void 0,role:"dialog","aria-labelledby":e.title?this.titleId:null,style:r},e.wrapProps),this.getDialogElement()))}});t["default"]=S,e.exports=t["default"]},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(209),s=r(i),l=n(213),u=r(l),c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},p=a["default"].createClass({displayName:"DialogWrap",mixins:[(0,u["default"])({isVisible:function(e){return e.props.visible},autoDestroy:!1,getComponent:function(e,t){return a["default"].createElement(s["default"],c({},e.props,t,{key:"dialog"}))}})],getDefaultProps:function(){return{visible:!1}},shouldComponentUpdate:function(e){var t=e.visible;return!(!this.props.visible&&!t)},componentWillUnmount:function(){this.props.visible?this.renderComponent({afterClose:this.removeContainer,onClose:function(){},visible:!1}):this.removeContainer()},getElement:function(e){return this._component.getElement(e)},render:function(){return null}});t["default"]=p,e.exports=t["default"]},211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(8),s=r(i),l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u=a["default"].createClass({displayName:"LazyRenderBox",shouldComponentUpdate:function(e){return!!e.hiddenClassName||!!e.visible},render:function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=(0,s["default"])({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,a["default"].createElement("div",l({},t))}});t["default"]=u,e.exports=t["default"]},212:297,213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=document.createElement("div");return document.body.appendChild(e),e}function a(e){function t(e,t,n){(!c||e._component||c(e))&&(e._container||(e._container=d(e)),l["default"].unstable_renderSubtreeIntoContainer(e,p(e,t),e._container,function(){e._component=this,n&&n.call(this)}))}function n(e){if(e._container){var t=e._container;l["default"].unmountComponentAtNode(t),t.parentNode.removeChild(t),e._container=null}}var r=e.autoMount,a=void 0===r||r,s=e.autoDestroy,u=void 0===s||s,c=e.isVisible,p=e.getComponent,f=e.getContainer,d=void 0===f?o:f,h=void 0;return a&&(h=i({},h,{componentDidMount:function(){t(this)},componentDidUpdate:function(){t(this)}})),a&&u||(h=i({},h,{renderComponent:function(e,n){t(this,e,n)}})),h=u?i({},h,{componentWillUnmount:function(){n(this)}}):i({},h,{removeContainer:function(){n(this)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var s=n(9),l=r(s);e.exports=t["default"]},214:function(e,t){"use strict";function n(e){if(e||void 0===r){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top=0,o.left=0,o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;a===i&&(i=n.clientWidth),document.body.removeChild(n),r=a-i}return r}var r=void 0;e.exports=n},238:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(176),y=r(h),m=n(11),v=r(m),g=n(20),b=r(g),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},w=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.confirm=function(e){r.setVisible(!1);var t=r.props.onConfirm;t&&t.call(r,e)},r.cancel=function(e){r.setVisible(!1);var t=r.props.onCancel;t&&t.call(r,e)},r.onVisibleChange=function(e){r.setVisible(e)},r.state={visible:n.visible},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"visible"in e&&this.setState({visible:e.visible})},t.prototype.setVisible=function(e){var t=this.props;"visible"in t||this.setState({visible:e});var n=t.onVisibleChange;n&&n(e)},t.prototype.render=function(){var e=this.props,t=this.context,n=e.prefixCls,r=e.title,o=e.placement,i=C(e,["prefixCls","title","placement"]),s=e.okText,l=e.cancelText,u=t.antLocale&&t.antLocale.Popconfirm;u&&(s=s||u.okText,l=l||u.cancelText);var c=d["default"].createElement("div",null,d["default"].createElement("div",{className:n+"-inner-content"},d["default"].createElement("div",{className:n+"-message"},d["default"].createElement(v["default"],{type:"exclamation-circle"}),d["default"].createElement("div",{className:n+"-message-title"},r)),d["default"].createElement("div",{className:n+"-buttons"},d["default"].createElement(b["default"],{onClick:this.cancel,size:"small"},l||"\u53d6\u6d88"),d["default"].createElement(b["default"],{onClick:this.confirm,type:"primary",size:"small"},s||"\u786e\u5b9a"))));return d["default"].createElement(y["default"],(0,a["default"])({},i,{prefixCls:n,placement:o,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:c}))},t}(d["default"].Component);t["default"]=w,w.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click"},w.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},239:function(e,t,n){"use strict";n(10),n(271),n(26)},326:function(e,t){"use strict";function n(e,t,n){t&&!/^1(3|4|5|7|8)\d{9}$/.test(t)?n("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"):n()}Object.defineProperty(t,"__esModule",{value:!0}),t.validPhone=n},677:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.loading,n=e.dataSource,r=e.pagination,o=e.updatePower,a=e.deletePower,s=e.onPageChange,u=e.onDeleteItem,p=e.onEditItem,d=e.onStatusItem,y=e.location,m=function(e){P({title:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u6761\u8bb0\u5f55\u5417?",onOk:function(){u(e.id)}})},v=[{title:"\u5934\u50cf",dataIndex:"image",key:"image",width:64,className:C["default"].avatar,render:function(e){return g["default"].createElement("img",{width:24,src:e})}},{title:"\u7528\u6237\u540d",dataIndex:"name",key:"name"},{title:"\u624b\u673a\u53f7",dataIndex:"mobile",key:"mobile"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",key:"created_at",render:function(e){return new Date((+e)).format("yyyy-MM-dd HH:mm:ss")}},{title:"\u64cd\u4f5c",key:"operation",render:function(e,t){return g["default"].createElement("p",null,o&&g["default"].createElement(f["default"],{placement:"bottom",title:"\u7f16\u8f91"},g["default"].createElement("a",{onClick:function(){return p(t)},style:{marginRight:10}},g["default"].createElement(h["default"],{type:"edit"}))),o&&g["default"].createElement(f["default"],{placement:"bottom",title:t.status?"\u70b9\u51fb\u7981\u7528":"\u70b9\u51fb\u542f\u7528"},t.status?g["default"].createElement(c["default"],{title:"\u786e\u5b9a\u8981\u7981\u7528"+t.name+"\u5417\uff1f",onConfirm:function(){return d(t)}},g["default"].createElement("a",{style:{marginRight:10}},g["default"].createElement(h["default"],{type:"unlock"}))):g["default"].createElement("a",{onClick:function(){return d(t)},style:{marginRight:10}},g["default"].createElement(h["default"],{type:"lock",className:C["default"].warning}))),a&&g["default"].createElement(f["default"],{placement:"bottom",title:"\u5220\u9664"},g["default"].createElement("a",{onClick:function(){return m(t)}},g["default"].createElement(h["default"],{type:"close-circle-o",className:C["default"].danger}))))}}],b={page:y.query.page,current:r.current},w=function(e){return g["default"].createElement(x["default"],(0,l["default"])({},b,{body:e}))};return g["default"].createElement("div",null,g["default"].createElement(i["default"],{className:C["default"].table,bordered:!0,scroll:{x:1200},columns:v,dataSource:n,loading:t,onChange:s,pagination:(0,l["default"])({},r,{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 "+e+" \u6761"}}),simple:!0,rowKey:function(e){return e.id},getBodyWrapper:w}))}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(61),n(60)),i=r(a),s=n(2),l=r(s),u=(n(239),n(238)),c=r(u),p=(n(193),n(176)),f=r(p),d=(n(23),n(11)),h=r(d),y=(n(149),n(148)),m=r(y),v=n(1),g=r(v),b=n(860),C=r(b),w=n(154),x=r(w),P=m["default"].confirm;o.propTypes={onPageChange:v.PropTypes.func,onDeleteItem:v.PropTypes.func,onEditItem:v.PropTypes.func,dataSource:v.PropTypes.array,loading:v.PropTypes.any,pagination:v.PropTypes.any},t["default"]=o,e.exports=t["default"]},678:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.modal;return{modal:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(149),n(148)),i=r(a),s=(n(25),n(147)),l=r(s),u=(n(23),n(11)),c=r(u),p=n(2),f=r(p),d=(n(87),n(86)),h=r(d),y=n(1),m=r(y),v=n(62),g=n(326),b=h["default"].Item,C={labelCol:{span:6},wrapperCol:{span:14}},w=function(e){function t(){y(function(e,t){if(!e){var r=(0,f["default"])({},t,{id:a.id});n({type:r.id?"accountUser/update":"accountUser/create",payload:r})}})}var n=e.dispatch,r=e.modal,o=r.loading,a=r.curItem,s=r.type,u=r.visible,p=e.form,d=p.getFieldDecorator,y=p.validateFields,v=p.resetFields,w={title:"create"===s?m["default"].createElement("div",null,m["default"].createElement(c["default"],{type:"plus-circle-o"})," \u65b0\u5efa\u7528\u6237"):m["default"].createElement("div",null,m["default"].createElement(c["default"],{type:"edit"})," \u4fee\u6539\u7528\u6237"),visible:u,onOk:t,onCancel:function(){n({type:"modal/hideModal"}),v()},wrapClassName:"vertical-center-modal",confirmLoading:o};return m["default"].createElement(i["default"],w,m["default"].createElement(h["default"],{horizontal:!0},m["default"].createElement(b,(0,f["default"])({label:"\u7528\u6237\u540d\uff1a",hasFeedback:!0},C),d("name",{initialValue:a.name,rules:[{required:!0,message:"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]})(m["default"].createElement(l["default"],null))),m["default"].createElement(b,(0,f["default"])({label:"\u624b\u673a\u53f7\uff1a",hasFeedback:!0},C),d("mobile",{initialValue:a.mobile,rules:[{required:!0,message:"\u624b\u673a\u53f7\u4e0d\u80fd\u4e3a\u7a7a"},{validator:g.validPhone}]})(m["default"].createElement(l["default"],null))),m["default"].createElement(b,(0,f["default"])({label:"\u90ae\u7bb1\uff1a",hasFeedback:!0},C),d("email",{initialValue:a.email,rules:[{required:!0,message:"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a"},{type:"email",message:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e"}]})(m["default"].createElement(l["default"],null)))))};w.propTypes={modal:y.PropTypes.object,form:y.PropTypes.object},t["default"]=(0,v.connect)(o)(h["default"].create()(w)),e.exports=t["default"]},679:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(87),n(86)),a=r(o),i=(n(94),n(192)),s=r(i),l=(n(26),n(20)),u=r(l),c=(n(23),n(11)),p=r(c),f=(n(188),n(237)),d=r(f),h=n(1),y=r(h),m=n(153),v=r(m),g=function(e){var t=e.field,n=e.keyword,r=e.addPower,o=e.onSearch,a=e.onAdd,i=e.form,l=(i.getFieldDecorator,i.validateFields,i.getFieldsValue,{field:t,keyword:n,size:"large",select:!0,selectOptions:[{value:"name",name:"\u7528\u6237\u540d"},{value:"mobile",name:"\u624b\u673a\u53f7"},{value:"email",name:"\u90ae\u7bb1"}],selectProps:{defaultValue:t||"name"},onSearch:function(e){o(e)}});return y["default"].createElement(s["default"],{gutter:24},y["default"].createElement(d["default"],{lg:8,md:12,sm:16,xs:24,style:{marginBottom:16}},y["default"].createElement(v["default"],l)),r&&y["default"].createElement(d["default"],{lg:{offset:8,span:8},md:12,sm:8,xs:24,style:{marginBottom:16,textAlign:"right"}},y["default"].createElement(u["default"],{size:"large",type:"ghost",onClick:a},y["default"].createElement(p["default"],{type:"plus-circle-o"}),"\u6dfb\u52a0")))};g.propTypes={form:h.PropTypes.object.isRequired,onSearch:h.PropTypes.func,onAdd:h.PropTypes.func,field:h.PropTypes.string,keyword:h.PropTypes.string},t["default"]=a["default"].create()(g),e.exports=t["default"]},702:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(44),s=r(i),l=(n(64),n(37)),u=n(721),c=n(13);t["default"]={namespace:"accountUser",state:{list:[],loading:!1,pagination:{current:1,pageSize:10,total:null}},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;n.listen(function(e){var n=e.pathname;if("/account/user"===n){var r=(0,c.getCurPowers)(n);r?(t({type:"app/changeCurPowers",payload:{curPowers:r}}),t({type:"query"})):t(l.routerRedux.push({pathname:"/no-power"}))}})}},effects:{query:s["default"].mark(function p(e,t){var n,r,o=(e.payload,t.select),a=t.call,i=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"showLoading"});case 2:return e.next=4,o(function(e){var t=e.routing;return t.locationBeforeTransitions.query});case 4:return n=e.sent,e.next=7,a(u.query,n);case 7:if(r=e.sent,!r.success){e.next=11;break}return e.next=11,i({type:"querySuccess",payload:{list:r.list,pagination:r.page}});case 11:return e.next=13,i({type:"hideLoading"});case 13:case"end":return e.stop()}},p,this)}),"delete":s["default"].mark(function f(e,t){var n,r=e.payload,o=t.call,a=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,o(u.remove,{id:r});case 4:return n=e.sent,e.next=7,a({type:"hideLoading"});case 7:if(!n||!n.success){e.next=10;break}return e.next=10,a({type:"query"});case 10:case"end":return e.stop()}},f,this)}),create:s["default"].mark(function d(e,t){var n,r,o,i=e.payload,c=t.select,p=t.call,f=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({type:"modal/showLoading"});case 2:return e.next=4,p(u.create,i);case 4:return n=e.sent,e.next=7,f({type:"modal/hideLoading"});case 7:if(!n||!n.success){e.next=16;break}return e.next=10,f({type:"modal/hideModal"});case 10:return e.next=12,c(function(e){var t=e.routing;return t.locationBeforeTransitions.query});case 12:return r=e.sent,o=r.page,e.next=16,f(l.routerRedux.push({pathname:location.pathname,query:o?(0,a["default"])({},r,{page:1}):r}));case 16:case"end":return e.stop()}},d,this)}),update:s["default"].mark(function h(e,t){var n,r=e.payload,o=t.call,a=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"modal/showLoading"});case 2:return e.next=4,o(u.update,r);case 4:return n=e.sent,e.next=7,a({type:"modal/hideLoading"});case 7:if(!n||!n.success){e.next=12;break}return e.next=10,a({type:"modal/hideModal"});case 10:return e.next=12,a({type:"query"});case 12:case"end":return e.stop()}},h,this)}),updateStatus:s["default"].mark(function y(e,t){var n,r=e.payload,o=(t.select,t.call),i=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"showLoading"});case 2:return e.next=4,o(u.update,(0,a["default"])({},r,{status:!r.status}));case 4:return n=e.sent,e.next=7,i({type:"hideLoading"});case 7:if(!n||!n.success){e.next=10;break}return e.next=10,i({type:"query"});case 10:case"end":return e.stop()}},y,this)}),showModal:s["default"].mark(function m(e,t){var n,r,o,a,i=e.payload,l=(t.select,t.call),c=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.type,r=i.curItem,o={},e.next=4,c({type:"modal/showModal",payload:{loading:!0,type:n}});case 4:return e.next=6,l(u.get,{id:r.id});case 6:return a=e.sent,a&&a.success&&(o.curItem=a.data),e.next=10,c({type:"modal/hideLoading",payload:o});case 10:case"end":return e.stop()}},m,this)})},reducers:{showLoading:function(e){return(0,a["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,a["default"])({},e,{loading:!1})},querySuccess:function(e,t){return(0,a["default"])({},e,t.payload)}}},e.exports=t["default"]},715:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.location,n=e.curPowers,r=e.dispatch,o=e.accountUser,a=o.list,i=o.pagination,l=o.loading,p=t.query,f=p.field,h=p.keyword,m=(0,g.checkPower)(b.ADD,n),C=(0,g.checkPower)(b.UPDATE,n),w=(0,g.checkPower)(b.DELETE,n),x={dataSource:a,loading:l,pagination:i,location:t,updatePower:C,deletePower:w,onPageChange:function(e){var n=t.query,o=t.pathname;r(c.routerRedux.push({pathname:o,query:(0,s["default"])({},n,{current:e.current,pageSize:e.pageSize})}))},onDeleteItem:function(e){r({type:"accountUser/delete",payload:e})},onEditItem:function(e){r({type:"accountUser/showModal",payload:{type:"update",curItem:e}})},onStatusItem:function(e){r({type:"accountUser/updateStatus",payload:e})}},P={field:f,keyword:h,addPower:m,onSearch:function(e){var n=t.pathname;r(e.keyword2.length?c.routerRedux.push({pathname:n,query:(0,s["default"])({},e)}):c.routerRedux.push({pathname:n}))},onAdd:function(){r({type:"modal/showModal",payload:{type:"create"}})}},T=function(){return u["default"].createElement(v["default"],null)};return u["default"].createElement("div",{className:"content-inner"},u["default"].createElement(y["default"],P),u["default"].createElement(d["default"],x),u["default"].createElement(T,null))}function a(e){var t=e.accountUser;return{accountUser:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),l=n(1),u=r(l),c=n(37),p=n(62),f=n(677),d=r(f),h=n(679),y=r(h),m=n(678),v=r(m),g=n(13),b=n(74);o.propTypes={accountUser:l.PropTypes.object,location:l.PropTypes.object,dispatch:l.PropTypes.func},t["default"]=(0,p.connect)(a)(o),e.exports=t["default"]},721:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.update=t.remove=t.create=t.get=t.query=void 0;var o=n(44),a=r(o),i=n(155),s=r(i),l=(t.query=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-user/list",{method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.get=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/userItem",{method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.create=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/user",{method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/user",{method:"delete",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/api/user",{method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),n(13))},860:function(e,t){e.exports={table:"table___3kDC8",avatar:"avatar___F95IH",warning:"warning___2L3hr",danger:"danger___11Hsf"}},1219:function(e,t,n,r){"use strict";n(10),n(r),n(26)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYWNjb3VudC11c2VyLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvY2hlY2tib3gvaW5kZXguanM/MDc2ZioqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL3V0aWwuanM/NzE1MyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL3V0aWwuanM/MTNiOSoqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3NlbGVjdC9pbmRleC5qcz82ZWNkKioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvLmpzP2IyZGIqKioqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL2luZGV4LmpzPzUxYWIqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzP2U1NWUqKioqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW5zLmpzP2MxYjcqKioiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS11dGlscy9tYWluLmpzP2E5YmYqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9pbmRleC5qcz9lYzk2KioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzP2RlZDAqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcmFkaW8vcmFkaW9CdXR0b24uanM/MWMxNyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW5Hcm91cC5qcz9iNDcwKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLWNoZWNrYm94L2xpYi9pbmRleC5qcz9hM2JmKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXBhZ2luYXRpb24vbGliL0tleUNvZGUuanM/NzEzZCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04uanM/MTgzOCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9pbmRleC5qcz9iNWJmKioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL3N0eWxlL2luZGV4LmpzP2E3MzAqKioqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZS5qcz9lNjNkKioqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9lYXNpbmcuanM/MGM5MioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL29wdGlvbnMuanM/ZjE4MCoqKiIsIndlYnBhY2s6Ly8vLi9+L3JhZi9pbmRleC5qcz8wMTE3KioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2NoZWNrYm94L0dyb3VwLmpzP2I5MWMqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vZHJvcGRvd24tYnV0dG9uLmpzPzFjMTEqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vaW5kZXguanM/YTEwMioqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9tb2RhbC9Nb2RhbC5qcz8zZjk4KiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vTWluaVNlbGVjdC5qcz8yN2NkKioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vUGFnaW5hdGlvbi5qcz80NjhiKioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vaW5kZXguanM/YmUxZSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL3N0eWxlL2luZGV4LmpzPzY2YjYqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcmFkaW8vZ3JvdXAuanM/ODNjYSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yb3cvc3R5bGUvaW5kZXguanM/YjU4NioqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW4uanM/N2ZhNCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyLmpzPzJhOWMqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQm94LmpzPzM3ZjgqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQ2hlY2tib3hBbGwuanM/MWJkYyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9UYWJsZS5qcz9jZmUwKioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL2NyZWF0ZVN0b3JlLmpzP2ZjNzgqKioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvZmlsdGVyRHJvcGRvd24uanM/NTJhNyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS91dGlsLmpzPzZiMWUqKioqIiwid2VicGFjazovLy8uL34vZG9tLWNsb3Nlc3QvaW5kZXguanM/NDhkNCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9kb20tbWF0Y2hlcy9pbmRleC5qcz8wZjMzKioqKiIsIndlYnBhY2s6Ly8vLi9+L3BlcmZvcm1hbmNlLW5vdy9saWIvcGVyZm9ybWFuY2Utbm93LmpzP2I4YTMqKioqIiwid2VicGFjazovLy8uL34vcmMtY2hlY2tib3gvbGliL0NoZWNrYm94LmpzPzllNGEqKioqIiwid2VicGFjazovLy8uL34vcmMtZHJvcGRvd24vbGliL0Ryb3Bkb3duLmpzP2M5MzkqKioqIiwid2VicGFjazovLy8uL34vcmMtZHJvcGRvd24vbGliL2luZGV4LmpzPzgwNjAqKioqIiwid2VicGFjazovLy8uL34vcmMtZHJvcGRvd24vbGliL3BsYWNlbWVudHMuanM/YzYyYSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9PcHRpb25zLmpzP2FjYmUqKioqIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvUGFnZXIuanM/ZTQ0ZCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdpbmF0aW9uLmpzPzZlYmEqKioqIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvaW5kZXguanM/M2E5MSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1yYWRpby9saWIvUmFkaW8uanM/NzZmYSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1yYWRpby9saWIvaW5kZXguanM/OWRhYSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL0Ryb3Bkb3duTWVudS5qcz81MGM4KioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvRmlsdGVyTWl4aW4uanM/NTMyNSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL09wdEdyb3VwLmpzPzI4YjcqKioqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9PcHRpb24uanM/MjAwZCoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL1NlbGVjdC5qcz9jY2QzKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0VHJpZ2dlci5qcz81MTAxKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvaW5kZXguanM/NDBhNyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvQ29sdW1uLmpzPzA2ZDUqKioqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL0NvbHVtbkdyb3VwLmpzP2ZmMDMqKioqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL0NvbHVtbk1hbmFnZXIuanM/MjA4NSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvRXhwYW5kSWNvbi5qcz8yNWNlKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZS5qcz9hZTIyKioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUNlbGwuanM/YWVjZioqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvVGFibGVIZWFkZXIuanM/YTljZSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvVGFibGVSb3cuanM/ODNhNyoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvY3JlYXRlU3RvcmUuanM/MzU2MSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvdXRpbHMuanM/ZjliOSoqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy11dGlsL2xpYi9DaGlsZHJlbi90b0FycmF5LmpzPzNkNTEqKioqIiwid2VicGFjazovLy8uL34vcmMtdXRpbC9saWIvS2V5Q29kZS5qcz9jNjc2KioqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL21vZGFsL2luZGV4LmpzPzAzNmEqIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2guanM/M2NiMSoqKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGFibGVCb2R5V3JhcHBlci5qcz8zNTkyKioqIiwid2VicGFjazovLy8uL34vZGVlcC1lcWwvaW5kZXguanM/MzlkNyoqKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmxlc3M/MWIxNioqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvVGltZUxpbmUuanM/MGZlMSoqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvVHdlZW5PbmVHcm91cC5qcz81YWM4KioqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9pbmRleC5qcz85Njk5KioqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW4vU3R5bGVQbHVnaW4uanM/NDA1MCoqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvdGlja2VyLmpzP2M5OTgqKioiLCJ3ZWJwYWNrOi8vLy4vfi90d2Vlbi1mdW5jdGlvbnMvaW5kZXguanM/MGY1ZioqKiIsIndlYnBhY2s6Ly8vLi9+L3R5cGUtZGV0ZWN0L2luZGV4LmpzPzQ2MTIqKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9tb2RhbC9BY3Rpb25CdXR0b24uanM/ZWQwNCoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9tb2RhbC9jb25maXJtLmpzPzdhZWUqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvbW9kYWwvbG9jYWxlLmpzP2YwYjgqIiwid2VicGFjazovLy8uL34vcmMtZGlhbG9nL2xpYi9EaWFsb2cuanM/MzdhZSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kaWFsb2cvbGliL0RpYWxvZ1dyYXAuanM/MTdjYSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kaWFsb2cvbGliL0xhenlSZW5kZXJCb3guanM/ZjNmMSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kaWFsb2cvfi9yYy11dGlsL2xpYi9nZXRDb250YWluZXJSZW5kZXJNaXhpbi5qcz9iOTI4KiIsIndlYnBhY2s6Ly8vLi9+L3JjLWRpYWxvZy9+L3JjLXV0aWwvbGliL2dldFNjcm9sbEJhclNpemUuanM/MDlmYSoiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9wb3Bjb25maXJtL2luZGV4LmpzPzU5Y2YqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcG9wY29uZmlybS9zdHlsZS9pbmRleC5qcz82YzhkKiIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXRpbHNWYWxpZC5qcz9hY2FlIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvdXNlci9MaXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvdXNlci9Nb2RhbEZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYWNjb3VudC91c2VyL1NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2FjY291bnQvdXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL2FjY291bnQvVXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYWNjb3VudC91c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvdXNlci9MaXN0Lmxlc3MiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9zdHlsZS9pbmRleC5qcz9kZGQ2KioqKiJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIxOCIsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIl9leHRlbmRzMiIsIl9leHRlbmRzMyIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJfZGVmaW5lUHJvcGVydHkzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMyIiwiX2luaGVyaXRzMyIsIl9yY0NoZWNrYm94IiwiX3JjQ2hlY2tib3gyIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9Hcm91cCIsIl9Hcm91cDIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsIl9QdXJlUmVuZGVyTWl4aW4iLCJfUHVyZVJlbmRlck1peGluMiIsIl9fcmVzdCIsInMiLCJlIiwidCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiaSIsImxlbmd0aCIsIkNoZWNrYm94IiwiX1JlYWN0JENvbXBvbmVudCIsInRoaXMiLCJhcHBseSIsImFyZ3VtZW50cyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIl9sZW4iLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwicmVuZGVyIiwiX2EiLCJwcm9wcyIsInByZWZpeENscyIsInN0eWxlIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJpbmRldGVybWluYXRlIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwicmVzdFByb3BzIiwiY2xhc3NTdHJpbmciLCJjaGVja2JveENsYXNzIiwiY3JlYXRlRWxlbWVudCIsIkNvbXBvbmVudCIsIkdyb3VwIiwiZGVmYXVsdFByb3BzIiwiMjEiLCJnZXRWYWx1ZVByb3BWYWx1ZSIsImNoaWxkIiwia2V5IiwiRXJyb3IiLCJnZXRQcm9wVmFsdWUiLCJwcm9wIiwiaXNDb21ib2JveCIsImNvbWJvYm94IiwiaXNNdWx0aXBsZU9yVGFncyIsIm11bHRpcGxlIiwidGFncyIsImlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94IiwiaXNTaW5nbGVNb2RlIiwidG9BcnJheSIsInJldCIsImlzQXJyYXkiLCJwcmV2ZW50RGVmYXVsdEV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmaW5kSW5kZXhJblZhbHVlQnlLZXkiLCJpbmRleCIsImZpbmRJbmRleEluVmFsdWVCeUxhYmVsIiwibGFiZWwiLCJqb2luIiwiZ2V0U2VsZWN0S2V5cyIsIm1lbnVJdGVtcyIsInNlbGVjdGVkS2V5cyIsIkNoaWxkcmVuIiwiZm9yRWFjaCIsIml0ZW0iLCJ0eXBlIiwiaXNNZW51SXRlbUdyb3VwIiwiY29uY2F0IiwiaXRlbVZhbHVlIiwiaXRlbUtleSIsInB1c2giLCJmaW5kRmlyc3RNZW51SXRlbSIsImZvdW5kIiwiZGlzYWJsZWQiLCJpbmNsdWRlc1NlcGFyYXRvcnMiLCJzdHJpbmciLCJzZXBhcmF0b3JzIiwibGFzdEluZGV4T2YiLCJzcGxpdEJ5U2VwYXJhdG9ycyIsInJlZyIsIlJlZ0V4cCIsImFycmF5Iiwic3BsaXQiLCJzaGlmdCIsInBvcCIsIlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUiLCJVTlNFTEVDVEFCTEVfU1RZTEUiLCJ1c2VyU2VsZWN0IiwiV2Via2l0VXNlclNlbGVjdCIsInVuc2VsZWN0YWJsZSIsIjIyIiwidG9BcnJheUNoaWxkcmVuIiwiYyIsImRhdGFUb0FycmF5IiwidmFycyIsIm9iamVjdEVxdWFsIiwib2JqMSIsIm9iajIiLCJfZGVlcEVxbDIiLCJlcXVhbEJvb2wiLCJjdXJyZW50T2JqIiwibmV4dE9iaiIsIl90eXBlb2YiLCJuYW1lIiwic2V0RXF1YWxCb29sIiwib2JqQSIsIm9iakIiLCJrZXlzIiwiZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5IiwibWVyZ2VDaGlsZHJlbiIsInByZXYiLCJuZXh0IiwibmV4dENoaWxkcmVuUGVuZGluZyIsInBlbmRpbmdDaGlsZHJlbiIsImZvbGxvd0NoaWxkcmVuS2V5IiwidHJhbnNmb3JtQXJndW1lbnRzIiwiYXJnIiwicmVzdWx0IiwiZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMiLCJzdGFydENvbnZlcnRUb0VuZFVuaXQiLCJ0YXJnZXQiLCJudW0iLCJ1bml0IiwiZGF0YVVuaXQiLCJmaXhlZCIsImlzT3JpZ2luV2lkdGgiLCJob3JpeiIsInRlc3QiLCJwYXJlbnROb2RlIiwiZG9jdW1lbnQiLCJib2R5IiwicGl4IiwicGFyc2VGbG9hdCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwibWF0Y2giLCJwYXJzZVBhdGgiLCJwYXRoIiwiY2hhckF0IiwiZG9tUGF0aCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZU5TIiwicXVlcnlTZWxlY3RvciIsImdldFRyYW5zZm9ybVZhbHVlIiwic3VwcG9ydHMzRCIsInBlcnNwZWN0aXZlIiwiYW5nbGUiLCJyb3RhdGUiLCJyb3RhdGVYIiwicm90YXRlWSIsInN4Iiwic2NhbGVYIiwic3kiLCJzY2FsZVkiLCJzeiIsInNjYWxlWiIsInNreCIsInNrZXdYIiwic2t5Iiwic2tld1kiLCJ4UGVyY2VudCIsInlQZXJjZW50IiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJ0cmFuc2xhdGVaIiwicGVyY2VudCIsInNrIiwiYW4iLCJzcyIsInRyYW5zbGF0ZSIsInJYIiwiclkiLCJwZXIiLCJ0cmFuc2xhdGUzZCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfZGVlcEVxbCIsIjI3IiwiX3JjU2VsZWN0IiwiX3JjU2VsZWN0MiIsIlNlbGVjdCIsIl9jbGFzc05hbWVzIiwiX3Byb3BzIiwiX3Byb3BzJGNsYXNzTmFtZSIsInNpemUiLCJfcHJvcHMyIiwiX3Byb3BzMiRub3RGb3VuZENvbnRlIiwibm90Rm91bmRDb250ZW50Iiwib3B0aW9uTGFiZWxQcm9wIiwiY2xzIiwiYW50TG9jYWxlIiwiY29udGV4dCIsIk9wdGlvbiIsIk9wdEdyb3VwIiwic2hvd1NlYXJjaCIsInRyYW5zaXRpb25OYW1lIiwiY2hvaWNlVHJhbnNpdGlvbk5hbWUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJvbmVPZiIsImJvb2wiLCJhbnkiLCIzMCIsIl9yY1JhZGlvIiwiX3JjUmFkaW8yIiwiUmFkaW8iLCJfY2xhc3NOYW1lczIiLCJjaGVja2VkIiwid3JhcHBlckNsYXNzU3RyaW5nIiwiMzEiLCJUYWJsZSIsIkNvbHVtbiIsIkNvbHVtbkdyb3VwIiwiMzUiLCIzOSIsIlBsdWdpbnMiLCJwbHVnaW4iLCI0MSIsInByZWZpeEtleSIsInByZWZpeCIsInRvVXBwZXJDYXNlIiwic3Vic3RyaW5nIiwidG9GaXhlZCIsIl9ybmQiLCJNYXRoIiwicG93Iiwicm5kIiwibiIsImRlYyIsImNyZWF0ZU1hdHJpeCIsIndpbmRvdyIsIldlYktpdENTU01hdHJpeCIsIk1vekNTU01hdHJpeCIsIkRPTU1hdHJpeCIsIk1zQ1NTTWF0cml4IiwiT0NTU01hdHJpeCIsIkNTU01hdHJpeCIsImNoZWNrU3R5bGVOYW1lIiwiYSIsIl9wIiwic3Vic3RyIiwicHJlZml4Q3NzIiwiZmlsdGVyIiwiZ2V0R3NhcFR5cGUiLCJwYXJzZUNvbG9yIiwiX3YiLCJyIiwiZyIsImIiLCJoIiwibCIsInYiLCJfbnVtRXhwIiwiY29sb3JMb29rdXAiLCJwYXJzZUludCIsIk51bWJlciIsIl9odWUiLCJ0cmFuc3BhcmVudCIsImJsYWNrIiwicGFyc2VTaGFkb3ciLCJpbnNldCIsInJlcGxhY2UiLCJ0cmltIiwic3BsaWNlIiwidkFyciIsImNvbG9yIiwiZ2V0Q29sb3IiLCJyZ2JhIiwiX3ZhcnMiLCJtYXAiLCJkIiwicm91bmQiLCJpc1RyYW5zZm9ybSIsImNzc0xpc3QiLCJfbGlzdHMiLCJ0cmFuc2Zvcm1zQmFzZSIsImlzQ29udmVydCIsImNzc05hbWUiLCJzcGxpdEZpbHRlclRvT2JqZWN0IiwiZGF0YSIsInN0YXJ0RGF0YSIsImRhdGFBcnIiLCJnZXRNYXRyaXgiLCJhcnIiLCJtIiwibTExIiwibTEyIiwibTEzIiwibTE0IiwibTIxIiwibTIyIiwibTIzIiwibTI0IiwibTMxIiwibTMyIiwibTMzIiwibTM0IiwibTQxIiwibTQyIiwibTQzIiwibTQ0IiwiaWkiLCJqIiwiZmxvb3IiLCJnZXRUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJfdHJhbnNmb3JtIiwidDEiLCJ0MiIsInQzIiwidG0iLCJhc2luIiwiUkFEMkRFRyIsIkRFRzJSQUQiLCJ0YW4iLCJjb3MiLCJzaW4iLCJhdGFuMiIsImFicyIsInNxcnQiLCJzdHlsZXNUb0NzcyIsIl92YWx1ZSIsImlzVW5pdGxlc3NOdW1iZXIiLCJ1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4IiwiZ2V0VW5pdCIsImN1cnJlbnRVbml0IiwidG9TdHJpbmciLCJnZXRWYWx1ZXMiLCJ1IiwiZmluZFN0eWxlQnlOYW1lIiwiY3NzQXJyYXkiLCJfY25hbWUiLCJjTmFtZSIsInRyYW5zZm9ybUdyb3VwIiwibWVyZ2VTdHlsZSIsImN1cnJlbnQiLCJjaGFuZ2UiLCJfY3VycmVudCIsIl9jaGFuZ2UiLCJjaGFuZ2VPbmx5IiwiY2hhbmdlQXJyIiwiY2hhbmdlTmFtZSIsImN1cnJlbnRTYW1lIiwidW5zaGlmdCIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYm9yZGVySW1hZ2VPdXRzZXQiLCJib3JkZXJJbWFnZVNsaWNlIiwiYm9yZGVySW1hZ2VXaWR0aCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJncmlkUm93IiwiZ3JpZENvbHVtbiIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInRhYlNpemUiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmlsbE9wYWNpdHkiLCJmbG9vZE9wYWNpdHkiLCJzdG9wT3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwicHJlZml4ZXMiLCJJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImFxdWEiLCJsaW1lIiwic2lsdmVyIiwibWFyb29uIiwidGVhbCIsImJsdWUiLCJuYXZ5Iiwid2hpdGUiLCJmdWNoc2lhIiwib2xpdmUiLCJ5ZWxsb3ciLCJvcmFuZ2UiLCJncmF5IiwicHVycGxlIiwiZ3JlZW4iLCJyZWQiLCJwaW5rIiwiY3lhbiIsImhoIiwibTEiLCJtMiIsIlBJIiwidHJhbnNmb3JtczNEIiwic2NhbGUiLCJzY2FsZTNkIiwicm90YXRlM2QiLCJmaWx0ZXJDb252ZXJ0IiwiZ3JheVNjYWxlIiwiaHVlUm90YXRlIiwiNDIiLCJCdXR0b24iLCJfcmFkaW8iLCJfcmFkaW8yIiwiX2dyb3VwIiwiX2dyb3VwMiIsIl9yYWRpb0J1dHRvbiIsIl9yYWRpb0J1dHRvbjIiLCI0NiIsIl9yY0Ryb3Bkb3duIiwiX3JjRHJvcGRvd24yIiwiRHJvcGRvd24iLCJnZXRUcmFuc2l0aW9uTmFtZSIsIl9wcm9wcyRwbGFjZW1lbnQiLCJwbGFjZW1lbnQiLCJkcm9wZG93blRyaWdnZXIiLCJjbG9uZUVsZW1lbnQiLCJtb3VzZUVudGVyRGVsYXkiLCJtb3VzZUxlYXZlRGVsYXkiLCI0NyIsIlJhZGlvQnV0dG9uIiwiNDgiLCJfcmNUYWJsZSIsIl9yY1RhYmxlMiIsIl9SY1RhYmxlJENvbHVtbkdyb3VwIiwiNTEiLCI1MiIsIlpFUk8iLCJOSU5FIiwiTlVNUEFEX1pFUk8iLCJOVU1QQURfTklORSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsIkVOVEVSIiwiQVJST1dfVVAiLCJBUlJPV19ET1dOIiwiNTMiLCJpdGVtc19wZXJfcGFnZSIsImp1bXBfdG8iLCJwYWdlIiwicHJldl9wYWdlIiwibmV4dF9wYWdlIiwicHJldl81IiwibmV4dF81IiwicHJldl8zIiwibmV4dF8zIiwiNjAiLCJfVGFibGUiLCJfVGFibGUyIiwiNjEiLCI2NSIsIl9kZWZhdWx0cyIsImRlZmF1bHRzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwibm9vcCIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiX3JlYWN0RG9tIiwiX3JlYWN0RG9tMiIsIl91dGlsIiwiX3N0eWxlVXRpbHMiLCJfVGltZUxpbmUiLCJfVGltZUxpbmUyIiwiX3BsdWdpbnMiLCJfcGx1Z2luczIiLCJfdGlja2VyIiwiX3RpY2tlcjIiLCJwZXJGcmFtZSIsIlR3ZWVuT25lIiwiX0NvbXBvbmVudCIsIl90aGlzIiwicmVzdGFydCIsInN0YXJ0TW9tZW50IiwidGltZUxpbmUiLCJwcm9ncmVzc1RpbWUiLCJzdGFydEZyYW1lIiwiZnJhbWUiLCJwbGF5Iiwic3RhcnQiLCJhbmltYXRpb24iLCJkb20iLCJhdHRyIiwid2lsbENoYW5nZSIsInJhZiIsImNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhdXNlZCIsInJhZklEIiwiYWRkIiwiZGF0ZSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJNb21lbnQiLCJtb21lbnQiLCJyZXZlcnNlIiwidG90YWxUaW1lIiwicmVzZXREZWZhdWx0U3R5bGUiLCJvbkNoYW5nZSIsImNsZWFyIiwibmV3TW9tZW50QW5pbSIsImNvbXBvbmVudERpZE1vdW50IiwiZmluZERPTU5vZGUiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiX3RoaXMyIiwibmV3TW9tZW50IiwicmVzZXRBbmltRGF0YSIsInNldEF0dHJpYnV0ZSIsIm5ld0FuaW1hdGlvbiIsImN1cnJlbnRBbmltYXRpb24iLCJlcXVhbCIsInN0eWxlRXF1YWwiLCJyZXN0YXJ0QW5pbSIsInJlc2V0U3R5bGVCb29sIiwicmV2ZXJzZURlbGF5IiwidGltZW91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50IiwiY29tcG9uZW50UmVwbGFjZSIsIm9iamVjdE9yQXJyYXkiLCJvbmVPZlR5cGUiLCJvYmplY3QiLCJudW1iZXIiLCJmdW5jIiwicGx1Z2lucyIsIjY2IiwiX3R3ZWVuRnVuY3Rpb25zIiwiX3R3ZWVuRnVuY3Rpb25zMiIsIl9wYXRoIiwiX3BhcmFtIiwicGFyYW0iLCJwYXRoTm9kZSIsInBhdGhMZW5ndGgiLCJnZXRUb3RhbExlbmd0aCIsInJlY3QiLCJsZW5ndGhQaXhlbCIsInBvaW50cyIsImdldFBvaW50QXRMZW5ndGgiLCJfYyIsImxpbmVhciIsInRpbWVQb2ludFgiLCJwb2ludCIsIngiLCJ5IiwiNzEiLCI3MiIsIjc0IiwiTUVOVSIsIkRFVEFJTCIsIkFERCIsIlVQREFURSIsIkNIRUNLIiwiVVBMT0FEIiwiNzYiLCJnbG9iYWwiLCJub3ciLCJyb290IiwidmVuZG9ycyIsInN1ZmZpeCIsImNhZiIsImxhc3QiLCJpZCIsInF1ZXVlIiwiZnJhbWVEdXJhdGlvbiIsImNhbGxiYWNrIiwiX25vdyIsIm1heCIsInNldFRpbWVvdXQiLCJjcCIsInNsaWNlIiwiY2FuY2VsbGVkIiwiaGFuZGxlIiwiZm4iLCJjYW5jZWwiLCJwb2x5ZmlsbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiODIiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9pbmRleCIsIl9pbmRleDIiLCJDaGVja2JveEdyb3VwIiwidG9nZ2xlT3B0aW9uIiwib3B0aW9uIiwib3B0aW9uSW5kZXgiLCJzdGF0ZSIsInNldFN0YXRlIiwiZGVmYXVsdFZhbHVlIiwiZ2V0T3B0aW9ucyIsIm9wdGlvbnMiLCJpc1JlcXVpcmVkIiwiODMiLCJfYnV0dG9uIiwiX2J1dHRvbjIiLCJfaWNvbiIsIl9pY29uMiIsIl9kcm9wZG93biIsIl9kcm9wZG93bjIiLCJCdXR0b25Hcm91cCIsIkRyb3Bkb3duQnV0dG9uIiwib3ZlcmxheSIsInRyaWdnZXIiLCJhbGlnbiIsIm9uQ2xpY2siLCJ2aXNpYmxlIiwib25WaXNpYmxlQ2hhbmdlIiwiZHJvcGRvd25Qcm9wcyIsImFkanVzdFgiLCJhZGp1c3RZIiwib2Zmc2V0IiwidGFyZ2V0T2Zmc2V0IiwiODQiLCJfZHJvcGRvd25CdXR0b24iLCJfZHJvcGRvd25CdXR0b24yIiwiODUiLCI4OCIsIl9yY0RpYWxvZyIsIl9yY0RpYWxvZzIiLCJfYWRkRXZlbnRMaXN0ZW5lciIsIl9hZGRFdmVudExpc3RlbmVyMiIsIm1vdXNlUG9zaXRpb24iLCJtb3VzZVBvc2l0aW9uRXZlbnRCaW5kZWQiLCJNb2RhbCIsImhhbmRsZUNhbmNlbCIsIm9uQ2FuY2VsIiwiaGFuZGxlT2siLCJvbk9rIiwiZG9jdW1lbnRFbGVtZW50IiwicGFnZVgiLCJwYWdlWSIsIm9rVGV4dCIsImNhbmNlbFRleHQiLCJjb25maXJtTG9hZGluZyIsImZvb3RlciIsImRlZmF1bHRGb290ZXIiLCJsb2FkaW5nIiwib25DbG9zZSIsIndpZHRoIiwibWFza1RyYW5zaXRpb25OYW1lIiwibm9kZSIsInRpdGxlIiwiY2xvc2FibGUiLCJjb250ZXh0VHlwZXMiLCI4OSIsIl9zZWxlY3QiLCJfc2VsZWN0MiIsIk1pbmlTZWxlY3QiLCI5MCIsIl9yY1BhZ2luYXRpb24iLCJfcmNQYWdpbmF0aW9uMiIsIl9NaW5pU2VsZWN0IiwiX01pbmlTZWxlY3QyIiwiX3poX0NOIiwiX3poX0NOMiIsIlBhZ2luYXRpb24iLCJzZWxlY3RDb21wb25lbnRDbGFzcyIsImxvY2FsZSIsInNlbGVjdFByZWZpeENscyIsIjkxIiwiX1BhZ2luYXRpb24iLCJfUGFnaW5hdGlvbjIiLCI5MiIsIjkzIiwiZ2V0Q2hlY2tlZFZhbHVlIiwibWF0Y2hlZCIsInJhZGlvIiwiX29iamVjdEFzc2lnbiIsIl9vYmplY3RBc3NpZ24yIiwiUmFkaW9Hcm91cCIsIm9uUmFkaW9DaGFuZ2UiLCJldiIsImxhc3RWYWx1ZSIsImNoZWNrZWRWYWx1ZSIsIl9wcm9wcyRwcmVmaXhDbHMiLCI5NCIsIjk1IiwiX1JjVGFibGUkQ29sdW1uIiwiOTYiLCI5NyIsIl9jaGVja2JveCIsIl9jaGVja2JveDIiLCJTZWxlY3Rpb25Cb3giLCJnZXRDaGVja1N0YXRlIiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzdG9yZSIsImRlZmF1bHRTZWxlY3Rpb24iLCJyb3dJbmRleCIsImdldFN0YXRlIiwic2VsZWN0aW9uRGlydHkiLCJzZWxlY3RlZFJvd0tleXMiLCI5OCIsIlNlbGVjdGlvbkNoZWNrYm94QWxsIiwiZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlIiwic2V0Q2hlY2tTdGF0ZSIsImNoZWNrU2VsZWN0aW9uIiwiYnlEZWZhdWx0Q2hlY2tlZCIsImdldENoZWNrYm94UHJvcHNCeUl0ZW0iLCJnZXRSZWNvcmRLZXkiLCJkZWZhdWx0Q2hlY2tlZCIsIl9zdGF0ZSIsIjk5Iiwic3RvcFByb3BhZ2F0aW9uIiwibmF0aXZlRXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfdHlwZW9mMiIsIl90eXBlb2YzIiwiX2ZpbHRlckRyb3Bkb3duIiwiX2ZpbHRlckRyb3Bkb3duMiIsIl9wYWdpbmF0aW9uIiwiX3BhZ2luYXRpb24yIiwiX3NwaW4iLCJfc3BpbjIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsIl9jcmVhdGVTdG9yZSIsIl9jcmVhdGVTdG9yZTIiLCJfU2VsZWN0aW9uQm94IiwiX1NlbGVjdGlvbkJveDIiLCJfU2VsZWN0aW9uQ2hlY2tib3hBbGwiLCJfU2VsZWN0aW9uQ2hlY2tib3hBbGwyIiwiX0NvbHVtbiIsIl9Db2x1bW4yIiwiX0NvbHVtbkdyb3VwIiwiX0NvbHVtbkdyb3VwMiIsIl9fYXNzaWduIiwiZGVmYXVsdExvY2FsZSIsImZpbHRlclRpdGxlIiwiZmlsdGVyQ29uZmlybSIsImZpbHRlclJlc2V0IiwiZW1wdHlUZXh0IiwiZGVmYXVsdFBhZ2luYXRpb24iLCJvblNob3dTaXplQ2hhbmdlIiwiX3RoaXMkcHJvcHMkcm93U2VsZWN0Iiwicm93U2VsZWN0aW9uIiwiZ2V0Q2hlY2tib3hQcm9wcyIsIkNoZWNrYm94UHJvcHNDYWNoZSIsImhhbmRsZUZpbHRlciIsImNvbHVtbiIsIm5leHRGaWx0ZXJzIiwicGFnaW5hdGlvbiIsImZpbHRlcnMiLCJnZXRDb2x1bW5LZXkiLCJjdXJyZW50Q29sdW1uS2V5cyIsInRyZWVNYXAiLCJjb2x1bW5zIiwiY29sdW1uS2V5IiwibmV3U3RhdGUiLCJmaWx0ZXJzVG9TZXRTdGF0ZSIsImdldEZpbHRlcmVkVmFsdWVDb2x1bW5zIiwiY29sIiwicHJlcGFyZVBhcmFtc0FyZ3VtZW50cyIsImhhbmRsZVNlbGVjdCIsInJlY29yZCIsImdldERlZmF1bHRTZWxlY3Rpb24iLCJzZXRTZWxlY3RlZFJvd0tleXMiLCJzZWxlY3RXYXkiLCJoYW5kbGVSYWRpb1NlbGVjdCIsImhhbmRsZVNlbGVjdEFsbFJvdyIsImdldEZsYXRDdXJyZW50UGFnZURhdGEiLCJjaGFuZ2FibGVSb3dLZXlzIiwiY2hhbmdlUm93S2V5cyIsImhhbmRsZVBhZ2VDaGFuZ2UiLCJvdGhlckFyZ3VtZW50cyIsInJlbmRlclNlbGVjdGlvbkJveCIsIl8iLCJoYW5kbGVDaGFuZ2UiLCJyb3dLZXkiLCJyZWNvcmRLZXkiLCJoYW5kbGVTaG93U2l6ZUNoYW5nZSIsInBhZ2VTaXplIiwibmV4dFBhZ2luYXRpb24iLCJub3JtYWxpemVDb2x1bW5zIiwiZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMiLCJnZXRGaWx0ZXJzRnJvbUNvbHVtbnMiLCJnZXREZWZhdWx0UGFnaW5hdGlvbiIsIl9wcm9wcyRyb3dTZWxlY3Rpb24iLCJnZXRGbGF0RGF0YSIsImhhc1BhZ2luYXRpb24iLCJkZWZhdWx0Q3VycmVudCIsImRlZmF1bHRQYWdlU2l6ZSIsImdldExvY2FsZSIsInByZXZpb3VzU3RhdGUiLCJuZXdQYWdpbmF0aW9uIiwiZGF0YVNvdXJjZSIsImdldFNvcnRPcmRlckNvbHVtbnMiLCJzb3J0U3RhdGUiLCJzb3J0Q29sdW1uIiwic29ydE9yZGVyIiwiZmlsdGVyZWRWYWx1ZUNvbHVtbnMiLCJmaWx0ZXJzRnJvbUNvbHVtbnMiLCJuZXdGaWx0ZXJzIiwiaXNGaWx0ZXJzQ2hhbmdlZCIsIl9yZWYiLCJfdGhpczMiLCJfcHJvcHMkcm93U2VsZWN0aW9uMiIsInNlbGVjdGVkUm93cyIsInJvdyIsIm9uU2VsZWN0Iiwib25TZWxlY3RBbGwiLCJjaGFuZ2VSb3dzIiwiX3RoaXM0IiwiZmlsdGVyc0NoYW5nZWQiLCJmaWx0ZXJlZFZhbHVlIiwiX3RoaXM1Iiwic29ydGVkQ29sdW1uIiwiZ2V0U29ydGVyRm4iLCJzb3J0ZXIiLCJ0b2dnbGVTb3J0T3JkZXIiLCJfc3RhdGUyIiwiaXNTb3J0Q29sdW1uIiwicmVuZGVyUm93U2VsZWN0aW9uIiwiX3RoaXM2Iiwic2VsZWN0aW9uQ29sdW1uIiwiY2hlY2tib3hBbGxEaXNhYmxlZCIsImV2ZXJ5Iiwic29tZSIsImRhdGFJbmRleCIsImdldE1heEN1cnJlbnQiLCJ0b3RhbCIsIl9zdGF0ZSRwYWdpbmF0aW9uIiwicmVuZGVyQ29sdW1uc0Ryb3Bkb3duIiwiX3RoaXM3IiwiZHJvcGRvd25QcmVmaXhDbHMiLCJvcmlnaW5Db2x1bW4iLCJmaWx0ZXJEcm9wZG93biIsInNvcnRCdXR0b24iLCJjb2xGaWx0ZXJzIiwiY29uZmlybUZpbHRlciIsImlzQXNjZW5kIiwiaXNEZXNjZW5kIiwicmVuZGVyUGFnaW5hdGlvbiIsImdldExvY2FsRGF0YSIsImZpZWxkIiwiZmluZENvbHVtbiIsIm15S2V5IiwiX3RoaXM4IiwiZ2V0Q3VycmVudFBhZ2VEYXRhIiwiTUFYX1ZBTFVFIiwiZmxhdEFycmF5IiwicmVjdXJzaXZlU29ydCIsInNvcnRlckZuIiwiX3RoaXM5IiwiX3Byb3BzJGNoaWxkcmVuQ29sdW1uIiwiY2hpbGRyZW5Db2x1bW5OYW1lIiwic29ydCIsIl90aGlzMTAiLCJ2YWx1ZXMiLCJvbkZpbHRlciIsIl90aGlzMTEiLCJzaG93SGVhZGVyIiwiZXhwYW5kSWNvbkFzQ2VsbCIsImV4cGFuZGVkUm93UmVuZGVyIiwiYm9yZGVyZWQiLCJuZXdDb2x1bW4iLCJleHBhbmRJY29uQ29sdW1uSW5kZXgiLCJ0YWJsZSIsInBhZ2luYXRpb25QYXRjaENsYXNzIiwic3Bpbm5pbmciLCJ1c2VGaXhlZEhlYWRlciIsImluZGVudFNpemUiLCIxMDAiLCJjcmVhdGVTdG9yZSIsImluaXRpYWxTdGF0ZSIsInBhcnRpYWwiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsIjEwMSIsIl9yY01lbnUiLCJfcmNNZW51MiIsIl9kb21DbG9zZXN0IiwiX2RvbUNsb3Nlc3QyIiwiX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIiLCJfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjIiLCJGaWx0ZXJNZW51Iiwic2V0U2VsZWN0ZWRLZXlzIiwiaGFuZGxlQ2xlYXJGaWx0ZXJzIiwiaGFuZGxlQ29uZmlybSIsInNldFZpc2libGUiLCJoYW5kbGVNZW51SXRlbUNsaWNrIiwiaW5mbyIsImtleVBhdGgiLCJrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0iLCJmaWx0ZXJEcm9wZG93blZpc2libGUiLCJyb290Tm9kZSIsImZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSIsIm5ldmVyU2hvd24iLCJvbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSIsInJlbmRlck1lbnVJdGVtIiwiZmlsdGVyTXVsdGlwbGUiLCJpbnB1dCIsIkl0ZW0iLCJ0ZXh0IiwiaGFzU3ViTWVudSIsIl9wcm9wcyRjb2x1bW4kZmlsdGVycyIsInJlbmRlck1lbnVzIiwiaXRlbXMiLCJjb250YWluU2VsZWN0ZWQiLCJzdWJNZW51Q2xzIiwiU3ViTWVudSIsImRyb3Bkb3duTWVudUNsYXNzIiwibWVudXMiLCJvbkRlc2VsZWN0IiwiZHJvcGRvd25TZWxlY3RlZENsYXNzIiwiMTAyIiwiY2hpbGRyZW5OYW1lIiwibG9vcCIsIm5ld0l0ZW0iLCJ0cmVlIiwibWFwcGVyIiwiZXh0cmEiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsIjEwNSIsIm1hdGNoZXMiLCJzZWxlY3RvciIsIjEwNiIsImVsZW0iLCJwcm90byIsIkVsZW1lbnQiLCJuYXRpdmVNYXRjaGVzIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibm9kZVR5cGUiLCJwYXJlbnRFbGVtIiwibm9kZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuIiwiMTA3IiwiMTA4IiwiMTEwIiwiMTExIiwiMTEyIiwiMTEzIiwiMTE1IiwicHJvY2VzcyIsImdldE5hbm9TZWNvbmRzIiwiaHJ0aW1lIiwibG9hZFRpbWUiLCJwZXJmb3JtYW5jZSIsImhyIiwiRGF0ZSIsImdldFRpbWUiLCIxMTYiLCJfZGVmaW5lUHJvcGVydHkiLCJoYW5kbGVGb2N1cyIsImZvY3VzIiwib25Gb2N1cyIsImhhbmRsZUJsdXIiLCJvbkJsdXIiLCJyZWFkT25seSIsInRhYkluZGV4IiwiMTE3IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX3JjVHJpZ2dlciIsIl9yY1RyaWdnZXIyIiwiX3BsYWNlbWVudHMiLCJfcGxhY2VtZW50czIiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwibWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyIiwib3ZlcmxheUNsYXNzTmFtZSIsIm92ZXJsYXlTdHlsZSIsInNob3dBY3Rpb24iLCJoaWRlQWN0aW9uIiwiZ2V0UG9wdXBDb250YWluZXIiLCJnZXREZWZhdWx0UHJvcHMiLCJkZWZhdWx0VmlzaWJsZSIsImdldEluaXRpYWxTdGF0ZSIsIm92ZXJsYXlQcm9wcyIsImdldE1lbnVFbGVtZW50IiwiZ2V0UG9wdXBEb21Ob2RlIiwicmVmcyIsImFmdGVyVmlzaWJsZUNoYW5nZSIsIm92ZXJsYXlOb2RlIiwib2Zmc2V0V2lkdGgiLCJvdGhlclByb3BzIiwicmVmIiwicG9wdXBDbGFzc05hbWUiLCJwb3B1cFN0eWxlIiwiYnVpbHRpblBsYWNlbWVudHMiLCJhY3Rpb24iLCJwb3B1cFBsYWNlbWVudCIsInBvcHVwQWxpZ24iLCJwb3B1cFRyYW5zaXRpb25OYW1lIiwicG9wdXBBbmltYXRpb24iLCJwb3B1cFZpc2libGUiLCJhZnRlclBvcHVwVmlzaWJsZUNoYW5nZSIsInBvcHVwIiwib25Qb3B1cFZpc2libGVDaGFuZ2UiLCIxMTgiLCJfRHJvcGRvd24iLCJfRHJvcGRvd24yIiwiMTE5IiwiYXV0b0FkanVzdE92ZXJmbG93IiwicGxhY2VtZW50cyIsInRvcExlZnQiLCJvdmVyZmxvdyIsInRvcENlbnRlciIsInRvcFJpZ2h0IiwiYm90dG9tTGVmdCIsImJvdHRvbUNlbnRlciIsImJvdHRvbVJpZ2h0IiwiMTIwIiwiUmVhY3QiLCJLRVlDT0RFIiwiT3B0aW9ucyIsIm1ldGhvZCIsImJpbmQiLCJfYnVpbGRPcHRpb25UZXh0IiwiX2NoYW5nZVNpemUiLCJjaGFuZ2VTaXplIiwiX2hhbmRsZUNoYW5nZSIsImV2dCIsIl92YWwiLCJfZ28iLCJ2YWwiLCJpc05hTiIsImtleUNvZGUiLCJxdWlja0dvIiwicm9vdFByZWZpeENscyIsImJ1aWxkT3B0aW9uVGV4dCIsImNoYW5nZVNlbGVjdCIsImdvSW5wdXQiLCJwYWdlU2l6ZU9wdGlvbnMiLCJvcHQiLCJkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGgiLCJvbktleVVwIiwiYXJyYXlPZiIsIjEyMSIsIlBhZ2VyIiwiYWN0aXZlIiwiMTIyIiwiTE9DQUxFIiwiaGFzT25DaGFuZ2UiLCJoYXNDdXJyZW50IiwiY29uc29sZSIsIndhcm4iLCJuZXdDdXJyZW50IiwiX2NhbGNQYWdlIiwiX2lzVmFsaWQiLCJfaGFuZGxlS2V5RG93biIsIl9oYW5kbGVLZXlVcCIsIl9jaGFuZ2VQYWdlU2l6ZSIsIl9wcmV2IiwiX2hhc1ByZXYiLCJfbmV4dCIsIl9oYXNOZXh0IiwiX2p1bXBQcmV2Iiwic2hvd0xlc3NJdGVtcyIsIl9qdW1wTmV4dCIsIm1pbiIsImFsbFBhZ2VzIiwicGFnZXJMaXN0IiwianVtcFByZXYiLCJqdW1wTmV4dCIsImZpcnN0UGFnZXIiLCJsYXN0UGFnZXIiLCJwYWdlQnVmZmVyU2l6ZSIsInNpbXBsZSIsIm9uS2V5RG93biIsImxlZnQiLCJyaWdodCIsIl9pIiwiX2FjdGl2ZSIsInRvdGFsVGV4dCIsInNob3dUb3RhbCIsInNob3dTaXplQ2hhbmdlciIsInNob3dRdWlja0p1bXBlciIsIjEyMyIsIjEyNCIsIjEyNSIsIjEyNiIsIl90b0FycmF5IiwiX3RvQXJyYXkyIiwiX2RvbVNjcm9sbEludG9WaWV3IiwiX2RvbVNjcm9sbEludG9WaWV3MiIsIkRyb3Bkb3duTWVudSIsImRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbiIsImRyb3Bkb3duTWVudVN0eWxlIiwib25Qb3B1cEZvY3VzIiwib25NZW51RGVTZWxlY3QiLCJvbk1lbnVTZWxlY3QiLCJpbnB1dFZhbHVlIiwiY29tcG9uZW50V2lsbE1vdW50IiwibGFzdElucHV0VmFsdWUiLCJzY3JvbGxBY3RpdmVJdGVtVG9WaWV3IiwibGFzdFZpc2libGUiLCJwcmV2UHJvcHMiLCJpdGVtQ29tcG9uZW50IiwiZmlyc3RBY3RpdmVJdGVtIiwibWVudSIsIm9ubHlTY3JvbGxJZk5lZWRlZCIsInJlbmRlck1lbnUiLCJfcmV0IiwibWVudVByb3BzIiwib25NZW51RGVzZWxlY3QiLCJhY3RpdmVLZXlQcm9wcyIsImNsb25lZE1lbnVJdGVtcyIsImFjdGl2ZUtleSIsImZvdW5kRmlyc3QiLCJjbG9uZSIsImRlZmF1bHRBY3RpdmVGaXJzdCIsImZvY3VzYWJsZSIsIm9uTW91c2VEb3duIiwiMTI3IiwiZmlsdGVyT3B0aW9uIiwicmVuZGVyRmlsdGVyT3B0aW9ucyIsInJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4iLCJzaG93Tm90Rm91bmQiLCJpdiIsInNlbCIsImNoaWxkcmVuS2V5cyIsImlzU2VsZWN0T3B0R3JvdXAiLCJpbm5lckl0ZW1zIiwiSXRlbUdyb3VwIiwiaXNTZWxlY3RPcHRpb24iLCJjaGlsZFZhbHVlIiwiYXR0cmlidXRlIiwic2luZ2xlVmFsdWUiLCJTdHJpbmciLCJub3RGaW5kSW5wdXRJdGVtIiwiMTI4IiwiMTI5IiwiMTMwIiwiZmlsdGVyRm4iLCJvcHRpb25GaWx0ZXJQcm9wIiwic2F2ZVJlZiIsIl9LZXlDb2RlIiwiX0tleUNvZGUyIiwiX2NsYXNzbmFtZXMzIiwiX3JjQW5pbWF0ZSIsIl9yY0FuaW1hdGUyIiwiX2NvbXBvbmVudENsYXNzZXMiLCJfY29tcG9uZW50Q2xhc3NlczIiLCJfU2VsZWN0VHJpZ2dlciIsIl9TZWxlY3RUcmlnZ2VyMiIsIl9GaWx0ZXJNaXhpbiIsIl9GaWx0ZXJNaXhpbjIiLCJ2YWx1ZU9iamVjdFNoYXBlIiwic2hhcGUiLCJhbGxvd0NsZWFyIiwic2hvd0Fycm93Iiwib25TZWFyY2giLCJwbGFjZWhvbGRlciIsImxhYmVsSW5WYWx1ZSIsImRyb3Bkb3duU3R5bGUiLCJtYXhUYWdUZXh0TGVuZ3RoIiwidG9rZW5TZXBhcmF0b3JzIiwiZ2V0SW5wdXRFbGVtZW50IiwibWl4aW5zIiwiZGVmYXVsdE9wZW4iLCJhZGRMYWJlbFRvVmFsdWUiLCJhZGRUaXRsZVRvVmFsdWUiLCJnZXRMYWJlbEZyb21Qcm9wcyIsInNhdmVJbnB1dFJlZiIsInNhdmVJbnB1dE1pcnJvclJlZiIsIm9wZW4iLCJhZGp1c3RPcGVuU3RhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwibmV4dFN0YXRlIiwiaW5wdXROb2RlIiwiZ2V0SW5wdXRET01Ob2RlIiwibWlycm9yTm9kZSIsImdldElucHV0TWlycm9yRE9NTm9kZSIsImNsZWFyQmx1clRpbWUiLCJjbGVhckFkanVzdFRpbWVyIiwiZHJvcGRvd25Db250YWluZXIiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVtb3ZlQ2hpbGQiLCJvbklucHV0Q2hhbmdlIiwiZXZlbnQiLCJuZXh0VmFsdWUiLCJ0b2tlbml6ZSIsImZpcmVDaGFuZ2UiLCJzZXRPcGVuU3RhdGUiLCJzZXRJbnB1dFZhbHVlIiwib25Ecm9wZG93blZpc2libGVDaGFuZ2UiLCJvbklucHV0S2V5RG93biIsIkRPV04iLCJyZW1vdmVTZWxlY3RlZCIsIm9wZW5JZkhhc0NoaWxkcmVuIiwiRVNDIiwiZ2V0SW5uZXJNZW51Iiwic2VsZWN0ZWRWYWx1ZSIsInNlbGVjdGVkTGFiZWwiLCJnZXRMYWJlbEZyb21PcHRpb24iLCJzZWxlY3RlZFRpdGxlIiwic2tpcEFkanVzdE9wZW4iLCJza2lwQWRqdXN0T3BlblRpbWVyIiwiX3JlZjIiLCJkb21FdmVudCIsIm9uQXJyb3dDbGljayIsIm9uUGxhY2Vob2xkZXJDbGljayIsIm9uT3V0ZXJGb2N1cyIsIl9mb2N1c2VkIiwidXBkYXRlRm9jdXNDbGFzc05hbWUiLCJtYXliZUZvY3VzIiwib25PdXRlckJsdXIiLCJibHVyVGltZXIiLCJfb3B0aW9ucyIsImZpcnN0T3B0aW9uIiwiZ2V0VkxGb3JPbkNoYW5nZSIsIm9uQ2xlYXJTZWxlY3Rpb24iLCJvbkNob2ljZUFuaW1hdGlvbkxlYXZlIiwiZm9yY2VQb3B1cEFsaWduIiwiZ2V0TGFiZWxCeVNpbmdsZVZhbHVlIiwibWF5YmUiLCJnZXRWYWx1ZUJ5TGFiZWwiLCJnZXRMYWJlbEJ5VmFsdWUiLCJ2bHNfIiwidmxzIiwidmwiLCJnZXREcm9wZG93bkNvbnRhaW5lciIsImFwcGVuZENoaWxkIiwiZ2V0UGxhY2Vob2xkZXJFbGVtZW50IiwiaGlkZGVuIiwiZGlzcGxheSIsImlucHV0RWxlbWVudCIsImlucHV0Q2xzIiwiaW5wdXRJbnN0YW5jZSIsImlucHV0TWlycm9ySW5zdGFuY2UiLCJnZXRQb3B1cERPTU5vZGUiLCJnZXRQb3B1cE1lbnVDb21wb25lbnQiLCJuZWVkRm9jdXMiLCJmaXJlU2VhcmNoIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlIiwiX2RvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInNlbGVjdGlvbiIsInZhbHVlXyIsIm5leHRWYWx1ZXMiLCJ2YWx1ZUluZGV4Iiwic2VsZWN0ZWRLZXkiLCJpc0NoaWxkRGlzYWJsZWQiLCJjYW5NdWx0aXBsZSIsImNvdW50IiwicmVuZGVyVG9wQ29udHJvbE5vZGUiLCJpbm5lck5vZGUiLCJzaG93U2VsZWN0ZWRWYWx1ZSIsInNlbGVjdGVkVmFsdWVOb2RlcyIsImNvbnRlbnQiLCJjaG9pY2VDbGFzc05hbWUiLCJvbkxlYXZlIiwiX3Jvb3RDbHMiLCJjdHJsTm9kZSIsImV4dHJhU2VsZWN0aW9uUHJvcHMiLCJyb290Q2xzIiwiY2xlYXJTdHlsZSIsImRyb3Bkb3duQWxpZ24iLCJkcm9wZG93bkNsYXNzTmFtZSIsInJvbGUiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtaGFzcG9wdXAiLCJhcmlhLWV4cGFuZGVkIiwiMTMxIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczMiLCJfRHJvcGRvd25NZW51IiwiX0Ryb3Bkb3duTWVudTIiLCJCVUlMVF9JTl9QTEFDRU1FTlRTIiwiU2VsZWN0VHJpZ2dlciIsImRyb3Bkb3duRE9NTm9kZSIsIndpZHRoUHJvcCIsInBvcHVwTWVudSIsImdldERyb3Bkb3duRWxlbWVudCIsIm5ld1Byb3BzIiwic2F2ZU1lbnUiLCJnZXREcm9wZG93blByZWZpeENscyIsImdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWUiLCJfcG9wdXBDbGFzc05hbWUiLCJwb3B1cEVsZW1lbnQiLCIxMzIiLCJfU2VsZWN0IiwiX1NlbGVjdDIiLCJfT3B0aW9uIiwiX09wdGlvbjIiLCJfT3B0R3JvdXAiLCJfT3B0R3JvdXAyIiwiMTMzIiwiMTM0IiwiY29sU3BhbiIsIm9uQ2VsbENsaWNrIiwiMTM1IiwiaXNUYWJsZUNvbHVtbkdyb3VwIiwiMTM2IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsImZyb20iLCJDb2x1bW5NYW5hZ2VyIiwiX2NhY2hlZCIsIm5vcm1hbGl6ZSIsImlzQW55Q29sdW1uc0ZpeGVkIiwiX2NhY2hlIiwiaXNBbnlDb2x1bW5zTGVmdEZpeGVkIiwiaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCIsImxlZnRDb2x1bW5zIiwiZ3JvdXBlZENvbHVtbnMiLCJyaWdodENvbHVtbnMiLCJsZWFmQ29sdW1ucyIsIl9sZWFmQ29sdW1ucyIsImxlZnRMZWFmQ29sdW1ucyIsInJpZ2h0TGVhZkNvbHVtbnMiLCJfZ3JvdXBDb2x1bW5zIiwiY3VycmVudFJvdyIsInBhcmVudENvbHVtbiIsInJvd3MiLCJncm91cGVkIiwic2V0Um93U3BhbiIsInJvd1NwYW4iLCJyZXNldCIsIjEzNyIsIl9zaGFsbG93ZXF1YWwiLCJfc2hhbGxvd2VxdWFsMiIsIkV4cGFuZEljb24iLCJleHBhbmRhYmxlIiwib25FeHBhbmQiLCJuZWVkSW5kZW50U3BhY2VkIiwiZXhwYW5kZWQiLCJleHBhbmRDbGFzc05hbWUiLCIxMzgiLCJfVGFibGVSb3ciLCJfVGFibGVSb3cyIiwiX1RhYmxlSGVhZGVyIiwiX1RhYmxlSGVhZGVyMiIsIl91dGlscyIsIl9Db2x1bW5NYW5hZ2VyIiwiX0NvbHVtbk1hbmFnZXIyIiwib25FeHBhbmRlZCIsImZpbmRFeHBhbmRlZFJvdyIsImV4cGFuZGVkUm93cyIsImdldEV4cGFuZGVkUm93cyIsImdldFJvd0tleSIsIm9uRXhwYW5kZWRSb3dzQ2hhbmdlIiwib25Sb3dEZXN0cm95IiwiaGFuZGxlV2luZG93UmVzaXplIiwic3luY0ZpeGVkVGFibGVSb3dIZWlnaHQiLCJzZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSIsInRhYmxlUmVjdCIsInRhYmxlTm9kZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsImhlYWRSb3dzIiwiaGVhZFRhYmxlIiwiYm9keVRhYmxlIiwiYm9keVJvd3MiLCJmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCIsImZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0IiwiZGV0ZWN0U2Nyb2xsVGFyZ2V0Iiwic2Nyb2xsVGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImhhbmRsZUJvZHlTY3JvbGwiLCJfdGhpcyRwcm9wcyRzY3JvbGwiLCJzY3JvbGwiLCJfdGhpcyRyZWZzIiwiZml4ZWRDb2x1bW5zQm9keUxlZnQiLCJmaXhlZENvbHVtbnNCb2R5UmlnaHQiLCJzY3JvbGxMZWZ0IiwibGFzdFNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJoYW5kbGVSb3dIb3ZlciIsImlzSG92ZXIiLCJjdXJyZW50SG92ZXJLZXkiLCJleHBhbmRlZFJvd0tleXMiLCJjb2x1bW5NYW5hZ2VyIiwic2V0U2Nyb2xsUG9zaXRpb24iLCJkZWZhdWx0RXhwYW5kQWxsUm93cyIsImRlZmF1bHRFeHBhbmRlZFJvd0tleXMiLCJkZWJvdW5jZWRXaW5kb3dSZXNpemUiLCJkZWJvdW5jZSIsInJlc2l6ZUV2ZW50IiwiaGFzU2Nyb2xsWCIsInJlc2V0U2Nyb2xsWCIsIndhcm5pbmdPbmNlIiwiZ2V0SGVhZGVyIiwiZ2V0SGVhZGVyUm93cyIsInRyU3R5bGUiLCJnZXRIZWFkZXJSb3dTdHlsZSIsInJvd1N0eWxlIiwiY2VsbCIsImdldEV4cGFuZGVkUm93IiwiY29sQ291bnQiLCJpbmRlbnQiLCJnZXRSb3dzQnlEYXRhIiwiZXhwYW5kUm93QnlDbGljayIsInJzdCIsInJvd0NsYXNzTmFtZSIsInJvd1JlZiIsImV4cGFuZGVkUm93Q2xhc3NOYW1lIiwib25Sb3dDbGljayIsIm9uUm93RG91YmxlQ2xpY2siLCJjaGlsZHJlbkNvbHVtbiIsImlzUm93RXhwYW5kZWQiLCJleHBhbmRlZFJvd0NvbnRlbnQiLCJvbkhvdmVyUHJvcHMiLCJvbkhvdmVyIiwib25EZXN0cm95IiwiaG92ZXJLZXkiLCJzdWJWaXNpYmxlIiwiZ2V0Um93cyIsImdldENvbEdyb3VwIiwiY29scyIsIm1pbldpZHRoIiwiZ2V0TGVmdEZpeGVkVGFibGUiLCJnZXRUYWJsZSIsImdldFJpZ2h0Rml4ZWRUYWJsZSIsIl9wcm9wczMiLCJfcHJvcHMzJHNjcm9sbCIsImdldEJvZHlXcmFwcGVyIiwiYm9keVN0eWxlIiwiaGVhZFN0eWxlIiwidGFibGVDbGFzc05hbWUiLCJvdmVyZmxvd1giLCJpbm5lckJvZHlTdHlsZSIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsInNjcm9sbGJhcldpZHRoIiwibWVhc3VyZVNjcm9sbGJhciIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJyZW5kZXJUYWJsZSIsImhhc0hlYWQiLCJoYXNCb2R5IiwidGFibGVTdHlsZSIsInRhYmxlTGF5b3V0IiwidGFibGVCb2R5Iiwib25Nb3VzZU92ZXIiLCJvblRvdWNoU3RhcnQiLCJvblNjcm9sbCIsInJlZk5hbWUiLCJnZXRUaXRsZSIsIl9wcm9wczQiLCJnZXRGb290ZXIiLCJfcHJvcHM1IiwiZ2V0RW1wdHlUZXh0IiwiX3Byb3BzNiIsImhlYWRlckhlaWdodCIsInBvc2l0aW9uIiwic2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxUb0xlZnQiLCJzY3JvbGxUb1JpZ2h0IiwiX3Byb3BzJHNjcm9sbCIsImlzVGFibGVTY3JvbGwiLCJzY3JvbGxUYWJsZSIsIjEzOSIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIlRhYmxlQ2VsbCIsIl90ZW1wIiwiaGFuZGxlQ2xpY2siLCJfdGhpcyRwcm9wcyIsImlzSW52YWxpZFJlbmRlckNlbGxUZXh0IiwiZXhwYW5kSWNvbiIsIl9jb2x1bW4kY2xhc3NOYW1lIiwidGRQcm9wcyIsImluZGVudFRleHQiLCJwYWRkaW5nTGVmdCIsIjE0MCIsIlRhYmxlSGVhZGVyIiwiY2VsbFByb3BzIiwiMTQxIiwiX1RhYmxlQ2VsbCIsIl9UYWJsZUNlbGwyIiwiX0V4cGFuZEljb24iLCJfRXhwYW5kSWNvbjIiLCJUYWJsZVJvdyIsImhvdmVyZWQiLCJfdGhpcyRwcm9wczIiLCJfdGhpcyRwcm9wczMiLCJfdGhpcyRwcm9wczQiLCJjZWxscyIsImlzQ29sdW1uSGF2ZUV4cGFuZEljb24iLCJvbkRvdWJsZUNsaWNrIiwiMTQyIiwiMTQzIiwic2Nyb2xsRGl2Iiwic2Nyb2xsUHJvcCIsInNjcm9sbGJhck1lYXN1cmUiLCJ3YWl0IiwiaW1tZWRpYXRlIiwiZGVib3VuY2VGdW5jIiwicGVyc2lzdCIsImxhdGVyIiwiY2FsbE5vdyIsImNvbmRpdGlvbiIsImZvcm1hdCIsIndhcm5lZCIsInRvcCIsIjE0NCIsIjE0NSIsIktleUNvZGUiLCJNQUNfRU5URVIiLCJUQUIiLCJOVU1fQ0VOVEVSIiwiU0hJRlQiLCJDVFJMIiwiQUxUIiwiUEFVU0UiLCJDQVBTX0xPQ0siLCJTUEFDRSIsIlBBR0VfVVAiLCJQQUdFX0RPV04iLCJFTkQiLCJIT01FIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJQUklOVF9TQ1JFRU4iLCJJTlNFUlQiLCJPTkUiLCJUV08iLCJUSFJFRSIsIkZPVVIiLCJGSVZFIiwiU0lYIiwiU0VWRU4iLCJFSUdIVCIsIlFVRVNUSU9OX01BUksiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIkwiLCJNIiwiTiIsIk8iLCJQIiwiUSIsIlIiLCJTIiwiVCIsIlUiLCJWIiwiVyIsIlgiLCJZIiwiWiIsIk1FVEEiLCJXSU5fS0VZX1JJR0hUIiwiQ09OVEVYVF9NRU5VIiwiTlVNX1pFUk8iLCJOVU1fT05FIiwiTlVNX1RXTyIsIk5VTV9USFJFRSIsIk5VTV9GT1VSIiwiTlVNX0ZJVkUiLCJOVU1fU0lYIiwiTlVNX1NFVkVOIiwiTlVNX0VJR0hUIiwiTlVNX05JTkUiLCJOVU1fTVVMVElQTFkiLCJOVU1fUExVUyIsIk5VTV9NSU5VUyIsIk5VTV9QRVJJT0QiLCJOVU1fRElWSVNJT04iLCJGMSIsIkYyIiwiRjMiLCJGNCIsIkY1IiwiRjYiLCJGNyIsIkY4IiwiRjkiLCJGMTAiLCJGMTEiLCJGMTIiLCJOVU1MT0NLIiwiU0VNSUNPTE9OIiwiREFTSCIsIkVRVUFMUyIsIkNPTU1BIiwiUEVSSU9EIiwiU0xBU0giLCJBUE9TVFJPUEhFIiwiU0lOR0xFX1FVT1RFIiwiT1BFTl9TUVVBUkVfQlJBQ0tFVCIsIkJBQ0tTTEFTSCIsIkNMT1NFX1NRVUFSRV9CUkFDS0VUIiwiV0lOX0tFWSIsIk1BQ19GRl9NRVRBIiwiV0lOX0lNRSIsImlzVGV4dE1vZGlmeWluZ0tleUV2ZW50IiwiYWx0S2V5IiwiY3RybEtleSIsIm1ldGFLZXkiLCJpc0NoYXJhY3RlcktleSIsIm5hdmlnYXRpb24iLCIxNDgiLCJfTW9kYWwiLCJfTW9kYWwyIiwiX2NvbmZpcm0iLCJfY29uZmlybTIiLCJjb25maWciLCJpY29uVHlwZSIsIm9rQ2FuY2VsIiwic3VjY2VzcyIsImVycm9yIiwid2FybmluZyIsImNvbmZpcm0iLCIxNDkiLCIxNTMiLCJfaW5wdXQiLCJfaW5wdXQyIiwiX1NlYXJjaCIsIl9TZWFyY2gyIiwiU2VhcmNoIiwiaGFuZGxlU2VhcmNoIiwia2V5d29yZCIsInNlYXJjaElucHV0Iiwic2VsZWN0Iiwic2VsZWN0VmFsdWUiLCJoYW5kbGVJbnB1dENoYW5nZSIsImNsZWFyVmlzaWJsZSIsImhhbmRlbGVTZWxlY3RDaGFuZ2UiLCJoYW5kbGVDbGVhcklucHV0Iiwic2VsZWN0UHJvcHMiLCJzZWxlY3RPcHRpb25zIiwiY29tcGFjdCIsInNlYXJjaCIsIm9uUHJlc3NFbnRlciIsIjE1NCIsIl9yY1R3ZWVuT25lIiwiX1RhYmxlQm9keVdyYXBwZXIiLCJlbnRlckFuaW0iLCJiYWNrZ3JvdW5kQ29sb3IiLCJkdXJhdGlvbiIsImRlbGF5IiwiZWFzZSIsIm9uQ29tcGxldGUiLCJsZWF2ZUFuaW0iLCJUYWJsZUJvZHlXcmFwcGVyIiwiX3JlZiRwYWdlIiwiVHdlZW5PbmVHcm91cCIsImVudGVyIiwibGVhdmUiLCJhcHBlYXIiLCIxNTgiLCJGYWtlTWFwIiwibWVtb2l6ZUNvbXBhcmUiLCJsZWZ0SGFuZE9wZXJhbmQiLCJyaWdodEhhbmRPcGVyYW5kIiwibWVtb2l6ZU1hcCIsImlzUHJpbWl0aXZlIiwibGVmdEhhbmRNYXAiLCJnZXQiLCJtZW1vaXplU2V0Iiwic2V0IiwiTWVtb2l6ZU1hcCIsImRlZXBFcXVhbCIsImNvbXBhcmF0b3IiLCJleHRlbnNpdmVEZWVwRXF1YWwiLCJzaW1wbGVSZXN1bHQiLCJzaW1wbGVFcXVhbCIsIm1lbW9pemUiLCJtZW1vaXplUmVzdWx0TGVmdCIsIm1lbW9pemVSZXN1bHRSaWdodCIsImNvbXBhcmF0b3JSZXN1bHQiLCJsZWZ0SGFuZFR5cGUiLCJleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUiLCJ2YWx1ZU9mIiwiaXRlcmFibGVFcXVhbCIsInJlZ2V4cEVxdWFsIiwiZ2VuZXJhdG9yRXF1YWwiLCJVaW50OEFycmF5IiwiYnVmZmVyIiwiZW50cmllc0VxdWFsIiwibGVmdEhhbmRJdGVtcyIsInJpZ2h0SGFuZEl0ZW1zIiwiZ2V0R2VuZXJhdG9yRW50cmllcyIsImhhc0l0ZXJhdG9yRnVuY3Rpb24iLCJnZXRJdGVyYXRvckVudHJpZXMiLCJpdGVyYXRvckVycm9yIiwiZ2VuZXJhdG9yIiwiZ2VuZXJhdG9yUmVzdWx0IiwiYWNjdW11bGF0b3IiLCJkb25lIiwiZ2V0RW51bWVyYWJsZUtleXMiLCJrZXlzRXF1YWwiLCJsZWZ0SGFuZEtleXMiLCJyaWdodEhhbmRLZXlzIiwibGVmdEhhbmRFbnRyaWVzIiwicmlnaHRIYW5kRW50cmllcyIsImRlbGV0ZSIsIldlYWtNYXAiLCIxNTkiLCIxNjAiLCIxNjMiLCJkZWZhdWx0RGF0YSIsIkRFRkFVTFRfRFVSQVRJT04iLCJERUZBVUxUX0RFTEFZIiwiX2Vhc2luZzIiLCJERUZBVUxUX0VBU0lORyIsIm9uVXBkYXRlIiwib25TdGFydCIsIm9uUmVwZWF0IiwicmVwZWF0IiwicmVwZWF0RGVsYXkiLCJ5b3lvIiwiaW5pdFRpbWUiLCJhcHBlYXJUbyIsIl9lYXNpbmciLCJfU3R5bGVQbHVnaW4iLCJfU3R5bGVQbHVnaW4yIiwidG9EYXRhIiwic3RhcnREZWZhdWx0RGF0YSIsIl9kIiwiZ2V0QXR0cmlidXRlIiwiYmV6aWVyIiwidHdlZW4iLCJ0aW55TnVtIiwic2V0RGVmYXVsdERhdGEiLCJyZXBlYXRNYXgiLCJhcHBlYXJUb0Jvb2wiLCJhcHBlYXJUb1RpbWUiLCJ0d2VlbkRhdGEiLCJfZGF0YSIsIlNWR01vcnBoIiwiYXBwZWFyTm93IiwibW9kZSIsImdldEFuaW1TdGFydERhdGEiLCJnZXRBbmltU3RhcnQiLCJzZXRBbmltRGF0YSIsInNldFJhdGlvIiwicmF0aW8iLCJlbmREYXRhIiwiZW5kVmFycyIsInN0YXJ0VmFycyIsIl9lbmREYXRhIiwicmVwZWF0TnVtIiwiY2VpbCIsImZyb21EZWxheSIsInN0IiwiY29tcFJhdGlvIiwiMTY0IiwiX1R3ZWVuT25lIiwiX1R3ZWVuT25lMiIsIl9pbml0aWFsaXNlUHJvcHMiLCJrZXlzVG9FbnRlciIsImtleXNUb0xlYXZlIiwib25FbnRlckJvb2wiLCJpc1R3ZWVuIiwibmV4dENoaWxkcmVuIiwiY3VycmVudENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJoYXNQcmV2IiwiaGFzTmV4dCIsImNoaWxkcmVuVG9SZW5kZXIiLCJnZXRDaGlsZHJlblRvUmVuZGVyIiwiY29tcG9uZW50UHJvcHMiLCJhbmltYXRpbmdDbGFzc05hbWUiLCJ0YWciLCJpc0VudGVyIiwiX29iaiIsIm9uRW5kIiwiZ2V0Q292ZXJBbmltYXRpb24iLCJvYmplY3RPckFycmF5T3JGdW5jIiwiMTY1IiwiZWFzaW5nIiwiMTY2IiwiX3N0eWxlVXRpbHMyIiwiU3R5bGVQbHVnaW4iLCJwcm9wc0RhdGEiLCJnZXRDb21wdXRlZFN0eWxlIiwiZGVmYXVsdFZpZXciLCJnZXRUd2VlbkRhdGEiLCJkYXRhVHlwZSIsImRhdGFDb3VudCIsImRhdGFTcGxpdFN0ciIsIl9pdGVtIiwiY29udmVydFRvTWFya3NBcnJheSIsInN0YXJ0VW5pdCIsImVuZFVuaXQiLCJ3aWxsQ2hhbmdlQm9vbCIsImNvbXB1dGVkU3R5bGUiLCJ3aWxsQ2hhbmdlQXJyYXkiLCJrIiwid2lsbFN0eWxlIiwidXNlU3R5bGUiLCJmaWx0ZXJOYW1lIiwiZmlsdGVyT2JqZWN0Iiwic2V0QXJyYXlSYXRpbyIsInN0YXJ0SW5zZXQiLCJlbmRJbnNldCIsInN0YXJ0SXNBbHBoYSIsIl9pc1RyYW5zZm9ybSIsImNzcyIsInBOYW1lIiwieFN0YXJ0IiwieVN0YXJ0IiwiX3R5cGUiLCJzdHlsZVVuaXQiLCJmaWx0ZXJTdHlsZSIsImZpbHRlcktleSIsIjE2NyIsIl9yYWYiLCJfcmFmMiIsIlRpY2tlciIsInRpY2tGbk9iamVjdCIsInR3ZWVuSWQiLCJlbGFwc2VkIiwibGFzdFVwZGF0ZSIsInNraXBGcmFtZU1heCIsIndha2UiLCJ0aWNrIiwic2xlZXAiLCJ0aWNrZXIiLCJ0aW1lb3V0SWROdW1iZXIiLCJ0aW1lIiwidGltZW91dElEIiwiaW50ZXJ2YWxJZE51bWJlciIsImludGVydmFsIiwiaW50ZXJ2YWxJRCIsInN0YXJGcmFtZSIsIjE3MiIsInR3ZWVuRnVuY3Rpb25zIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJlYXNlT3V0U2luZSIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsIjE3MyIsImdldFByb3RvdHlwZU9mRXhpc3RzIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm9taXNlRXhpc3RzIiwiUHJvbWlzZSIsImdsb2JhbE9iamVjdCIsImlzRG9tIiwiaHRtbEVsZW1lbnRFeGlzdHMiLCJIVE1MRWxlbWVudCIsImlzQXJyYXlFeGlzdHMiLCJzeW1ib2xFeGlzdHMiLCJtYXBFeGlzdHMiLCJNYXAiLCJzZXRFeGlzdHMiLCJTZXQiLCJ3ZWFrTWFwRXhpc3RzIiwid2Vha1NldEV4aXN0cyIsIldlYWtTZXQiLCJkYXRhVmlld0V4aXN0cyIsIkRhdGFWaWV3Iiwic3ltYm9sSXRlcmF0b3JFeGlzdHMiLCJzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyIsInRvU3RyaW5nVGFnIiwic2V0RW50cmllc0V4aXN0cyIsImVudHJpZXMiLCJtYXBFbnRyaWVzRXhpc3RzIiwic2V0SXRlcmF0b3JQcm90b3R5cGUiLCJtYXBJdGVyYXRvclByb3RvdHlwZSIsImFycmF5SXRlcmF0b3JFeGlzdHMiLCJhcnJheUl0ZXJhdG9yUHJvdG90eXBlIiwic3RyaW5nSXRlcmF0b3JFeGlzdHMiLCJzdHJpbmdJdGVyYXRvclByb3RvdHlwZSIsInRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoIiwidG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoIiwidHlwZW9mT2JqIiwibG9jYXRpb24iLCJtaW1lVHlwZXMiLCJ0YWdOYW1lIiwic3RyaW5nVGFnIiwib2JqUHJvdG90eXBlIiwidHlwZURldGVjdCIsIjE4OCIsIjE4OSIsIkFjdGlvbkJ1dHRvbiIsImFjdGlvbkZuIiwiY2xvc2VNb2RhbCIsInRoZW4iLCJhdXRvRm9jdXMiLCIkdGhpcyIsInRpbWVvdXRJZCIsIjE5MCIsImNsb3NlIiwidW5tb3VudFJlc3VsdCIsImRpdiIsIm1hc2tDbG9zYWJsZSIsInJ1bnRpbWVMb2NhbGUiLCJfbG9jYWxlIiwiZ2V0Q29uZmlybUxvY2FsZSIsImp1c3RPa1RleHQiLCJfQWN0aW9uQnV0dG9uMiIsImRlc3Ryb3kiLCJfQWN0aW9uQnV0dG9uIiwiMTkxIiwiY2hhbmdlQ29uZmlybUxvY2FsZSIsIm5ld0xvY2FsZSIsIjE5MyIsIjIwMSIsIjIwMiIsIjIwOSIsImdldFNjcm9sbCIsInciLCJzZXRUcmFuc2Zvcm1PcmlnaW4iLCJlbCIsInBvcyIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJwYXJlbnRXaW5kb3ciLCJfTGF6eVJlbmRlckJveCIsIl9MYXp5UmVuZGVyQm94MiIsIl9nZXRTY3JvbGxCYXJTaXplIiwiX2dldFNjcm9sbEJhclNpemUyIiwidXVpZCIsIm9wZW5Db3VudCIsIkRpYWxvZyIsImFmdGVyQ2xvc2UiLCJtYXNrIiwia2V5Ym9hcmQiLCJpblRyYW5zaXRpb24iLCJ0aXRsZUlkIiwib3BlblRpbWUiLCJsYXN0T3V0U2lkZUZvY3VzTm9kZSIsImFkZFNjcm9sbGluZ0VmZmVjdCIsIndyYXAiLCJkaWFsb2dOb2RlIiwiZGlhbG9nIiwiZWxPZmZzZXQiLCJyZW1vdmVTY3JvbGxpbmdFZmZlY3QiLCJvbkFuaW1hdGVMZWF2ZSIsIm9uTWFza0NsaWNrIiwiZGlhbG9nUm9vdCIsInNlbnRpbmVsIiwic2hpZnRLZXkiLCJnZXREaWFsb2dFbGVtZW50IiwiZGVzdCIsImhlYWRlciIsImNsb3NlciIsImFyaWEtbGFiZWwiLCJkaWFsb2dFbGVtZW50IiwiYm9keVByb3BzIiwic2hvd1Byb3AiLCJ0cmFuc2l0aW9uQXBwZWFyIiwiZ2V0WkluZGV4U3R5bGUiLCJnZXRXcmFwU3R5bGUiLCJ3cmFwU3R5bGUiLCJnZXRNYXNrU3R5bGUiLCJtYXNrU3R5bGUiLCJnZXRNYXNrRWxlbWVudCIsIm1hc2tFbGVtZW50IiwibWFza1RyYW5zaXRpb24iLCJnZXRNYXNrVHJhbnNpdGlvbk5hbWUiLCJoaWRkZW5DbGFzc05hbWUiLCJtYXNrUHJvcHMiLCJtYXNrQW5pbWF0aW9uIiwiZ2V0RWxlbWVudCIsInBhcnQiLCJzZXRTY3JvbGxiYXIiLCJib2R5SXNPdmVyZmxvd2luZyIsInBhZGRpbmdSaWdodCIsImNoZWNrU2Nyb2xsYmFyIiwicmVzZXRTY3JvbGxiYXIiLCJmdWxsV2luZG93V2lkdGgiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnRFbGVtZW50UmVjdCIsImFkanVzdERpYWxvZyIsIm1vZGFsSXNPdmVyZmxvd2luZyIsInNjcm9sbEhlaWdodCIsInJlc2V0QWRqdXN0bWVudHMiLCJ3cmFwQ2xhc3NOYW1lIiwiYXJpYS1sYWJlbGxlZGJ5Iiwid3JhcFByb3BzIiwiMjEwIiwiX0RpYWxvZyIsIl9EaWFsb2cyIiwiX2dldENvbnRhaW5lclJlbmRlck1peGluIiwiX2dldENvbnRhaW5lclJlbmRlck1peGluMiIsIkRpYWxvZ1dyYXAiLCJpc1Zpc2libGUiLCJhdXRvRGVzdHJveSIsImdldENvbXBvbmVudCIsInJlbmRlckNvbXBvbmVudCIsInJlbW92ZUNvbnRhaW5lciIsIl9jb21wb25lbnQiLCIyMTEiLCJMYXp5UmVuZGVyQm94IiwiMjEyIiwiMjEzIiwiZGVmYXVsdEdldENvbnRhaW5lciIsImNvbnRhaW5lciIsImdldENvbnRhaW5lclJlbmRlck1peGluIiwiX3JlbmRlckNvbXBvbmVudCIsImNvbXBvbmVudEFyZyIsInJlYWR5IiwiX2NvbnRhaW5lciIsImdldENvbnRhaW5lciIsInVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiX3JlbW92ZUNvbnRhaW5lciIsIl9jb25maWckYXV0b01vdW50IiwiYXV0b01vdW50IiwiX2NvbmZpZyRhdXRvRGVzdHJveSIsIl9jb25maWckZ2V0Q29udGFpbmVyIiwibWl4aW4iLCIyMTQiLCJnZXRTY3JvbGxCYXJTaXplIiwiZnJlc2giLCJjYWNoZWQiLCJpbm5lciIsIm91dGVyIiwib3V0ZXJTdHlsZSIsInBvaW50ZXJFdmVudHMiLCJ2aXNpYmlsaXR5Iiwid2lkdGhDb250YWluZWQiLCJ3aWR0aFNjcm9sbCIsIjIzOCIsIl90b29sdGlwIiwiX3Rvb2x0aXAyIiwiUG9wY29uZmlybSIsIm9uQ29uZmlybSIsInBvcGNvbmZpcm1Mb2NhbGUiLCIyMzkiLCIzMjYiLCJ2YWxpZFBob25lIiwicnVsZSIsIjY3NyIsIkxpc3QiLCJ1cGRhdGVQb3dlciIsImRlbGV0ZVBvd2VyIiwib25QYWdlQ2hhbmdlIiwib25EZWxldGVJdGVtIiwib25FZGl0SXRlbSIsIm9uU3RhdHVzSXRlbSIsImhhbmRsZURlbGV0ZUl0ZW0iLCJfTGlzdDIiLCJhdmF0YXIiLCJzcmMiLCJtYXJnaW5SaWdodCIsInN0YXR1cyIsIl9wb3Bjb25maXJtMiIsImRhbmdlciIsImdldEJvZHlXcmFwcGVyUHJvcHMiLCJxdWVyeSIsIl9UYWJsZUJvZHlXcmFwcGVyMiIsIl90YWJsZTIiLCJfdGFibGUiLCJfcG9wY29uZmlybSIsIl9tb2RhbCIsIl9tb2RhbDIiLCJfTGlzdCIsIjY3OCIsIm1hcFN0YXRlVG9Qcm9wcyIsIm1vZGFsIiwiX2Zvcm0iLCJfZm9ybTIiLCJfZHZhIiwiX3V0aWxzVmFsaWQiLCJGb3JtSXRlbSIsImZvcm1JdGVtTGF5b3V0IiwibGFiZWxDb2wiLCJzcGFuIiwid3JhcHBlckNvbCIsIk1vZGFsRm9ybSIsInZhbGlkYXRlRmllbGRzIiwiZXJyb3JzIiwiY3VySXRlbSIsImRpc3BhdGNoIiwicGF5bG9hZCIsIl9yZWYkbW9kYWwiLCJfcmVmJGZvcm0iLCJmb3JtIiwiZ2V0RmllbGREZWNvcmF0b3IiLCJyZXNldEZpZWxkcyIsIm1vZGFsRm9ybU9wdHMiLCJob3Jpem9udGFsIiwiaGFzRmVlZGJhY2siLCJpbml0aWFsVmFsdWUiLCJydWxlcyIsInJlcXVpcmVkIiwibWVzc2FnZSIsIm1vYmlsZSIsInZhbGlkYXRvciIsImVtYWlsIiwiY29ubmVjdCIsIjY3OSIsIl9yb3ciLCJfcm93MiIsIl9jb2wiLCJfY29sMiIsImFkZFBvd2VyIiwib25BZGQiLCJzZWFyY2hHcm91cFByb3BzIiwiZ2V0RmllbGRzVmFsdWUiLCJndXR0ZXIiLCJsZyIsIm1kIiwic20iLCJ4cyIsInRleHRBbGlnbiIsIjcwMiIsIl9yZWdlbmVyYXRvciIsIl9yZWdlbmVyYXRvcjIiLCJfcm91dGVyIiwiX3VzZXIiLCJuYW1lc3BhY2UiLCJsaXN0Iiwic3Vic2NyaXB0aW9ucyIsInNldHVwIiwiaGlzdG9yeSIsImxpc3RlbiIsInBhdGhuYW1lIiwiY3VyUG93ZXJzIiwiZ2V0Q3VyUG93ZXJzIiwicm91dGVyUmVkdXgiLCJlZmZlY3RzIiwibWFyayIsIl9yZWYzIiwicGF0aFF1ZXJ5IiwicHV0IiwiX2NvbnRleHQiLCJfcmVmNCIsInJvdXRpbmciLCJsb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zIiwic2VudCIsInN0b3AiLCJfZGVsZXRlIiwiX3JlZjUiLCJfcmVmNiIsIl9jb250ZXh0MiIsIl9yZWY3IiwiX3JlZjgiLCJfY29udGV4dDMiLCJfcmVmOSIsInVwZGF0ZSIsIl9yZWYxMCIsIl9yZWYxMSIsIl9jb250ZXh0NCIsInVwZGF0ZVN0YXR1cyIsIl9yZWYxMiIsIl9yZWYxMyIsIl9jb250ZXh0NSIsInNob3dNb2RhbCIsIl9yZWYxNCIsIl9yZWYxNSIsIm5ld0RhdGEiLCJfY29udGV4dDYiLCJyZWR1Y2VycyIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJxdWVyeVN1Y2Nlc3MiLCI3MTUiLCJVc2VyIiwiYWNjb3VudFVzZXIiLCJfbG9jYXRpb24kcXVlcnkiLCJjaGVja1Bvd2VyIiwidXNlckxpc3RQcm9wcyIsInVzZXJTZWFyY2hQcm9wcyIsImZpZWxkc1ZhbHVlIiwia2V5d29yZDIiLCJVc2VyTW9kYWxHZW4iLCJfTW9kYWxGb3JtMiIsIl9Nb2RhbEZvcm0iLCI3MjEiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfYXN5bmNUb0dlbmVyYXRvcjMiLCJfY2FsbGVlIiwicGFyYW1zIiwiYWJydXB0IiwicmVxdWVzdCIsIl94IiwiX2NhbGxlZTIiLCJfeDIiLCJfY2FsbGVlMyIsIl94MyIsIl9jYWxsZWU0IiwiX3g0IiwiX2NhbGxlZTUiLCJfeDUiLCI4NjAiLCIxMjE5IiwiX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18iXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEdBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0NIaEMsWUErQ0EsU0FBQUMsR0FBQUMsR0FB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dkIsTUFBQWpFLGNBQUFoTCxLQUFBLFNBQUF1TixHQUFBLGNBQUFBLEVBQUFuaUUsS0FBQW1pRSxFQUFBbGlFLE1BQUEsYUFBQWtpRSxHQUFBMkIsT0FBQSxVQUNFLEVBQUE5MUIsRUFBQSsxQixTQUFRLGFBQ2I5cEMsT0FBUSxNQUNSdnZCLEtBQU1tNUQsSUFISCx3QkFBQTFCLEdBQUFoQixTQUFBb0QsRUFBQTNxRSxRckd3bmNKLE9BQU8sVUFBZ0I0cUUsR0FDckIsTUFBT25ELEdBQU14bkUsTUFBTUQsS0FBTUUsZXFHdnBjOUI3QyxFQUFBLE1yR2lxY013dEUsSUFDQSxTQUFTMXRFLEVBQVFDLEdzR2pxY3ZCRCxFQUFBQyxTQUFrQnU1QixNQUFBLGdCQUFBbXJDLE9BQUEsaUJBQUFsYyxRQUFBLGtCQUFBdWMsT0FBQSxtQnRHd3FjWjJJLEtBQ0EsU0FBUzN0RSxFQUFRQyxFQUFTQyxFQUFxQjB0RSxHdUcxcWNyRCxZQUVBMXRFLEdBQUEsSUFFQUEsRUFBQTB0RSxHQUVBMXRFLEVBQUEiLCJmaWxlIjoiYWNjb3VudC11c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFs2XSx7XG5cbi8qKiovIDE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JjQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0XG5cdHZhciBfcmNDaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NoZWNrYm94KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0dyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX0dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG5cdCAgICB2YXIgdCA9IHt9O1xuXHQgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcblx0ICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG5cdCAgICB9cmV0dXJuIHQ7XG5cdH07XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQ2hlY2tib3goKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIENoZWNrYm94LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfTtcblx0XG5cdCAgICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcblx0ICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gX2EuaW5kZXRlcm1pbmF0ZSxcblx0ICAgICAgICAgICAgb25Nb3VzZUVudGVyID0gX2Eub25Nb3VzZUVudGVyLFxuXHQgICAgICAgICAgICBvbk1vdXNlTGVhdmUgPSBfYS5vbk1vdXNlTGVhdmUsXG5cdCAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwic3R5bGVcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImluZGV0ZXJtaW5hdGVcIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIl0pO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWUsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctd3JhcHBlcicsIHRydWUpKTtcblx0ICAgICAgICB2YXIgY2hlY2tib3hDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLWluZGV0ZXJtaW5hdGUnLCBpbmRldGVybWluYXRlKSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHN0eWxlLCBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNDaGVja2JveDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjaGVja2JveENsYXNzLCBjaGlsZHJlbjogbnVsbCB9KSksXG5cdCAgICAgICAgICAgIGNoaWxkcmVuICE9PSB1bmRlZmluZWQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuXG5cdCAgICAgICAgICAgICkgOiBudWxsXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIENoZWNrYm94O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xuXHRcblx0Q2hlY2tib3guR3JvdXAgPSBfR3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0Q2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LWNoZWNrYm94Jyxcblx0ICAgIGluZGV0ZXJtaW5hdGU6IGZhbHNlXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9TVFlMRSA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0cy5nZXRWYWx1ZVByb3BWYWx1ZSA9IGdldFZhbHVlUHJvcFZhbHVlO1xuXHRleHBvcnRzLmdldFByb3BWYWx1ZSA9IGdldFByb3BWYWx1ZTtcblx0ZXhwb3J0cy5pc0NvbWJvYm94ID0gaXNDb21ib2JveDtcblx0ZXhwb3J0cy5pc011bHRpcGxlT3JUYWdzID0gaXNNdWx0aXBsZU9yVGFncztcblx0ZXhwb3J0cy5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCA9IGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94O1xuXHRleHBvcnRzLmlzU2luZ2xlTW9kZSA9IGlzU2luZ2xlTW9kZTtcblx0ZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcblx0ZXhwb3J0cy5wcmV2ZW50RGVmYXVsdEV2ZW50ID0gcHJldmVudERlZmF1bHRFdmVudDtcblx0ZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlLZXkgPSBmaW5kSW5kZXhJblZhbHVlQnlLZXk7XG5cdGV4cG9ydHMuZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwgPSBmaW5kSW5kZXhJblZhbHVlQnlMYWJlbDtcblx0ZXhwb3J0cy5nZXRTZWxlY3RLZXlzID0gZ2V0U2VsZWN0S2V5cztcblx0ZXhwb3J0cy5maW5kRmlyc3RNZW51SXRlbSA9IGZpbmRGaXJzdE1lbnVJdGVtO1xuXHRleHBvcnRzLmluY2x1ZGVzU2VwYXJhdG9ycyA9IGluY2x1ZGVzU2VwYXJhdG9ycztcblx0ZXhwb3J0cy5zcGxpdEJ5U2VwYXJhdG9ycyA9IHNwbGl0QnlTZXBhcmF0b3JzO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0VmFsdWVQcm9wVmFsdWUoY2hpbGQpIHtcblx0ICB2YXIgcHJvcHMgPSBjaGlsZC5wcm9wcztcblx0ICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuXHQgICAgcmV0dXJuIHByb3BzLnZhbHVlO1xuXHQgIH1cblx0ICBpZiAoY2hpbGQua2V5KSB7XG5cdCAgICByZXR1cm4gY2hpbGQua2V5O1xuXHQgIH1cblx0ICB0aHJvdyBuZXcgRXJyb3IoJ25vIGtleSBvciB2YWx1ZSBmb3IgJyArIGNoaWxkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UHJvcFZhbHVlKGNoaWxkLCBwcm9wKSB7XG5cdCAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcblx0ICAgIHJldHVybiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCk7XG5cdCAgfVxuXHQgIHJldHVybiBjaGlsZC5wcm9wc1twcm9wXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNDb21ib2JveChwcm9wcykge1xuXHQgIHJldHVybiBwcm9wcy5jb21ib2JveDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFncyhwcm9wcykge1xuXHQgIHJldHVybiBwcm9wcy5tdWx0aXBsZSB8fCBwcm9wcy50YWdzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveChwcm9wcykge1xuXHQgIHJldHVybiBpc011bHRpcGxlT3JUYWdzKHByb3BzKSB8fCBpc0NvbWJvYm94KHByb3BzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTaW5nbGVNb2RlKHByb3BzKSB7XG5cdCAgcmV0dXJuICFpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveChwcm9wcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcblx0ICB2YXIgcmV0ID0gdmFsdWU7XG5cdCAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldCA9IFtdO1xuXHQgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICByZXQgPSBbdmFsdWVdO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEV2ZW50KGUpIHtcblx0ICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZpbmRJbmRleEluVmFsdWVCeUtleSh2YWx1ZSwga2V5KSB7XG5cdCAgdmFyIGluZGV4ID0gLTE7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKHZhbHVlW2ldLmtleSA9PT0ga2V5KSB7XG5cdCAgICAgIGluZGV4ID0gaTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBpbmRleDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwodmFsdWUsIGxhYmVsKSB7XG5cdCAgdmFyIGluZGV4ID0gLTE7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuXHQgICAgaWYgKHRvQXJyYXkodmFsdWVbaV0ubGFiZWwpLmpvaW4oJycpID09PSBsYWJlbCkge1xuXHQgICAgICBpbmRleCA9IGk7XG5cdCAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gaW5kZXg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNlbGVjdEtleXMobWVudUl0ZW1zLCB2YWx1ZSkge1xuXHQgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfVxuXHQgIHZhciBzZWxlY3RlZEtleXMgPSBbXTtcblx0ICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKG1lbnVJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIGlmIChpdGVtLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG5cdCAgICAgIHNlbGVjdGVkS2V5cyA9IHNlbGVjdGVkS2V5cy5jb25jYXQoZ2V0U2VsZWN0S2V5cyhpdGVtLnByb3BzLmNoaWxkcmVuLCB2YWx1ZSkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGl0ZW1WYWx1ZSA9IGdldFZhbHVlUHJvcFZhbHVlKGl0ZW0pO1xuXHQgICAgICB2YXIgaXRlbUtleSA9IGl0ZW0ua2V5O1xuXHQgICAgICBpZiAoZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBpdGVtVmFsdWUpICE9PSAtMSAmJiBpdGVtS2V5KSB7XG5cdCAgICAgICAgc2VsZWN0ZWRLZXlzLnB1c2goaXRlbUtleSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gc2VsZWN0ZWRLZXlzO1xuXHR9XG5cdFxuXHR2YXIgVU5TRUxFQ1RBQkxFX1NUWUxFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfU1RZTEUgPSB7XG5cdCAgdXNlclNlbGVjdDogJ25vbmUnLFxuXHQgIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJ1xuXHR9O1xuXHRcblx0dmFyIFVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSB7XG5cdCAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZmluZEZpcnN0TWVudUl0ZW0oY2hpbGRyZW4pIHtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblx0ICAgIGlmIChjaGlsZC50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuXHQgICAgICB2YXIgZm91bmQgPSBmaW5kRmlyc3RNZW51SXRlbShjaGlsZC5wcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgIGlmIChmb3VuZCkge1xuXHQgICAgICAgIHJldHVybiBmb3VuZDtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICghY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5jbHVkZXNTZXBhcmF0b3JzKHN0cmluZywgc2VwYXJhdG9ycykge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VwYXJhdG9ycy5sZW5ndGg7ICsraSkge1xuXHQgICAgaWYgKHN0cmluZy5sYXN0SW5kZXhPZihzZXBhcmF0b3JzW2ldKSA+IDApIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3BsaXRCeVNlcGFyYXRvcnMoc3RyaW5nLCBzZXBhcmF0b3JzKSB7XG5cdCAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJ1snICsgc2VwYXJhdG9ycy5qb2luKCkgKyAnXScpO1xuXHQgIHZhciBhcnJheSA9IHN0cmluZy5zcGxpdChyZWcpO1xuXHQgIGlmIChhcnJheVswXSA9PT0gJycpIHtcblx0ICAgIGFycmF5LnNoaWZ0KCk7XG5cdCAgfVxuXHQgIGlmIChhcnJheVthcnJheS5sZW5ndGggLSAxXSA9PT0gJycpIHtcblx0ICAgIGFycmF5LnBvcCgpO1xuXHQgIH1cblx0ICByZXR1cm4gYXJyYXk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdGV4cG9ydHMudG9BcnJheUNoaWxkcmVuID0gdG9BcnJheUNoaWxkcmVuO1xuXHRleHBvcnRzLmRhdGFUb0FycmF5ID0gZGF0YVRvQXJyYXk7XG5cdGV4cG9ydHMub2JqZWN0RXF1YWwgPSBvYmplY3RFcXVhbDtcblx0ZXhwb3J0cy5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkgPSBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXk7XG5cdGV4cG9ydHMubWVyZ2VDaGlsZHJlbiA9IG1lcmdlQ2hpbGRyZW47XG5cdGV4cG9ydHMudHJhbnNmb3JtQXJndW1lbnRzID0gdHJhbnNmb3JtQXJndW1lbnRzO1xuXHRleHBvcnRzLmdldENoaWxkcmVuRnJvbVByb3BzID0gZ2V0Q2hpbGRyZW5Gcm9tUHJvcHM7XG5cdGV4cG9ydHMuc3RhcnRDb252ZXJ0VG9FbmRVbml0ID0gc3RhcnRDb252ZXJ0VG9FbmRVbml0O1xuXHRleHBvcnRzLnBhcnNlUGF0aCA9IHBhcnNlUGF0aDtcblx0ZXhwb3J0cy5nZXRUcmFuc2Zvcm1WYWx1ZSA9IGdldFRyYW5zZm9ybVZhbHVlO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfZGVlcEVxbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU4KTtcblx0XG5cdHZhciBfZGVlcEVxbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gdG9BcnJheUNoaWxkcmVuKGNoaWxkcmVuKSB7XG5cdCAgdmFyIHJldCA9IFtdO1xuXHQgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG5cdCAgICByZXQucHVzaChjKTtcblx0ICB9KTtcblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkYXRhVG9BcnJheSh2YXJzKSB7XG5cdCAgaWYgKCF2YXJzICYmIHZhcnMgIT09IDApIHtcblx0ICAgIHJldHVybiBbXTtcblx0ICB9XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkodmFycykpIHtcblx0ICAgIHJldHVybiB2YXJzO1xuXHQgIH1cblx0ICByZXR1cm4gW3ZhcnNdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvYmplY3RFcXVhbChvYmoxLCBvYmoyKSB7XG5cdCAgaWYgKG9iajEgPT09IG9iajIgfHwgKDAsIF9kZWVwRXFsMltcImRlZmF1bHRcIl0pKG9iajEsIG9iajIpKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgaWYgKCFvYmoxIHx8ICFvYmoyKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIC8vIGFuaW1hdGlvbiDlhpnlnKjmoIfnrb7kuIrnmoTov5vooYzliKTmlq3mmK/lkKbnm7jnrYnvvIwg5Yik5pat5q+P5Liq5Y+C5pWw5pyJ5rKh5pyJIGZ1bmN0aW9uO1xuXHQgIHZhciBlcXVhbEJvb2wgPSB0cnVlO1xuXHQgIGlmIChBcnJheS5pc0FycmF5KG9iajEpICYmIEFycmF5LmlzQXJyYXkob2JqMikpIHtcblx0ICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBjdXJyZW50T2JqID0gb2JqMVtpXTtcblx0ICAgICAgdmFyIG5leHRPYmogPSBvYmoyW2ldO1xuXHQgICAgICBmb3IgKHZhciBwIGluIGN1cnJlbnRPYmopIHtcblx0ICAgICAgICBpZiAoY3VycmVudE9ialtwXSAhPT0gbmV4dE9ialtwXSkge1xuXHQgICAgICAgICAgaWYgKF90eXBlb2YoY3VycmVudE9ialtwXSkgPT09ICdvYmplY3QnICYmIF90eXBlb2YobmV4dE9ialtwXSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgICAgIGVxdWFsQm9vbCA9IG9iamVjdEVxdWFsKGN1cnJlbnRPYmpbcF0sIG5leHRPYmpbcF0pO1xuXHQgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY3VycmVudE9ialtwXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbmV4dE9ialtwXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudE9ialtwXS5uYW1lICE9PSBuZXh0T2JqW3BdLm5hbWUpIHtcblx0ICAgICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBzZXRFcXVhbEJvb2wgPSBmdW5jdGlvbiBzZXRFcXVhbEJvb2wob2JqQSwgb2JqQikge1xuXHQgICAgT2JqZWN0LmtleXMob2JqQSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIGlmICghKGtleSBpbiBvYmpCKSkge1xuXHQgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoX3R5cGVvZihvYmpBW2tleV0pID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG9iakJba2V5XSkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwob2JqQVtrZXldLCBvYmpCW2tleV0pO1xuXHQgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpBW2tleV0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iakJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIGlmIChvYmpBW2tleV0ubmFtZSAhPT0gb2JqQltrZXldLm5hbWUpIHtcblx0ICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChvYmpBW2tleV0gIT09IG9iakJba2V5XSkge1xuXHQgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBzZXRFcXVhbEJvb2wob2JqMSwgb2JqMik7XG5cdCAgc2V0RXF1YWxCb29sKG9iajIsIG9iajEpO1xuXHQgIHJldHVybiBlcXVhbEJvb2w7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5KSB7XG5cdCAgdmFyIHJldCA9IG51bGw7XG5cdCAgaWYgKGNoaWxkcmVuKSB7XG5cdCAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmIChyZXQgfHwgIWMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGMua2V5ID09PSBrZXkpIHtcblx0ICAgICAgICByZXQgPSBjO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VDaGlsZHJlbihwcmV2LCBuZXh0KSB7XG5cdCAgdmFyIHJldCA9IFtdO1xuXHQgIC8vIEZvciBlYWNoIGtleSBvZiBgbmV4dGAsIHRoZSBsaXN0IG9mIGtleXMgdG8gaW5zZXJ0IGJlZm9yZSB0aGF0IGtleSBpblxuXHQgIC8vIHRoZSBjb21iaW5lZCBsaXN0XG5cdCAgdmFyIG5leHRDaGlsZHJlblBlbmRpbmcgPSB7fTtcblx0ICB2YXIgcGVuZGluZ0NoaWxkcmVuID0gW107XG5cdCAgdmFyIGZvbGxvd0NoaWxkcmVuS2V5ID0gdm9pZCAwO1xuXHQgIHByZXYuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgaWYgKCFjKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkobmV4dCwgYy5rZXkpKSB7XG5cdCAgICAgIGlmIChwZW5kaW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG5cdCAgICAgICAgbmV4dENoaWxkcmVuUGVuZGluZ1tjLmtleV0gPSBwZW5kaW5nQ2hpbGRyZW47XG5cdCAgICAgICAgcGVuZGluZ0NoaWxkcmVuID0gW107XG5cdCAgICAgIH1cblx0ICAgICAgZm9sbG93Q2hpbGRyZW5LZXkgPSBjLmtleTtcblx0ICAgIH0gZWxzZSBpZiAoYy5rZXkpIHtcblx0ICAgICAgcGVuZGluZ0NoaWxkcmVuLnB1c2goYyk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgaWYgKCFmb2xsb3dDaGlsZHJlbktleSkge1xuXHQgICAgcmV0ID0gcmV0LmNvbmNhdChwZW5kaW5nQ2hpbGRyZW4pO1xuXHQgIH1cblx0XG5cdCAgbmV4dC5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICBpZiAoIWMpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgaWYgKG5leHRDaGlsZHJlblBlbmRpbmcuaGFzT3duUHJvcGVydHkoYy5rZXkpKSB7XG5cdCAgICAgIHJldCA9IHJldC5jb25jYXQobmV4dENoaWxkcmVuUGVuZGluZ1tjLmtleV0pO1xuXHQgICAgfVxuXHQgICAgcmV0LnB1c2goYyk7XG5cdCAgICBpZiAoYy5rZXkgPT09IGZvbGxvd0NoaWxkcmVuS2V5KSB7XG5cdCAgICAgIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcblx0ICAgIH1cblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdHJhbnNmb3JtQXJndW1lbnRzKGFyZywga2V5LCBpKSB7XG5cdCAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcblx0ICBpZiAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmVzdWx0ID0gYXJnKHtcblx0ICAgICAga2V5OiBrZXksXG5cdCAgICAgIGluZGV4OiBpXG5cdCAgICB9KTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmVzdWx0ID0gYXJnO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRDaGlsZHJlbkZyb21Qcm9wcyhwcm9wcykge1xuXHQgIHJldHVybiBwcm9wcyAmJiBwcm9wcy5jaGlsZHJlbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3RhcnRDb252ZXJ0VG9FbmRVbml0KHRhcmdldCwgc3R5bGUsIG51bSwgdW5pdCwgZGF0YVVuaXQsIGZpeGVkLCBpc09yaWdpbldpZHRoKSB7XG5cdCAgdmFyIGhvcml6ID0gLyg/OkxlZnR8UmlnaHR8V2lkdGh8WCkvaS50ZXN0KHN0eWxlKSB8fCBpc09yaWdpbldpZHRoO1xuXHQgIHZhciB0ID0gc3R5bGUuaW5kZXhPZignYm9yZGVyJykgIT09IC0xID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keTtcblx0ICB0ID0gZml4ZWQgPyBkb2N1bWVudC5ib2R5IDogdDtcblx0ICB2YXIgcGl4ID0gdm9pZCAwO1xuXHRcblx0ICBpZiAodW5pdCA9PT0gJyUnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyAxMDAgKiAoaG9yaXogPyB0LmNsaWVudFdpZHRoIDogdC5jbGllbnRIZWlnaHQpO1xuXHQgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3Z3Jykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAvIDEwMDtcblx0ICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2aCcpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC8gMTAwO1xuXHQgIH0gZWxzZSBpZiAodW5pdCAmJiB1bml0Lm1hdGNoKC9lbS9pKSkge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogMTY7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKTtcblx0ICB9XG5cdCAgaWYgKGRhdGFVbml0ID09PSAnJScpIHtcblx0ICAgIHBpeCA9IHBpeCAqIDEwMCAvIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG5cdCAgfSBlbHNlIGlmIChkYXRhVW5pdCA9PT0gJ3Z3Jykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqIDEwMDtcblx0ICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndmgnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIDEwMDtcblx0ICB9IGVsc2UgaWYgKGRhdGFVbml0ICYmIGRhdGFVbml0Lm1hdGNoKC9lbS9pKSkge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gMTY7XG5cdCAgfVxuXHQgIHJldHVybiBwaXg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG5cdCAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuXHQgICAgaWYgKHBhdGguY2hhckF0KDApLm1hdGNoKC9tL2kpKSB7XG5cdCAgICAgIHZhciBkb21QYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG5cdCAgICAgIGRvbVBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBwYXRoKTtcblx0ICAgICAgcmV0dXJuIGRvbVBhdGg7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXRoKTtcblx0ICB9IGVsc2UgaWYgKHBhdGguc3R5bGUpIHtcblx0ICAgIHJldHVybiBwYXRoO1xuXHQgIH1cblx0ICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHdoaWxlIHBhcnNpbmcgdGhlIHBhdGgnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUodCwgc3VwcG9ydHMzRCkge1xuXHQgIGlmICh0eXBlb2YgdCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiB0O1xuXHQgIH1cblx0ICB2YXIgcGVyc3BlY3RpdmUgPSB0LnBlcnNwZWN0aXZlO1xuXHQgIHZhciBhbmdsZSA9IHQucm90YXRlO1xuXHQgIHZhciByb3RhdGVYID0gdC5yb3RhdGVYO1xuXHQgIHZhciByb3RhdGVZID0gdC5yb3RhdGVZO1xuXHQgIHZhciBzeCA9IHQuc2NhbGVYO1xuXHQgIHZhciBzeSA9IHQuc2NhbGVZO1xuXHQgIHZhciBzeiA9IHQuc2NhbGVaO1xuXHQgIHZhciBza3ggPSB0LnNrZXdYO1xuXHQgIHZhciBza3kgPSB0LnNrZXdZO1xuXHQgIHZhciB4UGVyY2VudCA9IHQueFBlcmNlbnQgfHwgMDtcblx0ICB2YXIgeVBlcmNlbnQgPSB0LnlQZXJjZW50IHx8IDA7XG5cdCAgdmFyIHRyYW5zbGF0ZVggPSB4UGVyY2VudCA/IDAgOiB0LnRyYW5zbGF0ZVg7XG5cdCAgdmFyIHRyYW5zbGF0ZVkgPSB5UGVyY2VudCA/IDAgOiB0LnRyYW5zbGF0ZVk7XG5cdCAgdmFyIHRyYW5zbGF0ZVogPSB0LnRyYW5zbGF0ZVogfHwgMDtcblx0ICB2YXIgcGVyY2VudCA9IHhQZXJjZW50IHx8IHlQZXJjZW50ID8gJ3RyYW5zbGF0ZSgnICsgKHhQZXJjZW50IHx8IHRyYW5zbGF0ZVggKyAncHgnKSArICcsJyArICh5UGVyY2VudCB8fCB0cmFuc2xhdGVZICsgJ3B4JykgKyAnKScgOiAnJztcblx0ICB2YXIgc2sgPSBza3ggfHwgc2t5ID8gJ3NrZXcoJyArIHNreCArICdkZWcsJyArIHNreSArICdkZWcpJyA6ICcnO1xuXHQgIHZhciBhbiA9IGFuZ2xlID8gJ3JvdGF0ZSgnICsgYW5nbGUgKyAnZGVnKScgOiAnJztcblx0ICB2YXIgc3MgPSB2b2lkIDA7XG5cdCAgaWYgKCFwZXJzcGVjdGl2ZSAmJiAhcm90YXRlWCAmJiAhcm90YXRlWSAmJiAhdHJhbnNsYXRlWiAmJiBzeiA9PT0gMSB8fCAhc3VwcG9ydHMzRCkge1xuXHQgICAgc3MgPSBzeCAhPT0gMSB8fCBzeSAhPT0gMSA/ICdzY2FsZSgnICsgc3ggKyAnLCcgKyBzeSArICcpJyA6ICcnO1xuXHQgICAgdmFyIHRyYW5zbGF0ZSA9IHBlcmNlbnQgfHwgJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCknO1xuXHQgICAgcmV0dXJuIHRyYW5zbGF0ZSArICcgJyArIGFuICsgJyAnICsgc3MgKyAnICcgKyBzaztcblx0ICB9XG5cdCAgc3MgPSBzeCAhPT0gMSB8fCBzeSAhPT0gMSB8fCBzeiAhPT0gMSA/ICdzY2FsZTNkKCcgKyBzeCArICcsJyArIHN5ICsgJywnICsgc3ogKyAnKScgOiAnJztcblx0ICB2YXIgclggPSByb3RhdGVYID8gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAnZGVnKScgOiAnJztcblx0ICB2YXIgclkgPSByb3RhdGVZID8gJ3JvdGF0ZVkoJyArIHJvdGF0ZVkgKyAnZGVnKScgOiAnJztcblx0ICB2YXIgcGVyID0gcGVyc3BlY3RpdmUgPyAncGVyc3BlY3RpdmUoJyArIHBlcnNwZWN0aXZlICsgJ3B4KScgOiAnJztcblx0ICB2YXIgdHJhbnNsYXRlM2QgPSBwZXJjZW50ID8gcGVyY2VudCArICcgdHJhbnNsYXRlM2QoMCwwLCcgKyB0cmFuc2xhdGVaICsgJ3B4KScgOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsJyArIHRyYW5zbGF0ZVogKyAncHgpJztcblx0ICByZXR1cm4gcGVyICsgJyAnICsgdHJhbnNsYXRlM2QgKyAnICcgKyBzcyArICcgJyArIGFuICsgJyAnICsgclggKyAnICcgKyByWSArICcgJyArIHNrO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yY1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMyKTtcblx0XG5cdHZhciBfcmNTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNTZWxlY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0Ly8gPT4gSXQgaXMgbmVlZGxlc3MgdG8gZXhwb3J0IHRoZSBkZWNsYXJhdGlvbiBvZiBiZWxvdyB0d28gaW5uZXIgY29tcG9uZW50cy5cblx0Ly8gZXhwb3J0IHsgT3B0aW9uLCBPcHRHcm91cCB9O1xuXHR2YXIgU2VsZWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWxlY3QoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3QpO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBzaXplID0gX3Byb3BzLnNpemUsXG5cdCAgICAgICAgICAgIGNvbWJvYm94ID0gX3Byb3BzLmNvbWJvYm94O1xuXHQgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgX3Byb3BzMiRub3RGb3VuZENvbnRlID0gX3Byb3BzMi5ub3RGb3VuZENvbnRlbnQsXG5cdCAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9IF9wcm9wczIkbm90Rm91bmRDb250ZSA9PT0gdW5kZWZpbmVkID8gJ05vdCBGb3VuZCcgOiBfcHJvcHMyJG5vdEZvdW5kQ29udGUsXG5cdCAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcCA9IF9wcm9wczIub3B0aW9uTGFiZWxQcm9wO1xuXHRcblx0ICAgICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWxnJywgc2l6ZSA9PT0gJ2xhcmdlJyksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctc20nLCBzaXplID09PSAnc21hbGwnKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHZhciBhbnRMb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlO1xuXHRcblx0ICAgICAgICBpZiAoYW50TG9jYWxlICYmIGFudExvY2FsZS5TZWxlY3QpIHtcblx0ICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gJ25vdEZvdW5kQ29udGVudCcgaW4gdGhpcy5wcm9wcyA/IG5vdEZvdW5kQ29udGVudCA6IGFudExvY2FsZS5TZWxlY3Qubm90Rm91bmRDb250ZW50O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY29tYm9ib3gpIHtcblx0ICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gbnVsbDtcblx0ICAgICAgICAgICAgLy8gY2hpbGRyZW4g5bimIGRvbSDnu5PmnoTml7bvvIzml6Dms5XloavlhaXovpPlhaXmoYZcblx0ICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wID0gb3B0aW9uTGFiZWxQcm9wIHx8ICd2YWx1ZSc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1NlbGVjdDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbHMsIG9wdGlvbkxhYmVsUHJvcDogb3B0aW9uTGFiZWxQcm9wIHx8ICdjaGlsZHJlbicsIG5vdEZvdW5kQ29udGVudDogbm90Rm91bmRDb250ZW50IH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFNlbGVjdDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5cdFxuXHRTZWxlY3QuT3B0aW9uID0gX3JjU2VsZWN0Lk9wdGlvbjtcblx0U2VsZWN0Lk9wdEdyb3VwID0gX3JjU2VsZWN0Lk9wdEdyb3VwO1xuXHRTZWxlY3QuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LXNlbGVjdCcsXG5cdCAgICBzaG93U2VhcmNoOiBmYWxzZSxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiAnc2xpZGUtdXAnLFxuXHQgICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6ICd6b29tJ1xuXHR9O1xuXHRTZWxlY3QucHJvcFR5cGVzID0ge1xuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBzaXplOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnZGVmYXVsdCcsICdsYXJnZScsICdzbWFsbCddKSxcblx0ICAgIGNvbWJvYm94OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBub3RGb3VuZENvbnRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNSYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI1KTtcblx0XG5cdHZhciBfcmNSYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1JhZGlvKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBSYWRpbyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBSYWRpbygpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFkaW8ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFJhZGlvLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVzLCBfY2xhc3NOYW1lczI7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG5cdFxuXHQgICAgICAgIHZhciB3cmFwcGVyQ2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSwgY2xhc3NOYW1lKTtcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoX2NsYXNzTmFtZXMyID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzMikpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcHBlckNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmUgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNSYWRpbzJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IG51bGwsIGNoaWxkcmVuOiBudWxsIH0pKSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICAgKSA6IG51bGxcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFkaW87XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW87XG5cdFxuXHRSYWRpby5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTM4KTtcblx0dmFyIENvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0dmFyIENvbHVtbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO1xuXHRcblx0VGFibGUuQ29sdW1uID0gQ29sdW1uO1xuXHRUYWJsZS5Db2x1bW5Hcm91cCA9IENvbHVtbkdyb3VwO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBUYWJsZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cblx0dmFyIFBsdWdpbnMgPSBmdW5jdGlvbiBQbHVnaW5zKCkge307XG5cdHZhciBwID0gUGx1Z2lucy5wcm90b3R5cGU7XG5cdHAucHVzaCA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcblx0ICB0aGlzW3BsdWdpbi5wcm90b3R5cGUubmFtZV0gPSBwbHVnaW47XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbmV3IFBsdWdpbnMoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudG9GaXhlZCA9IHRvRml4ZWQ7XG5cdGV4cG9ydHMuY3JlYXRlTWF0cml4ID0gY3JlYXRlTWF0cml4O1xuXHRleHBvcnRzLmNoZWNrU3R5bGVOYW1lID0gY2hlY2tTdHlsZU5hbWU7XG5cdGV4cG9ydHMuZ2V0R3NhcFR5cGUgPSBnZXRHc2FwVHlwZTtcblx0ZXhwb3J0cy5wYXJzZUNvbG9yID0gcGFyc2VDb2xvcjtcblx0ZXhwb3J0cy5wYXJzZVNoYWRvdyA9IHBhcnNlU2hhZG93O1xuXHRleHBvcnRzLmdldENvbG9yID0gZ2V0Q29sb3I7XG5cdGV4cG9ydHMuaXNUcmFuc2Zvcm0gPSBpc1RyYW5zZm9ybTtcblx0ZXhwb3J0cy5pc0NvbnZlcnQgPSBpc0NvbnZlcnQ7XG5cdGV4cG9ydHMuc3BsaXRGaWx0ZXJUb09iamVjdCA9IHNwbGl0RmlsdGVyVG9PYmplY3Q7XG5cdGV4cG9ydHMuZ2V0TWF0cml4ID0gZ2V0TWF0cml4O1xuXHRleHBvcnRzLmdldFRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybTtcblx0ZXhwb3J0cy5zdHlsZXNUb0NzcyA9IHN0eWxlc1RvQ3NzO1xuXHRleHBvcnRzLmdldFVuaXQgPSBnZXRVbml0O1xuXHRleHBvcnRzLmdldFZhbHVlcyA9IGdldFZhbHVlcztcblx0ZXhwb3J0cy5maW5kU3R5bGVCeU5hbWUgPSBmaW5kU3R5bGVCeU5hbWU7XG5cdGV4cG9ydHMubWVyZ2VTdHlsZSA9IG1lcmdlU3R5bGU7XG5cdHZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuXHQgIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuXHQgIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuXHQgIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG5cdCAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcblx0ICBib3hGbGV4OiB0cnVlLFxuXHQgIGJveEZsZXhHcm91cDogdHJ1ZSxcblx0ICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG5cdCAgY29sdW1uQ291bnQ6IHRydWUsXG5cdCAgZmxleDogdHJ1ZSxcblx0ICBmbGV4R3JvdzogdHJ1ZSxcblx0ICBmbGV4UG9zaXRpdmU6IHRydWUsXG5cdCAgZmxleFNocmluazogdHJ1ZSxcblx0ICBmbGV4TmVnYXRpdmU6IHRydWUsXG5cdCAgZmxleE9yZGVyOiB0cnVlLFxuXHQgIGdyaWRSb3c6IHRydWUsXG5cdCAgZ3JpZENvbHVtbjogdHJ1ZSxcblx0ICBmb250V2VpZ2h0OiB0cnVlLFxuXHQgIGxpbmVDbGFtcDogdHJ1ZSxcblx0ICBsaW5lSGVpZ2h0OiB0cnVlLFxuXHQgIG9wYWNpdHk6IHRydWUsXG5cdCAgb3JkZXI6IHRydWUsXG5cdCAgb3JwaGFuczogdHJ1ZSxcblx0ICB0YWJTaXplOiB0cnVlLFxuXHQgIHdpZG93czogdHJ1ZSxcblx0ICB6SW5kZXg6IHRydWUsXG5cdCAgem9vbTogdHJ1ZSxcblx0XG5cdCAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuXHQgIGZpbGxPcGFjaXR5OiB0cnVlLFxuXHQgIGZsb29kT3BhY2l0eTogdHJ1ZSxcblx0ICBzdG9wT3BhY2l0eTogdHJ1ZSxcblx0ICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG5cdCAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcblx0ICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuXHQgIHN0cm9rZU9wYWNpdHk6IHRydWUsXG5cdCAgc3Ryb2tlV2lkdGg6IHRydWVcblx0fTtcblx0dmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcblx0XG5cdGZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuXHQgIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xuXHR9XG5cdFxuXHRPYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG5cdCAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG5cdCAgfSk7XG5cdH0pO1xuXHRcblx0dmFyIHVucXVvdGVkQ29udGVudFZhbHVlUmVnZXggPSAvXihub3JtYWx8bm9uZXwoXFxiKHVybFxcKFteKV0qXFwpfGNoYXB0ZXJfY291bnRlcnxhdHRyXFwoW14pXSpcXCl8KG5vLSk/KG9wZW58Y2xvc2UpLXF1b3RlfGluaGVyaXQpKChcXGJcXHMqKXwkfFxccyspKSspJC87XG5cdFxuXHR2YXIgSUUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKG5hdmlnYXRvciAmJiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4LjBcIikgPiAwIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOS4wXCIpID4gMCkpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICByZXR1cm4gZmFsc2U7XG5cdH0oKTtcblx0XG5cdHZhciBybmQgPSAxMDAwMDA7XG5cdFxuXHR2YXIgY29sb3JMb29rdXAgPSB7XG5cdCAgYXF1YTogWzAsIDI1NSwgMjU1XSxcblx0ICBsaW1lOiBbMCwgMjU1LCAwXSxcblx0ICBzaWx2ZXI6IFsxOTIsIDE5MiwgMTkyXSxcblx0ICBibGFjazogWzAsIDAsIDBdLFxuXHQgIG1hcm9vbjogWzEyOCwgMCwgMF0sXG5cdCAgdGVhbDogWzAsIDEyOCwgMTI4XSxcblx0ICBibHVlOiBbMCwgMCwgMjU1XSxcblx0ICBuYXZ5OiBbMCwgMCwgMTI4XSxcblx0ICB3aGl0ZTogWzI1NSwgMjU1LCAyNTVdLFxuXHQgIGZ1Y2hzaWE6IFsyNTUsIDAsIDI1NV0sXG5cdCAgb2xpdmU6IFsxMjgsIDEyOCwgMF0sXG5cdCAgeWVsbG93OiBbMjU1LCAyNTUsIDBdLFxuXHQgIG9yYW5nZTogWzI1NSwgMTY1LCAwXSxcblx0ICBncmF5OiBbMTI4LCAxMjgsIDEyOF0sXG5cdCAgcHVycGxlOiBbMTI4LCAwLCAxMjhdLFxuXHQgIGdyZWVuOiBbMCwgMTI4LCAwXSxcblx0ICByZWQ6IFsyNTUsIDAsIDBdLFxuXHQgIHBpbms6IFsyNTUsIDE5MiwgMjAzXSxcblx0ICBjeWFuOiBbMCwgMjU1LCAyNTVdLFxuXHQgIHRyYW5zcGFyZW50OiBbMjU1LCAyNTUsIDI1NSwgMF1cblx0fTtcblx0dmFyIF9odWUgPSBmdW5jdGlvbiBfaHVlKGhoLCBtMSwgbTIpIHtcblx0ICB2YXIgaCA9IGhoID4gMSA/IGhoIC0gMSA6IGhoO1xuXHQgIGggPSBoaCA8IDAgPyBoaCArIDEgOiBoO1xuXHQgIHZhciBhID0gaCAqIDMgPCAyID8gbTEgKyAobTIgLSBtMSkgKiAoMiAvIDMgLSBoKSAqIDYgOiBtMTtcblx0ICB2YXIgYiA9IGggPCAwLjUgPyBtMiA6IGE7XG5cdCAgdmFyIGMgPSBoICogNiA8IDEgPyBtMSArIChtMiAtIG0xKSAqIGggKiA2IDogYjtcblx0ICByZXR1cm4gYyAqIDI1NSArIDAuNSB8IDA7XG5cdH07XG5cdHZhciBERUcyUkFEID0gTWF0aC5QSSAvIDE4MDtcblx0dmFyIFJBRDJERUcgPSAxODAgLyBNYXRoLlBJO1xuXHRcblx0dmFyIGNzc0xpc3QgPSB7XG5cdCAgX2xpc3RzOiB7XG5cdCAgICB0cmFuc2Zvcm1zQmFzZTogWyd0cmFuc2xhdGUnLCAndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAncm90YXRlWicsICdyb3RhdGUnXSxcblx0ICAgIHRyYW5zZm9ybXMzRDogWyd0cmFuc2xhdGUzZCcsICd0cmFuc2xhdGVaJywgJ3NjYWxlWicsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncGVyc3BlY3RpdmUnXVxuXHQgIH0sXG5cdCAgdHJhbnNmb3JtR3JvdXA6IHsgdHJhbnNsYXRlOiAxLCB0cmFuc2xhdGUzZDogMSwgc2NhbGU6IDEsIHNjYWxlM2Q6IDEsIHJvdGF0ZTogMSwgcm90YXRlM2Q6IDEgfSxcblx0ICBmaWx0ZXI6IFsnZ3JheVNjYWxlJywgJ3NlcGlhJywgJ2h1ZVJvdGF0ZScsICdpbnZlcnQnLCAnYnJpZ2h0bmVzcycsICdjb250cmFzdCcsICdibHVyJ10sXG5cdCAgZmlsdGVyQ29udmVydDogeyBncmF5U2NhbGU6ICdncmF5c2NhbGUnLCBodWVSb3RhdGU6ICdodWUtcm90YXRlJyB9XG5cdH07XG5cdGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlID0gIUlFID8gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuY29uY2F0KGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXMzRCkgOiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZTtcblx0XG5cdGZ1bmN0aW9uIHRvRml4ZWQobnVtLCBsZW5ndGgpIHtcblx0ICB2YXIgX3JuZCA9IGxlbmd0aCA/IE1hdGgucG93KDEwLCBsZW5ndGgpIDogcm5kO1xuXHQgIHZhciBuID0gbnVtIHwgMDtcblx0ICB2YXIgZGVjID0gbnVtIC0gbjtcblx0ICByZXR1cm4gZGVjID8gKGRlYyAqIF9ybmQgKyAobnVtIDwgMCA/IC0wLjUgOiAwLjUpIHwgMCkgLyBfcm5kICsgbiA6IG51bTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTWF0cml4KHN0eWxlKSB7XG5cdCAgcmV0dXJuIHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nb3pDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nb3pDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5ET01NYXRyaXggJiYgbmV3IHdpbmRvdy5ET01NYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nc0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk1zQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuT0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk9DU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5DU1NNYXRyaXgoc3R5bGUpIHx8IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrU3R5bGVOYW1lKHApIHtcblx0ICB2YXIgYSA9IFsnTycsICdNb3onLCAnbXMnLCAnTXMnLCAnV2Via2l0J107XG5cdCAgaWYgKHAgIT09ICdmaWx0ZXInICYmIHAgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSkge1xuXHQgICAgcmV0dXJuIHA7XG5cdCAgfVxuXHQgIHZhciBfcCA9IHAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwLnN1YnN0cigxKTtcblx0ICB2YXIgcHJlZml4Q3NzID0gYS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgcmV0dXJuICcnICsga2V5ICsgX3AgaW4gZG9jdW1lbnQuYm9keS5zdHlsZTtcblx0ICB9KTtcblx0ICByZXR1cm4gcHJlZml4Q3NzWzBdID8gJycgKyBwcmVmaXhDc3NbMF0gKyBfcCA6IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEdzYXBUeXBlKF9wKSB7XG5cdCAgdmFyIHAgPSBfcDtcblx0ICBwID0gcCA9PT0gJ3gnID8gJ3RyYW5zbGF0ZVgnIDogcDtcblx0ICBwID0gcCA9PT0gJ3knID8gJ3RyYW5zbGF0ZVknIDogcDtcblx0ICBwID0gcCA9PT0gJ3onID8gJ3RyYW5zbGF0ZVonIDogcDtcblx0ICAvLyBwID0gcCA9PT0gJ3InID8gJ3JvdGF0ZScgOiBwO1xuXHQgIHJldHVybiBwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUNvbG9yKF92KSB7XG5cdCAgdmFyIGEgPSB2b2lkIDA7XG5cdCAgdmFyIHIgPSB2b2lkIDA7XG5cdCAgdmFyIGcgPSB2b2lkIDA7XG5cdCAgdmFyIGIgPSB2b2lkIDA7XG5cdCAgdmFyIGggPSB2b2lkIDA7XG5cdCAgdmFyIHMgPSB2b2lkIDA7XG5cdCAgdmFyIGwgPSB2b2lkIDA7XG5cdCAgdmFyIHYgPSBfdjtcblx0ICB2YXIgX251bUV4cCA9IC8oPzpcXGR8XFwtXFxkfFxcLlxcZHxcXC1cXC5cXGQpKy9nO1xuXHQgIGlmICghdikge1xuXHQgICAgYSA9IGNvbG9yTG9va3VwLmJsYWNrO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG5cdCAgICBhID0gW3YgPj4gMTYsIHYgPj4gOCAmIDI1NSwgdiAmIDI1NV07XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmICh2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpID09PSAnLCcpIHtcblx0ICAgICAgdiA9IHYuc3Vic3RyKDAsIHYubGVuZ3RoIC0gMSk7XG5cdCAgICB9XG5cdCAgICBpZiAoY29sb3JMb29rdXBbdl0pIHtcblx0ICAgICAgYSA9IGNvbG9yTG9va3VwW3ZdO1xuXHQgICAgfSBlbHNlIGlmICh2LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG5cdCAgICAgIC8vIGlzICNGRkZcblx0ICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG5cdCAgICAgICAgciA9IHYuY2hhckF0KDEpO1xuXHQgICAgICAgIGcgPSB2LmNoYXJBdCgyKTtcblx0ICAgICAgICBiID0gdi5jaGFyQXQoMyk7XG5cdCAgICAgICAgdiA9ICcjJyArIHIgKyByICsgZyArIGcgKyBiICsgYjtcblx0ICAgICAgfVxuXHQgICAgICB2ID0gcGFyc2VJbnQodi5zdWJzdHIoMSksIDE2KTtcblx0ICAgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuXHQgICAgfSBlbHNlIGlmICh2LnN1YnN0cigwLCAzKSA9PT0gJ2hzbCcpIHtcblx0ICAgICAgYSA9IHYubWF0Y2goX251bUV4cCk7XG5cdCAgICAgIGggPSBOdW1iZXIoYVswXSkgJSAzNjAgLyAzNjA7XG5cdCAgICAgIHMgPSBOdW1iZXIoYVsxXSkgLyAxMDA7XG5cdCAgICAgIGwgPSBOdW1iZXIoYVsyXSkgLyAxMDA7XG5cdCAgICAgIGcgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcblx0ICAgICAgciA9IGwgKiAyIC0gZztcblx0ICAgICAgaWYgKGEubGVuZ3RoID4gMykge1xuXHQgICAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG5cdCAgICAgIH1cblx0ICAgICAgYVswXSA9IF9odWUoaCArIDEgLyAzLCByLCBnKTtcblx0ICAgICAgYVsxXSA9IF9odWUoaCwgciwgZyk7XG5cdCAgICAgIGFbMl0gPSBfaHVlKGggLSAxIC8gMywgciwgZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBhID0gdi5tYXRjaChfbnVtRXhwKSB8fCBjb2xvckxvb2t1cC50cmFuc3BhcmVudDtcblx0ICAgIH1cblx0ICAgIGFbMF0gPSBOdW1iZXIoYVswXSk7XG5cdCAgICBhWzFdID0gTnVtYmVyKGFbMV0pO1xuXHQgICAgYVsyXSA9IE51bWJlcihhWzJdKTtcblx0XG5cdCAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG5cdCAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZVNoYWRvdyh2KSB7XG5cdCAgaWYgKCF2KSB7XG5cdCAgICByZXR1cm4gWzAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuXHQgIH1cblx0ICB2YXIgaW5zZXQgPSB2b2lkIDA7XG5cdCAgaWYgKHYuaW5kZXhPZigncmdiJykgPj0gMCkge1xuXHQgICAgdmFyIHQgPSB2Lm1hdGNoKC9yZ2IrKD86YSk/XFwoKC4qKVxcKS8pO1xuXHQgICAgdmFyIHMgPSB2LnJlcGxhY2UodFswXSwgJycpLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuXHQgICAgaW5zZXQgPSBzLmluZGV4T2YoJ2luc2V0Jyk7XG5cdCAgICBpZiAoaW5zZXQgPj0gMCkge1xuXHQgICAgICBzLnNwbGljZShpbnNldCwgMSk7XG5cdCAgICB9XG5cdCAgICB2YXIgYyA9IHRbMV0ucmVwbGFjZSgvXFxzKy9nLCAnJykuc3BsaXQoJywnKTtcblx0ICAgIGlmIChjLmxlbmd0aCA9PT0gMykge1xuXHQgICAgICBjLnB1c2goMSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcy5jb25jYXQoYywgaW5zZXQgPj0gMCA/IFsnaW5zZXQnXSA6IFtdKTtcblx0ICB9XG5cdCAgdmFyIHZBcnIgPSB2LnNwbGl0KC9cXHMrLyk7XG5cdCAgaW5zZXQgPSB2QXJyLmluZGV4T2YoJ2luc2V0Jyk7XG5cdCAgaWYgKGluc2V0ID49IDApIHtcblx0ICAgIHZBcnIuc3BsaWNlKGluc2V0LCAxKTtcblx0ICB9XG5cdCAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcih2QXJyW3ZBcnIubGVuZ3RoIC0gMV0pO1xuXHQgIGNvbG9yWzNdID0gdHlwZW9mIGNvbG9yWzNdID09PSAnbnVtYmVyJyA/IGNvbG9yWzNdIDogMTtcblx0ICB2QXJyID0gdkFyci5zcGxpY2UoMCwgdkFyci5sZW5ndGggLSAxKTtcblx0ICByZXR1cm4gdkFyci5jb25jYXQoY29sb3IsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldENvbG9yKHYpIHtcblx0ICB2YXIgcmdiYSA9IHYubGVuZ3RoID09PSA0ID8gJ3JnYmEnIDogJ3JnYic7XG5cdCAgdmFyIF92YXJzID0gdi5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcblx0ICAgIHJldHVybiBpIDwgMyA/IE1hdGgucm91bmQoZCkgOiBkO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZ2JhICsgJygnICsgX3ZhcnMuam9pbignLCcpICsgJyknO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1RyYW5zZm9ybShwKSB7XG5cdCAgcmV0dXJuIGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmluZGV4T2YocCkgPj0gMCA/ICd0cmFuc2Zvcm0nIDogcDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNDb252ZXJ0KHApIHtcblx0ICB2YXIgY3NzTmFtZSA9IGlzVHJhbnNmb3JtKHApO1xuXHQgIHJldHVybiBjc3NMaXN0LmZpbHRlci5pbmRleE9mKGNzc05hbWUpID49IDAgPyAnZmlsdGVyJyA6IGNzc05hbWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNwbGl0RmlsdGVyVG9PYmplY3QoZGF0YSkge1xuXHQgIGlmIChkYXRhID09PSAnbm9uZScgfHwgIWRhdGEgfHwgZGF0YSA9PT0gJycpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0ICB2YXIgZmlsdGVyID0gZGF0YS5yZXBsYWNlKCcgJywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gaXRlbTtcblx0ICB9KTtcblx0ICB2YXIgc3RhcnREYXRhID0ge307XG5cdCAgZmlsdGVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBkYXRhQXJyID0gaXRlbS5zcGxpdCgnKCcpO1xuXHQgICAgc3RhcnREYXRhW2RhdGFBcnJbMF1dID0gZGF0YUFyclsxXTtcblx0ICB9KTtcblx0ICByZXR1cm4gc3RhcnREYXRhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRNYXRyaXgodCkge1xuXHQgIHZhciBhcnIgPSB0Lm1hdGNoKC8oPzpcXC18XFxiKVtcXGRcXC1cXC5lXStcXGIvZ2kpO1xuXHQgIHZhciBtID0ge307XG5cdCAgaWYgKGFyci5sZW5ndGggPT09IDYpIHtcblx0ICAgIG0ubTExID0gcGFyc2VGbG9hdChhcnJbMF0pO1xuXHQgICAgbS5tMTIgPSBwYXJzZUZsb2F0KGFyclsxXSk7XG5cdCAgICBtLm0xMyA9IDA7XG5cdCAgICBtLm0xNCA9IDA7XG5cdCAgICBtLm0yMSA9IHBhcnNlRmxvYXQoYXJyWzJdKTtcblx0ICAgIG0ubTIyID0gcGFyc2VGbG9hdChhcnJbM10pO1xuXHQgICAgbS5tMjMgPSAwO1xuXHQgICAgbS5tMjQgPSAwO1xuXHQgICAgbS5tMzEgPSAwO1xuXHQgICAgbS5tMzIgPSAwO1xuXHQgICAgbS5tMzMgPSAxO1xuXHQgICAgbS5tMzQgPSAwO1xuXHQgICAgbS5tNDEgPSBwYXJzZUZsb2F0KGFycls0XSk7XG5cdCAgICBtLm00MiA9IHBhcnNlRmxvYXQoYXJyWzVdKTtcblx0ICAgIG0ubTQzID0gMDtcblx0ICAgIG0ubTQ0ID0gMDtcblx0ICB9IGVsc2Uge1xuXHQgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgdmFyIGlpID0gaSAlIDQgKyAxO1xuXHQgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoaSAvIDQpICsgMTtcblx0ICAgICAgbVsnbScgKyBqICsgaWldID0gcGFyc2VGbG9hdChpdGVtKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuXHQgIHZhciBfdHJhbnNmb3JtID0gdHJhbnNmb3JtID09PSAnbm9uZScgfHwgdHJhbnNmb3JtID09PSAnJyA/ICdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCknIDogdHJhbnNmb3JtO1xuXHQgIHZhciBtID0gZ2V0TWF0cml4KF90cmFuc2Zvcm0pO1xuXHQgIHZhciBtMTEgPSBtLm0xMTtcblx0ICB2YXIgbTEyID0gbS5tMTI7XG5cdCAgdmFyIG0xMyA9IG0ubTEzO1xuXHQgIHZhciBtMTQgPSBtLm0xNDtcblx0ICB2YXIgbTIxID0gbS5tMjE7XG5cdCAgdmFyIG0yMiA9IG0ubTIyO1xuXHQgIHZhciBtMjMgPSBtLm0yMztcblx0ICB2YXIgbTI0ID0gbS5tMjQ7XG5cdCAgdmFyIG0zMSA9IG0ubTMxO1xuXHQgIHZhciBtMzIgPSBtLm0zMjtcblx0ICB2YXIgbTMzID0gbS5tMzM7XG5cdCAgdmFyIG0zNCA9IG0ubTM0O1xuXHQgIHZhciBtNDMgPSBtLm00Mztcblx0ICB2YXIgdDEgPSB2b2lkIDA7XG5cdCAgdmFyIHQyID0gdm9pZCAwO1xuXHQgIHZhciB0MyA9IHZvaWQgMDtcblx0ICB2YXIgdG0gPSB7fTtcblx0ICB0bS5wZXJzcGVjdGl2ZSA9IG0zNCA/IHRvRml4ZWQobTMzIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSkgOiAwO1xuXHQgIHRtLnJvdGF0ZVggPSB0b0ZpeGVkKE1hdGguYXNpbihtMjMpICogUkFEMkRFRyk7XG5cdCAgdmFyIGFuZ2xlID0gdG0ucm90YXRlWCAqIERFRzJSQUQ7XG5cdCAgdmFyIHNrZXdYID0gTWF0aC50YW4obTIxKTtcblx0ICB2YXIgc2tld1kgPSBNYXRoLnRhbihtMTIpO1xuXHQgIHZhciBjb3MgPSBtMzQgKiB0bS5wZXJzcGVjdGl2ZTtcblx0ICB2YXIgc2luID0gdm9pZCAwO1xuXHQgIC8vIHJvdGF0ZVhcblx0ICBpZiAoYW5nbGUpIHtcblx0ICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG5cdCAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuXHQgICAgdDEgPSBtMjEgKiBjb3MgKyBtMzEgKiBzaW47XG5cdCAgICB0MiA9IG0yMiAqIGNvcyArIG0zMiAqIHNpbjtcblx0ICAgIHQzID0gbTIzICogY29zICsgbTMzICogc2luO1xuXHQgICAgbTMxID0gbTIxICogLXNpbiArIG0zMSAqIGNvcztcblx0ICAgIG0zMiA9IG0yMiAqIC1zaW4gKyBtMzIgKiBjb3M7XG5cdCAgICBtMzMgPSBtMjMgKiAtc2luICsgbTMzICogY29zO1xuXHQgICAgbTM0ID0gbTI0ICogLXNpbiArIG0zNCAqIGNvcztcblx0ICAgIG0yMSA9IHQxO1xuXHQgICAgbTIyID0gdDI7XG5cdCAgICBtMjMgPSB0Mztcblx0ICB9XG5cdCAgLy8gcm90YXRlWVxuXHQgIGFuZ2xlID0gTWF0aC5hdGFuMihtMzEsIG0zMyk7XG5cdCAgdG0ucm90YXRlWSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcblx0ICBpZiAoYW5nbGUpIHtcblx0ICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG5cdCAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuXHQgICAgdDEgPSBtMTEgKiBjb3MgLSBtMzEgKiBzaW47XG5cdCAgICB0MiA9IG0xMiAqIGNvcyAtIG0zMiAqIHNpbjtcblx0ICAgIHQzID0gbTEzICogY29zIC0gbTMzICogc2luO1xuXHQgICAgbTMyID0gbTEyICogc2luICsgbTMyICogY29zO1xuXHQgICAgbTMzID0gbTEzICogc2luICsgbTMzICogY29zO1xuXHQgICAgbTM0ID0gbTE0ICogc2luICsgbTM0ICogY29zO1xuXHQgICAgbTExID0gdDE7XG5cdCAgICBtMTIgPSB0Mjtcblx0ICAgIG0xMyA9IHQzO1xuXHQgIH1cblx0ICAvLyByb3RhdGVaXG5cdCAgYW5nbGUgPSBNYXRoLmF0YW4yKG0xMiwgbTExKTtcblx0ICB0bS5yb3RhdGUgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG5cdCAgaWYgKGFuZ2xlKSB7XG5cdCAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuXHQgICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcblx0ICAgIG0xMSA9IG0xMSAqIGNvcyArIG0yMSAqIHNpbjtcblx0ICAgIHQyID0gbTEyICogY29zICsgbTIyICogc2luO1xuXHQgICAgbTIyID0gbTEyICogLXNpbiArIG0yMiAqIGNvcztcblx0ICAgIG0yMyA9IG0xMyAqIC1zaW4gKyBtMjMgKiBjb3M7XG5cdCAgICBtMTIgPSB0Mjtcblx0ICB9XG5cdFxuXHQgIGlmICh0bS5yb3RhdGVYICYmIE1hdGguYWJzKHRtLnJvdGF0ZVgpICsgTWF0aC5hYnModG0ucm90YXRlKSA+IDM1OS45KSB7XG5cdCAgICB0bS5yb3RhdGVYID0gdG0ucm90YXRlID0gMDtcblx0ICAgIHRtLnJvdGF0ZVkgKz0gMTgwO1xuXHQgIH1cblx0ICB0bS5zY2FsZVggPSB0b0ZpeGVkKE1hdGguc3FydChtMTEgKiBtMTEgKyBtMTIgKiBtMTIpKTtcblx0ICB0bS5zY2FsZVkgPSB0b0ZpeGVkKE1hdGguc3FydChtMjIgKiBtMjIgKyBtMzIgKiBtMzIpKTtcblx0ICB0bS5zY2FsZVogPSB0b0ZpeGVkKE1hdGguc3FydChtMjMgKiBtMjMgKyBtMzMgKiBtMzMpKTtcblx0ICAvLyDkuI3nrqEgc2tld1ggc2tld1nkuobvvJtcblx0ICB0bS5za2V3WCA9IHNrZXdYID09PSAtc2tld1kgPyAwIDogc2tld1g7XG5cdCAgdG0uc2tld1kgPSBza2V3WSA9PT0gLXNrZXdYID8gMCA6IHNrZXdZO1xuXHQgIHRtLnBlcnNwZWN0aXZlID0gbTM0ID8gMSAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkgOiAwO1xuXHQgIHRtLnRyYW5zbGF0ZVggPSBtLm00MTtcblx0ICB0bS50cmFuc2xhdGVZID0gbS5tNDI7XG5cdCAgdG0udHJhbnNsYXRlWiA9IG00Mztcblx0ICByZXR1cm4gdG07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0eWxlc1RvQ3NzKGtleSwgdmFsdWUpIHtcblx0ICB2YXIgX3ZhbHVlID0gdm9pZCAwO1xuXHQgIGlmICghaXNVbml0bGVzc051bWJlcltrZXldICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcblx0ICAgIF92YWx1ZSA9ICcgJyArIHZhbHVlICsgJ3B4Jztcblx0ICB9IGVsc2UgaWYgKGtleSA9PT0gJ2NvbnRlbnQnICYmICF1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4LnRlc3QodmFsdWUpKSB7XG5cdCAgICBfdmFsdWUgPSAnXFwnJyArIHZhbHVlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSArICdcXCcnO1xuXHQgIH1cblx0ICByZXR1cm4gX3ZhbHVlIHx8IHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbml0KHAsIHYpIHtcblx0ICB2YXIgY3VycmVudFVuaXQgPSB2ICYmIHYudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9pZywgJycpO1xuXHQgIHZhciB1bml0ID0gJyc7XG5cdCAgaWYgKHAuaW5kZXhPZigndHJhbnNsYXRlJykgPj0gMCB8fCBwLmluZGV4T2YoJ3BlcnNwZWN0aXZlJykgPj0gMCB8fCBwLmluZGV4T2YoJ2JsdXInKSA+PSAwKSB7XG5cdCAgICB1bml0ID0gJ3B4Jztcblx0ICB9IGVsc2UgaWYgKHAuaW5kZXhPZignc2tldycpID49IDAgfHwgcC5pbmRleE9mKCdyb3RhdGUnKSA+PSAwKSB7XG5cdCAgICB1bml0ID0gJ2RlZyc7XG5cdCAgfVxuXHQgIHJldHVybiBjdXJyZW50VW5pdCB8fCB1bml0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRWYWx1ZXMocCwgZCwgdSkge1xuXHQgIHJldHVybiBwICsgJygnICsgZCArICh1IHx8ICcnKSArICcpJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZFN0eWxlQnlOYW1lKGNzc0FycmF5LCBuYW1lKSB7XG5cdCAgdmFyIHJldCA9IG51bGw7XG5cdCAgaWYgKGNzc0FycmF5KSB7XG5cdCAgICBjc3NBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChfY25hbWUpIHtcblx0ICAgICAgaWYgKHJldCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY05hbWUgPSBfY25hbWUuc3BsaXQoJygnKVswXTtcblx0ICAgICAgdmFyIGEgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihjTmFtZSkgPj0gMDtcblx0ICAgICAgdmFyIGIgPSBuYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDEpLmluZGV4T2YobmFtZSkgPj0gMDtcblx0ICAgICAgdmFyIGMgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiAoY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDIpID09PSBuYW1lIHx8IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMikgPT09IGNOYW1lKTtcblx0ICAgICAgaWYgKGNOYW1lID09PSBuYW1lIHx8IGEgfHwgYiB8fCBjKSB7XG5cdCAgICAgICAgcmV0ID0gX2NuYW1lO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VTdHlsZShjdXJyZW50LCBjaGFuZ2UpIHtcblx0ICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudCA9PT0gJycpIHtcblx0ICAgIHJldHVybiBjaGFuZ2U7XG5cdCAgfVxuXHQgIGlmICghY2hhbmdlIHx8IGNoYW5nZSA9PT0gJycpIHtcblx0ICAgIHJldHVybiBjdXJyZW50O1xuXHQgIH1cblx0ICB2YXIgX2N1cnJlbnQgPSBjdXJyZW50LnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiBpdGVtO1xuXHQgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW0gKyAnKSc7XG5cdCAgfSk7XG5cdCAgdmFyIF9jaGFuZ2UgPSBjaGFuZ2UucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG5cdCAgfSk7XG5cdCAgX2NoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2VPbmx5KSB7XG5cdCAgICB2YXIgY2hhbmdlQXJyID0gY2hhbmdlT25seS5zcGxpdCgnKCcpO1xuXHQgICAgdmFyIGNoYW5nZU5hbWUgPSBjaGFuZ2VBcnJbMF07XG5cdCAgICB2YXIgY3VycmVudFNhbWUgPSBmaW5kU3R5bGVCeU5hbWUoX2N1cnJlbnQsIGNoYW5nZU5hbWUpO1xuXHQgICAgaWYgKCFjdXJyZW50U2FtZSkge1xuXHQgICAgICBfY3VycmVudC5wdXNoKGNoYW5nZU9ubHkgKyAnKScpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGluZGV4ID0gX2N1cnJlbnQuaW5kZXhPZihjdXJyZW50U2FtZSk7XG5cdCAgICAgIF9jdXJyZW50W2luZGV4XSA9IGNoYW5nZU9ubHkgKyAnKSc7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgX2N1cnJlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgaWYgKGl0ZW0uaW5kZXhPZigncGVyc3BlY3RpdmUnKSA+PSAwICYmIGkpIHtcblx0ICAgICAgX2N1cnJlbnQuc3BsaWNlKGksIDEpO1xuXHQgICAgICBfY3VycmVudC51bnNoaWZ0KGl0ZW0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBfY3VycmVudC5qb2luKCcgJykudHJpbSgpO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBjc3NMaXN0O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuR3JvdXAgPSBleHBvcnRzLkJ1dHRvbiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0dmFyIF9ncm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF9ncm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ncm91cCk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvQnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X3JhZGlvMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5cdF9yYWRpbzJbXCJkZWZhdWx0XCJdLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuR3JvdXAgPSBfZ3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfcmFkaW8yW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjRHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX3JjRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNEcm9wZG93bik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93biwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRHJvcGRvd24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIERyb3Bkb3duLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uTmFtZSA9IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMkcGxhY2VtZW50ID0gdGhpcy5wcm9wcy5wbGFjZW1lbnQsXG5cdCAgICAgICAgICAgIHBsYWNlbWVudCA9IF9wcm9wcyRwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJHBsYWNlbWVudDtcblx0XG5cdCAgICAgICAgaWYgKHBsYWNlbWVudC5pbmRleE9mKCd0b3AnKSA+PSAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnc2xpZGUtZG93bic7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAnc2xpZGUtdXAnO1xuXHQgICAgfTtcblx0XG5cdCAgICBEcm9wZG93bi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duVHJpZ2dlciA9ICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShjaGlsZHJlbiwge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjaGlsZHJlbi5wcm9wcy5jbGFzc05hbWUsIHByZWZpeENscyArICctdHJpZ2dlcicpXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY0Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHRyYW5zaXRpb25OYW1lOiB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCkgfSwgdGhpcy5wcm9wcyksXG5cdCAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlclxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBEcm9wZG93bjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bjtcblx0XG5cdERyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1kcm9wZG93bicsXG5cdCAgICBtb3VzZUVudGVyRGVsYXk6IDAuMTUsXG5cdCAgICBtb3VzZUxlYXZlRGVsYXk6IDAuMSxcblx0ICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUmFkaW9CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpb0J1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUmFkaW9CdXR0b24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpb0J1dHRvbik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHRoaXMucHJvcHMpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFkaW9CdXR0b247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9CdXR0b247XG5cdFxuXHRSYWRpb0J1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8tYnV0dG9uJ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9SY1RhYmxlJENvbHVtbkdyb3VwKSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW5Hcm91cCwgX1JjVGFibGUkQ29sdW1uR3JvdXApO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uR3JvdXApO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW5Hcm91cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBDb2x1bW5Hcm91cDtcblx0fShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbkdyb3VwKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uR3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgWkVSTzogNDgsXG5cdCAgTklORTogNTcsXG5cdFxuXHQgIE5VTVBBRF9aRVJPOiA5Nixcblx0ICBOVU1QQURfTklORTogMTA1LFxuXHRcblx0ICBCQUNLU1BBQ0U6IDgsXG5cdCAgREVMRVRFOiA0Nixcblx0ICBFTlRFUjogMTMsXG5cdFxuXHQgIEFSUk9XX1VQOiAzOCxcblx0ICBBUlJPV19ET1dOOiA0MFxuXHR9O1xuXG4vKioqLyB9LFxuXG4vKioqLyA1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICAvLyBPcHRpb25zLmpzeFxuXHQgIGl0ZW1zX3Blcl9wYWdlOiAn5p2hL+mhtScsXG5cdCAganVtcF90bzogJ+i3s+iHsycsXG5cdCAgcGFnZTogJ+mhtScsXG5cdFxuXHQgIC8vIFBhZ2luYXRpb24uanN4XG5cdCAgcHJldl9wYWdlOiAn5LiK5LiA6aG1Jyxcblx0ICBuZXh0X3BhZ2U6ICfkuIvkuIDpobUnLFxuXHQgIHByZXZfNTogJ+WQkeWJjSA1IOmhtScsXG5cdCAgbmV4dF81OiAn5ZCR5ZCOIDUg6aG1Jyxcblx0ICBwcmV2XzM6ICflkJHliY0gMyDpobUnLFxuXHQgIG5leHRfMzogJ+WQkeWQjiAzIOmhtSdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfVGFibGUyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX1RpbWVMaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHRcblx0dmFyIF9UaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGluZSk7XG5cdFxuXHR2YXIgX3BsdWdpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblx0XG5cdHZhciBfdGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIF90aWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlja2VyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHZhciBwZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcblx0XG5cdHZhciBUd2Vlbk9uZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFR3ZWVuT25lLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVHdlZW5PbmUoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdlZW5PbmUpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgX3RoaXMucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG5cdCAgICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICAgIF90aGlzLnBsYXkoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICBpZiAocHJvcHMuYW5pbWF0aW9uICYmIE9iamVjdC5rZXlzKHByb3BzLmFuaW1hdGlvbikubGVuZ3RoKSB7XG5cdCAgICAgICAgX3RoaXMudGltZUxpbmUgPSBuZXcgX1RpbWVMaW5lMltcImRlZmF1bHRcIl0oX3RoaXMuZG9tLCAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKHByb3BzLmFuaW1hdGlvbiksIHsgYXR0cjogcHJvcHMuYXR0ciwgd2lsbENoYW5nZTogcHJvcHMud2lsbENoYW5nZSB9KTtcblx0ICAgICAgICAvLyDpooTlhYjms6jlhowgcmFmLCDliJ3lp4vliqjnlLvmlbDlgLzjgIJcblx0ICAgICAgICBfdGhpcy5yYWYoMCwgdHJ1ZSk7XG5cdCAgICAgICAgLy8g5byA5aeL5Yqo55S7XG5cdCAgICAgICAgX3RoaXMucGxheSgpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICBpZiAoX3RoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnJhZklEID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmFkZChfdGhpcy5yYWYpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5mcmFtZSA9IGZ1bmN0aW9uIChkYXRlLCByZWdpc3Rlcikge1xuXHQgICAgICB2YXIgcmVnaXN0ZXJNb21lbnQgPSByZWdpc3RlciA/IGRhdGUgOiAwO1xuXHQgICAgICB2YXIgbW9tZW50ID0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWUgKyByZWdpc3Rlck1vbWVudCArIF90aGlzLnN0YXJ0TW9tZW50O1xuXHQgICAgICBpZiAoIXJlZ2lzdGVyICYmIG1vbWVudCA8IHBlckZyYW1lICYmIHR5cGVvZiBfdGhpcy5wcm9wcy5tb21lbnQgIT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgLy8g5rOo5YaM5a6M5ZCO77yM56ys5LiA5bin6aKE5YWI6LeR5Yqo77yMIOm8oOagh+i3n+maj1xuXHQgICAgICAgIG1vbWVudCA9IHBlckZyYW1lO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChfdGhpcy5yZXZlcnNlKSB7XG5cdCAgICAgICAgbW9tZW50ID0gKF90aGlzLnN0YXJ0TW9tZW50IHx8IDApIC0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWU7XG5cdCAgICAgIH1cblx0ICAgICAgbW9tZW50ID0gbW9tZW50ID4gX3RoaXMudGltZUxpbmUudG90YWxUaW1lID8gX3RoaXMudGltZUxpbmUudG90YWxUaW1lIDogbW9tZW50O1xuXHQgICAgICBtb21lbnQgPSBtb21lbnQgPD0gMCA/IDAgOiBtb21lbnQ7XG5cdCAgICAgIGlmIChtb21lbnQgPCBfdGhpcy5tb21lbnQgJiYgIV90aGlzLnJldmVyc2UpIHtcblx0ICAgICAgICBfdGhpcy50aW1lTGluZS5yZXNldERlZmF1bHRTdHlsZSgpO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLm1vbWVudCA9IG1vbWVudDtcblx0ICAgICAgX3RoaXMudGltZUxpbmUub25DaGFuZ2UgPSBfdGhpcy5vbkNoYW5nZTtcblx0ICAgICAgX3RoaXMudGltZUxpbmUuZnJhbWUobW9tZW50KTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMucmFmID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG5cdCAgICAgIF90aGlzLmZyYW1lKGRhdGUsIHJlZ2lzdGVyKTtcblx0ICAgICAgaWYgKF90aGlzLm1vbWVudCA+PSBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgJiYgIV90aGlzLnJldmVyc2UgfHwgX3RoaXMucGF1c2VkIHx8IF90aGlzLnJldmVyc2UgJiYgX3RoaXMubW9tZW50ID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmNsZWFyKF90aGlzLnJhZklEKTtcblx0ICAgICAgX3RoaXMucmFmSUQgPSAtMTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMucmFmSUQgPSAtMTtcblx0ICAgIF90aGlzLm1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuXHQgICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcblx0ICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICBfdGhpcy5wYXVzZWQgPSBfdGhpcy5wcm9wcy5wYXVzZWQ7XG5cdCAgICBfdGhpcy5yZXZlcnNlID0gX3RoaXMucHJvcHMucmV2ZXJzZTtcblx0ICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICBfdGhpcy5uZXdNb21lbnRBbmltID0gZmFsc2U7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHRoaXMuZG9tID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5vbkNoYW5nZSA9IG5leHRQcm9wcy5vbkNoYW5nZTtcblx0ICAgIC8vIOi3s+W4p+S6i+S7tiBtb21lbnQ7XG5cdCAgICB2YXIgbmV3TW9tZW50ID0gbmV4dFByb3BzLm1vbWVudDtcblx0ICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuXHQgICAgaWYgKHR5cGVvZiBuZXdNb21lbnQgPT09ICdudW1iZXInICYmIG5ld01vbWVudCAhPT0gdGhpcy5tb21lbnQpIHtcblx0ICAgICAgdGhpcy5zdGFydE1vbWVudCA9IG5ld01vbWVudDtcblx0ICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICBpZiAodGhpcy5yYWZJRCA9PT0gLTEgJiYgIW5leHRQcm9wcy5wYXVzZWQpIHtcblx0ICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMyLnRpbWVMaW5lLnJlc2V0QW5pbURhdGEoKTtcblx0ICAgICAgICAgIHZhciBzdHlsZSA9IG5leHRQcm9wcy5zdHlsZTtcblx0ICAgICAgICAgIF90aGlzMi5kb20uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcblx0ICAgICAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgX3RoaXMyLmRvbS5zdHlsZVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIHN0eWxlW2tleV0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBfdGhpczIucGxheSgpO1xuXHQgICAgICAgIH0pKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5uZXdNb21lbnRBbmltID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy8g5Yqo55S75aSE55CGXG5cdCAgICB2YXIgbmV3QW5pbWF0aW9uID0gbmV4dFByb3BzLmFuaW1hdGlvbjtcblx0ICAgIHZhciBjdXJyZW50QW5pbWF0aW9uID0gdGhpcy5wcm9wcy5hbmltYXRpb247XG5cdCAgICB2YXIgZXF1YWwgPSAoMCwgX3V0aWwub2JqZWN0RXF1YWwpKGN1cnJlbnRBbmltYXRpb24sIG5ld0FuaW1hdGlvbik7XG5cdCAgICB2YXIgc3R5bGVFcXVhbCA9ICgwLCBfdXRpbC5vYmplY3RFcXVhbCkodGhpcy5wcm9wcy5zdHlsZSwgbmV4dFByb3BzLnN0eWxlKTtcblx0ICAgIC8vIOWmguaenCBhbmltYXRpb24g5LiN5ZCM77yMIOmHjeaWsOWKqOeUu1xuXHQgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IGZhbHNlO1xuXHQgICAgaWYgKCFlcXVhbCkge1xuXHQgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICBpZiAobmV4dFByb3BzLnJlc2V0U3R5bGVCb29sICYmIHRoaXMudGltZUxpbmUpIHtcblx0ICAgICAgICB0aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zdGFydE1vbWVudCA9IDA7XG5cdCAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG5cdCAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcblx0ICAgIH0gZWxzZSBpZiAoIXN0eWxlRXF1YWwpIHtcblx0ICAgICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDnm7jlkIzvvIzvvIxzdHlsZSDkuI3lkIzvvIzku47lvZPliY3ml7bpl7TlvIDmlL7jgIJcblx0ICAgICAgaWYgKHRoaXMucmFmSUQgIT09IC0xKSB7XG5cdCAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG5cdCAgICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICAgIHRoaXMucmVzdGFydEFuaW0gPSB0cnVlO1xuXHQgICAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy8g5pqC5YGc5YCS5pS+XG5cdCAgICBpZiAodGhpcy5wYXVzZWQgIT09IG5leHRQcm9wcy5wYXVzZWQgfHwgdGhpcy5yZXZlcnNlICE9PSBuZXh0UHJvcHMucmV2ZXJzZSkge1xuXHQgICAgICB0aGlzLnBhdXNlZCA9IG5leHRQcm9wcy5wYXVzZWQ7XG5cdCAgICAgIHRoaXMucmV2ZXJzZSA9IG5leHRQcm9wcy5yZXZlcnNlO1xuXHQgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICh0aGlzLnJldmVyc2UgJiYgbmV4dFByb3BzLnJldmVyc2VEZWxheSkge1xuXHQgICAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS50aW1lb3V0KHRoaXMucmVzdGFydCwgbmV4dFByb3BzLnJldmVyc2VEZWxheSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMucmVzdGFydCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAvLyDmoLflvI/mm7TmlrDkuoblkI7lho3miafooYzliqjnlLvvvJtcblx0ICAgIGlmICh0aGlzLnJlc3RhcnRBbmltKSB7XG5cdCAgICAgIHRoaXMuc3RhcnQoKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLm5ld01vbWVudEFuaW0pIHtcblx0ICAgICAgdGhpcy5yYWYoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIFsnYW5pbWF0aW9uJywgJ2NvbXBvbmVudCcsICdyZXZlcnNlRGVsYXknLCAnYXR0cicsICdwYXVzZWQnLCAncmV2ZXJzZScsICdtb21lbnQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gZGVsZXRlIHByb3BzW2tleV07XG5cdCAgICB9KTtcblx0ICAgIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuc3R5bGUpO1xuXHQgICAgT2JqZWN0LmtleXMocHJvcHMuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcblx0ICAgICAgaWYgKHAubWF0Y2goL2ZpbHRlci9pKSkge1xuXHQgICAgICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuXHQgICAgICAgICAgcmV0dXJuIHByb3BzLnN0eWxlW3ByZWZpeCArICdGaWx0ZXInXSA9IHByb3BzLnN0eWxlW3BdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHByb3BzLmNvbXBvbmVudCA9IHR5cGVvZiBwcm9wcy5jb21wb25lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3BzLmNvbXBvbmVudFJlcGxhY2UgOiBwcm9wcy5jb21wb25lbnQ7XG5cdCAgICBpZiAoIXByb3BzLmNvbXBvbmVudCkge1xuXHQgICAgICBkZWxldGUgcHJvcHMuY29tcG9uZW50O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVHdlZW5PbmU7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXHRcblx0VHdlZW5PbmUucHJvcFR5cGVzID0ge1xuXHQgIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY29tcG9uZW50UmVwbGFjZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgYW5pbWF0aW9uOiBvYmplY3RPckFycmF5LFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcGF1c2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcmV2ZXJzZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHJldmVyc2VEZWxheTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgbW9tZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBhdHRyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICByZXNldFN0eWxlQm9vbDogX3JlYWN0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRUd2Vlbk9uZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgY29tcG9uZW50OiAnZGl2Jyxcblx0ICByZXZlcnNlRGVsYXk6IDAsXG5cdCAgYXR0cjogJ3N0eWxlJyxcblx0ICBvbkNoYW5nZTogbm9vcCxcblx0ICB3aWxsQ2hhbmdlOiB0cnVlXG5cdH07XG5cdFR3ZWVuT25lLnBsdWdpbnMgPSBfcGx1Z2luczJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHdlZW5GdW5jdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cdFxuXHR2YXIgX3R3ZWVuRnVuY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R3ZWVuRnVuY3Rpb25zKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5wYXRoID0gZnVuY3Rpb24gKF9wYXRoLCBfcGFyYW0pIHtcblx0ICB2YXIgcGFyYW0gPSBfcGFyYW0gfHwge307XG5cdCAgdmFyIHBhdGhOb2RlID0gKDAsIF91dGlsLnBhcnNlUGF0aCkoX3BhdGgpO1xuXHQgIHZhciBwYXRoTGVuZ3RoID0gcGF0aE5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcblx0ICB2YXIgcmVjdCA9IHBhcmFtLnJlY3QgfHwgMTAwOyAvLyBwYXRoIOeahOWkp+Wwj++8jDEwMCAqIDEwMO+8jFxuXHQgIHZhciBsZW5ndGhQaXhlbCA9IHBhcmFtLmxlbmd0aFBpeGVsIHx8IDE1MDA7IC8vIOe6v+S4iuWPlueCueWDj+e0oO+8jOm7mOiupOWIhuS4uiAxNTAwIOauteOAguOAglxuXHQgIHZhciBwb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aFBpeGVsOyBpKyspIHtcblx0ICAgIHBvaW50cy5wdXNoKHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocGF0aExlbmd0aCAvIGxlbmd0aFBpeGVsICogaSkpO1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24gcGF0aCh0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIHAgPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5saW5lYXIodCwgYiwgX2MsIGQpO1xuXHQgICAgdmFyIHRpbWVQb2ludFggPSByZWN0ICogcDsgLy8gWCDovbTnmoTnmb7liIbmr5Q7XG5cdCAgICAvLyDlj5blh7ogeCDovbTnmb7liIbmr5TkuIrnmoTngrk7XG5cdCAgICB2YXIgcG9pbnQgPSBwb2ludHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpdGVtLnggPj0gdGltZVBvaW50WDtcblx0ICAgIH0pWzBdIHx8IHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocCAqIHBhdGhMZW5ndGgpO1xuXHQgICAgcmV0dXJuIDEgLSBwb2ludC55IC8gcmVjdDtcblx0ICB9O1xuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxOlxuWzEyMTYsIDEwN10sXG5cbi8qKiovIDcyOlxuWzEyMTYsIDExMV0sXG5cbi8qKiovIDc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIE1FTlUgPSBleHBvcnRzLk1FTlUgPSAxO1xuXHR2YXIgREVUQUlMID0gZXhwb3J0cy5ERVRBSUwgPSAyO1xuXHR2YXIgQUREID0gZXhwb3J0cy5BREQgPSAzO1xuXHR2YXIgVVBEQVRFID0gZXhwb3J0cy5VUERBVEUgPSA0O1xuXHR2YXIgREVMRVRFID0gZXhwb3J0cy5ERUxFVEUgPSA1O1xuXHR2YXIgQ0hFQ0sgPSBleHBvcnRzLkNIRUNLID0gNjtcblx0dmFyIFVQTE9BRCA9IGV4cG9ydHMuVVBMT0FEID0gNztcblxuLyoqKi8gfSxcblxuLyoqKi8gNzY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7dmFyIG5vdyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KVxuXHQgICwgcm9vdCA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XG5cdCAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cblx0ICAsIHN1ZmZpeCA9ICdBbmltYXRpb25GcmFtZSdcblx0ICAsIHJhZiA9IHJvb3RbJ3JlcXVlc3QnICsgc3VmZml4XVxuXHQgICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cdFxuXHRmb3IodmFyIGkgPSAwOyAhcmFmICYmIGkgPCB2ZW5kb3JzLmxlbmd0aDsgaSsrKSB7XG5cdCAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuXHQgIGNhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWwnICsgc3VmZml4XVxuXHQgICAgICB8fCByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cdH1cblx0XG5cdC8vIFNvbWUgdmVyc2lvbnMgb2YgRkYgaGF2ZSByQUYgYnV0IG5vdCBjQUZcblx0aWYoIXJhZiB8fCAhY2FmKSB7XG5cdCAgdmFyIGxhc3QgPSAwXG5cdCAgICAsIGlkID0gMFxuXHQgICAgLCBxdWV1ZSA9IFtdXG5cdCAgICAsIGZyYW1lRHVyYXRpb24gPSAxMDAwIC8gNjBcblx0XG5cdCAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0ICAgIGlmKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB2YXIgX25vdyA9IG5vdygpXG5cdCAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG5cdCAgICAgIGxhc3QgPSBuZXh0ICsgX25vd1xuXHQgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG5cdCAgICAgICAgLy8gQ2xlYXIgcXVldWUgaGVyZSB0byBwcmV2ZW50XG5cdCAgICAgICAgLy8gY2FsbGJhY2tzIGZyb20gYXBwZW5kaW5nIGxpc3RlbmVyc1xuXHQgICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcblx0ICAgICAgICBxdWV1ZS5sZW5ndGggPSAwXG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG5cdCAgICAgICAgICAgIHRyeXtcblx0ICAgICAgICAgICAgICBjcFtpXS5jYWxsYmFjayhsYXN0KVxuXHQgICAgICAgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0aHJvdyBlIH0sIDApXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIE1hdGgucm91bmQobmV4dCkpXG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKHtcblx0ICAgICAgaGFuZGxlOiArK2lkLFxuXHQgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG5cdCAgICAgIGNhbmNlbGxlZDogZmFsc2Vcblx0ICAgIH0pXG5cdCAgICByZXR1cm4gaWRcblx0ICB9XG5cdFxuXHQgIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuXHQgICAgZm9yKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmKHF1ZXVlW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG5cdCAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgLy8gV3JhcCBpbiBhIG5ldyBmdW5jdGlvbiB0byBwcmV2ZW50XG5cdCAgLy8gYGNhbmNlbGAgcG90ZW50aWFsbHkgYmVpbmcgYXNzaWduZWRcblx0ICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuXHQgIHJldHVybiByYWYuY2FsbChyb290LCBmbilcblx0fVxuXHRtb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICBjYWYuYXBwbHkocm9vdCwgYXJndW1lbnRzKVxuXHR9XG5cdG1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgcm9vdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByYWZcblx0ICByb290LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2FmXG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gODI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ2hlY2tib3hHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIENoZWNrYm94R3JvdXAocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94R3JvdXApO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnRvZ2dsZU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gX3RoaXMuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTNbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS52YWx1ZSkpO1xuXHQgICAgICAgICAgICBpZiAob3B0aW9uSW5kZXggPT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG9wdGlvbi52YWx1ZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZS5zcGxpY2Uob3B0aW9uSW5kZXgsIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlIHx8IFtdXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSB8fCBbXVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXHQgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzk2MFxuXHRcblx0ICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uXG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvcHRpb247XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cdFxuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCkubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfaW5kZXgyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgZGlzYWJsZWQ6ICdkaXNhYmxlZCcgaW4gb3B0aW9uID8gb3B0aW9uLmRpc2FibGVkIDogX3RoaXMyLnByb3BzLmRpc2FibGVkLCBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpICE9PSAtMSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZU9wdGlvbihvcHRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtJywga2V5OiBvcHRpb24udmFsdWUgfSxcblx0ICAgICAgICAgICAgICAgIG9wdGlvbi5sYWJlbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcgfSxcblx0ICAgICAgICAgICAgb3B0aW9uc1xuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBDaGVja2JveEdyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94R3JvdXA7XG5cdFxuXHRDaGVja2JveEdyb3VwLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIG9wdGlvbnM6IFtdLFxuXHQgICAgcHJlZml4Q2xzOiAnYW50LWNoZWNrYm94LWdyb3VwJ1xuXHR9O1xuXHRDaGVja2JveEdyb3VwLnByb3BUeXBlcyA9IHtcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIEJ1dHRvbkdyb3VwID0gX2J1dHRvbjJbXCJkZWZhdWx0XCJdLkdyb3VwO1xuXHRcblx0dmFyIERyb3Bkb3duQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRHJvcGRvd25CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIERyb3Bkb3duQnV0dG9uKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRHJvcGRvd25CdXR0b24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBEcm9wZG93bkJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuXHQgICAgICAgICAgICBvdmVybGF5ID0gX2Eub3ZlcmxheSxcblx0ICAgICAgICAgICAgdHJpZ2dlciA9IF9hLnRyaWdnZXIsXG5cdCAgICAgICAgICAgIGFsaWduID0gX2EuYWxpZ24sXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgb25DbGljayA9IF9hLm9uQ2xpY2ssXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgdmlzaWJsZSA9IF9hLnZpc2libGUsXG5cdCAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZSA9IF9hLm9uVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJ0eXBlXCIsIFwib3ZlcmxheVwiLCBcInRyaWdnZXJcIiwgXCJhbGlnblwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwib25DbGlja1wiLCBcInByZWZpeENsc1wiLCBcImRpc2FibGVkXCIsIFwidmlzaWJsZVwiLCBcIm9uVmlzaWJsZUNoYW5nZVwiXSk7XG5cdCAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duUHJvcHMgPSB7XG5cdCAgICAgICAgICAgIGFsaWduOiBhbGlnbixcblx0ICAgICAgICAgICAgb3ZlcmxheTogb3ZlcmxheSxcblx0ICAgICAgICAgICAgdHJpZ2dlcjogZGlzYWJsZWQgPyBbXSA6IHRyaWdnZXIsXG5cdCAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZTogb25WaXNpYmxlQ2hhbmdlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpZiAoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpIHtcblx0ICAgICAgICAgICAgZHJvcGRvd25Qcm9wcy52aXNpYmxlID0gdmlzaWJsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIEJ1dHRvbkdyb3VwLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBjbGFzc05hbWU6IGNscyB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgb25DbGljazogb25DbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICBkcm9wZG93blByb3BzLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Rvd24nIH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRHJvcGRvd25CdXR0b247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25CdXR0b247XG5cdFxuXHREcm9wZG93bkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBhbGlnbjoge1xuXHQgICAgICAgIHBvaW50czogWyd0cicsICdiciddLFxuXHQgICAgICAgIG92ZXJsYXk6IHtcblx0ICAgICAgICAgICAgYWRqdXN0WDogMSxcblx0ICAgICAgICAgICAgYWRqdXN0WTogMVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICAgICAgdGFyZ2V0T2Zmc2V0OiBbMCwgMF1cblx0ICAgIH0sXG5cdCAgICB0eXBlOiAnZGVmYXVsdCcsXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24tYnV0dG9uJ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0XG5cdHZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXHRcblx0dmFyIF9kcm9wZG93bkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHRcblx0dmFyIF9kcm9wZG93bkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bkJ1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLkJ1dHRvbiA9IF9kcm9wZG93bkJ1dHRvbjJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODU6XG5bMTIxOSwgMTA4XSxcblxuLyoqKi8gODg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTApO1xuXHRcblx0dmFyIF9yY0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0RpYWxvZyk7XG5cdFxuXHR2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0XG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbW91c2VQb3NpdGlvbiA9IHZvaWQgMDtcblx0dmFyIG1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCA9IHZvaWQgMDtcblx0XG5cdHZhciBNb2RhbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE1vZGFsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBNb2RhbCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1vZGFsKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLmhhbmRsZUNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIHZhciBvbkNhbmNlbCA9IF90aGlzLnByb3BzLm9uQ2FuY2VsO1xuXHQgICAgICAgICAgICBpZiAob25DYW5jZWwpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2FuY2VsKGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVPayA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIHZhciBvbk9rID0gX3RoaXMucHJvcHMub25Paztcblx0ICAgICAgICAgICAgaWYgKG9uT2spIHtcblx0ICAgICAgICAgICAgICAgIG9uT2soZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBNb2RhbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICBpZiAobW91c2VQb3NpdGlvbkV2ZW50QmluZGVkKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8g5Y+q5pyJ54K55Ye75LqL5Lu25pSv5oyB5LuO6byg5qCH5L2N572u5Yqo55S75bGV5byAXG5cdCAgICAgICAgKDAsIF9hZGRFdmVudExpc3RlbmVyMltcImRlZmF1bHRcIl0pKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgbW91c2VQb3NpdGlvbiA9IHtcblx0ICAgICAgICAgICAgICAgIHg6IGUucGFnZVgsXG5cdCAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIC8vIDEwMG1zIOWGheWPkeeUn+i/h+eCueWHu+S6i+S7tu+8jOWImeS7jueCueWHu+S9jee9ruWKqOeUu+WxleekulxuXHQgICAgICAgICAgICAvLyDlkKbliJnnm7TmjqUgem9vbSDlsZXnpLpcblx0ICAgICAgICAgICAgLy8g6L+Z5qC35Y+v5Lul5YW85a656Z2e54K55Ye75pa55byP5bGV5byAXG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1vdXNlUG9zaXRpb24gPSBudWxsO1xuXHQgICAgICAgICAgICB9LCAxMDApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIG1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCA9IHRydWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIE1vZGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIG9rVGV4dCA9IF9wcm9wcy5va1RleHQsXG5cdCAgICAgICAgICAgIGNhbmNlbFRleHQgPSBfcHJvcHMuY2FuY2VsVGV4dCxcblx0ICAgICAgICAgICAgY29uZmlybUxvYWRpbmcgPSBfcHJvcHMuY29uZmlybUxvYWRpbmcsXG5cdCAgICAgICAgICAgIGZvb3RlciA9IF9wcm9wcy5mb290ZXIsXG5cdCAgICAgICAgICAgIHZpc2libGUgPSBfcHJvcHMudmlzaWJsZTtcblx0XG5cdCAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5Nb2RhbCkge1xuXHQgICAgICAgICAgICBva1RleHQgPSBva1RleHQgfHwgdGhpcy5jb250ZXh0LmFudExvY2FsZS5Nb2RhbC5va1RleHQ7XG5cdCAgICAgICAgICAgIGNhbmNlbFRleHQgPSBjYW5jZWxUZXh0IHx8IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuTW9kYWwuY2FuY2VsVGV4dDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGRlZmF1bHRGb290ZXIgPSBbX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICB7IGtleTogJ2NhbmNlbCcsIHNpemU6ICdsYXJnZScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2FuY2VsIH0sXG5cdCAgICAgICAgICAgIGNhbmNlbFRleHQgfHwgJ+WPlua2iCdcblx0ICAgICAgICApLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsga2V5OiAnY29uZmlybScsIHR5cGU6ICdwcmltYXJ5Jywgc2l6ZTogJ2xhcmdlJywgbG9hZGluZzogY29uZmlybUxvYWRpbmcsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlT2sgfSxcblx0ICAgICAgICAgICAgb2tUZXh0IHx8ICfnoa7lrponXG5cdCAgICAgICAgKV07XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjRGlhbG9nMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2FuY2VsLCBmb290ZXI6IGZvb3RlciB8fCBkZWZhdWx0Rm9vdGVyIH0sIHRoaXMucHJvcHMsIHsgdmlzaWJsZTogdmlzaWJsZSwgbW91c2VQb3NpdGlvbjogbW91c2VQb3NpdGlvbiB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBNb2RhbDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb2RhbDtcblx0XG5cdE1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1tb2RhbCcsXG5cdCAgICB3aWR0aDogNTIwLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6ICd6b29tJyxcblx0ICAgIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2ZhZGUnLFxuXHQgICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLFxuXHQgICAgdmlzaWJsZTogZmFsc2Vcblx0fTtcblx0TW9kYWwucHJvcFR5cGVzID0ge1xuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uQ2FuY2VsOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBva1RleHQ6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0ICAgIGNhbmNlbFRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0ICAgIHdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG5cdCAgICBjb25maXJtTG9hZGluZzogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG5cdCAgICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuXHQgICAgY2xvc2FibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHR9O1xuXHRNb2RhbC5jb250ZXh0VHlwZXMgPSB7XG5cdCAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDg5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBNaW5pU2VsZWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTWluaVNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gTWluaVNlbGVjdCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1pbmlTZWxlY3QpO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBNaW5pU2VsZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3NlbGVjdDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBzaXplOiAnc21hbGwnIH0sIHRoaXMucHJvcHMpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIE1pbmlTZWxlY3Q7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTWluaVNlbGVjdDtcblx0XG5cdE1pbmlTZWxlY3QuT3B0aW9uID0gX3NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdGlvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDkwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yY1BhZ2luYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7XG5cdFxuXHR2YXIgX3JjUGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1BhZ2luYXRpb24pO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHR2YXIgX01pbmlTZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTtcblx0XG5cdHZhciBfTWluaVNlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NaW5pU2VsZWN0KTtcblx0XG5cdHZhciBfemhfQ04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdHZhciBfemhfQ04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemhfQ04pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFBhZ2luYXRpb24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBQYWdpbmF0aW9uKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgUGFnaW5hdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICB2YXIgc2VsZWN0Q29tcG9uZW50Q2xhc3MgPSBfc2VsZWN0MltcImRlZmF1bHRcIl07XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5QYWdpbmF0aW9uO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMucHJvcHMubG9jYWxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnKSB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIG1pbmknO1xuXHQgICAgICAgICAgICBzZWxlY3RDb21wb25lbnRDbGFzcyA9IF9NaW5pU2VsZWN0MltcImRlZmF1bHRcIl07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHNlbGVjdENvbXBvbmVudENsYXNzLCBzZWxlY3RQcmVmaXhDbHM6IHRoaXMucHJvcHMuc2VsZWN0UHJlZml4Q2xzIH0sIHRoaXMucHJvcHMsIHsgbG9jYWxlOiBsb2NhbGUsIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFBhZ2luYXRpb247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGFnaW5hdGlvbjtcblx0XG5cdFBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgbG9jYWxlOiBfemhfQ04yW1wiZGVmYXVsdFwiXSxcblx0ICAgIGNsYXNzTmFtZTogJycsXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtcGFnaW5hdGlvbicsXG5cdCAgICBzZWxlY3RQcmVmaXhDbHM6ICdhbnQtc2VsZWN0J1xuXHR9O1xuXHRQYWdpbmF0aW9uLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfUGFnaW5hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTApO1xuXHRcblx0dmFyIF9QYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2luYXRpb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9QYWdpbmF0aW9uMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzNSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvQnV0dG9uKTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q2hlY2tlZFZhbHVlKGNoaWxkcmVuKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBudWxsO1xuXHQgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuXHQgICAgICAgIGlmIChyYWRpbyAmJiByYWRpby5wcm9wcyAmJiByYWRpby5wcm9wcy5jaGVja2VkKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gcmFkaW8ucHJvcHMudmFsdWU7XG5cdCAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG1hdGNoZWQgPyB7IHZhbHVlOiB2YWx1ZSB9IDogdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHR2YXIgUmFkaW9Hcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvR3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFJhZGlvR3JvdXAocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvR3JvdXApO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLm9uUmFkaW9DaGFuZ2UgPSBmdW5jdGlvbiAoZXYpIHtcblx0ICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IF90aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBldi50YXJnZXQudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgICAgIGlmIChvbkNoYW5nZSAmJiB2YWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZShldik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoJ2RlZmF1bHRWYWx1ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGdldENoZWNrZWRWYWx1ZShwcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgICAgICAgIHZhbHVlID0gY2hlY2tlZFZhbHVlICYmIGNoZWNrZWRWYWx1ZS52YWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IGdldENoZWNrZWRWYWx1ZShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgICAgICBpZiAoY2hlY2tlZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2hlY2tlZFZhbHVlLnZhbHVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgUmFkaW9Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIHZhciBjaGlsZHJlbiA9ICFwcm9wcy5jaGlsZHJlbiA/IFtdIDogX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4ubWFwKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAocmFkaW8pIHtcblx0ICAgICAgICAgICAgaWYgKHJhZGlvICYmIChyYWRpby50eXBlID09PSBfcmFkaW8yW1wiZGVmYXVsdFwiXSB8fCByYWRpby50eXBlID09PSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXSkgJiYgcmFkaW8ucHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQocmFkaW8sICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCByYWRpby5wcm9wcywge1xuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpczIub25SYWRpb0NoYW5nZSxcblx0ICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUgPT09IHJhZGlvLnByb3BzLnZhbHVlLFxuXHQgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiByYWRpby5wcm9wcy5kaXNhYmxlZCB8fCBfdGhpczIucHJvcHMuZGlzYWJsZWRcblx0ICAgICAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmFkaW87XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcyRwcmVmaXhDbHMgPT09IHVuZGVmaW5lZCA/ICdhbnQtcmFkaW8tZ3JvdXAnIDogX3Byb3BzJHByZWZpeENscyxcblx0ICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lO1xuXHRcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy5zaXplLCBwcm9wcy5zaXplKSwgY2xhc3NOYW1lKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHByb3BzLnN0eWxlLCBvbk1vdXNlRW50ZXI6IHByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbk1vdXNlTGVhdmUgfSxcblx0ICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFkaW9Hcm91cDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpb0dyb3VwO1xuXHRcblx0UmFkaW9Hcm91cC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBkaXNhYmxlZDogZmFsc2Vcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDk1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yY1RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBDb2x1bW4gPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uKSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW4sIF9SY1RhYmxlJENvbHVtbik7XG5cdFxuXHQgIGZ1bmN0aW9uIENvbHVtbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JjVGFibGUkQ29sdW1uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIENvbHVtbjtcblx0fShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbik7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMuY2xhc3NOYW1lLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG5cdCAgICAgICAgcHJvcHMuY2hpbGRyZW5cblx0ICAgICk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2VsZWN0aW9uQm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0aW9uQm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWxlY3Rpb25Cb3gocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdGlvbkJveCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLmdldENoZWNrU3RhdGUocHJvcHMpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuXHQgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5wcm9wcy5zdG9yZTtcblx0XG5cdCAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gX3RoaXMyLmdldENoZWNrU3RhdGUoX3RoaXMyLnByb3BzKTtcblx0ICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgY2hlY2tlZDogY2hlY2tlZCB9KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5nZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuXHQgICAgICAgICAgICBkZWZhdWx0U2VsZWN0aW9uID0gcHJvcHMuZGVmYXVsdFNlbGVjdGlvbixcblx0ICAgICAgICAgICAgcm93SW5kZXggPSBwcm9wcy5yb3dJbmRleDtcblx0XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcblx0ICAgICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSkge1xuXHQgICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihyb3dJbmRleCkgPj0gMDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihyb3dJbmRleCkgPj0gMCB8fCBkZWZhdWx0U2VsZWN0aW9uLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBjaGVja2VkO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlLFxuXHQgICAgICAgICAgICByb3dJbmRleCA9IF9wcm9wcy5yb3dJbmRleCxcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgIHZhciBjaGVja2VkID0gdGhpcy5zdGF0ZS5jaGVja2VkO1xuXHRcblx0ICAgICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSwgdmFsdWU6IHJvd0luZGV4LCBjaGVja2VkOiBjaGVja2VkIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiBjaGVja2VkLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFNlbGVjdGlvbkJveDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Rpb25Cb3g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2VsZWN0aW9uQ2hlY2tib3hBbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25DaGVja2JveEFsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU2VsZWN0aW9uQ2hlY2tib3hBbGwocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdGlvbkNoZWNrYm94QWxsKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcyksXG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IF90aGlzLmdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcylcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgdGhpcy5zZXRDaGVja1N0YXRlKG5leHRQcm9wcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdCAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cdFxuXHQgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY2hlY2tTZWxlY3Rpb24gPSBmdW5jdGlvbiBjaGVja1NlbGVjdGlvbihkYXRhLCB0eXBlLCBieURlZmF1bHRDaGVja2VkKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHN0b3JlID0gX3Byb3BzLnN0b3JlLFxuXHQgICAgICAgICAgICBnZXRDaGVja2JveFByb3BzQnlJdGVtID0gX3Byb3BzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0sXG5cdCAgICAgICAgICAgIGdldFJlY29yZEtleSA9IF9wcm9wcy5nZXRSZWNvcmRLZXk7XG5cdCAgICAgICAgLy8gdHlwZSBzaG91bGQgYmUgJ2V2ZXJ5JyB8ICdzb21lJ1xuXHRcblx0ICAgICAgICBpZiAodHlwZSA9PT0gJ2V2ZXJ5JyB8fCB0eXBlID09PSAnc29tZScpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGJ5RGVmYXVsdENoZWNrZWQgPyBkYXRhW3R5cGVdKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpKS5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgICAgICAgICAgfSkgOiBkYXRhW3R5cGVdKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihnZXRSZWNvcmRLZXkoaXRlbSwgaSkpID49IDA7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gc2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuXHQgICAgICAgIHZhciBjaGVja2VkID0gdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKTtcblx0ICAgICAgICB2YXIgaW5kZXRlcm1pbmF0ZSA9IHRoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKTtcblx0ICAgICAgICBpZiAoY2hlY2tlZCAhPT0gdGhpcy5zdGF0ZS5jaGVja2VkKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaW5kZXRlcm1pbmF0ZSAhPT0gdGhpcy5zdGF0ZS5pbmRldGVybWluYXRlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbmRldGVybWluYXRlOiBpbmRldGVybWluYXRlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmdldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBnZXRDaGVja1N0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGRhdGEgPSBwcm9wcy5kYXRhO1xuXHRcblx0ICAgICAgICB2YXIgY2hlY2tlZCA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIDogdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgfHwgdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5nZXRJbmRldGVybWluYXRlU3RhdGUgPSBmdW5jdGlvbiBnZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcblx0ICAgICAgICAgICAgZGF0YSA9IHByb3BzLmRhdGE7XG5cdFxuXHQgICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIGZhbHNlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgOiB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSB8fCB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgdHJ1ZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBpbmRldGVybWluYXRlO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMyLmRpc2FibGVkLFxuXHQgICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wczIub25DaGFuZ2U7XG5cdCAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBfc3RhdGUuY2hlY2tlZCxcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IF9zdGF0ZS5pbmRldGVybWluYXRlO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiBjaGVja2VkLCBpbmRldGVybWluYXRlOiBpbmRldGVybWluYXRlLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFNlbGVjdGlvbkNoZWNrYm94QWxsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkNoZWNrYm94QWxsO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yY1RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSk7XG5cdFxuXHR2YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cdFxuXHR2YXIgX2ZpbHRlckRyb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xuXHRcblx0dmFyIF9maWx0ZXJEcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJEcm9wZG93bik7XG5cdFxuXHR2YXIgX3BhZ2luYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkxKTtcblx0XG5cdHZhciBfcGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWdpbmF0aW9uKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9zcGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXHRcblx0dmFyIF9zcGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NwaW4pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTAyKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblx0XG5cdHZhciBfU2VsZWN0aW9uQm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3Rpb25Cb3gpO1xuXHRcblx0dmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbCA9IF9fd2VicGFja19yZXF1aXJlX18oOTgpO1xuXHRcblx0dmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3Rpb25DaGVja2JveEFsbCk7XG5cdFxuXHR2YXIgX0NvbHVtbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0dmFyIF9Db2x1bW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uKTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uR3JvdXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcblx0ICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHQgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0O1xuXHR9O1xuXHR2YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcblx0ICAgIHZhciB0ID0ge307XG5cdCAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuXHQgICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcblx0ICAgIH1yZXR1cm4gdDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZSkge1xuXHQgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIGlmIChlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuXHQgICAgICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdCAgICB9XG5cdH1cblx0dmFyIGRlZmF1bHRMb2NhbGUgPSB7XG5cdCAgICBmaWx0ZXJUaXRsZTogJ+etm+mAiScsXG5cdCAgICBmaWx0ZXJDb25maXJtOiAn56Gu5a6aJyxcblx0ICAgIGZpbHRlclJlc2V0OiAn6YeN572uJyxcblx0ICAgIGVtcHR5VGV4dDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Zyb3duLW8nIH0pLFxuXHQgICAgICAgICdcXHU2NjgyXFx1NjVFMFxcdTY1NzBcXHU2MzZFJ1xuXHQgICAgKVxuXHR9O1xuXHR2YXIgZGVmYXVsdFBhZ2luYXRpb24gPSB7XG5cdCAgICBvbkNoYW5nZTogbm9vcCxcblx0ICAgIG9uU2hvd1NpemVDaGFuZ2U6IG5vb3Bcblx0fTtcblx0XG5cdHZhciBUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgVGFibGUpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzJHJvd1NlbGVjdCA9IF90aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcblx0ICAgICAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF90aGlzJHByb3BzJHJvd1NlbGVjdCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRyb3dTZWxlY3Q7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge307XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShpdGVtLCBpbmRleCk7XG5cdCAgICAgICAgICAgIC8vIENhY2hlIGNoZWNrYm94UHJvcHNcblx0ICAgICAgICAgICAgaWYgKCFfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV0gPSByb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyhpdGVtKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV07XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVGaWx0ZXIgPSBmdW5jdGlvbiAoY29sdW1uLCBuZXh0RmlsdGVycykge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUucGFnaW5hdGlvbik7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLmZpbHRlcnMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldENvbHVtbktleShjb2x1bW4pLCBuZXh0RmlsdGVycykpO1xuXHQgICAgICAgICAgICAvLyBSZW1vdmUgZmlsdGVycyBub3QgaW4gY3VycmVudCBjb2x1bW5zXG5cdCAgICAgICAgICAgIHZhciBjdXJyZW50Q29sdW1uS2V5cyA9IFtdO1xuXHQgICAgICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkoX3RoaXMuY29sdW1ucywgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAgICAgICAgIGlmICghYy5jaGlsZHJlbikge1xuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5LZXlzLnB1c2goX3RoaXMuZ2V0Q29sdW1uS2V5KGMpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2x1bW5LZXlzLmluZGV4T2YoY29sdW1uS2V5KSA8IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tjb2x1bW5LZXldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKHByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJlc2V0IGN1cnJlbnQgcHJvcFxuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gMTtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb24ub25DaGFuZ2UocGFnaW5hdGlvbi5jdXJyZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLFxuXHQgICAgICAgICAgICAgICAgZmlsdGVyczoge31cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcnNUb1NldFN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGZpbHRlcnMpO1xuXHQgICAgICAgICAgICAvLyBSZW1vdmUgZmlsdGVycyB3aGljaCBpcyBjb250cm9sbGVkXG5cdCAgICAgICAgICAgIF90aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKCkuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sdW1uS2V5ID0gX3RoaXMuZ2V0Q29sdW1uS2V5KGNvbCk7XG5cdCAgICAgICAgICAgICAgICBpZiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNUb1NldFN0YXRlW2NvbHVtbktleV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyc1RvU2V0U3RhdGUpLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIG5ld1N0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzVG9TZXRTdGF0ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cblx0ICAgICAgICAgICAgaWYgKCgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKHByb3BzLnBhZ2luYXRpb24pID09PSAnb2JqZWN0JyAmJiAnY3VycmVudCcgaW4gcHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgbmV3U3RhdGUucGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyczogZmlsdGVycyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuXHQgICAgICAgICAgICAgICAgICAgIH0pKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcblx0ICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSBzZWxlY3RlZFJvd0tleXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSAhPT0gaTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcblx0ICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVSYWRpb1NlbGVjdCA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4LCBlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcblx0ICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG5cdCAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IFtrZXldO1xuXHQgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3QnLFxuXHQgICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmQsXG5cdCAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlU2VsZWN0QWxsUm93ID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzLmdldEZsYXRDdXJyZW50UGFnZURhdGEoKTtcblx0ICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG5cdCAgICAgICAgICAgIHZhciBjaGFuZ2FibGVSb3dLZXlzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAhX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpKS5kaXNhYmxlZDtcblx0ICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGkpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgLy8g6K6w5b2V5Y+Y5YyW55qE5YiXXG5cdCAgICAgICAgICAgIHZhciBjaGFuZ2VSb3dLZXlzID0gW107XG5cdCAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG5cdCAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzLnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNoYW5nYWJsZVJvd0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMuc3BsaWNlKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSksIDEpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzLnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3RBbGwnLFxuXHQgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcblx0ICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXM6IGNoYW5nZVJvd0tleXNcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVQYWdlQ2hhbmdlID0gZnVuY3Rpb24gKGN1cnJlbnQpIHtcblx0ICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG90aGVyQXJndW1lbnRzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICAgICAgb3RoZXJBcmd1bWVudHNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUucGFnaW5hdGlvbik7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSBjdXJyZW50O1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gcGFnaW5hdGlvbi5jdXJyZW50IHx8IDE7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcGFnaW5hdGlvbi5vbkNoYW5nZS5hcHBseShwYWdpbmF0aW9uLCBbcGFnaW5hdGlvbi5jdXJyZW50XS5jb25jYXQob3RoZXJBcmd1bWVudHMpKTtcblx0ICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cblx0ICAgICAgICAgICAgaWYgKCgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKHByb3BzLnBhZ2luYXRpb24pID09PSAnb2JqZWN0JyAmJiAnY3VycmVudCcgaW4gcHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgbmV3U3RhdGUucGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuXHQgICAgICAgICAgICAgICAgfSkpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMucmVuZGVyU2VsZWN0aW9uQm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfLCByZWNvcmQsIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcm93SW5kZXggPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCBpbmRleCk7IC8vIOS7jiAxIOW8gOWni1xuXHQgICAgICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShyZWNvcmQsIGluZGV4KTtcblx0ICAgICAgICAgICAgICAgIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHR5cGUgPT09ICdyYWRpbycgPyBfdGhpcy5oYW5kbGVSYWRpb1NlbGVjdChyZWNvcmQsIHJvd0luZGV4LCBlKSA6IF90aGlzLmhhbmRsZVNlbGVjdChyZWNvcmQsIHJvd0luZGV4LCBlKTtcblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiBzdG9wUHJvcGFnYXRpb24gfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3Rpb25Cb3gyW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiB0eXBlLCBzdG9yZTogX3RoaXMuc3RvcmUsIHJvd0luZGV4OiByb3dJbmRleCwgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLCBkZWZhdWx0U2VsZWN0aW9uOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCkgfSlcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5nZXRSZWNvcmRLZXkgPSBmdW5jdGlvbiAocmVjb3JkLCBpbmRleCkge1xuXHQgICAgICAgICAgICB2YXIgcm93S2V5ID0gX3RoaXMucHJvcHMucm93S2V5O1xuXHQgICAgICAgICAgICB2YXIgcmVjb3JkS2V5ID0gdHlwZW9mIHJvd0tleSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0tleShyZWNvcmQsIGluZGV4KSA6IHJlY29yZFtyb3dLZXldO1xuXHQgICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkocmVjb3JkS2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCBvciBzZXQgYHJvd0tleWAgdG8gYW4gdW5pcXVlIHByaW1hcnkga2V5LCcgKyAnc2VlIGh0dHA6Ly91LmFudC5kZXNpZ24vdGFibGUtcm93LWtleScpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmVjb3JkS2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IHJlY29yZEtleTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVNob3dTaXplQ2hhbmdlID0gZnVuY3Rpb24gKGN1cnJlbnQsIHBhZ2VTaXplKSB7XG5cdCAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gX3RoaXMuc3RhdGUucGFnaW5hdGlvbjtcblx0ICAgICAgICAgICAgcGFnaW5hdGlvbi5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHBhZ2VTaXplKTtcblx0ICAgICAgICAgICAgdmFyIG5leHRQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHsgcGFnZVNpemU6IHBhZ2VTaXplLCBjdXJyZW50OiBjdXJyZW50IH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBhZ2luYXRpb246IG5leHRQYWdpbmF0aW9uIH0pO1xuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IG5leHRQYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICAgICB9KSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoISgnY29sdW1uc1BhZ2VSYW5nZScgaW4gcHJvcHMgfHwgJ2NvbHVtbnNQYWdlU2l6ZScgaW4gcHJvcHMpLCAnYGNvbHVtbnNQYWdlUmFuZ2VgIGFuZCBgY29sdW1uc1BhZ2VTaXplYCBhcmUgcmVtb3ZlZCwgcGxlYXNlIHVzZSAnICsgJ2ZpeGVkIGNvbHVtbnMgaW5zdGVhZCwgc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2ZpeGVkLWNvbHVtbnMuJyk7XG5cdCAgICAgICAgX3RoaXMuY29sdW1ucyA9IHByb3BzLmNvbHVtbnMgfHwgKDAsIF91dGlsLm5vcm1hbGl6ZUNvbHVtbnMpKHByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucygpLCB7XG5cdCAgICAgICAgICAgIC8vIOWHj+WwkeeKtuaAgVxuXHQgICAgICAgICAgICBmaWx0ZXJzOiBfdGhpcy5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMoKSxcblx0ICAgICAgICAgICAgcGFnaW5hdGlvbjogX3RoaXMuZ2V0RGVmYXVsdFBhZ2luYXRpb24ocHJvcHMpXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG5cdCAgICAgICAgX3RoaXMuc3RvcmUgPSAoMCwgX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiAocHJvcHMucm93U2VsZWN0aW9uIHx8IHt9KS5zZWxlY3RlZFJvd0tleXMgfHwgW10sXG5cdCAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFNlbGVjdGlvbiA9IGZ1bmN0aW9uIGdldERlZmF1bHRTZWxlY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcyRyb3dTZWxlY3Rpb24gPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjtcblx0XG5cdCAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuXHQgICAgICAgICAgICByZXR1cm4gW107XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLmdldEZsYXREYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCByb3dJbmRleCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgcm93SW5kZXgpLmRlZmF1bHRDaGVja2VkO1xuXHQgICAgICAgIH0pLm1hcChmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldERlZmF1bHRQYWdpbmF0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFBhZ2luYXRpb24ocHJvcHMpIHtcblx0ICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHByb3BzLnBhZ2luYXRpb24gfHwge307XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGFnaW5hdGlvbihwcm9wcykgPyAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdFBhZ2luYXRpb24sIHBhZ2luYXRpb24sIHtcblx0ICAgICAgICAgICAgY3VycmVudDogcGFnaW5hdGlvbi5kZWZhdWx0Q3VycmVudCB8fCBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMSxcblx0ICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2luYXRpb24uZGVmYXVsdFBhZ2VTaXplIHx8IHBhZ2luYXRpb24ucGFnZVNpemUgfHwgMTBcblx0ICAgICAgICB9KSA6IHt9O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TG9jYWxlID0gZnVuY3Rpb24gZ2V0TG9jYWxlKCkge1xuXHQgICAgICAgIHZhciBsb2NhbGUgPSB7fTtcblx0ICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlRhYmxlKSB7XG5cdCAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuVGFibGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdExvY2FsZSwgbG9jYWxlLCB0aGlzLnByb3BzLmxvY2FsZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICB0aGlzLmNvbHVtbnMgPSBuZXh0UHJvcHMuY29sdW1ucyB8fCAoMCwgX3V0aWwubm9ybWFsaXplQ29sdW1ucykobmV4dFByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgICBpZiAoJ3BhZ2luYXRpb24nIGluIG5leHRQcm9wcyB8fCAncGFnaW5hdGlvbicgaW4gdGhpcy5wcm9wcykge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2aW91c1N0YXRlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbmV3UGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcHJldmlvdXNTdGF0ZS5wYWdpbmF0aW9uLCBuZXh0UHJvcHMucGFnaW5hdGlvbik7XG5cdCAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgPSBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcblx0ICAgICAgICAgICAgICAgIG5ld1BhZ2luYXRpb24ucGFnZVNpemUgPSBuZXdQYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHsgcGFnaW5hdGlvbjogbmV4dFByb3BzLnBhZ2luYXRpb24gIT09IGZhbHNlID8gbmV3UGFnaW5hdGlvbiA6IHt9IH07XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAobmV4dFByb3BzLnJvd1NlbGVjdGlvbiAmJiAnc2VsZWN0ZWRSb3dLZXlzJyBpbiBuZXh0UHJvcHMucm93U2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBuZXh0UHJvcHMucm93U2VsZWN0aW9uLnNlbGVjdGVkUm93S2V5cyB8fCBbXVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIHJvd1NlbGVjdGlvbiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uO1xuXHRcblx0ICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiBuZXh0UHJvcHMucm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMgIT09IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICgnZGF0YVNvdXJjZScgaW4gbmV4dFByb3BzICYmIG5leHRQcm9wcy5kYXRhU291cmNlICE9PSB0aGlzLnByb3BzLmRhdGFTb3VyY2UpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2Vcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHRoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnModGhpcy5jb2x1bW5zKS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHZhciBzb3J0U3RhdGUgPSB0aGlzLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG5cdCAgICAgICAgICAgIGlmIChzb3J0U3RhdGUuc29ydENvbHVtbiAhPT0gdGhpcy5zdGF0ZS5zb3J0Q29sdW1uIHx8IHNvcnRTdGF0ZS5zb3J0T3JkZXIgIT09IHRoaXMuc3RhdGUuc29ydE9yZGVyKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHNvcnRTdGF0ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGZpbHRlcmVkVmFsdWVDb2x1bW5zID0gdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuXHQgICAgICAgIGlmIChmaWx0ZXJlZFZhbHVlQ29sdW1ucy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJzRnJvbUNvbHVtbnMgPSB0aGlzLmdldEZpbHRlcnNGcm9tQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuXHQgICAgICAgICAgICB2YXIgbmV3RmlsdGVycyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLmZpbHRlcnMpO1xuXHQgICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzRnJvbUNvbHVtbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgbmV3RmlsdGVyc1trZXldID0gZmlsdGVyc0Zyb21Db2x1bW5zW2tleV07XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5pc0ZpbHRlcnNDaGFuZ2VkKG5ld0ZpbHRlcnMpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZmlsdGVyczogbmV3RmlsdGVycyB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnNldFNlbGVjdGVkUm93S2V5cyA9IGZ1bmN0aW9uIHNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIF9yZWYpIHtcblx0ICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHNlbGVjdFdheSA9IF9yZWYuc2VsZWN0V2F5LFxuXHQgICAgICAgICAgICByZWNvcmQgPSBfcmVmLnJlY29yZCxcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IF9yZWYuY2hlY2tlZCxcblx0ICAgICAgICAgICAgY2hhbmdlUm93S2V5cyA9IF9yZWYuY2hhbmdlUm93S2V5cztcblx0ICAgICAgICB2YXIgX3Byb3BzJHJvd1NlbGVjdGlvbjIgPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbjIgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjI7XG5cdFxuXHQgICAgICAgIGlmIChyb3dTZWxlY3Rpb24gJiYgISgnc2VsZWN0ZWRSb3dLZXlzJyBpbiByb3dTZWxlY3Rpb24pKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoeyBzZWxlY3RlZFJvd0tleXM6IHNlbGVjdGVkUm93S2V5cyB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEZsYXREYXRhKCk7XG5cdCAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24ub25DaGFuZ2UgJiYgIXJvd1NlbGVjdGlvbltzZWxlY3RXYXldKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKF90aGlzMy5nZXRSZWNvcmRLZXkocm93LCBpKSkgPj0gMDtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBpZiAocm93U2VsZWN0aW9uLm9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vbkNoYW5nZShzZWxlY3RlZFJvd0tleXMsIHNlbGVjdGVkUm93cyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChzZWxlY3RXYXkgPT09ICdvblNlbGVjdCcgJiYgcm93U2VsZWN0aW9uLm9uU2VsZWN0KSB7XG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vblNlbGVjdChyZWNvcmQsIGNoZWNrZWQsIHNlbGVjdGVkUm93cyk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RXYXkgPT09ICdvblNlbGVjdEFsbCcgJiYgcm93U2VsZWN0aW9uLm9uU2VsZWN0QWxsKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGFuZ2VSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZVJvd0tleXMuaW5kZXhPZihfdGhpczMuZ2V0UmVjb3JkS2V5KHJvdywgaSkpID49IDA7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwoY2hlY2tlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5oYXNQYWdpbmF0aW9uID0gZnVuY3Rpb24gaGFzUGFnaW5hdGlvbihwcm9wcykge1xuXHQgICAgICAgIHJldHVybiAocHJvcHMgfHwgdGhpcy5wcm9wcykucGFnaW5hdGlvbiAhPT0gZmFsc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5pc0ZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gaXNGaWx0ZXJzQ2hhbmdlZChmaWx0ZXJzKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBmaWx0ZXJzQ2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuZmlsdGVycykubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2NvbHVtbktleV0gIT09IF90aGlzNC5zdGF0ZS5maWx0ZXJzW2NvbHVtbktleV0pIHtcblx0ICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzQ2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmlsdGVyc0NoYW5nZWQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0T3JkZXJDb2x1bW5zID0gZnVuY3Rpb24gZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgcmV0dXJuIChjb2x1bW5zIHx8IHRoaXMuY29sdW1ucyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdzb3J0T3JkZXInIGluIGNvbHVtbjtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIHJldHVybiAoY29sdW1ucyB8fCB0aGlzLmNvbHVtbnMgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0eXBlb2YgY29sdW1uLmZpbHRlcmVkVmFsdWUgIT09ICd1bmRlZmluZWQnO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcblx0ICAgICAgICB0aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKGNvbHVtbnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xuXHQgICAgICAgICAgICBmaWx0ZXJzW190aGlzNS5nZXRDb2x1bW5LZXkoY29sKV0gPSBjb2wuZmlsdGVyZWRWYWx1ZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gZmlsdGVycztcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zID0gZnVuY3Rpb24gZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIC8vIHJldHVybiBmaXNydCBjb2x1bW4gd2hpY2ggc29ydE9yZGVyIGlzIG5vdCBmYWxzeVxuXHQgICAgICAgIHZhciBzb3J0ZWRDb2x1bW4gPSB0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoY29sdW1ucykuZmlsdGVyKGZ1bmN0aW9uIChjb2wpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbC5zb3J0T3JkZXI7XG5cdCAgICAgICAgfSlbMF07XG5cdCAgICAgICAgaWYgKHNvcnRlZENvbHVtbikge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgc29ydENvbHVtbjogc29ydGVkQ29sdW1uLFxuXHQgICAgICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0ZWRDb2x1bW4uc29ydE9yZGVyXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW46IG51bGwsXG5cdCAgICAgICAgICAgIHNvcnRPcmRlcjogbnVsbFxuXHQgICAgICAgIH07XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0ZXJGbiA9IGZ1bmN0aW9uIGdldFNvcnRlckZuKCkge1xuXHQgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgICBzb3J0T3JkZXIgPSBfc3RhdGUuc29ydE9yZGVyLFxuXHQgICAgICAgICAgICBzb3J0Q29sdW1uID0gX3N0YXRlLnNvcnRDb2x1bW47XG5cdFxuXHQgICAgICAgIGlmICghc29ydE9yZGVyIHx8ICFzb3J0Q29sdW1uIHx8IHR5cGVvZiBzb3J0Q29sdW1uLnNvcnRlciAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gc29ydENvbHVtbi5zb3J0ZXIoYSwgYik7XG5cdCAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzb3J0T3JkZXIgPT09ICdkZXNjZW5kJyA/IC1yZXN1bHQgOiByZXN1bHQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIDA7XG5cdCAgICAgICAgfTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnRvZ2dsZVNvcnRPcmRlciA9IGZ1bmN0aW9uIHRvZ2dsZVNvcnRPcmRlcihvcmRlciwgY29sdW1uKSB7XG5cdCAgICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgICBzb3J0Q29sdW1uID0gX3N0YXRlMi5zb3J0Q29sdW1uLFxuXHQgICAgICAgICAgICBzb3J0T3JkZXIgPSBfc3RhdGUyLnNvcnRPcmRlcjtcblx0ICAgICAgICAvLyDlj6rlkIzml7blhYHorrjkuIDliJfov5vooYzmjpLluo/vvIzlkKbliJnkvJrlr7zoh7TmjpLluo/pobrluo/nmoTpgLvovpHpl67pophcblx0XG5cdCAgICAgICAgdmFyIGlzU29ydENvbHVtbiA9IHRoaXMuaXNTb3J0Q29sdW1uKGNvbHVtbik7XG5cdCAgICAgICAgaWYgKCFpc1NvcnRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgc29ydE9yZGVyID0gb3JkZXI7XG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBjb2x1bW47XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKHNvcnRPcmRlciA9PT0gb3JkZXIpIHtcblx0ICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9ICcnO1xuXHQgICAgICAgICAgICAgICAgc29ydENvbHVtbiA9IG51bGw7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSBvcmRlcjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydE9yZGVyLFxuXHQgICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0Q29sdW1uXG5cdCAgICAgICAgfTtcblx0ICAgICAgICAvLyBDb250cm9sbGVkXG5cdCAgICAgICAgaWYgKHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucygpLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG9uQ2hhbmdlID0gdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLCBuZXdTdGF0ZSkpKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJSb3dTZWxlY3Rpb24gPSBmdW5jdGlvbiByZW5kZXJSb3dTZWxlY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMucm93U2VsZWN0aW9uO1xuXHRcblx0ICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMuY29sdW1ucy5jb25jYXQoKTtcblx0ICAgICAgICBpZiAocm93U2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpczYuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpbmRleCkuZGlzYWJsZWQ7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3Rpb25Db2x1bW4gPSB7XG5cdCAgICAgICAgICAgICAgICBrZXk6ICdzZWxlY3Rpb24tY29sdW1uJyxcblx0ICAgICAgICAgICAgICAgIHJlbmRlcjogdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3gocm93U2VsZWN0aW9uLnR5cGUpLFxuXHQgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi1jb2x1bW4nXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24udHlwZSAhPT0gJ3JhZGlvJykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNoZWNrYm94QWxsRGlzYWJsZWQgPSBkYXRhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpbmRleCkuZGlzYWJsZWQ7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvbHVtbi50aXRsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdGlvbkNoZWNrYm94QWxsMltcImRlZmF1bHRcIl0sIHsgc3RvcmU6IHRoaXMuc3RvcmUsIGRhdGE6IGRhdGEsIGdldENoZWNrYm94UHJvcHNCeUl0ZW06IHRoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSwgZ2V0UmVjb3JkS2V5OiB0aGlzLmdldFJlY29yZEtleSwgZGlzYWJsZWQ6IGNoZWNrYm94QWxsRGlzYWJsZWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNlbGVjdEFsbFJvdyB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG5cdCAgICAgICAgICAgIH0pKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4uZml4ZWQgPSAnbGVmdCc7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKGNvbHVtbnNbMF0gJiYgY29sdW1uc1swXS5rZXkgPT09ICdzZWxlY3Rpb24tY29sdW1uJykge1xuXHQgICAgICAgICAgICAgICAgY29sdW1uc1swXSA9IHNlbGVjdGlvbkNvbHVtbjtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNvbHVtbnMudW5zaGlmdChzZWxlY3Rpb25Db2x1bW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBjb2x1bW5zO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0Q29sdW1uS2V5ID0gZnVuY3Rpb24gZ2V0Q29sdW1uS2V5KGNvbHVtbiwgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gY29sdW1uLmtleSB8fCBjb2x1bW4uZGF0YUluZGV4IHx8IGluZGV4O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TWF4Q3VycmVudCA9IGZ1bmN0aW9uIGdldE1heEN1cnJlbnQodG90YWwpIHtcblx0ICAgICAgICB2YXIgX3N0YXRlJHBhZ2luYXRpb24gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb24sXG5cdCAgICAgICAgICAgIGN1cnJlbnQgPSBfc3RhdGUkcGFnaW5hdGlvbi5jdXJyZW50LFxuXHQgICAgICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZSRwYWdpbmF0aW9uLnBhZ2VTaXplO1xuXHRcblx0ICAgICAgICBpZiAoKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplID49IHRvdGFsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjdXJyZW50IC0gMTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5pc1NvcnRDb2x1bW4gPSBmdW5jdGlvbiBpc1NvcnRDb2x1bW4oY29sdW1uKSB7XG5cdCAgICAgICAgdmFyIHNvcnRDb2x1bW4gPSB0aGlzLnN0YXRlLnNvcnRDb2x1bW47XG5cdFxuXHQgICAgICAgIGlmICghY29sdW1uIHx8ICFzb3J0Q29sdW1uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sdW1uS2V5KHNvcnRDb2x1bW4pID09PSB0aGlzLmdldENvbHVtbktleShjb2x1bW4pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyQ29sdW1uc0Ryb3Bkb3duID0gZnVuY3Rpb24gcmVuZGVyQ29sdW1uc0Ryb3Bkb3duKGNvbHVtbnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcblx0ICAgICAgICAgICAgZHJvcGRvd25QcmVmaXhDbHMgPSBfcHJvcHMyLmRyb3Bkb3duUHJlZml4Q2xzO1xuXHQgICAgICAgIHZhciBzb3J0T3JkZXIgPSB0aGlzLnN0YXRlLnNvcnRPcmRlcjtcblx0XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfdXRpbC50cmVlTWFwKShjb2x1bW5zLCBmdW5jdGlvbiAob3JpZ2luQ29sdW1uLCBpKSB7XG5cdCAgICAgICAgICAgIHZhciBjb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgb3JpZ2luQ29sdW1uKTtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzNy5nZXRDb2x1bW5LZXkoY29sdW1uLCBpKTtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlckRyb3Bkb3duID0gdm9pZCAwO1xuXHQgICAgICAgICAgICB2YXIgc29ydEJ1dHRvbiA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgaWYgKGNvbHVtbi5maWx0ZXJzICYmIGNvbHVtbi5maWx0ZXJzLmxlbmd0aCA+IDAgfHwgY29sdW1uLmZpbHRlckRyb3Bkb3duKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sRmlsdGVycyA9IF90aGlzNy5zdGF0ZS5maWx0ZXJzW2tleV0gfHwgW107XG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ZpbHRlckRyb3Bkb3duMltcImRlZmF1bHRcIl0sIHsgbG9jYWxlOiBsb2NhbGUsIGNvbHVtbjogY29sdW1uLCBzZWxlY3RlZEtleXM6IGNvbEZpbHRlcnMsIGNvbmZpcm1GaWx0ZXI6IF90aGlzNy5oYW5kbGVGaWx0ZXIsIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1maWx0ZXInLCBkcm9wZG93blByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMgfHwgJ2FudC1kcm9wZG93bicgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKGNvbHVtbi5zb3J0ZXIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpc1NvcnRDb2x1bW4gPSBfdGhpczcuaXNTb3J0Q29sdW1uKGNvbHVtbik7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNTb3J0Q29sdW1uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSA9IGNvbHVtbi5jbGFzc05hbWUgfHwgJyc7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRPcmRlcikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctY29sdW1uLXNvcnQnO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBpc0FzY2VuZCA9IGlzU29ydENvbHVtbiAmJiBzb3J0T3JkZXIgPT09ICdhc2NlbmQnO1xuXHQgICAgICAgICAgICAgICAgdmFyIGlzRGVzY2VuZCA9IGlzU29ydENvbHVtbiAmJiBzb3J0T3JkZXIgPT09ICdkZXNjZW5kJztcblx0ICAgICAgICAgICAgICAgIHNvcnRCdXR0b24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXInIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyLXVwICcgKyAoaXNBc2NlbmQgPyAnb24nIDogJ29mZicpLCB0aXRsZTogJ1xcdTIxOTEnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcudG9nZ2xlU29ydE9yZGVyKCdhc2NlbmQnLCBjb2x1bW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2NhcmV0LXVwJyB9KVxuXHQgICAgICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyLWRvd24gJyArIChpc0Rlc2NlbmQgPyAnb24nIDogJ29mZicpLCB0aXRsZTogJ1xcdTIxOTMnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcudG9nZ2xlU29ydE9yZGVyKCdkZXNjZW5kJywgY29sdW1uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjYXJldC1kb3duJyB9KVxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgY29sdW1uLnRpdGxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBjb2x1bW4udGl0bGUsXG5cdCAgICAgICAgICAgICAgICBzb3J0QnV0dG9uLFxuXHQgICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd25cblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGNvbHVtbjtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlclBhZ2luYXRpb24gPSBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuXHQgICAgICAgIC8vIOW8uuWItuS4jemcgOimgeWIhumhtVxuXHQgICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzaXplID0gJ2RlZmF1bHQnO1xuXHQgICAgICAgIHZhciBwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuXHRcblx0ICAgICAgICBpZiAocGFnaW5hdGlvbi5zaXplKSB7XG5cdCAgICAgICAgICAgIHNpemUgPSBwYWdpbmF0aW9uLnNpemU7XG5cdCAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdtaWRkbGUnIHx8IHRoaXMucHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJykge1xuXHQgICAgICAgICAgICBzaXplID0gJ3NtYWxsJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHRvdGFsID0gcGFnaW5hdGlvbi50b3RhbCB8fCB0aGlzLmdldExvY2FsRGF0YSgpLmxlbmd0aDtcblx0ICAgICAgICByZXR1cm4gdG90YWwgPiAwID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBrZXk6ICdwYWdpbmF0aW9uJyB9LCBwYWdpbmF0aW9uLCB7IGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLXBhZ2luYXRpb24nLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVQYWdlQ2hhbmdlLCB0b3RhbDogdG90YWwsIHNpemU6IHNpemUsIGN1cnJlbnQ6IHRoaXMuZ2V0TWF4Q3VycmVudCh0b3RhbCksIG9uU2hvd1NpemVDaGFuZ2U6IHRoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgfSkpIDogbnVsbDtcblx0ICAgIH07XG5cdCAgICAvLyBHZXQgcGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyXG5cdFxuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5wcmVwYXJlUGFyYW1zQXJndW1lbnRzID0gZnVuY3Rpb24gcHJlcGFyZVBhcmFtc0FyZ3VtZW50cyhzdGF0ZSkge1xuXHQgICAgICAgIHZhciBwYWdpbmF0aW9uID0gX19hc3NpZ24oe30sIHN0YXRlLnBhZ2luYXRpb24pO1xuXHQgICAgICAgIC8vIHJlbW92ZSB1c2VsZXNzIGhhbmRsZSBmdW5jdGlvbiBpbiBUYWJsZS5vbkNoYW5nZVxuXHQgICAgICAgIGRlbGV0ZSBwYWdpbmF0aW9uLm9uQ2hhbmdlO1xuXHQgICAgICAgIGRlbGV0ZSBwYWdpbmF0aW9uLm9uU2hvd1NpemVDaGFuZ2U7XG5cdCAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuXHQgICAgICAgIHZhciBzb3J0ZXIgPSB7fTtcblx0ICAgICAgICBpZiAoc3RhdGUuc29ydENvbHVtbiAmJiBzdGF0ZS5zb3J0T3JkZXIpIHtcblx0ICAgICAgICAgICAgc29ydGVyLmNvbHVtbiA9IHN0YXRlLnNvcnRDb2x1bW47XG5cdCAgICAgICAgICAgIHNvcnRlci5vcmRlciA9IHN0YXRlLnNvcnRPcmRlcjtcblx0ICAgICAgICAgICAgc29ydGVyLmZpZWxkID0gc3RhdGUuc29ydENvbHVtbi5kYXRhSW5kZXg7XG5cdCAgICAgICAgICAgIHNvcnRlci5jb2x1bW5LZXkgPSB0aGlzLmdldENvbHVtbktleShzdGF0ZS5zb3J0Q29sdW1uKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIFtwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXJdO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZmluZENvbHVtbiA9IGZ1bmN0aW9uIGZpbmRDb2x1bW4obXlLZXkpIHtcblx0ICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9IHZvaWQgMDtcblx0ICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkodGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICAgICBpZiAoX3RoaXM4LmdldENvbHVtbktleShjKSA9PT0gbXlLZXkpIHtcblx0ICAgICAgICAgICAgICAgIGNvbHVtbiA9IGM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gY29sdW1uO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0Q3VycmVudFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2VEYXRhKCkge1xuXHQgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRMb2NhbERhdGEoKTtcblx0ICAgICAgICB2YXIgY3VycmVudCA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgcGFnZVNpemUgPSB2b2lkIDA7XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICAvLyDlpoLmnpzmsqHmnInliIbpobXnmoTor53vvIzpu5jorqTlhajpg6jlsZXnpLpcblx0ICAgICAgICBpZiAoIXRoaXMuaGFzUGFnaW5hdGlvbigpKSB7XG5cdCAgICAgICAgICAgIHBhZ2VTaXplID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0ICAgICAgICAgICAgY3VycmVudCA9IDE7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcGFnZVNpemUgPSBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuXHQgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5nZXRNYXhDdXJyZW50KHN0YXRlLnBhZ2luYXRpb24udG90YWwgfHwgZGF0YS5sZW5ndGgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyDliIbpobVcblx0ICAgICAgICAvLyAtLS1cblx0ICAgICAgICAvLyDlvZPmlbDmja7ph4/lsJHkuo7nrYnkuo7mr4/pobXmlbDph4/ml7bvvIznm7TmjqXorr7nva7mlbDmja5cblx0ICAgICAgICAvLyDlkKbliJnov5vooYzor7vlj5bliIbpobXmlbDmja5cblx0ICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiBwYWdlU2l6ZSB8fCBwYWdlU2l6ZSA9PT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuXHQgICAgICAgICAgICBkYXRhID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKF8sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpID49IChjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSAmJiBpIDwgY3VycmVudCAqIHBhZ2VTaXplO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGRhdGE7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0RGF0YSA9IGZ1bmN0aW9uIGdldEZsYXREYXRhKCkge1xuXHQgICAgICAgIHJldHVybiAoMCwgX3V0aWwuZmxhdEFycmF5KSh0aGlzLmdldExvY2FsRGF0YSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEZsYXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCkge1xuXHQgICAgICAgIHJldHVybiAoMCwgX3V0aWwuZmxhdEFycmF5KSh0aGlzLmdldEN1cnJlbnRQYWdlRGF0YSgpKTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlY3Vyc2l2ZVNvcnQgPSBmdW5jdGlvbiByZWN1cnNpdmVTb3J0KGRhdGEsIHNvcnRlckZuKSB7XG5cdCAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMkY2hpbGRyZW5Db2x1bW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuQ29sdW1uTmFtZSxcblx0ICAgICAgICAgICAgY2hpbGRyZW5Db2x1bW5OYW1lID0gX3Byb3BzJGNoaWxkcmVuQ29sdW1uID09PSB1bmRlZmluZWQgPyAnY2hpbGRyZW4nIDogX3Byb3BzJGNoaWxkcmVuQ29sdW1uO1xuXHRcblx0ICAgICAgICByZXR1cm4gZGF0YS5zb3J0KHNvcnRlckZuKS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBpdGVtLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBjaGlsZHJlbkNvbHVtbk5hbWUsIF90aGlzOS5yZWN1cnNpdmVTb3J0KGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSwgc29ydGVyRm4pKSkgOiBpdGVtO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TG9jYWxEYXRhID0gZnVuY3Rpb24gZ2V0TG9jYWxEYXRhKCkge1xuXHQgICAgICAgIHZhciBfdGhpczEwID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgICAgICB2YXIgZGF0YVNvdXJjZSA9IHRoaXMucHJvcHMuZGF0YVNvdXJjZTtcblx0XG5cdCAgICAgICAgdmFyIGRhdGEgPSBkYXRhU291cmNlIHx8IFtdO1xuXHQgICAgICAgIC8vIOS8mOWMluacrOWcsOaOkuW6j1xuXHQgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDApO1xuXHQgICAgICAgIHZhciBzb3J0ZXJGbiA9IHRoaXMuZ2V0U29ydGVyRm4oKTtcblx0ICAgICAgICBpZiAoc29ydGVyRm4pIHtcblx0ICAgICAgICAgICAgZGF0YSA9IHRoaXMucmVjdXJzaXZlU29ydChkYXRhLCBzb3J0ZXJGbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIOetm+mAiVxuXHQgICAgICAgIGlmIChzdGF0ZS5maWx0ZXJzKSB7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNvbCA9IF90aGlzMTAuZmluZENvbHVtbihjb2x1bW5LZXkpO1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjb2wpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldIHx8IFtdO1xuXHQgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgb25GaWx0ZXIgPSBjb2wub25GaWx0ZXI7XG5cdCAgICAgICAgICAgICAgICBkYXRhID0gb25GaWx0ZXIgPyBkYXRhLmZpbHRlcihmdW5jdGlvbiAocmVjb3JkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZpbHRlcih2LCByZWNvcmQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSkgOiBkYXRhO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGRhdGE7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVzLFxuXHQgICAgICAgICAgICBfdGhpczExID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHNob3dIZWFkZXIgPSBfYS5zaG93SGVhZGVyLFxuXHQgICAgICAgICAgICBsb2FkaW5nID0gX2EubG9hZGluZyxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcInByZWZpeENsc1wiLCBcInNob3dIZWFkZXJcIiwgXCJsb2FkaW5nXCJdKTtcblx0ICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCk7XG5cdCAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLnJlbmRlclJvd1NlbGVjdGlvbigpO1xuXHQgICAgICAgIHZhciBleHBhbmRJY29uQXNDZWxsID0gdGhpcy5wcm9wcy5leHBhbmRlZFJvd1JlbmRlciAmJiB0aGlzLnByb3BzLmV4cGFuZEljb25Bc0NlbGwgIT09IGZhbHNlO1xuXHQgICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmdldExvY2FsZSgpO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy0nICsgdGhpcy5wcm9wcy5zaXplLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1ib3JkZXJlZCcsIHRoaXMucHJvcHMuYm9yZGVyZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWVtcHR5JywgIWRhdGEubGVuZ3RoKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13aXRob3V0LWNvbHVtbi1oZWFkZXInLCAhc2hvd0hlYWRlciksIF9jbGFzc05hbWVzKSk7XG5cdCAgICAgICAgY29sdW1ucyA9IHRoaXMucmVuZGVyQ29sdW1uc0Ryb3Bkb3duKGNvbHVtbnMpO1xuXHQgICAgICAgIGNvbHVtbnMgPSBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpKSB7XG5cdCAgICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgY29sdW1uKTtcblx0ICAgICAgICAgICAgbmV3Q29sdW1uLmtleSA9IF90aGlzMTEuZ2V0Q29sdW1uS2V5KG5ld0NvbHVtbiwgaSk7XG5cdCAgICAgICAgICAgIHJldHVybiBuZXdDb2x1bW47XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IGNvbHVtbnNbMF0gJiYgY29sdW1uc1swXS5rZXkgPT09ICdzZWxlY3Rpb24tY29sdW1uJyA/IDEgOiAwO1xuXHQgICAgICAgIGlmICgnZXhwYW5kSWNvbkNvbHVtbkluZGV4JyBpbiByZXN0UHJvcHMpIHtcblx0ICAgICAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gcmVzdFByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBrZXk6ICd0YWJsZScgfSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBkYXRhOiBkYXRhLCBjb2x1bW5zOiBjb2x1bW5zLCBzaG93SGVhZGVyOiBzaG93SGVhZGVyLCBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBleHBhbmRJY29uQ29sdW1uSW5kZXg6IGV4cGFuZEljb25Db2x1bW5JbmRleCwgZXhwYW5kSWNvbkFzQ2VsbDogZXhwYW5kSWNvbkFzQ2VsbCwgZW1wdHlUZXh0OiBmdW5jdGlvbiBlbXB0eVRleHQoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlLmVtcHR5VGV4dDtcblx0ICAgICAgICAgICAgfSB9KSk7XG5cdCAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gcGFnaW5hdGlvbiBvciBubyBkYXRhLFxuXHQgICAgICAgIC8vIHRoZSBoZWlnaHQgb2Ygc3BpbiBzaG91bGQgZGVjcmVhc2UgYnkgaGFsZiBvZiBwYWdpbmF0aW9uXG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb25QYXRjaENsYXNzID0gdGhpcy5oYXNQYWdpbmF0aW9uKCkgJiYgZGF0YSAmJiBkYXRhLmxlbmd0aCAhPT0gMCA/IHByZWZpeENscyArICctd2l0aC1wYWdpbmF0aW9uJyA6IHByZWZpeENscyArICctd2l0aG91dC1wYWdpbmF0aW9uJztcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzICsgJy13cmFwcGVyJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfc3BpbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyBzcGlubmluZzogbG9hZGluZywgY2xhc3NOYW1lOiBsb2FkaW5nID8gcGFnaW5hdGlvblBhdGNoQ2xhc3MgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXNwaW4taG9sZGVyJyA6ICcnIH0sXG5cdCAgICAgICAgICAgICAgICB0YWJsZSxcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnaW5hdGlvbigpXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gVGFibGU7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGU7XG5cdFxuXHRUYWJsZS5Db2x1bW4gPSBfQ29sdW1uMltcImRlZmF1bHRcIl07XG5cdFRhYmxlLkNvbHVtbkdyb3VwID0gX0NvbHVtbkdyb3VwMltcImRlZmF1bHRcIl07XG5cdFRhYmxlLnByb3BUeXBlcyA9IHtcblx0ICAgIGRhdGFTb3VyY2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGNvbHVtbnM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHVzZUZpeGVkSGVhZGVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHJvd1NlbGVjdGlvbjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGNsYXNzTmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNpemU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBsb2FkaW5nOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGJvcmRlcmVkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGxvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGRyb3Bkb3duUHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGRhdGFTb3VyY2U6IFtdLFxuXHQgICAgcHJlZml4Q2xzOiAnYW50LXRhYmxlJyxcblx0ICAgIHVzZUZpeGVkSGVhZGVyOiBmYWxzZSxcblx0ICAgIHJvd1NlbGVjdGlvbjogbnVsbCxcblx0ICAgIGNsYXNzTmFtZTogJycsXG5cdCAgICBzaXplOiAnbGFyZ2UnLFxuXHQgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICBib3JkZXJlZDogZmFsc2UsXG5cdCAgICBpbmRlbnRTaXplOiAyMCxcblx0ICAgIGxvY2FsZToge30sXG5cdCAgICByb3dLZXk6ICdrZXknLFxuXHQgICAgc2hvd0hlYWRlcjogdHJ1ZVxuXHR9O1xuXHRUYWJsZS5jb250ZXh0VHlwZXMgPSB7XG5cdCAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpIHtcblx0ICAgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblx0ICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblx0ICAgIGZ1bmN0aW9uIHNldFN0YXRlKHBhcnRpYWwpIHtcblx0ICAgICAgICBzdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBzdGF0ZSwgcGFydGlhbCk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgbGlzdGVuZXJzW2ldKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlO1xuXHQgICAgfVxuXHQgICAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG5cdCAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcblx0ICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXHQgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG5cdCAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgICAgIHN1YnNjcmliZTogc3Vic2NyaWJlXG5cdCAgICB9O1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9yY01lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfcmNNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjTWVudSk7XG5cdFxuXHR2YXIgX2RvbUNsb3Nlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSk7XG5cdFxuXHR2YXIgX2RvbUNsb3Nlc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tQ2xvc2VzdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9kcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oODQpO1xuXHRcblx0dmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfY2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHR2YXIgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIEZpbHRlck1lbnUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShGaWx0ZXJNZW51LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBGaWx0ZXJNZW51KHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBGaWx0ZXJNZW51KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZEtleXMgPSBmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzID0gX3JlZi5zZWxlY3RlZEtleXM7XG5cdFxuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkS2V5czogc2VsZWN0ZWRLZXlzIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZEtleXM6IFtdXG5cdCAgICAgICAgICAgIH0sIF90aGlzLmhhbmRsZUNvbmZpcm0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlQ29uZmlybSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG5cdCAgICAgICAgICAgIF90aGlzLmNvbmZpcm1GaWx0ZXIoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLm9uVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUodmlzaWJsZSk7XG5cdCAgICAgICAgICAgIGlmICghdmlzaWJsZSkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrID0gZnVuY3Rpb24gKGluZm8pIHtcblx0ICAgICAgICAgICAgaWYgKGluZm8ua2V5UGF0aC5sZW5ndGggPD0gMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gPSBfdGhpcy5zdGF0ZS5rZXlQYXRoT2ZTZWxlY3RlZEl0ZW07XG5cdCAgICAgICAgICAgIGlmIChfdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpbmZvLmtleSkgPj0gMCkge1xuXHQgICAgICAgICAgICAgICAgLy8gZGVzZWxlY3QgU3ViTWVudSBjaGlsZFxuXHQgICAgICAgICAgICAgICAgZGVsZXRlIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtpbmZvLmtleV07XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyBzZWxlY3QgU3ViTWVudSBjaGlsZFxuXHQgICAgICAgICAgICAgICAga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2luZm8ua2V5XSA9IGluZm8ua2V5UGF0aDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGtleVBhdGhPZlNlbGVjdGVkSXRlbToga2V5UGF0aE9mU2VsZWN0ZWRJdGVtIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIHZpc2libGUgPSAnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBwcm9wcy5jb2x1bW4gPyBwcm9wcy5jb2x1bW4uZmlsdGVyRHJvcGRvd25WaXNpYmxlIDogZmFsc2U7XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHNlbGVjdGVkS2V5czogcHJvcHMuc2VsZWN0ZWRLZXlzLFxuXHQgICAgICAgICAgICBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW06IHt9LFxuXHQgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cdFxuXHQgICAgICAgIHZhciByb290Tm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgICAgIHZhciBmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgPSAhISgwLCBfZG9tQ2xvc2VzdDJbXCJkZWZhdWx0XCJdKShyb290Tm9kZSwgJy5hbnQtdGFibGUtc2Nyb2xsJyk7XG5cdCAgICAgICAgaWYgKGZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSAmJiBjb2x1bW4uZml4ZWQpIHtcblx0ICAgICAgICAgICAgLy8gV2hlbiBmaXhlZCBjb2x1bW4gaGF2ZSBmaWx0ZXJzLCB0aGVyZSB3aWxsIGJlIHR3byBkcm9wZG93biBtZW51c1xuXHQgICAgICAgICAgICAvLyBGaWx0ZXIgZHJvcGRvd24gbWVudSBpbnNpZGUgc2Nyb2xsIGJvZHkgc2hvdWxkIG5ldmVyIGJlIHNob3duXG5cdCAgICAgICAgICAgIC8vIFRvIGZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy81MDEwXG5cdCAgICAgICAgICAgIHRoaXMubmV2ZXJTaG93biA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICB2YXIgY29sdW1uID0gbmV4dFByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0ge307XG5cdCAgICAgICAgaWYgKCdzZWxlY3RlZEtleXMnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICBuZXdTdGF0ZS5zZWxlY3RlZEtleXMgPSBuZXh0UHJvcHMuc2VsZWN0ZWRLZXlzO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gY29sdW1uKSB7XG5cdCAgICAgICAgICAgIG5ld1N0YXRlLnZpc2libGUgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd25WaXNpYmxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U3RhdGUpLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXHRcblx0ICAgICAgICBpZiAoISgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlOiB2aXNpYmxlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgIGNvbHVtbi5vbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbmZpcm1GaWx0ZXIgPSBmdW5jdGlvbiBjb25maXJtRmlsdGVyKCkge1xuXHQgICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZEtleXMpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maXJtRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51SXRlbSA9IGZ1bmN0aW9uIHJlbmRlck1lbnVJdGVtKGl0ZW0pIHtcblx0ICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cdFxuXHQgICAgICAgIHZhciBtdWx0aXBsZSA9ICdmaWx0ZXJNdWx0aXBsZScgaW4gY29sdW1uID8gY29sdW1uLmZpbHRlck11bHRpcGxlIDogdHJ1ZTtcblx0ICAgICAgICB2YXIgaW5wdXQgPSBtdWx0aXBsZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS52YWx1ZS50b1N0cmluZygpKSA+PSAwIH0pO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG5cdCAgICAgICAgICAgIHsga2V5OiBpdGVtLnZhbHVlIH0sXG5cdCAgICAgICAgICAgIGlucHV0LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIGl0ZW0udGV4dFxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuaGFzU3ViTWVudSA9IGZ1bmN0aW9uIGhhc1N1Yk1lbnUoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyRjb2x1bW4kZmlsdGVycyA9IHRoaXMucHJvcHMuY29sdW1uLmZpbHRlcnMsXG5cdCAgICAgICAgICAgIGZpbHRlcnMgPSBfcHJvcHMkY29sdW1uJGZpbHRlcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogX3Byb3BzJGNvbHVtbiRmaWx0ZXJzO1xuXHRcblx0ICAgICAgICByZXR1cm4gZmlsdGVycy5zb21lKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAhIShpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVzID0gZnVuY3Rpb24gcmVuZGVyTWVudXMoaXRlbXMpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gPSBfdGhpczIuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBjb250YWluU2VsZWN0ZWQgPSBPYmplY3Qua2V5cyhrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0pLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1ba2V5XS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDA7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHZhciBzdWJNZW51Q2xzID0gY29udGFpblNlbGVjdGVkID8gX3RoaXMyLnByb3BzLmRyb3Bkb3duUHJlZml4Q2xzICsgJy1zdWJtZW51LWNvbnRhaW4tc2VsZWN0ZWQnIDogJyc7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBfcmNNZW51LlN1Yk1lbnUsXG5cdCAgICAgICAgICAgICAgICAgICAgeyB0aXRsZTogaXRlbS50ZXh0LCBjbGFzc05hbWU6IHN1Yk1lbnVDbHMsIGtleTogaXRlbS52YWx1ZS50b1N0cmluZygpIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlbmRlck1lbnVzKGl0ZW0uY2hpbGRyZW4pXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVuZGVyTWVudUl0ZW0oaXRlbSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbixcblx0ICAgICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgZHJvcGRvd25QcmVmaXhDbHMgPSBfcHJvcHMuZHJvcGRvd25QcmVmaXhDbHM7XG5cdCAgICAgICAgLy8gZGVmYXVsdCBtdWx0aXBsZSBzZWxlY3Rpb24gaW4gZmlsdGVyIGRyb3Bkb3duXG5cdFxuXHQgICAgICAgIHZhciBtdWx0aXBsZSA9ICdmaWx0ZXJNdWx0aXBsZScgaW4gY29sdW1uID8gY29sdW1uLmZpbHRlck11bHRpcGxlIDogdHJ1ZTtcblx0ICAgICAgICB2YXIgZHJvcGRvd25NZW51Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgZHJvcGRvd25QcmVmaXhDbHMgKyAnLW1lbnUtd2l0aG91dC1zdWJtZW51JywgIXRoaXMuaGFzU3ViTWVudSgpKSk7XG5cdCAgICAgICAgdmFyIG1lbnVzID0gY29sdW1uLmZpbHRlckRyb3Bkb3duID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgY29sdW1uLmZpbHRlckRyb3Bkb3duXG5cdCAgICAgICAgKSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX3JjTWVudTJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyBtdWx0aXBsZTogbXVsdGlwbGUsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlTWVudUl0ZW1DbGljaywgcHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyArICctbWVudScsIGNsYXNzTmFtZTogZHJvcGRvd25NZW51Q2xhc3MsIG9uU2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgb25EZXNlbGVjdDogdGhpcy5zZXRTZWxlY3RlZEtleXMsIHNlbGVjdGVkS2V5czogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMgfSxcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWVudXMoY29sdW1uLmZpbHRlcnMpXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWJ0bnMnIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1saW5rIGNvbmZpcm0nLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvbmZpcm0gfSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhbGUuZmlsdGVyQ29uZmlybVxuXHQgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY2xlYXInLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsZWFyRmlsdGVycyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJSZXNldFxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgICB2YXIgZHJvcGRvd25TZWxlY3RlZENsYXNzID0gdGhpcy5wcm9wcy5zZWxlY3RlZEtleXMubGVuZ3RoID4gMCA/IHByZWZpeENscyArICctc2VsZWN0ZWQnIDogJyc7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICB7IHRyaWdnZXI6IFsnY2xpY2snXSwgb3ZlcmxheTogbWVudXMsIHZpc2libGU6IHRoaXMubmV2ZXJTaG93biA/IGZhbHNlIDogdGhpcy5zdGF0ZS52aXNpYmxlLCBvblZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0aXRsZTogbG9jYWxlLmZpbHRlclRpdGxlLCB0eXBlOiAnZmlsdGVyJywgY2xhc3NOYW1lOiBkcm9wZG93blNlbGVjdGVkQ2xhc3MgfSlcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRmlsdGVyTWVudTtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGaWx0ZXJNZW51O1xuXHRcblx0RmlsdGVyTWVudS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHt9LFxuXHRcblx0ICAgIGNvbHVtbjoge31cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZmxhdEFycmF5ID0gZmxhdEFycmF5O1xuXHRleHBvcnRzLnRyZWVNYXAgPSB0cmVlTWFwO1xuXHRleHBvcnRzLm5vcm1hbGl6ZUNvbHVtbnMgPSBub3JtYWxpemVDb2x1bW5zO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHR2YXIgX0NvbHVtbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX0NvbHVtbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbkdyb3VwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZmxhdEFycmF5KCkge1xuXHQgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuXHQgICAgdmFyIGNoaWxkcmVuTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2NoaWxkcmVuJztcblx0XG5cdCAgICB2YXIgcmVzdWx0ID0gW107XG5cdCAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uIGxvb3AoYXJyYXkpIHtcblx0ICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgIHZhciBuZXdJdGVtID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0pO1xuXHQgICAgICAgICAgICBkZWxldGUgbmV3SXRlbVtjaGlsZHJlbk5hbWVdO1xuXHQgICAgICAgICAgICByZXN1bHQucHVzaChuZXdJdGVtKTtcblx0ICAgICAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5OYW1lXSAmJiBpdGVtW2NoaWxkcmVuTmFtZV0ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbG9vcChpdGVtW2NoaWxkcmVuTmFtZV0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHQgICAgbG9vcChkYXRhKTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0ZnVuY3Rpb24gdHJlZU1hcCh0cmVlLCBtYXBwZXIpIHtcblx0ICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG5cdFxuXHQgICAgcmV0dXJuIHRyZWUubWFwKGZ1bmN0aW9uIChub2RlLCBpbmRleCkge1xuXHQgICAgICAgIHZhciBleHRyYSA9IHt9O1xuXHQgICAgICAgIGlmIChub2RlW2NoaWxkcmVuTmFtZV0pIHtcblx0ICAgICAgICAgICAgZXh0cmFbY2hpbGRyZW5OYW1lXSA9IHRyZWVNYXAobm9kZVtjaGlsZHJlbk5hbWVdLCBtYXBwZXIsIGNoaWxkcmVuTmFtZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgbWFwcGVyKG5vZGUsIGluZGV4KSwgZXh0cmEpO1xuXHQgICAgfSk7XG5cdH1cblx0ZnVuY3Rpb24gbm9ybWFsaXplQ29sdW1ucyhlbGVtZW50cykge1xuXHQgICAgdmFyIGNvbHVtbnMgPSBbXTtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdCAgICAgICAgaWYgKCFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBjb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZWxlbWVudC5wcm9wcyk7XG5cdCAgICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG5cdCAgICAgICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gX0NvbHVtbkdyb3VwMltcImRlZmF1bHRcIl0pIHtcblx0ICAgICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gbm9ybWFsaXplQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGNvbHVtbnM7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTA1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcblx0ICovXG5cdFxuXHR2YXIgbWF0Y2hlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTA2KTtcblx0XG5cdC8qKlxuXHQgKiBAcGFyYW0gZWxlbWVudCB7RWxlbWVudH1cblx0ICogQHBhcmFtIHNlbGVjdG9yIHtTdHJpbmd9XG5cdCAqIEBwYXJhbSBjb250ZXh0IHtFbGVtZW50fVxuXHQgKiBAcmV0dXJuIHtFbGVtZW50fVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNvbnRleHQpIHtcblx0ICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblx0ICAvLyBndWFyZCBhZ2FpbnN0IG9ycGhhbnNcblx0ICBlbGVtZW50ID0geyBwYXJlbnROb2RlOiBlbGVtZW50IH07XG5cdFxuXHQgIHdoaWxlICgoZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSkgJiYgZWxlbWVudCAhPT0gY29udGV4dCkge1xuXHQgICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG5cdCAgICAgIHJldHVybiBlbGVtZW50O1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxMDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvKipcblx0ICogRGV0ZXJtaW5lIGlmIGEgRE9NIGVsZW1lbnQgbWF0Y2hlcyBhIENTUyBzZWxlY3RvclxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWF0Y2hlcyhlbGVtLCBzZWxlY3Rvcikge1xuXHQgIC8vIFZlbmRvci1zcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMgb2YgYEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMoKWAuXG5cdCAgdmFyIHByb3RvID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlO1xuXHQgIHZhciBuYXRpdmVNYXRjaGVzID0gcHJvdG8ubWF0Y2hlcyB8fFxuXHQgICAgICBwcm90by5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0ICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcblx0ICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuXHQgICAgICBwcm90by53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XG5cdFxuXHQgIGlmICghZWxlbSB8fCBlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICB2YXIgcGFyZW50RWxlbSA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XG5cdCAgLy8gdXNlIG5hdGl2ZSAnbWF0Y2hlcydcblx0ICBpZiAobmF0aXZlTWF0Y2hlcykge1xuXHQgICAgcmV0dXJuIG5hdGl2ZU1hdGNoZXMuY2FsbChlbGVtLCBzZWxlY3Rvcik7XG5cdCAgfVxuXHRcblx0ICAvLyBuYXRpdmUgc3VwcG9ydCBmb3IgYG1hdGNoZXNgIGlzIG1pc3NpbmcgYW5kIGEgZmFsbGJhY2sgaXMgcmVxdWlyZWRcblx0ICB2YXIgbm9kZXMgPSBwYXJlbnRFbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXHQgIHZhciBsZW4gPSBub2Rlcy5sZW5ndGg7XG5cdFxuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgIGlmIChub2Rlc1tpXSA9PT0gZWxlbSkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEV4cG9zZSBgbWF0Y2hlc2Bcblx0ICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IG1hdGNoZXM7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMTA3OlxuMTAsXG5cbi8qKiovIDEwODpcbjEwLFxuXG4vKioqLyAxMTA6XG4xMCxcblxuLyoqKi8gMTExOlxuMTAsXG5cbi8qKiovIDExMjpcbjEwLFxuXG4vKioqLyAxMTM6XG4xMCxcblxuLyoqKi8gMTE1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKHByb2Nlc3MpIHsvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNy4xXG5cdChmdW5jdGlvbigpIHtcblx0ICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWU7XG5cdFxuXHQgIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcblx0ICAgIH07XG5cdCAgfSBlbHNlIGlmICgodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIGxvYWRUaW1lKSAvIDFlNjtcblx0ICAgIH07XG5cdCAgICBocnRpbWUgPSBwcm9jZXNzLmhydGltZTtcblx0ICAgIGdldE5hbm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBocjtcblx0ICAgICAgaHIgPSBocnRpbWUoKTtcblx0ICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG5cdCAgICB9O1xuXHQgICAgbG9hZFRpbWUgPSBnZXROYW5vU2Vjb25kcygpO1xuXHQgIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbG9hZFRpbWU7XG5cdCAgICB9O1xuXHQgICAgbG9hZFRpbWUgPSBEYXRlLm5vdygpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcblx0ICAgIH07XG5cdCAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgIH1cblx0XG5cdH0pLmNhbGwodGhpcyk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDaGVja2JveChwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoZWNrYm94KTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9jdXM6IHRydWUgfSk7XG5cdCAgICAgIF90aGlzLnByb3BzLm9uRm9jdXMoZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiBmYWxzZSB9KTtcblx0ICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBpZiAoX3RoaXMucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCEoJ2NoZWNrZWQnIGluIF90aGlzLnByb3BzKSkge1xuXHQgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG5cdCAgICAgICAgdGFyZ2V0OiBfZXh0ZW5kcyh7fSwgX3RoaXMucHJvcHMsIHtcblx0ICAgICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcblx0ICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG5cdCAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcblx0ICAgIGlmICgnY2hlY2tlZCcgaW4gcHJvcHMpIHtcblx0ICAgICAgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjaGVja2VkID0gcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG5cdCAgICB9XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY2hlY2tlZDogY2hlY2tlZCxcblx0ICAgICAgZm9jdXM6IGZhbHNlXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgQ2hlY2tib3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2hlY2tlZDogbmV4dFByb3BzLmNoZWNrZWRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQ2hlY2tib3gucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgfTtcblx0XG5cdCAgQ2hlY2tib3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfY2xhc3NOYW1lcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICAvLyBSZW1vdmUgUmVhY3Qgd2FybmluZy5cblx0ICAgIC8vIFdhcm5pbmc6IElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkXG5cdCAgICAvLyAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS5cblx0ICAgIGRlbGV0ZSBwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblx0XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHZhciBjaGVja2VkID0gc3RhdGUuY2hlY2tlZDtcblx0ICAgIGlmICh0eXBlb2YgY2hlY2tlZCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgIGNoZWNrZWQgPSBjaGVja2VkID8gMSA6IDA7XG5cdCAgICB9XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByb3BzLmNsYXNzTmFtZSwgISFwcm9wcy5jbGFzc05hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscywgMSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkJywgY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkLScgKyBjaGVja2VkLCAhIWNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZm9jdXNlZCcsIHN0YXRlLmZvY3VzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgcHJvcHMuZGlzYWJsZWQpLCBfY2xhc3NOYW1lcykpO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdzcGFuJyxcblx0ICAgICAge1xuXHQgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuXHQgICAgICB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5uZXInIH0pLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuXHQgICAgICAgIHR5cGU6IHByb3BzLnR5cGUsXG5cdCAgICAgICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5LFxuXHQgICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICB0YWJJbmRleDogcHJvcHMudGFiSW5kZXgsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0Jyxcblx0ICAgICAgICBjaGVja2VkOiAhIWNoZWNrZWQsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5wcm9wcy5vbkNsaWNrLFxuXHQgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG5cdCAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG5cdCAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG5cdCAgICAgIH0pXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDaGVja2JveDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0Q2hlY2tib3gucHJvcFR5cGVzID0ge1xuXHQgIG5hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHN0eWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHR5cGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGRlZmF1bHRDaGVja2VkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbF0pLFxuXHQgIGRpc2FibGVkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcblx0ICBjaGVja2VkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbF0pLFxuXHQgIG9uRm9jdXM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uQmx1cjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uQ2xpY2s6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdENoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcblx0ICBwcmVmaXhDbHM6ICdyYy1jaGVja2JveCcsXG5cdCAgc3R5bGU6IHt9LFxuXHQgIHR5cGU6ICdjaGVja2JveCcsXG5cdCAgY2xhc3NOYW1lOiAnJyxcblx0ICBkZWZhdWx0Q2hlY2tlZDogZmFsc2UsXG5cdCAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHt9LFxuXHQgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge30sXG5cdCAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge31cblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDExNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVHJpZ2dlcik7XG5cdFxuXHR2YXIgX3BsYWNlbWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdFxuXHR2YXIgX3BsYWNlbWVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2VtZW50cyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblx0XG5cdC8qXG5cdCB2YXIgTWVudUl0ZW0gPSBNZW51Lkl0ZW07XG5cdFxuXHQgdmFyIG1lbnUgPSA8TWVudT48TWVudUl0ZW0+MTwvTWVudUl0ZW0+PC9NZW51Pjtcblx0XG5cdCA8RHJvcERvd24gdHJpZ2dlcj1cImNsaWNrXCIgYW5pbWF0aW9uTmFtZT1cIlwiIG92ZXJsYXk9ezw+fSBvblNlbGVjdD17fT5cblx0IDxidXR0b24+b3BlbjwvYnV0dG9uPlxuXHQgPC9Ecm9wRG93bj5cblx0Ki9cblx0XG5cdHZhciBEcm9wZG93biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0Ryb3Bkb3duJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uVmlzaWJsZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG92ZXJsYXlDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG92ZXJsYXlTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBwbGFjZW1lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNob3dBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBoaWRlQWN0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgZ2V0UG9wdXBDb250YWluZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyOiB0cnVlLFxuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1kcm9wZG93bicsXG5cdCAgICAgIHRyaWdnZXI6IFsnaG92ZXInXSxcblx0ICAgICAgc2hvd0FjdGlvbjogW10sXG5cdCAgICAgIGhpZGVBY3Rpb246IFtdLFxuXHQgICAgICBvdmVybGF5Q2xhc3NOYW1lOiAnJyxcblx0ICAgICAgb3ZlcmxheVN0eWxlOiB7fSxcblx0ICAgICAgZGVmYXVsdFZpc2libGU6IGZhbHNlLFxuXHQgICAgICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZSgpIHt9LFxuXHRcblx0ICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCdcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoJ3Zpc2libGUnIGluIHByb3BzKSB7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZVxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdmlzaWJsZTogcHJvcHMuZGVmYXVsdFZpc2libGVcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKF9yZWYpIHtcblx0ICAgIHZhciB2aXNpYmxlID0gX3JlZi52aXNpYmxlO1xuXHRcblx0ICAgIGlmICh2aXNpYmxlICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBvdmVybGF5UHJvcHMgPSBwcm9wcy5vdmVybGF5LnByb3BzO1xuXHQgICAgLy8gZG8gbm8gY2FsbCBvblZpc2libGVDaGFuZ2UsIGlmIHlvdSBuZWVkIGNsaWNrIHRvIGhpZGUsIHVzZSBvbkNsaWNrIGFuZCBjb250cm9sIHZpc2libGVcblx0ICAgIGlmICghKCd2aXNpYmxlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBpZiAob3ZlcmxheVByb3BzLm9uQ2xpY2spIHtcblx0ICAgICAgb3ZlcmxheVByb3BzLm9uQ2xpY2soZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuXHQgIH0sXG5cdCAgZ2V0TWVudUVsZW1lbnQ6IGZ1bmN0aW9uIGdldE1lbnVFbGVtZW50KCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQocHJvcHMub3ZlcmxheSwge1xuXHQgICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyArICctbWVudScsXG5cdCAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGlja1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBnZXRQb3B1cERvbU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRG9tTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERvbU5vZGUoKTtcblx0ICB9LFxuXHQgIGFmdGVyVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gYWZ0ZXJWaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcblx0ICAgIGlmICh2aXNpYmxlICYmIHRoaXMucHJvcHMubWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyKSB7XG5cdCAgICAgIHZhciBvdmVybGF5Tm9kZSA9IHRoaXMuZ2V0UG9wdXBEb21Ob2RlKCk7XG5cdCAgICAgIHZhciByb290Tm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgICBpZiAocm9vdE5vZGUub2Zmc2V0V2lkdGggPiBvdmVybGF5Tm9kZS5vZmZzZXRXaWR0aCkge1xuXHQgICAgICAgIG92ZXJsYXlOb2RlLnN0eWxlLndpZHRoID0gcm9vdE5vZGUub2Zmc2V0V2lkdGggKyAncHgnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cdCAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBfcHJvcHMudHJhbnNpdGlvbk5hbWU7XG5cdCAgICB2YXIgYW5pbWF0aW9uID0gX3Byb3BzLmFuaW1hdGlvbjtcblx0ICAgIHZhciBhbGlnbiA9IF9wcm9wcy5hbGlnbjtcblx0ICAgIHZhciBwbGFjZW1lbnQgPSBfcHJvcHMucGxhY2VtZW50O1xuXHQgICAgdmFyIGdldFBvcHVwQ29udGFpbmVyID0gX3Byb3BzLmdldFBvcHVwQ29udGFpbmVyO1xuXHQgICAgdmFyIHNob3dBY3Rpb24gPSBfcHJvcHMuc2hvd0FjdGlvbjtcblx0ICAgIHZhciBoaWRlQWN0aW9uID0gX3Byb3BzLmhpZGVBY3Rpb247XG5cdCAgICB2YXIgb3ZlcmxheUNsYXNzTmFtZSA9IF9wcm9wcy5vdmVybGF5Q2xhc3NOYW1lO1xuXHQgICAgdmFyIG92ZXJsYXlTdHlsZSA9IF9wcm9wcy5vdmVybGF5U3R5bGU7XG5cdCAgICB2YXIgdHJpZ2dlciA9IF9wcm9wcy50cmlnZ2VyO1xuXHRcblx0ICAgIHZhciBvdGhlclByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydwcmVmaXhDbHMnLCAnY2hpbGRyZW4nLCAndHJhbnNpdGlvbk5hbWUnLCAnYW5pbWF0aW9uJywgJ2FsaWduJywgJ3BsYWNlbWVudCcsICdnZXRQb3B1cENvbnRhaW5lcicsICdzaG93QWN0aW9uJywgJ2hpZGVBY3Rpb24nLCAnb3ZlcmxheUNsYXNzTmFtZScsICdvdmVybGF5U3R5bGUnLCAndHJpZ2dlciddKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgX3JjVHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywge1xuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIHJlZjogJ3RyaWdnZXInLFxuXHQgICAgICAgIHBvcHVwQ2xhc3NOYW1lOiBvdmVybGF5Q2xhc3NOYW1lLFxuXHQgICAgICAgIHBvcHVwU3R5bGU6IG92ZXJsYXlTdHlsZSxcblx0ICAgICAgICBidWlsdGluUGxhY2VtZW50czogX3BsYWNlbWVudHMyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICBhY3Rpb246IHRyaWdnZXIsXG5cdCAgICAgICAgc2hvd0FjdGlvbjogc2hvd0FjdGlvbixcblx0ICAgICAgICBoaWRlQWN0aW9uOiBoaWRlQWN0aW9uLFxuXHQgICAgICAgIHBvcHVwUGxhY2VtZW50OiBwbGFjZW1lbnQsXG5cdCAgICAgICAgcG9wdXBBbGlnbjogYWxpZ24sXG5cdCAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgcG9wdXBBbmltYXRpb246IGFuaW1hdGlvbixcblx0ICAgICAgICBwb3B1cFZpc2libGU6IHRoaXMuc3RhdGUudmlzaWJsZSxcblx0ICAgICAgICBhZnRlclBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5hZnRlclZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgcG9wdXA6IHRoaXMuZ2V0TWVudUVsZW1lbnQoKSxcblx0ICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IGdldFBvcHVwQ29udGFpbmVyXG5cdCAgICAgIH0pLFxuXHQgICAgICBjaGlsZHJlblxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDExODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9Ecm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTE3KTtcblx0XG5cdHZhciBfRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJvcGRvd24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9Ecm9wZG93bjJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBhdXRvQWRqdXN0T3ZlcmZsb3cgPSB7XG5cdCAgYWRqdXN0WDogMSxcblx0ICBhZGp1c3RZOiAxXG5cdH07XG5cdFxuXHR2YXIgdGFyZ2V0T2Zmc2V0ID0gWzAsIDBdO1xuXHRcblx0dmFyIHBsYWNlbWVudHMgPSBleHBvcnRzLnBsYWNlbWVudHMgPSB7XG5cdCAgdG9wTGVmdDoge1xuXHQgICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgLTRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIHRvcENlbnRlcjoge1xuXHQgICAgcG9pbnRzOiBbJ2JjJywgJ3RjJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgLTRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIHRvcFJpZ2h0OiB7XG5cdCAgICBwb2ludHM6IFsnYnInLCAndHInXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgYm90dG9tTGVmdDoge1xuXHQgICAgcG9pbnRzOiBbJ3RsJywgJ2JsJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgYm90dG9tQ2VudGVyOiB7XG5cdCAgICBwb2ludHM6IFsndGMnLCAnYmMnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21SaWdodDoge1xuXHQgICAgcG9pbnRzOiBbJ3RyJywgJ2JyJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcGxhY2VtZW50cztcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgS0VZQ09ERSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHRcblx0dmFyIE9wdGlvbnMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhPcHRpb25zLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gT3B0aW9ucyhwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9wdGlvbnMpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjdXJyZW50OiBwcm9wcy5jdXJyZW50LFxuXHQgICAgICBfY3VycmVudDogcHJvcHMuY3VycmVudFxuXHQgICAgfTtcblx0XG5cdCAgICBbJ19oYW5kbGVDaGFuZ2UnLCAnX2NoYW5nZVNpemUnLCAnX2dvJywgJ19idWlsZE9wdGlvblRleHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5fYnVpbGRPcHRpb25UZXh0ID0gZnVuY3Rpb24gX2J1aWxkT3B0aW9uVGV4dCh2YWx1ZSkge1xuXHQgICAgcmV0dXJuIHZhbHVlICsgJyAnICsgdGhpcy5wcm9wcy5sb2NhbGUuaXRlbXNfcGVyX3BhZ2U7XG5cdCAgfTtcblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUuX2NoYW5nZVNpemUgPSBmdW5jdGlvbiBfY2hhbmdlU2l6ZSh2YWx1ZSkge1xuXHQgICAgdGhpcy5wcm9wcy5jaGFuZ2VTaXplKE51bWJlcih2YWx1ZSkpO1xuXHQgIH07XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLl9oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKGV2dCkge1xuXHQgICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuXHRcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBfY3VycmVudDogX3ZhbFxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUuX2dvID0gZnVuY3Rpb24gX2dvKGUpIHtcblx0ICAgIHZhciBfdmFsID0gZS50YXJnZXQudmFsdWU7XG5cdCAgICBpZiAoX3ZhbCA9PT0gJycpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbCA9IE51bWJlcih0aGlzLnN0YXRlLl9jdXJyZW50KTtcblx0ICAgIGlmIChpc05hTih2YWwpKSB7XG5cdCAgICAgIHZhbCA9IHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICAgIH1cblx0ICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcblx0ICAgICAgdmFyIGMgPSB0aGlzLnByb3BzLnF1aWNrR28odmFsKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgX2N1cnJlbnQ6IGMsXG5cdCAgICAgICAgY3VycmVudDogY1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctb3B0aW9ucyc7XG5cdCAgICB2YXIgY2hhbmdlU2l6ZSA9IHByb3BzLmNoYW5nZVNpemU7XG5cdCAgICB2YXIgcXVpY2tHbyA9IHByb3BzLnF1aWNrR287XG5cdCAgICB2YXIgYnVpbGRPcHRpb25UZXh0ID0gcHJvcHMuYnVpbGRPcHRpb25UZXh0IHx8IHRoaXMuX2J1aWxkT3B0aW9uVGV4dDtcblx0ICAgIHZhciBTZWxlY3QgPSBwcm9wcy5zZWxlY3RDb21wb25lbnRDbGFzcztcblx0ICAgIHZhciBjaGFuZ2VTZWxlY3QgPSBudWxsO1xuXHQgICAgdmFyIGdvSW5wdXQgPSBudWxsO1xuXHRcblx0ICAgIGlmICghKGNoYW5nZVNpemUgfHwgcXVpY2tHbykpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGNoYW5nZVNpemUgJiYgU2VsZWN0KSB7XG5cdCAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIE9wdGlvbiA9IFNlbGVjdC5PcHRpb247XG5cdCAgICAgICAgdmFyIHBhZ2VTaXplID0gcHJvcHMucGFnZVNpemUgfHwgcHJvcHMucGFnZVNpemVPcHRpb25zWzBdO1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gcHJvcHMucGFnZVNpemVPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0LCBpKSB7XG5cdCAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IGtleTogaSwgdmFsdWU6IG9wdCB9LFxuXHQgICAgICAgICAgICBidWlsZE9wdGlvblRleHQob3B0KVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgY2hhbmdlU2VsZWN0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIFNlbGVjdCxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5zZWxlY3RQcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2l6ZS1jaGFuZ2VyJyxcblx0ICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wOiAnY2hpbGRyZW4nLFxuXHQgICAgICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IGZhbHNlLFxuXHQgICAgICAgICAgICB2YWx1ZTogcGFnZVNpemUudG9TdHJpbmcoKSxcblx0ICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5fY2hhbmdlU2l6ZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIG9wdGlvbnNcblx0ICAgICAgICApO1xuXHQgICAgICB9KSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChxdWlja0dvKSB7XG5cdCAgICAgIGdvSW5wdXQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXF1aWNrLWp1bXBlcicgfSxcblx0ICAgICAgICBsb2NhbGUuanVtcF90byxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICAgIHR5cGU6ICd0ZXh0Jyxcblx0ICAgICAgICAgIHZhbHVlOiBzdGF0ZS5fY3VycmVudCxcblx0ICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVDaGFuZ2UsXG5cdCAgICAgICAgICBvbktleVVwOiB0aGlzLl9nb1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIGxvY2FsZS5wYWdlXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogJycgKyBwcmVmaXhDbHMgfSxcblx0ICAgICAgY2hhbmdlU2VsZWN0LFxuXHQgICAgICBnb0lucHV0XG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBPcHRpb25zO1xuXHR9KFJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRPcHRpb25zLnByb3BUeXBlcyA9IHtcblx0ICBjaGFuZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBxdWlja0dvOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzZWxlY3RDb21wb25lbnRDbGFzczogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgY3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBwYWdlU2l6ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuXHQgIHBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGJ1aWxkT3B0aW9uVGV4dDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdFxuXHRPcHRpb25zLmRlZmF1bHRQcm9wcyA9IHtcblx0ICBwYWdlU2l6ZU9wdGlvbnM6IFsnMTAnLCAnMjAnLCAnMzAnLCAnNDAnXVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBPcHRpb25zO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgUGFnZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhQYWdlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBhZ2VyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2VyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIFBhZ2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLWl0ZW0nO1xuXHQgICAgdmFyIGNscyA9IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctJyArIHByb3BzLnBhZ2U7XG5cdFxuXHQgICAgaWYgKHByb3BzLmFjdGl2ZSkge1xuXHQgICAgICBjbHMgPSBjbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWFjdGl2ZSc7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuXHQgICAgICBjbHMgPSBjbHMgKyAnICcgKyBwcm9wcy5jbGFzc05hbWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdsaScsXG5cdCAgICAgIHsgdGl0bGU6IHByb3BzLnBhZ2UsIGNsYXNzTmFtZTogY2xzLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2EnLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgcHJvcHMucGFnZVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBQYWdlcjtcblx0fShSZWFjdC5Db21wb25lbnQpO1xuXHRcblx0UGFnZXIucHJvcFR5cGVzID0ge1xuXHQgIHBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgYWN0aXZlOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBsYXN0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgY2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBhZ2VyO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBQYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0dmFyIE9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCk7XG5cdHZhciBLRVlDT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdHZhciBMT0NBTEUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnaW5hdGlvbihwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2luYXRpb24pO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIHZhciBoYXNPbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlICE9PSBub29wO1xuXHQgICAgdmFyIGhhc0N1cnJlbnQgPSAnY3VycmVudCcgaW4gcHJvcHM7XG5cdCAgICBpZiAoaGFzQ3VycmVudCAmJiAhaGFzT25DaGFuZ2UpIHtcblx0ICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiBZb3UgcHJvdmlkZWQgYSBgY3VycmVudGAgcHJvcCB0byBhIFBhZ2luYXRpb24gY29tcG9uZW50IHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGNvbXBvbmVudC4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjdXJyZW50ID0gcHJvcHMuZGVmYXVsdEN1cnJlbnQ7XG5cdCAgICBpZiAoJ2N1cnJlbnQnIGluIHByb3BzKSB7XG5cdCAgICAgIGN1cnJlbnQgPSBwcm9wcy5jdXJyZW50O1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBwYWdlU2l6ZSA9IHByb3BzLmRlZmF1bHRQYWdlU2l6ZTtcblx0ICAgIGlmICgncGFnZVNpemUnIGluIHByb3BzKSB7XG5cdCAgICAgIHBhZ2VTaXplID0gcHJvcHMucGFnZVNpemU7XG5cdCAgICB9XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG5cdCAgICAgIF9jdXJyZW50OiBjdXJyZW50LFxuXHQgICAgICBwYWdlU2l6ZTogcGFnZVNpemVcblx0ICAgIH07XG5cdFxuXHQgICAgWydyZW5kZXInLCAnX2hhbmRsZUNoYW5nZScsICdfaGFuZGxlS2V5VXAnLCAnX2hhbmRsZUtleURvd24nLCAnX2NoYW5nZVBhZ2VTaXplJywgJ19pc1ZhbGlkJywgJ19wcmV2JywgJ19uZXh0JywgJ19oYXNQcmV2JywgJ19oYXNOZXh0JywgJ19qdW1wUHJldicsICdfanVtcE5leHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgnY3VycmVudCcgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGN1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50LFxuXHQgICAgICAgIF9jdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoJ3BhZ2VTaXplJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdmFyIG5ld1N0YXRlID0ge307XG5cdCAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgICAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKG5leHRQcm9wcy5wYWdlU2l6ZSk7XG5cdCAgICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuXHQgICAgICBpZiAoISgnY3VycmVudCcgaW4gbmV4dFByb3BzKSkge1xuXHQgICAgICAgIG5ld1N0YXRlLmN1cnJlbnQgPSBjdXJyZW50O1xuXHQgICAgICAgIG5ld1N0YXRlLl9jdXJyZW50ID0gY3VycmVudDtcblx0ICAgICAgfVxuXHQgICAgICBuZXdTdGF0ZS5wYWdlU2l6ZSA9IG5leHRQcm9wcy5wYWdlU2l6ZTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9jYWxjUGFnZSA9IGZ1bmN0aW9uIF9jYWxjUGFnZShwKSB7XG5cdCAgICB2YXIgcGFnZVNpemUgPSBwO1xuXHQgICAgaWYgKHR5cGVvZiBwYWdlU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgICAgcGFnZVNpemUgPSB0aGlzLnN0YXRlLnBhZ2VTaXplO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMucHJvcHMudG90YWwgLSAxKSAvIHBhZ2VTaXplKSArIDE7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2lzVmFsaWQgPSBmdW5jdGlvbiBfaXNWYWxpZChwYWdlKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHBhZ2UgPT09ICdudW1iZXInICYmIHBhZ2UgPj0gMSAmJiBwYWdlICE9PSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUtleURvd24gPSBmdW5jdGlvbiBfaGFuZGxlS2V5RG93bihldnQpIHtcblx0ICAgIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCB8fCBldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG5cdCAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIF9oYW5kbGVLZXlVcChldnQpIHtcblx0ICAgIHZhciBfdmFsID0gZXZ0LnRhcmdldC52YWx1ZTtcblx0ICAgIHZhciB2YWwgPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKF92YWwgPT09ICcnKSB7XG5cdCAgICAgIHZhbCA9IF92YWw7XG5cdCAgICB9IGVsc2UgaWYgKGlzTmFOKE51bWJlcihfdmFsKSkpIHtcblx0ICAgICAgdmFsID0gdGhpcy5zdGF0ZS5fY3VycmVudDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhbCA9IE51bWJlcihfdmFsKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgX2N1cnJlbnQ6IHZhbFxuXHQgICAgfSk7XG5cdFxuXHQgICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkVOVEVSKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwpO1xuXHQgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCkge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsIC0gMSk7XG5cdCAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCArIDEpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9jaGFuZ2VQYWdlU2l6ZSA9IGZ1bmN0aW9uIF9jaGFuZ2VQYWdlU2l6ZShzaXplKSB7XG5cdCAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICAgIHZhciBuZXdDdXJyZW50ID0gdGhpcy5fY2FsY1BhZ2Uoc2l6ZSk7XG5cdCAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcblx0ICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgaWYgKCEoJ3BhZ2VTaXplJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgcGFnZVNpemU6IHNpemVcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG5cdCAgICAgICAgICBfY3VycmVudDogY3VycmVudFxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uU2hvd1NpemVDaGFuZ2UoY3VycmVudCwgc2l6ZSk7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UocCkge1xuXHQgICAgdmFyIHBhZ2UgPSBwO1xuXHQgICAgaWYgKHRoaXMuX2lzVmFsaWQocGFnZSkpIHtcblx0ICAgICAgaWYgKHBhZ2UgPiB0aGlzLl9jYWxjUGFnZSgpKSB7XG5cdCAgICAgICAgcGFnZSA9IHRoaXMuX2NhbGNQYWdlKCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgY3VycmVudDogcGFnZSxcblx0ICAgICAgICAgIF9jdXJyZW50OiBwYWdlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG5cdCAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UocGFnZSwgcGFnZVNpemUpO1xuXHRcblx0ICAgICAgcmV0dXJuIHBhZ2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fcHJldiA9IGZ1bmN0aW9uIF9wcmV2KCkge1xuXHQgICAgaWYgKHRoaXMuX2hhc1ByZXYoKSkge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50IC0gMSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiBfbmV4dCgpIHtcblx0ICAgIGlmICh0aGlzLl9oYXNOZXh0KCkpIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudCArIDEpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wUHJldiA9IGZ1bmN0aW9uIF9qdW1wUHJldigpIHtcblx0ICAgIHRoaXMuX2hhbmRsZUNoYW5nZShNYXRoLm1heCgxLCB0aGlzLnN0YXRlLmN1cnJlbnQgLSAodGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKSk7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2p1bXBOZXh0ID0gZnVuY3Rpb24gX2p1bXBOZXh0KCkge1xuXHQgICAgdGhpcy5faGFuZGxlQ2hhbmdlKE1hdGgubWluKHRoaXMuX2NhbGNQYWdlKCksIHRoaXMuc3RhdGUuY3VycmVudCArICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFzUHJldiA9IGZ1bmN0aW9uIF9oYXNQcmV2KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA+IDE7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhc05leHQgPSBmdW5jdGlvbiBfaGFzTmV4dCgpIHtcblx0ICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQgPCB0aGlzLl9jYWxjUGFnZSgpO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXHRcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgYWxsUGFnZXMgPSB0aGlzLl9jYWxjUGFnZSgpO1xuXHQgICAgdmFyIHBhZ2VyTGlzdCA9IFtdO1xuXHQgICAgdmFyIGp1bXBQcmV2ID0gbnVsbDtcblx0ICAgIHZhciBqdW1wTmV4dCA9IG51bGw7XG5cdCAgICB2YXIgZmlyc3RQYWdlciA9IG51bGw7XG5cdCAgICB2YXIgbGFzdFBhZ2VyID0gbnVsbDtcblx0XG5cdCAgICB2YXIgcGFnZUJ1ZmZlclNpemUgPSBwcm9wcy5zaG93TGVzc0l0ZW1zID8gMSA6IDI7XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICBjdXJyZW50ID0gX3N0YXRlLmN1cnJlbnQsXG5cdCAgICAgICAgcGFnZVNpemUgPSBfc3RhdGUucGFnZVNpemU7XG5cdFxuXHRcblx0ICAgIGlmIChwcm9wcy5zaW1wbGUpIHtcblx0ICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3VsJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy1zaW1wbGUgJyArIHByb3BzLmNsYXNzTmFtZSB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZfcGFnZSxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzUHJldigpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXByZXYnXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgIHsgdGl0bGU6IHRoaXMuc3RhdGUuY3VycmVudCArICcvJyArIGFsbFBhZ2VzLCBjbGFzc05hbWU6IHByZWZpeENscyArICctc2ltcGxlLXBhZ2VyJyB9LFxuXHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgICAgIHR5cGU6ICd0ZXh0Jyxcblx0ICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuX2N1cnJlbnQsXG5cdCAgICAgICAgICAgIG9uS2V5RG93bjogdGhpcy5faGFuZGxlS2V5RG93bixcblx0ICAgICAgICAgICAgb25LZXlVcDogdGhpcy5faGFuZGxlS2V5VXAsXG5cdCAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVLZXlVcFxuXHQgICAgICAgICAgfSksXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNsYXNoJyB9LFxuXHQgICAgICAgICAgICAnXFx1RkYwRidcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBhbGxQYWdlc1xuXHQgICAgICAgICksXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dF9wYWdlLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9uZXh0LFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGFsbFBhZ2VzIDw9IDUgKyBwYWdlQnVmZmVyU2l6ZSAqIDIpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gYWxsUGFnZXM7IGkrKykge1xuXHQgICAgICAgIHZhciBhY3RpdmUgPSB0aGlzLnN0YXRlLmN1cnJlbnQgPT09IGk7XG5cdCAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBpKSxcblx0ICAgICAgICAgIGtleTogaSxcblx0ICAgICAgICAgIHBhZ2U6IGksXG5cdCAgICAgICAgICBhY3RpdmU6IGFjdGl2ZVxuXHQgICAgICAgIH0pKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAganVtcFByZXYgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdGl0bGU6IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUucHJldl8zIDogbG9jYWxlLnByZXZfNSxcblx0ICAgICAgICAgIGtleTogJ3ByZXYnLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5fanVtcFByZXYsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctanVtcC1wcmV2J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICk7XG5cdCAgICAgIGp1bXBOZXh0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHRpdGxlOiBwcm9wcy5zaG93TGVzc0l0ZW1zID8gbG9jYWxlLm5leHRfMyA6IGxvY2FsZS5uZXh0XzUsXG5cdCAgICAgICAgICBrZXk6ICduZXh0Jyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2p1bXBOZXh0LFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWp1bXAtbmV4dCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApO1xuXHQgICAgICBsYXN0UGFnZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG5cdCAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgbGFzdDogdHJ1ZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgYWxsUGFnZXMpLFxuXHQgICAgICAgIGtleTogYWxsUGFnZXMsXG5cdCAgICAgICAgcGFnZTogYWxsUGFnZXMsXG5cdCAgICAgICAgYWN0aXZlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgICAgZmlyc3RQYWdlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcblx0ICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgMSksXG5cdCAgICAgICAga2V5OiAxLFxuXHQgICAgICAgIHBhZ2U6IDEsXG5cdCAgICAgICAgYWN0aXZlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMSwgY3VycmVudCAtIHBhZ2VCdWZmZXJTaXplKTtcblx0ICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5taW4oY3VycmVudCArIHBhZ2VCdWZmZXJTaXplLCBhbGxQYWdlcyk7XG5cdFxuXHQgICAgICBpZiAoY3VycmVudCAtIDEgPD0gcGFnZUJ1ZmZlclNpemUpIHtcblx0ICAgICAgICByaWdodCA9IDEgKyBwYWdlQnVmZmVyU2l6ZSAqIDI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPD0gcGFnZUJ1ZmZlclNpemUpIHtcblx0ICAgICAgICBsZWZ0ID0gYWxsUGFnZXMgLSBwYWdlQnVmZmVyU2l6ZSAqIDI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGZvciAodmFyIF9pID0gbGVmdDsgX2kgPD0gcmlnaHQ7IF9pKyspIHtcblx0ICAgICAgICB2YXIgX2FjdGl2ZSA9IGN1cnJlbnQgPT09IF9pO1xuXHQgICAgICAgIHBhZ2VyTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcblx0ICAgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgX2kpLFxuXHQgICAgICAgICAga2V5OiBfaSxcblx0ICAgICAgICAgIHBhZ2U6IF9pLFxuXHQgICAgICAgICAgYWN0aXZlOiBfYWN0aXZlXG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoY3VycmVudCAtIDEgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IDEgKyAyKSB7XG5cdCAgICAgICAgcGFnZXJMaXN0WzBdID0gUmVhY3QuY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFswXSwge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYWZ0ZXItanVtcC1wcmV2J1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHBhZ2VyTGlzdC51bnNoaWZ0KGp1bXBQcmV2KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoYWxsUGFnZXMgLSBjdXJyZW50ID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSBhbGxQYWdlcyAtIDIpIHtcblx0ICAgICAgICBwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdID0gUmVhY3QuY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0sIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWJlZm9yZS1qdW1wLW5leHQnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcGFnZXJMaXN0LnB1c2goanVtcE5leHQpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAobGVmdCAhPT0gMSkge1xuXHQgICAgICAgIHBhZ2VyTGlzdC51bnNoaWZ0KGZpcnN0UGFnZXIpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChyaWdodCAhPT0gYWxsUGFnZXMpIHtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChsYXN0UGFnZXIpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHRvdGFsVGV4dCA9IG51bGw7XG5cdFxuXHQgICAgaWYgKHByb3BzLnNob3dUb3RhbCkge1xuXHQgICAgICB0b3RhbFRleHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10b3RhbC10ZXh0JyB9LFxuXHQgICAgICAgIHByb3BzLnNob3dUb3RhbChwcm9wcy50b3RhbCwgWyhjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSArIDEsIGN1cnJlbnQgKiBwYWdlU2l6ZSA+IHByb3BzLnRvdGFsID8gcHJvcHMudG90YWwgOiBjdXJyZW50ICogcGFnZVNpemVdKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndWwnLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBwcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuXHQgICAgICAgIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcblx0ICAgICAgfSxcblx0ICAgICAgdG90YWxUZXh0LFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2X3BhZ2UsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9wcmV2LFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzUHJldigpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXByZXYnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgKSxcblx0ICAgICAgcGFnZXJMaXN0LFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0X3BhZ2UsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9uZXh0LFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzTmV4dCgpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLW5leHQnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgKSxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChPcHRpb25zLCB7XG5cdCAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzOiBwcm9wcy5zZWxlY3RDb21wb25lbnRDbGFzcyxcblx0ICAgICAgICBzZWxlY3RQcmVmaXhDbHM6IHByb3BzLnNlbGVjdFByZWZpeENscyxcblx0ICAgICAgICBjaGFuZ2VTaXplOiB0aGlzLnByb3BzLnNob3dTaXplQ2hhbmdlciA/IHRoaXMuX2NoYW5nZVBhZ2VTaXplLmJpbmQodGhpcykgOiBudWxsLFxuXHQgICAgICAgIGN1cnJlbnQ6IHRoaXMuc3RhdGUuY3VycmVudCxcblx0ICAgICAgICBwYWdlU2l6ZTogdGhpcy5zdGF0ZS5wYWdlU2l6ZSxcblx0ICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IHRoaXMucHJvcHMucGFnZVNpemVPcHRpb25zLFxuXHQgICAgICAgIHF1aWNrR286IHRoaXMucHJvcHMuc2hvd1F1aWNrSnVtcGVyID8gdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcykgOiBudWxsXG5cdCAgICAgIH0pXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBQYWdpbmF0aW9uO1xuXHR9KFJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRQYWdpbmF0aW9uLnByb3BUeXBlcyA9IHtcblx0ICBjdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGRlZmF1bHRDdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHRvdGFsOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGRlZmF1bHRQYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2hvd1NpemVDaGFuZ2VyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBzaG93TGVzc0l0ZW1zOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvblNob3dTaXplQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzZWxlY3RDb21wb25lbnRDbGFzczogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2hvd1F1aWNrSnVtcGVyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBwYWdlU2l6ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuXHQgIHNob3dUb3RhbDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdFxuXHRQYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcblx0ICBkZWZhdWx0Q3VycmVudDogMSxcblx0ICB0b3RhbDogMCxcblx0ICBkZWZhdWx0UGFnZVNpemU6IDEwLFxuXHQgIG9uQ2hhbmdlOiBub29wLFxuXHQgIGNsYXNzTmFtZTogJycsXG5cdCAgc2VsZWN0UHJlZml4Q2xzOiAncmMtc2VsZWN0Jyxcblx0ICBwcmVmaXhDbHM6ICdyYy1wYWdpbmF0aW9uJyxcblx0ICBzZWxlY3RDb21wb25lbnRDbGFzczogbnVsbCxcblx0ICBzaG93UXVpY2tKdW1wZXI6IGZhbHNlLFxuXHQgIHNob3dTaXplQ2hhbmdlcjogZmFsc2UsXG5cdCAgc2hvd0xlc3NJdGVtczogZmFsc2UsXG5cdCAgb25TaG93U2l6ZUNoYW5nZTogbm9vcCxcblx0ICBsb2NhbGU6IExPQ0FMRSxcblx0ICBzdHlsZToge31cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGFnaW5hdGlvbjtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8gZXhwb3J0IHRoaXMgcGFja2FnZSdzIGFwaVxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBDaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIFJhZGlvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnUmFkaW8nLFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLXJhZGlvJyxcblx0ICAgICAgdHlwZTogJ3JhZGlvJ1xuXHQgICAgfTtcblx0ICB9LFxuXHRcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrYm94LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyByZWY6ICdjaGVja2JveCcgfSkpO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFJhZGlvO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI0KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF90b0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO1xuXHRcblx0dmFyIF90b0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQXJyYXkpO1xuXHRcblx0dmFyIF9yY01lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfcmNNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjTWVudSk7XG5cdFxuXHR2YXIgX2RvbVNjcm9sbEludG9WaWV3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXHRcblx0dmFyIF9kb21TY3JvbGxJbnRvVmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21TY3JvbGxJbnRvVmlldyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERyb3Bkb3duTWVudSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0Ryb3Bkb3duTWVudScsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkcm9wZG93bk1lbnVTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25Qb3B1cEZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbk1lbnVEZVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25NZW51U2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbWVudUl0ZW1zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGlucHV0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sXG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gdGhpcy5wcm9wcy5pbnB1dFZhbHVlO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG5cdCAgICB0aGlzLmxhc3RWaXNpYmxlID0gdGhpcy5wcm9wcy52aXNpYmxlO1xuXHQgIH0sXG5cdCAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoIW5leHRQcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgIHRoaXMubGFzdFZpc2libGUgPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIC8vIGZyZWV6ZSB3aGVuIGhpZGVcblx0ICAgIHJldHVybiBuZXh0UHJvcHMudmlzaWJsZTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICghcHJldlByb3BzLnZpc2libGUgJiYgcHJvcHMudmlzaWJsZSkge1xuXHQgICAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMubGFzdFZpc2libGUgPSBwcm9wcy52aXNpYmxlO1xuXHQgICAgdGhpcy5sYXN0SW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWU7XG5cdCAgfSxcblx0ICBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3OiBmdW5jdGlvbiBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCkge1xuXHQgICAgLy8gc2Nyb2xsIGludG8gdmlld1xuXHQgICAgdmFyIGl0ZW1Db21wb25lbnQgPSAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzLmZpcnN0QWN0aXZlSXRlbSk7XG5cdCAgICBpZiAoaXRlbUNvbXBvbmVudCkge1xuXHQgICAgICAoMCwgX2RvbVNjcm9sbEludG9WaWV3MltcImRlZmF1bHRcIl0pKGl0ZW1Db21wb25lbnQsICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMucmVmcy5tZW51KSwge1xuXHQgICAgICAgIG9ubHlTY3JvbGxJZk5lZWRlZDogdHJ1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHJlbmRlck1lbnU6IGZ1bmN0aW9uIHJlbmRlck1lbnUoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgbWVudUl0ZW1zID0gcHJvcHMubWVudUl0ZW1zLFxuXHQgICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbiA9IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcblx0ICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuXHQgICAgICAgIG9uTWVudVNlbGVjdCA9IHByb3BzLm9uTWVudVNlbGVjdCxcblx0ICAgICAgICBpbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZTtcblx0XG5cdCAgICBpZiAobWVudUl0ZW1zICYmIG1lbnVJdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG1lbnVQcm9wcyA9IHt9O1xuXHQgICAgICAgIGlmIChtdWx0aXBsZSkge1xuXHQgICAgICAgICAgbWVudVByb3BzLm9uRGVzZWxlY3QgPSBwcm9wcy5vbk1lbnVEZXNlbGVjdDtcblx0ICAgICAgICAgIG1lbnVQcm9wcy5vblNlbGVjdCA9IG9uTWVudVNlbGVjdDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbWVudVByb3BzLm9uQ2xpY2sgPSBvbk1lbnVTZWxlY3Q7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzID0gKDAsIF91dGlsLmdldFNlbGVjdEtleXMpKG1lbnVJdGVtcywgdmFsdWUpO1xuXHQgICAgICAgIHZhciBhY3RpdmVLZXlQcm9wcyA9IHt9O1xuXHRcblx0ICAgICAgICB2YXIgY2xvbmVkTWVudUl0ZW1zID0gbWVudUl0ZW1zO1xuXHQgICAgICAgIGlmIChzZWxlY3RlZEtleXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBpZiAocHJvcHMudmlzaWJsZSAmJiAhX3RoaXMubGFzdFZpc2libGUpIHtcblx0ICAgICAgICAgICAgICBhY3RpdmVLZXlQcm9wcy5hY3RpdmVLZXkgPSBzZWxlY3RlZEtleXNbMF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGZvdW5kRmlyc3QgPSBmYWxzZTtcblx0ICAgICAgICAgICAgLy8gc2V0IGZpcnN0QWN0aXZlSXRlbSB2aWEgY2xvbmluZyBtZW51c1xuXHQgICAgICAgICAgICAvLyBmb3Igc2Nyb2xsIGludG8gdmlld1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBmdW5jdGlvbiBjbG9uZShpdGVtKSB7XG5cdCAgICAgICAgICAgICAgaWYgKCFmb3VuZEZpcnN0ICYmIHNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0ua2V5KSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIGZvdW5kRmlyc3QgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShpdGVtLCB7XG5cdCAgICAgICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpcy5maXJzdEFjdGl2ZUl0ZW0gPSBfcmVmO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG5cdCAgICAgICAgICAgIH07XG5cdFxuXHQgICAgICAgICAgICBjbG9uZWRNZW51SXRlbXMgPSBtZW51SXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZS5pc01lbnVJdGVtR3JvdXApIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9ICgwLCBfdG9BcnJheTJbXCJkZWZhdWx0XCJdKShpdGVtLnByb3BzLmNoaWxkcmVuKS5tYXAoY2xvbmUpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShpdGVtLCB7fSwgY2hpbGRyZW4pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gY2xvbmUoaXRlbSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgfSkoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGNsZWFyIGFjdGl2ZUtleSB3aGVuIGlucHV0VmFsdWUgY2hhbmdlXG5cdCAgICAgICAgaWYgKGlucHV0VmFsdWUgIT09IF90aGlzLmxhc3RJbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgICBhY3RpdmVLZXlQcm9wcy5hY3RpdmVLZXkgPSAnJztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICB2OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgICAgcmVmOiAnbWVudScsXG5cdCAgICAgICAgICAgICAgc3R5bGU6IF90aGlzLnByb3BzLmRyb3Bkb3duTWVudVN0eWxlLFxuXHQgICAgICAgICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdDogZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uXG5cdCAgICAgICAgICAgIH0sIGFjdGl2ZUtleVByb3BzLCB7XG5cdCAgICAgICAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuXHQgICAgICAgICAgICAgIGZvY3VzYWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSwgbWVudVByb3BzLCB7XG5cdCAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMsXG5cdCAgICAgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLW1lbnUnXG5cdCAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICBjbG9uZWRNZW51SXRlbXNcblx0ICAgICAgICAgIClcblx0ICAgICAgICB9O1xuXHQgICAgICB9KCk7XG5cdFxuXHQgICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkoX3JldCkpID09PSBcIm9iamVjdFwiKSByZXR1cm4gX3JldC52O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciByZW5kZXJNZW51ID0gdGhpcy5yZW5kZXJNZW51KCk7XG5cdCAgICByZXR1cm4gcmVuZGVyTWVudSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7XG5cdCAgICAgICAgc3R5bGU6IHsgb3ZlcmZsb3c6ICdhdXRvJyB9LFxuXHQgICAgICAgIG9uRm9jdXM6IHRoaXMucHJvcHMub25Qb3B1cEZvY3VzLFxuXHQgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50XG5cdCAgICAgIH0sXG5cdCAgICAgIHJlbmRlck1lbnVcblx0ICAgICkgOiBudWxsO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duTWVudTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9yY01lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMzKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgZmlsdGVyT3B0aW9uOiBmdW5jdGlvbiBmaWx0ZXJPcHRpb24oaW5wdXQsIGNoaWxkKSB7XG5cdCAgICBpZiAoIWlucHV0KSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMuZmlsdGVyT3B0aW9uO1xuXHQgICAgaWYgKCFmaWx0ZXJPcHRpb24pIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZpbHRlck9wdGlvbi5jYWxsKHRoaXMsIGlucHV0LCBjaGlsZCk7XG5cdCAgfSxcblx0ICByZW5kZXJGaWx0ZXJPcHRpb25zOiBmdW5jdGlvbiByZW5kZXJGaWx0ZXJPcHRpb25zKGlucHV0VmFsdWUpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4odGhpcy5wcm9wcy5jaGlsZHJlbiwgdHJ1ZSwgaW5wdXRWYWx1ZSk7XG5cdCAgfSxcblx0ICByZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuOiBmdW5jdGlvbiByZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKGNoaWxkcmVuLCBzaG93Tm90Rm91bmQsIGl2KSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBzZWwgPSBbXTtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgaW5wdXRWYWx1ZSA9IGl2ID09PSB1bmRlZmluZWQgPyB0aGlzLnN0YXRlLmlucHV0VmFsdWUgOiBpdjtcblx0ICAgIHZhciBjaGlsZHJlbktleXMgPSBbXTtcblx0ICAgIHZhciB0YWdzID0gcHJvcHMudGFncztcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIGlubmVySXRlbXMgPSBfdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBmYWxzZSk7XG5cdCAgICAgICAgaWYgKGlubmVySXRlbXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICB2YXIgbGFiZWwgPSBjaGlsZC5wcm9wcy5sYWJlbDtcblx0ICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG5cdCAgICAgICAgICBpZiAoIWtleSAmJiB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGtleSA9IGxhYmVsO1xuXHQgICAgICAgICAgfSBlbHNlIGlmICghbGFiZWwgJiYga2V5KSB7XG5cdCAgICAgICAgICAgIGxhYmVsID0ga2V5O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgc2VsLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjTWVudS5JdGVtR3JvdXAsXG5cdCAgICAgICAgICAgIHsga2V5OiBrZXksIHRpdGxlOiBsYWJlbCB9LFxuXHQgICAgICAgICAgICBpbm5lckl0ZW1zXG5cdCAgICAgICAgICApKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoY2hpbGQudHlwZS5pc1NlbGVjdE9wdGlvbiwgJ3RoZSBjaGlsZHJlbiBvZiBgU2VsZWN0YCBzaG91bGQgYmUgYFNlbGVjdC5PcHRpb25gIG9yIGBTZWxlY3QuT3B0R3JvdXBgLCAnICsgKCdpbnN0ZWFkIG9mIGAnICsgKGNoaWxkLnR5cGUubmFtZSB8fCBjaGlsZC50eXBlLmRpc3BsYXlOYW1lIHx8IGNoaWxkLnR5cGUpICsgJ2AuJykpO1xuXHRcblx0ICAgICAgdmFyIGNoaWxkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcblx0ICAgICAgaWYgKF90aGlzLmZpbHRlck9wdGlvbihpbnB1dFZhbHVlLCBjaGlsZCkpIHtcblx0ICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY01lbnUuSXRlbSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICB2YWx1ZTogY2hpbGRWYWx1ZSxcblx0ICAgICAgICAgIGtleTogY2hpbGRWYWx1ZVxuXHQgICAgICAgIH0sIGNoaWxkLnByb3BzKSkpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh0YWdzICYmICFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICAgIGNoaWxkcmVuS2V5cy5wdXNoKGNoaWxkVmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmICh0YWdzKSB7XG5cdCAgICAgIC8vIHRhZ3MgdmFsdWUgbXVzdCBiZSBzdHJpbmdcblx0ICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZSB8fCBbXTtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG5cdCAgICAgICAgcmV0dXJuIGNoaWxkcmVuS2V5cy5pbmRleE9mKHNpbmdsZVZhbHVlLmtleSkgPT09IC0xICYmICghaW5wdXRWYWx1ZSB8fCBTdHJpbmcoc2luZ2xlVmFsdWUua2V5KS5pbmRleE9mKFN0cmluZyhpbnB1dFZhbHVlKSkgPiAtMSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBzZWwgPSBzZWwuY29uY2F0KHZhbHVlLm1hcChmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcblx0ICAgICAgICB2YXIga2V5ID0gc2luZ2xlVmFsdWUua2V5O1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuXHQgICAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICAgIHZhbHVlOiBrZXksXG5cdCAgICAgICAgICAgIGtleToga2V5XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAga2V5XG5cdCAgICAgICAgKTtcblx0ICAgICAgfSkpO1xuXHQgICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgIHZhciBub3RGaW5kSW5wdXRJdGVtID0gc2VsLmV2ZXJ5KGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgIHJldHVybiAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKG9wdGlvbikgIT09IGlucHV0VmFsdWU7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaWYgKG5vdEZpbmRJbnB1dEl0ZW0pIHtcblx0ICAgICAgICAgIHNlbC51bnNoaWZ0KF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFZhbHVlLFxuXHQgICAgICAgICAgICAgIGtleTogaW5wdXRWYWx1ZVxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBpbnB1dFZhbHVlXG5cdCAgICAgICAgICApKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmICghc2VsLmxlbmd0aCAmJiBzaG93Tm90Rm91bmQgJiYgcHJvcHMubm90Rm91bmRDb250ZW50KSB7XG5cdCAgICAgIHNlbCA9IFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9yY01lbnUuSXRlbSxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuXHQgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuXHQgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG5cdCAgICAgICAgICB2YWx1ZTogJ05PVF9GT1VORCcsXG5cdCAgICAgICAgICBrZXk6ICdOT1RfRk9VTkQnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBwcm9wcy5ub3RGb3VuZENvbnRlbnRcblx0ICAgICAgKV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gc2VsO1xuXHQgIH1cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIE9wdEdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE9wdEdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gT3B0R3JvdXAoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE9wdEdyb3VwKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBPcHRHcm91cDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0T3B0R3JvdXAuaXNTZWxlY3RPcHRHcm91cCA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0R3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBPcHRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoT3B0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gT3B0aW9uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBPcHRpb24pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE9wdGlvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0T3B0aW9uLnByb3BUeXBlcyA9IHtcblx0ICB2YWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRPcHRpb24uaXNTZWxlY3RPcHRpb24gPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9wdGlvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cdFxuXHR2YXIgX3JjQW5pbWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9yY0FuaW1hdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNBbmltYXRlKTtcblx0XG5cdHZhciBfY29tcG9uZW50Q2xhc3NlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX1NlbGVjdFRyaWdnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSk7XG5cdFxuXHR2YXIgX1NlbGVjdFRyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0VHJpZ2dlcik7XG5cdFxuXHR2YXIgX0ZpbHRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO1xuXHRcblx0dmFyIF9GaWx0ZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZmlsdGVyRm4oaW5wdXQsIGNoaWxkKSB7XG5cdCAgcmV0dXJuIFN0cmluZygoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShjaGlsZCwgdGhpcy5wcm9wcy5vcHRpb25GaWx0ZXJQcm9wKSkuaW5kZXhPZihpbnB1dCkgPiAtMTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2F2ZVJlZihuYW1lLCBjb21wb25lbnQpIHtcblx0ICB0aGlzW25hbWVdID0gY29tcG9uZW50O1xuXHR9XG5cdFxuXHR2YXIgdmFsdWVPYmplY3RTaGFwZSA9IHZvaWQgMDtcblx0XG5cdGlmIChfcmVhY3QuUHJvcFR5cGVzKSB7XG5cdCAgdmFsdWVPYmplY3RTaGFwZSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5zaGFwZSh7XG5cdCAgICBrZXk6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbGFiZWw6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHQgIH0pXSk7XG5cdH1cblx0XG5cdHZhciBTZWxlY3QgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdTZWxlY3QnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGZpbHRlck9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkaXNhYmxlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgYWxsb3dDbGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2hvd0Fycm93OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB0YWdzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9wdGlvbkxhYmVsUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvcHRpb25GaWx0ZXJQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGFuaW1hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25CbHVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25TZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIG9uRGVzZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGxhYmVsSW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW3ZhbHVlT2JqZWN0U2hhcGUsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZih2YWx1ZU9iamVjdFNoYXBlKV0pLFxuXHQgICAgZHJvcGRvd25TdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBtYXhUYWdUZXh0TGVuZ3RoOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICAgIHRva2VuU2VwYXJhdG9yczogX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICAgIGdldElucHV0RWxlbWVudDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgbWl4aW5zOiBbX0ZpbHRlck1peGluMltcImRlZmF1bHRcIl1dLFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLXNlbGVjdCcsXG5cdCAgICAgIGZpbHRlck9wdGlvbjogZmlsdGVyRm4sXG5cdCAgICAgIGRlZmF1bHRPcGVuOiBmYWxzZSxcblx0ICAgICAgbGFiZWxJblZhbHVlOiBmYWxzZSxcblx0ICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiB0cnVlLFxuXHQgICAgICBzaG93U2VhcmNoOiB0cnVlLFxuXHQgICAgICBhbGxvd0NsZWFyOiBmYWxzZSxcblx0ICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuXHQgICAgICBkZWZhdWx0VmFsdWU6IFtdLFxuXHQgICAgICBvbkNoYW5nZTogbm9vcCxcblx0ICAgICAgb25Gb2N1czogbm9vcCxcblx0ICAgICAgb25CbHVyOiBub29wLFxuXHQgICAgICBvblNlbGVjdDogbm9vcCxcblx0ICAgICAgb25TZWFyY2g6IG5vb3AsXG5cdCAgICAgIG9uRGVzZWxlY3Q6IG5vb3AsXG5cdCAgICAgIHNob3dBcnJvdzogdHJ1ZSxcblx0ICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiB0cnVlLFxuXHQgICAgICBkcm9wZG93blN0eWxlOiB7fSxcblx0ICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHt9LFxuXHQgICAgICBvcHRpb25GaWx0ZXJQcm9wOiAndmFsdWUnLFxuXHQgICAgICBvcHRpb25MYWJlbFByb3A6ICd2YWx1ZScsXG5cdCAgICAgIG5vdEZvdW5kQ29udGVudDogJ05vdCBGb3VuZCdcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdmFsdWUgPSBbXTtcblx0ICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICAgIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKHByb3BzLnZhbHVlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKHByb3BzLmRlZmF1bHRWYWx1ZSk7XG5cdCAgICB9XG5cdCAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKHByb3BzLCB2YWx1ZSk7XG5cdCAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZSk7XG5cdCAgICB2YXIgaW5wdXRWYWx1ZSA9ICcnO1xuXHQgICAgaWYgKHByb3BzLmNvbWJvYm94KSB7XG5cdCAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZVswXS5rZXkpIDogJyc7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNhdmVJbnB1dFJlZiA9IHNhdmVSZWYuYmluZCh0aGlzLCAnaW5wdXRJbnN0YW5jZScpO1xuXHQgICAgdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYgPSBzYXZlUmVmLmJpbmQodGhpcywgJ2lucHV0TWlycm9ySW5zdGFuY2UnKTtcblx0ICAgIHZhciBvcGVuID0gcHJvcHMub3Blbjtcblx0ICAgIGlmIChvcGVuID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgb3BlbiA9IHByb3BzLmRlZmF1bHRPcGVuO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuXHQgICAgICBvcGVuOiBvcGVuXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG5cdCAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB2YXIgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkobmV4dFByb3BzLnZhbHVlKTtcblx0ICAgICAgdmFsdWUgPSB0aGlzLmFkZExhYmVsVG9WYWx1ZShuZXh0UHJvcHMsIHZhbHVlKTtcblx0ICAgICAgdmFsdWUgPSB0aGlzLmFkZFRpdGxlVG9WYWx1ZShuZXh0UHJvcHMsIHZhbHVlKTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAobmV4dFByb3BzLmNvbWJvYm94KSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBpbnB1dFZhbHVlOiB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKG5leHRQcm9wcywgdmFsdWVbMF0ua2V5KSA6ICcnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcblx0ICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG5cdCAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xuXHQgICAgdGhpcy5hZGp1c3RPcGVuU3RhdGUoKTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSkge1xuXHQgICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKTtcblx0ICAgICAgdmFyIG1pcnJvck5vZGUgPSB0aGlzLmdldElucHV0TWlycm9yRE9NTm9kZSgpO1xuXHQgICAgICBpZiAoaW5wdXROb2RlLnZhbHVlKSB7XG5cdCAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG5cdCAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gbWlycm9yTm9kZS5jbGllbnRXaWR0aCArICdweCc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHRoaXMuY2xlYXJCbHVyVGltZSgpO1xuXHQgICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG5cdCAgICBpZiAodGhpcy5kcm9wZG93bkNvbnRhaW5lcikge1xuXHQgICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuXHQgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuXHQgICAgICB0aGlzLmRyb3Bkb3duQ29udGFpbmVyID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0ICAgIHZhciB0b2tlblNlcGFyYXRvcnMgPSB0aGlzLnByb3BzLnRva2VuU2VwYXJhdG9ycztcblx0XG5cdCAgICB2YXIgdmFsID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSAmJiB0b2tlblNlcGFyYXRvcnMgJiYgKDAsIF91dGlsLmluY2x1ZGVzU2VwYXJhdG9ycykodmFsLCB0b2tlblNlcGFyYXRvcnMpKSB7XG5cdCAgICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLnRva2VuaXplKHZhbCk7XG5cdCAgICAgIHRoaXMuZmlyZUNoYW5nZShuZXh0VmFsdWUpO1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJywgZmFsc2UpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldElucHV0VmFsdWUodmFsKTtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBvcGVuOiB0cnVlXG5cdCAgICB9KTtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkodGhpcy5wcm9wcykpIHtcblx0ICAgICAgdGhpcy5maXJlQ2hhbmdlKFt7XG5cdCAgICAgICAga2V5OiB2YWxcblx0ICAgICAgfV0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlKG9wZW4pIHtcblx0ICAgIHRoaXMuc2V0T3BlblN0YXRlKG9wZW4pO1xuXHQgIH0sXG5cdFxuXHRcblx0ICAvLyBjb21ib2JveCBpZ25vcmVcblx0ICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICYmICF0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIHRoaXMub25JbnB1dEtleURvd24oZXZlbnQpO1xuXHQgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSIHx8IGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uSW5wdXRLZXlEb3duOiBmdW5jdGlvbiBvbklucHV0S2V5RG93bihldmVudCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgIWV2ZW50LnRhcmdldC52YWx1ZSAmJiBrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkJBQ0tTUEFDRSkge1xuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcblx0XG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdLmtleSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuXHQgICAgICBpZiAoIXN0YXRlLm9wZW4pIHtcblx0ICAgICAgICB0aGlzLm9wZW5JZkhhc0NoaWxkcmVuKCk7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FU0MpIHtcblx0ICAgICAgaWYgKHN0YXRlLm9wZW4pIHtcblx0ICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN0YXRlLm9wZW4pIHtcblx0ICAgICAgdmFyIG1lbnUgPSB0aGlzLnJlZnMudHJpZ2dlci5nZXRJbm5lck1lbnUoKTtcblx0ICAgICAgaWYgKG1lbnUgJiYgbWVudS5vbktleURvd24oZXZlbnQpKSB7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25NZW51U2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVTZWxlY3QoX3JlZikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgaXRlbSA9IF9yZWYuaXRlbTtcblx0XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShpdGVtKTtcblx0ICAgIHZhciBzZWxlY3RlZExhYmVsID0gdGhpcy5nZXRMYWJlbEZyb21PcHRpb24oaXRlbSk7XG5cdCAgICB2YXIgZXZlbnQgPSBzZWxlY3RlZFZhbHVlO1xuXHQgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuXHQgICAgICBldmVudCA9IHtcblx0ICAgICAgICBrZXk6IGV2ZW50LFxuXHQgICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICBwcm9wcy5vblNlbGVjdChldmVudCwgaXRlbSk7XG5cdCAgICB2YXIgc2VsZWN0ZWRUaXRsZSA9IGl0ZW0ucHJvcHMudGl0bGU7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuXHQgICAgICBpZiAoKDAsIF91dGlsLmZpbmRJbmRleEluVmFsdWVCeUtleSkodmFsdWUsIHNlbGVjdGVkVmFsdWUpICE9PSAtMSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZSA9IHZhbHVlLmNvbmNhdChbe1xuXHQgICAgICAgIGtleTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbCxcblx0ICAgICAgICB0aXRsZTogc2VsZWN0ZWRUaXRsZVxuXHQgICAgICB9XSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW4gPSB0cnVlO1xuXHQgICAgICAgIHRoaXMuY2xlYXJBZGp1c3RUaW1lcigpO1xuXHQgICAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMuc2tpcEFkanVzdE9wZW4gPSBmYWxzZTtcblx0ICAgICAgICB9LCAwKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodmFsdWUubGVuZ3RoICYmIHZhbHVlWzBdLmtleSA9PT0gc2VsZWN0ZWRWYWx1ZSkge1xuXHQgICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFsdWUgPSBbe1xuXHQgICAgICAgIGtleTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbCxcblx0ICAgICAgICB0aXRsZTogc2VsZWN0ZWRUaXRsZVxuXHQgICAgICB9XTtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5maXJlQ2hhbmdlKHZhbHVlKTtcblx0ICAgIHZhciBpbnB1dFZhbHVlID0gdm9pZCAwO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcblx0ICAgICAgaW5wdXRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGl0ZW0sIHByb3BzLm9wdGlvbkxhYmVsUHJvcCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBpbnB1dFZhbHVlID0gJyc7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldElucHV0VmFsdWUoaW5wdXRWYWx1ZSwgZmFsc2UpO1xuXHQgIH0sXG5cdCAgb25NZW51RGVzZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudURlc2VsZWN0KF9yZWYyKSB7XG5cdCAgICB2YXIgaXRlbSA9IF9yZWYyLml0ZW0sXG5cdCAgICAgICAgZG9tRXZlbnQgPSBfcmVmMi5kb21FdmVudDtcblx0XG5cdCAgICBpZiAoZG9tRXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuXHQgICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSkpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnLCBmYWxzZSk7XG5cdCAgfSxcblx0ICBvbkFycm93Q2xpY2s6IGZ1bmN0aW9uIG9uQXJyb3dDbGljayhlKSB7XG5cdCAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgaWYgKCF0aGlzLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKCF0aGlzLnN0YXRlLm9wZW4sICF0aGlzLnN0YXRlLm9wZW4pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25QbGFjZWhvbGRlckNsaWNrOiBmdW5jdGlvbiBvblBsYWNlaG9sZGVyQ2xpY2soKSB7XG5cdCAgICBpZiAodGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuXHQgICAgICB0aGlzLmdldElucHV0RE9NTm9kZSgpLmZvY3VzKCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbk91dGVyRm9jdXM6IGZ1bmN0aW9uIG9uT3V0ZXJGb2N1cyhlKSB7XG5cdCAgICBpZiAoISgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykgJiYgZS50YXJnZXQgPT09IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG5cdCAgICB0aGlzLl9mb2N1c2VkID0gdHJ1ZTtcblx0ICAgIHRoaXMudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcblx0ICAgIHRoaXMucHJvcHMub25Gb2N1cygpO1xuXHQgIH0sXG5cdCAgb25Qb3B1cEZvY3VzOiBmdW5jdGlvbiBvblBvcHVwRm9jdXMoKSB7XG5cdCAgICAvLyBmaXggaWUgc2Nyb2xsYmFyLCBmb2N1cyBlbGVtZW50IGFnYWluXG5cdCAgICB0aGlzLm1heWJlRm9jdXModHJ1ZSwgdHJ1ZSk7XG5cdCAgfSxcblx0ICBvbk91dGVyQmx1cjogZnVuY3Rpb24gb25PdXRlckJsdXIoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB0aGlzLmJsdXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpczIuX2ZvY3VzZWQgPSBmYWxzZTtcblx0ICAgICAgX3RoaXMyLnVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCk7XG5cdCAgICAgIHZhciBwcm9wcyA9IF90aGlzMi5wcm9wcztcblx0ICAgICAgdmFyIHZhbHVlID0gX3RoaXMyLnN0YXRlLnZhbHVlO1xuXHQgICAgICB2YXIgaW5wdXRWYWx1ZSA9IF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiBwcm9wcy5zaG93U2VhcmNoICYmIGlucHV0VmFsdWUgJiYgcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uKSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpczIuX29wdGlvbnMgfHwgW107XG5cdCAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICB2YXIgZmlyc3RPcHRpb24gPSAoMCwgX3V0aWwuZmluZEZpcnN0TWVudUl0ZW0pKG9wdGlvbnMpO1xuXHQgICAgICAgICAgaWYgKGZpcnN0T3B0aW9uKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gW3tcblx0ICAgICAgICAgICAgICBrZXk6IGZpcnN0T3B0aW9uLmtleSxcblx0ICAgICAgICAgICAgICBsYWJlbDogX3RoaXMyLmdldExhYmVsRnJvbU9wdGlvbihmaXJzdE9wdGlvbilcblx0ICAgICAgICAgICAgfV07XG5cdCAgICAgICAgICAgIF90aGlzMi5maXJlQ2hhbmdlKHZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiBpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgLy8gd2h5IG5vdCB1c2Ugc2V0U3RhdGU/XG5cdCAgICAgICAgX3RoaXMyLnN0YXRlLmlucHV0VmFsdWUgPSBfdGhpczIuZ2V0SW5wdXRET01Ob2RlKCkudmFsdWUgPSAnJztcblx0ICAgICAgfVxuXHQgICAgICBwcm9wcy5vbkJsdXIoX3RoaXMyLmdldFZMRm9yT25DaGFuZ2UodmFsdWUpKTtcblx0ICAgIH0sIDEwKTtcblx0ICB9LFxuXHQgIG9uQ2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uIG9uQ2xlYXJTZWxlY3Rpb24oZXZlbnQpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBpbnB1dFZhbHVlID0gc3RhdGUuaW5wdXRWYWx1ZSxcblx0ICAgICAgICB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXHRcblx0ICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgaWYgKGlucHV0VmFsdWUgfHwgdmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICB0aGlzLmZpcmVDaGFuZ2UoW10pO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcblx0ICAgICAgaWYgKGlucHV0VmFsdWUpIHtcblx0ICAgICAgICB0aGlzLnNldElucHV0VmFsdWUoJycpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNob2ljZUFuaW1hdGlvbkxlYXZlOiBmdW5jdGlvbiBvbkNob2ljZUFuaW1hdGlvbkxlYXZlKCkge1xuXHQgICAgdGhpcy5yZWZzLnRyaWdnZXIucmVmcy50cmlnZ2VyLmZvcmNlUG9wdXBBbGlnbigpO1xuXHQgIH0sXG5cdCAgZ2V0TGFiZWxCeVNpbmdsZVZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGRyZW4sIHZhbHVlKSB7XG5cdCAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBsYWJlbCA9IG51bGw7XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuXHQgICAgICAgIHZhciBtYXliZSA9IF90aGlzMy5nZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGQucHJvcHMuY2hpbGRyZW4sIHZhbHVlKTtcblx0ICAgICAgICBpZiAobWF5YmUgIT09IG51bGwpIHtcblx0ICAgICAgICAgIGxhYmVsID0gbWF5YmU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpID09PSB2YWx1ZSkge1xuXHQgICAgICAgIGxhYmVsID0gX3RoaXMzLmdldExhYmVsRnJvbU9wdGlvbihjaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGxhYmVsO1xuXHQgIH0sXG5cdCAgZ2V0VmFsdWVCeUxhYmVsOiBmdW5jdGlvbiBnZXRWYWx1ZUJ5TGFiZWwoY2hpbGRyZW4sIGxhYmVsKSB7XG5cdCAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciB2YWx1ZSA9IG51bGw7XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuXHQgICAgICAgIHZhciBtYXliZSA9IF90aGlzNC5nZXRWYWx1ZUJ5TGFiZWwoY2hpbGQucHJvcHMuY2hpbGRyZW4sIGxhYmVsKTtcblx0ICAgICAgICBpZiAobWF5YmUgIT09IG51bGwpIHtcblx0ICAgICAgICAgIHZhbHVlID0gbWF5YmU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC50b0FycmF5KShfdGhpczQuZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKSkuam9pbignJykgPT09IGxhYmVsKSB7XG5cdCAgICAgICAgdmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEZyb21PcHRpb246IGZ1bmN0aW9uIGdldExhYmVsRnJvbU9wdGlvbihjaGlsZCkge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGNoaWxkLCB0aGlzLnByb3BzLm9wdGlvbkxhYmVsUHJvcCk7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEZyb21Qcm9wczogZnVuY3Rpb24gZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRMYWJlbEJ5VmFsdWUocHJvcHMuY2hpbGRyZW4sIHZhbHVlKTtcblx0ICB9LFxuXHQgIGdldFZMRm9yT25DaGFuZ2U6IGZ1bmN0aW9uIGdldFZMRm9yT25DaGFuZ2UodmxzXykge1xuXHQgICAgdmFyIHZscyA9IHZsc187XG5cdCAgICBpZiAodmxzICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgaWYgKCF0aGlzLnByb3BzLmxhYmVsSW5WYWx1ZSkge1xuXHQgICAgICAgIHZscyA9IHZscy5tYXAoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgIHJldHVybiB2LmtleTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2bHMgPSB2bHMubWFwKGZ1bmN0aW9uICh2bCkge1xuXHQgICAgICAgICAgcmV0dXJuIHsga2V5OiB2bC5rZXksIGxhYmVsOiB2bC5sYWJlbCB9O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykgPyB2bHMgOiB2bHNbMF07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmxzO1xuXHQgIH0sXG5cdCAgZ2V0TGFiZWxCeVZhbHVlOiBmdW5jdGlvbiBnZXRMYWJlbEJ5VmFsdWUoY2hpbGRyZW4sIHZhbHVlKSB7XG5cdCAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpO1xuXHQgICAgaWYgKGxhYmVsID09PSBudWxsKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBsYWJlbDtcblx0ICB9LFxuXHQgIGdldERyb3Bkb3duQ29udGFpbmVyOiBmdW5jdGlvbiBnZXREcm9wZG93bkNvbnRhaW5lcigpIHtcblx0ICAgIGlmICghdGhpcy5kcm9wZG93bkNvbnRhaW5lcikge1xuXHQgICAgICB0aGlzLmRyb3Bkb3duQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5kcm9wZG93bkNvbnRhaW5lcjtcblx0ICB9LFxuXHQgIGdldFBsYWNlaG9sZGVyRWxlbWVudDogZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXJFbGVtZW50KCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFxuXHQgICAgdmFyIGhpZGRlbiA9IGZhbHNlO1xuXHQgICAgaWYgKHN0YXRlLmlucHV0VmFsdWUpIHtcblx0ICAgICAgaGlkZGVuID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmIChzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgaGlkZGVuID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpICYmIHN0YXRlLnZhbHVlLmxlbmd0aCA9PT0gMSAmJiAhc3RhdGUudmFsdWVbMF0ua2V5KSB7XG5cdCAgICAgIGhpZGRlbiA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdmFyIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXI7XG5cdCAgICBpZiAocGxhY2Vob2xkZXIpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuXHQgICAgICAgICAgc3R5bGU6ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgIGRpc3BsYXk6IGhpZGRlbiA/ICdub25lJyA6ICdibG9jaydcblx0ICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSlcblx0ICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUGxhY2Vob2xkZXJDbGljayxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX3BsYWNlaG9sZGVyJ1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIHBsYWNlaG9sZGVyXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHQgIGdldElucHV0RWxlbWVudDogZnVuY3Rpb24gZ2V0SW5wdXRFbGVtZW50KCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBpbnB1dEVsZW1lbnQgPSBwcm9wcy5nZXRJbnB1dEVsZW1lbnQgPyBwcm9wcy5nZXRJbnB1dEVsZW1lbnQoKSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgbnVsbCk7XG5cdCAgICB2YXIgaW5wdXRDbHMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoaW5wdXRFbGVtZW50LnByb3BzLmNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkJywgdHJ1ZSkpO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX193cmFwJyB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoaW5wdXRFbGVtZW50LCB7XG5cdCAgICAgICAgcmVmOiB0aGlzLnNhdmVJbnB1dFJlZixcblx0ICAgICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlLFxuXHQgICAgICAgIG9uS2V5RG93bjogdGhpcy5vbklucHV0S2V5RG93bixcblx0ICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5pbnB1dFZhbHVlLFxuXHQgICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICBjbGFzc05hbWU6IGlucHV0Q2xzXG5cdCAgICAgIH0pLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0TWlycm9yUmVmLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGRfX21pcnJvcidcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH0sXG5cdCAgZ2V0SW5wdXRET01Ob2RlOiBmdW5jdGlvbiBnZXRJbnB1dERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pbnB1dEluc3RhbmNlO1xuXHQgIH0sXG5cdCAgZ2V0SW5wdXRNaXJyb3JET01Ob2RlOiBmdW5jdGlvbiBnZXRJbnB1dE1pcnJvckRPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pbnB1dE1pcnJvckluc3RhbmNlO1xuXHQgIH0sXG5cdCAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBET01Ob2RlKCk7XG5cdCAgfSxcblx0ICBnZXRQb3B1cE1lbnVDb21wb25lbnQ6IGZ1bmN0aW9uIGdldFBvcHVwTWVudUNvbXBvbmVudCgpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRJbm5lck1lbnUoKTtcblx0ICB9LFxuXHQgIHNldE9wZW5TdGF0ZTogZnVuY3Rpb24gc2V0T3BlblN0YXRlKG9wZW4sIG5lZWRGb2N1cykge1xuXHQgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFxuXHQgICAgaWYgKHN0YXRlLm9wZW4gPT09IG9wZW4pIHtcblx0ICAgICAgdGhpcy5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBuZXh0U3RhdGUgPSB7XG5cdCAgICAgIG9wZW46IG9wZW5cblx0ICAgIH07XG5cdCAgICAvLyBjbGVhciBzZWFyY2ggaW5wdXQgdmFsdWUgd2hlbiBvcGVuIGlzIGZhbHNlIGluIHNpbmdsZU1vZGUuXG5cdCAgICBpZiAoIW9wZW4gJiYgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2gpIHtcblx0ICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcblx0ICAgIH1cblx0ICAgIGlmICghb3Blbikge1xuXHQgICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChvcGVuKSB7XG5cdCAgICAgICAgX3RoaXM1Lm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiBzZXRJbnB1dFZhbHVlKGlucHV0VmFsdWUpIHtcblx0ICAgIHZhciBmaXJlU2VhcmNoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXHRcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlXG5cdCAgICB9KTtcblx0ICAgIGlmIChmaXJlU2VhcmNoKSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25TZWFyY2goaW5wdXRWYWx1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjbGVhckJsdXJUaW1lOiBmdW5jdGlvbiBjbGVhckJsdXJUaW1lKCkge1xuXHQgICAgaWYgKHRoaXMuYmx1clRpbWVyKSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aGlzLmJsdXJUaW1lcik7XG5cdCAgICAgIHRoaXMuYmx1clRpbWVyID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNsZWFyQWRqdXN0VGltZXI6IGZ1bmN0aW9uIGNsZWFyQWRqdXN0VGltZXIoKSB7XG5cdCAgICBpZiAodGhpcy5za2lwQWRqdXN0T3BlblRpbWVyKSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpO1xuXHQgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgdXBkYXRlRm9jdXNDbGFzc05hbWU6IGZ1bmN0aW9uIHVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCkge1xuXHQgICAgdmFyIHJlZnMgPSB0aGlzLnJlZnMsXG5cdCAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgLy8gYXZvaWQgc2V0U3RhdGUgYW5kIGl0cyBzaWRlIGVmZmVjdFxuXHRcblx0ICAgIGlmICh0aGlzLl9mb2N1c2VkKSB7XG5cdCAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKShyZWZzLnJvb3QpLmFkZChwcm9wcy5wcmVmaXhDbHMgKyAnLWZvY3VzZWQnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKShyZWZzLnJvb3QpLnJlbW92ZShwcm9wcy5wcmVmaXhDbHMgKyAnLWZvY3VzZWQnKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG1heWJlRm9jdXM6IGZ1bmN0aW9uIG1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKSB7XG5cdCAgICBpZiAobmVlZEZvY3VzIHx8IG9wZW4pIHtcblx0ICAgICAgdmFyIGlucHV0ID0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKTtcblx0ICAgICAgdmFyIF9kb2N1bWVudCA9IGRvY3VtZW50LFxuXHQgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IF9kb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHRcblx0ICAgICAgaWYgKGlucHV0ICYmIChvcGVuIHx8ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykpKSB7XG5cdCAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IGlucHV0KSB7XG5cdCAgICAgICAgICBpbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5yZWZzLnNlbGVjdGlvbjtcblx0ICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gc2VsZWN0aW9uKSB7XG5cdCAgICAgICAgICBzZWxlY3Rpb24uZm9jdXMoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGFkZExhYmVsVG9WYWx1ZTogZnVuY3Rpb24gYWRkTGFiZWxUb1ZhbHVlKHByb3BzLCB2YWx1ZV8pIHtcblx0ICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHZhbHVlXztcblx0ICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcblx0ICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAodikge1xuXHQgICAgICAgIHYubGFiZWwgPSB2LmxhYmVsIHx8IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdi5rZXkpO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIGtleTogdixcblx0ICAgICAgICAgIGxhYmVsOiBfdGhpczYuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHYpXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdCAgfSxcblx0ICBhZGRUaXRsZVRvVmFsdWU6IGZ1bmN0aW9uIGFkZFRpdGxlVG9WYWx1ZShwcm9wcywgdmFsdWVzKSB7XG5cdCAgICB2YXIgX3RoaXM3ID0gdGhpcztcblx0XG5cdCAgICB2YXIgbmV4dFZhbHVlcyA9IHZhbHVlcztcblx0ICAgIHZhciBrZXlzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICByZXR1cm4gdi5rZXk7XG5cdCAgICB9KTtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgbmV4dFZhbHVlcyA9IF90aGlzNy5hZGRUaXRsZVRvVmFsdWUoY2hpbGQucHJvcHMsIG5leHRWYWx1ZXMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICAgIHZhciB2YWx1ZUluZGV4ID0ga2V5cy5pbmRleE9mKHZhbHVlKTtcblx0ICAgICAgICBpZiAodmFsdWVJbmRleCA+IC0xKSB7XG5cdCAgICAgICAgICBuZXh0VmFsdWVzW3ZhbHVlSW5kZXhdLnRpdGxlID0gY2hpbGQucHJvcHMudGl0bGU7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBuZXh0VmFsdWVzO1xuXHQgIH0sXG5cdCAgcmVtb3ZlU2VsZWN0ZWQ6IGZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKHNlbGVjdGVkS2V5KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHRoaXMuaXNDaGlsZERpc2FibGVkKHNlbGVjdGVkS2V5KSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgbGFiZWwgPSB2b2lkIDA7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcblx0ICAgICAgaWYgKHNpbmdsZVZhbHVlLmtleSA9PT0gc2VsZWN0ZWRLZXkpIHtcblx0ICAgICAgICBsYWJlbCA9IHNpbmdsZVZhbHVlLmxhYmVsO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBzaW5nbGVWYWx1ZS5rZXkgIT09IHNlbGVjdGVkS2V5O1xuXHQgICAgfSk7XG5cdCAgICB2YXIgY2FuTXVsdGlwbGUgPSAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpO1xuXHRcblx0ICAgIGlmIChjYW5NdWx0aXBsZSkge1xuXHQgICAgICB2YXIgZXZlbnQgPSBzZWxlY3RlZEtleTtcblx0ICAgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuXHQgICAgICAgIGV2ZW50ID0ge1xuXHQgICAgICAgICAga2V5OiBzZWxlY3RlZEtleSxcblx0ICAgICAgICAgIGxhYmVsOiBsYWJlbFxuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0ICAgICAgcHJvcHMub25EZXNlbGVjdChldmVudCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmZpcmVDaGFuZ2UodmFsdWUpO1xuXHQgIH0sXG5cdCAgb3BlbklmSGFzQ2hpbGRyZW46IGZ1bmN0aW9uIG9wZW5JZkhhc0NoaWxkcmVuKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmIChfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikgfHwgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKHRydWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZmlyZUNoYW5nZTogZnVuY3Rpb24gZmlyZUNoYW5nZSh2YWx1ZSkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHByb3BzLm9uQ2hhbmdlKHRoaXMuZ2V0VkxGb3JPbkNoYW5nZSh2YWx1ZSkpO1xuXHQgIH0sXG5cdCAgaXNDaGlsZERpc2FibGVkOiBmdW5jdGlvbiBpc0NoaWxkRGlzYWJsZWQoa2V5KSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlsLnRvQXJyYXkpKHRoaXMucHJvcHMuY2hpbGRyZW4pLnNvbWUoZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG5cdCAgICAgIHJldHVybiBjaGlsZFZhbHVlID09PSBrZXkgJiYgY2hpbGQucHJvcHMgJiYgY2hpbGQucHJvcHMuZGlzYWJsZWQ7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHRva2VuaXplOiBmdW5jdGlvbiB0b2tlbml6ZShzdHJpbmcpIHtcblx0ICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG11bHRpcGxlID0gX3Byb3BzLm11bHRpcGxlLFxuXHQgICAgICAgIHRva2VuU2VwYXJhdG9ycyA9IF9wcm9wcy50b2tlblNlcGFyYXRvcnMsXG5cdCAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICAoMCwgX3V0aWwuc3BsaXRCeVNlcGFyYXRvcnMpKHN0cmluZywgdG9rZW5TZXBhcmF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChsYWJlbCkge1xuXHQgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHsga2V5OiBsYWJlbCwgbGFiZWw6IGxhYmVsIH07XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwpKG5leHRWYWx1ZSwgbGFiZWwpID09PSAtMSkge1xuXHQgICAgICAgIGlmIChtdWx0aXBsZSkge1xuXHQgICAgICAgICAgdmFyIHZhbHVlID0gX3RoaXM4LmdldFZhbHVlQnlMYWJlbChjaGlsZHJlbiwgbGFiZWwpO1xuXHQgICAgICAgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIHNlbGVjdGVkVmFsdWUua2V5ID0gdmFsdWU7XG5cdCAgICAgICAgICAgIG5leHRWYWx1ZSA9IG5leHRWYWx1ZS5jb25jYXQoc2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG5leHRWYWx1ZSA9IG5leHRWYWx1ZS5jb25jYXQoc2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBuZXh0VmFsdWU7XG5cdCAgfSxcblx0ICBhZGp1c3RPcGVuU3RhdGU6IGZ1bmN0aW9uIGFkanVzdE9wZW5TdGF0ZSgpIHtcblx0ICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXHRcblx0ICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuXHQgICAgICBvcGVuID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBvcHRpb25zID0gW107XG5cdCAgICBpZiAob3Blbikge1xuXHQgICAgICBvcHRpb25zID0gdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zKCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblx0ICAgIGlmIChvcGVuICYmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpIHx8ICF0aGlzLnByb3BzLnNob3dTZWFyY2gpICYmICFvcHRpb25zLmxlbmd0aCkge1xuXHQgICAgICBvcGVuID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB0aGlzLnN0YXRlLm9wZW4gPSBvcGVuO1xuXHQgIH0sXG5cdCAgcmVuZGVyVG9wQ29udHJvbE5vZGU6IGZ1bmN0aW9uIHJlbmRlclRvcENvbnRyb2xOb2RlKCkge1xuXHQgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG5cdCAgICAgICAgb3BlbiA9IF9zdGF0ZS5vcGVuLFxuXHQgICAgICAgIGlucHV0VmFsdWUgPSBfc3RhdGUuaW5wdXRWYWx1ZTtcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGNob2ljZVRyYW5zaXRpb25OYW1lID0gcHJvcHMuY2hvaWNlVHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIG1heFRhZ1RleHRMZW5ndGggPSBwcm9wcy5tYXhUYWdUZXh0TGVuZ3RoLFxuXHQgICAgICAgIHNob3dTZWFyY2ggPSBwcm9wcy5zaG93U2VhcmNoO1xuXHRcblx0ICAgIHZhciBjbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcmVuZGVyZWQnO1xuXHQgICAgLy8gc2VhcmNoIGlucHV0IGlzIGluc2lkZSB0b3BDb250cm9sTm9kZSBpbiBzaW5nbGUsIG11bHRpcGxlICYgY29tYm9ib3guIDIwMTYvMDQvMTNcblx0ICAgIHZhciBpbm5lck5vZGUgPSBudWxsO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSkge1xuXHQgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7XG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICB2YXIgc2hvd1NlbGVjdGVkVmFsdWUgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgb3BhY2l0eSA9IDE7XG5cdCAgICAgICAgaWYgKCFzaG93U2VhcmNoKSB7XG5cdCAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9IHRydWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGlmIChvcGVuKSB7XG5cdCAgICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gIWlucHV0VmFsdWU7XG5cdCAgICAgICAgICAgIGlmIChzaG93U2VsZWN0ZWRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgIG9wYWNpdHkgPSAwLjQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNpbmdsZVZhbHVlID0gdmFsdWVbMF07XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAga2V5OiAndmFsdWUnLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLXNlbGVjdGVkLXZhbHVlJyxcblx0ICAgICAgICAgICAgdGl0bGU6IHNpbmdsZVZhbHVlLnRpdGxlIHx8IHNpbmdsZVZhbHVlLmxhYmVsLFxuXHQgICAgICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgICAgIGRpc3BsYXk6IHNob3dTZWxlY3RlZFZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyxcblx0ICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB2YWx1ZVswXS5sYWJlbFxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCFzaG93U2VhcmNoKSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gW3NlbGVjdGVkVmFsdWVdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlubmVyTm9kZSA9IFtzZWxlY3RlZFZhbHVlLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWFyY2ggJyArIHByZWZpeENscyArICctc2VhcmNoLS1pbmxpbmUnLFxuXHQgICAgICAgICAgICBrZXk6ICdpbnB1dCcsXG5cdCAgICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgZGlzcGxheTogb3BlbiA/ICdibG9jaycgOiAnbm9uZSdcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHRoaXMuZ2V0SW5wdXRFbGVtZW50KClcblx0ICAgICAgICApXTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIHNlbGVjdGVkVmFsdWVOb2RlcyA9IFtdO1xuXHQgICAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuXHQgICAgICAgIHNlbGVjdGVkVmFsdWVOb2RlcyA9IHZhbHVlLm1hcChmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcblx0ICAgICAgICAgIHZhciBjb250ZW50ID0gc2luZ2xlVmFsdWUubGFiZWw7XG5cdCAgICAgICAgICB2YXIgdGl0bGUgPSBzaW5nbGVWYWx1ZS50aXRsZSB8fCBjb250ZW50O1xuXHQgICAgICAgICAgaWYgKG1heFRhZ1RleHRMZW5ndGggJiYgdHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnICYmIGNvbnRlbnQubGVuZ3RoID4gbWF4VGFnVGV4dExlbmd0aCkge1xuXHQgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgwLCBtYXhUYWdUZXh0TGVuZ3RoKSArICcuLi4nO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXM5LmlzQ2hpbGREaXNhYmxlZChzaW5nbGVWYWx1ZS5rZXkpO1xuXHQgICAgICAgICAgdmFyIGNob2ljZUNsYXNzTmFtZSA9IGRpc2FibGVkID8gcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZSAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fZGlzYWJsZWQnIDogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZSc7XG5cdCAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG5cdCAgICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IGNob2ljZUNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgICBrZXk6IHNpbmdsZVZhbHVlLmtleSxcblx0ICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcblx0ICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX2NvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgICAgY29udGVudFxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fcmVtb3ZlJyxcblx0ICAgICAgICAgICAgICBvbkNsaWNrOiBfdGhpczkucmVtb3ZlU2VsZWN0ZWQuYmluZChfdGhpczksIHNpbmdsZVZhbHVlLmtleSlcblx0ICAgICAgICAgICAgfSlcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWFyY2ggJyArIHByZWZpeENscyArICctc2VhcmNoLS1pbmxpbmUnLFxuXHQgICAgICAgICAga2V5OiAnX19pbnB1dCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRoaXMuZ2V0SW5wdXRFbGVtZW50KClcblx0ICAgICAgKSk7XG5cdFxuXHQgICAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiBjaG9pY2VUcmFuc2l0aW9uTmFtZSkge1xuXHQgICAgICAgIGlubmVyTm9kZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmNBbmltYXRlMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIG9uTGVhdmU6IHRoaXMub25DaG9pY2VBbmltYXRpb25MZWF2ZSxcblx0ICAgICAgICAgICAgY29tcG9uZW50OiAndWwnLFxuXHQgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZTogY2hvaWNlVHJhbnNpdGlvbk5hbWVcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXNcblx0ICAgICAgICApO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlubmVyTm9kZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndWwnLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuXHQgICAgICB0aGlzLmdldFBsYWNlaG9sZGVyRWxlbWVudCgpLFxuXHQgICAgICBpbm5lck5vZGVcblx0ICAgICk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcm9vdENscztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIG11bHRpcGxlID0gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKTtcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgYWxsb3dDbGVhciA9IHByb3BzLmFsbG93Q2xlYXIsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgIHZhciBjdHJsTm9kZSA9IHRoaXMucmVuZGVyVG9wQ29udHJvbE5vZGUoKTtcblx0ICAgIHZhciBleHRyYVNlbGVjdGlvblByb3BzID0ge307XG5cdCAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3Blbjtcblx0XG5cdCAgICB2YXIgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnM7XG5cdCAgICBpZiAoISgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkocHJvcHMpKSB7XG5cdCAgICAgIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7XG5cdCAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcblx0ICAgICAgICB0YWJJbmRleDogMFxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgdmFyIHJvb3RDbHMgPSAoX3Jvb3RDbHMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctb3BlbicsIG9wZW4pLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBvcGVuIHx8ICEhdGhpcy5fZm9jdXNlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctY29tYm9ib3gnLCAoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1lbmFibGVkJywgIWRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1hbGxvdy1jbGVhcicsICEhcHJvcHMuYWxsb3dDbGVhciksIF9yb290Q2xzKTtcblx0ICAgIHZhciBjbGVhclN0eWxlID0gKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsIHtcblx0ICAgICAgZGlzcGxheTogJ25vbmUnXG5cdCAgICB9KTtcblx0ICAgIGlmIChzdGF0ZS5pbnB1dFZhbHVlIHx8IHN0YXRlLnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICBjbGVhclN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXHQgICAgfVxuXHQgICAgdmFyIGNsZWFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgIGtleTogJ2NsZWFyJyxcblx0ICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG5cdCAgICAgIHN0eWxlOiBjbGVhclN0eWxlXG5cdCAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG5cdCAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2NsZWFyJyxcblx0ICAgICAgb25DbGljazogdGhpcy5vbkNsZWFyU2VsZWN0aW9uXG5cdCAgICB9KSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgX1NlbGVjdFRyaWdnZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAge1xuXHQgICAgICAgIG9uUG9wdXBGb2N1czogdGhpcy5vblBvcHVwRm9jdXMsXG5cdCAgICAgICAgZHJvcGRvd25BbGlnbjogcHJvcHMuZHJvcGRvd25BbGlnbixcblx0ICAgICAgICBkcm9wZG93bkNsYXNzTmFtZTogcHJvcHMuZHJvcGRvd25DbGFzc05hbWUsXG5cdCAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBwcm9wcy5kcm9wZG93bk1hdGNoU2VsZWN0V2lkdGgsXG5cdCAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG5cdCAgICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHByb3BzLmRyb3Bkb3duTWVudVN0eWxlLFxuXHQgICAgICAgIHRyYW5zaXRpb25OYW1lOiBwcm9wcy50cmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBhbmltYXRpb246IHByb3BzLmFuaW1hdGlvbixcblx0ICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBkcm9wZG93blN0eWxlOiBwcm9wcy5kcm9wZG93blN0eWxlLFxuXHQgICAgICAgIGNvbWJvYm94OiBwcm9wcy5jb21ib2JveCxcblx0ICAgICAgICBzaG93U2VhcmNoOiBwcm9wcy5zaG93U2VhcmNoLFxuXHQgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG5cdCAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuXHQgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcblx0ICAgICAgICB2aXNpYmxlOiBvcGVuLFxuXHQgICAgICAgIGlucHV0VmFsdWU6IHN0YXRlLmlucHV0VmFsdWUsXG5cdCAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuXHQgICAgICAgIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBwcm9wcy5nZXRQb3B1cENvbnRhaW5lcixcblx0ICAgICAgICBvbk1lbnVTZWxlY3Q6IHRoaXMub25NZW51U2VsZWN0LFxuXHQgICAgICAgIG9uTWVudURlc2VsZWN0OiB0aGlzLm9uTWVudURlc2VsZWN0LFxuXHQgICAgICAgIHJlZjogJ3RyaWdnZXInXG5cdCAgICAgIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuXHQgICAgICAgICAgcmVmOiAncm9vdCcsXG5cdCAgICAgICAgICBvbkJsdXI6IHRoaXMub25PdXRlckJsdXIsXG5cdCAgICAgICAgICBvbkZvY3VzOiB0aGlzLm9uT3V0ZXJGb2N1cyxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKHJvb3RDbHMpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICByZWY6ICdzZWxlY3Rpb24nLFxuXHQgICAgICAgICAgICBrZXk6ICdzZWxlY3Rpb24nLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uXFxuICAgICAgICAgICAgJyArIHByZWZpeENscyArICctc2VsZWN0aW9uLS0nICsgKG11bHRpcGxlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnKSxcblx0ICAgICAgICAgICAgcm9sZTogJ2NvbWJvYm94Jyxcblx0ICAgICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuXHQgICAgICAgICAgICAnYXJpYS1oYXNwb3B1cCc6ICd0cnVlJyxcblx0ICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBvcGVuXG5cdCAgICAgICAgICB9LCBleHRyYVNlbGVjdGlvblByb3BzKSxcblx0ICAgICAgICAgIGN0cmxOb2RlLFxuXHQgICAgICAgICAgYWxsb3dDbGVhciAmJiAhbXVsdGlwbGUgPyBjbGVhciA6IG51bGwsXG5cdCAgICAgICAgICBtdWx0aXBsZSB8fCAhcHJvcHMuc2hvd0Fycm93ID8gbnVsbCA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgICBrZXk6ICdhcnJvdycsXG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWFycm93Jyxcblx0ICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG5cdCAgICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQXJyb3dDbGlja1xuXHQgICAgICAgICAgICB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYicsIG51bGwpXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5NSk7XG5cdFxuXHR2YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9Ecm9wZG93bk1lbnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNik7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wZG93bk1lbnUpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQlVJTFRfSU5fUExBQ0VNRU5UUyA9IHtcblx0ICBib3R0b21MZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcblx0ICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgb3ZlcmZsb3c6IHtcblx0ICAgICAgYWRqdXN0WDogMCxcblx0ICAgICAgYWRqdXN0WTogMVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgdG9wTGVmdDoge1xuXHQgICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICBvdmVyZmxvdzoge1xuXHQgICAgICBhZGp1c3RYOiAwLFxuXHQgICAgICBhZGp1c3RZOiAxXG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIFNlbGVjdFRyaWdnZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdTZWxlY3RUcmlnZ2VyJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZHJvcGRvd25BbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkaXNhYmxlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZHJvcGRvd25DbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGlucHV0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHBvcHVwQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueVxuXHQgIH0sXG5cdFxuXHQgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlLFxuXHQgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCA9IF9wcm9wcy5kcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg7XG5cdFxuXHQgICAgaWYgKHZpc2libGUpIHtcblx0ICAgICAgdmFyIGRyb3Bkb3duRE9NTm9kZSA9IHRoaXMuZ2V0UG9wdXBET01Ob2RlKCk7XG5cdCAgICAgIGlmIChkcm9wZG93bkRPTU5vZGUpIHtcblx0ICAgICAgICB2YXIgd2lkdGhQcm9wID0gZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID8gJ3dpZHRoJyA6ICdtaW5XaWR0aCc7XG5cdCAgICAgICAgZHJvcGRvd25ET01Ob2RlLnN0eWxlW3dpZHRoUHJvcF0gPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKS5vZmZzZXRXaWR0aCArICdweCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIGdldElubmVyTWVudTogZnVuY3Rpb24gZ2V0SW5uZXJNZW51KCkge1xuXHQgICAgcmV0dXJuIHRoaXMucG9wdXBNZW51ICYmIHRoaXMucG9wdXBNZW51LnJlZnMubWVudTtcblx0ICB9LFxuXHQgIGdldFBvcHVwRE9NTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBET01Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuXHQgIH0sXG5cdCAgZ2V0RHJvcGRvd25FbGVtZW50OiBmdW5jdGlvbiBnZXREcm9wZG93bkVsZW1lbnQobmV3UHJvcHMpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRHJvcGRvd25NZW51MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgIHJlZjogdGhpcy5zYXZlTWVudVxuXHQgICAgfSwgbmV3UHJvcHMsIHtcblx0ICAgICAgcHJlZml4Q2xzOiB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCksXG5cdCAgICAgIG9uTWVudVNlbGVjdDogcHJvcHMub25NZW51U2VsZWN0LFxuXHQgICAgICBvbk1lbnVEZXNlbGVjdDogcHJvcHMub25NZW51RGVzZWxlY3QsXG5cdCAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcblx0ICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG5cdCAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiBwcm9wcy5kcm9wZG93bk1lbnVTdHlsZVxuXHQgICAgfSkpO1xuXHQgIH0sXG5cdCAgZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZTogZnVuY3Rpb24gZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcblx0ICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgcHJvcHMuYW5pbWF0aW9uKSB7XG5cdCAgICAgIHRyYW5zaXRpb25OYW1lID0gdGhpcy5nZXREcm9wZG93blByZWZpeENscygpICsgJy0nICsgcHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuXHQgIH0sXG5cdCAgZ2V0RHJvcGRvd25QcmVmaXhDbHM6IGZ1bmN0aW9uIGdldERyb3Bkb3duUHJlZml4Q2xzKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1kcm9wZG93bic7XG5cdCAgfSxcblx0ICBzYXZlTWVudTogZnVuY3Rpb24gc2F2ZU1lbnUobWVudSkge1xuXHQgICAgdGhpcy5wb3B1cE1lbnUgPSBtZW51O1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3BvcHVwQ2xhc3NOYW1lO1xuXHRcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBvblBvcHVwRm9jdXMgPSBfcHJvcHMyLm9uUG9wdXBGb2N1cyxcblx0ICAgICAgICBwcm9wcyA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzW1wiZGVmYXVsdFwiXSkoX3Byb3BzMiwgWydvblBvcHVwRm9jdXMnXSk7XG5cdCAgICB2YXIgbXVsdGlwbGUgPSBwcm9wcy5tdWx0aXBsZSxcblx0ICAgICAgICB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSxcblx0ICAgICAgICBpbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZSxcblx0ICAgICAgICBkcm9wZG93bkFsaWduID0gcHJvcHMuZHJvcGRvd25BbGlnbixcblx0ICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIHNob3dTZWFyY2ggPSBwcm9wcy5zaG93U2VhcmNoLFxuXHQgICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lID0gcHJvcHMuZHJvcGRvd25DbGFzc05hbWU7XG5cdFxuXHQgICAgdmFyIGRyb3Bkb3duUHJlZml4Q2xzID0gdGhpcy5nZXREcm9wZG93blByZWZpeENscygpO1xuXHQgICAgdmFyIHBvcHVwQ2xhc3NOYW1lID0gKF9wb3B1cENsYXNzTmFtZSA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9wb3B1cENsYXNzTmFtZSwgZHJvcGRvd25DbGFzc05hbWUsICEhZHJvcGRvd25DbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9wb3B1cENsYXNzTmFtZSwgZHJvcGRvd25QcmVmaXhDbHMgKyAnLS0nICsgKG11bHRpcGxlID8gJ211bHRpcGxlJyA6ICdzaW5nbGUnKSwgMSksIF9wb3B1cENsYXNzTmFtZSk7XG5cdCAgICB2YXIgcG9wdXBFbGVtZW50ID0gdGhpcy5nZXREcm9wZG93bkVsZW1lbnQoe1xuXHQgICAgICBtZW51SXRlbXM6IHByb3BzLm9wdGlvbnMsXG5cdCAgICAgIG9uUG9wdXBGb2N1czogb25Qb3B1cEZvY3VzLFxuXHQgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG5cdCAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG5cdCAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgIH0pO1xuXHQgICAgdmFyIGhpZGVBY3Rpb24gPSB2b2lkIDA7XG5cdCAgICBpZiAoZGlzYWJsZWQpIHtcblx0ICAgICAgaGlkZUFjdGlvbiA9IFtdO1xuXHQgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgIXNob3dTZWFyY2gpIHtcblx0ICAgICAgaGlkZUFjdGlvbiA9IFsnY2xpY2snXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGhpZGVBY3Rpb24gPSBbJ2JsdXInXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcblx0ICAgICAgICBzaG93QWN0aW9uOiBkaXNhYmxlZCA/IFtdIDogWydjbGljayddLFxuXHQgICAgICAgIGhpZGVBY3Rpb246IGhpZGVBY3Rpb24sXG5cdCAgICAgICAgcmVmOiAndHJpZ2dlcicsXG5cdCAgICAgICAgcG9wdXBQbGFjZW1lbnQ6ICdib3R0b21MZWZ0Jyxcblx0ICAgICAgICBidWlsdGluUGxhY2VtZW50czogQlVJTFRfSU5fUExBQ0VNRU5UUyxcblx0ICAgICAgICBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzLFxuXHQgICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpLFxuXHQgICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBwcm9wcy5vbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBwb3B1cDogcG9wdXBFbGVtZW50LFxuXHQgICAgICAgIHBvcHVwQWxpZ246IGRyb3Bkb3duQWxpZ24sXG5cdCAgICAgICAgcG9wdXBWaXNpYmxlOiB2aXNpYmxlLFxuXHQgICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBwcm9wcy5nZXRQb3B1cENvbnRhaW5lcixcblx0ICAgICAgICBwb3B1cENsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHBvcHVwQ2xhc3NOYW1lKSxcblx0ICAgICAgICBwb3B1cFN0eWxlOiBwcm9wcy5kcm9wZG93blN0eWxlXG5cdCAgICAgIH0pLFxuXHQgICAgICBwcm9wcy5jaGlsZHJlblxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3RUcmlnZ2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuT3B0R3JvdXAgPSBleHBvcnRzLk9wdGlvbiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzApO1xuXHRcblx0dmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblx0XG5cdHZhciBfT3B0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjkpO1xuXHRcblx0dmFyIF9PcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0aW9uKTtcblx0XG5cdHZhciBfT3B0R3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7XG5cdFxuXHR2YXIgX09wdEdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdEdyb3VwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X1NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdGlvbiA9IF9PcHRpb24yW1wiZGVmYXVsdFwiXTtcblx0X1NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdEdyb3VwID0gX09wdEdyb3VwMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLk9wdEdyb3VwID0gX09wdEdyb3VwMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1NlbGVjdDJbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzM6XG44MSxcblxuLyoqKi8gMTM0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKENvbHVtbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENvbHVtbigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW4pO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIENvbHVtbjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdENvbHVtbi5wcm9wVHlwZXMgPSB7XG5cdCAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBjb2xTcGFuOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuXHQgIGRhdGFJbmRleDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgd2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcblx0ICBmaXhlZDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ2xlZnQnLCAncmlnaHQnXSksXG5cdCAgcmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25DZWxsQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBDb2x1bW5Hcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKENvbHVtbkdyb3VwLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uR3JvdXAoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uR3JvdXApO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIENvbHVtbkdyb3VwO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0Q29sdW1uR3JvdXAucHJvcFR5cGVzID0ge1xuXHQgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcblx0fTtcblx0Q29sdW1uR3JvdXAuaXNUYWJsZUNvbHVtbkdyb3VwID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5Hcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdHZhciBDb2x1bW5NYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIENvbHVtbk1hbmFnZXIoY29sdW1ucywgZWxlbWVudHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW5NYW5hZ2VyKTtcblx0XG5cdCAgICB0aGlzLl9jYWNoZWQgPSB7fTtcblx0XG5cdCAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMubm9ybWFsaXplKGVsZW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0ZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zRml4ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zRml4ZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpcy5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiAhIWNvbHVtbi5maXhlZDtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNMZWZ0Rml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNMZWZ0Rml4ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc0xlZnRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzMi5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc1JpZ2h0Rml4ZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAncmlnaHQnO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRDb2x1bW5zID0gZnVuY3Rpb24gbGVmdENvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlZnRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM0Lmdyb3VwZWRDb2x1bW5zKCkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJpZ2h0Q29sdW1ucyA9IGZ1bmN0aW9uIHJpZ2h0Q29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgncmlnaHRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM1Lmdyb3VwZWRDb2x1bW5zKCkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAncmlnaHQnO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlYWZDb2x1bW5zID0gZnVuY3Rpb24gbGVhZkNvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM2Ll9sZWFmQ29sdW1ucyhfdGhpczYuY29sdW1ucyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWZ0TGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWZ0TGVhZkNvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM3ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlZnRMZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzNy5fbGVhZkNvbHVtbnMoX3RoaXM3LmxlZnRDb2x1bW5zKCkpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIHJpZ2h0TGVhZkNvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM4ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczguX2xlYWZDb2x1bW5zKF90aGlzOC5yaWdodENvbHVtbnMoKSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICAvLyBhZGQgYXBwcm9wcmlhdGUgcm93c3BhbiBhbmQgY29sc3BhbiB0byBjb2x1bW5cblx0XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmdyb3VwZWRDb2x1bW5zID0gZnVuY3Rpb24gZ3JvdXBlZENvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2dyb3VwZWRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgX2dyb3VwQ29sdW1ucyA9IGZ1bmN0aW9uIF9ncm91cENvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIHZhciBjdXJyZW50Um93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXHQgICAgICAgIHZhciBwYXJlbnRDb2x1bW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXHQgICAgICAgIHZhciByb3dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBbXTtcblx0XG5cdCAgICAgICAgLy8gdHJhY2sgaG93IG1hbnkgcm93cyB3ZSBnb3Rcblx0ICAgICAgICByb3dzW2N1cnJlbnRSb3ddID0gcm93c1tjdXJyZW50Um93XSB8fCBbXTtcblx0ICAgICAgICB2YXIgZ3JvdXBlZCA9IFtdO1xuXHQgICAgICAgIHZhciBzZXRSb3dTcGFuID0gZnVuY3Rpb24gc2V0Um93U3Bhbihjb2x1bW4pIHtcblx0ICAgICAgICAgIHZhciByb3dTcGFuID0gcm93cy5sZW5ndGggLSBjdXJyZW50Um93O1xuXHQgICAgICAgICAgaWYgKGNvbHVtbiAmJiAhY29sdW1uLmNoaWxkcmVuICYmIC8vIHBhcmVudCBjb2x1bW5zIGFyZSBzdXBwb3NlZCB0byBiZSBvbmUgcm93XG5cdCAgICAgICAgICByb3dTcGFuID4gMSAmJiAoIWNvbHVtbi5yb3dTcGFuIHx8IGNvbHVtbi5yb3dTcGFuIDwgcm93U3BhbikpIHtcblx0ICAgICAgICAgICAgY29sdW1uLnJvd1NwYW4gPSByb3dTcGFuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGluZGV4KSB7XG5cdCAgICAgICAgICB2YXIgbmV3Q29sdW1uID0gX2V4dGVuZHMoe30sIGNvbHVtbik7XG5cdCAgICAgICAgICByb3dzW2N1cnJlbnRSb3ddLnB1c2gobmV3Q29sdW1uKTtcblx0ICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gfHwgMDtcblx0ICAgICAgICAgIGlmIChuZXdDb2x1bW4uY2hpbGRyZW4gJiYgbmV3Q29sdW1uLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgbmV3Q29sdW1uLmNoaWxkcmVuID0gX2dyb3VwQ29sdW1ucyhuZXdDb2x1bW4uY2hpbGRyZW4sIGN1cnJlbnRSb3cgKyAxLCBuZXdDb2x1bW4sIHJvd3MpO1xuXHQgICAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbiA9IHBhcmVudENvbHVtbi5jb2xTcGFuICsgbmV3Q29sdW1uLmNvbFNwYW47XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbisrO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gdXBkYXRlIHJvd3NwYW4gdG8gYWxsIHNhbWUgcm93IGNvbHVtbnNcblx0ICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93c1tjdXJyZW50Um93XS5sZW5ndGggLSAxOyArK2kpIHtcblx0ICAgICAgICAgICAgc2V0Um93U3Bhbihyb3dzW2N1cnJlbnRSb3ddW2ldKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIGxhc3QgY29sdW1uLCB1cGRhdGUgcm93c3BhbiBpbW1lZGlhdGVseVxuXHQgICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gY29sdW1ucy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgc2V0Um93U3BhbihuZXdDb2x1bW4pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZ3JvdXBlZC5wdXNoKG5ld0NvbHVtbik7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGdyb3VwZWQ7XG5cdCAgICAgIH07XG5cdCAgICAgIHJldHVybiBfZ3JvdXBDb2x1bW5zKF90aGlzOS5jb2x1bW5zKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShlbGVtZW50cykge1xuXHQgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBjb2x1bW5zID0gW107XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHQgICAgICBpZiAoIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjb2x1bW4gPSBfZXh0ZW5kcyh7fSwgZWxlbWVudC5wcm9wcyk7XG5cdCAgICAgIGlmIChlbGVtZW50LmtleSkge1xuXHQgICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZWxlbWVudC50eXBlLmlzVGFibGVDb2x1bW5Hcm91cCkge1xuXHQgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IF90aGlzMTAubm9ybWFsaXplKGNvbHVtbi5jaGlsZHJlbik7XG5cdCAgICAgIH1cblx0ICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbik7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBjb2x1bW5zO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoY29sdW1ucywgZWxlbWVudHMpIHtcblx0ICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5ub3JtYWxpemUoZWxlbWVudHMpO1xuXHQgICAgdGhpcy5fY2FjaGVkID0ge307XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2NhY2hlID0gZnVuY3Rpb24gX2NhY2hlKG5hbWUsIGZuKSB7XG5cdCAgICBpZiAobmFtZSBpbiB0aGlzLl9jYWNoZWQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFtuYW1lXTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX2NhY2hlZFtuYW1lXSA9IGZuKCk7XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLl9sZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIF9sZWFmQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGxlYWZDb2x1bW5zID0gW107XG5cdCAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICBpZiAoIWNvbHVtbi5jaGlsZHJlbikge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zLnB1c2goY29sdW1uKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBsZWFmQ29sdW1ucy5wdXNoLmFwcGx5KGxlYWZDb2x1bW5zLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMxMS5fbGVhZkNvbHVtbnMoY29sdW1uLmNoaWxkcmVuKSkpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBsZWFmQ29sdW1ucztcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gQ29sdW1uTWFuYWdlcjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5NYW5hZ2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIEV4cGFuZEljb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhFeHBhbmRJY29uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gRXhwYW5kSWNvbigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeHBhbmRJY29uKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIEV4cGFuZEljb24ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgIHJldHVybiAhKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFByb3BzLCB0aGlzLnByb3BzKTtcblx0ICB9O1xuXHRcblx0ICBFeHBhbmRJY29uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzLmV4cGFuZGFibGUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICBvbkV4cGFuZCA9IF9wcm9wcy5vbkV4cGFuZCxcblx0ICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzLm5lZWRJbmRlbnRTcGFjZWQsXG5cdCAgICAgICAgZXhwYW5kZWQgPSBfcHJvcHMuZXhwYW5kZWQsXG5cdCAgICAgICAgcmVjb3JkID0gX3Byb3BzLnJlY29yZDtcblx0XG5cdCAgICBpZiAoZXhwYW5kYWJsZSkge1xuXHQgICAgICB2YXIgZXhwYW5kQ2xhc3NOYW1lID0gZXhwYW5kZWQgPyAnZXhwYW5kZWQnIDogJ2NvbGxhcHNlZCc7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbiAnICsgcHJlZml4Q2xzICsgJy0nICsgZXhwYW5kQ2xhc3NOYW1lLFxuXHQgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgcmV0dXJuIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmIChuZWVkSW5kZW50U3BhY2VkKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24gJyArIHByZWZpeENscyArICctc3BhY2VkJyB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBFeHBhbmRJY29uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRFeHBhbmRJY29uLnByb3BUeXBlcyA9IHtcblx0ICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgZXhwYW5kZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IEV4cGFuZEljb247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9UYWJsZVJvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0XG5cdHZhciBfVGFibGVSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVSb3cpO1xuXHRcblx0dmFyIF9UYWJsZUhlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQwKTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVIZWFkZXIpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXHRcblx0dmFyIF9hZGRFdmVudExpc3RlbmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7XG5cdFxuXHR2YXIgX2FkZEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkRXZlbnRMaXN0ZW5lcik7XG5cdFxuXHR2YXIgX0NvbHVtbk1hbmFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNik7XG5cdFxuXHR2YXIgX0NvbHVtbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uTWFuYWdlcik7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDIpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cdFxuXHR2YXIgX2NvbXBvbmVudENsYXNzZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblx0XG5cdHZhciBfY29tcG9uZW50Q2xhc3NlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRDbGFzc2VzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZSk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMub25FeHBhbmRlZCA9IGZ1bmN0aW9uIChleHBhbmRlZCwgcmVjb3JkLCBlLCBpbmRleCkge1xuXHQgICAgICBpZiAoZSkge1xuXHQgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpbmZvID0gX3RoaXMuZmluZEV4cGFuZGVkUm93KHJlY29yZCk7XG5cdCAgICAgIGlmICh0eXBlb2YgaW5mbyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWV4cGFuZGVkKSB7XG5cdCAgICAgICAgX3RoaXMub25Sb3dEZXN0cm95KHJlY29yZCwgaW5kZXgpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFpbmZvICYmIGV4cGFuZGVkKSB7XG5cdCAgICAgICAgdmFyIGV4cGFuZGVkUm93cyA9IF90aGlzLmdldEV4cGFuZGVkUm93cygpLmNvbmNhdCgpO1xuXHQgICAgICAgIGV4cGFuZGVkUm93cy5wdXNoKF90aGlzLmdldFJvd0tleShyZWNvcmQsIGluZGV4KSk7XG5cdCAgICAgICAgX3RoaXMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dzKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5wcm9wcy5vbkV4cGFuZChleHBhbmRlZCwgcmVjb3JkKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMub25Sb3dEZXN0cm95ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgpIHtcblx0ICAgICAgdmFyIGV4cGFuZGVkUm93cyA9IF90aGlzLmdldEV4cGFuZGVkUm93cygpLmNvbmNhdCgpO1xuXHQgICAgICB2YXIgcm93S2V5ID0gX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICB2YXIgaW5kZXggPSAtMTtcblx0ICAgICAgZXhwYW5kZWRSb3dzLmZvckVhY2goZnVuY3Rpb24gKHIsIGkpIHtcblx0ICAgICAgICBpZiAociA9PT0gcm93S2V5KSB7XG5cdCAgICAgICAgICBpbmRleCA9IGk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuXHQgICAgICAgIGV4cGFuZGVkUm93cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93cyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc3luY0ZpeGVkVGFibGVSb3dIZWlnaHQoKTtcblx0ICAgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuc3luY0ZpeGVkVGFibGVSb3dIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciB0YWJsZVJlY3QgPSBfdGhpcy50YWJsZU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgIC8vIElmIHRhYmxlTm9kZSdzIGhlaWdodCBsZXNzIHRoYW4gMCwgc3VwcG9zZSBpdCBpcyBoaWRkZW4gYW5kIGRvbid0IHJlY2FsY3VsYXRlIHJvd0hlaWdodC5cblx0ICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy80ODM2XG5cdCAgICAgIGlmICh0YWJsZVJlY3QuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgdGFibGVSZWN0LmhlaWdodCA8PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBwcmVmaXhDbHMgPSBfdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgICB2YXIgaGVhZFJvd3MgPSBfdGhpcy5yZWZzLmhlYWRUYWJsZSA/IF90aGlzLnJlZnMuaGVhZFRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJykgOiBfdGhpcy5yZWZzLmJvZHlUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0aGVhZCcpO1xuXHQgICAgICB2YXIgYm9keVJvd3MgPSBfdGhpcy5yZWZzLmJvZHlUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHByZWZpeENscyArICctcm93JykgfHwgW107XG5cdCAgICAgIHZhciBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCA9IFtdLm1hcC5jYWxsKGhlYWRSb3dzLCBmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgJ2F1dG8nO1xuXHQgICAgICB9KTtcblx0ICAgICAgdmFyIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoYm9keVJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUuZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQsIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0KSAmJiAoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCwgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQpKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQsXG5cdCAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ6IGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBpZiAoX3RoaXMuc2Nyb2xsVGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHtcblx0ICAgICAgICBfdGhpcy5zY3JvbGxUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQm9keVNjcm9sbCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIC8vIFByZXZlbnQgc2Nyb2xsVG9wIHNldHRlciB0cmlnZ2VyIG9uU2Nyb2xsIGV2ZW50XG5cdCAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzEzODY2OTZcblx0ICAgICAgaWYgKGUudGFyZ2V0ICE9PSBfdGhpcy5zY3JvbGxUYXJnZXQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIF90aGlzJHByb3BzJHNjcm9sbCA9IF90aGlzLnByb3BzLnNjcm9sbCxcblx0ICAgICAgICAgIHNjcm9sbCA9IF90aGlzJHByb3BzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRzY3JvbGw7XG5cdCAgICAgIHZhciBfdGhpcyRyZWZzID0gX3RoaXMucmVmcyxcblx0ICAgICAgICAgIGhlYWRUYWJsZSA9IF90aGlzJHJlZnMuaGVhZFRhYmxlLFxuXHQgICAgICAgICAgYm9keVRhYmxlID0gX3RoaXMkcmVmcy5ib2R5VGFibGUsXG5cdCAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5TGVmdCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keUxlZnQsXG5cdCAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5UmlnaHQgPSBfdGhpcyRyZWZzLmZpeGVkQ29sdW1uc0JvZHlSaWdodDtcblx0XG5cdCAgICAgIGlmIChzY3JvbGwueCAmJiBlLnRhcmdldC5zY3JvbGxMZWZ0ICE9PSBfdGhpcy5sYXN0U2Nyb2xsTGVmdCkge1xuXHQgICAgICAgIGlmIChlLnRhcmdldCA9PT0gYm9keVRhYmxlICYmIGhlYWRUYWJsZSkge1xuXHQgICAgICAgICAgaGVhZFRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IGhlYWRUYWJsZSAmJiBib2R5VGFibGUpIHtcblx0ICAgICAgICAgIGJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUoZS50YXJnZXQpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChzY3JvbGwueSkge1xuXHQgICAgICAgIGlmIChmaXhlZENvbHVtbnNCb2R5TGVmdCAmJiBlLnRhcmdldCAhPT0gZml4ZWRDb2x1bW5zQm9keUxlZnQpIHtcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlMZWZ0LnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGZpeGVkQ29sdW1uc0JvZHlSaWdodCAmJiBlLnRhcmdldCAhPT0gZml4ZWRDb2x1bW5zQm9keVJpZ2h0KSB7XG5cdCAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5UmlnaHQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoYm9keVRhYmxlICYmIGUudGFyZ2V0ICE9PSBib2R5VGFibGUpIHtcblx0ICAgICAgICAgIGJvZHlUYWJsZS5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIC8vIFJlbWVtYmVyIGxhc3Qgc2Nyb2xsTGVmdCBmb3Igc2Nyb2xsIGRpcmVjdGlvbiBkZXRlY3RpbmcuXG5cdCAgICAgIF90aGlzLmxhc3RTY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlUm93SG92ZXIgPSBmdW5jdGlvbiAoaXNIb3Zlciwga2V5KSB7XG5cdCAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICBjdXJyZW50SG92ZXJLZXk6IGlzSG92ZXIgPyBrZXkgOiBudWxsXG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgZXhwYW5kZWRSb3dLZXlzID0gW107XG5cdCAgICB2YXIgcm93cyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMuZGF0YSkpO1xuXHQgICAgX3RoaXMuY29sdW1uTWFuYWdlciA9IG5ldyBfQ29sdW1uTWFuYWdlcjJbXCJkZWZhdWx0XCJdKHByb3BzLmNvbHVtbnMsIHByb3BzLmNoaWxkcmVuKTtcblx0ICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7IGN1cnJlbnRIb3ZlcktleTogbnVsbCB9KTtcblx0ICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdsZWZ0Jyk7XG5cdFxuXHQgICAgaWYgKHByb3BzLmRlZmF1bHRFeHBhbmRBbGxSb3dzKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHZhciByb3cgPSByb3dzW2ldO1xuXHQgICAgICAgIGV4cGFuZGVkUm93S2V5cy5wdXNoKF90aGlzLmdldFJvd0tleShyb3csIGkpKTtcblx0ICAgICAgICByb3dzID0gcm93cy5jb25jYXQocm93W3Byb3BzLmNoaWxkcmVuQ29sdW1uTmFtZV0gfHwgW10pO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBleHBhbmRlZFJvd0tleXMgPSBwcm9wcy5leHBhbmRlZFJvd0tleXMgfHwgcHJvcHMuZGVmYXVsdEV4cGFuZGVkUm93S2V5cztcblx0ICAgIH1cblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBleHBhbmRlZFJvd0tleXM6IGV4cGFuZGVkUm93S2V5cyxcblx0ICAgICAgY3VycmVudEhvdmVyS2V5OiBudWxsLFxuXHQgICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogW10sXG5cdCAgICAgIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0OiBbXVxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG5cdCAgICAgIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKCk7XG5cdCAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplID0gKDAsIF91dGlscy5kZWJvdW5jZSkodGhpcy5oYW5kbGVXaW5kb3dSZXNpemUsIDE1MCk7XG5cdCAgICAgIHRoaXMucmVzaXplRXZlbnQgPSAoMCwgX2FkZEV2ZW50TGlzdGVuZXIyW1wiZGVmYXVsdFwiXSkod2luZG93LCAncmVzaXplJywgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgnZXhwYW5kZWRSb3dLZXlzJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dLZXlzOiBuZXh0UHJvcHMuZXhwYW5kZWRSb3dLZXlzXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKG5leHRQcm9wcy5jb2x1bW5zICYmIG5leHRQcm9wcy5jb2x1bW5zICE9PSB0aGlzLnByb3BzLmNvbHVtbnMpIHtcblx0ICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG5leHRQcm9wcy5jb2x1bW5zKTtcblx0ICAgIH0gZWxzZSBpZiAobmV4dFByb3BzLmNoaWxkcmVuICE9PSB0aGlzLnByb3BzLmNoaWxkcmVuKSB7XG5cdCAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5yZXNldChudWxsLCBuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdCAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcblx0ICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcblx0ICAgIH1cblx0ICAgIC8vIHdoZW4gdGFibGUgY2hhbmdlcyB0byBlbXB0eSwgcmVzZXQgc2Nyb2xsTGVmdFxuXHQgICAgaWYgKHByZXZQcm9wcy5kYXRhLmxlbmd0aCA+IDAgJiYgdGhpcy5wcm9wcy5kYXRhLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmhhc1Njcm9sbFgoKSkge1xuXHQgICAgICB0aGlzLnJlc2V0U2Nyb2xsWCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgaWYgKHRoaXMucmVzaXplRXZlbnQpIHtcblx0ICAgICAgdGhpcy5yZXNpemVFdmVudC5yZW1vdmUoKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSkge1xuXHQgICAgICB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZS5jYW5jZWwoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUub25FeHBhbmRlZFJvd3NDaGFuZ2UgPSBmdW5jdGlvbiBvbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd0tleXMpIHtcblx0ICAgIGlmICghdGhpcy5wcm9wcy5leHBhbmRlZFJvd0tleXMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy5wcm9wcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd0tleXMpO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dLZXkgPSBmdW5jdGlvbiBnZXRSb3dLZXkocmVjb3JkLCBpbmRleCkge1xuXHQgICAgdmFyIHJvd0tleSA9IHRoaXMucHJvcHMucm93S2V5O1xuXHQgICAgdmFyIGtleSA9IHR5cGVvZiByb3dLZXkgPT09ICdmdW5jdGlvbicgPyByb3dLZXkocmVjb3JkLCBpbmRleCkgOiByZWNvcmRbcm93S2V5XTtcblx0ICAgICgwLCBfdXRpbHMud2FybmluZ09uY2UpKGtleSAhPT0gdW5kZWZpbmVkLCAnRWFjaCByZWNvcmQgaW4gdGFibGUgc2hvdWxkIGhhdmUgYSB1bmlxdWUgYGtleWAgcHJvcCwnICsgJ29yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXkuJyk7XG5cdCAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IGtleTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0RXhwYW5kZWRSb3dzID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3dzKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucHJvcHMuZXhwYW5kZWRSb3dLZXlzIHx8IHRoaXMuc3RhdGUuZXhwYW5kZWRSb3dLZXlzO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbiBnZXRIZWFkZXIoY29sdW1ucywgZml4ZWQpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHNob3dIZWFkZXIgPSBfcHJvcHMuc2hvd0hlYWRlcixcblx0ICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzLmV4cGFuZEljb25Bc0NlbGwsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0XG5cdCAgICB2YXIgcm93cyA9IHRoaXMuZ2V0SGVhZGVyUm93cyhjb2x1bW5zKTtcblx0XG5cdCAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuXHQgICAgICByb3dzWzBdLnVuc2hpZnQoe1xuXHQgICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZEljb25Bc0NlbGwnLFxuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi10aCcsXG5cdCAgICAgICAgdGl0bGU6ICcnLFxuXHQgICAgICAgIHJvd1NwYW46IHJvd3MubGVuZ3RoXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciB0clN0eWxlID0gZml4ZWQgPyB0aGlzLmdldEhlYWRlclJvd1N0eWxlKGNvbHVtbnMsIHJvd3MpIDogbnVsbDtcblx0XG5cdCAgICByZXR1cm4gc2hvd0hlYWRlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlSGVhZGVyMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIHJvd3M6IHJvd3MsXG5cdCAgICAgIHJvd1N0eWxlOiB0clN0eWxlXG5cdCAgICB9KSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd3MgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dzKGNvbHVtbnMpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBjdXJyZW50Um93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXHQgICAgdmFyIHJvd3MgPSBhcmd1bWVudHNbMl07XG5cdFxuXHQgICAgcm93cyA9IHJvd3MgfHwgW107XG5cdCAgICByb3dzW2N1cnJlbnRSb3ddID0gcm93c1tjdXJyZW50Um93XSB8fCBbXTtcblx0XG5cdCAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICBpZiAoY29sdW1uLnJvd1NwYW4gJiYgcm93cy5sZW5ndGggPCBjb2x1bW4ucm93U3Bhbikge1xuXHQgICAgICAgIHdoaWxlIChyb3dzLmxlbmd0aCA8IGNvbHVtbi5yb3dTcGFuKSB7XG5cdCAgICAgICAgICByb3dzLnB1c2goW10pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB2YXIgY2VsbCA9IHtcblx0ICAgICAgICBrZXk6IGNvbHVtbi5rZXksXG5cdCAgICAgICAgY2xhc3NOYW1lOiBjb2x1bW4uY2xhc3NOYW1lIHx8ICcnLFxuXHQgICAgICAgIGNoaWxkcmVuOiBjb2x1bW4udGl0bGVcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKGNvbHVtbi5jaGlsZHJlbikge1xuXHQgICAgICAgIF90aGlzMi5nZXRIZWFkZXJSb3dzKGNvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIHJvd3MpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICgnY29sU3BhbicgaW4gY29sdW1uKSB7XG5cdCAgICAgICAgY2VsbC5jb2xTcGFuID0gY29sdW1uLmNvbFNwYW47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCdyb3dTcGFuJyBpbiBjb2x1bW4pIHtcblx0ICAgICAgICBjZWxsLnJvd1NwYW4gPSBjb2x1bW4ucm93U3Bhbjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoY2VsbC5jb2xTcGFuICE9PSAwKSB7XG5cdCAgICAgICAgcm93c1tjdXJyZW50Um93XS5wdXNoKGNlbGwpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgIHJldHVybiByb3cubGVuZ3RoID4gMDtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJvdyA9IGZ1bmN0aW9uIGdldEV4cGFuZGVkUm93KGtleSwgY29udGVudCwgdmlzaWJsZSwgY2xhc3NOYW1lLCBmaXhlZCkge1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMyLmV4cGFuZEljb25Bc0NlbGw7XG5cdFxuXHQgICAgdmFyIGNvbENvdW50ID0gdm9pZCAwO1xuXHQgICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcblx0ICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCkubGVuZ3RoO1xuXHQgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCkubGVuZ3RoO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICB2YXIgY29sdW1ucyA9IFt7XG5cdCAgICAgIGtleTogJ2V4dHJhLXJvdycsXG5cdCAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBwcm9wczoge1xuXHQgICAgICAgICAgICBjb2xTcGFuOiBjb2xDb3VudFxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGNoaWxkcmVuOiBmaXhlZCAhPT0gJ3JpZ2h0JyA/IGNvbnRlbnQgOiAnJm5ic3A7J1xuXHQgICAgICAgIH07XG5cdCAgICAgIH1cblx0ICAgIH1dO1xuXHQgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcblx0ICAgICAgY29sdW1ucy51bnNoaWZ0KHtcblx0ICAgICAgICBrZXk6ICdleHBhbmQtaWNvbi1wbGFjZWhvbGRlcicsXG5cdCAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlUm93MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgdmlzaWJsZTogdmlzaWJsZSxcblx0ICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgIGtleToga2V5ICsgJy1leHRyYS1yb3cnLFxuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctZXhwYW5kZWQtcm93Jyxcblx0ICAgICAgaW5kZW50OiAxLFxuXHQgICAgICBleHBhbmRhYmxlOiBmYWxzZSxcblx0ICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dzQnlEYXRhID0gZnVuY3Rpb24gZ2V0Um93c0J5RGF0YShkYXRhLCB2aXNpYmxlLCBpbmRlbnQsIGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGNoaWxkcmVuQ29sdW1uTmFtZSA9IHByb3BzLmNoaWxkcmVuQ29sdW1uTmFtZTtcblx0ICAgIHZhciBleHBhbmRlZFJvd1JlbmRlciA9IHByb3BzLmV4cGFuZGVkUm93UmVuZGVyO1xuXHQgICAgdmFyIGV4cGFuZFJvd0J5Q2xpY2sgPSBwcm9wcy5leHBhbmRSb3dCeUNsaWNrO1xuXHQgICAgdmFyIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDtcblx0XG5cdCAgICB2YXIgcnN0ID0gW107XG5cdCAgICB2YXIgcm93Q2xhc3NOYW1lID0gcHJvcHMucm93Q2xhc3NOYW1lO1xuXHQgICAgdmFyIHJvd1JlZiA9IHByb3BzLnJvd1JlZjtcblx0ICAgIHZhciBleHBhbmRlZFJvd0NsYXNzTmFtZSA9IHByb3BzLmV4cGFuZGVkUm93Q2xhc3NOYW1lO1xuXHQgICAgdmFyIG5lZWRJbmRlbnRTcGFjZWQgPSBwcm9wcy5kYXRhLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkge1xuXHQgICAgICByZXR1cm4gcmVjb3JkW2NoaWxkcmVuQ29sdW1uTmFtZV07XG5cdCAgICB9KTtcblx0ICAgIHZhciBvblJvd0NsaWNrID0gcHJvcHMub25Sb3dDbGljaztcblx0ICAgIHZhciBvblJvd0RvdWJsZUNsaWNrID0gcHJvcHMub25Sb3dEb3VibGVDbGljaztcblx0XG5cdCAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IGZpeGVkICE9PSAncmlnaHQnID8gcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCA6IGZhbHNlO1xuXHQgICAgdmFyIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IGZpeGVkICE9PSAncmlnaHQnID8gcHJvcHMuZXhwYW5kSWNvbkNvbHVtbkluZGV4IDogLTE7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciByZWNvcmQgPSBkYXRhW2ldO1xuXHQgICAgICB2YXIga2V5ID0gdGhpcy5nZXRSb3dLZXkocmVjb3JkLCBpKTtcblx0ICAgICAgdmFyIGNoaWxkcmVuQ29sdW1uID0gcmVjb3JkW2NoaWxkcmVuQ29sdW1uTmFtZV07XG5cdCAgICAgIHZhciBpc1Jvd0V4cGFuZGVkID0gdGhpcy5pc1Jvd0V4cGFuZGVkKHJlY29yZCwgaSk7XG5cdCAgICAgIHZhciBleHBhbmRlZFJvd0NvbnRlbnQgPSB2b2lkIDA7XG5cdCAgICAgIGlmIChleHBhbmRlZFJvd1JlbmRlciAmJiBpc1Jvd0V4cGFuZGVkKSB7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dDb250ZW50ID0gZXhwYW5kZWRSb3dSZW5kZXIocmVjb3JkLCBpLCBpbmRlbnQpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjbGFzc05hbWUgPSByb3dDbGFzc05hbWUocmVjb3JkLCBpLCBpbmRlbnQpO1xuXHRcblx0ICAgICAgdmFyIG9uSG92ZXJQcm9wcyA9IHt9O1xuXHQgICAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcblx0ICAgICAgICBvbkhvdmVyUHJvcHMub25Ib3ZlciA9IHRoaXMuaGFuZGxlUm93SG92ZXI7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBoZWlnaHQgPSBmaXhlZCAmJiBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFtpXSA/IGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0W2ldIDogbnVsbDtcblx0XG5cdCAgICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcblx0ICAgICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcblx0ICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKTtcblx0ICAgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICByc3QucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7XG5cdCAgICAgICAgaW5kZW50OiBpbmRlbnQsXG5cdCAgICAgICAgaW5kZW50U2l6ZTogcHJvcHMuaW5kZW50U2l6ZSxcblx0ICAgICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuXHQgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGw6IGV4cGFuZEljb25Bc0NlbGwsXG5cdCAgICAgICAgb25EZXN0cm95OiB0aGlzLm9uUm93RGVzdHJveSxcblx0ICAgICAgICBpbmRleDogaSxcblx0ICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuXHQgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2s6IGV4cGFuZFJvd0J5Q2xpY2ssXG5cdCAgICAgICAgb25FeHBhbmQ6IHRoaXMub25FeHBhbmRlZCxcblx0ICAgICAgICBleHBhbmRhYmxlOiBjaGlsZHJlbkNvbHVtbiB8fCBleHBhbmRlZFJvd1JlbmRlcixcblx0ICAgICAgICBleHBhbmRlZDogaXNSb3dFeHBhbmRlZCxcblx0ICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyArICctcm93Jyxcblx0ICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWU6IGNoaWxkcmVuQ29sdW1uTmFtZSxcblx0ICAgICAgICBjb2x1bW5zOiBsZWFmQ29sdW1ucyxcblx0ICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IGV4cGFuZEljb25Db2x1bW5JbmRleCxcblx0ICAgICAgICBvblJvd0NsaWNrOiBvblJvd0NsaWNrLFxuXHQgICAgICAgIG9uUm93RG91YmxlQ2xpY2s6IG9uUm93RG91YmxlQ2xpY2ssXG5cdCAgICAgICAgaGVpZ2h0OiBoZWlnaHRcblx0ICAgICAgfSwgb25Ib3ZlclByb3BzLCB7XG5cdCAgICAgICAga2V5OiBrZXksXG5cdCAgICAgICAgaG92ZXJLZXk6IGtleSxcblx0ICAgICAgICByZWY6IHJvd1JlZihyZWNvcmQsIGksIGluZGVudCksXG5cdCAgICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcblx0ICAgICAgfSkpKTtcblx0XG5cdCAgICAgIHZhciBzdWJWaXNpYmxlID0gdmlzaWJsZSAmJiBpc1Jvd0V4cGFuZGVkO1xuXHRcblx0ICAgICAgaWYgKGV4cGFuZGVkUm93Q29udGVudCAmJiBpc1Jvd0V4cGFuZGVkKSB7XG5cdCAgICAgICAgcnN0LnB1c2godGhpcy5nZXRFeHBhbmRlZFJvdyhrZXksIGV4cGFuZGVkUm93Q29udGVudCwgc3ViVmlzaWJsZSwgZXhwYW5kZWRSb3dDbGFzc05hbWUocmVjb3JkLCBpLCBpbmRlbnQpLCBmaXhlZCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChjaGlsZHJlbkNvbHVtbikge1xuXHQgICAgICAgIHJzdCA9IHJzdC5jb25jYXQodGhpcy5nZXRSb3dzQnlEYXRhKGNoaWxkcmVuQ29sdW1uLCBzdWJWaXNpYmxlLCBpbmRlbnQgKyAxLCBjb2x1bW5zLCBmaXhlZCkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcnN0O1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dzID0gZnVuY3Rpb24gZ2V0Um93cyhjb2x1bW5zLCBmaXhlZCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0Um93c0J5RGF0YSh0aGlzLnByb3BzLmRhdGEsIHRydWUsIDAsIGNvbHVtbnMsIGZpeGVkKTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0Q29sR3JvdXAgPSBmdW5jdGlvbiBnZXRDb2xHcm91cChjb2x1bW5zLCBmaXhlZCkge1xuXHQgICAgdmFyIGNvbHMgPSBbXTtcblx0ICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcblx0ICAgICAgY29scy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jb2wnLFxuXHQgICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZC1pY29uLWNvbCdcblx0ICAgICAgfSkpO1xuXHQgICAgfVxuXHQgICAgdmFyIGxlYWZDb2x1bW5zID0gdm9pZCAwO1xuXHQgICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcblx0ICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCk7XG5cdCAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCk7XG5cdCAgICB9XG5cdCAgICBjb2xzID0gY29scy5jb25jYXQobGVhZkNvbHVtbnMubWFwKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdjb2wnLCB7IGtleTogYy5rZXksIHN0eWxlOiB7IHdpZHRoOiBjLndpZHRoLCBtaW5XaWR0aDogYy53aWR0aCB9IH0pO1xuXHQgICAgfSkpO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdjb2xncm91cCcsXG5cdCAgICAgIG51bGwsXG5cdCAgICAgIGNvbHNcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldExlZnRGaXhlZFRhYmxlID0gZnVuY3Rpb24gZ2V0TGVmdEZpeGVkVGFibGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRUYWJsZSh7XG5cdCAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0Q29sdW1ucygpLFxuXHQgICAgICBmaXhlZDogJ2xlZnQnXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0UmlnaHRGaXhlZFRhYmxlID0gZnVuY3Rpb24gZ2V0UmlnaHRGaXhlZFRhYmxlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoe1xuXHQgICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRDb2x1bW5zKCksXG5cdCAgICAgIGZpeGVkOiAncmlnaHQnXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0VGFibGUgPSBmdW5jdGlvbiBnZXRUYWJsZSgpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblx0ICAgIHZhciBjb2x1bW5zID0gb3B0aW9ucy5jb2x1bW5zLFxuXHQgICAgICAgIGZpeGVkID0gb3B0aW9ucy5maXhlZDtcblx0ICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcblx0ICAgICAgICBfcHJvcHMzJHNjcm9sbCA9IF9wcm9wczMuc2Nyb2xsLFxuXHQgICAgICAgIHNjcm9sbCA9IF9wcm9wczMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wczMkc2Nyb2xsLFxuXHQgICAgICAgIGdldEJvZHlXcmFwcGVyID0gX3Byb3BzMy5nZXRCb2R5V3JhcHBlcjtcblx0ICAgIHZhciB1c2VGaXhlZEhlYWRlciA9IHRoaXMucHJvcHMudXNlRml4ZWRIZWFkZXI7XG5cdFxuXHQgICAgdmFyIGJvZHlTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmJvZHlTdHlsZSk7XG5cdCAgICB2YXIgaGVhZFN0eWxlID0ge307XG5cdFxuXHQgICAgdmFyIHRhYmxlQ2xhc3NOYW1lID0gJyc7XG5cdCAgICBpZiAoc2Nyb2xsLnggfHwgZml4ZWQpIHtcblx0ICAgICAgdGFibGVDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLWZpeGVkJztcblx0ICAgICAgYm9keVN0eWxlLm92ZXJmbG93WCA9IGJvZHlTdHlsZS5vdmVyZmxvd1ggfHwgJ2F1dG8nO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpbm5lckJvZHlTdHlsZSA9IHt9O1xuXHQgICAgaWYgKHNjcm9sbC55KSB7XG5cdCAgICAgIC8vIG1heEhlaWdodCB3aWxsIG1ha2UgZml4ZWQtVGFibGUgc2Nyb2xsaW5nIG5vdCB3b3JraW5nXG5cdCAgICAgIC8vIHNvIHdlIG9ubHkgc2V0IG1heEhlaWdodCB0byBib2R5LVRhYmxlIGhlcmVcblx0ICAgICAgaWYgKGZpeGVkKSB7XG5cdCAgICAgICAgaW5uZXJCb2R5U3R5bGUubWF4SGVpZ2h0ID0gYm9keVN0eWxlLm1heEhlaWdodCB8fCBzY3JvbGwueTtcblx0ICAgICAgICBpbm5lckJvZHlTdHlsZS5vdmVyZmxvd1kgPSBib2R5U3R5bGUub3ZlcmZsb3dZIHx8ICdzY3JvbGwnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuXHQgICAgICB9XG5cdCAgICAgIGJvZHlTdHlsZS5vdmVyZmxvd1kgPSBib2R5U3R5bGUub3ZlcmZsb3dZIHx8ICdzY3JvbGwnO1xuXHQgICAgICB1c2VGaXhlZEhlYWRlciA9IHRydWU7XG5cdFxuXHQgICAgICAvLyBBZGQgbmVnYXRpdmUgbWFyZ2luIGJvdHRvbSBmb3Igc2Nyb2xsIGJhciBvdmVyZmxvdyBidWdcblx0ICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gKDAsIF91dGlscy5tZWFzdXJlU2Nyb2xsYmFyKSgpO1xuXHQgICAgICBpZiAoc2Nyb2xsYmFyV2lkdGggPiAwKSB7XG5cdCAgICAgICAgKGZpeGVkID8gYm9keVN0eWxlIDogaGVhZFN0eWxlKS5tYXJnaW5Cb3R0b20gPSAnLScgKyBzY3JvbGxiYXJXaWR0aCArICdweCc7XG5cdCAgICAgICAgKGZpeGVkID8gYm9keVN0eWxlIDogaGVhZFN0eWxlKS5wYWRkaW5nQm90dG9tID0gJzBweCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVuZGVyVGFibGUgPSBmdW5jdGlvbiByZW5kZXJUYWJsZSgpIHtcblx0ICAgICAgdmFyIGhhc0hlYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cdCAgICAgIHZhciBoYXNCb2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXHRcblx0ICAgICAgdmFyIHRhYmxlU3R5bGUgPSB7fTtcblx0ICAgICAgaWYgKCFmaXhlZCAmJiBzY3JvbGwueCkge1xuXHQgICAgICAgIC8vIG5vdCBzZXQgd2lkdGgsIHRoZW4gdXNlIGNvbnRlbnQgZml4ZWQgd2lkdGhcblx0ICAgICAgICBpZiAoc2Nyb2xsLnggPT09IHRydWUpIHtcblx0ICAgICAgICAgIHRhYmxlU3R5bGUudGFibGVMYXlvdXQgPSAnZml4ZWQnO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0YWJsZVN0eWxlLndpZHRoID0gc2Nyb2xsLng7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZhciB0YWJsZUJvZHkgPSBoYXNCb2R5ID8gZ2V0Qm9keVdyYXBwZXIoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGJvZHknLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuXHQgICAgICAgIF90aGlzMy5nZXRSb3dzKGNvbHVtbnMsIGZpeGVkKVxuXHQgICAgICApKSA6IG51bGw7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0YWJsZScsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NOYW1lLCBzdHlsZTogdGFibGVTdHlsZSwga2V5OiAndGFibGUnIH0sXG5cdCAgICAgICAgX3RoaXMzLmdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSxcblx0ICAgICAgICBoYXNIZWFkID8gX3RoaXMzLmdldEhlYWRlcihjb2x1bW5zLCBmaXhlZCkgOiBudWxsLFxuXHQgICAgICAgIHRhYmxlQm9keVxuXHQgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgaGVhZFRhYmxlID0gdm9pZCAwO1xuXHRcblx0ICAgIGlmICh1c2VGaXhlZEhlYWRlcikge1xuXHQgICAgICBoZWFkVGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGtleTogJ2hlYWRUYWJsZScsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyxcblx0ICAgICAgICAgIHJlZjogZml4ZWQgPyBudWxsIDogJ2hlYWRUYWJsZScsXG5cdCAgICAgICAgICBzdHlsZTogaGVhZFN0eWxlLFxuXHQgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJlbmRlclRhYmxlKHRydWUsIGZhbHNlKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBib2R5VGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAge1xuXHQgICAgICAgIGtleTogJ2JvZHlUYWJsZScsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknLFxuXHQgICAgICAgIHN0eWxlOiBib2R5U3R5bGUsXG5cdCAgICAgICAgcmVmOiAnYm9keVRhYmxlJyxcblx0ICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG5cdCAgICAgIH0sXG5cdCAgICAgIHJlbmRlclRhYmxlKCF1c2VGaXhlZEhlYWRlcilcblx0ICAgICk7XG5cdFxuXHQgICAgaWYgKGZpeGVkICYmIGNvbHVtbnMubGVuZ3RoKSB7XG5cdCAgICAgIHZhciByZWZOYW1lID0gdm9pZCAwO1xuXHQgICAgICBpZiAoY29sdW1uc1swXS5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbnNbMF0uZml4ZWQgPT09IHRydWUpIHtcblx0ICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlMZWZ0Jztcblx0ICAgICAgfSBlbHNlIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgcmVmTmFtZSA9ICdmaXhlZENvbHVtbnNCb2R5UmlnaHQnO1xuXHQgICAgICB9XG5cdCAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dYO1xuXHQgICAgICBkZWxldGUgYm9keVN0eWxlLm92ZXJmbG93WTtcblx0ICAgICAgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktb3V0ZXInLFxuXHQgICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBib2R5U3R5bGUpXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LWlubmVyJyxcblx0ICAgICAgICAgICAgc3R5bGU6IGlubmVyQm9keVN0eWxlLFxuXHQgICAgICAgICAgICByZWY6IHJlZk5hbWUsXG5cdCAgICAgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHJlbmRlclRhYmxlKCF1c2VGaXhlZEhlYWRlcilcblx0ICAgICAgICApXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gW2hlYWRUYWJsZSwgYm9keVRhYmxlXTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcblx0ICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICB0aXRsZSA9IF9wcm9wczQudGl0bGUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHM7XG5cdFxuXHQgICAgcmV0dXJuIHRpdGxlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJywga2V5OiAndGl0bGUnIH0sXG5cdCAgICAgIHRpdGxlKHRoaXMucHJvcHMuZGF0YSlcblx0ICAgICkgOiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRGb290ZXIgPSBmdW5jdGlvbiBnZXRGb290ZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZm9vdGVyID0gX3Byb3BzNS5mb290ZXIsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNS5wcmVmaXhDbHM7XG5cdFxuXHQgICAgcmV0dXJuIGZvb3RlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXInLCBrZXk6ICdmb290ZXInIH0sXG5cdCAgICAgIGZvb3Rlcih0aGlzLnByb3BzLmRhdGEpXG5cdCAgICApIDogbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0RW1wdHlUZXh0ID0gZnVuY3Rpb24gZ2V0RW1wdHlUZXh0KCkge1xuXHQgICAgdmFyIF9wcm9wczYgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGVtcHR5VGV4dCA9IF9wcm9wczYuZW1wdHlUZXh0LFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczYucHJlZml4Q2xzLFxuXHQgICAgICAgIGRhdGEgPSBfcHJvcHM2LmRhdGE7XG5cdFxuXHQgICAgcmV0dXJuICFkYXRhLmxlbmd0aCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wbGFjZWhvbGRlcicsIGtleTogJ2VtcHR5VGV4dCcgfSxcblx0ICAgICAgZW1wdHlUZXh0KClcblx0ICAgICkgOiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXJSb3dTdHlsZSA9IGZ1bmN0aW9uIGdldEhlYWRlclJvd1N0eWxlKGNvbHVtbnMsIHJvd3MpIHtcblx0ICAgIHZhciBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCA9IHRoaXMuc3RhdGUuZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ7XG5cdFxuXHQgICAgdmFyIGhlYWRlckhlaWdodCA9IGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0WzBdO1xuXHQgICAgaWYgKGhlYWRlckhlaWdodCAmJiBjb2x1bW5zKSB7XG5cdCAgICAgIGlmIChoZWFkZXJIZWlnaHQgPT09ICdhdXRvJykge1xuXHQgICAgICAgIHJldHVybiB7IGhlaWdodDogJ2F1dG8nIH07XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHsgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgLyByb3dzLmxlbmd0aCB9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLnNldFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gc2V0U2Nyb2xsUG9zaXRpb24ocG9zaXRpb24pIHtcblx0ICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBwb3NpdGlvbjtcblx0ICAgIGlmICh0aGlzLnRhYmxlTm9kZSkge1xuXHQgICAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgICBpZiAocG9zaXRpb24gPT09ICdib3RoJykge1xuXHQgICAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRhYmxlTm9kZSkucmVtb3ZlKG5ldyBSZWdFeHAoJ14nICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tLiskJykpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1sZWZ0JykuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLXJpZ2h0Jyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLScgKyBwb3NpdGlvbik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUgPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSh0YXJnZXQpIHtcblx0ICAgIHZhciBub2RlID0gdGFyZ2V0IHx8IHRoaXMucmVmcy5ib2R5VGFibGU7XG5cdCAgICB2YXIgc2Nyb2xsVG9MZWZ0ID0gbm9kZS5zY3JvbGxMZWZ0ID09PSAwO1xuXHQgICAgdmFyIHNjcm9sbFRvUmlnaHQgPSBub2RlLnNjcm9sbExlZnQgKyAxID49IG5vZGUuY2hpbGRyZW5bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuXHQgICAgaWYgKHNjcm9sbFRvTGVmdCAmJiBzY3JvbGxUb1JpZ2h0KSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2JvdGgnKTtcblx0ICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9MZWZ0KSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2xlZnQnKTtcblx0ICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9SaWdodCkge1xuXHQgICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdyaWdodCcpO1xuXHQgICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uICE9PSAnbWlkZGxlJykge1xuXHQgICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdtaWRkbGUnKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUucmVzZXRTY3JvbGxYID0gZnVuY3Rpb24gcmVzZXRTY3JvbGxYKCkge1xuXHQgICAgaWYgKHRoaXMucmVmcy5oZWFkVGFibGUpIHtcblx0ICAgICAgdGhpcy5yZWZzLmhlYWRUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnJlZnMuYm9keVRhYmxlKSB7XG5cdCAgICAgIHRoaXMucmVmcy5ib2R5VGFibGUuc2Nyb2xsTGVmdCA9IDA7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmZpbmRFeHBhbmRlZFJvdyA9IGZ1bmN0aW9uIGZpbmRFeHBhbmRlZFJvdyhyZWNvcmQsIGluZGV4KSB7XG5cdCAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICB2YXIgcm93cyA9IHRoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG5cdCAgICAgIHJldHVybiBpID09PSBfdGhpczQuZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcm93c1swXTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuaXNSb3dFeHBhbmRlZCA9IGZ1bmN0aW9uIGlzUm93RXhwYW5kZWQocmVjb3JkLCBpbmRleCkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmZpbmRFeHBhbmRlZFJvdyhyZWNvcmQsIGluZGV4KSAhPT0gJ3VuZGVmaW5lZCc7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmhhc1Njcm9sbFggPSBmdW5jdGlvbiBoYXNTY3JvbGxYKCkge1xuXHQgICAgdmFyIF9wcm9wcyRzY3JvbGwgPSB0aGlzLnByb3BzLnNjcm9sbCxcblx0ICAgICAgICBzY3JvbGwgPSBfcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRzY3JvbGw7XG5cdFxuXHQgICAgcmV0dXJuICd4JyBpbiBzY3JvbGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcm9wcy5jbGFzc05hbWU7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvcHMudXNlRml4ZWRIZWFkZXIgfHwgcHJvcHMuc2Nyb2xsICYmIHByb3BzLnNjcm9sbC55KSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWZpeGVkLWhlYWRlcic7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1sZWZ0ICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1yaWdodCc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHRoaXMuc2Nyb2xsUG9zaXRpb247XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlzVGFibGVTY3JvbGwgPSB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSB8fCBwcm9wcy5zY3JvbGwueCB8fCBwcm9wcy5zY3JvbGwueTtcblx0XG5cdCAgICB2YXIgY29udGVudCA9IFt0aGlzLmdldFRhYmxlKHsgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLmdyb3VwZWRDb2x1bW5zKCkgfSksIHRoaXMuZ2V0RW1wdHlUZXh0KCksIHRoaXMuZ2V0Rm9vdGVyKCldO1xuXHRcblx0ICAgIHZhciBzY3JvbGxUYWJsZSA9IGlzVGFibGVTY3JvbGwgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2Nyb2xsJyB9LFxuXHQgICAgICBjb250ZW50XG5cdCAgICApIDogY29udGVudDtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuXHQgICAgICAgICAgcmV0dXJuIF90aGlzNS50YWJsZU5vZGUgPSBub2RlO1xuXHQgICAgICAgIH0sIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBzdHlsZTogcHJvcHMuc3R5bGUgfSxcblx0ICAgICAgdGhpcy5nZXRUaXRsZSgpLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG5cdCAgICAgICAgc2Nyb2xsVGFibGUsXG5cdCAgICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0xlZnRGaXhlZCgpICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZpeGVkLWxlZnQnIH0sXG5cdCAgICAgICAgICB0aGlzLmdldExlZnRGaXhlZFRhYmxlKClcblx0ICAgICAgICApLFxuXHQgICAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNSaWdodEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtcmlnaHQnIH0sXG5cdCAgICAgICAgICB0aGlzLmdldFJpZ2h0Rml4ZWRUYWJsZSgpXG5cdCAgICAgICAgKVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBUYWJsZTtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGUucHJvcFR5cGVzID0ge1xuXHQgIGRhdGE6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgZXhwYW5kSWNvbkFzQ2VsbDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGRlZmF1bHRFeHBhbmRBbGxSb3dzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZXhwYW5kZWRSb3dLZXlzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgdXNlRml4ZWRIZWFkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBjb2x1bW5zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgYm9keVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcm93S2V5OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMuZnVuY10pLFxuXHQgIHJvd0NsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgY2hpbGRyZW5Db2x1bW5OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRXhwYW5kZWRSb3dzQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgb25Sb3dDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uUm93RG91YmxlQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHNob3dIZWFkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGVtcHR5VGV4dDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNjcm9sbDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcm93UmVmOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZ2V0Qm9keVdyYXBwZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG5cdH07XG5cdFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcblx0ICBkYXRhOiBbXSxcblx0ICB1c2VGaXhlZEhlYWRlcjogZmFsc2UsXG5cdCAgZXhwYW5kSWNvbkFzQ2VsbDogZmFsc2UsXG5cdCAgZGVmYXVsdEV4cGFuZEFsbFJvd3M6IGZhbHNlLFxuXHQgIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IFtdLFxuXHQgIHJvd0tleTogJ2tleScsXG5cdCAgcm93Q2xhc3NOYW1lOiBmdW5jdGlvbiByb3dDbGFzc05hbWUoKSB7XG5cdCAgICByZXR1cm4gJyc7XG5cdCAgfSxcblx0ICBleHBhbmRlZFJvd0NsYXNzTmFtZTogZnVuY3Rpb24gZXhwYW5kZWRSb3dDbGFzc05hbWUoKSB7XG5cdCAgICByZXR1cm4gJyc7XG5cdCAgfSxcblx0ICBvbkV4cGFuZDogZnVuY3Rpb24gb25FeHBhbmQoKSB7fSxcblx0ICBvbkV4cGFuZGVkUm93c0NoYW5nZTogZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoKSB7fSxcblx0ICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKCkge30sXG5cdCAgb25Sb3dEb3VibGVDbGljazogZnVuY3Rpb24gb25Sb3dEb3VibGVDbGljaygpIHt9LFxuXHRcblx0ICBwcmVmaXhDbHM6ICdyYy10YWJsZScsXG5cdCAgYm9keVN0eWxlOiB7fSxcblx0ICBzdHlsZToge30sXG5cdCAgY2hpbGRyZW5Db2x1bW5OYW1lOiAnY2hpbGRyZW4nLFxuXHQgIGluZGVudFNpemU6IDE1LFxuXHQgIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcblx0ICBzaG93SGVhZGVyOiB0cnVlLFxuXHQgIHNjcm9sbDoge30sXG5cdCAgcm93UmVmOiBmdW5jdGlvbiByb3dSZWYoKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHQgIGdldEJvZHlXcmFwcGVyOiBmdW5jdGlvbiBnZXRCb2R5V3JhcHBlcihib2R5KSB7XG5cdCAgICByZXR1cm4gYm9keTtcblx0ICB9LFxuXHQgIGVtcHR5VGV4dDogZnVuY3Rpb24gZW1wdHlUZXh0KCkge1xuXHQgICAgcmV0dXJuICdObyBEYXRhJztcblx0ICB9XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjA0KTtcblx0XG5cdHZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFRhYmxlQ2VsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlQ2VsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlQ2VsbCgpIHtcblx0ICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlQ2VsbCk7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcblx0ICAgICAgICAgIG9uQ2VsbENsaWNrID0gX3RoaXMkcHJvcHMuY29sdW1uLm9uQ2VsbENsaWNrO1xuXHRcblx0ICAgICAgaWYgKG9uQ2VsbENsaWNrKSB7XG5cdCAgICAgICAgb25DZWxsQ2xpY2socmVjb3JkLCBlKTtcblx0ICAgICAgfVxuXHQgICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG5cdCAgfVxuXHRcblx0ICBUYWJsZUNlbGwucHJvdG90eXBlLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0ID0gZnVuY3Rpb24gaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkge1xuXHQgICAgcmV0dXJuIHRleHQgJiYgIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KHRleHQpICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0ZXh0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cdCAgfTtcblx0XG5cdCAgVGFibGVDZWxsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkLFxuXHQgICAgICAgIGluZGVudFNpemUgPSBfcHJvcHMuaW5kZW50U2l6ZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGluZGVudCA9IF9wcm9wcy5pbmRlbnQsXG5cdCAgICAgICAgaW5kZXggPSBfcHJvcHMuaW5kZXgsXG5cdCAgICAgICAgZXhwYW5kSWNvbiA9IF9wcm9wcy5leHBhbmRJY29uLFxuXHQgICAgICAgIGNvbHVtbiA9IF9wcm9wcy5jb2x1bW47XG5cdCAgICB2YXIgZGF0YUluZGV4ID0gY29sdW1uLmRhdGFJbmRleCxcblx0ICAgICAgICByZW5kZXIgPSBjb2x1bW4ucmVuZGVyLFxuXHQgICAgICAgIF9jb2x1bW4kY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSxcblx0ICAgICAgICBjbGFzc05hbWUgPSBfY29sdW1uJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfY29sdW1uJGNsYXNzTmFtZTtcblx0XG5cdCAgICAvLyBXZSBzaG91bGQgcmV0dXJuIHVuZGVmaW5lZCBpZiBubyBkYXRhSW5kZXggaXMgc3BlY2lmaWVkLCBidXQgaW4gb3JkZXIgdG9cblx0ICAgIC8vIGJlIGNvbXBhdGlibGUgd2l0aCBvYmplY3QtcGF0aCdzIGJlaGF2aW9yLCB3ZSByZXR1cm4gdGhlIHJlY29yZCBvYmplY3QgaW5zdGVhZC5cblx0XG5cdCAgICB2YXIgdGV4dCA9IHZvaWQgMDtcblx0ICAgIGlmICh0eXBlb2YgZGF0YUluZGV4ID09PSAnbnVtYmVyJykge1xuXHQgICAgICB0ZXh0ID0gKDAsIF9sb2Rhc2gyW1wiZGVmYXVsdFwiXSkocmVjb3JkLCBkYXRhSW5kZXgpO1xuXHQgICAgfSBlbHNlIGlmICghZGF0YUluZGV4IHx8IGRhdGFJbmRleC5sZW5ndGggPT09IDApIHtcblx0ICAgICAgdGV4dCA9IHJlY29yZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG5cdCAgICB9XG5cdCAgICB2YXIgdGRQcm9wcyA9IHZvaWQgMDtcblx0ICAgIHZhciBjb2xTcGFuID0gdm9pZCAwO1xuXHQgICAgdmFyIHJvd1NwYW4gPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKHJlbmRlcikge1xuXHQgICAgICB0ZXh0ID0gcmVuZGVyKHRleHQsIHJlY29yZCwgaW5kZXgpO1xuXHQgICAgICBpZiAodGhpcy5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSkge1xuXHQgICAgICAgIHRkUHJvcHMgPSB0ZXh0LnByb3BzIHx8IHt9O1xuXHQgICAgICAgIHJvd1NwYW4gPSB0ZFByb3BzLnJvd1NwYW47XG5cdCAgICAgICAgY29sU3BhbiA9IHRkUHJvcHMuY29sU3Bhbjtcblx0ICAgICAgICB0ZXh0ID0gdGV4dC5jaGlsZHJlbjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIEZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy8xMjAyXG5cdCAgICBpZiAodGhpcy5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSkge1xuXHQgICAgICB0ZXh0ID0gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaW5kZW50VGV4dCA9IGV4cGFuZEljb24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuXHQgICAgICBzdHlsZTogeyBwYWRkaW5nTGVmdDogaW5kZW50U2l6ZSAqIGluZGVudCArICdweCcgfSxcblx0ICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWluZGVudCBpbmRlbnQtbGV2ZWwtJyArIGluZGVudFxuXHQgICAgfSkgOiBudWxsO1xuXHRcblx0ICAgIGlmIChyb3dTcGFuID09PSAwIHx8IGNvbFNwYW4gPT09IDApIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RkJyxcblx0ICAgICAge1xuXHQgICAgICAgIGNvbFNwYW46IGNvbFNwYW4sXG5cdCAgICAgICAgcm93U3Bhbjogcm93U3Bhbixcblx0ICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrXG5cdCAgICAgIH0sXG5cdCAgICAgIGluZGVudFRleHQsXG5cdCAgICAgIGV4cGFuZEljb24sXG5cdCAgICAgIHRleHRcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlQ2VsbDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVDZWxsLnByb3BUeXBlcyA9IHtcblx0ICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgaW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGluZGVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgY29sdW1uOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBleHBhbmRJY29uOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZUNlbGw7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFRhYmxlSGVhZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUhlYWRlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUhlYWRlcik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBUYWJsZUhlYWRlci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuXHQgICAgcmV0dXJuICEoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlSGVhZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIHJvd1N0eWxlID0gX3Byb3BzLnJvd1N0eWxlLFxuXHQgICAgICAgIHJvd3MgPSBfcHJvcHMucm93cztcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RoZWFkJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGhlYWQnIH0sXG5cdCAgICAgIHJvd3MubWFwKGZ1bmN0aW9uIChyb3csIGluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndHInLFxuXHQgICAgICAgICAgeyBrZXk6IGluZGV4LCBzdHlsZTogcm93U3R5bGUgfSxcblx0ICAgICAgICAgIHJvdy5tYXAoZnVuY3Rpb24gKGNlbGxQcm9wcywgaSkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgndGgnLCBfZXh0ZW5kcyh7fSwgY2VsbFByb3BzLCB7IGtleTogaSB9KSk7XG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBUYWJsZUhlYWRlcjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVIZWFkZXIucHJvcFR5cGVzID0ge1xuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgcm93U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHJvd3M6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZUhlYWRlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfVGFibGVDZWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIF9UYWJsZUNlbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVDZWxsKTtcblx0XG5cdHZhciBfRXhwYW5kSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTM3KTtcblx0XG5cdHZhciBfRXhwYW5kSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9FeHBhbmRJY29uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGVSb3cgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZVJvdywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlUm93KCkge1xuXHQgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVSb3cpO1xuXHRcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBob3ZlcmVkOiBmYWxzZVxuXHQgICAgfSwgX3RoaXMub25Sb3dDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcblx0ICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMuaW5kZXgsXG5cdCAgICAgICAgICBvblJvd0NsaWNrID0gX3RoaXMkcHJvcHMub25Sb3dDbGljayxcblx0ICAgICAgICAgIGV4cGFuZGFibGUgPSBfdGhpcyRwcm9wcy5leHBhbmRhYmxlLFxuXHQgICAgICAgICAgZXhwYW5kUm93QnlDbGljayA9IF90aGlzJHByb3BzLmV4cGFuZFJvd0J5Q2xpY2ssXG5cdCAgICAgICAgICBleHBhbmRlZCA9IF90aGlzJHByb3BzLmV4cGFuZGVkLFxuXHQgICAgICAgICAgb25FeHBhbmQgPSBfdGhpcyRwcm9wcy5vbkV4cGFuZDtcblx0XG5cdCAgICAgIGlmIChleHBhbmRhYmxlICYmIGV4cGFuZFJvd0J5Q2xpY2spIHtcblx0ICAgICAgICBvbkV4cGFuZCghZXhwYW5kZWQsIHJlY29yZCwgZXZlbnQsIGluZGV4KTtcblx0ICAgICAgfVxuXHQgICAgICBvblJvd0NsaWNrKHJlY29yZCwgaW5kZXgsIGV2ZW50KTtcblx0ICAgIH0sIF90aGlzLm9uUm93RG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMyLnJlY29yZCxcblx0ICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMyLmluZGV4LFxuXHQgICAgICAgICAgb25Sb3dEb3VibGVDbGljayA9IF90aGlzJHByb3BzMi5vblJvd0RvdWJsZUNsaWNrO1xuXHRcblx0ICAgICAgb25Sb3dEb3VibGVDbGljayhyZWNvcmQsIGluZGV4LCBldmVudCk7XG5cdCAgICB9LCBfdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczMub25Ib3Zlcixcblx0ICAgICAgICAgIGhvdmVyS2V5ID0gX3RoaXMkcHJvcHMzLmhvdmVyS2V5O1xuXHRcblx0ICAgICAgb25Ib3Zlcih0cnVlLCBob3ZlcktleSk7XG5cdCAgICB9LCBfdGhpcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wczQgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczQub25Ib3Zlcixcblx0ICAgICAgICAgIGhvdmVyS2V5ID0gX3RoaXMkcHJvcHM0LmhvdmVyS2V5O1xuXHRcblx0ICAgICAgb25Ib3ZlcihmYWxzZSwgaG92ZXJLZXkpO1xuXHQgICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG5cdCAgfVxuXHRcblx0ICBUYWJsZVJvdy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHN0b3JlID0gX3Byb3BzLnN0b3JlLFxuXHQgICAgICAgIGhvdmVyS2V5ID0gX3Byb3BzLmhvdmVyS2V5O1xuXHRcblx0ICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5jdXJyZW50SG92ZXJLZXkgPT09IGhvdmVyS2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaG92ZXJlZDogdHJ1ZSB9KTtcblx0ICAgICAgfSBlbHNlIGlmIChfdGhpczIuc3RhdGUuaG92ZXJlZCA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IGZhbHNlIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZVJvdy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICByZWNvcmQgPSBfcHJvcHMyLnJlY29yZCxcblx0ICAgICAgICBvbkRlc3Ryb3kgPSBfcHJvcHMyLm9uRGVzdHJveSxcblx0ICAgICAgICBpbmRleCA9IF9wcm9wczIuaW5kZXg7XG5cdFxuXHQgICAgb25EZXN0cm95KHJlY29yZCwgaW5kZXgpO1xuXHQgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0ICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlUm93LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG5cdCAgICAgICAgY29sdW1ucyA9IF9wcm9wczMuY29sdW1ucyxcblx0ICAgICAgICByZWNvcmQgPSBfcHJvcHMzLnJlY29yZCxcblx0ICAgICAgICBoZWlnaHQgPSBfcHJvcHMzLmhlaWdodCxcblx0ICAgICAgICB2aXNpYmxlID0gX3Byb3BzMy52aXNpYmxlLFxuXHQgICAgICAgIGluZGV4ID0gX3Byb3BzMy5pbmRleCxcblx0ICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBfcHJvcHMzLmV4cGFuZEljb25Db2x1bW5JbmRleCxcblx0ICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzMy5leHBhbmRJY29uQXNDZWxsLFxuXHQgICAgICAgIGV4cGFuZGVkID0gX3Byb3BzMy5leHBhbmRlZCxcblx0ICAgICAgICBleHBhbmRSb3dCeUNsaWNrID0gX3Byb3BzMy5leHBhbmRSb3dCeUNsaWNrLFxuXHQgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMzLmV4cGFuZGFibGUsXG5cdCAgICAgICAgb25FeHBhbmQgPSBfcHJvcHMzLm9uRXhwYW5kLFxuXHQgICAgICAgIG5lZWRJbmRlbnRTcGFjZWQgPSBfcHJvcHMzLm5lZWRJbmRlbnRTcGFjZWQsXG5cdCAgICAgICAgaW5kZW50ID0gX3Byb3BzMy5pbmRlbnQsXG5cdCAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wczMuaW5kZW50U2l6ZTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0XG5cdFxuXHQgICAgaWYgKHRoaXMuc3RhdGUuaG92ZXJlZCkge1xuXHQgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1ob3Zlcic7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGNlbGxzID0gW107XG5cdFxuXHQgICAgdmFyIGV4cGFuZEljb24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9FeHBhbmRJY29uMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgZXhwYW5kYWJsZTogZXhwYW5kYWJsZSxcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIG9uRXhwYW5kOiBvbkV4cGFuZCxcblx0ICAgICAgbmVlZEluZGVudFNwYWNlZDogbmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuXHQgICAgICByZWNvcmQ6IHJlY29yZFxuXHQgICAgfSk7XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGkgPT09IDApIHtcblx0ICAgICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24tY2VsbCcsXG5cdCAgICAgICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZC1pY29uLWNlbGwnXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZXhwYW5kSWNvblxuXHQgICAgICAgICkpO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID0gZXhwYW5kSWNvbkFzQ2VsbCB8fCBleHBhbmRSb3dCeUNsaWNrID8gZmFsc2UgOiBpID09PSBleHBhbmRJY29uQ29sdW1uSW5kZXg7XG5cdCAgICAgIGNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVDZWxsMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICByZWNvcmQ6IHJlY29yZCxcblx0ICAgICAgICBpbmRlbnRTaXplOiBpbmRlbnRTaXplLFxuXHQgICAgICAgIGluZGVudDogaW5kZW50LFxuXHQgICAgICAgIGluZGV4OiBpbmRleCxcblx0ICAgICAgICBjb2x1bW46IGNvbHVtbnNbaV0sXG5cdCAgICAgICAga2V5OiBjb2x1bW5zW2ldLmtleSxcblx0ICAgICAgICBleHBhbmRJY29uOiBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID8gZXhwYW5kSWNvbiA6IG51bGxcblx0ICAgICAgfSkpO1xuXHQgICAgfVxuXHQgICAgdmFyIHN0eWxlID0geyBoZWlnaHQ6IGhlaWdodCB9O1xuXHQgICAgaWYgKCF2aXNpYmxlKSB7XG5cdCAgICAgIHN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0cicsXG5cdCAgICAgIHtcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUm93Q2xpY2ssXG5cdCAgICAgICAgb25Eb3VibGVDbGljazogdGhpcy5vblJvd0RvdWJsZUNsaWNrLFxuXHQgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbk1vdXNlRW50ZXIsXG5cdCAgICAgICAgb25Nb3VzZUxlYXZlOiB0aGlzLm9uTW91c2VMZWF2ZSxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIGNsYXNzTmFtZSArICcgJyArIHByZWZpeENscyArICctbGV2ZWwtJyArIGluZGVudCxcblx0ICAgICAgICBzdHlsZTogc3R5bGVcblx0ICAgICAgfSxcblx0ICAgICAgY2VsbHNcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlUm93O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZVJvdy5wcm9wVHlwZXMgPSB7XG5cdCAgb25EZXN0cm95OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uUm93RG91YmxlQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBvbkhvdmVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgY29sdW1uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICBoZWlnaHQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5udW1iZXJdKSxcblx0ICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgaW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGhvdmVyS2V5OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBleHBhbmRlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGV4cGFuZGFibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgbmVlZEluZGVudFNwYWNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZXhwYW5kUm93QnlDbGljazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHN0b3JlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG5cdH07XG5cdFRhYmxlUm93LmRlZmF1bHRQcm9wcyA9IHtcblx0ICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKCkge30sXG5cdCAgb25Sb3dEb3VibGVDbGljazogZnVuY3Rpb24gb25Sb3dEb3VibGVDbGljaygpIHt9LFxuXHQgIG9uRGVzdHJveTogZnVuY3Rpb24gb25EZXN0cm95KCkge30sXG5cdFxuXHQgIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcblx0ICBleHBhbmRSb3dCeUNsaWNrOiBmYWxzZSxcblx0ICBvbkhvdmVyOiBmdW5jdGlvbiBvbkhvdmVyKCkge31cblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZVJvdztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG5cdCAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblx0XG5cdCAgZnVuY3Rpb24gc2V0U3RhdGUocGFydGlhbCkge1xuXHQgICAgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUsIHBhcnRpYWwpO1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgbGlzdGVuZXJzW2ldKCk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcblx0ICAgIHJldHVybiBzdGF0ZTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuXHQgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgc2V0U3RhdGU6IHNldFN0YXRlLFxuXHQgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuXHQgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcblx0ICB9O1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5tZWFzdXJlU2Nyb2xsYmFyID0gbWVhc3VyZVNjcm9sbGJhcjtcblx0ZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuXHRleHBvcnRzLndhcm5pbmdPbmNlID0gd2FybmluZ09uY2U7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIHNjcm9sbGJhcldpZHRoID0gdm9pZCAwO1xuXHRcblx0Ly8gTWVhc3VyZSBzY3JvbGxiYXIgd2lkdGggZm9yIHBhZGRpbmcgYm9keSBkdXJpbmcgbW9kYWwgc2hvdy9oaWRlXG5cdHZhciBzY3JvbGxiYXJNZWFzdXJlID0ge1xuXHQgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHQgIHRvcDogJy05OTk5cHgnLFxuXHQgIHdpZHRoOiAnNTBweCcsXG5cdCAgaGVpZ2h0OiAnNTBweCcsXG5cdCAgb3ZlcmZsb3c6ICdzY3JvbGwnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBtZWFzdXJlU2Nyb2xsYmFyKCkge1xuXHQgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICByZXR1cm4gMDtcblx0ICB9XG5cdCAgaWYgKHNjcm9sbGJhcldpZHRoKSB7XG5cdCAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG5cdCAgfVxuXHQgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICBmb3IgKHZhciBzY3JvbGxQcm9wIGluIHNjcm9sbGJhck1lYXN1cmUpIHtcblx0ICAgIGlmIChzY3JvbGxiYXJNZWFzdXJlLmhhc093blByb3BlcnR5KHNjcm9sbFByb3ApKSB7XG5cdCAgICAgIHNjcm9sbERpdi5zdHlsZVtzY3JvbGxQcm9wXSA9IHNjcm9sbGJhck1lYXN1cmVbc2Nyb2xsUHJvcF07XG5cdCAgICB9XG5cdCAgfVxuXHQgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcblx0ICB2YXIgd2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cdCAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXHQgIHNjcm9sbGJhcldpZHRoID0gd2lkdGg7XG5cdCAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcblx0ICB2YXIgdGltZW91dCA9IHZvaWQgMDtcblx0ICBmdW5jdGlvbiBkZWJvdW5jZUZ1bmMoKSB7XG5cdCAgICB2YXIgY29udGV4dCA9IHRoaXM7XG5cdCAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgIC8vIGh0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZ1xuXHQgICAgaWYgKGFyZ3NbMF0gJiYgYXJnc1swXS5wZXJzaXN0KSB7XG5cdCAgICAgIGFyZ3NbMF0ucGVyc2lzdCgpO1xuXHQgICAgfVxuXHQgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gbGF0ZXIoKSB7XG5cdCAgICAgIHRpbWVvdXQgPSBudWxsO1xuXHQgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuXHQgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcblx0ICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0ICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcblx0ICAgIGlmIChjYWxsTm93KSB7XG5cdCAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGRlYm91bmNlRnVuYy5jYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICBpZiAodGltZW91dCkge1xuXHQgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdCAgICAgIHRpbWVvdXQgPSBudWxsO1xuXHQgICAgfVxuXHQgIH07XG5cdCAgcmV0dXJuIGRlYm91bmNlRnVuYztcblx0fVxuXHRcblx0dmFyIHdhcm5lZCA9IHt9O1xuXHRmdW5jdGlvbiB3YXJuaW5nT25jZShjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuXHQgIGlmICghd2FybmVkW2Zvcm1hdF0pIHtcblx0ICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjb25kaXRpb24sIGZvcm1hdCwgYXJncyk7XG5cdCAgICB3YXJuZWRbZm9ybWF0XSA9ICFjb25kaXRpb247XG5cdCAgfVxuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRvQXJyYXk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG5cdCAgdmFyIHJldCA9IFtdO1xuXHQgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG5cdCAgICByZXQucHVzaChjKTtcblx0ICB9KTtcblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0LyoqXG5cdCAqIEBpZ25vcmVcblx0ICogc29tZSBrZXktY29kZXMgZGVmaW5pdGlvbiBhbmQgdXRpbHMgZnJvbSBjbG9zdXJlLWxpYnJhcnlcblx0ICogQGF1dGhvciB5aW1pbmdoZUBnbWFpbC5jb21cblx0ICovXG5cdFxuXHR2YXIgS2V5Q29kZSA9IHtcblx0ICAvKipcblx0ICAgKiBNQUNfRU5URVJcblx0ICAgKi9cblx0ICBNQUNfRU5URVI6IDMsXG5cdCAgLyoqXG5cdCAgICogQkFDS1NQQUNFXG5cdCAgICovXG5cdCAgQkFDS1NQQUNFOiA4LFxuXHQgIC8qKlxuXHQgICAqIFRBQlxuXHQgICAqL1xuXHQgIFRBQjogOSxcblx0ICAvKipcblx0ICAgKiBOVU1MT0NLIG9uIEZGL1NhZmFyaSBNYWNcblx0ICAgKi9cblx0ICBOVU1fQ0VOVEVSOiAxMiwgLy8gTlVNTE9DSyBvbiBGRi9TYWZhcmkgTWFjXG5cdCAgLyoqXG5cdCAgICogRU5URVJcblx0ICAgKi9cblx0ICBFTlRFUjogMTMsXG5cdCAgLyoqXG5cdCAgICogU0hJRlRcblx0ICAgKi9cblx0ICBTSElGVDogMTYsXG5cdCAgLyoqXG5cdCAgICogQ1RSTFxuXHQgICAqL1xuXHQgIENUUkw6IDE3LFxuXHQgIC8qKlxuXHQgICAqIEFMVFxuXHQgICAqL1xuXHQgIEFMVDogMTgsXG5cdCAgLyoqXG5cdCAgICogUEFVU0Vcblx0ICAgKi9cblx0ICBQQVVTRTogMTksXG5cdCAgLyoqXG5cdCAgICogQ0FQU19MT0NLXG5cdCAgICovXG5cdCAgQ0FQU19MT0NLOiAyMCxcblx0ICAvKipcblx0ICAgKiBFU0Ncblx0ICAgKi9cblx0ICBFU0M6IDI3LFxuXHQgIC8qKlxuXHQgICAqIFNQQUNFXG5cdCAgICovXG5cdCAgU1BBQ0U6IDMyLFxuXHQgIC8qKlxuXHQgICAqIFBBR0VfVVBcblx0ICAgKi9cblx0ICBQQUdFX1VQOiAzMywgLy8gYWxzbyBOVU1fTk9SVEhfRUFTVFxuXHQgIC8qKlxuXHQgICAqIFBBR0VfRE9XTlxuXHQgICAqL1xuXHQgIFBBR0VfRE9XTjogMzQsIC8vIGFsc28gTlVNX1NPVVRIX0VBU1Rcblx0ICAvKipcblx0ICAgKiBFTkRcblx0ICAgKi9cblx0ICBFTkQ6IDM1LCAvLyBhbHNvIE5VTV9TT1VUSF9XRVNUXG5cdCAgLyoqXG5cdCAgICogSE9NRVxuXHQgICAqL1xuXHQgIEhPTUU6IDM2LCAvLyBhbHNvIE5VTV9OT1JUSF9XRVNUXG5cdCAgLyoqXG5cdCAgICogTEVGVFxuXHQgICAqL1xuXHQgIExFRlQ6IDM3LCAvLyBhbHNvIE5VTV9XRVNUXG5cdCAgLyoqXG5cdCAgICogVVBcblx0ICAgKi9cblx0ICBVUDogMzgsIC8vIGFsc28gTlVNX05PUlRIXG5cdCAgLyoqXG5cdCAgICogUklHSFRcblx0ICAgKi9cblx0ICBSSUdIVDogMzksIC8vIGFsc28gTlVNX0VBU1Rcblx0ICAvKipcblx0ICAgKiBET1dOXG5cdCAgICovXG5cdCAgRE9XTjogNDAsIC8vIGFsc28gTlVNX1NPVVRIXG5cdCAgLyoqXG5cdCAgICogUFJJTlRfU0NSRUVOXG5cdCAgICovXG5cdCAgUFJJTlRfU0NSRUVOOiA0NCxcblx0ICAvKipcblx0ICAgKiBJTlNFUlRcblx0ICAgKi9cblx0ICBJTlNFUlQ6IDQ1LCAvLyBhbHNvIE5VTV9JTlNFUlRcblx0ICAvKipcblx0ICAgKiBERUxFVEVcblx0ICAgKi9cblx0ICBERUxFVEU6IDQ2LCAvLyBhbHNvIE5VTV9ERUxFVEVcblx0ICAvKipcblx0ICAgKiBaRVJPXG5cdCAgICovXG5cdCAgWkVSTzogNDgsXG5cdCAgLyoqXG5cdCAgICogT05FXG5cdCAgICovXG5cdCAgT05FOiA0OSxcblx0ICAvKipcblx0ICAgKiBUV09cblx0ICAgKi9cblx0ICBUV086IDUwLFxuXHQgIC8qKlxuXHQgICAqIFRIUkVFXG5cdCAgICovXG5cdCAgVEhSRUU6IDUxLFxuXHQgIC8qKlxuXHQgICAqIEZPVVJcblx0ICAgKi9cblx0ICBGT1VSOiA1Mixcblx0ICAvKipcblx0ICAgKiBGSVZFXG5cdCAgICovXG5cdCAgRklWRTogNTMsXG5cdCAgLyoqXG5cdCAgICogU0lYXG5cdCAgICovXG5cdCAgU0lYOiA1NCxcblx0ICAvKipcblx0ICAgKiBTRVZFTlxuXHQgICAqL1xuXHQgIFNFVkVOOiA1NSxcblx0ICAvKipcblx0ICAgKiBFSUdIVFxuXHQgICAqL1xuXHQgIEVJR0hUOiA1Nixcblx0ICAvKipcblx0ICAgKiBOSU5FXG5cdCAgICovXG5cdCAgTklORTogNTcsXG5cdCAgLyoqXG5cdCAgICogUVVFU1RJT05fTUFSS1xuXHQgICAqL1xuXHQgIFFVRVNUSU9OX01BUks6IDYzLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBBXG5cdCAgICovXG5cdCAgQTogNjUsXG5cdCAgLyoqXG5cdCAgICogQlxuXHQgICAqL1xuXHQgIEI6IDY2LFxuXHQgIC8qKlxuXHQgICAqIENcblx0ICAgKi9cblx0ICBDOiA2Nyxcblx0ICAvKipcblx0ICAgKiBEXG5cdCAgICovXG5cdCAgRDogNjgsXG5cdCAgLyoqXG5cdCAgICogRVxuXHQgICAqL1xuXHQgIEU6IDY5LFxuXHQgIC8qKlxuXHQgICAqIEZcblx0ICAgKi9cblx0ICBGOiA3MCxcblx0ICAvKipcblx0ICAgKiBHXG5cdCAgICovXG5cdCAgRzogNzEsXG5cdCAgLyoqXG5cdCAgICogSFxuXHQgICAqL1xuXHQgIEg6IDcyLFxuXHQgIC8qKlxuXHQgICAqIElcblx0ICAgKi9cblx0ICBJOiA3Myxcblx0ICAvKipcblx0ICAgKiBKXG5cdCAgICovXG5cdCAgSjogNzQsXG5cdCAgLyoqXG5cdCAgICogS1xuXHQgICAqL1xuXHQgIEs6IDc1LFxuXHQgIC8qKlxuXHQgICAqIExcblx0ICAgKi9cblx0ICBMOiA3Nixcblx0ICAvKipcblx0ICAgKiBNXG5cdCAgICovXG5cdCAgTTogNzcsXG5cdCAgLyoqXG5cdCAgICogTlxuXHQgICAqL1xuXHQgIE46IDc4LFxuXHQgIC8qKlxuXHQgICAqIE9cblx0ICAgKi9cblx0ICBPOiA3OSxcblx0ICAvKipcblx0ICAgKiBQXG5cdCAgICovXG5cdCAgUDogODAsXG5cdCAgLyoqXG5cdCAgICogUVxuXHQgICAqL1xuXHQgIFE6IDgxLFxuXHQgIC8qKlxuXHQgICAqIFJcblx0ICAgKi9cblx0ICBSOiA4Mixcblx0ICAvKipcblx0ICAgKiBTXG5cdCAgICovXG5cdCAgUzogODMsXG5cdCAgLyoqXG5cdCAgICogVFxuXHQgICAqL1xuXHQgIFQ6IDg0LFxuXHQgIC8qKlxuXHQgICAqIFVcblx0ICAgKi9cblx0ICBVOiA4NSxcblx0ICAvKipcblx0ICAgKiBWXG5cdCAgICovXG5cdCAgVjogODYsXG5cdCAgLyoqXG5cdCAgICogV1xuXHQgICAqL1xuXHQgIFc6IDg3LFxuXHQgIC8qKlxuXHQgICAqIFhcblx0ICAgKi9cblx0ICBYOiA4OCxcblx0ICAvKipcblx0ICAgKiBZXG5cdCAgICovXG5cdCAgWTogODksXG5cdCAgLyoqXG5cdCAgICogWlxuXHQgICAqL1xuXHQgIFo6IDkwLFxuXHQgIC8qKlxuXHQgICAqIE1FVEFcblx0ICAgKi9cblx0ICBNRVRBOiA5MSwgLy8gV0lOX0tFWV9MRUZUXG5cdCAgLyoqXG5cdCAgICogV0lOX0tFWV9SSUdIVFxuXHQgICAqL1xuXHQgIFdJTl9LRVlfUklHSFQ6IDkyLFxuXHQgIC8qKlxuXHQgICAqIENPTlRFWFRfTUVOVVxuXHQgICAqL1xuXHQgIENPTlRFWFRfTUVOVTogOTMsXG5cdCAgLyoqXG5cdCAgICogTlVNX1pFUk9cblx0ICAgKi9cblx0ICBOVU1fWkVSTzogOTYsXG5cdCAgLyoqXG5cdCAgICogTlVNX09ORVxuXHQgICAqL1xuXHQgIE5VTV9PTkU6IDk3LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9UV09cblx0ICAgKi9cblx0ICBOVU1fVFdPOiA5OCxcblx0ICAvKipcblx0ICAgKiBOVU1fVEhSRUVcblx0ICAgKi9cblx0ICBOVU1fVEhSRUU6IDk5LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9GT1VSXG5cdCAgICovXG5cdCAgTlVNX0ZPVVI6IDEwMCxcblx0ICAvKipcblx0ICAgKiBOVU1fRklWRVxuXHQgICAqL1xuXHQgIE5VTV9GSVZFOiAxMDEsXG5cdCAgLyoqXG5cdCAgICogTlVNX1NJWFxuXHQgICAqL1xuXHQgIE5VTV9TSVg6IDEwMixcblx0ICAvKipcblx0ICAgKiBOVU1fU0VWRU5cblx0ICAgKi9cblx0ICBOVU1fU0VWRU46IDEwMyxcblx0ICAvKipcblx0ICAgKiBOVU1fRUlHSFRcblx0ICAgKi9cblx0ICBOVU1fRUlHSFQ6IDEwNCxcblx0ICAvKipcblx0ICAgKiBOVU1fTklORVxuXHQgICAqL1xuXHQgIE5VTV9OSU5FOiAxMDUsXG5cdCAgLyoqXG5cdCAgICogTlVNX01VTFRJUExZXG5cdCAgICovXG5cdCAgTlVNX01VTFRJUExZOiAxMDYsXG5cdCAgLyoqXG5cdCAgICogTlVNX1BMVVNcblx0ICAgKi9cblx0ICBOVU1fUExVUzogMTA3LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9NSU5VU1xuXHQgICAqL1xuXHQgIE5VTV9NSU5VUzogMTA5LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9QRVJJT0Rcblx0ICAgKi9cblx0ICBOVU1fUEVSSU9EOiAxMTAsXG5cdCAgLyoqXG5cdCAgICogTlVNX0RJVklTSU9OXG5cdCAgICovXG5cdCAgTlVNX0RJVklTSU9OOiAxMTEsXG5cdCAgLyoqXG5cdCAgICogRjFcblx0ICAgKi9cblx0ICBGMTogMTEyLFxuXHQgIC8qKlxuXHQgICAqIEYyXG5cdCAgICovXG5cdCAgRjI6IDExMyxcblx0ICAvKipcblx0ICAgKiBGM1xuXHQgICAqL1xuXHQgIEYzOiAxMTQsXG5cdCAgLyoqXG5cdCAgICogRjRcblx0ICAgKi9cblx0ICBGNDogMTE1LFxuXHQgIC8qKlxuXHQgICAqIEY1XG5cdCAgICovXG5cdCAgRjU6IDExNixcblx0ICAvKipcblx0ICAgKiBGNlxuXHQgICAqL1xuXHQgIEY2OiAxMTcsXG5cdCAgLyoqXG5cdCAgICogRjdcblx0ICAgKi9cblx0ICBGNzogMTE4LFxuXHQgIC8qKlxuXHQgICAqIEY4XG5cdCAgICovXG5cdCAgRjg6IDExOSxcblx0ICAvKipcblx0ICAgKiBGOVxuXHQgICAqL1xuXHQgIEY5OiAxMjAsXG5cdCAgLyoqXG5cdCAgICogRjEwXG5cdCAgICovXG5cdCAgRjEwOiAxMjEsXG5cdCAgLyoqXG5cdCAgICogRjExXG5cdCAgICovXG5cdCAgRjExOiAxMjIsXG5cdCAgLyoqXG5cdCAgICogRjEyXG5cdCAgICovXG5cdCAgRjEyOiAxMjMsXG5cdCAgLyoqXG5cdCAgICogTlVNTE9DS1xuXHQgICAqL1xuXHQgIE5VTUxPQ0s6IDE0NCxcblx0ICAvKipcblx0ICAgKiBTRU1JQ09MT05cblx0ICAgKi9cblx0ICBTRU1JQ09MT046IDE4NiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogREFTSFxuXHQgICAqL1xuXHQgIERBU0g6IDE4OSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogRVFVQUxTXG5cdCAgICovXG5cdCAgRVFVQUxTOiAxODcsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIENPTU1BXG5cdCAgICovXG5cdCAgQ09NTUE6IDE4OCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogUEVSSU9EXG5cdCAgICovXG5cdCAgUEVSSU9EOiAxOTAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIFNMQVNIXG5cdCAgICovXG5cdCAgU0xBU0g6IDE5MSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQVBPU1RST1BIRVxuXHQgICAqL1xuXHQgIEFQT1NUUk9QSEU6IDE5MiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogU0lOR0xFX1FVT1RFXG5cdCAgICovXG5cdCAgU0lOR0xFX1FVT1RFOiAyMjIsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIE9QRU5fU1FVQVJFX0JSQUNLRVRcblx0ICAgKi9cblx0ICBPUEVOX1NRVUFSRV9CUkFDS0VUOiAyMTksIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIEJBQ0tTTEFTSFxuXHQgICAqL1xuXHQgIEJBQ0tTTEFTSDogMjIwLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBDTE9TRV9TUVVBUkVfQlJBQ0tFVFxuXHQgICAqL1xuXHQgIENMT1NFX1NRVUFSRV9CUkFDS0VUOiAyMjEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIFdJTl9LRVlcblx0ICAgKi9cblx0ICBXSU5fS0VZOiAyMjQsXG5cdCAgLyoqXG5cdCAgICogTUFDX0ZGX01FVEFcblx0ICAgKi9cblx0ICBNQUNfRkZfTUVUQTogMjI0LCAvLyBGaXJlZm94IChHZWNrbykgZmlyZXMgdGhpcyBmb3IgdGhlIG1ldGEga2V5IGluc3RlYWQgb2YgOTFcblx0ICAvKipcblx0ICAgKiBXSU5fSU1FXG5cdCAgICovXG5cdCAgV0lOX0lNRTogMjI5XG5cdH07XG5cdFxuXHQvKlxuXHQgd2hldGhlciB0ZXh0IGFuZCBtb2RpZmllZCBrZXkgaXMgZW50ZXJlZCBhdCB0aGUgc2FtZSB0aW1lLlxuXHQgKi9cblx0S2V5Q29kZS5pc1RleHRNb2RpZnlpbmdLZXlFdmVudCA9IGZ1bmN0aW9uIGlzVGV4dE1vZGlmeWluZ0tleUV2ZW50KGUpIHtcblx0ICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTtcblx0ICBpZiAoZS5hbHRLZXkgJiYgIWUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHxcblx0ICAvLyBGdW5jdGlvbiBrZXlzIGRvbid0IGdlbmVyYXRlIHRleHRcblx0ICBrZXlDb2RlID49IEtleUNvZGUuRjEgJiYga2V5Q29kZSA8PSBLZXlDb2RlLkYxMikge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGhlIGZvbGxvd2luZyBrZXlzIGFyZSBxdWl0ZSBoYXJtbGVzcywgZXZlbiBpbiBjb21iaW5hdGlvbiB3aXRoXG5cdCAgLy8gQ1RSTCwgQUxUIG9yIFNISUZULlxuXHQgIHN3aXRjaCAoa2V5Q29kZSkge1xuXHQgICAgY2FzZSBLZXlDb2RlLkFMVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5DQVBTX0xPQ0s6XG5cdCAgICBjYXNlIEtleUNvZGUuQ09OVEVYVF9NRU5VOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNUUkw6XG5cdCAgICBjYXNlIEtleUNvZGUuRE9XTjpcblx0ICAgIGNhc2UgS2V5Q29kZS5FTkQ6XG5cdCAgICBjYXNlIEtleUNvZGUuRVNDOlxuXHQgICAgY2FzZSBLZXlDb2RlLkhPTUU6XG5cdCAgICBjYXNlIEtleUNvZGUuSU5TRVJUOlxuXHQgICAgY2FzZSBLZXlDb2RlLkxFRlQ6XG5cdCAgICBjYXNlIEtleUNvZGUuTUFDX0ZGX01FVEE6XG5cdCAgICBjYXNlIEtleUNvZGUuTUVUQTpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1MT0NLOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTV9DRU5URVI6XG5cdCAgICBjYXNlIEtleUNvZGUuUEFHRV9ET1dOOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBBR0VfVVA6XG5cdCAgICBjYXNlIEtleUNvZGUuUEFVU0U6XG5cdCAgICBjYXNlIEtleUNvZGUuUFJJTlRfU0NSRUVOOlxuXHQgICAgY2FzZSBLZXlDb2RlLlJJR0hUOlxuXHQgICAgY2FzZSBLZXlDb2RlLlNISUZUOlxuXHQgICAgY2FzZSBLZXlDb2RlLlVQOlxuXHQgICAgY2FzZSBLZXlDb2RlLldJTl9LRVk6XG5cdCAgICBjYXNlIEtleUNvZGUuV0lOX0tFWV9SSUdIVDpcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHR9O1xuXHRcblx0Lypcblx0IHdoZXRoZXIgY2hhcmFjdGVyIGlzIGVudGVyZWQuXG5cdCAqL1xuXHRLZXlDb2RlLmlzQ2hhcmFjdGVyS2V5ID0gZnVuY3Rpb24gaXNDaGFyYWN0ZXJLZXkoa2V5Q29kZSkge1xuXHQgIGlmIChrZXlDb2RlID49IEtleUNvZGUuWkVSTyAmJiBrZXlDb2RlIDw9IEtleUNvZGUuTklORSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLk5VTV9aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OVU1fTVVMVElQTFkpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5BICYmIGtleUNvZGUgPD0gS2V5Q29kZS5aKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIC8vIFNhZmFyaSBzZW5kcyB6ZXJvIGtleSBjb2RlIGZvciBub24tbGF0aW4gY2hhcmFjdGVycy5cblx0ICBpZiAod2luZG93Lm5hdmlnYXRpb24udXNlckFnZW50LmluZGV4T2YoJ1dlYktpdCcpICE9PSAtMSAmJiBrZXlDb2RlID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHN3aXRjaCAoa2V5Q29kZSkge1xuXHQgICAgY2FzZSBLZXlDb2RlLlNQQUNFOlxuXHQgICAgY2FzZSBLZXlDb2RlLlFVRVNUSU9OX01BUks6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX1BMVVM6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX01JTlVTOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTV9QRVJJT0Q6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX0RJVklTSU9OOlxuXHQgICAgY2FzZSBLZXlDb2RlLlNFTUlDT0xPTjpcblx0ICAgIGNhc2UgS2V5Q29kZS5EQVNIOlxuXHQgICAgY2FzZSBLZXlDb2RlLkVRVUFMUzpcblx0ICAgIGNhc2UgS2V5Q29kZS5DT01NQTpcblx0ICAgIGNhc2UgS2V5Q29kZS5QRVJJT0Q6XG5cdCAgICBjYXNlIEtleUNvZGUuU0xBU0g6XG5cdCAgICBjYXNlIEtleUNvZGUuQVBPU1RST1BIRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5TSU5HTEVfUVVPVEU6XG5cdCAgICBjYXNlIEtleUNvZGUuT1BFTl9TUVVBUkVfQlJBQ0tFVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5CQUNLU0xBU0g6XG5cdCAgICBjYXNlIEtleUNvZGUuQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0fTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gS2V5Q29kZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX01vZGFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdFxuXHR2YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblx0XG5cdHZhciBfY29uZmlybSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkwKTtcblx0XG5cdHZhciBfY29uZmlybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25maXJtKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF9Nb2RhbDJbXCJkZWZhdWx0XCJdLmluZm8gPSBmdW5jdGlvbiAocHJvcHMpIHtcblx0ICAgIHZhciBjb25maWcgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwge1xuXHQgICAgICAgIHR5cGU6ICdpbmZvJyxcblx0ICAgICAgICBpY29uVHlwZTogJ2luZm8tY2lyY2xlJyxcblx0ICAgICAgICBva0NhbmNlbDogZmFsc2Vcblx0ICAgIH0sIHByb3BzKTtcblx0ICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcblx0fTtcblx0X01vZGFsMltcImRlZmF1bHRcIl0uc3VjY2VzcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG5cdCAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuXHQgICAgICAgIGljb25UeXBlOiAnY2hlY2stY2lyY2xlJyxcblx0ICAgICAgICBva0NhbmNlbDogZmFsc2Vcblx0ICAgIH0sIHByb3BzKTtcblx0ICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcblx0fTtcblx0X01vZGFsMltcImRlZmF1bHRcIl0uZXJyb3IgPSBmdW5jdGlvbiAocHJvcHMpIHtcblx0ICAgIHZhciBjb25maWcgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwge1xuXHQgICAgICAgIHR5cGU6ICdlcnJvcicsXG5cdCAgICAgICAgaWNvblR5cGU6ICdjcm9zcy1jaXJjbGUnLFxuXHQgICAgICAgIG9rQ2FuY2VsOiBmYWxzZVxuXHQgICAgfSwgcHJvcHMpO1xuXHQgICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xuXHR9O1xuXHRfTW9kYWwyW1wiZGVmYXVsdFwiXS53YXJuaW5nID0gX01vZGFsMltcImRlZmF1bHRcIl0ud2FybiA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG5cdCAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuXHQgICAgICAgIGljb25UeXBlOiAnZXhjbGFtYXRpb24tY2lyY2xlJyxcblx0ICAgICAgICBva0NhbmNlbDogZmFsc2Vcblx0ICAgIH0sIHByb3BzKTtcblx0ICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcblx0fTtcblx0X01vZGFsMltcImRlZmF1bHRcIl0uY29uZmlybSA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG5cdCAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuXHQgICAgICAgIG9rQ2FuY2VsOiB0cnVlXG5cdCAgICB9LCBwcm9wcyk7XG5cdCAgICByZXR1cm4gKDAsIF9jb25maXJtMltcImRlZmF1bHRcIl0pKGNvbmZpZyk7XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX01vZGFsMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDk6XG5bMTIxOSwgMjAxXSxcblxuLyoqKi8gMTUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0eWxlNSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHR2YXIgX3N0eWxlNiA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9pbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ3KTtcblx0XG5cdHZhciBfaW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5wdXQpO1xuXHRcblx0dmFyIF9zdHlsZTggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdHZhciBfc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHR2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTU5KTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlYXJjaCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czMuZGVmYXVsdCkoU2VhcmNoLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gU2VhcmNoKHByb3BzKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMy5kZWZhdWx0KSh0aGlzLCBTZWFyY2gpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlU2VhcmNoID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgZGF0YSA9IHtcblx0ICAgICAgICBrZXl3b3JkOiBfcmVhY3REb20yLmRlZmF1bHQuZmluZERPTU5vZGUoX3RoaXMucmVmcy5zZWFyY2hJbnB1dCkudmFsdWVcblx0ICAgICAgfTtcblx0ICAgICAgaWYgKF90aGlzLnByb3BzLnNlbGVjdCkge1xuXHQgICAgICAgIGRhdGEuZmllbGQgPSBfdGhpcy5zdGF0ZS5zZWxlY3RWYWx1ZTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5wcm9wcy5vblNlYXJjaCAmJiBfdGhpcy5wcm9wcy5vblNlYXJjaChkYXRhKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlSW5wdXRDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIGNsZWFyVmlzaWJsZTogZS50YXJnZXQudmFsdWUgIT09ICcnXG5cdCAgICAgIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGVsZVNlbGVjdENoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSgoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgIHNlbGVjdFZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUNsZWFySW5wdXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZSA9ICcnO1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2xlYXJWaXNpYmxlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgICAgX3RoaXMuaGFuZGxlU2VhcmNoKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgIHNlbGVjdCA9IF90aGlzJHByb3BzLnNlbGVjdCxcblx0ICAgICAgICBzZWxlY3RQcm9wcyA9IF90aGlzJHByb3BzLnNlbGVjdFByb3BzO1xuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjbGVhclZpc2libGU6IGZhbHNlLFxuXHQgICAgICBzZWxlY3RWYWx1ZTogc2VsZWN0ICYmIHNlbGVjdFByb3BzID8gc2VsZWN0UHJvcHMuZGVmYXVsdFZhbHVlIDogJydcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBTZWFyY2gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcblx0ICAgICAgICBzZWxlY3QgPSBfcHJvcHMuc2VsZWN0LFxuXHQgICAgICAgIHNlbGVjdE9wdGlvbnMgPSBfcHJvcHMuc2VsZWN0T3B0aW9ucyxcblx0ICAgICAgICBzZWxlY3RQcm9wcyA9IF9wcm9wcy5zZWxlY3RQcm9wcyxcblx0ICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcblx0ICAgICAgICBrZXl3b3JkID0gX3Byb3BzLmtleXdvcmQ7XG5cdCAgICB2YXIgY2xlYXJWaXNpYmxlID0gdGhpcy5zdGF0ZS5jbGVhclZpc2libGU7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfaW5wdXQyLmRlZmF1bHQuR3JvdXAsXG5cdCAgICAgIHsgY29tcGFjdDogdHJ1ZSwgc2l6ZTogc2l6ZSwgY2xhc3NOYW1lOiBfU2VhcmNoMi5kZWZhdWx0LnNlYXJjaCwgc3R5bGU6IHN0eWxlIH0sXG5cdCAgICAgIHNlbGVjdCAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyByZWY6ICdzZWFyY2hTZWxlY3QnLCBvbkNoYW5nZTogdGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlLCBzaXplOiBzaXplIH0sIHNlbGVjdFByb3BzKSxcblx0ICAgICAgICBzZWxlY3RPcHRpb25zICYmIHNlbGVjdE9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHtcblx0ICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3NlbGVjdDIuZGVmYXVsdC5PcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6IGl0ZW0udmFsdWUsIGtleToga2V5IH0sXG5cdCAgICAgICAgICAgIGl0ZW0ubmFtZSB8fCBpdGVtLnZhbHVlXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0pXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pbnB1dDIuZGVmYXVsdCwgeyByZWY6ICdzZWFyY2hJbnB1dCcsIHNpemU6IHNpemUsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLCBvblByZXNzRW50ZXI6IHRoaXMuaGFuZGxlU2VhcmNoLCBkZWZhdWx0VmFsdWU6IGtleXdvcmQgfSksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9idXR0b24yLmRlZmF1bHQsXG5cdCAgICAgICAgeyBzaXplOiBzaXplLCB0eXBlOiAncHJpbWFyeScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlU2VhcmNoIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3NlYXJjaCcgfSksXG5cdCAgICAgICAgJ1xcdTY0MUNcXHU3RDIyJ1xuXHQgICAgICApLFxuXHQgICAgICBjbGVhclZpc2libGUgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2Nyb3NzJywgb25DbGljazogdGhpcy5oYW5kbGVDbGVhcklucHV0IH0pXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBTZWFyY2g7XG5cdH0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBTZWFyY2g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2NSk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVCb2R5V3JhcHBlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGVudGVyQW5pbSA9IFt7XG5cdCAgb3BhY2l0eTogMCxcblx0ICB4OiAzMCxcblx0ICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZWVlJyxcblx0ICBkdXJhdGlvbjogMFxuXHR9LCB7XG5cdCAgaGVpZ2h0OiAwLFxuXHQgIGR1cmF0aW9uOiAyMDAsXG5cdCAgdHlwZTogJ2Zyb20nLFxuXHQgIGRlbGF5OiAyNTAsXG5cdCAgZWFzZTogJ2Vhc2VPdXRRdWFkJyxcblx0ICBvbkNvbXBsZXRlOiBmdW5jdGlvbiBvbkNvbXBsZXRlKGUpIHtcblx0ICAgIGUudGFyZ2V0LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcblx0ICB9XG5cdH0sIHtcblx0ICBvcGFjaXR5OiAxLFxuXHQgIHg6IDAsXG5cdCAgZHVyYXRpb246IDI1MCxcblx0ICBlYXNlOiAnZWFzZU91dFF1YWQnXG5cdH0sIHtcblx0ICBkZWxheTogMTAwMCxcblx0ICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJ1xuXHR9XTtcblx0XG5cdHZhciBsZWF2ZUFuaW0gPSBbe1xuXHQgIGR1cmF0aW9uOiAyNTAsXG5cdCAgeDogLTMwLFxuXHQgIG9wYWNpdHk6IDBcblx0fSwge1xuXHQgIGhlaWdodDogMCxcblx0ICBkdXJhdGlvbjogMjAwLFxuXHQgIGVhc2U6ICdlYXNlT3V0UXVhZCdcblx0fV07XG5cdFxuXHR2YXIgVGFibGVCb2R5V3JhcHBlciA9IGZ1bmN0aW9uIFRhYmxlQm9keVdyYXBwZXIoX3JlZikge1xuXHQgIHZhciBib2R5ID0gX3JlZi5ib2R5LFxuXHQgICAgICBfcmVmJHBhZ2UgPSBfcmVmLnBhZ2UsXG5cdCAgICAgIHBhZ2UgPSBfcmVmJHBhZ2UgPT09IHVuZGVmaW5lZCA/IDEgOiBfcmVmJHBhZ2UsXG5cdCAgICAgIGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQ7XG5cdFxuXHRcblx0ICAvLyDliIfmjaLliIbpobXljrvpmaTliqjnlLs7XG5cdCAgaWYgKGN1cnJlbnQgIT0gK3BhZ2UpIHtcblx0ICAgIHJldHVybiBib2R5O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgX3JjVHdlZW5PbmUuVHdlZW5PbmVHcm91cCxcblx0ICAgIHtcblx0ICAgICAgY29tcG9uZW50OiAndGJvZHknLFxuXHQgICAgICBjbGFzc05hbWU6IGJvZHkucHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICBlbnRlcjogZW50ZXJBbmltLFxuXHQgICAgICBsZWF2ZTogbGVhdmVBbmltLFxuXHQgICAgICBhcHBlYXI6IGZhbHNlIH0sXG5cdCAgICBib2R5LnByb3BzLmNoaWxkcmVuXG5cdCAgKTtcblx0fTtcblx0XG5cdFRhYmxlQm9keVdyYXBwZXIucHJvcFR5cGVzID0ge1xuXHQgIHBhZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGN1cnJlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRhYmxlQm9keVdyYXBwZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8qIGdsb2JhbHMgU3ltYm9sOiB0cnVlLCBVaW50OEFycmF5OiB0cnVlLCBXZWFrTWFwOiB0cnVlICovXG5cdC8qIVxuXHQgKiBkZWVwLWVxbFxuXHQgKiBDb3B5cmlnaHQoYykgMjAxMyBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cblx0ICogTUlUIExpY2Vuc2VkXG5cdCAqL1xuXHRcblx0LyohXG5cdCAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcblx0ICovXG5cdFxuXHR2YXIgdHlwZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblx0ZnVuY3Rpb24gRmFrZU1hcCgpIHtcblx0ICB0aGlzLmNsZWFyKCk7XG5cdH1cblx0RmFrZU1hcC5wcm90b3R5cGUgPSB7XG5cdCAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyTWFwKCkge1xuXHQgICAgdGhpcy5rZXlzID0gW107XG5cdCAgICB0aGlzLnZhbHVlcyA9IFtdO1xuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBzZXQ6IGZ1bmN0aW9uIHNldE1hcChrZXksIHZhbHVlKSB7XG5cdCAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuXHQgICAgaWYgKGluZGV4ID49IDApIHtcblx0ICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuXHQgICAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdCAgZ2V0OiBmdW5jdGlvbiBnZXRNYXAoa2V5KSB7XG5cdCAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5rZXlzLmluZGV4T2Yoa2V5KV07XG5cdCAgfSxcblx0ICBkZWxldGU6IGZ1bmN0aW9uIGRlbGV0ZU1hcChrZXkpIHtcblx0ICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG5cdCAgICBpZiAoaW5kZXggPj0gMCkge1xuXHQgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy52YWx1ZXMuc2xpY2UoaW5kZXggKyAxKSk7XG5cdCAgICAgIHRoaXMua2V5cyA9IHRoaXMua2V5cy5zbGljZSgwLCBpbmRleCkuY29uY2F0KHRoaXMua2V5cy5zbGljZShpbmRleCArIDEpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH0sXG5cdH07XG5cdFxuXHR2YXIgTWVtb2l6ZU1hcCA9IG51bGw7XG5cdGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgIE1lbW9pemVNYXAgPSBXZWFrTWFwO1xuXHR9IGVsc2Uge1xuXHQgIE1lbW9pemVNYXAgPSBGYWtlTWFwO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBNZW1vaXplTWFwIGhhcyByZWNvcmRlZCBhIHJlc3VsdCBvZiB0aGUgdHdvIG9wZXJhbmRzXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuXHQgKiBAcmV0dXJucyB7Qm9vbGVhbnxudWxsfSByZXN1bHRcblx0Ki9cblx0ZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwKSB7XG5cdCAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuXHQgIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRNYXApIHtcblx0ICAgIHZhciByZXN1bHQgPSBsZWZ0SGFuZE1hcC5nZXQocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2V0IHRoZSByZXN1bHQgb2YgdGhlIGVxdWFsaXR5IGludG8gdGhlIE1lbW9pemVNYXBcblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdWx0XG5cdCovXG5cdGZ1bmN0aW9uIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwLCByZXN1bHQpIHtcblx0ICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG5cdCAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRNYXApIHtcblx0ICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBsZWZ0SGFuZE1hcCA9IG5ldyBNZW1vaXplTWFwKCk7XG5cdCAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcblx0ICAgIG1lbW9pemVNYXAuc2V0KGxlZnRIYW5kT3BlcmFuZCwgbGVmdEhhbmRNYXApO1xuXHQgIH1cblx0fVxuXHRcblx0LyohXG5cdCAqIFByaW1hcnkgRXhwb3J0XG5cdCAqL1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBkZWVwRXF1YWw7XG5cdG1vZHVsZS5leHBvcnRzLk1lbW9pemVNYXAgPSBNZW1vaXplTWFwO1xuXHRcblx0LyoqXG5cdCAqIEFzc2VydCBkZWVwbHkgbmVzdGVkIHNhbWVWYWx1ZSBlcXVhbGl0eSBiZXR3ZWVuIHR3byBvYmplY3RzIG9mIGFueSB0eXBlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG5cdCAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcblx0ICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgLy8gSWYgd2UgaGF2ZSBhIGNvbXBhcmF0b3IsIHdlIGNhbid0IGFzc3VtZSBhbnl0aGluZzsgc28gYmFpbCB0byBpdHMgY2hlY2sgZmlyc3QuXG5cdCAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgLy8gRGVlcGVyIGNvbXBhcmlzb25zIGFyZSBwdXNoZWQgdGhyb3VnaCB0byBhIGxhcmdlciBmdW5jdGlvblxuXHQgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIE1hbnkgY29tcGFyaXNvbnMgY2FuIGJlIGNhbmNlbGVkIG91dCBlYXJseSB2aWEgc2ltcGxlIGVxdWFsaXR5IG9yIHByaW1pdGl2ZSBjaGVja3MuXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW58bnVsbH0gZXF1YWwgbWF0Y2hcblx0ICovXG5cdGZ1bmN0aW9uIHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuXHQgIC8vIEVxdWFsIHJlZmVyZW5jZXMgKGV4Y2VwdCBmb3IgTnVtYmVycykgY2FuIGJlIHJldHVybmVkIGVhcmx5XG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZCkge1xuXHQgICAgLy8gSGFuZGxlICstMCBjYXNlc1xuXHQgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCAhPT0gMCB8fCAxIC8gbGVmdEhhbmRPcGVyYW5kID09PSAxIC8gcmlnaHRIYW5kT3BlcmFuZDtcblx0ICB9XG5cdFxuXHQgIC8vIGhhbmRsZSBOYU4gY2FzZXNcblx0ICBpZiAoXG5cdCAgICBsZWZ0SGFuZE9wZXJhbmQgIT09IGxlZnRIYW5kT3BlcmFuZCAmJiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgICAgcmlnaHRIYW5kT3BlcmFuZCAhPT0gcmlnaHRIYW5kT3BlcmFuZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuXHQgICkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICAvLyBBbnl0aGluZyB0aGF0IGlzIG5vdCBhbiAnb2JqZWN0JywgaS5lLiBzeW1ib2xzLCBmdW5jdGlvbnMsIGJvb2xlYW5zLCBudW1iZXJzLFxuXHQgIC8vIHN0cmluZ3MsIGFuZCB1bmRlZmluZWQsIGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UuXG5cdCAgaWYgKGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIC8vIEVhc3kgb3V0IGIvYyBpdCB3b3VsZCBoYXZlIHBhc3NlZCB0aGUgZmlyc3QgZXF1YWxpdHkgY2hlY2tcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBUaGUgbWFpbiBsb2dpYyBvZiB0aGUgYGRlZXBFcXVhbGAgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2Zcblx0ICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuXHQgICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcblx0Ki9cblx0ZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgIG9wdGlvbnMubWVtb2l6ZSA9IG9wdGlvbnMubWVtb2l6ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IG9wdGlvbnMubWVtb2l6ZSB8fCBuZXcgTWVtb2l6ZU1hcCgpO1xuXHQgIHZhciBjb21wYXJhdG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3I7XG5cdFxuXHQgIC8vIENoZWNrIGlmIGEgbWVtb2l6ZWQgcmVzdWx0IGV4aXN0cy5cblx0ICB2YXIgbWVtb2l6ZVJlc3VsdExlZnQgPSBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG5cdCAgaWYgKG1lbW9pemVSZXN1bHRMZWZ0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdExlZnQ7XG5cdCAgfVxuXHQgIHZhciBtZW1vaXplUmVzdWx0UmlnaHQgPSBtZW1vaXplQ29tcGFyZShyaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG5cdCAgaWYgKG1lbW9pemVSZXN1bHRSaWdodCAhPT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIG1lbW9pemVSZXN1bHRSaWdodDtcblx0ICB9XG5cdFxuXHQgIC8vIElmIGEgY29tcGFyYXRvciBpcyBwcmVzZW50LCB1c2UgaXQuXG5cdCAgaWYgKGNvbXBhcmF0b3IpIHtcblx0ICAgIHZhciBjb21wYXJhdG9yUmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgICAgLy8gQ29tcGFyYXRvcnMgbWF5IHJldHVybiBudWxsLCBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8gZ28gYmFjayB0byBkZWZhdWx0IGJlaGF2aW9yLlxuXHQgICAgaWYgKGNvbXBhcmF0b3JSZXN1bHQgPT09IGZhbHNlIHx8IGNvbXBhcmF0b3JSZXN1bHQgPT09IHRydWUpIHtcblx0ICAgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgY29tcGFyYXRvclJlc3VsdCk7XG5cdCAgICAgIHJldHVybiBjb21wYXJhdG9yUmVzdWx0O1xuXHQgICAgfVxuXHQgICAgLy8gVG8gYWxsb3cgY29tcGFyYXRvcnMgdG8gb3ZlcnJpZGUgKmFueSogYmVoYXZpb3IsIHdlIHJhbiB0aGVtIGZpcnN0LiBTaW5jZSBpdCBkaWRuJ3QgZGVjaWRlXG5cdCAgICAvLyB3aGF0IHRvIGRvLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0byByZXR1cm4gdGhlIGJhc2ljIHRlc3RzIGZpcnN0IGJlZm9yZSB3ZSBtb3ZlIG9uLlxuXHQgICAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG5cdCAgICAgIC8vIERvbid0IG1lbW9pemUgdGhpcywgaXQgdGFrZXMgbG9uZ2VyIHRvIHNldC9yZXRyaWV2ZSB0aGFuIHRvIGp1c3QgY29tcGFyZS5cblx0ICAgICAgcmV0dXJuIHNpbXBsZVJlc3VsdDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHZhciBsZWZ0SGFuZFR5cGUgPSB0eXBlKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kVHlwZSAhPT0gdHlwZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgZmFsc2UpO1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgLy8gVGVtcG9yYXJpbHkgc2V0IHRoZSBvcGVyYW5kcyBpbiB0aGUgbWVtb2l6ZSBvYmplY3QgdG8gcHJldmVudCBibG93aW5nIHRoZSBzdGFja1xuXHQgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHRydWUpO1xuXHRcblx0ICB2YXIgcmVzdWx0ID0gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKTtcblx0ICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCByZXN1bHQpO1xuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kVHlwZSwgb3B0aW9ucykge1xuXHQgIHN3aXRjaCAobGVmdEhhbmRUeXBlKSB7XG5cdCAgICBjYXNlICdTdHJpbmcnOlxuXHQgICAgY2FzZSAnTnVtYmVyJzpcblx0ICAgIGNhc2UgJ0Jvb2xlYW4nOlxuXHQgICAgY2FzZSAnRGF0ZSc6XG5cdCAgICAgIC8vIElmIHRoZXNlIHR5cGVzIGFyZSB0aGVpciBpbnN0YW5jZSB0eXBlcyAoZS5nLiBgbmV3IE51bWJlcmApIHRoZW4gcmUtZGVlcEVxdWFsIGFnYWluc3QgdGhlaXIgdmFsdWVzXG5cdCAgICAgIHJldHVybiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLnZhbHVlT2YoKSwgcmlnaHRIYW5kT3BlcmFuZC52YWx1ZU9mKCkpO1xuXHQgICAgY2FzZSAnUHJvbWlzZSc6XG5cdCAgICBjYXNlICdTeW1ib2wnOlxuXHQgICAgY2FzZSAnZnVuY3Rpb24nOlxuXHQgICAgY2FzZSAnV2Vha01hcCc6XG5cdCAgICBjYXNlICdXZWFrU2V0Jzpcblx0ICAgIGNhc2UgJ0Vycm9yJzpcblx0ICAgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZDtcblx0ICAgIGNhc2UgJ0FyZ3VtZW50cyc6XG5cdCAgICBjYXNlICdJbnQ4QXJyYXknOlxuXHQgICAgY2FzZSAnVWludDhBcnJheSc6XG5cdCAgICBjYXNlICdVaW50OENsYW1wZWRBcnJheSc6XG5cdCAgICBjYXNlICdJbnQxNkFycmF5Jzpcblx0ICAgIGNhc2UgJ1VpbnQxNkFycmF5Jzpcblx0ICAgIGNhc2UgJ0ludDMyQXJyYXknOlxuXHQgICAgY2FzZSAnVWludDMyQXJyYXknOlxuXHQgICAgY2FzZSAnRmxvYXQzMkFycmF5Jzpcblx0ICAgIGNhc2UgJ0Zsb2F0NjRBcnJheSc6XG5cdCAgICBjYXNlICdBcnJheSc6XG5cdCAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdSZWdFeHAnOlxuXHQgICAgICByZXR1cm4gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGNhc2UgJ0dlbmVyYXRvcic6XG5cdCAgICAgIHJldHVybiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnRGF0YVZpZXcnOlxuXHQgICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQuYnVmZmVyKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZC5idWZmZXIpLCBvcHRpb25zKTtcblx0ICAgIGNhc2UgJ0FycmF5QnVmZmVyJzpcblx0ICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnU2V0Jzpcblx0ICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnTWFwJzpcblx0ICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHQgICAgZGVmYXVsdDpcblx0ICAgICAgcmV0dXJuIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiFcblx0ICogQ29tcGFyZSB0d28gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgZXF1YWxpdHkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7UmVnRXhwfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtSZWdFeHB9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZC50b1N0cmluZygpID09PSByaWdodEhhbmRPcGVyYW5kLnRvU3RyaW5nKCk7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDb21wYXJlIHR3byBTZXRzL01hcHMgZm9yIGVxdWFsaXR5LiBGYXN0ZXIgdGhhbiBvdGhlciBlcXVhbGl0eSBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U2V0fSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtTZXR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICAvLyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBTZXQjZW50cmllcyBvciBTZXQjQEBpdGVyYXRvciwgc28gd2UgbmVlZCBtYW51YWxseSBwb3B1bGF0ZSB1c2luZyBTZXQjZm9yRWFjaFxuXHQgIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSAhPT0gcmlnaHRIYW5kT3BlcmFuZC5zaXplKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHZhciBsZWZ0SGFuZEl0ZW1zID0gW107XG5cdCAgdmFyIHJpZ2h0SGFuZEl0ZW1zID0gW107XG5cdCAgbGVmdEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG5cdCAgICBsZWZ0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuXHQgIH0pO1xuXHQgIHJpZ2h0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcblx0ICAgIHJpZ2h0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuXHQgIH0pO1xuXHQgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kSXRlbXMuc29ydCgpLCByaWdodEhhbmRJdGVtcy5zb3J0KCksIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2ltcGxlIGVxdWFsaXR5IGZvciBmbGF0IGl0ZXJhYmxlIG9iamVjdHMgc3VjaCBhcyBBcnJheXMsIFR5cGVkQXJyYXlzIG9yIE5vZGUuanMgYnVmZmVycy5cblx0ICpcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGxlZnRIYW5kT3BlcmFuZC5sZW5ndGg7XG5cdCAgaWYgKGxlbmd0aCAhPT0gcmlnaHRIYW5kT3BlcmFuZC5sZW5ndGgpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKGxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtpbmRleF0sIHJpZ2h0SGFuZE9wZXJhbmRbaW5kZXhdLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0LyohXG5cdCAqIFNpbXBsZSBlcXVhbGl0eSBmb3IgZ2VuZXJhdG9yIG9iamVjdHMgc3VjaCBhcyB0aG9zZSByZXR1cm5lZCBieSBnZW5lcmF0b3IgZnVuY3Rpb25zLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwoZ2V0R2VuZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpLCBnZXRHZW5lcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpLCBvcHRpb25zKTtcblx0fVxuXHRcblx0LyohXG5cdCAqIERldGVybWluZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpIHtcblx0ICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0ICAgIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmXG5cdCAgICB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgdHlwZW9mIHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgaXRlcmF0b3IgZW50cmllcyBmcm9tIHRoZSBnaXZlbiBPYmplY3QuIElmIHRoZSBPYmplY3QgaGFzIG5vIEBAaXRlcmF0b3IgZnVuY3Rpb24sIHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG5cdCAqIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBpdGVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzIGRlcGVuZGluZyBvbiB0aGUgQEBpdGVyYXRvciBpbXBsZW1lbnRhdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgQEBpdGVyYXRvciBmdW5jdGlvblxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0SXRlcmF0b3JFbnRyaWVzKHRhcmdldCkge1xuXHQgIGlmIChoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkpIHtcblx0ICAgIHRyeSB7XG5cdCAgICAgIHJldHVybiBnZXRHZW5lcmF0b3JFbnRyaWVzKHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHQgICAgfSBjYXRjaCAoaXRlcmF0b3JFcnJvcikge1xuXHQgICAgICByZXR1cm4gW107XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBbXTtcblx0fVxuXHRcblx0LyohXG5cdCAqIEdldHMgYWxsIGVudHJpZXMgZnJvbSBhIEdlbmVyYXRvci4gVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGdlbmVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0dlbmVyYXRvcn0gdGFyZ2V0XG5cdCAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBHZW5lcmF0b3IuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRHZW5lcmF0b3JFbnRyaWVzKGdlbmVyYXRvcikge1xuXHQgIHZhciBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuXHQgIHZhciBhY2N1bXVsYXRvciA9IFsgZ2VuZXJhdG9yUmVzdWx0LnZhbHVlIF07XG5cdCAgd2hpbGUgKGdlbmVyYXRvclJlc3VsdC5kb25lID09PSBmYWxzZSkge1xuXHQgICAgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcblx0ICAgIGFjY3VtdWxhdG9yLnB1c2goZ2VuZXJhdG9yUmVzdWx0LnZhbHVlKTtcblx0ICB9XG5cdCAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gYSB0YXJnZXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcblx0ICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSB0aGUgdGFyZ2V0LlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0RW51bWVyYWJsZUtleXModGFyZ2V0KSB7XG5cdCAgdmFyIGtleXMgPSBbXTtcblx0ICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG5cdCAgICBrZXlzLnB1c2goa2V5KTtcblx0ICB9XG5cdCAgcmV0dXJuIGtleXM7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIGhhdmUgbWF0Y2hpbmcgdmFsdWVzLCBnaXZlbiBhIHNldCBvZiBrZXlzLiBEZWZlcnMgdG8gZGVlcEVxdWFsIGZvciB0aGUgZXF1YWxpdHkgY2hlY2sgb2Zcblx0ICogZWFjaCBrZXkuIElmIGFueSB2YWx1ZSBvZiB0aGUgZ2l2ZW4ga2V5IGlzIG5vdCBlcXVhbCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGZhbHNlIChlYXJseSkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGtleXMgQW4gYXJyYXkgb2Yga2V5cyB0byBjb21wYXJlIHRoZSB2YWx1ZXMgb2YgbGVmdEhhbmRPcGVyYW5kIGFuZCByaWdodEhhbmRPcGVyYW5kIGFnYWluc3Rcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0ZnVuY3Rpb24ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwga2V5cywgb3B0aW9ucykge1xuXHQgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcblx0ICBpZiAobGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuXHQgICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRba2V5c1tpXV0sIHJpZ2h0SGFuZE9wZXJhbmRba2V5c1tpXV0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogUmVjdXJzaXZlbHkgY2hlY2sgdGhlIGVxdWFsaXR5IG9mIHR3byBPYmplY3RzLiBPbmNlIGJhc2ljIHNhbWVuZXNzIGhhcyBiZWVuIGVzdGFibGlzaGVkIGl0IHdpbGwgZGVmZXIgdG8gYGRlZXBFcXVhbGBcblx0ICogZm9yIGVhY2ggZW51bWVyYWJsZSBrZXkgaW4gdGhlIG9iamVjdC5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIHZhciBsZWZ0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIHZhciByaWdodEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggJiYgbGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gcmlnaHRIYW5kS2V5cy5sZW5ndGgpIHtcblx0ICAgIGxlZnRIYW5kS2V5cy5zb3J0KCk7XG5cdCAgICByaWdodEhhbmRLZXlzLnNvcnQoKTtcblx0ICAgIGlmIChpdGVyYWJsZUVxdWFsKGxlZnRIYW5kS2V5cywgcmlnaHRIYW5kS2V5cykgPT09IGZhbHNlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZEtleXMsIG9wdGlvbnMpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGxlZnRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIHZhciByaWdodEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZEVudHJpZXMubGVuZ3RoICYmIGxlZnRIYW5kRW50cmllcy5sZW5ndGggPT09IHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoKSB7XG5cdCAgICBsZWZ0SGFuZEVudHJpZXMuc29ydCgpO1xuXHQgICAgcmlnaHRIYW5kRW50cmllcy5zb3J0KCk7XG5cdCAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEVudHJpZXMsIHJpZ2h0SGFuZEVudHJpZXMsIG9wdGlvbnMpO1xuXHQgIH1cblx0XG5cdCAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcblx0ICAgICAgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICByaWdodEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgcHJpbWl0aXZlLlxuXHQgKlxuXHQgKiBUaGlzIGludGVudGlvbmFsbHkgcmV0dXJucyB0cnVlIGZvciBhbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UsXG5cdCAqIGluY2x1ZGluZyBmdW5jdGlvbnMgYW5kIHN5bWJvbHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuXHQgKi9cblx0ZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jztcblx0fVxuXG5cbi8qKiovIH0sXG5cbi8qKiovIDE1OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic2VhcmNoXCI6XCJzZWFyY2hfX19wMDRLTlwifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTYwOlxuMTAsXG5cbi8qKiovIDE2Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXHQvKipcblx0ICogQ3JlYXRlZCBieSBqbGpzaiBvbiAxNi8xLzI3LlxuXHQgKi9cblx0XG5cdFxuXHR2YXIgX2Vhc2luZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjYpO1xuXHRcblx0dmFyIF9lYXNpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFzaW5nKTtcblx0XG5cdHZhciBfcGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXHRcblx0dmFyIF9TdHlsZVBsdWdpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTY2KTtcblx0XG5cdHZhciBfU3R5bGVQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3R5bGVQbHVnaW4pO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERFRkFVTFRfRUFTSU5HID0gJ2Vhc2VJbk91dFF1YWQnO1xuXHR2YXIgREVGQVVMVF9EVVJBVElPTiA9IDQ1MDtcblx0dmFyIERFRkFVTFRfREVMQVkgPSAwO1xuXHRmdW5jdGlvbiBub29wKCkge31cblx0X3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5wdXNoKF9TdHlsZVBsdWdpbjJbXCJkZWZhdWx0XCJdKTtcblx0Ly8g6K6+572u6buY6K6k5pWw5o2uXG5cdGZ1bmN0aW9uIGRlZmF1bHREYXRhKHZhcnMsIG5vdykge1xuXHQgIHJldHVybiB7XG5cdCAgICBkdXJhdGlvbjogdmFycy5kdXJhdGlvbiB8fCB2YXJzLmR1cmF0aW9uID09PSAwID8gdmFycy5kdXJhdGlvbiA6IERFRkFVTFRfRFVSQVRJT04sXG5cdCAgICBkZWxheTogdmFycy5kZWxheSB8fCBERUZBVUxUX0RFTEFZLFxuXHQgICAgZWFzZTogdHlwZW9mIHZhcnMuZWFzZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhcnMuZWFzZSA6IF9lYXNpbmcyW1wiZGVmYXVsdFwiXVt2YXJzLmVhc2UgfHwgREVGQVVMVF9FQVNJTkddLFxuXHQgICAgb25VcGRhdGU6IHZhcnMub25VcGRhdGUgfHwgbm9vcCxcblx0ICAgIG9uQ29tcGxldGU6IHZhcnMub25Db21wbGV0ZSB8fCBub29wLFxuXHQgICAgb25TdGFydDogdmFycy5vblN0YXJ0IHx8IG5vb3AsXG5cdCAgICBvblJlcGVhdDogdmFycy5vblJlcGVhdCB8fCBub29wLFxuXHQgICAgcmVwZWF0OiB2YXJzLnJlcGVhdCB8fCAwLFxuXHQgICAgcmVwZWF0RGVsYXk6IHZhcnMucmVwZWF0RGVsYXkgfHwgMCxcblx0ICAgIHlveW86IHZhcnMueW95byB8fCBmYWxzZSxcblx0ICAgIHR5cGU6IHZhcnMudHlwZSB8fCAndG8nLFxuXHQgICAgaW5pdFRpbWU6IG5vdyxcblx0ICAgIGFwcGVhclRvOiB0eXBlb2YgdmFycy5hcHBlYXJUbyA9PT0gJ251bWJlcicgPyB2YXJzLmFwcGVhclRvIDogbnVsbFxuXHQgIH07XG5cdH1cblx0XG5cdHZhciB0aW1lTGluZSA9IGZ1bmN0aW9uIHRpbWVMaW5lKHRhcmdldCwgdG9EYXRhLCBwcm9wcykge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXHQgIHRoaXMuYXR0ciA9IHByb3BzLmF0dHIgfHwgJ3N0eWxlJztcblx0ICB0aGlzLndpbGxDaGFuZ2UgPSBwcm9wcy53aWxsQ2hhbmdlO1xuXHQgIC8vIOiusOW9leaAu+aXtumXtDtcblx0ICB0aGlzLnRvdGFsVGltZSA9IDA7XG5cdCAgLy8g6K6w5b2V5b2T5YmN5pe26Ze0O1xuXHQgIHRoaXMucHJvZ3Jlc3NUaW1lID0gMDtcblx0ICAvLyDorrDlvZXml7bpl7TovbTmlbDmja47XG5cdCAgdGhpcy5kZWZhdWx0RGF0YSA9IFtdO1xuXHQgIC8vIOavj+S4queahOW8gOWni+aVsOaNru+8m1xuXHQgIHRoaXMuc3RhcnQgPSB7fTtcblx0ICAvLyDorrDlvZXliqjnlLvlvIDlp4s7XG5cdCAgdGhpcy5vblN0YXJ0ID0ge307XG5cdCAgLy8g5byA5aeL6buY6K6k55qE5pWw5o2u77ybXG5cdCAgdGhpcy5zdGFydERlZmF1bHREYXRhID0ge307XG5cdCAgdmFyIGRhdGEgPSBbXTtcblx0ICB0b0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoZCwgaSkge1xuXHQgICAgdmFyIF9kID0gX2V4dGVuZHMoe30sIGQpO1xuXHQgICAgaWYgKF90aGlzLmF0dHIgPT09ICdzdHlsZScpIHtcblx0ICAgICAgZGF0YVtpXSA9IHt9O1xuXHQgICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpIHtcblx0ICAgICAgICAgIGRhdGFbaV1ba2V5XSA9IF9kW2tleV07XG5cdCAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBkYXRhW2ldLnN0eWxlID0gX2Q7XG5cdCAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXHQgICAgfSBlbHNlIGlmIChfdGhpcy5hdHRyID09PSAnYXR0cicpIHtcblx0ICAgICAgT2JqZWN0LmtleXMoX2QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIGlmIChrZXkgPT09ICdzdHlsZScgJiYgQXJyYXkuaXNBcnJheShkW2tleV0pKSB7XG5cdCAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0eWxlIHNob3VsZCBiZSB0aGUgb2JqZWN0LicpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuXHQgICAgICAgICAgX2Quc3R5bGUgPSBfZXh0ZW5kcyh7fSwgX2Quc3R5bGUsIHsgYmV6aWVyOiBfZFtrZXldIH0pO1xuXHQgICAgICAgICAgZGVsZXRlIF9kW2tleV07XG5cdCAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhLnN0eWxlID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YVtrZXldID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZShrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGRhdGFbaV0gPSBfZDtcblx0ICAgIH1cblx0ICB9KTtcblx0ICAvLyDliqjnlLvov4fnqItcblx0ICB0aGlzLnR3ZWVuID0ge307XG5cdCAgLy8g5q+P5bin55qE5pe26Ze0O1xuXHQgIHRoaXMucGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG5cdCAgLy8g5rOo5YaM77yM56ys5LiA5qyh6L+b5YWl5omn6KGM5rOo5YaMXG5cdCAgdGhpcy5yZWdpc3RlciA9IGZhbHNlO1xuXHQgIC8vIOe8k+WKqOacgOWwj+WAvDtcblx0ICB0aGlzLnRpbnlOdW0gPSAwLjAwMDAwMDAwMDE7XG5cdCAgLy8g6K6+572u6buY6K6k5Yqo55S75pWw5o2uO1xuXHQgIHRoaXMuc2V0RGVmYXVsdERhdGEoZGF0YSk7XG5cdH07XG5cdHZhciBwID0gdGltZUxpbmUucHJvdG90eXBlO1xuXHRcblx0cC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uIChfdmFycykge1xuXHQgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICB2YXIgbm93ID0gMDtcblx0ICB2YXIgcmVwZWF0TWF4ID0gZmFsc2U7XG5cdCAgdmFyIGRhdGEgPSBfdmFycy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBhcHBlYXJUb0Jvb2wgPSB0eXBlb2YgaXRlbS5hcHBlYXJUbyA9PT0gJ251bWJlcic7XG5cdCAgICAvLyDliqDkuIrlu7bml7bvvIzlnKjmsqHmnInmkq3mlL7ov4fml7bvvJtcblx0ICAgIC8vICFhcHBlYXJUb0Jvb2wgJiYgKG5vdyArPSBpdGVtLmRlbGF5IHx8IDApO1xuXHQgICAgaWYgKCFhcHBlYXJUb0Jvb2wpIHtcblx0ICAgICAgbm93ICs9IGl0ZW0uZGVsYXkgfHwgMDtcblx0ICAgIH1cblx0ICAgIHZhciBhcHBlYXJUb1RpbWUgPSAoaXRlbS5hcHBlYXJUbyB8fCAwKSArIChpdGVtLmRlbGF5IHx8IDApO1xuXHQgICAgLy8g6I635Y+W6buY6K6k5pWw5o2uXG5cdCAgICB2YXIgdHdlZW5EYXRhID0gZGVmYXVsdERhdGEoaXRlbSwgYXBwZWFyVG9Cb29sID8gYXBwZWFyVG9UaW1lIDogbm93KTtcblx0ICAgIHR3ZWVuRGF0YS52YXJzID0ge307XG5cdCAgICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICAgIGlmICghKF9rZXkgaW4gdHdlZW5EYXRhKSkge1xuXHQgICAgICAgIHZhciBfZGF0YSA9IGl0ZW1bX2tleV07XG5cdCAgICAgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXVtfa2V5XShfdGhpczIudGFyZ2V0LCBfZGF0YSwgdHdlZW5EYXRhLnR5cGUpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IHsgdHlwZTogJ2NvbG9yJywgdmFyczogKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKF9kYXRhKSB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9kYXRhID09PSAnbnVtYmVyJyB8fCBfZGF0YS5zcGxpdCgvWyx8XFxzXS9nKS5sZW5ndGggPD0gMSkge1xuXHQgICAgICAgICAgdmFyIHZhcnMgPSBwYXJzZUZsb2F0KF9kYXRhKTtcblx0ICAgICAgICAgIHZhciB1bml0ID0gX2RhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgICAgICB2YXIgY291bnQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB1bml0OiB1bml0LCB2YXJzOiB2YXJzLCBjb3VudDogY291bnQgfTtcblx0ICAgICAgICB9IGVsc2UgaWYgKChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpICYmICdTVkdNb3JwaCcgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5TVkdNb3JwaChfdGhpczIudGFyZ2V0LCBfZGF0YSwgX2tleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIGlmICh0d2VlbkRhdGEueW95byAmJiAhdHdlZW5EYXRhLnJlcGVhdCkge1xuXHQgICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IHlveW8gbXVzdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGggcmVwZWF0OycpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICB9XG5cdCAgICBpZiAodHdlZW5EYXRhLnJlcGVhdCA9PT0gLTEpIHtcblx0ICAgICAgcmVwZWF0TWF4ID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHZhciByZXBlYXQgPSB0d2VlbkRhdGEucmVwZWF0ID09PSAtMSA/IDAgOiB0d2VlbkRhdGEucmVwZWF0O1xuXHQgICAgaWYgKGFwcGVhclRvQm9vbCkge1xuXHQgICAgICAvLyDlpoLmnpzmnIkgYXBwZWFyVG8g5LiU6L+Z5p2h5pe26Ze05q+UIG5vdyDlpKfml7bvvIzvvIzmgLvml7bpl7TnlKjov5nmnaHvvJtcblx0ICAgICAgdmFyIGFwcGVhck5vdyA9IGl0ZW0uYXBwZWFyVG8gKyAoaXRlbS5kZWxheSB8fCAwKSArIHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcblx0ICAgICAgbm93ID0gYXBwZWFyTm93ID49IG5vdyA/IGFwcGVhck5vdyA6IG5vdztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICh0d2VlbkRhdGEuZGVsYXkgPCAtdHdlZW5EYXRhLmR1cmF0aW9uKSB7XG5cdCAgICAgICAgLy8g5aaC5p6c5bu25pe25bCP5LqOIOi0n+aXtumXtOaXtiws5LiN5YqgLOWGjeWHj+WbnuW7tuaXtjtcblx0ICAgICAgICBub3cgLT0gdHdlZW5EYXRhLmRlbGF5O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHJlcGVhdCDkuLogLTEg5Y+q6K6w5b2V5LiA5qyh44CC5LiN6IO96LefIHJldmVyc2Ug5ZCM5pe25L2/55SoO1xuXHQgICAgICAgIG5vdyArPSB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHR3ZWVuRGF0YS5tb2RlID0gJyc7XG5cdCAgICByZXR1cm4gdHdlZW5EYXRhO1xuXHQgIH0pO1xuXHQgIHRoaXMudG90YWxUaW1lID0gcmVwZWF0TWF4ID8gTnVtYmVyLk1BWF9WQUxVRSA6IG5vdztcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gZGF0YTtcblx0fTtcblx0cC5nZXRBbmltU3RhcnREYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgdmFyIHN0YXJ0ID0ge307XG5cdCAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczMuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIHN0YXJ0W19rZXldID0gaXRlbVtfa2V5XS5nZXRBbmltU3RhcnQoX3RoaXMzLndpbGxDaGFuZ2UpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAoX3RoaXMzLmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG5cdCAgICAgIHZhciBhdHRyaWJ1dGUgPSBfdGhpczMudGFyZ2V0LmdldEF0dHJpYnV0ZShfa2V5KTtcblx0ICAgICAgdmFyIGRhdGEgPSBhdHRyaWJ1dGUgPT09ICdudWxsJyB8fCAhYXR0cmlidXRlID8gMCA6IGF0dHJpYnV0ZTtcblx0ICAgICAgaWYgKF9rZXkubWF0Y2goL2NvbG9yL2kpIHx8IF9rZXkgPT09ICdzdHJva2UnIHx8IF9rZXkgPT09ICdmaWxsJykge1xuXHQgICAgICAgIGRhdGEgPSAhZGF0YSAmJiBfa2V5ID09PSAnc3Ryb2tlJyA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyA6IGRhdGE7XG5cdCAgICAgICAgZGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShkYXRhKTtcblx0ICAgICAgICBzdGFydFtfa2V5XSA9IGRhdGE7XG5cdCAgICAgIH0gZWxzZSBpZiAocGFyc2VGbG9hdChkYXRhKSB8fCBwYXJzZUZsb2F0KGRhdGEpID09PSAwIHx8IGRhdGEgPT09IDApIHtcblx0ICAgICAgICB2YXIgdW5pdCA9IGRhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgICAgc3RhcnRbX2tleV0gPSB1bml0ICE9PSBpdGVtW19rZXldLnVuaXQgPyAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczMudGFyZ2V0LCBfa2V5LCBwYXJzZUZsb2F0KGRhdGEpLCB1bml0LCBpdGVtW19rZXldLnVuaXQpIDogcGFyc2VGbG9hdChkYXRhKTtcblx0ICAgICAgfVxuXHQgICAgICAvLyBzdGFydFtfa2V5XSA9IGRhdGE7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHN0YXJ0W19rZXldID0gX3RoaXMzLnRhcmdldFtfa2V5XSB8fCAwO1xuXHQgIH0pO1xuXHQgIHJldHVybiBzdGFydDtcblx0fTtcblx0cC5zZXRBbmltRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzNC5hdHRyID09PSAnYXR0cicgJiYgKGtleSA9PT0gJ2QnIHx8IGtleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIF90aGlzNC50YXJnZXRba2V5XSA9IGRhdGFba2V5XTtcblx0ICB9KTtcblx0fTtcblx0cC5zZXRSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgZW5kRGF0YSwgaSkge1xuXHQgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICBPYmplY3Qua2V5cyhlbmREYXRhLnZhcnMpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcblx0ICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM1LmF0dHIgPT09ICdhdHRyJyAmJiAoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSkge1xuXHQgICAgICBlbmREYXRhLnZhcnNbX2tleV0uc2V0UmF0aW8ocmF0aW8sIF90aGlzNS50d2Vlbik7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBlbmRWYXJzID0gZW5kRGF0YS52YXJzW19rZXldO1xuXHQgICAgdmFyIHN0YXJ0VmFycyA9IF90aGlzNS5zdGFydFtpXVtfa2V5XTtcblx0ICAgIHZhciBkYXRhID0gdm9pZCAwO1xuXHQgICAgaWYgKF90aGlzNS5hdHRyID09PSAnYXR0cicpIHtcblx0ICAgICAgLy8g6Zmk5LqGZOWSjOi/mXBvaW50c+WklueahOagh+etvuWKqOeUu++8m1xuXHQgICAgICBpZiAoIWVuZFZhcnMudHlwZSkge1xuXHQgICAgICAgIGRhdGEgPSBlbmRWYXJzLnVuaXQuY2hhckF0KDEpID09PSAnPScgPyBzdGFydFZhcnMgKyBlbmRWYXJzLnZhcnMgKiByYXRpbyArIGVuZFZhcnMudW5pdCA6IChlbmRWYXJzLnZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyBlbmRWYXJzLnVuaXQ7XG5cdCAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgZGF0YSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoZW5kVmFycy50eXBlID09PSAnY29sb3InKSB7XG5cdCAgICAgICAgaWYgKGVuZFZhcnMudmFycy5sZW5ndGggPT09IDMgJiYgc3RhcnRWYXJzLmxlbmd0aCA9PT0gNCkge1xuXHQgICAgICAgICAgZW5kVmFycy52YXJzWzNdID0gMTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZGF0YSA9IGVuZFZhcnMudmFycy5tYXAoZnVuY3Rpb24gKF9lbmREYXRhLCBfaSkge1xuXHQgICAgICAgICAgdmFyIHN0YXJ0RGF0YSA9IHN0YXJ0VmFyc1tfaV0gfHwgMDtcblx0ICAgICAgICAgIHJldHVybiAoX2VuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGE7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3RoaXM1LnRhcmdldC5zZXRBdHRyaWJ1dGUoX2tleSwgKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShkYXRhKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9KTtcblx0ICB0aGlzLnNldEFuaW1EYXRhKHRoaXMudHdlZW4pO1xuXHR9O1xuXHRwLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgdGhpcy5kZWZhdWx0RGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICB2YXIgaW5pdFRpbWUgPSBpdGVtLmluaXRUaW1lO1xuXHQgICAgdmFyIGR1cmF0aW9uID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKGl0ZW0uZHVyYXRpb24pO1xuXHQgICAgLy8g5aSE55CGIHlveW8g5ZKMIHJlcGVhdDsgeW95byDmmK/lnKjml7bpl7TovbTkuIrnmoQsIOW5tuS4jeaYr+WAkuaUvlxuXHQgICAgdmFyIHJlcGVhdE51bSA9IE1hdGguY2VpbCgoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKSAvIChkdXJhdGlvbiArIGl0ZW0ucmVwZWF0RGVsYXkpKSAtIDE7XG5cdCAgICByZXBlYXROdW0gPSByZXBlYXROdW0gPCAwID8gMCA6IHJlcGVhdE51bTtcblx0ICAgIC8vIHJlcGVhdE51bSA9IHRoaXMucHJvZ3Jlc3NUaW1lID09PSAwID8gcmVwZWF0TnVtICsgMSA6IHJlcGVhdE51bTtcblx0ICAgIGlmIChpdGVtLnJlcGVhdCkge1xuXHQgICAgICBpZiAoaXRlbS5yZXBlYXQgPCByZXBlYXROdW0gJiYgaXRlbS5yZXBlYXQgIT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChpdGVtLnJlcGVhdCB8fCBpdGVtLnJlcGVhdCA8PSByZXBlYXROdW0pIHtcblx0ICAgICAgICBpbml0VGltZSA9IGluaXRUaW1lICsgcmVwZWF0TnVtICogKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBzdGFydERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwO1xuXHQgICAgdmFyIGVuZERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxO1xuXHQgICAgLy8gIOeyvuW6puaNn+Wkse+8jOWPquWPluWwj+aVsOeCueWQjjEw5L2N44CCXG5cdCAgICB2YXIgcHJvZ3Jlc3NUaW1lID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKF90aGlzNi5wcm9ncmVzc1RpbWUgLSBpbml0VGltZSk7XG5cdCAgICAvLyDorr7nva4gc3RhcnRcblx0ICAgIHZhciBkZWxheSA9IGl0ZW0uZGVsYXkgPj0gMCA/IGl0ZW0uZGVsYXkgOiAtaXRlbS5kZWxheTtcblx0ICAgIHZhciBmcm9tRGVsYXkgPSBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IGRlbGF5IDogMDtcblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYuc3RhcnRbaV0pIHtcblx0ICAgICAgX3RoaXM2LnN0YXJ0W2ldID0gX3RoaXM2LmdldEFuaW1TdGFydERhdGEoaXRlbS52YXJzKTtcblx0ICAgICAgaWYgKCFfdGhpczYucmVnaXN0ZXIgJiYgcHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAgIF90aGlzNi5yZWdpc3RlciA9IHRydWU7XG5cdCAgICAgICAgLy8g5Zyo5byA5aeL6Lez5bin5pe244CC44CCW3t4OjEwMCx0eXBlOidmcm9tJ30se3k6MzAwfV3vvIzot7Pov4fkuoZmcm9t5pe2LCBtb21lbnQgPSA2MDAgPT4g6ZyA6KaB5oqKZnJvbeWQiOWbnuadpVxuXHQgICAgICAgIC8vIOWmguaenCBkdXJhdGlvbiDlkowgZGVsYXkg6YO95Li6IDDvvIwg5Yik5pat55Soc2V0LCDnm7TmjqXms6jlhozml7blsLHnu5PmnZ87XG5cdCAgICAgICAgdmFyIHMgPSBkZWxheSA/IDAgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuXHQgICAgICAgIHZhciBzcyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IHM7XG5cdCAgICAgICAgdmFyIHN0ID0gcHJvZ3Jlc3NUaW1lIC8gKGR1cmF0aW9uICsgZnJvbURlbGF5KSA+IDEgPyAxIDogc3M7XG5cdCAgICAgICAgX3RoaXM2LnNldFJhdGlvKHN0LCBpdGVtLCBpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIGUgPSB7XG5cdCAgICAgIGluZGV4OiBpLFxuXHQgICAgICB0YXJnZXQ6IF90aGlzNi50YXJnZXRcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gb25SZXBlYXQg5aSE55CGXG5cdCAgICBpZiAoaXRlbS5yZXBlYXQgJiYgcmVwZWF0TnVtID4gMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgLy8g6YeN5paw5byA5aeLLCDlnKjnrKzkuIDnp5Lop6blj5Hml7bosIPnlKg7XG5cdCAgICAgIGl0ZW0ub25SZXBlYXQoZSk7XG5cdCAgICB9XG5cdCAgICBpZiAocHJvZ3Jlc3NUaW1lIDwgMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lKSB7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDEgOiAwLCBpdGVtLCBpKTtcblx0ICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IGR1cmF0aW9uICYmIGl0ZW0ubW9kZSAhPT0gJ29uQ29tcGxldGUnKSB7XG5cdCAgICAgIHZhciBjb21wUmF0aW8gPSBkdXJhdGlvbiA/IGl0ZW0uZWFzZShkdXJhdGlvbiwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbikgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuXHQgICAgICBfdGhpczYuc2V0UmF0aW8oY29tcFJhdGlvLCBpdGVtLCBpKTtcblx0ICAgICAgaWYgKGl0ZW0ubW9kZSAhPT0gJ3Jlc2V0Jykge1xuXHQgICAgICAgIGl0ZW0ub25Db21wbGV0ZShlKTtcblx0ICAgICAgfVxuXHQgICAgICBpdGVtLm1vZGUgPSAnb25Db21wbGV0ZSc7XG5cdCAgICB9IGVsc2UgaWYgKHByb2dyZXNzVGltZSA+PSAwICYmIHByb2dyZXNzVGltZSA8IGR1cmF0aW9uKSB7XG5cdCAgICAgIGl0ZW0ubW9kZSA9IHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSAmJiAhX3RoaXM2Lm9uU3RhcnRbaV0gPyAnb25TdGFydCcgOiAnb25VcGRhdGUnO1xuXHQgICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZTtcblx0ICAgICAgcHJvZ3Jlc3NUaW1lID0gcHJvZ3Jlc3NUaW1lID4gZHVyYXRpb24gPyBkdXJhdGlvbiA6IHByb2dyZXNzVGltZTtcblx0ICAgICAgdmFyIHJhdGlvID0gaXRlbS5lYXNlKHByb2dyZXNzVGltZSwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbik7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhyYXRpbywgaXRlbSwgaSk7XG5cdCAgICAgIF90aGlzNi5vblN0YXJ0W2ldID0gdHJ1ZTtcblx0ICAgICAgaWYgKHByb2dyZXNzVGltZSA8PSBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgICBpdGVtLm9uU3RhcnQoZSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaXRlbS5vblVwZGF0ZShfZXh0ZW5kcyh7IHJhdGlvOiByYXRpbyB9LCBlKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24gKyBfdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgX3RoaXM2Lm9uQ2hhbmdlKF9leHRlbmRzKHtcblx0ICAgICAgICBtb21lbnQ6IF90aGlzNi5wcm9ncmVzc1RpbWUsXG5cdCAgICAgICAgbW9kZTogaXRlbS5tb2RlXG5cdCAgICAgIH0sIGUpKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0Ly8g5pKt5pS+5binXG5cdHAuZnJhbWUgPSBmdW5jdGlvbiAobW9tZW50KSB7XG5cdCAgdGhpcy5wcm9ncmVzc1RpbWUgPSBtb21lbnQ7XG5cdCAgdGhpcy5yZW5kZXIoKTtcblx0fTtcblx0cC5yZXNldEFuaW1EYXRhID0gZnVuY3Rpb24gKCkge1xuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICB0aGlzLnN0YXJ0ID0ge307XG5cdCAgdGhpcy5vblN0YXJ0ID0ge307XG5cdH07XG5cdFxuXHRwLnJlc2V0RGVmYXVsdFN0eWxlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICB0aGlzLnR3ZWVuID0ge307XG5cdCAgdGhpcy5kZWZhdWx0RGF0YSA9IHRoaXMuZGVmYXVsdERhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICBpdGVtLm1vZGUgPSAncmVzZXQnO1xuXHQgICAgcmV0dXJuIGl0ZW07XG5cdCAgfSk7XG5cdCAgT2JqZWN0LmtleXModGhpcy5zdGFydERlZmF1bHREYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmICghKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpKSB7XG5cdCAgICAgIF90aGlzNy50YXJnZXQuc2V0QXR0cmlidXRlKGtleSwgX3RoaXM3LnN0YXJ0RGVmYXVsdERhdGFba2V5XSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdFxuXHRwLm9uQ2hhbmdlID0gbm9vcDtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aW1lTGluZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1R3ZWVuT25lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7XG5cdFxuXHR2YXIgX1R3ZWVuT25lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R3ZWVuT25lKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIFR3ZWVuT25lR3JvdXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUd2Vlbk9uZUdyb3VwLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVHdlZW5PbmVHcm91cCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZUdyb3VwKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHRcblx0ICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cdFxuXHQgICAgX3RoaXMua2V5c1RvRW50ZXIgPSBbXTtcblx0ICAgIF90aGlzLmtleXNUb0xlYXZlID0gW107XG5cdCAgICBfdGhpcy5vbkVudGVyQm9vbCA9IGZhbHNlO1xuXHQgICAgX3RoaXMuaXNUd2VlbiA9IHt9O1xuXHQgICAgLy8g56ys5LiA6L+b5YWl77yMYXBwZWFyIOS4uiB0cnVlIOaXtum7mOiupOeUqCBlbnRlciDmiJYgdHdlZW4tb25lIOS4iueahOaViOaenFxuXHQgICAgdmFyIGNoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikoKDAsIF91dGlsLmdldENoaWxkcmVuRnJvbVByb3BzKShfdGhpcy5wcm9wcykpO1xuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB0aGlzLm9uRW50ZXJCb29sID0gdHJ1ZTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBuZXh0Q2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgdmFyIGN1cnJlbnRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuXHQgICAgdmFyIG5ld0NoaWxkcmVuID0gKDAsIF91dGlsLm1lcmdlQ2hpbGRyZW4pKGN1cnJlbnRDaGlsZHJlbiwgbmV4dENoaWxkcmVuKTtcblx0XG5cdCAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG5cdCAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG5cdCAgICBuZXh0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgICBpZiAoIWMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGtleSA9IGMua2V5O1xuXHQgICAgICB2YXIgaGFzUHJldiA9ICgwLCBfdXRpbC5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkpKGN1cnJlbnRDaGlsZHJlbiwga2V5KTtcblx0ICAgICAgaWYgKCFoYXNQcmV2ICYmIGtleSkge1xuXHQgICAgICAgIF90aGlzMi5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHRcblx0ICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmICghYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gYy5rZXk7XG5cdCAgICAgIHZhciBoYXNOZXh0ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkobmV4dENoaWxkcmVuLCBrZXkpO1xuXHQgICAgICBpZiAoIWhhc05leHQgJiYga2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLmtleXNUb0xlYXZlLnB1c2goa2V5KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgY2hpbGRyZW46IG5ld0NoaWxkcmVuXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlcih0aGlzLnN0YXRlLmNoaWxkcmVuKTtcblx0ICAgIGlmICghdGhpcy5wcm9wcy5jb21wb25lbnQpIHtcblx0ICAgICAgcmV0dXJuIGNoaWxkcmVuVG9SZW5kZXJbMF0gfHwgbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBjb21wb25lbnRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIFsnY29tcG9uZW50JywgJ2FwcGVhcicsICdlbnRlcicsICdsZWF2ZScsICdhbmltYXRpbmdDbGFzc05hbWUnLCAnb25FbmQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gZGVsZXRlIGNvbXBvbmVudFByb3BzW2tleV07XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKHRoaXMucHJvcHMuY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFR3ZWVuT25lR3JvdXA7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG5cdCAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoYW5pbWF0aW9uLCBrZXksIHR5cGUsIG9iaikge1xuXHQgICAgdmFyIGxlbmd0aCA9ICgwLCBfdXRpbC5kYXRhVG9BcnJheSkoYW5pbWF0aW9uKS5sZW5ndGg7XG5cdCAgICB2YXIgYW5pbWF0aW5nQ2xhc3NOYW1lID0gX3RoaXMzLnByb3BzLmFuaW1hdGluZ0NsYXNzTmFtZTtcblx0ICAgIHZhciB0YWcgPSBvYmoudGFyZ2V0O1xuXHQgICAgdmFyIGlzRW50ZXIgPSB0eXBlID09PSAnZW50ZXInIHx8IHR5cGUgPT09ICdhcHBlYXInO1xuXHQgICAgaWYgKG9iai5tb2RlID09PSAnb25TdGFydCcpIHtcblx0ICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDEgOiAwXSwgJycpLnRyaW0oKTtcblx0ICAgICAgaWYgKHRhZy5jbGFzc05hbWUuaW5kZXhPZihhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkgPT09IC0xKSB7XG5cdCAgICAgICAgdGFnLmNsYXNzTmFtZSA9ICh0YWcuY2xhc3NOYW1lICsgJyAnICsgYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0pLnRyaW0oKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChvYmouaW5kZXggPT09IGxlbmd0aCAtIDEgJiYgb2JqLm1vZGUgPT09ICdvbkNvbXBsZXRlJykge1xuXHQgICAgICB2YXIgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW47XG5cdCAgICAgIGlmICh0eXBlID09PSAnZW50ZXInKSB7XG5cdCAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnNwbGljZShfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpLCAxKTtcblx0ICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbGVhdmUnKSB7XG5cdCAgICAgICAgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICAgICAgcmV0dXJuIGtleSAhPT0gY2hpbGQua2V5O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5zcGxpY2UoX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSwgMSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSwgJycpLnRyaW0oKTtcblx0ICAgICAgZGVsZXRlIF90aGlzMy5pc1R3ZWVuW2tleV07XG5cdCAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgX29iaiA9IHsga2V5OiBrZXksIHR5cGU6IHR5cGUgfTtcblx0ICAgICAgX3RoaXMzLnByb3BzLm9uRW5kKF9vYmopO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHRoaXMuZ2V0Q292ZXJBbmltYXRpb24gPSBmdW5jdGlvbiAoY2hpbGQsIGksIHR5cGUpIHtcblx0ICAgIHZhciBhbmltYXRpb24gPSB2b2lkIDA7XG5cdCAgICB2YXIgb25DaGFuZ2UgPSB2b2lkIDA7XG5cdCAgICBhbmltYXRpb24gPSB0eXBlID09PSAnbGVhdmUnID8gX3RoaXMzLnByb3BzLmxlYXZlIDogX3RoaXMzLnByb3BzLmVudGVyO1xuXHQgICAgaWYgKHR5cGUgPT09ICdhcHBlYXInKSB7XG5cdCAgICAgIHZhciBhcHBlYXIgPSAoMCwgX3V0aWwudHJhbnNmb3JtQXJndW1lbnRzKShfdGhpczMucHJvcHMuYXBwZWFyLCBjaGlsZC5rZXksIGkpO1xuXHQgICAgICBhbmltYXRpb24gPSBhcHBlYXIgJiYgX3RoaXMzLnByb3BzLmVudGVyIHx8IG51bGw7XG5cdCAgICB9XG5cdCAgICBvbkNoYW5nZSA9IF90aGlzMy5vbkNoYW5nZS5iaW5kKF90aGlzMywgYW5pbWF0aW9uLCBjaGlsZC5rZXksIHR5cGUpO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVHdlZW5PbmUyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7XG5cdCAgICAgIHdpbGxDaGFuZ2U6IF90aGlzMy5wcm9wcy53aWxsQ2hhbmdlLFxuXHQgICAgICBrZXk6IGNoaWxkLmtleSxcblx0ICAgICAgY29tcG9uZW50OiBjaGlsZC50eXBlLFxuXHQgICAgICBhbmltYXRpb246ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKGFuaW1hdGlvbiwgY2hpbGQua2V5LCBpKSxcblx0ICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuXHQgICAgICByZXNldFN0eWxlQm9vbDogX3RoaXMzLnByb3BzLnJlc2V0U3R5bGVCb29sXG5cdCAgICB9KSk7XG5cdCAgICBpZiAoX3RoaXMzLmtleXNUb0VudGVyLmNvbmNhdChfdGhpczMua2V5c1RvTGVhdmUpLmluZGV4T2YoY2hpbGQua2V5KSA+PSAwIHx8ICFfdGhpczMub25FbnRlckJvb2wgJiYgYW5pbWF0aW9uKSB7XG5cdCAgICAgIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gPSB0eXBlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGNoaWxkcmVuO1xuXHQgIH07XG5cdFxuXHQgIHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlciA9IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuXHQgICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcblx0ICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQua2V5KSB7XG5cdCAgICAgICAgcmV0dXJuIGNoaWxkO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG5cdCAgICAgIGlmIChfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID49IDApIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnbGVhdmUnKTtcblx0ICAgICAgfSBlbHNlIGlmIChfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpID49IDAgfHwgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID09PSAtMSkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdlbnRlcicpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFfdGhpczMub25FbnRlckJvb2wpIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnYXBwZWFyJyk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldKSB8fCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHsgY29tcG9uZW50OiBjaGlsZC50eXBlLCBrZXk6IGNoaWxkLmtleSB9KSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIG9iamVjdE9yQXJyYXkgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKTtcblx0dmFyIG9iamVjdE9yQXJyYXlPckZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbb2JqZWN0T3JBcnJheSwgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSk7XG5cdFxuXHRUd2Vlbk9uZUdyb3VwLnByb3BUeXBlcyA9IHtcblx0ICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgYXBwZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZW50ZXI6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG5cdCAgbGVhdmU6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG5cdCAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIG9uRW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdFR3ZWVuT25lR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuXHQgIGNvbXBvbmVudDogJ2RpdicsXG5cdCAgYXBwZWFyOiB0cnVlLFxuXHQgIGFuaW1hdGluZ0NsYXNzTmFtZTogWyd0d2Vlbi1vbmUtZW50ZXJpbmcnLCAndHdlZW4tb25lLWxlYXZpbmcnXSxcblx0ICBlbnRlcjogeyB4OiA1MCwgb3BhY2l0eTogMCwgdHlwZTogJ2Zyb20nIH0sXG5cdCAgbGVhdmU6IHsgeDogLTUwLCBvcGFjaXR5OiAwIH0sXG5cdCAgb25FbmQ6IG5vb3AsXG5cdCAgd2lsbENoYW5nZTogdHJ1ZSxcblx0ICByZXNldFN0eWxlQm9vbDogdHJ1ZVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lR3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0VHdlZW5PbmUuVHdlZW5PbmVHcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oMTY0KTtcblx0VHdlZW5PbmUuZWFzaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdG1vZHVsZS5leHBvcnRzID0gVHdlZW5PbmU7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcywgbm8tY29uc29sZSAqL1xuXHRcblx0XG5cdHZhciBfc3R5bGVVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N0eWxlVXRpbHMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHR2YXIgX3BsdWdpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFN0eWxlUGx1Z2luID0gZnVuY3Rpb24gU3R5bGVQbHVnaW4odGFyZ2V0LCB2YXJzLCB0eXBlKSB7XG5cdCAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdCAgdGhpcy52YXJzID0gdmFycztcblx0ICB0aGlzLnR5cGUgPSB0eXBlO1xuXHQgIHRoaXMucHJvcHNEYXRhID0ge307XG5cdCAgdGhpcy5zZXREZWZhdWx0RGF0YSgpO1xuXHR9O1xuXHR2YXIgcCA9IFN0eWxlUGx1Z2luLnByb3RvdHlwZSA9IHtcblx0ICBuYW1lOiAnc3R5bGUnXG5cdH07XG5cdHAuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcgPyBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFyZ2V0KSA6IHt9O1xuXHR9O1xuXHRwLmdldFR3ZWVuRGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhcnMpIHtcblx0ICB2YXIgZGF0YSA9IHtcblx0ICAgIGRhdGE6IHt9LFxuXHQgICAgZGF0YVR5cGU6IHt9LFxuXHQgICAgZGF0YVVuaXQ6IHt9LFxuXHQgICAgZGF0YUNvdW50OiB7fSxcblx0ICAgIGRhdGFTcGxpdFN0cjoge31cblx0ICB9O1xuXHQgIGlmIChrZXkubWF0Y2goL2NvbG98ZmlsbHxzdG9ya2VyL2kpKSB7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKSh2YXJzKTtcblx0ICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdjb2xvcic7XG5cdCAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHZhcnMpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3NoYWRvdyc7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgdmFycyA9PT0gJ3N0cmluZycgJiYgdmFycy5zcGxpdCgvW1xcc3wsXS8pLmxlbmd0aCA+IDEpIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gdmFycy5zcGxpdCgvW1xcc3wsXS8pO1xuXHQgICAgZGF0YS5kYXRhU3BsaXRTdHJba2V5XSA9IHZhcnMucmVwbGFjZSgvW15cXHN8LF0vZywgJycpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3N0cmluZyc7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gdmFycztcblx0ICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdvdGhlcic7XG5cdCAgfVxuXHQgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZGF0YVtrZXldKSkge1xuXHQgICAgZGF0YS5kYXRhVW5pdFtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuXHQgICAgICByZXR1cm4gX2l0ZW0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICB9KTtcblx0ICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuXHQgICAgICByZXR1cm4gIXBhcnNlRmxvYXQoX2l0ZW0pICYmIHBhcnNlRmxvYXQoX2l0ZW0pICE9PSAwID8gX2l0ZW0gOiBwYXJzZUZsb2F0KF9pdGVtKTtcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgIGRhdGEuZGF0YUNvdW50W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcblx0ICAgIHZhciBkID0gcGFyc2VGbG9hdChkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1thLXp8JXw9XS9nLCAnJykpO1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSAhZCAmJiBkICE9PSAwID8gZGF0YS5kYXRhW2tleV0gOiBkO1xuXHQgIH1cblx0ICByZXR1cm4gZGF0YTtcblx0fTtcblx0cC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGUgPSB7fTtcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhVW5pdCA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFDb3VudCA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0ciA9IHt9O1xuXHQgIE9iamVjdC5rZXlzKHRoaXMudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzLnRhcmdldCwgX3RoaXMudmFyc1tfa2V5XSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBrZXkgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0R3NhcFR5cGUpKF9rZXkpO1xuXHQgICAgdmFyIF9kYXRhID0gX3RoaXMuZ2V0VHdlZW5EYXRhKGtleSwgX3RoaXMudmFyc1tfa2V5XSk7XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtrZXldID0gX2RhdGEuZGF0YVtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV0gPSBfZGF0YS5kYXRhVHlwZVtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFVbml0W2tleV0gPSBfZGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFDb3VudFtrZXldID0gX2RhdGEuZGF0YUNvdW50W2tleV07XG5cdCAgICBpZiAoX2RhdGEuZGF0YVNwbGl0U3RyW2tleV0pIHtcblx0ICAgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0cltrZXldID0gX2RhdGEuZGF0YVNwbGl0U3RyW2tleV07XG5cdCAgICB9XG5cdCAgfSk7XG5cdH07XG5cdHAuY29udmVydFRvTWFya3NBcnJheSA9IGZ1bmN0aW9uICh1bml0LCBrZXksIGRhdGEsIGkpIHtcblx0ICB2YXIgc3RhcnRVbml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICB2YXIgZW5kVW5pdCA9IHVuaXRbaV07XG5cdCAgaWYgKHN0YXJ0VW5pdCA9PT0gZW5kVW5pdCkge1xuXHQgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSk7XG5cdCAgfSBlbHNlIGlmICghcGFyc2VGbG9hdChkYXRhKSAmJiBwYXJzZUZsb2F0KGRhdGEpICE9PSAwKSB7XG5cdCAgICByZXR1cm4gZGF0YTtcblx0ICB9XG5cdCAgcmV0dXJuICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKHRoaXMudGFyZ2V0LCBrZXksIGRhdGEsIHN0YXJ0VW5pdCwgZW5kVW5pdCwgbnVsbCwga2V5ID09PSAndHJhbnNmb3JtT3JpZ2luJyAmJiAhaSk7XG5cdH07XG5cdHAuZ2V0QW5pbVN0YXJ0ID0gZnVuY3Rpb24gKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIHZhciBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG5cdCAgdmFyIHN0eWxlID0ge307XG5cdCAgdGhpcy5zdXBwb3J0czNEID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgncGVyc3BlY3RpdmUnKTtcblx0ICB2YXIgd2lsbENoYW5nZUFycmF5ID0gdm9pZCAwO1xuXHQgIGlmICh3aWxsQ2hhbmdlQm9vbCkge1xuXHQgICAgdGhpcy53aWxsQ2hhbmdlID0gY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlID09PSAnYXV0bycgfHwgIWNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSB8fCBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdub25lJyA/ICcnIDogY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlO1xuXHQgICAgd2lsbENoYW5nZUFycmF5ID0gdGhpcy53aWxsQ2hhbmdlLnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG5cdCAgICAgIHJldHVybiBrO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIE9iamVjdC5rZXlzKHRoaXMucHJvcHNEYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgdmFyIGNzc05hbWUgPSAoMCwgX3N0eWxlVXRpbHMuaXNDb252ZXJ0KShrZXkpO1xuXHQgICAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgICAgIHZhciB3aWxsU3R5bGUgPSBrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSA/IF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldLnVzZVN0eWxlIHx8IGNzc05hbWUgOiBjc3NOYW1lO1xuXHQgICAgICB3aWxsU3R5bGUgPSB3aWxsU3R5bGUgPT09ICd0cmFuc2Zvcm1PcmlnaW4nID8gJ3RyYW5zZm9ybS1vcmlnaW4nIDogd2lsbFN0eWxlO1xuXHQgICAgICBpZiAod2lsbENoYW5nZUFycmF5LmluZGV4T2Yod2lsbFN0eWxlKSA9PT0gLTEgJiYgKHdpbGxTdHlsZSBpbiBjb21wdXRlZFN0eWxlIHx8IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSkge1xuXHQgICAgICAgIHdpbGxDaGFuZ2VBcnJheS5wdXNoKHdpbGxTdHlsZSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMyLndpbGxDaGFuZ2UgPSB3aWxsQ2hhbmdlQXJyYXkuam9pbignLCcpO1xuXHQgICAgfVxuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbY3NzTmFtZV07XG5cdCAgICB2YXIgZml4ZWQgPSBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuXHQgICAgaWYgKCFzdGFydERhdGEgfHwgc3RhcnREYXRhID09PSAnbm9uZScgfHwgc3RhcnREYXRhID09PSAnYXV0bycpIHtcblx0ICAgICAgc3RhcnREYXRhID0gJyc7XG5cdCAgICB9XG5cdCAgICB2YXIgdHJhbnNmb3JtID0gdm9pZCAwO1xuXHQgICAgdmFyIGVuZFVuaXQgPSB2b2lkIDA7XG5cdCAgICB2YXIgc3RhcnRVbml0ID0gdm9pZCAwO1xuXHQgICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG5cdCAgICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuXHQgICAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLnRyYW5zZm9ybV07XG5cdCAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0uZ2V0QW5pbVN0YXJ0KCk7XG5cdCAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG5cdCAgICAgIF90aGlzMi50cmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCd0cmFuc2Zvcm0nKTtcblx0ICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG5cdCAgICAgIGlmIChlbmRVbml0ICYmIGVuZFVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG5cdCAgICAgICAgdmFyIHBlcmNlbnQgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuXHQgICAgICAgIHRyYW5zZm9ybVtwZXJjZW50XSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGtleSwgdHJhbnNmb3JtW2tleV0sIG51bGwsIGVuZFVuaXQpO1xuXHQgICAgICAgIHRyYW5zZm9ybVtrZXldID0gMDtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cdCAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICdmaWx0ZXInKSB7XG5cdCAgICAgIF90aGlzMi5maWx0ZXJOYW1lID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgnZmlsdGVyJykgfHwgJ2ZpbHRlcic7XG5cdCAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLmZpbHRlck5hbWVdO1xuXHQgICAgICBfdGhpczIuZmlsdGVyT2JqZWN0ID0gX2V4dGVuZHMoe30sIF90aGlzMi5maWx0ZXJPYmplY3QsICgwLCBfc3R5bGVVdGlscy5zcGxpdEZpbHRlclRvT2JqZWN0KShzdGFydERhdGEpKTtcblx0ICAgICAgc3RhcnREYXRhID0gX3RoaXMyLmZpbHRlck9iamVjdFtrZXldIHx8IDA7XG5cdCAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgaWYgKGVuZFVuaXQgIT09IHN0YXJ0VW5pdCkge1xuXHQgICAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGNzc05hbWUsIHBhcnNlRmxvYXQoc3RhcnREYXRhKSwgc3RhcnRVbml0LCBlbmRVbml0LCBmaXhlZCk7XG5cdCAgICAgIH1cblx0ICAgICAgc3R5bGVba2V5XSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhKTtcblx0ICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9jb2xvcnxmaWxsL2kpIHx8IGtleSA9PT0gJ3N0cm9rZScpIHtcblx0ICAgICAgc3RhcnREYXRhID0gIXN0YXJ0RGF0YSAmJiBrZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogc3RhcnREYXRhO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShzdGFydERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuXHQgICAgICBzdGFydERhdGEgPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHN0YXJ0RGF0YSk7XG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcblx0ICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XSkpIHtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLnNwbGl0KC9bXFxzfCxdLyk7XG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIOiuoeeul+WNleS9jVxuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtjc3NOYW1lXTtcblx0ICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG5cdCAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtjc3NOYW1lXSA9IHBhcnNlRmxvYXQoc3RhcnREYXRhIHx8IDApO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHRoaXMuc3RhcnQgPSBzdHlsZTtcblx0ICByZXR1cm4gc3R5bGU7XG5cdH07XG5cdHAuc2V0QXJyYXlSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgc3RhcnQsIHZhcnMsIHVuaXQsIHR5cGUpIHtcblx0ICBpZiAodHlwZSA9PT0gJ2NvbG9yJyAmJiBzdGFydC5sZW5ndGggPT09IDQgJiYgdmFycy5sZW5ndGggPT09IDMpIHtcblx0ICAgIHZhcnNbM10gPSAxO1xuXHQgIH1cblx0ICB2YXIgc3RhcnRJbnNldCA9IHN0YXJ0LmluZGV4T2YoJ2luc2V0JykgPj0gMDtcblx0ICB2YXIgZW5kSW5zZXQgPSB2YXJzLmluZGV4T2YoJ2luc2V0JykgPj0gMDtcblx0ICBpZiAoc3RhcnRJbnNldCAmJiAhZW5kSW5zZXQgfHwgZW5kSW5zZXQgJiYgIXN0YXJ0SW5zZXQpIHtcblx0ICAgIHRocm93IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBcImJveC1zaGFkb3dcIiBpbnNldCBoYXZlIHRvIGV4aXN0Jyk7XG5cdCAgfVxuXHQgIHZhciBsZW5ndGggPSBlbmRJbnNldCA/IDkgOiA4O1xuXHQgIGlmIChzdGFydC5sZW5ndGggPT09IGxlbmd0aCAmJiB2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuXHQgICAgdmFycy5zcGxpY2UoMywgMCwgMCk7XG5cdCAgICB1bml0LnNwbGljZSgzLCAwLCAnJyk7XG5cdCAgfSBlbHNlIGlmICh2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoICYmIHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuXHQgICAgc3RhcnQuc3BsaWNlKDMsIDAsIDApO1xuXHQgIH1cblx0ICB2YXIgX3ZhcnMgPSB2YXJzLm1hcChmdW5jdGlvbiAoZW5kRGF0YSwgaSkge1xuXHQgICAgdmFyIHN0YXJ0SXNBbHBoYSA9IHR5cGUgPT09ICdjb2xvcicgJiYgaSA9PT0gMyAmJiAhc3RhcnRbaV0gPyAxIDogMDtcblx0ICAgIHZhciBzdGFydERhdGEgPSB0eXBlb2Ygc3RhcnRbaV0gPT09ICdudW1iZXInID8gc3RhcnRbaV0gOiBzdGFydElzQWxwaGE7XG5cdCAgICBpZiAodHlwZW9mIGVuZERhdGEgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIHJldHVybiBlbmREYXRhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIChlbmREYXRhIC0gc3RhcnREYXRhKSAqIHJhdGlvICsgc3RhcnREYXRhICsgKHVuaXRbaV0gfHwgMCk7XG5cdCAgfSk7XG5cdCAgaWYgKHR5cGUgPT09ICdjb2xvcicpIHtcblx0ICAgIHJldHVybiAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKF92YXJzKTtcblx0ICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaGFkb3cnKSB7XG5cdCAgICB2YXIgbCA9IF92YXJzLmxlbmd0aCA9PT0gbGVuZ3RoID8gNCA6IDM7XG5cdCAgICB2YXIgcyA9IF92YXJzLnNsaWNlKDAsIGwpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW0gKyAncHgnO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBpdGVtO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgYyA9IF92YXJzLnNsaWNlKGwsIGVuZEluc2V0ID8gX3ZhcnMubGVuZ3RoIC0gMSA6IF92YXJzLmxlbmd0aCk7XG5cdCAgICB2YXIgY29sb3IgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGMpO1xuXHQgICAgcmV0dXJuIChzLmpvaW4oJyAnKSArICcgJyArIGNvbG9yICsgJyAnICsgKGVuZEluc2V0ID8gJ2luc2V0JyA6ICcnKSkudHJpbSgpO1xuXHQgIH1cblx0ICByZXR1cm4gX3ZhcnM7XG5cdH07XG5cdFxuXHRwLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCB0d2Vlbikge1xuXHQgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICB0d2Vlbi5zdHlsZSA9IHR3ZWVuLnN0eWxlIHx8IHt9O1xuXHQgIGlmICh0aGlzLnN0YXJ0LnRyYW5zZm9ybSkge1xuXHQgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtID0gdHdlZW4uc3R5bGUudHJhbnNmb3JtIHx8IF9leHRlbmRzKHt9LCB0aGlzLnN0YXJ0LnRyYW5zZm9ybSk7XG5cdCAgfVxuXHQgIHZhciBzdHlsZSA9IHRoaXMudGFyZ2V0LnN0eWxlO1xuXHQgIGlmICh0aGlzLndpbGxDaGFuZ2UpIHtcblx0ICAgIGlmIChyYXRpbyA9PT0gKHRoaXMudHlwZSA9PT0gJ2Zyb20nID8gMCA6IDEpKSB7XG5cdCAgICAgIHN0eWxlLndpbGxDaGFuZ2UgPSBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgc3R5bGUud2lsbENoYW5nZSA9IHRoaXMud2lsbENoYW5nZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgX2lzVHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmlzVHJhbnNmb3JtKShrZXkpID09PSAndHJhbnNmb3JtJztcblx0ICAgIHZhciBzdGFydFZhcnMgPSBfaXNUcmFuc2Zvcm0gPyBfdGhpczMuc3RhcnQudHJhbnNmb3JtW2tleV0gOiBfdGhpczMuc3RhcnRba2V5XTtcblx0ICAgIHZhciBlbmRWYXJzID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV07XG5cdCAgICB2YXIgdW5pdCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgIHZhciBjb3VudCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV07XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcblx0ICAgICAgX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV0uc2V0UmF0aW8ocmF0aW8sIHR3ZWVuKTtcblx0ICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcblx0ICAgICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgT2JqZWN0LmtleXModHdlZW4uc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGNzcykge1xuXHQgICAgICAgICAgcmV0dXJuIHN0eWxlW2Nzc10gPSB0d2Vlbi5zdHlsZVtjc3NdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0gZWxzZSBpZiAoX2lzVHJhbnNmb3JtKSB7XG5cdCAgICAgIGlmICh1bml0ICYmIHVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG5cdCAgICAgICAgdmFyIHBOYW1lID0ga2V5ID09PSAndHJhbnNsYXRlWCcgPyAneFBlcmNlbnQnIDogJ3lQZXJjZW50Jztcblx0ICAgICAgICBzdGFydFZhcnMgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtW3BOYW1lXTtcblx0ICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzY2FsZScpIHtcblx0ICAgICAgICB2YXIgeFN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVg7XG5cdCAgICAgICAgdmFyIHlTdGFydCA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm0uc2NhbGVZO1xuXHQgICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IHhTdGFydCArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSB5U3RhcnQgKyBlbmRWYXJzICogcmF0aW87XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVggPSAoZW5kVmFycyAtIHhTdGFydCkgKiByYXRpbyArIHhTdGFydDtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSAoZW5kVmFycyAtIHlTdGFydCkgKiByYXRpbyArIHlTdGFydDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW87XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycztcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShlbmRWYXJzKSkge1xuXHQgICAgICB2YXIgX3R5cGUgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV07XG5cdCAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBfdGhpczMuc2V0QXJyYXlSYXRpbyhyYXRpbywgc3RhcnRWYXJzLCBlbmRWYXJzLCB1bml0LCBfdHlwZSk7XG5cdCAgICAgIGlmIChfdHlwZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XS5qb2luKF90aGlzMy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0pO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc3R5bGVVbml0ID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIDApO1xuXHQgICAgICBzdHlsZVVuaXQgPSB0eXBlb2Ygc3R5bGVVbml0ID09PSAnbnVtYmVyJyA/ICcnIDogc3R5bGVVbml0LnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgdW5pdCA9IHVuaXQgfHwgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwID8gJycgOiBzdHlsZVVuaXQpO1xuXHQgICAgICBpZiAodHlwZW9mIGVuZFZhcnMgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IGVuZFZhcnM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvICsgdW5pdDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgdW5pdDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIGlmIChfc3R5bGVVdGlsczJbXCJkZWZhdWx0XCJdLmZpbHRlci5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICBpZiAoIV90aGlzMy5maWx0ZXJPYmplY3QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMzLmZpbHRlck9iamVjdFtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcblx0ICAgICAgdmFyIGZpbHRlclN0eWxlID0gJyc7XG5cdCAgICAgIE9iamVjdC5rZXlzKF90aGlzMy5maWx0ZXJPYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGZpbHRlcktleSkge1xuXHQgICAgICAgIGZpbHRlclN0eWxlICs9ICcgJyArIGZpbHRlcktleSArICcoJyArIF90aGlzMy5maWx0ZXJPYmplY3RbZmlsdGVyS2V5XSArICcpJztcblx0ICAgICAgfSk7XG5cdCAgICAgIHN0eWxlW190aGlzMy5maWx0ZXJOYW1lXSA9IGZpbHRlclN0eWxlLnRyaW0oKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgc3R5bGVba2V5XSA9IHR3ZWVuLnN0eWxlW2tleV07XG5cdCAgfSk7XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU3R5bGVQbHVnaW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmFmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7XG5cdFxuXHR2YXIgX3JhZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgVGlja2VyID0gZnVuY3Rpb24gVGlja2VyKCkge307IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cblx0XG5cdFxuXHR2YXIgcCA9IFRpY2tlci5wcm90b3R5cGUgPSB7XG5cdCAgdGlja0ZuT2JqZWN0OiB7fSxcblx0ICBpZDogLTEsXG5cdCAgdHdlZW5JZDogMCxcblx0ICBmcmFtZTogMCxcblx0ICBwZXJGcmFtZTogTWF0aC5yb3VuZCgxMDAwIC8gNjApLFxuXHQgIGdldFRpbWU6IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICB9LFxuXHQgIGVsYXBzZWQ6IDAsXG5cdCAgbGFzdFVwZGF0ZTogMCxcblx0ICBza2lwRnJhbWVNYXg6IDE2NlxuXHR9O1xuXHRwLmFkZCA9IGZ1bmN0aW9uIChmbikge1xuXHQgIHZhciBrZXkgPSAndHdlZW5PbmUnICsgdGhpcy50d2VlbklkO1xuXHQgIHRoaXMudHdlZW5JZCsrO1xuXHQgIHRoaXMud2FrZShrZXksIGZuKTtcblx0ICByZXR1cm4ga2V5O1xuXHR9O1xuXHRwLndha2UgPSBmdW5jdGlvbiAoa2V5LCBmbikge1xuXHQgIHRoaXMudGlja0ZuT2JqZWN0W2tleV0gPSBmbjtcblx0ICBpZiAodGhpcy5pZCA9PT0gLTEpIHtcblx0ICAgIHRoaXMuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aGlzLnRpY2spO1xuXHQgIH1cblx0fTtcblx0cC5jbGVhciA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICBkZWxldGUgdGhpcy50aWNrRm5PYmplY3Rba2V5XTtcblx0fTtcblx0cC5zbGVlcCA9IGZ1bmN0aW9uICgpIHtcblx0ICBfcmFmMltcImRlZmF1bHRcIl0uY2FuY2VsKHRoaXMuaWQpO1xuXHQgIHRoaXMuaWQgPSAtMTtcblx0ICB0aGlzLmZyYW1lID0gMDtcblx0fTtcblx0dmFyIHRpY2tlciA9IG5ldyBUaWNrZXIoKTtcblx0cC50aWNrID0gZnVuY3Rpb24gKGEpIHtcblx0ICB0aWNrZXIuZWxhcHNlZCA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmdldFRpbWUoKSAtIHRpY2tlci5sYXN0VXBkYXRlIDogMDtcblx0ICB0aWNrZXIubGFzdFVwZGF0ZSA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmxhc3RVcGRhdGUgKyB0aWNrZXIuZWxhcHNlZCA6IHRpY2tlci5nZXRUaW1lKCkgKyB0aWNrZXIuZWxhcHNlZDtcblx0ICB2YXIgb2JqID0gdGlja2VyLnRpY2tGbk9iamVjdDtcblx0ICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKG9ialtrZXldKSB7XG5cdCAgICAgIG9ialtrZXldKGEpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIC8vIOWmguaenCBvYmplY3Qg6YeM5rKh5a+56LGh5LqG77yM6Ieq5Yqo5p2A5o6J77ybXG5cdCAgaWYgKCFPYmplY3Qua2V5cyhvYmopLmxlbmd0aCkge1xuXHQgICAgdGlja2VyLnNsZWVwKCk7XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIGlmICh0aWNrZXIuZWxhcHNlZCA+IHRpY2tlci5za2lwRnJhbWVNYXggfHwgIXRpY2tlci5mcmFtZSkge1xuXHQgICAgdGlja2VyLmZyYW1lKys7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHRpY2tlci5mcmFtZSArPSBNYXRoLnJvdW5kKHRpY2tlci5lbGFwc2VkIC8gdGlja2VyLnBlckZyYW1lKTtcblx0ICB9XG5cdCAgdGlja2VyLmlkID0gKDAsIF9yYWYyW1wiZGVmYXVsdFwiXSkodGlja2VyLnRpY2spO1xuXHR9O1xuXHR2YXIgdGltZW91dElkTnVtYmVyID0gMDtcblx0cC50aW1lb3V0ID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgcmV0dXJuIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgIH1cblx0ICB2YXIgdGltZW91dElEID0gJ3RpbWVvdXQnICsgRGF0ZS5ub3coKSArICctJyArIHRpbWVvdXRJZE51bWJlcjtcblx0ICB2YXIgc3RhcnRGcmFtZSA9IHRoaXMuZnJhbWU7XG5cdCAgdGhpcy53YWtlKHRpbWVvdXRJRCwgZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIG1vbWVudCA9IChfdGhpcy5mcmFtZSAtIHN0YXJ0RnJhbWUpICogX3RoaXMucGVyRnJhbWU7XG5cdCAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG5cdCAgICAgIF90aGlzLmNsZWFyKHRpbWVvdXRJRCk7XG5cdCAgICAgIGZuKCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgdGltZW91dElkTnVtYmVyKys7XG5cdCAgcmV0dXJuIHRpbWVvdXRJRDtcblx0fTtcblx0dmFyIGludGVydmFsSWROdW1iZXIgPSAwO1xuXHRwLmludGVydmFsID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIGlmICghKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0ICAgIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfVxuXHQgIHZhciBpbnRlcnZhbElEID0gJ2ludGVydmFsJyArIERhdGUubm93KCkgKyAnLScgKyBpbnRlcnZhbElkTnVtYmVyO1xuXHQgIHZhciBzdGFyRnJhbWUgPSB0aGlzLmZyYW1lO1xuXHQgIHRoaXMud2FrZShpbnRlcnZhbElELCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbW9tZW50ID0gKF90aGlzMi5mcmFtZSAtIHN0YXJGcmFtZSkgKiBfdGhpczIucGVyRnJhbWU7XG5cdCAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG5cdCAgICAgIHN0YXJGcmFtZSA9IF90aGlzMi5mcmFtZTtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpbnRlcnZhbElkTnVtYmVyKys7XG5cdCAgcmV0dXJuIGludGVydmFsSUQ7XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdGlja2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTcyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0Ly8gdDogY3VycmVudCB0aW1lLCBiOiBiZWdpbm5pbmcgdmFsdWUsIF9jOiBmaW5hbCB2YWx1ZSwgZDogdG90YWwgZHVyYXRpb25cblx0dmFyIHR3ZWVuRnVuY3Rpb25zID0ge1xuXHQgIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5RdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5TaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbkV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAodD09MCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQvZCAtIDEpKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuICh0PT1kKSA/IGIrYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQvZCkgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAodCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gYjtcblx0ICAgIH1cblx0ICAgIGlmICh0ID09PSBkKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5FbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAwLjM7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAwLjM7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYyArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgYSwgcCwgcztcblx0ICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgcCA9IDA7XG5cdCAgICBhID0gYztcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfSBlbHNlIGlmICgodCAvPSBkIC8gMikgPT09IDIpIHtcblx0ICAgICAgcmV0dXJuIGIgKyBjO1xuXHQgICAgfVxuXHQgICAgaWYgKCFwKSB7XG5cdCAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG5cdCAgICB9XG5cdCAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG5cdCAgICAgIGEgPSBjO1xuXHQgICAgICBzID0gcCAvIDQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuXHQgICAgfVxuXHQgICAgaWYgKHQgPCAxKSB7XG5cdCAgICAgIHJldHVybiAtMC41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogMC41ICsgYyArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5CYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG5cdCAgICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuXHQgICAgICBzID0gMS43MDE1ODtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmIChzID09PSB2b2lkIDApIHtcblx0ICAgICAgcyA9IDEuNzAxNTg7XG5cdCAgICB9XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCAtIHMpKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgdmFyIHY7XG5cdCAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCk7XG5cdCAgICByZXR1cm4gYyAtIHYgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQpIDwgMSAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcblx0ICAgIH0gZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG5cdCAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDEuNSAvIDIuNzUpICogdCArIDAuNzUpICsgYjtcblx0ICAgIH0gZWxzZSBpZiAodCA8IDIuNSAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi4yNSAvIDIuNzUpICogdCArIDAuOTM3NSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAwLjk4NDM3NSkgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgdjtcblx0ICAgIGlmICh0IDwgZCAvIDIpIHtcblx0ICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCk7XG5cdCAgICAgIHJldHVybiB2ICogMC41ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCk7XG5cdCAgICAgIHJldHVybiB2ICogMC41ICsgYyAqIDAuNSArIGI7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB0d2VlbkZ1bmN0aW9ucztcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxNzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7J3VzZSBzdHJpY3QnO1xuXHQvKiAhXG5cdCAqIHR5cGUtZGV0ZWN0XG5cdCAqIENvcHlyaWdodChjKSAyMDEzIGpha2UgbHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuXHQgKiBNSVQgTGljZW5zZWRcblx0ICovXG5cdHZhciBnZXRQcm90b3R5cGVPZkV4aXN0cyA9IHR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPT09ICdmdW5jdGlvbic7XG5cdHZhciBwcm9taXNlRXhpc3RzID0gdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbic7XG5cdHZhciBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogc2VsZjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHR2YXIgaXNEb20gPSAnbG9jYXRpb24nIGluIGdsb2JhbE9iamVjdCAmJiAnZG9jdW1lbnQnIGluIGdsb2JhbE9iamVjdDtcblx0dmFyIGh0bWxFbGVtZW50RXhpc3RzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcblx0dmFyIGlzQXJyYXlFeGlzdHMgPSB0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHN5bWJvbEV4aXN0cyA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgbWFwRXhpc3RzID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzZXRFeGlzdHMgPSB0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHdlYWtNYXBFeGlzdHMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciB3ZWFrU2V0RXhpc3RzID0gdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgZGF0YVZpZXdFeGlzdHMgPSB0eXBlb2YgRGF0YVZpZXcgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgc3ltYm9sSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHNldEVudHJpZXNFeGlzdHMgPSBzZXRFeGlzdHMgJiYgdHlwZW9mIFNldC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIG1hcEVudHJpZXNFeGlzdHMgPSBtYXBFeGlzdHMgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHNldEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgc2V0RW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFNldCgpLmVudHJpZXMoKSk7XG5cdHZhciBtYXBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mRXhpc3RzICYmIG1hcEVudHJpZXNFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBNYXAoKS5lbnRyaWVzKCkpO1xuXHR2YXIgYXJyYXlJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIGFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBhcnJheUl0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHR2YXIgc3RyaW5nSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xJdGVyYXRvckV4aXN0cyAmJiB0eXBlb2YgQXJyYXkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cdHZhciBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSA9IHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZignJ1tTeW1ib2wuaXRlcmF0b3JdKCkpO1xuXHR2YXIgdG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGggPSA4O1xuXHR2YXIgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoID0gLTE7XG5cdC8qKlxuXHQgKiAjIyMgdHlwZU9mIChvYmopXG5cdCAqXG5cdCAqIFVzZXMgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QsXG5cdCAqIG5vcm1hbGlzaW5nIGJlaGF2aW91ciBhY3Jvc3MgZW5naW5lIHZlcnNpb25zICYgd2VsbCBvcHRpbWlzZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IG9iamVjdCB0eXBlXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHR5cGVEZXRlY3Qob2JqKSB7XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzLDAzOSwwMzUgb3BzL3NlYyDCsTEuNjIlICg3OCBydW5zIHNhbXBsZWQpXG5cdCAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAxLDQyNCwxMzggb3BzL3NlYyDCsTQuNTQlICg3NSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAxLDY1MywxNTMgb3BzL3NlYyDCsTEuOTElICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogICB1bmRlZmluZWQgICAgICAgICAgeCA5LDk3OCw2NjAgb3BzL3NlYyDCsTEuOTIlICg3NSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAyLDU1Niw3Njkgb3BzL3NlYyDCsTEuNzMlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDM4LDU2NCw3OTYgb3BzL3NlYyDCsTEuMTUlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBib29sZWFuIGxpdGVyYWwgICAgeCAzMSwxNDgsOTQwIG9wcy9zZWMgwrExLjEwJSAoNzkgcnVucyBzYW1wbGVkKVxuXHQgICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMzIsNjc5LDMzMCBvcHMvc2VjIMKxMS45MCUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDMyLDM2MywzNjggb3BzL3NlYyDCsTEuMDclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogICBmdW5jdGlvbiAgICAgICAgICAgeCAzMSwyOTYsODcwIG9wcy9zZWMgwrEwLjk2JSAoODMgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIHZhciB0eXBlb2ZPYmogPSB0eXBlb2Ygb2JqO1xuXHQgIGlmICh0eXBlb2ZPYmogIT09ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mT2JqO1xuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBudWxsICAgICAgICAgICAgICAgeCAyOCw2NDUsNzY1IG9wcy9zZWMgwrExLjE3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAqIFBvc3Q6XG5cdCAgICogICBudWxsICAgICAgICAgICAgICAgeCAzNiw0MjgsOTYyIG9wcy9zZWMgwrExLjM3JSAoODQgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIGlmIChvYmogPT09IG51bGwpIHtcblx0ICAgIHJldHVybiAnbnVsbCc7XG5cdCAgfVxuXHRcblx0ICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdylgYFxuXHQgICAqICAtIE5vZGUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcblx0ICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcblx0ICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gUGhhbnRvbUpTID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBJRSBFZGdlID09PSBcIltvYmplY3QgV2luZG93XVwiXG5cdCAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKWBgXG5cdCAgICogIC0gQ2hyb21lIFdvcmtlciA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIEZpcmVmb3ggV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKiAgLSBTYWZhcmkgV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKiAgLSBJRSAxMSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIElFIEVkZ2UgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcblx0ICAgKi9cblx0ICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QpIHtcblx0ICAgIHJldHVybiAnZ2xvYmFsJztcblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICogUHJlOlxuXHQgICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMiw4ODgsMzUyIG9wcy9zZWMgwrEwLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAqIFBvc3Q6XG5cdCAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyMiw0NzksNjUwIG9wcy9zZWMgwrEwLjk2JSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICAqL1xuXHQgIGlmIChpc0FycmF5RXhpc3RzICYmIEFycmF5LmlzQXJyYXkob2JqKSkge1xuXHQgICAgcmV0dXJuICdBcnJheSc7XG5cdCAgfVxuXHRcblx0ICBpZiAoaXNEb20pIHtcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Jyb3dzZXJzLmh0bWwjbG9jYXRpb24pXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ3LjcuMyAtIFRoZSBgTG9jYXRpb25gIGludGVyZmFjZVxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cubG9jYXRpb24pYGBcblx0ICAgICAqICAtIElFIDw9MTEgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QubG9jYXRpb24pIHtcblx0ICAgICAgcmV0dXJuICdMb2NhdGlvbic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jZG9jdW1lbnQpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQzLjEuMSAtIFRoZSBgRG9jdW1lbnRgIG9iamVjdFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTI2ODA5MjY4KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiAgICAgICBXaGF0V0cgSFRNTCBzdGF0ZXM6XG5cdCAgICAgKiAgICAgICAgID4gRm9yIGhpc3RvcmljYWwgcmVhc29ucywgV2luZG93IG9iamVjdHMgbXVzdCBhbHNvIGhhdmUgYVxuXHQgICAgICogICAgICAgICA+IHdyaXRhYmxlLCBjb25maWd1cmFibGUsIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVkXG5cdCAgICAgKiAgICAgICAgID4gSFRNTERvY3VtZW50IHdob3NlIHZhbHVlIGlzIHRoZSBEb2N1bWVudCBpbnRlcmZhY2Ugb2JqZWN0LlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudClgYFxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgMTEgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QuZG9jdW1lbnQpIHtcblx0ICAgICAgcmV0dXJuICdEb2N1bWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI21pbWV0eXBlYXJyYXkpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ4LjYuMS41IC0gUGx1Z2lucyAtIEludGVyZmFjZSBNaW1lVHlwZUFycmF5XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5taW1lVHlwZXMpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU01pbWVUeXBlc0NvbGxlY3Rpb25dXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLm1pbWVUeXBlcykge1xuXHQgICAgICByZXR1cm4gJ01pbWVUeXBlQXJyYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIFBsdWdpbkFycmF5XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5wbHVnaW5zKWBgXG5cdCAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNQbHVnaW5zQ29sbGVjdGlvbl1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkucGx1Z2lucykge1xuXHQgICAgICByZXR1cm4gJ1BsdWdpbkFycmF5Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ0LjQuNCAtIFRoZSBgYmxvY2txdW90ZWAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFF1b3RlRWxlbWVudGBcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYmxvY2txdW90ZScpKWBgXG5cdCAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgSFRNTEJsb2NrRWxlbWVudF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdCTE9DS1FVT1RFJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxRdW90ZUVsZW1lbnQnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWRhdGFjZWxsZWxlbWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50YFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSlcblx0ICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1REJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxUYWJsZURhdGFDZWxsRWxlbWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlaGVhZGVyY2VsbGVsZW1lbnQpXG5cdCAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50YFxuXHQgICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG5cdCAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuXHQgICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuXHQgICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG5cdCAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKSlcblx0ICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1RIJykge1xuXHQgICAgICByZXR1cm4gJ0hUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Jztcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgKiBQcmU6XG5cdCAgKiAgIEZsb2F0NjRBcnJheSAgICAgICB4IDYyNSw2NDQgb3BzL3NlYyDCsTEuNTglICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDEsMjc5LDg1MiBvcHMvc2VjIMKxMi45MSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDMyQXJyYXkgICAgICAgIHggMSwxNzgsMTg1IG9wcy9zZWMgwrExLjk1JSAoODMgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MTZBcnJheSAgICAgICAgeCAxLDAwOCwzODAgb3BzL3NlYyDCsTIuMjUlICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDEsMTI4LDA0MCBvcHMvc2VjIMKxMi4xMSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50MzJBcnJheSAgICAgICAgIHggMSwxNzAsMTE5IG9wcy9zZWMgwrEyLjg4JSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQxNkFycmF5ICAgICAgICAgeCAxLDE3NiwzNDggb3BzL3NlYyDCsTUuNzklICg4NiBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDEsMDU4LDcwNyBvcHMvc2VjIMKxNC45NCUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggMSwxMTAsNjMzIG9wcy9zZWMgwrE0LjIwJSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogUG9zdDpcblx0ICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNywxMDUsNjcxIG9wcy9zZWMgwrExMy40NyUgKDY0IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggNSw4ODcsOTEyIG9wcy9zZWMgwrExLjQ2JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MzJBcnJheSAgICAgICAgeCA2LDQ5MSw2NjEgb3BzL3NlYyDCsTEuNzYlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDYsNTU5LDc5NSBvcHMvc2VjIMKxMS42NyUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhBcnJheSAgICAgICAgIHggNiw0NjMsOTY2IG9wcy9zZWMgwrExLjQzJSAoODUgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQzMkFycmF5ICAgICAgICAgeCA1LDY0MSw4NDEgb3BzL3NlYyDCsTMuNDklICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDYsNTgzLDUxMSBvcHMvc2VjIMKxMS45OCUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50OEFycmF5ICAgICAgICAgIHggNiw2MDYsMDc4IG9wcy9zZWMgwrExLjc0JSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OENsYW1wZWRBcnJheSAgeCA2LDYwMiwyMjQgb3BzL3NlYyDCsTEuNzclICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgKi9cblx0ICB2YXIgc3RyaW5nVGFnID0gKHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzICYmIG9ialtTeW1ib2wudG9TdHJpbmdUYWddKTtcblx0ICBpZiAodHlwZW9mIHN0cmluZ1RhZyA9PT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiBzdHJpbmdUYWc7XG5cdCAgfVxuXHRcblx0ICBpZiAoZ2V0UHJvdG90eXBlT2ZFeGlzdHMpIHtcblx0ICAgIHZhciBvYmpQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAxLDc3MiwzODUgb3BzL3NlYyDCsTEuODUlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMiwxNDMsNjM0IG9wcy9zZWMgwrEyLjQ2JSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDMsOTI4LDAwOSBvcHMvc2VjIMKxMC42NSUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAzLDkzMSwxMDggb3BzL3NlYyDCsTAuNTglICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gUmVnRXhwLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1JlZ0V4cCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDIsMTMwLDA3NCBvcHMvc2VjIMKxNC40MiUgKDY4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAzLDk1Myw3Nzkgb3BzL3NlYyDCsTEuMzUlICg3NyBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gRGF0ZS5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdEYXRlJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLXByb21pc2UucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjUuNC41LjQgLSBQcm9taXNlLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJQcm9taXNlXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFByb21pc2UucmVzb2x2ZSgpKWBgXG5cdCAgICAgKiAgLSBDaHJvbWUgPD00NyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICogIC0gRWRnZSA8PTIwID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKiAgLSBGaXJlZm94IDI5LUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcblx0ICAgICAqICAtIFNhZmFyaSA3LjEtTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuXHQgICAgICovXG5cdCAgICBpZiAocHJvbWlzZUV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFByb21pc2UucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnUHJvbWlzZSc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDIsMjIyLDE4NiBvcHMvc2VjIMKxMS4zMSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBzZXQgICAgICAgICAgICAgICAgeCA0LDU0NSw4Nzkgb3BzL3NlYyDCsTEuMTMlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFNldC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdTZXQnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICBtYXAgICAgICAgICAgICAgICAgeCAyLDM5Niw4NDIgb3BzL3NlYyDCsTEuNTklICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggNCwxODMsOTQ1IG9wcy9zZWMgwrE2LjU5JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmIChtYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBNYXAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnTWFwJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggMSwzMjMsMjIwIG9wcy9zZWMgwrEyLjE3JSAoNzYgcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDQsMjM3LDUxMCBvcHMvc2VjIMKxMi4wMSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAod2Vha1NldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtTZXQucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnV2Vha1NldCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDEsNTAwLDI2MCBvcHMvc2VjIMKxMi4wMiUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICB3ZWFrbWFwICAgICAgICAgICAgeCAzLDg4MSwzODQgb3BzL3NlYyDCsTEuNDUlICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKHdlYWtNYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBXZWFrTWFwLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1dlYWtNYXAnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtZGF0YXZpZXcucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjQuMi40LjIxIC0gRGF0YVZpZXcucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkRhdGFWaWV3XCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGRhdGFWaWV3RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gRGF0YVZpZXcucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnRGF0YVZpZXcnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJW1hcGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIzLjEuNS4yLjIgLSAlTWFwSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIk1hcCBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgTWFwKCkuZW50cmllcygpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IG1hcEl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnTWFwIEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzZXRpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMy4yLjUuMi4yIC0gJVNldEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTZXQgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IFNldCgpLmVudHJpZXMoKSlgYFxuXHQgICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzZXRJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1NldCBJdGVyYXRvcic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMi4xLjUuMi4yIC0gJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkFycmF5IEl0ZXJhdG9yXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSlgYFxuXHQgICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChhcnJheUl0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gYXJyYXlJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ0FycmF5IEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyMS4xLjUuMi4yIC0gJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTdHJpbmcgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJydbU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdTdHJpbmcgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCAyLDQyNCwzMjAgb3BzL3NlYyDCsTEuNjclICg3NiBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgb2JqZWN0IGZyb20gbnVsbCAgIHggNSw4MzgsMDAwIG9wcy9zZWMgwrEwLjk5JSAoODQgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmIChvYmpQcm90b3R5cGUgPT09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuICdPYmplY3QnO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE9iamVjdFxuXHQgICAgLnByb3RvdHlwZVxuXHQgICAgLnRvU3RyaW5nXG5cdCAgICAuY2FsbChvYmopXG5cdCAgICAuc2xpY2UodG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGgsIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cy50eXBlRGV0ZWN0ID0gbW9kdWxlLmV4cG9ydHM7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgKGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSgpKSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDE4ODpcbjk0LFxuXG4vKioqLyAxODk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShBY3Rpb25CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFjdGlvbkJ1dHRvbihwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQWN0aW9uQnV0dG9uKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIGFjdGlvbkZuID0gX3RoaXMkcHJvcHMuYWN0aW9uRm4sXG5cdCAgICAgICAgICAgICAgICBjbG9zZU1vZGFsID0gX3RoaXMkcHJvcHMuY2xvc2VNb2RhbDtcblx0XG5cdCAgICAgICAgICAgIGlmIChhY3Rpb25Gbikge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJldCA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgIGlmIChhY3Rpb25Gbi5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXQgPSBhY3Rpb25GbihjbG9zZU1vZGFsKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uRm4oKTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIXJldCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgaWYgKHJldCAmJiByZXQudGhlbikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICByZXQudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgdW5uZWNlc3NhcnkgdG8gc2V0IGxvYWRpbmc9ZmFsc2UsIGZvciB0aGUgTW9kYWwgd2lsbCBiZSB1bm1vdW50ZWQgYWZ0ZXIgY2xvc2UuXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvRm9jdXMpIHtcblx0ICAgICAgICAgICAgdmFyICR0aGlzID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICAgICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXMuZm9jdXMoKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBBY3Rpb25CdXR0b24ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcblx0ICAgIH07XG5cdFxuXHQgICAgQWN0aW9uQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cdFxuXHQgICAgICAgIHZhciBsb2FkaW5nID0gdGhpcy5zdGF0ZS5sb2FkaW5nO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgc2l6ZTogJ2xhcmdlJywgb25DbGljazogdGhpcy5vbkNsaWNrLCBsb2FkaW5nOiBsb2FkaW5nIH0sXG5cdCAgICAgICAgICAgIGNoaWxkcmVuXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIEFjdGlvbkJ1dHRvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBBY3Rpb25CdXR0b247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxOTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb25maXJtO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9Nb2RhbCA9IF9fd2VicGFja19yZXF1aXJlX18oODgpO1xuXHRcblx0dmFyIF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbCk7XG5cdFxuXHR2YXIgX0FjdGlvbkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTg5KTtcblx0XG5cdHZhciBfQWN0aW9uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbkJ1dHRvbik7XG5cdFxuXHR2YXIgX2xvY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTkxKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY29uZmlybShjb25maWcpIHtcblx0ICAgIHZhciBwcm9wcyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHsgaWNvblR5cGU6ICdxdWVzdGlvbi1jaXJjbGUnIH0sIGNvbmZpZyk7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzIHx8ICdhbnQtY29uZmlybSc7XG5cdCAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cdCAgICB2YXIgd2lkdGggPSBwcm9wcy53aWR0aCB8fCA0MTY7XG5cdCAgICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZSB8fCB7fTtcblx0ICAgIC8vIOm7mOiupOS4uiBmYWxzZe+8jOS/neaMgeaXp+eJiOm7mOiupOihjOS4ulxuXHQgICAgdmFyIG1hc2tDbG9zYWJsZSA9IHByb3BzLm1hc2tDbG9zYWJsZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBwcm9wcy5tYXNrQ2xvc2FibGU7XG5cdCAgICAvLyDpu5jorqTkuLogdHJ1Ze+8jOS/neaMgeWQkeS4i+WFvOWuuVxuXHQgICAgaWYgKCEoJ29rQ2FuY2VsJyBpbiBwcm9wcykpIHtcblx0ICAgICAgICBwcm9wcy5va0NhbmNlbCA9IHRydWU7XG5cdCAgICB9XG5cdCAgICB2YXIgcnVudGltZUxvY2FsZSA9ICgwLCBfbG9jYWxlLmdldENvbmZpcm1Mb2NhbGUpKCk7XG5cdCAgICBwcm9wcy5va1RleHQgPSBwcm9wcy5va1RleHQgfHwgKHByb3BzLm9rQ2FuY2VsID8gcnVudGltZUxvY2FsZS5va1RleHQgOiBydW50aW1lTG9jYWxlLmp1c3RPa1RleHQpO1xuXHQgICAgcHJvcHMuY2FuY2VsVGV4dCA9IHByb3BzLmNhbmNlbFRleHQgfHwgcnVudGltZUxvY2FsZS5jYW5jZWxUZXh0O1xuXHQgICAgZnVuY3Rpb24gY2xvc2UoKSB7XG5cdCAgICAgICAgdmFyIHVubW91bnRSZXN1bHQgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKGRpdik7XG5cdCAgICAgICAgaWYgKHVubW91bnRSZXN1bHQgJiYgZGl2LnBhcmVudE5vZGUpIHtcblx0ICAgICAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgYm9keSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogcHJvcHMuaWNvblR5cGUgfSksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScgfSxcblx0ICAgICAgICAgICAgcHJvcHMudGl0bGVcblx0ICAgICAgICApLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICBwcm9wcy5jb250ZW50XG5cdCAgICAgICAgKVxuXHQgICAgKTtcblx0ICAgIHZhciBmb290ZXIgPSBudWxsO1xuXHQgICAgaWYgKHByb3BzLm9rQ2FuY2VsKSB7XG5cdCAgICAgICAgZm9vdGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ0bnMnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfQWN0aW9uQnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IGFjdGlvbkZuOiBwcm9wcy5vbkNhbmNlbCwgY2xvc2VNb2RhbDogY2xvc2UgfSxcblx0ICAgICAgICAgICAgICAgIHByb3BzLmNhbmNlbFRleHRcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9BY3Rpb25CdXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ3ByaW1hcnknLCBhY3Rpb25GbjogcHJvcHMub25PaywgY2xvc2VNb2RhbDogY2xvc2UsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuXHQgICAgICAgICAgICAgICAgcHJvcHMub2tUZXh0XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBmb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYnRucycgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9BY3Rpb25CdXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogJ3ByaW1hcnknLCBhY3Rpb25GbjogcHJvcHMub25PaywgY2xvc2VNb2RhbDogY2xvc2UsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuXHQgICAgICAgICAgICAgICAgcHJvcHMub2tUZXh0XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfVxuXHQgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMudHlwZSwgdHJ1ZSksIHByb3BzLmNsYXNzTmFtZSk7XG5cdCAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5yZW5kZXIoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBfTW9kYWwyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIG9uQ2FuY2VsOiBjbG9zZSwgdmlzaWJsZTogdHJ1ZSwgdGl0bGU6ICcnLCB0cmFuc2l0aW9uTmFtZTogJ3pvb20nLCBmb290ZXI6ICcnLCBtYXNrVHJhbnNpdGlvbk5hbWU6ICdmYWRlJywgbWFza0Nsb3NhYmxlOiBtYXNrQ2xvc2FibGUsIHN0eWxlOiBzdHlsZSwgd2lkdGg6IHdpZHRoIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktd3JhcHBlcicgfSxcblx0ICAgICAgICAgICAgYm9keSxcblx0ICAgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgICBmb290ZXJcblx0ICAgICAgICApXG5cdCAgICApLCBkaXYpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBkZXN0cm95OiBjbG9zZVxuXHQgICAgfTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTkxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5jaGFuZ2VDb25maXJtTG9jYWxlID0gY2hhbmdlQ29uZmlybUxvY2FsZTtcblx0ZXhwb3J0cy5nZXRDb25maXJtTG9jYWxlID0gZ2V0Q29uZmlybUxvY2FsZTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBkZWZhdWx0TG9jYWxlID0ge1xuXHQgICAgb2tUZXh0OiAn56Gu5a6aJyxcblx0ICAgIGNhbmNlbFRleHQ6ICflj5bmtognLFxuXHQgICAganVzdE9rVGV4dDogJ+efpemBk+S6hidcblx0fTtcblx0dmFyIHJ1bnRpbWVMb2NhbGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdExvY2FsZSk7XG5cdGZ1bmN0aW9uIGNoYW5nZUNvbmZpcm1Mb2NhbGUobmV3TG9jYWxlKSB7XG5cdCAgICBpZiAobmV3TG9jYWxlKSB7XG5cdCAgICAgICAgcnVudGltZUxvY2FsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBydW50aW1lTG9jYWxlLCBuZXdMb2NhbGUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBydW50aW1lTG9jYWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUpO1xuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIGdldENvbmZpcm1Mb2NhbGUoKSB7XG5cdCAgICByZXR1cm4gcnVudGltZUxvY2FsZTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxOTM6XG5bMTIxNiwgMjAyXSxcblxuLyoqKi8gMjAxOlxuMTAsXG5cbi8qKiovIDIwMjpcbjEwLFxuXG4vKioqLyAyMDk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMik7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHR2YXIgX3JjQW5pbWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTYpO1xuXHRcblx0dmFyIF9yY0FuaW1hdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNBbmltYXRlKTtcblx0XG5cdHZhciBfTGF6eVJlbmRlckJveCA9IF9fd2VicGFja19yZXF1aXJlX18oMjExKTtcblx0XG5cdHZhciBfTGF6eVJlbmRlckJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MYXp5UmVuZGVyQm94KTtcblx0XG5cdHZhciBfZ2V0U2Nyb2xsQmFyU2l6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjE0KTtcblx0XG5cdHZhciBfZ2V0U2Nyb2xsQmFyU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRTY3JvbGxCYXJTaXplKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuXHQgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdCAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHQ7XG5cdH07XG5cdFxuXHR2YXIgdXVpZCA9IDA7XG5cdHZhciBvcGVuQ291bnQgPSAwO1xuXHQvKiBlc2xpbnQgcmVhY3Qvbm8taXMtbW91bnRlZDowICovXG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRmdW5jdGlvbiBnZXRTY3JvbGwodywgdG9wKSB7XG5cdCAgICB2YXIgcmV0ID0gd1sncGFnZScgKyAodG9wID8gJ1knIDogJ1gnKSArICdPZmZzZXQnXTtcblx0ICAgIHZhciBtZXRob2QgPSAnc2Nyb2xsJyArICh0b3AgPyAnVG9wJyA6ICdMZWZ0Jyk7XG5cdCAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHtcblx0ICAgICAgICB2YXIgZCA9IHcuZG9jdW1lbnQ7XG5cdCAgICAgICAgcmV0ID0gZC5kb2N1bWVudEVsZW1lbnRbbWV0aG9kXTtcblx0ICAgICAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHtcblx0ICAgICAgICAgICAgcmV0ID0gZC5ib2R5W21ldGhvZF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJldDtcblx0fVxuXHRmdW5jdGlvbiBzZXRUcmFuc2Zvcm1PcmlnaW4obm9kZSwgdmFsdWUpIHtcblx0ICAgIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG5cdCAgICBbJ1dlYmtpdCcsICdNb3onLCAnTXMnLCAnbXMnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcblx0ICAgICAgICBzdHlsZVtwcmVmaXggKyAnVHJhbnNmb3JtT3JpZ2luJ10gPSB2YWx1ZTtcblx0ICAgIH0pO1xuXHQgICAgc3R5bGVbJ3RyYW5zZm9ybU9yaWdpbiddID0gdmFsdWU7XG5cdH1cblx0ZnVuY3Rpb24gb2Zmc2V0KGVsKSB7XG5cdCAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQgICAgdmFyIHBvcyA9IHtcblx0ICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG5cdCAgICAgICAgdG9wOiByZWN0LnRvcFxuXHQgICAgfTtcblx0ICAgIHZhciBkb2MgPSBlbC5vd25lckRvY3VtZW50O1xuXHQgICAgdmFyIHcgPSBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdztcblx0ICAgIHBvcy5sZWZ0ICs9IGdldFNjcm9sbCh3KTtcblx0ICAgIHBvcy50b3AgKz0gZ2V0U2Nyb2xsKHcsIHRydWUpO1xuXHQgICAgcmV0dXJuIHBvcztcblx0fVxuXHR2YXIgRGlhbG9nID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgICAgZGlzcGxheU5hbWU6ICdEaWFsb2cnLFxuXHQgICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgYWZ0ZXJDbG9zZTogbm9vcCxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgICAgICAgICAgbWFzazogdHJ1ZSxcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG5cdCAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuXHQgICAgICAgICAgICBjbG9zYWJsZTogdHJ1ZSxcblx0ICAgICAgICAgICAgbWFza0Nsb3NhYmxlOiB0cnVlLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHM6ICdyYy1kaWFsb2cnLFxuXHQgICAgICAgICAgICBvbkNsb3NlOiBub29wXG5cdCAgICAgICAgfTtcblx0ICAgIH0sXG5cdCAgICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgICAgICB0aGlzLmluVHJhbnNpdGlvbiA9IGZhbHNlO1xuXHQgICAgICAgIHRoaXMudGl0bGVJZCA9ICdyY0RpYWxvZ1RpdGxlJyArIHV1aWQrKztcblx0ICAgIH0sXG5cdCAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUoe30pO1xuXHQgICAgfSxcblx0ICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSB0aGlzLnByb3BzLm1vdXNlUG9zaXRpb247XG5cdCAgICAgICAgaWYgKHByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgLy8gZmlyc3Qgc2hvd1xuXHQgICAgICAgICAgICBpZiAoIXByZXZQcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLm9wZW5UaW1lID0gRGF0ZS5ub3coKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHQgICAgICAgICAgICAgICAgdGhpcy5hZGRTY3JvbGxpbmdFZmZlY3QoKTtcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGlhbG9nTm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaWFsb2cpO1xuXHQgICAgICAgICAgICAgICAgaWYgKG1vdXNlUG9zaXRpb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZWxPZmZzZXQgPSBvZmZzZXQoZGlhbG9nTm9kZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luKGRpYWxvZ05vZGUsIG1vdXNlUG9zaXRpb24ueCAtIGVsT2Zmc2V0LmxlZnQgKyAncHggJyArIChtb3VzZVBvc2l0aW9uLnkgLSBlbE9mZnNldC50b3ApICsgJ3B4Jyk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybU9yaWdpbihkaWFsb2dOb2RlLCAnJyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKHByZXZQcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gdHJ1ZTtcblx0ICAgICAgICAgICAgaWYgKHByb3BzLm1hc2sgJiYgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlLmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSB8fCB0aGlzLmluVHJhbnNpdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbGluZ0VmZmVjdCgpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBvbkFuaW1hdGVMZWF2ZTogZnVuY3Rpb24gb25BbmltYXRlTGVhdmUoKSB7XG5cdCAgICAgICAgLy8gbmVlZCBkZW1vP1xuXHQgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvZGlhbG9nL3B1bGwvMjhcblx0ICAgICAgICBpZiAodGhpcy5yZWZzLndyYXApIHtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5pblRyYW5zaXRpb24gPSBmYWxzZTtcblx0ICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbGluZ0VmZmVjdCgpO1xuXHQgICAgICAgIHRoaXMucHJvcHMuYWZ0ZXJDbG9zZSgpO1xuXHQgICAgfSxcblx0ICAgIG9uTWFza0NsaWNrOiBmdW5jdGlvbiBvbk1hc2tDbGljayhlKSB7XG5cdCAgICAgICAgLy8gYW5kcm9pZCB0cmlnZ2VyIGNsaWNrIG9uIG9wZW4gKGZhc3RjbGljaz8/KVxuXHQgICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5vcGVuVGltZSA8IDMwMCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xvc2UoZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIGlmIChwcm9wcy5rZXlib2FyZCAmJiBlLmtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG5cdCAgICAgICAgICAgIHRoaXMuY2xvc2UoZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIGtlZXAgZm9jdXMgaW5zaWRlIGRpYWxvZ1xuXHQgICAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uVEFCKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgZGlhbG9nUm9vdCA9IHRoaXMucmVmcy53cmFwO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNlbnRpbmVsID0gdGhpcy5yZWZzLnNlbnRpbmVsO1xuXHQgICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gZGlhbG9nUm9vdCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZW50aW5lbC5mb2N1cygpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlRWxlbWVudCA9PT0gdGhpcy5yZWZzLnNlbnRpbmVsKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGlhbG9nUm9vdC5mb2N1cygpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGdldERpYWxvZ0VsZW1lbnQ6IGZ1bmN0aW9uIGdldERpYWxvZ0VsZW1lbnQoKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgY2xvc2FibGUgPSBwcm9wcy5jbG9zYWJsZTtcblx0ICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgICAgIHZhciBkZXN0ID0ge307XG5cdCAgICAgICAgaWYgKHByb3BzLndpZHRoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgZGVzdC53aWR0aCA9IHByb3BzLndpZHRoO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAocHJvcHMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgZGVzdC5oZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBmb290ZXIgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHByb3BzLmZvb3Rlcikge1xuXHQgICAgICAgICAgICBmb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIHJlZjogXCJmb290ZXJcIiB9LCBwcm9wcy5mb290ZXIpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgaGVhZGVyID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChwcm9wcy50aXRsZSkge1xuXHQgICAgICAgICAgICBoZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicsIHJlZjogXCJoZWFkZXJcIiB9LCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJywgaWQ6IHRoaXMudGl0bGVJZCB9LCBwcm9wcy50aXRsZSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY2xvc2VyID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChjbG9zYWJsZSkge1xuXHQgICAgICAgICAgICBjbG9zZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgb25DbGljazogdGhpcy5jbG9zZSwgXCJhcmlhLWxhYmVsXCI6IFwiQ2xvc2VcIiwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsb3NlJyB9LCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbG9zZS14JyB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzdHlsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5zdHlsZSwgZGVzdCk7XG5cdCAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gdGhpcy5nZXRUcmFuc2l0aW9uTmFtZSgpO1xuXHQgICAgICAgIHZhciBkaWFsb2dFbGVtZW50ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTGF6eVJlbmRlckJveDJbXCJkZWZhdWx0XCJdLCB7IGtleTogXCJkaWFsb2ctZWxlbWVudFwiLCByb2xlOiBcImRvY3VtZW50XCIsIHJlZjogXCJkaWFsb2dcIiwgc3R5bGU6IHN0eWxlLCBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIChwcm9wcy5jbGFzc05hbWUgfHwgJycpLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0sIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSwgY2xvc2VyLCBoZWFkZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsIHN0eWxlOiBwcm9wcy5ib2R5U3R5bGUsIHJlZjogXCJib2R5XCIgfSwgcHJvcHMuYm9keVByb3BzKSwgcHJvcHMuY2hpbGRyZW4pLCBmb290ZXIpLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgdGFiSW5kZXg6IDAsIHJlZjogXCJzZW50aW5lbFwiLCBzdHlsZTogeyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBvdmVyZmxvdzogJ2hpZGRlbicgfSB9LCBcInNlbnRpbmVsXCIpKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNBbmltYXRlMltcImRlZmF1bHRcIl0sIHsga2V5OiBcImRpYWxvZ1wiLCBzaG93UHJvcDogXCJ2aXNpYmxlXCIsIG9uTGVhdmU6IHRoaXMub25BbmltYXRlTGVhdmUsIHRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSwgY29tcG9uZW50OiBcIlwiLCB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlIH0sIGRpYWxvZ0VsZW1lbnQpO1xuXHQgICAgfSxcblx0ICAgIGdldFpJbmRleFN0eWxlOiBmdW5jdGlvbiBnZXRaSW5kZXhTdHlsZSgpIHtcblx0ICAgICAgICB2YXIgc3R5bGUgPSB7fTtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIGlmIChwcm9wcy56SW5kZXggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBzdHlsZS56SW5kZXggPSBwcm9wcy56SW5kZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzdHlsZTtcblx0ICAgIH0sXG5cdCAgICBnZXRXcmFwU3R5bGU6IGZ1bmN0aW9uIGdldFdyYXBTdHlsZSgpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuZ2V0WkluZGV4U3R5bGUoKSwgdGhpcy5wcm9wcy53cmFwU3R5bGUpO1xuXHQgICAgfSxcblx0ICAgIGdldE1hc2tTdHlsZTogZnVuY3Rpb24gZ2V0TWFza1N0eWxlKCkge1xuXHQgICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCB0aGlzLnByb3BzLm1hc2tTdHlsZSk7XG5cdCAgICB9LFxuXHQgICAgZ2V0TWFza0VsZW1lbnQ6IGZ1bmN0aW9uIGdldE1hc2tFbGVtZW50KCkge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgdmFyIG1hc2tFbGVtZW50ID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChwcm9wcy5tYXNrKSB7XG5cdCAgICAgICAgICAgIHZhciBtYXNrVHJhbnNpdGlvbiA9IHRoaXMuZ2V0TWFza1RyYW5zaXRpb25OYW1lKCk7XG5cdCAgICAgICAgICAgIG1hc2tFbGVtZW50ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTGF6eVJlbmRlckJveDJbXCJkZWZhdWx0XCJdLCBfX2Fzc2lnbih7IHN0eWxlOiB0aGlzLmdldE1hc2tTdHlsZSgpLCBrZXk6IFwibWFza1wiLCBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctbWFzaycsIGhpZGRlbkNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1tYXNrLWhpZGRlbicsIHZpc2libGU6IHByb3BzLnZpc2libGUgfSwgcHJvcHMubWFza1Byb3BzKSk7XG5cdCAgICAgICAgICAgIGlmIChtYXNrVHJhbnNpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgbWFza0VsZW1lbnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSwgeyBrZXk6IFwibWFza1wiLCBzaG93UHJvcDogXCJ2aXNpYmxlXCIsIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsIGNvbXBvbmVudDogXCJcIiwgdHJhbnNpdGlvbk5hbWU6IG1hc2tUcmFuc2l0aW9uIH0sIG1hc2tFbGVtZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbWFza0VsZW1lbnQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0TWFza1RyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXRNYXNrVHJhbnNpdGlvbk5hbWUoKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5tYXNrVHJhbnNpdGlvbk5hbWU7XG5cdCAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHByb3BzLm1hc2tBbmltYXRpb247XG5cdCAgICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBhbmltYXRpb24pIHtcblx0ICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5wcmVmaXhDbHMgKyAnLScgKyBhbmltYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcblx0ICAgIH0sXG5cdCAgICBnZXRUcmFuc2l0aW9uTmFtZTogZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUoKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcblx0ICAgICAgICB2YXIgYW5pbWF0aW9uID0gcHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgYW5pbWF0aW9uKSB7XG5cdCAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgYW5pbWF0aW9uO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG5cdCAgICB9LFxuXHQgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudChwYXJ0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucmVmc1twYXJ0XTtcblx0ICAgIH0sXG5cdCAgICBzZXRTY3JvbGxiYXI6IGZ1bmN0aW9uIHNldFNjcm9sbGJhcigpIHtcblx0ICAgICAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiB0aGlzLnNjcm9sbGJhcldpZHRoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSB0aGlzLnNjcm9sbGJhcldpZHRoICsgJ3B4Jztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgYWRkU2Nyb2xsaW5nRWZmZWN0OiBmdW5jdGlvbiBhZGRTY3JvbGxpbmdFZmZlY3QoKSB7XG5cdCAgICAgICAgb3BlbkNvdW50Kys7XG5cdCAgICAgICAgaWYgKG9wZW5Db3VudCAhPT0gMSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKTtcblx0ICAgICAgICB0aGlzLnNldFNjcm9sbGJhcigpO1xuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblx0ICAgICAgICAvLyB0aGlzLmFkanVzdERpYWxvZygpO1xuXHQgICAgfSxcblx0ICAgIHJlbW92ZVNjcm9sbGluZ0VmZmVjdDogZnVuY3Rpb24gcmVtb3ZlU2Nyb2xsaW5nRWZmZWN0KCkge1xuXHQgICAgICAgIG9wZW5Db3VudC0tO1xuXHQgICAgICAgIGlmIChvcGVuQ291bnQgIT09IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG5cdCAgICAgICAgdGhpcy5yZXNldFNjcm9sbGJhcigpO1xuXHQgICAgICAgIC8vIHRoaXMucmVzZXRBZGp1c3RtZW50cygpO1xuXHQgICAgfSxcblx0ICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZShlKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlKGUpO1xuXHQgICAgfSxcblx0ICAgIGNoZWNrU2Nyb2xsYmFyOiBmdW5jdGlvbiBjaGVja1Njcm9sbGJhcigpIHtcblx0ICAgICAgICB2YXIgZnVsbFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cdCAgICAgICAgaWYgKCFmdWxsV2luZG93V2lkdGgpIHtcblx0ICAgICAgICAgICAgdmFyIGRvY3VtZW50RWxlbWVudFJlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICAgICAgICAgIGZ1bGxXaW5kb3dXaWR0aCA9IGRvY3VtZW50RWxlbWVudFJlY3QucmlnaHQgLSBNYXRoLmFicyhkb2N1bWVudEVsZW1lbnRSZWN0LmxlZnQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmJvZHlJc092ZXJmbG93aW5nID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IGZ1bGxXaW5kb3dXaWR0aDtcblx0ICAgICAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZykge1xuXHQgICAgICAgICAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gKDAsIF9nZXRTY3JvbGxCYXJTaXplMltcImRlZmF1bHRcIl0pKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHJlc2V0U2Nyb2xsYmFyOiBmdW5jdGlvbiByZXNldFNjcm9sbGJhcigpIHtcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcnO1xuXHQgICAgfSxcblx0ICAgIGFkanVzdERpYWxvZzogZnVuY3Rpb24gYWRqdXN0RGlhbG9nKCkge1xuXHQgICAgICAgIGlmICh0aGlzLnJlZnMud3JhcCAmJiB0aGlzLnNjcm9sbGJhcldpZHRoICE9PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgdmFyIG1vZGFsSXNPdmVyZmxvd2luZyA9IHRoaXMucmVmcy53cmFwLnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cdCAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdMZWZ0ID0gKCF0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIG1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJykgKyAncHgnO1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5zdHlsZS5wYWRkaW5nUmlnaHQgPSAodGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiAhbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnKSArICdweCc7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHJlc2V0QWRqdXN0bWVudHM6IGZ1bmN0aW9uIHJlc2V0QWRqdXN0bWVudHMoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucmVmcy53cmFwKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdMZWZ0ID0gdGhpcy5yZWZzLndyYXAuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBtYXNrQ2xvc2FibGUgPSBwcm9wcy5tYXNrQ2xvc2FibGU7XG5cdFxuXHQgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0V3JhcFN0eWxlKCk7XG5cdCAgICAgICAgLy8gY2xlYXIgaGlkZSBkaXNwbGF5XG5cdCAgICAgICAgLy8gYW5kIG9ubHkgc2V0IGRpc3BsYXkgYWZ0ZXIgYXN5bmMgYW5pbSwgbm90IGhlcmUgZm9yIGhpZGVcblx0ICAgICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuXHQgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdGhpcy5nZXRNYXNrRWxlbWVudCgpLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgdGFiSW5kZXg6IC0xLCBvbktleURvd246IHRoaXMub25LZXlEb3duLCBjbGFzc05hbWU6IHByZWZpeENscyArICctd3JhcCAnICsgKHByb3BzLndyYXBDbGFzc05hbWUgfHwgJycpLCByZWY6IFwid3JhcFwiLCBvbkNsaWNrOiBtYXNrQ2xvc2FibGUgPyB0aGlzLm9uTWFza0NsaWNrIDogdW5kZWZpbmVkLCByb2xlOiBcImRpYWxvZ1wiLCBcImFyaWEtbGFiZWxsZWRieVwiOiBwcm9wcy50aXRsZSA/IHRoaXMudGl0bGVJZCA6IG51bGwsIHN0eWxlOiBzdHlsZSB9LCBwcm9wcy53cmFwUHJvcHMpLCB0aGlzLmdldERpYWxvZ0VsZW1lbnQoKSkpO1xuXHQgICAgfVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEaWFsb2c7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfRGlhbG9nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDkpO1xuXHRcblx0dmFyIF9EaWFsb2cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlhbG9nKTtcblx0XG5cdHZhciBfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMyk7XG5cdFxuXHR2YXIgX2dldENvbnRhaW5lclJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldENvbnRhaW5lclJlbmRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG5cdCAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0ICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBEaWFsb2dXcmFwID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgICAgZGlzcGxheU5hbWU6ICdEaWFsb2dXcmFwJyxcblx0XG5cdCAgICBtaXhpbnM6IFsoMCwgX2dldENvbnRhaW5lclJlbmRlck1peGluMltcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZShpbnN0YW5jZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UucHJvcHMudmlzaWJsZTtcblx0ICAgICAgICB9LFxuXHRcblx0ICAgICAgICBhdXRvRGVzdHJveTogZmFsc2UsXG5cdCAgICAgICAgZ2V0Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRDb21wb25lbnQoaW5zdGFuY2UsIGV4dHJhKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EaWFsb2cyW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oe30sIGluc3RhbmNlLnByb3BzLCBleHRyYSwgeyBrZXk6IFwiZGlhbG9nXCIgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0pXSxcblx0ICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgIH0sXG5cdCAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShfcmVmKSB7XG5cdCAgICAgICAgdmFyIHZpc2libGUgPSBfcmVmLnZpc2libGU7XG5cdFxuXHQgICAgICAgIHJldHVybiAhISh0aGlzLnByb3BzLnZpc2libGUgfHwgdmlzaWJsZSk7XG5cdCAgICB9LFxuXHQgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5yZW5kZXJDb21wb25lbnQoe1xuXHQgICAgICAgICAgICAgICAgYWZ0ZXJDbG9zZTogdGhpcy5yZW1vdmVDb250YWluZXIsXG5cdCAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge30sXG5cdFxuXHQgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy5yZW1vdmVDb250YWluZXIoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gZ2V0RWxlbWVudChwYXJ0KSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudC5nZXRFbGVtZW50KHBhcnQpO1xuXHQgICAgfSxcblx0ICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEaWFsb2dXcmFwO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjExOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcblx0ICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHQgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIExhenlSZW5kZXJCb3ggPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgICBkaXNwbGF5TmFtZTogJ0xhenlSZW5kZXJCb3gnLFxuXHQgICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzLmhpZGRlbkNsYXNzTmFtZSB8fCAhIW5leHRQcm9wcy52aXNpYmxlO1xuXHQgICAgfSxcblx0ICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICBpZiAoISF0aGlzLnByb3BzLmhpZGRlbkNsYXNzTmFtZSAmJiAhdGhpcy5wcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnICcgKyB0aGlzLnByb3BzLmhpZGRlbkNsYXNzTmFtZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHByb3BzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMpO1xuXHQgICAgICAgIGRlbGV0ZSBwcm9wcy5oaWRkZW5DbGFzc05hbWU7XG5cdCAgICAgICAgZGVsZXRlIHByb3BzLnZpc2libGU7XG5cdCAgICAgICAgcHJvcHMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcykpO1xuXHQgICAgfVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBMYXp5UmVuZGVyQm94O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjEyOlxuMjk3LFxuXG4vKioqLyAyMTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldENvbnRhaW5lclJlbmRlck1peGluO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdEdldENvbnRhaW5lcigpIHtcblx0ICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXHQgIHJldHVybiBjb250YWluZXI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldENvbnRhaW5lclJlbmRlck1peGluKGNvbmZpZykge1xuXHQgIHZhciBfY29uZmlnJGF1dG9Nb3VudCA9IGNvbmZpZy5hdXRvTW91bnQ7XG5cdCAgdmFyIGF1dG9Nb3VudCA9IF9jb25maWckYXV0b01vdW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX2NvbmZpZyRhdXRvTW91bnQ7XG5cdCAgdmFyIF9jb25maWckYXV0b0Rlc3Ryb3kgPSBjb25maWcuYXV0b0Rlc3Ryb3k7XG5cdCAgdmFyIGF1dG9EZXN0cm95ID0gX2NvbmZpZyRhdXRvRGVzdHJveSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9jb25maWckYXV0b0Rlc3Ryb3k7XG5cdCAgdmFyIGlzVmlzaWJsZSA9IGNvbmZpZy5pc1Zpc2libGU7XG5cdCAgdmFyIGdldENvbXBvbmVudCA9IGNvbmZpZy5nZXRDb21wb25lbnQ7XG5cdCAgdmFyIF9jb25maWckZ2V0Q29udGFpbmVyID0gY29uZmlnLmdldENvbnRhaW5lcjtcblx0ICB2YXIgZ2V0Q29udGFpbmVyID0gX2NvbmZpZyRnZXRDb250YWluZXIgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRHZXRDb250YWluZXIgOiBfY29uZmlnJGdldENvbnRhaW5lcjtcblx0XG5cdFxuXHQgIHZhciBtaXhpbiA9IHZvaWQgMDtcblx0XG5cdCAgZnVuY3Rpb24gX3JlbmRlckNvbXBvbmVudChpbnN0YW5jZSwgY29tcG9uZW50QXJnLCByZWFkeSkge1xuXHQgICAgaWYgKCFpc1Zpc2libGUgfHwgaW5zdGFuY2UuX2NvbXBvbmVudCB8fCBpc1Zpc2libGUoaW5zdGFuY2UpKSB7XG5cdCAgICAgIGlmICghaW5zdGFuY2UuX2NvbnRhaW5lcikge1xuXHQgICAgICAgIGluc3RhbmNlLl9jb250YWluZXIgPSBnZXRDb250YWluZXIoaW5zdGFuY2UpO1xuXHQgICAgICB9XG5cdCAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKGluc3RhbmNlLCBnZXRDb21wb25lbnQoaW5zdGFuY2UsIGNvbXBvbmVudEFyZyksIGluc3RhbmNlLl9jb250YWluZXIsIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuXHQgICAgICAgIGluc3RhbmNlLl9jb21wb25lbnQgPSB0aGlzO1xuXHQgICAgICAgIGlmIChyZWFkeSkge1xuXHQgICAgICAgICAgcmVhZHkuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKGF1dG9Nb3VudCkge1xuXHQgICAgbWl4aW4gPSBfZXh0ZW5kcyh7fSwgbWl4aW4sIHtcblx0ICAgICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIF9yZW5kZXJDb21wb25lbnQodGhpcyk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXHQgICAgICAgIF9yZW5kZXJDb21wb25lbnQodGhpcyk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgaWYgKCFhdXRvTW91bnQgfHwgIWF1dG9EZXN0cm95KSB7XG5cdCAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuXHQgICAgICByZW5kZXJDb21wb25lbnQ6IGZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnRBcmcsIHJlYWR5KSB7XG5cdCAgICAgICAgX3JlbmRlckNvbXBvbmVudCh0aGlzLCBjb21wb25lbnRBcmcsIHJlYWR5KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBfcmVtb3ZlQ29udGFpbmVyKGluc3RhbmNlKSB7XG5cdCAgICBpZiAoaW5zdGFuY2UuX2NvbnRhaW5lcikge1xuXHQgICAgICB2YXIgY29udGFpbmVyID0gaW5zdGFuY2UuX2NvbnRhaW5lcjtcblx0ICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0udW5tb3VudENvbXBvbmVudEF0Tm9kZShjb250YWluZXIpO1xuXHQgICAgICBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuXHQgICAgICBpbnN0YW5jZS5fY29udGFpbmVyID0gbnVsbDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmIChhdXRvRGVzdHJveSkge1xuXHQgICAgbWl4aW4gPSBfZXh0ZW5kcyh7fSwgbWl4aW4sIHtcblx0ICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgIF9yZW1vdmVDb250YWluZXIodGhpcyk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuXHQgICAgICByZW1vdmVDb250YWluZXI6IGZ1bmN0aW9uIHJlbW92ZUNvbnRhaW5lcigpIHtcblx0ICAgICAgICBfcmVtb3ZlQ29udGFpbmVyKHRoaXMpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBtaXhpbjtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjE0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGNhY2hlZCA9IHZvaWQgMDtcblx0XG5cdGZ1bmN0aW9uIGdldFNjcm9sbEJhclNpemUoZnJlc2gpIHtcblx0ICBpZiAoZnJlc2ggfHwgY2FjaGVkID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdCAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuXHRcblx0ICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgdmFyIG91dGVyU3R5bGUgPSBvdXRlci5zdHlsZTtcblx0XG5cdCAgICBvdXRlclN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0ICAgIG91dGVyU3R5bGUudG9wID0gMDtcblx0ICAgIG91dGVyU3R5bGUubGVmdCA9IDA7XG5cdCAgICBvdXRlclN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cdCAgICBvdXRlclN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcblx0ICAgIG91dGVyU3R5bGUud2lkdGggPSAnMjAwcHgnO1xuXHQgICAgb3V0ZXJTdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuXHQgICAgb3V0ZXJTdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcblx0ICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblx0XG5cdCAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblx0XG5cdCAgICB2YXIgd2lkdGhDb250YWluZWQgPSBpbm5lci5vZmZzZXRXaWR0aDtcblx0ICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG5cdCAgICB2YXIgd2lkdGhTY3JvbGwgPSBpbm5lci5vZmZzZXRXaWR0aDtcblx0XG5cdCAgICBpZiAod2lkdGhDb250YWluZWQgPT09IHdpZHRoU2Nyb2xsKSB7XG5cdCAgICAgIHdpZHRoU2Nyb2xsID0gb3V0ZXIuY2xpZW50V2lkdGg7XG5cdCAgICB9XG5cdFxuXHQgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG5cdFxuXHQgICAgY2FjaGVkID0gd2lkdGhDb250YWluZWQgLSB3aWR0aFNjcm9sbDtcblx0ICB9XG5cdCAgcmV0dXJuIGNhY2hlZDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBnZXRTY3JvbGxCYXJTaXplO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3Rvb2x0aXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cdFxuXHR2YXIgX3Rvb2x0aXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9vbHRpcCk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcblx0ICAgIHZhciB0ID0ge307XG5cdCAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuXHQgICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcblx0ICAgIH1yZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBQb3Bjb25maXJtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUG9wY29uZmlybSwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUG9wY29uZmlybShwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUG9wY29uZmlybSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuY29uZmlybSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuXHQgICAgICAgICAgICB2YXIgb25Db25maXJtID0gX3RoaXMucHJvcHMub25Db25maXJtO1xuXHQgICAgICAgICAgICBpZiAob25Db25maXJtKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNvbmZpcm0uY2FsbChfdGhpcywgZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuXHQgICAgICAgICAgICB2YXIgb25DYW5jZWwgPSBfdGhpcy5wcm9wcy5vbkNhbmNlbDtcblx0ICAgICAgICAgICAgaWYgKG9uQ2FuY2VsKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNhbmNlbC5jYWxsKF90aGlzLCBlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZSh2aXNpYmxlKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgUG9wY29uZmlybS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2aXNpYmxlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IG5leHRQcm9wcy52aXNpYmxlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUG9wY29uZmlybS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uIHNldFZpc2libGUodmlzaWJsZSkge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdmlzaWJsZSB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG9uVmlzaWJsZUNoYW5nZSA9IHByb3BzLm9uVmlzaWJsZUNoYW5nZTtcblx0ICAgICAgICBpZiAob25WaXNpYmxlQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFBvcGNvbmZpcm0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXHRcblx0ICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICB0aXRsZSA9IHByb3BzLnRpdGxlLFxuXHQgICAgICAgICAgICBwbGFjZW1lbnQgPSBwcm9wcy5wbGFjZW1lbnQsXG5cdCAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wicHJlZml4Q2xzXCIsIFwidGl0bGVcIiwgXCJwbGFjZW1lbnRcIl0pO1xuXHRcblx0ICAgICAgICB2YXIgb2tUZXh0ID0gcHJvcHMub2tUZXh0LFxuXHQgICAgICAgICAgICBjYW5jZWxUZXh0ID0gcHJvcHMuY2FuY2VsVGV4dDtcblx0XG5cdCAgICAgICAgdmFyIHBvcGNvbmZpcm1Mb2NhbGUgPSBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZS5Qb3Bjb25maXJtO1xuXHQgICAgICAgIGlmIChwb3Bjb25maXJtTG9jYWxlKSB7XG5cdCAgICAgICAgICAgIG9rVGV4dCA9IG9rVGV4dCB8fCBwb3Bjb25maXJtTG9jYWxlLm9rVGV4dDtcblx0ICAgICAgICAgICAgY2FuY2VsVGV4dCA9IGNhbmNlbFRleHQgfHwgcG9wY29uZmlybUxvY2FsZS5jYW5jZWxUZXh0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgb3ZlcmxheSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lci1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tZXNzYWdlJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZXhjbGFtYXRpb24tY2lyY2xlJyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbWVzc2FnZS10aXRsZScgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idXR0b25zJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNhbmNlbCwgc2l6ZTogJ3NtYWxsJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0IHx8ICflj5bmtognXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jb25maXJtLCB0eXBlOiAncHJpbWFyeScsIHNpemU6ICdzbWFsbCcgfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb2tUZXh0IHx8ICfnoa7lrponXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfdG9vbHRpcDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgcGxhY2VtZW50OiBwbGFjZW1lbnQsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsIHZpc2libGU6IHRoaXMuc3RhdGUudmlzaWJsZSwgb3ZlcmxheTogb3ZlcmxheSB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBQb3Bjb25maXJtO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBvcGNvbmZpcm07XG5cdFxuXHRQb3Bjb25maXJtLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1wb3BvdmVyJyxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiAnem9vbS1iaWcnLFxuXHQgICAgcGxhY2VtZW50OiAndG9wJyxcblx0ICAgIHRyaWdnZXI6ICdjbGljaydcblx0fTtcblx0UG9wY29uZmlybS5jb250ZXh0VHlwZXMgPSB7XG5cdCAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDIzOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNzEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDMyNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudmFsaWRQaG9uZSA9IHZhbGlkUGhvbmU7XG5cdGZ1bmN0aW9uIHZhbGlkUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgaWYgKCEhdmFsdWUgJiYgIS9eMSgzfDR8NXw3fDgpXFxkezl9JC8udGVzdCh2YWx1ZSkpIHtcblx0ICAgIGNhbGxiYWNrKFwi5omL5py65Y+356CB5qC85byP5LiN5q2j56GuXCIpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyA2Nzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdFxuXHR2YXIgX3RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cdFxuXHR2YXIgX3RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RhYmxlKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfc3R5bGU3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzkpO1xuXHRcblx0dmFyIF9wb3Bjb25maXJtID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMzgpO1xuXHRcblx0dmFyIF9wb3Bjb25maXJtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvcGNvbmZpcm0pO1xuXHRcblx0dmFyIF9zdHlsZTggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Myk7XG5cdFxuXHR2YXIgX3Rvb2x0aXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cdFxuXHR2YXIgX3Rvb2x0aXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9vbHRpcCk7XG5cdFxuXHR2YXIgX3N0eWxlOSA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3N0eWxlMTAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSk7XG5cdFxuXHR2YXIgX21vZGFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9tb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb2RhbCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9MaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NjApO1xuXHRcblx0dmFyIF9MaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpc3QpO1xuXHRcblx0dmFyIF9UYWJsZUJvZHlXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xuXHRcblx0dmFyIF9UYWJsZUJvZHlXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQm9keVdyYXBwZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBjb25maXJtID0gX21vZGFsMi5kZWZhdWx0LmNvbmZpcm07XG5cdFxuXHRmdW5jdGlvbiBMaXN0KF9yZWYpIHtcblx0ICB2YXIgbG9hZGluZyA9IF9yZWYubG9hZGluZyxcblx0ICAgICAgZGF0YVNvdXJjZSA9IF9yZWYuZGF0YVNvdXJjZSxcblx0ICAgICAgcGFnaW5hdGlvbiA9IF9yZWYucGFnaW5hdGlvbixcblx0ICAgICAgdXBkYXRlUG93ZXIgPSBfcmVmLnVwZGF0ZVBvd2VyLFxuXHQgICAgICBkZWxldGVQb3dlciA9IF9yZWYuZGVsZXRlUG93ZXIsXG5cdCAgICAgIG9uUGFnZUNoYW5nZSA9IF9yZWYub25QYWdlQ2hhbmdlLFxuXHQgICAgICBvbkRlbGV0ZUl0ZW0gPSBfcmVmLm9uRGVsZXRlSXRlbSxcblx0ICAgICAgb25FZGl0SXRlbSA9IF9yZWYub25FZGl0SXRlbSxcblx0ICAgICAgb25TdGF0dXNJdGVtID0gX3JlZi5vblN0YXR1c0l0ZW0sXG5cdCAgICAgIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbjtcblx0XG5cdFxuXHQgIHZhciBoYW5kbGVEZWxldGVJdGVtID0gZnVuY3Rpb24gaGFuZGxlRGVsZXRlSXRlbShyZWNvcmQpIHtcblx0ICAgIGNvbmZpcm0oe1xuXHQgICAgICB0aXRsZTogJ+aCqOehruWumuimgeWIoOmZpOi/meadoeiusOW9leWQlz8nLFxuXHQgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkge1xuXHQgICAgICAgIG9uRGVsZXRlSXRlbShyZWNvcmQuaWQpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICB2YXIgY29sdW1ucyA9IFt7XG5cdCAgICB0aXRsZTogJ+WktOWDjycsXG5cdCAgICBkYXRhSW5kZXg6ICdpbWFnZScsXG5cdCAgICBrZXk6ICdpbWFnZScsXG5cdCAgICB3aWR0aDogNjQsXG5cdCAgICBjbGFzc05hbWU6IF9MaXN0Mi5kZWZhdWx0LmF2YXRhcixcblx0ICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHRleHQpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHdpZHRoOiAyNCwgc3JjOiB0ZXh0IH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn55So5oi35ZCNJyxcblx0ICAgIGRhdGFJbmRleDogJ25hbWUnLFxuXHQgICAga2V5OiAnbmFtZSdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+aJi+acuuWPtycsXG5cdCAgICBkYXRhSW5kZXg6ICdtb2JpbGUnLFxuXHQgICAga2V5OiAnbW9iaWxlJ1xuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn6YKu566xJyxcblx0ICAgIGRhdGFJbmRleDogJ2VtYWlsJyxcblx0ICAgIGtleTogJ2VtYWlsJ1xuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn5Yib5bu65pe26Ze0Jyxcblx0ICAgIGRhdGFJbmRleDogJ2NyZWF0ZWRfYXQnLFxuXHQgICAga2V5OiAnY3JlYXRlZF9hdCcsXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gbmV3IERhdGUoK3ZhbHVlKS5mb3JtYXQoXCJ5eXl5LU1NLWRkIEhIOm1tOnNzXCIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn5pON5L2cJyxcblx0ICAgIGtleTogJ29wZXJhdGlvbicsXG5cdCAgICAvLyB3aWR0aDogODAsXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0ZXh0LCByZWNvcmQpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdwJyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIHVwZGF0ZVBvd2VyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3Rvb2x0aXAyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHBsYWNlbWVudDogJ2JvdHRvbScsIHRpdGxlOiAnXFx1N0YxNlxcdThGOTEnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gb25FZGl0SXRlbShyZWNvcmQpO1xuXHQgICAgICAgICAgICAgIH0sIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogMTBcblx0ICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdlZGl0JyB9KVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgdXBkYXRlUG93ZXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9vbHRpcDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgcGxhY2VtZW50OiAnYm90dG9tJywgdGl0bGU6IHJlY29yZC5zdGF0dXMgPyAn54K55Ye756aB55SoJyA6ICfngrnlh7vlkK/nlKgnIH0sXG5cdCAgICAgICAgICByZWNvcmQuc3RhdHVzID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9wb3Bjb25maXJtMi5kZWZhdWx0LFxuXHQgICAgICAgICAgICB7IHRpdGxlOiAnXFx1Nzg2RVxcdTVCOUFcXHU4OTgxXFx1Nzk4MVxcdTc1MjgnICsgcmVjb3JkLm5hbWUgKyAnXFx1NTQxN1xcdUZGMUYnLCBvbkNvbmZpcm06IGZ1bmN0aW9uIG9uQ29uZmlybSgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBvblN0YXR1c0l0ZW0ocmVjb3JkKTtcblx0ICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiAxMCB9IH0sXG5cdCAgICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3VubG9jaycgfSlcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBvblN0YXR1c0l0ZW0ocmVjb3JkKTtcblx0ICAgICAgICAgICAgICB9LCBzdHlsZTogeyBtYXJnaW5SaWdodDogMTAgfSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnbG9jaycsIGNsYXNzTmFtZTogX0xpc3QyLmRlZmF1bHQud2FybmluZyB9KVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgZGVsZXRlUG93ZXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9vbHRpcDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgcGxhY2VtZW50OiAnYm90dG9tJywgdGl0bGU6ICdcXHU1MjIwXFx1OTY2NCcgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVEZWxldGVJdGVtKHJlY29yZCk7XG5cdCAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnY2xvc2UtY2lyY2xlLW8nLCBjbGFzc05hbWU6IF9MaXN0Mi5kZWZhdWx0LmRhbmdlciB9KVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XTtcblx0XG5cdCAgdmFyIGdldEJvZHlXcmFwcGVyUHJvcHMgPSB7XG5cdCAgICBwYWdlOiBsb2NhdGlvbi5xdWVyeS5wYWdlLFxuXHQgICAgY3VycmVudDogcGFnaW5hdGlvbi5jdXJyZW50XG5cdCAgfTtcblx0XG5cdCAgdmFyIGdldEJvZHlXcmFwcGVyID0gZnVuY3Rpb24gZ2V0Qm9keVdyYXBwZXIoYm9keSkge1xuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9UYWJsZUJvZHlXcmFwcGVyMi5kZWZhdWx0LCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBnZXRCb2R5V3JhcHBlclByb3BzLCB7IGJvZHk6IGJvZHkgfSkpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICdkaXYnLFxuXHQgICAgbnVsbCxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90YWJsZTIuZGVmYXVsdCwge1xuXHQgICAgICBjbGFzc05hbWU6IF9MaXN0Mi5kZWZhdWx0LnRhYmxlLFxuXHQgICAgICBib3JkZXJlZDogdHJ1ZSxcblx0ICAgICAgc2Nyb2xsOiB7IHg6IDEyMDAgfSxcblx0ICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgZGF0YVNvdXJjZTogZGF0YVNvdXJjZSxcblx0ICAgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgICAgb25DaGFuZ2U6IG9uUGFnZUNoYW5nZSxcblx0ICAgICAgcGFnaW5hdGlvbjogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcGFnaW5hdGlvbiwgeyBzaG93U2l6ZUNoYW5nZXI6IHRydWUsIHNob3dRdWlja0p1bXBlcjogdHJ1ZSwgc2hvd1RvdGFsOiBmdW5jdGlvbiBzaG93VG90YWwodG90YWwpIHtcblx0ICAgICAgICAgIHJldHVybiAnXFx1NTE3MSAnICsgdG90YWwgKyAnIFxcdTY3NjEnO1xuXHQgICAgICAgIH0gfSksXG5cdCAgICAgIHNpbXBsZTogdHJ1ZSxcblx0ICAgICAgcm93S2V5OiBmdW5jdGlvbiByb3dLZXkocmVjb3JkKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlY29yZC5pZDtcblx0ICAgICAgfSxcblx0ICAgICAgZ2V0Qm9keVdyYXBwZXI6IGdldEJvZHlXcmFwcGVyXG5cdCAgICB9KVxuXHQgICk7XG5cdH1cblx0XG5cdExpc3QucHJvcFR5cGVzID0ge1xuXHQgIG9uUGFnZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRGVsZXRlSXRlbTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRWRpdEl0ZW06IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBkYXRhU291cmNlOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGxvYWRpbmc6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIHBhZ2luYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0eWxlNSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfbW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cdFxuXHR2YXIgX21vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZGFsKTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX2lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9pbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnB1dCk7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9kdmEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0XG5cdHZhciBfdXRpbHNWYWxpZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzI2KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRm9ybUl0ZW0gPSBfZm9ybTIuZGVmYXVsdC5JdGVtO1xuXHRcblx0dmFyIGZvcm1JdGVtTGF5b3V0ID0ge1xuXHQgIGxhYmVsQ29sOiB7XG5cdCAgICBzcGFuOiA2XG5cdCAgfSxcblx0ICB3cmFwcGVyQ29sOiB7XG5cdCAgICBzcGFuOiAxNFxuXHQgIH1cblx0fTtcblx0XG5cdHZhciBNb2RhbEZvcm0gPSBmdW5jdGlvbiBNb2RhbEZvcm0oX3JlZikge1xuXHQgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG5cdCAgICAgIF9yZWYkbW9kYWwgPSBfcmVmLm1vZGFsLFxuXHQgICAgICBsb2FkaW5nID0gX3JlZiRtb2RhbC5sb2FkaW5nLFxuXHQgICAgICBjdXJJdGVtID0gX3JlZiRtb2RhbC5jdXJJdGVtLFxuXHQgICAgICB0eXBlID0gX3JlZiRtb2RhbC50eXBlLFxuXHQgICAgICB2aXNpYmxlID0gX3JlZiRtb2RhbC52aXNpYmxlLFxuXHQgICAgICBfcmVmJGZvcm0gPSBfcmVmLmZvcm0sXG5cdCAgICAgIGdldEZpZWxkRGVjb3JhdG9yID0gX3JlZiRmb3JtLmdldEZpZWxkRGVjb3JhdG9yLFxuXHQgICAgICB2YWxpZGF0ZUZpZWxkcyA9IF9yZWYkZm9ybS52YWxpZGF0ZUZpZWxkcyxcblx0ICAgICAgcmVzZXRGaWVsZHMgPSBfcmVmJGZvcm0ucmVzZXRGaWVsZHM7XG5cdFxuXHQgIGZ1bmN0aW9uIGhhbmRsZU9rKCkge1xuXHQgICAgdmFsaWRhdGVGaWVsZHMoZnVuY3Rpb24gKGVycm9ycywgdmFsdWVzKSB7XG5cdCAgICAgIGlmIChlcnJvcnMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGRhdGEgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCB2YWx1ZXMsIHtcblx0ICAgICAgICBpZDogY3VySXRlbS5pZFxuXHQgICAgICB9KTtcblx0ICAgICAgZGlzcGF0Y2goeyB0eXBlOiAhIWRhdGEuaWQgPyAnYWNjb3VudFVzZXIvdXBkYXRlJyA6ICdhY2NvdW50VXNlci9jcmVhdGUnLCBwYXlsb2FkOiBkYXRhIH0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICB2YXIgbW9kYWxGb3JtT3B0cyA9IHtcblx0ICAgIHRpdGxlOiB0eXBlID09PSAnY3JlYXRlJyA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgbnVsbCxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3BsdXMtY2lyY2xlLW8nIH0pLFxuXHQgICAgICAnIFxcdTY1QjBcXHU1RUZBXFx1NzUyOFxcdTYyMzcnXG5cdCAgICApIDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICBudWxsLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnZWRpdCcgfSksXG5cdCAgICAgICcgXFx1NEZFRVxcdTY1MzlcXHU3NTI4XFx1NjIzNydcblx0ICAgICksXG5cdCAgICB2aXNpYmxlOiB2aXNpYmxlLFxuXHQgICAgb25PazogaGFuZGxlT2ssXG5cdCAgICBvbkNhbmNlbDogZnVuY3Rpb24gb25DYW5jZWwoKSB7XG5cdCAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ21vZGFsL2hpZGVNb2RhbCcgfSk7XG5cdCAgICAgIHJlc2V0RmllbGRzKCk7IC8v6Z2e5bi46YeN6KaB77yM5YWz6Zet5ZCO5b+F6aG76YeN572u5pWw5o2uXG5cdCAgICB9LFxuXHRcblx0ICAgIHdyYXBDbGFzc05hbWU6ICd2ZXJ0aWNhbC1jZW50ZXItbW9kYWwnLFxuXHQgICAgY29uZmlybUxvYWRpbmc6IGxvYWRpbmdcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfbW9kYWwyLmRlZmF1bHQsXG5cdCAgICBtb2RhbEZvcm1PcHRzLFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9mb3JtMi5kZWZhdWx0LFxuXHQgICAgICB7IGhvcml6b250YWw6IHRydWUgfSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGxhYmVsOiAnXFx1NzUyOFxcdTYyMzdcXHU1NDBEXFx1RkYxQScsIGhhc0ZlZWRiYWNrOiB0cnVlIH0sIGZvcm1JdGVtTGF5b3V0KSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignbmFtZScsIHtcblx0ICAgICAgICAgIGluaXRpYWxWYWx1ZTogY3VySXRlbS5uYW1lLFxuXHQgICAgICAgICAgcnVsZXM6IFt7XG5cdCAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuXHQgICAgICAgICAgICBtZXNzYWdlOiAn55So5oi35ZCN5LiN6IO95Li656m6J1xuXHQgICAgICAgICAgfV1cblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5wdXQyLmRlZmF1bHQsIG51bGwpKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgbGFiZWw6ICdcXHU2MjRCXFx1NjczQVxcdTUzRjdcXHVGRjFBJywgaGFzRmVlZGJhY2s6IHRydWUgfSwgZm9ybUl0ZW1MYXlvdXQpLFxuXHQgICAgICAgIGdldEZpZWxkRGVjb3JhdG9yKCdtb2JpbGUnLCB7XG5cdCAgICAgICAgICBpbml0aWFsVmFsdWU6IGN1ckl0ZW0ubW9iaWxlLFxuXHQgICAgICAgICAgcnVsZXM6IFt7XG5cdCAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuXHQgICAgICAgICAgICBtZXNzYWdlOiAn5omL5py65Y+35LiN6IO95Li656m6J1xuXHQgICAgICAgICAgfSwge1xuXHQgICAgICAgICAgICB2YWxpZGF0b3I6IF91dGlsc1ZhbGlkLnZhbGlkUGhvbmVcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2lucHV0Mi5kZWZhdWx0LCBudWxsKSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGxhYmVsOiAnXFx1OTBBRVxcdTdCQjFcXHVGRjFBJywgaGFzRmVlZGJhY2s6IHRydWUgfSwgZm9ybUl0ZW1MYXlvdXQpLFxuXHQgICAgICAgIGdldEZpZWxkRGVjb3JhdG9yKCdlbWFpbCcsIHtcblx0ICAgICAgICAgIGluaXRpYWxWYWx1ZTogY3VySXRlbS5lbWFpbCxcblx0ICAgICAgICAgIHJ1bGVzOiBbe1xuXHQgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcblx0ICAgICAgICAgICAgbWVzc2FnZTogJ+mCrueuseS4jeiDveS4uuepuidcblx0ICAgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgdHlwZTogJ2VtYWlsJyxcblx0ICAgICAgICAgICAgbWVzc2FnZTogJ+mCrueuseagvOW8j+S4jeato+ehridcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2lucHV0Mi5kZWZhdWx0LCBudWxsKSlcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRNb2RhbEZvcm0ucHJvcFR5cGVzID0ge1xuXHQgIG1vZGFsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBmb3JtOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKF9yZWYyKSB7XG5cdCAgdmFyIG1vZGFsID0gX3JlZjIubW9kYWw7XG5cdFxuXHQgIHJldHVybiB7IG1vZGFsOiBtb2RhbCB9O1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX2R2YS5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMpKF9mb3JtMi5kZWZhdWx0LmNyZWF0ZSgpKE1vZGFsRm9ybSkpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjc5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0eWxlNiA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybSk7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9yb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5Mik7XG5cdFxuXHR2YXIgX3JvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3cpO1xuXHRcblx0dmFyIF9zdHlsZTggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0dmFyIF9zdHlsZTkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9zdHlsZTEwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0dmFyIF9jb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNyk7XG5cdFxuXHR2YXIgX2NvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2wpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO1xuXHRcblx0dmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2VhcmNoID0gZnVuY3Rpb24gU2VhcmNoKF9yZWYpIHtcblx0ICB2YXIgZmllbGQgPSBfcmVmLmZpZWxkLFxuXHQgICAgICBrZXl3b3JkID0gX3JlZi5rZXl3b3JkLFxuXHQgICAgICBhZGRQb3dlciA9IF9yZWYuYWRkUG93ZXIsXG5cdCAgICAgIF9vblNlYXJjaCA9IF9yZWYub25TZWFyY2gsXG5cdCAgICAgIG9uQWRkID0gX3JlZi5vbkFkZCxcblx0ICAgICAgX3JlZiRmb3JtID0gX3JlZi5mb3JtLFxuXHQgICAgICBnZXRGaWVsZERlY29yYXRvciA9IF9yZWYkZm9ybS5nZXRGaWVsZERlY29yYXRvcixcblx0ICAgICAgdmFsaWRhdGVGaWVsZHMgPSBfcmVmJGZvcm0udmFsaWRhdGVGaWVsZHMsXG5cdCAgICAgIGdldEZpZWxkc1ZhbHVlID0gX3JlZiRmb3JtLmdldEZpZWxkc1ZhbHVlO1xuXHRcblx0ICB2YXIgc2VhcmNoR3JvdXBQcm9wcyA9IHtcblx0ICAgIGZpZWxkOiBmaWVsZCxcblx0ICAgIGtleXdvcmQ6IGtleXdvcmQsXG5cdCAgICBzaXplOiAnbGFyZ2UnLFxuXHQgICAgc2VsZWN0OiB0cnVlLFxuXHQgICAgc2VsZWN0T3B0aW9uczogW3sgdmFsdWU6ICduYW1lJywgbmFtZTogJ+eUqOaIt+WQjScgfSwgeyB2YWx1ZTogJ21vYmlsZScsIG5hbWU6ICfmiYvmnLrlj7cnIH0sIHsgdmFsdWU6ICdlbWFpbCcsIG5hbWU6ICfpgq7nrrEnIH1dLFxuXHQgICAgc2VsZWN0UHJvcHM6IHtcblx0ICAgICAgZGVmYXVsdFZhbHVlOiBmaWVsZCB8fCAnbmFtZSdcblx0ICAgIH0sXG5cdCAgICBvblNlYXJjaDogZnVuY3Rpb24gb25TZWFyY2godmFsdWUpIHtcblx0ICAgICAgX29uU2VhcmNoKHZhbHVlKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfcm93Mi5kZWZhdWx0LFxuXHQgICAgeyBndXR0ZXI6IDI0IH0sXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX2NvbDIuZGVmYXVsdCxcblx0ICAgICAgeyBsZzogOCwgbWQ6IDEyLCBzbTogMTYsIHhzOiAyNCwgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAxNiB9IH0sXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TZWFyY2gyLmRlZmF1bHQsIHNlYXJjaEdyb3VwUHJvcHMpXG5cdCAgICApLFxuXHQgICAgYWRkUG93ZXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9jb2wyLmRlZmF1bHQsXG5cdCAgICAgIHsgbGc6IHsgb2Zmc2V0OiA4LCBzcGFuOiA4IH0sIG1kOiAxMiwgc206IDgsIHhzOiAyNCwgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAxNiwgdGV4dEFsaWduOiAncmlnaHQnIH0gfSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcblx0ICAgICAgICB7IHNpemU6ICdsYXJnZScsIHR5cGU6ICdnaG9zdCcsIG9uQ2xpY2s6IG9uQWRkIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3BsdXMtY2lyY2xlLW8nIH0pLFxuXHQgICAgICAgICdcXHU2REZCXFx1NTJBMCdcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRTZWFyY2gucHJvcFR5cGVzID0ge1xuXHQgIGZvcm06IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgb25TZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkFkZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGZpZWxkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBrZXl3b3JkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2Zvcm0yLmRlZmF1bHQuY3JlYXRlKCkoU2VhcmNoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcwMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX3FzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF91c2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjEpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBuYW1lc3BhY2U6ICdhY2NvdW50VXNlcicsXG5cdCAgc3RhdGU6IHtcblx0ICAgIGxpc3Q6IFtdLFxuXHQgICAgbG9hZGluZzogZmFsc2UsXG5cdCAgICBwYWdpbmF0aW9uOiB7XG5cdCAgICAgIGN1cnJlbnQ6IDEsXG5cdCAgICAgIHBhZ2VTaXplOiAxMCxcblx0ICAgICAgdG90YWw6IG51bGxcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBzdWJzY3JpcHRpb25zOiB7XG5cdCAgICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX3JlZikge1xuXHQgICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuXHQgICAgICAgICAgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcblx0XG5cdCAgICAgIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuXHQgICAgICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy9hY2NvdW50L3VzZXInKSB7XG5cdCAgICAgICAgICB2YXIgY3VyUG93ZXJzID0gKDAsIF91dGlscy5nZXRDdXJQb3dlcnMpKHBhdGhuYW1lKTtcblx0ICAgICAgICAgIGlmIChjdXJQb3dlcnMpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzOiBjdXJQb3dlcnMgfSB9KTtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goX3JvdXRlci5yb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGVmZmVjdHM6IHtcblx0ICAgIHF1ZXJ5OiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBxdWVyeShfcmVmMiwgX3JlZjMpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSBfcmVmMi5wYXlsb2FkO1xuXHQgICAgICB2YXIgc2VsZWN0ID0gX3JlZjMuc2VsZWN0LFxuXHQgICAgICAgICAgY2FsbCA9IF9yZWYzLmNhbGwsXG5cdCAgICAgICAgICBwdXQgPSBfcmVmMy5wdXQ7XG5cdCAgICAgIHZhciBwYXRoUXVlcnksIGRhdGE7XG5cdCAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBxdWVyeSQoX2NvbnRleHQpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuXHQgICAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdzaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdChmdW5jdGlvbiAoX3JlZjQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByb3V0aW5nID0gX3JlZjQucm91dGluZztcblx0ICAgICAgICAgICAgICAgIHJldHVybiByb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucXVlcnk7XG5cdCAgICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICAgICAgcGF0aFF1ZXJ5ID0gX2NvbnRleHQuc2VudDtcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcblx0ICAgICAgICAgICAgICByZXR1cm4gY2FsbChfdXNlci5xdWVyeSwgcGF0aFF1ZXJ5KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNzpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcblx0ICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5U3VjY2VzcycsXG5cdCAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG5cdCAgICAgICAgICAgICAgICAgIGxpc3Q6IGRhdGEubGlzdCxcblx0ICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogZGF0YS5wYWdlXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDExOlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMztcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTM6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHF1ZXJ5LCB0aGlzKTtcblx0ICAgIH0pLFxuXHQgICAgZGVsZXRlOiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfZGVsZXRlKF9yZWY1LCBfcmVmNikge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWY1LnBheWxvYWQ7XG5cdCAgICAgIHZhciBjYWxsID0gX3JlZjYuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWY2LnB1dDtcblx0ICAgICAgdmFyIGRhdGE7XG5cdCAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfZGVsZXRlJChfY29udGV4dDIpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdzaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuXHQgICAgICAgICAgICAgIHJldHVybiBjYWxsKF91c2VyLnJlbW92ZSwgeyBpZDogcGF5bG9hZCB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA3OlxuXHQgICAgICAgICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSkge1xuXHQgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3F1ZXJ5JyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTA6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCBfZGVsZXRlLCB0aGlzKTtcblx0ICAgIH0pLFxuXHQgICAgY3JlYXRlOiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBjcmVhdGUoX3JlZjcsIF9yZWY4KSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0gX3JlZjcucGF5bG9hZDtcblx0ICAgICAgdmFyIHNlbGVjdCA9IF9yZWY4LnNlbGVjdCxcblx0ICAgICAgICAgIGNhbGwgPSBfcmVmOC5jYWxsLFxuXHQgICAgICAgICAgcHV0ID0gX3JlZjgucHV0O1xuXHQgICAgICB2YXIgZGF0YSwgcGF0aFF1ZXJ5LCBwYWdlO1xuXHQgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gY3JlYXRlJChfY29udGV4dDMpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0O1xuXHQgICAgICAgICAgICAgIHJldHVybiBjYWxsKF91c2VyLmNyZWF0ZSwgcGF5bG9hZCk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0My5zZW50O1xuXHQgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNztcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ21vZGFsL2hpZGVMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNzpcblx0ICAgICAgICAgICAgICBpZiAoIShkYXRhICYmIGRhdGEuc3VjY2VzcykpIHtcblx0ICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTA7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTW9kYWwnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBzZWxlY3QoZnVuY3Rpb24gKF9yZWY5KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcm91dGluZyA9IF9yZWY5LnJvdXRpbmc7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcm91dGluZy5sb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zLnF1ZXJ5O1xuXHQgICAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMjpcblx0ICAgICAgICAgICAgICBwYXRoUXVlcnkgPSBfY29udGV4dDMuc2VudDtcblx0ICAgICAgICAgICAgICBwYWdlID0gcGF0aFF1ZXJ5LnBhZ2U7XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNjtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7XG5cdCAgICAgICAgICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG5cdCAgICAgICAgICAgICAgICBxdWVyeTogISFwYWdlID8gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcGF0aFF1ZXJ5LCB7IHBhZ2U6IDEgfSkgOiBwYXRoUXVlcnlcblx0ICAgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDE2OlxuXHQgICAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSwgY3JlYXRlLCB0aGlzKTtcblx0ICAgIH0pLFxuXHQgICAgdXBkYXRlOiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiB1cGRhdGUoX3JlZjEwLCBfcmVmMTEpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSBfcmVmMTAucGF5bG9hZDtcblx0ICAgICAgdmFyIGNhbGwgPSBfcmVmMTEuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWYxMS5wdXQ7XG5cdCAgICAgIHZhciBkYXRhO1xuXHQgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gdXBkYXRlJChfY29udGV4dDQpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0O1xuXHQgICAgICAgICAgICAgIHJldHVybiBjYWxsKF91c2VyLnVwZGF0ZSwgcGF5bG9hZCk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0NC5zZW50O1xuXHQgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNztcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ21vZGFsL2hpZGVMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNzpcblx0ICAgICAgICAgICAgICBpZiAoIShkYXRhICYmIGRhdGEuc3VjY2VzcykpIHtcblx0ICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTA7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTW9kYWwnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAncXVlcnknIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMjpcblx0ICAgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHVwZGF0ZSwgdGhpcyk7XG5cdCAgICB9KSxcblx0ICAgIHVwZGF0ZVN0YXR1czogX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gdXBkYXRlU3RhdHVzKF9yZWYxMiwgX3JlZjEzKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0gX3JlZjEyLnBheWxvYWQ7XG5cdCAgICAgIHZhciBzZWxlY3QgPSBfcmVmMTMuc2VsZWN0LFxuXHQgICAgICAgICAgY2FsbCA9IF9yZWYxMy5jYWxsLFxuXHQgICAgICAgICAgcHV0ID0gX3JlZjEzLnB1dDtcblx0ICAgICAgdmFyIGRhdGE7XG5cdCAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiB1cGRhdGVTdGF0dXMkKF9jb250ZXh0NSkge1xuXHQgICAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcblx0ICAgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNhbGwoX3VzZXIudXBkYXRlLCAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwYXlsb2FkLCB7IHN0YXR1czogIXBheWxvYWQuc3RhdHVzIH0pKTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ1LnNlbnQ7XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA3OlxuXHQgICAgICAgICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSkge1xuXHQgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3F1ZXJ5JyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTA6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB1cGRhdGVTdGF0dXMsIHRoaXMpO1xuXHQgICAgfSksXG5cdCAgICBzaG93TW9kYWw6IF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIHNob3dNb2RhbChfcmVmMTQsIF9yZWYxNSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWYxNC5wYXlsb2FkO1xuXHQgICAgICB2YXIgc2VsZWN0ID0gX3JlZjE1LnNlbGVjdCxcblx0ICAgICAgICAgIGNhbGwgPSBfcmVmMTUuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWYxNS5wdXQ7XG5cdCAgICAgIHZhciB0eXBlLCBjdXJJdGVtLCBuZXdEYXRhLCBkYXRhO1xuXHQgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gc2hvd01vZGFsJChfY29udGV4dDYpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICB0eXBlID0gcGF5bG9hZC50eXBlLCBjdXJJdGVtID0gcGF5bG9hZC5jdXJJdGVtO1xuXHQgICAgICAgICAgICAgIG5ld0RhdGEgPSB7fTtcblx0ICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TW9kYWwnLCBwYXlsb2FkOiB7IGxvYWRpbmc6IHRydWUsIHR5cGU6IHR5cGUgfSB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNhbGwoX3VzZXIuZ2V0LCB7IGlkOiBjdXJJdGVtLmlkIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA2OlxuXHQgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDYuc2VudDtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdEYXRhLmN1ckl0ZW0gPSBkYXRhLmRhdGE7XG5cdCAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZUxvYWRpbmcnLCBwYXlsb2FkOiBuZXdEYXRhIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMDpcblx0ICAgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHNob3dNb2RhbCwgdGhpcyk7XG5cdCAgICB9KVxuXHQgIH0sXG5cdFxuXHQgIHJlZHVjZXJzOiB7XG5cdCAgICBzaG93TG9hZGluZzogZnVuY3Rpb24gc2hvd0xvYWRpbmcoc3RhdGUpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGxvYWRpbmc6IHRydWUgfSk7XG5cdCAgICB9LFxuXHQgICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uIGhpZGVMb2FkaW5nKHN0YXRlKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiBmYWxzZSB9KTtcblx0ICAgIH0sXG5cdCAgICBxdWVyeVN1Y2Nlc3M6IGZ1bmN0aW9uIHF1ZXJ5U3VjY2VzcyhzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9kdmEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0XG5cdHZhciBfTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjc3KTtcblx0XG5cdHZhciBfTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0KTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzkpO1xuXHRcblx0dmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTtcblx0XG5cdHZhciBfTW9kYWxGb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO1xuXHRcblx0dmFyIF9Nb2RhbEZvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWxGb3JtKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfb3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFVzZXIoX3JlZikge1xuXHQgIHZhciBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG5cdCAgICAgIGN1clBvd2VycyA9IF9yZWYuY3VyUG93ZXJzLFxuXHQgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG5cdCAgICAgIGFjY291bnRVc2VyID0gX3JlZi5hY2NvdW50VXNlcjtcblx0ICB2YXIgbGlzdCA9IGFjY291bnRVc2VyLmxpc3QsXG5cdCAgICAgIHBhZ2luYXRpb24gPSBhY2NvdW50VXNlci5wYWdpbmF0aW9uLFxuXHQgICAgICBsb2FkaW5nID0gYWNjb3VudFVzZXIubG9hZGluZztcblx0ICB2YXIgX2xvY2F0aW9uJHF1ZXJ5ID0gbG9jYXRpb24ucXVlcnksXG5cdCAgICAgIGZpZWxkID0gX2xvY2F0aW9uJHF1ZXJ5LmZpZWxkLFxuXHQgICAgICBrZXl3b3JkID0gX2xvY2F0aW9uJHF1ZXJ5LmtleXdvcmQ7XG5cdFxuXHRcblx0ICB2YXIgYWRkUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLkFERCwgY3VyUG93ZXJzKTtcblx0ICB2YXIgdXBkYXRlUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLlVQREFURSwgY3VyUG93ZXJzKTtcblx0ICB2YXIgZGVsZXRlUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLkRFTEVURSwgY3VyUG93ZXJzKTtcblx0XG5cdCAgdmFyIHVzZXJMaXN0UHJvcHMgPSB7XG5cdCAgICBkYXRhU291cmNlOiBsaXN0LFxuXHQgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sXG5cdCAgICBsb2NhdGlvbjogbG9jYXRpb24sXG5cdCAgICB1cGRhdGVQb3dlcjogdXBkYXRlUG93ZXIsXG5cdCAgICBkZWxldGVQb3dlcjogZGVsZXRlUG93ZXIsXG5cdCAgICBvblBhZ2VDaGFuZ2U6IGZ1bmN0aW9uIG9uUGFnZUNoYW5nZShwYWdlKSB7XG5cdCAgICAgIHZhciBxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICAgICAgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0XG5cdCAgICAgIGRpc3BhdGNoKF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7XG5cdCAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuXHQgICAgICAgIHF1ZXJ5OiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBxdWVyeSwge1xuXHQgICAgICAgICAgY3VycmVudDogcGFnZS5jdXJyZW50LFxuXHQgICAgICAgICAgcGFnZVNpemU6IHBhZ2UucGFnZVNpemVcblx0ICAgICAgICB9KVxuXHQgICAgICB9KSk7XG5cdCAgICB9LFxuXHQgICAgb25EZWxldGVJdGVtOiBmdW5jdGlvbiBvbkRlbGV0ZUl0ZW0oaWQpIHtcblx0ICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgIHR5cGU6ICdhY2NvdW50VXNlci9kZWxldGUnLFxuXHQgICAgICAgIHBheWxvYWQ6IGlkXG5cdCAgICAgIH0pO1xuXHQgICAgfSxcblx0ICAgIG9uRWRpdEl0ZW06IGZ1bmN0aW9uIG9uRWRpdEl0ZW0oaXRlbSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogJ2FjY291bnRVc2VyL3Nob3dNb2RhbCcsXG5cdCAgICAgICAgcGF5bG9hZDoge1xuXHQgICAgICAgICAgdHlwZTogJ3VwZGF0ZScsXG5cdCAgICAgICAgICBjdXJJdGVtOiBpdGVtXG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0sXG5cdCAgICBvblN0YXR1c0l0ZW06IGZ1bmN0aW9uIG9uU3RhdHVzSXRlbShpdGVtKSB7XG5cdCAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICB0eXBlOiAnYWNjb3VudFVzZXIvdXBkYXRlU3RhdHVzJyxcblx0ICAgICAgICBwYXlsb2FkOiBpdGVtXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHZhciB1c2VyU2VhcmNoUHJvcHMgPSB7XG5cdCAgICBmaWVsZDogZmllbGQsXG5cdCAgICBrZXl3b3JkOiBrZXl3b3JkLFxuXHQgICAgYWRkUG93ZXI6IGFkZFBvd2VyLFxuXHQgICAgb25TZWFyY2g6IGZ1bmN0aW9uIG9uU2VhcmNoKGZpZWxkc1ZhbHVlKSB7XG5cdCAgICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHRcblx0ICAgICAgISFmaWVsZHNWYWx1ZS5rZXl3b3JkMi5sZW5ndGggPyBkaXNwYXRjaChfcm91dGVyLnJvdXRlclJlZHV4LnB1c2goe1xuXHQgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcblx0ICAgICAgICBxdWVyeTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZmllbGRzVmFsdWUpXG5cdCAgICAgIH0pKSA6IGRpc3BhdGNoKF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7XG5cdCAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lXG5cdCAgICAgIH0pKTtcblx0ICAgIH0sXG5cdCAgICBvbkFkZDogZnVuY3Rpb24gb25BZGQoKSB7XG5cdCAgICAgIGRpc3BhdGNoKHtcblx0ICAgICAgICB0eXBlOiAnbW9kYWwvc2hvd01vZGFsJyxcblx0ICAgICAgICBwYXlsb2FkOiB7XG5cdCAgICAgICAgICB0eXBlOiAnY3JlYXRlJ1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdmFyIFVzZXJNb2RhbEdlbiA9IGZ1bmN0aW9uIFVzZXJNb2RhbEdlbigpIHtcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTW9kYWxGb3JtMi5kZWZhdWx0LCBudWxsKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAnZGl2Jyxcblx0ICAgIHsgY2xhc3NOYW1lOiAnY29udGVudC1pbm5lcicgfSxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TZWFyY2gyLmRlZmF1bHQsIHVzZXJTZWFyY2hQcm9wcyksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlzdDIuZGVmYXVsdCwgdXNlckxpc3RQcm9wcyksXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChVc2VyTW9kYWxHZW4sIG51bGwpXG5cdCAgKTtcblx0fVxuXHRcblx0VXNlci5wcm9wVHlwZXMgPSB7XG5cdCAgYWNjb3VudFVzZXI6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGxvY2F0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBkaXNwYXRjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoX3JlZjIpIHtcblx0ICB2YXIgYWNjb3VudFVzZXIgPSBfcmVmMi5hY2NvdW50VXNlcjtcblx0XG5cdCAgcmV0dXJuIHsgYWNjb3VudFVzZXI6IGFjY291bnRVc2VyIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfZHZhLmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoVXNlcik7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy51cGRhdGUgPSBleHBvcnRzLnJlbW92ZSA9IGV4cG9ydHMuY3JlYXRlID0gZXhwb3J0cy5nZXQgPSBleHBvcnRzLnF1ZXJ5ID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHRcblx0dmFyIF9hc3luY1RvR2VuZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FzeW5jVG9HZW5lcmF0b3IyKTtcblx0XG5cdHZhciBxdWVyeSA9IGV4cG9ydHMucXVlcnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcblx0ICAgICAgd2hpbGUgKDEpIHtcblx0ICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG5cdCAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoJ3JldHVybicsICgwLCBfdXRpbHMucmVxdWVzdCkoJy9kYXNoYm9hcmQtdXNlci9saXN0Jywge1xuXHQgICAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsXG5cdCAgICAgICAgICAgICAgZGF0YTogcGFyYW1zXG5cdCAgICAgICAgICAgIH0pKTtcblx0XG5cdCAgICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG5cdCAgfSkpO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gcXVlcnkoX3gpIHtcblx0ICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fSgpO1xuXHRcblx0dmFyIGdldCA9IGV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfcmVmMiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuXHQgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2FwaS91c2VySXRlbScsIHtcblx0ICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuXHQgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuXHQgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG5cdCAgfSkpO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gZ2V0KF94Mikge1xuXHQgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fSgpO1xuXHRcblx0dmFyIGNyZWF0ZSA9IGV4cG9ydHMuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfcmVmMyA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuXHQgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2FwaS91c2VyJywge1xuXHQgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuXHQgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuXHQgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG5cdCAgfSkpO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlKF94Mykge1xuXHQgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fSgpO1xuXHRcblx0dmFyIHJlbW92ZSA9IGV4cG9ydHMucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfcmVmNCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuXHQgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2FwaS91c2VyJywge1xuXHQgICAgICAgICAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG5cdCAgICAgICAgICAgICAgZGF0YTogcGFyYW1zXG5cdCAgICAgICAgICAgIH0pKTtcblx0XG5cdCAgICAgICAgICBjYXNlIDE6XG5cdCAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIF9jYWxsZWU0LCB0aGlzKTtcblx0ICB9KSk7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiByZW1vdmUoX3g0KSB7XG5cdCAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgdXBkYXRlID0gZXhwb3J0cy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9yZWY1ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlNShwYXJhbXMpIHtcblx0ICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG5cdCAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG5cdCAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCdyZXR1cm4nLCAoMCwgX3V0aWxzLnJlcXVlc3QpKCcvYXBpL3VzZXInLCB7XG5cdCAgICAgICAgICAgICAgbWV0aG9kOiAncHV0Jyxcblx0ICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcblx0ICAgICAgICAgICAgfSkpO1xuXHRcblx0ICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuXHQgIH0pKTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShfeDUpIHtcblx0ICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0sXG5cbi8qKiovIDg2MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widGFibGVcIjpcInRhYmxlX19fM2tEQzhcIixcImF2YXRhclwiOlwiYXZhdGFyX19fRjk1SUhcIixcIndhcm5pbmdcIjpcIndhcm5pbmdfX18yTDNoclwiLFwiZGFuZ2VyXCI6XCJkYW5nZXJfX18xMUhzZlwifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYWNjb3VudC11c2VyLmpzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JjQ2hlY2tib3ggPSByZXF1aXJlKCdyYy1jaGVja2JveCcpO1xuXG52YXIgX3JjQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNDaGVja2JveCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Hcm91cCA9IHJlcXVpcmUoJy4vR3JvdXAnKTtcblxudmFyIF9Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuXG52YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2hlY2tib3goKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2hlY2tib3gpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgQ2hlY2tib3gucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgQ2hlY2tib3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IF9hLmluZGV0ZXJtaW5hdGUsXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXIsXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmUgPSBfYS5vbk1vdXNlTGVhdmUsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcInN0eWxlXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJpbmRldGVybWluYXRlXCIsIFwib25Nb3VzZUVudGVyXCIsIFwib25Nb3VzZUxlYXZlXCJdKTtcbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSkpO1xuICAgICAgICB2YXIgY2hlY2tib3hDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLWluZGV0ZXJtaW5hdGUnLCBpbmRldGVybWluYXRlKSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IHN0eWxlLCBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQ2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2hlY2tib3hDbGFzcywgY2hpbGRyZW46IG51bGwgfSkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBDaGVja2JveDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveDtcblxuQ2hlY2tib3guR3JvdXAgPSBfR3JvdXAyW1wiZGVmYXVsdFwiXTtcbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gnLFxuICAgIGluZGV0ZXJtaW5hdGU6IGZhbHNlXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvY2hlY2tib3gvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0gdW5kZWZpbmVkO1xuZXhwb3J0cy5nZXRWYWx1ZVByb3BWYWx1ZSA9IGdldFZhbHVlUHJvcFZhbHVlO1xuZXhwb3J0cy5nZXRQcm9wVmFsdWUgPSBnZXRQcm9wVmFsdWU7XG5leHBvcnRzLmlzQ29tYm9ib3ggPSBpc0NvbWJvYm94O1xuZXhwb3J0cy5pc011bHRpcGxlT3JUYWdzID0gaXNNdWx0aXBsZU9yVGFncztcbmV4cG9ydHMuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3ggPSBpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveDtcbmV4cG9ydHMuaXNTaW5nbGVNb2RlID0gaXNTaW5nbGVNb2RlO1xuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbmV4cG9ydHMucHJldmVudERlZmF1bHRFdmVudCA9IHByZXZlbnREZWZhdWx0RXZlbnQ7XG5leHBvcnRzLmZpbmRJbmRleEluVmFsdWVCeUtleSA9IGZpbmRJbmRleEluVmFsdWVCeUtleTtcbmV4cG9ydHMuZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwgPSBmaW5kSW5kZXhJblZhbHVlQnlMYWJlbDtcbmV4cG9ydHMuZ2V0U2VsZWN0S2V5cyA9IGdldFNlbGVjdEtleXM7XG5leHBvcnRzLmZpbmRGaXJzdE1lbnVJdGVtID0gZmluZEZpcnN0TWVudUl0ZW07XG5leHBvcnRzLmluY2x1ZGVzU2VwYXJhdG9ycyA9IGluY2x1ZGVzU2VwYXJhdG9ycztcbmV4cG9ydHMuc3BsaXRCeVNlcGFyYXRvcnMgPSBzcGxpdEJ5U2VwYXJhdG9ycztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0VmFsdWVQcm9wVmFsdWUoY2hpbGQpIHtcbiAgdmFyIHByb3BzID0gY2hpbGQucHJvcHM7XG4gIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnZhbHVlO1xuICB9XG4gIGlmIChjaGlsZC5rZXkpIHtcbiAgICByZXR1cm4gY2hpbGQua2V5O1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignbm8ga2V5IG9yIHZhbHVlIGZvciAnICsgY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wVmFsdWUoY2hpbGQsIHByb3ApIHtcbiAgaWYgKHByb3AgPT09ICd2YWx1ZScpIHtcbiAgICByZXR1cm4gZ2V0VmFsdWVQcm9wVmFsdWUoY2hpbGQpO1xuICB9XG4gIHJldHVybiBjaGlsZC5wcm9wc1twcm9wXTtcbn1cblxuZnVuY3Rpb24gaXNDb21ib2JveChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY29tYm9ib3g7XG59XG5cbmZ1bmN0aW9uIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLm11bHRpcGxlIHx8IHByb3BzLnRhZ3M7XG59XG5cbmZ1bmN0aW9uIGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKSB7XG4gIHJldHVybiBpc011bHRpcGxlT3JUYWdzKHByb3BzKSB8fCBpc0NvbWJvYm94KHByb3BzKTtcbn1cblxuZnVuY3Rpb24gaXNTaW5nbGVNb2RlKHByb3BzKSB7XG4gIHJldHVybiAhaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gocHJvcHMpO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHZhciByZXQgPSB2YWx1ZTtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXQgPSBbXTtcbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXQgPSBbdmFsdWVdO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0RXZlbnQoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleEluVmFsdWVCeUtleSh2YWx1ZSwga2V5KSB7XG4gIHZhciBpbmRleCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZhbHVlW2ldLmtleSA9PT0ga2V5KSB7XG4gICAgICBpbmRleCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXhJblZhbHVlQnlMYWJlbCh2YWx1ZSwgbGFiZWwpIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodG9BcnJheSh2YWx1ZVtpXS5sYWJlbCkuam9pbignJykgPT09IGxhYmVsKSB7XG4gICAgICBpbmRleCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3RLZXlzKG1lbnVJdGVtcywgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgdmFyIHNlbGVjdGVkS2V5cyA9IFtdO1xuICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKG1lbnVJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuICAgICAgc2VsZWN0ZWRLZXlzID0gc2VsZWN0ZWRLZXlzLmNvbmNhdChnZXRTZWxlY3RLZXlzKGl0ZW0ucHJvcHMuY2hpbGRyZW4sIHZhbHVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpdGVtVmFsdWUgPSBnZXRWYWx1ZVByb3BWYWx1ZShpdGVtKTtcbiAgICAgIHZhciBpdGVtS2V5ID0gaXRlbS5rZXk7XG4gICAgICBpZiAoZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBpdGVtVmFsdWUpICE9PSAtMSAmJiBpdGVtS2V5KSB7XG4gICAgICAgIHNlbGVjdGVkS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzZWxlY3RlZEtleXM7XG59XG5cbnZhciBVTlNFTEVDVEFCTEVfU1RZTEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9TVFlMRSA9IHtcbiAgdXNlclNlbGVjdDogJ25vbmUnLFxuICBXZWJraXRVc2VyU2VsZWN0OiAnbm9uZSdcbn07XG5cbnZhciBVTlNFTEVDVEFCTEVfQVRUUklCVVRFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfQVRUUklCVVRFID0ge1xuICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnXG59O1xuXG5mdW5jdGlvbiBmaW5kRmlyc3RNZW51SXRlbShjaGlsZHJlbikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGNoaWxkLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG4gICAgICB2YXIgZm91bmQgPSBmaW5kRmlyc3RNZW51SXRlbShjaGlsZC5wcm9wcy5jaGlsZHJlbik7XG4gICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlc1NlcGFyYXRvcnMoc3RyaW5nLCBzZXBhcmF0b3JzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2VwYXJhdG9ycy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzdHJpbmcubGFzdEluZGV4T2Yoc2VwYXJhdG9yc1tpXSkgPiAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzcGxpdEJ5U2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcbiAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJ1snICsgc2VwYXJhdG9ycy5qb2luKCkgKyAnXScpO1xuICB2YXIgYXJyYXkgPSBzdHJpbmcuc3BsaXQocmVnKTtcbiAgaWYgKGFycmF5WzBdID09PSAnJykge1xuICAgIGFycmF5LnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdID09PSAnJykge1xuICAgIGFycmF5LnBvcCgpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL3V0aWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLnRvQXJyYXlDaGlsZHJlbiA9IHRvQXJyYXlDaGlsZHJlbjtcbmV4cG9ydHMuZGF0YVRvQXJyYXkgPSBkYXRhVG9BcnJheTtcbmV4cG9ydHMub2JqZWN0RXF1YWwgPSBvYmplY3RFcXVhbDtcbmV4cG9ydHMuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5ID0gZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5O1xuZXhwb3J0cy5tZXJnZUNoaWxkcmVuID0gbWVyZ2VDaGlsZHJlbjtcbmV4cG9ydHMudHJhbnNmb3JtQXJndW1lbnRzID0gdHJhbnNmb3JtQXJndW1lbnRzO1xuZXhwb3J0cy5nZXRDaGlsZHJlbkZyb21Qcm9wcyA9IGdldENoaWxkcmVuRnJvbVByb3BzO1xuZXhwb3J0cy5zdGFydENvbnZlcnRUb0VuZFVuaXQgPSBzdGFydENvbnZlcnRUb0VuZFVuaXQ7XG5leHBvcnRzLnBhcnNlUGF0aCA9IHBhcnNlUGF0aDtcbmV4cG9ydHMuZ2V0VHJhbnNmb3JtVmFsdWUgPSBnZXRUcmFuc2Zvcm1WYWx1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2RlZXBFcWwgPSByZXF1aXJlKCdkZWVwLWVxbCcpO1xuXG52YXIgX2RlZXBFcWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcEVxbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0b0FycmF5Q2hpbGRyZW4oY2hpbGRyZW4pIHtcbiAgdmFyIHJldCA9IFtdO1xuICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuICAgIHJldC5wdXNoKGMpO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZGF0YVRvQXJyYXkodmFycykge1xuICBpZiAoIXZhcnMgJiYgdmFycyAhPT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YXJzKSkge1xuICAgIHJldHVybiB2YXJzO1xuICB9XG4gIHJldHVybiBbdmFyc107XG59XG5cbmZ1bmN0aW9uIG9iamVjdEVxdWFsKG9iajEsIG9iajIpIHtcbiAgaWYgKG9iajEgPT09IG9iajIgfHwgKDAsIF9kZWVwRXFsMltcImRlZmF1bHRcIl0pKG9iajEsIG9iajIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFvYmoxIHx8ICFvYmoyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGFuaW1hdGlvbiDlhpnlnKjmoIfnrb7kuIrnmoTov5vooYzliKTmlq3mmK/lkKbnm7jnrYnvvIwg5Yik5pat5q+P5Liq5Y+C5pWw5pyJ5rKh5pyJIGZ1bmN0aW9uO1xuICB2YXIgZXF1YWxCb29sID0gdHJ1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkgJiYgQXJyYXkuaXNBcnJheShvYmoyKSkge1xuICAgIGlmIChvYmoxLmxlbmd0aCAhPT0gb2JqMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoxLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY3VycmVudE9iaiA9IG9iajFbaV07XG4gICAgICB2YXIgbmV4dE9iaiA9IG9iajJbaV07XG4gICAgICBmb3IgKHZhciBwIGluIGN1cnJlbnRPYmopIHtcbiAgICAgICAgaWYgKGN1cnJlbnRPYmpbcF0gIT09IG5leHRPYmpbcF0pIHtcbiAgICAgICAgICBpZiAoX3R5cGVvZihjdXJyZW50T2JqW3BdKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihuZXh0T2JqW3BdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGVxdWFsQm9vbCA9IG9iamVjdEVxdWFsKGN1cnJlbnRPYmpbcF0sIG5leHRPYmpbcF0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRPYmpbcF0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG5leHRPYmpbcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50T2JqW3BdLm5hbWUgIT09IG5leHRPYmpbcF0ubmFtZSkge1xuICAgICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHNldEVxdWFsQm9vbCA9IGZ1bmN0aW9uIHNldEVxdWFsQm9vbChvYmpBLCBvYmpCKSB7XG4gICAgT2JqZWN0LmtleXMob2JqQSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIShrZXkgaW4gb2JqQikpIHtcbiAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdHlwZW9mKG9iakFba2V5XSkgPT09ICdvYmplY3QnICYmIF90eXBlb2Yob2JqQltrZXldKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwob2JqQVtrZXldLCBvYmpCW2tleV0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqQVtrZXldID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmpCW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG9iakFba2V5XS5uYW1lICE9PSBvYmpCW2tleV0ubmFtZSkge1xuICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9iakFba2V5XSAhPT0gb2JqQltrZXldKSB7XG4gICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHNldEVxdWFsQm9vbChvYmoxLCBvYmoyKTtcbiAgc2V0RXF1YWxCb29sKG9iajIsIG9iajEpO1xuICByZXR1cm4gZXF1YWxCb29sO1xufVxuXG5mdW5jdGlvbiBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY2hpbGRyZW4sIGtleSkge1xuICB2YXIgcmV0ID0gbnVsbDtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKHJldCB8fCAhYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYy5rZXkgPT09IGtleSkge1xuICAgICAgICByZXQgPSBjO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRyZW4ocHJldiwgbmV4dCkge1xuICB2YXIgcmV0ID0gW107XG4gIC8vIEZvciBlYWNoIGtleSBvZiBgbmV4dGAsIHRoZSBsaXN0IG9mIGtleXMgdG8gaW5zZXJ0IGJlZm9yZSB0aGF0IGtleSBpblxuICAvLyB0aGUgY29tYmluZWQgbGlzdFxuICB2YXIgbmV4dENoaWxkcmVuUGVuZGluZyA9IHt9O1xuICB2YXIgcGVuZGluZ0NoaWxkcmVuID0gW107XG4gIHZhciBmb2xsb3dDaGlsZHJlbktleSA9IHZvaWQgMDtcbiAgcHJldi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgaWYgKCFjKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkobmV4dCwgYy5rZXkpKSB7XG4gICAgICBpZiAocGVuZGluZ0NoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICBuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSA9IHBlbmRpbmdDaGlsZHJlbjtcbiAgICAgICAgcGVuZGluZ0NoaWxkcmVuID0gW107XG4gICAgICB9XG4gICAgICBmb2xsb3dDaGlsZHJlbktleSA9IGMua2V5O1xuICAgIH0gZWxzZSBpZiAoYy5rZXkpIHtcbiAgICAgIHBlbmRpbmdDaGlsZHJlbi5wdXNoKGMpO1xuICAgIH1cbiAgfSk7XG4gIGlmICghZm9sbG93Q2hpbGRyZW5LZXkpIHtcbiAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG4gIH1cblxuICBuZXh0LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICBpZiAoIWMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5leHRDaGlsZHJlblBlbmRpbmcuaGFzT3duUHJvcGVydHkoYy5rZXkpKSB7XG4gICAgICByZXQgPSByZXQuY29uY2F0KG5leHRDaGlsZHJlblBlbmRpbmdbYy5rZXldKTtcbiAgICB9XG4gICAgcmV0LnB1c2goYyk7XG4gICAgaWYgKGMua2V5ID09PSBmb2xsb3dDaGlsZHJlbktleSkge1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChwZW5kaW5nQ2hpbGRyZW4pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtQXJndW1lbnRzKGFyZywga2V5LCBpKSB7XG4gIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmVzdWx0ID0gYXJnKHtcbiAgICAgIGtleToga2V5LFxuICAgICAgaW5kZXg6IGlcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSBhcmc7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzICYmIHByb3BzLmNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBzdGFydENvbnZlcnRUb0VuZFVuaXQodGFyZ2V0LCBzdHlsZSwgbnVtLCB1bml0LCBkYXRhVW5pdCwgZml4ZWQsIGlzT3JpZ2luV2lkdGgpIHtcbiAgdmFyIGhvcml6ID0gLyg/OkxlZnR8UmlnaHR8V2lkdGh8WCkvaS50ZXN0KHN0eWxlKSB8fCBpc09yaWdpbldpZHRoO1xuICB2YXIgdCA9IHN0eWxlLmluZGV4T2YoJ2JvcmRlcicpICE9PSAtMSA/IHRhcmdldCA6IHRhcmdldC5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHk7XG4gIHQgPSBmaXhlZCA/IGRvY3VtZW50LmJvZHkgOiB0O1xuICB2YXIgcGl4ID0gdm9pZCAwO1xuXG4gIGlmICh1bml0ID09PSAnJScpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyAxMDAgKiAoaG9yaXogPyB0LmNsaWVudFdpZHRoIDogdC5jbGllbnRIZWlnaHQpO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2dycpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gMTAwO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2aCcpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAvIDEwMDtcbiAgfSBlbHNlIGlmICh1bml0ICYmIHVuaXQubWF0Y2goL2VtL2kpKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogMTY7XG4gIH0gZWxzZSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pO1xuICB9XG4gIGlmIChkYXRhVW5pdCA9PT0gJyUnKSB7XG4gICAgcGl4ID0gcGl4ICogMTAwIC8gKGhvcml6ID8gdC5jbGllbnRXaWR0aCA6IHQuY2xpZW50SGVpZ2h0KTtcbiAgfSBlbHNlIGlmIChkYXRhVW5pdCA9PT0gJ3Z3Jykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKiAxMDA7XG4gIH0gZWxzZSBpZiAoZGF0YVVuaXQgPT09ICd2aCcpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIDEwMDtcbiAgfSBlbHNlIGlmIChkYXRhVW5pdCAmJiBkYXRhVW5pdC5tYXRjaCgvZW0vaSkpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyAxNjtcbiAgfVxuICByZXR1cm4gcGl4O1xufVxuXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHBhdGguY2hhckF0KDApLm1hdGNoKC9tL2kpKSB7XG4gICAgICB2YXIgZG9tUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgICAgZG9tUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIHBhdGgpO1xuICAgICAgcmV0dXJuIGRvbVBhdGg7XG4gICAgfVxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhdGgpO1xuICB9IGVsc2UgaWYgKHBhdGguc3R5bGUpIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHdoaWxlIHBhcnNpbmcgdGhlIHBhdGgnKTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtVmFsdWUodCwgc3VwcG9ydHMzRCkge1xuICBpZiAodHlwZW9mIHQgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgdmFyIHBlcnNwZWN0aXZlID0gdC5wZXJzcGVjdGl2ZTtcbiAgdmFyIGFuZ2xlID0gdC5yb3RhdGU7XG4gIHZhciByb3RhdGVYID0gdC5yb3RhdGVYO1xuICB2YXIgcm90YXRlWSA9IHQucm90YXRlWTtcbiAgdmFyIHN4ID0gdC5zY2FsZVg7XG4gIHZhciBzeSA9IHQuc2NhbGVZO1xuICB2YXIgc3ogPSB0LnNjYWxlWjtcbiAgdmFyIHNreCA9IHQuc2tld1g7XG4gIHZhciBza3kgPSB0LnNrZXdZO1xuICB2YXIgeFBlcmNlbnQgPSB0LnhQZXJjZW50IHx8IDA7XG4gIHZhciB5UGVyY2VudCA9IHQueVBlcmNlbnQgfHwgMDtcbiAgdmFyIHRyYW5zbGF0ZVggPSB4UGVyY2VudCA/IDAgOiB0LnRyYW5zbGF0ZVg7XG4gIHZhciB0cmFuc2xhdGVZID0geVBlcmNlbnQgPyAwIDogdC50cmFuc2xhdGVZO1xuICB2YXIgdHJhbnNsYXRlWiA9IHQudHJhbnNsYXRlWiB8fCAwO1xuICB2YXIgcGVyY2VudCA9IHhQZXJjZW50IHx8IHlQZXJjZW50ID8gJ3RyYW5zbGF0ZSgnICsgKHhQZXJjZW50IHx8IHRyYW5zbGF0ZVggKyAncHgnKSArICcsJyArICh5UGVyY2VudCB8fCB0cmFuc2xhdGVZICsgJ3B4JykgKyAnKScgOiAnJztcbiAgdmFyIHNrID0gc2t4IHx8IHNreSA/ICdza2V3KCcgKyBza3ggKyAnZGVnLCcgKyBza3kgKyAnZGVnKScgOiAnJztcbiAgdmFyIGFuID0gYW5nbGUgPyAncm90YXRlKCcgKyBhbmdsZSArICdkZWcpJyA6ICcnO1xuICB2YXIgc3MgPSB2b2lkIDA7XG4gIGlmICghcGVyc3BlY3RpdmUgJiYgIXJvdGF0ZVggJiYgIXJvdGF0ZVkgJiYgIXRyYW5zbGF0ZVogJiYgc3ogPT09IDEgfHwgIXN1cHBvcnRzM0QpIHtcbiAgICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxID8gJ3NjYWxlKCcgKyBzeCArICcsJyArIHN5ICsgJyknIDogJyc7XG4gICAgdmFyIHRyYW5zbGF0ZSA9IHBlcmNlbnQgfHwgJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCknO1xuICAgIHJldHVybiB0cmFuc2xhdGUgKyAnICcgKyBhbiArICcgJyArIHNzICsgJyAnICsgc2s7XG4gIH1cbiAgc3MgPSBzeCAhPT0gMSB8fCBzeSAhPT0gMSB8fCBzeiAhPT0gMSA/ICdzY2FsZTNkKCcgKyBzeCArICcsJyArIHN5ICsgJywnICsgc3ogKyAnKScgOiAnJztcbiAgdmFyIHJYID0gcm90YXRlWCA/ICdyb3RhdGVYKCcgKyByb3RhdGVYICsgJ2RlZyknIDogJyc7XG4gIHZhciByWSA9IHJvdGF0ZVkgPyAncm90YXRlWSgnICsgcm90YXRlWSArICdkZWcpJyA6ICcnO1xuICB2YXIgcGVyID0gcGVyc3BlY3RpdmUgPyAncGVyc3BlY3RpdmUoJyArIHBlcnNwZWN0aXZlICsgJ3B4KScgOiAnJztcbiAgdmFyIHRyYW5zbGF0ZTNkID0gcGVyY2VudCA/IHBlcmNlbnQgKyAnIHRyYW5zbGF0ZTNkKDAsMCwnICsgdHJhbnNsYXRlWiArICdweCknIDogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4LCcgKyB0cmFuc2xhdGVaICsgJ3B4KSc7XG4gIHJldHVybiBwZXIgKyAnICcgKyB0cmFuc2xhdGUzZCArICcgJyArIHNzICsgJyAnICsgYW4gKyAnICcgKyByWCArICcgJyArIHJZICsgJyAnICsgc2s7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi91dGlsLmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmNTZWxlY3QgPSByZXF1aXJlKCdyYy1zZWxlY3QnKTtcblxudmFyIF9yY1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1NlbGVjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuLy8gPT4gSXQgaXMgbmVlZGxlc3MgdG8gZXhwb3J0IHRoZSBkZWNsYXJhdGlvbiBvZiBiZWxvdyB0d28gaW5uZXIgY29tcG9uZW50cy5cbi8vIGV4cG9ydCB7IE9wdGlvbiwgT3B0R3JvdXAgfTtcbnZhciBTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNlbGVjdCgpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3QpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgU2VsZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZSxcbiAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcbiAgICAgICAgICAgIGNvbWJvYm94ID0gX3Byb3BzLmNvbWJvYm94O1xuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBfcHJvcHMyJG5vdEZvdW5kQ29udGUgPSBfcHJvcHMyLm5vdEZvdW5kQ29udGVudCxcbiAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9IF9wcm9wczIkbm90Rm91bmRDb250ZSA9PT0gdW5kZWZpbmVkID8gJ05vdCBGb3VuZCcgOiBfcHJvcHMyJG5vdEZvdW5kQ29udGUsXG4gICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBfcHJvcHMyLm9wdGlvbkxhYmVsUHJvcDtcblxuICAgICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWxnJywgc2l6ZSA9PT0gJ2xhcmdlJyksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctc20nLCBzaXplID09PSAnc21hbGwnKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuICAgICAgICB2YXIgYW50TG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZTtcblxuICAgICAgICBpZiAoYW50TG9jYWxlICYmIGFudExvY2FsZS5TZWxlY3QpIHtcbiAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9ICdub3RGb3VuZENvbnRlbnQnIGluIHRoaXMucHJvcHMgPyBub3RGb3VuZENvbnRlbnQgOiBhbnRMb2NhbGUuU2VsZWN0Lm5vdEZvdW5kQ29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tYm9ib3gpIHtcbiAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBjaGlsZHJlbiDluKYgZG9tIOe7k+aehOaXtu+8jOaXoOazleWhq+WFpei+k+WFpeahhlxuICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wID0gb3B0aW9uTGFiZWxQcm9wIHx8ICd2YWx1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjU2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNscywgb3B0aW9uTGFiZWxQcm9wOiBvcHRpb25MYWJlbFByb3AgfHwgJ2NoaWxkcmVuJywgbm90Rm91bmRDb250ZW50OiBub3RGb3VuZENvbnRlbnQgfSkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2VsZWN0O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcblxuU2VsZWN0Lk9wdGlvbiA9IF9yY1NlbGVjdC5PcHRpb247XG5TZWxlY3QuT3B0R3JvdXAgPSBfcmNTZWxlY3QuT3B0R3JvdXA7XG5TZWxlY3QuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1zZWxlY3QnLFxuICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuICAgIHRyYW5zaXRpb25OYW1lOiAnc2xpZGUtdXAnLFxuICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiAnem9vbSdcbn07XG5TZWxlY3QucHJvcFR5cGVzID0ge1xuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzaXplOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFsnZGVmYXVsdCcsICdsYXJnZScsICdzbWFsbCddKSxcbiAgICBjb21ib2JveDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG5vdEZvdW5kQ29udGVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9wdGlvbkxhYmVsUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3NlbGVjdC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JjUmFkaW8gPSByZXF1aXJlKCdyYy1yYWRpbycpO1xuXG52YXIgX3JjUmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNSYWRpbyk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUmFkaW8gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW8sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaW8oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW8pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgUmFkaW8ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgUmFkaW8ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVzLCBfY2xhc3NOYW1lczI7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICBjaGVja2VkID0gX3Byb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuICAgICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGU7XG5cbiAgICAgICAgdmFyIHdyYXBwZXJDbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1jaGVja2VkJywgY2hlY2tlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoX2NsYXNzTmFtZXMyID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzMikpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogd3JhcHBlckNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogdGhpcy5wcm9wcy5vbk1vdXNlTGVhdmUgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjUmFkaW8yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnByb3BzLCB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBudWxsLCBjaGlsZHJlbjogbnVsbCB9KSksXG4gICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJhZGlvO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvO1xuXG5SYWRpby5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LXJhZGlvJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUYWJsZSA9IHJlcXVpcmUoJy4vVGFibGUnKTtcbnZhciBDb2x1bW4gPSByZXF1aXJlKCcuL0NvbHVtbicpO1xudmFyIENvbHVtbkdyb3VwID0gcmVxdWlyZSgnLi9Db2x1bW5Hcm91cCcpO1xuXG5UYWJsZS5Db2x1bW4gPSBDb2x1bW47XG5UYWJsZS5Db2x1bW5Hcm91cCA9IENvbHVtbkdyb3VwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhYmxlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9pbnB1dC9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3NlbGVjdC9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG52YXIgUGx1Z2lucyA9IGZ1bmN0aW9uIFBsdWdpbnMoKSB7fTtcbnZhciBwID0gUGx1Z2lucy5wcm90b3R5cGU7XG5wLnB1c2ggPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gIHRoaXNbcGx1Z2luLnByb3RvdHlwZS5uYW1lXSA9IHBsdWdpbjtcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG5ldyBQbHVnaW5zKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3BsdWdpbnMuanNcbiAqKiBtb2R1bGUgaWQgPSAzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnRvRml4ZWQgPSB0b0ZpeGVkO1xuZXhwb3J0cy5jcmVhdGVNYXRyaXggPSBjcmVhdGVNYXRyaXg7XG5leHBvcnRzLmNoZWNrU3R5bGVOYW1lID0gY2hlY2tTdHlsZU5hbWU7XG5leHBvcnRzLmdldEdzYXBUeXBlID0gZ2V0R3NhcFR5cGU7XG5leHBvcnRzLnBhcnNlQ29sb3IgPSBwYXJzZUNvbG9yO1xuZXhwb3J0cy5wYXJzZVNoYWRvdyA9IHBhcnNlU2hhZG93O1xuZXhwb3J0cy5nZXRDb2xvciA9IGdldENvbG9yO1xuZXhwb3J0cy5pc1RyYW5zZm9ybSA9IGlzVHJhbnNmb3JtO1xuZXhwb3J0cy5pc0NvbnZlcnQgPSBpc0NvbnZlcnQ7XG5leHBvcnRzLnNwbGl0RmlsdGVyVG9PYmplY3QgPSBzcGxpdEZpbHRlclRvT2JqZWN0O1xuZXhwb3J0cy5nZXRNYXRyaXggPSBnZXRNYXRyaXg7XG5leHBvcnRzLmdldFRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybTtcbmV4cG9ydHMuc3R5bGVzVG9Dc3MgPSBzdHlsZXNUb0NzcztcbmV4cG9ydHMuZ2V0VW5pdCA9IGdldFVuaXQ7XG5leHBvcnRzLmdldFZhbHVlcyA9IGdldFZhbHVlcztcbmV4cG9ydHMuZmluZFN0eWxlQnlOYW1lID0gZmluZFN0eWxlQnlOYW1lO1xuZXhwb3J0cy5tZXJnZVN0eWxlID0gbWVyZ2VTdHlsZTtcbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG52YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXG5mdW5jdGlvbiBwcmVmaXhLZXkocHJlZml4LCBrZXkpIHtcbiAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG59XG5cbk9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaXNVbml0bGVzc051bWJlcltwcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBpc1VuaXRsZXNzTnVtYmVyW3Byb3BdO1xuICB9KTtcbn0pO1xuXG52YXIgdW5xdW90ZWRDb250ZW50VmFsdWVSZWdleCA9IC9eKG5vcm1hbHxub25lfChcXGIodXJsXFwoW14pXSpcXCl8Y2hhcHRlcl9jb3VudGVyfGF0dHJcXChbXildKlxcKXwobm8tKT8ob3BlbnxjbG9zZSktcXVvdGV8aW5oZXJpdCkoKFxcYlxccyopfCR8XFxzKykpKykkLztcblxudmFyIElFID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobmF2aWdhdG9yICYmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDguMFwiKSA+IDAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA5LjBcIikgPiAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0oKTtcblxudmFyIHJuZCA9IDEwMDAwMDtcblxudmFyIGNvbG9yTG9va3VwID0ge1xuICBhcXVhOiBbMCwgMjU1LCAyNTVdLFxuICBsaW1lOiBbMCwgMjU1LCAwXSxcbiAgc2lsdmVyOiBbMTkyLCAxOTIsIDE5Ml0sXG4gIGJsYWNrOiBbMCwgMCwgMF0sXG4gIG1hcm9vbjogWzEyOCwgMCwgMF0sXG4gIHRlYWw6IFswLCAxMjgsIDEyOF0sXG4gIGJsdWU6IFswLCAwLCAyNTVdLFxuICBuYXZ5OiBbMCwgMCwgMTI4XSxcbiAgd2hpdGU6IFsyNTUsIDI1NSwgMjU1XSxcbiAgZnVjaHNpYTogWzI1NSwgMCwgMjU1XSxcbiAgb2xpdmU6IFsxMjgsIDEyOCwgMF0sXG4gIHllbGxvdzogWzI1NSwgMjU1LCAwXSxcbiAgb3JhbmdlOiBbMjU1LCAxNjUsIDBdLFxuICBncmF5OiBbMTI4LCAxMjgsIDEyOF0sXG4gIHB1cnBsZTogWzEyOCwgMCwgMTI4XSxcbiAgZ3JlZW46IFswLCAxMjgsIDBdLFxuICByZWQ6IFsyNTUsIDAsIDBdLFxuICBwaW5rOiBbMjU1LCAxOTIsIDIwM10sXG4gIGN5YW46IFswLCAyNTUsIDI1NV0sXG4gIHRyYW5zcGFyZW50OiBbMjU1LCAyNTUsIDI1NSwgMF1cbn07XG52YXIgX2h1ZSA9IGZ1bmN0aW9uIF9odWUoaGgsIG0xLCBtMikge1xuICB2YXIgaCA9IGhoID4gMSA/IGhoIC0gMSA6IGhoO1xuICBoID0gaGggPCAwID8gaGggKyAxIDogaDtcbiAgdmFyIGEgPSBoICogMyA8IDIgPyBtMSArIChtMiAtIG0xKSAqICgyIC8gMyAtIGgpICogNiA6IG0xO1xuICB2YXIgYiA9IGggPCAwLjUgPyBtMiA6IGE7XG4gIHZhciBjID0gaCAqIDYgPCAxID8gbTEgKyAobTIgLSBtMSkgKiBoICogNiA6IGI7XG4gIHJldHVybiBjICogMjU1ICsgMC41IHwgMDtcbn07XG52YXIgREVHMlJBRCA9IE1hdGguUEkgLyAxODA7XG52YXIgUkFEMkRFRyA9IDE4MCAvIE1hdGguUEk7XG5cbnZhciBjc3NMaXN0ID0ge1xuICBfbGlzdHM6IHtcbiAgICB0cmFuc2Zvcm1zQmFzZTogWyd0cmFuc2xhdGUnLCAndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAncm90YXRlWicsICdyb3RhdGUnXSxcbiAgICB0cmFuc2Zvcm1zM0Q6IFsndHJhbnNsYXRlM2QnLCAndHJhbnNsYXRlWicsICdzY2FsZVonLCAncm90YXRlWCcsICdyb3RhdGVZJywgJ3BlcnNwZWN0aXZlJ11cbiAgfSxcbiAgdHJhbnNmb3JtR3JvdXA6IHsgdHJhbnNsYXRlOiAxLCB0cmFuc2xhdGUzZDogMSwgc2NhbGU6IDEsIHNjYWxlM2Q6IDEsIHJvdGF0ZTogMSwgcm90YXRlM2Q6IDEgfSxcbiAgZmlsdGVyOiBbJ2dyYXlTY2FsZScsICdzZXBpYScsICdodWVSb3RhdGUnLCAnaW52ZXJ0JywgJ2JyaWdodG5lc3MnLCAnY29udHJhc3QnLCAnYmx1ciddLFxuICBmaWx0ZXJDb252ZXJ0OiB7IGdyYXlTY2FsZTogJ2dyYXlzY2FsZScsIGh1ZVJvdGF0ZTogJ2h1ZS1yb3RhdGUnIH1cbn07XG5jc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZSA9ICFJRSA/IGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmNvbmNhdChjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zM0QpIDogY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2U7XG5cbmZ1bmN0aW9uIHRvRml4ZWQobnVtLCBsZW5ndGgpIHtcbiAgdmFyIF9ybmQgPSBsZW5ndGggPyBNYXRoLnBvdygxMCwgbGVuZ3RoKSA6IHJuZDtcbiAgdmFyIG4gPSBudW0gfCAwO1xuICB2YXIgZGVjID0gbnVtIC0gbjtcbiAgcmV0dXJuIGRlYyA/IChkZWMgKiBfcm5kICsgKG51bSA8IDAgPyAtMC41IDogMC41KSB8IDApIC8gX3JuZCArIG4gOiBudW07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1hdHJpeChzdHlsZSkge1xuICByZXR1cm4gd2luZG93LldlYktpdENTU01hdHJpeCAmJiBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChzdHlsZSkgfHwgd2luZG93Lk1vekNTU01hdHJpeCAmJiBuZXcgd2luZG93Lk1vekNTU01hdHJpeChzdHlsZSkgfHwgd2luZG93LkRPTU1hdHJpeCAmJiBuZXcgd2luZG93LkRPTU1hdHJpeChzdHlsZSkgfHwgd2luZG93Lk1zQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuTXNDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5PQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuT0NTU01hdHJpeChzdHlsZSkgfHwgd2luZG93LkNTU01hdHJpeCAmJiBuZXcgd2luZG93LkNTU01hdHJpeChzdHlsZSkgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gY2hlY2tTdHlsZU5hbWUocCkge1xuICB2YXIgYSA9IFsnTycsICdNb3onLCAnbXMnLCAnTXMnLCAnV2Via2l0J107XG4gIGlmIChwICE9PSAnZmlsdGVyJyAmJiBwIGluIGRvY3VtZW50LmJvZHkuc3R5bGUpIHtcbiAgICByZXR1cm4gcDtcbiAgfVxuICB2YXIgX3AgPSBwLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcC5zdWJzdHIoMSk7XG4gIHZhciBwcmVmaXhDc3MgPSBhLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICcnICsga2V5ICsgX3AgaW4gZG9jdW1lbnQuYm9keS5zdHlsZTtcbiAgfSk7XG4gIHJldHVybiBwcmVmaXhDc3NbMF0gPyAnJyArIHByZWZpeENzc1swXSArIF9wIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0R3NhcFR5cGUoX3ApIHtcbiAgdmFyIHAgPSBfcDtcbiAgcCA9IHAgPT09ICd4JyA/ICd0cmFuc2xhdGVYJyA6IHA7XG4gIHAgPSBwID09PSAneScgPyAndHJhbnNsYXRlWScgOiBwO1xuICBwID0gcCA9PT0gJ3onID8gJ3RyYW5zbGF0ZVonIDogcDtcbiAgLy8gcCA9IHAgPT09ICdyJyA/ICdyb3RhdGUnIDogcDtcbiAgcmV0dXJuIHA7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29sb3IoX3YpIHtcbiAgdmFyIGEgPSB2b2lkIDA7XG4gIHZhciByID0gdm9pZCAwO1xuICB2YXIgZyA9IHZvaWQgMDtcbiAgdmFyIGIgPSB2b2lkIDA7XG4gIHZhciBoID0gdm9pZCAwO1xuICB2YXIgcyA9IHZvaWQgMDtcbiAgdmFyIGwgPSB2b2lkIDA7XG4gIHZhciB2ID0gX3Y7XG4gIHZhciBfbnVtRXhwID0gLyg/OlxcZHxcXC1cXGR8XFwuXFxkfFxcLVxcLlxcZCkrL2c7XG4gIGlmICghdikge1xuICAgIGEgPSBjb2xvckxvb2t1cC5ibGFjaztcbiAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcbiAgICBhID0gW3YgPj4gMTYsIHYgPj4gOCAmIDI1NSwgdiAmIDI1NV07XG4gIH0gZWxzZSB7XG4gICAgaWYgKHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgPT09ICcsJykge1xuICAgICAgdiA9IHYuc3Vic3RyKDAsIHYubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGlmIChjb2xvckxvb2t1cFt2XSkge1xuICAgICAgYSA9IGNvbG9yTG9va3VwW3ZdO1xuICAgIH0gZWxzZSBpZiAodi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgLy8gaXMgI0ZGRlxuICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG4gICAgICAgIHIgPSB2LmNoYXJBdCgxKTtcbiAgICAgICAgZyA9IHYuY2hhckF0KDIpO1xuICAgICAgICBiID0gdi5jaGFyQXQoMyk7XG4gICAgICAgIHYgPSAnIycgKyByICsgciArIGcgKyBnICsgYiArIGI7XG4gICAgICB9XG4gICAgICB2ID0gcGFyc2VJbnQodi5zdWJzdHIoMSksIDE2KTtcbiAgICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgMjU1LCB2ICYgMjU1XTtcbiAgICB9IGVsc2UgaWYgKHYuc3Vic3RyKDAsIDMpID09PSAnaHNsJykge1xuICAgICAgYSA9IHYubWF0Y2goX251bUV4cCk7XG4gICAgICBoID0gTnVtYmVyKGFbMF0pICUgMzYwIC8gMzYwO1xuICAgICAgcyA9IE51bWJlcihhWzFdKSAvIDEwMDtcbiAgICAgIGwgPSBOdW1iZXIoYVsyXSkgLyAxMDA7XG4gICAgICBnID0gbCA8PSAwLjUgPyBsICogKHMgKyAxKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICByID0gbCAqIDIgLSBnO1xuICAgICAgaWYgKGEubGVuZ3RoID4gMykge1xuICAgICAgICBhWzNdID0gTnVtYmVyKGFbM10pO1xuICAgICAgfVxuICAgICAgYVswXSA9IF9odWUoaCArIDEgLyAzLCByLCBnKTtcbiAgICAgIGFbMV0gPSBfaHVlKGgsIHIsIGcpO1xuICAgICAgYVsyXSA9IF9odWUoaCAtIDEgLyAzLCByLCBnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IHYubWF0Y2goX251bUV4cCkgfHwgY29sb3JMb29rdXAudHJhbnNwYXJlbnQ7XG4gICAgfVxuICAgIGFbMF0gPSBOdW1iZXIoYVswXSk7XG4gICAgYVsxXSA9IE51bWJlcihhWzFdKTtcbiAgICBhWzJdID0gTnVtYmVyKGFbMl0pO1xuXG4gICAgaWYgKGEubGVuZ3RoID4gMykge1xuICAgICAgYVszXSA9IE51bWJlcihhWzNdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU2hhZG93KHYpIHtcbiAgaWYgKCF2KSB7XG4gICAgcmV0dXJuIFswLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgfVxuICB2YXIgaW5zZXQgPSB2b2lkIDA7XG4gIGlmICh2LmluZGV4T2YoJ3JnYicpID49IDApIHtcbiAgICB2YXIgdCA9IHYubWF0Y2goL3JnYisoPzphKT9cXCgoLiopXFwpLyk7XG4gICAgdmFyIHMgPSB2LnJlcGxhY2UodFswXSwgJycpLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICAgIGluc2V0ID0gcy5pbmRleE9mKCdpbnNldCcpO1xuICAgIGlmIChpbnNldCA+PSAwKSB7XG4gICAgICBzLnNwbGljZShpbnNldCwgMSk7XG4gICAgfVxuICAgIHZhciBjID0gdFsxXS5yZXBsYWNlKC9cXHMrL2csICcnKS5zcGxpdCgnLCcpO1xuICAgIGlmIChjLmxlbmd0aCA9PT0gMykge1xuICAgICAgYy5wdXNoKDEpO1xuICAgIH1cbiAgICByZXR1cm4gcy5jb25jYXQoYywgaW5zZXQgPj0gMCA/IFsnaW5zZXQnXSA6IFtdKTtcbiAgfVxuICB2YXIgdkFyciA9IHYuc3BsaXQoL1xccysvKTtcbiAgaW5zZXQgPSB2QXJyLmluZGV4T2YoJ2luc2V0Jyk7XG4gIGlmIChpbnNldCA+PSAwKSB7XG4gICAgdkFyci5zcGxpY2UoaW5zZXQsIDEpO1xuICB9XG4gIHZhciBjb2xvciA9IHBhcnNlQ29sb3IodkFyclt2QXJyLmxlbmd0aCAtIDFdKTtcbiAgY29sb3JbM10gPSB0eXBlb2YgY29sb3JbM10gPT09ICdudW1iZXInID8gY29sb3JbM10gOiAxO1xuICB2QXJyID0gdkFyci5zcGxpY2UoMCwgdkFyci5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHZBcnIuY29uY2F0KGNvbG9yLCBpbnNldCA+PSAwID8gWydpbnNldCddIDogW10pO1xufVxuXG5mdW5jdGlvbiBnZXRDb2xvcih2KSB7XG4gIHZhciByZ2JhID0gdi5sZW5ndGggPT09IDQgPyAncmdiYScgOiAncmdiJztcbiAgdmFyIF92YXJzID0gdi5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcbiAgICByZXR1cm4gaSA8IDMgPyBNYXRoLnJvdW5kKGQpIDogZDtcbiAgfSk7XG4gIHJldHVybiByZ2JhICsgJygnICsgX3ZhcnMuam9pbignLCcpICsgJyknO1xufVxuXG5mdW5jdGlvbiBpc1RyYW5zZm9ybShwKSB7XG4gIHJldHVybiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZS5pbmRleE9mKHApID49IDAgPyAndHJhbnNmb3JtJyA6IHA7XG59XG5cbmZ1bmN0aW9uIGlzQ29udmVydChwKSB7XG4gIHZhciBjc3NOYW1lID0gaXNUcmFuc2Zvcm0ocCk7XG4gIHJldHVybiBjc3NMaXN0LmZpbHRlci5pbmRleE9mKGNzc05hbWUpID49IDAgPyAnZmlsdGVyJyA6IGNzc05hbWU7XG59XG5cbmZ1bmN0aW9uIHNwbGl0RmlsdGVyVG9PYmplY3QoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gJ25vbmUnIHx8ICFkYXRhIHx8IGRhdGEgPT09ICcnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGZpbHRlciA9IGRhdGEucmVwbGFjZSgnICcsICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtO1xuICB9KTtcbiAgdmFyIHN0YXJ0RGF0YSA9IHt9O1xuICBmaWx0ZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBkYXRhQXJyID0gaXRlbS5zcGxpdCgnKCcpO1xuICAgIHN0YXJ0RGF0YVtkYXRhQXJyWzBdXSA9IGRhdGFBcnJbMV07XG4gIH0pO1xuICByZXR1cm4gc3RhcnREYXRhO1xufVxuXG5mdW5jdGlvbiBnZXRNYXRyaXgodCkge1xuICB2YXIgYXJyID0gdC5tYXRjaCgvKD86XFwtfFxcYilbXFxkXFwtXFwuZV0rXFxiL2dpKTtcbiAgdmFyIG0gPSB7fTtcbiAgaWYgKGFyci5sZW5ndGggPT09IDYpIHtcbiAgICBtLm0xMSA9IHBhcnNlRmxvYXQoYXJyWzBdKTtcbiAgICBtLm0xMiA9IHBhcnNlRmxvYXQoYXJyWzFdKTtcbiAgICBtLm0xMyA9IDA7XG4gICAgbS5tMTQgPSAwO1xuICAgIG0ubTIxID0gcGFyc2VGbG9hdChhcnJbMl0pO1xuICAgIG0ubTIyID0gcGFyc2VGbG9hdChhcnJbM10pO1xuICAgIG0ubTIzID0gMDtcbiAgICBtLm0yNCA9IDA7XG4gICAgbS5tMzEgPSAwO1xuICAgIG0ubTMyID0gMDtcbiAgICBtLm0zMyA9IDE7XG4gICAgbS5tMzQgPSAwO1xuICAgIG0ubTQxID0gcGFyc2VGbG9hdChhcnJbNF0pO1xuICAgIG0ubTQyID0gcGFyc2VGbG9hdChhcnJbNV0pO1xuICAgIG0ubTQzID0gMDtcbiAgICBtLm00NCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgIHZhciBpaSA9IGkgJSA0ICsgMTtcbiAgICAgIHZhciBqID0gTWF0aC5mbG9vcihpIC8gNCkgKyAxO1xuICAgICAgbVsnbScgKyBqICsgaWldID0gcGFyc2VGbG9hdChpdGVtKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICB2YXIgX3RyYW5zZm9ybSA9IHRyYW5zZm9ybSA9PT0gJ25vbmUnIHx8IHRyYW5zZm9ybSA9PT0gJycgPyAnbWF0cml4KDEsIDAsIDAsIDEsIDAsIDApJyA6IHRyYW5zZm9ybTtcbiAgdmFyIG0gPSBnZXRNYXRyaXgoX3RyYW5zZm9ybSk7XG4gIHZhciBtMTEgPSBtLm0xMTtcbiAgdmFyIG0xMiA9IG0ubTEyO1xuICB2YXIgbTEzID0gbS5tMTM7XG4gIHZhciBtMTQgPSBtLm0xNDtcbiAgdmFyIG0yMSA9IG0ubTIxO1xuICB2YXIgbTIyID0gbS5tMjI7XG4gIHZhciBtMjMgPSBtLm0yMztcbiAgdmFyIG0yNCA9IG0ubTI0O1xuICB2YXIgbTMxID0gbS5tMzE7XG4gIHZhciBtMzIgPSBtLm0zMjtcbiAgdmFyIG0zMyA9IG0ubTMzO1xuICB2YXIgbTM0ID0gbS5tMzQ7XG4gIHZhciBtNDMgPSBtLm00MztcbiAgdmFyIHQxID0gdm9pZCAwO1xuICB2YXIgdDIgPSB2b2lkIDA7XG4gIHZhciB0MyA9IHZvaWQgMDtcbiAgdmFyIHRtID0ge307XG4gIHRtLnBlcnNwZWN0aXZlID0gbTM0ID8gdG9GaXhlZChtMzMgLyAobTM0IDwgMCA/IC1tMzQgOiBtMzQpKSA6IDA7XG4gIHRtLnJvdGF0ZVggPSB0b0ZpeGVkKE1hdGguYXNpbihtMjMpICogUkFEMkRFRyk7XG4gIHZhciBhbmdsZSA9IHRtLnJvdGF0ZVggKiBERUcyUkFEO1xuICB2YXIgc2tld1ggPSBNYXRoLnRhbihtMjEpO1xuICB2YXIgc2tld1kgPSBNYXRoLnRhbihtMTIpO1xuICB2YXIgY29zID0gbTM0ICogdG0ucGVyc3BlY3RpdmU7XG4gIHZhciBzaW4gPSB2b2lkIDA7XG4gIC8vIHJvdGF0ZVhcbiAgaWYgKGFuZ2xlKSB7XG4gICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgIHQxID0gbTIxICogY29zICsgbTMxICogc2luO1xuICAgIHQyID0gbTIyICogY29zICsgbTMyICogc2luO1xuICAgIHQzID0gbTIzICogY29zICsgbTMzICogc2luO1xuICAgIG0zMSA9IG0yMSAqIC1zaW4gKyBtMzEgKiBjb3M7XG4gICAgbTMyID0gbTIyICogLXNpbiArIG0zMiAqIGNvcztcbiAgICBtMzMgPSBtMjMgKiAtc2luICsgbTMzICogY29zO1xuICAgIG0zNCA9IG0yNCAqIC1zaW4gKyBtMzQgKiBjb3M7XG4gICAgbTIxID0gdDE7XG4gICAgbTIyID0gdDI7XG4gICAgbTIzID0gdDM7XG4gIH1cbiAgLy8gcm90YXRlWVxuICBhbmdsZSA9IE1hdGguYXRhbjIobTMxLCBtMzMpO1xuICB0bS5yb3RhdGVZID0gdG9GaXhlZChhbmdsZSAqIFJBRDJERUcpO1xuICBpZiAoYW5nbGUpIHtcbiAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgdDEgPSBtMTEgKiBjb3MgLSBtMzEgKiBzaW47XG4gICAgdDIgPSBtMTIgKiBjb3MgLSBtMzIgKiBzaW47XG4gICAgdDMgPSBtMTMgKiBjb3MgLSBtMzMgKiBzaW47XG4gICAgbTMyID0gbTEyICogc2luICsgbTMyICogY29zO1xuICAgIG0zMyA9IG0xMyAqIHNpbiArIG0zMyAqIGNvcztcbiAgICBtMzQgPSBtMTQgKiBzaW4gKyBtMzQgKiBjb3M7XG4gICAgbTExID0gdDE7XG4gICAgbTEyID0gdDI7XG4gICAgbTEzID0gdDM7XG4gIH1cbiAgLy8gcm90YXRlWlxuICBhbmdsZSA9IE1hdGguYXRhbjIobTEyLCBtMTEpO1xuICB0bS5yb3RhdGUgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG4gIGlmIChhbmdsZSkge1xuICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG4gICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICBtMTEgPSBtMTEgKiBjb3MgKyBtMjEgKiBzaW47XG4gICAgdDIgPSBtMTIgKiBjb3MgKyBtMjIgKiBzaW47XG4gICAgbTIyID0gbTEyICogLXNpbiArIG0yMiAqIGNvcztcbiAgICBtMjMgPSBtMTMgKiAtc2luICsgbTIzICogY29zO1xuICAgIG0xMiA9IHQyO1xuICB9XG5cbiAgaWYgKHRtLnJvdGF0ZVggJiYgTWF0aC5hYnModG0ucm90YXRlWCkgKyBNYXRoLmFicyh0bS5yb3RhdGUpID4gMzU5LjkpIHtcbiAgICB0bS5yb3RhdGVYID0gdG0ucm90YXRlID0gMDtcbiAgICB0bS5yb3RhdGVZICs9IDE4MDtcbiAgfVxuICB0bS5zY2FsZVggPSB0b0ZpeGVkKE1hdGguc3FydChtMTEgKiBtMTEgKyBtMTIgKiBtMTIpKTtcbiAgdG0uc2NhbGVZID0gdG9GaXhlZChNYXRoLnNxcnQobTIyICogbTIyICsgbTMyICogbTMyKSk7XG4gIHRtLnNjYWxlWiA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0yMyAqIG0yMyArIG0zMyAqIG0zMykpO1xuICAvLyDkuI3nrqEgc2tld1ggc2tld1nkuobvvJtcbiAgdG0uc2tld1ggPSBza2V3WCA9PT0gLXNrZXdZID8gMCA6IHNrZXdYO1xuICB0bS5za2V3WSA9IHNrZXdZID09PSAtc2tld1ggPyAwIDogc2tld1k7XG4gIHRtLnBlcnNwZWN0aXZlID0gbTM0ID8gMSAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkgOiAwO1xuICB0bS50cmFuc2xhdGVYID0gbS5tNDE7XG4gIHRtLnRyYW5zbGF0ZVkgPSBtLm00MjtcbiAgdG0udHJhbnNsYXRlWiA9IG00MztcbiAgcmV0dXJuIHRtO1xufVxuXG5mdW5jdGlvbiBzdHlsZXNUb0NzcyhrZXksIHZhbHVlKSB7XG4gIHZhciBfdmFsdWUgPSB2b2lkIDA7XG4gIGlmICghaXNVbml0bGVzc051bWJlcltrZXldICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBfdmFsdWUgPSAnICcgKyB2YWx1ZSArICdweCc7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSAnY29udGVudCcgJiYgIXVucXVvdGVkQ29udGVudFZhbHVlUmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICBfdmFsdWUgPSAnXFwnJyArIHZhbHVlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSArICdcXCcnO1xuICB9XG4gIHJldHVybiBfdmFsdWUgfHwgdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGdldFVuaXQocCwgdikge1xuICB2YXIgY3VycmVudFVuaXQgPSB2ICYmIHYudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9pZywgJycpO1xuICB2YXIgdW5pdCA9ICcnO1xuICBpZiAocC5pbmRleE9mKCd0cmFuc2xhdGUnKSA+PSAwIHx8IHAuaW5kZXhPZigncGVyc3BlY3RpdmUnKSA+PSAwIHx8IHAuaW5kZXhPZignYmx1cicpID49IDApIHtcbiAgICB1bml0ID0gJ3B4JztcbiAgfSBlbHNlIGlmIChwLmluZGV4T2YoJ3NrZXcnKSA+PSAwIHx8IHAuaW5kZXhPZigncm90YXRlJykgPj0gMCkge1xuICAgIHVuaXQgPSAnZGVnJztcbiAgfVxuICByZXR1cm4gY3VycmVudFVuaXQgfHwgdW5pdDtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWVzKHAsIGQsIHUpIHtcbiAgcmV0dXJuIHAgKyAnKCcgKyBkICsgKHUgfHwgJycpICsgJyknO1xufVxuXG5mdW5jdGlvbiBmaW5kU3R5bGVCeU5hbWUoY3NzQXJyYXksIG5hbWUpIHtcbiAgdmFyIHJldCA9IG51bGw7XG4gIGlmIChjc3NBcnJheSkge1xuICAgIGNzc0FycmF5LmZvckVhY2goZnVuY3Rpb24gKF9jbmFtZSkge1xuICAgICAgaWYgKHJldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY05hbWUgPSBfY25hbWUuc3BsaXQoJygnKVswXTtcbiAgICAgIHZhciBhID0gY05hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpLmluZGV4T2YoY05hbWUpID49IDA7XG4gICAgICB2YXIgYiA9IG5hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBjTmFtZS5zdWJzdHJpbmcoMCwgY05hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihuYW1lKSA+PSAwO1xuICAgICAgdmFyIGMgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiAoY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDIpID09PSBuYW1lIHx8IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMikgPT09IGNOYW1lKTtcbiAgICAgIGlmIChjTmFtZSA9PT0gbmFtZSB8fCBhIHx8IGIgfHwgYykge1xuICAgICAgICByZXQgPSBfY25hbWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VTdHlsZShjdXJyZW50LCBjaGFuZ2UpIHtcbiAgaWYgKCFjdXJyZW50IHx8IGN1cnJlbnQgPT09ICcnKSB7XG4gICAgcmV0dXJuIGNoYW5nZTtcbiAgfVxuICBpZiAoIWNoYW5nZSB8fCBjaGFuZ2UgPT09ICcnKSB7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cbiAgdmFyIF9jdXJyZW50ID0gY3VycmVudC5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG4gIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICsgJyknO1xuICB9KTtcbiAgdmFyIF9jaGFuZ2UgPSBjaGFuZ2UucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiBpdGVtO1xuICB9KTtcbiAgX2NoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2VPbmx5KSB7XG4gICAgdmFyIGNoYW5nZUFyciA9IGNoYW5nZU9ubHkuc3BsaXQoJygnKTtcbiAgICB2YXIgY2hhbmdlTmFtZSA9IGNoYW5nZUFyclswXTtcbiAgICB2YXIgY3VycmVudFNhbWUgPSBmaW5kU3R5bGVCeU5hbWUoX2N1cnJlbnQsIGNoYW5nZU5hbWUpO1xuICAgIGlmICghY3VycmVudFNhbWUpIHtcbiAgICAgIF9jdXJyZW50LnB1c2goY2hhbmdlT25seSArICcpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBpbmRleCA9IF9jdXJyZW50LmluZGV4T2YoY3VycmVudFNhbWUpO1xuICAgICAgX2N1cnJlbnRbaW5kZXhdID0gY2hhbmdlT25seSArICcpJztcbiAgICB9XG4gIH0pO1xuICBfY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgaWYgKGl0ZW0uaW5kZXhPZigncGVyc3BlY3RpdmUnKSA+PSAwICYmIGkpIHtcbiAgICAgIF9jdXJyZW50LnNwbGljZShpLCAxKTtcbiAgICAgIF9jdXJyZW50LnVuc2hpZnQoaXRlbSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9jdXJyZW50LmpvaW4oJyAnKS50cmltKCk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNzc0xpc3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zdHlsZS11dGlscy9tYWluLmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5Hcm91cCA9IGV4cG9ydHMuQnV0dG9uID0gdW5kZWZpbmVkO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi9yYWRpbycpO1xuXG52YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblxudmFyIF9ncm91cCA9IHJlcXVpcmUoJy4vZ3JvdXAnKTtcblxudmFyIF9ncm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ncm91cCk7XG5cbnZhciBfcmFkaW9CdXR0b24gPSByZXF1aXJlKCcuL3JhZGlvQnV0dG9uJyk7XG5cbnZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX3JhZGlvMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5fcmFkaW8yW1wiZGVmYXVsdFwiXS5Hcm91cCA9IF9ncm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5CdXR0b24gPSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuR3JvdXAgPSBfZ3JvdXAyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX3JhZGlvMltcImRlZmF1bHRcIl07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY0Ryb3Bkb3duID0gcmVxdWlyZSgncmMtZHJvcGRvd24nKTtcblxudmFyIF9yY0Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjRHJvcGRvd24pO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93biwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEcm9wZG93bigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBEcm9wZG93bi5wcm90b3R5cGUuZ2V0VHJhbnNpdGlvbk5hbWUgPSBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcbiAgICAgICAgdmFyIF9wcm9wcyRwbGFjZW1lbnQgPSB0aGlzLnByb3BzLnBsYWNlbWVudCxcbiAgICAgICAgICAgIHBsYWNlbWVudCA9IF9wcm9wcyRwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJHBsYWNlbWVudDtcblxuICAgICAgICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ3RvcCcpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnc2xpZGUtZG93bic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdzbGlkZS11cCc7XG4gICAgfTtcblxuICAgIERyb3Bkb3duLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgICAgIHZhciBkcm9wZG93blRyaWdnZXIgPSAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoY2hpbGRyZW4sIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNoaWxkcmVuLnByb3BzLmNsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy10cmlnZ2VyJylcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjRHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHRyYW5zaXRpb25OYW1lOiB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCkgfSwgdGhpcy5wcm9wcyksXG4gICAgICAgICAgICBkcm9wZG93blRyaWdnZXJcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIERyb3Bkb3duO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xuXG5Ecm9wZG93bi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LWRyb3Bkb3duJyxcbiAgICBtb3VzZUVudGVyRGVsYXk6IDAuMTUsXG4gICAgbW91c2VMZWF2ZURlbGF5OiAwLjEsXG4gICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJhZGlvQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB0aGlzLnByb3BzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJhZGlvQnV0dG9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvQnV0dG9uO1xuXG5SYWRpb0J1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LXJhZGlvLWJ1dHRvbidcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yYWRpby9yYWRpb0J1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQ3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yY1RhYmxlID0gcmVxdWlyZSgncmMtdGFibGUnKTtcblxudmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9SY1RhYmxlJENvbHVtbkdyb3VwKSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ29sdW1uR3JvdXAsIF9SY1RhYmxlJENvbHVtbkdyb3VwKTtcblxuICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENvbHVtbkdyb3VwKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SY1RhYmxlJENvbHVtbkdyb3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbkdyb3VwO1xufShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbkdyb3VwKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL0NvbHVtbkdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9DaGVja2JveCcpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNoZWNrYm94L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDUxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBaRVJPOiA0OCxcbiAgTklORTogNTcsXG5cbiAgTlVNUEFEX1pFUk86IDk2LFxuICBOVU1QQURfTklORTogMTA1LFxuXG4gIEJBQ0tTUEFDRTogOCxcbiAgREVMRVRFOiA0NixcbiAgRU5URVI6IDEzLFxuXG4gIEFSUk9XX1VQOiAzOCxcbiAgQVJST1dfRE9XTjogNDBcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvS2V5Q29kZS5qc1xuICoqIG1vZHVsZSBpZCA9IDUyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIC8vIE9wdGlvbnMuanN4XG4gIGl0ZW1zX3Blcl9wYWdlOiAn5p2hL+mhtScsXG4gIGp1bXBfdG86ICfot7Poh7MnLFxuICBwYWdlOiAn6aG1JyxcblxuICAvLyBQYWdpbmF0aW9uLmpzeFxuICBwcmV2X3BhZ2U6ICfkuIrkuIDpobUnLFxuICBuZXh0X3BhZ2U6ICfkuIvkuIDpobUnLFxuICBwcmV2XzU6ICflkJHliY0gNSDpobUnLFxuICBuZXh0XzU6ICflkJHlkI4gNSDpobUnLFxuICBwcmV2XzM6ICflkJHliY0gMyDpobUnLFxuICBuZXh0XzM6ICflkJHlkI4gMyDpobUnXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvbG9jYWxlL3poX0NOLmpzXG4gKiogbW9kdWxlIGlkID0gNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfVGFibGUgPSByZXF1aXJlKCcuL1RhYmxlJyk7XG5cbnZhciBfVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfVGFibGUyW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3JhZGlvL3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2NoZWNrYm94L3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2Ryb3Bkb3duL3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3NwaW4vc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vcGFnaW5hdGlvbi9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciBfc3R5bGVVdGlscyA9IHJlcXVpcmUoJ3N0eWxlLXV0aWxzJyk7XG5cbnZhciBfVGltZUxpbmUgPSByZXF1aXJlKCcuL1RpbWVMaW5lJyk7XG5cbnZhciBfVGltZUxpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZUxpbmUpO1xuXG52YXIgX3BsdWdpbnMgPSByZXF1aXJlKCcuL3BsdWdpbnMnKTtcblxudmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXG52YXIgX3RpY2tlciA9IHJlcXVpcmUoJy4vdGlja2VyJyk7XG5cbnZhciBfdGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RpY2tlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBwZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcblxudmFyIFR3ZWVuT25lID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFR3ZWVuT25lLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUd2Vlbk9uZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdlZW5PbmUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF90aGlzLnJlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zdGFydE1vbWVudCA9IF90aGlzLnRpbWVMaW5lLnByb2dyZXNzVGltZTtcbiAgICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgICBfdGhpcy5wbGF5KCk7XG4gICAgfTtcblxuICAgIF90aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICBpZiAocHJvcHMuYW5pbWF0aW9uICYmIE9iamVjdC5rZXlzKHByb3BzLmFuaW1hdGlvbikubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzLnRpbWVMaW5lID0gbmV3IF9UaW1lTGluZTJbXCJkZWZhdWx0XCJdKF90aGlzLmRvbSwgKDAsIF91dGlsLmRhdGFUb0FycmF5KShwcm9wcy5hbmltYXRpb24pLCB7IGF0dHI6IHByb3BzLmF0dHIsIHdpbGxDaGFuZ2U6IHByb3BzLndpbGxDaGFuZ2UgfSk7XG4gICAgICAgIC8vIOmihOWFiOazqOWGjCByYWYsIOWIneWni+WKqOeUu+aVsOWAvOOAglxuICAgICAgICBfdGhpcy5yYWYoMCwgdHJ1ZSk7XG4gICAgICAgIC8vIOW8gOWni+WKqOeUu1xuICAgICAgICBfdGhpcy5wbGF5KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgIGlmIChfdGhpcy5wYXVzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMucmFmSUQgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uYWRkKF90aGlzLnJhZik7XG4gICAgfTtcblxuICAgIF90aGlzLmZyYW1lID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG4gICAgICB2YXIgcmVnaXN0ZXJNb21lbnQgPSByZWdpc3RlciA/IGRhdGUgOiAwO1xuICAgICAgdmFyIG1vbWVudCA9IChfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWUgLSBfdGhpcy5zdGFydEZyYW1lKSAqIHBlckZyYW1lICsgcmVnaXN0ZXJNb21lbnQgKyBfdGhpcy5zdGFydE1vbWVudDtcbiAgICAgIGlmICghcmVnaXN0ZXIgJiYgbW9tZW50IDwgcGVyRnJhbWUgJiYgdHlwZW9mIF90aGlzLnByb3BzLm1vbWVudCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8g5rOo5YaM5a6M5ZCO77yM56ys5LiA5bin6aKE5YWI6LeR5Yqo77yMIOm8oOagh+i3n+maj1xuICAgICAgICBtb21lbnQgPSBwZXJGcmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5yZXZlcnNlKSB7XG4gICAgICAgIG1vbWVudCA9IChfdGhpcy5zdGFydE1vbWVudCB8fCAwKSAtIChfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWUgLSBfdGhpcy5zdGFydEZyYW1lKSAqIHBlckZyYW1lO1xuICAgICAgfVxuICAgICAgbW9tZW50ID0gbW9tZW50ID4gX3RoaXMudGltZUxpbmUudG90YWxUaW1lID8gX3RoaXMudGltZUxpbmUudG90YWxUaW1lIDogbW9tZW50O1xuICAgICAgbW9tZW50ID0gbW9tZW50IDw9IDAgPyAwIDogbW9tZW50O1xuICAgICAgaWYgKG1vbWVudCA8IF90aGlzLm1vbWVudCAmJiAhX3RoaXMucmV2ZXJzZSkge1xuICAgICAgICBfdGhpcy50aW1lTGluZS5yZXNldERlZmF1bHRTdHlsZSgpO1xuICAgICAgfVxuICAgICAgX3RoaXMubW9tZW50ID0gbW9tZW50O1xuICAgICAgX3RoaXMudGltZUxpbmUub25DaGFuZ2UgPSBfdGhpcy5vbkNoYW5nZTtcbiAgICAgIF90aGlzLnRpbWVMaW5lLmZyYW1lKG1vbWVudCk7XG4gICAgfTtcblxuICAgIF90aGlzLnJhZiA9IGZ1bmN0aW9uIChkYXRlLCByZWdpc3Rlcikge1xuICAgICAgX3RoaXMuZnJhbWUoZGF0ZSwgcmVnaXN0ZXIpO1xuICAgICAgaWYgKF90aGlzLm1vbWVudCA+PSBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgJiYgIV90aGlzLnJldmVyc2UgfHwgX3RoaXMucGF1c2VkIHx8IF90aGlzLnJldmVyc2UgJiYgX3RoaXMubW9tZW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmNsZWFyKF90aGlzLnJhZklEKTtcbiAgICAgIF90aGlzLnJhZklEID0gLTE7XG4gICAgfTtcblxuICAgIF90aGlzLnJhZklEID0gLTE7XG4gICAgX3RoaXMubW9tZW50ID0gX3RoaXMucHJvcHMubW9tZW50IHx8IDA7XG4gICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcbiAgICBfdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgIF90aGlzLnBhdXNlZCA9IF90aGlzLnByb3BzLnBhdXNlZDtcbiAgICBfdGhpcy5yZXZlcnNlID0gX3RoaXMucHJvcHMucmV2ZXJzZTtcbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgIF90aGlzLm5ld01vbWVudEFuaW0gPSBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmRvbSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHRoaXMuc3RhcnQoKTtcbiAgfTtcblxuICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gbmV4dFByb3BzLm9uQ2hhbmdlO1xuICAgIC8vIOi3s+W4p+S6i+S7tiBtb21lbnQ7XG4gICAgdmFyIG5ld01vbWVudCA9IG5leHRQcm9wcy5tb21lbnQ7XG4gICAgdGhpcy5uZXdNb21lbnRBbmltID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBuZXdNb21lbnQgPT09ICdudW1iZXInICYmIG5ld01vbWVudCAhPT0gdGhpcy5tb21lbnQpIHtcbiAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSBuZXdNb21lbnQ7XG4gICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgICBpZiAodGhpcy5yYWZJRCA9PT0gLTEgJiYgIW5leHRQcm9wcy5wYXVzZWQpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczIudGltZUxpbmUucmVzZXRBbmltRGF0YSgpO1xuICAgICAgICAgIHZhciBzdHlsZSA9IG5leHRQcm9wcy5zdHlsZTtcbiAgICAgICAgICBfdGhpczIuZG9tLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7XG4gICAgICAgICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgX3RoaXMyLmRvbS5zdHlsZVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIHN0eWxlW2tleV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzMi5wbGF5KCk7XG4gICAgICAgIH0pKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5ld01vbWVudEFuaW0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyDliqjnlLvlpITnkIZcbiAgICB2YXIgbmV3QW5pbWF0aW9uID0gbmV4dFByb3BzLmFuaW1hdGlvbjtcbiAgICB2YXIgY3VycmVudEFuaW1hdGlvbiA9IHRoaXMucHJvcHMuYW5pbWF0aW9uO1xuICAgIHZhciBlcXVhbCA9ICgwLCBfdXRpbC5vYmplY3RFcXVhbCkoY3VycmVudEFuaW1hdGlvbiwgbmV3QW5pbWF0aW9uKTtcbiAgICB2YXIgc3R5bGVFcXVhbCA9ICgwLCBfdXRpbC5vYmplY3RFcXVhbCkodGhpcy5wcm9wcy5zdHlsZSwgbmV4dFByb3BzLnN0eWxlKTtcbiAgICAvLyDlpoLmnpwgYW5pbWF0aW9uIOS4jeWQjO+8jCDph43mlrDliqjnlLtcbiAgICB0aGlzLnJlc3RhcnRBbmltID0gZmFsc2U7XG4gICAgaWYgKCFlcXVhbCkge1xuICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgIGlmIChuZXh0UHJvcHMucmVzZXRTdHlsZUJvb2wgJiYgdGhpcy50aW1lTGluZSkge1xuICAgICAgICB0aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gMDtcbiAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgIHRoaXMucmVzdGFydEFuaW0gPSB0cnVlO1xuICAgICAgLy8gdGhpcy5zdGFydChuZXh0UHJvcHMpO1xuICAgIH0gZWxzZSBpZiAoIXN0eWxlRXF1YWwpIHtcbiAgICAgIC8vIOWmguaenCBhbmltYXRpb24g55u45ZCM77yM77yMc3R5bGUg5LiN5ZCM77yM5LuO5b2T5YmN5pe26Ze05byA5pS+44CCXG4gICAgICBpZiAodGhpcy5yYWZJRCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgICAgdGhpcy5zdGFydE1vbWVudCA9IHRoaXMudGltZUxpbmUucHJvZ3Jlc3NUaW1lO1xuICAgICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgICAgIHRoaXMucmVzdGFydEFuaW0gPSB0cnVlO1xuICAgICAgICAvLyB0aGlzLnN0YXJ0KG5leHRQcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIOaaguWBnOWAkuaUvlxuICAgIGlmICh0aGlzLnBhdXNlZCAhPT0gbmV4dFByb3BzLnBhdXNlZCB8fCB0aGlzLnJldmVyc2UgIT09IG5leHRQcm9wcy5yZXZlcnNlKSB7XG4gICAgICB0aGlzLnBhdXNlZCA9IG5leHRQcm9wcy5wYXVzZWQ7XG4gICAgICB0aGlzLnJldmVyc2UgPSBuZXh0UHJvcHMucmV2ZXJzZTtcbiAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucmV2ZXJzZSAmJiBuZXh0UHJvcHMucmV2ZXJzZURlbGF5KSB7XG4gICAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgICAgICBfdGlja2VyMltcImRlZmF1bHRcIl0udGltZW91dCh0aGlzLnJlc3RhcnQsIG5leHRQcm9wcy5yZXZlcnNlRGVsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVzdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgLy8g5qC35byP5pu05paw5LqG5ZCO5YaN5omn6KGM5Yqo55S777ybXG4gICAgaWYgKHRoaXMucmVzdGFydEFuaW0pIHtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubmV3TW9tZW50QW5pbSkge1xuICAgICAgdGhpcy5yYWYoKTtcbiAgICB9XG4gIH07XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgfTtcblxuICBUd2Vlbk9uZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcbiAgICBbJ2FuaW1hdGlvbicsICdjb21wb25lbnQnLCAncmV2ZXJzZURlbGF5JywgJ2F0dHInLCAncGF1c2VkJywgJ3JldmVyc2UnLCAnbW9tZW50JywgJ3Jlc2V0U3R5bGVCb29sJywgJ3dpbGxDaGFuZ2UnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBkZWxldGUgcHJvcHNba2V5XTtcbiAgICB9KTtcbiAgICBwcm9wcy5zdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLnN0eWxlKTtcbiAgICBPYmplY3Qua2V5cyhwcm9wcy5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgaWYgKHAubWF0Y2goL2ZpbHRlci9pKSkge1xuICAgICAgICBbJ1dlYmtpdCcsICdNb3onLCAnTXMnLCAnbXMnXS5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMuc3R5bGVbcHJlZml4ICsgJ0ZpbHRlciddID0gcHJvcHMuc3R5bGVbcF07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByb3BzLmNvbXBvbmVudCA9IHR5cGVvZiBwcm9wcy5jb21wb25lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3BzLmNvbXBvbmVudFJlcGxhY2UgOiBwcm9wcy5jb21wb25lbnQ7XG4gICAgaWYgKCFwcm9wcy5jb21wb25lbnQpIHtcbiAgICAgIGRlbGV0ZSBwcm9wcy5jb21wb25lbnQ7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHRoaXMucHJvcHMuY29tcG9uZW50LCBwcm9wcyk7XG4gIH07XG5cbiAgcmV0dXJuIFR3ZWVuT25lO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxudmFyIG9iamVjdE9yQXJyYXkgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKTtcblxuVHdlZW5PbmUucHJvcFR5cGVzID0ge1xuICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBjb21wb25lbnRSZXBsYWNlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgYW5pbWF0aW9uOiBvYmplY3RPckFycmF5LFxuICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcGF1c2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHJldmVyc2U6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgcmV2ZXJzZURlbGF5OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgbW9tZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgYXR0cjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHdpbGxDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgcmVzZXRTdHlsZUJvb2w6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxufTtcblxuVHdlZW5PbmUuZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdkaXYnLFxuICByZXZlcnNlRGVsYXk6IDAsXG4gIGF0dHI6ICdzdHlsZScsXG4gIG9uQ2hhbmdlOiBub29wLFxuICB3aWxsQ2hhbmdlOiB0cnVlXG59O1xuVHdlZW5PbmUucGx1Z2lucyA9IF9wbHVnaW5zMltcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZS5qc1xuICoqIG1vZHVsZSBpZCA9IDY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90d2VlbkZ1bmN0aW9ucyA9IHJlcXVpcmUoJ3R3ZWVuLWZ1bmN0aW9ucycpO1xuXG52YXIgX3R3ZWVuRnVuY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R3ZWVuRnVuY3Rpb25zKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5fdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5wYXRoID0gZnVuY3Rpb24gKF9wYXRoLCBfcGFyYW0pIHtcbiAgdmFyIHBhcmFtID0gX3BhcmFtIHx8IHt9O1xuICB2YXIgcGF0aE5vZGUgPSAoMCwgX3V0aWwucGFyc2VQYXRoKShfcGF0aCk7XG4gIHZhciBwYXRoTGVuZ3RoID0gcGF0aE5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcbiAgdmFyIHJlY3QgPSBwYXJhbS5yZWN0IHx8IDEwMDsgLy8gcGF0aCDnmoTlpKflsI/vvIwxMDAgKiAxMDDvvIxcbiAgdmFyIGxlbmd0aFBpeGVsID0gcGFyYW0ubGVuZ3RoUGl4ZWwgfHwgMTUwMDsgLy8g57q/5LiK5Y+W54K55YOP57Sg77yM6buY6K6k5YiG5Li6IDE1MDAg5q6144CC44CCXG4gIHZhciBwb2ludHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGhQaXhlbDsgaSsrKSB7XG4gICAgcG9pbnRzLnB1c2gocGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChwYXRoTGVuZ3RoIC8gbGVuZ3RoUGl4ZWwgKiBpKSk7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGgodCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgcCA9IF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdLmxpbmVhcih0LCBiLCBfYywgZCk7XG4gICAgdmFyIHRpbWVQb2ludFggPSByZWN0ICogcDsgLy8gWCDovbTnmoTnmb7liIbmr5Q7XG4gICAgLy8g5Y+W5Ye6IHgg6L2055m+5YiG5q+U5LiK55qE54K5O1xuICAgIHZhciBwb2ludCA9IHBvaW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnggPj0gdGltZVBvaW50WDtcbiAgICB9KVswXSB8fCBwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKHAgKiBwYXRoTGVuZ3RoKTtcbiAgICByZXR1cm4gMSAtIHBvaW50LnkgLyByZWN0O1xuICB9O1xufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvZWFzaW5nLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiZXhwb3J0IGNvbnN0IE1FTlUgPSAxXHJcbmV4cG9ydCBjb25zdCBERVRBSUwgPSAyXHJcbmV4cG9ydCBjb25zdCBBREQgPSAzXHJcbmV4cG9ydCBjb25zdCBVUERBVEUgPSA0XHJcbmV4cG9ydCBjb25zdCBERUxFVEUgPSA1XHJcbmV4cG9ydCBjb25zdCBDSEVDSyA9IDZcclxuZXhwb3J0IGNvbnN0IFVQTE9BRCA9IDdcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29uc3RhbnRzL29wdGlvbnMuanNcbiAqKi8iLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG4gIHJvb3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JhZi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknKTtcblxudmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuL2luZGV4Jyk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIENoZWNrYm94R3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2hlY2tib3hHcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGVja2JveEdyb3VwKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2hlY2tib3hHcm91cCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnRvZ2dsZU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25JbmRleCA9IF90aGlzLnN0YXRlLnZhbHVlLmluZGV4T2Yob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5M1tcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLnZhbHVlKSk7XG4gICAgICAgICAgICBpZiAob3B0aW9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5zcGxpY2Uob3B0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUgfHwgW11cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWUgfHwgW11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzc5NjBcblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCkubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9pbmRleDJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgZGlzYWJsZWQ6ICdkaXNhYmxlZCcgaW4gb3B0aW9uID8gb3B0aW9uLmRpc2FibGVkIDogX3RoaXMyLnByb3BzLmRpc2FibGVkLCBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpICE9PSAtMSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50b2dnbGVPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0nLCBrZXk6IG9wdGlvbi52YWx1ZSB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcgfSxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENoZWNrYm94R3JvdXA7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3hHcm91cDtcblxuQ2hlY2tib3hHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgb3B0aW9uczogW10sXG4gICAgcHJlZml4Q2xzOiAnYW50LWNoZWNrYm94LWdyb3VwJ1xufTtcbkNoZWNrYm94R3JvdXAucHJvcFR5cGVzID0ge1xuICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuICAgIHZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgb3B0aW9uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvY2hlY2tib3gvR3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSA4MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9idXR0b24gPSByZXF1aXJlKCcuLi9idXR0b24nKTtcblxudmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfZHJvcGRvd24gPSByZXF1aXJlKCcuL2Ryb3Bkb3duJyk7XG5cbnZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcblxudmFyIEJ1dHRvbkdyb3VwID0gX2J1dHRvbjJbXCJkZWZhdWx0XCJdLkdyb3VwO1xuXG52YXIgRHJvcGRvd25CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRHJvcGRvd25CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRHJvcGRvd25CdXR0b24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRHJvcGRvd25CdXR0b24pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgRHJvcGRvd25CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgICAgb3ZlcmxheSA9IF9hLm92ZXJsYXksXG4gICAgICAgICAgICB0cmlnZ2VyID0gX2EudHJpZ2dlcixcbiAgICAgICAgICAgIGFsaWduID0gX2EuYWxpZ24sXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgb25DbGljayA9IF9hLm9uQ2xpY2ssXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuICAgICAgICAgICAgdmlzaWJsZSA9IF9hLnZpc2libGUsXG4gICAgICAgICAgICBvblZpc2libGVDaGFuZ2UgPSBfYS5vblZpc2libGVDaGFuZ2UsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInR5cGVcIiwgXCJvdmVybGF5XCIsIFwidHJpZ2dlclwiLCBcImFsaWduXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwicHJlZml4Q2xzXCIsIFwiZGlzYWJsZWRcIiwgXCJ2aXNpYmxlXCIsIFwib25WaXNpYmxlQ2hhbmdlXCJdKTtcbiAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHZhciBkcm9wZG93blByb3BzID0ge1xuICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgb3ZlcmxheTogb3ZlcmxheSxcbiAgICAgICAgICAgIHRyaWdnZXI6IGRpc2FibGVkID8gW10gOiB0cmlnZ2VyLFxuICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlOiBvblZpc2libGVDaGFuZ2VcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCd2aXNpYmxlJyBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICBkcm9wZG93blByb3BzLnZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgQnV0dG9uR3JvdXAsXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBjbGFzc05hbWU6IGNscyB9KSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgb25DbGljazogb25DbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIGRyb3Bkb3duUHJvcHMsXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6IHR5cGUsIGRpc2FibGVkOiBkaXNhYmxlZCB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Rvd24nIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gRHJvcGRvd25CdXR0b247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25CdXR0b247XG5cbkRyb3Bkb3duQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBhbGlnbjoge1xuICAgICAgICBwb2ludHM6IFsndHInLCAnYnInXSxcbiAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgYWRqdXN0WDogMSxcbiAgICAgICAgICAgIGFkanVzdFk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgICAgIHRhcmdldE9mZnNldDogWzAsIDBdXG4gICAgfSxcbiAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgcHJlZml4Q2xzOiAnYW50LWRyb3Bkb3duLWJ1dHRvbidcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi1idXR0b24uanNcbiAqKiBtb2R1bGUgaWQgPSA4M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kcm9wZG93biA9IHJlcXVpcmUoJy4vZHJvcGRvd24nKTtcblxudmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cbnZhciBfZHJvcGRvd25CdXR0b24gPSByZXF1aXJlKCcuL2Ryb3Bkb3duLWJ1dHRvbicpO1xuXG52YXIgX2Ryb3Bkb3duQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLkJ1dHRvbiA9IF9kcm9wZG93bkJ1dHRvbjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmNEaWFsb2cgPSByZXF1aXJlKCdyYy1kaWFsb2cnKTtcblxudmFyIF9yY0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0RpYWxvZyk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0RvbS9hZGRFdmVudExpc3RlbmVyJyk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblxudmFyIF9idXR0b24gPSByZXF1aXJlKCcuLi9idXR0b24nKTtcblxudmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBtb3VzZVBvc2l0aW9uID0gdm9pZCAwO1xudmFyIG1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCA9IHZvaWQgMDtcblxudmFyIE1vZGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE1vZGFsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE1vZGFsKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1vZGFsKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5oYW5kbGVDYW5jZWwgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIG9uQ2FuY2VsID0gX3RoaXMucHJvcHMub25DYW5jZWw7XG4gICAgICAgICAgICBpZiAob25DYW5jZWwpIHtcbiAgICAgICAgICAgICAgICBvbkNhbmNlbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlT2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIG9uT2sgPSBfdGhpcy5wcm9wcy5vbk9rO1xuICAgICAgICAgICAgaWYgKG9uT2spIHtcbiAgICAgICAgICAgICAgICBvbk9rKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgTW9kYWwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmIChtb3VzZVBvc2l0aW9uRXZlbnRCaW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyDlj6rmnInngrnlh7vkuovku7bmlK/mjIHku47pvKDmoIfkvY3nva7liqjnlLvlsZXlvIBcbiAgICAgICAgKDAsIF9hZGRFdmVudExpc3RlbmVyMltcImRlZmF1bHRcIl0pKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG1vdXNlUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeDogZS5wYWdlWCxcbiAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gMTAwbXMg5YaF5Y+R55Sf6L+H54K55Ye75LqL5Lu277yM5YiZ5LuO54K55Ye75L2N572u5Yqo55S75bGV56S6XG4gICAgICAgICAgICAvLyDlkKbliJnnm7TmjqUgem9vbSDlsZXnpLpcbiAgICAgICAgICAgIC8vIOi/meagt+WPr+S7peWFvOWuuemdnueCueWHu+aWueW8j+WxleW8gFxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vdXNlUG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIE1vZGFsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgb2tUZXh0ID0gX3Byb3BzLm9rVGV4dCxcbiAgICAgICAgICAgIGNhbmNlbFRleHQgPSBfcHJvcHMuY2FuY2VsVGV4dCxcbiAgICAgICAgICAgIGNvbmZpcm1Mb2FkaW5nID0gX3Byb3BzLmNvbmZpcm1Mb2FkaW5nLFxuICAgICAgICAgICAgZm9vdGVyID0gX3Byb3BzLmZvb3RlcixcbiAgICAgICAgICAgIHZpc2libGUgPSBfcHJvcHMudmlzaWJsZTtcblxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLk1vZGFsKSB7XG4gICAgICAgICAgICBva1RleHQgPSBva1RleHQgfHwgdGhpcy5jb250ZXh0LmFudExvY2FsZS5Nb2RhbC5va1RleHQ7XG4gICAgICAgICAgICBjYW5jZWxUZXh0ID0gY2FuY2VsVGV4dCB8fCB0aGlzLmNvbnRleHQuYW50TG9jYWxlLk1vZGFsLmNhbmNlbFRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlZmF1bHRGb290ZXIgPSBbX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsga2V5OiAnY2FuY2VsJywgc2l6ZTogJ2xhcmdlJywgb25DbGljazogdGhpcy5oYW5kbGVDYW5jZWwgfSxcbiAgICAgICAgICAgIGNhbmNlbFRleHQgfHwgJ+WPlua2iCdcbiAgICAgICAgKSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsga2V5OiAnY29uZmlybScsIHR5cGU6ICdwcmltYXJ5Jywgc2l6ZTogJ2xhcmdlJywgbG9hZGluZzogY29uZmlybUxvYWRpbmcsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlT2sgfSxcbiAgICAgICAgICAgIG9rVGV4dCB8fCAn56Gu5a6aJ1xuICAgICAgICApXTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjRGlhbG9nMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2FuY2VsLCBmb290ZXI6IGZvb3RlciB8fCBkZWZhdWx0Rm9vdGVyIH0sIHRoaXMucHJvcHMsIHsgdmlzaWJsZTogdmlzaWJsZSwgbW91c2VQb3NpdGlvbjogbW91c2VQb3NpdGlvbiB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBNb2RhbDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb2RhbDtcblxuTW9kYWwuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1tb2RhbCcsXG4gICAgd2lkdGg6IDUyMCxcbiAgICB0cmFuc2l0aW9uTmFtZTogJ3pvb20nLFxuICAgIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2ZhZGUnLFxuICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSxcbiAgICB2aXNpYmxlOiBmYWxzZVxufTtcbk1vZGFsLnByb3BUeXBlcyA9IHtcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNhbmNlbDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9rVGV4dDogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuICAgIGNhbmNlbFRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcbiAgICB3aWR0aDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuICAgIGNvbmZpcm1Mb2FkaW5nOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBmb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcbiAgICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuICAgIGNsb3NhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbn07XG5Nb2RhbC5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvbW9kYWwvTW9kYWwuanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3NlbGVjdCA9IHJlcXVpcmUoJy4uL3NlbGVjdCcpO1xuXG52YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE1pbmlTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTWluaVNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBNaW5pU2VsZWN0KCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1pbmlTZWxlY3QpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgTWluaVNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfc2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNpemU6ICdzbWFsbCcgfSwgdGhpcy5wcm9wcykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWluaVNlbGVjdDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNaW5pU2VsZWN0O1xuXG5NaW5pU2VsZWN0Lk9wdGlvbiA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL01pbmlTZWxlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA4OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY1BhZ2luYXRpb24gPSByZXF1aXJlKCdyYy1wYWdpbmF0aW9uJyk7XG5cbnZhciBfcmNQYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUGFnaW5hdGlvbik7XG5cbnZhciBfc2VsZWN0ID0gcmVxdWlyZSgnLi4vc2VsZWN0Jyk7XG5cbnZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbnZhciBfTWluaVNlbGVjdCA9IHJlcXVpcmUoJy4vTWluaVNlbGVjdCcpO1xuXG52YXIgX01pbmlTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWluaVNlbGVjdCk7XG5cbnZhciBfemhfQ04gPSByZXF1aXJlKCdyYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04nKTtcblxudmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFBhZ2luYXRpb24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUGFnaW5hdGlvbik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgdmFyIHNlbGVjdENvbXBvbmVudENsYXNzID0gX3NlbGVjdDJbXCJkZWZhdWx0XCJdO1xuICAgICAgICB2YXIgbG9jYWxlID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMucHJvcHMubG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIG1pbmknO1xuICAgICAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3MgPSBfTWluaVNlbGVjdDJbXCJkZWZhdWx0XCJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHNlbGVjdENvbXBvbmVudENsYXNzLCBzZWxlY3RQcmVmaXhDbHM6IHRoaXMucHJvcHMuc2VsZWN0UHJlZml4Q2xzIH0sIHRoaXMucHJvcHMsIHsgbG9jYWxlOiBsb2NhbGUsIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0pKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhZ2luYXRpb247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGFnaW5hdGlvbjtcblxuUGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiBfemhfQ04yW1wiZGVmYXVsdFwiXSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHByZWZpeENsczogJ2FudC1wYWdpbmF0aW9uJyxcbiAgICBzZWxlY3RQcmVmaXhDbHM6ICdhbnQtc2VsZWN0J1xufTtcblBhZ2luYXRpb24uY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BhZ2luYXRpb24vUGFnaW5hdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1BhZ2luYXRpb24gPSByZXF1aXJlKCcuL1BhZ2luYXRpb24nKTtcblxudmFyIF9QYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2luYXRpb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcGFnaW5hdGlvbi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9zZWxlY3Qvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vaW5wdXQvc3R5bGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbnZhciBfcmFkaW9CdXR0b24gPSByZXF1aXJlKCcuL3JhZGlvQnV0dG9uJyk7XG5cbnZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENoZWNrZWRWYWx1ZShjaGlsZHJlbikge1xuICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAocmFkaW8pIHtcbiAgICAgICAgaWYgKHJhZGlvICYmIHJhZGlvLnByb3BzICYmIHJhZGlvLnByb3BzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcmFkaW8ucHJvcHMudmFsdWU7XG4gICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGVkID8geyB2YWx1ZTogdmFsdWUgfSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIFJhZGlvR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpb0dyb3VwKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9Hcm91cCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uUmFkaW9DaGFuZ2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UgJiYgdmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHZhbHVlID0gY2hlY2tlZFZhbHVlICYmIGNoZWNrZWRWYWx1ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGVja2VkVmFsdWUudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gIXByb3BzLmNoaWxkcmVuID8gW10gOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuICAgICAgICAgICAgaWYgKHJhZGlvICYmIChyYWRpby50eXBlID09PSBfcmFkaW8yW1wiZGVmYXVsdFwiXSB8fCByYWRpby50eXBlID09PSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXSkgJiYgcmFkaW8ucHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHJhZGlvLCAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcmFkaW8ucHJvcHMsIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5vblJhZGlvQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUgPT09IHJhZGlvLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogcmFkaW8ucHJvcHMuZGlzYWJsZWQgfHwgX3RoaXMyLnByb3BzLmRpc2FibGVkXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJhZGlvO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB1bmRlZmluZWQgPyAnYW50LXJhZGlvLWdyb3VwJyA6IF9wcm9wcyRwcmVmaXhDbHMsXG4gICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lO1xuXG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctJyArIHByb3BzLnNpemUsIHByb3BzLnNpemUpLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogcHJvcHMuc3R5bGUsIG9uTW91c2VFbnRlcjogcHJvcHMub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJhZGlvR3JvdXA7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9Hcm91cDtcblxuUmFkaW9Hcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vZ3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSA5M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9ncmlkL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yb3cvc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNUYWJsZSA9IHJlcXVpcmUoJ3JjLXRhYmxlJyk7XG5cbnZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDb2x1bW4gPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uKSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ29sdW1uLCBfUmNUYWJsZSRDb2x1bW4pO1xuXG4gIGZ1bmN0aW9uIENvbHVtbigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENvbHVtbik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uO1xufShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvQ29sdW1uLmpzXG4gKiogbW9kdWxlIGlkID0gOTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcbiAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlci5qc1xuICoqIG1vZHVsZSBpZCA9IDk2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2hlY2tib3ggPSByZXF1aXJlKCcuLi9jaGVja2JveCcpO1xuXG52YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4uL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFNlbGVjdGlvbkJveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25Cb3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uQm94KHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IF90aGlzMi5nZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG4gICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5nZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIGRlZmF1bHRTZWxlY3Rpb24gPSBwcm9wcy5kZWZhdWx0U2VsZWN0aW9uLFxuICAgICAgICAgICAgcm93SW5kZXggPSBwcm9wcy5yb3dJbmRleDtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihyb3dJbmRleCkgPj0gMCB8fCBkZWZhdWx0U2VsZWN0aW9uLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcbiAgICAgICAgICAgIHJvd0luZGV4ID0gX3Byb3BzLnJvd0luZGV4LFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlLCB2YWx1ZTogcm93SW5kZXgsIGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogY2hlY2tlZCwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3Rpb25Cb3g7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQm94O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQm94LmpzXG4gKiogbW9kdWxlIGlkID0gOTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jaGVja2JveCA9IHJlcXVpcmUoJy4uL2NoZWNrYm94Jyk7XG5cbnZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFNlbGVjdGlvbkNoZWNrYm94QWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkNoZWNrYm94QWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkNoZWNrYm94QWxsKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLmdldENoZWNrU3RhdGUocHJvcHMpLFxuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogX3RoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5zZXRDaGVja1N0YXRlKG5leHRQcm9wcyk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNoZWNrU2VsZWN0aW9uID0gZnVuY3Rpb24gY2hlY2tTZWxlY3Rpb24oZGF0YSwgdHlwZSwgYnlEZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0b3JlID0gX3Byb3BzLnN0b3JlLFxuICAgICAgICAgICAgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IF9wcm9wcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLFxuICAgICAgICAgICAgZ2V0UmVjb3JkS2V5ID0gX3Byb3BzLmdldFJlY29yZEtleTtcbiAgICAgICAgLy8gdHlwZSBzaG91bGQgYmUgJ2V2ZXJ5JyB8ICdzb21lJ1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnZXZlcnknIHx8IHR5cGUgPT09ICdzb21lJykge1xuICAgICAgICAgICAgcmV0dXJuIGJ5RGVmYXVsdENoZWNrZWQgPyBkYXRhW3R5cGVdKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaSkuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgICAgICB9KSA6IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihnZXRSZWNvcmRLZXkoaXRlbSwgaSkpID49IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gc2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcyk7XG4gICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpO1xuICAgICAgICBpZiAoY2hlY2tlZCAhPT0gdGhpcy5zdGF0ZS5jaGVja2VkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogY2hlY2tlZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXRlcm1pbmF0ZSAhPT0gdGhpcy5zdGF0ZS5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5nZXRJbmRldGVybWluYXRlU3RhdGUgPSBmdW5jdGlvbiBnZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblxuICAgICAgICB2YXIgaW5kZXRlcm1pbmF0ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCB0cnVlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXRlcm1pbmF0ZTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMyLmRpc2FibGVkLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMyLm9uQ2hhbmdlO1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBfc3RhdGUuY2hlY2tlZCxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfc3RhdGUuaW5kZXRlcm1pbmF0ZTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiBjaGVja2VkLCBpbmRldGVybWluYXRlOiBpbmRldGVybWluYXRlLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlbGVjdGlvbkNoZWNrYm94QWxsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkNoZWNrYm94QWxsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQ2hlY2tib3hBbGwuanNcbiAqKiBtb2R1bGUgaWQgPSA5OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mJyk7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjVGFibGUgPSByZXF1aXJlKCdyYy10YWJsZScpO1xuXG52YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cbnZhciBfZmlsdGVyRHJvcGRvd24gPSByZXF1aXJlKCcuL2ZpbHRlckRyb3Bkb3duJyk7XG5cbnZhciBfZmlsdGVyRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyRHJvcGRvd24pO1xuXG52YXIgX3BhZ2luYXRpb24gPSByZXF1aXJlKCcuLi9wYWdpbmF0aW9uJyk7XG5cbnZhciBfcGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWdpbmF0aW9uKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfc3BpbiA9IHJlcXVpcmUoJy4uL3NwaW4nKTtcblxudmFyIF9zcGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NwaW4pO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuLi9fdXRpbC93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfU2VsZWN0aW9uQm94ID0gcmVxdWlyZSgnLi9TZWxlY3Rpb25Cb3gnKTtcblxudmFyIF9TZWxlY3Rpb25Cb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aW9uQm94KTtcblxudmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbCA9IHJlcXVpcmUoJy4vU2VsZWN0aW9uQ2hlY2tib3hBbGwnKTtcblxudmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3Rpb25DaGVja2JveEFsbCk7XG5cbnZhciBfQ29sdW1uID0gcmVxdWlyZSgnLi9Db2x1bW4nKTtcblxudmFyIF9Db2x1bW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uKTtcblxudmFyIF9Db2x1bW5Hcm91cCA9IHJlcXVpcmUoJy4vQ29sdW1uR3JvdXAnKTtcblxudmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICBlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbn1cbnZhciBkZWZhdWx0TG9jYWxlID0ge1xuICAgIGZpbHRlclRpdGxlOiAn562b6YCJJyxcbiAgICBmaWx0ZXJDb25maXJtOiAn56Gu5a6aJyxcbiAgICBmaWx0ZXJSZXNldDogJ+mHjee9ricsXG4gICAgZW1wdHlUZXh0OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZnJvd24tbycgfSksXG4gICAgICAgICdcXHU2NjgyXFx1NjVFMFxcdTY1NzBcXHU2MzZFJ1xuICAgIClcbn07XG52YXIgZGVmYXVsdFBhZ2luYXRpb24gPSB7XG4gICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgb25TaG93U2l6ZUNoYW5nZTogbm9vcFxufTtcblxudmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgVGFibGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcm93U2VsZWN0ID0gX3RoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF90aGlzJHByb3BzJHJvd1NlbGVjdCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRyb3dTZWxlY3Q7XG5cbiAgICAgICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGluZGV4KTtcbiAgICAgICAgICAgIC8vIENhY2hlIGNoZWNrYm94UHJvcHNcbiAgICAgICAgICAgIGlmICghX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSA9IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVGaWx0ZXIgPSBmdW5jdGlvbiAoY29sdW1uLCBuZXh0RmlsdGVycykge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLmZpbHRlcnMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldENvbHVtbktleShjb2x1bW4pLCBuZXh0RmlsdGVycykpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGZpbHRlcnMgbm90IGluIGN1cnJlbnQgY29sdW1uc1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2x1bW5LZXlzID0gW107XG4gICAgICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkoX3RoaXMuY29sdW1ucywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbHVtbktleXMucHVzaChfdGhpcy5nZXRDb2x1bW5LZXkoYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2x1bW5LZXlzLmluZGV4T2YoY29sdW1uS2V5KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbY29sdW1uS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5wYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBwcm9wXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gMTtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlKHBhZ2luYXRpb24uY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzVG9TZXRTdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBmaWx0ZXJzKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIHdoaWNoIGlzIGNvbnRyb2xsZWRcbiAgICAgICAgICAgIF90aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKCkuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbktleSA9IF90aGlzLmdldENvbHVtbktleShjb2wpO1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNUb1NldFN0YXRlW2NvbHVtbktleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyc1RvU2V0U3RhdGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5maWx0ZXJzID0gZmlsdGVyc1RvU2V0U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9PSBpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG4gICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSBba2V5XTtcbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3QnLFxuICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBfdGhpcy5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCk7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG4gICAgICAgICAgICB2YXIgY2hhbmdhYmxlUm93S2V5cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRpc2FibGVkO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFJlY29yZEtleShpdGVtLCBpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8g6K6w5b2V5Y+Y5YyW55qE5YiXXG4gICAgICAgICAgICB2YXIgY2hhbmdlUm93S2V5cyA9IFtdO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMuc3BsaWNlKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3RBbGwnLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5czogY2hhbmdlUm93S2V5c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG90aGVyQXJndW1lbnRzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIG90aGVyQXJndW1lbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gcGFnaW5hdGlvbi5jdXJyZW50IHx8IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlLmFwcGx5KHBhZ2luYXRpb24sIFtwYWdpbmF0aW9uLmN1cnJlbnRdLmNvbmNhdChvdGhlckFyZ3VtZW50cykpO1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVuZGVyU2VsZWN0aW9uQm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoXywgcmVjb3JkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIGluZGV4KTsgLy8g5LuOIDEg5byA5aeLXG4gICAgICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ3JhZGlvJyA/IF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpIDogX3RoaXMuaGFuZGxlU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiBzdG9wUHJvcGFnYXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQm94MltcImRlZmF1bHRcIl0sIHsgdHlwZTogdHlwZSwgc3RvcmU6IF90aGlzLnN0b3JlLCByb3dJbmRleDogcm93SW5kZXgsIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgZGVmYXVsdFNlbGVjdGlvbjogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFJlY29yZEtleSA9IGZ1bmN0aW9uIChyZWNvcmQsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcm93S2V5ID0gX3RoaXMucHJvcHMucm93S2V5O1xuICAgICAgICAgICAgdmFyIHJlY29yZEtleSA9IHR5cGVvZiByb3dLZXkgPT09ICdmdW5jdGlvbicgPyByb3dLZXkocmVjb3JkLCBpbmRleCkgOiByZWNvcmRbcm93S2V5XTtcbiAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShyZWNvcmRLZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsIG9yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXksJyArICdzZWUgaHR0cDovL3UuYW50LmRlc2lnbi90YWJsZS1yb3cta2V5Jyk7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkS2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IHJlY29yZEtleTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCwgcGFnZVNpemUpIHtcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gX3RoaXMuc3RhdGUucGFnaW5hdGlvbjtcbiAgICAgICAgICAgIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBwYWdlU2l6ZSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwgeyBwYWdlU2l6ZTogcGFnZVNpemUsIGN1cnJlbnQ6IGN1cnJlbnQgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBhZ2luYXRpb246IG5leHRQYWdpbmF0aW9uIH0pO1xuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBuZXh0UGFnaW5hdGlvblxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSghKCdjb2x1bW5zUGFnZVJhbmdlJyBpbiBwcm9wcyB8fCAnY29sdW1uc1BhZ2VTaXplJyBpbiBwcm9wcyksICdgY29sdW1uc1BhZ2VSYW5nZWAgYW5kIGBjb2x1bW5zUGFnZVNpemVgIGFyZSByZW1vdmVkLCBwbGVhc2UgdXNlICcgKyAnZml4ZWQgY29sdW1ucyBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZml4ZWQtY29sdW1ucy4nKTtcbiAgICAgICAgX3RoaXMuY29sdW1ucyA9IHByb3BzLmNvbHVtbnMgfHwgKDAsIF91dGlsLm5vcm1hbGl6ZUNvbHVtbnMpKHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMoKSwge1xuICAgICAgICAgICAgLy8g5YeP5bCR54q25oCBXG4gICAgICAgICAgICBmaWx0ZXJzOiBfdGhpcy5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMoKSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IF90aGlzLmdldERlZmF1bHRQYWdpbmF0aW9uKHByb3BzKVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG4gICAgICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IChwcm9wcy5yb3dTZWxlY3Rpb24gfHwge30pLnNlbGVjdGVkUm93S2V5cyB8fCBbXSxcbiAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2VsZWN0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFNlbGVjdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcyRyb3dTZWxlY3Rpb24gPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjtcblxuICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhdERhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHJvd0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgcm93SW5kZXgpLmRlZmF1bHRDaGVja2VkO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldERlZmF1bHRQYWdpbmF0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFBhZ2luYXRpb24ocHJvcHMpIHtcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBwcm9wcy5wYWdpbmF0aW9uIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQYWdpbmF0aW9uKHByb3BzKSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcGFnaW5hdGlvbiwge1xuICAgICAgICAgICAgY3VycmVudDogcGFnaW5hdGlvbi5kZWZhdWx0Q3VycmVudCB8fCBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMSxcbiAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdpbmF0aW9uLmRlZmF1bHRQYWdlU2l6ZSB8fCBwYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwXG4gICAgICAgIH0pIDoge307XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiBnZXRMb2NhbGUoKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZSkge1xuICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUsIGxvY2FsZSwgdGhpcy5wcm9wcy5sb2NhbGUpO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoJ3BhZ2luYXRpb24nIGluIG5leHRQcm9wcyB8fCAncGFnaW5hdGlvbicgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldmlvdXNTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwcmV2aW91c1N0YXRlLnBhZ2luYXRpb24sIG5leHRQcm9wcy5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgPSBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcbiAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLnBhZ2VTaXplID0gbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBwYWdpbmF0aW9uOiBuZXh0UHJvcHMucGFnaW5hdGlvbiAhPT0gZmFsc2UgPyBuZXdQYWdpbmF0aW9uIDoge30gfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0UHJvcHMucm93U2VsZWN0aW9uICYmICdzZWxlY3RlZFJvd0tleXMnIGluIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogbmV4dFByb3BzLnJvd1NlbGVjdGlvbi5zZWxlY3RlZFJvd0tleXMgfHwgW11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJvd1NlbGVjdGlvbiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyAhPT0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgnZGF0YVNvdXJjZScgaW4gbmV4dFByb3BzICYmIG5leHRQcm9wcy5kYXRhU291cmNlICE9PSB0aGlzLnByb3BzLmRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnModGhpcy5jb2x1bW5zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgc29ydFN0YXRlID0gdGhpcy5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICAgICAgaWYgKHNvcnRTdGF0ZS5zb3J0Q29sdW1uICE9PSB0aGlzLnN0YXRlLnNvcnRDb2x1bW4gfHwgc29ydFN0YXRlLnNvcnRPcmRlciAhPT0gdGhpcy5zdGF0ZS5zb3J0T3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHNvcnRTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbHRlcmVkVmFsdWVDb2x1bW5zID0gdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICBpZiAoZmlsdGVyZWRWYWx1ZUNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGZpbHRlcnNGcm9tQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG4gICAgICAgICAgICB2YXIgbmV3RmlsdGVycyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLmZpbHRlcnMpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVyc0Zyb21Db2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBuZXdGaWx0ZXJzW2tleV0gPSBmaWx0ZXJzRnJvbUNvbHVtbnNba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNGaWx0ZXJzQ2hhbmdlZChuZXdGaWx0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJzOiBuZXdGaWx0ZXJzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZFJvd0tleXMgPSBmdW5jdGlvbiBzZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCBfcmVmKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzZWxlY3RXYXkgPSBfcmVmLnNlbGVjdFdheSxcbiAgICAgICAgICAgIHJlY29yZCA9IF9yZWYucmVjb3JkLFxuICAgICAgICAgICAgY2hlY2tlZCA9IF9yZWYuY2hlY2tlZCxcbiAgICAgICAgICAgIGNoYW5nZVJvd0tleXMgPSBfcmVmLmNoYW5nZVJvd0tleXM7XG4gICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uMiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbjIgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjI7XG5cbiAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiAhKCdzZWxlY3RlZFJvd0tleXMnIGluIHJvd1NlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoeyBzZWxlY3RlZFJvd0tleXM6IHNlbGVjdGVkUm93S2V5cyB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdERhdGEoKTtcbiAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24ub25DaGFuZ2UgJiYgIXJvd1NlbGVjdGlvbltzZWxlY3RXYXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihfdGhpczMuZ2V0UmVjb3JkS2V5KHJvdywgaSkpID49IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocm93U2VsZWN0aW9uLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25DaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RXYXkgPT09ICdvblNlbGVjdCcgJiYgcm93U2VsZWN0aW9uLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3QocmVjb3JkLCBjaGVja2VkLCBzZWxlY3RlZFJvd3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0QWxsJyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwoY2hlY2tlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuaGFzUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIGhhc1BhZ2luYXRpb24ocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5wYWdpbmF0aW9uICE9PSBmYWxzZTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmlzRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiBpc0ZpbHRlcnNDaGFuZ2VkKGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuZmlsdGVycykubGVuZ3RoKSB7XG4gICAgICAgICAgICBmaWx0ZXJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tjb2x1bW5LZXldICE9PSBfdGhpczQuc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyc0NoYW5nZWQ7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0T3JkZXJDb2x1bW5zID0gZnVuY3Rpb24gZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiAoY29sdW1ucyB8fCB0aGlzLmNvbHVtbnMgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3NvcnRPcmRlcicgaW4gY29sdW1uO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBjb2x1bW4uZmlsdGVyZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgIGZpbHRlcnNbX3RoaXM1LmdldENvbHVtbktleShjb2wpXSA9IGNvbC5maWx0ZXJlZFZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyA9IGZ1bmN0aW9uIGdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgLy8gcmV0dXJuIGZpc3J0IGNvbHVtbiB3aGljaCBzb3J0T3JkZXIgaXMgbm90IGZhbHN5XG4gICAgICAgIHZhciBzb3J0ZWRDb2x1bW4gPSB0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoY29sdW1ucykuZmlsdGVyKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2wuc29ydE9yZGVyO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgaWYgKHNvcnRlZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0ZWRDb2x1bW4sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0ZWRDb2x1bW4uc29ydE9yZGVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3J0Q29sdW1uOiBudWxsLFxuICAgICAgICAgICAgc29ydE9yZGVyOiBudWxsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0ZXJGbiA9IGZ1bmN0aW9uIGdldFNvcnRlckZuKCkge1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZS5zb3J0T3JkZXIsXG4gICAgICAgICAgICBzb3J0Q29sdW1uID0gX3N0YXRlLnNvcnRDb2x1bW47XG5cbiAgICAgICAgaWYgKCFzb3J0T3JkZXIgfHwgIXNvcnRDb2x1bW4gfHwgdHlwZW9mIHNvcnRDb2x1bW4uc29ydGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gc29ydENvbHVtbi5zb3J0ZXIoYSwgYik7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnID8gLXJlc3VsdCA6IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUudG9nZ2xlU29ydE9yZGVyID0gZnVuY3Rpb24gdG9nZ2xlU29ydE9yZGVyKG9yZGVyLCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgc29ydENvbHVtbiA9IF9zdGF0ZTIuc29ydENvbHVtbixcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZTIuc29ydE9yZGVyO1xuICAgICAgICAvLyDlj6rlkIzml7blhYHorrjkuIDliJfov5vooYzmjpLluo/vvIzlkKbliJnkvJrlr7zoh7TmjpLluo/pobrluo/nmoTpgLvovpHpl67pophcblxuICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gdGhpcy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgaWYgKCFpc1NvcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuICAgICAgICAgICAgc29ydENvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzb3J0T3JkZXIgPT09IG9yZGVyKSB7XG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gJyc7XG4gICAgICAgICAgICAgICAgc29ydENvbHVtbiA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydE9yZGVyLFxuICAgICAgICAgICAgc29ydENvbHVtbjogc29ydENvbHVtblxuICAgICAgICB9O1xuICAgICAgICAvLyBDb250cm9sbGVkXG4gICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvbkNoYW5nZSA9IHRoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLCBuZXdTdGF0ZSkpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUm93U2VsZWN0aW9uID0gZnVuY3Rpb24gcmVuZGVyUm93U2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMucm93U2VsZWN0aW9uO1xuXG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jb2x1bW5zLmNvbmNhdCgpO1xuICAgICAgICBpZiAocm93U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpczYuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpbmRleCkuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uQ29sdW1uID0ge1xuICAgICAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbi1jb2x1bW4nLFxuICAgICAgICAgICAgICAgIHJlbmRlcjogdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3gocm93U2VsZWN0aW9uLnR5cGUpLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tY29sdW1uJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24udHlwZSAhPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2JveEFsbERpc2FibGVkID0gZGF0YS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3Rpb25DaGVja2JveEFsbDJbXCJkZWZhdWx0XCJdLCB7IHN0b3JlOiB0aGlzLnN0b3JlLCBkYXRhOiBkYXRhLCBnZXRDaGVja2JveFByb3BzQnlJdGVtOiB0aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0sIGdldFJlY29yZEtleTogdGhpcy5nZXRSZWNvcmRLZXksIGRpc2FibGVkOiBjaGVja2JveEFsbERpc2FibGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4uZml4ZWQgPSAnbGVmdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uc1swXSA9IHNlbGVjdGlvbkNvbHVtbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHNlbGVjdGlvbkNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW5LZXkgPSBmdW5jdGlvbiBnZXRDb2x1bW5LZXkoY29sdW1uLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gY29sdW1uLmtleSB8fCBjb2x1bW4uZGF0YUluZGV4IHx8IGluZGV4O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TWF4Q3VycmVudCA9IGZ1bmN0aW9uIGdldE1heEN1cnJlbnQodG90YWwpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSRwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLFxuICAgICAgICAgICAgY3VycmVudCA9IF9zdGF0ZSRwYWdpbmF0aW9uLmN1cnJlbnQsXG4gICAgICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZSRwYWdpbmF0aW9uLnBhZ2VTaXplO1xuXG4gICAgICAgIGlmICgoY3VycmVudCAtIDEpICogcGFnZVNpemUgPj0gdG90YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmlzU29ydENvbHVtbiA9IGZ1bmN0aW9uIGlzU29ydENvbHVtbihjb2x1bW4pIHtcbiAgICAgICAgdmFyIHNvcnRDb2x1bW4gPSB0aGlzLnN0YXRlLnNvcnRDb2x1bW47XG5cbiAgICAgICAgaWYgKCFjb2x1bW4gfHwgIXNvcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5LZXkoc29ydENvbHVtbikgPT09IHRoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbik7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJDb2x1bW5zRHJvcGRvd24gPSBmdW5jdGlvbiByZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucykge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgICAgIGRyb3Bkb3duUHJlZml4Q2xzID0gX3Byb3BzMi5kcm9wZG93blByZWZpeENscztcbiAgICAgICAgdmFyIHNvcnRPcmRlciA9IHRoaXMuc3RhdGUuc29ydE9yZGVyO1xuXG4gICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmdldExvY2FsZSgpO1xuICAgICAgICByZXR1cm4gKDAsIF91dGlsLnRyZWVNYXApKGNvbHVtbnMsIGZ1bmN0aW9uIChvcmlnaW5Db2x1bW4sIGkpIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgb3JpZ2luQ29sdW1uKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpczcuZ2V0Q29sdW1uS2V5KGNvbHVtbiwgaSk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyRHJvcGRvd24gPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgc29ydEJ1dHRvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZmlsdGVycyAmJiBjb2x1bW4uZmlsdGVycy5sZW5ndGggPiAwIHx8IGNvbHVtbi5maWx0ZXJEcm9wZG93bikge1xuICAgICAgICAgICAgICAgIHZhciBjb2xGaWx0ZXJzID0gX3RoaXM3LnN0YXRlLmZpbHRlcnNba2V5XSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ZpbHRlckRyb3Bkb3duMltcImRlZmF1bHRcIl0sIHsgbG9jYWxlOiBsb2NhbGUsIGNvbHVtbjogY29sdW1uLCBzZWxlY3RlZEtleXM6IGNvbEZpbHRlcnMsIGNvbmZpcm1GaWx0ZXI6IF90aGlzNy5oYW5kbGVGaWx0ZXIsIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1maWx0ZXInLCBkcm9wZG93blByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMgfHwgJ2FudC1kcm9wZG93bicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uLnNvcnRlcikge1xuICAgICAgICAgICAgICAgIHZhciBpc1NvcnRDb2x1bW4gPSBfdGhpczcuaXNTb3J0Q29sdW1uKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgaWYgKGlzU29ydENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRPcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaXNBc2NlbmQgPSBpc1NvcnRDb2x1bW4gJiYgc29ydE9yZGVyID09PSAnYXNjZW5kJztcbiAgICAgICAgICAgICAgICB2YXIgaXNEZXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnO1xuICAgICAgICAgICAgICAgIHNvcnRCdXR0b24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItdXAgJyArIChpc0FzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcudG9nZ2xlU29ydE9yZGVyKCdhc2NlbmQnLCBjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtdXAnIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyLWRvd24gJyArIChpc0Rlc2NlbmQgPyAnb24nIDogJ29mZicpLCB0aXRsZTogJ1xcdTIxOTMnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnRvZ2dsZVNvcnRPcmRlcignZGVzY2VuZCcsIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjYXJldC1kb3duJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbi50aXRsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY29sdW1uLnRpdGxlLFxuICAgICAgICAgICAgICAgIHNvcnRCdXR0b24sXG4gICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gY29sdW1uO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlclBhZ2luYXRpb24gPSBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuICAgICAgICAvLyDlvLrliLbkuI3pnIDopoHliIbpobVcbiAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSAnZGVmYXVsdCc7XG4gICAgICAgIHZhciBwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuXG4gICAgICAgIGlmIChwYWdpbmF0aW9uLnNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSBwYWdpbmF0aW9uLnNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaXplID09PSAnbWlkZGxlJyB8fCB0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgICAgIHNpemUgPSAnc21hbGwnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbCA9IHBhZ2luYXRpb24udG90YWwgfHwgdGhpcy5nZXRMb2NhbERhdGEoKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0b3RhbCA+IDAgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3BhZ2luYXRpb24nIH0sIHBhZ2luYXRpb24sIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctcGFnaW5hdGlvbicsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVBhZ2VDaGFuZ2UsIHRvdGFsOiB0b3RhbCwgc2l6ZTogc2l6ZSwgY3VycmVudDogdGhpcy5nZXRNYXhDdXJyZW50KHRvdGFsKSwgb25TaG93U2l6ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSB9KSkgOiBudWxsO1xuICAgIH07XG4gICAgLy8gR2V0IHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlclxuXG5cbiAgICBUYWJsZS5wcm90b3R5cGUucHJlcGFyZVBhcmFtc0FyZ3VtZW50cyA9IGZ1bmN0aW9uIHByZXBhcmVQYXJhbXNBcmd1bWVudHMoc3RhdGUpIHtcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfX2Fzc2lnbih7fSwgc3RhdGUucGFnaW5hdGlvbik7XG4gICAgICAgIC8vIHJlbW92ZSB1c2VsZXNzIGhhbmRsZSBmdW5jdGlvbiBpbiBUYWJsZS5vbkNoYW5nZVxuICAgICAgICBkZWxldGUgcGFnaW5hdGlvbi5vbkNoYW5nZTtcbiAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuICAgICAgICB2YXIgc29ydGVyID0ge307XG4gICAgICAgIGlmIChzdGF0ZS5zb3J0Q29sdW1uICYmIHN0YXRlLnNvcnRPcmRlcikge1xuICAgICAgICAgICAgc29ydGVyLmNvbHVtbiA9IHN0YXRlLnNvcnRDb2x1bW47XG4gICAgICAgICAgICBzb3J0ZXIub3JkZXIgPSBzdGF0ZS5zb3J0T3JkZXI7XG4gICAgICAgICAgICBzb3J0ZXIuZmllbGQgPSBzdGF0ZS5zb3J0Q29sdW1uLmRhdGFJbmRleDtcbiAgICAgICAgICAgIHNvcnRlci5jb2x1bW5LZXkgPSB0aGlzLmdldENvbHVtbktleShzdGF0ZS5zb3J0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3BhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcl07XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5maW5kQ29sdW1uID0gZnVuY3Rpb24gZmluZENvbHVtbihteUtleSkge1xuICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICB2YXIgY29sdW1uID0gdm9pZCAwO1xuICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkodGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgaWYgKF90aGlzOC5nZXRDb2x1bW5LZXkoYykgPT09IG15S2V5KSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZURhdGEoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRMb2NhbERhdGEoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBwYWdlU2l6ZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5YiG6aG155qE6K+d77yM6buY6K6k5YWo6YOo5bGV56S6XG4gICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcbiAgICAgICAgICAgIHBhZ2VTaXplID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZVNpemUgPSBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZ2V0TWF4Q3VycmVudChzdGF0ZS5wYWdpbmF0aW9uLnRvdGFsIHx8IGRhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyDliIbpobVcbiAgICAgICAgLy8gLS0tXG4gICAgICAgIC8vIOW9k+aVsOaNrumHj+WwkeS6juetieS6juavj+mhteaVsOmHj+aXtu+8jOebtOaOpeiuvue9ruaVsOaNrlxuICAgICAgICAvLyDlkKbliJnov5vooYzor7vlj5bliIbpobXmlbDmja5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gcGFnZVNpemUgfHwgcGFnZVNpemUgPT09IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpID49IChjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSAmJiBpIDwgY3VycmVudCAqIHBhZ2VTaXplO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0RGF0YSA9IGZ1bmN0aW9uIGdldEZsYXREYXRhKCkge1xuICAgICAgICByZXR1cm4gKDAsIF91dGlsLmZsYXRBcnJheSkodGhpcy5nZXRMb2NhbERhdGEoKSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCkpO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVjdXJzaXZlU29ydCA9IGZ1bmN0aW9uIHJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pIHtcbiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9IHRoaXMucHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lLFxuICAgICAgICAgICAgY2hpbGRyZW5Db2x1bW5OYW1lID0gX3Byb3BzJGNoaWxkcmVuQ29sdW1uID09PSB1bmRlZmluZWQgPyAnY2hpbGRyZW4nIDogX3Byb3BzJGNoaWxkcmVuQ29sdW1uO1xuXG4gICAgICAgIHJldHVybiBkYXRhLnNvcnQoc29ydGVyRm4pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBpdGVtLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBjaGlsZHJlbkNvbHVtbk5hbWUsIF90aGlzOS5yZWN1cnNpdmVTb3J0KGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSwgc29ydGVyRm4pKSkgOiBpdGVtO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldExvY2FsRGF0YSA9IGZ1bmN0aW9uIGdldExvY2FsRGF0YSgpIHtcbiAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5wcm9wcy5kYXRhU291cmNlO1xuXG4gICAgICAgIHZhciBkYXRhID0gZGF0YVNvdXJjZSB8fCBbXTtcbiAgICAgICAgLy8g5LyY5YyW5pys5Zyw5o6S5bqPXG4gICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDApO1xuICAgICAgICB2YXIgc29ydGVyRm4gPSB0aGlzLmdldFNvcnRlckZuKCk7XG4gICAgICAgIGlmIChzb3J0ZXJGbikge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMucmVjdXJzaXZlU29ydChkYXRhLCBzb3J0ZXJGbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8g562b6YCJXG4gICAgICAgIGlmIChzdGF0ZS5maWx0ZXJzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZS5maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gX3RoaXMxMC5maW5kQ29sdW1uKGNvbHVtbktleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG9uRmlsdGVyID0gY29sLm9uRmlsdGVyO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvbkZpbHRlciA/IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GaWx0ZXIodiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkgOiBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lcyxcbiAgICAgICAgICAgIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgc2hvd0hlYWRlciA9IF9hLnNob3dIZWFkZXIsXG4gICAgICAgICAgICBsb2FkaW5nID0gX2EubG9hZGluZyxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJwcmVmaXhDbHNcIiwgXCJzaG93SGVhZGVyXCIsIFwibG9hZGluZ1wiXSk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKTtcbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLnJlbmRlclJvd1NlbGVjdGlvbigpO1xuICAgICAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IHRoaXMucHJvcHMuZXhwYW5kZWRSb3dSZW5kZXIgJiYgdGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICE9PSBmYWxzZTtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy0nICsgdGhpcy5wcm9wcy5zaXplLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1ib3JkZXJlZCcsIHRoaXMucHJvcHMuYm9yZGVyZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWVtcHR5JywgIWRhdGEubGVuZ3RoKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13aXRob3V0LWNvbHVtbi1oZWFkZXInLCAhc2hvd0hlYWRlciksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgIGNvbHVtbnMgPSB0aGlzLnJlbmRlckNvbHVtbnNEcm9wZG93bihjb2x1bW5zKTtcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgY29sdW1uKTtcbiAgICAgICAgICAgIG5ld0NvbHVtbi5rZXkgPSBfdGhpczExLmdldENvbHVtbktleShuZXdDb2x1bW4sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0NvbHVtbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBjb2x1bW5zWzBdICYmIGNvbHVtbnNbMF0ua2V5ID09PSAnc2VsZWN0aW9uLWNvbHVtbicgPyAxIDogMDtcbiAgICAgICAgaWYgKCdleHBhbmRJY29uQ29sdW1uSW5kZXgnIGluIHJlc3RQcm9wcykge1xuICAgICAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gcmVzdFByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1RhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3RhYmxlJyB9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGRhdGE6IGRhdGEsIGNvbHVtbnM6IGNvbHVtbnMsIHNob3dIZWFkZXI6IHNob3dIZWFkZXIsIGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LCBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLCBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlLmVtcHR5VGV4dDtcbiAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBwYWdpbmF0aW9uIG9yIG5vIGRhdGEsXG4gICAgICAgIC8vIHRoZSBoZWlnaHQgb2Ygc3BpbiBzaG91bGQgZGVjcmVhc2UgYnkgaGFsZiBvZiBwYWdpbmF0aW9uXG4gICAgICAgIHZhciBwYWdpbmF0aW9uUGF0Y2hDbGFzcyA9IHRoaXMuaGFzUGFnaW5hdGlvbigpICYmIGRhdGEgJiYgZGF0YS5sZW5ndGggIT09IDAgPyBwcmVmaXhDbHMgKyAnLXdpdGgtcGFnaW5hdGlvbicgOiBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtcGFnaW5hdGlvbic7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscyArICctd3JhcHBlcicsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfc3BpbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgc3Bpbm5pbmc6IGxvYWRpbmcsIGNsYXNzTmFtZTogbG9hZGluZyA/IHBhZ2luYXRpb25QYXRjaENsYXNzICsgJyAnICsgcHJlZml4Q2xzICsgJy1zcGluLWhvbGRlcicgOiAnJyB9LFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnaW5hdGlvbigpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBUYWJsZTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblxuVGFibGUuQ29sdW1uID0gX0NvbHVtbjJbXCJkZWZhdWx0XCJdO1xuVGFibGUuQ29sdW1uR3JvdXAgPSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXTtcblRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBkYXRhU291cmNlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgY29sdW1uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuICAgIHByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG4gICAgcm93U2VsZWN0aW9uOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGNsYXNzTmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzaXplOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxvYWRpbmc6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICAgIGJvcmRlcmVkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG4gICAgbG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGRyb3Bkb3duUHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuVGFibGUuZGVmYXVsdFByb3BzID0ge1xuICAgIGRhdGFTb3VyY2U6IFtdLFxuICAgIHByZWZpeENsczogJ2FudC10YWJsZScsXG4gICAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuICAgIHJvd1NlbGVjdGlvbjogbnVsbCxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHNpemU6ICdsYXJnZScsXG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgYm9yZGVyZWQ6IGZhbHNlLFxuICAgIGluZGVudFNpemU6IDIwLFxuICAgIGxvY2FsZToge30sXG4gICAgcm93S2V5OiAna2V5JyxcbiAgICBzaG93SGVhZGVyOiB0cnVlXG59O1xuVGFibGUuY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL1RhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG4gICAgICAgIHN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0YXRlLCBwYXJ0aWFsKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG4gICAgICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICAgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbiAgICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3JjTWVudSA9IHJlcXVpcmUoJ3JjLW1lbnUnKTtcblxudmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblxudmFyIF9kb21DbG9zZXN0ID0gcmVxdWlyZSgnZG9tLWNsb3Nlc3QnKTtcblxudmFyIF9kb21DbG9zZXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbUNsb3Nlc3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9kcm9wZG93biA9IHJlcXVpcmUoJy4uL2Ryb3Bkb3duJyk7XG5cbnZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9jaGVja2JveCA9IHJlcXVpcmUoJy4uL2NoZWNrYm94Jyk7XG5cbnZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbnZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciA9IHJlcXVpcmUoJy4vRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcicpO1xuXG52YXIgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRmlsdGVyTWVudSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShGaWx0ZXJNZW51LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEZpbHRlck1lbnUocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBGaWx0ZXJNZW51KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRLZXlzID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSBfcmVmLnNlbGVjdGVkS2V5cztcblxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogW11cbiAgICAgICAgICAgIH0sIF90aGlzLmhhbmRsZUNvbmZpcm0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrID0gZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmtleVBhdGgubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIga2V5UGF0aE9mU2VsZWN0ZWRJdGVtID0gX3RoaXMuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGluZm8ua2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVzZWxlY3QgU3ViTWVudSBjaGlsZFxuICAgICAgICAgICAgICAgIGRlbGV0ZSBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgU3ViTWVudSBjaGlsZFxuICAgICAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtpbmZvLmtleV0gPSBpbmZvLmtleVBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGtleVBhdGhPZlNlbGVjdGVkSXRlbToga2V5UGF0aE9mU2VsZWN0ZWRJdGVtIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdmlzaWJsZSA9ICdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIHByb3BzLmNvbHVtbiA/IHByb3BzLmNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGUgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZEtleXM6IHByb3BzLnNlbGVjdGVkS2V5cyxcbiAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbToge30sXG4gICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gICAgICAgIHZhciBmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgPSAhISgwLCBfZG9tQ2xvc2VzdDJbXCJkZWZhdWx0XCJdKShyb290Tm9kZSwgJy5hbnQtdGFibGUtc2Nyb2xsJyk7XG4gICAgICAgIGlmIChmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgJiYgY29sdW1uLmZpeGVkKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGZpeGVkIGNvbHVtbiBoYXZlIGZpbHRlcnMsIHRoZXJlIHdpbGwgYmUgdHdvIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAvLyBGaWx0ZXIgZHJvcGRvd24gbWVudSBpbnNpZGUgc2Nyb2xsIGJvZHkgc2hvdWxkIG5ldmVyIGJlIHNob3duXG4gICAgICAgICAgICAvLyBUbyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNTAxMFxuICAgICAgICAgICAgdGhpcy5uZXZlclNob3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IG5leHRQcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIG5ld1N0YXRlID0ge307XG4gICAgICAgIGlmICgnc2VsZWN0ZWRLZXlzJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkS2V5cyA9IG5leHRQcm9wcy5zZWxlY3RlZEtleXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikge1xuICAgICAgICAgICAgbmV3U3RhdGUudmlzaWJsZSA9IGNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblxuICAgICAgICBpZiAoISgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdmlzaWJsZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKSB7XG4gICAgICAgICAgICBjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29uZmlybUZpbHRlciA9IGZ1bmN0aW9uIGNvbmZpcm1GaWx0ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZEtleXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlybUZpbHRlcih0aGlzLnByb3BzLmNvbHVtbiwgdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVJdGVtID0gZnVuY3Rpb24gcmVuZGVyTWVudUl0ZW0oaXRlbSkge1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuICAgICAgICB2YXIgaW5wdXQgPSBtdWx0aXBsZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS52YWx1ZS50b1N0cmluZygpKSA+PSAwIH0pO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAgICAgIHsga2V5OiBpdGVtLnZhbHVlIH0sXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgaXRlbS50ZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmhhc1N1Yk1lbnUgPSBmdW5jdGlvbiBoYXNTdWJNZW51KCkge1xuICAgICAgICB2YXIgX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID0gdGhpcy5wcm9wcy5jb2x1bW4uZmlsdGVycyxcbiAgICAgICAgICAgIGZpbHRlcnMgPSBfcHJvcHMkY29sdW1uJGZpbHRlcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogX3Byb3BzJGNvbHVtbiRmaWx0ZXJzO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhIShpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51cyA9IGZ1bmN0aW9uIHJlbmRlck1lbnVzKGl0ZW1zKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gPSBfdGhpczIuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5TZWxlY3RlZCA9IE9iamVjdC5rZXlzKGtleVBhdGhPZlNlbGVjdGVkSXRlbSkuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1ba2V5XS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnVDbHMgPSBjb250YWluU2VsZWN0ZWQgPyBfdGhpczIucHJvcHMuZHJvcGRvd25QcmVmaXhDbHMgKyAnLXN1Ym1lbnUtY29udGFpbi1zZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX3JjTWVudS5TdWJNZW51LFxuICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiBpdGVtLnRleHQsIGNsYXNzTmFtZTogc3ViTWVudUNscywga2V5OiBpdGVtLnZhbHVlLnRvU3RyaW5nKCkgfSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlbmRlck1lbnVzKGl0ZW0uY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVuZGVyTWVudUl0ZW0oaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbixcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgZHJvcGRvd25QcmVmaXhDbHMgPSBfcHJvcHMuZHJvcGRvd25QcmVmaXhDbHM7XG4gICAgICAgIC8vIGRlZmF1bHQgbXVsdGlwbGUgc2VsZWN0aW9uIGluIGZpbHRlciBkcm9wZG93blxuXG4gICAgICAgIHZhciBtdWx0aXBsZSA9ICdmaWx0ZXJNdWx0aXBsZScgaW4gY29sdW1uID8gY29sdW1uLmZpbHRlck11bHRpcGxlIDogdHJ1ZTtcbiAgICAgICAgdmFyIGRyb3Bkb3duTWVudUNsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51LXdpdGhvdXQtc3VibWVudScsICF0aGlzLmhhc1N1Yk1lbnUoKSkpO1xuICAgICAgICB2YXIgbWVudXMgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjb2x1bW4uZmlsdGVyRHJvcGRvd25cbiAgICAgICAgKSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24nIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IG11bHRpcGxlOiBtdWx0aXBsZSwgb25DbGljazogdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrLCBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51JywgY2xhc3NOYW1lOiBkcm9wZG93bk1lbnVDbGFzcywgb25TZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBvbkRlc2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgc2VsZWN0ZWRLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyB9LFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWVudXMoY29sdW1uLmZpbHRlcnMpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1idG5zJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjb25maXJtJywgb25DbGljazogdGhpcy5oYW5kbGVDb25maXJtIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJDb25maXJtXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY2xlYXInLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsZWFyRmlsdGVycyB9LFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUuZmlsdGVyUmVzZXRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIHZhciBkcm9wZG93blNlbGVjdGVkQ2xhc3MgPSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cy5sZW5ndGggPiAwID8gcHJlZml4Q2xzICsgJy1zZWxlY3RlZCcgOiAnJztcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsgdHJpZ2dlcjogWydjbGljayddLCBvdmVybGF5OiBtZW51cywgdmlzaWJsZTogdGhpcy5uZXZlclNob3duID8gZmFsc2UgOiB0aGlzLnN0YXRlLnZpc2libGUsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0aXRsZTogbG9jYWxlLmZpbHRlclRpdGxlLCB0eXBlOiAnZmlsdGVyJywgY2xhc3NOYW1lOiBkcm9wZG93blNlbGVjdGVkQ2xhc3MgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlck1lbnU7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRmlsdGVyTWVudTtcblxuRmlsdGVyTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7fSxcblxuICAgIGNvbHVtbjoge31cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9maWx0ZXJEcm9wZG93bi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5mbGF0QXJyYXkgPSBmbGF0QXJyYXk7XG5leHBvcnRzLnRyZWVNYXAgPSB0cmVlTWFwO1xuZXhwb3J0cy5ub3JtYWxpemVDb2x1bW5zID0gbm9ybWFsaXplQ29sdW1ucztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9Db2x1bW5Hcm91cCA9IHJlcXVpcmUoJy4vQ29sdW1uR3JvdXAnKTtcblxudmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBmbGF0QXJyYXkoKSB7XG4gICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjaGlsZHJlbic7XG5cbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiBsb29wKGFycmF5KSB7XG4gICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBuZXdJdGVtID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0pO1xuICAgICAgICAgICAgZGVsZXRlIG5ld0l0ZW1bY2hpbGRyZW5OYW1lXTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5OYW1lXSAmJiBpdGVtW2NoaWxkcmVuTmFtZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxvb3AoaXRlbVtjaGlsZHJlbk5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBsb29wKGRhdGEpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0cmVlTWFwKHRyZWUsIG1hcHBlcikge1xuICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG5cbiAgICByZXR1cm4gdHJlZS5tYXAoZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7XG4gICAgICAgIHZhciBleHRyYSA9IHt9O1xuICAgICAgICBpZiAobm9kZVtjaGlsZHJlbk5hbWVdKSB7XG4gICAgICAgICAgICBleHRyYVtjaGlsZHJlbk5hbWVdID0gdHJlZU1hcChub2RlW2NoaWxkcmVuTmFtZV0sIG1hcHBlciwgY2hpbGRyZW5OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIG1hcHBlcihub2RlLCBpbmRleCksIGV4dHJhKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbHVtbnMoZWxlbWVudHMpIHtcbiAgICB2YXIgY29sdW1ucyA9IFtdO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGVsZW1lbnQucHJvcHMpO1xuICAgICAgICBpZiAoZWxlbWVudC5rZXkpIHtcbiAgICAgICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gbm9ybWFsaXplQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2x1bW5zO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL3V0aWwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ2RvbS1tYXRjaGVzJyk7XG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnQge0VsZW1lbnR9XG4gKiBAcGFyYW0gc2VsZWN0b3Ige1N0cmluZ31cbiAqIEBwYXJhbSBjb250ZXh0IHtFbGVtZW50fVxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIC8vIGd1YXJkIGFnYWluc3Qgb3JwaGFuc1xuICBlbGVtZW50ID0geyBwYXJlbnROb2RlOiBlbGVtZW50IH07XG5cbiAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBjb250ZXh0KSB7XG4gICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kb20tY2xvc2VzdC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSBET00gZWxlbWVudCBtYXRjaGVzIGEgQ1NTIHNlbGVjdG9yXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG1hdGNoZXMoZWxlbSwgc2VsZWN0b3IpIHtcbiAgLy8gVmVuZG9yLXNwZWNpZmljIGltcGxlbWVudGF0aW9ucyBvZiBgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcygpYC5cbiAgdmFyIHByb3RvID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlTWF0Y2hlcyA9IHByb3RvLm1hdGNoZXMgfHxcbiAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcblxuICBpZiAoIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwYXJlbnRFbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXG4gIC8vIHVzZSBuYXRpdmUgJ21hdGNoZXMnXG4gIGlmIChuYXRpdmVNYXRjaGVzKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU1hdGNoZXMuY2FsbChlbGVtLCBzZWxlY3Rvcik7XG4gIH1cblxuICAvLyBuYXRpdmUgc3VwcG9ydCBmb3IgYG1hdGNoZXNgIGlzIG1pc3NpbmcgYW5kIGEgZmFsbGJhY2sgaXMgcmVxdWlyZWRcbiAgdmFyIG5vZGVzID0gcGFyZW50RWxlbS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgdmFyIGxlbiA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKG5vZGVzW2ldID09PSBlbGVtKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRXhwb3NlIGBtYXRjaGVzYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2RvbS1tYXRjaGVzL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjcuMVxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWU7XG5cbiAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbG9hZFRpbWUpIC8gMWU2O1xuICAgIH07XG4gICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBocjtcbiAgICAgIGhyID0gaHJ0aW1lKCk7XG4gICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3BlcmZvcm1hbmNlLW5vdy9saWIvcGVyZm9ybWFuY2Utbm93LmpzXG4gKiogbW9kdWxlIGlkID0gMTE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hlY2tib3gpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiB0cnVlIH0pO1xuICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiBmYWxzZSB9KTtcbiAgICAgIF90aGlzLnByb3BzLm9uQmx1cihlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISgnY2hlY2tlZCcgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICB0YXJnZXQ6IF9leHRlbmRzKHt9LCBfdGhpcy5wcm9wcywge1xuICAgICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgfSksXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgIGlmICgnY2hlY2tlZCcgaW4gcHJvcHMpIHtcbiAgICAgIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja2VkID0gcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG4gICAgfVxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICAgIGZvY3VzOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2hlY2tib3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnY2hlY2tlZCcgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hlY2tlZDogbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xuXG4gIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIC8vIFJlbW92ZSBSZWFjdCB3YXJuaW5nLlxuICAgIC8vIFdhcm5pbmc6IElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkXG4gICAgLy8gKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuXG4gICAgZGVsZXRlIHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciBjaGVja2VkID0gc3RhdGUuY2hlY2tlZDtcbiAgICBpZiAodHlwZW9mIGNoZWNrZWQgPT09ICdib29sZWFuJykge1xuICAgICAgY2hlY2tlZCA9IGNoZWNrZWQgPyAxIDogMDtcbiAgICB9XG4gICAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIDEpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZC0nICsgY2hlY2tlZCwgISFjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBzdGF0ZS5mb2N1cyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIHByb3BzLmRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdzcGFuJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgICAgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICAgICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5LFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0JyxcbiAgICAgICAgY2hlY2tlZDogISFjaGVja2VkLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLm9uQ2xpY2ssXG4gICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gQ2hlY2tib3g7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LnByb3BUeXBlcyA9IHtcbiAgbmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcbiAgdHlwZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBkZWZhdWx0Q2hlY2tlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2xdKSxcbiAgZGlzYWJsZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICBjaGVja2VkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbF0pLFxuICBvbkZvY3VzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgb25CbHVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuICBvbkNsaWNrOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuY1xufTtcbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgcHJlZml4Q2xzOiAncmMtY2hlY2tib3gnLFxuICBzdHlsZToge30sXG4gIHR5cGU6ICdjaGVja2JveCcsXG4gIGNsYXNzTmFtZTogJycsXG4gIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcbiAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHt9LFxuICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHt9LFxuICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jaGVja2JveC9saWIvQ2hlY2tib3guanNcbiAqKiBtb2R1bGUgaWQgPSAxMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yY1RyaWdnZXIgPSByZXF1aXJlKCdyYy10cmlnZ2VyJyk7XG5cbnZhciBfcmNUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVHJpZ2dlcik7XG5cbnZhciBfcGxhY2VtZW50cyA9IHJlcXVpcmUoJy4vcGxhY2VtZW50cycpO1xuXG52YXIgX3BsYWNlbWVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2VtZW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qXG4gdmFyIE1lbnVJdGVtID0gTWVudS5JdGVtO1xuXG4gdmFyIG1lbnUgPSA8TWVudT48TWVudUl0ZW0+MTwvTWVudUl0ZW0+PC9NZW51PjtcblxuIDxEcm9wRG93biB0cmlnZ2VyPVwiY2xpY2tcIiBhbmltYXRpb25OYW1lPVwiXCIgb3ZlcmxheT17PD59IG9uU2VsZWN0PXt9PlxuIDxidXR0b24+b3BlbjwvYnV0dG9uPlxuIDwvRHJvcERvd24+XG4qL1xuXG52YXIgRHJvcGRvd24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnRHJvcGRvd24nLFxuXG4gIHByb3BUeXBlczoge1xuICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uVmlzaWJsZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvdmVybGF5Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvdmVybGF5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHBsYWNlbWVudDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBzaG93QWN0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGhpZGVBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgZ2V0UG9wdXBDb250YWluZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IHRydWUsXG4gICAgICBwcmVmaXhDbHM6ICdyYy1kcm9wZG93bicsXG4gICAgICB0cmlnZ2VyOiBbJ2hvdmVyJ10sXG4gICAgICBzaG93QWN0aW9uOiBbXSxcbiAgICAgIGhpZGVBY3Rpb246IFtdLFxuICAgICAgb3ZlcmxheUNsYXNzTmFtZTogJycsXG4gICAgICBvdmVybGF5U3R5bGU6IHt9LFxuICAgICAgZGVmYXVsdFZpc2libGU6IGZhbHNlLFxuICAgICAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UoKSB7fSxcblxuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCdcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICgndmlzaWJsZScgaW4gcHJvcHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZpc2libGU6IHByb3BzLnZpc2libGVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlOiBwcm9wcy5kZWZhdWx0VmlzaWJsZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX3JlZikge1xuICAgIHZhciB2aXNpYmxlID0gX3JlZi52aXNpYmxlO1xuXG4gICAgaWYgKHZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgb3ZlcmxheVByb3BzID0gcHJvcHMub3ZlcmxheS5wcm9wcztcbiAgICAvLyBkbyBubyBjYWxsIG9uVmlzaWJsZUNoYW5nZSwgaWYgeW91IG5lZWQgY2xpY2sgdG8gaGlkZSwgdXNlIG9uQ2xpY2sgYW5kIGNvbnRyb2wgdmlzaWJsZVxuICAgIGlmICghKCd2aXNpYmxlJyBpbiBwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvdmVybGF5UHJvcHMub25DbGljaykge1xuICAgICAgb3ZlcmxheVByb3BzLm9uQ2xpY2soZSk7XG4gICAgfVxuICB9LFxuICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByb3BzLm9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcbiAgfSxcbiAgZ2V0TWVudUVsZW1lbnQ6IGZ1bmN0aW9uIGdldE1lbnVFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChwcm9wcy5vdmVybGF5LCB7XG4gICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyArICctbWVudScsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2tcbiAgICB9KTtcbiAgfSxcbiAgZ2V0UG9wdXBEb21Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERvbU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuICB9LFxuICBhZnRlclZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIGFmdGVyVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG4gICAgaWYgKHZpc2libGUgJiYgdGhpcy5wcm9wcy5taW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIpIHtcbiAgICAgIHZhciBvdmVybGF5Tm9kZSA9IHRoaXMuZ2V0UG9wdXBEb21Ob2RlKCk7XG4gICAgICB2YXIgcm9vdE5vZGUgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIGlmIChyb290Tm9kZS5vZmZzZXRXaWR0aCA+IG92ZXJsYXlOb2RlLm9mZnNldFdpZHRoKSB7XG4gICAgICAgIG92ZXJsYXlOb2RlLnN0eWxlLndpZHRoID0gcm9vdE5vZGUub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IF9wcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICB2YXIgYW5pbWF0aW9uID0gX3Byb3BzLmFuaW1hdGlvbjtcbiAgICB2YXIgYWxpZ24gPSBfcHJvcHMuYWxpZ247XG4gICAgdmFyIHBsYWNlbWVudCA9IF9wcm9wcy5wbGFjZW1lbnQ7XG4gICAgdmFyIGdldFBvcHVwQ29udGFpbmVyID0gX3Byb3BzLmdldFBvcHVwQ29udGFpbmVyO1xuICAgIHZhciBzaG93QWN0aW9uID0gX3Byb3BzLnNob3dBY3Rpb247XG4gICAgdmFyIGhpZGVBY3Rpb24gPSBfcHJvcHMuaGlkZUFjdGlvbjtcbiAgICB2YXIgb3ZlcmxheUNsYXNzTmFtZSA9IF9wcm9wcy5vdmVybGF5Q2xhc3NOYW1lO1xuICAgIHZhciBvdmVybGF5U3R5bGUgPSBfcHJvcHMub3ZlcmxheVN0eWxlO1xuICAgIHZhciB0cmlnZ2VyID0gX3Byb3BzLnRyaWdnZXI7XG5cbiAgICB2YXIgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsncHJlZml4Q2xzJywgJ2NoaWxkcmVuJywgJ3RyYW5zaXRpb25OYW1lJywgJ2FuaW1hdGlvbicsICdhbGlnbicsICdwbGFjZW1lbnQnLCAnZ2V0UG9wdXBDb250YWluZXInLCAnc2hvd0FjdGlvbicsICdoaWRlQWN0aW9uJywgJ292ZXJsYXlDbGFzc05hbWUnLCAnb3ZlcmxheVN0eWxlJywgJ3RyaWdnZXInXSk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICByZWY6ICd0cmlnZ2VyJyxcbiAgICAgICAgcG9wdXBDbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgIHBvcHVwU3R5bGU6IG92ZXJsYXlTdHlsZSxcbiAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IF9wbGFjZW1lbnRzMltcImRlZmF1bHRcIl0sXG4gICAgICAgIGFjdGlvbjogdHJpZ2dlcixcbiAgICAgICAgc2hvd0FjdGlvbjogc2hvd0FjdGlvbixcbiAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcbiAgICAgICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgcG9wdXBBbGlnbjogYWxpZ24sXG4gICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLFxuICAgICAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgICAgICBwb3B1cFZpc2libGU6IHRoaXMuc3RhdGUudmlzaWJsZSxcbiAgICAgICAgYWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMuYWZ0ZXJWaXNpYmxlQ2hhbmdlLFxuICAgICAgICBwb3B1cDogdGhpcy5nZXRNZW51RWxlbWVudCgpLFxuICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsXG4gICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBnZXRQb3B1cENvbnRhaW5lclxuICAgICAgfSksXG4gICAgICBjaGlsZHJlblxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZHJvcGRvd24vbGliL0Ryb3Bkb3duLmpzXG4gKiogbW9kdWxlIGlkID0gMTE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0Ryb3Bkb3duID0gcmVxdWlyZSgnLi9Ecm9wZG93bicpO1xuXG52YXIgX0Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kcm9wZG93bi9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuICBhZGp1c3RYOiAxLFxuICBhZGp1c3RZOiAxXG59O1xuXG52YXIgdGFyZ2V0T2Zmc2V0ID0gWzAsIDBdO1xuXG52YXIgcGxhY2VtZW50cyA9IGV4cG9ydHMucGxhY2VtZW50cyA9IHtcbiAgdG9wTGVmdDoge1xuICAgIHBvaW50czogWydibCcsICd0bCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcENlbnRlcjoge1xuICAgIHBvaW50czogWydiYycsICd0YyddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcFJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ2JyJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tQ2VudGVyOiB7XG4gICAgcG9pbnRzOiBbJ3RjJywgJ2JjJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21SaWdodDoge1xuICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwbGFjZW1lbnRzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRyb3Bkb3duL2xpYi9wbGFjZW1lbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gMTE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBLRVlDT0RFID0gcmVxdWlyZSgnLi9LZXlDb2RlJyk7XG5cbnZhciBPcHRpb25zID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE9wdGlvbnMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE9wdGlvbnMocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9ucyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogcHJvcHMuY3VycmVudCxcbiAgICAgIF9jdXJyZW50OiBwcm9wcy5jdXJyZW50XG4gICAgfTtcblxuICAgIFsnX2hhbmRsZUNoYW5nZScsICdfY2hhbmdlU2l6ZScsICdfZ28nLCAnX2J1aWxkT3B0aW9uVGV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9wdGlvbnMucHJvdG90eXBlLl9idWlsZE9wdGlvblRleHQgPSBmdW5jdGlvbiBfYnVpbGRPcHRpb25UZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJyAnICsgdGhpcy5wcm9wcy5sb2NhbGUuaXRlbXNfcGVyX3BhZ2U7XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2NoYW5nZVNpemUgPSBmdW5jdGlvbiBfY2hhbmdlU2l6ZSh2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuY2hhbmdlU2l6ZShOdW1iZXIodmFsdWUpKTtcbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldnQpIHtcbiAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIF9jdXJyZW50OiBfdmFsXG4gICAgfSk7XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2dvID0gZnVuY3Rpb24gX2dvKGUpIHtcbiAgICB2YXIgX3ZhbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChfdmFsID09PSAnJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdmFsID0gTnVtYmVyKHRoaXMuc3RhdGUuX2N1cnJlbnQpO1xuICAgIGlmIChpc05hTih2YWwpKSB7XG4gICAgICB2YWwgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcbiAgICAgIHZhciBjID0gdGhpcy5wcm9wcy5xdWlja0dvKHZhbCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgX2N1cnJlbnQ6IGMsXG4gICAgICAgIGN1cnJlbnQ6IGNcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctb3B0aW9ucyc7XG4gICAgdmFyIGNoYW5nZVNpemUgPSBwcm9wcy5jaGFuZ2VTaXplO1xuICAgIHZhciBxdWlja0dvID0gcHJvcHMucXVpY2tHbztcbiAgICB2YXIgYnVpbGRPcHRpb25UZXh0ID0gcHJvcHMuYnVpbGRPcHRpb25UZXh0IHx8IHRoaXMuX2J1aWxkT3B0aW9uVGV4dDtcbiAgICB2YXIgU2VsZWN0ID0gcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3M7XG4gICAgdmFyIGNoYW5nZVNlbGVjdCA9IG51bGw7XG4gICAgdmFyIGdvSW5wdXQgPSBudWxsO1xuXG4gICAgaWYgKCEoY2hhbmdlU2l6ZSB8fCBxdWlja0dvKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZVNpemUgJiYgU2VsZWN0KSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgT3B0aW9uID0gU2VsZWN0Lk9wdGlvbjtcbiAgICAgICAgdmFyIHBhZ2VTaXplID0gcHJvcHMucGFnZVNpemUgfHwgcHJvcHMucGFnZVNpemVPcHRpb25zWzBdO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHByb3BzLnBhZ2VTaXplT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCwgaSkge1xuICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgT3B0aW9uLFxuICAgICAgICAgICAgeyBrZXk6IGksIHZhbHVlOiBvcHQgfSxcbiAgICAgICAgICAgIGJ1aWxkT3B0aW9uVGV4dChvcHQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhbmdlU2VsZWN0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBTZWxlY3QsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5zZWxlY3RQcmVmaXhDbHMsXG4gICAgICAgICAgICBzaG93U2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaXplLWNoYW5nZXInLFxuICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wOiAnY2hpbGRyZW4nLFxuICAgICAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBwYWdlU2l6ZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5fY2hhbmdlU2l6ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBpZiAocXVpY2tHbykge1xuICAgICAgZ29JbnB1dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1xdWljay1qdW1wZXInIH0sXG4gICAgICAgIGxvY2FsZS5qdW1wX3RvLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgdmFsdWU6IHN0YXRlLl9jdXJyZW50LFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5fZ29cbiAgICAgICAgfSksXG4gICAgICAgIGxvY2FsZS5wYWdlXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogJycgKyBwcmVmaXhDbHMgfSxcbiAgICAgIGNoYW5nZVNlbGVjdCxcbiAgICAgIGdvSW5wdXRcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBPcHRpb25zO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5PcHRpb25zLnByb3BUeXBlcyA9IHtcbiAgY2hhbmdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHF1aWNrR286IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzZWxlY3RDb21wb25lbnRDbGFzczogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG4gIHBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBidWlsZE9wdGlvblRleHQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcbn07XG5cbk9wdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuICBwYWdlU2l6ZU9wdGlvbnM6IFsnMTAnLCAnMjAnLCAnMzAnLCAnNDAnXVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcHRpb25zO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL09wdGlvbnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgUGFnZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGFnZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhZ2VyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIFBhZ2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctaXRlbSc7XG4gICAgdmFyIGNscyA9IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctJyArIHByb3BzLnBhZ2U7XG5cbiAgICBpZiAocHJvcHMuYWN0aXZlKSB7XG4gICAgICBjbHMgPSBjbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWFjdGl2ZSc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xzID0gY2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2xpJyxcbiAgICAgIHsgdGl0bGU6IHByb3BzLnBhZ2UsIGNsYXNzTmFtZTogY2xzLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnYScsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BzLnBhZ2VcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBQYWdlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUGFnZXIucHJvcFR5cGVzID0ge1xuICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBsYXN0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZXI7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvUGFnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIFBhZ2VyID0gcmVxdWlyZSgnLi9QYWdlcicpO1xudmFyIE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKTtcbnZhciBLRVlDT0RFID0gcmVxdWlyZSgnLi9LZXlDb2RlJyk7XG52YXIgTE9DQUxFID0gcmVxdWlyZSgnLi9sb2NhbGUvemhfQ04nKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhZ2luYXRpb24ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIHZhciBoYXNPbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlICE9PSBub29wO1xuICAgIHZhciBoYXNDdXJyZW50ID0gJ2N1cnJlbnQnIGluIHByb3BzO1xuICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiBZb3UgcHJvdmlkZWQgYSBgY3VycmVudGAgcHJvcCB0byBhIFBhZ2luYXRpb24gY29tcG9uZW50IHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGNvbXBvbmVudC4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cblxuICAgIHZhciBjdXJyZW50ID0gcHJvcHMuZGVmYXVsdEN1cnJlbnQ7XG4gICAgaWYgKCdjdXJyZW50JyBpbiBwcm9wcykge1xuICAgICAgY3VycmVudCA9IHByb3BzLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuICAgIGlmICgncGFnZVNpemUnIGluIHByb3BzKSB7XG4gICAgICBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplO1xuICAgIH1cblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgIF9jdXJyZW50OiBjdXJyZW50LFxuICAgICAgcGFnZVNpemU6IHBhZ2VTaXplXG4gICAgfTtcblxuICAgIFsncmVuZGVyJywgJ19oYW5kbGVDaGFuZ2UnLCAnX2hhbmRsZUtleVVwJywgJ19oYW5kbGVLZXlEb3duJywgJ19jaGFuZ2VQYWdlU2l6ZScsICdfaXNWYWxpZCcsICdfcHJldicsICdfbmV4dCcsICdfaGFzUHJldicsICdfaGFzTmV4dCcsICdfanVtcFByZXYnLCAnX2p1bXBOZXh0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudCxcbiAgICAgICAgX2N1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJ3BhZ2VTaXplJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKG5leHRQcm9wcy5wYWdlU2l6ZSk7XG4gICAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcbiAgICAgIGlmICghKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpKSB7XG4gICAgICAgIG5ld1N0YXRlLmN1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgICBuZXdTdGF0ZS5fY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBuZXdTdGF0ZS5wYWdlU2l6ZSA9IG5leHRQcm9wcy5wYWdlU2l6ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBwcml2YXRlIG1ldGhvZHNcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fY2FsY1BhZ2UgPSBmdW5jdGlvbiBfY2FsY1BhZ2UocCkge1xuICAgIHZhciBwYWdlU2l6ZSA9IHA7XG4gICAgaWYgKHR5cGVvZiBwYWdlU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMucHJvcHMudG90YWwgLSAxKSAvIHBhZ2VTaXplKSArIDE7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2lzVmFsaWQgPSBmdW5jdGlvbiBfaXNWYWxpZChwYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwYWdlID09PSAnbnVtYmVyJyAmJiBwYWdlID49IDEgJiYgcGFnZSAhPT0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gX2hhbmRsZUtleURvd24oZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQIHx8IGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5VXAgPSBmdW5jdGlvbiBfaGFuZGxlS2V5VXAoZXZ0KSB7XG4gICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgIHZhciB2YWwgPSB2b2lkIDA7XG5cbiAgICBpZiAoX3ZhbCA9PT0gJycpIHtcbiAgICAgIHZhbCA9IF92YWw7XG4gICAgfSBlbHNlIGlmIChpc05hTihOdW1iZXIoX3ZhbCkpKSB7XG4gICAgICB2YWwgPSB0aGlzLnN0YXRlLl9jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWwgPSBOdW1iZXIoX3ZhbCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBfY3VycmVudDogdmFsXG4gICAgfSk7XG5cbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVApIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgLSAxKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NoYW5nZVBhZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVBhZ2VTaXplKHNpemUpIHtcbiAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKHNpemUpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmICghKCdwYWdlU2l6ZScgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcGFnZVNpemU6IHNpemVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgICAgICBfY3VycmVudDogY3VycmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHNpemUpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKHApIHtcbiAgICB2YXIgcGFnZSA9IHA7XG4gICAgaWYgKHRoaXMuX2lzVmFsaWQocGFnZSkpIHtcbiAgICAgIGlmIChwYWdlID4gdGhpcy5fY2FsY1BhZ2UoKSkge1xuICAgICAgICBwYWdlID0gdGhpcy5fY2FsY1BhZ2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnQ6IHBhZ2UsXG4gICAgICAgICAgX2N1cnJlbnQ6IHBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHBhZ2UsIHBhZ2VTaXplKTtcblxuICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudDtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fcHJldiA9IGZ1bmN0aW9uIF9wcmV2KCkge1xuICAgIGlmICh0aGlzLl9oYXNQcmV2KCkpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiBfbmV4dCgpIHtcbiAgICBpZiAodGhpcy5faGFzTmV4dCgpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50ICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wUHJldiA9IGZ1bmN0aW9uIF9qdW1wUHJldigpIHtcbiAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5tYXgoMSwgdGhpcy5zdGF0ZS5jdXJyZW50IC0gKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wTmV4dCA9IGZ1bmN0aW9uIF9qdW1wTmV4dCgpIHtcbiAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5taW4odGhpcy5fY2FsY1BhZ2UoKSwgdGhpcy5zdGF0ZS5jdXJyZW50ICsgKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNQcmV2ID0gZnVuY3Rpb24gX2hhc1ByZXYoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA+IDE7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhc05leHQgPSBmdW5jdGlvbiBfaGFzTmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50IDwgdGhpcy5fY2FsY1BhZ2UoKTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICB2YXIgYWxsUGFnZXMgPSB0aGlzLl9jYWxjUGFnZSgpO1xuICAgIHZhciBwYWdlckxpc3QgPSBbXTtcbiAgICB2YXIganVtcFByZXYgPSBudWxsO1xuICAgIHZhciBqdW1wTmV4dCA9IG51bGw7XG4gICAgdmFyIGZpcnN0UGFnZXIgPSBudWxsO1xuICAgIHZhciBsYXN0UGFnZXIgPSBudWxsO1xuXG4gICAgdmFyIHBhZ2VCdWZmZXJTaXplID0gcHJvcHMuc2hvd0xlc3NJdGVtcyA/IDEgOiAyO1xuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjdXJyZW50ID0gX3N0YXRlLmN1cnJlbnQsXG4gICAgICAgIHBhZ2VTaXplID0gX3N0YXRlLnBhZ2VTaXplO1xuXG5cbiAgICBpZiAocHJvcHMuc2ltcGxlKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3VsJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctc2ltcGxlICcgKyBwcm9wcy5jbGFzc05hbWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGknLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc1ByZXYoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1wcmV2J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7IHRpdGxlOiB0aGlzLnN0YXRlLmN1cnJlbnQgKyAnLycgKyBhbGxQYWdlcywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpbXBsZS1wYWdlcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLl9jdXJyZW50LFxuICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLl9oYW5kbGVLZXlEb3duLFxuICAgICAgICAgICAgb25LZXlVcDogdGhpcy5faGFuZGxlS2V5VXAsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5faGFuZGxlS2V5VXBcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2xhc2gnIH0sXG4gICAgICAgICAgICAnXFx1RkYwRidcbiAgICAgICAgICApLFxuICAgICAgICAgIGFsbFBhZ2VzXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChhbGxQYWdlcyA8PSA1ICsgcGFnZUJ1ZmZlclNpemUgKiAyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBhbGxQYWdlczsgaSsrKSB7XG4gICAgICAgIHZhciBhY3RpdmUgPSB0aGlzLnN0YXRlLmN1cnJlbnQgPT09IGk7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgaSksXG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHBhZ2U6IGksXG4gICAgICAgICAgYWN0aXZlOiBhY3RpdmVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBqdW1wUHJldiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81LFxuICAgICAgICAgIGtleTogJ3ByZXYnLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2p1bXBQcmV2LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLXByZXYnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKTtcbiAgICAgIGp1bXBOZXh0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBwcm9wcy5zaG93TGVzc0l0ZW1zID8gbG9jYWxlLm5leHRfMyA6IGxvY2FsZS5uZXh0XzUsXG4gICAgICAgICAga2V5OiAnbmV4dCcsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fanVtcE5leHQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWp1bXAtbmV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApO1xuICAgICAgbGFzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgbGFzdDogdHJ1ZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBhbGxQYWdlcyksXG4gICAgICAgIGtleTogYWxsUGFnZXMsXG4gICAgICAgIHBhZ2U6IGFsbFBhZ2VzLFxuICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGZpcnN0UGFnZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG4gICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIDEpLFxuICAgICAgICBrZXk6IDEsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDEsIGN1cnJlbnQgLSBwYWdlQnVmZmVyU2l6ZSk7XG4gICAgICB2YXIgcmlnaHQgPSBNYXRoLm1pbihjdXJyZW50ICsgcGFnZUJ1ZmZlclNpemUsIGFsbFBhZ2VzKTtcblxuICAgICAgaWYgKGN1cnJlbnQgLSAxIDw9IHBhZ2VCdWZmZXJTaXplKSB7XG4gICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICBsZWZ0ID0gYWxsUGFnZXMgLSBwYWdlQnVmZmVyU2l6ZSAqIDI7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pID0gbGVmdDsgX2kgPD0gcmlnaHQ7IF9pKyspIHtcbiAgICAgICAgdmFyIF9hY3RpdmUgPSBjdXJyZW50ID09PSBfaTtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBfaSksXG4gICAgICAgICAga2V5OiBfaSxcbiAgICAgICAgICBwYWdlOiBfaSxcbiAgICAgICAgICBhY3RpdmU6IF9hY3RpdmVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCAtIDEgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IDEgKyAyKSB7XG4gICAgICAgIHBhZ2VyTGlzdFswXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbMF0sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hZnRlci1qdW1wLXByZXYnXG4gICAgICAgIH0pO1xuICAgICAgICBwYWdlckxpc3QudW5zaGlmdChqdW1wUHJldik7XG4gICAgICB9XG4gICAgICBpZiAoYWxsUGFnZXMgLSBjdXJyZW50ID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSBhbGxQYWdlcyAtIDIpIHtcbiAgICAgICAgcGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYmVmb3JlLWp1bXAtbmV4dCdcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGp1bXBOZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxlZnQgIT09IDEpIHtcbiAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHQgIT09IGFsbFBhZ2VzKSB7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGxhc3RQYWdlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsVGV4dCA9IG51bGw7XG5cbiAgICBpZiAocHJvcHMuc2hvd1RvdGFsKSB7XG4gICAgICB0b3RhbFRleHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvdGFsLXRleHQnIH0sXG4gICAgICAgIHByb3BzLnNob3dUb3RhbChwcm9wcy50b3RhbCwgWyhjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSArIDEsIGN1cnJlbnQgKiBwYWdlU2l6ZSA+IHByb3BzLnRvdGFsID8gcHJvcHMudG90YWwgOiBjdXJyZW50ICogcGFnZVNpemVdKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICd1bCcsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICAgIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcbiAgICAgIH0sXG4gICAgICB0b3RhbFRleHQsXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2X3BhZ2UsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcbiAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApLFxuICAgICAgcGFnZXJMaXN0LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dF9wYWdlLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG4gICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzTmV4dCgpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLW5leHQnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9ucywge1xuICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBzZWxlY3RDb21wb25lbnRDbGFzczogcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3MsXG4gICAgICAgIHNlbGVjdFByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuICAgICAgICBjaGFuZ2VTaXplOiB0aGlzLnByb3BzLnNob3dTaXplQ2hhbmdlciA/IHRoaXMuX2NoYW5nZVBhZ2VTaXplLmJpbmQodGhpcykgOiBudWxsLFxuICAgICAgICBjdXJyZW50OiB0aGlzLnN0YXRlLmN1cnJlbnQsXG4gICAgICAgIHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2VTaXplLFxuICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IHRoaXMucHJvcHMucGFnZVNpemVPcHRpb25zLFxuICAgICAgICBxdWlja0dvOiB0aGlzLnByb3BzLnNob3dRdWlja0p1bXBlciA/IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMpIDogbnVsbFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBQYWdpbmF0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5QYWdpbmF0aW9uLnByb3BUeXBlcyA9IHtcbiAgY3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdEN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHRvdGFsOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBwYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdFBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dTaXplQ2hhbmdlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dMZXNzSXRlbXM6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBvblNob3dTaXplQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzaG93UXVpY2tKdW1wZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBwYWdlU2l6ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuICBzaG93VG90YWw6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG59O1xuXG5QYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdEN1cnJlbnQ6IDEsXG4gIHRvdGFsOiAwLFxuICBkZWZhdWx0UGFnZVNpemU6IDEwLFxuICBvbkNoYW5nZTogbm9vcCxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgc2VsZWN0UHJlZml4Q2xzOiAncmMtc2VsZWN0JyxcbiAgcHJlZml4Q2xzOiAncmMtcGFnaW5hdGlvbicsXG4gIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuICBzaG93UXVpY2tKdW1wZXI6IGZhbHNlLFxuICBzaG93U2l6ZUNoYW5nZXI6IGZhbHNlLFxuICBzaG93TGVzc0l0ZW1zOiBmYWxzZSxcbiAgb25TaG93U2l6ZUNoYW5nZTogbm9vcCxcbiAgbG9jYWxlOiBMT0NBTEUsXG4gIHN0eWxlOiB7fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL1BhZ2luYXRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8vIGV4cG9ydCB0aGlzIHBhY2thZ2UncyBhcGlcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9QYWdpbmF0aW9uJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgQ2hlY2tib3ggPSByZXF1aXJlKCdyYy1jaGVja2JveCcpO1xuXG52YXIgUmFkaW8gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmFkaW8nLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy1yYWRpbycsXG4gICAgICB0eXBlOiAncmFkaW8nXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnY2hlY2tib3gnIH0pKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaW87XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcmFkaW8vbGliL1JhZGlvLmpzXG4gKiogbW9kdWxlIGlkID0gMTI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vUmFkaW8nKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1yYWRpby9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF90b0FycmF5ID0gcmVxdWlyZSgncmMtdXRpbC9saWIvQ2hpbGRyZW4vdG9BcnJheScpO1xuXG52YXIgX3RvQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9BcnJheSk7XG5cbnZhciBfcmNNZW51ID0gcmVxdWlyZSgncmMtbWVudScpO1xuXG52YXIgX3JjTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY01lbnUpO1xuXG52YXIgX2RvbVNjcm9sbEludG9WaWV3ID0gcmVxdWlyZSgnZG9tLXNjcm9sbC1pbnRvLXZpZXcnKTtcblxudmFyIF9kb21TY3JvbGxJbnRvVmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21TY3JvbGxJbnRvVmlldyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERyb3Bkb3duTWVudSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdEcm9wZG93bk1lbnUnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBkcm9wZG93bk1lbnVTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1lbnVEZVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uTWVudVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbWVudUl0ZW1zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBpbnB1dFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gdGhpcy5wcm9wcy5pbnB1dFZhbHVlO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG4gICAgdGhpcy5sYXN0VmlzaWJsZSA9IHRoaXMucHJvcHMudmlzaWJsZTtcbiAgfSxcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMudmlzaWJsZSkge1xuICAgICAgdGhpcy5sYXN0VmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBmcmVlemUgd2hlbiBoaWRlXG4gICAgcmV0dXJuIG5leHRQcm9wcy52aXNpYmxlO1xuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghcHJldlByb3BzLnZpc2libGUgJiYgcHJvcHMudmlzaWJsZSkge1xuICAgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG4gICAgfVxuICAgIHRoaXMubGFzdFZpc2libGUgPSBwcm9wcy52aXNpYmxlO1xuICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuICB9LFxuICBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3OiBmdW5jdGlvbiBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCkge1xuICAgIC8vIHNjcm9sbCBpbnRvIHZpZXdcbiAgICB2YXIgaXRlbUNvbXBvbmVudCA9ICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMuZmlyc3RBY3RpdmVJdGVtKTtcbiAgICBpZiAoaXRlbUNvbXBvbmVudCkge1xuICAgICAgKDAsIF9kb21TY3JvbGxJbnRvVmlldzJbXCJkZWZhdWx0XCJdKShpdGVtQ29tcG9uZW50LCAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzLnJlZnMubWVudSksIHtcbiAgICAgICAgb25seVNjcm9sbElmTmVlZGVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlck1lbnU6IGZ1bmN0aW9uIHJlbmRlck1lbnUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG1lbnVJdGVtcyA9IHByb3BzLm1lbnVJdGVtcyxcbiAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uID0gcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG4gICAgICAgIG9uTWVudVNlbGVjdCA9IHByb3BzLm9uTWVudVNlbGVjdCxcbiAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWU7XG5cbiAgICBpZiAobWVudUl0ZW1zICYmIG1lbnVJdGVtcy5sZW5ndGgpIHtcbiAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVudVByb3BzID0ge307XG4gICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgIG1lbnVQcm9wcy5vbkRlc2VsZWN0ID0gcHJvcHMub25NZW51RGVzZWxlY3Q7XG4gICAgICAgICAgbWVudVByb3BzLm9uU2VsZWN0ID0gb25NZW51U2VsZWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lbnVQcm9wcy5vbkNsaWNrID0gb25NZW51U2VsZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9ICgwLCBfdXRpbC5nZXRTZWxlY3RLZXlzKShtZW51SXRlbXMsIHZhbHVlKTtcbiAgICAgICAgdmFyIGFjdGl2ZUtleVByb3BzID0ge307XG5cbiAgICAgICAgdmFyIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcztcbiAgICAgICAgaWYgKHNlbGVjdGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHByb3BzLnZpc2libGUgJiYgIV90aGlzLmxhc3RWaXNpYmxlKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9IHNlbGVjdGVkS2V5c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmb3VuZEZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzZXQgZmlyc3RBY3RpdmVJdGVtIHZpYSBjbG9uaW5nIG1lbnVzXG4gICAgICAgICAgICAvLyBmb3Igc2Nyb2xsIGludG8gdmlld1xuICAgICAgICAgICAgdmFyIGNsb25lID0gZnVuY3Rpb24gY2xvbmUoaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoIWZvdW5kRmlyc3QgJiYgc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS5rZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZvdW5kRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge1xuICAgICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5maXJzdEFjdGl2ZUl0ZW0gPSBfcmVmO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2xvbmVkTWVudUl0ZW1zID0gbWVudUl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9ICgwLCBfdG9BcnJheTJbXCJkZWZhdWx0XCJdKShpdGVtLnByb3BzLmNoaWxkcmVuKS5tYXAoY2xvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge30sIGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY2xvbmUoaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgYWN0aXZlS2V5IHdoZW4gaW5wdXRWYWx1ZSBjaGFuZ2VcbiAgICAgICAgaWYgKGlucHV0VmFsdWUgIT09IF90aGlzLmxhc3RJbnB1dFZhbHVlKSB7XG4gICAgICAgICAgYWN0aXZlS2V5UHJvcHMuYWN0aXZlS2V5ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHY6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgICByZWY6ICdtZW51JyxcbiAgICAgICAgICAgICAgc3R5bGU6IF90aGlzLnByb3BzLmRyb3Bkb3duTWVudVN0eWxlLFxuICAgICAgICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3Q6IGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvblxuICAgICAgICAgICAgfSwgYWN0aXZlS2V5UHJvcHMsIHtcbiAgICAgICAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuICAgICAgICAgICAgICBmb2N1c2FibGU6IGZhbHNlXG4gICAgICAgICAgICB9LCBtZW51UHJvcHMsIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMsXG4gICAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1tZW51J1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjbG9uZWRNZW51SXRlbXNcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9KCk7XG5cbiAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiAoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcmVuZGVyTWVudSA9IHRoaXMucmVuZGVyTWVudSgpO1xuICAgIHJldHVybiByZW5kZXJNZW51ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICBzdHlsZTogeyBvdmVyZmxvdzogJ2F1dG8nIH0sXG4gICAgICAgIG9uRm9jdXM6IHRoaXMucHJvcHMub25Qb3B1cEZvY3VzLFxuICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudFxuICAgICAgfSxcbiAgICAgIHJlbmRlck1lbnVcbiAgICApIDogbnVsbDtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25NZW51O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9Ecm9wZG93bk1lbnUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgX3JjTWVudSA9IHJlcXVpcmUoJ3JjLW1lbnUnKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgZmlsdGVyT3B0aW9uOiBmdW5jdGlvbiBmaWx0ZXJPcHRpb24oaW5wdXQsIGNoaWxkKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBmaWx0ZXJPcHRpb24gPSB0aGlzLnByb3BzLmZpbHRlck9wdGlvbjtcbiAgICBpZiAoIWZpbHRlck9wdGlvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyT3B0aW9uLmNhbGwodGhpcywgaW5wdXQsIGNoaWxkKTtcbiAgfSxcbiAgcmVuZGVyRmlsdGVyT3B0aW9uczogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9ucyhpbnB1dFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCB0cnVlLCBpbnB1dFZhbHVlKTtcbiAgfSxcbiAgcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbjogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbihjaGlsZHJlbiwgc2hvd05vdEZvdW5kLCBpdikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgc2VsID0gW107XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGl2ID09PSB1bmRlZmluZWQgPyB0aGlzLnN0YXRlLmlucHV0VmFsdWUgOiBpdjtcbiAgICB2YXIgY2hpbGRyZW5LZXlzID0gW107XG4gICAgdmFyIHRhZ3MgPSBwcm9wcy50YWdzO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuICAgICAgICB2YXIgaW5uZXJJdGVtcyA9IF90aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGQucHJvcHMuY2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgaWYgKGlubmVySXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhYmVsID0gY2hpbGQucHJvcHMubGFiZWw7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBpZiAoIWtleSAmJiB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBrZXkgPSBsYWJlbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFsYWJlbCAmJiBrZXkpIHtcbiAgICAgICAgICAgIGxhYmVsID0ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjTWVudS5JdGVtR3JvdXAsXG4gICAgICAgICAgICB7IGtleToga2V5LCB0aXRsZTogbGFiZWwgfSxcbiAgICAgICAgICAgIGlubmVySXRlbXNcbiAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjaGlsZC50eXBlLmlzU2VsZWN0T3B0aW9uLCAndGhlIGNoaWxkcmVuIG9mIGBTZWxlY3RgIHNob3VsZCBiZSBgU2VsZWN0Lk9wdGlvbmAgb3IgYFNlbGVjdC5PcHRHcm91cGAsICcgKyAoJ2luc3RlYWQgb2YgYCcgKyAoY2hpbGQudHlwZS5uYW1lIHx8IGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgfHwgY2hpbGQudHlwZSkgKyAnYC4nKSk7XG5cbiAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICBpZiAoX3RoaXMuZmlsdGVyT3B0aW9uKGlucHV0VmFsdWUsIGNoaWxkKSkge1xuICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY01lbnUuSXRlbSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICB2YWx1ZTogY2hpbGRWYWx1ZSxcbiAgICAgICAgICBrZXk6IGNoaWxkVmFsdWVcbiAgICAgICAgfSwgY2hpbGQucHJvcHMpKSk7XG4gICAgICB9XG4gICAgICBpZiAodGFncyAmJiAhY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgY2hpbGRyZW5LZXlzLnB1c2goY2hpbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRhZ3MpIHtcbiAgICAgIC8vIHRhZ3MgdmFsdWUgbXVzdCBiZSBzdHJpbmdcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUgfHwgW107XG4gICAgICB2YWx1ZSA9IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuS2V5cy5pbmRleE9mKHNpbmdsZVZhbHVlLmtleSkgPT09IC0xICYmICghaW5wdXRWYWx1ZSB8fCBTdHJpbmcoc2luZ2xlVmFsdWUua2V5KS5pbmRleE9mKFN0cmluZyhpbnB1dFZhbHVlKSkgPiAtMSk7XG4gICAgICB9KTtcbiAgICAgIHNlbCA9IHNlbC5jb25jYXQodmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgICB2YXIga2V5ID0gc2luZ2xlVmFsdWUua2V5O1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5XG4gICAgICAgICk7XG4gICAgICB9KSk7XG4gICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICB2YXIgbm90RmluZElucHV0SXRlbSA9IHNlbC5ldmVyeShmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkob3B0aW9uKSAhPT0gaW5wdXRWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub3RGaW5kSW5wdXRJdGVtKSB7XG4gICAgICAgICAgc2VsLnVuc2hpZnQoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgICAgICAgICAga2V5OiBpbnB1dFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXRWYWx1ZVxuICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc2VsLmxlbmd0aCAmJiBzaG93Tm90Rm91bmQgJiYgcHJvcHMubm90Rm91bmRDb250ZW50KSB7XG4gICAgICBzZWwgPSBbX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgX3JjTWVudS5JdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG4gICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgdmFsdWU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIGtleTogJ05PVF9GT1VORCdcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHMubm90Rm91bmRDb250ZW50XG4gICAgICApXTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbDtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvRmlsdGVyTWl4aW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE9wdEdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRHcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3B0R3JvdXAoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBPcHRHcm91cCk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIE9wdEdyb3VwO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5PcHRHcm91cC5pc1NlbGVjdE9wdEdyb3VwID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0R3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL09wdEdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gMTI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBPcHRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE9wdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3B0aW9uKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0aW9uKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gT3B0aW9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5PcHRpb24ucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZ1xufTtcbk9wdGlvbi5pc1NlbGVjdE9wdGlvbiA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9wdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvT3B0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfS2V5Q29kZSA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0tleUNvZGUnKTtcblxudmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG52YXIgX3JjQW5pbWF0ZSA9IHJlcXVpcmUoJ3JjLWFuaW1hdGUnKTtcblxudmFyIF9yY0FuaW1hdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNBbmltYXRlKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzID0gcmVxdWlyZSgnY29tcG9uZW50LWNsYXNzZXMnKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9TZWxlY3RUcmlnZ2VyID0gcmVxdWlyZSgnLi9TZWxlY3RUcmlnZ2VyJyk7XG5cbnZhciBfU2VsZWN0VHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RUcmlnZ2VyKTtcblxudmFyIF9GaWx0ZXJNaXhpbiA9IHJlcXVpcmUoJy4vRmlsdGVyTWl4aW4nKTtcblxudmFyIF9GaWx0ZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZmlsdGVyRm4oaW5wdXQsIGNoaWxkKSB7XG4gIHJldHVybiBTdHJpbmcoKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uRmlsdGVyUHJvcCkpLmluZGV4T2YoaW5wdXQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIHNhdmVSZWYobmFtZSwgY29tcG9uZW50KSB7XG4gIHRoaXNbbmFtZV0gPSBjb21wb25lbnQ7XG59XG5cbnZhciB2YWx1ZU9iamVjdFNoYXBlID0gdm9pZCAwO1xuXG5pZiAoX3JlYWN0LlByb3BUeXBlcykge1xuICB2YWx1ZU9iamVjdFNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBrZXk6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxhYmVsOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbiAgfSldKTtcbn1cblxudmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTZWxlY3QnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgYWxsb3dDbGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dBcnJvdzogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHRhZ3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9wdGlvbkxhYmVsUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3B0aW9uRmlsdGVyUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJsdXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblNlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvbkRlc2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgbGFiZWxJblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcbiAgICBkcm9wZG93blN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtYXhUYWdUZXh0TGVuZ3RoOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICB0b2tlblNlcGFyYXRvcnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG4gICAgZ2V0SW5wdXRFbGVtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBtaXhpbnM6IFtfRmlsdGVyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeENsczogJ3JjLXNlbGVjdCcsXG4gICAgICBmaWx0ZXJPcHRpb246IGZpbHRlckZuLFxuICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuICAgICAgbGFiZWxJblZhbHVlOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogdHJ1ZSxcbiAgICAgIHNob3dTZWFyY2g6IHRydWUsXG4gICAgICBhbGxvd0NsZWFyOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICBvbkNoYW5nZTogbm9vcCxcbiAgICAgIG9uRm9jdXM6IG5vb3AsXG4gICAgICBvbkJsdXI6IG5vb3AsXG4gICAgICBvblNlbGVjdDogbm9vcCxcbiAgICAgIG9uU2VhcmNoOiBub29wLFxuICAgICAgb25EZXNlbGVjdDogbm9vcCxcbiAgICAgIHNob3dBcnJvdzogdHJ1ZSxcbiAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogdHJ1ZSxcbiAgICAgIGRyb3Bkb3duU3R5bGU6IHt9LFxuICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHt9LFxuICAgICAgb3B0aW9uRmlsdGVyUHJvcDogJ3ZhbHVlJyxcbiAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ3ZhbHVlJyxcbiAgICAgIG5vdEZvdW5kQ29udGVudDogJ05vdCBGb3VuZCdcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShwcm9wcy52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlKTtcbiAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZSk7XG4gICAgdmFyIGlucHV0VmFsdWUgPSAnJztcbiAgICBpZiAocHJvcHMuY29tYm9ib3gpIHtcbiAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZVswXS5rZXkpIDogJyc7XG4gICAgfVxuICAgIHRoaXMuc2F2ZUlucHV0UmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dEluc3RhbmNlJyk7XG4gICAgdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYgPSBzYXZlUmVmLmJpbmQodGhpcywgJ2lucHV0TWlycm9ySW5zdGFuY2UnKTtcbiAgICB2YXIgb3BlbiA9IHByb3BzLm9wZW47XG4gICAgaWYgKG9wZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3BlbiA9IHByb3BzLmRlZmF1bHRPcGVuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgIG9wZW46IG9wZW5cbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKG5leHRQcm9wcy52YWx1ZSk7XG4gICAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuICAgICAgdmFsdWUgPSB0aGlzLmFkZFRpdGxlVG9WYWx1ZShuZXh0UHJvcHMsIHZhbHVlKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKG5leHRQcm9wcy5jb21ib2JveCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnB1dFZhbHVlOiB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKG5leHRQcm9wcywgdmFsdWVbMF0ua2V5KSA6ICcnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKTtcbiAgICAgIHZhciBtaXJyb3JOb2RlID0gdGhpcy5nZXRJbnB1dE1pcnJvckRPTU5vZGUoKTtcbiAgICAgIGlmIChpbnB1dE5vZGUudmFsdWUpIHtcbiAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9IG1pcnJvck5vZGUuY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG4gICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcbiAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuICAgICAgdGhpcy5kcm9wZG93bkNvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuICB9LFxuICBvbklucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIHRva2VuU2VwYXJhdG9ycyA9IHRoaXMucHJvcHMudG9rZW5TZXBhcmF0b3JzO1xuXG4gICAgdmFyIHZhbCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpICYmIHRva2VuU2VwYXJhdG9ycyAmJiAoMCwgX3V0aWwuaW5jbHVkZXNTZXBhcmF0b3JzKSh2YWwsIHRva2VuU2VwYXJhdG9ycykpIHtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLnRva2VuaXplKHZhbCk7XG4gICAgICB0aGlzLmZpcmVDaGFuZ2UobmV4dFZhbHVlKTtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJywgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldElucHV0VmFsdWUodmFsKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wZW46IHRydWVcbiAgICB9KTtcbiAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLmZpcmVDaGFuZ2UoW3tcbiAgICAgICAga2V5OiB2YWxcbiAgICAgIH1dKTtcbiAgICB9XG4gIH0sXG4gIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZShvcGVuKSB7XG4gICAgdGhpcy5zZXRPcGVuU3RhdGUob3Blbik7XG4gIH0sXG5cblxuICAvLyBjb21ib2JveCBpZ25vcmVcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgaWYgKHRoaXMuc3RhdGUub3BlbiAmJiAhdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuICAgICAgdGhpcy5vbklucHV0S2V5RG93bihldmVudCk7XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSIHx8IGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgb25JbnB1dEtleURvd246IGZ1bmN0aW9uIG9uSW5wdXRLZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgIWV2ZW50LnRhcmdldC52YWx1ZSAmJiBrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkJBQ0tTUEFDRSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0ua2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuICAgICAgaWYgKCFzdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMub3BlbklmSGFzQ2hpbGRyZW4oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG4gICAgICBpZiAoc3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5vcGVuKSB7XG4gICAgICB2YXIgbWVudSA9IHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuICAgICAgaWYgKG1lbnUgJiYgbWVudS5vbktleURvd24oZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb25NZW51U2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVTZWxlY3QoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgaXRlbSA9IF9yZWYuaXRlbTtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSk7XG4gICAgdmFyIHNlbGVjdGVkTGFiZWwgPSB0aGlzLmdldExhYmVsRnJvbU9wdGlvbihpdGVtKTtcbiAgICB2YXIgZXZlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgIGV2ZW50ID0ge1xuICAgICAgICBrZXk6IGV2ZW50LFxuICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbFxuICAgICAgfTtcbiAgICB9XG4gICAgcHJvcHMub25TZWxlY3QoZXZlbnQsIGl0ZW0pO1xuICAgIHZhciBzZWxlY3RlZFRpdGxlID0gaXRlbS5wcm9wcy50aXRsZTtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlLZXkpKHZhbHVlLCBzZWxlY3RlZFZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5jb25jYXQoW3tcbiAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbCxcbiAgICAgICAgdGl0bGU6IHNlbGVjdGVkVGl0bGVcbiAgICAgIH1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcbiAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xlYXJBZGp1c3RUaW1lcigpO1xuICAgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5za2lwQWRqdXN0T3BlbiA9IGZhbHNlO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgdmFsdWVbMF0ua2V5ID09PSBzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBbe1xuICAgICAgICBrZXk6IHNlbGVjdGVkVmFsdWUsXG4gICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuICAgICAgICB0aXRsZTogc2VsZWN0ZWRUaXRsZVxuICAgICAgfV07XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG4gICAgdmFyIGlucHV0VmFsdWUgPSB2b2lkIDA7XG4gICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcbiAgICAgIGlucHV0VmFsdWUgPSAoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShpdGVtLCBwcm9wcy5vcHRpb25MYWJlbFByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFZhbHVlID0gJyc7XG4gICAgfVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIG9uTWVudURlc2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVEZXNlbGVjdChfcmVmMikge1xuICAgIHZhciBpdGVtID0gX3JlZjIuaXRlbSxcbiAgICAgICAgZG9tRXZlbnQgPSBfcmVmMi5kb21FdmVudDtcblxuICAgIGlmIChkb21FdmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSkpO1xuICAgIH1cbiAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcbiAgfSxcbiAgb25BcnJvd0NsaWNrOiBmdW5jdGlvbiBvbkFycm93Q2xpY2soZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCF0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZSghdGhpcy5zdGF0ZS5vcGVuLCAhdGhpcy5zdGF0ZS5vcGVuKTtcbiAgICB9XG4gIH0sXG4gIG9uUGxhY2Vob2xkZXJDbGljazogZnVuY3Rpb24gb25QbGFjZWhvbGRlckNsaWNrKCkge1xuICAgIGlmICh0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICB0aGlzLmdldElucHV0RE9NTm9kZSgpLmZvY3VzKCk7XG4gICAgfVxuICB9LFxuICBvbk91dGVyRm9jdXM6IGZ1bmN0aW9uIG9uT3V0ZXJGb2N1cyhlKSB7XG4gICAgaWYgKCEoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpICYmIGUudGFyZ2V0ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXJCbHVyVGltZSgpO1xuICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcbiAgICB0aGlzLnByb3BzLm9uRm9jdXMoKTtcbiAgfSxcbiAgb25Qb3B1cEZvY3VzOiBmdW5jdGlvbiBvblBvcHVwRm9jdXMoKSB7XG4gICAgLy8gZml4IGllIHNjcm9sbGJhciwgZm9jdXMgZWxlbWVudCBhZ2FpblxuICAgIHRoaXMubWF5YmVGb2N1cyh0cnVlLCB0cnVlKTtcbiAgfSxcbiAgb25PdXRlckJsdXI6IGZ1bmN0aW9uIG9uT3V0ZXJCbHVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5ibHVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5fZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMyLnVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCk7XG4gICAgICB2YXIgcHJvcHMgPSBfdGhpczIucHJvcHM7XG4gICAgICB2YXIgdmFsdWUgPSBfdGhpczIuc3RhdGUudmFsdWU7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlO1xuXG4gICAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2ggJiYgaW5wdXRWYWx1ZSAmJiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpczIuX29wdGlvbnMgfHwgW107XG4gICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBmaXJzdE9wdGlvbiA9ICgwLCBfdXRpbC5maW5kRmlyc3RNZW51SXRlbSkob3B0aW9ucyk7XG4gICAgICAgICAgaWYgKGZpcnN0T3B0aW9uKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFt7XG4gICAgICAgICAgICAgIGtleTogZmlyc3RPcHRpb24ua2V5LFxuICAgICAgICAgICAgICBsYWJlbDogX3RoaXMyLmdldExhYmVsRnJvbU9wdGlvbihmaXJzdE9wdGlvbilcbiAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgX3RoaXMyLmZpcmVDaGFuZ2UodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGlucHV0VmFsdWUpIHtcbiAgICAgICAgLy8gd2h5IG5vdCB1c2Ugc2V0U3RhdGU/XG4gICAgICAgIF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlID0gX3RoaXMyLmdldElucHV0RE9NTm9kZSgpLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBwcm9wcy5vbkJsdXIoX3RoaXMyLmdldFZMRm9yT25DaGFuZ2UodmFsdWUpKTtcbiAgICB9LCAxMCk7XG4gIH0sXG4gIG9uQ2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uIG9uQ2xlYXJTZWxlY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpbnB1dFZhbHVlID0gc3RhdGUuaW5wdXRWYWx1ZSxcbiAgICAgICAgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChpbnB1dFZhbHVlIHx8IHZhbHVlLmxlbmd0aCkge1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZpcmVDaGFuZ2UoW10pO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuICAgICAgaWYgKGlucHV0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmU6IGZ1bmN0aW9uIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUoKSB7XG4gICAgdGhpcy5yZWZzLnRyaWdnZXIucmVmcy50cmlnZ2VyLmZvcmNlUG9wdXBBbGlnbigpO1xuICB9LFxuICBnZXRMYWJlbEJ5U2luZ2xlVmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGxhYmVsID0gbnVsbDtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgdmFyIG1heWJlID0gX3RoaXMzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZC5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuICAgICAgICBpZiAobWF5YmUgIT09IG51bGwpIHtcbiAgICAgICAgICBsYWJlbCA9IG1heWJlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpID09PSB2YWx1ZSkge1xuICAgICAgICBsYWJlbCA9IF90aGlzMy5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBsYWJlbDtcbiAgfSxcbiAgZ2V0VmFsdWVCeUxhYmVsOiBmdW5jdGlvbiBnZXRWYWx1ZUJ5TGFiZWwoY2hpbGRyZW4sIGxhYmVsKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG4gICAgICAgIHZhciBtYXliZSA9IF90aGlzNC5nZXRWYWx1ZUJ5TGFiZWwoY2hpbGQucHJvcHMuY2hpbGRyZW4sIGxhYmVsKTtcbiAgICAgICAgaWYgKG1heWJlICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFsdWUgPSBtYXliZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwudG9BcnJheSkoX3RoaXM0LmdldExhYmVsRnJvbU9wdGlvbihjaGlsZCkpLmpvaW4oJycpID09PSBsYWJlbCkge1xuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgZ2V0TGFiZWxGcm9tT3B0aW9uOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpIHtcbiAgICByZXR1cm4gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcbiAgfSxcbiAgZ2V0TGFiZWxGcm9tUHJvcHM6IGZ1bmN0aW9uIGdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldExhYmVsQnlWYWx1ZShwcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuICB9LFxuICBnZXRWTEZvck9uQ2hhbmdlOiBmdW5jdGlvbiBnZXRWTEZvck9uQ2hhbmdlKHZsc18pIHtcbiAgICB2YXIgdmxzID0gdmxzXztcbiAgICBpZiAodmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2LmtleTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bHMgPSB2bHMubWFwKGZ1bmN0aW9uICh2bCkge1xuICAgICAgICAgIHJldHVybiB7IGtleTogdmwua2V5LCBsYWJlbDogdmwubGFiZWwgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpID8gdmxzIDogdmxzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gdmxzO1xuICB9LFxuICBnZXRMYWJlbEJ5VmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcbiAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpO1xuICAgIGlmIChsYWJlbCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbGFiZWw7XG4gIH0sXG4gIGdldERyb3Bkb3duQ29udGFpbmVyOiBmdW5jdGlvbiBnZXREcm9wZG93bkNvbnRhaW5lcigpIHtcbiAgICBpZiAoIXRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcbiAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRyb3Bkb3duQ29udGFpbmVyO1xuICB9LFxuICBnZXRQbGFjZWhvbGRlckVsZW1lbnQ6IGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyRWxlbWVudCgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICB2YXIgaGlkZGVuID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlLmlucHV0VmFsdWUpIHtcbiAgICAgIGhpZGRlbiA9IHRydWU7XG4gICAgfVxuICAgIGlmIChzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGhpZGRlbiA9IHRydWU7XG4gICAgfVxuICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpICYmIHN0YXRlLnZhbHVlLmxlbmd0aCA9PT0gMSAmJiAhc3RhdGUudmFsdWVbMF0ua2V5KSB7XG4gICAgICBoaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXI7XG4gICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG4gICAgICAgICAgc3R5bGU6ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICBkaXNwbGF5OiBoaWRkZW4gPyAnbm9uZScgOiAnYmxvY2snXG4gICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFKVxuICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgb25DbGljazogdGhpcy5vblBsYWNlaG9sZGVyQ2xpY2ssXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcGxhY2Vob2xkZXInXG4gICAgICAgIH0pLFxuICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGdldElucHV0RWxlbWVudDogZnVuY3Rpb24gZ2V0SW5wdXRFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGlucHV0RWxlbWVudCA9IHByb3BzLmdldElucHV0RWxlbWVudCA/IHByb3BzLmdldElucHV0RWxlbWVudCgpIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBudWxsKTtcbiAgICB2YXIgaW5wdXRDbHMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoaW5wdXRFbGVtZW50LnByb3BzLmNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkJywgdHJ1ZSkpO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX193cmFwJyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGlucHV0RWxlbWVudCwge1xuICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0UmVmLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlLFxuICAgICAgICBvbktleURvd246IHRoaXMub25JbnB1dEtleURvd24sXG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWUsXG4gICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgY2xhc3NOYW1lOiBpbnB1dENsc1xuICAgICAgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0TWlycm9yUmVmLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX19taXJyb3InXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuICAgICAgKVxuICAgICk7XG4gIH0sXG4gIGdldElucHV0RE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0SW5zdGFuY2U7XG4gIH0sXG4gIGdldElucHV0TWlycm9yRE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0TWlycm9ySW5zdGFuY2U7XG4gIH0sXG4gIGdldFBvcHVwRE9NTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERPTU5vZGUoKTtcbiAgfSxcbiAgZ2V0UG9wdXBNZW51Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRQb3B1cE1lbnVDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuICB9LFxuICBzZXRPcGVuU3RhdGU6IGZ1bmN0aW9uIHNldE9wZW5TdGF0ZShvcGVuLCBuZWVkRm9jdXMpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmIChzdGF0ZS5vcGVuID09PSBvcGVuKSB7XG4gICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5leHRTdGF0ZSA9IHtcbiAgICAgIG9wZW46IG9wZW5cbiAgICB9O1xuICAgIC8vIGNsZWFyIHNlYXJjaCBpbnB1dCB2YWx1ZSB3aGVuIG9wZW4gaXMgZmFsc2UgaW4gc2luZ2xlTW9kZS5cbiAgICBpZiAoIW9wZW4gJiYgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2gpIHtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG4gICAgfVxuICAgIGlmICghb3Blbikge1xuICAgICAgdGhpcy5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob3Blbikge1xuICAgICAgICBfdGhpczUubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiBzZXRJbnB1dFZhbHVlKGlucHV0VmFsdWUpIHtcbiAgICB2YXIgZmlyZVNlYXJjaCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVxuICAgIH0pO1xuICAgIGlmIChmaXJlU2VhcmNoKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGlucHV0VmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgY2xlYXJCbHVyVGltZTogZnVuY3Rpb24gY2xlYXJCbHVyVGltZSgpIHtcbiAgICBpZiAodGhpcy5ibHVyVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmJsdXJUaW1lcik7XG4gICAgICB0aGlzLmJsdXJUaW1lciA9IG51bGw7XG4gICAgfVxuICB9LFxuICBjbGVhckFkanVzdFRpbWVyOiBmdW5jdGlvbiBjbGVhckFkanVzdFRpbWVyKCkge1xuICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpO1xuICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZUZvY3VzQ2xhc3NOYW1lOiBmdW5jdGlvbiB1cGRhdGVGb2N1c0NsYXNzTmFtZSgpIHtcbiAgICB2YXIgcmVmcyA9IHRoaXMucmVmcyxcbiAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIC8vIGF2b2lkIHNldFN0YXRlIGFuZCBpdHMgc2lkZSBlZmZlY3RcblxuICAgIGlmICh0aGlzLl9mb2N1c2VkKSB7XG4gICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkocmVmcy5yb290KS5hZGQocHJvcHMucHJlZml4Q2xzICsgJy1mb2N1c2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKShyZWZzLnJvb3QpLnJlbW92ZShwcm9wcy5wcmVmaXhDbHMgKyAnLWZvY3VzZWQnKTtcbiAgICB9XG4gIH0sXG4gIG1heWJlRm9jdXM6IGZ1bmN0aW9uIG1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKSB7XG4gICAgaWYgKG5lZWRGb2N1cyB8fCBvcGVuKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuICAgICAgdmFyIF9kb2N1bWVudCA9IGRvY3VtZW50LFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgaWYgKGlucHV0ICYmIChvcGVuIHx8ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykpKSB7XG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBpbnB1dCkge1xuICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnJlZnMuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gc2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGFkZExhYmVsVG9WYWx1ZTogZnVuY3Rpb24gYWRkTGFiZWxUb1ZhbHVlKHByb3BzLCB2YWx1ZV8pIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIHZhciB2YWx1ZSA9IHZhbHVlXztcbiAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHYubGFiZWwgPSB2LmxhYmVsIHx8IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdi5rZXkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5OiB2LFxuICAgICAgICAgIGxhYmVsOiBfdGhpczYuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHYpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBhZGRUaXRsZVRvVmFsdWU6IGZ1bmN0aW9uIGFkZFRpdGxlVG9WYWx1ZShwcm9wcywgdmFsdWVzKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICB2YXIgbmV4dFZhbHVlcyA9IHZhbHVlcztcbiAgICB2YXIga2V5cyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiB2LmtleTtcbiAgICB9KTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgbmV4dFZhbHVlcyA9IF90aGlzNy5hZGRUaXRsZVRvVmFsdWUoY2hpbGQucHJvcHMsIG5leHRWYWx1ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICAgIHZhciB2YWx1ZUluZGV4ID0ga2V5cy5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlSW5kZXggPiAtMSkge1xuICAgICAgICAgIG5leHRWYWx1ZXNbdmFsdWVJbmRleF0udGl0bGUgPSBjaGlsZC5wcm9wcy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0VmFsdWVzO1xuICB9LFxuICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoc2VsZWN0ZWRLZXkpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCB0aGlzLmlzQ2hpbGREaXNhYmxlZChzZWxlY3RlZEtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxhYmVsID0gdm9pZCAwO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgaWYgKHNpbmdsZVZhbHVlLmtleSA9PT0gc2VsZWN0ZWRLZXkpIHtcbiAgICAgICAgbGFiZWwgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaW5nbGVWYWx1ZS5rZXkgIT09IHNlbGVjdGVkS2V5O1xuICAgIH0pO1xuICAgIHZhciBjYW5NdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG5cbiAgICBpZiAoY2FuTXVsdGlwbGUpIHtcbiAgICAgIHZhciBldmVudCA9IHNlbGVjdGVkS2V5O1xuICAgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICBrZXk6IHNlbGVjdGVkS2V5LFxuICAgICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcHJvcHMub25EZXNlbGVjdChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG4gIH0sXG4gIG9wZW5JZkhhc0NoaWxkcmVuOiBmdW5jdGlvbiBvcGVuSWZIYXNDaGlsZHJlbigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikgfHwgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcbiAgICB9XG4gIH0sXG4gIGZpcmVDaGFuZ2U6IGZ1bmN0aW9uIGZpcmVDaGFuZ2UodmFsdWUpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcHJvcHMub25DaGFuZ2UodGhpcy5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG4gIH0sXG4gIGlzQ2hpbGREaXNhYmxlZDogZnVuY3Rpb24gaXNDaGlsZERpc2FibGVkKGtleSkge1xuICAgIHJldHVybiAoMCwgX3V0aWwudG9BcnJheSkodGhpcy5wcm9wcy5jaGlsZHJlbikuc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGRWYWx1ZSA9PT0ga2V5ICYmIGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmRpc2FibGVkO1xuICAgIH0pO1xuICB9LFxuICB0b2tlbml6ZTogZnVuY3Rpb24gdG9rZW5pemUoc3RyaW5nKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG4gICAgICAgIHRva2VuU2VwYXJhdG9ycyA9IF9wcm9wcy50b2tlblNlcGFyYXRvcnMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgKDAsIF91dGlsLnNwbGl0QnlTZXBhcmF0b3JzKShzdHJpbmcsIHRva2VuU2VwYXJhdG9ycykuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0geyBrZXk6IGxhYmVsLCBsYWJlbDogbGFiZWwgfTtcbiAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwpKG5leHRWYWx1ZSwgbGFiZWwpID09PSAtMSkge1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczguZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCk7XG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlLmtleSA9IHZhbHVlO1xuICAgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0VmFsdWU7XG4gIH0sXG4gIGFkanVzdE9wZW5TdGF0ZTogZnVuY3Rpb24gYWRqdXN0T3BlblN0YXRlKCkge1xuICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5nZXRJbnB1dERPTU5vZGUoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICBvcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICBpZiAob3Blbikge1xuICAgICAgb3B0aW9ucyA9IHRoaXMucmVuZGVyRmlsdGVyT3B0aW9ucygpO1xuICAgIH1cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3BlbiAmJiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSB8fCAhdGhpcy5wcm9wcy5zaG93U2VhcmNoKSAmJiAhb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIG9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5vcGVuID0gb3BlbjtcbiAgfSxcbiAgcmVuZGVyVG9wQ29udHJvbE5vZGU6IGZ1bmN0aW9uIHJlbmRlclRvcENvbnRyb2xOb2RlKCkge1xuICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW4sXG4gICAgICAgIGlucHV0VmFsdWUgPSBfc3RhdGUuaW5wdXRWYWx1ZTtcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNob2ljZVRyYW5zaXRpb25OYW1lID0gcHJvcHMuY2hvaWNlVHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgbWF4VGFnVGV4dExlbmd0aCA9IHByb3BzLm1heFRhZ1RleHRMZW5ndGgsXG4gICAgICAgIHNob3dTZWFyY2ggPSBwcm9wcy5zaG93U2VhcmNoO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHByZWZpeENscyArICctc2VsZWN0aW9uX19yZW5kZXJlZCc7XG4gICAgLy8gc2VhcmNoIGlucHV0IGlzIGluc2lkZSB0b3BDb250cm9sTm9kZSBpbiBzaW5nbGUsIG11bHRpcGxlICYgY29tYm9ib3guIDIwMTYvMDQvMTNcbiAgICB2YXIgaW5uZXJOb2RlID0gbnVsbDtcbiAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzaG93U2VsZWN0ZWRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb3BhY2l0eSA9IDE7XG4gICAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAob3Blbikge1xuICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSAhaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChzaG93U2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICBvcGFjaXR5ID0gMC40O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaW5nbGVWYWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLXNlbGVjdGVkLXZhbHVlJyxcbiAgICAgICAgICAgIHRpdGxlOiBzaW5nbGVWYWx1ZS50aXRsZSB8fCBzaW5nbGVWYWx1ZS5sYWJlbCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHNob3dTZWxlY3RlZFZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsdWVbMF0ubGFiZWxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcbiAgICAgICAgICAgIGtleTogJ2lucHV0JyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG9wZW4gPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG4gICAgICAgICldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gW107XG4gICAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcbiAgICAgICAgICB2YXIgdGl0bGUgPSBzaW5nbGVWYWx1ZS50aXRsZSB8fCBjb250ZW50O1xuICAgICAgICAgIGlmIChtYXhUYWdUZXh0TGVuZ3RoICYmIHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyAmJiBjb250ZW50Lmxlbmd0aCA+IG1heFRhZ1RleHRMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIG1heFRhZ1RleHRMZW5ndGgpICsgJy4uLic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzOS5pc0NoaWxkRGlzYWJsZWQoc2luZ2xlVmFsdWUua2V5KTtcbiAgICAgICAgICB2YXIgY2hvaWNlQ2xhc3NOYW1lID0gZGlzYWJsZWQgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19kaXNhYmxlZCcgOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlJztcbiAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG4gICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNob2ljZUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAga2V5OiBzaW5nbGVWYWx1ZS5rZXksXG4gICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX2NvbnRlbnQnIH0sXG4gICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBkaXNhYmxlZCA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX3JlbW92ZScsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzOS5yZW1vdmVTZWxlY3RlZC5iaW5kKF90aGlzOSwgc2luZ2xlVmFsdWUua2V5KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlcy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcbiAgICAgICAgICBrZXk6ICdfX2lucHV0J1xuICAgICAgICB9LFxuICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG4gICAgICApKTtcblxuICAgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgY2hvaWNlVHJhbnNpdGlvbk5hbWUpIHtcbiAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfcmNBbmltYXRlMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25MZWF2ZTogdGhpcy5vbkNob2ljZUFuaW1hdGlvbkxlYXZlLFxuICAgICAgICAgICAgY29tcG9uZW50OiAndWwnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6IGNob2ljZVRyYW5zaXRpb25OYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubmVyTm9kZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3VsJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuICAgICAgdGhpcy5nZXRQbGFjZWhvbGRlckVsZW1lbnQoKSxcbiAgICAgIGlubmVyTm9kZVxuICAgICk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcm9vdENscztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG11bHRpcGxlID0gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKTtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIGFsbG93Q2xlYXIgPSBwcm9wcy5hbGxvd0NsZWFyLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgY3RybE5vZGUgPSB0aGlzLnJlbmRlclRvcENvbnRyb2xOb2RlKCk7XG4gICAgdmFyIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7fTtcbiAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcblxuICAgIHZhciBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgICBpZiAoISgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkocHJvcHMpKSB7XG4gICAgICBleHRyYVNlbGVjdGlvblByb3BzID0ge1xuICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuICAgICAgICB0YWJJbmRleDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJvb3RDbHMgPSAoX3Jvb3RDbHMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctb3BlbicsIG9wZW4pLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBvcGVuIHx8ICEhdGhpcy5fZm9jdXNlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctY29tYm9ib3gnLCAoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1lbmFibGVkJywgIWRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1hbGxvdy1jbGVhcicsICEhcHJvcHMuYWxsb3dDbGVhciksIF9yb290Q2xzKTtcbiAgICB2YXIgY2xlYXJTdHlsZSA9ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLCB7XG4gICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9KTtcbiAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSB8fCBzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGNsZWFyU3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuICAgIHZhciBjbGVhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAga2V5OiAnY2xlYXInLFxuICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG4gICAgICBzdHlsZTogY2xlYXJTdHlsZVxuICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcbiAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2NsZWFyJyxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGVhclNlbGVjdGlvblxuICAgIH0pKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9TZWxlY3RUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG4gICAgICB7XG4gICAgICAgIG9uUG9wdXBGb2N1czogdGhpcy5vblBvcHVwRm9jdXMsXG4gICAgICAgIGRyb3Bkb3duQWxpZ246IHByb3BzLmRyb3Bkb3duQWxpZ24sXG4gICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZSxcbiAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBwcm9wcy5kcm9wZG93bk1hdGNoU2VsZWN0V2lkdGgsXG4gICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuICAgICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25OYW1lOiBwcm9wcy50cmFuc2l0aW9uTmFtZSxcbiAgICAgICAgYW5pbWF0aW9uOiBwcm9wcy5hbmltYXRpb24sXG4gICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBkcm9wZG93blN0eWxlOiBwcm9wcy5kcm9wZG93blN0eWxlLFxuICAgICAgICBjb21ib2JveDogcHJvcHMuY29tYm9ib3gsXG4gICAgICAgIHNob3dTZWFyY2g6IHByb3BzLnNob3dTZWFyY2gsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICB2aXNpYmxlOiBvcGVuLFxuICAgICAgICBpbnB1dFZhbHVlOiBzdGF0ZS5pbnB1dFZhbHVlLFxuICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG4gICAgICAgIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICAgIG9uTWVudVNlbGVjdDogdGhpcy5vbk1lbnVTZWxlY3QsXG4gICAgICAgIG9uTWVudURlc2VsZWN0OiB0aGlzLm9uTWVudURlc2VsZWN0LFxuICAgICAgICByZWY6ICd0cmlnZ2VyJ1xuICAgICAgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgICAgIHJlZjogJ3Jvb3QnLFxuICAgICAgICAgIG9uQmx1cjogdGhpcy5vbk91dGVyQmx1cixcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLm9uT3V0ZXJGb2N1cyxcbiAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShyb290Q2xzKVxuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICByZWY6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgICAga2V5OiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25cXG4gICAgICAgICAgICAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLFxuICAgICAgICAgICAgcm9sZTogJ2NvbWJvYm94JyxcbiAgICAgICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0JyxcbiAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ3RydWUnLFxuICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBvcGVuXG4gICAgICAgICAgfSwgZXh0cmFTZWxlY3Rpb25Qcm9wcyksXG4gICAgICAgICAgY3RybE5vZGUsXG4gICAgICAgICAgYWxsb3dDbGVhciAmJiAhbXVsdGlwbGUgPyBjbGVhciA6IG51bGwsXG4gICAgICAgICAgbXVsdGlwbGUgfHwgIXByb3BzLnNob3dBcnJvdyA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgICAga2V5OiAnYXJyb3cnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYXJyb3cnLFxuICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG4gICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25BcnJvd0NsaWNrXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2InLCBudWxsKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmNUcmlnZ2VyID0gcmVxdWlyZSgncmMtdHJpZ2dlcicpO1xuXG52YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0Ryb3Bkb3duTWVudSA9IHJlcXVpcmUoJy4vRHJvcGRvd25NZW51Jyk7XG5cbnZhciBfRHJvcGRvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duTWVudSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIEJVSUxUX0lOX1BMQUNFTUVOVFMgPSB7XG4gIGJvdHRvbUxlZnQ6IHtcbiAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICBvdmVyZmxvdzoge1xuICAgICAgYWRqdXN0WDogMCxcbiAgICAgIGFkanVzdFk6IDFcbiAgICB9XG4gIH0sXG4gIHRvcExlZnQ6IHtcbiAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgb3ZlcmZsb3c6IHtcbiAgICAgIGFkanVzdFg6IDAsXG4gICAgICBhZGp1c3RZOiAxXG4gICAgfVxuICB9XG59O1xuXG52YXIgU2VsZWN0VHJpZ2dlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTZWxlY3RUcmlnZ2VyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkcm9wZG93bkFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZHJvcGRvd25DbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHBvcHVwQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnlcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlLFxuICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPSBfcHJvcHMuZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoO1xuXG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHZhciBkcm9wZG93bkRPTU5vZGUgPSB0aGlzLmdldFBvcHVwRE9NTm9kZSgpO1xuICAgICAgaWYgKGRyb3Bkb3duRE9NTm9kZSkge1xuICAgICAgICB2YXIgd2lkdGhQcm9wID0gZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID8gJ3dpZHRoJyA6ICdtaW5XaWR0aCc7XG4gICAgICAgIGRyb3Bkb3duRE9NTm9kZS5zdHlsZVt3aWR0aFByb3BdID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZ2V0SW5uZXJNZW51OiBmdW5jdGlvbiBnZXRJbm5lck1lbnUoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9wdXBNZW51ICYmIHRoaXMucG9wdXBNZW51LnJlZnMubWVudTtcbiAgfSxcbiAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuICB9LFxuICBnZXREcm9wZG93bkVsZW1lbnQ6IGZ1bmN0aW9uIGdldERyb3Bkb3duRWxlbWVudChuZXdQcm9wcykge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0Ryb3Bkb3duTWVudTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgcmVmOiB0aGlzLnNhdmVNZW51XG4gICAgfSwgbmV3UHJvcHMsIHtcbiAgICAgIHByZWZpeENsczogdGhpcy5nZXREcm9wZG93blByZWZpeENscygpLFxuICAgICAgb25NZW51U2VsZWN0OiBwcm9wcy5vbk1lbnVTZWxlY3QsXG4gICAgICBvbk1lbnVEZXNlbGVjdDogcHJvcHMub25NZW51RGVzZWxlY3QsXG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcbiAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiBwcm9wcy5kcm9wZG93bk1lbnVTdHlsZVxuICAgIH0pKTtcbiAgfSxcbiAgZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZTogZnVuY3Rpb24gZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgcHJvcHMuYW5pbWF0aW9uKSB7XG4gICAgICB0cmFuc2l0aW9uTmFtZSA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSArICctJyArIHByb3BzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICB9LFxuICBnZXREcm9wZG93blByZWZpeENsczogZnVuY3Rpb24gZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1kcm9wZG93bic7XG4gIH0sXG4gIHNhdmVNZW51OiBmdW5jdGlvbiBzYXZlTWVudShtZW51KSB7XG4gICAgdGhpcy5wb3B1cE1lbnUgPSBtZW51O1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3BvcHVwQ2xhc3NOYW1lO1xuXG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBvblBvcHVwRm9jdXMgPSBfcHJvcHMyLm9uUG9wdXBGb2N1cyxcbiAgICAgICAgcHJvcHMgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzM1tcImRlZmF1bHRcIl0pKF9wcm9wczIsIFsnb25Qb3B1cEZvY3VzJ10pO1xuICAgIHZhciBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuICAgICAgICB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSxcbiAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWUsXG4gICAgICAgIGRyb3Bkb3duQWxpZ24gPSBwcm9wcy5kcm9wZG93bkFsaWduLFxuICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBzaG93U2VhcmNoID0gcHJvcHMuc2hvd1NlYXJjaCxcbiAgICAgICAgZHJvcGRvd25DbGFzc05hbWUgPSBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZTtcblxuICAgIHZhciBkcm9wZG93blByZWZpeENscyA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKTtcbiAgICB2YXIgcG9wdXBDbGFzc05hbWUgPSAoX3BvcHVwQ2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93bkNsYXNzTmFtZSwgISFkcm9wZG93bkNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93blByZWZpeENscyArICctLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLCAxKSwgX3BvcHVwQ2xhc3NOYW1lKTtcbiAgICB2YXIgcG9wdXBFbGVtZW50ID0gdGhpcy5nZXREcm9wZG93bkVsZW1lbnQoe1xuICAgICAgbWVudUl0ZW1zOiBwcm9wcy5vcHRpb25zLFxuICAgICAgb25Qb3B1cEZvY3VzOiBvblBvcHVwRm9jdXMsXG4gICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgIH0pO1xuICAgIHZhciBoaWRlQWN0aW9uID0gdm9pZCAwO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgaGlkZUFjdGlvbiA9IFtdO1xuICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmICFzaG93U2VhcmNoKSB7XG4gICAgICBoaWRlQWN0aW9uID0gWydjbGljayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlQWN0aW9uID0gWydibHVyJ107XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgX3JjVHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuICAgICAgICBzaG93QWN0aW9uOiBkaXNhYmxlZCA/IFtdIDogWydjbGljayddLFxuICAgICAgICBoaWRlQWN0aW9uOiBoaWRlQWN0aW9uLFxuICAgICAgICByZWY6ICd0cmlnZ2VyJyxcbiAgICAgICAgcG9wdXBQbGFjZW1lbnQ6ICdib3R0b21MZWZ0JyxcbiAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IEJVSUxUX0lOX1BMQUNFTUVOVFMsXG4gICAgICAgIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMsXG4gICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpLFxuICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogcHJvcHMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG4gICAgICAgIHBvcHVwOiBwb3B1cEVsZW1lbnQsXG4gICAgICAgIHBvcHVwQWxpZ246IGRyb3Bkb3duQWxpZ24sXG4gICAgICAgIHBvcHVwVmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuICAgICAgICBwb3B1cENsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHBvcHVwQ2xhc3NOYW1lKSxcbiAgICAgICAgcG9wdXBTdHlsZTogcHJvcHMuZHJvcGRvd25TdHlsZVxuICAgICAgfSksXG4gICAgICBwcm9wcy5jaGlsZHJlblxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdFRyaWdnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL1NlbGVjdFRyaWdnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9wdEdyb3VwID0gZXhwb3J0cy5PcHRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfU2VsZWN0ID0gcmVxdWlyZSgnLi9TZWxlY3QnKTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9PcHRpb24gPSByZXF1aXJlKCcuL09wdGlvbicpO1xuXG52YXIgX09wdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRpb24pO1xuXG52YXIgX09wdEdyb3VwID0gcmVxdWlyZSgnLi9PcHRHcm91cCcpO1xuXG52YXIgX09wdEdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdEdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl9TZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5fU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5PcHRHcm91cCA9IF9PcHRHcm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfU2VsZWN0MltcImRlZmF1bHRcIl07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbHVtbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ29sdW1uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW4pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ29sdW1uLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgY29sU3BhbjogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG4gIGRhdGFJbmRleDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG4gIGZpeGVkOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFt0cnVlLCAnbGVmdCcsICdyaWdodCddKSxcbiAgcmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ2VsbENsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbHVtbkdyb3VwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uR3JvdXApO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uR3JvdXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Db2x1bW5Hcm91cC5wcm9wVHlwZXMgPSB7XG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbn07XG5Db2x1bW5Hcm91cC5pc1RhYmxlQ29sdW1uR3JvdXAgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5Hcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDb2x1bW5NYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb2x1bW5NYW5hZ2VyKGNvbHVtbnMsIGVsZW1lbnRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbk1hbmFnZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVkID0ge307XG5cbiAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMubm9ybWFsaXplKGVsZW1lbnRzKTtcbiAgfVxuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0ZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zRml4ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zRml4ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuICEhY29sdW1uLmZpeGVkO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zTGVmdEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNMZWZ0Rml4ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNSaWdodEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ3JpZ2h0JztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRDb2x1bW5zID0gZnVuY3Rpb24gbGVmdENvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlZnRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzNC5ncm91cGVkQ29sdW1ucygpLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodENvbHVtbnMgPSBmdW5jdGlvbiByaWdodENvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0Q29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczUuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAncmlnaHQnO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWFmQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM2Ll9sZWFmQ29sdW1ucyhfdGhpczYuY29sdW1ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdExlYWZDb2x1bW5zID0gZnVuY3Rpb24gbGVmdExlYWZDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWZ0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM3Ll9sZWFmQ29sdW1ucyhfdGhpczcubGVmdENvbHVtbnMoKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIHJpZ2h0TGVhZkNvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM4Ll9sZWFmQ29sdW1ucyhfdGhpczgucmlnaHRDb2x1bW5zKCkpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGFkZCBhcHByb3ByaWF0ZSByb3dzcGFuIGFuZCBjb2xzcGFuIHRvIGNvbHVtblxuXG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuZ3JvdXBlZENvbHVtbnMgPSBmdW5jdGlvbiBncm91cGVkQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnZ3JvdXBlZENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dyb3VwQ29sdW1ucyA9IGZ1bmN0aW9uIF9ncm91cENvbHVtbnMoY29sdW1ucykge1xuICAgICAgICB2YXIgY3VycmVudFJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHBhcmVudENvbHVtbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICAgIHZhciByb3dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBbXTtcblxuICAgICAgICAvLyB0cmFjayBob3cgbWFueSByb3dzIHdlIGdvdFxuICAgICAgICByb3dzW2N1cnJlbnRSb3ddID0gcm93c1tjdXJyZW50Um93XSB8fCBbXTtcbiAgICAgICAgdmFyIGdyb3VwZWQgPSBbXTtcbiAgICAgICAgdmFyIHNldFJvd1NwYW4gPSBmdW5jdGlvbiBzZXRSb3dTcGFuKGNvbHVtbikge1xuICAgICAgICAgIHZhciByb3dTcGFuID0gcm93cy5sZW5ndGggLSBjdXJyZW50Um93O1xuICAgICAgICAgIGlmIChjb2x1bW4gJiYgIWNvbHVtbi5jaGlsZHJlbiAmJiAvLyBwYXJlbnQgY29sdW1ucyBhcmUgc3VwcG9zZWQgdG8gYmUgb25lIHJvd1xuICAgICAgICAgIHJvd1NwYW4gPiAxICYmICghY29sdW1uLnJvd1NwYW4gfHwgY29sdW1uLnJvd1NwYW4gPCByb3dTcGFuKSkge1xuICAgICAgICAgICAgY29sdW1uLnJvd1NwYW4gPSByb3dTcGFuO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGluZGV4KSB7XG4gICAgICAgICAgdmFyIG5ld0NvbHVtbiA9IF9leHRlbmRzKHt9LCBjb2x1bW4pO1xuICAgICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChuZXdDb2x1bW4pO1xuICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gfHwgMDtcbiAgICAgICAgICBpZiAobmV3Q29sdW1uLmNoaWxkcmVuICYmIG5ld0NvbHVtbi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBuZXdDb2x1bW4uY2hpbGRyZW4gPSBfZ3JvdXBDb2x1bW5zKG5ld0NvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIG5ld0NvbHVtbiwgcm93cyk7XG4gICAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbiA9IHBhcmVudENvbHVtbi5jb2xTcGFuICsgbmV3Q29sdW1uLmNvbFNwYW47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHVwZGF0ZSByb3dzcGFuIHRvIGFsbCBzYW1lIHJvdyBjb2x1bW5zXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzW2N1cnJlbnRSb3ddLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgc2V0Um93U3Bhbihyb3dzW2N1cnJlbnRSb3ddW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbGFzdCBjb2x1bW4sIHVwZGF0ZSByb3dzcGFuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFJvd1NwYW4obmV3Q29sdW1uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBlZC5wdXNoKG5ld0NvbHVtbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gX2dyb3VwQ29sdW1ucyhfdGhpczkuY29sdW1ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKGVsZW1lbnRzKSB7XG4gICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgdmFyIGNvbHVtbnMgPSBbXTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKCFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29sdW1uID0gX2V4dGVuZHMoe30sIGVsZW1lbnQucHJvcHMpO1xuICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG4gICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LnR5cGUuaXNUYWJsZUNvbHVtbkdyb3VwKSB7XG4gICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IF90aGlzMTAubm9ybWFsaXplKGNvbHVtbi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29sdW1ucztcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KGNvbHVtbnMsIGVsZW1lbnRzKSB7XG4gICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG4gICAgdGhpcy5fY2FjaGVkID0ge307XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2NhY2hlID0gZnVuY3Rpb24gX2NhY2hlKG5hbWUsIGZuKSB7XG4gICAgaWYgKG5hbWUgaW4gdGhpcy5fY2FjaGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuICAgIH1cbiAgICB0aGlzLl9jYWNoZWRbbmFtZV0gPSBmbigpO1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2xlYWZDb2x1bW5zID0gZnVuY3Rpb24gX2xlYWZDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICB2YXIgbGVhZkNvbHVtbnMgPSBbXTtcbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgaWYgKCFjb2x1bW4uY2hpbGRyZW4pIHtcbiAgICAgICAgbGVhZkNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhZkNvbHVtbnMucHVzaC5hcHBseShsZWFmQ29sdW1ucywgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMTEuX2xlYWZDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbikpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGVhZkNvbHVtbnM7XG4gIH07XG5cbiAgcmV0dXJuIENvbHVtbk1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uTWFuYWdlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5NYW5hZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc2hhbGxvd2VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5cbnZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIEV4cGFuZEljb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRXhwYW5kSWNvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRXhwYW5kSWNvbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwYW5kSWNvbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIEV4cGFuZEljb24ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgRXhwYW5kSWNvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzLmV4cGFuZGFibGUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIG9uRXhwYW5kID0gX3Byb3BzLm9uRXhwYW5kLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzLm5lZWRJbmRlbnRTcGFjZWQsXG4gICAgICAgIGV4cGFuZGVkID0gX3Byb3BzLmV4cGFuZGVkLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkO1xuXG4gICAgaWYgKGV4cGFuZGFibGUpIHtcbiAgICAgIHZhciBleHBhbmRDbGFzc05hbWUgPSBleHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJztcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24gJyArIHByZWZpeENscyArICctJyArIGV4cGFuZENsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuZWVkSW5kZW50U3BhY2VkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLXNwYWNlZCcgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBFeHBhbmRJY29uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5FeHBhbmRJY29uLnByb3BUeXBlcyA9IHtcbiAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXhwYW5kSWNvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9FeHBhbmRJY29uLmpzXG4gKiogbW9kdWxlIGlkID0gMTM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfVGFibGVSb3cgPSByZXF1aXJlKCcuL1RhYmxlUm93Jyk7XG5cbnZhciBfVGFibGVSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVSb3cpO1xuXG52YXIgX1RhYmxlSGVhZGVyID0gcmVxdWlyZSgnLi9UYWJsZUhlYWRlcicpO1xuXG52YXIgX1RhYmxlSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlSGVhZGVyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmMtdXRpbC9saWIvRG9tL2FkZEV2ZW50TGlzdGVuZXInKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX0NvbHVtbk1hbmFnZXIgPSByZXF1aXJlKCcuL0NvbHVtbk1hbmFnZXInKTtcblxudmFyIF9Db2x1bW5NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbk1hbmFnZXIpO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzID0gcmVxdWlyZSgnY29tcG9uZW50LWNsYXNzZXMnKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25FeHBhbmRlZCA9IGZ1bmN0aW9uIChleHBhbmRlZCwgcmVjb3JkLCBlLCBpbmRleCkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgdmFyIGluZm8gPSBfdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkKTtcbiAgICAgIGlmICh0eXBlb2YgaW5mbyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWV4cGFuZGVkKSB7XG4gICAgICAgIF90aGlzLm9uUm93RGVzdHJveShyZWNvcmQsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoIWluZm8gJiYgZXhwYW5kZWQpIHtcbiAgICAgICAgdmFyIGV4cGFuZGVkUm93cyA9IF90aGlzLmdldEV4cGFuZGVkUm93cygpLmNvbmNhdCgpO1xuICAgICAgICBleHBhbmRlZFJvd3MucHVzaChfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCkpO1xuICAgICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuICAgICAgfVxuICAgICAgX3RoaXMucHJvcHMub25FeHBhbmQoZXhwYW5kZWQsIHJlY29yZCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9uUm93RGVzdHJveSA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG4gICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG4gICAgICB2YXIgcm93S2V5ID0gX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBleHBhbmRlZFJvd3MuZm9yRWFjaChmdW5jdGlvbiAociwgaSkge1xuICAgICAgICBpZiAociA9PT0gcm93S2V5KSB7XG4gICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZXhwYW5kZWRSb3dzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCgpO1xuICAgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3luY0ZpeGVkVGFibGVSb3dIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFibGVSZWN0ID0gX3RoaXMudGFibGVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgLy8gSWYgdGFibGVOb2RlJ3MgaGVpZ2h0IGxlc3MgdGhhbiAwLCBzdXBwb3NlIGl0IGlzIGhpZGRlbiBhbmQgZG9uJ3QgcmVjYWxjdWxhdGUgcm93SGVpZ2h0LlxuICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy80ODM2XG4gICAgICBpZiAodGFibGVSZWN0LmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIHRhYmxlUmVjdC5oZWlnaHQgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcHJlZml4Q2xzID0gX3RoaXMucHJvcHMucHJlZml4Q2xzO1xuXG4gICAgICB2YXIgaGVhZFJvd3MgPSBfdGhpcy5yZWZzLmhlYWRUYWJsZSA/IF90aGlzLnJlZnMuaGVhZFRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJykgOiBfdGhpcy5yZWZzLmJvZHlUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0aGVhZCcpO1xuICAgICAgdmFyIGJvZHlSb3dzID0gX3RoaXMucmVmcy5ib2R5VGFibGUucXVlcnlTZWxlY3RvckFsbCgnLicgKyBwcmVmaXhDbHMgKyAnLXJvdycpIHx8IFtdO1xuICAgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoaGVhZFJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgJ2F1dG8nO1xuICAgICAgfSk7XG4gICAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChib2R5Um93cywgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG4gICAgICB9KTtcbiAgICAgIGlmICgoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCwgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQpICYmICgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQsXG4gICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmRldGVjdFNjcm9sbFRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuc2Nyb2xsVGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCb2R5U2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgc2Nyb2xsVG9wIHNldHRlciB0cmlnZ2VyIG9uU2Nyb2xsIGV2ZW50XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xMzg2Njk2XG4gICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLnNjcm9sbFRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkc2Nyb2xsID0gX3RoaXMucHJvcHMuc2Nyb2xsLFxuICAgICAgICAgIHNjcm9sbCA9IF90aGlzJHByb3BzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRzY3JvbGw7XG4gICAgICB2YXIgX3RoaXMkcmVmcyA9IF90aGlzLnJlZnMsXG4gICAgICAgICAgaGVhZFRhYmxlID0gX3RoaXMkcmVmcy5oZWFkVGFibGUsXG4gICAgICAgICAgYm9keVRhYmxlID0gX3RoaXMkcmVmcy5ib2R5VGFibGUsXG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQgPSBfdGhpcyRyZWZzLmZpeGVkQ29sdW1uc0JvZHlMZWZ0LFxuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keVJpZ2h0O1xuXG4gICAgICBpZiAoc2Nyb2xsLnggJiYgZS50YXJnZXQuc2Nyb2xsTGVmdCAhPT0gX3RoaXMubGFzdFNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBib2R5VGFibGUgJiYgaGVhZFRhYmxlKSB7XG4gICAgICAgICAgaGVhZFRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBoZWFkVGFibGUgJiYgYm9keVRhYmxlKSB7XG4gICAgICAgICAgYm9keVRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGwueSkge1xuICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keUxlZnQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlMZWZ0KSB7XG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXhlZENvbHVtbnNCb2R5UmlnaHQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlSaWdodCkge1xuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlUYWJsZSAmJiBlLnRhcmdldCAhPT0gYm9keVRhYmxlKSB7XG4gICAgICAgICAgYm9keVRhYmxlLnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gUmVtZW1iZXIgbGFzdCBzY3JvbGxMZWZ0IGZvciBzY3JvbGwgZGlyZWN0aW9uIGRldGVjdGluZy5cbiAgICAgIF90aGlzLmxhc3RTY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlUm93SG92ZXIgPSBmdW5jdGlvbiAoaXNIb3Zlciwga2V5KSB7XG4gICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRIb3ZlcktleTogaXNIb3ZlciA/IGtleSA6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhwYW5kZWRSb3dLZXlzID0gW107XG4gICAgdmFyIHJvd3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByb3BzLmRhdGEpKTtcbiAgICBfdGhpcy5jb2x1bW5NYW5hZ2VyID0gbmV3IF9Db2x1bW5NYW5hZ2VyMltcImRlZmF1bHRcIl0ocHJvcHMuY29sdW1ucywgcHJvcHMuY2hpbGRyZW4pO1xuICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7IGN1cnJlbnRIb3ZlcktleTogbnVsbCB9KTtcbiAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuXG4gICAgaWYgKHByb3BzLmRlZmF1bHRFeHBhbmRBbGxSb3dzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IHJvd3NbaV07XG4gICAgICAgIGV4cGFuZGVkUm93S2V5cy5wdXNoKF90aGlzLmdldFJvd0tleShyb3csIGkpKTtcbiAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHJvd1twcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWVdIHx8IFtdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXhwYW5kZWRSb3dLZXlzID0gcHJvcHMuZXhwYW5kZWRSb3dLZXlzIHx8IHByb3BzLmRlZmF1bHRFeHBhbmRlZFJvd0tleXM7XG4gICAgfVxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMsXG4gICAgICBjdXJyZW50SG92ZXJLZXk6IG51bGwsXG4gICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogW10sXG4gICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogW11cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplID0gKDAsIF91dGlscy5kZWJvdW5jZSkodGhpcy5oYW5kbGVXaW5kb3dSZXNpemUsIDE1MCk7XG4gICAgICB0aGlzLnJlc2l6ZUV2ZW50ID0gKDAsIF9hZGRFdmVudExpc3RlbmVyMltcImRlZmF1bHRcIl0pKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnZXhwYW5kZWRSb3dLZXlzJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleHBhbmRlZFJvd0tleXM6IG5leHRQcm9wcy5leHBhbmRlZFJvd0tleXNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobmV4dFByb3BzLmNvbHVtbnMgJiYgbmV4dFByb3BzLmNvbHVtbnMgIT09IHRoaXMucHJvcHMuY29sdW1ucykge1xuICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG5leHRQcm9wcy5jb2x1bW5zKTtcbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wcy5jaGlsZHJlbiAhPT0gdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG51bGwsIG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG4gICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuICAgIH1cbiAgICAvLyB3aGVuIHRhYmxlIGNoYW5nZXMgdG8gZW1wdHksIHJlc2V0IHNjcm9sbExlZnRcbiAgICBpZiAocHJldlByb3BzLmRhdGEubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09PSAwICYmIHRoaXMuaGFzU2Nyb2xsWCgpKSB7XG4gICAgICB0aGlzLnJlc2V0U2Nyb2xsWCgpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5yZXNpemVFdmVudCkge1xuICAgICAgdGhpcy5yZXNpemVFdmVudC5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKSB7XG4gICAgICB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZS5jYW5jZWwoKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLm9uRXhwYW5kZWRSb3dzQ2hhbmdlID0gZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dLZXlzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cyk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFJvd0tleSA9IGZ1bmN0aW9uIGdldFJvd0tleShyZWNvcmQsIGluZGV4KSB7XG4gICAgdmFyIHJvd0tleSA9IHRoaXMucHJvcHMucm93S2V5O1xuICAgIHZhciBrZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG4gICAgKDAsIF91dGlscy53YXJuaW5nT25jZSkoa2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCcgKyAnb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleS4nKTtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IGtleTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0RXhwYW5kZWRSb3dzID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3dzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCB0aGlzLnN0YXRlLmV4cGFuZGVkUm93S2V5cztcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNob3dIZWFkZXIgPSBfcHJvcHMuc2hvd0hlYWRlcixcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wcy5leHBhbmRJY29uQXNDZWxsLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLmdldEhlYWRlclJvd3MoY29sdW1ucyk7XG5cbiAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuICAgICAgcm93c1swXS51bnNoaWZ0KHtcbiAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kSWNvbkFzQ2VsbCcsXG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi10aCcsXG4gICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgcm93U3Bhbjogcm93cy5sZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB0clN0eWxlID0gZml4ZWQgPyB0aGlzLmdldEhlYWRlclJvd1N0eWxlKGNvbHVtbnMsIHJvd3MpIDogbnVsbDtcblxuICAgIHJldHVybiBzaG93SGVhZGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICByb3dzOiByb3dzLFxuICAgICAgcm93U3R5bGU6IHRyU3R5bGVcbiAgICB9KSA6IG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd3MgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dzKGNvbHVtbnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjdXJyZW50Um93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciByb3dzID0gYXJndW1lbnRzWzJdO1xuXG4gICAgcm93cyA9IHJvd3MgfHwgW107XG4gICAgcm93c1tjdXJyZW50Um93XSA9IHJvd3NbY3VycmVudFJvd10gfHwgW107XG5cbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgaWYgKGNvbHVtbi5yb3dTcGFuICYmIHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcbiAgICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcbiAgICAgICAgICByb3dzLnB1c2goW10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2VsbCA9IHtcbiAgICAgICAga2V5OiBjb2x1bW4ua2V5LFxuICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiBjb2x1bW4udGl0bGVcbiAgICAgIH07XG4gICAgICBpZiAoY29sdW1uLmNoaWxkcmVuKSB7XG4gICAgICAgIF90aGlzMi5nZXRIZWFkZXJSb3dzKGNvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIHJvd3MpO1xuICAgICAgfVxuICAgICAgaWYgKCdjb2xTcGFuJyBpbiBjb2x1bW4pIHtcbiAgICAgICAgY2VsbC5jb2xTcGFuID0gY29sdW1uLmNvbFNwYW47XG4gICAgICB9XG4gICAgICBpZiAoJ3Jvd1NwYW4nIGluIGNvbHVtbikge1xuICAgICAgICBjZWxsLnJvd1NwYW4gPSBjb2x1bW4ucm93U3BhbjtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmNvbFNwYW4gIT09IDApIHtcbiAgICAgICAgcm93c1tjdXJyZW50Um93XS5wdXNoKGNlbGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgICByZXR1cm4gcm93Lmxlbmd0aCA+IDA7XG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3coa2V5LCBjb250ZW50LCB2aXNpYmxlLCBjbGFzc05hbWUsIGZpeGVkKSB7XG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczIuZXhwYW5kSWNvbkFzQ2VsbDtcblxuICAgIHZhciBjb2xDb3VudCA9IHZvaWQgMDtcbiAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCkubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcbiAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCkubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgY29sdW1ucyA9IFt7XG4gICAgICBrZXk6ICdleHRyYS1yb3cnLFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGNvbFNwYW46IGNvbENvdW50XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogZml4ZWQgIT09ICdyaWdodCcgPyBjb250ZW50IDogJyZuYnNwOydcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XTtcbiAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuICAgICAgY29sdW1ucy51bnNoaWZ0KHtcbiAgICAgICAga2V5OiAnZXhwYW5kLWljb24tcGxhY2Vob2xkZXInLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAga2V5OiBrZXkgKyAnLWV4dHJhLXJvdycsXG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctZXhwYW5kZWQtcm93JyxcbiAgICAgIGluZGVudDogMSxcbiAgICAgIGV4cGFuZGFibGU6IGZhbHNlLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93c0J5RGF0YSA9IGZ1bmN0aW9uIGdldFJvd3NCeURhdGEoZGF0YSwgdmlzaWJsZSwgaW5kZW50LCBjb2x1bW5zLCBmaXhlZCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNoaWxkcmVuQ29sdW1uTmFtZSA9IHByb3BzLmNoaWxkcmVuQ29sdW1uTmFtZTtcbiAgICB2YXIgZXhwYW5kZWRSb3dSZW5kZXIgPSBwcm9wcy5leHBhbmRlZFJvd1JlbmRlcjtcbiAgICB2YXIgZXhwYW5kUm93QnlDbGljayA9IHByb3BzLmV4cGFuZFJvd0J5Q2xpY2s7XG4gICAgdmFyIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDtcblxuICAgIHZhciByc3QgPSBbXTtcbiAgICB2YXIgcm93Q2xhc3NOYW1lID0gcHJvcHMucm93Q2xhc3NOYW1lO1xuICAgIHZhciByb3dSZWYgPSBwcm9wcy5yb3dSZWY7XG4gICAgdmFyIGV4cGFuZGVkUm93Q2xhc3NOYW1lID0gcHJvcHMuZXhwYW5kZWRSb3dDbGFzc05hbWU7XG4gICAgdmFyIG5lZWRJbmRlbnRTcGFjZWQgPSBwcm9wcy5kYXRhLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgcmV0dXJuIHJlY29yZFtjaGlsZHJlbkNvbHVtbk5hbWVdO1xuICAgIH0pO1xuICAgIHZhciBvblJvd0NsaWNrID0gcHJvcHMub25Sb3dDbGljaztcbiAgICB2YXIgb25Sb3dEb3VibGVDbGljayA9IHByb3BzLm9uUm93RG91YmxlQ2xpY2s7XG5cbiAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IGZpeGVkICE9PSAncmlnaHQnID8gcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCA6IGZhbHNlO1xuICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBmaXhlZCAhPT0gJ3JpZ2h0JyA/IHByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleCA6IC0xO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmVjb3JkID0gZGF0YVtpXTtcbiAgICAgIHZhciBrZXkgPSB0aGlzLmdldFJvd0tleShyZWNvcmQsIGkpO1xuICAgICAgdmFyIGNoaWxkcmVuQ29sdW1uID0gcmVjb3JkW2NoaWxkcmVuQ29sdW1uTmFtZV07XG4gICAgICB2YXIgaXNSb3dFeHBhbmRlZCA9IHRoaXMuaXNSb3dFeHBhbmRlZChyZWNvcmQsIGkpO1xuICAgICAgdmFyIGV4cGFuZGVkUm93Q29udGVudCA9IHZvaWQgMDtcbiAgICAgIGlmIChleHBhbmRlZFJvd1JlbmRlciAmJiBpc1Jvd0V4cGFuZGVkKSB7XG4gICAgICAgIGV4cGFuZGVkUm93Q29udGVudCA9IGV4cGFuZGVkUm93UmVuZGVyKHJlY29yZCwgaSwgaW5kZW50KTtcbiAgICAgIH1cbiAgICAgIHZhciBjbGFzc05hbWUgPSByb3dDbGFzc05hbWUocmVjb3JkLCBpLCBpbmRlbnQpO1xuXG4gICAgICB2YXIgb25Ib3ZlclByb3BzID0ge307XG4gICAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcbiAgICAgICAgb25Ib3ZlclByb3BzLm9uSG92ZXIgPSB0aGlzLmhhbmRsZVJvd0hvdmVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGVpZ2h0ID0gZml4ZWQgJiYgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gPyBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFtpXSA6IG51bGw7XG5cbiAgICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcbiAgICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuICAgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuICAgICAgfVxuXG4gICAgICByc3QucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7XG4gICAgICAgIGluZGVudDogaW5kZW50LFxuICAgICAgICBpbmRlbnRTaXplOiBwcm9wcy5pbmRlbnRTaXplLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGw6IGV4cGFuZEljb25Bc0NlbGwsXG4gICAgICAgIG9uRGVzdHJveTogdGhpcy5vblJvd0Rlc3Ryb3ksXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBleHBhbmRSb3dCeUNsaWNrOiBleHBhbmRSb3dCeUNsaWNrLFxuICAgICAgICBvbkV4cGFuZDogdGhpcy5vbkV4cGFuZGVkLFxuICAgICAgICBleHBhbmRhYmxlOiBjaGlsZHJlbkNvbHVtbiB8fCBleHBhbmRlZFJvd1JlbmRlcixcbiAgICAgICAgZXhwYW5kZWQ6IGlzUm93RXhwYW5kZWQsXG4gICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1yb3cnLFxuICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWU6IGNoaWxkcmVuQ29sdW1uTmFtZSxcbiAgICAgICAgY29sdW1uczogbGVhZkNvbHVtbnMsXG4gICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuICAgICAgICBvblJvd0NsaWNrOiBvblJvd0NsaWNrLFxuICAgICAgICBvblJvd0RvdWJsZUNsaWNrOiBvblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfSwgb25Ib3ZlclByb3BzLCB7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBob3ZlcktleToga2V5LFxuICAgICAgICByZWY6IHJvd1JlZihyZWNvcmQsIGksIGluZGVudCksXG4gICAgICAgIHN0b3JlOiB0aGlzLnN0b3JlXG4gICAgICB9KSkpO1xuXG4gICAgICB2YXIgc3ViVmlzaWJsZSA9IHZpc2libGUgJiYgaXNSb3dFeHBhbmRlZDtcblxuICAgICAgaWYgKGV4cGFuZGVkUm93Q29udGVudCAmJiBpc1Jvd0V4cGFuZGVkKSB7XG4gICAgICAgIHJzdC5wdXNoKHRoaXMuZ2V0RXhwYW5kZWRSb3coa2V5LCBleHBhbmRlZFJvd0NvbnRlbnQsIHN1YlZpc2libGUsIGV4cGFuZGVkUm93Q2xhc3NOYW1lKHJlY29yZCwgaSwgaW5kZW50KSwgZml4ZWQpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZHJlbkNvbHVtbikge1xuICAgICAgICByc3QgPSByc3QuY29uY2F0KHRoaXMuZ2V0Um93c0J5RGF0YShjaGlsZHJlbkNvbHVtbiwgc3ViVmlzaWJsZSwgaW5kZW50ICsgMSwgY29sdW1ucywgZml4ZWQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJzdDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93cyA9IGZ1bmN0aW9uIGdldFJvd3MoY29sdW1ucywgZml4ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSb3dzQnlEYXRhKHRoaXMucHJvcHMuZGF0YSwgdHJ1ZSwgMCwgY29sdW1ucywgZml4ZWQpO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRDb2xHcm91cCA9IGZ1bmN0aW9uIGdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgdmFyIGNvbHMgPSBbXTtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG4gICAgICBjb2xzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywge1xuICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jb2wnLFxuICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jb2wnXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcbiAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCk7XG4gICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuICAgIH1cbiAgICBjb2xzID0gY29scy5jb25jYXQobGVhZkNvbHVtbnMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywgeyBrZXk6IGMua2V5LCBzdHlsZTogeyB3aWR0aDogYy53aWR0aCwgbWluV2lkdGg6IGMud2lkdGggfSB9KTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnY29sZ3JvdXAnLFxuICAgICAgbnVsbCxcbiAgICAgIGNvbHNcbiAgICApO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRMZWZ0Rml4ZWRUYWJsZSA9IGZ1bmN0aW9uIGdldExlZnRGaXhlZFRhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcbiAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0Q29sdW1ucygpLFxuICAgICAgZml4ZWQ6ICdsZWZ0J1xuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRSaWdodEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRSaWdodEZpeGVkVGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoe1xuICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0Q29sdW1ucygpLFxuICAgICAgZml4ZWQ6ICdyaWdodCdcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0VGFibGUgPSBmdW5jdGlvbiBnZXRUYWJsZSgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucyxcbiAgICAgICAgZml4ZWQgPSBvcHRpb25zLmZpeGVkO1xuICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgIF9wcm9wczMkc2Nyb2xsID0gX3Byb3BzMy5zY3JvbGwsXG4gICAgICAgIHNjcm9sbCA9IF9wcm9wczMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wczMkc2Nyb2xsLFxuICAgICAgICBnZXRCb2R5V3JhcHBlciA9IF9wcm9wczMuZ2V0Qm9keVdyYXBwZXI7XG4gICAgdmFyIHVzZUZpeGVkSGVhZGVyID0gdGhpcy5wcm9wcy51c2VGaXhlZEhlYWRlcjtcblxuICAgIHZhciBib2R5U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5ib2R5U3R5bGUpO1xuICAgIHZhciBoZWFkU3R5bGUgPSB7fTtcblxuICAgIHZhciB0YWJsZUNsYXNzTmFtZSA9ICcnO1xuICAgIGlmIChzY3JvbGwueCB8fCBmaXhlZCkge1xuICAgICAgdGFibGVDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLWZpeGVkJztcbiAgICAgIGJvZHlTdHlsZS5vdmVyZmxvd1ggPSBib2R5U3R5bGUub3ZlcmZsb3dYIHx8ICdhdXRvJztcbiAgICB9XG5cbiAgICB2YXIgaW5uZXJCb2R5U3R5bGUgPSB7fTtcbiAgICBpZiAoc2Nyb2xsLnkpIHtcbiAgICAgIC8vIG1heEhlaWdodCB3aWxsIG1ha2UgZml4ZWQtVGFibGUgc2Nyb2xsaW5nIG5vdCB3b3JraW5nXG4gICAgICAvLyBzbyB3ZSBvbmx5IHNldCBtYXhIZWlnaHQgdG8gYm9keS1UYWJsZSBoZXJlXG4gICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgaW5uZXJCb2R5U3R5bGUubWF4SGVpZ2h0ID0gYm9keVN0eWxlLm1heEhlaWdodCB8fCBzY3JvbGwueTtcbiAgICAgICAgaW5uZXJCb2R5U3R5bGUub3ZlcmZsb3dZID0gYm9keVN0eWxlLm92ZXJmbG93WSB8fCAnc2Nyb2xsJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuICAgICAgfVxuICAgICAgYm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG4gICAgICB1c2VGaXhlZEhlYWRlciA9IHRydWU7XG5cbiAgICAgIC8vIEFkZCBuZWdhdGl2ZSBtYXJnaW4gYm90dG9tIGZvciBzY3JvbGwgYmFyIG92ZXJmbG93IGJ1Z1xuICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gKDAsIF91dGlscy5tZWFzdXJlU2Nyb2xsYmFyKSgpO1xuICAgICAgaWYgKHNjcm9sbGJhcldpZHRoID4gMCkge1xuICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLm1hcmdpbkJvdHRvbSA9ICctJyArIHNjcm9sbGJhcldpZHRoICsgJ3B4JztcbiAgICAgICAgKGZpeGVkID8gYm9keVN0eWxlIDogaGVhZFN0eWxlKS5wYWRkaW5nQm90dG9tID0gJzBweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlclRhYmxlID0gZnVuY3Rpb24gcmVuZGVyVGFibGUoKSB7XG4gICAgICB2YXIgaGFzSGVhZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgIHZhciBoYXNCb2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgICB2YXIgdGFibGVTdHlsZSA9IHt9O1xuICAgICAgaWYgKCFmaXhlZCAmJiBzY3JvbGwueCkge1xuICAgICAgICAvLyBub3Qgc2V0IHdpZHRoLCB0aGVuIHVzZSBjb250ZW50IGZpeGVkIHdpZHRoXG4gICAgICAgIGlmIChzY3JvbGwueCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRhYmxlU3R5bGUudGFibGVMYXlvdXQgPSAnZml4ZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYmxlU3R5bGUud2lkdGggPSBzY3JvbGwueDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHRhYmxlQm9keSA9IGhhc0JvZHkgPyBnZXRCb2R5V3JhcHBlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndGJvZHknLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcbiAgICAgICAgX3RoaXMzLmdldFJvd3MoY29sdW1ucywgZml4ZWQpXG4gICAgICApKSA6IG51bGw7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NOYW1lLCBzdHlsZTogdGFibGVTdHlsZSwga2V5OiAndGFibGUnIH0sXG4gICAgICAgIF90aGlzMy5nZXRDb2xHcm91cChjb2x1bW5zLCBmaXhlZCksXG4gICAgICAgIGhhc0hlYWQgPyBfdGhpczMuZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSA6IG51bGwsXG4gICAgICAgIHRhYmxlQm9keVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGhlYWRUYWJsZSA9IHZvaWQgMDtcblxuICAgIGlmICh1c2VGaXhlZEhlYWRlcikge1xuICAgICAgaGVhZFRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6ICdoZWFkVGFibGUnLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLFxuICAgICAgICAgIHJlZjogZml4ZWQgPyBudWxsIDogJ2hlYWRUYWJsZScsXG4gICAgICAgICAgc3R5bGU6IGhlYWRTdHlsZSxcbiAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclRhYmxlKHRydWUsIGZhbHNlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsXG4gICAgICAgIHN0eWxlOiBib2R5U3R5bGUsXG4gICAgICAgIHJlZjogJ2JvZHlUYWJsZScsXG4gICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuICAgICAgfSxcbiAgICAgIHJlbmRlclRhYmxlKCF1c2VGaXhlZEhlYWRlcilcbiAgICApO1xuXG4gICAgaWYgKGZpeGVkICYmIGNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICB2YXIgcmVmTmFtZSA9IHZvaWQgMDtcbiAgICAgIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uc1swXS5maXhlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlMZWZ0JztcbiAgICAgIH0gZWxzZSBpZiAoY29sdW1uc1swXS5maXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlSaWdodCc7XG4gICAgICB9XG4gICAgICBkZWxldGUgYm9keVN0eWxlLm92ZXJmbG93WDtcbiAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dZO1xuICAgICAgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LW91dGVyJyxcbiAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIGJvZHlTdHlsZSlcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1pbm5lcicsXG4gICAgICAgICAgICBzdHlsZTogaW5uZXJCb2R5U3R5bGUsXG4gICAgICAgICAgICByZWY6IHJlZk5hbWUsXG4gICAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW2hlYWRUYWJsZSwgYm9keVRhYmxlXTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIHRpdGxlID0gX3Byb3BzNC50aXRsZSxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHM7XG5cbiAgICByZXR1cm4gdGl0bGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScsIGtleTogJ3RpdGxlJyB9LFxuICAgICAgdGl0bGUodGhpcy5wcm9wcy5kYXRhKVxuICAgICkgOiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRGb290ZXIgPSBmdW5jdGlvbiBnZXRGb290ZXIoKSB7XG4gICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICBmb290ZXIgPSBfcHJvcHM1LmZvb3RlcixcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNS5wcmVmaXhDbHM7XG5cbiAgICByZXR1cm4gZm9vdGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJywga2V5OiAnZm9vdGVyJyB9LFxuICAgICAgZm9vdGVyKHRoaXMucHJvcHMuZGF0YSlcbiAgICApIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0RW1wdHlUZXh0ID0gZnVuY3Rpb24gZ2V0RW1wdHlUZXh0KCkge1xuICAgIHZhciBfcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZW1wdHlUZXh0ID0gX3Byb3BzNi5lbXB0eVRleHQsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczYucHJlZml4Q2xzLFxuICAgICAgICBkYXRhID0gX3Byb3BzNi5kYXRhO1xuXG4gICAgcmV0dXJuICFkYXRhLmxlbmd0aCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBsYWNlaG9sZGVyJywga2V5OiAnZW1wdHlUZXh0JyB9LFxuICAgICAgZW1wdHlUZXh0KClcbiAgICApIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93U3R5bGUgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dTdHlsZShjb2x1bW5zLCByb3dzKSB7XG4gICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDtcblxuICAgIHZhciBoZWFkZXJIZWlnaHQgPSBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodFswXTtcbiAgICBpZiAoaGVhZGVySGVpZ2h0ICYmIGNvbHVtbnMpIHtcbiAgICAgIGlmIChoZWFkZXJIZWlnaHQgPT09ICdhdXRvJykge1xuICAgICAgICByZXR1cm4geyBoZWlnaHQ6ICdhdXRvJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgLyByb3dzLmxlbmd0aCB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb24gPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICBpZiAodGhpcy50YWJsZU5vZGUpIHtcbiAgICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblxuICAgICAgaWYgKHBvc2l0aW9uID09PSAnYm90aCcpIHtcbiAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQnKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRhYmxlTm9kZSkucmVtb3ZlKG5ldyBSZWdFeHAoJ14nICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tLiskJykpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgcG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUgPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSh0YXJnZXQpIHtcbiAgICB2YXIgbm9kZSA9IHRhcmdldCB8fCB0aGlzLnJlZnMuYm9keVRhYmxlO1xuICAgIHZhciBzY3JvbGxUb0xlZnQgPSBub2RlLnNjcm9sbExlZnQgPT09IDA7XG4gICAgdmFyIHNjcm9sbFRvUmlnaHQgPSBub2RlLnNjcm9sbExlZnQgKyAxID49IG5vZGUuY2hpbGRyZW5bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGlmIChzY3JvbGxUb0xlZnQgJiYgc2Nyb2xsVG9SaWdodCkge1xuICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignYm90aCcpO1xuICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9MZWZ0KSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdsZWZ0Jyk7XG4gICAgfSBlbHNlIGlmIChzY3JvbGxUb1JpZ2h0KSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdyaWdodCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiAhPT0gJ21pZGRsZScpIHtcbiAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ21pZGRsZScpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUucmVzZXRTY3JvbGxYID0gZnVuY3Rpb24gcmVzZXRTY3JvbGxYKCkge1xuICAgIGlmICh0aGlzLnJlZnMuaGVhZFRhYmxlKSB7XG4gICAgICB0aGlzLnJlZnMuaGVhZFRhYmxlLnNjcm9sbExlZnQgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWZzLmJvZHlUYWJsZSkge1xuICAgICAgdGhpcy5yZWZzLmJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmZpbmRFeHBhbmRlZFJvdyA9IGZ1bmN0aW9uIGZpbmRFeHBhbmRlZFJvdyhyZWNvcmQsIGluZGV4KSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB2YXIgcm93cyA9IHRoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaSA9PT0gX3RoaXM0LmdldFJvd0tleShyZWNvcmQsIGluZGV4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcm93c1swXTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuaXNSb3dFeHBhbmRlZCA9IGZ1bmN0aW9uIGlzUm93RXhwYW5kZWQocmVjb3JkLCBpbmRleCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkLCBpbmRleCkgIT09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5oYXNTY3JvbGxYID0gZnVuY3Rpb24gaGFzU2Nyb2xsWCgpIHtcbiAgICB2YXIgX3Byb3BzJHNjcm9sbCA9IHRoaXMucHJvcHMuc2Nyb2xsLFxuICAgICAgICBzY3JvbGwgPSBfcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRzY3JvbGw7XG5cbiAgICByZXR1cm4gJ3gnIGluIHNjcm9sbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLnByZWZpeENscztcbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuICAgIH1cbiAgICBpZiAocHJvcHMudXNlRml4ZWRIZWFkZXIgfHwgcHJvcHMuc2Nyb2xsICYmIHByb3BzLnNjcm9sbC55KSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1maXhlZC1oZWFkZXInO1xuICAgIH1cbiAgICBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tbGVmdCAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHRoaXMuc2Nyb2xsUG9zaXRpb247XG4gICAgfVxuXG4gICAgdmFyIGlzVGFibGVTY3JvbGwgPSB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSB8fCBwcm9wcy5zY3JvbGwueCB8fCBwcm9wcy5zY3JvbGwueTtcblxuICAgIHZhciBjb250ZW50ID0gW3RoaXMuZ2V0VGFibGUoeyBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIuZ3JvdXBlZENvbHVtbnMoKSB9KSwgdGhpcy5nZXRFbXB0eVRleHQoKSwgdGhpcy5nZXRGb290ZXIoKV07XG5cbiAgICB2YXIgc2Nyb2xsVGFibGUgPSBpc1RhYmxlU2Nyb2xsID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2Nyb2xsJyB9LFxuICAgICAgY29udGVudFxuICAgICkgOiBjb250ZW50O1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUudGFibGVOb2RlID0gbm9kZTtcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuICAgICAgdGhpcy5nZXRUaXRsZSgpLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG4gICAgICAgIHNjcm9sbFRhYmxlLFxuICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1sZWZ0JyB9LFxuICAgICAgICAgIHRoaXMuZ2V0TGVmdEZpeGVkVGFibGUoKVxuICAgICAgICApLFxuICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtcmlnaHQnIH0sXG4gICAgICAgICAgdGhpcy5nZXRSaWdodEZpeGVkVGFibGUoKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gVGFibGU7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlLnByb3BUeXBlcyA9IHtcbiAgZGF0YTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgZXhwYW5kSWNvbkFzQ2VsbDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBkZWZhdWx0RXhwYW5kQWxsUm93czogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBleHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIHVzZUZpeGVkSGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGJvZHlTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93S2V5OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMuZnVuY10pLFxuICByb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW5Db2x1bW5OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG9uUm93Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBzaG93SGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBlbXB0eVRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2Nyb2xsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93UmVmOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGdldEJvZHlXcmFwcGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbn07XG5UYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGRhdGE6IFtdLFxuICB1c2VGaXhlZEhlYWRlcjogZmFsc2UsXG4gIGV4cGFuZEljb25Bc0NlbGw6IGZhbHNlLFxuICBkZWZhdWx0RXhwYW5kQWxsUm93czogZmFsc2UsXG4gIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IFtdLFxuICByb3dLZXk6ICdrZXknLFxuICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0sXG4gIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiBleHBhbmRlZFJvd0NsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0sXG4gIG9uRXhwYW5kOiBmdW5jdGlvbiBvbkV4cGFuZCgpIHt9LFxuICBvbkV4cGFuZGVkUm93c0NoYW5nZTogZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoKSB7fSxcbiAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljaygpIHt9LFxuICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cbiAgcHJlZml4Q2xzOiAncmMtdGFibGUnLFxuICBib2R5U3R5bGU6IHt9LFxuICBzdHlsZToge30sXG4gIGNoaWxkcmVuQ29sdW1uTmFtZTogJ2NoaWxkcmVuJyxcbiAgaW5kZW50U2l6ZTogMTUsXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcbiAgc2hvd0hlYWRlcjogdHJ1ZSxcbiAgc2Nyb2xsOiB7fSxcbiAgcm93UmVmOiBmdW5jdGlvbiByb3dSZWYoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGdldEJvZHlXcmFwcGVyOiBmdW5jdGlvbiBnZXRCb2R5V3JhcHBlcihib2R5KSB7XG4gICAgcmV0dXJuIGJvZHk7XG4gIH0sXG4gIGVtcHR5VGV4dDogZnVuY3Rpb24gZW1wdHlUZXh0KCkge1xuICAgIHJldHVybiAnTm8gRGF0YSc7XG4gIH1cbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZUNlbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGVDZWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZUNlbGwoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUNlbGwpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcbiAgICAgICAgICBvbkNlbGxDbGljayA9IF90aGlzJHByb3BzLmNvbHVtbi5vbkNlbGxDbGljaztcblxuICAgICAgaWYgKG9uQ2VsbENsaWNrKSB7XG4gICAgICAgIG9uQ2VsbENsaWNrKHJlY29yZCwgZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBUYWJsZUNlbGwucHJvdG90eXBlLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0ID0gZnVuY3Rpb24gaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0ICYmICFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudCh0ZXh0KSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9O1xuXG4gIFRhYmxlQ2VsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkLFxuICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzLmluZGVudFNpemUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGluZGVudCA9IF9wcm9wcy5pbmRlbnQsXG4gICAgICAgIGluZGV4ID0gX3Byb3BzLmluZGV4LFxuICAgICAgICBleHBhbmRJY29uID0gX3Byb3BzLmV4cGFuZEljb24sXG4gICAgICAgIGNvbHVtbiA9IF9wcm9wcy5jb2x1bW47XG4gICAgdmFyIGRhdGFJbmRleCA9IGNvbHVtbi5kYXRhSW5kZXgsXG4gICAgICAgIHJlbmRlciA9IGNvbHVtbi5yZW5kZXIsXG4gICAgICAgIF9jb2x1bW4kY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX2NvbHVtbiRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX2NvbHVtbiRjbGFzc05hbWU7XG5cbiAgICAvLyBXZSBzaG91bGQgcmV0dXJuIHVuZGVmaW5lZCBpZiBubyBkYXRhSW5kZXggaXMgc3BlY2lmaWVkLCBidXQgaW4gb3JkZXIgdG9cbiAgICAvLyBiZSBjb21wYXRpYmxlIHdpdGggb2JqZWN0LXBhdGgncyBiZWhhdmlvciwgd2UgcmV0dXJuIHRoZSByZWNvcmQgb2JqZWN0IGluc3RlYWQuXG5cbiAgICB2YXIgdGV4dCA9IHZvaWQgMDtcbiAgICBpZiAodHlwZW9mIGRhdGFJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG4gICAgfSBlbHNlIGlmICghZGF0YUluZGV4IHx8IGRhdGFJbmRleC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRleHQgPSByZWNvcmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG4gICAgfVxuICAgIHZhciB0ZFByb3BzID0gdm9pZCAwO1xuICAgIHZhciBjb2xTcGFuID0gdm9pZCAwO1xuICAgIHZhciByb3dTcGFuID0gdm9pZCAwO1xuXG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgdGV4dCA9IHJlbmRlcih0ZXh0LCByZWNvcmQsIGluZGV4KTtcbiAgICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG4gICAgICAgIHRkUHJvcHMgPSB0ZXh0LnByb3BzIHx8IHt9O1xuICAgICAgICByb3dTcGFuID0gdGRQcm9wcy5yb3dTcGFuO1xuICAgICAgICBjb2xTcGFuID0gdGRQcm9wcy5jb2xTcGFuO1xuICAgICAgICB0ZXh0ID0gdGV4dC5jaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTIwMlxuICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG4gICAgICB0ZXh0ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZW50VGV4dCA9IGV4cGFuZEljb24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IGluZGVudFNpemUgKiBpbmRlbnQgKyAncHgnIH0sXG4gICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5kZW50IGluZGVudC1sZXZlbC0nICsgaW5kZW50XG4gICAgfSkgOiBudWxsO1xuXG4gICAgaWYgKHJvd1NwYW4gPT09IDAgfHwgY29sU3BhbiA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RkJyxcbiAgICAgIHtcbiAgICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgICAgcm93U3Bhbjogcm93U3BhbixcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tcbiAgICAgIH0sXG4gICAgICBpbmRlbnRUZXh0LFxuICAgICAgZXhwYW5kSWNvbixcbiAgICAgIHRleHRcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZUNlbGw7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlQ2VsbC5wcm9wVHlwZXMgPSB7XG4gIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGNvbHVtbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIGV4cGFuZEljb246IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVDZWxsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlQ2VsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3NoYWxsb3dlcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xuXG52YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZUhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZUhlYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGVIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlSGVhZGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgVGFibGVIZWFkZXIucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgVGFibGVIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgcm93U3R5bGUgPSBfcHJvcHMucm93U3R5bGUsXG4gICAgICAgIHJvd3MgPSBfcHJvcHMucm93cztcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RoZWFkJyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRoZWFkJyB9LFxuICAgICAgcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RyJyxcbiAgICAgICAgICB7IGtleTogaW5kZXgsIHN0eWxlOiByb3dTdHlsZSB9LFxuICAgICAgICAgIHJvdy5tYXAoZnVuY3Rpb24gKGNlbGxQcm9wcywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3RoJywgX2V4dGVuZHMoe30sIGNlbGxQcm9wcywgeyBrZXk6IGkgfSkpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlSGVhZGVyO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5UYWJsZUhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHJvd1N0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93czogX3JlYWN0LlByb3BUeXBlcy5hcnJheVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVIZWFkZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGVIZWFkZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9UYWJsZUNlbGwgPSByZXF1aXJlKCcuL1RhYmxlQ2VsbCcpO1xuXG52YXIgX1RhYmxlQ2VsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUNlbGwpO1xuXG52YXIgX0V4cGFuZEljb24gPSByZXF1aXJlKCcuL0V4cGFuZEljb24nKTtcblxudmFyIF9FeHBhbmRJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuZEljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZVJvdyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZVJvdywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGVSb3coKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZVJvdyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcmVkOiBmYWxzZVxuICAgIH0sIF90aGlzLm9uUm93Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcbiAgICAgICAgICBpbmRleCA9IF90aGlzJHByb3BzLmluZGV4LFxuICAgICAgICAgIG9uUm93Q2xpY2sgPSBfdGhpcyRwcm9wcy5vblJvd0NsaWNrLFxuICAgICAgICAgIGV4cGFuZGFibGUgPSBfdGhpcyRwcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfdGhpcyRwcm9wcy5leHBhbmRSb3dCeUNsaWNrLFxuICAgICAgICAgIGV4cGFuZGVkID0gX3RoaXMkcHJvcHMuZXhwYW5kZWQsXG4gICAgICAgICAgb25FeHBhbmQgPSBfdGhpcyRwcm9wcy5vbkV4cGFuZDtcblxuICAgICAgaWYgKGV4cGFuZGFibGUgJiYgZXhwYW5kUm93QnlDbGljaykge1xuICAgICAgICBvbkV4cGFuZCghZXhwYW5kZWQsIHJlY29yZCwgZXZlbnQsIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIG9uUm93Q2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuICAgIH0sIF90aGlzLm9uUm93RG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wczIucmVjb3JkLFxuICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMyLmluZGV4LFxuICAgICAgICAgIG9uUm93RG91YmxlQ2xpY2sgPSBfdGhpcyRwcm9wczIub25Sb3dEb3VibGVDbGljaztcblxuICAgICAgb25Sb3dEb3VibGVDbGljayhyZWNvcmQsIGluZGV4LCBldmVudCk7XG4gICAgfSwgX3RoaXMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczMub25Ib3ZlcixcbiAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzMy5ob3ZlcktleTtcblxuICAgICAgb25Ib3Zlcih0cnVlLCBob3ZlcktleSk7XG4gICAgfSwgX3RoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczQub25Ib3ZlcixcbiAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzNC5ob3ZlcktleTtcblxuICAgICAgb25Ib3ZlcihmYWxzZSwgaG92ZXJLZXkpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgVGFibGVSb3cucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG4gICAgICAgIGhvdmVyS2V5ID0gX3Byb3BzLmhvdmVyS2V5O1xuXG4gICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5jdXJyZW50SG92ZXJLZXkgPT09IGhvdmVyS2V5KSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IHRydWUgfSk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZS5ob3ZlcmVkID09PSB0cnVlKSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IGZhbHNlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcmVjb3JkID0gX3Byb3BzMi5yZWNvcmQsXG4gICAgICAgIG9uRGVzdHJveSA9IF9wcm9wczIub25EZXN0cm95LFxuICAgICAgICBpbmRleCA9IF9wcm9wczIuaW5kZXg7XG5cbiAgICBvbkRlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG4gICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGVSb3cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuICAgICAgICBjb2x1bW5zID0gX3Byb3BzMy5jb2x1bW5zLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMzLnJlY29yZCxcbiAgICAgICAgaGVpZ2h0ID0gX3Byb3BzMy5oZWlnaHQsXG4gICAgICAgIHZpc2libGUgPSBfcHJvcHMzLnZpc2libGUsXG4gICAgICAgIGluZGV4ID0gX3Byb3BzMy5pbmRleCxcbiAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gX3Byb3BzMy5leHBhbmRJY29uQ29sdW1uSW5kZXgsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMzLmV4cGFuZEljb25Bc0NlbGwsXG4gICAgICAgIGV4cGFuZGVkID0gX3Byb3BzMy5leHBhbmRlZCxcbiAgICAgICAgZXhwYW5kUm93QnlDbGljayA9IF9wcm9wczMuZXhwYW5kUm93QnlDbGljayxcbiAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wczMuZXhwYW5kYWJsZSxcbiAgICAgICAgb25FeHBhbmQgPSBfcHJvcHMzLm9uRXhwYW5kLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzMy5uZWVkSW5kZW50U3BhY2VkLFxuICAgICAgICBpbmRlbnQgPSBfcHJvcHMzLmluZGVudCxcbiAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wczMuaW5kZW50U2l6ZTtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG5cblxuICAgIGlmICh0aGlzLnN0YXRlLmhvdmVyZWQpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWhvdmVyJztcbiAgICB9XG5cbiAgICB2YXIgY2VsbHMgPSBbXTtcblxuICAgIHZhciBleHBhbmRJY29uID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRXhwYW5kSWNvbjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBleHBhbmRhYmxlOiBleHBhbmRhYmxlLFxuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBvbkV4cGFuZDogb25FeHBhbmQsXG4gICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgcmVjb3JkOiByZWNvcmRcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgaSA9PT0gMCkge1xuICAgICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RkJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24tY2VsbCcsXG4gICAgICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jZWxsJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwYW5kSWNvblxuICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID0gZXhwYW5kSWNvbkFzQ2VsbCB8fCBleHBhbmRSb3dCeUNsaWNrID8gZmFsc2UgOiBpID09PSBleHBhbmRJY29uQ29sdW1uSW5kZXg7XG4gICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlQ2VsbDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgaW5kZW50U2l6ZTogaW5kZW50U2l6ZSxcbiAgICAgICAgaW5kZW50OiBpbmRlbnQsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY29sdW1uOiBjb2x1bW5zW2ldLFxuICAgICAgICBrZXk6IGNvbHVtbnNbaV0ua2V5LFxuICAgICAgICBleHBhbmRJY29uOiBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID8gZXhwYW5kSWNvbiA6IG51bGxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIHN0eWxlID0geyBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0cicsXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3dDbGljayxcbiAgICAgICAgb25Eb3VibGVDbGljazogdGhpcy5vblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIGNsYXNzTmFtZSArICcgJyArIHByZWZpeENscyArICctbGV2ZWwtJyArIGluZGVudCxcbiAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICB9LFxuICAgICAgY2VsbHNcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZVJvdztcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuVGFibGVSb3cucHJvcFR5cGVzID0ge1xuICBvbkRlc3Ryb3k6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvblJvd0RvdWJsZUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG9uSG92ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY29sdW1uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgaGVpZ2h0OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyXSksXG4gIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgaW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBob3ZlcktleTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGV4cGFuZGFibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGluZGVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGV4cGFuZFJvd0J5Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgc3RvcmU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcbiAgb25Sb3dEb3VibGVDbGljazogZnVuY3Rpb24gb25Sb3dEb3VibGVDbGljaygpIHt9LFxuICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxuXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcbiAgZXhwYW5kUm93QnlDbGljazogZmFsc2UsXG4gIG9uSG92ZXI6IGZ1bmN0aW9uIG9uSG92ZXIoKSB7fVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVSb3c7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGVSb3cuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG4gICAgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUsIHBhcnRpYWwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlXG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1lYXN1cmVTY3JvbGxiYXIgPSBtZWFzdXJlU2Nyb2xsYmFyO1xuZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuZXhwb3J0cy53YXJuaW5nT25jZSA9IHdhcm5pbmdPbmNlO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBzY3JvbGxiYXJXaWR0aCA9IHZvaWQgMDtcblxuLy8gTWVhc3VyZSBzY3JvbGxiYXIgd2lkdGggZm9yIHBhZGRpbmcgYm9keSBkdXJpbmcgbW9kYWwgc2hvdy9oaWRlXG52YXIgc2Nyb2xsYmFyTWVhc3VyZSA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogJy05OTk5cHgnLFxuICB3aWR0aDogJzUwcHgnLFxuICBoZWlnaHQ6ICc1MHB4JyxcbiAgb3ZlcmZsb3c6ICdzY3JvbGwnXG59O1xuXG5mdW5jdGlvbiBtZWFzdXJlU2Nyb2xsYmFyKCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChzY3JvbGxiYXJXaWR0aCkge1xuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgfVxuICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvciAodmFyIHNjcm9sbFByb3AgaW4gc2Nyb2xsYmFyTWVhc3VyZSkge1xuICAgIGlmIChzY3JvbGxiYXJNZWFzdXJlLmhhc093blByb3BlcnR5KHNjcm9sbFByb3ApKSB7XG4gICAgICBzY3JvbGxEaXYuc3R5bGVbc2Nyb2xsUHJvcF0gPSBzY3JvbGxiYXJNZWFzdXJlW3Njcm9sbFByb3BdO1xuICAgIH1cbiAgfVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gIHZhciB3aWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuICBzY3JvbGxiYXJXaWR0aCA9IHdpZHRoO1xuICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICB2YXIgdGltZW91dCA9IHZvaWQgMDtcbiAgZnVuY3Rpb24gZGVib3VuY2VGdW5jKCkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAvLyBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmdcbiAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdLnBlcnNpc3QpIHtcbiAgICAgIGFyZ3NbMF0ucGVyc2lzdCgpO1xuICAgIH1cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfVxuICB9XG4gIGRlYm91bmNlRnVuYy5jYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGRlYm91bmNlRnVuYztcbn1cblxudmFyIHdhcm5lZCA9IHt9O1xuZnVuY3Rpb24gd2FybmluZ09uY2UoY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgaWYgKCF3YXJuZWRbZm9ybWF0XSkge1xuICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjb25kaXRpb24sIGZvcm1hdCwgYXJncyk7XG4gICAgd2FybmVkW2Zvcm1hdF0gPSAhY29uZGl0aW9uO1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL3V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0b0FycmF5O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcbiAgICByZXQucHVzaChjKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy11dGlsL2xpYi9DaGlsZHJlbi90b0FycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMTQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiBAaWdub3JlXG4gKiBzb21lIGtleS1jb2RlcyBkZWZpbml0aW9uIGFuZCB1dGlscyBmcm9tIGNsb3N1cmUtbGlicmFyeVxuICogQGF1dGhvciB5aW1pbmdoZUBnbWFpbC5jb21cbiAqL1xuXG52YXIgS2V5Q29kZSA9IHtcbiAgLyoqXG4gICAqIE1BQ19FTlRFUlxuICAgKi9cbiAgTUFDX0VOVEVSOiAzLFxuICAvKipcbiAgICogQkFDS1NQQUNFXG4gICAqL1xuICBCQUNLU1BBQ0U6IDgsXG4gIC8qKlxuICAgKiBUQUJcbiAgICovXG4gIFRBQjogOSxcbiAgLyoqXG4gICAqIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuICAgKi9cbiAgTlVNX0NFTlRFUjogMTIsIC8vIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuICAvKipcbiAgICogRU5URVJcbiAgICovXG4gIEVOVEVSOiAxMyxcbiAgLyoqXG4gICAqIFNISUZUXG4gICAqL1xuICBTSElGVDogMTYsXG4gIC8qKlxuICAgKiBDVFJMXG4gICAqL1xuICBDVFJMOiAxNyxcbiAgLyoqXG4gICAqIEFMVFxuICAgKi9cbiAgQUxUOiAxOCxcbiAgLyoqXG4gICAqIFBBVVNFXG4gICAqL1xuICBQQVVTRTogMTksXG4gIC8qKlxuICAgKiBDQVBTX0xPQ0tcbiAgICovXG4gIENBUFNfTE9DSzogMjAsXG4gIC8qKlxuICAgKiBFU0NcbiAgICovXG4gIEVTQzogMjcsXG4gIC8qKlxuICAgKiBTUEFDRVxuICAgKi9cbiAgU1BBQ0U6IDMyLFxuICAvKipcbiAgICogUEFHRV9VUFxuICAgKi9cbiAgUEFHRV9VUDogMzMsIC8vIGFsc28gTlVNX05PUlRIX0VBU1RcbiAgLyoqXG4gICAqIFBBR0VfRE9XTlxuICAgKi9cbiAgUEFHRV9ET1dOOiAzNCwgLy8gYWxzbyBOVU1fU09VVEhfRUFTVFxuICAvKipcbiAgICogRU5EXG4gICAqL1xuICBFTkQ6IDM1LCAvLyBhbHNvIE5VTV9TT1VUSF9XRVNUXG4gIC8qKlxuICAgKiBIT01FXG4gICAqL1xuICBIT01FOiAzNiwgLy8gYWxzbyBOVU1fTk9SVEhfV0VTVFxuICAvKipcbiAgICogTEVGVFxuICAgKi9cbiAgTEVGVDogMzcsIC8vIGFsc28gTlVNX1dFU1RcbiAgLyoqXG4gICAqIFVQXG4gICAqL1xuICBVUDogMzgsIC8vIGFsc28gTlVNX05PUlRIXG4gIC8qKlxuICAgKiBSSUdIVFxuICAgKi9cbiAgUklHSFQ6IDM5LCAvLyBhbHNvIE5VTV9FQVNUXG4gIC8qKlxuICAgKiBET1dOXG4gICAqL1xuICBET1dOOiA0MCwgLy8gYWxzbyBOVU1fU09VVEhcbiAgLyoqXG4gICAqIFBSSU5UX1NDUkVFTlxuICAgKi9cbiAgUFJJTlRfU0NSRUVOOiA0NCxcbiAgLyoqXG4gICAqIElOU0VSVFxuICAgKi9cbiAgSU5TRVJUOiA0NSwgLy8gYWxzbyBOVU1fSU5TRVJUXG4gIC8qKlxuICAgKiBERUxFVEVcbiAgICovXG4gIERFTEVURTogNDYsIC8vIGFsc28gTlVNX0RFTEVURVxuICAvKipcbiAgICogWkVST1xuICAgKi9cbiAgWkVSTzogNDgsXG4gIC8qKlxuICAgKiBPTkVcbiAgICovXG4gIE9ORTogNDksXG4gIC8qKlxuICAgKiBUV09cbiAgICovXG4gIFRXTzogNTAsXG4gIC8qKlxuICAgKiBUSFJFRVxuICAgKi9cbiAgVEhSRUU6IDUxLFxuICAvKipcbiAgICogRk9VUlxuICAgKi9cbiAgRk9VUjogNTIsXG4gIC8qKlxuICAgKiBGSVZFXG4gICAqL1xuICBGSVZFOiA1MyxcbiAgLyoqXG4gICAqIFNJWFxuICAgKi9cbiAgU0lYOiA1NCxcbiAgLyoqXG4gICAqIFNFVkVOXG4gICAqL1xuICBTRVZFTjogNTUsXG4gIC8qKlxuICAgKiBFSUdIVFxuICAgKi9cbiAgRUlHSFQ6IDU2LFxuICAvKipcbiAgICogTklORVxuICAgKi9cbiAgTklORTogNTcsXG4gIC8qKlxuICAgKiBRVUVTVElPTl9NQVJLXG4gICAqL1xuICBRVUVTVElPTl9NQVJLOiA2MywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBBXG4gICAqL1xuICBBOiA2NSxcbiAgLyoqXG4gICAqIEJcbiAgICovXG4gIEI6IDY2LFxuICAvKipcbiAgICogQ1xuICAgKi9cbiAgQzogNjcsXG4gIC8qKlxuICAgKiBEXG4gICAqL1xuICBEOiA2OCxcbiAgLyoqXG4gICAqIEVcbiAgICovXG4gIEU6IDY5LFxuICAvKipcbiAgICogRlxuICAgKi9cbiAgRjogNzAsXG4gIC8qKlxuICAgKiBHXG4gICAqL1xuICBHOiA3MSxcbiAgLyoqXG4gICAqIEhcbiAgICovXG4gIEg6IDcyLFxuICAvKipcbiAgICogSVxuICAgKi9cbiAgSTogNzMsXG4gIC8qKlxuICAgKiBKXG4gICAqL1xuICBKOiA3NCxcbiAgLyoqXG4gICAqIEtcbiAgICovXG4gIEs6IDc1LFxuICAvKipcbiAgICogTFxuICAgKi9cbiAgTDogNzYsXG4gIC8qKlxuICAgKiBNXG4gICAqL1xuICBNOiA3NyxcbiAgLyoqXG4gICAqIE5cbiAgICovXG4gIE46IDc4LFxuICAvKipcbiAgICogT1xuICAgKi9cbiAgTzogNzksXG4gIC8qKlxuICAgKiBQXG4gICAqL1xuICBQOiA4MCxcbiAgLyoqXG4gICAqIFFcbiAgICovXG4gIFE6IDgxLFxuICAvKipcbiAgICogUlxuICAgKi9cbiAgUjogODIsXG4gIC8qKlxuICAgKiBTXG4gICAqL1xuICBTOiA4MyxcbiAgLyoqXG4gICAqIFRcbiAgICovXG4gIFQ6IDg0LFxuICAvKipcbiAgICogVVxuICAgKi9cbiAgVTogODUsXG4gIC8qKlxuICAgKiBWXG4gICAqL1xuICBWOiA4NixcbiAgLyoqXG4gICAqIFdcbiAgICovXG4gIFc6IDg3LFxuICAvKipcbiAgICogWFxuICAgKi9cbiAgWDogODgsXG4gIC8qKlxuICAgKiBZXG4gICAqL1xuICBZOiA4OSxcbiAgLyoqXG4gICAqIFpcbiAgICovXG4gIFo6IDkwLFxuICAvKipcbiAgICogTUVUQVxuICAgKi9cbiAgTUVUQTogOTEsIC8vIFdJTl9LRVlfTEVGVFxuICAvKipcbiAgICogV0lOX0tFWV9SSUdIVFxuICAgKi9cbiAgV0lOX0tFWV9SSUdIVDogOTIsXG4gIC8qKlxuICAgKiBDT05URVhUX01FTlVcbiAgICovXG4gIENPTlRFWFRfTUVOVTogOTMsXG4gIC8qKlxuICAgKiBOVU1fWkVST1xuICAgKi9cbiAgTlVNX1pFUk86IDk2LFxuICAvKipcbiAgICogTlVNX09ORVxuICAgKi9cbiAgTlVNX09ORTogOTcsXG4gIC8qKlxuICAgKiBOVU1fVFdPXG4gICAqL1xuICBOVU1fVFdPOiA5OCxcbiAgLyoqXG4gICAqIE5VTV9USFJFRVxuICAgKi9cbiAgTlVNX1RIUkVFOiA5OSxcbiAgLyoqXG4gICAqIE5VTV9GT1VSXG4gICAqL1xuICBOVU1fRk9VUjogMTAwLFxuICAvKipcbiAgICogTlVNX0ZJVkVcbiAgICovXG4gIE5VTV9GSVZFOiAxMDEsXG4gIC8qKlxuICAgKiBOVU1fU0lYXG4gICAqL1xuICBOVU1fU0lYOiAxMDIsXG4gIC8qKlxuICAgKiBOVU1fU0VWRU5cbiAgICovXG4gIE5VTV9TRVZFTjogMTAzLFxuICAvKipcbiAgICogTlVNX0VJR0hUXG4gICAqL1xuICBOVU1fRUlHSFQ6IDEwNCxcbiAgLyoqXG4gICAqIE5VTV9OSU5FXG4gICAqL1xuICBOVU1fTklORTogMTA1LFxuICAvKipcbiAgICogTlVNX01VTFRJUExZXG4gICAqL1xuICBOVU1fTVVMVElQTFk6IDEwNixcbiAgLyoqXG4gICAqIE5VTV9QTFVTXG4gICAqL1xuICBOVU1fUExVUzogMTA3LFxuICAvKipcbiAgICogTlVNX01JTlVTXG4gICAqL1xuICBOVU1fTUlOVVM6IDEwOSxcbiAgLyoqXG4gICAqIE5VTV9QRVJJT0RcbiAgICovXG4gIE5VTV9QRVJJT0Q6IDExMCxcbiAgLyoqXG4gICAqIE5VTV9ESVZJU0lPTlxuICAgKi9cbiAgTlVNX0RJVklTSU9OOiAxMTEsXG4gIC8qKlxuICAgKiBGMVxuICAgKi9cbiAgRjE6IDExMixcbiAgLyoqXG4gICAqIEYyXG4gICAqL1xuICBGMjogMTEzLFxuICAvKipcbiAgICogRjNcbiAgICovXG4gIEYzOiAxMTQsXG4gIC8qKlxuICAgKiBGNFxuICAgKi9cbiAgRjQ6IDExNSxcbiAgLyoqXG4gICAqIEY1XG4gICAqL1xuICBGNTogMTE2LFxuICAvKipcbiAgICogRjZcbiAgICovXG4gIEY2OiAxMTcsXG4gIC8qKlxuICAgKiBGN1xuICAgKi9cbiAgRjc6IDExOCxcbiAgLyoqXG4gICAqIEY4XG4gICAqL1xuICBGODogMTE5LFxuICAvKipcbiAgICogRjlcbiAgICovXG4gIEY5OiAxMjAsXG4gIC8qKlxuICAgKiBGMTBcbiAgICovXG4gIEYxMDogMTIxLFxuICAvKipcbiAgICogRjExXG4gICAqL1xuICBGMTE6IDEyMixcbiAgLyoqXG4gICAqIEYxMlxuICAgKi9cbiAgRjEyOiAxMjMsXG4gIC8qKlxuICAgKiBOVU1MT0NLXG4gICAqL1xuICBOVU1MT0NLOiAxNDQsXG4gIC8qKlxuICAgKiBTRU1JQ09MT05cbiAgICovXG4gIFNFTUlDT0xPTjogMTg2LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIERBU0hcbiAgICovXG4gIERBU0g6IDE4OSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBFUVVBTFNcbiAgICovXG4gIEVRVUFMUzogMTg3LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIENPTU1BXG4gICAqL1xuICBDT01NQTogMTg4LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFBFUklPRFxuICAgKi9cbiAgUEVSSU9EOiAxOTAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogU0xBU0hcbiAgICovXG4gIFNMQVNIOiAxOTEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQVBPU1RST1BIRVxuICAgKi9cbiAgQVBPU1RST1BIRTogMTkyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFNJTkdMRV9RVU9URVxuICAgKi9cbiAgU0lOR0xFX1FVT1RFOiAyMjIsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogT1BFTl9TUVVBUkVfQlJBQ0tFVFxuICAgKi9cbiAgT1BFTl9TUVVBUkVfQlJBQ0tFVDogMjE5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIEJBQ0tTTEFTSFxuICAgKi9cbiAgQkFDS1NMQVNIOiAyMjAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQ0xPU0VfU1FVQVJFX0JSQUNLRVRcbiAgICovXG4gIENMT1NFX1NRVUFSRV9CUkFDS0VUOiAyMjEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogV0lOX0tFWVxuICAgKi9cbiAgV0lOX0tFWTogMjI0LFxuICAvKipcbiAgICogTUFDX0ZGX01FVEFcbiAgICovXG4gIE1BQ19GRl9NRVRBOiAyMjQsIC8vIEZpcmVmb3ggKEdlY2tvKSBmaXJlcyB0aGlzIGZvciB0aGUgbWV0YSBrZXkgaW5zdGVhZCBvZiA5MVxuICAvKipcbiAgICogV0lOX0lNRVxuICAgKi9cbiAgV0lOX0lNRTogMjI5XG59O1xuXG4vKlxuIHdoZXRoZXIgdGV4dCBhbmQgbW9kaWZpZWQga2V5IGlzIGVudGVyZWQgYXQgdGhlIHNhbWUgdGltZS5cbiAqL1xuS2V5Q29kZS5pc1RleHRNb2RpZnlpbmdLZXlFdmVudCA9IGZ1bmN0aW9uIGlzVGV4dE1vZGlmeWluZ0tleUV2ZW50KGUpIHtcbiAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gIGlmIChlLmFsdEtleSAmJiAhZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fFxuICAvLyBGdW5jdGlvbiBrZXlzIGRvbid0IGdlbmVyYXRlIHRleHRcbiAga2V5Q29kZSA+PSBLZXlDb2RlLkYxICYmIGtleUNvZGUgPD0gS2V5Q29kZS5GMTIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUaGUgZm9sbG93aW5nIGtleXMgYXJlIHF1aXRlIGhhcm1sZXNzLCBldmVuIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgLy8gQ1RSTCwgQUxUIG9yIFNISUZULlxuICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICBjYXNlIEtleUNvZGUuQUxUOlxuICAgIGNhc2UgS2V5Q29kZS5DQVBTX0xPQ0s6XG4gICAgY2FzZSBLZXlDb2RlLkNPTlRFWFRfTUVOVTpcbiAgICBjYXNlIEtleUNvZGUuQ1RSTDpcbiAgICBjYXNlIEtleUNvZGUuRE9XTjpcbiAgICBjYXNlIEtleUNvZGUuRU5EOlxuICAgIGNhc2UgS2V5Q29kZS5FU0M6XG4gICAgY2FzZSBLZXlDb2RlLkhPTUU6XG4gICAgY2FzZSBLZXlDb2RlLklOU0VSVDpcbiAgICBjYXNlIEtleUNvZGUuTEVGVDpcbiAgICBjYXNlIEtleUNvZGUuTUFDX0ZGX01FVEE6XG4gICAgY2FzZSBLZXlDb2RlLk1FVEE6XG4gICAgY2FzZSBLZXlDb2RlLk5VTUxPQ0s6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9DRU5URVI6XG4gICAgY2FzZSBLZXlDb2RlLlBBR0VfRE9XTjpcbiAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcbiAgICBjYXNlIEtleUNvZGUuUEFVU0U6XG4gICAgY2FzZSBLZXlDb2RlLlBSSU5UX1NDUkVFTjpcbiAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG4gICAgY2FzZSBLZXlDb2RlLlNISUZUOlxuICAgIGNhc2UgS2V5Q29kZS5VUDpcbiAgICBjYXNlIEtleUNvZGUuV0lOX0tFWTpcbiAgICBjYXNlIEtleUNvZGUuV0lOX0tFWV9SSUdIVDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8qXG4gd2hldGhlciBjaGFyYWN0ZXIgaXMgZW50ZXJlZC5cbiAqL1xuS2V5Q29kZS5pc0NoYXJhY3RlcktleSA9IGZ1bmN0aW9uIGlzQ2hhcmFjdGVyS2V5KGtleUNvZGUpIHtcbiAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OSU5FKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLk5VTV9aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OVU1fTVVMVElQTFkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChrZXlDb2RlID49IEtleUNvZGUuQSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuWikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gU2FmYXJpIHNlbmRzIHplcm8ga2V5IGNvZGUgZm9yIG5vbi1sYXRpbiBjaGFyYWN0ZXJzLlxuICBpZiAod2luZG93Lm5hdmlnYXRpb24udXNlckFnZW50LmluZGV4T2YoJ1dlYktpdCcpICE9PSAtMSAmJiBrZXlDb2RlID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICBjYXNlIEtleUNvZGUuU1BBQ0U6XG4gICAgY2FzZSBLZXlDb2RlLlFVRVNUSU9OX01BUks6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9QTFVTOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fTUlOVVM6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9QRVJJT0Q6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9ESVZJU0lPTjpcbiAgICBjYXNlIEtleUNvZGUuU0VNSUNPTE9OOlxuICAgIGNhc2UgS2V5Q29kZS5EQVNIOlxuICAgIGNhc2UgS2V5Q29kZS5FUVVBTFM6XG4gICAgY2FzZSBLZXlDb2RlLkNPTU1BOlxuICAgIGNhc2UgS2V5Q29kZS5QRVJJT0Q6XG4gICAgY2FzZSBLZXlDb2RlLlNMQVNIOlxuICAgIGNhc2UgS2V5Q29kZS5BUE9TVFJPUEhFOlxuICAgIGNhc2UgS2V5Q29kZS5TSU5HTEVfUVVPVEU6XG4gICAgY2FzZSBLZXlDb2RlLk9QRU5fU1FVQVJFX0JSQUNLRVQ6XG4gICAgY2FzZSBLZXlDb2RlLkJBQ0tTTEFTSDpcbiAgICBjYXNlIEtleUNvZGUuQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEtleUNvZGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy11dGlsL2xpYi9LZXlDb2RlLmpzXG4gKiogbW9kdWxlIGlkID0gMTQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfTW9kYWwgPSByZXF1aXJlKCcuL01vZGFsJyk7XG5cbnZhciBfTW9kYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWwpO1xuXG52YXIgX2NvbmZpcm0gPSByZXF1aXJlKCcuL2NvbmZpcm0nKTtcblxudmFyIF9jb25maXJtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpcm0pO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl9Nb2RhbDJbXCJkZWZhdWx0XCJdLmluZm8gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcbiAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICBpY29uVHlwZTogJ2luZm8tY2lyY2xlJyxcbiAgICAgICAgb2tDYW5jZWw6IGZhbHNlXG4gICAgfSwgcHJvcHMpO1xuICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcbn07XG5fTW9kYWwyW1wiZGVmYXVsdFwiXS5zdWNjZXNzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG4gICAgICAgIHR5cGU6ICdzdWNjZXNzJyxcbiAgICAgICAgaWNvblR5cGU6ICdjaGVjay1jaXJjbGUnLFxuICAgICAgICBva0NhbmNlbDogZmFsc2VcbiAgICB9LCBwcm9wcyk7XG4gICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xufTtcbl9Nb2RhbDJbXCJkZWZhdWx0XCJdLmVycm9yID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG4gICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIGljb25UeXBlOiAnY3Jvc3MtY2lyY2xlJyxcbiAgICAgICAgb2tDYW5jZWw6IGZhbHNlXG4gICAgfSwgcHJvcHMpO1xuICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcbn07XG5fTW9kYWwyW1wiZGVmYXVsdFwiXS53YXJuaW5nID0gX01vZGFsMltcImRlZmF1bHRcIl0ud2FybiA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb25maWcgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwge1xuICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgIGljb25UeXBlOiAnZXhjbGFtYXRpb24tY2lyY2xlJyxcbiAgICAgICAgb2tDYW5jZWw6IGZhbHNlXG4gICAgfSwgcHJvcHMpO1xuICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcbn07XG5fTW9kYWwyW1wiZGVmYXVsdFwiXS5jb25maXJtID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG4gICAgICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICAgICAgb2tDYW5jZWw6IHRydWVcbiAgICB9LCBwcm9wcyk7XG4gICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX01vZGFsMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9tb2RhbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0OFxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vU2VhcmNoLmxlc3MnXHJcbmltcG9ydCB7IElucHV0LCBTZWxlY3QsIEJ1dHRvbiwgSWNvbiB9IGZyb20gJ2FudGQnXHJcblxyXG5jbGFzcyBTZWFyY2ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICBzdXBlcihwcm9wcylcclxuICAgICAgY29uc3QgeyBzZWxlY3QsIHNlbGVjdFByb3BzIH0gPSB0aGlzLnByb3BzXHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgY2xlYXJWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBzZWxlY3RWYWx1ZTogc2VsZWN0ICYmIHNlbGVjdFByb3BzID8gc2VsZWN0UHJvcHMuZGVmYXVsdFZhbHVlIDogJydcclxuICAgICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBoYW5kbGVTZWFyY2ggPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBrZXl3b3JkOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpLnZhbHVlXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3QpIHtcclxuICAgICAgZGF0YS5maWVsZCA9IHRoaXMuc3RhdGUuc2VsZWN0VmFsdWVcclxuICAgIH1cclxuICAgIHRoaXMucHJvcHMub25TZWFyY2ggJiYgdGhpcy5wcm9wcy5vblNlYXJjaChkYXRhKVxyXG4gIH1cclxuICBoYW5kbGVJbnB1dENoYW5nZSA9IGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgIGNsZWFyVmlzaWJsZTogZS50YXJnZXQudmFsdWUgIT09ICcnXHJcbiAgICB9KVxyXG4gIH1cclxuICBoYW5kZWxlU2VsZWN0Q2hhbmdlID0gdmFsdWUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgIHNlbGVjdFZhbHVlOiB2YWx1ZVxyXG4gICAgfSlcclxuICB9XHJcbiAgaGFuZGxlQ2xlYXJJbnB1dCA9ICgpID0+IHtcclxuICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5zZWFyY2hJbnB1dCkudmFsdWUgPSAnJ1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNsZWFyVmlzaWJsZTogZmFsc2VcclxuICAgIH0pXHJcbiAgICB0aGlzLmhhbmRsZVNlYXJjaCgpXHJcbiAgfVxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCB7c2l6ZSwgc2VsZWN0LCBzZWxlY3RPcHRpb25zLCBzZWxlY3RQcm9wcywgc3R5bGUsIGtleXdvcmR9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3Qge2NsZWFyVmlzaWJsZX0gPSB0aGlzLnN0YXRlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8SW5wdXQuR3JvdXAgY29tcGFjdCBzaXplPXtzaXplfSBjbGFzc05hbWU9e3N0eWxlcy5zZWFyY2h9IHN0eWxlPXtzdHlsZX0+XHJcbiAgICAgICAge3NlbGVjdCAmJiA8U2VsZWN0IHJlZj0nc2VhcmNoU2VsZWN0JyBvbkNoYW5nZT17dGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlfSBzaXplPXtzaXplfSB7Li4uc2VsZWN0UHJvcHN9PlxyXG4gICAgICAgICAge3NlbGVjdE9wdGlvbnMgJiYgc2VsZWN0T3B0aW9ucy5tYXAoKGl0ZW0sIGtleSkgPT4gPFNlbGVjdC5PcHRpb24gdmFsdWU9e2l0ZW0udmFsdWV9IGtleT17a2V5fT57aXRlbS5uYW1lIHx8IGl0ZW0udmFsdWV9PC9TZWxlY3QuT3B0aW9uPil9XHJcbiAgICAgICAgPC9TZWxlY3Q+fVxyXG4gICAgICAgIDxJbnB1dCByZWY9J3NlYXJjaElucHV0JyBzaXplPXtzaXplfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZX0gb25QcmVzc0VudGVyPXt0aGlzLmhhbmRsZVNlYXJjaH0gZGVmYXVsdFZhbHVlPXtrZXl3b3JkfS8+XHJcbiAgICAgICAgPEJ1dHRvbiBzaXplPXtzaXplfSB0eXBlPSdwcmltYXJ5JyBvbkNsaWNrPXt0aGlzLmhhbmRsZVNlYXJjaH0+PEljb24gdHlwZT1cInNlYXJjaFwiIC8+5pCc57SiPC9CdXR0b24+XHJcbiAgICAgICAge2NsZWFyVmlzaWJsZSAmJiA8SWNvbiB0eXBlPSdjcm9zcycgb25DbGljaz17dGhpcy5oYW5kbGVDbGVhcklucHV0fSAvPn1cclxuICAgICAgPC9JbnB1dC5Hcm91cD5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlYXJjaFxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2guanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFR3ZWVuT25lR3JvdXAgfSBmcm9tICdyYy10d2Vlbi1vbmUnXHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9UYWJsZUJvZHlXcmFwcGVyLmxlc3MnXHJcblxyXG5jb25zdCBlbnRlckFuaW0gPSBbXHJcbiAge1xyXG4gICAgb3BhY2l0eTogMCxcclxuICAgIHg6IDMwLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmVlZScsXHJcbiAgICBkdXJhdGlvbjogMFxyXG4gIH0sIHtcclxuICAgIGhlaWdodDogMCxcclxuICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICB0eXBlOiAnZnJvbScsXHJcbiAgICBkZWxheTogMjUwLFxyXG4gICAgZWFzZTogJ2Vhc2VPdXRRdWFkJyxcclxuICAgIG9uQ29tcGxldGU6IChlKSA9PiB7XHJcbiAgICAgIGUudGFyZ2V0LnN0eWxlLmhlaWdodCA9ICdhdXRvJ1xyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBvcGFjaXR5OiAxLFxyXG4gICAgeDogMCxcclxuICAgIGR1cmF0aW9uOiAyNTAsXHJcbiAgICBlYXNlOiAnZWFzZU91dFF1YWQnXHJcbiAgfSwge1xyXG4gICAgZGVsYXk6IDEwMDAsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJ1xyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgbGVhdmVBbmltID0gW1xyXG4gIHtcclxuICAgIGR1cmF0aW9uOiAyNTAsXHJcbiAgICB4OiAtMzAsXHJcbiAgICBvcGFjaXR5OiAwXHJcbiAgfSwge1xyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgZHVyYXRpb246IDIwMCxcclxuICAgIGVhc2U6ICdlYXNlT3V0UXVhZCdcclxuICB9XHJcbl1cclxuXHJcbmNvbnN0IFRhYmxlQm9keVdyYXBwZXIgPSAoeyBib2R5LCBwYWdlID0gMSwgY3VycmVudCB9KSA9PiB7XHJcblxyXG4gIC8vIOWIh+aNouWIhumhteWOu+mZpOWKqOeUuztcclxuICBpZihjdXJyZW50ICE9ICtwYWdlKSB7XHJcbiAgICByZXR1cm4gYm9keVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxUd2Vlbk9uZUdyb3VwXHJcbiAgICBjb21wb25lbnQ9XCJ0Ym9keVwiXHJcbiAgICBjbGFzc05hbWU9e2JvZHkucHJvcHMuY2xhc3NOYW1lfVxyXG4gICAgZW50ZXI9e2VudGVyQW5pbX1cclxuICAgIGxlYXZlPXtsZWF2ZUFuaW19XHJcbiAgICBhcHBlYXI9e2ZhbHNlfT5cclxuICAgICAge2JvZHkucHJvcHMuY2hpbGRyZW59XHJcbiAgICA8L1R3ZWVuT25lR3JvdXA+XHJcbiAgKVxyXG59XHJcblxyXG5UYWJsZUJvZHlXcmFwcGVyLnByb3BUeXBlcyA9IHtcclxuICBwYWdlOiBQcm9wVHlwZXMuYW55LFxyXG4gIGN1cnJlbnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUJvZHlXcmFwcGVyXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1RhYmxlQm9keVdyYXBwZXIuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWxzIFN5bWJvbDogdHJ1ZSwgVWludDhBcnJheTogdHJ1ZSwgV2Vha01hcDogdHJ1ZSAqL1xuLyohXG4gKiBkZWVwLWVxbFxuICogQ29weXJpZ2h0KGMpIDIwMTMgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKiFcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgdHlwZSA9IHJlcXVpcmUoJ3R5cGUtZGV0ZWN0Jyk7XG5mdW5jdGlvbiBGYWtlTWFwKCkge1xuICB0aGlzLmNsZWFyKCk7XG59XG5GYWtlTWFwLnByb3RvdHlwZSA9IHtcbiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyTWFwKCkge1xuICAgIHRoaXMua2V5cyA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0TWFwKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLnZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXRNYXAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzW3RoaXMua2V5cy5pbmRleE9mKGtleSldO1xuICB9LFxuICBkZWxldGU6IGZ1bmN0aW9uIGRlbGV0ZU1hcChrZXkpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy52YWx1ZXMuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgICB0aGlzLmtleXMgPSB0aGlzLmtleXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLmtleXMuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxudmFyIE1lbW9pemVNYXAgPSBudWxsO1xuaWYgKHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nKSB7XG4gIE1lbW9pemVNYXAgPSBXZWFrTWFwO1xufSBlbHNlIHtcbiAgTWVtb2l6ZU1hcCA9IEZha2VNYXA7XG59XG5cbi8qIVxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBNZW1vaXplTWFwIGhhcyByZWNvcmRlZCBhIHJlc3VsdCBvZiB0aGUgdHdvIG9wZXJhbmRzXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcbiAqIEByZXR1cm5zIHtCb29sZWFufG51bGx9IHJlc3VsdFxuKi9cbmZ1bmN0aW9uIG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbWVtb2l6ZU1hcCkge1xuICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG4gIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kTWFwKSB7XG4gICAgdmFyIHJlc3VsdCA9IGxlZnRIYW5kTWFwLmdldChyaWdodEhhbmRPcGVyYW5kKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyohXG4gKiBTZXQgdGhlIHJlc3VsdCBvZiB0aGUgZXF1YWxpdHkgaW50byB0aGUgTWVtb2l6ZU1hcFxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHJlc3VsdFxuKi9cbmZ1bmN0aW9uIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwLCByZXN1bHQpIHtcbiAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRNYXApIHtcbiAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBsZWZ0SGFuZE1hcCA9IG5ldyBNZW1vaXplTWFwKCk7XG4gICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG4gICAgbWVtb2l6ZU1hcC5zZXQobGVmdEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE1hcCk7XG4gIH1cbn1cblxuLyohXG4gKiBQcmltYXJ5IEV4cG9ydFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVlcEVxdWFsO1xubW9kdWxlLmV4cG9ydHMuTWVtb2l6ZU1hcCA9IE1lbW9pemVNYXA7XG5cbi8qKlxuICogQXNzZXJ0IGRlZXBseSBuZXN0ZWQgc2FtZVZhbHVlIGVxdWFsaXR5IGJldHdlZW4gdHdvIG9iamVjdHMgb2YgYW55IHR5cGUuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2ZcbiAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcbiAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcbiAqL1xuZnVuY3Rpb24gZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICAvLyBJZiB3ZSBoYXZlIGEgY29tcGFyYXRvciwgd2UgY2FuJ3QgYXNzdW1lIGFueXRoaW5nOyBzbyBiYWlsIHRvIGl0cyBjaGVjayBmaXJzdC5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuICB9XG5cbiAgLy8gRGVlcGVyIGNvbXBhcmlzb25zIGFyZSBwdXNoZWQgdGhyb3VnaCB0byBhIGxhcmdlciBmdW5jdGlvblxuICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogTWFueSBjb21wYXJpc29ucyBjYW4gYmUgY2FuY2VsZWQgb3V0IGVhcmx5IHZpYSBzaW1wbGUgZXF1YWxpdHkgb3IgcHJpbWl0aXZlIGNoZWNrcy5cbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHJldHVybiB7Qm9vbGVhbnxudWxsfSBlcXVhbCBtYXRjaFxuICovXG5mdW5jdGlvbiBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgLy8gRXF1YWwgcmVmZXJlbmNlcyAoZXhjZXB0IGZvciBOdW1iZXJzKSBjYW4gYmUgcmV0dXJuZWQgZWFybHlcbiAgaWYgKGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZCkge1xuICAgIC8vIEhhbmRsZSArLTAgY2FzZXNcbiAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kICE9PSAwIHx8IDEgLyBsZWZ0SGFuZE9wZXJhbmQgPT09IDEgLyByaWdodEhhbmRPcGVyYW5kO1xuICB9XG5cbiAgLy8gaGFuZGxlIE5hTiBjYXNlc1xuICBpZiAoXG4gICAgbGVmdEhhbmRPcGVyYW5kICE9PSBsZWZ0SGFuZE9wZXJhbmQgJiYgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICByaWdodEhhbmRPcGVyYW5kICE9PSByaWdodEhhbmRPcGVyYW5kIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQW55dGhpbmcgdGhhdCBpcyBub3QgYW4gJ29iamVjdCcsIGkuZS4gc3ltYm9scywgZnVuY3Rpb25zLCBib29sZWFucywgbnVtYmVycyxcbiAgLy8gc3RyaW5ncywgYW5kIHVuZGVmaW5lZCwgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cbiAgaWYgKGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICAvLyBFYXN5IG91dCBiL2MgaXQgd291bGQgaGF2ZSBwYXNzZWQgdGhlIGZpcnN0IGVxdWFsaXR5IGNoZWNrXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKiFcbiAqIFRoZSBtYWluIGxvZ2ljIG9mIHRoZSBgZGVlcEVxdWFsYCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuKi9cbmZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMubWVtb2l6ZSA9IG9wdGlvbnMubWVtb2l6ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IG9wdGlvbnMubWVtb2l6ZSB8fCBuZXcgTWVtb2l6ZU1hcCgpO1xuICB2YXIgY29tcGFyYXRvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yO1xuXG4gIC8vIENoZWNrIGlmIGEgbWVtb2l6ZWQgcmVzdWx0IGV4aXN0cy5cbiAgdmFyIG1lbW9pemVSZXN1bHRMZWZ0ID0gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUpO1xuICBpZiAobWVtb2l6ZVJlc3VsdExlZnQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdExlZnQ7XG4gIH1cbiAgdmFyIG1lbW9pemVSZXN1bHRSaWdodCA9IG1lbW9pemVDb21wYXJlKHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcbiAgaWYgKG1lbW9pemVSZXN1bHRSaWdodCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBtZW1vaXplUmVzdWx0UmlnaHQ7XG4gIH1cblxuICAvLyBJZiBhIGNvbXBhcmF0b3IgaXMgcHJlc2VudCwgdXNlIGl0LlxuICBpZiAoY29tcGFyYXRvcikge1xuICAgIHZhciBjb21wYXJhdG9yUmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIC8vIENvbXBhcmF0b3JzIG1heSByZXR1cm4gbnVsbCwgaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGdvIGJhY2sgdG8gZGVmYXVsdCBiZWhhdmlvci5cbiAgICBpZiAoY29tcGFyYXRvclJlc3VsdCA9PT0gZmFsc2UgfHwgY29tcGFyYXRvclJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgY29tcGFyYXRvclJlc3VsdCk7XG4gICAgICByZXR1cm4gY29tcGFyYXRvclJlc3VsdDtcbiAgICB9XG4gICAgLy8gVG8gYWxsb3cgY29tcGFyYXRvcnMgdG8gb3ZlcnJpZGUgKmFueSogYmVoYXZpb3IsIHdlIHJhbiB0aGVtIGZpcnN0LiBTaW5jZSBpdCBkaWRuJ3QgZGVjaWRlXG4gICAgLy8gd2hhdCB0byBkbywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdG8gcmV0dXJuIHRoZSBiYXNpYyB0ZXN0cyBmaXJzdCBiZWZvcmUgd2UgbW92ZSBvbi5cbiAgICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAvLyBEb24ndCBtZW1vaXplIHRoaXMsIGl0IHRha2VzIGxvbmdlciB0byBzZXQvcmV0cmlldmUgdGhhbiB0byBqdXN0IGNvbXBhcmUuXG4gICAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBsZWZ0SGFuZFR5cGUgPSB0eXBlKGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZFR5cGUgIT09IHR5cGUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBmYWxzZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJpbHkgc2V0IHRoZSBvcGVyYW5kcyBpbiB0aGUgbWVtb2l6ZSBvYmplY3QgdG8gcHJldmVudCBibG93aW5nIHRoZSBzdGFja1xuICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCB0cnVlKTtcblxuICB2YXIgcmVzdWx0ID0gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKTtcbiAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKSB7XG4gIHN3aXRjaCAobGVmdEhhbmRUeXBlKSB7XG4gICAgY2FzZSAnU3RyaW5nJzpcbiAgICBjYXNlICdOdW1iZXInOlxuICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgLy8gSWYgdGhlc2UgdHlwZXMgYXJlIHRoZWlyIGluc3RhbmNlIHR5cGVzIChlLmcuIGBuZXcgTnVtYmVyYCkgdGhlbiByZS1kZWVwRXF1YWwgYWdhaW5zdCB0aGVpciB2YWx1ZXNcbiAgICAgIHJldHVybiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLnZhbHVlT2YoKSwgcmlnaHRIYW5kT3BlcmFuZC52YWx1ZU9mKCkpO1xuICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgIGNhc2UgJ1dlYWtTZXQnOlxuICAgIGNhc2UgJ0Vycm9yJzpcbiAgICAgIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQgPT09IHJpZ2h0SGFuZE9wZXJhbmQ7XG4gICAgY2FzZSAnQXJndW1lbnRzJzpcbiAgICBjYXNlICdJbnQ4QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQ4QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5JzpcbiAgICBjYXNlICdJbnQxNkFycmF5JzpcbiAgICBjYXNlICdVaW50MTZBcnJheSc6XG4gICAgY2FzZSAnSW50MzJBcnJheSc6XG4gICAgY2FzZSAnVWludDMyQXJyYXknOlxuICAgIGNhc2UgJ0Zsb2F0MzJBcnJheSc6XG4gICAgY2FzZSAnRmxvYXQ2NEFycmF5JzpcbiAgICBjYXNlICdBcnJheSc6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ1JlZ0V4cCc6XG4gICAgICByZXR1cm4gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICBjYXNlICdHZW5lcmF0b3InOlxuICAgICAgcmV0dXJuIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnRGF0YVZpZXcnOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kLmJ1ZmZlciksIG5ldyBVaW50OEFycmF5KHJpZ2h0SGFuZE9wZXJhbmQuYnVmZmVyKSwgb3B0aW9ucyk7XG4gICAgY2FzZSAnQXJyYXlCdWZmZXInOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuICAgIGNhc2UgJ1NldCc6XG4gICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnTWFwJzpcbiAgICAgIHJldHVybiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyohXG4gKiBDb21wYXJlIHR3byBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBlcXVhbGl0eS5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG4gIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQudG9TdHJpbmcoKSA9PT0gcmlnaHRIYW5kT3BlcmFuZC50b1N0cmluZygpO1xufVxuXG4vKiFcbiAqIENvbXBhcmUgdHdvIFNldHMvTWFwcyBmb3IgZXF1YWxpdHkuIEZhc3RlciB0aGFuIG90aGVyIGVxdWFsaXR5IGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge1NldH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge1NldH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IFNldCNlbnRyaWVzIG9yIFNldCNAQGl0ZXJhdG9yLCBzbyB3ZSBuZWVkIG1hbnVhbGx5IHBvcHVsYXRlIHVzaW5nIFNldCNmb3JFYWNoXG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSAhPT0gcmlnaHRIYW5kT3BlcmFuZC5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBsZWZ0SGFuZEl0ZW1zID0gW107XG4gIHZhciByaWdodEhhbmRJdGVtcyA9IFtdO1xuICBsZWZ0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcbiAgICBsZWZ0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuICB9KTtcbiAgcmlnaHRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuICAgIHJpZ2h0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuICB9KTtcbiAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRJdGVtcy5zb3J0KCksIHJpZ2h0SGFuZEl0ZW1zLnNvcnQoKSwgb3B0aW9ucyk7XG59XG5cbi8qIVxuICogU2ltcGxlIGVxdWFsaXR5IGZvciBmbGF0IGl0ZXJhYmxlIG9iamVjdHMgc3VjaCBhcyBBcnJheXMsIFR5cGVkQXJyYXlzIG9yIE5vZGUuanMgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlbmd0aCA9IGxlZnRIYW5kT3BlcmFuZC5sZW5ndGg7XG4gIGlmIChsZW5ndGggIT09IHJpZ2h0SGFuZE9wZXJhbmQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgaW5kZXggPSAtMTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtpbmRleF0sIHJpZ2h0SGFuZE9wZXJhbmRbaW5kZXhdLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qIVxuICogU2ltcGxlIGVxdWFsaXR5IGZvciBnZW5lcmF0b3Igb2JqZWN0cyBzdWNoIGFzIHRob3NlIHJldHVybmVkIGJ5IGdlbmVyYXRvciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICByZXR1cm4gaXRlcmFibGVFcXVhbChnZXRHZW5lcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCksIGdldEdlbmVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xufVxuXG4vKiFcbiAqIERldGVybWluZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIGl0ZXJhdG9yIGVudHJpZXMgZnJvbSB0aGUgZ2l2ZW4gT2JqZWN0LiBJZiB0aGUgT2JqZWN0IGhhcyBubyBAQGl0ZXJhdG9yIGZ1bmN0aW9uLCByZXR1cm5zIGFuIGVtcHR5IGFycmF5LlxuICogVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGl0ZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMgZGVwZW5kaW5nIG9uIHRoZSBAQGl0ZXJhdG9yIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBAQGl0ZXJhdG9yIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRW50cmllcyh0YXJnZXQpIHtcbiAgaWYgKGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZ2V0R2VuZXJhdG9yRW50cmllcyh0YXJnZXRbU3ltYm9sLml0ZXJhdG9yXSgpKTtcbiAgICB9IGNhdGNoIChpdGVyYXRvckVycm9yKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIHJldHVybiBbXTtcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBlbnRyaWVzIGZyb20gYSBHZW5lcmF0b3IuIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBnZW5lcmF0b3IgLSB3aGljaCBjb3VsZCBoYXZlIHNpZGUgZWZmZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0dlbmVyYXRvcn0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgR2VuZXJhdG9yLlxuICovXG5mdW5jdGlvbiBnZXRHZW5lcmF0b3JFbnRyaWVzKGdlbmVyYXRvcikge1xuICB2YXIgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcbiAgdmFyIGFjY3VtdWxhdG9yID0gWyBnZW5lcmF0b3JSZXN1bHQudmFsdWUgXTtcbiAgd2hpbGUgKGdlbmVyYXRvclJlc3VsdC5kb25lID09PSBmYWxzZSkge1xuICAgIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgYWNjdW11bGF0b3IucHVzaChnZW5lcmF0b3JSZXN1bHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSBhIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIHRoZSB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIGdldEVudW1lcmFibGVLZXlzKHRhcmdldCkge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cbi8qIVxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBoYXZlIG1hdGNoaW5nIHZhbHVlcywgZ2l2ZW4gYSBzZXQgb2Yga2V5cy4gRGVmZXJzIHRvIGRlZXBFcXVhbCBmb3IgdGhlIGVxdWFsaXR5IGNoZWNrIG9mXG4gKiBlYWNoIGtleS4gSWYgYW55IHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkgaXMgbm90IGVxdWFsLCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gZmFsc2UgKGVhcmx5KS5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7QXJyYXl9IGtleXMgQW4gYXJyYXkgb2Yga2V5cyB0byBjb21wYXJlIHRoZSB2YWx1ZXMgb2YgbGVmdEhhbmRPcGVyYW5kIGFuZCByaWdodEhhbmRPcGVyYW5kIGFnYWluc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2tleXNbaV1dLCByaWdodEhhbmRPcGVyYW5kW2tleXNbaV1dLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qIVxuICogUmVjdXJzaXZlbHkgY2hlY2sgdGhlIGVxdWFsaXR5IG9mIHR3byBPYmplY3RzLiBPbmNlIGJhc2ljIHNhbWVuZXNzIGhhcyBiZWVuIGVzdGFibGlzaGVkIGl0IHdpbGwgZGVmZXIgdG8gYGRlZXBFcXVhbGBcbiAqIGZvciBlYWNoIGVudW1lcmFibGUga2V5IGluIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICB2YXIgbGVmdEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMobGVmdEhhbmRPcGVyYW5kKTtcbiAgdmFyIHJpZ2h0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhyaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggJiYgbGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gcmlnaHRIYW5kS2V5cy5sZW5ndGgpIHtcbiAgICBsZWZ0SGFuZEtleXMuc29ydCgpO1xuICAgIHJpZ2h0SGFuZEtleXMuc29ydCgpO1xuICAgIGlmIChpdGVyYWJsZUVxdWFsKGxlZnRIYW5kS2V5cywgcmlnaHRIYW5kS2V5cykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZEtleXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIGxlZnRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpO1xuICB2YXIgcmlnaHRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhyaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kRW50cmllcy5sZW5ndGggJiYgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gcmlnaHRIYW5kRW50cmllcy5sZW5ndGgpIHtcbiAgICBsZWZ0SGFuZEVudHJpZXMuc29ydCgpO1xuICAgIHJpZ2h0SGFuZEVudHJpZXMuc29ydCgpO1xuICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kRW50cmllcywgcmlnaHRIYW5kRW50cmllcywgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgcmlnaHRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcbiAgICAgIHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qIVxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBhcmd1bWVudCBpcyBhIHByaW1pdGl2ZS5cbiAqXG4gKiBUaGlzIGludGVudGlvbmFsbHkgcmV0dXJucyB0cnVlIGZvciBhbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UsXG4gKiBpbmNsdWRpbmcgZnVuY3Rpb25zIGFuZCBzeW1ib2xzLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCc7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kZWVwLWVxbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWFyY2hcIjpcInNlYXJjaF9fX3AwNEtOXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmxlc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG4vKipcbiAqIENyZWF0ZWQgYnkgamxqc2ogb24gMTYvMS8yNy5cbiAqL1xuXG5cbnZhciBfZWFzaW5nID0gcmVxdWlyZSgnLi9lYXNpbmcnKTtcblxudmFyIF9lYXNpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFzaW5nKTtcblxudmFyIF9wbHVnaW5zID0gcmVxdWlyZSgnLi9wbHVnaW5zJyk7XG5cbnZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblxudmFyIF9TdHlsZVBsdWdpbiA9IHJlcXVpcmUoJy4vcGx1Z2luL1N0eWxlUGx1Z2luJyk7XG5cbnZhciBfU3R5bGVQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3R5bGVQbHVnaW4pO1xuXG52YXIgX3N0eWxlVXRpbHMgPSByZXF1aXJlKCdzdHlsZS11dGlscycpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwuanMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBERUZBVUxUX0VBU0lORyA9ICdlYXNlSW5PdXRRdWFkJztcbnZhciBERUZBVUxUX0RVUkFUSU9OID0gNDUwO1xudmFyIERFRkFVTFRfREVMQVkgPSAwO1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5fcGx1Z2luczJbXCJkZWZhdWx0XCJdLnB1c2goX1N0eWxlUGx1Z2luMltcImRlZmF1bHRcIl0pO1xuLy8g6K6+572u6buY6K6k5pWw5o2uXG5mdW5jdGlvbiBkZWZhdWx0RGF0YSh2YXJzLCBub3cpIHtcbiAgcmV0dXJuIHtcbiAgICBkdXJhdGlvbjogdmFycy5kdXJhdGlvbiB8fCB2YXJzLmR1cmF0aW9uID09PSAwID8gdmFycy5kdXJhdGlvbiA6IERFRkFVTFRfRFVSQVRJT04sXG4gICAgZGVsYXk6IHZhcnMuZGVsYXkgfHwgREVGQVVMVF9ERUxBWSxcbiAgICBlYXNlOiB0eXBlb2YgdmFycy5lYXNlID09PSAnZnVuY3Rpb24nID8gdmFycy5lYXNlIDogX2Vhc2luZzJbXCJkZWZhdWx0XCJdW3ZhcnMuZWFzZSB8fCBERUZBVUxUX0VBU0lOR10sXG4gICAgb25VcGRhdGU6IHZhcnMub25VcGRhdGUgfHwgbm9vcCxcbiAgICBvbkNvbXBsZXRlOiB2YXJzLm9uQ29tcGxldGUgfHwgbm9vcCxcbiAgICBvblN0YXJ0OiB2YXJzLm9uU3RhcnQgfHwgbm9vcCxcbiAgICBvblJlcGVhdDogdmFycy5vblJlcGVhdCB8fCBub29wLFxuICAgIHJlcGVhdDogdmFycy5yZXBlYXQgfHwgMCxcbiAgICByZXBlYXREZWxheTogdmFycy5yZXBlYXREZWxheSB8fCAwLFxuICAgIHlveW86IHZhcnMueW95byB8fCBmYWxzZSxcbiAgICB0eXBlOiB2YXJzLnR5cGUgfHwgJ3RvJyxcbiAgICBpbml0VGltZTogbm93LFxuICAgIGFwcGVhclRvOiB0eXBlb2YgdmFycy5hcHBlYXJUbyA9PT0gJ251bWJlcicgPyB2YXJzLmFwcGVhclRvIDogbnVsbFxuICB9O1xufVxuXG52YXIgdGltZUxpbmUgPSBmdW5jdGlvbiB0aW1lTGluZSh0YXJnZXQsIHRvRGF0YSwgcHJvcHMpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5hdHRyID0gcHJvcHMuYXR0ciB8fCAnc3R5bGUnO1xuICB0aGlzLndpbGxDaGFuZ2UgPSBwcm9wcy53aWxsQ2hhbmdlO1xuICAvLyDorrDlvZXmgLvml7bpl7Q7XG4gIHRoaXMudG90YWxUaW1lID0gMDtcbiAgLy8g6K6w5b2V5b2T5YmN5pe26Ze0O1xuICB0aGlzLnByb2dyZXNzVGltZSA9IDA7XG4gIC8vIOiusOW9leaXtumXtOi9tOaVsOaNrjtcbiAgdGhpcy5kZWZhdWx0RGF0YSA9IFtdO1xuICAvLyDmr4/kuKrnmoTlvIDlp4vmlbDmja7vvJtcbiAgdGhpcy5zdGFydCA9IHt9O1xuICAvLyDorrDlvZXliqjnlLvlvIDlp4s7XG4gIHRoaXMub25TdGFydCA9IHt9O1xuICAvLyDlvIDlp4vpu5jorqTnmoTmlbDmja7vvJtcbiAgdGhpcy5zdGFydERlZmF1bHREYXRhID0ge307XG4gIHZhciBkYXRhID0gW107XG4gIHRvRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgdmFyIF9kID0gX2V4dGVuZHMoe30sIGQpO1xuICAgIGlmIChfdGhpcy5hdHRyID09PSAnc3R5bGUnKSB7XG4gICAgICBkYXRhW2ldID0ge307XG4gICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gZGVmYXVsdERhdGEoe30sIDApKSB7XG4gICAgICAgICAgZGF0YVtpXVtrZXldID0gX2Rba2V5XTtcbiAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYXRhW2ldLnN0eWxlID0gX2Q7XG4gICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhLnN0eWxlID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLmF0dHIgPT09ICdhdHRyJykge1xuICAgICAgT2JqZWN0LmtleXMoX2QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnc3R5bGUnICYmIEFycmF5LmlzQXJyYXkoZFtrZXldKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgc2hvdWxkIGJlIHRoZSBvYmplY3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgICBfZC5zdHlsZSA9IF9leHRlbmRzKHt9LCBfZC5zdHlsZSwgeyBiZXppZXI6IF9kW2tleV0gfSk7XG4gICAgICAgICAgZGVsZXRlIF9kW2tleV07XG4gICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YS5zdHlsZSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YVtrZXldID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRhdGFbaV0gPSBfZDtcbiAgICB9XG4gIH0pO1xuICAvLyDliqjnlLvov4fnqItcbiAgdGhpcy50d2VlbiA9IHt9O1xuICAvLyDmr4/luKfnmoTml7bpl7Q7XG4gIHRoaXMucGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG4gIC8vIOazqOWGjO+8jOesrOS4gOasoei/m+WFpeaJp+ihjOazqOWGjFxuICB0aGlzLnJlZ2lzdGVyID0gZmFsc2U7XG4gIC8vIOe8k+WKqOacgOWwj+WAvDtcbiAgdGhpcy50aW55TnVtID0gMC4wMDAwMDAwMDAxO1xuICAvLyDorr7nva7pu5jorqTliqjnlLvmlbDmja47XG4gIHRoaXMuc2V0RGVmYXVsdERhdGEoZGF0YSk7XG59O1xudmFyIHAgPSB0aW1lTGluZS5wcm90b3R5cGU7XG5cbnAuc2V0RGVmYXVsdERhdGEgPSBmdW5jdGlvbiAoX3ZhcnMpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgdmFyIG5vdyA9IDA7XG4gIHZhciByZXBlYXRNYXggPSBmYWxzZTtcbiAgdmFyIGRhdGEgPSBfdmFycy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgYXBwZWFyVG9Cb29sID0gdHlwZW9mIGl0ZW0uYXBwZWFyVG8gPT09ICdudW1iZXInO1xuICAgIC8vIOWKoOS4iuW7tuaXtu+8jOWcqOayoeacieaSreaUvui/h+aXtu+8m1xuICAgIC8vICFhcHBlYXJUb0Jvb2wgJiYgKG5vdyArPSBpdGVtLmRlbGF5IHx8IDApO1xuICAgIGlmICghYXBwZWFyVG9Cb29sKSB7XG4gICAgICBub3cgKz0gaXRlbS5kZWxheSB8fCAwO1xuICAgIH1cbiAgICB2YXIgYXBwZWFyVG9UaW1lID0gKGl0ZW0uYXBwZWFyVG8gfHwgMCkgKyAoaXRlbS5kZWxheSB8fCAwKTtcbiAgICAvLyDojrflj5bpu5jorqTmlbDmja5cbiAgICB2YXIgdHdlZW5EYXRhID0gZGVmYXVsdERhdGEoaXRlbSwgYXBwZWFyVG9Cb29sID8gYXBwZWFyVG9UaW1lIDogbm93KTtcbiAgICB0d2VlbkRhdGEudmFycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICAgIGlmICghKF9rZXkgaW4gdHdlZW5EYXRhKSkge1xuICAgICAgICB2YXIgX2RhdGEgPSBpdGVtW19rZXldO1xuICAgICAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXVtfa2V5XShfdGhpczIudGFyZ2V0LCBfZGF0YSwgdHdlZW5EYXRhLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKF9rZXkubWF0Y2goL2NvbG9yL2kpIHx8IF9rZXkgPT09ICdzdHJva2UnIHx8IF9rZXkgPT09ICdmaWxsJykge1xuICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB0eXBlOiAnY29sb3InLCB2YXJzOiAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoX2RhdGEpIH07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9kYXRhID09PSAnbnVtYmVyJyB8fCBfZGF0YS5zcGxpdCgvWyx8XFxzXS9nKS5sZW5ndGggPD0gMSkge1xuICAgICAgICAgIHZhciB2YXJzID0gcGFyc2VGbG9hdChfZGF0YSk7XG4gICAgICAgICAgdmFyIHVuaXQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgICAgICB2YXIgY291bnQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcbiAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IHsgdW5pdDogdW5pdCwgdmFyczogdmFycywgY291bnQ6IGNvdW50IH07XG4gICAgICAgIH0gZWxzZSBpZiAoKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykgJiYgJ1NWR01vcnBoJyBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5TVkdNb3JwaChfdGhpczIudGFyZ2V0LCBfZGF0YSwgX2tleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHdlZW5EYXRhLnlveW8gJiYgIXR3ZWVuRGF0YS5yZXBlYXQpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogeW95byBtdXN0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCByZXBlYXQ7Jyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9XG4gICAgaWYgKHR3ZWVuRGF0YS5yZXBlYXQgPT09IC0xKSB7XG4gICAgICByZXBlYXRNYXggPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgcmVwZWF0ID0gdHdlZW5EYXRhLnJlcGVhdCA9PT0gLTEgPyAwIDogdHdlZW5EYXRhLnJlcGVhdDtcbiAgICBpZiAoYXBwZWFyVG9Cb29sKSB7XG4gICAgICAvLyDlpoLmnpzmnIkgYXBwZWFyVG8g5LiU6L+Z5p2h5pe26Ze05q+UIG5vdyDlpKfml7bvvIzvvIzmgLvml7bpl7TnlKjov5nmnaHvvJtcbiAgICAgIHZhciBhcHBlYXJOb3cgPSBpdGVtLmFwcGVhclRvICsgKGl0ZW0uZGVsYXkgfHwgMCkgKyB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG4gICAgICBub3cgPSBhcHBlYXJOb3cgPj0gbm93ID8gYXBwZWFyTm93IDogbm93O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHdlZW5EYXRhLmRlbGF5IDwgLXR3ZWVuRGF0YS5kdXJhdGlvbikge1xuICAgICAgICAvLyDlpoLmnpzlu7bml7blsI/kuo4g6LSf5pe26Ze05pe2LCzkuI3liqAs5YaN5YeP5Zue5bu25pe2O1xuICAgICAgICBub3cgLT0gdHdlZW5EYXRhLmRlbGF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVwZWF0IOS4uiAtMSDlj6rorrDlvZXkuIDmrKHjgILkuI3og73ot58gcmV2ZXJzZSDlkIzml7bkvb/nlKg7XG4gICAgICAgIG5vdyArPSB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHR3ZWVuRGF0YS5tb2RlID0gJyc7XG4gICAgcmV0dXJuIHR3ZWVuRGF0YTtcbiAgfSk7XG4gIHRoaXMudG90YWxUaW1lID0gcmVwZWF0TWF4ID8gTnVtYmVyLk1BWF9WQUxVRSA6IG5vdztcbiAgdGhpcy5kZWZhdWx0RGF0YSA9IGRhdGE7XG59O1xucC5nZXRBbmltU3RhcnREYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIHN0YXJ0ID0ge307XG4gIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzMy5hdHRyID09PSAnYXR0cicgJiYgKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykpIHtcbiAgICAgIHN0YXJ0W19rZXldID0gaXRlbVtfa2V5XS5nZXRBbmltU3RhcnQoX3RoaXMzLndpbGxDaGFuZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoX3RoaXMzLmF0dHIgPT09ICdhdHRyJykge1xuICAgICAgLy8g6Zmk5LqGZOWSjOi/mXBvaW50c+WklueahOagh+etvuWKqOeUu++8m1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IF90aGlzMy50YXJnZXQuZ2V0QXR0cmlidXRlKF9rZXkpO1xuICAgICAgdmFyIGRhdGEgPSBhdHRyaWJ1dGUgPT09ICdudWxsJyB8fCAhYXR0cmlidXRlID8gMCA6IGF0dHJpYnV0ZTtcbiAgICAgIGlmIChfa2V5Lm1hdGNoKC9jb2xvci9pKSB8fCBfa2V5ID09PSAnc3Ryb2tlJyB8fCBfa2V5ID09PSAnZmlsbCcpIHtcbiAgICAgICAgZGF0YSA9ICFkYXRhICYmIF9rZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogZGF0YTtcbiAgICAgICAgZGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShkYXRhKTtcbiAgICAgICAgc3RhcnRbX2tleV0gPSBkYXRhO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUZsb2F0KGRhdGEpIHx8IHBhcnNlRmxvYXQoZGF0YSkgPT09IDAgfHwgZGF0YSA9PT0gMCkge1xuICAgICAgICB2YXIgdW5pdCA9IGRhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICAgIHN0YXJ0W19rZXldID0gdW5pdCAhPT0gaXRlbVtfa2V5XS51bml0ID8gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMzLnRhcmdldCwgX2tleSwgcGFyc2VGbG9hdChkYXRhKSwgdW5pdCwgaXRlbVtfa2V5XS51bml0KSA6IHBhcnNlRmxvYXQoZGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBzdGFydFtfa2V5XSA9IGRhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXJ0W19rZXldID0gX3RoaXMzLnRhcmdldFtfa2V5XSB8fCAwO1xuICB9KTtcbiAgcmV0dXJuIHN0YXJ0O1xufTtcbnAuc2V0QW5pbURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM0LmF0dHIgPT09ICdhdHRyJyAmJiAoa2V5ID09PSAnZCcgfHwga2V5ID09PSAncG9pbnRzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX3RoaXM0LnRhcmdldFtrZXldID0gZGF0YVtrZXldO1xuICB9KTtcbn07XG5wLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBlbmREYXRhLCBpKSB7XG4gIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gIE9iamVjdC5rZXlzKGVuZERhdGEudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM1LmF0dHIgPT09ICdhdHRyJyAmJiAoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSkge1xuICAgICAgZW5kRGF0YS52YXJzW19rZXldLnNldFJhdGlvKHJhdGlvLCBfdGhpczUudHdlZW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZW5kVmFycyA9IGVuZERhdGEudmFyc1tfa2V5XTtcbiAgICB2YXIgc3RhcnRWYXJzID0gX3RoaXM1LnN0YXJ0W2ldW19rZXldO1xuICAgIHZhciBkYXRhID0gdm9pZCAwO1xuICAgIGlmIChfdGhpczUuYXR0ciA9PT0gJ2F0dHInKSB7XG4gICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG4gICAgICBpZiAoIWVuZFZhcnMudHlwZSkge1xuICAgICAgICBkYXRhID0gZW5kVmFycy51bml0LmNoYXJBdCgxKSA9PT0gJz0nID8gc3RhcnRWYXJzICsgZW5kVmFycy52YXJzICogcmF0aW8gKyBlbmRWYXJzLnVuaXQgOiAoZW5kVmFycy52YXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgZW5kVmFycy51bml0O1xuICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCBkYXRhKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kVmFycy50eXBlID09PSAnY29sb3InKSB7XG4gICAgICAgIGlmIChlbmRWYXJzLnZhcnMubGVuZ3RoID09PSAzICYmIHN0YXJ0VmFycy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICBlbmRWYXJzLnZhcnNbM10gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSBlbmRWYXJzLnZhcnMubWFwKGZ1bmN0aW9uIChfZW5kRGF0YSwgX2kpIHtcbiAgICAgICAgICB2YXIgc3RhcnREYXRhID0gc3RhcnRWYXJzW19pXSB8fCAwO1xuICAgICAgICAgIHJldHVybiAoX2VuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGRhdGEpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnNldEFuaW1EYXRhKHRoaXMudHdlZW4pO1xufTtcbnAucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICB0aGlzLmRlZmF1bHREYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICB2YXIgaW5pdFRpbWUgPSBpdGVtLmluaXRUaW1lO1xuICAgIHZhciBkdXJhdGlvbiA9ICgwLCBfc3R5bGVVdGlscy50b0ZpeGVkKShpdGVtLmR1cmF0aW9uKTtcbiAgICAvLyDlpITnkIYgeW95byDlkowgcmVwZWF0OyB5b3lvIOaYr+WcqOaXtumXtOi9tOS4iueahCwg5bm25LiN5piv5YCS5pS+XG4gICAgdmFyIHJlcGVhdE51bSA9IE1hdGguY2VpbCgoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKSAvIChkdXJhdGlvbiArIGl0ZW0ucmVwZWF0RGVsYXkpKSAtIDE7XG4gICAgcmVwZWF0TnVtID0gcmVwZWF0TnVtIDwgMCA/IDAgOiByZXBlYXROdW07XG4gICAgLy8gcmVwZWF0TnVtID0gdGhpcy5wcm9ncmVzc1RpbWUgPT09IDAgPyByZXBlYXROdW0gKyAxIDogcmVwZWF0TnVtO1xuICAgIGlmIChpdGVtLnJlcGVhdCkge1xuICAgICAgaWYgKGl0ZW0ucmVwZWF0IDwgcmVwZWF0TnVtICYmIGl0ZW0ucmVwZWF0ICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5yZXBlYXQgfHwgaXRlbS5yZXBlYXQgPD0gcmVwZWF0TnVtKSB7XG4gICAgICAgIGluaXRUaW1lID0gaW5pdFRpbWUgKyByZXBlYXROdW0gKiAoZHVyYXRpb24gKyBpdGVtLnJlcGVhdERlbGF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0YXJ0RGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDA7XG4gICAgdmFyIGVuZERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxO1xuICAgIC8vICDnsr7luqbmjZ/lpLHvvIzlj6rlj5blsI/mlbDngrnlkI4xMOS9jeOAglxuICAgIHZhciBwcm9ncmVzc1RpbWUgPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKTtcbiAgICAvLyDorr7nva4gc3RhcnRcbiAgICB2YXIgZGVsYXkgPSBpdGVtLmRlbGF5ID49IDAgPyBpdGVtLmRlbGF5IDogLWl0ZW0uZGVsYXk7XG4gICAgdmFyIGZyb21EZWxheSA9IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gZGVsYXkgOiAwO1xuICAgIGlmIChwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYuc3RhcnRbaV0pIHtcbiAgICAgIF90aGlzNi5zdGFydFtpXSA9IF90aGlzNi5nZXRBbmltU3RhcnREYXRhKGl0ZW0udmFycyk7XG4gICAgICBpZiAoIV90aGlzNi5yZWdpc3RlciAmJiBwcm9ncmVzc1RpbWUgPD0gX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICAgIF90aGlzNi5yZWdpc3RlciA9IHRydWU7XG4gICAgICAgIC8vIOWcqOW8gOWni+i3s+W4p+aXtuOAguOAglt7eDoxMDAsdHlwZTonZnJvbSd9LHt5OjMwMH1d77yM6Lez6L+H5LqGZnJvbeaXtiwgbW9tZW50ID0gNjAwID0+IOmcgOimgeaKimZyb23lkIjlm57mnaVcbiAgICAgICAgLy8g5aaC5p6cIGR1cmF0aW9uIOWSjCBkZWxheSDpg73kuLogMO+8jCDliKTmlq3nlKhzZXQsIOebtOaOpeazqOWGjOaXtuWwsee7k+adnztcbiAgICAgICAgdmFyIHMgPSBkZWxheSA/IDAgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuICAgICAgICB2YXIgc3MgPSBkdXJhdGlvbiA/IGl0ZW0uZWFzZShwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZSwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbikgOiBzO1xuICAgICAgICB2YXIgc3QgPSBwcm9ncmVzc1RpbWUgLyAoZHVyYXRpb24gKyBmcm9tRGVsYXkpID4gMSA/IDEgOiBzcztcbiAgICAgICAgX3RoaXM2LnNldFJhdGlvKHN0LCBpdGVtLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGUgPSB7XG4gICAgICBpbmRleDogaSxcbiAgICAgIHRhcmdldDogX3RoaXM2LnRhcmdldFxuICAgIH07XG5cbiAgICAvLyBvblJlcGVhdCDlpITnkIZcbiAgICBpZiAoaXRlbS5yZXBlYXQgJiYgcmVwZWF0TnVtID4gMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgIC8vIOmHjeaWsOW8gOWniywg5Zyo56ys5LiA56eS6Kem5Y+R5pe26LCD55SoO1xuICAgICAgaXRlbS5vblJlcGVhdChlKTtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzVGltZSA8IDAgJiYgcHJvZ3Jlc3NUaW1lICsgZnJvbURlbGF5ID4gLV90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgX3RoaXM2LnNldFJhdGlvKGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDAsIGl0ZW0sIGkpO1xuICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IGR1cmF0aW9uICYmIGl0ZW0ubW9kZSAhPT0gJ29uQ29tcGxldGUnKSB7XG4gICAgICB2YXIgY29tcFJhdGlvID0gZHVyYXRpb24gPyBpdGVtLmVhc2UoZHVyYXRpb24sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pIDogaXRlbS5lYXNlKF90aGlzNi50aW55TnVtLCBzdGFydERhdGEsIGVuZERhdGEsIF90aGlzNi50aW55TnVtKTtcbiAgICAgIF90aGlzNi5zZXRSYXRpbyhjb21wUmF0aW8sIGl0ZW0sIGkpO1xuICAgICAgaWYgKGl0ZW0ubW9kZSAhPT0gJ3Jlc2V0Jykge1xuICAgICAgICBpdGVtLm9uQ29tcGxldGUoZSk7XG4gICAgICB9XG4gICAgICBpdGVtLm1vZGUgPSAnb25Db21wbGV0ZSc7XG4gICAgfSBlbHNlIGlmIChwcm9ncmVzc1RpbWUgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBkdXJhdGlvbikge1xuICAgICAgaXRlbS5tb2RlID0gcHJvZ3Jlc3NUaW1lIDwgX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYub25TdGFydFtpXSA/ICdvblN0YXJ0JyA6ICdvblVwZGF0ZSc7XG4gICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZTtcbiAgICAgIHByb2dyZXNzVGltZSA9IHByb2dyZXNzVGltZSA+IGR1cmF0aW9uID8gZHVyYXRpb24gOiBwcm9ncmVzc1RpbWU7XG4gICAgICB2YXIgcmF0aW8gPSBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKTtcbiAgICAgIF90aGlzNi5zZXRSYXRpbyhyYXRpbywgaXRlbSwgaSk7XG4gICAgICBfdGhpczYub25TdGFydFtpXSA9IHRydWU7XG4gICAgICBpZiAocHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgICBpdGVtLm9uU3RhcnQoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLm9uVXBkYXRlKF9leHRlbmRzKHsgcmF0aW86IHJhdGlvIH0sIGUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24gKyBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgIF90aGlzNi5vbkNoYW5nZShfZXh0ZW5kcyh7XG4gICAgICAgIG1vbWVudDogX3RoaXM2LnByb2dyZXNzVGltZSxcbiAgICAgICAgbW9kZTogaXRlbS5tb2RlXG4gICAgICB9LCBlKSk7XG4gICAgfVxuICB9KTtcbn07XG4vLyDmkq3mlL7luKdcbnAuZnJhbWUgPSBmdW5jdGlvbiAobW9tZW50KSB7XG4gIHRoaXMucHJvZ3Jlc3NUaW1lID0gbW9tZW50O1xuICB0aGlzLnJlbmRlcigpO1xufTtcbnAucmVzZXRBbmltRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50d2VlbiA9IHt9O1xuICB0aGlzLnN0YXJ0ID0ge307XG4gIHRoaXMub25TdGFydCA9IHt9O1xufTtcblxucC5yZXNldERlZmF1bHRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgdGhpcy50d2VlbiA9IHt9O1xuICB0aGlzLmRlZmF1bHREYXRhID0gdGhpcy5kZWZhdWx0RGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpdGVtLm1vZGUgPSAncmVzZXQnO1xuICAgIHJldHVybiBpdGVtO1xuICB9KTtcbiAgT2JqZWN0LmtleXModGhpcy5zdGFydERlZmF1bHREYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gZGVmYXVsdERhdGEoe30sIDApKSkge1xuICAgICAgX3RoaXM3LnRhcmdldC5zZXRBdHRyaWJ1dGUoa2V5LCBfdGhpczcuc3RhcnREZWZhdWx0RGF0YVtrZXldKTtcbiAgICB9XG4gIH0pO1xufTtcblxucC5vbkNoYW5nZSA9IG5vb3A7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRpbWVMaW5lO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9UaW1lTGluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Ud2Vlbk9uZSA9IHJlcXVpcmUoJy4vVHdlZW5PbmUnKTtcblxudmFyIF9Ud2Vlbk9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ud2Vlbk9uZSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgVHdlZW5PbmVHcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUd2Vlbk9uZUdyb3VwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUd2Vlbk9uZUdyb3VwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZUdyb3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgX3RoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBfdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIF90aGlzLm9uRW50ZXJCb29sID0gZmFsc2U7XG4gICAgX3RoaXMuaXNUd2VlbiA9IHt9O1xuICAgIC8vIOesrOS4gOi/m+WFpe+8jGFwcGVhciDkuLogdHJ1ZSDml7bpu5jorqTnlKggZW50ZXIg5oiWIHR3ZWVuLW9uZSDkuIrnmoTmlYjmnpxcbiAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKSgoMCwgX3V0aWwuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMpKF90aGlzLnByb3BzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5vbkVudGVyQm9vbCA9IHRydWU7XG4gIH07XG5cbiAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgbmV4dENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICB2YXIgY3VycmVudENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG4gICAgdmFyIG5ld0NoaWxkcmVuID0gKDAsIF91dGlsLm1lcmdlQ2hpbGRyZW4pKGN1cnJlbnRDaGlsZHJlbiwgbmV4dENoaWxkcmVuKTtcblxuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAgbmV4dENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gYy5rZXk7XG4gICAgICB2YXIgaGFzUHJldiA9ICgwLCBfdXRpbC5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkpKGN1cnJlbnRDaGlsZHJlbiwga2V5KTtcbiAgICAgIGlmICghaGFzUHJldiAmJiBrZXkpIHtcbiAgICAgICAgX3RoaXMyLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoIWMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGMua2V5O1xuICAgICAgdmFyIGhhc05leHQgPSAoMCwgX3V0aWwuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KShuZXh0Q2hpbGRyZW4sIGtleSk7XG4gICAgICBpZiAoIWhhc05leHQgJiYga2V5KSB7XG4gICAgICAgIF90aGlzMi5rZXlzVG9MZWF2ZS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSB0aGlzLmdldENoaWxkcmVuVG9SZW5kZXIodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNoaWxkcmVuVG9SZW5kZXJbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgdmFyIGNvbXBvbmVudFByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIFsnY29tcG9uZW50JywgJ2FwcGVhcicsICdlbnRlcicsICdsZWF2ZScsICdhbmltYXRpbmdDbGFzc05hbWUnLCAnb25FbmQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSBjb21wb25lbnRQcm9wc1trZXldO1xuICAgIH0pO1xuICAgIHJldHVybiAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKHRoaXMucHJvcHMuY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIFR3ZWVuT25lR3JvdXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoYW5pbWF0aW9uLCBrZXksIHR5cGUsIG9iaikge1xuICAgIHZhciBsZW5ndGggPSAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKGFuaW1hdGlvbikubGVuZ3RoO1xuICAgIHZhciBhbmltYXRpbmdDbGFzc05hbWUgPSBfdGhpczMucHJvcHMuYW5pbWF0aW5nQ2xhc3NOYW1lO1xuICAgIHZhciB0YWcgPSBvYmoudGFyZ2V0O1xuICAgIHZhciBpc0VudGVyID0gdHlwZSA9PT0gJ2VudGVyJyB8fCB0eXBlID09PSAnYXBwZWFyJztcbiAgICBpZiAob2JqLm1vZGUgPT09ICdvblN0YXJ0Jykge1xuICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDEgOiAwXSwgJycpLnRyaW0oKTtcbiAgICAgIGlmICh0YWcuY2xhc3NOYW1lLmluZGV4T2YoYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0pID09PSAtMSkge1xuICAgICAgICB0YWcuY2xhc3NOYW1lID0gKHRhZy5jbGFzc05hbWUgKyAnICcgKyBhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkudHJpbSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2JqLmluZGV4ID09PSBsZW5ndGggLSAxICYmIG9iai5tb2RlID09PSAnb25Db21wbGV0ZScpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbjtcbiAgICAgIGlmICh0eXBlID09PSAnZW50ZXInKSB7XG4gICAgICAgIF90aGlzMy5rZXlzVG9FbnRlci5zcGxpY2UoX3RoaXMzLmtleXNUb0VudGVyLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsZWF2ZScpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBrZXkgIT09IGNoaWxkLmtleTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5zcGxpY2UoX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICB9XG4gICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdLCAnJykudHJpbSgpO1xuICAgICAgZGVsZXRlIF90aGlzMy5pc1R3ZWVuW2tleV07XG4gICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgIH0pO1xuICAgICAgdmFyIF9vYmogPSB7IGtleToga2V5LCB0eXBlOiB0eXBlIH07XG4gICAgICBfdGhpczMucHJvcHMub25FbmQoX29iaik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0Q292ZXJBbmltYXRpb24gPSBmdW5jdGlvbiAoY2hpbGQsIGksIHR5cGUpIHtcbiAgICB2YXIgYW5pbWF0aW9uID0gdm9pZCAwO1xuICAgIHZhciBvbkNoYW5nZSA9IHZvaWQgMDtcbiAgICBhbmltYXRpb24gPSB0eXBlID09PSAnbGVhdmUnID8gX3RoaXMzLnByb3BzLmxlYXZlIDogX3RoaXMzLnByb3BzLmVudGVyO1xuICAgIGlmICh0eXBlID09PSAnYXBwZWFyJykge1xuICAgICAgdmFyIGFwcGVhciA9ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKF90aGlzMy5wcm9wcy5hcHBlYXIsIGNoaWxkLmtleSwgaSk7XG4gICAgICBhbmltYXRpb24gPSBhcHBlYXIgJiYgX3RoaXMzLnByb3BzLmVudGVyIHx8IG51bGw7XG4gICAgfVxuICAgIG9uQ2hhbmdlID0gX3RoaXMzLm9uQ2hhbmdlLmJpbmQoX3RoaXMzLCBhbmltYXRpb24sIGNoaWxkLmtleSwgdHlwZSk7XG4gICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVHdlZW5PbmUyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7XG4gICAgICB3aWxsQ2hhbmdlOiBfdGhpczMucHJvcHMud2lsbENoYW5nZSxcbiAgICAgIGtleTogY2hpbGQua2V5LFxuICAgICAgY29tcG9uZW50OiBjaGlsZC50eXBlLFxuICAgICAgYW5pbWF0aW9uOiAoMCwgX3V0aWwudHJhbnNmb3JtQXJndW1lbnRzKShhbmltYXRpb24sIGNoaWxkLmtleSwgaSksXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICByZXNldFN0eWxlQm9vbDogX3RoaXMzLnByb3BzLnJlc2V0U3R5bGVCb29sXG4gICAgfSkpO1xuICAgIGlmIChfdGhpczMua2V5c1RvRW50ZXIuY29uY2F0KF90aGlzMy5rZXlzVG9MZWF2ZSkuaW5kZXhPZihjaGlsZC5rZXkpID49IDAgfHwgIV90aGlzMy5vbkVudGVyQm9vbCAmJiBhbmltYXRpb24pIHtcbiAgICAgIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gPSB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH07XG5cbiAgdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgIGlmICghY2hpbGQgfHwgIWNoaWxkLmtleSkge1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuICAgICAgaWYgKF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnbGVhdmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMzLmtleXNUb0VudGVyLmluZGV4T2Yoa2V5KSA+PSAwIHx8IF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2VudGVyJyk7XG4gICAgICB9IGVsc2UgaWYgKCFfdGhpczMub25FbnRlckJvb2wpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2FwcGVhcicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldKSB8fCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHsgY29tcG9uZW50OiBjaGlsZC50eXBlLCBrZXk6IGNoaWxkLmtleSB9KSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG52YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xudmFyIG9iamVjdE9yQXJyYXlPckZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbb2JqZWN0T3JBcnJheSwgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSk7XG5cblR3ZWVuT25lR3JvdXAucHJvcFR5cGVzID0ge1xuICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgYXBwZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGVudGVyOiBvYmplY3RPckFycmF5T3JGdW5jLFxuICBsZWF2ZTogb2JqZWN0T3JBcnJheU9yRnVuYyxcbiAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBvbkVuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbn07XG5cblR3ZWVuT25lR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdkaXYnLFxuICBhcHBlYXI6IHRydWUsXG4gIGFuaW1hdGluZ0NsYXNzTmFtZTogWyd0d2Vlbi1vbmUtZW50ZXJpbmcnLCAndHdlZW4tb25lLWxlYXZpbmcnXSxcbiAgZW50ZXI6IHsgeDogNTAsIG9wYWNpdHk6IDAsIHR5cGU6ICdmcm9tJyB9LFxuICBsZWF2ZTogeyB4OiAtNTAsIG9wYWNpdHk6IDAgfSxcbiAgb25FbmQ6IG5vb3AsXG4gIHdpbGxDaGFuZ2U6IHRydWUsXG4gIHJlc2V0U3R5bGVCb29sOiB0cnVlXG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUd2Vlbk9uZUdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZUdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gMTY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR3ZWVuT25lID0gcmVxdWlyZSgnLi9Ud2Vlbk9uZScpO1xuVHdlZW5PbmUuVHdlZW5PbmVHcm91cCA9IHJlcXVpcmUoJy4vVHdlZW5PbmVHcm91cCcpO1xuVHdlZW5PbmUuZWFzaW5nID0gcmVxdWlyZSgnLi9lYXNpbmcnKTtcbm1vZHVsZS5leHBvcnRzID0gVHdlZW5PbmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMsIG5vLWNvbnNvbGUgKi9cblxuXG52YXIgX3N0eWxlVXRpbHMgPSByZXF1aXJlKCdzdHlsZS11dGlscycpO1xuXG52YXIgX3N0eWxlVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3R5bGVVdGlscyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwuanMnKTtcblxudmFyIF9wbHVnaW5zID0gcmVxdWlyZSgnLi4vcGx1Z2lucycpO1xuXG52YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgU3R5bGVQbHVnaW4gPSBmdW5jdGlvbiBTdHlsZVBsdWdpbih0YXJnZXQsIHZhcnMsIHR5cGUpIHtcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMudmFycyA9IHZhcnM7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMucHJvcHNEYXRhID0ge307XG4gIHRoaXMuc2V0RGVmYXVsdERhdGEoKTtcbn07XG52YXIgcCA9IFN0eWxlUGx1Z2luLnByb3RvdHlwZSA9IHtcbiAgbmFtZTogJ3N0eWxlJ1xufTtcbnAuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3ID8gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnRhcmdldCkgOiB7fTtcbn07XG5wLmdldFR3ZWVuRGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhcnMpIHtcbiAgdmFyIGRhdGEgPSB7XG4gICAgZGF0YToge30sXG4gICAgZGF0YVR5cGU6IHt9LFxuICAgIGRhdGFVbml0OiB7fSxcbiAgICBkYXRhQ291bnQ6IHt9LFxuICAgIGRhdGFTcGxpdFN0cjoge31cbiAgfTtcbiAgaWYgKGtleS5tYXRjaCgvY29sb3xmaWxsfHN0b3JrZXIvaSkpIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKSh2YXJzKTtcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnY29sb3InO1xuICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG4gICAgZGF0YS5kYXRhW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHZhcnMpO1xuICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdzaGFkb3cnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YXJzID09PSAnc3RyaW5nJyAmJiB2YXJzLnNwbGl0KC9bXFxzfCxdLykubGVuZ3RoID4gMSkge1xuICAgIGRhdGEuZGF0YVtrZXldID0gdmFycy5zcGxpdCgvW1xcc3wsXS8pO1xuICAgIGRhdGEuZGF0YVNwbGl0U3RyW2tleV0gPSB2YXJzLnJlcGxhY2UoL1teXFxzfCxdL2csICcnKTtcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc3RyaW5nJztcbiAgfSBlbHNlIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9IHZhcnM7XG4gICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ290aGVyJztcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmRhdGFba2V5XSkpIHtcbiAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG4gICAgICByZXR1cm4gX2l0ZW0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgfSk7XG4gICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcbiAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcbiAgICB9KTtcblxuICAgIGRhdGEuZGF0YVtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuICAgICAgcmV0dXJuICFwYXJzZUZsb2F0KF9pdGVtKSAmJiBwYXJzZUZsb2F0KF9pdGVtKSAhPT0gMCA/IF9pdGVtIDogcGFyc2VGbG9hdChfaXRlbSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YS5kYXRhVW5pdFtrZXldID0gZGF0YS5kYXRhW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuICAgIHZhciBkID0gcGFyc2VGbG9hdChkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1thLXp8JXw9XS9nLCAnJykpO1xuICAgIGRhdGEuZGF0YVtrZXldID0gIWQgJiYgZCAhPT0gMCA/IGRhdGEuZGF0YVtrZXldIDogZDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn07XG5wLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMucHJvcHNEYXRhLmRhdGEgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGUgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YVVuaXQgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50ID0ge307XG4gIHRoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0ciA9IHt9O1xuICBPYmplY3Qua2V5cyh0aGlzLnZhcnMpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzLnRhcmdldCwgX3RoaXMudmFyc1tfa2V5XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXkgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0R3NhcFR5cGUpKF9rZXkpO1xuICAgIHZhciBfZGF0YSA9IF90aGlzLmdldFR3ZWVuRGF0YShrZXksIF90aGlzLnZhcnNbX2tleV0pO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW2tleV0gPSBfZGF0YS5kYXRhW2tleV07XG4gICAgX3RoaXMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV0gPSBfZGF0YS5kYXRhVHlwZVtrZXldO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldID0gX2RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV0gPSBfZGF0YS5kYXRhQ291bnRba2V5XTtcbiAgICBpZiAoX2RhdGEuZGF0YVNwbGl0U3RyW2tleV0pIHtcbiAgICAgIF90aGlzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHJba2V5XSA9IF9kYXRhLmRhdGFTcGxpdFN0cltrZXldO1xuICAgIH1cbiAgfSk7XG59O1xucC5jb252ZXJ0VG9NYXJrc0FycmF5ID0gZnVuY3Rpb24gKHVuaXQsIGtleSwgZGF0YSwgaSkge1xuICB2YXIgc3RhcnRVbml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgdmFyIGVuZFVuaXQgPSB1bml0W2ldO1xuICBpZiAoc3RhcnRVbml0ID09PSBlbmRVbml0KSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSk7XG4gIH0gZWxzZSBpZiAoIXBhcnNlRmxvYXQoZGF0YSkgJiYgcGFyc2VGbG9hdChkYXRhKSAhPT0gMCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHJldHVybiAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KSh0aGlzLnRhcmdldCwga2V5LCBkYXRhLCBzdGFydFVuaXQsIGVuZFVuaXQsIG51bGwsIGtleSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgJiYgIWkpO1xufTtcbnAuZ2V0QW5pbVN0YXJ0ID0gZnVuY3Rpb24gKHdpbGxDaGFuZ2VCb29sKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHZhciBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG4gIHZhciBzdHlsZSA9IHt9O1xuICB0aGlzLnN1cHBvcnRzM0QgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdwZXJzcGVjdGl2ZScpO1xuICB2YXIgd2lsbENoYW5nZUFycmF5ID0gdm9pZCAwO1xuICBpZiAod2lsbENoYW5nZUJvb2wpIHtcbiAgICB0aGlzLndpbGxDaGFuZ2UgPSBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdhdXRvJyB8fCAhY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlIHx8IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSA9PT0gJ25vbmUnID8gJycgOiBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2U7XG4gICAgd2lsbENoYW5nZUFycmF5ID0gdGhpcy53aWxsQ2hhbmdlLnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gaztcbiAgICB9KTtcbiAgfVxuICBPYmplY3Qua2V5cyh0aGlzLnByb3BzRGF0YS5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY3NzTmFtZSA9ICgwLCBfc3R5bGVVdGlscy5pc0NvbnZlcnQpKGtleSk7XG4gICAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG4gICAgICB2YXIgd2lsbFN0eWxlID0ga2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gPyBfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XS51c2VTdHlsZSB8fCBjc3NOYW1lIDogY3NzTmFtZTtcbiAgICAgIHdpbGxTdHlsZSA9IHdpbGxTdHlsZSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgPyAndHJhbnNmb3JtLW9yaWdpbicgOiB3aWxsU3R5bGU7XG4gICAgICBpZiAod2lsbENoYW5nZUFycmF5LmluZGV4T2Yod2lsbFN0eWxlKSA9PT0gLTEgJiYgKHdpbGxTdHlsZSBpbiBjb21wdXRlZFN0eWxlIHx8IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSkge1xuICAgICAgICB3aWxsQ2hhbmdlQXJyYXkucHVzaCh3aWxsU3R5bGUpO1xuICAgICAgfVxuICAgICAgX3RoaXMyLndpbGxDaGFuZ2UgPSB3aWxsQ2hhbmdlQXJyYXkuam9pbignLCcpO1xuICAgIH1cbiAgICB2YXIgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtjc3NOYW1lXTtcbiAgICB2YXIgZml4ZWQgPSBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgIGlmICghc3RhcnREYXRhIHx8IHN0YXJ0RGF0YSA9PT0gJ25vbmUnIHx8IHN0YXJ0RGF0YSA9PT0gJ2F1dG8nKSB7XG4gICAgICBzdGFydERhdGEgPSAnJztcbiAgICB9XG4gICAgdmFyIHRyYW5zZm9ybSA9IHZvaWQgMDtcbiAgICB2YXIgZW5kVW5pdCA9IHZvaWQgMDtcbiAgICB2YXIgc3RhcnRVbml0ID0gdm9pZCAwO1xuICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuICAgICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi50cmFuc2Zvcm1dO1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcbiAgICAgIH1cbiAgICAgIF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldLmdldEFuaW1TdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgIF90aGlzMi50cmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCd0cmFuc2Zvcm0nKTtcbiAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLnRyYW5zZm9ybV07XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG4gICAgICBpZiAoZW5kVW5pdCAmJiBlbmRVbml0Lm1hdGNoKC8lfHZ3fHZofGVtfHJlbS9pKSkge1xuICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG4gICAgICAgIHRyYW5zZm9ybVtwZXJjZW50XSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGtleSwgdHJhbnNmb3JtW2tleV0sIG51bGwsIGVuZFVuaXQpO1xuICAgICAgICB0cmFuc2Zvcm1ba2V5XSA9IDA7XG4gICAgICB9XG4gICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfSBlbHNlIGlmIChjc3NOYW1lID09PSAnZmlsdGVyJykge1xuICAgICAgX3RoaXMyLmZpbHRlck5hbWUgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdmaWx0ZXInKSB8fCAnZmlsdGVyJztcbiAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLmZpbHRlck5hbWVdO1xuICAgICAgX3RoaXMyLmZpbHRlck9iamVjdCA9IF9leHRlbmRzKHt9LCBfdGhpczIuZmlsdGVyT2JqZWN0LCAoMCwgX3N0eWxlVXRpbHMuc3BsaXRGaWx0ZXJUb09iamVjdCkoc3RhcnREYXRhKSk7XG4gICAgICBzdGFydERhdGEgPSBfdGhpczIuZmlsdGVyT2JqZWN0W2tleV0gfHwgMDtcbiAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG4gICAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGNzc05hbWUsIHBhcnNlRmxvYXQoc3RhcnREYXRhKSwgc3RhcnRVbml0LCBlbmRVbml0LCBmaXhlZCk7XG4gICAgICB9XG4gICAgICBzdHlsZVtrZXldID0gcGFyc2VGbG9hdChzdGFydERhdGEpO1xuICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9jb2xvcnxmaWxsL2kpIHx8IGtleSA9PT0gJ3N0cm9rZScpIHtcbiAgICAgIHN0YXJ0RGF0YSA9ICFzdGFydERhdGEgJiYga2V5ID09PSAnc3Ryb2tlJyA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyA6IHN0YXJ0RGF0YTtcbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHN0YXJ0RGF0YSk7XG4gICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuICAgICAgc3RhcnREYXRhID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlU2hhZG93KShzdGFydERhdGEpO1xuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuICAgICAgc3R5bGVbY3NzTmFtZV0gPSBzdGFydERhdGE7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldKSkge1xuICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLnNwbGl0KC9bXFxzfCxdLyk7XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG4gICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6K6h566X5Y2V5L2NXG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtjc3NOYW1lXTtcbiAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgIGlmIChlbmRVbml0ICE9PSBzdGFydFVuaXQpIHtcbiAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gcGFyc2VGbG9hdChzdGFydERhdGEgfHwgMCk7XG4gICAgfVxuICB9KTtcbiAgdGhpcy5zdGFydCA9IHN0eWxlO1xuICByZXR1cm4gc3R5bGU7XG59O1xucC5zZXRBcnJheVJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBzdGFydCwgdmFycywgdW5pdCwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gJ2NvbG9yJyAmJiBzdGFydC5sZW5ndGggPT09IDQgJiYgdmFycy5sZW5ndGggPT09IDMpIHtcbiAgICB2YXJzWzNdID0gMTtcbiAgfVxuICB2YXIgc3RhcnRJbnNldCA9IHN0YXJ0LmluZGV4T2YoJ2luc2V0JykgPj0gMDtcbiAgdmFyIGVuZEluc2V0ID0gdmFycy5pbmRleE9mKCdpbnNldCcpID49IDA7XG4gIGlmIChzdGFydEluc2V0ICYmICFlbmRJbnNldCB8fCBlbmRJbnNldCAmJiAhc3RhcnRJbnNldCkge1xuICAgIHRocm93IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBcImJveC1zaGFkb3dcIiBpbnNldCBoYXZlIHRvIGV4aXN0Jyk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IGVuZEluc2V0ID8gOSA6IDg7XG4gIGlmIChzdGFydC5sZW5ndGggPT09IGxlbmd0aCAmJiB2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgIHZhcnMuc3BsaWNlKDMsIDAsIDApO1xuICAgIHVuaXQuc3BsaWNlKDMsIDAsICcnKTtcbiAgfSBlbHNlIGlmICh2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoICYmIHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgIHN0YXJ0LnNwbGljZSgzLCAwLCAwKTtcbiAgfVxuICB2YXIgX3ZhcnMgPSB2YXJzLm1hcChmdW5jdGlvbiAoZW5kRGF0YSwgaSkge1xuICAgIHZhciBzdGFydElzQWxwaGEgPSB0eXBlID09PSAnY29sb3InICYmIGkgPT09IDMgJiYgIXN0YXJ0W2ldID8gMSA6IDA7XG4gICAgdmFyIHN0YXJ0RGF0YSA9IHR5cGVvZiBzdGFydFtpXSA9PT0gJ251bWJlcicgPyBzdGFydFtpXSA6IHN0YXJ0SXNBbHBoYTtcbiAgICBpZiAodHlwZW9mIGVuZERhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZW5kRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIChlbmREYXRhIC0gc3RhcnREYXRhKSAqIHJhdGlvICsgc3RhcnREYXRhICsgKHVuaXRbaV0gfHwgMCk7XG4gIH0pO1xuICBpZiAodHlwZSA9PT0gJ2NvbG9yJykge1xuICAgIHJldHVybiAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKF92YXJzKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnc2hhZG93Jykge1xuICAgIHZhciBsID0gX3ZhcnMubGVuZ3RoID09PSBsZW5ndGggPyA0IDogMztcbiAgICB2YXIgcyA9IF92YXJzLnNsaWNlKDAsIGwpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaXRlbSArICdweCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbiAgICB2YXIgYyA9IF92YXJzLnNsaWNlKGwsIGVuZEluc2V0ID8gX3ZhcnMubGVuZ3RoIC0gMSA6IF92YXJzLmxlbmd0aCk7XG4gICAgdmFyIGNvbG9yID0gKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShjKTtcbiAgICByZXR1cm4gKHMuam9pbignICcpICsgJyAnICsgY29sb3IgKyAnICcgKyAoZW5kSW5zZXQgPyAnaW5zZXQnIDogJycpKS50cmltKCk7XG4gIH1cbiAgcmV0dXJuIF92YXJzO1xufTtcblxucC5zZXRSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgdHdlZW4pIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdHdlZW4uc3R5bGUgPSB0d2Vlbi5zdHlsZSB8fCB7fTtcbiAgaWYgKHRoaXMuc3RhcnQudHJhbnNmb3JtKSB7XG4gICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtID0gdHdlZW4uc3R5bGUudHJhbnNmb3JtIHx8IF9leHRlbmRzKHt9LCB0aGlzLnN0YXJ0LnRyYW5zZm9ybSk7XG4gIH1cbiAgdmFyIHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG4gIGlmICh0aGlzLndpbGxDaGFuZ2UpIHtcbiAgICBpZiAocmF0aW8gPT09ICh0aGlzLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxKSkge1xuICAgICAgc3R5bGUud2lsbENoYW5nZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLndpbGxDaGFuZ2UgPSB0aGlzLndpbGxDaGFuZ2U7XG4gICAgfVxuICB9XG4gIE9iamVjdC5rZXlzKHRoaXMucHJvcHNEYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBfaXNUcmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuaXNUcmFuc2Zvcm0pKGtleSkgPT09ICd0cmFuc2Zvcm0nO1xuICAgIHZhciBzdGFydFZhcnMgPSBfaXNUcmFuc2Zvcm0gPyBfdGhpczMuc3RhcnQudHJhbnNmb3JtW2tleV0gOiBfdGhpczMuc3RhcnRba2V5XTtcbiAgICB2YXIgZW5kVmFycyA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVtrZXldO1xuICAgIHZhciB1bml0ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgIHZhciBjb3VudCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV07XG4gICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XS5zZXRSYXRpbyhyYXRpbywgdHdlZW4pO1xuICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgc3R5bGVbX3RoaXMzLnRyYW5zZm9ybV0gPSAoMCwgX3V0aWwuZ2V0VHJhbnNmb3JtVmFsdWUpKHR3ZWVuLnN0eWxlLnRyYW5zZm9ybSwgX3RoaXMzLnN1cHBvcnRzM0QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmtleXModHdlZW4uc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGNzcykge1xuICAgICAgICAgIHJldHVybiBzdHlsZVtjc3NdID0gdHdlZW4uc3R5bGVbY3NzXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChfaXNUcmFuc2Zvcm0pIHtcbiAgICAgIGlmICh1bml0ICYmIHVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG4gICAgICAgIHZhciBwTmFtZSA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG4gICAgICAgIHN0YXJ0VmFycyA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm1bcE5hbWVdO1xuICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvICsgdW5pdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NjYWxlJykge1xuICAgICAgICB2YXIgeFN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVg7XG4gICAgICAgIHZhciB5U3RhcnQgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtLnNjYWxlWTtcbiAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IHhTdGFydCArIGVuZFZhcnMgKiByYXRpbztcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVZID0geVN0YXJ0ICsgZW5kVmFycyAqIHJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVggPSAoZW5kVmFycyAtIHhTdGFydCkgKiByYXRpbyArIHhTdGFydDtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVZID0gKGVuZFZhcnMgLSB5U3RhcnQpICogcmF0aW8gKyB5U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtrZXldID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnM7XG4gICAgICB9XG4gICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVuZFZhcnMpKSB7XG4gICAgICB2YXIgX3R5cGUgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV07XG4gICAgICB0d2Vlbi5zdHlsZVtrZXldID0gX3RoaXMzLnNldEFycmF5UmF0aW8ocmF0aW8sIHN0YXJ0VmFycywgZW5kVmFycywgdW5pdCwgX3R5cGUpO1xuICAgICAgaWYgKF90eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XS5qb2luKF90aGlzMy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3R5bGVVbml0ID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIDApO1xuICAgICAgc3R5bGVVbml0ID0gdHlwZW9mIHN0eWxlVW5pdCA9PT0gJ251bWJlcicgPyAnJyA6IHN0eWxlVW5pdC5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICB1bml0ID0gdW5pdCB8fCAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDAgPyAnJyA6IHN0eWxlVW5pdCk7XG4gICAgICBpZiAodHlwZW9mIGVuZFZhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBlbmRWYXJzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbyArIHVuaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgdW5pdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgIGlmICghX3RoaXMzLmZpbHRlck9iamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpczMuZmlsdGVyT2JqZWN0W2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuICAgICAgdmFyIGZpbHRlclN0eWxlID0gJyc7XG4gICAgICBPYmplY3Qua2V5cyhfdGhpczMuZmlsdGVyT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChmaWx0ZXJLZXkpIHtcbiAgICAgICAgZmlsdGVyU3R5bGUgKz0gJyAnICsgZmlsdGVyS2V5ICsgJygnICsgX3RoaXMzLmZpbHRlck9iamVjdFtmaWx0ZXJLZXldICsgJyknO1xuICAgICAgfSk7XG4gICAgICBzdHlsZVtfdGhpczMuZmlsdGVyTmFtZV0gPSBmaWx0ZXJTdHlsZS50cmltKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0eWxlW2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuICB9KTtcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN0eWxlUGx1Z2luO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW4vU3R5bGVQbHVnaW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoJ3JhZicpO1xuXG52YXIgX3JhZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFRpY2tlciA9IGZ1bmN0aW9uIFRpY2tlcigpIHt9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG5cblxudmFyIHAgPSBUaWNrZXIucHJvdG90eXBlID0ge1xuICB0aWNrRm5PYmplY3Q6IHt9LFxuICBpZDogLTEsXG4gIHR3ZWVuSWQ6IDAsXG4gIGZyYW1lOiAwLFxuICBwZXJGcmFtZTogTWF0aC5yb3VuZCgxMDAwIC8gNjApLFxuICBnZXRUaW1lOiBEYXRlLm5vdyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9LFxuICBlbGFwc2VkOiAwLFxuICBsYXN0VXBkYXRlOiAwLFxuICBza2lwRnJhbWVNYXg6IDE2NlxufTtcbnAuYWRkID0gZnVuY3Rpb24gKGZuKSB7XG4gIHZhciBrZXkgPSAndHdlZW5PbmUnICsgdGhpcy50d2VlbklkO1xuICB0aGlzLnR3ZWVuSWQrKztcbiAgdGhpcy53YWtlKGtleSwgZm4pO1xuICByZXR1cm4ga2V5O1xufTtcbnAud2FrZSA9IGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gIHRoaXMudGlja0ZuT2JqZWN0W2tleV0gPSBmbjtcbiAgaWYgKHRoaXMuaWQgPT09IC0xKSB7XG4gICAgdGhpcy5pZCA9ICgwLCBfcmFmMltcImRlZmF1bHRcIl0pKHRoaXMudGljayk7XG4gIH1cbn07XG5wLmNsZWFyID0gZnVuY3Rpb24gKGtleSkge1xuICBkZWxldGUgdGhpcy50aWNrRm5PYmplY3Rba2V5XTtcbn07XG5wLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuICBfcmFmMltcImRlZmF1bHRcIl0uY2FuY2VsKHRoaXMuaWQpO1xuICB0aGlzLmlkID0gLTE7XG4gIHRoaXMuZnJhbWUgPSAwO1xufTtcbnZhciB0aWNrZXIgPSBuZXcgVGlja2VyKCk7XG5wLnRpY2sgPSBmdW5jdGlvbiAoYSkge1xuICB0aWNrZXIuZWxhcHNlZCA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmdldFRpbWUoKSAtIHRpY2tlci5sYXN0VXBkYXRlIDogMDtcbiAgdGlja2VyLmxhc3RVcGRhdGUgPSB0aWNrZXIubGFzdFVwZGF0ZSA/IHRpY2tlci5sYXN0VXBkYXRlICsgdGlja2VyLmVsYXBzZWQgOiB0aWNrZXIuZ2V0VGltZSgpICsgdGlja2VyLmVsYXBzZWQ7XG4gIHZhciBvYmogPSB0aWNrZXIudGlja0ZuT2JqZWN0O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChvYmpba2V5XSkge1xuICAgICAgb2JqW2tleV0oYSk7XG4gICAgfVxuICB9KTtcbiAgLy8g5aaC5p6cIG9iamVjdCDph4zmsqHlr7nosaHkuobvvIzoh6rliqjmnYDmjonvvJtcbiAgaWYgKCFPYmplY3Qua2V5cyhvYmopLmxlbmd0aCkge1xuICAgIHRpY2tlci5zbGVlcCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGlja2VyLmVsYXBzZWQgPiB0aWNrZXIuc2tpcEZyYW1lTWF4IHx8ICF0aWNrZXIuZnJhbWUpIHtcbiAgICB0aWNrZXIuZnJhbWUrKztcbiAgfSBlbHNlIHtcbiAgICB0aWNrZXIuZnJhbWUgKz0gTWF0aC5yb3VuZCh0aWNrZXIuZWxhcHNlZCAvIHRpY2tlci5wZXJGcmFtZSk7XG4gIH1cbiAgdGlja2VyLmlkID0gKDAsIF9yYWYyW1wiZGVmYXVsdFwiXSkodGlja2VyLnRpY2spO1xufTtcbnZhciB0aW1lb3V0SWROdW1iZXIgPSAwO1xucC50aW1lb3V0ID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiBjb25zb2xlLndhcm4oJ0lzIG5vIGZ1bmN0aW9uJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxuICB2YXIgdGltZW91dElEID0gJ3RpbWVvdXQnICsgRGF0ZS5ub3coKSArICctJyArIHRpbWVvdXRJZE51bWJlcjtcbiAgdmFyIHN0YXJ0RnJhbWUgPSB0aGlzLmZyYW1lO1xuICB0aGlzLndha2UodGltZW91dElELCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vbWVudCA9IChfdGhpcy5mcmFtZSAtIHN0YXJ0RnJhbWUpICogX3RoaXMucGVyRnJhbWU7XG4gICAgaWYgKG1vbWVudCA+PSAodGltZSB8fCAwKSkge1xuICAgICAgX3RoaXMuY2xlYXIodGltZW91dElEKTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9KTtcbiAgdGltZW91dElkTnVtYmVyKys7XG4gIHJldHVybiB0aW1lb3V0SUQ7XG59O1xudmFyIGludGVydmFsSWROdW1iZXIgPSAwO1xucC5pbnRlcnZhbCA9IGZ1bmN0aW9uIChmbiwgdGltZSkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBpZiAoISh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGludGVydmFsSUQgPSAnaW50ZXJ2YWwnICsgRGF0ZS5ub3coKSArICctJyArIGludGVydmFsSWROdW1iZXI7XG4gIHZhciBzdGFyRnJhbWUgPSB0aGlzLmZyYW1lO1xuICB0aGlzLndha2UoaW50ZXJ2YWxJRCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb21lbnQgPSAoX3RoaXMyLmZyYW1lIC0gc3RhckZyYW1lKSAqIF90aGlzMi5wZXJGcmFtZTtcbiAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG4gICAgICBzdGFyRnJhbWUgPSBfdGhpczIuZnJhbWU7XG4gICAgICBmbigpO1xuICAgIH1cbiAgfSk7XG4gIGludGVydmFsSWROdW1iZXIrKztcbiAgcmV0dXJuIGludGVydmFsSUQ7XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aWNrZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3RpY2tlci5qc1xuICoqIG1vZHVsZSBpZCA9IDE2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8vIHQ6IGN1cnJlbnQgdGltZSwgYjogYmVnaW5uaW5nIHZhbHVlLCBfYzogZmluYWwgdmFsdWUsIGQ6IHRvdGFsIGR1cmF0aW9uXG52YXIgdHdlZW5GdW5jdGlvbnMgPSB7XG4gIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbiAgfSxcbiAgZWFzZUluUXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gIH0sXG4gIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJblNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICB9LFxuICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluRXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gKHQ9PTApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0L2QgLSAxKSkgKyBiO1xuICB9LFxuICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gKHQ9PWQpID8gYitjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdC9kKSArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIGlmICh0ID09PSBkKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuICB9LFxuICBlYXNlT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluRWxhc3RpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgYSwgcCwgcztcbiAgICBzID0gMS43MDE1ODtcbiAgICBwID0gMDtcbiAgICBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogMC4zO1xuICAgIH1cbiAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICBhID0gYztcbiAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICB9XG4gICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgfSxcbiAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIGEsIHAsIHM7XG4gICAgcyA9IDEuNzAxNTg7XG4gICAgcCA9IDA7XG4gICAgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH0gZWxzZSBpZiAoKHQgLz0gZCkgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBzID0gcCAvIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgfVxuICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciBhLCBwLCBzO1xuICAgIHMgPSAxLjcwMTU4O1xuICAgIHAgPSAwO1xuICAgIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2UgaWYgKCh0IC89IGQgLyAyKSA9PT0gMikge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG4gICAgfVxuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgIH1cbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiAtMC41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBjICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICB9LFxuICBlYXNlT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgdjtcbiAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCk7XG4gICAgcmV0dXJuIGMgLSB2ICsgYjtcbiAgfSxcbiAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICB9IGVsc2UgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgMC43NSkgKyBiO1xuICAgIH0gZWxzZSBpZiAodCA8IDIuNSAvIDIuNzUpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuMjUgLyAyLjc1KSAqIHQgKyAwLjkzNzUpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAwLjk4NDM3NSkgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciB2O1xuICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlSW5Cb3VuY2UodCAqIDIsIDAsIGMsIGQpO1xuICAgICAgcmV0dXJuIHYgKiAwLjUgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZSh0ICogMiAtIGQsIDAsIGMsIGQpO1xuICAgICAgcmV0dXJuIHYgKiAwLjUgKyBjICogMC41ICsgYjtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdHdlZW5GdW5jdGlvbnM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90d2Vlbi1mdW5jdGlvbnMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLyogIVxuICogdHlwZS1kZXRlY3RcbiAqIENvcHlyaWdodChjKSAyMDEzIGpha2UgbHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cbnZhciBnZXRQcm90b3R5cGVPZkV4aXN0cyA9IHR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPT09ICdmdW5jdGlvbic7XG52YXIgcHJvbWlzZUV4aXN0cyA9IHR5cGVvZiBQcm9taXNlID09PSAnZnVuY3Rpb24nO1xudmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiBzZWxmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG52YXIgaXNEb20gPSAnbG9jYXRpb24nIGluIGdsb2JhbE9iamVjdCAmJiAnZG9jdW1lbnQnIGluIGdsb2JhbE9iamVjdDtcbnZhciBodG1sRWxlbWVudEV4aXN0cyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgaXNBcnJheUV4aXN0cyA9IHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nO1xudmFyIHN5bWJvbEV4aXN0cyA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnO1xudmFyIG1hcEV4aXN0cyA9IHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnO1xudmFyIHNldEV4aXN0cyA9IHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnO1xudmFyIHdlYWtNYXBFeGlzdHMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgd2Vha1NldEV4aXN0cyA9IHR5cGVvZiBXZWFrU2V0ICE9PSAndW5kZWZpbmVkJztcbnZhciBkYXRhVmlld0V4aXN0cyA9IHR5cGVvZiBEYXRhVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc3ltYm9sSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc2V0RW50cmllc0V4aXN0cyA9IHNldEV4aXN0cyAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xudmFyIG1hcEVudHJpZXNFeGlzdHMgPSBtYXBFeGlzdHMgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzZXRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mRXhpc3RzICYmIHNldEVudHJpZXNFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBTZXQoKS5lbnRyaWVzKCkpO1xudmFyIG1hcEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgbWFwRW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IE1hcCgpLmVudHJpZXMoKSk7XG52YXIgYXJyYXlJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBhcnJheUl0ZXJhdG9yUHJvdG90eXBlID0gYXJyYXlJdGVyYXRvckV4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoW11bU3ltYm9sLml0ZXJhdG9yXSgpKTtcbnZhciBzdHJpbmdJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSA9IHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZignJ1tTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoID0gODtcbnZhciB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGggPSAtMTtcbi8qKlxuICogIyMjIHR5cGVPZiAob2JqKVxuICpcbiAqIFVzZXMgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QsXG4gKiBub3JtYWxpc2luZyBiZWhhdmlvdXIgYWNyb3NzIGVuZ2luZSB2ZXJzaW9ucyAmIHdlbGwgb3B0aW1pc2VkLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICogQHJldHVybiB7U3RyaW5nfSBvYmplY3QgdHlwZVxuICogQGFwaSBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0eXBlRGV0ZWN0KG9iaikge1xuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMywwMzksMDM1IG9wcy9zZWMgwrExLjYyJSAoNzggcnVucyBzYW1wbGVkKVxuICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDEsNDI0LDEzOCBvcHMvc2VjIMKxNC41NCUgKDc1IHJ1bnMgc2FtcGxlZClcbiAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAxLDY1MywxNTMgb3BzL3NlYyDCsTEuOTElICg4MiBydW5zIHNhbXBsZWQpXG4gICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggOSw5NzgsNjYwIG9wcy9zZWMgwrExLjkyJSAoNzUgcnVucyBzYW1wbGVkKVxuICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDIsNTU2LDc2OSBvcHMvc2VjIMKxMS43MyUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzOCw1NjQsNzk2IG9wcy9zZWMgwrExLjE1JSAoNzkgcnVucyBzYW1wbGVkKVxuICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDMxLDE0OCw5NDAgb3BzL3NlYyDCsTEuMTAlICg3OSBydW5zIHNhbXBsZWQpXG4gICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMzIsNjc5LDMzMCBvcHMvc2VjIMKxMS45MCUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICogICB1bmRlZmluZWQgICAgICAgICAgeCAzMiwzNjMsMzY4IG9wcy9zZWMgwrExLjA3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDMxLDI5Niw4NzAgb3BzL3NlYyDCsTAuOTYlICg4MyBydW5zIHNhbXBsZWQpXG4gICAqL1xuICB2YXIgdHlwZW9mT2JqID0gdHlwZW9mIG9iajtcbiAgaWYgKHR5cGVvZk9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdHlwZW9mT2JqO1xuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDI4LDY0NSw3NjUgb3BzL3NlYyDCsTEuMTclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgbnVsbCAgICAgICAgICAgICAgIHggMzYsNDI4LDk2MiBvcHMvc2VjIMKxMS4zNyUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gJ251bGwnO1xuICB9XG5cbiAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KWBgXG4gICAqICAtIE5vZGUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gUGhhbnRvbUpTID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBJRSBFZGdlID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcylgYFxuICAgKiAgLSBDaHJvbWUgV29ya2VyID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIEZpcmVmb3ggV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gU2FmYXJpIFdvcmtlciA9PT0gXCJbb2JqZWN0IERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIElFIDExIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIElFIEVkZ2UgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICovXG4gIGlmIChvYmogPT09IGdsb2JhbE9iamVjdCkge1xuICAgIHJldHVybiAnZ2xvYmFsJztcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyLDg4OCwzNTIgb3BzL3NlYyDCsTAuNjclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMjIsNDc5LDY1MCBvcHMvc2VjIMKxMC45NiUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIGlmIChpc0FycmF5RXhpc3RzICYmIEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiAnQXJyYXknO1xuICB9XG5cbiAgaWYgKGlzRG9tKSB7XG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Jyb3dzZXJzLmh0bWwjbG9jYXRpb24pXG4gICAgICogV2hhdFdHIEhUTUwkNy43LjMgLSBUaGUgYExvY2F0aW9uYCBpbnRlcmZhY2VcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5sb2NhdGlvbilgYFxuICAgICAqICAtIElFIDw9MTEgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBJRSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QubG9jYXRpb24pIHtcbiAgICAgIHJldHVybiAnTG9jYXRpb24nO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNkb2N1bWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQzLjEuMSAtIFRoZSBgRG9jdW1lbnRgIG9iamVjdFxuICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtMjY4MDkyNjgpXG4gICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAqICAgICAgIFdoYXRXRyBIVE1MIHN0YXRlczpcbiAgICAgKiAgICAgICAgID4gRm9yIGhpc3RvcmljYWwgcmVhc29ucywgV2luZG93IG9iamVjdHMgbXVzdCBhbHNvIGhhdmUgYVxuICAgICAqICAgICAgICAgPiB3cml0YWJsZSwgY29uZmlndXJhYmxlLCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lZFxuICAgICAqICAgICAgICAgPiBIVE1MRG9jdW1lbnQgd2hvc2UgdmFsdWUgaXMgdGhlIERvY3VtZW50IGludGVyZmFjZSBvYmplY3QuXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudClgYFxuICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5kb2N1bWVudCkge1xuICAgICAgcmV0dXJuICdEb2N1bWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNtaW1ldHlwZWFycmF5KVxuICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIE1pbWVUeXBlQXJyYXlcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5taW1lVHlwZXMpYGBcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNNaW1lVHlwZXNDb2xsZWN0aW9uXVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLm1pbWVUeXBlcykge1xuICAgICAgcmV0dXJuICdNaW1lVHlwZUFycmF5JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIFBsdWdpbkFycmF5XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuYXZpZ2F0b3IucGx1Z2lucylgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU1BsdWdpbnNDb2xsZWN0aW9uXVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLnBsdWdpbnMpIHtcbiAgICAgIHJldHVybiAnUGx1Z2luQXJyYXknO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkNC40LjQgLSBUaGUgYGJsb2NrcXVvdGVgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxRdW90ZUVsZW1lbnRgXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJykpYGBcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgSFRNTEJsb2NrRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG4gICAgICByZXR1cm4gJ0hUTUxRdW90ZUVsZW1lbnQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVkYXRhY2VsbGVsZW1lbnQpXG4gICAgICogV2hhdFdHIEhUTUwkNC45LjkgLSBUaGUgYHRkYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnRgXG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC04MjkxNTA3NSlcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogVGVzdDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1REJykge1xuICAgICAgcmV0dXJuICdIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVoZWFkZXJjZWxsZWxlbWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50YFxuICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG4gICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdUSCcpIHtcbiAgICAgIHJldHVybiAnSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQnO1xuICAgIH1cbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNjI1LDY0NCBvcHMvc2VjIMKxMS41OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDEsMjc5LDg1MiBvcHMvc2VjIMKxMi45MSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDEsMTc4LDE4NSBvcHMvc2VjIMKxMS45NSUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDEsMDA4LDM4MCBvcHMvc2VjIMKxMi4yNSUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDEsMTI4LDA0MCBvcHMvc2VjIMKxMi4xMSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDEsMTcwLDExOSBvcHMvc2VjIMKxMi44OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDEsMTc2LDM0OCBvcHMvc2VjIMKxNS43OSUgKDg2IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDEsMDU4LDcwNyBvcHMvc2VjIMKxNC45NCUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDEsMTEwLDYzMyBvcHMvc2VjIMKxNC4yMCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNywxMDUsNjcxIG9wcy9zZWMgwrExMy40NyUgKDY0IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDUsODg3LDkxMiBvcHMvc2VjIMKxMS40NiUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDYsNDkxLDY2MSBvcHMvc2VjIMKxMS43NiUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDYsNTU5LDc5NSBvcHMvc2VjIMKxMS42NyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDYsNDYzLDk2NiBvcHMvc2VjIMKxMS40MyUgKDg1IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDUsNjQxLDg0MSBvcHMvc2VjIMKxMy40OSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDYsNTgzLDUxMSBvcHMvc2VjIMKxMS45OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDYsNjA2LDA3OCBvcHMvc2VjIMKxMS43NCUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDYsNjAyLDIyNCBvcHMvc2VjIMKxMS43NyUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKi9cbiAgdmFyIHN0cmluZ1RhZyA9IChzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyAmJiBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gIGlmICh0eXBlb2Ygc3RyaW5nVGFnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHJpbmdUYWc7XG4gIH1cblxuICBpZiAoZ2V0UHJvdG90eXBlT2ZFeGlzdHMpIHtcbiAgICB2YXIgb2JqUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMSw3NzIsMzg1IG9wcy9zZWMgwrExLjg1JSAoNzcgcnVucyBzYW1wbGVkKVxuICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAyLDE0Myw2MzQgb3BzL3NlYyDCsTIuNDYlICg3OCBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAzLDkyOCwwMDkgb3BzL3NlYyDCsTAuNjUlICg3OCBydW5zIHNhbXBsZWQpXG4gICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDMsOTMxLDEwOCBvcHMvc2VjIMKxMC41OCUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IFJlZ0V4cC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnUmVnRXhwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAyLDEzMCwwNzQgb3BzL3NlYyDCsTQuNDIlICg2OCBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAzLDk1Myw3Nzkgb3BzL3NlYyDCsTEuMzUlICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAob2JqUHJvdG90eXBlID09PSBEYXRlLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdEYXRlJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1wcm9taXNlLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyNS40LjUuNCAtIFByb21pc2UucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlByb21pc2VcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFByb21pc2UucmVzb2x2ZSgpKWBgXG4gICAgICogIC0gQ2hyb21lIDw9NDcgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBFZGdlIDw9MjAgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBGaXJlZm94IDI5LUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcbiAgICAgKiAgLSBTYWZhcmkgNy4xLUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcbiAgICAgKi9cbiAgICBpZiAocHJvbWlzZUV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFByb21pc2UucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1Byb21pc2UnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDIsMjIyLDE4NiBvcHMvc2VjIMKxMS4zMSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDQsNTQ1LDg3OSBvcHMvc2VjIMKxMS4xMyUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBTZXQucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1NldCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggMiwzOTYsODQyIG9wcy9zZWMgwrExLjU5JSAoODEgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggNCwxODMsOTQ1IG9wcy9zZWMgwrE2LjU5JSAoODIgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IE1hcC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnTWFwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCAxLDMyMywyMjAgb3BzL3NlYyDCsTIuMTclICg3NiBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCA0LDIzNyw1MTAgb3BzL3NlYyDCsTIuMDElICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAod2Vha1NldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtTZXQucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1dlYWtTZXQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDEsNTAwLDI2MCBvcHMvc2VjIMKxMi4wMiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDMsODgxLDM4NCBvcHMvc2VjIMKxMS40NSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmICh3ZWFrTWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha01hcC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnV2Vha01hcCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtZGF0YXZpZXcucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDI0LjIuNC4yMSAtIERhdGFWaWV3LnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJEYXRhVmlld1wiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoZGF0YVZpZXdFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBEYXRhVmlldy5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnRGF0YVZpZXcnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVtYXBpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjMuMS41LjIuMiAtICVNYXBJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiTWFwIEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgTWFwKCkuZW50cmllcygpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IG1hcEl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ01hcCBJdGVyYXRvcic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXNldGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMy4yLjUuMi4yIC0gJVNldEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTZXQgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBTZXQoKS5lbnRyaWVzKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc2V0SXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU2V0IEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjIuMS41LjIuMiAtICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJBcnJheSBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW11bU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBhcnJheUl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ0FycmF5IEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lc3RyaW5naXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIxLjEuNS4yLjIgLSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlN0cmluZyBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJydbU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU3RyaW5nIEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCAyLDQyNCwzMjAgb3BzL3NlYyDCsTEuNjclICg3NiBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCA1LDgzOCwwMDAgb3BzL3NlYyDCsTAuOTklICg4NCBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAob2JqUHJvdG90eXBlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gJ09iamVjdCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9iamVjdFxuICAgIC5wcm90b3R5cGVcbiAgICAudG9TdHJpbmdcbiAgICAuY2FsbChvYmopXG4gICAgLnNsaWNlKHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoLCB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMudHlwZURldGVjdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdHlwZS1kZXRlY3QvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfYnV0dG9uID0gcmVxdWlyZSgnLi4vYnV0dG9uJyk7XG5cbnZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQWN0aW9uQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKEFjdGlvbkJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBBY3Rpb25CdXR0b24ocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBBY3Rpb25CdXR0b24pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgYWN0aW9uRm4gPSBfdGhpcyRwcm9wcy5hY3Rpb25GbixcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsID0gX3RoaXMkcHJvcHMuY2xvc2VNb2RhbDtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbkZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uRm4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbkZuKGNsb3NlTW9kYWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbkZuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJldCAmJiByZXQudGhlbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEl0J3MgdW5uZWNlc3NhcnkgdG8gc2V0IGxvYWRpbmc9ZmFsc2UsIGZvciB0aGUgTW9kYWwgd2lsbCBiZSB1bm1vdW50ZWQgYWZ0ZXIgY2xvc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBY3Rpb25CdXR0b24ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgfTtcblxuICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXG4gICAgICAgIHZhciBsb2FkaW5nID0gdGhpcy5zdGF0ZS5sb2FkaW5nO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgc2l6ZTogJ2xhcmdlJywgb25DbGljazogdGhpcy5vbkNsaWNrLCBsb2FkaW5nOiBsb2FkaW5nIH0sXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWN0aW9uQnV0dG9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEFjdGlvbkJ1dHRvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL21vZGFsL0FjdGlvbkJ1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDE4OVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb25maXJtO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfTW9kYWwgPSByZXF1aXJlKCcuL01vZGFsJyk7XG5cbnZhciBfTW9kYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWwpO1xuXG52YXIgX0FjdGlvbkJ1dHRvbiA9IHJlcXVpcmUoJy4vQWN0aW9uQnV0dG9uJyk7XG5cbnZhciBfQWN0aW9uQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0FjdGlvbkJ1dHRvbik7XG5cbnZhciBfbG9jYWxlID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGNvbmZpcm0oY29uZmlnKSB7XG4gICAgdmFyIHByb3BzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoeyBpY29uVHlwZTogJ3F1ZXN0aW9uLWNpcmNsZScgfSwgY29uZmlnKTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzIHx8ICdhbnQtY29uZmlybSc7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB2YXIgd2lkdGggPSBwcm9wcy53aWR0aCB8fCA0MTY7XG4gICAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGUgfHwge307XG4gICAgLy8g6buY6K6k5Li6IGZhbHNl77yM5L+d5oyB5pen54mI6buY6K6k6KGM5Li6XG4gICAgdmFyIG1hc2tDbG9zYWJsZSA9IHByb3BzLm1hc2tDbG9zYWJsZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBwcm9wcy5tYXNrQ2xvc2FibGU7XG4gICAgLy8g6buY6K6k5Li6IHRydWXvvIzkv53mjIHlkJHkuIvlhbzlrrlcbiAgICBpZiAoISgnb2tDYW5jZWwnIGluIHByb3BzKSkge1xuICAgICAgICBwcm9wcy5va0NhbmNlbCA9IHRydWU7XG4gICAgfVxuICAgIHZhciBydW50aW1lTG9jYWxlID0gKDAsIF9sb2NhbGUuZ2V0Q29uZmlybUxvY2FsZSkoKTtcbiAgICBwcm9wcy5va1RleHQgPSBwcm9wcy5va1RleHQgfHwgKHByb3BzLm9rQ2FuY2VsID8gcnVudGltZUxvY2FsZS5va1RleHQgOiBydW50aW1lTG9jYWxlLmp1c3RPa1RleHQpO1xuICAgIHByb3BzLmNhbmNlbFRleHQgPSBwcm9wcy5jYW5jZWxUZXh0IHx8IHJ1bnRpbWVMb2NhbGUuY2FuY2VsVGV4dDtcbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgdmFyIHVubW91bnRSZXN1bHQgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKGRpdik7XG4gICAgICAgIGlmICh1bm1vdW50UmVzdWx0ICYmIGRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBib2R5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiBwcm9wcy5pY29uVHlwZSB9KSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJyB9LFxuICAgICAgICAgICAgcHJvcHMudGl0bGVcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSxcbiAgICAgICAgICAgIHByb3BzLmNvbnRlbnRcbiAgICAgICAgKVxuICAgICk7XG4gICAgdmFyIGZvb3RlciA9IG51bGw7XG4gICAgaWYgKHByb3BzLm9rQ2FuY2VsKSB7XG4gICAgICAgIGZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ0bnMnIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9BY3Rpb25CdXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IGFjdGlvbkZuOiBwcm9wcy5vbkNhbmNlbCwgY2xvc2VNb2RhbDogY2xvc2UgfSxcbiAgICAgICAgICAgICAgICBwcm9wcy5jYW5jZWxUZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfQWN0aW9uQnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAncHJpbWFyeScsIGFjdGlvbkZuOiBwcm9wcy5vbk9rLCBjbG9zZU1vZGFsOiBjbG9zZSwgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgcHJvcHMub2tUZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9vdGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYnRucycgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0FjdGlvbkJ1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgdHlwZTogJ3ByaW1hcnknLCBhY3Rpb25GbjogcHJvcHMub25PaywgY2xvc2VNb2RhbDogY2xvc2UsIGF1dG9Gb2N1czogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIHByb3BzLm9rVGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy50eXBlLCB0cnVlKSwgcHJvcHMuY2xhc3NOYW1lKTtcbiAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5yZW5kZXIoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgX01vZGFsMltcImRlZmF1bHRcIl0sXG4gICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgb25DYW5jZWw6IGNsb3NlLCB2aXNpYmxlOiB0cnVlLCB0aXRsZTogJycsIHRyYW5zaXRpb25OYW1lOiAnem9vbScsIGZvb3RlcjogJycsIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2ZhZGUnLCBtYXNrQ2xvc2FibGU6IG1hc2tDbG9zYWJsZSwgc3R5bGU6IHN0eWxlLCB3aWR0aDogd2lkdGggfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS13cmFwcGVyJyB9LFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICcgJyxcbiAgICAgICAgICAgIGZvb3RlclxuICAgICAgICApXG4gICAgKSwgZGl2KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBjbG9zZVxuICAgIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9tb2RhbC9jb25maXJtLmpzXG4gKiogbW9kdWxlIGlkID0gMTkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuY2hhbmdlQ29uZmlybUxvY2FsZSA9IGNoYW5nZUNvbmZpcm1Mb2NhbGU7XG5leHBvcnRzLmdldENvbmZpcm1Mb2NhbGUgPSBnZXRDb25maXJtTG9jYWxlO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBkZWZhdWx0TG9jYWxlID0ge1xuICAgIG9rVGV4dDogJ+ehruWumicsXG4gICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsXG4gICAganVzdE9rVGV4dDogJ+efpemBk+S6hidcbn07XG52YXIgcnVudGltZUxvY2FsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlKTtcbmZ1bmN0aW9uIGNoYW5nZUNvbmZpcm1Mb2NhbGUobmV3TG9jYWxlKSB7XG4gICAgaWYgKG5ld0xvY2FsZSkge1xuICAgICAgICBydW50aW1lTG9jYWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHJ1bnRpbWVMb2NhbGUsIG5ld0xvY2FsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcnVudGltZUxvY2FsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb25maXJtTG9jYWxlKCkge1xuICAgIHJldHVybiBydW50aW1lTG9jYWxlO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL21vZGFsL2xvY2FsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE5MVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9LZXlDb2RlID0gcmVxdWlyZSgncmMtdXRpbC9saWIvS2V5Q29kZScpO1xuXG52YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cbnZhciBfcmNBbmltYXRlID0gcmVxdWlyZSgncmMtYW5pbWF0ZScpO1xuXG52YXIgX3JjQW5pbWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0FuaW1hdGUpO1xuXG52YXIgX0xhenlSZW5kZXJCb3ggPSByZXF1aXJlKCcuL0xhenlSZW5kZXJCb3gnKTtcblxudmFyIF9MYXp5UmVuZGVyQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xhenlSZW5kZXJCb3gpO1xuXG52YXIgX2dldFNjcm9sbEJhclNpemUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9nZXRTY3JvbGxCYXJTaXplJyk7XG5cbnZhciBfZ2V0U2Nyb2xsQmFyU2l6ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRTY3JvbGxCYXJTaXplKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5cbnZhciB1dWlkID0gMDtcbnZhciBvcGVuQ291bnQgPSAwO1xuLyogZXNsaW50IHJlYWN0L25vLWlzLW1vdW50ZWQ6MCAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5mdW5jdGlvbiBnZXRTY3JvbGwodywgdG9wKSB7XG4gICAgdmFyIHJldCA9IHdbJ3BhZ2UnICsgKHRvcCA/ICdZJyA6ICdYJykgKyAnT2Zmc2V0J107XG4gICAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgKHRvcCA/ICdUb3AnIDogJ0xlZnQnKTtcbiAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGQgPSB3LmRvY3VtZW50O1xuICAgICAgICByZXQgPSBkLmRvY3VtZW50RWxlbWVudFttZXRob2RdO1xuICAgICAgICBpZiAodHlwZW9mIHJldCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldCA9IGQuYm9keVttZXRob2RdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm1PcmlnaW4obm9kZSwgdmFsdWUpIHtcbiAgICB2YXIgc3R5bGUgPSBub2RlLnN0eWxlO1xuICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICBzdHlsZVtwcmVmaXggKyAnVHJhbnNmb3JtT3JpZ2luJ10gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBzdHlsZVsndHJhbnNmb3JtT3JpZ2luJ10gPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG9mZnNldChlbCkge1xuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHBvcyA9IHtcbiAgICAgICAgbGVmdDogcmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IHJlY3QudG9wXG4gICAgfTtcbiAgICB2YXIgZG9jID0gZWwub3duZXJEb2N1bWVudDtcbiAgICB2YXIgdyA9IGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICAgIHBvcy5sZWZ0ICs9IGdldFNjcm9sbCh3KTtcbiAgICBwb3MudG9wICs9IGdldFNjcm9sbCh3LCB0cnVlKTtcbiAgICByZXR1cm4gcG9zO1xufVxudmFyIERpYWxvZyA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogJ0RpYWxvZycsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZnRlckNsb3NlOiBub29wLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgICAgICAgIG1hc2s6IHRydWUsXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleWJvYXJkOiB0cnVlLFxuICAgICAgICAgICAgY2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICBtYXNrQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICBwcmVmaXhDbHM6ICdyYy1kaWFsb2cnLFxuICAgICAgICAgICAgb25DbG9zZTogbm9vcFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGl0bGVJZCA9ICdyY0RpYWxvZ1RpdGxlJyArIHV1aWQrKztcbiAgICB9LFxuICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnREaWRVcGRhdGUoe30pO1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHZhciBtb3VzZVBvc2l0aW9uID0gdGhpcy5wcm9wcy5tb3VzZVBvc2l0aW9uO1xuICAgICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgLy8gZmlyc3Qgc2hvd1xuICAgICAgICAgICAgaWYgKCFwcmV2UHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2Nyb2xsaW5nRWZmZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nTm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMucmVmcy5kaWFsb2cpO1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZVBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbE9mZnNldCA9IG9mZnNldChkaWFsb2dOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luKGRpYWxvZ05vZGUsIG1vdXNlUG9zaXRpb24ueCAtIGVsT2Zmc2V0LmxlZnQgKyAncHggJyArIChtb3VzZVBvc2l0aW9uLnkgLSBlbE9mZnNldC50b3ApICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luKGRpYWxvZ05vZGUsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJldlByb3BzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5tYXNrICYmIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSB8fCB0aGlzLmluVHJhbnNpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxpbmdFZmZlY3QoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25BbmltYXRlTGVhdmU6IGZ1bmN0aW9uIG9uQW5pbWF0ZUxlYXZlKCkge1xuICAgICAgICAvLyBuZWVkIGRlbW8/XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvZGlhbG9nL3B1bGwvMjhcbiAgICAgICAgaWYgKHRoaXMucmVmcy53cmFwKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVtb3ZlU2Nyb2xsaW5nRWZmZWN0KCk7XG4gICAgICAgIHRoaXMucHJvcHMuYWZ0ZXJDbG9zZSgpO1xuICAgIH0sXG4gICAgb25NYXNrQ2xpY2s6IGZ1bmN0aW9uIG9uTWFza0NsaWNrKGUpIHtcbiAgICAgICAgLy8gYW5kcm9pZCB0cmlnZ2VyIGNsaWNrIG9uIG9wZW4gKGZhc3RjbGljaz8/KVxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMub3BlblRpbWUgPCAzMDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZShlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAocHJvcHMua2V5Ym9hcmQgJiYgZS5rZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuICAgICAgICAgICAgdGhpcy5jbG9zZShlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBrZWVwIGZvY3VzIGluc2lkZSBkaWFsb2dcbiAgICAgICAgaWYgKHByb3BzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uVEFCKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2dSb290ID0gdGhpcy5yZWZzLndyYXA7XG4gICAgICAgICAgICAgICAgdmFyIHNlbnRpbmVsID0gdGhpcy5yZWZzLnNlbnRpbmVsO1xuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSBkaWFsb2dSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW50aW5lbC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVFbGVtZW50ID09PSB0aGlzLnJlZnMuc2VudGluZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nUm9vdC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZ2V0RGlhbG9nRWxlbWVudDogZnVuY3Rpb24gZ2V0RGlhbG9nRWxlbWVudCgpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIGNsb3NhYmxlID0gcHJvcHMuY2xvc2FibGU7XG4gICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgICAgIHZhciBkZXN0ID0ge307XG4gICAgICAgIGlmIChwcm9wcy53aWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZXN0LndpZHRoID0gcHJvcHMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZXN0LmhlaWdodCA9IHByb3BzLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9vdGVyID0gdm9pZCAwO1xuICAgICAgICBpZiAocHJvcHMuZm9vdGVyKSB7XG4gICAgICAgICAgICBmb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIHJlZjogXCJmb290ZXJcIiB9LCBwcm9wcy5mb290ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmIChwcm9wcy50aXRsZSkge1xuICAgICAgICAgICAgaGVhZGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLCByZWY6IFwiaGVhZGVyXCIgfSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScsIGlkOiB0aGlzLnRpdGxlSWQgfSwgcHJvcHMudGl0bGUpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xvc2VyID0gdm9pZCAwO1xuICAgICAgICBpZiAoY2xvc2FibGUpIHtcbiAgICAgICAgICAgIGNsb3NlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiB0aGlzLmNsb3NlLCBcImFyaWEtbGFiZWxcIjogXCJDbG9zZVwiLCBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xvc2UnIH0sIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsb3NlLXgnIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMuc3R5bGUsIGRlc3QpO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCk7XG4gICAgICAgIHZhciBkaWFsb2dFbGVtZW50ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTGF6eVJlbmRlckJveDJbXCJkZWZhdWx0XCJdLCB7IGtleTogXCJkaWFsb2ctZWxlbWVudFwiLCByb2xlOiBcImRvY3VtZW50XCIsIHJlZjogXCJkaWFsb2dcIiwgc3R5bGU6IHN0eWxlLCBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIChwcm9wcy5jbGFzc05hbWUgfHwgJycpLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0sIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSwgY2xvc2VyLCBoZWFkZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsIHN0eWxlOiBwcm9wcy5ib2R5U3R5bGUsIHJlZjogXCJib2R5XCIgfSwgcHJvcHMuYm9keVByb3BzKSwgcHJvcHMuY2hpbGRyZW4pLCBmb290ZXIpLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgdGFiSW5kZXg6IDAsIHJlZjogXCJzZW50aW5lbFwiLCBzdHlsZTogeyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBvdmVyZmxvdzogJ2hpZGRlbicgfSB9LCBcInNlbnRpbmVsXCIpKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQW5pbWF0ZTJbXCJkZWZhdWx0XCJdLCB7IGtleTogXCJkaWFsb2dcIiwgc2hvd1Byb3A6IFwidmlzaWJsZVwiLCBvbkxlYXZlOiB0aGlzLm9uQW5pbWF0ZUxlYXZlLCB0cmFuc2l0aW9uTmFtZTogdHJhbnNpdGlvbk5hbWUsIGNvbXBvbmVudDogXCJcIiwgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSB9LCBkaWFsb2dFbGVtZW50KTtcbiAgICB9LFxuICAgIGdldFpJbmRleFN0eWxlOiBmdW5jdGlvbiBnZXRaSW5kZXhTdHlsZSgpIHtcbiAgICAgICAgdmFyIHN0eWxlID0ge307XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmIChwcm9wcy56SW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3R5bGUuekluZGV4ID0gcHJvcHMuekluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9LFxuICAgIGdldFdyYXBTdHlsZTogZnVuY3Rpb24gZ2V0V3JhcFN0eWxlKCkge1xuICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuZ2V0WkluZGV4U3R5bGUoKSwgdGhpcy5wcm9wcy53cmFwU3R5bGUpO1xuICAgIH0sXG4gICAgZ2V0TWFza1N0eWxlOiBmdW5jdGlvbiBnZXRNYXNrU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCB0aGlzLnByb3BzLm1hc2tTdHlsZSk7XG4gICAgfSxcbiAgICBnZXRNYXNrRWxlbWVudDogZnVuY3Rpb24gZ2V0TWFza0VsZW1lbnQoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHZhciBtYXNrRWxlbWVudCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHByb3BzLm1hc2spIHtcbiAgICAgICAgICAgIHZhciBtYXNrVHJhbnNpdGlvbiA9IHRoaXMuZ2V0TWFza1RyYW5zaXRpb25OYW1lKCk7XG4gICAgICAgICAgICBtYXNrRWxlbWVudCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0xhenlSZW5kZXJCb3gyW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oeyBzdHlsZTogdGhpcy5nZXRNYXNrU3R5bGUoKSwga2V5OiBcIm1hc2tcIiwgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1hc2snLCBoaWRkZW5DbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctbWFzay1oaWRkZW4nLCB2aXNpYmxlOiBwcm9wcy52aXNpYmxlIH0sIHByb3BzLm1hc2tQcm9wcykpO1xuICAgICAgICAgICAgaWYgKG1hc2tUcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWFza0VsZW1lbnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSwgeyBrZXk6IFwibWFza1wiLCBzaG93UHJvcDogXCJ2aXNpYmxlXCIsIHRyYW5zaXRpb25BcHBlYXI6IHRydWUsIGNvbXBvbmVudDogXCJcIiwgdHJhbnNpdGlvbk5hbWU6IG1hc2tUcmFuc2l0aW9uIH0sIG1hc2tFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFza0VsZW1lbnQ7XG4gICAgfSxcbiAgICBnZXRNYXNrVHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIGdldE1hc2tUcmFuc2l0aW9uTmFtZSgpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMubWFza1RyYW5zaXRpb25OYW1lO1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gcHJvcHMubWFza0FuaW1hdGlvbjtcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgYW5pbWF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcbiAgICB9LFxuICAgIGdldFRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBwcm9wcy5hbmltYXRpb247XG4gICAgICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnByZWZpeENscyArICctJyArIGFuaW1hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG4gICAgfSxcbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmc1twYXJ0XTtcbiAgICB9LFxuICAgIHNldFNjcm9sbGJhcjogZnVuY3Rpb24gc2V0U2Nyb2xsYmFyKCkge1xuICAgICAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiB0aGlzLnNjcm9sbGJhcldpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkZFNjcm9sbGluZ0VmZmVjdDogZnVuY3Rpb24gYWRkU2Nyb2xsaW5nRWZmZWN0KCkge1xuICAgICAgICBvcGVuQ291bnQrKztcbiAgICAgICAgaWYgKG9wZW5Db3VudCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKTtcbiAgICAgICAgdGhpcy5zZXRTY3JvbGxiYXIoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAvLyB0aGlzLmFkanVzdERpYWxvZygpO1xuICAgIH0sXG4gICAgcmVtb3ZlU2Nyb2xsaW5nRWZmZWN0OiBmdW5jdGlvbiByZW1vdmVTY3JvbGxpbmdFZmZlY3QoKSB7XG4gICAgICAgIG9wZW5Db3VudC0tO1xuICAgICAgICBpZiAob3BlbkNvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICcnO1xuICAgICAgICB0aGlzLnJlc2V0U2Nyb2xsYmFyKCk7XG4gICAgICAgIC8vIHRoaXMucmVzZXRBZGp1c3RtZW50cygpO1xuICAgIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsb3NlKGUpO1xuICAgIH0sXG4gICAgY2hlY2tTY3JvbGxiYXI6IGZ1bmN0aW9uIGNoZWNrU2Nyb2xsYmFyKCkge1xuICAgICAgICB2YXIgZnVsbFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIGlmICghZnVsbFdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGZ1bGxXaW5kb3dXaWR0aCA9IGRvY3VtZW50RWxlbWVudFJlY3QucmlnaHQgLSBNYXRoLmFicyhkb2N1bWVudEVsZW1lbnRSZWN0LmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgZnVsbFdpbmRvd1dpZHRoO1xuICAgICAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZykge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9ICgwLCBfZ2V0U2Nyb2xsQmFyU2l6ZTJbXCJkZWZhdWx0XCJdKSgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldFNjcm9sbGJhcjogZnVuY3Rpb24gcmVzZXRTY3JvbGxiYXIoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gICAgfSxcbiAgICBhZGp1c3REaWFsb2c6IGZ1bmN0aW9uIGFkanVzdERpYWxvZygpIHtcbiAgICAgICAgaWYgKHRoaXMucmVmcy53cmFwICYmIHRoaXMuc2Nyb2xsYmFyV2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSXNPdmVyZmxvd2luZyA9IHRoaXMucmVmcy53cmFwLnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5zdHlsZS5wYWRkaW5nTGVmdCA9ICghdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiBtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycpICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdSaWdodCA9ICh0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmICFtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycpICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVzZXRBZGp1c3RtZW50czogZnVuY3Rpb24gcmVzZXRBZGp1c3RtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMucmVmcy53cmFwKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5zdHlsZS5wYWRkaW5nTGVmdCA9IHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdMZWZ0ID0gJyc7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgbWFza0Nsb3NhYmxlID0gcHJvcHMubWFza0Nsb3NhYmxlO1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0V3JhcFN0eWxlKCk7XG4gICAgICAgIC8vIGNsZWFyIGhpZGUgZGlzcGxheVxuICAgICAgICAvLyBhbmQgb25seSBzZXQgZGlzcGxheSBhZnRlciBhc3luYyBhbmltLCBub3QgaGVyZSBmb3IgaGlkZVxuICAgICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdGhpcy5nZXRNYXNrRWxlbWVudCgpLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgdGFiSW5kZXg6IC0xLCBvbktleURvd246IHRoaXMub25LZXlEb3duLCBjbGFzc05hbWU6IHByZWZpeENscyArICctd3JhcCAnICsgKHByb3BzLndyYXBDbGFzc05hbWUgfHwgJycpLCByZWY6IFwid3JhcFwiLCBvbkNsaWNrOiBtYXNrQ2xvc2FibGUgPyB0aGlzLm9uTWFza0NsaWNrIDogdW5kZWZpbmVkLCByb2xlOiBcImRpYWxvZ1wiLCBcImFyaWEtbGFiZWxsZWRieVwiOiBwcm9wcy50aXRsZSA/IHRoaXMudGl0bGVJZCA6IG51bGwsIHN0eWxlOiBzdHlsZSB9LCBwcm9wcy53cmFwUHJvcHMpLCB0aGlzLmdldERpYWxvZ0VsZW1lbnQoKSkpO1xuICAgIH1cbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEaWFsb2c7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kaWFsb2cvbGliL0RpYWxvZy5qc1xuICoqIG1vZHVsZSBpZCA9IDIwOVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9EaWFsb2cgPSByZXF1aXJlKCcuL0RpYWxvZycpO1xuXG52YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXG52YXIgX2dldENvbnRhaW5lclJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4nKTtcblxudmFyIF9nZXRDb250YWluZXJSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRDb250YWluZXJSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5cbnZhciBEaWFsb2dXcmFwID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICAgIGRpc3BsYXlOYW1lOiAnRGlhbG9nV3JhcCcsXG5cbiAgICBtaXhpbnM6IFsoMCwgX2dldENvbnRhaW5lclJlbmRlck1peGluMltcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbiBpc1Zpc2libGUoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5wcm9wcy52aXNpYmxlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcbiAgICAgICAgZ2V0Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRDb21wb25lbnQoaW5zdGFuY2UsIGV4dHJhKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGlhbG9nMltcImRlZmF1bHRcIl0sIF9fYXNzaWduKHt9LCBpbnN0YW5jZS5wcm9wcywgZXh0cmEsIHsga2V5OiBcImRpYWxvZ1wiIH0pKTtcbiAgICAgICAgfVxuICAgIH0pXSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShfcmVmKSB7XG4gICAgICAgIHZhciB2aXNpYmxlID0gX3JlZi52aXNpYmxlO1xuXG4gICAgICAgIHJldHVybiAhISh0aGlzLnByb3BzLnZpc2libGUgfHwgdmlzaWJsZSk7XG4gICAgfSxcbiAgICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICBhZnRlckNsb3NlOiB0aGlzLnJlbW92ZUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge30sXG5cbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbnRhaW5lcigpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudC5nZXRFbGVtZW50KHBhcnQpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEaWFsb2dXcmFwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZGlhbG9nL2xpYi9EaWFsb2dXcmFwLmpzXG4gKiogbW9kdWxlIGlkID0gMjEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcblxudmFyIExhenlSZW5kZXJCb3ggPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdMYXp5UmVuZGVyQm94JyxcbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzLmhpZGRlbkNsYXNzTmFtZSB8fCAhIW5leHRQcm9wcy52aXNpYmxlO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgaWYgKCEhdGhpcy5wcm9wcy5oaWRkZW5DbGFzc05hbWUgJiYgIXRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHRoaXMucHJvcHMuaGlkZGVuQ2xhc3NOYW1lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wcyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnByb3BzKTtcbiAgICAgICAgZGVsZXRlIHByb3BzLmhpZGRlbkNsYXNzTmFtZTtcbiAgICAgICAgZGVsZXRlIHByb3BzLnZpc2libGU7XG4gICAgICAgIHByb3BzLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzKSk7XG4gICAgfVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IExhenlSZW5kZXJCb3g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kaWFsb2cvbGliL0xhenlSZW5kZXJCb3guanNcbiAqKiBtb2R1bGUgaWQgPSAyMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gNCA1IDYgN1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRDb250YWluZXJSZW5kZXJNaXhpbjtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGRlZmF1bHRHZXRDb250YWluZXIoKSB7XG4gIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5mdW5jdGlvbiBnZXRDb250YWluZXJSZW5kZXJNaXhpbihjb25maWcpIHtcbiAgdmFyIF9jb25maWckYXV0b01vdW50ID0gY29uZmlnLmF1dG9Nb3VudDtcbiAgdmFyIGF1dG9Nb3VudCA9IF9jb25maWckYXV0b01vdW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX2NvbmZpZyRhdXRvTW91bnQ7XG4gIHZhciBfY29uZmlnJGF1dG9EZXN0cm95ID0gY29uZmlnLmF1dG9EZXN0cm95O1xuICB2YXIgYXV0b0Rlc3Ryb3kgPSBfY29uZmlnJGF1dG9EZXN0cm95ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX2NvbmZpZyRhdXRvRGVzdHJveTtcbiAgdmFyIGlzVmlzaWJsZSA9IGNvbmZpZy5pc1Zpc2libGU7XG4gIHZhciBnZXRDb21wb25lbnQgPSBjb25maWcuZ2V0Q29tcG9uZW50O1xuICB2YXIgX2NvbmZpZyRnZXRDb250YWluZXIgPSBjb25maWcuZ2V0Q29udGFpbmVyO1xuICB2YXIgZ2V0Q29udGFpbmVyID0gX2NvbmZpZyRnZXRDb250YWluZXIgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRHZXRDb250YWluZXIgOiBfY29uZmlnJGdldENvbnRhaW5lcjtcblxuXG4gIHZhciBtaXhpbiA9IHZvaWQgMDtcblxuICBmdW5jdGlvbiBfcmVuZGVyQ29tcG9uZW50KGluc3RhbmNlLCBjb21wb25lbnRBcmcsIHJlYWR5KSB7XG4gICAgaWYgKCFpc1Zpc2libGUgfHwgaW5zdGFuY2UuX2NvbXBvbmVudCB8fCBpc1Zpc2libGUoaW5zdGFuY2UpKSB7XG4gICAgICBpZiAoIWluc3RhbmNlLl9jb250YWluZXIpIHtcbiAgICAgICAgaW5zdGFuY2UuX2NvbnRhaW5lciA9IGdldENvbnRhaW5lcihpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihpbnN0YW5jZSwgZ2V0Q29tcG9uZW50KGluc3RhbmNlLCBjb21wb25lbnRBcmcpLCBpbnN0YW5jZS5fY29udGFpbmVyLCBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgICAgaW5zdGFuY2UuX2NvbXBvbmVudCA9IHRoaXM7XG4gICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgIHJlYWR5LmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChhdXRvTW91bnQpIHtcbiAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuICAgICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBfcmVuZGVyQ29tcG9uZW50KHRoaXMpO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICBfcmVuZGVyQ29tcG9uZW50KHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCFhdXRvTW91bnQgfHwgIWF1dG9EZXN0cm95KSB7XG4gICAgbWl4aW4gPSBfZXh0ZW5kcyh7fSwgbWl4aW4sIHtcbiAgICAgIHJlbmRlckNvbXBvbmVudDogZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudEFyZywgcmVhZHkpIHtcbiAgICAgICAgX3JlbmRlckNvbXBvbmVudCh0aGlzLCBjb21wb25lbnRBcmcsIHJlYWR5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZW1vdmVDb250YWluZXIoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UuX2NvbnRhaW5lcikge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGluc3RhbmNlLl9jb250YWluZXI7XG4gICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG4gICAgICBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgaW5zdGFuY2UuX2NvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKGF1dG9EZXN0cm95KSB7XG4gICAgbWl4aW4gPSBfZXh0ZW5kcyh7fSwgbWl4aW4sIHtcbiAgICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgX3JlbW92ZUNvbnRhaW5lcih0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuICAgICAgcmVtb3ZlQ29udGFpbmVyOiBmdW5jdGlvbiByZW1vdmVDb250YWluZXIoKSB7XG4gICAgICAgIF9yZW1vdmVDb250YWluZXIodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbWl4aW47XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kaWFsb2cvfi9yYy11dGlsL2xpYi9nZXRDb250YWluZXJSZW5kZXJNaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDIxM1xuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FjaGVkID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBnZXRTY3JvbGxCYXJTaXplKGZyZXNoKSB7XG4gIGlmIChmcmVzaCB8fCBjYWNoZWQgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlubmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGlubmVyLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG5cbiAgICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgb3V0ZXJTdHlsZSA9IG91dGVyLnN0eWxlO1xuXG4gICAgb3V0ZXJTdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgb3V0ZXJTdHlsZS50b3AgPSAwO1xuICAgIG91dGVyU3R5bGUubGVmdCA9IDA7XG4gICAgb3V0ZXJTdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgIG91dGVyU3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIG91dGVyU3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgIG91dGVyU3R5bGUuaGVpZ2h0ID0gJzE1MHB4JztcbiAgICBvdXRlclN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICBvdXRlci5hcHBlbmRDaGlsZChpbm5lcik7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblxuICAgIHZhciB3aWR0aENvbnRhaW5lZCA9IGlubmVyLm9mZnNldFdpZHRoO1xuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG4gICAgdmFyIHdpZHRoU2Nyb2xsID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cbiAgICBpZiAod2lkdGhDb250YWluZWQgPT09IHdpZHRoU2Nyb2xsKSB7XG4gICAgICB3aWR0aFNjcm9sbCA9IG91dGVyLmNsaWVudFdpZHRoO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuXG4gICAgY2FjaGVkID0gd2lkdGhDb250YWluZWQgLSB3aWR0aFNjcm9sbDtcbiAgfVxuICByZXR1cm4gY2FjaGVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFNjcm9sbEJhclNpemU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZGlhbG9nL34vcmMtdXRpbC9saWIvZ2V0U2Nyb2xsQmFyU2l6ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIxNFxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Rvb2x0aXAgPSByZXF1aXJlKCcuLi90b29sdGlwJyk7XG5cbnZhciBfdG9vbHRpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b29sdGlwKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfYnV0dG9uID0gcmVxdWlyZSgnLi4vYnV0dG9uJyk7XG5cbnZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbnZhciBQb3Bjb25maXJtID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFBvcGNvbmZpcm0sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUG9wY29uZmlybShwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFBvcGNvbmZpcm0pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5jb25maXJtID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgdmFyIG9uQ29uZmlybSA9IF90aGlzLnByb3BzLm9uQ29uZmlybTtcbiAgICAgICAgICAgIGlmIChvbkNvbmZpcm0pIHtcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm0uY2FsbChfdGhpcywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBvbkNhbmNlbCA9IF90aGlzLnByb3BzLm9uQ2FuY2VsO1xuICAgICAgICAgICAgaWYgKG9uQ2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgb25DYW5jZWwuY2FsbChfdGhpcywgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZpc2libGU6IHByb3BzLnZpc2libGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFBvcGNvbmZpcm0ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoJ3Zpc2libGUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IG5leHRQcm9wcy52aXNpYmxlIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBvcGNvbmZpcm0ucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IHZpc2libGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9uVmlzaWJsZUNoYW5nZSA9IHByb3BzLm9uVmlzaWJsZUNoYW5nZTtcbiAgICAgICAgaWYgKG9uVmlzaWJsZUNoYW5nZSkge1xuICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBvcGNvbmZpcm0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cbiAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHRpdGxlID0gcHJvcHMudGl0bGUsXG4gICAgICAgICAgICBwbGFjZW1lbnQgPSBwcm9wcy5wbGFjZW1lbnQsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QocHJvcHMsIFtcInByZWZpeENsc1wiLCBcInRpdGxlXCIsIFwicGxhY2VtZW50XCJdKTtcblxuICAgICAgICB2YXIgb2tUZXh0ID0gcHJvcHMub2tUZXh0LFxuICAgICAgICAgICAgY2FuY2VsVGV4dCA9IHByb3BzLmNhbmNlbFRleHQ7XG5cbiAgICAgICAgdmFyIHBvcGNvbmZpcm1Mb2NhbGUgPSBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZS5Qb3Bjb25maXJtO1xuICAgICAgICBpZiAocG9wY29uZmlybUxvY2FsZSkge1xuICAgICAgICAgICAgb2tUZXh0ID0gb2tUZXh0IHx8IHBvcGNvbmZpcm1Mb2NhbGUub2tUZXh0O1xuICAgICAgICAgICAgY2FuY2VsVGV4dCA9IGNhbmNlbFRleHQgfHwgcG9wY29uZmlybUxvY2FsZS5jYW5jZWxUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdmVybGF5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5uZXItY29udGVudCcgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbWVzc2FnZScgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdleGNsYW1hdGlvbi1jaXJjbGUnIH0pLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tZXNzYWdlLXRpdGxlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbnMnIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2FuY2VsLCBzaXplOiAnc21hbGwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0IHx8ICflj5bmtognXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY29uZmlybSwgdHlwZTogJ3ByaW1hcnknLCBzaXplOiAnc21hbGwnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBva1RleHQgfHwgJ+ehruWumidcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3Rvb2x0aXAyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIHBsYWNlbWVudDogcGxhY2VtZW50LCBvblZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlLCB2aXNpYmxlOiB0aGlzLnN0YXRlLnZpc2libGUsIG92ZXJsYXk6IG92ZXJsYXkgfSkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUG9wY29uZmlybTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQb3Bjb25maXJtO1xuXG5Qb3Bjb25maXJtLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtcG9wb3ZlcicsXG4gICAgdHJhbnNpdGlvbk5hbWU6ICd6b29tLWJpZycsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snXG59O1xuUG9wY29uZmlybS5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcG9wY29uZmlybS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDIzOFxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9wb3BvdmVyL3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2J1dHRvbi9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BvcGNvbmZpcm0vc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gNCA1IDZcbiAqKi8iLCJcclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkUGhvbmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgaWYoISF2YWx1ZSAmJiAhKC9eMSgzfDR8NXw3fDgpXFxkezl9JC8udGVzdCh2YWx1ZSkpKXtcclxuICAgIGNhbGxiYWNrKFwi5omL5py65Y+356CB5qC85byP5LiN5q2j56GuXCIpXHJcbiAgfSBlbHNlIHtcclxuICAgIGNhbGxiYWNrKClcclxuICB9XHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdXRpbHMvdXRpbHNWYWxpZC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgVGFibGUsIFBvcGNvbmZpcm0sIEljb24sIFRvb2x0aXAsIEJ1dHRvbiwgTW9kYWwgfSBmcm9tICdhbnRkJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vTGlzdC5sZXNzJ1xyXG5pbXBvcnQgVGFibGVCb2R5V3JhcHBlciBmcm9tICcuLi8uLi9jb21tb24vVGFibGVCb2R5V3JhcHBlcidcclxuXHJcbmNvbnN0IGNvbmZpcm0gPSBNb2RhbC5jb25maXJtXHJcblxyXG5mdW5jdGlvbiBMaXN0ICh7XHJcbiAgbG9hZGluZyxcclxuICBkYXRhU291cmNlLFxyXG4gIHBhZ2luYXRpb24sXHJcbiAgdXBkYXRlUG93ZXIsXHJcbiAgZGVsZXRlUG93ZXIsXHJcbiAgb25QYWdlQ2hhbmdlLFxyXG4gIG9uRGVsZXRlSXRlbSxcclxuICBvbkVkaXRJdGVtLFxyXG4gIG9uU3RhdHVzSXRlbSxcclxuICBsb2NhdGlvblxyXG59KSB7XHJcblxyXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUl0ZW0gPSAocmVjb3JkKSA9PiB7XHJcbiAgICBjb25maXJtKHtcclxuICAgICAgdGl0bGU6ICfmgqjnoa7lrpropoHliKDpmaTov5nmnaHorrDlvZXlkJc/JyxcclxuICAgICAgb25PayAoKSB7XHJcbiAgICAgICAgb25EZWxldGVJdGVtKHJlY29yZC5pZClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbHVtbnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAn5aS05YOPJyxcclxuICAgICAgZGF0YUluZGV4OiAnaW1hZ2UnLFxyXG4gICAgICBrZXk6ICdpbWFnZScsXHJcbiAgICAgIHdpZHRoOiA2NCxcclxuICAgICAgY2xhc3NOYW1lOiBzdHlsZXMuYXZhdGFyLFxyXG4gICAgICByZW5kZXI6ICh0ZXh0KSA9PiA8aW1nIHdpZHRoPXsyNH0gc3JjPXt0ZXh0fSAvPlxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+eUqOaIt+WQjScsXHJcbiAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxyXG4gICAgICBrZXk6ICduYW1lJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aJi+acuuWPtycsXHJcbiAgICAgIGRhdGFJbmRleDogJ21vYmlsZScsXHJcbiAgICAgIGtleTogJ21vYmlsZSdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICfpgq7nrrEnLFxyXG4gICAgICBkYXRhSW5kZXg6ICdlbWFpbCcsXHJcbiAgICAgIGtleTogJ2VtYWlsJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+WIm+W7uuaXtumXtCcsXHJcbiAgICAgIGRhdGFJbmRleDogJ2NyZWF0ZWRfYXQnLFxyXG4gICAgICBrZXk6ICdjcmVhdGVkX2F0JyxcclxuICAgICAgcmVuZGVyOiAodmFsdWUpID0+IG5ldyBEYXRlKCt2YWx1ZSkuZm9ybWF0KFwieXl5eS1NTS1kZCBISDptbTpzc1wiKVxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aTjeS9nCcsXHJcbiAgICAgIGtleTogJ29wZXJhdGlvbicsXHJcbiAgICAgIC8vIHdpZHRoOiA4MCxcclxuICAgICAgcmVuZGVyOiAodGV4dCwgcmVjb3JkKSA9PiAoXHJcbiAgICAgICAgPHA+XHJcbiAgICAgICAgICB7dXBkYXRlUG93ZXIgJiZcclxuICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPSfnvJbovpEnPlxyXG4gICAgICAgICAgICA8YSBvbkNsaWNrPXsoKSA9PiBvbkVkaXRJdGVtKHJlY29yZCl9IHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6IDEwXHJcbiAgICAgICAgICAgIH19PjxJY29uIHR5cGU9XCJlZGl0XCIgLz48L2E+XHJcbiAgICAgICAgICA8L1Rvb2x0aXA+fVxyXG4gICAgICAgICAge3VwZGF0ZVBvd2VyICYmXHJcbiAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJib3R0b21cIiB0aXRsZT17cmVjb3JkLnN0YXR1cyA/ICfngrnlh7vnpoHnlKgnIDogJ+eCueWHu+WQr+eUqCd9PlxyXG4gICAgICAgICAgICB7cmVjb3JkLnN0YXR1cyA/XHJcbiAgICAgICAgICAgIDxQb3Bjb25maXJtIHRpdGxlPXtg56Gu5a6a6KaB56aB55SoJHtyZWNvcmQubmFtZX3lkJfvvJ9gfSBvbkNvbmZpcm09eygpID0+IG9uU3RhdHVzSXRlbShyZWNvcmQpfT5cclxuICAgICAgICAgICAgICA8YSBzdHlsZT17eyBtYXJnaW5SaWdodDogMTAgfX0+XHJcbiAgICAgICAgICAgICAgICA8SWNvbiB0eXBlPVwidW5sb2NrXCIvPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgPC9Qb3Bjb25maXJtPiA6XHJcbiAgICAgICAgICAgIDxhIG9uQ2xpY2s9eygpID0+IG9uU3RhdHVzSXRlbShyZWNvcmQpfSBzdHlsZT17eyBtYXJnaW5SaWdodDogMTAgfX0+XHJcbiAgICAgICAgICAgICAgPEljb24gdHlwZT1cImxvY2tcIiBjbGFzc05hbWU9e3N0eWxlcy53YXJuaW5nfS8+XHJcbiAgICAgICAgICAgIDwvYT59XHJcbiAgICAgICAgICA8L1Rvb2x0aXA+fVxyXG4gICAgICAgICAge2RlbGV0ZVBvd2VyICYmXHJcbiAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJib3R0b21cIiB0aXRsZT0n5Yig6ZmkJz5cclxuICAgICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlSXRlbShyZWNvcmQpfT48SWNvbiB0eXBlPVwiY2xvc2UtY2lyY2xlLW9cIiBjbGFzc05hbWU9e3N0eWxlcy5kYW5nZXJ9Lz48L2E+XHJcbiAgICAgICAgICA8L1Rvb2x0aXA+fVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgKSxcclxuICAgICAgLy8gZml4ZWQ6ICdyaWdodCdcclxuICAgIH1cclxuICBdXHJcblxyXG4gIGNvbnN0IGdldEJvZHlXcmFwcGVyUHJvcHMgPSB7XHJcbiAgICBwYWdlOiBsb2NhdGlvbi5xdWVyeS5wYWdlLFxyXG4gICAgY3VycmVudDogcGFnaW5hdGlvbi5jdXJyZW50XHJcbiAgfVxyXG5cclxuICBjb25zdCBnZXRCb2R5V3JhcHBlciA9IChib2R5KSA9PiAoPFRhYmxlQm9keVdyYXBwZXIgey4uLmdldEJvZHlXcmFwcGVyUHJvcHN9IGJvZHk9e2JvZHl9IC8+KVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgPFRhYmxlXHJcbiAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9XHJcbiAgICAgICAgYm9yZGVyZWRcclxuICAgICAgICBzY3JvbGw9e3sgeDogMTIwMCB9fVxyXG4gICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZX1cclxuICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxyXG4gICAgICAgIG9uQ2hhbmdlPXtvblBhZ2VDaGFuZ2V9XHJcbiAgICAgICAgcGFnaW5hdGlvbj17ey4uLnBhZ2luYXRpb24sIHNob3dTaXplQ2hhbmdlcjogdHJ1ZSwgc2hvd1F1aWNrSnVtcGVyOiB0cnVlLCBzaG93VG90YWw6IHRvdGFsID0+IGDlhbEgJHt0b3RhbH0g5p2hYH19XHJcbiAgICAgICAgc2ltcGxlXHJcbiAgICAgICAgcm93S2V5PXtyZWNvcmQgPT4gcmVjb3JkLmlkfVxyXG4gICAgICAgIGdldEJvZHlXcmFwcGVyPXtnZXRCb2R5V3JhcHBlcn1cclxuICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgb25QYWdlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkRlbGV0ZUl0ZW06IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uRWRpdEl0ZW06IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRhdGFTb3VyY2U6IFByb3BUeXBlcy5hcnJheSxcclxuICBsb2FkaW5nOiBQcm9wVHlwZXMuYW55LFxyXG4gIHBhZ2luYXRpb246IFByb3BUeXBlcy5hbnlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGlzdFxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL2FjY291bnQvdXNlci9MaXN0LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBGb3JtLCBJbnB1dCwgSW5wdXROdW1iZXIsIFJhZGlvLCBNb2RhbCwgSWNvbiB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdkdmEnXHJcbmltcG9ydCB7IHZhbGlkUGhvbmUgfSBmcm9tICcuLi8uLi8uLi91dGlscy91dGlsc1ZhbGlkJ1xyXG5cclxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW1cclxuXHJcbmNvbnN0IGZvcm1JdGVtTGF5b3V0ID0ge1xyXG4gIGxhYmVsQ29sOiB7XHJcbiAgICBzcGFuOiA2XHJcbiAgfSxcclxuICB3cmFwcGVyQ29sOiB7XHJcbiAgICBzcGFuOiAxNFxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgTW9kYWxGb3JtID0gKHtcclxuICBkaXNwYXRjaCxcclxuICBtb2RhbDogeyBsb2FkaW5nLCBjdXJJdGVtLCB0eXBlLCB2aXNpYmxlIH0sXHJcbiAgZm9ybToge1xyXG4gICAgZ2V0RmllbGREZWNvcmF0b3IsXHJcbiAgICB2YWxpZGF0ZUZpZWxkcyxcclxuICAgIHJlc2V0RmllbGRzXHJcbiAgfVxyXG59KSA9PiB7XHJcbiAgZnVuY3Rpb24gaGFuZGxlT2sgKCkge1xyXG4gICAgdmFsaWRhdGVGaWVsZHMoKGVycm9ycywgdmFsdWVzKSA9PiB7XHJcbiAgICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgIC4uLnZhbHVlcyxcclxuICAgICAgICBpZDogY3VySXRlbS5pZFxyXG4gICAgICB9XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogISFkYXRhLmlkID8gJ2FjY291bnRVc2VyL3VwZGF0ZScgOiAnYWNjb3VudFVzZXIvY3JlYXRlJywgcGF5bG9hZDogZGF0YSB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IG1vZGFsRm9ybU9wdHMgPSB7XHJcbiAgICB0aXRsZTogdHlwZSA9PT0gJ2NyZWF0ZScgPyA8ZGl2PjxJY29uIHR5cGU9XCJwbHVzLWNpcmNsZS1vXCIgLz4g5paw5bu655So5oi3PC9kaXY+IDogPGRpdj48SWNvbiB0eXBlPVwiZWRpdFwiIC8+IOS/ruaUueeUqOaItzwvZGl2PixcclxuICAgIHZpc2libGUsXHJcbiAgICBvbk9rOiBoYW5kbGVPayxcclxuICAgIG9uQ2FuY2VsKCkge1xyXG4gICAgICBkaXNwYXRjaCh7dHlwZTogJ21vZGFsL2hpZGVNb2RhbCd9KVxyXG4gICAgICByZXNldEZpZWxkcygpIC8v6Z2e5bi46YeN6KaB77yM5YWz6Zet5ZCO5b+F6aG76YeN572u5pWw5o2uXHJcbiAgICB9LFxyXG4gICAgd3JhcENsYXNzTmFtZTogJ3ZlcnRpY2FsLWNlbnRlci1tb2RhbCcsXHJcbiAgICBjb25maXJtTG9hZGluZzogbG9hZGluZ1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxNb2RhbCB7Li4ubW9kYWxGb3JtT3B0c30+XHJcbiAgICAgIDxGb3JtIGhvcml6b250YWw+XHJcbiAgICAgICAgPEZvcm1JdGVtIGxhYmVsPSfnlKjmiLflkI3vvJonIGhhc0ZlZWRiYWNrIHsuLi5mb3JtSXRlbUxheW91dH0+XHJcbiAgICAgICAgICB7Z2V0RmllbGREZWNvcmF0b3IoJ25hbWUnLCB7XHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogY3VySXRlbS5uYW1lLFxyXG4gICAgICAgICAgICBydWxlczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuidcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH0pKDxJbnB1dCAvPil9XHJcbiAgICAgICAgPC9Gb3JtSXRlbT5cclxuICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9J+aJi+acuuWPt++8micgaGFzRmVlZGJhY2sgey4uLmZvcm1JdGVtTGF5b3V0fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignbW9iaWxlJywge1xyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6IGN1ckl0ZW0ubW9iaWxlLFxyXG4gICAgICAgICAgICBydWxlczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aJi+acuuWPt+S4jeiDveS4uuepuidcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRQaG9uZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSkoPElucHV0IC8+KX1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICAgIDxGb3JtSXRlbSBsYWJlbD0n6YKu566x77yaJyBoYXNGZWVkYmFjayB7Li4uZm9ybUl0ZW1MYXlvdXR9PlxyXG4gICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCdlbWFpbCcsIHtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBjdXJJdGVtLmVtYWlsLFxyXG4gICAgICAgICAgICBydWxlczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mCrueuseS4jeiDveS4uuepuidcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdlbWFpbCcsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6YKu566x5qC85byP5LiN5q2j56GuJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSkoPElucHV0IC8+KX1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICA8L0Zvcm0+XHJcbiAgICA8L01vZGFsPlxyXG4gIClcclxufVxyXG5cclxuTW9kYWxGb3JtLnByb3BUeXBlcyA9IHtcclxuICBtb2RhbDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBmb3JtOiBQcm9wVHlwZXMub2JqZWN0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyh7IG1vZGFsIH0pIHtcclxuICByZXR1cm4geyBtb2RhbCB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShGb3JtLmNyZWF0ZSgpKE1vZGFsRm9ybSkpXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvYWNjb3VudC91c2VyL01vZGFsRm9ybS5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgRm9ybSwgQnV0dG9uLCBSb3csIENvbCwgSWNvbiB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCBTZWFyY2hHcm91cCBmcm9tICcuLi8uLi9jb21tb24vU2VhcmNoJ1xyXG5cclxuY29uc3QgU2VhcmNoID0gKHtcclxuICBmaWVsZCxcclxuICBrZXl3b3JkLFxyXG4gIGFkZFBvd2VyLFxyXG4gIG9uU2VhcmNoLFxyXG4gIG9uQWRkLFxyXG4gIGZvcm06IHtcclxuICAgIGdldEZpZWxkRGVjb3JhdG9yLFxyXG4gICAgdmFsaWRhdGVGaWVsZHMsXHJcbiAgICBnZXRGaWVsZHNWYWx1ZVxyXG4gIH1cclxufSkgPT4ge1xyXG4gIGNvbnN0IHNlYXJjaEdyb3VwUHJvcHMgPSB7XHJcbiAgICBmaWVsZCxcclxuICAgIGtleXdvcmQsXHJcbiAgICBzaXplOiAnbGFyZ2UnLFxyXG4gICAgc2VsZWN0OiB0cnVlLFxyXG4gICAgc2VsZWN0T3B0aW9uczogW3sgdmFsdWU6ICduYW1lJywgbmFtZTogJ+eUqOaIt+WQjScgfSwgeyB2YWx1ZTogJ21vYmlsZScsIG5hbWU6ICfmiYvmnLrlj7cnIH0sIHsgdmFsdWU6ICdlbWFpbCcsIG5hbWU6ICfpgq7nrrEnIH1dLFxyXG4gICAgc2VsZWN0UHJvcHM6IHtcclxuICAgICAgZGVmYXVsdFZhbHVlOiBmaWVsZCB8fCAnbmFtZSdcclxuICAgIH0sXHJcbiAgICBvblNlYXJjaDogKHZhbHVlKSA9PiB7XHJcbiAgICAgIG9uU2VhcmNoKHZhbHVlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxSb3cgZ3V0dGVyPXsyNH0+XHJcbiAgICAgIDxDb2wgbGc9ezh9IG1kPXsxMn0gc209ezE2fSB4cz17MjR9IHN0eWxlPXt7bWFyZ2luQm90dG9tOiAxNn19PlxyXG4gICAgICAgIDxTZWFyY2hHcm91cCB7Li4uc2VhcmNoR3JvdXBQcm9wc30gLz5cclxuICAgICAgPC9Db2w+XHJcbiAgICAgIHthZGRQb3dlciAmJlxyXG4gICAgICA8Q29sIGxnPXt7b2Zmc2V0OiA4LCBzcGFuOiA4fX0gbWQ9ezEyfSBzbT17OH0geHM9ezI0fSBzdHlsZT17e21hcmdpbkJvdHRvbTogMTYsIHRleHRBbGlnbjogJ3JpZ2h0J319PlxyXG4gICAgICAgIDxCdXR0b24gc2l6ZT0nbGFyZ2UnIHR5cGU9J2dob3N0JyBvbkNsaWNrPXtvbkFkZH0+PEljb24gdHlwZT1cInBsdXMtY2lyY2xlLW9cIiAvPua3u+WKoDwvQnV0dG9uPlxyXG4gICAgICA8L0NvbD59XHJcbiAgICA8L1Jvdz5cclxuICApXHJcbn1cclxuXHJcblNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgZm9ybTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gIG9uU2VhcmNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkFkZDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAga2V5d29yZDogUHJvcFR5cGVzLnN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtLmNyZWF0ZSgpKFNlYXJjaClcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3VzZXIvU2VhcmNoLmpzXG4gKiovIiwiaW1wb3J0IHsgcGFyc2UgfSBmcm9tICdxcydcclxuaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCB7IHJvdXRlclJlZHV4IH0gZnJvbSAnZHZhL3JvdXRlcidcclxuaW1wb3J0IHsgY3JlYXRlLCByZW1vdmUsIHVwZGF0ZSwgcXVlcnksIGdldCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FjY291bnQvdXNlcidcclxuaW1wb3J0IHsgZ2V0Q3VyUG93ZXJzIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlOiAnYWNjb3VudFVzZXInLFxyXG4gIHN0YXRlOiB7XHJcbiAgICBsaXN0OiBbXSxcclxuICAgIGxvYWRpbmc6IGZhbHNlLFxyXG4gICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICBjdXJyZW50OiAxLFxyXG4gICAgICBwYWdlU2l6ZTogMTAsXHJcbiAgICAgIHRvdGFsOiBudWxsXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgc3Vic2NyaXB0aW9uczoge1xyXG4gICAgc2V0dXAgKHsgZGlzcGF0Y2gsIGhpc3RvcnkgfSkge1xyXG4gICAgICBoaXN0b3J5Lmxpc3Rlbihsb2NhdGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy9hY2NvdW50L3VzZXInKSB7XHJcbiAgICAgICAgICBjb25zdCBjdXJQb3dlcnMgPSBnZXRDdXJQb3dlcnMocGF0aG5hbWUpXHJcbiAgICAgICAgICBpZihjdXJQb3dlcnMpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzIH0gfSlcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBlZmZlY3RzOiB7XHJcbiAgICAqcXVlcnkgKHsgcGF5bG9hZCB9LCB7IHNlbGVjdCwgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KVxyXG4gICAgICBjb25zdCBwYXRoUXVlcnkgPSB5aWVsZCBzZWxlY3QoKHsgcm91dGluZyB9KSA9PiByb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucXVlcnkpXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBjYWxsKHF1ZXJ5LCBwYXRoUXVlcnkpXHJcbiAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICB5aWVsZCBwdXQoe1xyXG4gICAgICAgICAgdHlwZTogJ3F1ZXJ5U3VjY2VzcycsXHJcbiAgICAgICAgICBwYXlsb2FkOiB7XHJcbiAgICAgICAgICAgIGxpc3Q6IGRhdGEubGlzdCxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbjogZGF0YS5wYWdlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pXHJcbiAgICB9LFxyXG4gICAgKmRlbGV0ZSAoeyBwYXlsb2FkIH0sIHsgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KVxyXG4gICAgICBjb25zdCBkYXRhID0geWllbGQgY2FsbChyZW1vdmUsIHsgaWQ6IHBheWxvYWQgfSlcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KVxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICB5aWVsZCBwdXQoeyB0eXBlOiAncXVlcnknIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAqY3JlYXRlICh7IHBheWxvYWQgfSwgeyBzZWxlY3QsIGNhbGwsIHB1dCB9KSB7XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSlcclxuICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGNhbGwoY3JlYXRlLCBwYXlsb2FkKVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZUxvYWRpbmcnIH0pXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTW9kYWwnIH0pXHJcbiAgICAgICAgY29uc3QgcGF0aFF1ZXJ5ID0geWllbGQgc2VsZWN0KCh7IHJvdXRpbmcgfSkgPT4gcm91dGluZy5sb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zLnF1ZXJ5KVxyXG4gICAgICAgIGNvbnN0IHsgcGFnZSB9ID0gcGF0aFF1ZXJ5XHJcbiAgICAgICAgeWllbGQgcHV0KHJvdXRlclJlZHV4LnB1c2goe1xyXG4gICAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxyXG4gICAgICAgICAgcXVlcnk6ICEhcGFnZSA/IHsgLi4ucGF0aFF1ZXJ5LCBwYWdlOiAxIH0gOiBwYXRoUXVlcnlcclxuICAgICAgICB9KSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICp1cGRhdGUgKHsgcGF5bG9hZCB9LCB7IGNhbGwsIHB1dCB9KSB7XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSlcclxuICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGNhbGwodXBkYXRlLCBwYXlsb2FkKVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZUxvYWRpbmcnIH0pXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTW9kYWwnIH0pXHJcbiAgICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3F1ZXJ5JyB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgKnVwZGF0ZVN0YXR1cyAoeyBwYXlsb2FkIH0sIHsgc2VsZWN0LCBjYWxsLCBwdXQgfSkge1xyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnc2hvd0xvYWRpbmcnIH0pXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBjYWxsKHVwZGF0ZSwgeyAuLi5wYXlsb2FkLCBzdGF0dXM6ICFwYXlsb2FkLnN0YXR1cyB9KVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdxdWVyeScgfSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICpzaG93TW9kYWwgKHsgcGF5bG9hZCB9LCB7IHNlbGVjdCwgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgY29uc3QgeyB0eXBlLCBjdXJJdGVtIH0gPSBwYXlsb2FkXHJcbiAgICAgIGxldCBuZXdEYXRhID0ge31cclxuXHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TW9kYWwnLCBwYXlsb2FkOiB7IGxvYWRpbmc6IHRydWUsIHR5cGU6IHR5cGUgfSB9KVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGNhbGwoZ2V0LCB7IGlkOiBjdXJJdGVtLmlkIH0pXHJcbiAgICAgIGlmKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgbmV3RGF0YS5jdXJJdGVtID0gZGF0YS5kYXRhXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTG9hZGluZycsIHBheWxvYWQ6IG5ld0RhdGEgfSlcclxuICAgIH0sXHJcbiAgfSxcclxuXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIHNob3dMb2FkaW5nIChzdGF0ZSkge1xyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogdHJ1ZSB9XHJcbiAgICB9LFxyXG4gICAgaGlkZUxvYWRpbmcgKHN0YXRlKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiBmYWxzZSB9XHJcbiAgICB9LFxyXG4gICAgcXVlcnlTdWNjZXNzIChzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5hY3Rpb24ucGF5bG9hZCB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9tb2RlbHMvYWNjb3VudC91c2VyLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyByb3V0ZXJSZWR1eCB9IGZyb20gJ2R2YS9yb3V0ZXInXHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdkdmEnXHJcbmltcG9ydCBVc2VyTGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2FjY291bnQvdXNlci9MaXN0J1xyXG5pbXBvcnQgVXNlclNlYXJjaCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2FjY291bnQvdXNlci9TZWFyY2gnXHJcbmltcG9ydCBVc2VyTW9kYWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9hY2NvdW50L3VzZXIvTW9kYWxGb3JtJ1xyXG5pbXBvcnQgeyBjaGVja1Bvd2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcbmltcG9ydCB7IEFERCwgVVBEQVRFLCBERUxFVEUgfSBmcm9tICcuLi8uLi9jb25zdGFudHMvb3B0aW9ucydcclxuXHJcbmZ1bmN0aW9uIFVzZXIgKHsgbG9jYXRpb24sIGN1clBvd2VycywgZGlzcGF0Y2gsIGFjY291bnRVc2VyIH0pIHtcclxuXHJcbiAgY29uc3QgeyBsaXN0LCBwYWdpbmF0aW9uLCBsb2FkaW5nIH0gPSBhY2NvdW50VXNlclxyXG5cclxuICBjb25zdCB7IGZpZWxkLCBrZXl3b3JkIH0gPSBsb2NhdGlvbi5xdWVyeVxyXG5cclxuICBjb25zdCBhZGRQb3dlciA9IGNoZWNrUG93ZXIoQURELCBjdXJQb3dlcnMpXHJcbiAgY29uc3QgdXBkYXRlUG93ZXIgPSBjaGVja1Bvd2VyKFVQREFURSwgY3VyUG93ZXJzKVxyXG4gIGNvbnN0IGRlbGV0ZVBvd2VyID0gY2hlY2tQb3dlcihERUxFVEUsIGN1clBvd2VycylcclxuXHJcbiAgY29uc3QgdXNlckxpc3RQcm9wcyA9IHtcclxuICAgIGRhdGFTb3VyY2U6IGxpc3QsXHJcbiAgICBsb2FkaW5nLFxyXG4gICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbixcclxuICAgIGxvY2F0aW9uLFxyXG4gICAgdXBkYXRlUG93ZXIsXHJcbiAgICBkZWxldGVQb3dlcixcclxuICAgIG9uUGFnZUNoYW5nZSAocGFnZSkge1xyXG4gICAgICBjb25zdCB7IHF1ZXJ5LCBwYXRobmFtZSB9ID0gbG9jYXRpb25cclxuICAgICAgZGlzcGF0Y2gocm91dGVyUmVkdXgucHVzaCh7XHJcbiAgICAgICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxyXG4gICAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgICAuLi5xdWVyeSxcclxuICAgICAgICAgIGN1cnJlbnQ6IHBhZ2UuY3VycmVudCxcclxuICAgICAgICAgIHBhZ2VTaXplOiBwYWdlLnBhZ2VTaXplXHJcbiAgICAgICAgfVxyXG4gICAgICB9KSlcclxuICAgIH0sXHJcbiAgICBvbkRlbGV0ZUl0ZW0gKGlkKSB7XHJcbiAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICB0eXBlOiAnYWNjb3VudFVzZXIvZGVsZXRlJyxcclxuICAgICAgICBwYXlsb2FkOiBpZFxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIG9uRWRpdEl0ZW0gKGl0ZW0pIHtcclxuICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgIHR5cGU6ICdhY2NvdW50VXNlci9zaG93TW9kYWwnLFxyXG4gICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgIHR5cGU6ICd1cGRhdGUnLFxyXG4gICAgICAgICAgY3VySXRlbTogaXRlbVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBvblN0YXR1c0l0ZW0oaXRlbSkge1xyXG4gICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgdHlwZTogJ2FjY291bnRVc2VyL3VwZGF0ZVN0YXR1cycsXHJcbiAgICAgICAgcGF5bG9hZDogaXRlbVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgdXNlclNlYXJjaFByb3BzID0ge1xyXG4gICAgZmllbGQsXHJcbiAgICBrZXl3b3JkLFxyXG4gICAgYWRkUG93ZXIsXHJcbiAgICBvblNlYXJjaCAoZmllbGRzVmFsdWUpIHtcclxuICAgICAgY29uc3QgeyBwYXRobmFtZSB9ID0gbG9jYXRpb25cclxuICAgICAgISFmaWVsZHNWYWx1ZS5rZXl3b3JkMi5sZW5ndGggP1xyXG4gICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHtcclxuICAgICAgICBwYXRobmFtZTogcGF0aG5hbWUsXHJcbiAgICAgICAgcXVlcnk6IHtcclxuICAgICAgICAgIC4uLmZpZWxkc1ZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KSkgOiBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHtcclxuICAgICAgICBwYXRobmFtZTogcGF0aG5hbWVcclxuICAgICAgfSkpXHJcbiAgICB9LFxyXG4gICAgb25BZGQgKCkge1xyXG4gICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgdHlwZTogJ21vZGFsL3Nob3dNb2RhbCcsXHJcbiAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgdHlwZTogJ2NyZWF0ZSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBVc2VyTW9kYWxHZW4gPSAoKSA9PiA8VXNlck1vZGFsLz5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LWlubmVyJz5cclxuICAgICAgPFVzZXJTZWFyY2ggey4uLnVzZXJTZWFyY2hQcm9wc30gLz5cclxuICAgICAgPFVzZXJMaXN0IHsuLi51c2VyTGlzdFByb3BzfSAvPlxyXG4gICAgICA8VXNlck1vZGFsR2VuIC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcblVzZXIucHJvcFR5cGVzID0ge1xyXG4gIGFjY291bnRVc2VyOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuY1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoeyBhY2NvdW50VXNlciB9KSB7XHJcbiAgcmV0dXJuIHsgYWNjb3VudFVzZXIgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoVXNlcilcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcm91dGVzL2FjY291bnQvVXNlci5qc1xuICoqLyIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcuLi8uLi91dGlscydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeSAocGFyYW1zKSB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJy9kYXNoYm9hcmQtdXNlci9saXN0Jywge1xyXG4gICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgIGRhdGE6IHBhcmFtc1xyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQgKHBhcmFtcykge1xyXG4gIHJldHVybiByZXF1ZXN0KCcvYXBpL3VzZXJJdGVtJywge1xyXG4gICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgIGRhdGE6IHBhcmFtc1xyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUgKHBhcmFtcykge1xyXG4gIHJldHVybiByZXF1ZXN0KCcvYXBpL3VzZXInLCB7XHJcbiAgICBtZXRob2Q6ICdwb3N0JyxcclxuICAgIGRhdGE6IHBhcmFtc1xyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUgKHBhcmFtcykge1xyXG4gIHJldHVybiByZXF1ZXN0KCcvYXBpL3VzZXInLCB7XHJcbiAgICBtZXRob2Q6ICdkZWxldGUnLFxyXG4gICAgZGF0YTogcGFyYW1zXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSAocGFyYW1zKSB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJy9hcGkvdXNlcicsIHtcclxuICAgIG1ldGhvZDogJ3B1dCcsXHJcbiAgICBkYXRhOiBwYXJhbXNcclxuICB9KVxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3NlcnZpY2VzL2FjY291bnQvdXNlci5qc1xuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRhYmxlXCI6XCJ0YWJsZV9fXzNrREM4XCIsXCJhdmF0YXJcIjpcImF2YXRhcl9fX0Y5NUlIXCIsXCJ3YXJuaW5nXCI6XCJ3YXJuaW5nX19fMkwzaHJcIixcImRhbmdlclwiOlwiZGFuZ2VyX19fMTFIc2ZcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb21wb25lbnRzL2FjY291bnQvdXNlci9MaXN0Lmxlc3NcbiAqKiBtb2R1bGUgaWQgPSA4NjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vYnV0dG9uL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=