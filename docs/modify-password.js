webpackJsonp([8],{74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MENU=1,t.DETAIL=2,t.ADD=3,t.UPDATE=4,t.DELETE=5,t.CHECK=6,t.UPLOAD=7},699:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s,o,u=(a(26),a(20)),n=r(u),d=a(2),l=r(d),i=(a(25),a(147)),p=r(i),f=a(3),c=r(f),h=a(5),m=r(h),y=a(4),w=r(y),v=(a(87),a(86)),P=r(v),b=a(1),_=r(b),g=a(486),E=r(g),M=a(874),k=r(M),D=P["default"].Item,T={labelCol:{span:6},wrapperCol:{span:14}},x={wrapperCol:{span:14,offset:6}},C=(o=s=function(e){function t(){var a,r,s;(0,c["default"])(this,t);for(var o=arguments.length,u=Array(o),n=0;n<o;n++)u[n]=arguments[n];return a=r=(0,m["default"])(this,e.call.apply(e,[this].concat(u))),r.state={passwordDirty:!1},s=a,(0,m["default"])(r,s)}return(0,w["default"])(t,e),t.prototype.handleSubmit=function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||(a.username=E["default"].get("user_name"),t.props.onOk(a))})},t.prototype.checkConfirm=function(e,t,a){t&&this.state.passwordDirty&&this.props.form.validateFields(["confirm"],{force:!0}),a()},t.prototype.handlePasswordBlur=function(e){var t=e.target.value;this.setState({passwordDirty:this.state.passwordDirty||!!t})},t.prototype.checkPassword=function(e,t,a){t&&t!==this.props.form.getFieldValue("password")?a("\u4e24\u4e2a\u65b0\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):a()},t.prototype.render=function(){var e=this.props,t=e.loading,a=e.form.getFieldDecorator,r=e.updatePower;return _["default"].createElement(P["default"],{horizontal:!0,className:k["default"].modifyForm,onSubmit:this.handleSubmit.bind(this)},_["default"].createElement(D,(0,l["default"])({label:"\u65e7\u5bc6\u7801\uff1a",hasFeedback:!0},T),a("oldPassword",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"}]})(_["default"].createElement(p["default"],{placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801",type:"password"}))),_["default"].createElement(D,(0,l["default"])({label:"\u65b0\u5bc6\u7801\uff1a",hasFeedback:!0},T),a("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},{validator:this.checkConfirm.bind(this)}]})(_["default"].createElement(p["default"],{placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801",type:"password",onBlur:this.handlePasswordBlur.bind(this)}))),_["default"].createElement(D,(0,l["default"])({label:"\u65b0\u5bc6\u7801\u786e\u8ba4\uff1a",hasFeedback:!0},T),a("confirm",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801\u786e\u8ba4"},{validator:this.checkPassword.bind(this)}]})(_["default"].createElement(p["default"],{placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801\u786e\u8ba4",type:"password"}))),_["default"].createElement(D,x,_["default"].createElement(n["default"],{type:"primary",htmlType:"submit",size:"large",className:k["default"].button,loading:t,disabled:!r},"\u786e\u8ba4\u4fee\u6539")))},t}(b.Component),s.propTypes={loading:b.PropTypes.bool.isRequired,onOk:b.PropTypes.func.isRequired},o);t["default"]=P["default"].create()(C),e.exports=t["default"]},707:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),o=r(s),u=a(44),n=r(u),d=a(64),l=a(37),i=a(726),p=a(13);t["default"]={namespace:"systemModifyPassword",state:{loading:!1},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;a.listen(function(e){var a=e.pathname;if("/system/modify-password"===a){var r=(0,p.getCurPowers)(a);t(r?{type:"app/changeCurPowers",payload:{curPowers:r}}:l.routerRedux.push({pathname:"/no-power"}))}})}},effects:{update:n["default"].mark(function f(e,t){var a=e.payload,r=(t.select,t.call),s=t.put;return n["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({type:"showLoading"});case 2:return e.next=4,r(i.update,(0,d.parse)(a));case 4:return e.next=6,s({type:"hideLoading"});case 6:case"end":return e.stop()}},f,this)})},reducers:{showLoading:function(e){return(0,o["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,o["default"])({},e,{loading:!1})}}},e.exports=t["default"]},719:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){var t=e.dispatch,a=e.curPowers,r=e.systemModifyPassword,s=r.loading,o=(0,p.checkPower)(f.UPDATE,a),u={loading:s,updatePower:o,onOk:function(e){t({type:"systemModifyPassword/update",payload:e})}};return n["default"].createElement("div",null,n["default"].createElement(i["default"],u))}function o(e){var t=e.systemModifyPassword;return{systemModifyPassword:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(1),n=r(u),d=a(62),l=a(699),i=r(l),p=a(13),f=a(74);a(37);s.propTypes={systemModifyPwd:u.PropTypes.object,dispatch:u.PropTypes.func},t["default"]=(0,d.connect)(o)(s),e.exports=t["default"]},726:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.update=void 0;var s=a(44),o=r(s),u=a(155),n=r(u),d=(t.update=function(){var e=(0,n["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)("/api/modifyPassword",{method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),a(13))},874:function(e,t){e.exports={modifyForm:"modifyForm___3EqRD",button:"button___2tvAv"}}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vbW9kaWZ5LXBhc3N3b3JkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qcz9mMTgwKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zeXN0ZW0vbW9kaWZ5UGFzc3dvcmQvTW9kaWZ5Rm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N5c3RlbS9tb2RpZnlQYXNzd29yZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3N5c3RlbS9Nb2RpZnlQYXNzd29yZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc3lzdGVtL21vZGlmeVBhc3N3b3JkLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3N5c3RlbS9tb2RpZnlQYXNzd29yZC9Nb2RpZnlGb3JtLmxlc3MiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiNzQiLCJtb2R1bGUiLCJleHBvcnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIk1FTlUiLCJERVRBSUwiLCJBREQiLCJVUERBVEUiLCJERUxFVEUiLCJDSEVDSyIsIlVQTE9BRCIsIjY5OSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfY2xhc3MiLCJfdGVtcDIiLCJfYnV0dG9uIiwiX2J1dHRvbjIiLCJfZXh0ZW5kczIiLCJfZXh0ZW5kczMiLCJfaW5wdXQiLCJfaW5wdXQyIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9jbGFzc0NhbGxDaGVjazMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMyIiwiX2luaGVyaXRzMyIsIl9mb3JtIiwiX2Zvcm0yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9qc0Nvb2tpZSIsIl9qc0Nvb2tpZTIiLCJfTW9kaWZ5Rm9ybSIsIl9Nb2RpZnlGb3JtMiIsIkZvcm1JdGVtIiwiSXRlbSIsImZvcm1JdGVtTGF5b3V0IiwibGFiZWxDb2wiLCJzcGFuIiwid3JhcHBlckNvbCIsInRhaWxGb3JtSXRlbUxheW91dCIsIm9mZnNldCIsIk1vZGlmeUZvcm0iLCJfQ29tcG9uZW50IiwiX3RlbXAiLCJfdGhpcyIsIl9yZXQiLCJ0aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjYWxsIiwiYXBwbHkiLCJjb25jYXQiLCJzdGF0ZSIsInBhc3N3b3JkRGlydHkiLCJwcm90b3R5cGUiLCJoYW5kbGVTdWJtaXQiLCJlIiwiX3RoaXMyIiwicHJldmVudERlZmF1bHQiLCJwcm9wcyIsImZvcm0iLCJ2YWxpZGF0ZUZpZWxkcyIsImVycm9ycyIsInZhbHVlcyIsInVzZXJuYW1lIiwiZ2V0Iiwib25PayIsImNoZWNrQ29uZmlybSIsInJ1bGUiLCJjYWxsYmFjayIsImZvcmNlIiwiaGFuZGxlUGFzc3dvcmRCbHVyIiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJjaGVja1Bhc3N3b3JkIiwiZ2V0RmllbGRWYWx1ZSIsInJlbmRlciIsIl9wcm9wcyIsImxvYWRpbmciLCJnZXRGaWVsZERlY29yYXRvciIsInVwZGF0ZVBvd2VyIiwiY3JlYXRlRWxlbWVudCIsImhvcml6b250YWwiLCJjbGFzc05hbWUiLCJtb2RpZnlGb3JtIiwib25TdWJtaXQiLCJiaW5kIiwibGFiZWwiLCJoYXNGZWVkYmFjayIsInJ1bGVzIiwicmVxdWlyZWQiLCJtZXNzYWdlIiwicGxhY2Vob2xkZXIiLCJ0eXBlIiwidmFsaWRhdG9yIiwib25CbHVyIiwiaHRtbFR5cGUiLCJzaXplIiwiYnV0dG9uIiwiZGlzYWJsZWQiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJib29sIiwiaXNSZXF1aXJlZCIsImZ1bmMiLCJjcmVhdGUiLCI3MDciLCJfcmVnZW5lcmF0b3IiLCJfcmVnZW5lcmF0b3IyIiwiX3FzIiwiX3JvdXRlciIsIl9tb2RpZnlQYXNzd29yZCIsIl91dGlscyIsIm5hbWVzcGFjZSIsInN1YnNjcmlwdGlvbnMiLCJzZXR1cCIsIl9yZWYiLCJkaXNwYXRjaCIsImhpc3RvcnkiLCJsaXN0ZW4iLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiY3VyUG93ZXJzIiwiZ2V0Q3VyUG93ZXJzIiwicGF5bG9hZCIsInJvdXRlclJlZHV4IiwicHVzaCIsImVmZmVjdHMiLCJ1cGRhdGUiLCJtYXJrIiwiX3JlZjIiLCJfcmVmMyIsInNlbGVjdCIsInB1dCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicGFyc2UiLCJzdG9wIiwicmVkdWNlcnMiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwiNzE5IiwiTW9kaWZ5UGFzc3dvcmQiLCJzeXN0ZW1Nb2RpZnlQYXNzd29yZCIsImNoZWNrUG93ZXIiLCJfb3B0aW9ucyIsIm1vZGlmeUZvcm1Qcm9wcyIsImRhdGEiLCJtYXBTdGF0ZVRvUHJvcHMiLCJfZHZhIiwic3lzdGVtTW9kaWZ5UHdkIiwib2JqZWN0IiwiY29ubmVjdCIsIjcyNiIsInVuZGVmaW5lZCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9hc3luY1RvR2VuZXJhdG9yMyIsIl9jYWxsZWUiLCJwYXJhbXMiLCJhYnJ1cHQiLCJyZXF1ZXN0IiwibWV0aG9kIiwiX3giLCI4NzQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEdBQ0EsU0FBU0MsRUFBUUMsR0FFdEIsWUFFQUMsUUFBT0MsZUFBZUYsRUFBUyxjQUM3QkcsT0FBTyxHQ1JHQyxRQUFPLEVBQ1BDLFNBQVMsRUFDVEMsTUFBTSxFQUNOQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVEMsUUFBUSxFQUNSQyxTQUFTLEdEY2hCQyxJQUNBLFNBQVNaLEVBQVFDLEVBQVNZLEdBRS9CLFlBc0RBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBcER2RmIsT0FBT0MsZUFBZUYsRUFBUyxjQUM3QkcsT0FBTyxHQUdULElB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LEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBdkN2RmIsT0FBT0MsZUFBZUYsRUFBUyxjQUM3QkcsT0FBTyxJQUVUSCxFQUFRMkksT0FBUzRCLE1BRWpCLElBQUlqRCxHQUFlMUcsRUFBb0IsSUFFbkMyRyxFQUFnQjFHLEVBQXVCeUcsR0FFdkNrRCxFQUFxQjVKLEVBQW9CLEtBRXpDNkosRUFBcUI1SixFQUF1QjJKLEdLdFlqRDdDLEdMd1ljM0gsRUFBUTJJLE9BQVMsV0FDNUIsR0FBSVosSUFBTyxFQUFJMEMsY0FBNEJsRCxhQUFzQnFCLEtLdlk3RCxRQUFBOEIsR0FBdUJDLEdBQXZCLE1BQUFwRCxjQUFBMEIsS0FBQSxTQUFBQyxHQUFBLGNBQUFBLEVBQUFDLEtBQUFELEVBQUFFLE1BQUEsYUFBQUYsR0FBQTBCLE9BQUEsVUFDRSxFQUFBakQsRUFBQWtELFNBQVEsdUJBQ2JDLE9BQVEsTUFDUmQsS0FBTVcsSUFISCx3QkFBQXpCLEdBQUFJLFNBQUFvQixFQUFBdEgsUUx5WkosT0FBTyxVQUFnQjJILEdBQ3JCLE1BQU9oRCxHQUFLbkUsTUFBTVIsS0FBTUUsZUs1WjdCMUMsRUFBQSxNTHNhTW9LLElBQ0EsU0FBU2pMLEVBQVFDLEdNdGF2QkQsRUFBQUMsU0FBa0I4RixXQUFBLHFCQUFBYyxPQUFBIiwiZmlsZSI6Im1vZGlmeS1wYXNzd29yZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbOF0se1xuXG4vKioqLyA3NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBNRU5VID0gZXhwb3J0cy5NRU5VID0gMTtcblx0dmFyIERFVEFJTCA9IGV4cG9ydHMuREVUQUlMID0gMjtcblx0dmFyIEFERCA9IGV4cG9ydHMuQUREID0gMztcblx0dmFyIFVQREFURSA9IGV4cG9ydHMuVVBEQVRFID0gNDtcblx0dmFyIERFTEVURSA9IGV4cG9ydHMuREVMRVRFID0gNTtcblx0dmFyIENIRUNLID0gZXhwb3J0cy5DSEVDSyA9IDY7XG5cdHZhciBVUExPQUQgPSBleHBvcnRzLlVQTE9BRCA9IDc7XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHlsZTQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9zdHlsZTUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfaW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyk7XG5cdFxuXHR2YXIgX2lucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lucHV0KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nyk7XG5cdFxuXHR2YXIgX2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtcblx0XG5cdHZhciBfZm9ybTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mb3JtKTtcblx0XG5cdHZhciBfY2xhc3MsIF90ZW1wMjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2pzQ29va2llID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0ODYpO1xuXHRcblx0dmFyIF9qc0Nvb2tpZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9qc0Nvb2tpZSk7XG5cdFxuXHR2YXIgX01vZGlmeUZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3NCk7XG5cdFxuXHR2YXIgX01vZGlmeUZvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kaWZ5Rm9ybSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEZvcm1JdGVtID0gX2Zvcm0yLmRlZmF1bHQuSXRlbTtcblx0XG5cdHZhciBmb3JtSXRlbUxheW91dCA9IHtcblx0ICBsYWJlbENvbDoge1xuXHQgICAgc3BhbjogNlxuXHQgIH0sXG5cdCAgd3JhcHBlckNvbDoge1xuXHQgICAgc3BhbjogMTRcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgdGFpbEZvcm1JdGVtTGF5b3V0ID0ge1xuXHQgIHdyYXBwZXJDb2w6IHtcblx0ICAgIHNwYW46IDE0LFxuXHQgICAgb2Zmc2V0OiA2XG5cdCAgfVxuXHR9O1xuXHRcblx0dmFyIE1vZGlmeUZvcm0gPSAoX3RlbXAyID0gX2NsYXNzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShNb2RpZnlGb3JtLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTW9kaWZ5Rm9ybSgpIHtcblx0ICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cdFxuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazMuZGVmYXVsdCkodGhpcywgTW9kaWZ5Rm9ybSk7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHsgcGFzc3dvcmREaXJ0eTogZmFsc2UgfSwgX3RlbXApLCAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zLmRlZmF1bHQpKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cdFxuXHQgIE1vZGlmeUZvcm0ucHJvdG90eXBlLmhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChlKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgdGhpcy5wcm9wcy5mb3JtLnZhbGlkYXRlRmllbGRzKGZ1bmN0aW9uIChlcnJvcnMsIHZhbHVlcykge1xuXHQgICAgICBpZiAoIWVycm9ycykge1xuXHQgICAgICAgIHZhbHVlcy51c2VybmFtZSA9IF9qc0Nvb2tpZTIuZGVmYXVsdC5nZXQoJ3VzZXJfbmFtZScpO1xuXHQgICAgICAgIF90aGlzMi5wcm9wcy5vbk9rKHZhbHVlcyk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIE1vZGlmeUZvcm0ucHJvdG90eXBlLmNoZWNrQ29uZmlybSA9IGZ1bmN0aW9uIGNoZWNrQ29uZmlybShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHtcblx0ICAgIGlmICh2YWx1ZSAmJiB0aGlzLnN0YXRlLnBhc3N3b3JkRGlydHkpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5mb3JtLnZhbGlkYXRlRmllbGRzKFsnY29uZmlybSddLCB7IGZvcmNlOiB0cnVlIH0pO1xuXHQgICAgfVxuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9O1xuXHRcblx0ICBNb2RpZnlGb3JtLnByb3RvdHlwZS5oYW5kbGVQYXNzd29yZEJsdXIgPSBmdW5jdGlvbiBoYW5kbGVQYXNzd29yZEJsdXIoZSkge1xuXHQgICAgdmFyIHZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cdCAgICB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmREaXJ0eTogdGhpcy5zdGF0ZS5wYXNzd29yZERpcnR5IHx8ICEhdmFsdWUgfSk7XG5cdCAgfTtcblx0XG5cdCAgTW9kaWZ5Rm9ybS5wcm90b3R5cGUuY2hlY2tQYXNzd29yZCA9IGZ1bmN0aW9uIGNoZWNrUGFzc3dvcmQocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7XG5cdCAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09IHRoaXMucHJvcHMuZm9ybS5nZXRGaWVsZFZhbHVlKCdwYXNzd29yZCcpKSB7XG5cdCAgICAgIGNhbGxiYWNrKCfkuKTkuKrmlrDlr4bnoIHovpPlhaXkuI3kuIDoh7QnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgTW9kaWZ5Rm9ybS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgbG9hZGluZyA9IF9wcm9wcy5sb2FkaW5nLFxuXHQgICAgICAgIGdldEZpZWxkRGVjb3JhdG9yID0gX3Byb3BzLmZvcm0uZ2V0RmllbGREZWNvcmF0b3IsXG5cdCAgICAgICAgdXBkYXRlUG93ZXIgPSBfcHJvcHMudXBkYXRlUG93ZXI7XG5cdFxuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX2Zvcm0yLmRlZmF1bHQsXG5cdCAgICAgIHsgaG9yaXpvbnRhbDogdHJ1ZSwgY2xhc3NOYW1lOiBfTW9kaWZ5Rm9ybTIuZGVmYXVsdC5tb2RpZnlGb3JtLCBvblN1Ym1pdDogdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKSB9LFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgbGFiZWw6ICdcXHU2NUU3XFx1NUJDNlxcdTc4MDFcXHVGRjFBJywgaGFzRmVlZGJhY2s6IHRydWUgfSwgZm9ybUl0ZW1MYXlvdXQpLFxuXHQgICAgICAgIGdldEZpZWxkRGVjb3JhdG9yKCdvbGRQYXNzd29yZCcsIHtcblx0ICAgICAgICAgIHJ1bGVzOiBbe1xuXHQgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcblx0ICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaXp+WvhueggSdcblx0ICAgICAgICAgIH1dXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2lucHV0Mi5kZWZhdWx0LCB7IHBsYWNlaG9sZGVyOiAnXFx1OEJGN1xcdThGOTNcXHU1MTY1XFx1NjVFN1xcdTVCQzZcXHU3ODAxJywgdHlwZTogJ3Bhc3N3b3JkJyB9KSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IGxhYmVsOiAnXFx1NjVCMFxcdTVCQzZcXHU3ODAxXFx1RkYxQScsIGhhc0ZlZWRiYWNrOiB0cnVlIH0sIGZvcm1JdGVtTGF5b3V0KSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcigncGFzc3dvcmQnLCB7XG5cdCAgICAgICAgICBydWxlczogW3tcblx0ICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG5cdCAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlrDlr4bnoIEnXG5cdCAgICAgICAgICB9LCB7XG5cdCAgICAgICAgICAgIHZhbGlkYXRvcjogdGhpcy5jaGVja0NvbmZpcm0uYmluZCh0aGlzKVxuXHQgICAgICAgICAgfV1cblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5wdXQyLmRlZmF1bHQsIHsgcGxhY2Vob2xkZXI6ICdcXHU4QkY3XFx1OEY5M1xcdTUxNjVcXHU2NUIwXFx1NUJDNlxcdTc4MDEnLCB0eXBlOiAncGFzc3dvcmQnLCBvbkJsdXI6IHRoaXMuaGFuZGxlUGFzc3dvcmRCbHVyLmJpbmQodGhpcykgfSkpXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoeyBsYWJlbDogJ1xcdTY1QjBcXHU1QkM2XFx1NzgwMVxcdTc4NkVcXHU4QkE0XFx1RkYxQScsIGhhc0ZlZWRiYWNrOiB0cnVlIH0sIGZvcm1JdGVtTGF5b3V0KSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignY29uZmlybScsIHtcblx0ICAgICAgICAgIHJ1bGVzOiBbe1xuXHQgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcblx0ICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaWsOWvhueggeehruiupCdcblx0ICAgICAgICAgIH0sIHtcblx0ICAgICAgICAgICAgdmFsaWRhdG9yOiB0aGlzLmNoZWNrUGFzc3dvcmQuYmluZCh0aGlzKVxuXHQgICAgICAgICAgfV1cblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5wdXQyLmRlZmF1bHQsIHsgcGxhY2Vob2xkZXI6ICdcXHU4QkY3XFx1OEY5M1xcdTUxNjVcXHU2NUIwXFx1NUJDNlxcdTc4MDFcXHU3ODZFXFx1OEJBNCcsIHR5cGU6ICdwYXNzd29yZCcgfSkpXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgIHRhaWxGb3JtSXRlbUxheW91dCxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9idXR0b24yLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHR5cGU6ICdwcmltYXJ5JywgaHRtbFR5cGU6ICdzdWJtaXQnLCBzaXplOiAnbGFyZ2UnLCBjbGFzc05hbWU6IF9Nb2RpZnlGb3JtMi5kZWZhdWx0LmJ1dHRvbiwgbG9hZGluZzogbG9hZGluZywgZGlzYWJsZWQ6ICF1cGRhdGVQb3dlciB9LFxuXHQgICAgICAgICAgJ1xcdTc4NkVcXHU4QkE0XFx1NEZFRVxcdTY1MzknXG5cdCAgICAgICAgKVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBNb2RpZnlGb3JtO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpLCBfY2xhc3MucHJvcFR5cGVzID0ge1xuXHQgIGxvYWRpbmc6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXHQgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG5cdH0sIF90ZW1wMik7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9mb3JtMi5kZWZhdWx0LmNyZWF0ZSgpKE1vZGlmeUZvcm0pO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzA3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlZ2VuZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2VuZXJhdG9yKTtcblx0XG5cdHZhciBfcXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtcblx0XG5cdHZhciBfcm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX21vZGlmeVBhc3N3b3JkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MjYpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBuYW1lc3BhY2U6ICdzeXN0ZW1Nb2RpZnlQYXNzd29yZCcsXG5cdCAgc3RhdGU6IHtcblx0ICAgIGxvYWRpbmc6IGZhbHNlXG5cdCAgfSxcblx0XG5cdCAgc3Vic2NyaXB0aW9uczoge1xuXHQgICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9yZWYpIHtcblx0ICAgICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcblx0ICAgICAgICAgIGhpc3RvcnkgPSBfcmVmLmhpc3Rvcnk7XG5cdFxuXHQgICAgICBoaXN0b3J5Lmxpc3RlbihmdW5jdGlvbiAobG9jYXRpb24pIHtcblx0ICAgICAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcblx0ICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvc3lzdGVtL21vZGlmeS1wYXNzd29yZCcpIHtcblx0ICAgICAgICAgIHZhciBjdXJQb3dlcnMgPSAoMCwgX3V0aWxzLmdldEN1clBvd2VycykocGF0aG5hbWUpO1xuXHQgICAgICAgICAgaWYgKGN1clBvd2Vycykge1xuXHQgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdhcHAvY2hhbmdlQ3VyUG93ZXJzJywgcGF5bG9hZDogeyBjdXJQb3dlcnM6IGN1clBvd2VycyB9IH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goX3JvdXRlci5yb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGVmZmVjdHM6IHtcblx0ICAgIHVwZGF0ZTogX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gdXBkYXRlKF9yZWYyLCBfcmVmMykge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWYyLnBheWxvYWQ7XG5cdCAgICAgIHZhciBzZWxlY3QgPSBfcmVmMy5zZWxlY3QsXG5cdCAgICAgICAgICBjYWxsID0gX3JlZjMuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWYzLnB1dDtcblx0ICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIHVwZGF0ZSQoX2NvbnRleHQpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuXHQgICAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdzaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNhbGwoX21vZGlmeVBhc3N3b3JkLnVwZGF0ZSwgKDAsIF9xcy5wYXJzZSkocGF5bG9hZCkpO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA2OlxuXHQgICAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB1cGRhdGUsIHRoaXMpO1xuXHQgICAgfSlcblx0ICB9LFxuXHRcblx0ICByZWR1Y2Vyczoge1xuXHQgICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uIHNob3dMb2FkaW5nKHN0YXRlKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgfSxcblx0ICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbiBoaWRlTG9hZGluZyhzdGF0ZSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgbG9hZGluZzogZmFsc2UgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfZHZhID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdFxuXHR2YXIgX01vZGlmeUZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5OSk7XG5cdFxuXHR2YXIgX01vZGlmeUZvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kaWZ5Rm9ybSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX29wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0XG5cdHZhciBfcm91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gTW9kaWZ5UGFzc3dvcmQoX3JlZikge1xuXHQgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG5cdCAgICAgIGN1clBvd2VycyA9IF9yZWYuY3VyUG93ZXJzLFxuXHQgICAgICBzeXN0ZW1Nb2RpZnlQYXNzd29yZCA9IF9yZWYuc3lzdGVtTW9kaWZ5UGFzc3dvcmQ7XG5cdCAgdmFyIGxvYWRpbmcgPSBzeXN0ZW1Nb2RpZnlQYXNzd29yZC5sb2FkaW5nO1xuXHRcblx0XG5cdCAgdmFyIHVwZGF0ZVBvd2VyID0gKDAsIF91dGlscy5jaGVja1Bvd2VyKShfb3B0aW9ucy5VUERBVEUsIGN1clBvd2Vycyk7XG5cdFxuXHQgIHZhciBtb2RpZnlGb3JtUHJvcHMgPSB7XG5cdCAgICBsb2FkaW5nOiBsb2FkaW5nLFxuXHQgICAgdXBkYXRlUG93ZXI6IHVwZGF0ZVBvd2VyLFxuXHQgICAgb25PazogZnVuY3Rpb24gb25PayhkYXRhKSB7XG5cdCAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ3N5c3RlbU1vZGlmeVBhc3N3b3JkL3VwZGF0ZScsIHBheWxvYWQ6IGRhdGEgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgJ2RpdicsXG5cdCAgICBudWxsLFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX01vZGlmeUZvcm0yLmRlZmF1bHQsIG1vZGlmeUZvcm1Qcm9wcylcblx0ICApO1xuXHR9XG5cdFxuXHRNb2RpZnlQYXNzd29yZC5wcm9wVHlwZXMgPSB7XG5cdCAgc3lzdGVtTW9kaWZ5UHdkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBkaXNwYXRjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoX3JlZjIpIHtcblx0ICB2YXIgc3lzdGVtTW9kaWZ5UGFzc3dvcmQgPSBfcmVmMi5zeXN0ZW1Nb2RpZnlQYXNzd29yZDtcblx0XG5cdCAgcmV0dXJuIHsgc3lzdGVtTW9kaWZ5UGFzc3dvcmQ6IHN5c3RlbU1vZGlmeVBhc3N3b3JkIH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfZHZhLmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoTW9kaWZ5UGFzc3dvcmQpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzI2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudXBkYXRlID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHRcblx0dmFyIF9hc3luY1RvR2VuZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FzeW5jVG9HZW5lcmF0b3IyKTtcblx0XG5cdHZhciB1cGRhdGUgPSBleHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3JlZiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHtcblx0ICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcblx0ICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2FwaS9tb2RpZnlQYXNzd29yZCcsIHtcblx0ICAgICAgICAgICAgICBtZXRob2Q6ICdwdXQnLFxuXHQgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuXHQgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuXHQgIH0pKTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShfeCkge1xuXHQgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKioqLyB9LFxuXG4vKioqLyA4NzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcIm1vZGlmeUZvcm1cIjpcIm1vZGlmeUZvcm1fX18zRXFSRFwiLFwiYnV0dG9uXCI6XCJidXR0b25fX18ydHZBdlwifTtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBtb2RpZnktcGFzc3dvcmQuanNcbiAqKi8iLCJleHBvcnQgY29uc3QgTUVOVSA9IDFcclxuZXhwb3J0IGNvbnN0IERFVEFJTCA9IDJcclxuZXhwb3J0IGNvbnN0IEFERCA9IDNcclxuZXhwb3J0IGNvbnN0IFVQREFURSA9IDRcclxuZXhwb3J0IGNvbnN0IERFTEVURSA9IDVcclxuZXhwb3J0IGNvbnN0IENIRUNLID0gNlxyXG5leHBvcnQgY29uc3QgVVBMT0FEID0gN1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMsIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBGb3JtLCBJbnB1dCwgQnV0dG9uIH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnXHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Nb2RpZnlGb3JtLmxlc3MnXHJcblxyXG5jb25zdCBGb3JtSXRlbSA9IEZvcm0uSXRlbVxyXG5cclxuY29uc3QgZm9ybUl0ZW1MYXlvdXQgPSB7XHJcbiAgbGFiZWxDb2w6IHtcclxuICAgIHNwYW46IDZcclxuICB9LFxyXG4gIHdyYXBwZXJDb2w6IHtcclxuICAgIHNwYW46IDE0XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCB0YWlsRm9ybUl0ZW1MYXlvdXQgPSB7XHJcbiAgICB3cmFwcGVyQ29sOiB7XHJcbiAgICAgIHNwYW46IDE0LFxyXG4gICAgICBvZmZzZXQ6IDYsXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE1vZGlmeUZvcm0gZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cclxuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xyXG4gICAgbG9hZGluZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuICAgIG9uT2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcclxuICB9XHJcblxyXG4gIHN0YXRlID0geyBwYXNzd29yZERpcnR5OiBmYWxzZSB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdCAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgdGhpcy5wcm9wcy5mb3JtLnZhbGlkYXRlRmllbGRzKChlcnJvcnMsIHZhbHVlcykgPT4ge1xyXG4gICAgICBpZiAoIWVycm9ycykge1xyXG4gICAgICAgIHZhbHVlcy51c2VybmFtZSA9IENvb2tpZS5nZXQoJ3VzZXJfbmFtZScpXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbk9rKHZhbHVlcylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNoZWNrQ29uZmlybShydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICh2YWx1ZSAmJiB0aGlzLnN0YXRlLnBhc3N3b3JkRGlydHkpIHtcclxuICAgICAgdGhpcy5wcm9wcy5mb3JtLnZhbGlkYXRlRmllbGRzKFsnY29uZmlybSddLCB7IGZvcmNlOiB0cnVlIH0pXHJcbiAgICB9XHJcbiAgICBjYWxsYmFjaygpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUGFzc3dvcmRCbHVyKGUpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmREaXJ0eTogdGhpcy5zdGF0ZS5wYXNzd29yZERpcnR5IHx8ICEhdmFsdWUgfSlcclxuICB9XHJcblxyXG4gIGNoZWNrUGFzc3dvcmQocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09IHRoaXMucHJvcHMuZm9ybS5nZXRGaWVsZFZhbHVlKCdwYXNzd29yZCcpKSB7XHJcbiAgICAgIGNhbGxiYWNrKCfkuKTkuKrmlrDlr4bnoIHovpPlhaXkuI3kuIDoh7QnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBsb2FkaW5nLFxyXG4gICAgICBmb3JtOiB7XHJcbiAgICAgICAgZ2V0RmllbGREZWNvcmF0b3JcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlUG93ZXJcclxuICAgIH0gPSB0aGlzLnByb3BzXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEZvcm0gaG9yaXpvbnRhbCBjbGFzc05hbWU9e3N0eWxlcy5tb2RpZnlGb3JtfSBvblN1Ym1pdD17Ojp0aGlzLmhhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgPEZvcm1JdGVtIGxhYmVsPSfml6flr4bnoIHvvJonIGhhc0ZlZWRiYWNrIHsuLi5mb3JtSXRlbUxheW91dH0+XHJcbiAgICAgICAgICB7Z2V0RmllbGREZWNvcmF0b3IoJ29sZFBhc3N3b3JkJywge1xyXG4gICAgICAgICAgICBydWxlczogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeaXp+WvhueggSdcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH0pKDxJbnB1dCBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeaXp+WvhueggVwiIHR5cGU9XCJwYXNzd29yZFwiIC8+KX1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICAgIDxGb3JtSXRlbSBsYWJlbD0n5paw5a+G56CB77yaJyBoYXNGZWVkYmFjayB7Li4uZm9ybUl0ZW1MYXlvdXR9PlxyXG4gICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCdwYXNzd29yZCcsIHtcclxuICAgICAgICAgICAgcnVsZXM6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlrDlr4bnoIEnXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiA6OnRoaXMuY2hlY2tDb25maXJtLFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSkoPElucHV0IHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5paw5a+G56CBXCIgdHlwZT1cInBhc3N3b3JkXCIgb25CbHVyPXs6OnRoaXMuaGFuZGxlUGFzc3dvcmRCbHVyfSAvPil9XHJcbiAgICAgICAgPC9Gb3JtSXRlbT5cclxuICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9J+aWsOWvhueggeehruiupO+8micgaGFzRmVlZGJhY2sgey4uLmZvcm1JdGVtTGF5b3V0fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignY29uZmlybScsIHtcclxuICAgICAgICAgICAgcnVsZXM6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmlrDlr4bnoIHnoa7orqQnXHJcbiAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiA6OnRoaXMuY2hlY2tQYXNzd29yZCxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH0pKDxJbnB1dCBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeaWsOWvhueggeehruiupFwiIHR5cGU9XCJwYXNzd29yZFwiIC8+KX1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICAgIDxGb3JtSXRlbSB7Li4udGFpbEZvcm1JdGVtTGF5b3V0fT5cclxuICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIGh0bWxUeXBlPVwic3VibWl0XCIgc2l6ZT1cImxhcmdlXCIgY2xhc3NOYW1lPXtzdHlsZXMuYnV0dG9ufSBsb2FkaW5nPXtsb2FkaW5nfSBkaXNhYmxlZD17IXVwZGF0ZVBvd2VyfT7noa7orqTkv67mlLk8L0J1dHRvbj5cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICA8L0Zvcm0+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtLmNyZWF0ZSgpKE1vZGlmeUZvcm0pXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvc3lzdGVtL21vZGlmeVBhc3N3b3JkL01vZGlmeUZvcm0uanNcbiAqKi8iLCJpbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3FzJ1xyXG5pbXBvcnQgeyByb3V0ZXJSZWR1eCB9IGZyb20gJ2R2YS9yb3V0ZXInXHJcbmltcG9ydCB7IHVwZGF0ZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3N5c3RlbS9tb2RpZnlQYXNzd29yZCdcclxuaW1wb3J0IHsgZ2V0Q3VyUG93ZXJzIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlOiAnc3lzdGVtTW9kaWZ5UGFzc3dvcmQnLFxyXG4gIHN0YXRlOiB7XHJcbiAgICBsb2FkaW5nOiBmYWxzZVxyXG4gIH0sXHJcblxyXG4gIHN1YnNjcmlwdGlvbnM6IHtcclxuICAgIHNldHVwICh7IGRpc3BhdGNoLCBoaXN0b3J5IH0pIHtcclxuICAgICAgaGlzdG9yeS5saXN0ZW4obG9jYXRpb24gPT4ge1xyXG4gICAgICAgIGNvbnN0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWVcclxuICAgICAgICBpZiAocGF0aG5hbWUgPT09ICcvc3lzdGVtL21vZGlmeS1wYXNzd29yZCcpIHtcclxuICAgICAgICAgIGNvbnN0IGN1clBvd2VycyA9IGdldEN1clBvd2VycyhwYXRobmFtZSlcclxuICAgICAgICAgIGlmKGN1clBvd2Vycykge1xyXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6ICdhcHAvY2hhbmdlQ3VyUG93ZXJzJywgcGF5bG9hZDogeyBjdXJQb3dlcnMgfSB9KVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2gocm91dGVyUmVkdXgucHVzaCh7IHBhdGhuYW1lOiAnL25vLXBvd2VyJyB9KSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZWZmZWN0czoge1xyXG4gICAgKnVwZGF0ZSAoeyBwYXlsb2FkIH0sIHsgc2VsZWN0LCBjYWxsLCBwdXQgfSkge1xyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnc2hvd0xvYWRpbmcnIH0pXHJcbiAgICAgIHlpZWxkIGNhbGwodXBkYXRlLCBwYXJzZShwYXlsb2FkKSlcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHJlZHVjZXJzOiB7XHJcbiAgICBzaG93TG9hZGluZyAoc3RhdGUpIHtcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxvYWRpbmc6IHRydWUgfVxyXG4gICAgfSxcclxuICAgIGhpZGVMb2FkaW5nIChzdGF0ZSkge1xyXG4gICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbG9hZGluZzogZmFsc2UgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbW9kZWxzL3N5c3RlbS9tb2RpZnlQYXNzd29yZC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7Y29ubmVjdH0gZnJvbSAnZHZhJ1xyXG5pbXBvcnQgTW9kaWZ5Rm9ybSBmcm9tICcuLi8uLi9jb21wb25lbnRzL3N5c3RlbS9tb2RpZnlQYXNzd29yZC9Nb2RpZnlGb3JtJ1xyXG5pbXBvcnQgeyBjaGVja1Bvd2VyLCBjaGVja1F1ZXJ5UG93ZXIgfSBmcm9tICcuLi8uLi91dGlscydcclxuaW1wb3J0IHsgVVBEQVRFIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL29wdGlvbnMnXHJcblxyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnZHZhL3JvdXRlcidcclxuXHJcbmZ1bmN0aW9uIE1vZGlmeVBhc3N3b3JkKHsgZGlzcGF0Y2gsIGN1clBvd2Vycywgc3lzdGVtTW9kaWZ5UGFzc3dvcmQgfSkge1xyXG4gIGNvbnN0IHsgbG9hZGluZyB9ID0gc3lzdGVtTW9kaWZ5UGFzc3dvcmRcclxuXHJcbiAgY29uc3QgdXBkYXRlUG93ZXIgPSBjaGVja1Bvd2VyKFVQREFURSwgY3VyUG93ZXJzKVxyXG5cclxuICBjb25zdCBtb2RpZnlGb3JtUHJvcHMgPSB7XHJcbiAgICBsb2FkaW5nLFxyXG4gICAgdXBkYXRlUG93ZXIsXHJcbiAgICBvbk9rKGRhdGEpIHtcclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBgc3lzdGVtTW9kaWZ5UGFzc3dvcmQvdXBkYXRlYCwgcGF5bG9hZDogZGF0YSB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIDxNb2RpZnlGb3JtIHsuLi5tb2RpZnlGb3JtUHJvcHN9PjwvTW9kaWZ5Rm9ybT5cclxuICAgIDwvZGl2PlxyXG4gIClcclxufVxyXG5cclxuTW9kaWZ5UGFzc3dvcmQucHJvcFR5cGVzID0ge1xyXG4gIHN5c3RlbU1vZGlmeVB3ZDogUHJvcFR5cGVzLm9iamVjdCxcclxuICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmNcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHsgc3lzdGVtTW9kaWZ5UGFzc3dvcmQgfSkge1xyXG4gIHJldHVybiB7IHN5c3RlbU1vZGlmeVBhc3N3b3JkIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKE1vZGlmeVBhc3N3b3JkKVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yb3V0ZXMvc3lzdGVtL01vZGlmeVBhc3N3b3JkLmpzXG4gKiovIiwiaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSAocGFyYW1zKSB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJy9hcGkvbW9kaWZ5UGFzc3dvcmQnLCB7XHJcbiAgICBtZXRob2Q6ICdwdXQnLFxyXG4gICAgZGF0YTogcGFyYW1zXHJcbiAgfSlcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2aWNlcy9zeXN0ZW0vbW9kaWZ5UGFzc3dvcmQuanNcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJtb2RpZnlGb3JtXCI6XCJtb2RpZnlGb3JtX19fM0VxUkRcIixcImJ1dHRvblwiOlwiYnV0dG9uX19fMnR2QXZcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb21wb25lbnRzL3N5c3RlbS9tb2RpZnlQYXNzd29yZC9Nb2RpZnlGb3JtLmxlc3NcbiAqKiBtb2R1bGUgaWQgPSA4NzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gOFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=