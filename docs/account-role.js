webpackJsonp([4],{18:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(51),y=r(h),m=n(1),v=r(m),g=n(82),b=r(g),C=n(6),w=r(C),P=n(17),x=r(P),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},S=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return x["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.style,r=e.children,o=e.className,i=e.indeterminate,l=e.onMouseEnter,u=e.onMouseLeave,c=T(e,["prefixCls","style","children","className","indeterminate","onMouseEnter","onMouseLeave"]),p=(0,w["default"])(o,(0,s["default"])({},t+"-wrapper",!0)),f=(0,w["default"])((0,s["default"])({},t+"-indeterminate",i));return v["default"].createElement("label",{className:p,style:n,onMouseEnter:l,onMouseLeave:u},v["default"].createElement(y["default"],(0,a["default"])({},c,{prefixCls:t,className:f,children:null})),void 0!==r?v["default"].createElement("span",null,r):null)},t}(v["default"].Component);t["default"]=S,S.Group=b["default"],S.defaultProps={prefixCls:"ant-checkbox",indeterminate:!1},e.exports=t["default"]},21:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;throw new Error("no key or value for "+e)}function a(e,t){return"value"===t?o(e):e.props[t]}function i(e){return e.combobox}function s(e){return e.multiple||e.tags}function l(e){return s(e)||i(e)}function u(e){return!l(e)}function c(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function p(e){e.preventDefault()}function f(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].key===t){n=r;break}return n}function d(e,t){for(var n=-1,r=0;r<e.length;r++)if(c(e[r].label).join("")===t){n=r;break}return n}function h(e,t){if(null===t||void 0===t)return[];var n=[];return b["default"].Children.forEach(e,function(e){if(e.type.isMenuItemGroup)n=n.concat(h(e.props.children,t));else{var r=o(e),a=e.key;f(t,r)!==-1&&a&&n.push(a)}}),n}function y(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.type.isMenuItemGroup){var r=y(n.props.children);if(r)return r}else if(!n.props.disabled)return n}return null}function m(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}function v(e,t){var n=new RegExp("["+t.join()+"]"),r=e.split(n);return""===r[0]&&r.shift(),""===r[r.length-1]&&r.pop(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTABLE_ATTRIBUTE=t.UNSELECTABLE_STYLE=void 0,t.getValuePropValue=o,t.getPropValue=a,t.isCombobox=i,t.isMultipleOrTags=s,t.isMultipleOrTagsOrCombobox=l,t.isSingleMode=u,t.toArray=c,t.preventDefaultEvent=p,t.findIndexInValueByKey=f,t.findIndexInValueByLabel=d,t.getSelectKeys=h,t.findFirstMenuItem=y,t.includesSeparators=m,t.splitBySeparators=v;var g=n(1),b=r(g);t.UNSELECTABLE_STYLE={userSelect:"none",WebkitUserSelect:"none"},t.UNSELECTABLE_ATTRIBUTE={unselectable:"unselectable"}},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=[];return m["default"].Children.forEach(e,function(e){t.push(e)}),t}function a(e){return e||0===e?Array.isArray(e)?e:[e]:[]}function i(e,t){if(e===t||(0,g["default"])(e,t))return!0;if(!e||!t)return!1;var n=!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var o=e[r],a=t[r];for(var s in o)if(o[s]!==a[s])if("object"===h(o[s])&&"object"===h(a[s]))n=i(o[s],a[s]);else{if("function"!=typeof o[s]||"function"!=typeof a[s])return n=!1,!1;o[s].name!==a[s].name&&(n=!1)}}}var l=function(e,t){Object.keys(e).forEach(function(r){r in t||(n=!1),"object"===h(e[r])&&"object"===h(t[r])?n=i(e[r],t[r]):"function"==typeof e[r]&&"function"==typeof t[r]?e[r].name!==t[r].name&&(n=!1):e[r]!==t[r]&&(n=!1)})};return l(e,t),l(t,e),n}function s(e,t){var n=null;return e&&e.forEach(function(e){!n&&e&&e.key===t&&(n=e)}),n}function l(e,t){var n=[],r={},o=[],a=void 0;return e.forEach(function(e){e&&(s(t,e.key)?(o.length&&(r[e.key]=o,o=[]),a=e.key):e.key&&o.push(e))}),a||(n=n.concat(o)),t.forEach(function(e){e&&(r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e),e.key===a&&(n=n.concat(o)))}),n}function u(e,t,n){var r=void 0;return r="function"==typeof e?e({key:t,index:n}):e}function c(e){return e&&e.children}function p(e,t,n,r,o,a,i){var s=/(?:Left|Right|Width|X)/i.test(t)||i,l=t.indexOf("border")!==-1?e:e.parentNode||document.body;l=a?document.body:l;var u=void 0;return u="%"===r?parseFloat(n)/100*(s?l.clientWidth:l.clientHeight):"vw"===r?parseFloat(n)*document.body.clientWidth/100:"vh"===r?parseFloat(n)*document.body.clientHeight/100:r&&r.match(/em/i)?16*parseFloat(n):parseFloat(n),"%"===o?u=100*u/(s?l.clientWidth:l.clientHeight):"vw"===o?u=parseFloat(n)/document.body.clientWidth*100:"vh"===o?u=parseFloat(n)/document.body.clientHeight*100:o&&o.match(/em/i)&&(u=parseFloat(n)/16),u}function f(e){if("string"==typeof e){if(e.charAt(0).match(/m/i)){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}return document.querySelector(e)}if(e.style)return e;throw new Error("Error while parsing the path")}function d(e,t){if("string"==typeof e)return e;var n=e.perspective,r=e.rotate,o=e.rotateX,a=e.rotateY,i=e.scaleX,s=e.scaleY,l=e.scaleZ,u=e.skewX,c=e.skewY,p=e.xPercent||0,f=e.yPercent||0,d=p?0:e.translateX,h=f?0:e.translateY,y=e.translateZ||0,m=p||f?"translate("+(p||d+"px")+","+(f||h+"px")+")":"",v=u||c?"skew("+u+"deg,"+c+"deg)":"",g=r?"rotate("+r+"deg)":"",b=void 0;if(!n&&!o&&!a&&!y&&1===l||!t){b=1!==i||1!==s?"scale("+i+","+s+")":"";var C=m||"translate("+d+"px,"+h+"px)";return C+" "+g+" "+b+" "+v}b=1!==i||1!==s||1!==l?"scale3d("+i+","+s+","+l+")":"";var w=o?"rotateX("+o+"deg)":"",P=a?"rotateY("+a+"deg)":"",x=n?"perspective("+n+"px)":"",T=m?m+" translate3d(0,0,"+y+"px)":"translate3d("+d+"px,"+h+"px,"+y+"px)";return x+" "+T+" "+b+" "+g+" "+w+" "+P+" "+v}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toArrayChildren=o,t.dataToArray=a,t.objectEqual=i,t.findChildInChildrenByKey=s,t.mergeChildren=l,t.transformArguments=u,t.getChildrenFromProps=c,t.startConvertToEndUnit=p,t.parsePath=f,t.getTransformValue=d;var y=n(1),m=r(y),v=n(158),g=r(v)},27:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(1),y=r(h),m=n(132),v=r(m),g=n(6),b=r(g),C=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=void 0===r?"":r,i=t.size,l=t.combobox,u=this.props,c=u.notFoundContent,p=void 0===c?"Not Found":c,f=u.optionLabelProp,d=(0,b["default"])((e={},(0,s["default"])(e,n+"-lg","large"===i),(0,s["default"])(e,n+"-sm","small"===i),e),o),h=this.context.antLocale;return h&&h.Select&&(p="notFoundContent"in this.props?p:h.Select.notFoundContent),l&&(p=null,f=f||"value"),y["default"].createElement(v["default"],(0,a["default"])({},this.props,{className:d,optionLabelProp:f||"children",notFoundContent:p}))},t}(y["default"].Component);t["default"]=C,C.Option=m.Option,C.OptGroup=m.OptGroup,C.defaultProps={prefixCls:"ant-select",showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},C.propTypes={prefixCls:h.PropTypes.string,className:h.PropTypes.string,size:h.PropTypes.oneOf(["default","large","small"]),combobox:h.PropTypes.bool,notFoundContent:h.PropTypes.any,showSearch:h.PropTypes.bool,optionLabelProp:h.PropTypes.string,transitionName:h.PropTypes.string,choiceTransitionName:h.PropTypes.string},e.exports=t["default"]},30:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),p=r(c),f=n(4),d=r(f),h=n(125),y=r(h),m=n(1),v=r(m),g=n(6),b=r(g),C=n(17),w=r(C),P=function(e){function t(){return(0,u["default"])(this,t),(0,p["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return w["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t,n=this.props,r=n.prefixCls,o=n.children,i=n.checked,l=n.disabled,u=n.className,c=void 0===u?"":u,p=n.style,f=(0,b["default"])((e={},(0,s["default"])(e,r+"-wrapper",!0),(0,s["default"])(e,r+"-wrapper-checked",i),(0,s["default"])(e,r+"-wrapper-disabled",l),e),c),d=(0,b["default"])(r,(t={},(0,s["default"])(t,r+"-checked",i),(0,s["default"])(t,r+"-disabled",l),t));return v["default"].createElement("label",{className:f,style:p,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},v["default"].createElement(y["default"],(0,a["default"])({},this.props,{className:d,style:null,children:null})),void 0!==o?v["default"].createElement("span",null,o):null)},t}(v["default"].Component);t["default"]=P,P.defaultProps={prefixCls:"ant-radio"},e.exports=t["default"]},31:function(e,t,n){"use strict";var r=n(138),o=n(134),a=n(135);r.Column=o,r.ColumnGroup=a,e.exports=r},35:function(e,t,n){"use strict";n(10),n(112),n(25)},39:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},r=n.prototype;r.push=function(e){this[e.prototype.name]=e},t["default"]=new n,e.exports=t["default"]},41:function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function r(e,t){var n=t?Math.pow(10,t):T,r=0|e,o=e-r;return o?(o*n+(e<0?-.5:.5)|0)/n+r:e}function o(e){return window.WebKitCSSMatrix&&new window.WebKitCSSMatrix(e)||window.MozCSSMatrix&&new window.MozCSSMatrix(e)||window.DOMMatrix&&new window.DOMMatrix(e)||window.MsCSSMatrix&&new window.MsCSSMatrix(e)||window.OCSSMatrix&&new window.OCSSMatrix(e)||window.CSSMatrix&&new window.CSSMatrix(e)||null}function a(e){var t=["O","Moz","ms","Ms","Webkit"];if("filter"!==e&&e in document.body.style)return e;var n=e.charAt(0).toUpperCase()+e.substr(1),r=t.filter(function(e){return""+e+n in document.body.style});return r[0]?""+r[0]+n:null}function i(e){var t=e;return t="x"===t?"translateX":t,t="y"===t?"translateY":t,t="z"===t?"translateZ":t}function s(e){var t=void 0,n=void 0,r=void 0,o=void 0,a=void 0,i=void 0,s=void 0,l=e,u=/(?:\d|\-\d|\.\d|\-\.\d)+/g;return l?"number"==typeof l?t=[l>>16,l>>8&255,255&l]:(","===l.charAt(l.length-1)&&(l=l.substr(0,l.length-1)),S[l]?t=S[l]:"#"===l.charAt(0)?(4===l.length&&(n=l.charAt(1),r=l.charAt(2),o=l.charAt(3),l="#"+n+n+r+r+o+o),l=parseInt(l.substr(1),16),t=[l>>16,l>>8&255,255&l]):"hsl"===l.substr(0,3)?(t=l.match(u),a=Number(t[0])%360/360,i=Number(t[1])/100,s=Number(t[2])/100,r=s<=.5?s*(i+1):s+i-s*i,n=2*s-r,t.length>3&&(t[3]=Number(t[3])),t[0]=O(a+1/3,n,r),t[1]=O(a,n,r),t[2]=O(a-1/3,n,r)):t=l.match(u)||S.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3]))):t=S.black,t}function l(e){if(!e)return[0,0,0,0,0,0,0];var t=void 0;if(e.indexOf("rgb")>=0){var n=e.match(/rgb+(?:a)?\((.*)\)/),r=e.replace(n[0],"").trim().split(/\s+/);t=r.indexOf("inset"),t>=0&&r.splice(t,1);var o=n[1].replace(/\s+/g,"").split(",");return 3===o.length&&o.push(1),r.concat(o,t>=0?["inset"]:[])}var a=e.split(/\s+/);t=a.indexOf("inset"),t>=0&&a.splice(t,1);var i=s(a[a.length-1]);return i[3]="number"==typeof i[3]?i[3]:1,a=a.splice(0,a.length-1),a.concat(i,t>=0?["inset"]:[])}function u(e){var t=4===e.length?"rgba":"rgb",n=e.map(function(e,t){return t<3?Math.round(e):e});return t+"("+n.join(",")+")"}function c(e){return _._lists.transformsBase.indexOf(e)>=0?"transform":e}function p(e){var t=c(e);return _.filter.indexOf(t)>=0?"filter":t}function f(e){if("none"===e||!e||""===e)return null;var t=e.replace(" ","").split(")").filter(function(e){return e}),n={};return t.forEach(function(e){var t=e.split("(");n[t[0]]=t[1]}),n}function d(e){var t=e.match(/(?:\-|\b)[\d\-\.e]+\b/gi),n={};return 6===t.length?(n.m11=parseFloat(t[0]),n.m12=parseFloat(t[1]),n.m13=0,n.m14=0,n.m21=parseFloat(t[2]),n.m22=parseFloat(t[3]),n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=parseFloat(t[4]),n.m42=parseFloat(t[5]),n.m43=0,n.m44=0):t.forEach(function(e,t){var r=t%4+1,o=Math.floor(t/4)+1;n["m"+o+r]=parseFloat(e)}),n}function h(e){var t="none"===e||""===e?"matrix(1, 0, 0, 1, 0, 0)":e,n=d(t),o=n.m11,a=n.m12,i=n.m13,s=n.m14,l=n.m21,u=n.m22,c=n.m23,p=n.m24,f=n.m31,h=n.m32,y=n.m33,m=n.m34,v=n.m43,g=void 0,b=void 0,C=void 0,w={};w.perspective=m?r(y/(m<0?-m:m)):0,w.rotateX=r(Math.asin(c)*k);var P=w.rotateX*E,x=Math.tan(l),T=Math.tan(a),S=m*w.perspective,O=void 0;return P&&(S=Math.cos(-P),O=Math.sin(-P),g=l*S+f*O,b=u*S+h*O,C=c*S+y*O,f=l*-O+f*S,h=u*-O+h*S,y=c*-O+y*S,m=p*-O+m*S,l=g,u=b,c=C),P=Math.atan2(f,y),w.rotateY=r(P*k),P&&(S=Math.cos(-P),O=Math.sin(-P),g=o*S-f*O,b=a*S-h*O,C=i*S-y*O,h=a*O+h*S,y=i*O+y*S,m=s*O+m*S,o=g,a=b,i=C),P=Math.atan2(a,o),w.rotate=r(P*k),P&&(S=Math.cos(-P),O=Math.sin(-P),o=o*S+l*O,b=a*S+u*O,u=a*-O+u*S,c=i*-O+c*S,a=b),w.rotateX&&Math.abs(w.rotateX)+Math.abs(w.rotate)>359.9&&(w.rotateX=w.rotate=0,w.rotateY+=180),w.scaleX=r(Math.sqrt(o*o+a*a)),w.scaleY=r(Math.sqrt(u*u+h*h)),w.scaleZ=r(Math.sqrt(c*c+y*y)),w.skewX=x===-T?0:x,w.skewY=T===-x?0:T,w.perspective=m?1/(m<0?-m:m):0,w.translateX=n.m41,w.translateY=n.m42,w.translateZ=v,w}function y(e,t){var n=void 0;return C[e]||"number"!=typeof t?"content"!==e||P.test(t)||(n="'"+t.replace(/'/g,"\\'")+"'"):n=" "+t+"px",n||t}function m(e,t){var n=t&&t.toString().replace(/[^a-z|%]/gi,""),r="";return e.indexOf("translate")>=0||e.indexOf("perspective")>=0||e.indexOf("blur")>=0?r="px":(e.indexOf("skew")>=0||e.indexOf("rotate")>=0)&&(r="deg"),n||r}function v(e,t,n){return e+"("+t+(n||"")+")"}function g(e,t){var n=null;return e&&e.forEach(function(e){if(!n){var r=e.split("(")[0],o=r in _.transformGroup&&t.substring(0,t.length-1).indexOf(r)>=0,a=t in _.transformGroup&&r.substring(0,r.length-1).indexOf(t)>=0,i=r in _.transformGroup&&t in _.transformGroup&&(r.substring(0,r.length-2)===t||t.substring(0,t.length-2)===r);(r===t||o||a||i)&&(n=e)}}),n}function b(e,t){if(!e||""===e)return t;if(!t||""===t)return e;var n=e.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e}).map(function(e){return e+")"}),r=t.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e});return r.forEach(function(e){var t=e.split("("),r=t[0],o=g(n,r);if(o){var a=n.indexOf(o);n[a]=e+")"}else n.push(e+")")}),n.forEach(function(e,t){e.indexOf("perspective")>=0&&t&&(n.splice(t,1),n.unshift(e))}),n.join(" ").trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=r,t.createMatrix=o,t.checkStyleName=a,t.getGsapType=i,t.parseColor=s,t.parseShadow=l,t.getColor=u,t.isTransform=c,t.isConvert=p,t.splitFilterToObject=f,t.getMatrix=d,t.getTransform=h,t.stylesToCss=y,t.getUnit=m,t.getValues=v,t.findStyleByName=g,t.mergeStyle=b;var C={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["Webkit","ms","Moz","O"];Object.keys(C).forEach(function(e){w.forEach(function(t){C[n(t,e)]=C[e]})});var P=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,x=function(){return"undefined"!=typeof document&&!(!navigator||!(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),T=1e5,S={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},O=function(e,t,n){var r=e>1?e-1:e;r=e<0?e+1:r;var o=3*r<2?t+(n-t)*(2/3-r)*6:t,a=r<.5?n:o,i=6*r<1?t+(n-t)*r*6:a;return 255*i+.5|0},E=Math.PI/180,k=180/Math.PI,_={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};_._lists.transformsBase=x?_._lists.transformsBase:_._lists.transformsBase.concat(_._lists.transforms3D),t["default"]=_},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.Button=void 0;var o=n(30),a=r(o),i=n(93),s=r(i),l=n(47),u=r(l);a["default"].Button=u["default"],a["default"].Group=s["default"],t.Button=u["default"],t.Group=s["default"],t["default"]=a["default"]},46:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(118),y=r(h),m=n(6),v=r(m),g=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.getTransitionName=function(){var e=this.props.placement,t=void 0===e?"":e;return t.indexOf("top")>=0?"slide-down":"slide-up"},t.prototype.render=function(){var e=this.props,t=e.children,n=e.prefixCls,r=(0,f.cloneElement)(t,{className:(0,v["default"])(t.props.className,n+"-trigger")});return d["default"].createElement(y["default"],(0,a["default"])({transitionName:this.getTransitionName()},this.props),r)},t}(d["default"].Component);t["default"]=g,g.defaultProps={prefixCls:"ant-dropdown",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"},e.exports=t["default"]},47:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(30),d=r(f),h=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return p["default"].createElement(d["default"],this.props)},t}(p["default"].Component);t["default"]=h,h.defaultProps={prefixCls:"ant-radio-button"},e.exports=t["default"]},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].ColumnGroup);t["default"]=f,e.exports=t["default"]},51:function(e,t,n){"use strict";e.exports=n(116)},52:function(e,t){"use strict";e.exports={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},e.exports=t["default"]},60:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(99),a=r(o);t["default"]=a["default"],e.exports=t["default"]},61:function(e,t,n){"use strict";n(10),n(113),n(72),n(71),n(85),n(175),n(92)},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(9),d=r(f),h=n(22),y=n(41),m=n(163),v=r(m),g=n(39),b=r(g),C=n(167),w=r(C),P=Math.round(1e3/60),x=function(e){function t(){a(this,t);var n=i(this,e.apply(this,arguments));return n.restart=function(){n.startMoment=n.timeLine.progressTime,n.startFrame=w["default"].frame,n.play()},n.start=function(){var e=n.props;e.animation&&Object.keys(e.animation).length&&(n.timeLine=new v["default"](n.dom,(0,h.dataToArray)(e.animation),{attr:e.attr,willChange:e.willChange}),n.raf(0,!0),n.play())},n.play=function(){n.cancelRequestAnimationFrame(),n.paused||(n.rafID=w["default"].add(n.raf))},n.frame=function(e,t){var r=t?e:0,o=(w["default"].frame-n.startFrame)*P+r+n.startMoment;!t&&o<P&&"number"!=typeof n.props.moment&&(o=P),n.reverse&&(o=(n.startMoment||0)-(w["default"].frame-n.startFrame)*P),o=o>n.timeLine.totalTime?n.timeLine.totalTime:o,o=o<=0?0:o,o<n.moment&&!n.reverse&&n.timeLine.resetDefaultStyle(),n.moment=o,n.timeLine.onChange=n.onChange,n.timeLine.frame(o)},n.raf=function(e,t){if(n.frame(e,t),n.moment>=n.timeLine.totalTime&&!n.reverse||n.paused||n.reverse&&0===n.moment)return n.cancelRequestAnimationFrame()},n.cancelRequestAnimationFrame=function(){w["default"].clear(n.rafID),n.rafID=-1},n.rafID=-1,n.moment=n.props.moment||0,n.startMoment=n.props.moment||0,n.startFrame=w["default"].frame,n.paused=n.props.paused,n.reverse=n.props.reverse,n.onChange=n.props.onChange,n.newMomentAnim=!1,n}return s(t,e),t.prototype.componentDidMount=function(){this.dom=d["default"].findDOMNode(this),this.start()},t.prototype.componentWillReceiveProps=function(e){var t=this;this.onChange=e.onChange;var n=e.moment;this.newMomentAnim=!1,"number"==typeof n&&n!==this.moment&&(this.startMoment=n,this.startFrame=w["default"].frame,this.rafID!==-1||e.paused?this.newMomentAnim=!0:!function(){t.timeLine.resetAnimData();var n=e.style;t.dom.setAttribute("style",""),Object.keys(n).forEach(function(e){t.dom.style[e]=(0,y.stylesToCss)(e,n[e])}),t.play()}());var r=e.animation,o=this.props.animation,a=(0,h.objectEqual)(o,r),i=(0,h.objectEqual)(this.props.style,e.style);this.restartAnim=!1,a?i||this.rafID!==-1&&(this.cancelRequestAnimationFrame(),this.startMoment=this.timeLine.progressTime,this.startFrame=w["default"].frame,this.restartAnim=!0):(this.cancelRequestAnimationFrame(),e.resetStyleBool&&this.timeLine&&this.timeLine.resetDefaultStyle(),this.startMoment=0,this.startFrame=w["default"].frame,this.restartAnim=!0),this.paused===e.paused&&this.reverse===e.reverse||(this.paused=e.paused,this.reverse=e.reverse,this.paused?this.cancelRequestAnimationFrame():this.reverse&&e.reverseDelay?(this.cancelRequestAnimationFrame(),w["default"].timeout(this.restart,e.reverseDelay)):this.restart())},t.prototype.componentDidUpdate=function(){this.restartAnim&&this.start(),this.newMomentAnim&&this.raf()},t.prototype.componentWillUnmount=function(){this.cancelRequestAnimationFrame()},t.prototype.render=function(){var e=u({},this.props);return["animation","component","reverseDelay","attr","paused","reverse","moment","resetStyleBool","willChange"].forEach(function(t){return delete e[t]}),e.style=u({},this.props.style),Object.keys(e.style).forEach(function(t){t.match(/filter/i)&&["Webkit","Moz","Ms","ms"].forEach(function(n){return e.style[n+"Filter"]=e.style[t]})}),e.component="function"==typeof e.component?this.props.componentReplace:e.component,e.component||delete e.component,p["default"].createElement(this.props.component,e)},t}(c.Component),T=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]);x.propTypes={component:c.PropTypes.any,componentReplace:c.PropTypes.string,animation:T,children:c.PropTypes.any,style:c.PropTypes.object,paused:c.PropTypes.bool,reverse:c.PropTypes.bool,reverseDelay:c.PropTypes.number,moment:c.PropTypes.number,attr:c.PropTypes.string,willChange:c.PropTypes.bool,onChange:c.PropTypes.func,resetStyleBool:c.PropTypes.bool},x.defaultProps={component:"div",reverseDelay:0,attr:"style",onChange:l,willChange:!0},x.plugins=b["default"],t["default"]=x,e.exports=t["default"]},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(172),a=r(o),i=n(22);a["default"].path=function(e,t){for(var n=t||{},r=(0,i.parsePath)(e),o=r.getTotalLength(),s=n.rect||100,l=n.lengthPixel||1500,u=[],c=0;c<l;c++)u.push(r.getPointAtLength(o/l*c));return function(e,t,n,i){var l=a["default"].linear(e,t,n,i),c=s*l,p=u.filter(function(e){return e.x>=c})[0]||r.getPointAtLength(l*o);return 1-p.y/s}},t["default"]=a["default"],e.exports=t["default"]},71:[1216,107],72:[1216,111],74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MENU=1,t.DETAIL=2,t.ADD=3,t.UPDATE=4,t.DELETE=5,t.CHECK=6,t.UPLOAD=7},76:function(e,t,n){(function(t){for(var r=n(115),o="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=o["request"+i],l=o["cancel"+i]||o["cancelRequest"+i],u=0;!s&&u<a.length;u++)s=o[a[u]+"Request"+i],l=o[a[u]+"Cancel"+i]||o[a[u]+"CancelRequest"+i];if(!s||!l){var c=0,p=0,f=[],d=1e3/60;s=function(e){if(0===f.length){var t=r(),n=Math.max(0,d-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(){o.requestAnimationFrame=s,o.cancelAnimationFrame=l}}).call(t,function(){return this}())},82:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(156),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(6),y=r(h),m=n(18),v=r(m),g=n(17),b=r(g),C=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.toggleOption=function(e){var t=r.state.value.indexOf(e.value),n=[].concat((0,a["default"])(r.state.value));t===-1?n.push(e.value):n.splice(t,1),"value"in r.props||r.setState({value:n});var o=r.props.onChange;o&&o(n)},r.state={value:n.value||n.defaultValue||[]},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value||[]})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return b["default"].shouldComponentUpdate.apply(this,t)},t.prototype.getOptions=function(){var e=this.props.options;return e.map(function(e){return"string"==typeof e?{label:e,value:e}:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,o=this.getOptions().map(function(t){return d["default"].createElement(v["default"],{disabled:"disabled"in t?t.disabled:e.props.disabled,checked:e.state.value.indexOf(t.value)!==-1,onChange:function(){return e.toggleOption(t)},className:n+"-item",key:t.value},t.label)}),a=(0,y["default"])(n,r);return d["default"].createElement("div",{className:a},o)},t}(d["default"].Component);t["default"]=C,C.defaultProps={options:[],prefixCls:"ant-checkbox-group"},C.propTypes={defaultValue:d["default"].PropTypes.array,value:d["default"].PropTypes.array,options:d["default"].PropTypes.array.isRequired,onChange:d["default"].PropTypes.func},e.exports=t["default"]},83:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(20),y=r(h),m=n(11),v=r(m),g=n(46),b=r(g),C=n(6),w=r(C),P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},x=y["default"].Group,T=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.overlay,r=e.trigger,o=e.align,i=e.children,s=e.className,l=e.onClick,u=e.prefixCls,c=e.disabled,p=e.visible,f=e.onVisibleChange,h=P(e,["type","overlay","trigger","align","children","className","onClick","prefixCls","disabled","visible","onVisibleChange"]),m=(0,w["default"])(u,s),g={align:o,overlay:n,trigger:c?[]:r,onVisibleChange:f};return"visible"in this.props&&(g.visible=p),d["default"].createElement(x,(0,a["default"])({},h,{className:m}),d["default"].createElement(y["default"],{type:t,onClick:l,disabled:c},i),d["default"].createElement(b["default"],g,d["default"].createElement(y["default"],{type:t,disabled:c},d["default"].createElement(v["default"],{type:"down"}))))},t}(d["default"].Component);t["default"]=T,T.defaultProps={align:{points:["tr","br"],overlay:{adjustX:1,adjustY:1},offset:[0,4],targetOffset:[0,0]},type:"default",prefixCls:"ant-dropdown-button"},e.exports=t["default"]},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=r(o),i=n(83),s=r(i);a["default"].Button=s["default"],t["default"]=a["default"],e.exports=t["default"]},85:[1218,108],88:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(210),y=r(h),m=n(77),v=r(m),g=n(20),b=r(g),C=void 0,w=void 0,P=function(e){function t(){(0,s["default"])(this,t);var n=(0,u["default"])(this,e.apply(this,arguments));return n.handleCancel=function(e){var t=n.props.onCancel;t&&t(e)},n.handleOk=function(e){var t=n.props.onOk;t&&t(e)},n}return(0,p["default"])(t,e),t.prototype.componentDidMount=function(){w||((0,v["default"])(document.documentElement,"click",function(e){C={x:e.pageX,y:e.pageY},setTimeout(function(){return C=null;
},100)}),w=!0)},t.prototype.render=function(){var e=this.props,t=e.okText,n=e.cancelText,r=e.confirmLoading,o=e.footer,i=e.visible;this.context.antLocale&&this.context.antLocale.Modal&&(t=t||this.context.antLocale.Modal.okText,n=n||this.context.antLocale.Modal.cancelText);var s=[d["default"].createElement(b["default"],{key:"cancel",size:"large",onClick:this.handleCancel},n||"\u53d6\u6d88"),d["default"].createElement(b["default"],{key:"confirm",type:"primary",size:"large",loading:r,onClick:this.handleOk},t||"\u786e\u5b9a")];return d["default"].createElement(y["default"],(0,a["default"])({onClose:this.handleCancel,footer:o||s},this.props,{visible:i,mousePosition:C}))},t}(d["default"].Component);t["default"]=P,P.defaultProps={prefixCls:"ant-modal",width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1},P.propTypes={prefixCls:f.PropTypes.string,onOk:f.PropTypes.func,onCancel:f.PropTypes.func,okText:f.PropTypes.node,cancelText:f.PropTypes.node,width:f.PropTypes.oneOfType([f.PropTypes.number,f.PropTypes.string]),confirmLoading:f.PropTypes.bool,visible:f.PropTypes.bool,align:f.PropTypes.object,footer:f.PropTypes.node,title:f.PropTypes.node,closable:f.PropTypes.bool},P.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},89:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(27),y=r(h),m=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){return d["default"].createElement(y["default"],(0,a["default"])({size:"small"},this.props))},t}(d["default"].Component);t["default"]=m,m.Option=y["default"].Option,e.exports=t["default"]},90:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(123),y=r(h),m=n(27),v=r(m),g=n(89),b=r(g),C=n(53),w=r(C),P=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,p["default"])(t,e),t.prototype.render=function(){var e=this.props.className,t=v["default"],n=void 0;return n=this.context.antLocale&&this.context.antLocale.Pagination?this.context.antLocale.Pagination:this.props.locale,"small"===this.props.size&&(e+=" mini",t=b["default"]),d["default"].createElement(y["default"],(0,a["default"])({selectComponentClass:t,selectPrefixCls:this.props.selectPrefixCls},this.props,{locale:n,className:e}))},t}(d["default"].Component);t["default"]=P,P.defaultProps={locale:w["default"],className:"",prefixCls:"ant-pagination",selectPrefixCls:"ant-select"},P.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(90),a=r(o);t["default"]=a["default"],e.exports=t["default"]},92:function(e,t,n){"use strict";n(10),n(110),n(35),n(25)},93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=null,n=!1;return h["default"].Children.forEach(e,function(e){e&&e.props&&e.props.checked&&(t=e.props.value,n=!0)}),n?{value:t}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(7),i=r(a),s=n(3),l=r(s),u=n(5),c=r(u),p=n(4),f=r(p),d=n(1),h=r(d),y=n(6),m=r(y),v=n(30),g=r(v),b=n(47),C=r(b),w=n(17),P=r(w),x=n(8),T=r(x),S=function(e){function t(n){(0,l["default"])(this,t);var r=(0,c["default"])(this,e.call(this,n));r.onRadioChange=function(e){var t=r.state.value,n=e.target.value;"value"in r.props||r.setState({value:n});var o=r.props.onChange;o&&n!==t&&o(e)};var a=void 0;if("value"in n)a=n.value;else if("defaultValue"in n)a=n.defaultValue;else{var i=o(n.children);a=i&&i.value}return r.state={value:a},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e)this.setState({value:e.value});else{var t=o(e.children);t&&this.setState({value:t.value})}},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return P["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.children?h["default"].Children.map(t.children,function(t){return t&&(t.type===g["default"]||t.type===C["default"])&&t.props?h["default"].cloneElement(t,(0,T["default"])({},t.props,{onChange:e.onRadioChange,checked:e.state.value===t.props.value,disabled:t.props.disabled||e.props.disabled})):t}):[],r=t.prefixCls,o=void 0===r?"ant-radio-group":r,a=t.className,s=void 0===a?"":a,l=(0,m["default"])(o,(0,i["default"])({},o+"-"+t.size,t.size),s);return h["default"].createElement("div",{className:l,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},n)},t}(h["default"].Component);t["default"]=S,S.defaultProps={disabled:!1},e.exports=t["default"]},94:function(e,t,n){"use strict";n(10),n(109)},95:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Column);t["default"]=f,e.exports=t["default"]},96:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);t["default"]=function(e){return a["default"].createElement("div",{className:e.className,onClick:e.onClick},e.children)},e.exports=t["default"]},97:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(18),d=r(f),h=n(42),y=r(h),m=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var t=e.getCheckState(e.props);e.setState({checked:t})})},t.prototype.getCheckState=function(e){var t=e.store,n=e.defaultSelection,r=e.rowIndex,o=!1;return o=t.getState().selectionDirty?t.getState().selectedRowKeys.indexOf(r)>=0:t.getState().selectedRowKeys.indexOf(r)>=0||n.indexOf(r)>=0},t.prototype.render=function(){var e=this.props,t=e.type,n=e.rowIndex,r=e.disabled,o=e.onChange,a=this.state.checked;return"radio"===t?p["default"].createElement(y["default"],{disabled:r,onChange:o,value:n,checked:a}):p["default"].createElement(d["default"],{checked:a,disabled:r,onChange:o})},t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},98:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(18),d=r(f),h=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n),indeterminate:r.getIndeterminateState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillReceiveProps=function(e){this.setCheckState(e)},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){e.setCheckState(e.props)})},t.prototype.checkSelection=function(e,t,n){var r=this.props,o=r.store,a=r.getCheckboxPropsByItem,i=r.getRecordKey;return("every"===t||"some"===t)&&(n?e[t](function(e,t){return a(e,t).defaultChecked}):e[t](function(e,t){return o.getState().selectedRowKeys.indexOf(i(e,t))>=0}))},t.prototype.setCheckState=function(e){var t=this.getCheckState(e),n=this.getIndeterminateState(e);t!==this.state.checked&&this.setState({checked:t}),n!==this.state.indeterminate&&this.setState({indeterminate:n})},t.prototype.getCheckState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"every",!1):this.checkSelection(n,"every",!1)||this.checkSelection(n,"every",!0))},t.prototype.getIndeterminateState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1):this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1)||this.checkSelection(n,"some",!0)&&!this.checkSelection(n,"every",!0))},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.onChange,r=this.state,o=r.checked,a=r.indeterminate;return p["default"].createElement(d["default"],{checked:o,indeterminate:a,disabled:t,onChange:n})},t}(p["default"].Component);t["default"]=h,e.exports=t["default"]},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(2),s=r(i),l=n(43),u=r(l),c=n(7),p=r(c),f=n(3),d=r(f),h=n(5),y=r(h),m=n(4),v=r(m),g=n(1),b=r(g),C=n(31),w=r(C),P=n(101),x=r(P),T=n(91),S=r(T),O=n(11),E=r(O),k=n(174),_=r(k),M=n(6),N=r(M),D=n(102),j=n(8),A=r(j),I=n(68),R=r(I),L=n(100),F=r(L),V=n(97),U=r(V),K=n(98),z=r(K),B=n(95),W=r(B),H=n(48),q=r(H),G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},X={filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:b["default"].createElement("span",null,b["default"].createElement(E["default"],{type:"frown-o"}),"\u6682\u65e0\u6570\u636e")},Q={onChange:o,onShowSizeChange:o},Z=function(e){function t(n){(0,d["default"])(this,t);var r=(0,y["default"])(this,e.call(this,n));return r.getCheckboxPropsByItem=function(e,t){var n=r.props.rowSelection,o=void 0===n?{}:n;if(!o.getCheckboxProps)return{};var a=r.getRecordKey(e,t);return r.CheckboxPropsCache[a]||(r.CheckboxPropsCache[a]=o.getCheckboxProps(e)),r.CheckboxPropsCache[a]},r.handleFilter=function(e,t){var n=r.props,o=(0,A["default"])({},r.state.pagination),a=(0,A["default"])({},r.state.filters,(0,p["default"])({},r.getColumnKey(e),t)),i=[];(0,D.treeMap)(r.columns,function(e){e.children||i.push(r.getColumnKey(e))}),Object.keys(a).forEach(function(e){i.indexOf(e)<0&&delete a[e]}),n.pagination&&(o.current=1,o.onChange(o.current));var s={pagination:o,filters:{}},l=(0,A["default"])({},a);r.getFilteredValueColumns().forEach(function(e){var t=r.getColumnKey(e);t&&delete l[t]}),Object.keys(l).length>0&&(s.filters=l),"object"===(0,u["default"])(n.pagination)&&"current"in n.pagination&&(s.pagination=(0,A["default"])({},o,{current:r.state.pagination.current})),r.setState(s,function(){r.store.setState({selectionDirty:!1});var e=r.props.onChange;e&&e.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{selectionDirty:!1,filters:a,pagination:o})))})},r.handleSelect=function(e,t,n){var o=n.target.checked,a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(a),s=r.getRecordKey(e,t);o?i.push(r.getRecordKey(e,t)):i=i.filter(function(e){return s!==e}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:o})},r.handleRadioSelect=function(e,t,n){var o=n.target.checked,a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(a),s=r.getRecordKey(e,t);i=[s],r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:o})},r.handleSelectAllRow=function(e){var t=e.target.checked,n=r.getFlatCurrentPageData(),o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),a=r.store.getState().selectedRowKeys.concat(o),i=n.filter(function(e,t){return!r.getCheckboxPropsByItem(e,t).disabled}).map(function(e,t){return r.getRecordKey(e,t)}),s=[];t?i.forEach(function(e){a.indexOf(e)<0&&(a.push(e),s.push(e))}):i.forEach(function(e){a.indexOf(e)>=0&&(a.splice(a.indexOf(e),1),s.push(e))}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(a,{selectWay:"onSelectAll",checked:t,changeRowKeys:s})},r.handlePageChange=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r.props,i=(0,A["default"])({},r.state.pagination);e?i.current=e:i.current=i.current||1,i.onChange.apply(i,[i.current].concat(n));var s={pagination:i};"object"===(0,u["default"])(a.pagination)&&"current"in a.pagination&&(s.pagination=(0,A["default"])({},i,{current:r.state.pagination.current})),r.setState(s),r.store.setState({selectionDirty:!1});var l=r.props.onChange;l&&l.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{selectionDirty:!1,pagination:i})))},r.renderSelectionBox=function(e){return function(t,n,o){var i=r.getRecordKey(n,o),s=r.getCheckboxPropsByItem(n,o),l=function(t){"radio"===e?r.handleRadioSelect(n,i,t):r.handleSelect(n,i,t)};return b["default"].createElement("span",{onClick:a},b["default"].createElement(U["default"],{type:e,store:r.store,rowIndex:i,disabled:s.disabled,onChange:l,defaultSelection:r.getDefaultSelection()}))}},r.getRecordKey=function(e,t){var n=r.props.rowKey,o="function"==typeof n?n(e,t):e[n];return(0,R["default"])(void 0!==o,"Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key,see http://u.ant.design/table-row-key"),void 0===o?t:o},r.handleShowSizeChange=function(e,t){var n=r.state.pagination;n.onShowSizeChange(e,t);var o=(0,A["default"])({},n,{pageSize:t,current:e});r.setState({pagination:o});var a=r.props.onChange;a&&a.apply(null,r.prepareParamsArguments((0,A["default"])({},r.state,{pagination:o})))},(0,R["default"])(!("columnsPageRange"in n||"columnsPageSize"in n),"`columnsPageRange` and `columnsPageSize` are removed, please use fixed columns instead, see: http://u.ant.design/fixed-columns."),r.columns=n.columns||(0,D.normalizeColumns)(n.children),r.state=(0,A["default"])({},r.getSortStateFromColumns(),{filters:r.getFiltersFromColumns(),pagination:r.getDefaultPagination(n)}),r.CheckboxPropsCache={},r.store=(0,F["default"])({selectedRowKeys:(n.rowSelection||{}).selectedRowKeys||[],selectionDirty:!1}),r}return(0,v["default"])(t,e),t.prototype.getDefaultSelection=function(){var e=this,t=this.props.rowSelection,n=void 0===t?{}:t;return n.getCheckboxProps?this.getFlatData().filter(function(t,n){return e.getCheckboxPropsByItem(t,n).defaultChecked}).map(function(t,n){return e.getRecordKey(t,n)}):[]},t.prototype.getDefaultPagination=function(e){var t=e.pagination||{};return this.hasPagination(e)?(0,A["default"])({},Q,t,{current:t.defaultCurrent||t.current||1,pageSize:t.defaultPageSize||t.pageSize||10}):{}},t.prototype.getLocale=function(){var e={};return this.context.antLocale&&this.context.antLocale.Table&&(e=this.context.antLocale.Table),(0,A["default"])({},X,e,this.props.locale)},t.prototype.componentWillReceiveProps=function(e){if(this.columns=e.columns||(0,D.normalizeColumns)(e.children),("pagination"in e||"pagination"in this.props)&&this.setState(function(t){var n=(0,A["default"])({},Q,t.pagination,e.pagination);return n.current=n.current||1,n.pageSize=n.pageSize||10,{pagination:e.pagination!==!1?n:{}}}),e.rowSelection&&"selectedRowKeys"in e.rowSelection){this.store.setState({selectedRowKeys:e.rowSelection.selectedRowKeys||[]});var t=this.props.rowSelection;t&&e.rowSelection.getCheckboxProps!==t.getCheckboxProps&&(this.CheckboxPropsCache={})}if("dataSource"in e&&e.dataSource!==this.props.dataSource&&(this.store.setState({selectionDirty:!1}),this.CheckboxPropsCache={}),this.getSortOrderColumns(this.columns).length>0){var n=this.getSortStateFromColumns(this.columns);n.sortColumn===this.state.sortColumn&&n.sortOrder===this.state.sortOrder||this.setState(n)}var r=this.getFilteredValueColumns(this.columns);if(r.length>0){var o=this.getFiltersFromColumns(this.columns),a=(0,A["default"])({},this.state.filters);Object.keys(o).forEach(function(e){a[e]=o[e]}),this.isFiltersChanged(a)&&this.setState({filters:a})}},t.prototype.setSelectedRowKeys=function(e,t){var n=this,r=t.selectWay,o=t.record,a=t.checked,i=t.changeRowKeys,s=this.props.rowSelection,l=void 0===s?{}:s;!l||"selectedRowKeys"in l||this.store.setState({selectedRowKeys:e});var u=this.getFlatData();if(l.onChange||l[r]){var c=u.filter(function(t,r){return e.indexOf(n.getRecordKey(t,r))>=0});if(l.onChange&&l.onChange(e,c),"onSelect"===r&&l.onSelect)l.onSelect(o,a,c);else if("onSelectAll"===r&&l.onSelectAll){var p=u.filter(function(e,t){return i.indexOf(n.getRecordKey(e,t))>=0});l.onSelectAll(a,c,p)}}},t.prototype.hasPagination=function(e){return(e||this.props).pagination!==!1},t.prototype.isFiltersChanged=function(e){var t=this,n=!1;return Object.keys(e).length!==Object.keys(this.state.filters).length?n=!0:Object.keys(e).forEach(function(r){e[r]!==t.state.filters[r]&&(n=!0)}),n},t.prototype.getSortOrderColumns=function(e){return(e||this.columns||[]).filter(function(e){return"sortOrder"in e})},t.prototype.getFilteredValueColumns=function(e){return(e||this.columns||[]).filter(function(e){return"undefined"!=typeof e.filteredValue})},t.prototype.getFiltersFromColumns=function(e){var t=this,n={};return this.getFilteredValueColumns(e).forEach(function(e){n[t.getColumnKey(e)]=e.filteredValue}),n},t.prototype.getSortStateFromColumns=function(e){var t=this.getSortOrderColumns(e).filter(function(e){return e.sortOrder})[0];return t?{sortColumn:t,sortOrder:t.sortOrder}:{sortColumn:null,sortOrder:null}},t.prototype.getSorterFn=function(){var e=this.state,t=e.sortOrder,n=e.sortColumn;if(t&&n&&"function"==typeof n.sorter)return function(e,r){var o=n.sorter(e,r);return 0!==o?"descend"===t?-o:o:0}},t.prototype.toggleSortOrder=function(e,t){var n=this.state,r=n.sortColumn,o=n.sortOrder,a=this.isSortColumn(t);a?o===e?(o="",r=null):o=e:(o=e,r=t);var i={sortOrder:o,sortColumn:r};0===this.getSortOrderColumns().length&&this.setState(i);var s=this.props.onChange;s&&s.apply(null,this.prepareParamsArguments((0,A["default"])({},this.state,i)))},t.prototype.renderRowSelection=function(){var e=this,t=this.props,n=t.prefixCls,r=t.rowSelection,o=this.columns.concat();if(r){var a=this.getFlatCurrentPageData().filter(function(t,n){return!r.getCheckboxProps||!e.getCheckboxPropsByItem(t,n).disabled}),i={key:"selection-column",render:this.renderSelectionBox(r.type),className:n+"-selection-column"};if("radio"!==r.type){var s=a.every(function(t,n){return e.getCheckboxPropsByItem(t,n).disabled});i.title=b["default"].createElement(z["default"],{store:this.store,data:a,getCheckboxPropsByItem:this.getCheckboxPropsByItem,getRecordKey:this.getRecordKey,disabled:s,onChange:this.handleSelectAllRow})}o.some(function(e){return"left"===e.fixed||e.fixed===!0})&&(i.fixed="left"),o[0]&&"selection-column"===o[0].key?o[0]=i:o.unshift(i)}return o},t.prototype.getColumnKey=function(e,t){return e.key||e.dataIndex||t},t.prototype.getMaxCurrent=function(e){var t=this.state.pagination,n=t.current,r=t.pageSize;return(n-1)*r>=e?n-1:n},t.prototype.isSortColumn=function(e){var t=this.state.sortColumn;return!(!e||!t)&&this.getColumnKey(t)===this.getColumnKey(e)},t.prototype.renderColumnsDropdown=function(e){var t=this,n=this.props,r=n.prefixCls,o=n.dropdownPrefixCls,a=this.state.sortOrder,i=this.getLocale();return(0,D.treeMap)(e,function(e,n){var s=(0,A["default"])({},e),l=t.getColumnKey(s,n),u=void 0,c=void 0;if(s.filters&&s.filters.length>0||s.filterDropdown){var p=t.state.filters[l]||[];u=b["default"].createElement(x["default"],{locale:i,column:s,selectedKeys:p,confirmFilter:t.handleFilter,prefixCls:r+"-filter",dropdownPrefixCls:o||"ant-dropdown"})}if(s.sorter){var f=t.isSortColumn(s);f&&(s.className=s.className||"",a&&(s.className+=" "+r+"-column-sort"));var d=f&&"ascend"===a,h=f&&"descend"===a;c=b["default"].createElement("div",{className:r+"-column-sorter"},b["default"].createElement("span",{className:r+"-column-sorter-up "+(d?"on":"off"),title:"\u2191",onClick:function(){return t.toggleSortOrder("ascend",s)}},b["default"].createElement(E["default"],{type:"caret-up"})),b["default"].createElement("span",{className:r+"-column-sorter-down "+(h?"on":"off"),title:"\u2193",onClick:function(){return t.toggleSortOrder("descend",s)}},b["default"].createElement(E["default"],{type:"caret-down"})))}return s.title=b["default"].createElement("span",null,s.title,c,u),s})},t.prototype.renderPagination=function(){if(!this.hasPagination())return null;var e="default",t=this.state.pagination;t.size?e=t.size:"middle"!==this.props.size&&"small"!==this.props.size||(e="small");var n=t.total||this.getLocalData().length;return n>0?b["default"].createElement(S["default"],(0,s["default"])({key:"pagination"},t,{className:this.props.prefixCls+"-pagination",onChange:this.handlePageChange,total:n,size:e,current:this.getMaxCurrent(n),onShowSizeChange:this.handleShowSizeChange})):null},t.prototype.prepareParamsArguments=function(e){var t=G({},e.pagination);delete t.onChange,delete t.onShowSizeChange;var n=e.filters,r={};return e.sortColumn&&e.sortOrder&&(r.column=e.sortColumn,r.order=e.sortOrder,r.field=e.sortColumn.dataIndex,r.columnKey=this.getColumnKey(e.sortColumn)),[t,n,r]},t.prototype.findColumn=function(e){var t=this,n=void 0;return(0,D.treeMap)(this.columns,function(r){t.getColumnKey(r)===e&&(n=r)}),n},t.prototype.getCurrentPageData=function(){var e=this.getLocalData(),t=void 0,n=void 0,r=this.state;return this.hasPagination()?(n=r.pagination.pageSize,t=this.getMaxCurrent(r.pagination.total||e.length)):(n=Number.MAX_VALUE,t=1),(e.length>n||n===Number.MAX_VALUE)&&(e=e.filter(function(e,r){return r>=(t-1)*n&&r<t*n})),e},t.prototype.getFlatData=function(){return(0,D.flatArray)(this.getLocalData())},t.prototype.getFlatCurrentPageData=function(){return(0,D.flatArray)(this.getCurrentPageData())},t.prototype.recursiveSort=function(e,t){var n=this,r=this.props.childrenColumnName,o=void 0===r?"children":r;return e.sort(t).map(function(e){return e[o]?(0,A["default"])({},e,(0,p["default"])({},o,n.recursiveSort(e[o],t))):e})},t.prototype.getLocalData=function(){var e=this,t=this.state,n=this.props.dataSource,r=n||[];r=r.slice(0);var o=this.getSorterFn();return o&&(r=this.recursiveSort(r,o)),t.filters&&Object.keys(t.filters).forEach(function(n){var o=e.findColumn(n);if(o){var a=t.filters[n]||[];if(0!==a.length){var i=o.onFilter;r=i?r.filter(function(e){return a.some(function(t){return i(t,e)})}):r}}}),r},t.prototype.render=function(){var e,t=this,n=this.props,r=n.style,o=n.className,a=n.prefixCls,i=n.showHeader,l=n.loading,u=Y(n,["style","className","prefixCls","showHeader","loading"]),c=this.getCurrentPageData(),f=this.renderRowSelection(),d=this.props.expandedRowRender&&this.props.expandIconAsCell!==!1,h=this.getLocale(),y=(0,N["default"])((e={},(0,p["default"])(e,a+"-"+this.props.size,!0),(0,p["default"])(e,a+"-bordered",this.props.bordered),(0,p["default"])(e,a+"-empty",!c.length),(0,p["default"])(e,a+"-without-column-header",!i),e));f=this.renderColumnsDropdown(f),f=f.map(function(e,n){var r=(0,A["default"])({},e);return r.key=t.getColumnKey(r,n),r});var m=f[0]&&"selection-column"===f[0].key?1:0;"expandIconColumnIndex"in u&&(m=u.expandIconColumnIndex);var v=b["default"].createElement(w["default"],(0,s["default"])({key:"table"},u,{prefixCls:a,data:c,columns:f,showHeader:i,className:y,expandIconColumnIndex:m,expandIconAsCell:d,emptyText:function(){return h.emptyText}})),g=this.hasPagination()&&c&&0!==c.length?a+"-with-pagination":a+"-without-pagination";return b["default"].createElement("div",{className:(0,N["default"])(a+"-wrapper",o),style:r},b["default"].createElement(_["default"],{spinning:l,className:l?g+" "+a+"-spin-holder":""},v,this.renderPagination()))},t}(b["default"].Component);t["default"]=Z,Z.Column=W["default"],Z.ColumnGroup=q["default"],Z.propTypes={dataSource:b["default"].PropTypes.array,columns:b["default"].PropTypes.array,prefixCls:b["default"].PropTypes.string,useFixedHeader:b["default"].PropTypes.bool,rowSelection:b["default"].PropTypes.object,className:b["default"].PropTypes.string,size:b["default"].PropTypes.string,loading:b["default"].PropTypes.bool,bordered:b["default"].PropTypes.bool,onChange:b["default"].PropTypes.func,locale:b["default"].PropTypes.object,dropdownPrefixCls:b["default"].PropTypes.string},Z.defaultProps={dataSource:[],prefixCls:"ant-table",useFixedHeader:!1,rowSelection:null,className:"",size:"large",loading:!1,bordered:!1,indentSize:20,locale:{},rowKey:"key",showHeader:!0},Z.contextTypes={antLocale:b["default"].PropTypes.object},e.exports=t["default"]},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(e){o=(0,i["default"])({},o,e);for(var t=0;t<a.length;t++)a[t]()}function n(){return o}function r(e){return a.push(e),function(){var t=a.indexOf(e);a.splice(t,1)}}var o=e,a=[];return{setState:t,getState:n,subscribe:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(8),i=r(a);e.exports=t["default"]},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(7),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(9),y=r(h),m=n(38),v=r(m),g=n(105),b=r(g),C=n(6),w=r(C),P=n(84),x=r(P),T=n(11),S=r(T),O=n(18),E=r(O),k=n(42),_=r(k),M=n(96),N=r(M),D=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));r.setSelectedKeys=function(e){var t=e.selectedKeys;r.setState({selectedKeys:t})},r.handleClearFilters=function(){r.setState({selectedKeys:[]},r.handleConfirm)},r.handleConfirm=function(){r.setVisible(!1),r.confirmFilter()},r.onVisibleChange=function(e){r.setVisible(e),e||r.confirmFilter()},r.handleMenuItemClick=function(e){if(!(e.keyPath.length<=1)){var t=r.state.keyPathOfSelectedItem;r.state.selectedKeys.indexOf(e.key)>=0?delete t[e.key]:t[e.key]=e.keyPath,r.setState({keyPathOfSelectedItem:t})}};var o="filterDropdownVisible"in n.column&&n.column.filterDropdownVisible;return r.state={selectedKeys:n.selectedKeys,keyPathOfSelectedItem:{},visible:o},r}return(0,p["default"])(t,e),t.prototype.componentDidMount=function(){var e=this.props.column,t=y["default"].findDOMNode(this),n=!!(0,b["default"])(t,".ant-table-scroll");n&&e.fixed&&(this.neverShown=!0)},t.prototype.componentWillReceiveProps=function(e){var t=e.column,n={};"selectedKeys"in e&&(n.selectedKeys=e.selectedKeys),"filterDropdownVisible"in t&&(n.visible=t.filterDropdownVisible),Object.keys(n).length>0&&this.setState(n)},t.prototype.setVisible=function(e){var t=this.props.column;"filterDropdownVisible"in t||this.setState({visible:e}),t.onFilterDropdownVisibleChange&&t.onFilterDropdownVisibleChange(e)},t.prototype.confirmFilter=function(){this.state.selectedKeys!==this.props.selectedKeys&&this.props.confirmFilter(this.props.column,this.state.selectedKeys)},t.prototype.renderMenuItem=function(e){var t=this.props.column,n=!("filterMultiple"in t)||t.filterMultiple,r=n?d["default"].createElement(E["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0}):d["default"].createElement(_["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0});return d["default"].createElement(m.Item,{key:e.value},r,d["default"].createElement("span",null,e.text))},t.prototype.hasSubMenu=function(){var e=this.props.column.filters,t=void 0===e?[]:e;return t.some(function(e){return!!(e.children&&e.children.length>0)})},t.prototype.renderMenus=function(e){var t=this;return e.map(function(e){if(e.children&&e.children.length>0){var n=t.state.keyPathOfSelectedItem,r=Object.keys(n).some(function(t){return n[t].indexOf(e.value)>=0}),o=r?t.props.dropdownPrefixCls+"-submenu-contain-selected":"";return d["default"].createElement(m.SubMenu,{title:e.text,className:o,key:e.value.toString()},t.renderMenus(e.children))}return t.renderMenuItem(e)})},t.prototype.render=function(){var e=this.props,t=e.column,n=e.locale,r=e.prefixCls,o=e.dropdownPrefixCls,i=!("filterMultiple"in t)||t.filterMultiple,s=(0,w["default"])((0,a["default"])({},o+"-menu-without-submenu",!this.hasSubMenu())),l=t.filterDropdown?d["default"].createElement(N["default"],null,t.filterDropdown):d["default"].createElement(N["default"],{className:r+"-dropdown"},d["default"].createElement(v["default"],{multiple:i,onClick:this.handleMenuItemClick,prefixCls:o+"-menu",className:s,onSelect:this.setSelectedKeys,onDeselect:this.setSelectedKeys,selectedKeys:this.state.selectedKeys},this.renderMenus(t.filters)),d["default"].createElement("div",{className:r+"-dropdown-btns"},d["default"].createElement("a",{className:r+"-dropdown-link confirm",onClick:this.handleConfirm},n.filterConfirm),d["default"].createElement("a",{className:r+"-dropdown-link clear",onClick:this.handleClearFilters},n.filterReset))),u=this.props.selectedKeys.length>0?r+"-selected":"";return d["default"].createElement(x["default"],{trigger:["click"],overlay:l,visible:!this.neverShown&&this.state.visible,onVisibleChange:this.onVisibleChange},d["default"].createElement(S["default"],{title:n.filterTitle,type:"filter",className:u}))},t}(d["default"].Component);t["default"]=D,D.defaultProps={handleFilter:function(){},column:{}},e.exports=t["default"]},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[],r=function o(e){e.forEach(function(e){var r=(0,c["default"])({},e);delete r[t],n.push(r),e[t]&&e[t].length>0&&o(e[t])})};return r(e),n}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";return e.map(function(e,r){var o={};return e[n]&&(o[n]=a(e[n],t,n)),(0,c["default"])({},t(e,r),o)})}function i(e){var t=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var n=(0,c["default"])({},e.props);e.key&&(n.key=e.key),e.type===f["default"]&&(n.children=i(n.children)),t.push(n)}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.flatArray=o,t.treeMap=a,t.normalizeColumns=i;var s=n(1),l=r(s),u=n(8),c=r(u),p=n(48),f=r(p)},105:function(e,t,n){var r=n(106);e.exports=function(e,t,n){for(n=n||document,e={parentNode:e};(e=e.parentNode)&&e!==n;)if(r(e,t))return e}},106:function(e,t){"use strict";function n(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var o=e.parentNode;if(r)return r.call(e,t);for(var a=o.querySelectorAll(t),i=a.length,s=0;s<i;s++)if(a[s]===e)return!0;return!1}e.exports=n},107:10,108:10,110:10,111:10,112:10,113:10,115:function(e,t,n){(function(t){(function(){var n,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n()):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){
return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(t,n(114))},116:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(17),d=r(f),h=n(6),y=r(h),m=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.handleFocus=function(e){r.setState({focus:!0}),r.props.onFocus(e)},r.handleBlur=function(e){r.setState({focus:!1}),r.props.onBlur(e)},r.handleChange=function(e){r.props.disabled||("checked"in r.props||r.setState({checked:e.target.checked}),r.props.onChange({target:u({},r.props,{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}}))};var o=!1;return o="checked"in n?n.checked:n.defaultChecked,r.state={checked:o,focus:!1},r}return l(t,e),t.prototype.componentWillReceiveProps=function(e){"checked"in e&&this.setState({checked:e.checked})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t=u({},this.props);delete t.defaultChecked;var n=this.state,r=t.prefixCls,o=n.checked;"boolean"==typeof o&&(o=o?1:0);var i=(0,y["default"])((e={},a(e,t.className,!!t.className),a(e,r,1),a(e,r+"-checked",o),a(e,r+"-checked-"+o,!!o),a(e,r+"-focused",n.focus),a(e,r+"-disabled",t.disabled),e));return p["default"].createElement("span",{className:i,style:t.style},p["default"].createElement("span",{className:r+"-inner"}),p["default"].createElement("input",{name:t.name,type:t.type,readOnly:t.readOnly,disabled:t.disabled,tabIndex:t.tabIndex,className:r+"-input",checked:!!o,onClick:this.props.onClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}))},t}(p["default"].Component);m.propTypes={name:p["default"].PropTypes.string,prefixCls:p["default"].PropTypes.string,style:p["default"].PropTypes.object,type:p["default"].PropTypes.string,className:p["default"].PropTypes.string,defaultChecked:p["default"].PropTypes.oneOfType([p["default"].PropTypes.number,p["default"].PropTypes.bool]),disabled:p["default"].PropTypes.bool,checked:p["default"].PropTypes.oneOfType([p["default"].PropTypes.number,p["default"].PropTypes.bool]),onFocus:p["default"].PropTypes.func,onBlur:p["default"].PropTypes.func,onChange:p["default"].PropTypes.func,onClick:p["default"].PropTypes.func},m.defaultProps={prefixCls:"rc-checkbox",style:{},type:"checkbox",className:"",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},t["default"]=m,e.exports=t["default"]},117:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=r(i),l=n(9),u=r(l),c=n(59),p=r(c),f=n(119),d=r(f),h=s["default"].createClass({displayName:"Dropdown",propTypes:{minOverlayWidthMatchTrigger:i.PropTypes.bool,onVisibleChange:i.PropTypes.func,prefixCls:i.PropTypes.string,children:i.PropTypes.any,transitionName:i.PropTypes.string,overlayClassName:i.PropTypes.string,animation:i.PropTypes.any,align:i.PropTypes.object,overlayStyle:i.PropTypes.object,placement:i.PropTypes.string,trigger:i.PropTypes.array,showAction:i.PropTypes.array,hideAction:i.PropTypes.array,getPopupContainer:i.PropTypes.func},getDefaultProps:function(){return{minOverlayWidthMatchTrigger:!0,prefixCls:"rc-dropdown",trigger:["hover"],showAction:[],hideAction:[],overlayClassName:"",overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft"}},getInitialState:function(){var e=this.props;return"visible"in e?{visible:e.visible}:{visible:e.defaultVisible}},componentWillReceiveProps:function(e){var t=e.visible;void 0!==t&&this.setState({visible:t})},onClick:function(e){var t=this.props,n=t.overlay.props;"visible"in t||this.setState({visible:!1}),n.onClick&&n.onClick(e)},onVisibleChange:function(e){var t=this.props;"visible"in t||this.setState({visible:e}),t.onVisibleChange(e)},getMenuElement:function(){var e=this.props;return s["default"].cloneElement(e.overlay,{prefixCls:e.prefixCls+"-menu",onClick:this.onClick})},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},afterVisibleChange:function(e){if(e&&this.props.minOverlayWidthMatchTrigger){var t=this.getPopupDomNode(),n=u["default"].findDOMNode(this);n.offsetWidth>t.offsetWidth&&(t.style.width=n.offsetWidth+"px")}},render:function(){var e=this.props,t=e.prefixCls,n=e.children,r=e.transitionName,i=e.animation,l=e.align,u=e.placement,c=e.getPopupContainer,f=e.showAction,h=e.hideAction,y=e.overlayClassName,m=e.overlayStyle,v=e.trigger,g=o(e,["prefixCls","children","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]);return s["default"].createElement(p["default"],a({},g,{prefixCls:t,ref:"trigger",popupClassName:y,popupStyle:m,builtinPlacements:d["default"],action:v,showAction:f,hideAction:h,popupPlacement:u,popupAlign:l,popupTransitionName:r,popupAnimation:i,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getMenuElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:c}),n)}});t["default"]=h,e.exports=t["default"]},118:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(117),a=r(o);t["default"]=a["default"],e.exports=t["default"]},119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],o=t.placements={topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},topCenter:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},bottomCenter:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r}};t["default"]=o},120:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=n(52),u=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n));return r.state={current:n.current,_current:n.current},["_handleChange","_changeSize","_go","_buildOptionText"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype._buildOptionText=function(e){return e+" "+this.props.locale.items_per_page},t.prototype._changeSize=function(e){this.props.changeSize(Number(e))},t.prototype._handleChange=function(e){var t=e.target.value;this.setState({_current:t})},t.prototype._go=function(e){var t=e.target.value;if(""!==t){var n=Number(this.state._current);if(isNaN(n)&&(n=this.state.current),e.keyCode===l.ENTER){var r=this.props.quickGo(n);this.setState({_current:r,current:r})}}},t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=t.locale,o=t.rootPrefixCls+"-options",a=t.changeSize,i=t.quickGo,l=t.buildOptionText||this._buildOptionText,u=t.selectComponentClass,c=null,p=null;return a||i?(a&&u&&!function(){var n=u.Option,r=t.pageSize||t.pageSizeOptions[0],a=t.pageSizeOptions.map(function(e,t){return s.createElement(n,{key:t,value:e},l(e))});c=s.createElement(u,{prefixCls:t.selectPrefixCls,showSearch:!1,className:o+"-size-changer",optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:r.toString(),onChange:e._changeSize},a)}(),i&&(p=s.createElement("div",{className:o+"-quick-jumper"},r.jump_to,s.createElement("input",{type:"text",value:n._current,onChange:this._handleChange,onKeyUp:this._go}),r.page)),s.createElement("div",{className:""+o},c,p)):null},t}(s.Component);u.propTypes={changeSize:s.PropTypes.func,quickGo:s.PropTypes.func,selectComponentClass:s.PropTypes.func,current:s.PropTypes.number,pageSizeOptions:s.PropTypes.arrayOf(s.PropTypes.string),pageSize:s.PropTypes.number,buildOptionText:s.PropTypes.func,locale:s.PropTypes.object},u.defaultProps={pageSizeOptions:["10","20","30","40"]},e.exports=u},121:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.rootPrefixCls+"-item",n=t+" "+t+"-"+e.page;return e.active&&(n=n+" "+t+"-active"),e.className&&(n=n+" "+e.className),s.createElement("li",{title:e.page,className:n,onClick:e.onClick},s.createElement("a",null,e.page))},t}(s.Component);l.propTypes={page:s.PropTypes.number,active:s.PropTypes.bool,last:s.PropTypes.bool,locale:s.PropTypes.object,className:s.PropTypes.string},e.exports=l},122:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function s(){}var l=n(1),u=n(121),c=n(120),p=n(52),f=n(53),d=function(e){function t(n){o(this,t);var r=a(this,e.call(this,n)),i=n.onChange!==s,l="current"in n;l&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=n.defaultCurrent;"current"in n&&(u=n.current);var c=n.defaultPageSize;return"pageSize"in n&&(c=n.pageSize),r.state={current:u,_current:u,pageSize:c},["render","_handleChange","_handleKeyUp","_handleKeyDown","_changePageSize","_isValid","_prev","_next","_hasPrev","_hasNext","_jumpPrev","_jumpNext"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){if("current"in e&&this.setState({current:e.current,_current:e.current}),"pageSize"in e){var t={},n=this.state.current,r=this._calcPage(e.pageSize);n=n>r?r:n,"current"in e||(t.current=n,t._current=n),t.pageSize=e.pageSize,this.setState(t)}},t.prototype._calcPage=function(e){var t=e;return"undefined"==typeof t&&(t=this.state.pageSize),Math.floor((this.props.total-1)/t)+1},t.prototype._isValid=function(e){return"number"==typeof e&&e>=1&&e!==this.state.current},t.prototype._handleKeyDown=function(e){e.keyCode!==p.ARROW_UP&&e.keyCode!==p.ARROW_DOWN||e.preventDefault()},t.prototype._handleKeyUp=function(e){var t=e.target.value,n=void 0;n=""===t?t:isNaN(Number(t))?this.state._current:Number(t),this.setState({_current:n}),e.keyCode===p.ENTER?this._handleChange(n):e.keyCode===p.ARROW_UP?this._handleChange(n-1):e.keyCode===p.ARROW_DOWN&&this._handleChange(n+1)},t.prototype._changePageSize=function(e){var t=this.state.current,n=this._calcPage(e);t=t>n?n:t,"number"==typeof e&&("pageSize"in this.props||this.setState({pageSize:e}),"current"in this.props||this.setState({current:t,_current:t})),this.props.onShowSizeChange(t,e)},t.prototype._handleChange=function(e){var t=e;if(this._isValid(t)){t>this._calcPage()&&(t=this._calcPage()),"current"in this.props||this.setState({current:t,_current:t});var n=this.state.pageSize;return this.props.onChange(t,n),t}return this.state.current},t.prototype._prev=function(){this._hasPrev()&&this._handleChange(this.state.current-1)},t.prototype._next=function(){this._hasNext()&&this._handleChange(this.state.current+1)},t.prototype._jumpPrev=function(){this._handleChange(Math.max(1,this.state.current-(this.props.showLessItems?3:5)))},t.prototype._jumpNext=function(){this._handleChange(Math.min(this._calcPage(),this.state.current+(this.props.showLessItems?3:5)))},t.prototype._hasPrev=function(){return this.state.current>1},t.prototype._hasNext=function(){return this.state.current<this._calcPage()},t.prototype.render=function(){var e=this.props,t=e.locale,n=e.prefixCls,r=this._calcPage(),o=[],a=null,i=null,s=null,p=null,f=e.showLessItems?1:2,d=this.state,h=d.current,y=d.pageSize;if(e.simple)return l.createElement("ul",{className:n+" "+n+"-simple "+e.className},l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),l.createElement("li",{title:this.state.current+"/"+r,className:n+"-simple-pager"},l.createElement("input",{type:"text",value:this.state._current,onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onChange:this._handleKeyUp}),l.createElement("span",{className:n+"-slash"},"\uff0f"),r),l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)));if(r<=5+2*f)for(var m=1;m<=r;m++){var v=this.state.current===m;o.push(l.createElement(u,{locale:t,rootPrefixCls:n,onClick:this._handleChange.bind(this,m),key:m,page:m,active:v}))}else{a=l.createElement("li",{title:e.showLessItems?t.prev_3:t.prev_5,key:"prev",onClick:this._jumpPrev,className:n+"-jump-prev"},l.createElement("a",null)),i=l.createElement("li",{title:e.showLessItems?t.next_3:t.next_5,key:"next",onClick:this._jumpNext,className:n+"-jump-next"},l.createElement("a",null)),p=l.createElement(u,{locale:e.locale,last:!0,rootPrefixCls:n,onClick:this._handleChange.bind(this,r),key:r,page:r,active:!1}),s=l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,1),key:1,page:1,active:!1});var g=Math.max(1,h-f),b=Math.min(h+f,r);h-1<=f&&(b=1+2*f),r-h<=f&&(g=r-2*f);for(var C=g;C<=b;C++){var w=h===C;o.push(l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,C),key:C,page:C,active:w}))}h-1>=2*f&&3!==h&&(o[0]=l.cloneElement(o[0],{className:n+"-item-after-jump-prev"}),o.unshift(a)),r-h>=2*f&&h!==r-2&&(o[o.length-1]=l.cloneElement(o[o.length-1],{className:n+"-item-before-jump-next"}),o.push(i)),1!==g&&o.unshift(s),b!==r&&o.push(p)}var P=null;return e.showTotal&&(P=l.createElement("span",{className:n+"-total-text"},e.showTotal(e.total,[(h-1)*y+1,h*y>e.total?e.total:h*y]))),l.createElement("ul",{className:n+" "+e.className,style:e.style,unselectable:"unselectable"},P,l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),o,l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)),l.createElement(c,{locale:e.locale,rootPrefixCls:n,selectComponentClass:e.selectComponentClass,selectPrefixCls:e.selectPrefixCls,changeSize:this.props.showSizeChanger?this._changePageSize.bind(this):null,current:this.state.current,pageSize:this.state.pageSize,pageSizeOptions:this.props.pageSizeOptions,quickGo:this.props.showQuickJumper?this._handleChange.bind(this):null}))},t}(l.Component);d.propTypes={current:l.PropTypes.number,defaultCurrent:l.PropTypes.number,total:l.PropTypes.number,pageSize:l.PropTypes.number,defaultPageSize:l.PropTypes.number,onChange:l.PropTypes.func,showSizeChanger:l.PropTypes.bool,showLessItems:l.PropTypes.bool,onShowSizeChange:l.PropTypes.func,selectComponentClass:l.PropTypes.func,showQuickJumper:l.PropTypes.bool,pageSizeOptions:l.PropTypes.arrayOf(l.PropTypes.string),showTotal:l.PropTypes.func,locale:l.PropTypes.object,style:l.PropTypes.object},d.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:s,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,showQuickJumper:!1,showSizeChanger:!1,showLessItems:!1,onShowSizeChange:s,locale:f,style:{}},e.exports=d},123:function(e,t,n){"use strict";e.exports=n(122)},124:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=n(51),i=o.createClass({displayName:"Radio",getDefaultProps:function(){return{prefixCls:"rc-radio",type:"radio"}},render:function(){return o.createElement(a,r({},this.props,{ref:"checkbox"}))}});e.exports=i},125:function(e,t,n){"use strict";e.exports=n(124)},126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),a=r(o),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),p=n(144),f=r(p),d=n(38),h=r(d),y=n(180),m=r(y),v=n(21),g=u["default"].createClass({displayName:"DropdownMenu",propTypes:{defaultActiveFirstOption:l.PropTypes.bool,value:l.PropTypes.any,dropdownMenuStyle:l.PropTypes.object,multiple:l.PropTypes.bool,onPopupFocus:l.PropTypes.func,onMenuDeSelect:l.PropTypes.func,onMenuSelect:l.PropTypes.func,prefixCls:l.PropTypes.string,menuItems:l.PropTypes.any,inputValue:l.PropTypes.string,visible:l.PropTypes.bool},componentWillMount:function(){this.lastInputValue=this.props.inputValue},componentDidMount:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible},shouldComponentUpdate:function(e){return e.visible||(this.lastVisible=!1),e.visible},componentDidUpdate:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue},scrollActiveItemToView:function(){var e=(0,c.findDOMNode)(this.firstActiveItem);e&&(0,m["default"])(e,(0,c.findDOMNode)(this.refs.menu),{onlyScrollIfNeeded:!0})},renderMenu:function(){var e=this,t=this.props,n=t.menuItems,r=t.defaultActiveFirstOption,o=t.value,i=t.prefixCls,c=t.multiple,p=t.onMenuSelect,d=t.inputValue;if(n&&n.length){var y=function(){var a={};c?(a.onDeselect=t.onMenuDeselect,a.onSelect=p):a.onClick=p;var y=(0,v.getSelectKeys)(n,o),m={},g=n;return y.length&&!function(){t.visible&&!e.lastVisible&&(m.activeKey=y[0]);var r=!1,o=function(t){return r||y.indexOf(t.key)===-1?t:(r=!0,(0,l.cloneElement)(t,{ref:function(t){e.firstActiveItem=t}}))};g=n.map(function(e){if(e.type.isMenuItemGroup){var t=(0,f["default"])(e.props.children).map(o);return(0,l.cloneElement)(e,{},t)}return o(e)})}(),d!==e.lastInputValue&&(m.activeKey=""),{v:u["default"].createElement(h["default"],(0,s["default"])({ref:"menu",style:e.props.dropdownMenuStyle,defaultActiveFirst:r},m,{multiple:c,focusable:!1},a,{selectedKeys:y,prefixCls:i+"-menu"}),g)}}();if("object"===("undefined"==typeof y?"undefined":(0,a["default"])(y)))return y.v}return null},render:function(){var e=this.renderMenu();return e?u["default"].createElement("div",{style:{overflow:"auto"},onFocus:this.props.onPopupFocus,onMouseDown:v.preventDefaultEvent},e):null}});t["default"]=g,e.exports=t["default"]},127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(1),s=r(i),l=n(21),u=n(38),c=n(133),p=r(c);t["default"]={filterOption:function f(e,t){if(!e)return!0;var f=this.props.filterOption;return!f||!t.props.disabled&&f.call(this,e,t)},renderFilterOptions:function(e){return this.renderFilterOptionsFromChildren(this.props.children,!0,e)},renderFilterOptionsFromChildren:function(e,t,n){var r=this,o=[],i=this.props,c=void 0===n?this.state.inputValue:n,f=[],d=i.tags;if(s["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var t=r.renderFilterOptionsFromChildren(e.props.children,!1);if(t.length){var n=e.props.label,i=e.key;i||"string"!=typeof n?!n&&i&&(n=i):i=n,o.push(s["default"].createElement(u.ItemGroup,{key:i,title:n},t))}}else{(0,p["default"])(e.type.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+("instead of `"+(e.type.name||e.type.displayName||e.type)+"`."));var h=(0,l.getValuePropValue)(e);r.filterOption(c,e)&&o.push(s["default"].createElement(u.Item,(0,a["default"])({style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:h,key:h},e.props))),d&&!e.props.disabled&&f.push(h)}}),d){var h=this.state.value||[];if(h=h.filter(function(e){return f.indexOf(e.key)===-1&&(!c||String(e.key).indexOf(String(c))>-1)}),o=o.concat(h.map(function(e){var t=e.key;return s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:t,key:t},t)})),c){var y=o.every(function(e){return(0,l.getValuePropValue)(e)!==c});y&&o.unshift(s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:c,key:c},c))}}return!o.length&&t&&i.notFoundContent&&(o=[s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,disabled:!0,value:"NOT_FOUND",key:"NOT_FOUND"},i.notFoundContent)]),o}},e.exports=t["default"]},128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Component);f.isSelectOptGroup=!0,t["default"]=f,e.exports=t["default"]},129:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=function(e){function t(){return(0,a["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(p["default"].Component);f.propTypes={value:p["default"].PropTypes.string},f.isSelectOption=!0,t["default"]=f,e.exports=t["default"]},130:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){return String((0,x.getPropValue)(t,this.props.optionFilterProp)).indexOf(e)>-1}function i(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(2),c=r(u),p=n(1),f=r(p),d=n(9),h=r(d),y=n(145),m=r(y),v=n(6),g=r(v),b=n(56),C=r(b),w=n(69),P=r(w),x=n(21),T=n(131),S=r(T),O=n(127),E=r(O),k=void 0;p.PropTypes&&(k=p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.shape({key:p.PropTypes.string,label:p.PropTypes.node})]));var _=f["default"].createClass({displayName:"Select",propTypes:{defaultActiveFirstOption:p.PropTypes.bool,multiple:p.PropTypes.bool,filterOption:p.PropTypes.any,children:p.PropTypes.any,showSearch:p.PropTypes.bool,disabled:p.PropTypes.bool,allowClear:p.PropTypes.bool,showArrow:p.PropTypes.bool,tags:p.PropTypes.bool,prefixCls:p.PropTypes.string,className:p.PropTypes.string,transitionName:p.PropTypes.string,optionLabelProp:p.PropTypes.string,optionFilterProp:p.PropTypes.string,animation:p.PropTypes.string,choiceTransitionName:p.PropTypes.string,onChange:p.PropTypes.func,onBlur:p.PropTypes.func,onFocus:p.PropTypes.func,onSelect:p.PropTypes.func,onSearch:p.PropTypes.func,placeholder:p.PropTypes.any,onDeselect:p.PropTypes.func,labelInValue:p.PropTypes.bool,value:p.PropTypes.oneOfType([k,p.PropTypes.arrayOf(k)]),defaultValue:p.PropTypes.oneOfType([k,p.PropTypes.arrayOf(k)]),dropdownStyle:p.PropTypes.object,maxTagTextLength:p.PropTypes.number,tokenSeparators:p.PropTypes.arrayOf(p.PropTypes.string),getInputElement:p.PropTypes.func},mixins:[E["default"]],getDefaultProps:function(){return{prefixCls:"rc-select",filterOption:a,defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",defaultValue:[],onChange:o,onFocus:o,onBlur:o,onSelect:o,onSearch:o,onDeselect:o,showArrow:!0,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found"}},getInitialState:function(){var e=this.props,t=[];t="value"in e?(0,x.toArray)(e.value):(0,x.toArray)(e.defaultValue),t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t);var n="";e.combobox&&(n=t.length?this.getLabelFromProps(e,t[0].key):""),this.saveInputRef=i.bind(this,"inputInstance"),this.saveInputMirrorRef=i.bind(this,"inputMirrorInstance");var r=e.open;return void 0===r&&(r=e.defaultOpen),{value:t,inputValue:n,open:r}},componentWillMount:function(){this.adjustOpenState()},componentWillReceiveProps:function(e){if("value"in e){var t=(0,x.toArray)(e.value);t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t),this.setState({value:t}),e.combobox&&this.setState({inputValue:t.length?this.getLabelFromProps(e,t[0].key):""})}},componentWillUpdate:function(e,t){this.props=e,this.state=t,this.adjustOpenState()},componentDidUpdate:function(){if((0,x.isMultipleOrTags)(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e.value?(e.style.width="",e.style.width=t.clientWidth+"px"):e.style.width=""}},componentWillUnmount:function(){this.clearBlurTime(),this.clearAdjustTimer(),this.dropdownContainer&&(h["default"].unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)},onInputChange:function(e){var t=this.props.tokenSeparators,n=e.target.value;if((0,x.isMultipleOrTags)(this.props)&&t&&(0,x.includesSeparators)(n,t)){var r=this.tokenize(n);return this.fireChange(r),this.setOpenState(!1,!0),void this.setInputValue("",!1)}this.setInputValue(n),this.setState({open:!0}),(0,x.isCombobox)(this.props)&&this.fireChange([{key:n}])},onDropdownVisibleChange:function(e){this.setOpenState(e)},onKeyDown:function(e){var t=this.props;if(!t.disabled){var n=e.keyCode;this.state.open&&!this.getInputDOMNode()?this.onInputKeyDown(e):n!==m["default"].ENTER&&n!==m["default"].DOWN||(this.setOpenState(!0),e.preventDefault())}},onInputKeyDown:function(e){var t=this.props;if(!t.disabled){var n=this.state,r=e.keyCode;if((0,x.isMultipleOrTags)(t)&&!e.target.value&&r===m["default"].BACKSPACE){e.preventDefault();var o=n.value;return void(o.length&&this.removeSelected(o[o.length-1].key))}if(r===m["default"].DOWN){if(!n.open)return this.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(r===m["default"].ESC)return void(n.open&&(this.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(n.open){var a=this.refs.trigger.getInnerMenu();a&&a.onKeyDown(e)&&(e.preventDefault(),e.stopPropagation())}}},onMenuSelect:function(e){var t=this,n=e.item,r=this.state.value,o=this.props,a=(0,x.getValuePropValue)(n),i=this.getLabelFromOption(n),s=a;o.labelInValue&&(s={key:s,label:i}),o.onSelect(s,n);var l=n.props.title;if((0,x.isMultipleOrTags)(o)){if((0,x.findIndexInValueByKey)(r,a)!==-1)return;r=r.concat([{key:a,label:i,title:l}])}else{if((0,x.isCombobox)(o)&&(this.skipAdjustOpen=!0,this.clearAdjustTimer(),this.skipAdjustOpenTimer=setTimeout(function(){t.skipAdjustOpen=!1},0)),r.length&&r[0].key===a)return void this.setOpenState(!1,!0);r=[{key:a,label:i,title:l}],this.setOpenState(!1,!0)}this.fireChange(r);var u=void 0;u=(0,x.isCombobox)(o)?(0,x.getPropValue)(n,o.optionLabelProp):"",this.setInputValue(u,!1)},onMenuDeselect:function(e){var t=e.item,n=e.domEvent;"click"===n.type&&this.removeSelected((0,x.getValuePropValue)(t)),this.setInputValue("",!1)},onArrowClick:function(e){e.stopPropagation(),this.props.disabled||this.setOpenState(!this.state.open,!this.state.open)},onPlaceholderClick:function(){this.getInputDOMNode()&&this.getInputDOMNode().focus()},onOuterFocus:function(e){((0,x.isMultipleOrTagsOrCombobox)(this.props)||e.target!==this.getInputDOMNode())&&(this.clearBlurTime(),this._focused=!0,this.updateFocusClassName(),this.props.onFocus())},onPopupFocus:function(){this.maybeFocus(!0,!0)},onOuterBlur:function(){var e=this;this.blurTimer=setTimeout(function(){e._focused=!1,e.updateFocusClassName();var t=e.props,n=e.state.value,r=e.state.inputValue;if((0,x.isSingleMode)(t)&&t.showSearch&&r&&t.defaultActiveFirstOption){var o=e._options||[];if(o.length){var a=(0,x.findFirstMenuItem)(o);a&&(n=[{key:a.key,label:e.getLabelFromOption(a)}],e.fireChange(n))}}else(0,x.isMultipleOrTags)(t)&&r&&(e.state.inputValue=e.getInputDOMNode().value="");t.onBlur(e.getVLForOnChange(n))},10)},onClearSelection:function(e){var t=this.props,n=this.state;if(!t.disabled){var r=n.inputValue,o=n.value;e.stopPropagation(),(r||o.length)&&(o.length&&this.fireChange([]),this.setOpenState(!1,!0),r&&this.setInputValue(""))}},onChoiceAnimationLeave:function(){this.refs.trigger.refs.trigger.forcePopupAlign()},getLabelBySingleValue:function(e,t){var n=this;if(void 0===t)return null;var r=null;return f["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var o=n.getLabelBySingleValue(e.props.children,t);null!==o&&(r=o)}else(0,x.getValuePropValue)(e)===t&&(r=n.getLabelFromOption(e))}),r},getValueByLabel:function(e,t){var n=this;if(void 0===t)return null;var r=null;return f["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var o=n.getValueByLabel(e.props.children,t);null!==o&&(r=o)}else(0,x.toArray)(n.getLabelFromOption(e)).join("")===t&&(r=(0,x.getValuePropValue)(e))}),r},getLabelFromOption:function(e){return(0,x.getPropValue)(e,this.props.optionLabelProp)},getLabelFromProps:function(e,t){return this.getLabelByValue(e.children,t)},getVLForOnChange:function(e){var t=e;return void 0!==t?(t=this.props.labelInValue?t.map(function(e){
return{key:e.key,label:e.label}}):t.map(function(e){return e.key}),(0,x.isMultipleOrTags)(this.props)?t:t[0]):t},getLabelByValue:function(e,t){var n=this.getLabelBySingleValue(e,t);return null===n?t:n},getDropdownContainer:function(){return this.dropdownContainer||(this.dropdownContainer=document.createElement("div"),document.body.appendChild(this.dropdownContainer)),this.dropdownContainer},getPlaceholderElement:function(){var e=this.props,t=this.state,n=!1;t.inputValue&&(n=!0),t.value.length&&(n=!0),(0,x.isCombobox)(e)&&1===t.value.length&&!t.value[0].key&&(n=!1);var r=e.placeholder;return r?f["default"].createElement("div",(0,c["default"])({onMouseDown:x.preventDefaultEvent,style:(0,c["default"])({display:n?"none":"block"},x.UNSELECTABLE_STYLE)},x.UNSELECTABLE_ATTRIBUTE,{onClick:this.onPlaceholderClick,className:e.prefixCls+"-selection__placeholder"}),r):null},getInputElement:function(){var e=this.props,t=e.getInputElement?e.getInputElement():f["default"].createElement("input",null),n=(0,g["default"])(t.props.className,(0,l["default"])({},e.prefixCls+"-search__field",!0));return f["default"].createElement("div",{className:e.prefixCls+"-search__field__wrap"},f["default"].cloneElement(t,{ref:this.saveInputRef,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,value:this.state.inputValue,disabled:e.disabled,className:n}),f["default"].createElement("span",{ref:this.saveInputMirrorRef,className:e.prefixCls+"-search__field__mirror"},this.state.inputValue))},getInputDOMNode:function(){return this.inputInstance},getInputMirrorDOMNode:function(){return this.inputMirrorInstance},getPopupDOMNode:function(){return this.refs.trigger.getPopupDOMNode()},getPopupMenuComponent:function(){return this.refs.trigger.getInnerMenu()},setOpenState:function(e,t){var n=this,r=this.props,o=this.state;if(o.open===e)return void this.maybeFocus(e,t);var a={open:e};!e&&(0,x.isSingleMode)(r)&&r.showSearch&&this.setInputValue(""),e||this.maybeFocus(e,t),this.setState(a,function(){e&&n.maybeFocus(e,t)})},setInputValue:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({inputValue:e}),t&&this.props.onSearch(e)},clearBlurTime:function(){this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},clearAdjustTimer:function(){this.skipAdjustOpenTimer&&(clearTimeout(this.skipAdjustOpenTimer),this.skipAdjustOpenTimer=null)},updateFocusClassName:function(){var e=this.refs,t=this.props;this._focused?(0,P["default"])(e.root).add(t.prefixCls+"-focused"):(0,P["default"])(e.root).remove(t.prefixCls+"-focused")},maybeFocus:function(e,t){if(t||e){var n=this.getInputDOMNode(),r=document,o=r.activeElement;if(n&&(e||(0,x.isMultipleOrTagsOrCombobox)(this.props)))o!==n&&n.focus();else{var a=this.refs.selection;o!==a&&a.focus()}}},addLabelToValue:function(e,t){var n=this,r=t;return e.labelInValue?r.forEach(function(t){t.label=t.label||n.getLabelFromProps(e,t.key)}):r=r.map(function(t){return{key:t,label:n.getLabelFromProps(e,t)}}),r},addTitleToValue:function(e,t){var n=this,r=t,o=t.map(function(e){return e.key});return f["default"].Children.forEach(e.children,function(e){if(e.type.isSelectOptGroup)r=n.addTitleToValue(e.props,r);else{var t=(0,x.getValuePropValue)(e),a=o.indexOf(t);a>-1&&(r[a].title=e.props.title)}}),r},removeSelected:function(e){var t=this.props;if(!t.disabled&&!this.isChildDisabled(e)){var n=void 0,r=this.state.value.filter(function(t){return t.key===e&&(n=t.label),t.key!==e}),o=(0,x.isMultipleOrTags)(t);if(o){var a=e;t.labelInValue&&(a={key:e,label:n}),t.onDeselect(a)}this.fireChange(r)}},openIfHasChildren:function(){var e=this.props;(f["default"].Children.count(e.children)||(0,x.isSingleMode)(e))&&this.setOpenState(!0)},fireChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(this.getVLForOnChange(e))},isChildDisabled:function(e){return(0,x.toArray)(this.props.children).some(function(t){var n=(0,x.getValuePropValue)(t);return n===e&&t.props&&t.props.disabled})},tokenize:function(e){var t=this,n=this.props,r=n.multiple,o=n.tokenSeparators,a=n.children,i=this.state.value;return(0,x.splitBySeparators)(e,o).forEach(function(e){var n={key:e,label:e};if((0,x.findIndexInValueByLabel)(i,e)===-1)if(r){var o=t.getValueByLabel(a,e);o&&(n.key=o,i=i.concat(n))}else i=i.concat(n)}),i},adjustOpenState:function(){if(!this.skipAdjustOpen){var e=this.state.open;"undefined"!=typeof document&&this.getInputDOMNode()&&document.activeElement===this.getInputDOMNode()&&(e=!0);var t=[];e&&(t=this.renderFilterOptions()),this._options=t,!e||!(0,x.isMultipleOrTagsOrCombobox)(this.props)&&this.props.showSearch||t.length||(e=!1),this.state.open=e}},renderTopControlNode:function(){var e=this,t=this.state,n=t.value,r=t.open,o=t.inputValue,a=this.props,i=a.choiceTransitionName,s=a.prefixCls,l=a.maxTagTextLength,u=a.showSearch,p=s+"-selection__rendered",d=null;if((0,x.isSingleMode)(a)){var h=null;if(n.length){var y=!1,m=1;u&&r?(y=!o,y&&(m=.4)):y=!0;var v=n[0];h=f["default"].createElement("div",{key:"value",className:s+"-selection-selected-value",title:v.title||v.label,style:{display:y?"block":"none",opacity:m}},n[0].label)}d=u?[h,f["default"].createElement("div",{className:s+"-search "+s+"-search--inline",key:"input",style:{display:r?"block":"none"}},this.getInputElement())]:[h]}else{var g=[];(0,x.isMultipleOrTags)(a)&&(g=n.map(function(t){var n=t.label,r=t.title||n;l&&"string"==typeof n&&n.length>l&&(n=n.slice(0,l)+"...");var o=e.isChildDisabled(t.key),a=o?s+"-selection__choice "+s+"-selection__choice__disabled":s+"-selection__choice";return f["default"].createElement("li",(0,c["default"])({style:x.UNSELECTABLE_STYLE},x.UNSELECTABLE_ATTRIBUTE,{onMouseDown:x.preventDefaultEvent,className:a,key:t.key,title:r}),f["default"].createElement("div",{className:s+"-selection__choice__content"},n),o?null:f["default"].createElement("span",{className:s+"-selection__choice__remove",onClick:e.removeSelected.bind(e,t.key)}))})),g.push(f["default"].createElement("li",{className:s+"-search "+s+"-search--inline",key:"__input"},this.getInputElement())),d=(0,x.isMultipleOrTags)(a)&&i?f["default"].createElement(C["default"],{onLeave:this.onChoiceAnimationLeave,component:"ul",transitionName:i},g):f["default"].createElement("ul",null,g)}return f["default"].createElement("div",{className:p},this.getPlaceholderElement(),d)},render:function(){var e,t=this.props,n=(0,x.isMultipleOrTags)(t),r=this.state,o=t.className,a=t.disabled,i=t.allowClear,s=t.prefixCls,u=this.renderTopControlNode(),p={},d=this.state.open,h=this._options;(0,x.isMultipleOrTagsOrCombobox)(t)||(p={onKeyDown:this.onKeyDown,tabIndex:0});var y=(e={},(0,l["default"])(e,o,!!o),(0,l["default"])(e,s,1),(0,l["default"])(e,s+"-open",d),(0,l["default"])(e,s+"-focused",d||!!this._focused),(0,l["default"])(e,s+"-combobox",(0,x.isCombobox)(t)),(0,l["default"])(e,s+"-disabled",a),(0,l["default"])(e,s+"-enabled",!a),(0,l["default"])(e,s+"-allow-clear",!!t.allowClear),e),m=(0,c["default"])({},x.UNSELECTABLE_STYLE,{display:"none"});(r.inputValue||r.value.length)&&(m.display="block");var v=f["default"].createElement("span",(0,c["default"])({key:"clear",onMouseDown:x.preventDefaultEvent,style:m},x.UNSELECTABLE_ATTRIBUTE,{className:s+"-selection__clear",onClick:this.onClearSelection}));return f["default"].createElement(S["default"],{onPopupFocus:this.onPopupFocus,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:h,multiple:n,disabled:a,visible:d,inputValue:r.inputValue,value:r.value,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,ref:"trigger"},f["default"].createElement("div",{style:t.style,ref:"root",onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,g["default"])(y)},f["default"].createElement("div",(0,c["default"])({ref:"selection",key:"selection",className:s+"-selection\n            "+s+"-selection--"+(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":d},p),u,i&&!n?v:null,n||!t.showArrow?null:f["default"].createElement("span",(0,c["default"])({key:"arrow",className:s+"-arrow",style:x.UNSELECTABLE_STYLE},x.UNSELECTABLE_ATTRIBUTE,{onClick:this.onArrowClick}),f["default"].createElement("b",null)))))}});t["default"]=_,e.exports=t["default"]},131:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=r(o),i=n(195),s=r(i),l=n(2),u=r(l),c=n(59),p=r(c),f=n(1),d=r(f),h=n(6),y=r(h),m=n(126),v=r(m),g=n(9),b=r(g),C=n(21),w={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},P=d["default"].createClass({displayName:"SelectTrigger",propTypes:{onPopupFocus:f.PropTypes.func,dropdownMatchSelectWidth:f.PropTypes.bool,dropdownAlign:f.PropTypes.object,visible:f.PropTypes.bool,disabled:f.PropTypes.bool,showSearch:f.PropTypes.bool,dropdownClassName:f.PropTypes.string,multiple:f.PropTypes.bool,inputValue:f.PropTypes.string,filterOption:f.PropTypes.any,options:f.PropTypes.any,prefixCls:f.PropTypes.string,popupClassName:f.PropTypes.string,children:f.PropTypes.any},componentDidUpdate:function(){var e=this.props,t=e.visible,n=e.dropdownMatchSelectWidth;if(t){var r=this.getPopupDOMNode();if(r){var o=n?"width":"minWidth";r.style[o]=b["default"].findDOMNode(this).offsetWidth+"px"}}},getInnerMenu:function(){return this.popupMenu&&this.popupMenu.refs.menu},getPopupDOMNode:function(){return this.refs.trigger.getPopupDomNode()},getDropdownElement:function(e){var t=this.props;return d["default"].createElement(v["default"],(0,u["default"])({ref:this.saveMenu},e,{prefixCls:this.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,value:t.value,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle}))},getDropdownTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=this.getDropdownPrefixCls()+"-"+e.animation),t},getDropdownPrefixCls:function(){return this.props.prefixCls+"-dropdown"},saveMenu:function(e){this.popupMenu=e},render:function(){var e,t=this.props,n=t.onPopupFocus,r=(0,s["default"])(t,["onPopupFocus"]),o=r.multiple,i=r.visible,l=r.inputValue,c=r.dropdownAlign,f=r.disabled,h=r.showSearch,m=r.dropdownClassName,v=this.getDropdownPrefixCls(),g=(e={},(0,a["default"])(e,m,!!m),(0,a["default"])(e,v+"--"+(o?"multiple":"single"),1),e),b=this.getDropdownElement({menuItems:r.options,onPopupFocus:n,multiple:o,inputValue:l,visible:i}),P=void 0;return P=f?[]:(0,C.isSingleMode)(r)&&!h?["click"]:["blur"],d["default"].createElement(p["default"],(0,u["default"])({},r,{showAction:f?[]:["click"],hideAction:P,ref:"trigger",popupPlacement:"bottomLeft",builtinPlacements:w,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:r.onDropdownVisibleChange,popup:b,popupAlign:c,popupVisible:i,getPopupContainer:r.getPopupContainer,popupClassName:(0,y["default"])(g),popupStyle:r.dropdownStyle}),r.children)}});t["default"]=P,e.exports=t["default"]},132:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptGroup=t.Option=void 0;var o=n(130),a=r(o),i=n(129),s=r(i),l=n(128),u=r(l);a["default"].Option=s["default"],a["default"].OptGroup=u["default"],t.Option=s["default"],t.OptGroup=u["default"],t["default"]=a["default"]},133:81,134:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={className:s.PropTypes.string,colSpan:s.PropTypes.number,title:s.PropTypes.node,dataIndex:s.PropTypes.string,width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),fixed:s.PropTypes.oneOf([!0,"left","right"]),render:s.PropTypes.func,onCellClick:s.PropTypes.func},t["default"]=l,e.exports=t["default"]},135:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return o(this,t),a(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={title:s.PropTypes.node},l.isTableColumnGroup=!0,t["default"]=l,e.exports=t["default"]},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),l=r(s),u=function(){function e(t,n){a(this,e),this._cached={},this.columns=t||this.normalize(n)}return e.prototype.isAnyColumnsFixed=function(){var e=this;return this._cache("isAnyColumnsFixed",function(){return e.columns.some(function(e){return!!e.fixed})})},e.prototype.isAnyColumnsLeftFixed=function(){var e=this;return this._cache("isAnyColumnsLeftFixed",function(){return e.columns.some(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.isAnyColumnsRightFixed=function(){var e=this;return this._cache("isAnyColumnsRightFixed",function(){return e.columns.some(function(e){return"right"===e.fixed})})},e.prototype.leftColumns=function(){var e=this;return this._cache("leftColumns",function(){return e.groupedColumns().filter(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.rightColumns=function(){var e=this;return this._cache("rightColumns",function(){return e.groupedColumns().filter(function(e){return"right"===e.fixed})})},e.prototype.leafColumns=function(){var e=this;return this._cache("leafColumns",function(){return e._leafColumns(e.columns)})},e.prototype.leftLeafColumns=function(){var e=this;return this._cache("leftLeafColumns",function(){return e._leafColumns(e.leftColumns())})},e.prototype.rightLeafColumns=function(){var e=this;return this._cache("rightLeafColumns",function(){return e._leafColumns(e.rightColumns())})},e.prototype.groupedColumns=function(){var e=this;return this._cache("groupedColumns",function(){var t=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];o[t]=o[t]||[];var a=[],s=function(e){var n=o.length-t;e&&!e.children&&n>1&&(!e.rowSpan||e.rowSpan<n)&&(e.rowSpan=n)};return e.forEach(function(l,u){var c=i({},l);o[t].push(c),r.colSpan=r.colSpan||0,c.children&&c.children.length>0?(c.children=n(c.children,t+1,c,o),r.colSpan=r.colSpan+c.colSpan):r.colSpan++;for(var p=0;p<o[t].length-1;++p)s(o[t][p]);u+1===e.length&&s(c),a.push(c)}),a};return t(e.columns)})},e.prototype.normalize=function(e){var t=this,n=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var r=i({},e.props);e.key&&(r.key=e.key),e.type.isTableColumnGroup&&(r.children=t.normalize(r.children)),n.push(r)}}),n},e.prototype.reset=function(e,t){this.columns=e||this.normalize(t),this._cached={}},e.prototype._cache=function(e,t){return e in this._cached?this._cached[e]:(this._cached[e]=t(),this._cached[e])},e.prototype._leafColumns=function(e){var t=this,n=[];return e.forEach(function(e){e.children?n.push.apply(n,o(t._leafColumns(e.children))):n.push(e)}),n},e}();t["default"]=u,e.exports=t["default"]},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(40),p=r(c),f=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,p["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.expandable,n=e.prefixCls,r=e.onExpand,o=e.needIndentSpaced,a=e.expanded,i=e.record;if(t){var s=a?"expanded":"collapsed";return u["default"].createElement("span",{className:n+"-expand-icon "+n+"-"+s,onClick:function(e){return r(!a,i,e)}})}return o?u["default"].createElement("span",{className:n+"-expand-icon "+n+"-spaced"}):null},t}(u["default"].Component);f.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandable:l.PropTypes.any,expanded:l.PropTypes.bool,needIndentSpaced:l.PropTypes.bool,onExpand:l.PropTypes.func},t["default"]=f,e.exports=t["default"]},138:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(141),d=r(f),h=n(140),y=r(h),m=n(143),v=n(40),g=r(v),b=n(77),C=r(b),w=n(136),P=r(w),x=n(142),T=r(x),S=n(69),O=r(S),E=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.onExpanded=function(e,t,n,o){n&&(n.preventDefault(),n.stopPropagation());var a=r.findExpandedRow(t);if("undefined"==typeof a||e){if(!a&&e){var i=r.getExpandedRows().concat();i.push(r.getRowKey(t,o)),r.onExpandedRowsChange(i)}}else r.onRowDestroy(t,o);r.props.onExpand(e,t)},r.onRowDestroy=function(e,t){var n=r.getExpandedRows().concat(),o=r.getRowKey(e,t),a=-1;n.forEach(function(e,t){e===o&&(a=t)}),a!==-1&&n.splice(a,1),r.onExpandedRowsChange(n)},r.handleWindowResize=function(){r.syncFixedTableRowHeight(),r.setScrollPositionClassName()},r.syncFixedTableRowHeight=function(){var e=r.tableNode.getBoundingClientRect();if(!(void 0!==e.height&&e.height<=0)){var t=r.props.prefixCls,n=r.refs.headTable?r.refs.headTable.querySelectorAll("thead"):r.refs.bodyTable.querySelectorAll("thead"),o=r.refs.bodyTable.querySelectorAll("."+t+"-row")||[],a=[].map.call(n,function(e){return e.getBoundingClientRect().height||"auto"}),i=[].map.call(o,function(e){return e.getBoundingClientRect().height||"auto"});(0,g["default"])(r.state.fixedColumnsHeadRowsHeight,a)&&(0,g["default"])(r.state.fixedColumnsBodyRowsHeight,i)||r.setState({fixedColumnsHeadRowsHeight:a,fixedColumnsBodyRowsHeight:i})}},r.detectScrollTarget=function(e){r.scrollTarget!==e.currentTarget&&(r.scrollTarget=e.currentTarget)},r.handleBodyScroll=function(e){if(e.target===r.scrollTarget){var t=r.props.scroll,n=void 0===t?{}:t,o=r.refs,a=o.headTable,i=o.bodyTable,s=o.fixedColumnsBodyLeft,l=o.fixedColumnsBodyRight;n.x&&e.target.scrollLeft!==r.lastScrollLeft&&(e.target===i&&a?a.scrollLeft=e.target.scrollLeft:e.target===a&&i&&(i.scrollLeft=e.target.scrollLeft),r.setScrollPositionClassName(e.target)),n.y&&(s&&e.target!==s&&(s.scrollTop=e.target.scrollTop),l&&e.target!==l&&(l.scrollTop=e.target.scrollTop),i&&e.target!==i&&(i.scrollTop=e.target.scrollTop)),r.lastScrollLeft=e.target.scrollLeft}},r.handleRowHover=function(e,t){r.store.setState({currentHoverKey:e?t:null})};var o=[],l=[].concat(a(n.data));if(r.columnManager=new P["default"](n.columns,n.children),r.store=(0,T["default"])({currentHoverKey:null}),r.setScrollPosition("left"),n.defaultExpandAllRows)for(var u=0;u<l.length;u++){var c=l[u];o.push(r.getRowKey(c,u)),l=l.concat(c[n.childrenColumnName]||[])}else o=n.expandedRowKeys||n.defaultExpandedRowKeys;return r.state={expandedRowKeys:o,currentHoverKey:null,fixedColumnsHeadRowsHeight:[],fixedColumnsBodyRowsHeight:[]},r}return l(t,e),t.prototype.componentDidMount=function(){this.columnManager.isAnyColumnsFixed()&&(this.handleWindowResize(),this.debouncedWindowResize=(0,m.debounce)(this.handleWindowResize,150),this.resizeEvent=(0,C["default"])(window,"resize",this.debouncedWindowResize))},t.prototype.componentWillReceiveProps=function(e){"expandedRowKeys"in e&&this.setState({expandedRowKeys:e.expandedRowKeys}),e.columns&&e.columns!==this.props.columns?this.columnManager.reset(e.columns):e.children!==this.props.children&&this.columnManager.reset(null,e.children)},t.prototype.componentDidUpdate=function(e){this.columnManager.isAnyColumnsFixed()&&this.handleWindowResize(),e.data.length>0&&0===this.props.data.length&&this.hasScrollX()&&this.resetScrollX()},t.prototype.componentWillUnmount=function(){this.resizeEvent&&this.resizeEvent.remove(),this.debouncedWindowResize&&this.debouncedWindowResize.cancel()},t.prototype.onExpandedRowsChange=function(e){this.props.expandedRowKeys||this.setState({expandedRowKeys:e}),this.props.onExpandedRowsChange(e)},t.prototype.getRowKey=function(e,t){var n=this.props.rowKey,r="function"==typeof n?n(e,t):e[n];return(0,m.warningOnce)(void 0!==r,"Each record in table should have a unique `key` prop,or set `rowKey` to an unique primary key."),void 0===r?t:r},t.prototype.getExpandedRows=function(){return this.props.expandedRowKeys||this.state.expandedRowKeys},t.prototype.getHeader=function(e,t){var n=this.props,r=n.showHeader,o=n.expandIconAsCell,a=n.prefixCls,i=this.getHeaderRows(e);o&&"right"!==t&&i[0].unshift({key:"rc-table-expandIconAsCell",className:a+"-expand-icon-th",title:"",rowSpan:i.length});var s=t?this.getHeaderRowStyle(e,i):null;return r?p["default"].createElement(y["default"],{prefixCls:a,rows:i,rowStyle:s}):null},t.prototype.getHeaderRows=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2];return r=r||[],r[n]=r[n]||[],e.forEach(function(e){if(e.rowSpan&&r.length<e.rowSpan)for(;r.length<e.rowSpan;)r.push([]);var o={key:e.key,className:e.className||"",children:e.title};e.children&&t.getHeaderRows(e.children,n+1,r),"colSpan"in e&&(o.colSpan=e.colSpan),"rowSpan"in e&&(o.rowSpan=e.rowSpan),0!==o.colSpan&&r[n].push(o)}),r.filter(function(e){return e.length>0})},t.prototype.getExpandedRow=function(e,t,n,r,o){var a=this.props,i=a.prefixCls,s=a.expandIconAsCell,l=void 0;l="left"===o?this.columnManager.leftLeafColumns().length:"right"===o?this.columnManager.rightLeafColumns().length:this.columnManager.leafColumns().length;var u=[{key:"extra-row",render:function(){return{props:{colSpan:l},children:"right"!==o?t:"&nbsp;"}}}];return s&&"right"!==o&&u.unshift({key:"expand-icon-placeholder",render:function(){return null}}),p["default"].createElement(d["default"],{columns:u,visible:n,className:r,key:e+"-extra-row",prefixCls:i+"-expanded-row",indent:1,expandable:!1,store:this.store})},t.prototype.getRowsByData=function(e,t,n,r,o){for(var a=this.props,i=a.childrenColumnName,s=a.expandedRowRender,l=a.expandRowByClick,c=this.state.fixedColumnsBodyRowsHeight,f=[],h=a.rowClassName,y=a.rowRef,m=a.expandedRowClassName,v=a.data.some(function(e){return e[i]}),g=a.onRowClick,b=a.onRowDoubleClick,C="right"!==o&&a.expandIconAsCell,w="right"!==o?a.expandIconColumnIndex:-1,P=0;P<e.length;P++){var x=e[P],T=this.getRowKey(x,P),S=x[i],O=this.isRowExpanded(x,P),E=void 0;s&&O&&(E=s(x,P,n));var k=h(x,P,n),_={};this.columnManager.isAnyColumnsFixed()&&(_.onHover=this.handleRowHover);var M=o&&c[P]?c[P]:null,N=void 0;N="left"===o?this.columnManager.leftLeafColumns():"right"===o?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),f.push(p["default"].createElement(d["default"],u({indent:n,indentSize:a.indentSize,needIndentSpaced:v,className:k,record:x,expandIconAsCell:C,onDestroy:this.onRowDestroy,index:P,visible:t,expandRowByClick:l,onExpand:this.onExpanded,expandable:S||s,expanded:O,prefixCls:a.prefixCls+"-row",childrenColumnName:i,columns:N,expandIconColumnIndex:w,onRowClick:g,onRowDoubleClick:b,height:M},_,{key:T,hoverKey:T,ref:y(x,P,n),store:this.store})));var D=t&&O;E&&O&&f.push(this.getExpandedRow(T,E,D,m(x,P,n),o)),S&&(f=f.concat(this.getRowsByData(S,D,n+1,r,o)))}return f},t.prototype.getRows=function(e,t){return this.getRowsByData(this.props.data,!0,0,e,t)},t.prototype.getColGroup=function(e,t){var n=[];this.props.expandIconAsCell&&"right"!==t&&n.push(p["default"].createElement("col",{className:this.props.prefixCls+"-expand-icon-col",key:"rc-table-expand-icon-col"}));var r=void 0;return r="left"===t?this.columnManager.leftLeafColumns():"right"===t?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),n=n.concat(r.map(function(e){return p["default"].createElement("col",{key:e.key,style:{width:e.width,minWidth:e.width}})})),p["default"].createElement("colgroup",null,n)},t.prototype.getLeftFixedTable=function(){return this.getTable({columns:this.columnManager.leftColumns(),fixed:"left"})},t.prototype.getRightFixedTable=function(){return this.getTable({columns:this.columnManager.rightColumns(),fixed:"right"})},t.prototype.getTable=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.columns,r=t.fixed,o=this.props,a=o.prefixCls,i=o.scroll,s=void 0===i?{}:i,l=o.getBodyWrapper,c=this.props.useFixedHeader,f=u({},this.props.bodyStyle),d={},h="";(s.x||r)&&(h=a+"-fixed",f.overflowX=f.overflowX||"auto");var y={};if(s.y){r?(y.maxHeight=f.maxHeight||s.y,y.overflowY=f.overflowY||"scroll"):f.maxHeight=f.maxHeight||s.y,f.overflowY=f.overflowY||"scroll",c=!0;var v=(0,m.measureScrollbar)();v>0&&((r?f:d).marginBottom="-"+v+"px",(r?f:d).paddingBottom="0px")}var g=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={};!r&&s.x&&(s.x===!0?i.tableLayout="fixed":i.width=s.x);var u=o?l(p["default"].createElement("tbody",{className:a+"-tbody"},e.getRows(n,r))):null;return p["default"].createElement("table",{className:h,style:i,key:"table"},e.getColGroup(n,r),t?e.getHeader(n,r):null,u)},b=void 0;c&&(b=p["default"].createElement("div",{key:"headTable",className:a+"-header",ref:r?null:"headTable",style:d,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!0,!1)));var C=p["default"].createElement("div",{key:"bodyTable",className:a+"-body",style:f,ref:"bodyTable",onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c));if(r&&n.length){var w=void 0;"left"===n[0].fixed||n[0].fixed===!0?w="fixedColumnsBodyLeft":"right"===n[0].fixed&&(w="fixedColumnsBodyRight"),delete f.overflowX,delete f.overflowY,C=p["default"].createElement("div",{key:"bodyTable",className:a+"-body-outer",style:u({},f)},p["default"].createElement("div",{className:a+"-body-inner",style:y,ref:w,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c)))}return[b,C]},t.prototype.getTitle=function(){var e=this.props,t=e.title,n=e.prefixCls;return t?p["default"].createElement("div",{className:n+"-title",key:"title"},t(this.props.data)):null},t.prototype.getFooter=function(){var e=this.props,t=e.footer,n=e.prefixCls;return t?p["default"].createElement("div",{className:n+"-footer",key:"footer"},t(this.props.data)):null},t.prototype.getEmptyText=function(){var e=this.props,t=e.emptyText,n=e.prefixCls,r=e.data;return r.length?null:p["default"].createElement("div",{className:n+"-placeholder",key:"emptyText"},t())},t.prototype.getHeaderRowStyle=function(e,t){var n=this.state.fixedColumnsHeadRowsHeight,r=n[0];return r&&e?"auto"===r?{height:"auto"}:{height:r/t.length}:null},t.prototype.setScrollPosition=function(e){if(this.scrollPosition=e,this.tableNode){var t=this.props.prefixCls;"both"===e?(0,O["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-left").add(t+"-scroll-position-right"):(0,O["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-"+e)}},t.prototype.setScrollPositionClassName=function(e){var t=e||this.refs.bodyTable,n=0===t.scrollLeft,r=t.scrollLeft+1>=t.children[0].getBoundingClientRect().width-t.getBoundingClientRect().width;n&&r?this.setScrollPosition("both"):n?this.setScrollPosition("left"):r?this.setScrollPosition("right"):"middle"!==this.scrollPosition&&this.setScrollPosition("middle")},t.prototype.resetScrollX=function(){this.refs.headTable&&(this.refs.headTable.scrollLeft=0),this.refs.bodyTable&&(this.refs.bodyTable.scrollLeft=0)},t.prototype.findExpandedRow=function(e,t){var n=this,r=this.getExpandedRows().filter(function(r){return r===n.getRowKey(e,t)});return r[0]},t.prototype.isRowExpanded=function(e,t){return"undefined"!=typeof this.findExpandedRow(e,t)},t.prototype.hasScrollX=function(){var e=this.props.scroll,t=void 0===e?{}:e;return"x"in t},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.prefixCls;t.className&&(r+=" "+t.className),(t.useFixedHeader||t.scroll&&t.scroll.y)&&(r+=" "+n+"-fixed-header"),
r+="both"===this.scrollPosition?" "+n+"-scroll-position-left "+n+"-scroll-position-right":" "+n+"-scroll-position-"+this.scrollPosition;var o=this.columnManager.isAnyColumnsFixed()||t.scroll.x||t.scroll.y,a=[this.getTable({columns:this.columnManager.groupedColumns()}),this.getEmptyText(),this.getFooter()],i=o?p["default"].createElement("div",{className:n+"-scroll"},a):a;return p["default"].createElement("div",{ref:function(t){return e.tableNode=t},className:r,style:t.style},this.getTitle(),p["default"].createElement("div",{className:n+"-content"},i,this.columnManager.isAnyColumnsLeftFixed()&&p["default"].createElement("div",{className:n+"-fixed-left"},this.getLeftFixedTable()),this.columnManager.isAnyColumnsRightFixed()&&p["default"].createElement("div",{className:n+"-fixed-right"},this.getRightFixedTable())))},t}(p["default"].Component);E.propTypes={data:c.PropTypes.array,expandIconAsCell:c.PropTypes.bool,defaultExpandAllRows:c.PropTypes.bool,expandedRowKeys:c.PropTypes.array,defaultExpandedRowKeys:c.PropTypes.array,useFixedHeader:c.PropTypes.bool,columns:c.PropTypes.array,prefixCls:c.PropTypes.string,bodyStyle:c.PropTypes.object,style:c.PropTypes.object,rowKey:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.func]),rowClassName:c.PropTypes.func,expandedRowClassName:c.PropTypes.func,childrenColumnName:c.PropTypes.string,onExpand:c.PropTypes.func,onExpandedRowsChange:c.PropTypes.func,indentSize:c.PropTypes.number,onRowClick:c.PropTypes.func,onRowDoubleClick:c.PropTypes.func,expandIconColumnIndex:c.PropTypes.number,showHeader:c.PropTypes.bool,title:c.PropTypes.func,footer:c.PropTypes.func,emptyText:c.PropTypes.func,scroll:c.PropTypes.object,rowRef:c.PropTypes.func,getBodyWrapper:c.PropTypes.func,children:c.PropTypes.node},E.defaultProps={data:[],useFixedHeader:!1,expandIconAsCell:!1,defaultExpandAllRows:!1,defaultExpandedRowKeys:[],rowKey:"key",rowClassName:function(){return""},expandedRowClassName:function(){return""},onExpand:function(){},onExpandedRowsChange:function(){},onRowClick:function(){},onRowDoubleClick:function(){},prefixCls:"rc-table",bodyStyle:{},style:{},childrenColumnName:"children",indentSize:15,expandIconColumnIndex:0,showHeader:!0,scroll:{},rowRef:function(){return null},getBodyWrapper:function(e){return e},emptyText:function(){return"No Data"}},t["default"]=E,e.exports=t["default"]},139:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(204),p=r(c),f=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props,n=t.record,o=t.column.onCellClick;o&&o(n,e)},o=n,i(r,o)}return s(t,e),t.prototype.isInvalidRenderCellText=function(e){return e&&!u["default"].isValidElement(e)&&"[object Object]"===Object.prototype.toString.call(e)},t.prototype.render=function n(){var e=this.props,t=e.record,r=e.indentSize,o=e.prefixCls,a=e.indent,i=e.index,s=e.expandIcon,l=e.column,c=l.dataIndex,n=l.render,f=l.className,d=void 0===f?"":f,h=void 0;h="number"==typeof c?(0,p["default"])(t,c):c&&0!==c.length?(0,p["default"])(t,c):t;var y=void 0,m=void 0,v=void 0;n&&(h=n(h,t,i),this.isInvalidRenderCellText(h)&&(y=h.props||{},v=y.rowSpan,m=y.colSpan,h=h.children)),this.isInvalidRenderCellText(h)&&(h=null);var g=s?u["default"].createElement("span",{style:{paddingLeft:r*a+"px"},className:o+"-indent indent-level-"+a}):null;return 0===v||0===m?null:u["default"].createElement("td",{colSpan:m,rowSpan:v,className:d,onClick:this.handleClick},g,s,h)},t}(u["default"].Component);f.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,index:l.PropTypes.number,indent:l.PropTypes.number,indentSize:l.PropTypes.number,column:l.PropTypes.object,expandIcon:l.PropTypes.node},t["default"]=f,e.exports=t["default"]},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),c=r(u),p=n(40),f=r(p),d=function(e){function t(){return a(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,f["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.rowStyle,r=e.rows;return c["default"].createElement("thead",{className:t+"-thead"},r.map(function(e,t){return c["default"].createElement("tr",{key:t,style:n},e.map(function(e,t){return c["default"].createElement("th",l({},e,{key:t}))}))}))},t}(c["default"].Component);d.propTypes={prefixCls:u.PropTypes.string,rowStyle:u.PropTypes.object,rows:u.PropTypes.array},t["default"]=d,e.exports=t["default"]},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(139),p=r(c),f=n(137),d=r(f),h=function(e){function t(){var n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.state={hovered:!1},r.onRowClick=function(e){var t=r.props,n=t.record,o=t.index,a=t.onRowClick,i=t.expandable,s=t.expandRowByClick,l=t.expanded,u=t.onExpand;i&&s&&u(!l,n,e,o),a(n,o,e)},r.onRowDoubleClick=function(e){var t=r.props,n=t.record,o=t.index,a=t.onRowDoubleClick;a(n,o,e)},r.onMouseEnter=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!0,n)},r.onMouseLeave=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!1,n)},o=n,i(r,o)}return s(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.store,r=t.hoverKey;this.unsubscribe=n.subscribe(function(){n.getState().currentHoverKey===r?e.setState({hovered:!0}):e.state.hovered===!0&&e.setState({hovered:!1})})},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.record,n=e.onDestroy,r=e.index;n(t,r),this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.columns,r=e.record,o=e.height,a=e.visible,i=e.index,s=e.expandIconColumnIndex,l=e.expandIconAsCell,c=e.expanded,f=e.expandRowByClick,h=e.expandable,y=e.onExpand,m=e.needIndentSpaced,v=e.indent,g=e.indentSize,b=this.props.className;this.state.hovered&&(b+=" "+t+"-hover");for(var C=[],w=u["default"].createElement(d["default"],{expandable:h,prefixCls:t,onExpand:y,needIndentSpaced:m,expanded:c,record:r}),P=0;P<n.length;P++){l&&0===P&&C.push(u["default"].createElement("td",{className:t+"-expand-icon-cell",key:"rc-table-expand-icon-cell"},w));var x=!l&&!f&&P===s;C.push(u["default"].createElement(p["default"],{prefixCls:t,record:r,indentSize:g,indent:v,index:i,column:n[P],key:n[P].key,expandIcon:x?w:null}))}var T={height:o};return a||(T.display="none"),u["default"].createElement("tr",{onClick:this.onRowClick,onDoubleClick:this.onRowDoubleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:t+" "+b+" "+t+"-level-"+v,style:T},C)},t}(u["default"].Component);h.propTypes={onDestroy:l.PropTypes.func,onRowClick:l.PropTypes.func,onRowDoubleClick:l.PropTypes.func,record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandIconColumnIndex:l.PropTypes.number,onHover:l.PropTypes.func,columns:l.PropTypes.array,height:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),visible:l.PropTypes.bool,index:l.PropTypes.number,hoverKey:l.PropTypes.any,expanded:l.PropTypes.bool,expandable:l.PropTypes.any,onExpand:l.PropTypes.func,needIndentSpaced:l.PropTypes.bool,className:l.PropTypes.string,indent:l.PropTypes.number,indentSize:l.PropTypes.number,expandIconAsCell:l.PropTypes.bool,expandRowByClick:l.PropTypes.bool,store:l.PropTypes.object.isRequired},h.defaultProps={onRowClick:function(){},onRowDoubleClick:function(){},onDestroy:function(){},expandIconColumnIndex:0,expandRowByClick:!1,onHover:function(){}},t["default"]=h,e.exports=t["default"]},142:function(e,t){"use strict";function n(e){function t(e){a=r({},a,e);for(var t=0;t<i.length;t++)i[t]()}function n(){return a}function o(e){return i.push(e),function(){var t=i.indexOf(e);i.splice(t,1)}}var a=e,i=[];return{setState:t,getState:n,subscribe:o}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){if("undefined"==typeof document||"undefined"==typeof window)return 0;if(u)return u;var e=document.createElement("div");for(var t in c)c.hasOwnProperty(t)&&(e.style[t]=c[t]);document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),u=n}function a(e,t,n){function r(){var r=this,a=arguments;a[0]&&a[0].persist&&a[0].persist();var i=function(){o=null,n||e.apply(r,a)},s=n&&!o;clearTimeout(o),o=setTimeout(i,t),s&&e.apply(r,a)}var o=void 0;return r.cancel=function(){o&&(clearTimeout(o),o=null)},r}function i(e,t,n){p[t]||((0,l["default"])(e,t,n),p[t]=!e)}Object.defineProperty(t,"__esModule",{value:!0}),t.measureScrollbar=o,t.debounce=a,t.warningOnce=i;var s=n(81),l=r(s),u=void 0,c={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"},p={}},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=[];return i["default"].Children.forEach(e,function(e){t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(1),i=r(a);e.exports=t["default"]},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};n.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},n.isCharacterKey=function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(window.navigation.userAgent.indexOf("WebKit")!==-1&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},t["default"]=n,e.exports=t["default"]},148:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(88),a=r(o),i=n(190),s=r(i),l=n(8),u=r(l);a["default"].info=function(e){var t=(0,u["default"])({},{type:"info",iconType:"info-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].success=function(e){var t=(0,u["default"])({},{type:"success",iconType:"check-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].error=function(e){var t=(0,u["default"])({},{type:"error",iconType:"cross-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].warning=a["default"].warn=function(e){var t=(0,u["default"])({},{type:"warning",iconType:"exclamation-circle",okCancel:!1},e);return(0,s["default"])(t)},a["default"].confirm=function(e){var t=(0,u["default"])({},{type:"confirm",okCancel:!0},e);return(0,s["default"])(t)},t["default"]=a["default"],e.exports=t["default"]},149:[1218,201],153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(26),n(20)),a=r(o),i=(n(23),n(11)),s=r(i),l=(n(25),n(147)),u=r(l),c=(n(35),n(27)),p=r(c),f=n(2),d=r(f),h=n(3),y=r(h),m=n(5),v=r(m),g=n(4),b=r(g),C=n(1),w=r(C),P=n(9),x=r(P),T=n(159),S=r(T),O=function(e){function t(n){(0,y["default"])(this,t);var r=(0,v["default"])(this,e.call(this,n));r.handleSearch=function(){var e={keyword:x["default"].findDOMNode(r.refs.searchInput).value};r.props.select&&(e.field=r.state.selectValue),r.props.onSearch&&r.props.onSearch(e)},r.handleInputChange=function(e){r.setState((0,d["default"])({},r.state,{clearVisible:""!==e.target.value}))},r.handeleSelectChange=function(e){r.setState((0,d["default"])({},r.state,{selectValue:e}))},r.handleClearInput=function(){x["default"].findDOMNode(r.refs.searchInput).value="",r.setState({clearVisible:!1}),r.handleSearch()};var o=r.props,a=o.select,i=o.selectProps;return r.state={clearVisible:!1,selectValue:a&&i?i.defaultValue:""},r}return(0,b["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.select,r=e.selectOptions,o=e.selectProps,i=e.style,l=e.keyword,c=this.state.clearVisible;return w["default"].createElement(u["default"].Group,{compact:!0,size:t,className:S["default"].search,style:i},n&&w["default"].createElement(p["default"],(0,d["default"])({ref:"searchSelect",onChange:this.handeleSelectChange,size:t},o),r&&r.map(function(e,t){return w["default"].createElement(p["default"].Option,{value:e.value,key:t},e.name||e.value)})),w["default"].createElement(u["default"],{ref:"searchInput",size:t,onChange:this.handleInputChange,onPressEnter:this.handleSearch,defaultValue:l}),w["default"].createElement(a["default"],{size:t,type:"primary",onClick:this.handleSearch},w["default"].createElement(s["default"],{type:"search"}),"\u641c\u7d22"),c&&w["default"].createElement(s["default"],{type:"cross",onClick:this.handleClearInput}))},t}(w["default"].Component);t["default"]=O,e.exports=t["default"]},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(165),s=n(160),l=(r(s),[{opacity:0,x:30,backgroundColor:"#fffeee",duration:0},{height:0,duration:200,type:"from",delay:250,ease:"easeOutQuad",onComplete:function(e){e.target.style.height="auto"}},{opacity:1,x:0,duration:250,ease:"easeOutQuad"},{delay:1e3,backgroundColor:"#fff"}]),u=[{duration:250,x:-30,opacity:0},{height:0,duration:200,ease:"easeOutQuad"}],c=function(e){var t=e.body,n=e.page,r=void 0===n?1:n,o=e.current;return o!=+r?t:a["default"].createElement(i.TweenOneGroup,{component:"tbody",className:t.props.className,enter:l,leave:u,appear:!1},t.props.children)};c.propTypes={page:o.PropTypes.any,current:o.PropTypes.number.isRequired},t["default"]=c,e.exports=t["default"]},158:function(e,t,n){"use strict";function r(){this.clear()}/*!
	 * Check to see if the MemoizeMap has recorded a result of the two operands
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @returns {Boolean|null} result
	*/
function o(e,t,n){if(!n||C(e)||C(t))return null;var r=n.get(e);if(r){var o=r.get(t);if("boolean"==typeof o)return o}return null}/*!
	 * Set the result of the equality into the MemoizeMap
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @param {Boolean} result
	*/
function a(e,t,n,r){if(n&&!C(e)&&!C(t)){var o=n.get(e);o?o.set(t,r):(o=new P,o.set(t,r),n.set(e,o))}}function i(e,t,n){if(n&&n.comparator)return l(e,t,n);var r=s(e,t);return null!==r?r:l(e,t,n)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t||!C(e)&&!C(t)&&null}/*!
	 * The main logic of the `deepEqual` function.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (optional) Additional options
	 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
	 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
	    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
	    references to blow the stack.
	 * @return {Boolean} equal match
	*/
function l(e,t,n){n=n||{},n.memoize=n.memoize!==!1&&(n.memoize||new P);var r=n&&n.comparator,i=o(e,t,n.memoize);if(null!==i)return i;var l=o(t,e,n.memoize);if(null!==l)return l;if(r){var c=r(e,t);if(c===!1||c===!0)return a(e,t,n.memoize,c),c;var p=s(e,t);if(null!==p)return p}var f=w(e);if(f!==w(t))return a(e,t,n.memoize,!1),!1;a(e,t,n.memoize,!0);var d=u(e,t,f,n);return a(e,t,n.memoize,d),d}function u(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return i(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return f(e,t,r);case"RegExp":return c(e,t);case"Generator":return d(e,t,r);case"DataView":return f(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return f(new Uint8Array(e),new Uint8Array(t),r);case"Set":return p(e,t,r);case"Map":return p(e,t,r);default:return b(e,t,r)}}/*!
	 * Compare two Regular Expressions for equality.
	 *
	 * @param {RegExp} leftHandOperand
	 * @param {RegExp} rightHandOperand
	 * @return {Boolean} result
	 */
function c(e,t){return e.toString()===t.toString()}/*!
	 * Compare two Sets/Maps for equality. Faster than other equality functions.
	 *
	 * @param {Set} leftHandOperand
	 * @param {Set} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function p(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var r=[],o=[];return e.forEach(function(e,t){r.push([e,t])}),t.forEach(function(e,t){o.push([e,t])}),f(r.sort(),o.sort(),n)}/*!
	 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function f(e,t,n){var r=e.length;if(r!==t.length)return!1;if(0===r)return!0;for(var o=-1;++o<r;)if(i(e[o],t[o],n)===!1)return!1;return!0}/*!
	 * Simple equality for generator objects such as those returned by generator functions.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function d(e,t,n){return f(m(e),m(t),n)}/*!
	 * Determine if the given object has an @@iterator function.
	 *
	 * @param {Object} target
	 * @return {Boolean} `true` if the object has an @@iterator function.
	 */
function h(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&"undefined"!=typeof Symbol.iterator&&"function"==typeof e[Symbol.iterator]}/*!
	 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
	 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of entries from the @@iterator function
	 */
function y(e){if(h(e))try{return m(e[Symbol.iterator]())}catch(t){return[]}return[]}/*!
	 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
	 *
	 * @param {Generator} target
	 * @returns {Array} an array of entries from the Generator.
	 */
function m(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
	 * Gets all own and inherited enumerable keys from a target.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of own and inherited enumerable keys from the target.
	 */
function v(e){var t=[];for(var n in e)t.push(n);return t}/*!
	 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
	 * each key. If any value of the given key is not equal, the function will return false (early).
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function g(e,t,n,r){var o=n.length;if(0===o)return!0;for(var a=0;a<o;a+=1)if(i(e[n[a]],t[n[a]],r)===!1)return!1;return!0}/*!
	 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
	 * for each enumerable key in the object.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function b(e,t,n){var r=v(e),o=v(t);if(r.length&&r.length===o.length)return r.sort(),o.sort(),f(r,o)!==!1&&g(e,t,r,n);var a=y(e),i=y(t);return a.length&&a.length===i.length?(a.sort(),i.sort(),f(a,i,n)):0===r.length&&0===a.length&&0===o.length&&0===i.length}/*!
	 * Returns true if the argument is a primitive.
	 *
	 * This intentionally returns true for all objects that can be compared by reference,
	 * including functions and symbols.
	 *
	 * @param {Mixed} value
	 * @return {Boolean} result
	 */
function C(e){return null===e||"object"!=typeof e}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var w=n(173);r.prototype={clear:function(){return this.keys=[],this.values=[],this},set:function(e,t){var n=this.keys.indexOf(e);return n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},get:function(e){return this.values[this.keys.indexOf(e)]},"delete":function(e){var t=this.keys.indexOf(e);return t>=0&&(this.values=this.values.slice(0,t).concat(this.values.slice(t+1)),this.keys=this.keys.slice(0,t).concat(this.keys.slice(t+1))),this}};var P=null;P="function"==typeof WeakMap?WeakMap:r,/*!
	 * Primary Export
	 */
e.exports=i,e.exports.MemoizeMap=P},159:function(e,t){e.exports={search:"search___p04KN"}},160:10,163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){return{duration:e.duration||0===e.duration?e.duration:m,delay:e.delay||v,ease:"function"==typeof e.ease?e.ease:l["default"][e.ease||y],onUpdate:e.onUpdate||o,onComplete:e.onComplete||o,onStart:e.onStart||o,onRepeat:e.onRepeat||o,repeat:e.repeat||0,repeatDelay:e.repeatDelay||0,yoyo:e.yoyo||!1,type:e.type||"to",initTime:t,appearTo:"number"==typeof e.appearTo?e.appearTo:null}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(66),l=r(s),u=n(39),c=r(u),p=n(166),f=r(p),d=n(41),h=n(22),y="easeInOutQuad",m=450,v=0;c["default"].push(f["default"]);var g=function(e,t,n){var r=this;this.target=e,this.attr=n.attr||"style",this.willChange=n.willChange,this.totalTime=0,this.progressTime=0,this.defaultData=[],this.start={},this.onStart={},this.startDefaultData={};var o=[];t.forEach(function(e,t){var n=i({},e);"style"===r.attr?(o[t]={},Object.keys(n).forEach(function(e){e in a({},0)&&(o[t][e]=n[e],delete n[e])}),o[t].style=n,r.startDefaultData.style=r.target.getAttribute("style")):"attr"===r.attr&&(Object.keys(n).forEach(function(t){if("style"===t&&Array.isArray(e[t]))throw new Error("Style should be the object.");"bezier"===t?(n.style=i({},n.style,{bezier:n[t]}),delete n[t],r.startDefaultData.style=r.target.getAttribute("style")):r.startDefaultData[t]=r.target.getAttribute(t)}),o[t]=n)}),this.tween={},this.perFrame=Math.round(1e3/60),this.register=!1,this.tinyNum=1e-10,this.setDefaultData(o)},b=g.prototype;b.setDefaultData=function(e){var t=this,n=0,r=!1,o=e.map(function(e){var o="number"==typeof e.appearTo;o||(n+=e.delay||0);var i=(e.appearTo||0)+(e.delay||0),s=a(e,o?i:n);s.vars={},Object.keys(e).forEach(function(n){if(!(n in s)){var r=e[n];if(n in c["default"])s.vars[n]=new c["default"][n](t.target,r,s.type);else if(n.match(/color/i)||"stroke"===n||"fill"===n)s.vars[n]={type:"color",vars:(0,d.parseColor)(r)};else if("number"==typeof r||r.split(/[,|\s]/g).length<=1){var o=parseFloat(r),a=r.toString().replace(/[^a-z|%]/g,""),i=r.toString().replace(/[^+|=|-]/g,"");s.vars[n]={unit:a,vars:o,count:i}}else("d"===n||"points"===n)&&"SVGMorph"in c["default"]&&(s.vars[n]=new c["default"].SVGMorph(t.target,r,n))}}),s.yoyo&&!s.repeat&&console.warn("Warning: yoyo must be used together with repeat;"),s.repeat===-1&&(r=!0);var l=s.repeat===-1?0:s.repeat;if(o){var u=e.appearTo+(e.delay||0)+s.duration*(l+1)+s.repeatDelay*l;n=u>=n?u:n}else s.delay<-s.duration?n-=s.delay:n+=s.duration*(l+1)+s.repeatDelay*l;return s.mode="",s});this.totalTime=r?Number.MAX_VALUE:n,this.defaultData=o},b.getAnimStartData=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){if(r in c["default"]||"attr"===t.attr&&("d"===r||"points"===r))return void(n[r]=e[r].getAnimStart(t.willChange));if("attr"!==t.attr)n[r]=t.target[r]||0;else{var o=t.target.getAttribute(r),a="null"!==o&&o?o:0;if(r.match(/color/i)||"stroke"===r||"fill"===r)a=a||"stroke"!==r?a:"rgba(255, 255, 255, 0)",a=(0,d.parseColor)(a),n[r]=a;else if(parseFloat(a)||0===parseFloat(a)||0===a){var i=a.toString().replace(/[^a-z|%]/g,"");n[r]=i!==e[r].unit?(0,h.startConvertToEndUnit)(t.target,r,parseFloat(a),i,e[r].unit):parseFloat(a)}}}),n},b.setAnimData=function(e){var t=this;Object.keys(e).forEach(function(n){n in c["default"]||"attr"===t.attr&&("d"===n||"points"===n)||(t.target[n]=e[n])})},b.setRatio=function(e,t,n){var r=this;Object.keys(t.vars).forEach(function(o){if(o in c["default"]||"attr"===r.attr&&("d"===o||"points"===o))return void t.vars[o].setRatio(e,r.tween);var a=t.vars[o],i=r.start[n][o],s=void 0;"attr"===r.attr&&(a.type?"color"===a.type&&(3===a.vars.length&&4===i.length&&(a.vars[3]=1),s=a.vars.map(function(t,n){var r=i[n]||0;return(t-r)*e+r}),r.target.setAttribute(o,(0,d.getColor)(s))):(s="="===a.unit.charAt(1)?i+a.vars*e+a.unit:(a.vars-i)*e+i+a.unit,r.target.setAttribute(o,s)))}),this.setAnimData(this.tween)},b.render=function(){var e=this;this.defaultData.forEach(function(t,n){var r=t.initTime,o=(0,d.toFixed)(t.duration),a=Math.ceil((e.progressTime-r)/(o+t.repeatDelay))-1;if(a=a<0?0:a,t.repeat){if(t.repeat<a&&t.repeat!==-1)return;(t.repeat||t.repeat<=a)&&(r+=a*(o+t.repeatDelay))}var s=t.yoyo&&a%2||"from"===t.type?1:0,l=t.yoyo&&a%2||"from"===t.type?0:1,u=(0,d.toFixed)(e.progressTime-r),c=t.delay>=0?t.delay:-t.delay,p="from"===t.type?c:0;if(u+p>-e.perFrame&&!e.start[n]&&(e.start[n]=e.getAnimStartData(t.vars),!e.register&&u<=e.perFrame)){e.register=!0;var f=c?0:t.ease(e.tinyNum,s,l,e.tinyNum),h=o?t.ease(u<0?0:u,s,l,o):f,y=u/(o+p)>1?1:h;e.setRatio(y,t,n)}var m={index:n,target:e.target};if(t.repeat&&a>0&&u+p>=0&&u<e.perFrame&&t.onRepeat(m),u<0&&u+p>-e.perFrame)e.setRatio("from"===t.type?1:0,t,n);else if(u>=o&&"onComplete"!==t.mode){var v=o?t.ease(o,s,l,o):t.ease(e.tinyNum,s,l,e.tinyNum);e.setRatio(v,t,n),"reset"!==t.mode&&t.onComplete(m),t.mode="onComplete"}else if(u>=0&&u<o){t.mode=u<e.perFrame&&!e.onStart[n]?"onStart":"onUpdate",u=u<0?0:u,u=u>o?o:u;var g=t.ease(u,s,l,o);e.setRatio(g,t,n),e.onStart[n]=!0,u<=e.perFrame?t.onStart(m):t.onUpdate(i({ratio:g},m))}u>=0&&u<o+e.perFrame&&e.onChange(i({moment:e.progressTime,mode:t.mode},m))})},b.frame=function(e){this.progressTime=e,this.render()},b.resetAnimData=function(){this.tween={},this.start={},this.onStart={}},b.resetDefaultStyle=function(){var e=this;this.tween={},this.defaultData=this.defaultData.map(function(e){return e.mode="reset",e}),Object.keys(this.startDefaultData).forEach(function(t){t in a({},0)||e.target.setAttribute(t,e.startDefaultData[t])})},b.onChange=o,t["default"]=g,e.exports=t["default"]},164:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):o(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(65),d=r(f),h=n(22),y=function(e){function t(){a(this,t);var n=i(this,e.apply(this,arguments));m.call(n),n.keysToEnter=[],n.keysToLeave=[],n.onEnterBool=!1,n.isTween={};var r=(0,h.toArrayChildren)((0,h.getChildrenFromProps)(n.props));return n.state={children:r},n}return s(t,e),t.prototype.componentDidMount=function(){this.onEnterBool=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=(0,h.toArrayChildren)(e.children),r=(0,h.toArrayChildren)(this.state.children),o=(0,h.mergeChildren)(r,n);this.keysToEnter=[],this.keysToLeave=[],n.forEach(function(e){if(e){var n=e.key,o=(0,h.findChildInChildrenByKey)(r,n);!o&&n&&t.keysToEnter.push(n)}}),r.forEach(function(e){if(e){var r=e.key,o=(0,h.findChildInChildrenByKey)(n,r);!o&&r&&t.keysToLeave.push(r)}}),this.setState({children:o})},t.prototype.render=function(){var e=this.getChildrenToRender(this.state.children);if(!this.props.component)return e[0]||null;var t=u({},this.props);return["component","appear","enter","leave","animatingClassName","onEnd","resetStyleBool","willChange"].forEach(function(e){return delete t[e]}),(0,c.createElement)(this.props.component,t,e)},t}(c.Component),m=function(){var e=this;this.onChange=function(t,n,r,o){var a=(0,h.dataToArray)(t).length,i=e.props.animatingClassName,s=o.target,l="enter"===r||"appear"===r;if("onStart"===o.mode)s.className=s.className.replace(i[l?1:0],"").trim(),s.className.indexOf(i[l?0:1])===-1&&(s.className=(s.className+" "+i[l?0:1]).trim());else if(o.index===a-1&&"onComplete"===o.mode){var u=e.state.children;"enter"===r?e.keysToEnter.splice(e.keysToEnter.indexOf(n),1):"leave"===r&&(u=e.state.children.filter(function(e){return n!==e.key}),e.keysToLeave.splice(e.keysToLeave.indexOf(n),1)),s.className=s.className.replace(i[l?0:1],"").trim(),delete e.isTween[n],e.setState({children:u});var c={key:n,type:r};e.props.onEnd(c)}},this.getCoverAnimation=function(t,n,r){var o=void 0,a=void 0;if(o="leave"===r?e.props.leave:e.props.enter,"appear"===r){var i=(0,h.transformArguments)(e.props.appear,t.key,n);o=i&&e.props.enter||null}a=e.onChange.bind(e,o,t.key,r);var s=p["default"].createElement(d["default"],u({},t.props,{willChange:e.props.willChange,key:t.key,component:t.type,animation:(0,h.transformArguments)(o,t.key,n),onChange:a,resetStyleBool:e.props.resetStyleBool}));return(e.keysToEnter.concat(e.keysToLeave).indexOf(t.key)>=0||!e.onEnterBool&&o)&&(e.isTween[t.key]=r),s},this.getChildrenToRender=function(t){return t.map(function(t,n){if(!t||!t.key)return t;var r=t.key;return e.keysToLeave.indexOf(r)>=0?e.getCoverAnimation(t,n,"leave"):e.keysToEnter.indexOf(r)>=0||e.isTween[t.key]&&e.keysToLeave.indexOf(r)===-1?e.getCoverAnimation(t,n,"enter"):e.onEnterBool?e.isTween[t.key]&&e.getCoverAnimation(t,n,e.isTween[t.key])||p["default"].createElement(d["default"],u({},t.props,{component:t.type,key:t.key})):e.getCoverAnimation(t,n,"appear")})}},v=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]),g=c.PropTypes.oneOfType([v,c.PropTypes.func]);y.propTypes={component:c.PropTypes.any,children:c.PropTypes.any,style:c.PropTypes.object,appear:c.PropTypes.bool,enter:g,leave:g,animatingClassName:c.PropTypes.array,onEnd:c.PropTypes.func,willChange:c.PropTypes.bool,resetStyleBool:c.PropTypes.bool},y.defaultProps={component:"div",appear:!0,animatingClassName:["tween-one-entering","tween-one-leaving"],enter:{x:50,opacity:0,type:"from"},leave:{x:-50,opacity:0},onEnd:l,willChange:!0,resetStyleBool:!0},t["default"]=y,e.exports=t["default"]},165:function(e,t,n){"use strict";var r=n(65);r.TweenOneGroup=n(164),r.easing=n(66),e.exports=r},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(41),i=r(a),s=n(22),l=n(39),u=r(l),c=function(e,t,n){this.target=e,this.vars=t,this.type=n,this.propsData={},this.setDefaultData()},p=c.prototype={name:"style"};p.getComputedStyle=function(){return document.defaultView?document.defaultView.getComputedStyle(this.target):{}},p.getTweenData=function(e,t){var n={data:{},dataType:{},dataUnit:{},dataCount:{},dataSplitStr:{}};if(e.match(/colo|fill|storker/i)?(n.data[e]=(0,a.parseColor)(t),n.dataType[e]="color"):e.match(/shadow/i)?(n.data[e]=(0,a.parseShadow)(t),n.dataType[e]="shadow"):"string"==typeof t&&t.split(/[\s|,]/).length>1?(n.data[e]=t.split(/[\s|,]/),n.dataSplitStr[e]=t.replace(/[^\s|,]/g,""),n.dataType[e]="string"):(n.data[e]=t,n.dataType[e]="other"),Array.isArray(n.data[e]))n.dataUnit[e]=n.data[e].map(function(e){return e.toString().replace(/[^a-z|%]/g,"")}),n.dataCount[e]=n.data[e].map(function(e){return e.toString().replace(/[^+|=|-]/g,"")}),n.data[e]=n.data[e].map(function(e){return parseFloat(e)||0===parseFloat(e)?parseFloat(e):e});else{n.dataUnit[e]=n.data[e].toString().replace(/[^a-z|%]/g,""),n.dataCount[e]=n.data[e].toString().replace(/[^+|=|-]/g,"");var r=parseFloat(n.data[e].toString().replace(/[a-z|%|=]/g,""));n.data[e]=r||0===r?r:n.data[e]}return n},p.setDefaultData=function(){var e=this;this.propsData.data={},this.propsData.dataType={},this.propsData.dataUnit={},this.propsData.dataCount={},this.propsData.dataSplitStr={},Object.keys(this.vars).forEach(function(t){if(t in u["default"])return void(e.propsData.data[t]=new u["default"][t](e.target,e.vars[t]));var n=(0,a.getGsapType)(t),r=e.getTweenData(n,e.vars[t]);e.propsData.data[n]=r.data[n],e.propsData.dataType[n]=r.dataType[n],e.propsData.dataUnit[n]=r.dataUnit[n],e.propsData.dataCount[n]=r.dataCount[n],r.dataSplitStr[n]&&(e.propsData.dataSplitStr[n]=r.dataSplitStr[n])})},p.convertToMarksArray=function(e,t,n,r){var o=n.toString().replace(/[^a-z|%]/g,""),a=e[r];return o===a?parseFloat(n):parseFloat(n)||0===parseFloat(n)?(0,s.startConvertToEndUnit)(this.target,t,n,o,a,null,"transformOrigin"===t&&!r):n},p.getAnimStart=function(e){var t=this,n=this.getComputedStyle(),r={};this.supports3D=(0,a.checkStyleName)("perspective");var i=void 0;return e&&(this.willChange="auto"!==n.willChange&&n.willChange&&"none"!==n.willChange?n.willChange:"",i=this.willChange.split(",").filter(function(e){return e})),Object.keys(this.propsData.data).forEach(function(l){var c=(0,a.isConvert)(l);if(e){var p=l in u["default"]?t.propsData.data[l].useStyle||c:c;p="transformOrigin"===p?"transform-origin":p,i.indexOf(p)===-1&&(p in n||l in u["default"])&&i.push(p),t.willChange=i.join(",")}var f=n[c],d="fixed"===n.position;f&&"none"!==f&&"auto"!==f||(f="");var h=void 0,y=void 0,m=void 0;if(l in u["default"])"bezier"===l&&(t.transform=(0,a.checkStyleName)("transform"),f=n[t.transform],r.transform=r.transform||(0,a.getTransform)(f)),t.propsData.data[l].getAnimStart();else if("transform"===c){if(t.transform=(0,a.checkStyleName)("transform"),f=n[t.transform],y=t.propsData.dataUnit[l],h=r.transform||(0,a.getTransform)(f),y&&y.match(/%|vw|vh|em|rem/i)){var v="translateX"===l?"xPercent":"yPercent";h[v]=(0,s.startConvertToEndUnit)(t.target,l,h[l],null,y),h[l]=0}r.transform=h}else"filter"===c?(t.filterName=(0,a.checkStyleName)("filter")||"filter",f=n[t.filterName],t.filterObject=o({},t.filterObject,(0,a.splitFilterToObject)(f)),f=t.filterObject[l]||0,m=f.toString().replace(/[^a-z|%]/g,""),y=t.propsData.dataUnit[l],y!==m&&(f=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(f),m,y,d)),r[l]=parseFloat(f)):l.match(/color|fill/i)||"stroke"===l?(f=f||"stroke"!==l?f:"rgba(255, 255, 255, 0)",r[c]=(0,a.parseColor)(f)):l.match(/shadow/i)?(f=(0,a.parseShadow)(f),y=t.propsData.dataUnit[l],f=f.map(t.convertToMarksArray.bind(t,y,l)),r[c]=f):Array.isArray(t.propsData.data[l])?(f=f.split(/[\s|,]/),y=t.propsData.dataUnit[l],f=f.map(t.convertToMarksArray.bind(t,y,l)),r[c]=f):(y=t.propsData.dataUnit[c],m=f.toString().replace(/[^a-z|%]/g,""),y!==m&&(f=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(f),m,y,d)),r[c]=parseFloat(f||0))}),this.start=r,r},p.setArrayRatio=function(e,t,n,r,o){"color"===o&&4===t.length&&3===n.length&&(n[3]=1);var i=t.indexOf("inset")>=0,s=n.indexOf("inset")>=0;if(i&&!s||s&&!i)throw console.error('Error: "box-shadow" inset have to exist');var l=s?9:8;t.length===l&&n.length===l-1?(n.splice(3,0,0),r.splice(3,0,"")):n.length===l&&t.length===l-1&&t.splice(3,0,0);var u=n.map(function(n,a){var i="color"!==o||3!==a||t[a]?0:1,s="number"==typeof t[a]?t[a]:i;return"string"==typeof n?n:(n-s)*e+s+(r[a]||0)});if("color"===o)return(0,a.getColor)(u);if("shadow"===o){var c=u.length===l?4:3,p=u.slice(0,c).map(function(e){return"number"==typeof e?e+"px":e}),f=u.slice(c,s?u.length-1:u.length),d=(0,a.getColor)(f);return(p.join(" ")+" "+d+" "+(s?"inset":"")).trim()}return u},p.setRatio=function(e,t){var n=this;t.style=t.style||{},this.start.transform&&(t.style.transform=t.style.transform||o({},this.start.transform));var r=this.target.style;this.willChange&&(e===("from"===this.type?0:1)?r.willChange=null:r.willChange=this.willChange),Object.keys(this.propsData.data).forEach(function(o){var l="transform"===(0,a.isTransform)(o),c=l?n.start.transform[o]:n.start[o],p=n.propsData.data[o],f=n.propsData.dataUnit[o],d=n.propsData.dataCount[o];if(o in u["default"])return n.propsData.data[o].setRatio(e,t),void("bezier"===o?r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D):Object.keys(t.style).forEach(function(e){return r[e]=t.style[e]}));if(l){if(f&&f.match(/%|vw|vh|em|rem/i)){var h="translateX"===o?"xPercent":"yPercent";c=n.start.transform[h],"="===d.charAt(1)?t.style.transform[h]=c+p*e+f:t.style.transform[h]=(p-c)*e+c+f}else if("scale"===o){var y=n.start.transform.scaleX,m=n.start.transform.scaleY;"="===d.charAt(1)?(t.style.transform.scaleX=y+p*e,t.style.transform.scaleY=m+p*e):(t.style.transform.scaleX=(p-y)*e+y,t.style.transform.scaleY=(p-m)*e+m)}return"="===d.charAt(1)?t.style.transform[o]=c+p*e:t.style.transform[o]=(p-c)*e+c,void(r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D))}if(Array.isArray(p)){var v=n.propsData.dataType[o];t.style[o]=n.setArrayRatio(e,c,p,f,v),"string"===v&&(t.style[o]=t.style[o].join(n.propsData.dataSplitStr[o]))}else{var g=(0,a.stylesToCss)(o,0);g="number"==typeof g?"":g.replace(/[^a-z|%]/g,""),f=f||(i["default"].filter.indexOf(o)>=0?"":g),"string"==typeof p?t.style[o]=p:"="===d.charAt(1)?t.style[o]=c+p*e+f:t.style[o]=(p-c)*e+c+f}if(i["default"].filter.indexOf(o)>=0){if(!n.filterObject)return;n.filterObject[o]=t.style[o];var b="";return Object.keys(n.filterObject).forEach(function(e){b+=" "+e+"("+n.filterObject[e]+")"}),void(r[n.filterName]=b.trim())}r[o]=t.style[o]})},t["default"]=c,e.exports=t["default"]},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(76),a=r(o),i=function(){},s=i.prototype={tickFnObject:{},id:-1,tweenId:0,frame:0,perFrame:Math.round(1e3/60),getTime:Date.now||function(){return(new Date).getTime()},elapsed:0,lastUpdate:0,skipFrameMax:166};s.add=function(e){var t="tweenOne"+this.tweenId;return this.tweenId++,this.wake(t,e),t},s.wake=function(e,t){this.tickFnObject[e]=t,this.id===-1&&(this.id=(0,a["default"])(this.tick))},s.clear=function(e){delete this.tickFnObject[e]},s.sleep=function(){a["default"].cancel(this.id),this.id=-1,this.frame=0};var l=new i;s.tick=function(e){l.elapsed=l.lastUpdate?l.getTime()-l.lastUpdate:0,l.lastUpdate=l.lastUpdate?l.lastUpdate+l.elapsed:l.getTime()+l.elapsed;var t=l.tickFnObject;return Object.keys(t).forEach(function(n){t[n]&&t[n](e)}),Object.keys(t).length?(l.elapsed>l.skipFrameMax||!l.frame?l.frame++:l.frame+=Math.round(l.elapsed/l.perFrame),void(l.id=(0,a["default"])(l.tick))):void l.sleep()};var u=0;s.timeout=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function");var r="timeout"+Date.now()+"-"+u,o=this.frame;return this.wake(r,function(){var a=(n.frame-o)*n.perFrame;a>=(t||0)&&(n.clear(r),e())}),u++,r};var c=0;s.interval=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function"),null;var r="interval"+Date.now()+"-"+c,o=this.frame;return this.wake(r,function(){var r=(n.frame-o)*n.perFrame;r>=(t||0)&&(o=n.frame,e())}),c++,r},t["default"]=l,e.exports=t["default"]},172:function(e,t){"use strict";var n={linear:function(e,t,n,r){var o=n-t;return o*e/r+t},easeInQuad:function(e,t,n,r){var o=n-t;return o*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var o=n-t;return-o*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var o=n-t;return o*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var o=n-t;return-o*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e+t:-o/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var o=n-t;return o*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var o=n-t;return o*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e*e*e+t:o/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var o=n-t;return-o*Math.cos(e/r*(Math.PI/2))+o+t},easeOutSine:function(e,t,n,r){var o=n-t;return o*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var o=n-t;return-o/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var o=n-t;return 0==e?t:o*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var o=n-t;return e==r?t+o:o*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var o=n-t;return 0===e?t:e===r?t+o:(e/=r/2)<1?o/2*Math.pow(2,10*(e-1))+t:o/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var o=n-t;return-o*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var o=n-t;return o*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var o=n-t;return(e/=r/2)<1?-o/2*(Math.sqrt(1-e*e)-1)+t:o/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:1===(e/=r)?t+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a))+t)},easeOutElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:1===(e/=r)?t+s:(a||(a=.3*r),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/a)+s+t)},easeInOutElastic:function(e,t,n,r){var o,a,i,s=n-t;return i=1.70158,a=0,o=s,0===e?t:2===(e/=r/2)?t+s:(a||(a=r*(.3*1.5)),o<Math.abs(s)?(o=s,i=a/4):i=a/(2*Math.PI)*Math.asin(s/o),e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/a)*.5+s+t)},easeInBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),a*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),a*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){var a=n-t;return void 0===o&&(o=1.70158),(e/=r/2)<1?a/2*(e*e*(((o*=1.525)+1)*e-o))+t:a/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t},easeInBounce:function(e,t,r,o){var a,i=r-t;return a=n.easeOutBounce(o-e,0,i,o),i-a+t},easeOutBounce:function(e,t,n,r){var o=n-t;return(e/=r)<1/2.75?o*(7.5625*e*e)+t:e<2/2.75?o*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?o*(7.5625*(e-=2.25/2.75)*e+.9375)+t:o*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,r,o){var a,i=r-t;return e<o/2?(a=n.easeInBounce(2*e,0,i,o),.5*a+t):(a=n.easeOutBounce(2*e-o,0,i,o),.5*a+.5*i+t)}};e.exports=n},173:function(e,t){(function(t){"use strict";var n="function"==typeof Object.getPrototypeOf,r="function"==typeof Promise,o="undefined"!=typeof window?window:"undefined"!=typeof t?t:self,a="location"in o&&"document"in o,i="undefined"!=typeof HTMLElement,s="function"==typeof Array.isArray,l="undefined"!=typeof Symbol,u="undefined"!=typeof Map,c="undefined"!=typeof Set,p="undefined"!=typeof WeakMap,f="undefined"!=typeof WeakSet,d="undefined"!=typeof DataView,h=l&&"undefined"!=typeof Symbol.iterator,y=l&&"undefined"!=typeof Symbol.toStringTag,m=c&&"function"==typeof Set.prototype.entries,v=u&&"function"==typeof Map.prototype.entries,g=n&&m&&Object.getPrototypeOf((new Set).entries()),b=n&&v&&Object.getPrototypeOf((new Map).entries()),C=h&&"function"==typeof Array.prototype[Symbol.iterator],w=C&&Object.getPrototypeOf([][Symbol.iterator]()),P=h&&"function"==typeof Array.prototype[Symbol.iterator],x=P&&Object.getPrototypeOf(""[Symbol.iterator]()),T=8,S=-1;e.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===o)return"global";if(s&&Array.isArray(e))return"Array";if(a){if(e===o.location)return"Location";if(e===o.document)return"Document";if(e===(o.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(o.navigator||{}).plugins)return"PluginArray";if(i&&e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(i&&e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(i&&e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var l=y&&e[Symbol.toStringTag];if("string"==typeof l)return l;if(n){var h=Object.getPrototypeOf(e);if(h===RegExp.prototype)return"RegExp";if(h===Date.prototype)return"Date";if(r&&h===Promise.prototype)return"Promise";if(c&&h===Set.prototype)return"Set";if(u&&h===Map.prototype)return"Map";if(f&&h===WeakSet.prototype)return"WeakSet";if(p&&h===WeakMap.prototype)return"WeakMap";if(d&&h===DataView.prototype)return"DataView";if(u&&h===b)return"Map Iterator";if(c&&h===g)return"Set Iterator";if(C&&h===w)return"Array Iterator";if(P&&h===x)return"String Iterator";if(null===h)return"Object"}return Object.prototype.toString.call(e).slice(T,S)},e.exports.typeDetect=e.exports}).call(t,function(){return this}())},188:94,189:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(3),a=r(o),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),p=r(c),f=n(9),d=r(f),h=n(20),y=r(h),m=function(e){function t(n){(0,a["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.onClick=function(){var e=r.props,t=e.actionFn,n=e.closeModal;if(t){var o=void 0;t.length?o=t(n):(o=t(),o||n()),o&&o.then&&(r.setState({loading:!0}),o.then(function(){n.apply(void 0,arguments)}))}else n()},r.state={loading:!1},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){if(this.props.autoFocus){var e=d["default"].findDOMNode(this);this.timeoutId=setTimeout(function(){return e.focus()})}},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeoutId)},t.prototype.render=function(){var e=this.props,t=e.type,n=e.children,r=this.state.loading;return p["default"].createElement(y["default"],{type:t,size:"large",onClick:this.onClick,loading:r},n)},t}(p["default"].Component);t["default"]=m,e.exports=t["default"]},190:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(){var e=c["default"].unmountComponentAtNode(o);e&&o.parentNode&&o.parentNode.removeChild(o)}var n=(0,h["default"])({iconType:"question-circle"},e),r=n.prefixCls||"ant-confirm",o=document.createElement("div");document.body.appendChild(o);var a=n.width||416,s=n.style||{},u=void 0!==n.maskClosable&&n.maskClosable;"okCancel"in n||(n.okCancel=!0);var p=(0,w.getConfirmLocale)();n.okText=n.okText||(n.okCancel?p.okText:p.justOkText),n.cancelText=n.cancelText||p.cancelText;var d=l["default"].createElement("div",{className:r+"-body"},l["default"].createElement(m["default"],{type:n.iconType}),l["default"].createElement("span",{className:r+"-title"},n.title),l["default"].createElement("div",{className:r+"-content"},n.content)),y=null;y=n.okCancel?l["default"].createElement("div",{className:r+"-btns"},l["default"].createElement(C["default"],{actionFn:n.onCancel,closeModal:t},n.cancelText),l["default"].createElement(C["default"],{type:"primary",actionFn:n.onOk,closeModal:t,autoFocus:!0},n.okText)):l["default"].createElement("div",{className:r+"-btns"},l["default"].createElement(C["default"],{type:"primary",actionFn:n.onOk,closeModal:t,autoFocus:!0},n.okText));var v=(0,f["default"])(r,(0,i["default"])({},r+"-"+n.type,!0),n.className);return c["default"].render(l["default"].createElement(g["default"],{className:v,onCancel:t,visible:!0,title:"",transitionName:"zoom",footer:"",maskTransitionName:"fade",maskClosable:u,style:s,width:a},l["default"].createElement("div",{className:r+"-body-wrapper"},d," ",y)),o),{destroy:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),i=r(a);t["default"]=o;var s=n(1),l=r(s),u=n(9),c=r(u),p=n(6),f=r(p),d=n(8),h=r(d),y=n(11),m=r(y),v=n(88),g=r(v),b=n(189),C=r(b),w=n(191);e.exports=t["default"]},191:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){u=e?(0,s["default"])({},u,e):(0,s["default"])({},l)}function a(){return u}Object.defineProperty(t,"__esModule",{value:!0}),t.changeConfirmLocale=o,t.getConfirmLocale=a;var i=n(8),s=r(i),l={okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},u=(0,s["default"])({},l)},193:[1216,202],201:10,202:10,209:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){}function a(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;n=o.documentElement[r],"number"!=typeof n&&(n=o.body[r])}return n}function i(e,t){var n=e.style;["Webkit","Moz","Ms","ms"].forEach(function(e){n[e+"TransformOrigin"]=t}),n.transformOrigin=t}function s(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=a(o),n.top+=a(o,!0),n}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(9),p=r(c),f=n(212),d=r(f),h=n(56),y=r(h),m=n(211),v=r(m),g=n(214),b=r(g),C=n(8),w=r(C),P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},x=0,T=0,S=u["default"].createClass({displayName:"Dialog",getDefaultProps:function(){return{afterClose:o,className:"",mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,prefixCls:"rc-dialog",onClose:o}},componentWillMount:function(){this.inTransition=!1,this.titleId="rcDialogTitle"+x++},componentDidMount:function(){this.componentDidUpdate({})},componentDidUpdate:function(e){var t=this.props,n=this.props.mousePosition;if(t.visible){if(!e.visible){this.openTime=Date.now(),this.lastOutSideFocusNode=document.activeElement,this.addScrollingEffect(),this.refs.wrap.focus();var r=p["default"].findDOMNode(this.refs.dialog);if(n){var o=s(r);i(r,n.x-o.left+"px "+(n.y-o.top)+"px")}else i(r,"")}}else if(e.visible&&(this.inTransition=!0,t.mask&&this.lastOutSideFocusNode)){try{this.lastOutSideFocusNode.focus()}catch(a){this.lastOutSideFocusNode=null}this.lastOutSideFocusNode=null}},componentWillUnmount:function(){(this.props.visible||this.inTransition)&&this.removeScrollingEffect()},onAnimateLeave:function(){this.refs.wrap&&(this.refs.wrap.style.display="none"),this.inTransition=!1,this.removeScrollingEffect(),this.props.afterClose()},onMaskClick:function(e){Date.now()-this.openTime<300||e.target===e.currentTarget&&this.close(e)},onKeyDown:function(e){var t=this.props;if(t.keyboard&&e.keyCode===d["default"].ESC&&this.close(e),t.visible&&e.keyCode===d["default"].TAB){var n=document.activeElement,r=this.refs.wrap,o=this.refs.sentinel;e.shiftKey?n===r&&o.focus():n===this.refs.sentinel&&r.focus()}},getDialogElement:function(){var e=this.props,t=e.closable,n=e.prefixCls,r={};void 0!==e.width&&(r.width=e.width),void 0!==e.height&&(r.height=e.height);var o=void 0;e.footer&&(o=u["default"].createElement("div",{className:n+"-footer",ref:"footer"},e.footer));var a=void 0;e.title&&(a=u["default"].createElement("div",{className:n+"-header",ref:"header"},u["default"].createElement("div",{className:n+"-title",id:this.titleId},e.title)));var i=void 0;t&&(i=u["default"].createElement("button",{onClick:this.close,"aria-label":"Close",className:n+"-close"},u["default"].createElement("span",{className:n+"-close-x"})));var s=(0,w["default"])({},e.style,r),l=this.getTransitionName(),c=u["default"].createElement(v["default"],{key:"dialog-element",role:"document",ref:"dialog",style:s,className:n+" "+(e.className||""),visible:e.visible},u["default"].createElement("div",{className:n+"-content"},i,a,u["default"].createElement("div",P({className:n+"-body",style:e.bodyStyle,ref:"body"},e.bodyProps),e.children),o),u["default"].createElement("div",{tabIndex:0,ref:"sentinel",style:{width:0,height:0,overflow:"hidden"}},"sentinel"));return u["default"].createElement(y["default"],{key:"dialog",showProp:"visible",onLeave:this.onAnimateLeave,transitionName:l,component:"",transitionAppear:!0},c)},getZIndexStyle:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),
e},getWrapStyle:function(){return(0,w["default"])({},this.getZIndexStyle(),this.props.wrapStyle)},getMaskStyle:function(){return(0,w["default"])({},this.getZIndexStyle(),this.props.maskStyle)},getMaskElement:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=u["default"].createElement(v["default"],P({style:this.getMaskStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible},e.maskProps)),n&&(t=u["default"].createElement(y["default"],{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},getMaskTransitionName:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getTransitionName:function(){var e=this.props,t=e.transitionName,n=e.animation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getElement:function(e){return this.refs[e]},setScrollbar:function(){this.bodyIsOverflowing&&void 0!==this.scrollbarWidth&&(document.body.style.paddingRight=this.scrollbarWidth+"px")},addScrollingEffect:function(){T++,1===T&&(this.checkScrollbar(),this.setScrollbar(),document.body.style.overflow="hidden")},removeScrollingEffect:function(){T--,0===T&&(document.body.style.overflow="",this.resetScrollbar())},close:function(e){this.props.onClose(e)},checkScrollbar:function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollbarWidth=(0,b["default"])())},resetScrollbar:function(){document.body.style.paddingRight=""},adjustDialog:function(){if(this.refs.wrap&&void 0!==this.scrollbarWidth){var e=this.refs.wrap.scrollHeight>document.documentElement.clientHeight;this.refs.wrap.style.paddingLeft=(!this.bodyIsOverflowing&&e?this.scrollbarWidth:"")+"px",this.refs.wrap.style.paddingRight=(this.bodyIsOverflowing&&!e?this.scrollbarWidth:"")+"px"}},resetAdjustments:function(){this.refs.wrap&&(this.refs.wrap.style.paddingLeft=this.refs.wrap.style.paddingLeft="")},render:function(){var e=this.props,t=e.prefixCls,n=e.maskClosable,r=this.getWrapStyle();return e.visible&&(r.display=null),u["default"].createElement("div",null,this.getMaskElement(),u["default"].createElement("div",P({tabIndex:-1,onKeyDown:this.onKeyDown,className:t+"-wrap "+(e.wrapClassName||""),ref:"wrap",onClick:n?this.onMaskClick:void 0,role:"dialog","aria-labelledby":e.title?this.titleId:null,style:r},e.wrapProps),this.getDialogElement()))}});t["default"]=S,e.exports=t["default"]},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(209),s=r(i),l=n(213),u=r(l),c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},p=a["default"].createClass({displayName:"DialogWrap",mixins:[(0,u["default"])({isVisible:function(e){return e.props.visible},autoDestroy:!1,getComponent:function(e,t){return a["default"].createElement(s["default"],c({},e.props,t,{key:"dialog"}))}})],getDefaultProps:function(){return{visible:!1}},shouldComponentUpdate:function(e){var t=e.visible;return!(!this.props.visible&&!t)},componentWillUnmount:function(){this.props.visible?this.renderComponent({afterClose:this.removeContainer,onClose:function(){},visible:!1}):this.removeContainer()},getElement:function(e){return this._component.getElement(e)},render:function(){return null}});t["default"]=p,e.exports=t["default"]},211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),i=n(8),s=r(i),l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u=a["default"].createClass({displayName:"LazyRenderBox",shouldComponentUpdate:function(e){return!!e.hiddenClassName||!!e.visible},render:function(){var e=this.props.className;this.props.hiddenClassName&&!this.props.visible&&(e+=" "+this.props.hiddenClassName);var t=(0,s["default"])({},this.props);return delete t.hiddenClassName,delete t.visible,t.className=e,a["default"].createElement("div",l({},t))}});t["default"]=u,e.exports=t["default"]},212:297,213:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=document.createElement("div");return document.body.appendChild(e),e}function a(e){function t(e,t,n){(!c||e._component||c(e))&&(e._container||(e._container=d(e)),l["default"].unstable_renderSubtreeIntoContainer(e,p(e,t),e._container,function(){e._component=this,n&&n.call(this)}))}function n(e){if(e._container){var t=e._container;l["default"].unmountComponentAtNode(t),t.parentNode.removeChild(t),e._container=null}}var r=e.autoMount,a=void 0===r||r,s=e.autoDestroy,u=void 0===s||s,c=e.isVisible,p=e.getComponent,f=e.getContainer,d=void 0===f?o:f,h=void 0;return a&&(h=i({},h,{componentDidMount:function(){t(this)},componentDidUpdate:function(){t(this)}})),a&&u||(h=i({},h,{renderComponent:function(e,n){t(this,e,n)}})),h=u?i({},h,{componentWillUnmount:function(){n(this)}}):i({},h,{removeContainer:function(){n(this)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=a;var s=n(9),l=r(s);e.exports=t["default"]},214:function(e,t){"use strict";function n(e){if(e||void 0===r){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),o=n.style;o.position="absolute",o.top=0,o.left=0,o.pointerEvents="none",o.visibility="hidden",o.width="200px",o.height="150px",o.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;a===i&&(i=n.clientWidth),document.body.removeChild(n),r=a-i}return r}var r=void 0;e.exports=n},238:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(2),a=r(o),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),p=r(c),f=n(1),d=r(f),h=n(176),y=r(h),m=n(11),v=r(m),g=n(20),b=r(g),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n},w=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.confirm=function(e){r.setVisible(!1);var t=r.props.onConfirm;t&&t.call(r,e)},r.cancel=function(e){r.setVisible(!1);var t=r.props.onCancel;t&&t.call(r,e)},r.onVisibleChange=function(e){r.setVisible(e)},r.state={visible:n.visible},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"visible"in e&&this.setState({visible:e.visible})},t.prototype.setVisible=function(e){var t=this.props;"visible"in t||this.setState({visible:e});var n=t.onVisibleChange;n&&n(e)},t.prototype.render=function(){var e=this.props,t=this.context,n=e.prefixCls,r=e.title,o=e.placement,i=C(e,["prefixCls","title","placement"]),s=e.okText,l=e.cancelText,u=t.antLocale&&t.antLocale.Popconfirm;u&&(s=s||u.okText,l=l||u.cancelText);var c=d["default"].createElement("div",null,d["default"].createElement("div",{className:n+"-inner-content"},d["default"].createElement("div",{className:n+"-message"},d["default"].createElement(v["default"],{type:"exclamation-circle"}),d["default"].createElement("div",{className:n+"-message-title"},r)),d["default"].createElement("div",{className:n+"-buttons"},d["default"].createElement(b["default"],{onClick:this.cancel,size:"small"},l||"\u53d6\u6d88"),d["default"].createElement(b["default"],{onClick:this.confirm,type:"primary",size:"small"},s||"\u786e\u5b9a"))));return d["default"].createElement(y["default"],(0,a["default"])({},i,{prefixCls:n,placement:o,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:c}))},t}(d["default"].Component);t["default"]=w,w.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click"},w.contextTypes={antLocale:d["default"].PropTypes.object},e.exports=t["default"]},239:function(e,t,n){"use strict";n(10),n(271),n(26)},325:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.update=t.create=t.query=void 0;var o=n(44),a=r(o),i=n(155),s=r(i),l=(t.query=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-admin-role/list",{method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.create=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-admin-role/edit",{method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-admin-role/edit",{method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,s["default"])(a["default"].mark(function t(e){return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-admin-role/del",{method:"post",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),n(13))},673:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.loading,n=e.dataSource,r=(e.pagination,e.location,e.updatePower),o=e.deletePower,a=e.onPageChange,s=e.onDeleteItem,u=e.onEditItem,p=function(e){x({title:"\u5220\u9664\u89d2\u8272\u53ef\u80fd\u4f1a\u5bf9\u7ba1\u7406\u5458\u8d26\u53f7\u9020\u6210\u65e0\u6cd5\u5f25\u8865\u7684\u5f71\u54cd\uff0c\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u89d2\u8272\u5417?",onOk:function(){s(e.id)}})},d=[{title:"\u89d2\u8272\u7f16\u53f7",dataIndex:"id",key:"id"},{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"roleName"},{title:"\u64cd\u4f5c",key:"operation",render:function(e,t){return g["default"].createElement("p",null,r&&g["default"].createElement(f["default"],{placement:"bottom",title:"\u7f16\u8f91"},g["default"].createElement("a",{onClick:function(){return u(t)},style:{marginRight:10}},g["default"].createElement(h["default"],{type:"edit"}))),o&&g["default"].createElement(f["default"],{placement:"bottom",title:"\u5220\u9664"},g["default"].createElement(c["default"],{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return p(t)}},g["default"].createElement("a",null,g["default"].createElement(h["default"],{type:"close-circle-o"})))))}}],y={page:1,current:1},m=function(e){return g["default"].createElement(C["default"],(0,l["default"])({},y,{body:e}))};return g["default"].createElement(i["default"],{className:P["default"].table,bordered:!0,scroll:{x:1e3},columns:d,dataSource:n,loading:t,onChange:a,pagination:!1,simple:!0,rowKey:function(e){return e.id},getBodyWrapper:m})}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(61),n(60)),i=r(a),s=n(2),l=r(s),u=(n(239),n(238)),c=r(u),p=(n(193),n(176)),f=r(p),d=(n(23),n(11)),h=r(d),y=(n(149),n(148)),m=r(y),v=n(1),g=r(v),b=n(154),C=r(b),w=n(858),P=r(w),x=m["default"].confirm;o.propTypes={onPageChange:v.PropTypes.func,onDeleteItem:v.PropTypes.func,onEditItem:v.PropTypes.func,dataSource:v.PropTypes.array,loading:v.PropTypes.any},t["default"]=o,e.exports=t["default"]},674:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.modal;return t.curItem.power||(t.curItem.power={}),{modal:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(149),n(148)),i=r(a),s=(n(25),n(147)),l=r(s),u=(n(23),n(11)),c=r(u),p=n(2),f=r(p),d=(n(87),n(86)),h=r(d),y=n(1),m=r(y),v=n(62),g=n(676),b=r(g),C=n(859),w=r(C),P=h["default"].Item,x={labelCol:{span:6},wrapperCol:{span:14}},T=function(e){function t(){y(function(e,t){if(!e){var r=(0,f["default"])({},t,{id:a.id,power:a.power});n({type:r.id?"accountRole/update":"accountRole/create",payload:r})}})}var n=e.dispatch,r=e.modal,o=r.loading,a=r.curItem,s=r.type,u=r.visible,p=e.form,d=p.getFieldDecorator,y=p.validateFields,v=p.resetFields,g={title:"create"===s?m["default"].createElement("div",null,m["default"].createElement(c["default"],{type:"plus-circle-o"})," \u65b0\u5efa\u89d2\u8272"):m["default"].createElement("div",null,m["default"].createElement(c["default"],{type:"edit"})," \u4fee\u6539\u89d2\u8272"),visible:u,onOk:t,onCancel:function(){n({type:"modal/hideModal"}),v()},wrapClassName:"vertical-center-modal",className:w["default"].modalWidth,confirmLoading:o},C=function(){return m["default"].createElement(b["default"],{powerList:a.power})};return m["default"].createElement(i["default"],g,m["default"].createElement(h["default"],{horizontal:!0},m["default"].createElement(P,(0,f["default"])({label:"\u89d2\u8272\u540d\u79f0\uff1a",hasFeedback:!0},x),d("name",{initialValue:a.name,rules:[{required:!0,message:"\u89d2\u8272\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(m["default"].createElement(l["default"],null))),m["default"].createElement(P,null,m["default"].createElement(C,null))))};T.propTypes={modal:y.PropTypes.object,form:y.PropTypes.object},t["default"]=(0,v.connect)(o)(h["default"].create()(T)),e.exports=t["default"]},675:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(87),n(86)),a=r(o),i=(n(94),n(192)),s=r(i),l=(n(188),n(237)),u=r(l),c=(n(26),n(20)),p=r(c),f=(n(23),n(11)),d=r(f),h=n(1),y=r(h),m=n(153),v=(r(m),function(e){var t=(e.field,e.keyword,e.addPower),n=(e.onSearch,e.onAdd),r=e.form;r.getFieldDecorator,r.validateFields,r.getFieldsValue;return y["default"].createElement(s["default"],{gutter:24},t&&y["default"].createElement(u["default"],{lg:24,md:24,sm:24,xs:24,style:{marginBottom:16,textAlign:"right"}},y["default"].createElement(p["default"],{size:"large",type:"ghost",onClick:n},y["default"].createElement(d["default"],{type:"plus-circle-o"}),"\u6dfb\u52a0")))});v.propTypes={form:h.PropTypes.object.isRequired,onSearch:h.PropTypes.func,onAdd:h.PropTypes.func,field:h.PropTypes.string,keyword:h.PropTypes.string},t["default"]=a["default"].create()(v),e.exports=t["default"]},676:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a,i=(n(61),n(60)),s=r(i),l=(n(23),n(11)),u=r(l),c=n(3),p=r(c),f=n(5),d=r(f),h=n(4),y=r(h),m=n(7),v=r(m),g=(n(71),n(18)),b=r(g),C=n(1),w=r(C),P=n(13),x=n(74),T=b["default"].Group,S=function(e){var t,n=(t={},(0,v["default"])(t,x.MENU,"\u67e5\u770b\u83dc\u5355"),(0,v["default"])(t,x.DETAIL,"\u67e5\u770b\u8be6\u60c5"),(0,v["default"])(t,x.ADD,"\u65b0\u589e"),(0,v["default"])(t,x.UPDATE,"\u4fee\u6539"),(0,v["default"])(t,x.DELETE,"\u5220\u9664"),(0,v["default"])(t,x.CHECK,"\u5ba1\u6838"),(0,v["default"])(t,x.UPLOAD,"\u4e0a\u4f20"),t),r=e.power.map(function(e){return{label:n[e],value:e}});return r},O=(a=o=function(e){function t(){var n,r,o;(0,p["default"])(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=(0,d["default"])(this,e.call.apply(e,[this].concat(i))),r.state={userPower:r.props.powerList},o=n,(0,d["default"])(r,o)}return(0,y["default"])(t,e),t.prototype.onChangePower=function(e,t){e.length?this.state.userPower[t.id]=e:delete this.state.userPower[t.id],this.setState({userPower:this.state.userPower})},t.prototype.render=function(){var e=this,t=[{title:"\u83dc\u5355\u9009\u9879",dataIndex:"name",width:"30%",render:function(e,t){return t.icon?w["default"].createElement("span",null,w["default"].createElement(u["default"],{type:t.icon})," ",e):e}},{title:"\u64cd\u4f5c\u6743\u9650",width:"60%",render:function(t,n){return w["default"].createElement(T,{options:S(n),value:e.state.userPower[n.id],onChange:function(t){return e.onChangePower(t,n)}})}}],n={onChange:function(e,t){},onSelect:function(t,n,r){n?e.state.userPower[t.id]=t.power:delete e.state.userPower[t.id],e.setState({userPower:e.state.userPower})},onSelectAll:function(t,n,r){if(t){var o=n.reduce(function(t,n){return e.state.userPower[n.id]=n.power,e.state.userPower},{});e.setState({userPower:o})}else{for(var a in e.state.userPower)delete e.state.userPower[a];e.setState({userPower:e.state.userPower})}},getCheckboxProps:function(t){return{defaultChecked:(0,P.equalSet)(t.power,e.state.userPower[t.id])}}};return w["default"].createElement(s["default"],{columns:t,dataSource:P.menu,bordered:!0,scroll:{x:1e3},pagination:!1,simple:!0,size:"small",defaultExpandAllRows:!0,rowSelection:n,rowKey:function(e){return e.key}})},t}(C.Component),o.propTypes={powerList:C.PropTypes.object.isRequired},a);t["default"]=O,e.exports=t["default"]},701:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(440),n(439)),a=r(o),i=n(273),s=r(i),l=n(2),u=r(l),c=n(44),p=r(c),f=n(64),d=n(37),h=n(325),y=n(13);t["default"]={namespace:"accountRole",state:{list:[],loading:!1},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;n.listen(function(e){var n=e.pathname;if("/account/role"===n){var r=(0,y.getCurPowers)(n);r?(t({type:"app/changeCurPowers",payload:{curPowers:r}}),t({type:"query",payload:e.query})):t(d.routerRedux.push({pathname:"/no-power"}))}})}},effects:{query:p["default"].mark(function m(e,t){var n,r=e.payload,o=t.call,a=t.put;return p["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,o(h.query,(0,f.parse)(r));case 4:if(n=e.sent,!n.success){e.next=8;break}return e.next=8,a({type:"querySuccess",payload:{list:n.list}});case 8:return e.next=10,a({type:"hideLoading"});case 10:case"end":return e.stop()}},m,this)}),"delete":p["default"].mark(function v(e,t){var n,r=e.payload,o=t.call,a=t.put;return p["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({type:"showLoading"});case 2:return e.next=4,o(h.remove,{id:r});case 4:return n=e.sent,e.next=7,a({type:"hideLoading"});case 7:if(!n||!n.success){e.next=12;break}return e.next=10,a({type:"modal/hideModal"});case 10:return e.next=12,a({type:"query"});case 12:case"end":return e.stop()}},v,this)}),create:p["default"].mark(function g(e,t){var n,r,o=e.payload,a=t.call,i=t.put;return p["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"modal/showLoading"});case 2:return n=(0,u["default"])({},o,{power:(0,s["default"])(o.power)}),e.next=5,a(h.create,n);case 5:return r=e.sent,e.next=8,i({type:"modal/hideLoading"});case 8:if(!r||!r.success){e.next=13;break}return e.next=11,i({type:"modal/hideModal"});case 11:return e.next=13,i({type:"query"});case 13:case"end":return e.stop()}},g,this)}),update:p["default"].mark(function b(e,t){var n,r,o=e.payload,i=t.call,l=t.put;return p["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({type:"modal/showLoading"});case 2:return n=(0,u["default"])({},o,{power:(0,s["default"])(o.power)}),e.next=5,i(h.update,n);case 5:return r=e.sent,e.next=8,l({type:"modal/hideLoading"});case 8:if(!r||!r.success){e.next=14;break}return e.next=11,l({type:"modal/hideModal"});case 11:return e.next=13,l({type:"query"});case 13:a["default"].success("\u89d2\u8272\u4fee\u6539\u6210\u529f, \u6ce8\u9500\u767b\u5f55\u540e\u91cd\u65b0\u767b\u5f55\u5373\u53ef\u751f\u6548\uff01");case 14:case"end":return e.stop()}},b,this)})},reducers:{showLoading:function(e){return(0,u["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,u["default"])({},e,{loading:!1})},querySuccess:function(e,t){return(0,u["default"])({},e,t.payload)}}},e.exports=t["default"]},714:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.location,n=e.curPowers,r=e.dispatch,o=e.accountRole,a=o.list,i=o.loading,l=t.query,u=l.field,p=l.keyword,d=(0,y.checkPower)(m.ADD,n),v=(0,y.checkPower)(m.UPDATE,n),g=(0,y.checkPower)(m.DELETE,n),b={dataSource:a,loading:i,location:t,updatePower:v,deletePower:g,onDeleteItem:function(e){r({type:"accountRole/delete",payload:e})},onEditItem:function(e){r({type:"modal/showModal",payload:{type:"update",curItem:e}})}},C={field:u,keyword:p,addPower:d,onAdd:function(){r({type:"modal/showModal",payload:{type:"create"}})}},w=function(){return s["default"].createElement(h["default"],null)};return s["default"].createElement("div",{className:"content-inner"},s["default"].createElement(f["default"],C),s["default"].createElement(c["default"],b),s["default"].createElement(w,null))}function a(e){var t=e.accountRole;return{accountRole:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),l=(n(37),n(62)),u=n(673),c=r(u),p=n(675),f=r(p),d=n(674),h=r(d),y=n(13),m=n(74);o.propTypes={accountRole:i.PropTypes.object,location:i.PropTypes.object,dispatch:i.PropTypes.func},t["default"]=(0,l.connect)(a)(o),e.exports=t["default"]},858:function(e,t){e.exports={table:"table___2mqH7"}},859:function(e,t){e.exports={modalWidth:"modalWidth___Kvzmb"}},1218:function(e,t,n,r){"use strict";n(10),n(r),n(26)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYWNjb3VudC1yb2xlLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvY2hlY2tib3gvaW5kZXguanM/MDc2ZioqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi91dGlsLmpzPzcxNTMqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvdXRpbC5qcz8xM2I5KiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3NlbGVjdC9pbmRleC5qcz82ZWNkKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9yYWRpby5qcz9iMmRiKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvaW5kZXguanM/NTFhYioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzP2U1NWUqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2lucy5qcz9jMWI3KiIsIndlYnBhY2s6Ly8vLi9+L3N0eWxlLXV0aWxzL21haW4uanM/YTliZioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9pbmRleC5qcz9lYzk2KioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi5qcz9kZWQwKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9yYWRpb0J1dHRvbi5qcz8xYzE3KioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW5Hcm91cC5qcz9iNDcwKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jaGVja2JveC9saWIvaW5kZXguanM/YTNiZioqIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvS2V5Q29kZS5qcz83MTNkKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04uanM/MTgzOCoqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvaW5kZXguanM/YjViZioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvc3R5bGUvaW5kZXguanM/YTczMCoqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZS5qcz9lNjNkKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvZWFzaW5nLmpzPzBjOTIqIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qcz9mMTgwKiIsIndlYnBhY2s6Ly8vLi9+L3JhZi9pbmRleC5qcz8wMTE3KioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9jaGVja2JveC9Hcm91cC5qcz9iOTFjKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9kcm9wZG93bi1idXR0b24uanM/MWMxMSoqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vaW5kZXguanM/YTEwMioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvbW9kYWwvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL01pbmlTZWxlY3QuanM/MjdjZCoqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzPzQ2OGIqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vaW5kZXguanM/YmUxZSoqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9zdHlsZS9pbmRleC5qcz82NmI2KioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9ncm91cC5qcz84M2NhKioiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yb3cvc3R5bGUvaW5kZXguanM/YjU4NioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvQ29sdW1uLmpzPzdmYTQqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIuanM/MmE5YyoqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQm94LmpzPzM3ZjgqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL1NlbGVjdGlvbkNoZWNrYm94QWxsLmpzPzFiZGMqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL1RhYmxlLmpzP2NmZTAqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL2NyZWF0ZVN0b3JlLmpzP2ZjNzgqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL2ZpbHRlckRyb3Bkb3duLmpzPzUyYTcqKiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL3V0aWwuanM/NmIxZSoqIiwid2VicGFjazovLy8uL34vZG9tLWNsb3Nlc3QvaW5kZXguanM/NDhkNCoqIiwid2VicGFjazovLy8uL34vZG9tLW1hdGNoZXMvaW5kZXguanM/MGYzMyoqIiwid2VicGFjazovLy8uL34vcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanM/YjhhMyoqIiwid2VicGFjazovLy8uL34vcmMtY2hlY2tib3gvbGliL0NoZWNrYm94LmpzPzllNGEqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLWRyb3Bkb3duL2xpYi9Ecm9wZG93bi5qcz9jOTM5KioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kcm9wZG93bi9saWIvaW5kZXguanM/ODA2MCoqIiwid2VicGFjazovLy8uL34vcmMtZHJvcGRvd24vbGliL3BsYWNlbWVudHMuanM/YzYyYSoqIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvT3B0aW9ucy5qcz9hY2JlKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdlci5qcz9lNDRkKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdpbmF0aW9uLmpzPzZlYmEqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXBhZ2luYXRpb24vbGliL2luZGV4LmpzPzNhOTEqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXJhZGlvL2xpYi9SYWRpby5qcz83NmZhKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1yYWRpby9saWIvaW5kZXguanM/OWRhYSoqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9Ecm9wZG93bk1lbnUuanM/NTBjOCoqIiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9GaWx0ZXJNaXhpbi5qcz81MzI1KioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL09wdEdyb3VwLmpzPzI4YjcqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvT3B0aW9uLmpzPzIwMGQqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0LmpzP2NjZDMqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0VHJpZ2dlci5qcz81MTAxKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL2luZGV4LmpzPzQwYTcqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW4uanM/MDZkNSoqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL0NvbHVtbkdyb3VwLmpzP2ZmMDMqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5NYW5hZ2VyLmpzPzIwODUqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9FeHBhbmRJY29uLmpzPzI1Y2UqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZS5qcz9hZTIyKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvVGFibGVDZWxsLmpzP2FlY2YqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUhlYWRlci5qcz9hOWNlKioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvVGFibGVSb3cuanM/ODNhNyoqIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL2NyZWF0ZVN0b3JlLmpzPzM1NjEqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi91dGlscy5qcz9mOWI5KioiLCJ3ZWJwYWNrOi8vLy4vfi9yYy11dGlsL2xpYi9DaGlsZHJlbi90b0FycmF5LmpzPzNkNTEqKiIsIndlYnBhY2s6Ly8vLi9+L3JjLXV0aWwvbGliL0tleUNvZGUuanM/YzY3NioqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvbW9kYWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1NlYXJjaC5qcz8zY2IxKiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGFibGVCb2R5V3JhcHBlci5qcz8zNTkyKiIsIndlYnBhY2s6Ly8vLi9+L2RlZXAtZXFsL2luZGV4LmpzPzM5ZDcqIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2gubGVzcz8xYjE2KiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvVGltZUxpbmUuanM/MGZlMSoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lR3JvdXAuanM/NWFjOCoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL2luZGV4LmpzPzk2OTkqIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW4vU3R5bGVQbHVnaW4uanM/NDA1MCoiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL3RpY2tlci5qcz9jOTk4KiIsIndlYnBhY2s6Ly8vLi9+L3R3ZWVuLWZ1bmN0aW9ucy9pbmRleC5qcz8wZjVmKiIsIndlYnBhY2s6Ly8vLi9+L3R5cGUtZGV0ZWN0L2luZGV4LmpzPzQ2MTIqIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvbW9kYWwvQWN0aW9uQnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvbW9kYWwvY29uZmlybS5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL21vZGFsL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWRpYWxvZy9saWIvRGlhbG9nLmpzIiwid2VicGFjazovLy8uL34vcmMtZGlhbG9nL2xpYi9EaWFsb2dXcmFwLmpzIiwid2VicGFjazovLy8uL34vcmMtZGlhbG9nL2xpYi9MYXp5UmVuZGVyQm94LmpzIiwid2VicGFjazovLy8uL34vcmMtZGlhbG9nL34vcmMtdXRpbC9saWIvZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kaWFsb2cvfi9yYy11dGlsL2xpYi9nZXRTY3JvbGxCYXJTaXplLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcG9wY29uZmlybS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BvcGNvbmZpcm0vc3R5bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FjY291bnQvcm9sZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvTW9kYWxGb3JtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvcm9sZS9TZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYWNjb3VudC9yb2xlL1VzZXJQb3dlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2FjY291bnQvcm9sZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL2FjY291bnQvUm9sZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvTGlzdC5sZXNzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FjY291bnQvcm9sZS9Nb2RhbC5sZXNzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vc3R5bGUvaW5kZXguanM/ZGRkNioqIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsIjE4IiwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwidW5kZWZpbmVkIiwiX2V4dGVuZHMyIiwiX2V4dGVuZHMzIiwiX2RlZmluZVByb3BlcnR5MiIsIl9kZWZpbmVQcm9wZXJ0eTMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyIsIl9pbmhlcml0czIiLCJfaW5oZXJpdHMzIiwiX3JjQ2hlY2tib3giLCJfcmNDaGVja2JveDIiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX0dyb3VwIiwiX0dyb3VwMiIsIl9jbGFzc25hbWVzIiwiX2NsYXNzbmFtZXMyIiwiX1B1cmVSZW5kZXJNaXhpbiIsIl9QdXJlUmVuZGVyTWl4aW4yIiwiX19yZXN0IiwicyIsImUiLCJ0IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJpIiwibGVuZ3RoIiwiQ2hlY2tib3giLCJfUmVhY3QkQ29tcG9uZW50IiwidGhpcyIsImFwcGx5IiwiYXJndW1lbnRzIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJyZW5kZXIiLCJfYSIsInByb3BzIiwicHJlZml4Q2xzIiwic3R5bGUiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImluZGV0ZXJtaW5hdGUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJyZXN0UHJvcHMiLCJjbGFzc1N0cmluZyIsImNoZWNrYm94Q2xhc3MiLCJjcmVhdGVFbGVtZW50IiwiQ29tcG9uZW50IiwiR3JvdXAiLCJkZWZhdWx0UHJvcHMiLCIyMSIsImdldFZhbHVlUHJvcFZhbHVlIiwiY2hpbGQiLCJrZXkiLCJFcnJvciIsImdldFByb3BWYWx1ZSIsInByb3AiLCJpc0NvbWJvYm94IiwiY29tYm9ib3giLCJpc011bHRpcGxlT3JUYWdzIiwibXVsdGlwbGUiLCJ0YWdzIiwiaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3giLCJpc1NpbmdsZU1vZGUiLCJ0b0FycmF5IiwicmV0IiwiaXNBcnJheSIsInByZXZlbnREZWZhdWx0RXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZpbmRJbmRleEluVmFsdWVCeUtleSIsImluZGV4IiwiZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwiLCJsYWJlbCIsImpvaW4iLCJnZXRTZWxlY3RLZXlzIiwibWVudUl0ZW1zIiwic2VsZWN0ZWRLZXlzIiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiaXRlbSIsInR5cGUiLCJpc01lbnVJdGVtR3JvdXAiLCJjb25jYXQiLCJpdGVtVmFsdWUiLCJpdGVtS2V5IiwicHVzaCIsImZpbmRGaXJzdE1lbnVJdGVtIiwiZm91bmQiLCJkaXNhYmxlZCIsImluY2x1ZGVzU2VwYXJhdG9ycyIsInN0cmluZyIsInNlcGFyYXRvcnMiLCJsYXN0SW5kZXhPZiIsInNwbGl0QnlTZXBhcmF0b3JzIiwicmVnIiwiUmVnRXhwIiwiYXJyYXkiLCJzcGxpdCIsInNoaWZ0IiwicG9wIiwiVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSIsIlVOU0VMRUNUQUJMRV9TVFlMRSIsInVzZXJTZWxlY3QiLCJXZWJraXRVc2VyU2VsZWN0IiwidW5zZWxlY3RhYmxlIiwiMjIiLCJ0b0FycmF5Q2hpbGRyZW4iLCJjIiwiZGF0YVRvQXJyYXkiLCJ2YXJzIiwib2JqZWN0RXF1YWwiLCJvYmoxIiwib2JqMiIsIl9kZWVwRXFsMiIsImVxdWFsQm9vbCIsImN1cnJlbnRPYmoiLCJuZXh0T2JqIiwiX3R5cGVvZiIsIm5hbWUiLCJzZXRFcXVhbEJvb2wiLCJvYmpBIiwib2JqQiIsImtleXMiLCJmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkiLCJtZXJnZUNoaWxkcmVuIiwicHJldiIsIm5leHQiLCJuZXh0Q2hpbGRyZW5QZW5kaW5nIiwicGVuZGluZ0NoaWxkcmVuIiwiZm9sbG93Q2hpbGRyZW5LZXkiLCJ0cmFuc2Zvcm1Bcmd1bWVudHMiLCJhcmciLCJyZXN1bHQiLCJnZXRDaGlsZHJlbkZyb21Qcm9wcyIsInN0YXJ0Q29udmVydFRvRW5kVW5pdCIsInRhcmdldCIsIm51bSIsInVuaXQiLCJkYXRhVW5pdCIsImZpeGVkIiwiaXNPcmlnaW5XaWR0aCIsImhvcml6IiwidGVzdCIsInBhcmVudE5vZGUiLCJkb2N1bWVudCIsImJvZHkiLCJwaXgiLCJwYXJzZUZsb2F0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJtYXRjaCIsInBhcnNlUGF0aCIsInBhdGgiLCJjaGFyQXQiLCJkb21QYXRoIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlTlMiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0VHJhbnNmb3JtVmFsdWUiLCJzdXBwb3J0czNEIiwicGVyc3BlY3RpdmUiLCJhbmdsZSIsInJvdGF0ZSIsInJvdGF0ZVgiLCJyb3RhdGVZIiwic3giLCJzY2FsZVgiLCJzeSIsInNjYWxlWSIsInN6Iiwic2NhbGVaIiwic2t4Iiwic2tld1giLCJza3kiLCJza2V3WSIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInRyYW5zbGF0ZVoiLCJwZXJjZW50Iiwic2siLCJhbiIsInNzIiwidHJhbnNsYXRlIiwiclgiLCJyWSIsInBlciIsInRyYW5zbGF0ZTNkIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl9kZWVwRXFsIiwiMjciLCJfcmNTZWxlY3QiLCJfcmNTZWxlY3QyIiwiU2VsZWN0IiwiX2NsYXNzTmFtZXMiLCJfcHJvcHMiLCJfcHJvcHMkY2xhc3NOYW1lIiwic2l6ZSIsIl9wcm9wczIiLCJfcHJvcHMyJG5vdEZvdW5kQ29udGUiLCJub3RGb3VuZENvbnRlbnQiLCJvcHRpb25MYWJlbFByb3AiLCJjbHMiLCJhbnRMb2NhbGUiLCJjb250ZXh0IiwiT3B0aW9uIiwiT3B0R3JvdXAiLCJzaG93U2VhcmNoIiwidHJhbnNpdGlvbk5hbWUiLCJjaG9pY2VUcmFuc2l0aW9uTmFtZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mIiwiYm9vbCIsImFueSIsIjMwIiwiX3JjUmFkaW8iLCJfcmNSYWRpbzIiLCJSYWRpbyIsIl9jbGFzc05hbWVzMiIsImNoZWNrZWQiLCJ3cmFwcGVyQ2xhc3NTdHJpbmciLCIzMSIsIlRhYmxlIiwiQ29sdW1uIiwiQ29sdW1uR3JvdXAiLCIzNSIsIjM5IiwiUGx1Z2lucyIsInBsdWdpbiIsIjQxIiwicHJlZml4S2V5IiwicHJlZml4IiwidG9VcHBlckNhc2UiLCJzdWJzdHJpbmciLCJ0b0ZpeGVkIiwiX3JuZCIsIk1hdGgiLCJwb3ciLCJybmQiLCJuIiwiZGVjIiwiY3JlYXRlTWF0cml4Iiwid2luZG93IiwiV2ViS2l0Q1NTTWF0cml4IiwiTW96Q1NTTWF0cml4IiwiRE9NTWF0cml4IiwiTXNDU1NNYXRyaXgiLCJPQ1NTTWF0cml4IiwiQ1NTTWF0cml4IiwiY2hlY2tTdHlsZU5hbWUiLCJhIiwiX3AiLCJzdWJzdHIiLCJwcmVmaXhDc3MiLCJmaWx0ZXIiLCJnZXRHc2FwVHlwZSIsInBhcnNlQ29sb3IiLCJfdiIsInIiLCJnIiwiYiIsImgiLCJsIiwidiIsIl9udW1FeHAiLCJjb2xvckxvb2t1cCIsInBhcnNlSW50IiwiTnVtYmVyIiwiX2h1ZSIsInRyYW5zcGFyZW50IiwiYmxhY2siLCJwYXJzZVNoYWRvdyIsImluc2V0IiwicmVwbGFjZSIsInRyaW0iLCJzcGxpY2UiLCJ2QXJyIiwiY29sb3IiLCJnZXRDb2xvciIsInJnYmEiLCJfdmFycyIsIm1hcCIsImQiLCJyb3VuZCIsImlzVHJhbnNmb3JtIiwiY3NzTGlzdCIsIl9saXN0cyIsInRyYW5zZm9ybXNCYXNlIiwiaXNDb252ZXJ0IiwiY3NzTmFtZSIsInNwbGl0RmlsdGVyVG9PYmplY3QiLCJkYXRhIiwic3RhcnREYXRhIiwiZGF0YUFyciIsImdldE1hdHJpeCIsImFyciIsIm0iLCJtMTEiLCJtMTIiLCJtMTMiLCJtMTQiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMjQiLCJtMzEiLCJtMzIiLCJtMzMiLCJtMzQiLCJtNDEiLCJtNDIiLCJtNDMiLCJtNDQiLCJpaSIsImoiLCJmbG9vciIsImdldFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIl90cmFuc2Zvcm0iLCJ0MSIsInQyIiwidDMiLCJ0bSIsImFzaW4iLCJSQUQyREVHIiwiREVHMlJBRCIsInRhbiIsImNvcyIsInNpbiIsImF0YW4yIiwiYWJzIiwic3FydCIsInN0eWxlc1RvQ3NzIiwiX3ZhbHVlIiwiaXNVbml0bGVzc051bWJlciIsInVucXVvdGVkQ29udGVudFZhbHVlUmVnZXgiLCJnZXRVbml0IiwiY3VycmVudFVuaXQiLCJ0b1N0cmluZyIsImdldFZhbHVlcyIsInUiLCJmaW5kU3R5bGVCeU5hbWUiLCJjc3NBcnJheSIsIl9jbmFtZSIsImNOYW1lIiwidHJhbnNmb3JtR3JvdXAiLCJtZXJnZVN0eWxlIiwiY3VycmVudCIsImNoYW5nZSIsIl9jdXJyZW50IiwiX2NoYW5nZSIsImNoYW5nZU9ubHkiLCJjaGFuZ2VBcnIiLCJjaGFuZ2VOYW1lIiwiY3VycmVudFNhbWUiLCJ1bnNoaWZ0IiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJib3JkZXJJbWFnZU91dHNldCIsImJvcmRlckltYWdlU2xpY2UiLCJib3JkZXJJbWFnZVdpZHRoIiwiYm94RmxleCIsImJveEZsZXhHcm91cCIsImJveE9yZGluYWxHcm91cCIsImNvbHVtbkNvdW50IiwiZmxleCIsImZsZXhHcm93IiwiZmxleFBvc2l0aXZlIiwiZmxleFNocmluayIsImZsZXhOZWdhdGl2ZSIsImZsZXhPcmRlciIsImdyaWRSb3ciLCJncmlkQ29sdW1uIiwiZm9udFdlaWdodCIsImxpbmVDbGFtcCIsImxpbmVIZWlnaHQiLCJvcGFjaXR5Iiwib3JkZXIiLCJvcnBoYW5zIiwidGFiU2l6ZSIsIndpZG93cyIsInpJbmRleCIsInpvb20iLCJmaWxsT3BhY2l0eSIsImZsb29kT3BhY2l0eSIsInN0b3BPcGFjaXR5Iiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlRGFzaG9mZnNldCIsInN0cm9rZU1pdGVybGltaXQiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2lkdGgiLCJwcmVmaXhlcyIsIklFIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYXF1YSIsImxpbWUiLCJzaWx2ZXIiLCJtYXJvb24iLCJ0ZWFsIiwiYmx1ZSIsIm5hdnkiLCJ3aGl0ZSIsImZ1Y2hzaWEiLCJvbGl2ZSIsInllbGxvdyIsIm9yYW5nZSIsImdyYXkiLCJwdXJwbGUiLCJncmVlbiIsInJlZCIsInBpbmsiLCJjeWFuIiwiaGgiLCJtMSIsIm0yIiwiUEkiLCJ0cmFuc2Zvcm1zM0QiLCJzY2FsZSIsInNjYWxlM2QiLCJyb3RhdGUzZCIsImZpbHRlckNvbnZlcnQiLCJncmF5U2NhbGUiLCJodWVSb3RhdGUiLCI0MiIsIkJ1dHRvbiIsIl9yYWRpbyIsIl9yYWRpbzIiLCJfZ3JvdXAiLCJfZ3JvdXAyIiwiX3JhZGlvQnV0dG9uIiwiX3JhZGlvQnV0dG9uMiIsIjQ2IiwiX3JjRHJvcGRvd24iLCJfcmNEcm9wZG93bjIiLCJEcm9wZG93biIsImdldFRyYW5zaXRpb25OYW1lIiwiX3Byb3BzJHBsYWNlbWVudCIsInBsYWNlbWVudCIsImRyb3Bkb3duVHJpZ2dlciIsImNsb25lRWxlbWVudCIsIm1vdXNlRW50ZXJEZWxheSIsIm1vdXNlTGVhdmVEZWxheSIsIjQ3IiwiUmFkaW9CdXR0b24iLCI0OCIsIl9yY1RhYmxlIiwiX3JjVGFibGUyIiwiX1JjVGFibGUkQ29sdW1uR3JvdXAiLCI1MSIsIjUyIiwiWkVSTyIsIk5JTkUiLCJOVU1QQURfWkVSTyIsIk5VTVBBRF9OSU5FIiwiQkFDS1NQQUNFIiwiREVMRVRFIiwiRU5URVIiLCJBUlJPV19VUCIsIkFSUk9XX0RPV04iLCI1MyIsIml0ZW1zX3Blcl9wYWdlIiwianVtcF90byIsInBhZ2UiLCJwcmV2X3BhZ2UiLCJuZXh0X3BhZ2UiLCJwcmV2XzUiLCJuZXh0XzUiLCJwcmV2XzMiLCJuZXh0XzMiLCI2MCIsIl9UYWJsZSIsIl9UYWJsZTIiLCI2MSIsIjY1IiwiX2RlZmF1bHRzIiwiZGVmYXVsdHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJub29wIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJzb3VyY2UiLCJfcmVhY3REb20iLCJfcmVhY3REb20yIiwiX3V0aWwiLCJfc3R5bGVVdGlscyIsIl9UaW1lTGluZSIsIl9UaW1lTGluZTIiLCJfcGx1Z2lucyIsIl9wbHVnaW5zMiIsIl90aWNrZXIiLCJfdGlja2VyMiIsInBlckZyYW1lIiwiVHdlZW5PbmUiLCJfQ29tcG9uZW50IiwiX3RoaXMiLCJyZXN0YXJ0Iiwic3RhcnRNb21lbnQiLCJ0aW1lTGluZSIsInByb2dyZXNzVGltZSIsInN0YXJ0RnJhbWUiLCJmcmFtZSIsInBsYXkiLCJzdGFydCIsImFuaW1hdGlvbiIsImRvbSIsImF0dHIiLCJ3aWxsQ2hhbmdlIiwicmFmIiwiY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGF1c2VkIiwicmFmSUQiLCJhZGQiLCJkYXRlIiwicmVnaXN0ZXIiLCJyZWdpc3Rlck1vbWVudCIsIm1vbWVudCIsInJldmVyc2UiLCJ0b3RhbFRpbWUiLCJyZXNldERlZmF1bHRTdHlsZSIsIm9uQ2hhbmdlIiwiY2xlYXIiLCJuZXdNb21lbnRBbmltIiwiY29tcG9uZW50RGlkTW91bnQiLCJmaW5kRE9NTm9kZSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJfdGhpczIiLCJuZXdNb21lbnQiLCJyZXNldEFuaW1EYXRhIiwic2V0QXR0cmlidXRlIiwibmV3QW5pbWF0aW9uIiwiY3VycmVudEFuaW1hdGlvbiIsImVxdWFsIiwic3R5bGVFcXVhbCIsInJlc3RhcnRBbmltIiwicmVzZXRTdHlsZUJvb2wiLCJyZXZlcnNlRGVsYXkiLCJ0aW1lb3V0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJjb21wb25lbnQiLCJjb21wb25lbnRSZXBsYWNlIiwib2JqZWN0T3JBcnJheSIsIm9uZU9mVHlwZSIsIm9iamVjdCIsIm51bWJlciIsImZ1bmMiLCJwbHVnaW5zIiwiNjYiLCJfdHdlZW5GdW5jdGlvbnMiLCJfdHdlZW5GdW5jdGlvbnMyIiwiX3BhdGgiLCJfcGFyYW0iLCJwYXJhbSIsInBhdGhOb2RlIiwicGF0aExlbmd0aCIsImdldFRvdGFsTGVuZ3RoIiwicmVjdCIsImxlbmd0aFBpeGVsIiwicG9pbnRzIiwiZ2V0UG9pbnRBdExlbmd0aCIsIl9jIiwibGluZWFyIiwidGltZVBvaW50WCIsInBvaW50IiwieCIsInkiLCI3MSIsIjcyIiwiNzQiLCJNRU5VIiwiREVUQUlMIiwiQUREIiwiVVBEQVRFIiwiQ0hFQ0siLCJVUExPQUQiLCI3NiIsImdsb2JhbCIsIm5vdyIsInJvb3QiLCJ2ZW5kb3JzIiwic3VmZml4IiwiY2FmIiwibGFzdCIsImlkIiwicXVldWUiLCJmcmFtZUR1cmF0aW9uIiwiY2FsbGJhY2siLCJfbm93IiwibWF4Iiwic2V0VGltZW91dCIsImNwIiwic2xpY2UiLCJjYW5jZWxsZWQiLCJoYW5kbGUiLCJmbiIsImNhbmNlbCIsInBvbHlmaWxsIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCI4MiIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJfdG9Db25zdW1hYmxlQXJyYXkzIiwiX2luZGV4IiwiX2luZGV4MiIsIkNoZWNrYm94R3JvdXAiLCJ0b2dnbGVPcHRpb24iLCJvcHRpb24iLCJvcHRpb25JbmRleCIsInN0YXRlIiwic2V0U3RhdGUiLCJkZWZhdWx0VmFsdWUiLCJnZXRPcHRpb25zIiwib3B0aW9ucyIsImlzUmVxdWlyZWQiLCI4MyIsIl9idXR0b24iLCJfYnV0dG9uMiIsIl9pY29uIiwiX2ljb24yIiwiX2Ryb3Bkb3duIiwiX2Ryb3Bkb3duMiIsIkJ1dHRvbkdyb3VwIiwiRHJvcGRvd25CdXR0b24iLCJvdmVybGF5IiwidHJpZ2dlciIsImFsaWduIiwib25DbGljayIsInZpc2libGUiLCJvblZpc2libGVDaGFuZ2UiLCJkcm9wZG93blByb3BzIiwiYWRqdXN0WCIsImFkanVzdFkiLCJvZmZzZXQiLCJ0YXJnZXRPZmZzZXQiLCI4NCIsIl9kcm9wZG93bkJ1dHRvbiIsIl9kcm9wZG93bkJ1dHRvbjIiLCI4NSIsIjg4IiwiX3JjRGlhbG9nIiwiX3JjRGlhbG9nMiIsIl9hZGRFdmVudExpc3RlbmVyIiwiX2FkZEV2ZW50TGlzdGVuZXIyIiwibW91c2VQb3NpdGlvbiIsIm1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCIsIk1vZGFsIiwiaGFuZGxlQ2FuY2VsIiwib25DYW5jZWwiLCJoYW5kbGVPayIsIm9uT2siLCJkb2N1bWVudEVsZW1lbnQiLCJwYWdlWCIsInBhZ2VZIiwib2tUZXh0IiwiY2FuY2VsVGV4dCIsImNvbmZpcm1Mb2FkaW5nIiwiZm9vdGVyIiwiZGVmYXVsdEZvb3RlciIsImxvYWRpbmciLCJvbkNsb3NlIiwid2lkdGgiLCJtYXNrVHJhbnNpdGlvbk5hbWUiLCJub2RlIiwidGl0bGUiLCJjbG9zYWJsZSIsImNvbnRleHRUeXBlcyIsIjg5IiwiX3NlbGVjdCIsIl9zZWxlY3QyIiwiTWluaVNlbGVjdCIsIjkwIiwiX3JjUGFnaW5hdGlvbiIsIl9yY1BhZ2luYXRpb24yIiwiX01pbmlTZWxlY3QiLCJfTWluaVNlbGVjdDIiLCJfemhfQ04iLCJfemhfQ04yIiwiUGFnaW5hdGlvbiIsInNlbGVjdENvbXBvbmVudENsYXNzIiwibG9jYWxlIiwic2VsZWN0UHJlZml4Q2xzIiwiOTEiLCJfUGFnaW5hdGlvbiIsIl9QYWdpbmF0aW9uMiIsIjkyIiwiOTMiLCJnZXRDaGVja2VkVmFsdWUiLCJtYXRjaGVkIiwicmFkaW8iLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJSYWRpb0dyb3VwIiwib25SYWRpb0NoYW5nZSIsImV2IiwibGFzdFZhbHVlIiwiY2hlY2tlZFZhbHVlIiwiX3Byb3BzJHByZWZpeENscyIsIjk0IiwiOTUiLCJfUmNUYWJsZSRDb2x1bW4iLCI5NiIsIjk3IiwiX2NoZWNrYm94IiwiX2NoZWNrYm94MiIsIlNlbGVjdGlvbkJveCIsImdldENoZWNrU3RhdGUiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInN0b3JlIiwiZGVmYXVsdFNlbGVjdGlvbiIsInJvd0luZGV4IiwiZ2V0U3RhdGUiLCJzZWxlY3Rpb25EaXJ0eSIsInNlbGVjdGVkUm93S2V5cyIsIjk4IiwiU2VsZWN0aW9uQ2hlY2tib3hBbGwiLCJnZXRJbmRldGVybWluYXRlU3RhdGUiLCJzZXRDaGVja1N0YXRlIiwiY2hlY2tTZWxlY3Rpb24iLCJieURlZmF1bHRDaGVja2VkIiwiZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSIsImdldFJlY29yZEtleSIsImRlZmF1bHRDaGVja2VkIiwiX3N0YXRlIiwiOTkiLCJzdG9wUHJvcGFnYXRpb24iLCJuYXRpdmVFdmVudCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl90eXBlb2YyIiwiX3R5cGVvZjMiLCJfZmlsdGVyRHJvcGRvd24iLCJfZmlsdGVyRHJvcGRvd24yIiwiX3BhZ2luYXRpb24iLCJfcGFnaW5hdGlvbjIiLCJfc3BpbiIsIl9zcGluMiIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2NyZWF0ZVN0b3JlIiwiX2NyZWF0ZVN0b3JlMiIsIl9TZWxlY3Rpb25Cb3giLCJfU2VsZWN0aW9uQm94MiIsIl9TZWxlY3Rpb25DaGVja2JveEFsbCIsIl9TZWxlY3Rpb25DaGVja2JveEFsbDIiLCJfQ29sdW1uIiwiX0NvbHVtbjIiLCJfQ29sdW1uR3JvdXAiLCJfQ29sdW1uR3JvdXAyIiwiX19hc3NpZ24iLCJkZWZhdWx0TG9jYWxlIiwiZmlsdGVyVGl0bGUiLCJmaWx0ZXJDb25maXJtIiwiZmlsdGVyUmVzZXQiLCJlbXB0eVRleHQiLCJkZWZhdWx0UGFnaW5hdGlvbiIsIm9uU2hvd1NpemVDaGFuZ2UiLCJfdGhpcyRwcm9wcyRyb3dTZWxlY3QiLCJyb3dTZWxlY3Rpb24iLCJnZXRDaGVja2JveFByb3BzIiwiQ2hlY2tib3hQcm9wc0NhY2hlIiwiaGFuZGxlRmlsdGVyIiwiY29sdW1uIiwibmV4dEZpbHRlcnMiLCJwYWdpbmF0aW9uIiwiZmlsdGVycyIsImdldENvbHVtbktleSIsImN1cnJlbnRDb2x1bW5LZXlzIiwidHJlZU1hcCIsImNvbHVtbnMiLCJjb2x1bW5LZXkiLCJuZXdTdGF0ZSIsImZpbHRlcnNUb1NldFN0YXRlIiwiZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMiLCJjb2wiLCJwcmVwYXJlUGFyYW1zQXJndW1lbnRzIiwiaGFuZGxlU2VsZWN0IiwicmVjb3JkIiwiZ2V0RGVmYXVsdFNlbGVjdGlvbiIsInNldFNlbGVjdGVkUm93S2V5cyIsInNlbGVjdFdheSIsImhhbmRsZVJhZGlvU2VsZWN0IiwiaGFuZGxlU2VsZWN0QWxsUm93IiwiZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSIsImNoYW5nYWJsZVJvd0tleXMiLCJjaGFuZ2VSb3dLZXlzIiwiaGFuZGxlUGFnZUNoYW5nZSIsIm90aGVyQXJndW1lbnRzIiwicmVuZGVyU2VsZWN0aW9uQm94IiwiXyIsImhhbmRsZUNoYW5nZSIsInJvd0tleSIsInJlY29yZEtleSIsImhhbmRsZVNob3dTaXplQ2hhbmdlIiwicGFnZVNpemUiLCJuZXh0UGFnaW5hdGlvbiIsIm5vcm1hbGl6ZUNvbHVtbnMiLCJnZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyIsImdldEZpbHRlcnNGcm9tQ29sdW1ucyIsImdldERlZmF1bHRQYWdpbmF0aW9uIiwiX3Byb3BzJHJvd1NlbGVjdGlvbiIsImdldEZsYXREYXRhIiwiaGFzUGFnaW5hdGlvbiIsImRlZmF1bHRDdXJyZW50IiwiZGVmYXVsdFBhZ2VTaXplIiwiZ2V0TG9jYWxlIiwicHJldmlvdXNTdGF0ZSIsIm5ld1BhZ2luYXRpb24iLCJkYXRhU291cmNlIiwiZ2V0U29ydE9yZGVyQ29sdW1ucyIsInNvcnRTdGF0ZSIsInNvcnRDb2x1bW4iLCJzb3J0T3JkZXIiLCJmaWx0ZXJlZFZhbHVlQ29sdW1ucyIsImZpbHRlcnNGcm9tQ29sdW1ucyIsIm5ld0ZpbHRlcnMiLCJpc0ZpbHRlcnNDaGFuZ2VkIiwiX3JlZiIsIl90aGlzMyIsIl9wcm9wcyRyb3dTZWxlY3Rpb24yIiwic2VsZWN0ZWRSb3dzIiwicm93Iiwib25TZWxlY3QiLCJvblNlbGVjdEFsbCIsImNoYW5nZVJvd3MiLCJfdGhpczQiLCJmaWx0ZXJzQ2hhbmdlZCIsImZpbHRlcmVkVmFsdWUiLCJfdGhpczUiLCJzb3J0ZWRDb2x1bW4iLCJnZXRTb3J0ZXJGbiIsInNvcnRlciIsInRvZ2dsZVNvcnRPcmRlciIsIl9zdGF0ZTIiLCJpc1NvcnRDb2x1bW4iLCJyZW5kZXJSb3dTZWxlY3Rpb24iLCJfdGhpczYiLCJzZWxlY3Rpb25Db2x1bW4iLCJjaGVja2JveEFsbERpc2FibGVkIiwiZXZlcnkiLCJzb21lIiwiZGF0YUluZGV4IiwiZ2V0TWF4Q3VycmVudCIsInRvdGFsIiwiX3N0YXRlJHBhZ2luYXRpb24iLCJyZW5kZXJDb2x1bW5zRHJvcGRvd24iLCJfdGhpczciLCJkcm9wZG93blByZWZpeENscyIsIm9yaWdpbkNvbHVtbiIsImZpbHRlckRyb3Bkb3duIiwic29ydEJ1dHRvbiIsImNvbEZpbHRlcnMiLCJjb25maXJtRmlsdGVyIiwiaXNBc2NlbmQiLCJpc0Rlc2NlbmQiLCJyZW5kZXJQYWdpbmF0aW9uIiwiZ2V0TG9jYWxEYXRhIiwiZmllbGQiLCJmaW5kQ29sdW1uIiwibXlLZXkiLCJfdGhpczgiLCJnZXRDdXJyZW50UGFnZURhdGEiLCJNQVhfVkFMVUUiLCJmbGF0QXJyYXkiLCJyZWN1cnNpdmVTb3J0Iiwic29ydGVyRm4iLCJfdGhpczkiLCJfcHJvcHMkY2hpbGRyZW5Db2x1bW4iLCJjaGlsZHJlbkNvbHVtbk5hbWUiLCJzb3J0IiwiX3RoaXMxMCIsInZhbHVlcyIsIm9uRmlsdGVyIiwiX3RoaXMxMSIsInNob3dIZWFkZXIiLCJleHBhbmRJY29uQXNDZWxsIiwiZXhwYW5kZWRSb3dSZW5kZXIiLCJib3JkZXJlZCIsIm5ld0NvbHVtbiIsImV4cGFuZEljb25Db2x1bW5JbmRleCIsInRhYmxlIiwicGFnaW5hdGlvblBhdGNoQ2xhc3MiLCJzcGlubmluZyIsInVzZUZpeGVkSGVhZGVyIiwiaW5kZW50U2l6ZSIsIjEwMCIsImNyZWF0ZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwicGFydGlhbCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiMTAxIiwiX3JjTWVudSIsIl9yY01lbnUyIiwiX2RvbUNsb3Nlc3QiLCJfZG9tQ2xvc2VzdDIiLCJfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciIsIl9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMiIsIkZpbHRlck1lbnUiLCJzZXRTZWxlY3RlZEtleXMiLCJoYW5kbGVDbGVhckZpbHRlcnMiLCJoYW5kbGVDb25maXJtIiwic2V0VmlzaWJsZSIsImhhbmRsZU1lbnVJdGVtQ2xpY2siLCJpbmZvIiwia2V5UGF0aCIsImtleVBhdGhPZlNlbGVjdGVkSXRlbSIsImZpbHRlckRyb3Bkb3duVmlzaWJsZSIsInJvb3ROb2RlIiwiZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5IiwibmV2ZXJTaG93biIsIm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlIiwicmVuZGVyTWVudUl0ZW0iLCJmaWx0ZXJNdWx0aXBsZSIsImlucHV0IiwiSXRlbSIsInRleHQiLCJoYXNTdWJNZW51IiwiX3Byb3BzJGNvbHVtbiRmaWx0ZXJzIiwicmVuZGVyTWVudXMiLCJpdGVtcyIsImNvbnRhaW5TZWxlY3RlZCIsInN1Yk1lbnVDbHMiLCJTdWJNZW51IiwiZHJvcGRvd25NZW51Q2xhc3MiLCJtZW51cyIsIm9uRGVzZWxlY3QiLCJkcm9wZG93blNlbGVjdGVkQ2xhc3MiLCIxMDIiLCJjaGlsZHJlbk5hbWUiLCJsb29wIiwibmV3SXRlbSIsInRyZWUiLCJtYXBwZXIiLCJleHRyYSIsImVsZW1lbnRzIiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiMTA1IiwibWF0Y2hlcyIsInNlbGVjdG9yIiwiMTA2IiwiZWxlbSIsInByb3RvIiwiRWxlbWVudCIsIm5hdGl2ZU1hdGNoZXMiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJub2RlVHlwZSIsInBhcmVudEVsZW0iLCJub2RlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsZW4iLCIxMDciLCIxMDgiLCIxMTAiLCIxMTEiLCIxMTIiLCIxMTMiLCIxMTUiLCJwcm9jZXNzIiwiZ2V0TmFub1NlY29uZHMiLCJocnRpbWUiLCJsb2FkVGltZSIsInBlcmZvcm1hbmNlIiwiaHIiLCJEYXRlIiwiZ2V0VGltZSIsIjExNiIsIl9kZWZpbmVQcm9wZXJ0eSIsImhhbmRsZUZvY3VzIiwiZm9jdXMiLCJvbkZvY3VzIiwiaGFuZGxlQmx1ciIsIm9uQmx1ciIsInJlYWRPbmx5IiwidGFiSW5kZXgiLCIxMTciLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfcmNUcmlnZ2VyIiwiX3JjVHJpZ2dlcjIiLCJfcGxhY2VtZW50cyIsIl9wbGFjZW1lbnRzMiIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIiLCJvdmVybGF5Q2xhc3NOYW1lIiwib3ZlcmxheVN0eWxlIiwic2hvd0FjdGlvbiIsImhpZGVBY3Rpb24iLCJnZXRQb3B1cENvbnRhaW5lciIsImdldERlZmF1bHRQcm9wcyIsImRlZmF1bHRWaXNpYmxlIiwiZ2V0SW5pdGlhbFN0YXRlIiwib3ZlcmxheVByb3BzIiwiZ2V0TWVudUVsZW1lbnQiLCJnZXRQb3B1cERvbU5vZGUiLCJyZWZzIiwiYWZ0ZXJWaXNpYmxlQ2hhbmdlIiwib3ZlcmxheU5vZGUiLCJvZmZzZXRXaWR0aCIsIm90aGVyUHJvcHMiLCJyZWYiLCJwb3B1cENsYXNzTmFtZSIsInBvcHVwU3R5bGUiLCJidWlsdGluUGxhY2VtZW50cyIsImFjdGlvbiIsInBvcHVwUGxhY2VtZW50IiwicG9wdXBBbGlnbiIsInBvcHVwVHJhbnNpdGlvbk5hbWUiLCJwb3B1cEFuaW1hdGlvbiIsInBvcHVwVmlzaWJsZSIsImFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlIiwicG9wdXAiLCJvblBvcHVwVmlzaWJsZUNoYW5nZSIsIjExOCIsIl9Ecm9wZG93biIsIl9Ecm9wZG93bjIiLCIxMTkiLCJhdXRvQWRqdXN0T3ZlcmZsb3ciLCJwbGFjZW1lbnRzIiwidG9wTGVmdCIsIm92ZXJmbG93IiwidG9wQ2VudGVyIiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiYm90dG9tQ2VudGVyIiwiYm90dG9tUmlnaHQiLCIxMjAiLCJSZWFjdCIsIktFWUNPREUiLCJPcHRpb25zIiwibWV0aG9kIiwiYmluZCIsIl9idWlsZE9wdGlvblRleHQiLCJfY2hhbmdlU2l6ZSIsImNoYW5nZVNpemUiLCJfaGFuZGxlQ2hhbmdlIiwiZXZ0IiwiX3ZhbCIsIl9nbyIsInZhbCIsImlzTmFOIiwia2V5Q29kZSIsInF1aWNrR28iLCJyb290UHJlZml4Q2xzIiwiYnVpbGRPcHRpb25UZXh0IiwiY2hhbmdlU2VsZWN0IiwiZ29JbnB1dCIsInBhZ2VTaXplT3B0aW9ucyIsIm9wdCIsImRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCIsIm9uS2V5VXAiLCJhcnJheU9mIiwiMTIxIiwiUGFnZXIiLCJhY3RpdmUiLCIxMjIiLCJMT0NBTEUiLCJoYXNPbkNoYW5nZSIsImhhc0N1cnJlbnQiLCJjb25zb2xlIiwid2FybiIsIm5ld0N1cnJlbnQiLCJfY2FsY1BhZ2UiLCJfaXNWYWxpZCIsIl9oYW5kbGVLZXlEb3duIiwiX2hhbmRsZUtleVVwIiwiX2NoYW5nZVBhZ2VTaXplIiwiX3ByZXYiLCJfaGFzUHJldiIsIl9uZXh0IiwiX2hhc05leHQiLCJfanVtcFByZXYiLCJzaG93TGVzc0l0ZW1zIiwiX2p1bXBOZXh0IiwibWluIiwiYWxsUGFnZXMiLCJwYWdlckxpc3QiLCJqdW1wUHJldiIsImp1bXBOZXh0IiwiZmlyc3RQYWdlciIsImxhc3RQYWdlciIsInBhZ2VCdWZmZXJTaXplIiwic2ltcGxlIiwib25LZXlEb3duIiwibGVmdCIsInJpZ2h0IiwiX2kiLCJfYWN0aXZlIiwidG90YWxUZXh0Iiwic2hvd1RvdGFsIiwic2hvd1NpemVDaGFuZ2VyIiwic2hvd1F1aWNrSnVtcGVyIiwiMTIzIiwiMTI0IiwiMTI1IiwiMTI2IiwiX3RvQXJyYXkiLCJfdG9BcnJheTIiLCJfZG9tU2Nyb2xsSW50b1ZpZXciLCJfZG9tU2Nyb2xsSW50b1ZpZXcyIiwiRHJvcGRvd25NZW51IiwiZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uIiwiZHJvcGRvd25NZW51U3R5bGUiLCJvblBvcHVwRm9jdXMiLCJvbk1lbnVEZVNlbGVjdCIsIm9uTWVudVNlbGVjdCIsImlucHV0VmFsdWUiLCJjb21wb25lbnRXaWxsTW91bnQiLCJsYXN0SW5wdXRWYWx1ZSIsInNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXciLCJsYXN0VmlzaWJsZSIsInByZXZQcm9wcyIsIml0ZW1Db21wb25lbnQiLCJmaXJzdEFjdGl2ZUl0ZW0iLCJtZW51Iiwib25seVNjcm9sbElmTmVlZGVkIiwicmVuZGVyTWVudSIsIl9yZXQiLCJtZW51UHJvcHMiLCJvbk1lbnVEZXNlbGVjdCIsImFjdGl2ZUtleVByb3BzIiwiY2xvbmVkTWVudUl0ZW1zIiwiYWN0aXZlS2V5IiwiZm91bmRGaXJzdCIsImNsb25lIiwiZGVmYXVsdEFjdGl2ZUZpcnN0IiwiZm9jdXNhYmxlIiwib25Nb3VzZURvd24iLCIxMjciLCJmaWx0ZXJPcHRpb24iLCJyZW5kZXJGaWx0ZXJPcHRpb25zIiwicmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbiIsInNob3dOb3RGb3VuZCIsIml2Iiwic2VsIiwiY2hpbGRyZW5LZXlzIiwiaXNTZWxlY3RPcHRHcm91cCIsImlubmVySXRlbXMiLCJJdGVtR3JvdXAiLCJpc1NlbGVjdE9wdGlvbiIsImNoaWxkVmFsdWUiLCJhdHRyaWJ1dGUiLCJzaW5nbGVWYWx1ZSIsIlN0cmluZyIsIm5vdEZpbmRJbnB1dEl0ZW0iLCIxMjgiLCIxMjkiLCIxMzAiLCJmaWx0ZXJGbiIsIm9wdGlvbkZpbHRlclByb3AiLCJzYXZlUmVmIiwiX0tleUNvZGUiLCJfS2V5Q29kZTIiLCJfY2xhc3NuYW1lczMiLCJfcmNBbmltYXRlIiwiX3JjQW5pbWF0ZTIiLCJfY29tcG9uZW50Q2xhc3NlcyIsIl9jb21wb25lbnRDbGFzc2VzMiIsIl9TZWxlY3RUcmlnZ2VyIiwiX1NlbGVjdFRyaWdnZXIyIiwiX0ZpbHRlck1peGluIiwiX0ZpbHRlck1peGluMiIsInZhbHVlT2JqZWN0U2hhcGUiLCJzaGFwZSIsImFsbG93Q2xlYXIiLCJzaG93QXJyb3ciLCJvblNlYXJjaCIsInBsYWNlaG9sZGVyIiwibGFiZWxJblZhbHVlIiwiZHJvcGRvd25TdHlsZSIsIm1heFRhZ1RleHRMZW5ndGgiLCJ0b2tlblNlcGFyYXRvcnMiLCJnZXRJbnB1dEVsZW1lbnQiLCJtaXhpbnMiLCJkZWZhdWx0T3BlbiIsImFkZExhYmVsVG9WYWx1ZSIsImFkZFRpdGxlVG9WYWx1ZSIsImdldExhYmVsRnJvbVByb3BzIiwic2F2ZUlucHV0UmVmIiwic2F2ZUlucHV0TWlycm9yUmVmIiwib3BlbiIsImFkanVzdE9wZW5TdGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0U3RhdGUiLCJpbnB1dE5vZGUiLCJnZXRJbnB1dERPTU5vZGUiLCJtaXJyb3JOb2RlIiwiZ2V0SW5wdXRNaXJyb3JET01Ob2RlIiwiY2xlYXJCbHVyVGltZSIsImNsZWFyQWRqdXN0VGltZXIiLCJkcm9wZG93bkNvbnRhaW5lciIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZW1vdmVDaGlsZCIsIm9uSW5wdXRDaGFuZ2UiLCJldmVudCIsIm5leHRWYWx1ZSIsInRva2VuaXplIiwiZmlyZUNoYW5nZSIsInNldE9wZW5TdGF0ZSIsInNldElucHV0VmFsdWUiLCJvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSIsIm9uSW5wdXRLZXlEb3duIiwiRE9XTiIsInJlbW92ZVNlbGVjdGVkIiwib3BlbklmSGFzQ2hpbGRyZW4iLCJFU0MiLCJnZXRJbm5lck1lbnUiLCJzZWxlY3RlZFZhbHVlIiwic2VsZWN0ZWRMYWJlbCIsImdldExhYmVsRnJvbU9wdGlvbiIsInNlbGVjdGVkVGl0bGUiLCJza2lwQWRqdXN0T3BlbiIsInNraXBBZGp1c3RPcGVuVGltZXIiLCJfcmVmMiIsImRvbUV2ZW50Iiwib25BcnJvd0NsaWNrIiwib25QbGFjZWhvbGRlckNsaWNrIiwib25PdXRlckZvY3VzIiwiX2ZvY3VzZWQiLCJ1cGRhdGVGb2N1c0NsYXNzTmFtZSIsIm1heWJlRm9jdXMiLCJvbk91dGVyQmx1ciIsImJsdXJUaW1lciIsIl9vcHRpb25zIiwiZmlyc3RPcHRpb24iLCJnZXRWTEZvck9uQ2hhbmdlIiwib25DbGVhclNlbGVjdGlvbiIsIm9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUiLCJmb3JjZVBvcHVwQWxpZ24iLCJnZXRMYWJlbEJ5U2luZ2xlVmFsdWUiLCJtYXliZSIsImdldFZhbHVlQnlMYWJlbCIsImdldExhYmVsQnlWYWx1ZSIsInZsc18iLCJ2bHMiLCJ2bCIsImdldERyb3Bkb3duQ29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJnZXRQbGFjZWhvbGRlckVsZW1lbnQiLCJoaWRkZW4iLCJkaXNwbGF5IiwiaW5wdXRFbGVtZW50IiwiaW5wdXRDbHMiLCJpbnB1dEluc3RhbmNlIiwiaW5wdXRNaXJyb3JJbnN0YW5jZSIsImdldFBvcHVwRE9NTm9kZSIsImdldFBvcHVwTWVudUNvbXBvbmVudCIsIm5lZWRGb2N1cyIsImZpcmVTZWFyY2giLCJjbGVhclRpbWVvdXQiLCJyZW1vdmUiLCJfZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwic2VsZWN0aW9uIiwidmFsdWVfIiwibmV4dFZhbHVlcyIsInZhbHVlSW5kZXgiLCJzZWxlY3RlZEtleSIsImlzQ2hpbGREaXNhYmxlZCIsImNhbk11bHRpcGxlIiwiY291bnQiLCJyZW5kZXJUb3BDb250cm9sTm9kZSIsImlubmVyTm9kZSIsInNob3dTZWxlY3RlZFZhbHVlIiwic2VsZWN0ZWRWYWx1ZU5vZGVzIiwiY29udGVudCIsImNob2ljZUNsYXNzTmFtZSIsIm9uTGVhdmUiLCJfcm9vdENscyIsImN0cmxOb2RlIiwiZXh0cmFTZWxlY3Rpb25Qcm9wcyIsInJvb3RDbHMiLCJjbGVhclN0eWxlIiwiZHJvcGRvd25BbGlnbiIsImRyb3Bkb3duQ2xhc3NOYW1lIiwicm9sZSIsImFyaWEtYXV0b2NvbXBsZXRlIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCIxMzEiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyIsIl9Ecm9wZG93bk1lbnUiLCJfRHJvcGRvd25NZW51MiIsIkJVSUxUX0lOX1BMQUNFTUVOVFMiLCJTZWxlY3RUcmlnZ2VyIiwiZHJvcGRvd25ET01Ob2RlIiwid2lkdGhQcm9wIiwicG9wdXBNZW51IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwibmV3UHJvcHMiLCJzYXZlTWVudSIsImdldERyb3Bkb3duUHJlZml4Q2xzIiwiZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSIsIl9wb3B1cENsYXNzTmFtZSIsInBvcHVwRWxlbWVudCIsIjEzMiIsIl9TZWxlY3QiLCJfU2VsZWN0MiIsIl9PcHRpb24iLCJfT3B0aW9uMiIsIl9PcHRHcm91cCIsIl9PcHRHcm91cDIiLCIxMzMiLCIxMzQiLCJjb2xTcGFuIiwib25DZWxsQ2xpY2siLCIxMzUiLCJpc1RhYmxlQ29sdW1uR3JvdXAiLCIxMzYiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIyIiwiZnJvbSIsIkNvbHVtbk1hbmFnZXIiLCJfY2FjaGVkIiwibm9ybWFsaXplIiwiaXNBbnlDb2x1bW5zRml4ZWQiLCJfY2FjaGUiLCJpc0FueUNvbHVtbnNMZWZ0Rml4ZWQiLCJpc0FueUNvbHVtbnNSaWdodEZpeGVkIiwibGVmdENvbHVtbnMiLCJncm91cGVkQ29sdW1ucyIsInJpZ2h0Q29sdW1ucyIsImxlYWZDb2x1bW5zIiwiX2xlYWZDb2x1bW5zIiwibGVmdExlYWZDb2x1bW5zIiwicmlnaHRMZWFmQ29sdW1ucyIsIl9ncm91cENvbHVtbnMiLCJjdXJyZW50Um93IiwicGFyZW50Q29sdW1uIiwicm93cyIsImdyb3VwZWQiLCJzZXRSb3dTcGFuIiwicm93U3BhbiIsInJlc2V0IiwiMTM3IiwiX3NoYWxsb3dlcXVhbCIsIl9zaGFsbG93ZXF1YWwyIiwiRXhwYW5kSWNvbiIsImV4cGFuZGFibGUiLCJvbkV4cGFuZCIsIm5lZWRJbmRlbnRTcGFjZWQiLCJleHBhbmRlZCIsImV4cGFuZENsYXNzTmFtZSIsIjEzOCIsIl9UYWJsZVJvdyIsIl9UYWJsZVJvdzIiLCJfVGFibGVIZWFkZXIiLCJfVGFibGVIZWFkZXIyIiwiX3V0aWxzIiwiX0NvbHVtbk1hbmFnZXIiLCJfQ29sdW1uTWFuYWdlcjIiLCJvbkV4cGFuZGVkIiwiZmluZEV4cGFuZGVkUm93IiwiZXhwYW5kZWRSb3dzIiwiZ2V0RXhwYW5kZWRSb3dzIiwiZ2V0Um93S2V5Iiwib25FeHBhbmRlZFJvd3NDaGFuZ2UiLCJvblJvd0Rlc3Ryb3kiLCJoYW5kbGVXaW5kb3dSZXNpemUiLCJzeW5jRml4ZWRUYWJsZVJvd0hlaWdodCIsInNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lIiwidGFibGVSZWN0IiwidGFibGVOb2RlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiaGVhZFJvd3MiLCJoZWFkVGFibGUiLCJib2R5VGFibGUiLCJib2R5Um93cyIsImZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0IiwiZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQiLCJkZXRlY3RTY3JvbGxUYXJnZXQiLCJzY3JvbGxUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlQm9keVNjcm9sbCIsIl90aGlzJHByb3BzJHNjcm9sbCIsInNjcm9sbCIsIl90aGlzJHJlZnMiLCJmaXhlZENvbHVtbnNCb2R5TGVmdCIsImZpeGVkQ29sdW1uc0JvZHlSaWdodCIsInNjcm9sbExlZnQiLCJsYXN0U2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhhbmRsZVJvd0hvdmVyIiwiaXNIb3ZlciIsImN1cnJlbnRIb3ZlcktleSIsImV4cGFuZGVkUm93S2V5cyIsImNvbHVtbk1hbmFnZXIiLCJzZXRTY3JvbGxQb3NpdGlvbiIsImRlZmF1bHRFeHBhbmRBbGxSb3dzIiwiZGVmYXVsdEV4cGFuZGVkUm93S2V5cyIsImRlYm91bmNlZFdpbmRvd1Jlc2l6ZSIsImRlYm91bmNlIiwicmVzaXplRXZlbnQiLCJoYXNTY3JvbGxYIiwicmVzZXRTY3JvbGxYIiwid2FybmluZ09uY2UiLCJnZXRIZWFkZXIiLCJnZXRIZWFkZXJSb3dzIiwidHJTdHlsZSIsImdldEhlYWRlclJvd1N0eWxlIiwicm93U3R5bGUiLCJjZWxsIiwiZ2V0RXhwYW5kZWRSb3ciLCJjb2xDb3VudCIsImluZGVudCIsImdldFJvd3NCeURhdGEiLCJleHBhbmRSb3dCeUNsaWNrIiwicnN0Iiwicm93Q2xhc3NOYW1lIiwicm93UmVmIiwiZXhwYW5kZWRSb3dDbGFzc05hbWUiLCJvblJvd0NsaWNrIiwib25Sb3dEb3VibGVDbGljayIsImNoaWxkcmVuQ29sdW1uIiwiaXNSb3dFeHBhbmRlZCIsImV4cGFuZGVkUm93Q29udGVudCIsIm9uSG92ZXJQcm9wcyIsIm9uSG92ZXIiLCJvbkRlc3Ryb3kiLCJob3ZlcktleSIsInN1YlZpc2libGUiLCJnZXRSb3dzIiwiZ2V0Q29sR3JvdXAiLCJjb2xzIiwibWluV2lkdGgiLCJnZXRMZWZ0Rml4ZWRUYWJsZSIsImdldFRhYmxlIiwiZ2V0UmlnaHRGaXhlZFRhYmxlIiwiX3Byb3BzMyIsIl9wcm9wczMkc2Nyb2xsIiwiZ2V0Qm9keVdyYXBwZXIiLCJib2R5U3R5bGUiLCJoZWFkU3R5bGUiLCJ0YWJsZUNsYXNzTmFtZSIsIm92ZXJmbG93WCIsImlubmVyQm9keVN0eWxlIiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwic2Nyb2xsYmFyV2lkdGgiLCJtZWFzdXJlU2Nyb2xsYmFyIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsInJlbmRlclRhYmxlIiwiaGFzSGVhZCIsImhhc0JvZHkiLCJ0YWJsZVN0eWxlIiwidGFibGVMYXlvdXQiLCJ0YWJsZUJvZHkiLCJvbk1vdXNlT3ZlciIsIm9uVG91Y2hTdGFydCIsIm9uU2Nyb2xsIiwicmVmTmFtZSIsImdldFRpdGxlIiwiX3Byb3BzNCIsImdldEZvb3RlciIsIl9wcm9wczUiLCJnZXRFbXB0eVRleHQiLCJfcHJvcHM2IiwiaGVhZGVySGVpZ2h0IiwicG9zaXRpb24iLCJzY3JvbGxQb3NpdGlvbiIsInNjcm9sbFRvTGVmdCIsInNjcm9sbFRvUmlnaHQiLCJfcHJvcHMkc2Nyb2xsIiwiaXNUYWJsZVNjcm9sbCIsInNjcm9sbFRhYmxlIiwiMTM5IiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwiVGFibGVDZWxsIiwiX3RlbXAiLCJoYW5kbGVDbGljayIsIl90aGlzJHByb3BzIiwiaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQiLCJleHBhbmRJY29uIiwiX2NvbHVtbiRjbGFzc05hbWUiLCJ0ZFByb3BzIiwiaW5kZW50VGV4dCIsInBhZGRpbmdMZWZ0IiwiMTQwIiwiVGFibGVIZWFkZXIiLCJjZWxsUHJvcHMiLCIxNDEiLCJfVGFibGVDZWxsIiwiX1RhYmxlQ2VsbDIiLCJfRXhwYW5kSWNvbiIsIl9FeHBhbmRJY29uMiIsIlRhYmxlUm93IiwiaG92ZXJlZCIsIl90aGlzJHByb3BzMiIsIl90aGlzJHByb3BzMyIsIl90aGlzJHByb3BzNCIsImNlbGxzIiwiaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiIsIm9uRG91YmxlQ2xpY2siLCIxNDIiLCIxNDMiLCJzY3JvbGxEaXYiLCJzY3JvbGxQcm9wIiwic2Nyb2xsYmFyTWVhc3VyZSIsIndhaXQiLCJpbW1lZGlhdGUiLCJkZWJvdW5jZUZ1bmMiLCJwZXJzaXN0IiwibGF0ZXIiLCJjYWxsTm93IiwiY29uZGl0aW9uIiwiZm9ybWF0Iiwid2FybmVkIiwidG9wIiwiMTQ0IiwiMTQ1IiwiS2V5Q29kZSIsIk1BQ19FTlRFUiIsIlRBQiIsIk5VTV9DRU5URVIiLCJTSElGVCIsIkNUUkwiLCJBTFQiLCJQQVVTRSIsIkNBUFNfTE9DSyIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIlBSSU5UX1NDUkVFTiIsIklOU0VSVCIsIk9ORSIsIlRXTyIsIlRIUkVFIiwiRk9VUiIsIkZJVkUiLCJTSVgiLCJTRVZFTiIsIkVJR0hUIiwiUVVFU1RJT05fTUFSSyIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiTUVUQSIsIldJTl9LRVlfUklHSFQiLCJDT05URVhUX01FTlUiLCJOVU1fWkVSTyIsIk5VTV9PTkUiLCJOVU1fVFdPIiwiTlVNX1RIUkVFIiwiTlVNX0ZPVVIiLCJOVU1fRklWRSIsIk5VTV9TSVgiLCJOVU1fU0VWRU4iLCJOVU1fRUlHSFQiLCJOVU1fTklORSIsIk5VTV9NVUxUSVBMWSIsIk5VTV9QTFVTIiwiTlVNX01JTlVTIiwiTlVNX1BFUklPRCIsIk5VTV9ESVZJU0lPTiIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIk5VTUxPQ0siLCJTRU1JQ09MT04iLCJEQVNIIiwiRVFVQUxTIiwiQ09NTUEiLCJQRVJJT0QiLCJTTEFTSCIsIkFQT1NUUk9QSEUiLCJTSU5HTEVfUVVPVEUiLCJPUEVOX1NRVUFSRV9CUkFDS0VUIiwiQkFDS1NMQVNIIiwiQ0xPU0VfU1FVQVJFX0JSQUNLRVQiLCJXSU5fS0VZIiwiTUFDX0ZGX01FVEEiLCJXSU5fSU1FIiwiaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQiLCJhbHRLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsImlzQ2hhcmFjdGVyS2V5IiwibmF2aWdhdGlvbiIsIjE0OCIsIl9Nb2RhbCIsIl9Nb2RhbDIiLCJfY29uZmlybSIsIl9jb25maXJtMiIsImNvbmZpZyIsImljb25UeXBlIiwib2tDYW5jZWwiLCJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIiwiY29uZmlybSIsIjE0OSIsIjE1MyIsIl9pbnB1dCIsIl9pbnB1dDIiLCJfU2VhcmNoIiwiX1NlYXJjaDIiLCJTZWFyY2giLCJoYW5kbGVTZWFyY2giLCJrZXl3b3JkIiwic2VhcmNoSW5wdXQiLCJzZWxlY3QiLCJzZWxlY3RWYWx1ZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiY2xlYXJWaXNpYmxlIiwiaGFuZGVsZVNlbGVjdENoYW5nZSIsImhhbmRsZUNsZWFySW5wdXQiLCJzZWxlY3RQcm9wcyIsInNlbGVjdE9wdGlvbnMiLCJjb21wYWN0Iiwic2VhcmNoIiwib25QcmVzc0VudGVyIiwiMTU0IiwiX3JjVHdlZW5PbmUiLCJfVGFibGVCb2R5V3JhcHBlciIsImVudGVyQW5pbSIsImJhY2tncm91bmRDb2xvciIsImR1cmF0aW9uIiwiZGVsYXkiLCJlYXNlIiwib25Db21wbGV0ZSIsImxlYXZlQW5pbSIsIlRhYmxlQm9keVdyYXBwZXIiLCJfcmVmJHBhZ2UiLCJUd2Vlbk9uZUdyb3VwIiwiZW50ZXIiLCJsZWF2ZSIsImFwcGVhciIsIjE1OCIsIkZha2VNYXAiLCJtZW1vaXplQ29tcGFyZSIsImxlZnRIYW5kT3BlcmFuZCIsInJpZ2h0SGFuZE9wZXJhbmQiLCJtZW1vaXplTWFwIiwiaXNQcmltaXRpdmUiLCJsZWZ0SGFuZE1hcCIsImdldCIsIm1lbW9pemVTZXQiLCJzZXQiLCJNZW1vaXplTWFwIiwiZGVlcEVxdWFsIiwiY29tcGFyYXRvciIsImV4dGVuc2l2ZURlZXBFcXVhbCIsInNpbXBsZVJlc3VsdCIsInNpbXBsZUVxdWFsIiwibWVtb2l6ZSIsIm1lbW9pemVSZXN1bHRMZWZ0IiwibWVtb2l6ZVJlc3VsdFJpZ2h0IiwiY29tcGFyYXRvclJlc3VsdCIsImxlZnRIYW5kVHlwZSIsImV4dGVuc2l2ZURlZXBFcXVhbEJ5VHlwZSIsInZhbHVlT2YiLCJpdGVyYWJsZUVxdWFsIiwicmVnZXhwRXF1YWwiLCJnZW5lcmF0b3JFcXVhbCIsIlVpbnQ4QXJyYXkiLCJidWZmZXIiLCJlbnRyaWVzRXF1YWwiLCJsZWZ0SGFuZEl0ZW1zIiwicmlnaHRIYW5kSXRlbXMiLCJnZXRHZW5lcmF0b3JFbnRyaWVzIiwiaGFzSXRlcmF0b3JGdW5jdGlvbiIsImdldEl0ZXJhdG9yRW50cmllcyIsIml0ZXJhdG9yRXJyb3IiLCJnZW5lcmF0b3IiLCJnZW5lcmF0b3JSZXN1bHQiLCJhY2N1bXVsYXRvciIsImRvbmUiLCJnZXRFbnVtZXJhYmxlS2V5cyIsImtleXNFcXVhbCIsImxlZnRIYW5kS2V5cyIsInJpZ2h0SGFuZEtleXMiLCJsZWZ0SGFuZEVudHJpZXMiLCJyaWdodEhhbmRFbnRyaWVzIiwiZGVsZXRlIiwiV2Vha01hcCIsIjE1OSIsIjE2MCIsIjE2MyIsImRlZmF1bHREYXRhIiwiREVGQVVMVF9EVVJBVElPTiIsIkRFRkFVTFRfREVMQVkiLCJfZWFzaW5nMiIsIkRFRkFVTFRfRUFTSU5HIiwib25VcGRhdGUiLCJvblN0YXJ0Iiwib25SZXBlYXQiLCJyZXBlYXQiLCJyZXBlYXREZWxheSIsInlveW8iLCJpbml0VGltZSIsImFwcGVhclRvIiwiX2Vhc2luZyIsIl9TdHlsZVBsdWdpbiIsIl9TdHlsZVBsdWdpbjIiLCJ0b0RhdGEiLCJzdGFydERlZmF1bHREYXRhIiwiX2QiLCJnZXRBdHRyaWJ1dGUiLCJiZXppZXIiLCJ0d2VlbiIsInRpbnlOdW0iLCJzZXREZWZhdWx0RGF0YSIsInJlcGVhdE1heCIsImFwcGVhclRvQm9vbCIsImFwcGVhclRvVGltZSIsInR3ZWVuRGF0YSIsIl9kYXRhIiwiU1ZHTW9ycGgiLCJhcHBlYXJOb3ciLCJtb2RlIiwiZ2V0QW5pbVN0YXJ0RGF0YSIsImdldEFuaW1TdGFydCIsInNldEFuaW1EYXRhIiwic2V0UmF0aW8iLCJyYXRpbyIsImVuZERhdGEiLCJlbmRWYXJzIiwic3RhcnRWYXJzIiwiX2VuZERhdGEiLCJyZXBlYXROdW0iLCJjZWlsIiwiZnJvbURlbGF5Iiwic3QiLCJjb21wUmF0aW8iLCIxNjQiLCJfVHdlZW5PbmUiLCJfVHdlZW5PbmUyIiwiX2luaXRpYWxpc2VQcm9wcyIsImtleXNUb0VudGVyIiwia2V5c1RvTGVhdmUiLCJvbkVudGVyQm9vbCIsImlzVHdlZW4iLCJuZXh0Q2hpbGRyZW4iLCJjdXJyZW50Q2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImhhc1ByZXYiLCJoYXNOZXh0IiwiY2hpbGRyZW5Ub1JlbmRlciIsImdldENoaWxkcmVuVG9SZW5kZXIiLCJjb21wb25lbnRQcm9wcyIsImFuaW1hdGluZ0NsYXNzTmFtZSIsInRhZyIsImlzRW50ZXIiLCJfb2JqIiwib25FbmQiLCJnZXRDb3ZlckFuaW1hdGlvbiIsIm9iamVjdE9yQXJyYXlPckZ1bmMiLCIxNjUiLCJlYXNpbmciLCIxNjYiLCJfc3R5bGVVdGlsczIiLCJTdHlsZVBsdWdpbiIsInByb3BzRGF0YSIsImdldENvbXB1dGVkU3R5bGUiLCJkZWZhdWx0VmlldyIsImdldFR3ZWVuRGF0YSIsImRhdGFUeXBlIiwiZGF0YUNvdW50IiwiZGF0YVNwbGl0U3RyIiwiX2l0ZW0iLCJjb252ZXJ0VG9NYXJrc0FycmF5Iiwic3RhcnRVbml0IiwiZW5kVW5pdCIsIndpbGxDaGFuZ2VCb29sIiwiY29tcHV0ZWRTdHlsZSIsIndpbGxDaGFuZ2VBcnJheSIsImsiLCJ3aWxsU3R5bGUiLCJ1c2VTdHlsZSIsImZpbHRlck5hbWUiLCJmaWx0ZXJPYmplY3QiLCJzZXRBcnJheVJhdGlvIiwic3RhcnRJbnNldCIsImVuZEluc2V0Iiwic3RhcnRJc0FscGhhIiwiX2lzVHJhbnNmb3JtIiwiY3NzIiwicE5hbWUiLCJ4U3RhcnQiLCJ5U3RhcnQiLCJfdHlwZSIsInN0eWxlVW5pdCIsImZpbHRlclN0eWxlIiwiZmlsdGVyS2V5IiwiMTY3IiwiX3JhZiIsIl9yYWYyIiwiVGlja2VyIiwidGlja0ZuT2JqZWN0IiwidHdlZW5JZCIsImVsYXBzZWQiLCJsYXN0VXBkYXRlIiwic2tpcEZyYW1lTWF4Iiwid2FrZSIsInRpY2siLCJzbGVlcCIsInRpY2tlciIsInRpbWVvdXRJZE51bWJlciIsInRpbWUiLCJ0aW1lb3V0SUQiLCJpbnRlcnZhbElkTnVtYmVyIiwiaW50ZXJ2YWwiLCJpbnRlcnZhbElEIiwic3RhckZyYW1lIiwiMTcyIiwidHdlZW5GdW5jdGlvbnMiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiZWFzZUluRWxhc3RpYyIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiZWFzZUluT3V0Qm91bmNlIiwiMTczIiwiZ2V0UHJvdG90eXBlT2ZFeGlzdHMiLCJnZXRQcm90b3R5cGVPZiIsInByb21pc2VFeGlzdHMiLCJQcm9taXNlIiwiZ2xvYmFsT2JqZWN0IiwiaXNEb20iLCJodG1sRWxlbWVudEV4aXN0cyIsIkhUTUxFbGVtZW50IiwiaXNBcnJheUV4aXN0cyIsInN5bWJvbEV4aXN0cyIsIm1hcEV4aXN0cyIsIk1hcCIsInNldEV4aXN0cyIsIlNldCIsIndlYWtNYXBFeGlzdHMiLCJ3ZWFrU2V0RXhpc3RzIiwiV2Vha1NldCIsImRhdGFWaWV3RXhpc3RzIiwiRGF0YVZpZXciLCJzeW1ib2xJdGVyYXRvckV4aXN0cyIsInN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzIiwidG9TdHJpbmdUYWciLCJzZXRFbnRyaWVzRXhpc3RzIiwiZW50cmllcyIsIm1hcEVudHJpZXNFeGlzdHMiLCJzZXRJdGVyYXRvclByb3RvdHlwZSIsIm1hcEl0ZXJhdG9yUHJvdG90eXBlIiwiYXJyYXlJdGVyYXRvckV4aXN0cyIsImFycmF5SXRlcmF0b3JQcm90b3R5cGUiLCJzdHJpbmdJdGVyYXRvckV4aXN0cyIsInN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlIiwidG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGgiLCJ0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGgiLCJ0eXBlb2ZPYmoiLCJsb2NhdGlvbiIsIm1pbWVUeXBlcyIsInRhZ05hbWUiLCJzdHJpbmdUYWciLCJvYmpQcm90b3R5cGUiLCJ0eXBlRGV0ZWN0IiwiMTg4IiwiMTg5IiwiQWN0aW9uQnV0dG9uIiwiYWN0aW9uRm4iLCJjbG9zZU1vZGFsIiwidGhlbiIsImF1dG9Gb2N1cyIsIiR0aGlzIiwidGltZW91dElkIiwiMTkwIiwiY2xvc2UiLCJ1bm1vdW50UmVzdWx0IiwiZGl2IiwibWFza0Nsb3NhYmxlIiwicnVudGltZUxvY2FsZSIsIl9sb2NhbGUiLCJnZXRDb25maXJtTG9jYWxlIiwianVzdE9rVGV4dCIsIl9BY3Rpb25CdXR0b24yIiwiZGVzdHJveSIsIl9BY3Rpb25CdXR0b24iLCIxOTEiLCJjaGFuZ2VDb25maXJtTG9jYWxlIiwibmV3TG9jYWxlIiwiMTkzIiwiMjAxIiwiMjAyIiwiMjA5IiwiZ2V0U2Nyb2xsIiwidyIsInNldFRyYW5zZm9ybU9yaWdpbiIsImVsIiwicG9zIiwiZG9jIiwib3duZXJEb2N1bWVudCIsInBhcmVudFdpbmRvdyIsIl9MYXp5UmVuZGVyQm94IiwiX0xhenlSZW5kZXJCb3gyIiwiX2dldFNjcm9sbEJhclNpemUiLCJfZ2V0U2Nyb2xsQmFyU2l6ZTIiLCJ1dWlkIiwib3BlbkNvdW50IiwiRGlhbG9nIiwiYWZ0ZXJDbG9zZSIsIm1hc2siLCJrZXlib2FyZCIsImluVHJhbnNpdGlvbiIsInRpdGxlSWQiLCJvcGVuVGltZSIsImxhc3RPdXRTaWRlRm9jdXNOb2RlIiwiYWRkU2Nyb2xsaW5nRWZmZWN0Iiwid3JhcCIsImRpYWxvZ05vZGUiLCJkaWFsb2ciLCJlbE9mZnNldCIsInJlbW92ZVNjcm9sbGluZ0VmZmVjdCIsIm9uQW5pbWF0ZUxlYXZlIiwib25NYXNrQ2xpY2siLCJkaWFsb2dSb290Iiwic2VudGluZWwiLCJzaGlmdEtleSIsImdldERpYWxvZ0VsZW1lbnQiLCJkZXN0IiwiaGVhZGVyIiwiY2xvc2VyIiwiYXJpYS1sYWJlbCIsImRpYWxvZ0VsZW1lbnQiLCJib2R5UHJvcHMiLCJzaG93UHJvcCIsInRyYW5zaXRpb25BcHBlYXIiLCJnZXRaSW5kZXhTdHlsZSIsImdldFdyYXBTdHlsZSIsIndyYXBTdHlsZSIsImdldE1hc2tTdHlsZSIsIm1hc2tTdHlsZSIsImdldE1hc2tFbGVtZW50IiwibWFza0VsZW1lbnQiLCJtYXNrVHJhbnNpdGlvbiIsImdldE1hc2tUcmFuc2l0aW9uTmFtZSIsImhpZGRlbkNsYXNzTmFtZSIsIm1hc2tQcm9wcyIsIm1hc2tBbmltYXRpb24iLCJnZXRFbGVtZW50IiwicGFydCIsInNldFNjcm9sbGJhciIsImJvZHlJc092ZXJmbG93aW5nIiwicGFkZGluZ1JpZ2h0IiwiY2hlY2tTY3JvbGxiYXIiLCJyZXNldFNjcm9sbGJhciIsImZ1bGxXaW5kb3dXaWR0aCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnRSZWN0IiwiYWRqdXN0RGlhbG9nIiwibW9kYWxJc092ZXJmbG93aW5nIiwic2Nyb2xsSGVpZ2h0IiwicmVzZXRBZGp1c3RtZW50cyIsIndyYXBDbGFzc05hbWUiLCJhcmlhLWxhYmVsbGVkYnkiLCJ3cmFwUHJvcHMiLCIyMTAiLCJfRGlhbG9nIiwiX0RpYWxvZzIiLCJfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4iLCJfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4yIiwiRGlhbG9nV3JhcCIsImlzVmlzaWJsZSIsImF1dG9EZXN0cm95IiwiZ2V0Q29tcG9uZW50IiwicmVuZGVyQ29tcG9uZW50IiwicmVtb3ZlQ29udGFpbmVyIiwiX2NvbXBvbmVudCIsIjIxMSIsIkxhenlSZW5kZXJCb3giLCIyMTIiLCIyMTMiLCJkZWZhdWx0R2V0Q29udGFpbmVyIiwiY29udGFpbmVyIiwiZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4iLCJfcmVuZGVyQ29tcG9uZW50IiwiY29tcG9uZW50QXJnIiwicmVhZHkiLCJfY29udGFpbmVyIiwiZ2V0Q29udGFpbmVyIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJfcmVtb3ZlQ29udGFpbmVyIiwiX2NvbmZpZyRhdXRvTW91bnQiLCJhdXRvTW91bnQiLCJfY29uZmlnJGF1dG9EZXN0cm95IiwiX2NvbmZpZyRnZXRDb250YWluZXIiLCJtaXhpbiIsIjIxNCIsImdldFNjcm9sbEJhclNpemUiLCJmcmVzaCIsImNhY2hlZCIsImlubmVyIiwib3V0ZXIiLCJvdXRlclN0eWxlIiwicG9pbnRlckV2ZW50cyIsInZpc2liaWxpdHkiLCJ3aWR0aENvbnRhaW5lZCIsIndpZHRoU2Nyb2xsIiwiMjM4IiwiX3Rvb2x0aXAiLCJfdG9vbHRpcDIiLCJQb3Bjb25maXJtIiwib25Db25maXJtIiwicG9wY29uZmlybUxvY2FsZSIsIjIzOSIsIjMyNSIsInVwZGF0ZSIsInF1ZXJ5IiwiX3JlZ2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yMiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9hc3luY1RvR2VuZXJhdG9yMyIsIm1hcmsiLCJfY2FsbGVlIiwicGFyYW1zIiwiX2NvbnRleHQiLCJhYnJ1cHQiLCJyZXF1ZXN0Iiwic3RvcCIsIl94IiwiX2NhbGxlZTIiLCJfY29udGV4dDIiLCJfeDIiLCJfcmVmMyIsIl9jYWxsZWUzIiwiX2NvbnRleHQzIiwiX3gzIiwiX3JlZjQiLCJfY2FsbGVlNCIsIl9jb250ZXh0NCIsIl94NCIsIjY3MyIsIkxpc3QiLCJ1cGRhdGVQb3dlciIsImRlbGV0ZVBvd2VyIiwib25QYWdlQ2hhbmdlIiwib25EZWxldGVJdGVtIiwib25FZGl0SXRlbSIsImhhbmRsZURlbGV0ZUl0ZW0iLCJtYXJnaW5SaWdodCIsIl9wb3Bjb25maXJtMiIsImdldEJvZHlXcmFwcGVyUHJvcHMiLCJfVGFibGVCb2R5V3JhcHBlcjIiLCJfdGFibGUyIiwiX0xpc3QyIiwiX3RhYmxlIiwiX3BvcGNvbmZpcm0iLCJfbW9kYWwiLCJfbW9kYWwyIiwiX0xpc3QiLCI2NzQiLCJtYXBTdGF0ZVRvUHJvcHMiLCJtb2RhbCIsImN1ckl0ZW0iLCJwb3dlciIsIl9mb3JtIiwiX2Zvcm0yIiwiX2R2YSIsIl9Vc2VyUG93ZXIiLCJfVXNlclBvd2VyMiIsIkZvcm1JdGVtIiwiZm9ybUl0ZW1MYXlvdXQiLCJsYWJlbENvbCIsInNwYW4iLCJ3cmFwcGVyQ29sIiwiTW9kYWxGb3JtIiwidmFsaWRhdGVGaWVsZHMiLCJlcnJvcnMiLCJkaXNwYXRjaCIsInBheWxvYWQiLCJfcmVmJG1vZGFsIiwiX3JlZiRmb3JtIiwiZm9ybSIsImdldEZpZWxkRGVjb3JhdG9yIiwicmVzZXRGaWVsZHMiLCJtb2RhbEZvcm1PcHRzIiwibW9kYWxXaWR0aCIsIlVzZXJQb3dlckdlbiIsInBvd2VyTGlzdCIsImhvcml6b250YWwiLCJoYXNGZWVkYmFjayIsImluaXRpYWxWYWx1ZSIsInJ1bGVzIiwicmVxdWlyZWQiLCJtZXNzYWdlIiwiY29ubmVjdCIsIjY3NSIsIl9yb3ciLCJfcm93MiIsIl9jb2wiLCJfY29sMiIsImFkZFBvd2VyIiwib25BZGQiLCJnZXRGaWVsZHNWYWx1ZSIsImd1dHRlciIsImxnIiwibWQiLCJzbSIsInhzIiwidGV4dEFsaWduIiwiNjc2IiwiX2NsYXNzIiwiX3RlbXAyIiwiZ2V0UG93ZXJUZXh0IiwiX3Bvd2VyTmFtZSIsInBvd2VyTmFtZSIsIm9wdGlvbnNQb3dlck5hbWUiLCJjdXIiLCJVc2VyUG93ZXIiLCJ1c2VyUG93ZXIiLCJvbkNoYW5nZVBvd2VyIiwiY2hlY2tlZFZhbHVlcyIsImljb24iLCJzZWxlY3RlZCIsInVzZXJQb3dlckFsbCIsInJlZHVjZSIsImVxdWFsU2V0IiwiNzAxIiwiX21lc3NhZ2UiLCJfbWVzc2FnZTIiLCJfc3RyaW5naWZ5IiwiX3N0cmluZ2lmeTIiLCJfcXMiLCJfcm91dGVyIiwiX3JvbGUiLCJuYW1lc3BhY2UiLCJsaXN0Iiwic3Vic2NyaXB0aW9ucyIsInNldHVwIiwiaGlzdG9yeSIsImxpc3RlbiIsInBhdGhuYW1lIiwiY3VyUG93ZXJzIiwiZ2V0Q3VyUG93ZXJzIiwicm91dGVyUmVkdXgiLCJlZmZlY3RzIiwicHV0IiwicGFyc2UiLCJzZW50IiwiX2RlbGV0ZSIsIl9yZWY1IiwiX3JlZjYiLCJfcmVmNyIsIl9yZWY4IiwiX3JlZjkiLCJuZXdSb2xlIiwicmVkdWNlcnMiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwicXVlcnlTdWNjZXNzIiwiNzE0IiwiUm9sZSIsImFjY291bnRSb2xlIiwiX2xvY2F0aW9uJHF1ZXJ5IiwiY2hlY2tQb3dlciIsInJvbGVMaXN0UHJvcHMiLCJyb2xlU2VhcmNoUHJvcHMiLCJSb2xlTW9kYWxHZW4iLCJfTW9kYWxGb3JtMiIsIl9Nb2RhbEZvcm0iLCI4NTgiLCI4NTkiLCIxMjE4IiwiX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18iXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLEdBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0NIaEMsWUErQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBN0M3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBQyxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFFLEVBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUs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U0EsZXJHZzhiVjFzRSxPQUFPQyxlQUFlUCxFQUFTLGNBQzdCUSxPQUFPLEdxR3hnY1YsSUFBQWMsR0FBQXJCLEVBQUEsR3JHNmdjS3NCLEVBQVVyQixFQUF1Qm9CLEdxRzNnY3RDMmxFLEdBREFobkUsRUFBQSxJQUNBQSxFQUFBLEtBQ0F3bUUsRUFBQXhtRSxFQUFBLEtyR2toY0ttbUUsRUFBU2xtRSxFQUF1QnVtRSxHcUdqaGNyQzNkLEVBQUE3b0QsRUFBQSxLckdxaGNLOG9ELEVBQVc3b0QsRUFBdUI0b0QsR3FHcGhjdkN5a0IsRUFBQXR0RSxFQUFBLEtyR3doY0txdEUsRUFBY3B0RSxFQUF1QnF0RSxHcUd2aGMxQ3YyQixFQUFBLzJDLEVBQUEsSUFDQWl2QyxFQUFBanZDLEVBQUEsR0F5REE4c0UsR0FBS3YrRCxXQUNIdytELFlBQWExckUsRUFBQW1OLFVBQVU4VixPQUN2QjQxQyxTQUFVNzRELEVBQUFtTixVQUFVOFYsT0FDcEJxakQsU0FBVXRtRSxFQUFBbU4sVUFBVWdXLE1yRzZpY3JCemtCLGNxR3RpY2MsRUFBQWluRSxFQUFBNEIsU0FBUWxDLEdBQWlCb0csR3JHdWljdkNodEUsRUFBT0MsUUFBVUEsRUFBUSxZQUlwQnd0RSxJQUNBLFNBQVN6dEUsRUFBUUMsR3NHcm5jdkJELEVBQUFDLFNBQWtCdTVCLE1BQUEsa0J0RzRuY1prMEMsSUFDQSxTQUFTMXRFLEVBQVFDLEd1RzduY3ZCRCxFQUFBQyxTQUFrQm9vRSxXQUFBLHVCdkdvb2Nac0YsS0FDQSxTQUFTM3RFLEVBQVFDLEVBQVNDLEVBQXFCMHRFLEd3R3RvY3JELFlBRUExdEUsR0FBQSxJQUVBQSxFQUFBMHRFLEdBRUExdEUsRUFBQSIsImZpbGUiOiJhY2NvdW50LXJvbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzRdLHtcblxuLyoqKi8gMTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNDaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oNTEpO1xuXHRcblx0dmFyIF9yY0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2hlY2tib3gpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXApO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcblx0ICAgIHZhciB0ID0ge307XG5cdCAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuXHQgICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcblx0ICAgIH1yZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBDaGVja2JveCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgQ2hlY2tib3gucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfYS5pbmRldGVybWluYXRlLFxuXHQgICAgICAgICAgICBvbk1vdXNlRW50ZXIgPSBfYS5vbk1vdXNlRW50ZXIsXG5cdCAgICAgICAgICAgIG9uTW91c2VMZWF2ZSA9IF9hLm9uTW91c2VMZWF2ZSxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJzdHlsZVwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiaW5kZXRlcm1pbmF0ZVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiXSk7XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSkpO1xuXHQgICAgICAgIHZhciBjaGVja2JveENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctaW5kZXRlcm1pbmF0ZScsIGluZGV0ZXJtaW5hdGUpKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2xhYmVsJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0NoZWNrYm94MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNoZWNrYm94Q2xhc3MsIGNoaWxkcmVuOiBudWxsIH0pKSxcblx0ICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICAgICAgKSA6IG51bGxcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gQ2hlY2tib3g7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5cdFxuXHRDaGVja2JveC5Hcm91cCA9IF9Hcm91cDJbXCJkZWZhdWx0XCJdO1xuXHRDaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gnLFxuXHQgICAgaW5kZXRlcm1pbmF0ZTogZmFsc2Vcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0gdW5kZWZpbmVkO1xuXHRleHBvcnRzLmdldFZhbHVlUHJvcFZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWU7XG5cdGV4cG9ydHMuZ2V0UHJvcFZhbHVlID0gZ2V0UHJvcFZhbHVlO1xuXHRleHBvcnRzLmlzQ29tYm9ib3ggPSBpc0NvbWJvYm94O1xuXHRleHBvcnRzLmlzTXVsdGlwbGVPclRhZ3MgPSBpc011bHRpcGxlT3JUYWdzO1xuXHRleHBvcnRzLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94ID0gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3g7XG5cdGV4cG9ydHMuaXNTaW5nbGVNb2RlID0gaXNTaW5nbGVNb2RlO1xuXHRleHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuXHRleHBvcnRzLnByZXZlbnREZWZhdWx0RXZlbnQgPSBwcmV2ZW50RGVmYXVsdEV2ZW50O1xuXHRleHBvcnRzLmZpbmRJbmRleEluVmFsdWVCeUtleSA9IGZpbmRJbmRleEluVmFsdWVCeUtleTtcblx0ZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCA9IGZpbmRJbmRleEluVmFsdWVCeUxhYmVsO1xuXHRleHBvcnRzLmdldFNlbGVjdEtleXMgPSBnZXRTZWxlY3RLZXlzO1xuXHRleHBvcnRzLmZpbmRGaXJzdE1lbnVJdGVtID0gZmluZEZpcnN0TWVudUl0ZW07XG5cdGV4cG9ydHMuaW5jbHVkZXNTZXBhcmF0b3JzID0gaW5jbHVkZXNTZXBhcmF0b3JzO1xuXHRleHBvcnRzLnNwbGl0QnlTZXBhcmF0b3JzID0gc3BsaXRCeVNlcGFyYXRvcnM7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCkge1xuXHQgIHZhciBwcm9wcyA9IGNoaWxkLnByb3BzO1xuXHQgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICByZXR1cm4gcHJvcHMudmFsdWU7XG5cdCAgfVxuXHQgIGlmIChjaGlsZC5rZXkpIHtcblx0ICAgIHJldHVybiBjaGlsZC5rZXk7XG5cdCAgfVxuXHQgIHRocm93IG5ldyBFcnJvcignbm8ga2V5IG9yIHZhbHVlIGZvciAnICsgY2hpbGQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQcm9wVmFsdWUoY2hpbGQsIHByb3ApIHtcblx0ICBpZiAocHJvcCA9PT0gJ3ZhbHVlJykge1xuXHQgICAgcmV0dXJuIGdldFZhbHVlUHJvcFZhbHVlKGNoaWxkKTtcblx0ICB9XG5cdCAgcmV0dXJuIGNoaWxkLnByb3BzW3Byb3BdO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0NvbWJvYm94KHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzLmNvbWJvYm94O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc011bHRpcGxlT3JUYWdzKHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzLm11bHRpcGxlIHx8IHByb3BzLnRhZ3M7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKSB7XG5cdCAgcmV0dXJuIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHx8IGlzQ29tYm9ib3gocHJvcHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NpbmdsZU1vZGUocHJvcHMpIHtcblx0ICByZXR1cm4gIWlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuXHQgIHZhciByZXQgPSB2YWx1ZTtcblx0ICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0ID0gW107XG5cdCAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHJldCA9IFt2YWx1ZV07XG5cdCAgfVxuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0RXZlbnQoZSkge1xuXHQgIGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBrZXkpIHtcblx0ICB2YXIgaW5kZXggPSAtMTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAodmFsdWVbaV0ua2V5ID09PSBrZXkpIHtcblx0ICAgICAgaW5kZXggPSBpO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGluZGV4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaW5kSW5kZXhJblZhbHVlQnlMYWJlbCh2YWx1ZSwgbGFiZWwpIHtcblx0ICB2YXIgaW5kZXggPSAtMTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICBpZiAodG9BcnJheSh2YWx1ZVtpXS5sYWJlbCkuam9pbignJykgPT09IGxhYmVsKSB7XG5cdCAgICAgIGluZGV4ID0gaTtcblx0ICAgICAgYnJlYWs7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBpbmRleDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2VsZWN0S2V5cyhtZW51SXRlbXMsIHZhbHVlKSB7XG5cdCAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgIHJldHVybiBbXTtcblx0ICB9XG5cdCAgdmFyIHNlbGVjdGVkS2V5cyA9IFtdO1xuXHQgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gobWVudUl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgaWYgKGl0ZW0udHlwZS5pc01lbnVJdGVtR3JvdXApIHtcblx0ICAgICAgc2VsZWN0ZWRLZXlzID0gc2VsZWN0ZWRLZXlzLmNvbmNhdChnZXRTZWxlY3RLZXlzKGl0ZW0ucHJvcHMuY2hpbGRyZW4sIHZhbHVlKSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgaXRlbVZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWUoaXRlbSk7XG5cdCAgICAgIHZhciBpdGVtS2V5ID0gaXRlbS5rZXk7XG5cdCAgICAgIGlmIChmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGl0ZW1WYWx1ZSkgIT09IC0xICYmIGl0ZW1LZXkpIHtcblx0ICAgICAgICBzZWxlY3RlZEtleXMucHVzaChpdGVtS2V5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBzZWxlY3RlZEtleXM7XG5cdH1cblx0XG5cdHZhciBVTlNFTEVDVEFCTEVfU1RZTEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9TVFlMRSA9IHtcblx0ICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cdCAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnXG5cdH07XG5cdFxuXHR2YXIgVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IHtcblx0ICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiBmaW5kRmlyc3RNZW51SXRlbShjaGlsZHJlbikge1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXHQgICAgaWYgKGNoaWxkLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG5cdCAgICAgIHZhciBmb3VuZCA9IGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkLnByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgaWYgKGZvdW5kKSB7XG5cdCAgICAgICAgcmV0dXJuIGZvdW5kO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKCFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm4gY2hpbGQ7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbmNsdWRlc1NlcGFyYXRvcnMoc3RyaW5nLCBzZXBhcmF0b3JzKSB7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXBhcmF0b3JzLmxlbmd0aDsgKytpKSB7XG5cdCAgICBpZiAoc3RyaW5nLmxhc3RJbmRleE9mKHNlcGFyYXRvcnNbaV0pID4gMCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzcGxpdEJ5U2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcblx0ICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWycgKyBzZXBhcmF0b3JzLmpvaW4oKSArICddJyk7XG5cdCAgdmFyIGFycmF5ID0gc3RyaW5nLnNwbGl0KHJlZyk7XG5cdCAgaWYgKGFycmF5WzBdID09PSAnJykge1xuXHQgICAgYXJyYXkuc2hpZnQoKTtcblx0ICB9XG5cdCAgaWYgKGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdID09PSAnJykge1xuXHQgICAgYXJyYXkucG9wKCk7XG5cdCAgfVxuXHQgIHJldHVybiBhcnJheTtcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0ZXhwb3J0cy50b0FycmF5Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW47XG5cdGV4cG9ydHMuZGF0YVRvQXJyYXkgPSBkYXRhVG9BcnJheTtcblx0ZXhwb3J0cy5vYmplY3RFcXVhbCA9IG9iamVjdEVxdWFsO1xuXHRleHBvcnRzLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSA9IGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleTtcblx0ZXhwb3J0cy5tZXJnZUNoaWxkcmVuID0gbWVyZ2VDaGlsZHJlbjtcblx0ZXhwb3J0cy50cmFuc2Zvcm1Bcmd1bWVudHMgPSB0cmFuc2Zvcm1Bcmd1bWVudHM7XG5cdGV4cG9ydHMuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMgPSBnZXRDaGlsZHJlbkZyb21Qcm9wcztcblx0ZXhwb3J0cy5zdGFydENvbnZlcnRUb0VuZFVuaXQgPSBzdGFydENvbnZlcnRUb0VuZFVuaXQ7XG5cdGV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuXHRleHBvcnRzLmdldFRyYW5zZm9ybVZhbHVlID0gZ2V0VHJhbnNmb3JtVmFsdWU7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9kZWVwRXFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTgpO1xuXHRcblx0dmFyIF9kZWVwRXFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5Q2hpbGRyZW4oY2hpbGRyZW4pIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgIHJldC5wdXNoKGMpO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRhdGFUb0FycmF5KHZhcnMpIHtcblx0ICBpZiAoIXZhcnMgJiYgdmFycyAhPT0gMCkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHQgIH1cblx0ICBpZiAoQXJyYXkuaXNBcnJheSh2YXJzKSkge1xuXHQgICAgcmV0dXJuIHZhcnM7XG5cdCAgfVxuXHQgIHJldHVybiBbdmFyc107XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iamVjdEVxdWFsKG9iajEsIG9iajIpIHtcblx0ICBpZiAob2JqMSA9PT0gb2JqMiB8fCAoMCwgX2RlZXBFcWwyW1wiZGVmYXVsdFwiXSkob2JqMSwgb2JqMikpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICBpZiAoIW9iajEgfHwgIW9iajIpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy8gYW5pbWF0aW9uIOWGmeWcqOagh+etvuS4iueahOi/m+ihjOWIpOaWreaYr+WQpuebuOetie+8jCDliKTmlq3mr4/kuKrlj4LmlbDmnInmsqHmnIkgZnVuY3Rpb247XG5cdCAgdmFyIGVxdWFsQm9vbCA9IHRydWU7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkgJiYgQXJyYXkuaXNBcnJheShvYmoyKSkge1xuXHQgICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGN1cnJlbnRPYmogPSBvYmoxW2ldO1xuXHQgICAgICB2YXIgbmV4dE9iaiA9IG9iajJbaV07XG5cdCAgICAgIGZvciAodmFyIHAgaW4gY3VycmVudE9iaikge1xuXHQgICAgICAgIGlmIChjdXJyZW50T2JqW3BdICE9PSBuZXh0T2JqW3BdKSB7XG5cdCAgICAgICAgICBpZiAoX3R5cGVvZihjdXJyZW50T2JqW3BdKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihuZXh0T2JqW3BdKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwoY3VycmVudE9ialtwXSwgbmV4dE9ialtwXSk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50T2JqW3BdID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBuZXh0T2JqW3BdID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGlmIChjdXJyZW50T2JqW3BdLm5hbWUgIT09IG5leHRPYmpbcF0ubmFtZSkge1xuXHQgICAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIHNldEVxdWFsQm9vbCA9IGZ1bmN0aW9uIHNldEVxdWFsQm9vbChvYmpBLCBvYmpCKSB7XG5cdCAgICBPYmplY3Qua2V5cyhvYmpBKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgaWYgKCEoa2V5IGluIG9iakIpKSB7XG5cdCAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChfdHlwZW9mKG9iakFba2V5XSkgPT09ICdvYmplY3QnICYmIF90eXBlb2Yob2JqQltrZXldKSA9PT0gJ29iamVjdCcpIHtcblx0ICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChvYmpBW2tleV0sIG9iakJba2V5XSk7XG5cdCAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iakFba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqQltrZXldID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgaWYgKG9iakFba2V5XS5uYW1lICE9PSBvYmpCW2tleV0ubmFtZSkge1xuXHQgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKG9iakFba2V5XSAhPT0gb2JqQltrZXldKSB7XG5cdCAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIHNldEVxdWFsQm9vbChvYmoxLCBvYmoyKTtcblx0ICBzZXRFcXVhbEJvb2wob2JqMiwgb2JqMSk7XG5cdCAgcmV0dXJuIGVxdWFsQm9vbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KGNoaWxkcmVuLCBrZXkpIHtcblx0ICB2YXIgcmV0ID0gbnVsbDtcblx0ICBpZiAoY2hpbGRyZW4pIHtcblx0ICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgaWYgKHJldCB8fCAhYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoYy5rZXkgPT09IGtleSkge1xuXHQgICAgICAgIHJldCA9IGM7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUNoaWxkcmVuKHByZXYsIG5leHQpIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG5cdCAgLy8gdGhlIGNvbWJpbmVkIGxpc3Rcblx0ICB2YXIgbmV4dENoaWxkcmVuUGVuZGluZyA9IHt9O1xuXHQgIHZhciBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcblx0ICB2YXIgZm9sbG93Q2hpbGRyZW5LZXkgPSB2b2lkIDA7XG5cdCAgcHJldi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICBpZiAoIWMpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgaWYgKGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0LCBjLmtleSkpIHtcblx0ICAgICAgaWYgKHBlbmRpbmdDaGlsZHJlbi5sZW5ndGgpIHtcblx0ICAgICAgICBuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSA9IHBlbmRpbmdDaGlsZHJlbjtcblx0ICAgICAgICBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcblx0ICAgICAgfVxuXHQgICAgICBmb2xsb3dDaGlsZHJlbktleSA9IGMua2V5O1xuXHQgICAgfSBlbHNlIGlmIChjLmtleSkge1xuXHQgICAgICBwZW5kaW5nQ2hpbGRyZW4ucHVzaChjKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICBpZiAoIWZvbGxvd0NoaWxkcmVuS2V5KSB7XG5cdCAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG5cdCAgfVxuXHRcblx0ICBuZXh0LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgIGlmICghYykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAobmV4dENoaWxkcmVuUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShjLmtleSkpIHtcblx0ICAgICAgcmV0ID0gcmV0LmNvbmNhdChuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSk7XG5cdCAgICB9XG5cdCAgICByZXQucHVzaChjKTtcblx0ICAgIGlmIChjLmtleSA9PT0gZm9sbG93Q2hpbGRyZW5LZXkpIHtcblx0ICAgICAgcmV0ID0gcmV0LmNvbmNhdChwZW5kaW5nQ2hpbGRyZW4pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0cmFuc2Zvcm1Bcmd1bWVudHMoYXJnLCBrZXksIGkpIHtcblx0ICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXHQgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICByZXN1bHQgPSBhcmcoe1xuXHQgICAgICBrZXk6IGtleSxcblx0ICAgICAgaW5kZXg6IGlcblx0ICAgIH0pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXN1bHQgPSBhcmc7XG5cdCAgfVxuXHQgIHJldHVybiByZXN1bHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSB7XG5cdCAgcmV0dXJuIHByb3BzICYmIHByb3BzLmNoaWxkcmVuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGFydENvbnZlcnRUb0VuZFVuaXQodGFyZ2V0LCBzdHlsZSwgbnVtLCB1bml0LCBkYXRhVW5pdCwgZml4ZWQsIGlzT3JpZ2luV2lkdGgpIHtcblx0ICB2YXIgaG9yaXogPSAvKD86TGVmdHxSaWdodHxXaWR0aHxYKS9pLnRlc3Qoc3R5bGUpIHx8IGlzT3JpZ2luV2lkdGg7XG5cdCAgdmFyIHQgPSBzdHlsZS5pbmRleE9mKCdib3JkZXInKSAhPT0gLTEgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuXHQgIHQgPSBmaXhlZCA/IGRvY3VtZW50LmJvZHkgOiB0O1xuXHQgIHZhciBwaXggPSB2b2lkIDA7XG5cdFxuXHQgIGlmICh1bml0ID09PSAnJScpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDEwMCAqIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG5cdCAgfSBlbHNlIGlmICh1bml0ID09PSAndncnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIC8gMTAwO1xuXHQgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLyAxMDA7XG5cdCAgfSBlbHNlIGlmICh1bml0ICYmIHVuaXQubWF0Y2goL2VtL2kpKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiAxNjtcblx0ICB9IGVsc2Uge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pO1xuXHQgIH1cblx0ICBpZiAoZGF0YVVuaXQgPT09ICclJykge1xuXHQgICAgcGl4ID0gcGl4ICogMTAwIC8gKGhvcml6ID8gdC5jbGllbnRXaWR0aCA6IHQuY2xpZW50SGVpZ2h0KTtcblx0ICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndncnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogMTAwO1xuXHQgIH0gZWxzZSBpZiAoZGF0YVVuaXQgPT09ICd2aCcpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMTAwO1xuXHQgIH0gZWxzZSBpZiAoZGF0YVVuaXQgJiYgZGF0YVVuaXQubWF0Y2goL2VtL2kpKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyAxNjtcblx0ICB9XG5cdCAgcmV0dXJuIHBpeDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcblx0ICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7XG5cdCAgICBpZiAocGF0aC5jaGFyQXQoMCkubWF0Y2goL20vaSkpIHtcblx0ICAgICAgdmFyIGRvbVBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblx0ICAgICAgZG9tUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIHBhdGgpO1xuXHQgICAgICByZXR1cm4gZG9tUGF0aDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhdGgpO1xuXHQgIH0gZWxzZSBpZiAocGF0aC5zdHlsZSkge1xuXHQgICAgcmV0dXJuIHBhdGg7XG5cdCAgfVxuXHQgIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUgcGF0aCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZSh0LCBzdXBwb3J0czNEKSB7XG5cdCAgaWYgKHR5cGVvZiB0ID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHQ7XG5cdCAgfVxuXHQgIHZhciBwZXJzcGVjdGl2ZSA9IHQucGVyc3BlY3RpdmU7XG5cdCAgdmFyIGFuZ2xlID0gdC5yb3RhdGU7XG5cdCAgdmFyIHJvdGF0ZVggPSB0LnJvdGF0ZVg7XG5cdCAgdmFyIHJvdGF0ZVkgPSB0LnJvdGF0ZVk7XG5cdCAgdmFyIHN4ID0gdC5zY2FsZVg7XG5cdCAgdmFyIHN5ID0gdC5zY2FsZVk7XG5cdCAgdmFyIHN6ID0gdC5zY2FsZVo7XG5cdCAgdmFyIHNreCA9IHQuc2tld1g7XG5cdCAgdmFyIHNreSA9IHQuc2tld1k7XG5cdCAgdmFyIHhQZXJjZW50ID0gdC54UGVyY2VudCB8fCAwO1xuXHQgIHZhciB5UGVyY2VudCA9IHQueVBlcmNlbnQgfHwgMDtcblx0ICB2YXIgdHJhbnNsYXRlWCA9IHhQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWDtcblx0ICB2YXIgdHJhbnNsYXRlWSA9IHlQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWTtcblx0ICB2YXIgdHJhbnNsYXRlWiA9IHQudHJhbnNsYXRlWiB8fCAwO1xuXHQgIHZhciBwZXJjZW50ID0geFBlcmNlbnQgfHwgeVBlcmNlbnQgPyAndHJhbnNsYXRlKCcgKyAoeFBlcmNlbnQgfHwgdHJhbnNsYXRlWCArICdweCcpICsgJywnICsgKHlQZXJjZW50IHx8IHRyYW5zbGF0ZVkgKyAncHgnKSArICcpJyA6ICcnO1xuXHQgIHZhciBzayA9IHNreCB8fCBza3kgPyAnc2tldygnICsgc2t4ICsgJ2RlZywnICsgc2t5ICsgJ2RlZyknIDogJyc7XG5cdCAgdmFyIGFuID0gYW5nbGUgPyAncm90YXRlKCcgKyBhbmdsZSArICdkZWcpJyA6ICcnO1xuXHQgIHZhciBzcyA9IHZvaWQgMDtcblx0ICBpZiAoIXBlcnNwZWN0aXZlICYmICFyb3RhdGVYICYmICFyb3RhdGVZICYmICF0cmFuc2xhdGVaICYmIHN6ID09PSAxIHx8ICFzdXBwb3J0czNEKSB7XG5cdCAgICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxID8gJ3NjYWxlKCcgKyBzeCArICcsJyArIHN5ICsgJyknIDogJyc7XG5cdCAgICB2YXIgdHJhbnNsYXRlID0gcGVyY2VudCB8fCAndHJhbnNsYXRlKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4KSc7XG5cdCAgICByZXR1cm4gdHJhbnNsYXRlICsgJyAnICsgYW4gKyAnICcgKyBzcyArICcgJyArIHNrO1xuXHQgIH1cblx0ICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxIHx8IHN6ICE9PSAxID8gJ3NjYWxlM2QoJyArIHN4ICsgJywnICsgc3kgKyAnLCcgKyBzeiArICcpJyA6ICcnO1xuXHQgIHZhciByWCA9IHJvdGF0ZVggPyAncm90YXRlWCgnICsgcm90YXRlWCArICdkZWcpJyA6ICcnO1xuXHQgIHZhciByWSA9IHJvdGF0ZVkgPyAncm90YXRlWSgnICsgcm90YXRlWSArICdkZWcpJyA6ICcnO1xuXHQgIHZhciBwZXIgPSBwZXJzcGVjdGl2ZSA/ICdwZXJzcGVjdGl2ZSgnICsgcGVyc3BlY3RpdmUgKyAncHgpJyA6ICcnO1xuXHQgIHZhciB0cmFuc2xhdGUzZCA9IHBlcmNlbnQgPyBwZXJjZW50ICsgJyB0cmFuc2xhdGUzZCgwLDAsJyArIHRyYW5zbGF0ZVogKyAncHgpJyA6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCwnICsgdHJhbnNsYXRlWiArICdweCknO1xuXHQgIHJldHVybiBwZXIgKyAnICcgKyB0cmFuc2xhdGUzZCArICcgJyArIHNzICsgJyAnICsgYW4gKyAnICcgKyByWCArICcgJyArIHJZICsgJyAnICsgc2s7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzIpO1xuXHRcblx0dmFyIF9yY1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1NlbGVjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHQvLyA9PiBJdCBpcyBuZWVkbGVzcyB0byBleHBvcnQgdGhlIGRlY2xhcmF0aW9uIG9mIGJlbG93IHR3byBpbm5lciBjb21wb25lbnRzLlxuXHQvLyBleHBvcnQgeyBPcHRpb24sIE9wdEdyb3VwIH07XG5cdHZhciBTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdCgpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIFNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfY2xhc3NOYW1lcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcblx0ICAgICAgICAgICAgY29tYm9ib3ggPSBfcHJvcHMuY29tYm9ib3g7XG5cdCAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBfcHJvcHMyJG5vdEZvdW5kQ29udGUgPSBfcHJvcHMyLm5vdEZvdW5kQ29udGVudCxcblx0ICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gX3Byb3BzMiRub3RGb3VuZENvbnRlID09PSB1bmRlZmluZWQgPyAnTm90IEZvdW5kJyA6IF9wcm9wczIkbm90Rm91bmRDb250ZSxcblx0ICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wID0gX3Byb3BzMi5vcHRpb25MYWJlbFByb3A7XG5cdFxuXHQgICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbGcnLCBzaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1zbScsIHNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgdmFyIGFudExvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGU7XG5cdFxuXHQgICAgICAgIGlmIChhbnRMb2NhbGUgJiYgYW50TG9jYWxlLlNlbGVjdCkge1xuXHQgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSAnbm90Rm91bmRDb250ZW50JyBpbiB0aGlzLnByb3BzID8gbm90Rm91bmRDb250ZW50IDogYW50TG9jYWxlLlNlbGVjdC5ub3RGb3VuZENvbnRlbnQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb21ib2JveCkge1xuXHQgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSBudWxsO1xuXHQgICAgICAgICAgICAvLyBjaGlsZHJlbiDluKYgZG9tIOe7k+aehOaXtu+8jOaXoOazleWhq+WFpei+k+WFpeahhlxuXHQgICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBvcHRpb25MYWJlbFByb3AgfHwgJ3ZhbHVlJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjU2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNscywgb3B0aW9uTGFiZWxQcm9wOiBvcHRpb25MYWJlbFByb3AgfHwgJ2NoaWxkcmVuJywgbm90Rm91bmRDb250ZW50OiBub3RGb3VuZENvbnRlbnQgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcblx0XG5cdFNlbGVjdC5PcHRpb24gPSBfcmNTZWxlY3QuT3B0aW9uO1xuXHRTZWxlY3QuT3B0R3JvdXAgPSBfcmNTZWxlY3QuT3B0R3JvdXA7XG5cdFNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtc2VsZWN0Jyxcblx0ICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcsXG5cdCAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogJ3pvb20nXG5cdH07XG5cdFNlbGVjdC5wcm9wVHlwZXMgPSB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNpemU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ2xhcmdlJywgJ3NtYWxsJ10pLFxuXHQgICAgY29tYm9ib3g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG5vdEZvdW5kQ29udGVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvcHRpb25MYWJlbFByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yY1JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuXHRcblx0dmFyIF9yY1JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUmFkaW8pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJhZGlvID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW8sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFJhZGlvKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW8pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBSYWRpby5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgUmFkaW8ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXMsIF9jbGFzc05hbWVzMjtcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBjaGVja2VkID0gX3Byb3BzLmNoZWNrZWQsXG5cdCAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuXHQgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblx0XG5cdCAgICAgICAgdmFyIHdyYXBwZXJDbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1jaGVja2VkJywgY2hlY2tlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMyKSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiB0aGlzLnByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiB0aGlzLnByb3BzLm9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1JhZGlvMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogbnVsbCwgY2hpbGRyZW46IG51bGwgfSkpLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICApIDogbnVsbFxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYWRpbztcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpbztcblx0XG5cdFJhZGlvLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1yYWRpbydcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXHR2YXIgQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHR2YXIgQ29sdW1uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFxuXHRUYWJsZS5Db2x1bW4gPSBDb2x1bW47XG5cdFRhYmxlLkNvbHVtbkdyb3VwID0gQ29sdW1uR3JvdXA7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFRhYmxlO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMTIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDM5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0LyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXHR2YXIgUGx1Z2lucyA9IGZ1bmN0aW9uIFBsdWdpbnMoKSB7fTtcblx0dmFyIHAgPSBQbHVnaW5zLnByb3RvdHlwZTtcblx0cC5wdXNoID0gZnVuY3Rpb24gKHBsdWdpbikge1xuXHQgIHRoaXNbcGx1Z2luLnByb3RvdHlwZS5uYW1lXSA9IHBsdWdpbjtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBuZXcgUGx1Z2lucygpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy50b0ZpeGVkID0gdG9GaXhlZDtcblx0ZXhwb3J0cy5jcmVhdGVNYXRyaXggPSBjcmVhdGVNYXRyaXg7XG5cdGV4cG9ydHMuY2hlY2tTdHlsZU5hbWUgPSBjaGVja1N0eWxlTmFtZTtcblx0ZXhwb3J0cy5nZXRHc2FwVHlwZSA9IGdldEdzYXBUeXBlO1xuXHRleHBvcnRzLnBhcnNlQ29sb3IgPSBwYXJzZUNvbG9yO1xuXHRleHBvcnRzLnBhcnNlU2hhZG93ID0gcGFyc2VTaGFkb3c7XG5cdGV4cG9ydHMuZ2V0Q29sb3IgPSBnZXRDb2xvcjtcblx0ZXhwb3J0cy5pc1RyYW5zZm9ybSA9IGlzVHJhbnNmb3JtO1xuXHRleHBvcnRzLmlzQ29udmVydCA9IGlzQ29udmVydDtcblx0ZXhwb3J0cy5zcGxpdEZpbHRlclRvT2JqZWN0ID0gc3BsaXRGaWx0ZXJUb09iamVjdDtcblx0ZXhwb3J0cy5nZXRNYXRyaXggPSBnZXRNYXRyaXg7XG5cdGV4cG9ydHMuZ2V0VHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtO1xuXHRleHBvcnRzLnN0eWxlc1RvQ3NzID0gc3R5bGVzVG9Dc3M7XG5cdGV4cG9ydHMuZ2V0VW5pdCA9IGdldFVuaXQ7XG5cdGV4cG9ydHMuZ2V0VmFsdWVzID0gZ2V0VmFsdWVzO1xuXHRleHBvcnRzLmZpbmRTdHlsZUJ5TmFtZSA9IGZpbmRTdHlsZUJ5TmFtZTtcblx0ZXhwb3J0cy5tZXJnZVN0eWxlID0gbWVyZ2VTdHlsZTtcblx0dmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG5cdCAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG5cdCAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG5cdCAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcblx0ICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuXHQgIGJveEZsZXg6IHRydWUsXG5cdCAgYm94RmxleEdyb3VwOiB0cnVlLFxuXHQgIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcblx0ICBjb2x1bW5Db3VudDogdHJ1ZSxcblx0ICBmbGV4OiB0cnVlLFxuXHQgIGZsZXhHcm93OiB0cnVlLFxuXHQgIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcblx0ICBmbGV4U2hyaW5rOiB0cnVlLFxuXHQgIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcblx0ICBmbGV4T3JkZXI6IHRydWUsXG5cdCAgZ3JpZFJvdzogdHJ1ZSxcblx0ICBncmlkQ29sdW1uOiB0cnVlLFxuXHQgIGZvbnRXZWlnaHQ6IHRydWUsXG5cdCAgbGluZUNsYW1wOiB0cnVlLFxuXHQgIGxpbmVIZWlnaHQ6IHRydWUsXG5cdCAgb3BhY2l0eTogdHJ1ZSxcblx0ICBvcmRlcjogdHJ1ZSxcblx0ICBvcnBoYW5zOiB0cnVlLFxuXHQgIHRhYlNpemU6IHRydWUsXG5cdCAgd2lkb3dzOiB0cnVlLFxuXHQgIHpJbmRleDogdHJ1ZSxcblx0ICB6b29tOiB0cnVlLFxuXHRcblx0ICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG5cdCAgZmlsbE9wYWNpdHk6IHRydWUsXG5cdCAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuXHQgIHN0b3BPcGFjaXR5OiB0cnVlLFxuXHQgIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcblx0ICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuXHQgIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG5cdCAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcblx0ICBzdHJva2VXaWR0aDogdHJ1ZVxuXHR9O1xuXHR2YXIgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdtcycsICdNb3onLCAnTyddO1xuXHRcblx0ZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG5cdCAgcmV0dXJuIHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG5cdH1cblx0XG5cdE9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcblx0ICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcblx0ICAgIGlzVW5pdGxlc3NOdW1iZXJbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gaXNVbml0bGVzc051bWJlcltwcm9wXTtcblx0ICB9KTtcblx0fSk7XG5cdFxuXHR2YXIgdW5xdW90ZWRDb250ZW50VmFsdWVSZWdleCA9IC9eKG5vcm1hbHxub25lfChcXGIodXJsXFwoW14pXSpcXCl8Y2hhcHRlcl9jb3VudGVyfGF0dHJcXChbXildKlxcKXwobm8tKT8ob3BlbnxjbG9zZSktcXVvdGV8aW5oZXJpdCkoKFxcYlxccyopfCR8XFxzKykpKykkLztcblx0XG5cdHZhciBJRSA9IGZ1bmN0aW9uICgpIHtcblx0ICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAobmF2aWdhdG9yICYmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDguMFwiKSA+IDAgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA5LjBcIikgPiAwKSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIHJldHVybiBmYWxzZTtcblx0fSgpO1xuXHRcblx0dmFyIHJuZCA9IDEwMDAwMDtcblx0XG5cdHZhciBjb2xvckxvb2t1cCA9IHtcblx0ICBhcXVhOiBbMCwgMjU1LCAyNTVdLFxuXHQgIGxpbWU6IFswLCAyNTUsIDBdLFxuXHQgIHNpbHZlcjogWzE5MiwgMTkyLCAxOTJdLFxuXHQgIGJsYWNrOiBbMCwgMCwgMF0sXG5cdCAgbWFyb29uOiBbMTI4LCAwLCAwXSxcblx0ICB0ZWFsOiBbMCwgMTI4LCAxMjhdLFxuXHQgIGJsdWU6IFswLCAwLCAyNTVdLFxuXHQgIG5hdnk6IFswLCAwLCAxMjhdLFxuXHQgIHdoaXRlOiBbMjU1LCAyNTUsIDI1NV0sXG5cdCAgZnVjaHNpYTogWzI1NSwgMCwgMjU1XSxcblx0ICBvbGl2ZTogWzEyOCwgMTI4LCAwXSxcblx0ICB5ZWxsb3c6IFsyNTUsIDI1NSwgMF0sXG5cdCAgb3JhbmdlOiBbMjU1LCAxNjUsIDBdLFxuXHQgIGdyYXk6IFsxMjgsIDEyOCwgMTI4XSxcblx0ICBwdXJwbGU6IFsxMjgsIDAsIDEyOF0sXG5cdCAgZ3JlZW46IFswLCAxMjgsIDBdLFxuXHQgIHJlZDogWzI1NSwgMCwgMF0sXG5cdCAgcGluazogWzI1NSwgMTkyLCAyMDNdLFxuXHQgIGN5YW46IFswLCAyNTUsIDI1NV0sXG5cdCAgdHJhbnNwYXJlbnQ6IFsyNTUsIDI1NSwgMjU1LCAwXVxuXHR9O1xuXHR2YXIgX2h1ZSA9IGZ1bmN0aW9uIF9odWUoaGgsIG0xLCBtMikge1xuXHQgIHZhciBoID0gaGggPiAxID8gaGggLSAxIDogaGg7XG5cdCAgaCA9IGhoIDwgMCA/IGhoICsgMSA6IGg7XG5cdCAgdmFyIGEgPSBoICogMyA8IDIgPyBtMSArIChtMiAtIG0xKSAqICgyIC8gMyAtIGgpICogNiA6IG0xO1xuXHQgIHZhciBiID0gaCA8IDAuNSA/IG0yIDogYTtcblx0ICB2YXIgYyA9IGggKiA2IDwgMSA/IG0xICsgKG0yIC0gbTEpICogaCAqIDYgOiBiO1xuXHQgIHJldHVybiBjICogMjU1ICsgMC41IHwgMDtcblx0fTtcblx0dmFyIERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuXHR2YXIgUkFEMkRFRyA9IDE4MCAvIE1hdGguUEk7XG5cdFxuXHR2YXIgY3NzTGlzdCA9IHtcblx0ICBfbGlzdHM6IHtcblx0ICAgIHRyYW5zZm9ybXNCYXNlOiBbJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdza2V3WCcsICdza2V3WScsICdyb3RhdGVaJywgJ3JvdGF0ZSddLFxuXHQgICAgdHJhbnNmb3JtczNEOiBbJ3RyYW5zbGF0ZTNkJywgJ3RyYW5zbGF0ZVonLCAnc2NhbGVaJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdwZXJzcGVjdGl2ZSddXG5cdCAgfSxcblx0ICB0cmFuc2Zvcm1Hcm91cDogeyB0cmFuc2xhdGU6IDEsIHRyYW5zbGF0ZTNkOiAxLCBzY2FsZTogMSwgc2NhbGUzZDogMSwgcm90YXRlOiAxLCByb3RhdGUzZDogMSB9LFxuXHQgIGZpbHRlcjogWydncmF5U2NhbGUnLCAnc2VwaWEnLCAnaHVlUm90YXRlJywgJ2ludmVydCcsICdicmlnaHRuZXNzJywgJ2NvbnRyYXN0JywgJ2JsdXInXSxcblx0ICBmaWx0ZXJDb252ZXJ0OiB7IGdyYXlTY2FsZTogJ2dyYXlzY2FsZScsIGh1ZVJvdGF0ZTogJ2h1ZS1yb3RhdGUnIH1cblx0fTtcblx0Y3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UgPSAhSUUgPyBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZS5jb25jYXQoY3NzTGlzdC5fbGlzdHMudHJhbnNmb3JtczNEKSA6IGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlO1xuXHRcblx0ZnVuY3Rpb24gdG9GaXhlZChudW0sIGxlbmd0aCkge1xuXHQgIHZhciBfcm5kID0gbGVuZ3RoID8gTWF0aC5wb3coMTAsIGxlbmd0aCkgOiBybmQ7XG5cdCAgdmFyIG4gPSBudW0gfCAwO1xuXHQgIHZhciBkZWMgPSBudW0gLSBuO1xuXHQgIHJldHVybiBkZWMgPyAoZGVjICogX3JuZCArIChudW0gPCAwID8gLTAuNSA6IDAuNSkgfCAwKSAvIF9ybmQgKyBuIDogbnVtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVNYXRyaXgoc3R5bGUpIHtcblx0ICByZXR1cm4gd2luZG93LldlYktpdENTU01hdHJpeCAmJiBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChzdHlsZSkgfHwgd2luZG93Lk1vekNTU01hdHJpeCAmJiBuZXcgd2luZG93Lk1vekNTU01hdHJpeChzdHlsZSkgfHwgd2luZG93LkRPTU1hdHJpeCAmJiBuZXcgd2luZG93LkRPTU1hdHJpeChzdHlsZSkgfHwgd2luZG93Lk1zQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuTXNDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5PQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuT0NTU01hdHJpeChzdHlsZSkgfHwgd2luZG93LkNTU01hdHJpeCAmJiBuZXcgd2luZG93LkNTU01hdHJpeChzdHlsZSkgfHwgbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hlY2tTdHlsZU5hbWUocCkge1xuXHQgIHZhciBhID0gWydPJywgJ01veicsICdtcycsICdNcycsICdXZWJraXQnXTtcblx0ICBpZiAocCAhPT0gJ2ZpbHRlcicgJiYgcCBpbiBkb2N1bWVudC5ib2R5LnN0eWxlKSB7XG5cdCAgICByZXR1cm4gcDtcblx0ICB9XG5cdCAgdmFyIF9wID0gcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHAuc3Vic3RyKDEpO1xuXHQgIHZhciBwcmVmaXhDc3MgPSBhLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICByZXR1cm4gJycgKyBrZXkgKyBfcCBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuXHQgIH0pO1xuXHQgIHJldHVybiBwcmVmaXhDc3NbMF0gPyAnJyArIHByZWZpeENzc1swXSArIF9wIDogbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0R3NhcFR5cGUoX3ApIHtcblx0ICB2YXIgcCA9IF9wO1xuXHQgIHAgPSBwID09PSAneCcgPyAndHJhbnNsYXRlWCcgOiBwO1xuXHQgIHAgPSBwID09PSAneScgPyAndHJhbnNsYXRlWScgOiBwO1xuXHQgIHAgPSBwID09PSAneicgPyAndHJhbnNsYXRlWicgOiBwO1xuXHQgIC8vIHAgPSBwID09PSAncicgPyAncm90YXRlJyA6IHA7XG5cdCAgcmV0dXJuIHA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlQ29sb3IoX3YpIHtcblx0ICB2YXIgYSA9IHZvaWQgMDtcblx0ICB2YXIgciA9IHZvaWQgMDtcblx0ICB2YXIgZyA9IHZvaWQgMDtcblx0ICB2YXIgYiA9IHZvaWQgMDtcblx0ICB2YXIgaCA9IHZvaWQgMDtcblx0ICB2YXIgcyA9IHZvaWQgMDtcblx0ICB2YXIgbCA9IHZvaWQgMDtcblx0ICB2YXIgdiA9IF92O1xuXHQgIHZhciBfbnVtRXhwID0gLyg/OlxcZHxcXC1cXGR8XFwuXFxkfFxcLVxcLlxcZCkrL2c7XG5cdCAgaWYgKCF2KSB7XG5cdCAgICBhID0gY29sb3JMb29rdXAuYmxhY2s7XG5cdCAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHtcblx0ICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgMjU1LCB2ICYgMjU1XTtcblx0ICB9IGVsc2Uge1xuXHQgICAgaWYgKHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgPT09ICcsJykge1xuXHQgICAgICB2ID0gdi5zdWJzdHIoMCwgdi5sZW5ndGggLSAxKTtcblx0ICAgIH1cblx0ICAgIGlmIChjb2xvckxvb2t1cFt2XSkge1xuXHQgICAgICBhID0gY29sb3JMb29rdXBbdl07XG5cdCAgICB9IGVsc2UgaWYgKHYuY2hhckF0KDApID09PSAnIycpIHtcblx0ICAgICAgLy8gaXMgI0ZGRlxuXHQgICAgICBpZiAodi5sZW5ndGggPT09IDQpIHtcblx0ICAgICAgICByID0gdi5jaGFyQXQoMSk7XG5cdCAgICAgICAgZyA9IHYuY2hhckF0KDIpO1xuXHQgICAgICAgIGIgPSB2LmNoYXJBdCgzKTtcblx0ICAgICAgICB2ID0gJyMnICsgciArIHIgKyBnICsgZyArIGIgKyBiO1xuXHQgICAgICB9XG5cdCAgICAgIHYgPSBwYXJzZUludCh2LnN1YnN0cigxKSwgMTYpO1xuXHQgICAgICBhID0gW3YgPj4gMTYsIHYgPj4gOCAmIDI1NSwgdiAmIDI1NV07XG5cdCAgICB9IGVsc2UgaWYgKHYuc3Vic3RyKDAsIDMpID09PSAnaHNsJykge1xuXHQgICAgICBhID0gdi5tYXRjaChfbnVtRXhwKTtcblx0ICAgICAgaCA9IE51bWJlcihhWzBdKSAlIDM2MCAvIDM2MDtcblx0ICAgICAgcyA9IE51bWJlcihhWzFdKSAvIDEwMDtcblx0ICAgICAgbCA9IE51bWJlcihhWzJdKSAvIDEwMDtcblx0ICAgICAgZyA9IGwgPD0gMC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzO1xuXHQgICAgICByID0gbCAqIDIgLSBnO1xuXHQgICAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG5cdCAgICAgICAgYVszXSA9IE51bWJlcihhWzNdKTtcblx0ICAgICAgfVxuXHQgICAgICBhWzBdID0gX2h1ZShoICsgMSAvIDMsIHIsIGcpO1xuXHQgICAgICBhWzFdID0gX2h1ZShoLCByLCBnKTtcblx0ICAgICAgYVsyXSA9IF9odWUoaCAtIDEgLyAzLCByLCBnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGEgPSB2Lm1hdGNoKF9udW1FeHApIHx8IGNvbG9yTG9va3VwLnRyYW5zcGFyZW50O1xuXHQgICAgfVxuXHQgICAgYVswXSA9IE51bWJlcihhWzBdKTtcblx0ICAgIGFbMV0gPSBOdW1iZXIoYVsxXSk7XG5cdCAgICBhWzJdID0gTnVtYmVyKGFbMl0pO1xuXHRcblx0ICAgIGlmIChhLmxlbmd0aCA+IDMpIHtcblx0ICAgICAgYVszXSA9IE51bWJlcihhWzNdKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlU2hhZG93KHYpIHtcblx0ICBpZiAoIXYpIHtcblx0ICAgIHJldHVybiBbMCwgMCwgMCwgMCwgMCwgMCwgMF07XG5cdCAgfVxuXHQgIHZhciBpbnNldCA9IHZvaWQgMDtcblx0ICBpZiAodi5pbmRleE9mKCdyZ2InKSA+PSAwKSB7XG5cdCAgICB2YXIgdCA9IHYubWF0Y2goL3JnYisoPzphKT9cXCgoLiopXFwpLyk7XG5cdCAgICB2YXIgcyA9IHYucmVwbGFjZSh0WzBdLCAnJykudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG5cdCAgICBpbnNldCA9IHMuaW5kZXhPZignaW5zZXQnKTtcblx0ICAgIGlmIChpbnNldCA+PSAwKSB7XG5cdCAgICAgIHMuc3BsaWNlKGluc2V0LCAxKTtcblx0ICAgIH1cblx0ICAgIHZhciBjID0gdFsxXS5yZXBsYWNlKC9cXHMrL2csICcnKS5zcGxpdCgnLCcpO1xuXHQgICAgaWYgKGMubGVuZ3RoID09PSAzKSB7XG5cdCAgICAgIGMucHVzaCgxKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzLmNvbmNhdChjLCBpbnNldCA+PSAwID8gWydpbnNldCddIDogW10pO1xuXHQgIH1cblx0ICB2YXIgdkFyciA9IHYuc3BsaXQoL1xccysvKTtcblx0ICBpbnNldCA9IHZBcnIuaW5kZXhPZignaW5zZXQnKTtcblx0ICBpZiAoaW5zZXQgPj0gMCkge1xuXHQgICAgdkFyci5zcGxpY2UoaW5zZXQsIDEpO1xuXHQgIH1cblx0ICB2YXIgY29sb3IgPSBwYXJzZUNvbG9yKHZBcnJbdkFyci5sZW5ndGggLSAxXSk7XG5cdCAgY29sb3JbM10gPSB0eXBlb2YgY29sb3JbM10gPT09ICdudW1iZXInID8gY29sb3JbM10gOiAxO1xuXHQgIHZBcnIgPSB2QXJyLnNwbGljZSgwLCB2QXJyLmxlbmd0aCAtIDEpO1xuXHQgIHJldHVybiB2QXJyLmNvbmNhdChjb2xvciwgaW5zZXQgPj0gMCA/IFsnaW5zZXQnXSA6IFtdKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q29sb3Iodikge1xuXHQgIHZhciByZ2JhID0gdi5sZW5ndGggPT09IDQgPyAncmdiYScgOiAncmdiJztcblx0ICB2YXIgX3ZhcnMgPSB2Lm1hcChmdW5jdGlvbiAoZCwgaSkge1xuXHQgICAgcmV0dXJuIGkgPCAzID8gTWF0aC5yb3VuZChkKSA6IGQ7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHJnYmEgKyAnKCcgKyBfdmFycy5qb2luKCcsJykgKyAnKSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVHJhbnNmb3JtKHApIHtcblx0ICByZXR1cm4gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuaW5kZXhPZihwKSA+PSAwID8gJ3RyYW5zZm9ybScgOiBwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0NvbnZlcnQocCkge1xuXHQgIHZhciBjc3NOYW1lID0gaXNUcmFuc2Zvcm0ocCk7XG5cdCAgcmV0dXJuIGNzc0xpc3QuZmlsdGVyLmluZGV4T2YoY3NzTmFtZSkgPj0gMCA/ICdmaWx0ZXInIDogY3NzTmFtZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3BsaXRGaWx0ZXJUb09iamVjdChkYXRhKSB7XG5cdCAgaWYgKGRhdGEgPT09ICdub25lJyB8fCAhZGF0YSB8fCBkYXRhID09PSAnJykge1xuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfVxuXHQgIHZhciBmaWx0ZXIgPSBkYXRhLnJlcGxhY2UoJyAnLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBpdGVtO1xuXHQgIH0pO1xuXHQgIHZhciBzdGFydERhdGEgPSB7fTtcblx0ICBmaWx0ZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGRhdGFBcnIgPSBpdGVtLnNwbGl0KCcoJyk7XG5cdCAgICBzdGFydERhdGFbZGF0YUFyclswXV0gPSBkYXRhQXJyWzFdO1xuXHQgIH0pO1xuXHQgIHJldHVybiBzdGFydERhdGE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldE1hdHJpeCh0KSB7XG5cdCAgdmFyIGFyciA9IHQubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9naSk7XG5cdCAgdmFyIG0gPSB7fTtcblx0ICBpZiAoYXJyLmxlbmd0aCA9PT0gNikge1xuXHQgICAgbS5tMTEgPSBwYXJzZUZsb2F0KGFyclswXSk7XG5cdCAgICBtLm0xMiA9IHBhcnNlRmxvYXQoYXJyWzFdKTtcblx0ICAgIG0ubTEzID0gMDtcblx0ICAgIG0ubTE0ID0gMDtcblx0ICAgIG0ubTIxID0gcGFyc2VGbG9hdChhcnJbMl0pO1xuXHQgICAgbS5tMjIgPSBwYXJzZUZsb2F0KGFyclszXSk7XG5cdCAgICBtLm0yMyA9IDA7XG5cdCAgICBtLm0yNCA9IDA7XG5cdCAgICBtLm0zMSA9IDA7XG5cdCAgICBtLm0zMiA9IDA7XG5cdCAgICBtLm0zMyA9IDE7XG5cdCAgICBtLm0zNCA9IDA7XG5cdCAgICBtLm00MSA9IHBhcnNlRmxvYXQoYXJyWzRdKTtcblx0ICAgIG0ubTQyID0gcGFyc2VGbG9hdChhcnJbNV0pO1xuXHQgICAgbS5tNDMgPSAwO1xuXHQgICAgbS5tNDQgPSAwO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICB2YXIgaWkgPSBpICUgNCArIDE7XG5cdCAgICAgIHZhciBqID0gTWF0aC5mbG9vcihpIC8gNCkgKyAxO1xuXHQgICAgICBtWydtJyArIGogKyBpaV0gPSBwYXJzZUZsb2F0KGl0ZW0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIHJldHVybiBtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUcmFuc2Zvcm0odHJhbnNmb3JtKSB7XG5cdCAgdmFyIF90cmFuc2Zvcm0gPSB0cmFuc2Zvcm0gPT09ICdub25lJyB8fCB0cmFuc2Zvcm0gPT09ICcnID8gJ21hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKScgOiB0cmFuc2Zvcm07XG5cdCAgdmFyIG0gPSBnZXRNYXRyaXgoX3RyYW5zZm9ybSk7XG5cdCAgdmFyIG0xMSA9IG0ubTExO1xuXHQgIHZhciBtMTIgPSBtLm0xMjtcblx0ICB2YXIgbTEzID0gbS5tMTM7XG5cdCAgdmFyIG0xNCA9IG0ubTE0O1xuXHQgIHZhciBtMjEgPSBtLm0yMTtcblx0ICB2YXIgbTIyID0gbS5tMjI7XG5cdCAgdmFyIG0yMyA9IG0ubTIzO1xuXHQgIHZhciBtMjQgPSBtLm0yNDtcblx0ICB2YXIgbTMxID0gbS5tMzE7XG5cdCAgdmFyIG0zMiA9IG0ubTMyO1xuXHQgIHZhciBtMzMgPSBtLm0zMztcblx0ICB2YXIgbTM0ID0gbS5tMzQ7XG5cdCAgdmFyIG00MyA9IG0ubTQzO1xuXHQgIHZhciB0MSA9IHZvaWQgMDtcblx0ICB2YXIgdDIgPSB2b2lkIDA7XG5cdCAgdmFyIHQzID0gdm9pZCAwO1xuXHQgIHZhciB0bSA9IHt9O1xuXHQgIHRtLnBlcnNwZWN0aXZlID0gbTM0ID8gdG9GaXhlZChtMzMgLyAobTM0IDwgMCA/IC1tMzQgOiBtMzQpKSA6IDA7XG5cdCAgdG0ucm90YXRlWCA9IHRvRml4ZWQoTWF0aC5hc2luKG0yMykgKiBSQUQyREVHKTtcblx0ICB2YXIgYW5nbGUgPSB0bS5yb3RhdGVYICogREVHMlJBRDtcblx0ICB2YXIgc2tld1ggPSBNYXRoLnRhbihtMjEpO1xuXHQgIHZhciBza2V3WSA9IE1hdGgudGFuKG0xMik7XG5cdCAgdmFyIGNvcyA9IG0zNCAqIHRtLnBlcnNwZWN0aXZlO1xuXHQgIHZhciBzaW4gPSB2b2lkIDA7XG5cdCAgLy8gcm90YXRlWFxuXHQgIGlmIChhbmdsZSkge1xuXHQgICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcblx0ICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG5cdCAgICB0MSA9IG0yMSAqIGNvcyArIG0zMSAqIHNpbjtcblx0ICAgIHQyID0gbTIyICogY29zICsgbTMyICogc2luO1xuXHQgICAgdDMgPSBtMjMgKiBjb3MgKyBtMzMgKiBzaW47XG5cdCAgICBtMzEgPSBtMjEgKiAtc2luICsgbTMxICogY29zO1xuXHQgICAgbTMyID0gbTIyICogLXNpbiArIG0zMiAqIGNvcztcblx0ICAgIG0zMyA9IG0yMyAqIC1zaW4gKyBtMzMgKiBjb3M7XG5cdCAgICBtMzQgPSBtMjQgKiAtc2luICsgbTM0ICogY29zO1xuXHQgICAgbTIxID0gdDE7XG5cdCAgICBtMjIgPSB0Mjtcblx0ICAgIG0yMyA9IHQzO1xuXHQgIH1cblx0ICAvLyByb3RhdGVZXG5cdCAgYW5nbGUgPSBNYXRoLmF0YW4yKG0zMSwgbTMzKTtcblx0ICB0bS5yb3RhdGVZID0gdG9GaXhlZChhbmdsZSAqIFJBRDJERUcpO1xuXHQgIGlmIChhbmdsZSkge1xuXHQgICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcblx0ICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG5cdCAgICB0MSA9IG0xMSAqIGNvcyAtIG0zMSAqIHNpbjtcblx0ICAgIHQyID0gbTEyICogY29zIC0gbTMyICogc2luO1xuXHQgICAgdDMgPSBtMTMgKiBjb3MgLSBtMzMgKiBzaW47XG5cdCAgICBtMzIgPSBtMTIgKiBzaW4gKyBtMzIgKiBjb3M7XG5cdCAgICBtMzMgPSBtMTMgKiBzaW4gKyBtMzMgKiBjb3M7XG5cdCAgICBtMzQgPSBtMTQgKiBzaW4gKyBtMzQgKiBjb3M7XG5cdCAgICBtMTEgPSB0MTtcblx0ICAgIG0xMiA9IHQyO1xuXHQgICAgbTEzID0gdDM7XG5cdCAgfVxuXHQgIC8vIHJvdGF0ZVpcblx0ICBhbmdsZSA9IE1hdGguYXRhbjIobTEyLCBtMTEpO1xuXHQgIHRtLnJvdGF0ZSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcblx0ICBpZiAoYW5nbGUpIHtcblx0ICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG5cdCAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuXHQgICAgbTExID0gbTExICogY29zICsgbTIxICogc2luO1xuXHQgICAgdDIgPSBtMTIgKiBjb3MgKyBtMjIgKiBzaW47XG5cdCAgICBtMjIgPSBtMTIgKiAtc2luICsgbTIyICogY29zO1xuXHQgICAgbTIzID0gbTEzICogLXNpbiArIG0yMyAqIGNvcztcblx0ICAgIG0xMiA9IHQyO1xuXHQgIH1cblx0XG5cdCAgaWYgKHRtLnJvdGF0ZVggJiYgTWF0aC5hYnModG0ucm90YXRlWCkgKyBNYXRoLmFicyh0bS5yb3RhdGUpID4gMzU5LjkpIHtcblx0ICAgIHRtLnJvdGF0ZVggPSB0bS5yb3RhdGUgPSAwO1xuXHQgICAgdG0ucm90YXRlWSArPSAxODA7XG5cdCAgfVxuXHQgIHRtLnNjYWxlWCA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0xMSAqIG0xMSArIG0xMiAqIG0xMikpO1xuXHQgIHRtLnNjYWxlWSA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0yMiAqIG0yMiArIG0zMiAqIG0zMikpO1xuXHQgIHRtLnNjYWxlWiA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0yMyAqIG0yMyArIG0zMyAqIG0zMykpO1xuXHQgIC8vIOS4jeeuoSBza2V3WCBza2V3WeS6hu+8m1xuXHQgIHRtLnNrZXdYID0gc2tld1ggPT09IC1za2V3WSA/IDAgOiBza2V3WDtcblx0ICB0bS5za2V3WSA9IHNrZXdZID09PSAtc2tld1ggPyAwIDogc2tld1k7XG5cdCAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyAxIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSA6IDA7XG5cdCAgdG0udHJhbnNsYXRlWCA9IG0ubTQxO1xuXHQgIHRtLnRyYW5zbGF0ZVkgPSBtLm00Mjtcblx0ICB0bS50cmFuc2xhdGVaID0gbTQzO1xuXHQgIHJldHVybiB0bTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc3R5bGVzVG9Dc3Moa2V5LCB2YWx1ZSkge1xuXHQgIHZhciBfdmFsdWUgPSB2b2lkIDA7XG5cdCAgaWYgKCFpc1VuaXRsZXNzTnVtYmVyW2tleV0gJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuXHQgICAgX3ZhbHVlID0gJyAnICsgdmFsdWUgKyAncHgnO1xuXHQgIH0gZWxzZSBpZiAoa2V5ID09PSAnY29udGVudCcgJiYgIXVucXVvdGVkQ29udGVudFZhbHVlUmVnZXgudGVzdCh2YWx1ZSkpIHtcblx0ICAgIF92YWx1ZSA9ICdcXCcnICsgdmFsdWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpICsgJ1xcJyc7XG5cdCAgfVxuXHQgIHJldHVybiBfdmFsdWUgfHwgdmFsdWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFVuaXQocCwgdikge1xuXHQgIHZhciBjdXJyZW50VW5pdCA9IHYgJiYgdi50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2lnLCAnJyk7XG5cdCAgdmFyIHVuaXQgPSAnJztcblx0ICBpZiAocC5pbmRleE9mKCd0cmFuc2xhdGUnKSA+PSAwIHx8IHAuaW5kZXhPZigncGVyc3BlY3RpdmUnKSA+PSAwIHx8IHAuaW5kZXhPZignYmx1cicpID49IDApIHtcblx0ICAgIHVuaXQgPSAncHgnO1xuXHQgIH0gZWxzZSBpZiAocC5pbmRleE9mKCdza2V3JykgPj0gMCB8fCBwLmluZGV4T2YoJ3JvdGF0ZScpID49IDApIHtcblx0ICAgIHVuaXQgPSAnZGVnJztcblx0ICB9XG5cdCAgcmV0dXJuIGN1cnJlbnRVbml0IHx8IHVuaXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFZhbHVlcyhwLCBkLCB1KSB7XG5cdCAgcmV0dXJuIHAgKyAnKCcgKyBkICsgKHUgfHwgJycpICsgJyknO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaW5kU3R5bGVCeU5hbWUoY3NzQXJyYXksIG5hbWUpIHtcblx0ICB2YXIgcmV0ID0gbnVsbDtcblx0ICBpZiAoY3NzQXJyYXkpIHtcblx0ICAgIGNzc0FycmF5LmZvckVhY2goZnVuY3Rpb24gKF9jbmFtZSkge1xuXHQgICAgICBpZiAocmV0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjTmFtZSA9IF9jbmFtZS5zcGxpdCgnKCcpWzBdO1xuXHQgICAgICB2YXIgYSA9IGNOYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKS5pbmRleE9mKGNOYW1lKSA+PSAwO1xuXHQgICAgICB2YXIgYiA9IG5hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBjTmFtZS5zdWJzdHJpbmcoMCwgY05hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihuYW1lKSA+PSAwO1xuXHQgICAgICB2YXIgYyA9IGNOYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIChjTmFtZS5zdWJzdHJpbmcoMCwgY05hbWUubGVuZ3RoIC0gMikgPT09IG5hbWUgfHwgbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAyKSA9PT0gY05hbWUpO1xuXHQgICAgICBpZiAoY05hbWUgPT09IG5hbWUgfHwgYSB8fCBiIHx8IGMpIHtcblx0ICAgICAgICByZXQgPSBfY25hbWU7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZVN0eWxlKGN1cnJlbnQsIGNoYW5nZSkge1xuXHQgIGlmICghY3VycmVudCB8fCBjdXJyZW50ID09PSAnJykge1xuXHQgICAgcmV0dXJuIGNoYW5nZTtcblx0ICB9XG5cdCAgaWYgKCFjaGFuZ2UgfHwgY2hhbmdlID09PSAnJykge1xuXHQgICAgcmV0dXJuIGN1cnJlbnQ7XG5cdCAgfVxuXHQgIHZhciBfY3VycmVudCA9IGN1cnJlbnQucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG5cdCAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gaXRlbSArICcpJztcblx0ICB9KTtcblx0ICB2YXIgX2NoYW5nZSA9IGNoYW5nZS5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbTtcblx0ICB9KTtcblx0ICBfY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZU9ubHkpIHtcblx0ICAgIHZhciBjaGFuZ2VBcnIgPSBjaGFuZ2VPbmx5LnNwbGl0KCcoJyk7XG5cdCAgICB2YXIgY2hhbmdlTmFtZSA9IGNoYW5nZUFyclswXTtcblx0ICAgIHZhciBjdXJyZW50U2FtZSA9IGZpbmRTdHlsZUJ5TmFtZShfY3VycmVudCwgY2hhbmdlTmFtZSk7XG5cdCAgICBpZiAoIWN1cnJlbnRTYW1lKSB7XG5cdCAgICAgIF9jdXJyZW50LnB1c2goY2hhbmdlT25seSArICcpJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgaW5kZXggPSBfY3VycmVudC5pbmRleE9mKGN1cnJlbnRTYW1lKTtcblx0ICAgICAgX2N1cnJlbnRbaW5kZXhdID0gY2hhbmdlT25seSArICcpJztcblx0ICAgIH1cblx0ICB9KTtcblx0ICBfY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICBpZiAoaXRlbS5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgJiYgaSkge1xuXHQgICAgICBfY3VycmVudC5zcGxpY2UoaSwgMSk7XG5cdCAgICAgIF9jdXJyZW50LnVuc2hpZnQoaXRlbSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIF9jdXJyZW50LmpvaW4oJyAnKS50cmltKCk7XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGNzc0xpc3Q7XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gNDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5Hcm91cCA9IGV4cG9ydHMuQnV0dG9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHR2YXIgX2dyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7XG5cdFxuXHR2YXIgX2dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyb3VwKTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfcmFkaW8yW1wiZGVmYXVsdFwiXS5CdXR0b24gPSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXTtcblx0X3JhZGlvMltcImRlZmF1bHRcIl0uR3JvdXAgPSBfZ3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5CdXR0b24gPSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5Hcm91cCA9IF9ncm91cDJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9yYWRpbzJbXCJkZWZhdWx0XCJdO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNEcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTE4KTtcblx0XG5cdHZhciBfcmNEcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0Ryb3Bkb3duKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERyb3Bkb3duLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBEcm9wZG93bigpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERyb3Bkb3duKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgRHJvcGRvd24ucHJvdG90eXBlLmdldFRyYW5zaXRpb25OYW1lID0gZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyRwbGFjZW1lbnQgPSB0aGlzLnByb3BzLnBsYWNlbWVudCxcblx0ICAgICAgICAgICAgcGxhY2VtZW50ID0gX3Byb3BzJHBsYWNlbWVudCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkcGxhY2VtZW50O1xuXHRcblx0ICAgICAgICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ3RvcCcpID49IDApIHtcblx0ICAgICAgICAgICAgcmV0dXJuICdzbGlkZS1kb3duJztcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICdzbGlkZS11cCc7XG5cdCAgICB9O1xuXHRcblx0ICAgIERyb3Bkb3duLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgICAgICB2YXIgZHJvcGRvd25UcmlnZ2VyID0gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGNoaWxkcmVuLCB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNoaWxkcmVuLnByb3BzLmNsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy10cmlnZ2VyJylcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjRHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgdHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0VHJhbnNpdGlvbk5hbWUoKSB9LCB0aGlzLnByb3BzKSxcblx0ICAgICAgICAgICAgZHJvcGRvd25UcmlnZ2VyXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIERyb3Bkb3duO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xuXHRcblx0RHJvcGRvd24uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LWRyb3Bkb3duJyxcblx0ICAgIG1vdXNlRW50ZXJEZWxheTogMC4xNSxcblx0ICAgIG1vdXNlTGVhdmVEZWxheTogMC4xLFxuXHQgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDQ3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBSYWRpb0J1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBSYWRpb0J1dHRvbigpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvQnV0dG9uKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgdGhpcy5wcm9wcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYWRpb0J1dHRvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpb0J1dHRvbjtcblx0XG5cdFJhZGlvQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1yYWRpby1idXR0b24nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uR3JvdXApIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENvbHVtbkdyb3VwLCBfUmNUYWJsZSRDb2x1bW5Hcm91cCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENvbHVtbkdyb3VwKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDb2x1bW5Hcm91cCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SY1RhYmxlJENvbHVtbkdyb3VwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIENvbHVtbkdyb3VwO1xuXHR9KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uR3JvdXApO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5Hcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDUxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDUyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0ICBaRVJPOiA0OCxcblx0ICBOSU5FOiA1Nyxcblx0XG5cdCAgTlVNUEFEX1pFUk86IDk2LFxuXHQgIE5VTVBBRF9OSU5FOiAxMDUsXG5cdFxuXHQgIEJBQ0tTUEFDRTogOCxcblx0ICBERUxFVEU6IDQ2LFxuXHQgIEVOVEVSOiAxMyxcblx0XG5cdCAgQVJST1dfVVA6IDM4LFxuXHQgIEFSUk9XX0RPV046IDQwXG5cdH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIC8vIE9wdGlvbnMuanN4XG5cdCAgaXRlbXNfcGVyX3BhZ2U6ICfmnaEv6aG1Jyxcblx0ICBqdW1wX3RvOiAn6Lez6IezJyxcblx0ICBwYWdlOiAn6aG1Jyxcblx0XG5cdCAgLy8gUGFnaW5hdGlvbi5qc3hcblx0ICBwcmV2X3BhZ2U6ICfkuIrkuIDpobUnLFxuXHQgIG5leHRfcGFnZTogJ+S4i+S4gOmhtScsXG5cdCAgcHJldl81OiAn5ZCR5YmNIDUg6aG1Jyxcblx0ICBuZXh0XzU6ICflkJHlkI4gNSDpobUnLFxuXHQgIHByZXZfMzogJ+WQkeWJjSAzIOmhtScsXG5cdCAgbmV4dF8zOiAn5ZCR5ZCOIDMg6aG1J1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk5KTtcblx0XG5cdHZhciBfVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9UYWJsZTJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzIpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDg1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oOTIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHR2YXIgX3N0eWxlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfVGltZUxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Myk7XG5cdFxuXHR2YXIgX1RpbWVMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVMaW5lKTtcblx0XG5cdHZhciBfcGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXHRcblx0dmFyIF90aWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Nyk7XG5cdFxuXHR2YXIgX3RpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aWNrZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0dmFyIHBlckZyYW1lID0gTWF0aC5yb3VuZCgxMDAwIC8gNjApO1xuXHRcblx0dmFyIFR3ZWVuT25lID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVHdlZW5PbmUsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUd2Vlbk9uZSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZSk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0XG5cdCAgICBfdGhpcy5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zdGFydE1vbWVudCA9IF90aGlzLnRpbWVMaW5lLnByb2dyZXNzVGltZTtcblx0ICAgICAgX3RoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgICAgX3RoaXMucGxheSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG5cdCAgICAgIGlmIChwcm9wcy5hbmltYXRpb24gJiYgT2JqZWN0LmtleXMocHJvcHMuYW5pbWF0aW9uKS5sZW5ndGgpIHtcblx0ICAgICAgICBfdGhpcy50aW1lTGluZSA9IG5ldyBfVGltZUxpbmUyW1wiZGVmYXVsdFwiXShfdGhpcy5kb20sICgwLCBfdXRpbC5kYXRhVG9BcnJheSkocHJvcHMuYW5pbWF0aW9uKSwgeyBhdHRyOiBwcm9wcy5hdHRyLCB3aWxsQ2hhbmdlOiBwcm9wcy53aWxsQ2hhbmdlIH0pO1xuXHQgICAgICAgIC8vIOmihOWFiOazqOWGjCByYWYsIOWIneWni+WKqOeUu+aVsOWAvOOAglxuXHQgICAgICAgIF90aGlzLnJhZigwLCB0cnVlKTtcblx0ICAgICAgICAvLyDlvIDlp4vliqjnlLtcblx0ICAgICAgICBfdGhpcy5wbGF5KCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgIGlmIChfdGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMucmFmSUQgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uYWRkKF90aGlzLnJhZik7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmZyYW1lID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG5cdCAgICAgIHZhciByZWdpc3Rlck1vbWVudCA9IHJlZ2lzdGVyID8gZGF0ZSA6IDA7XG5cdCAgICAgIHZhciBtb21lbnQgPSAoX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lIC0gX3RoaXMuc3RhcnRGcmFtZSkgKiBwZXJGcmFtZSArIHJlZ2lzdGVyTW9tZW50ICsgX3RoaXMuc3RhcnRNb21lbnQ7XG5cdCAgICAgIGlmICghcmVnaXN0ZXIgJiYgbW9tZW50IDwgcGVyRnJhbWUgJiYgdHlwZW9mIF90aGlzLnByb3BzLm1vbWVudCAhPT0gJ251bWJlcicpIHtcblx0ICAgICAgICAvLyDms6jlhozlrozlkI7vvIznrKzkuIDluKfpooTlhYjot5HliqjvvIwg6byg5qCH6Lef6ZqPXG5cdCAgICAgICAgbW9tZW50ID0gcGVyRnJhbWU7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKF90aGlzLnJldmVyc2UpIHtcblx0ICAgICAgICBtb21lbnQgPSAoX3RoaXMuc3RhcnRNb21lbnQgfHwgMCkgLSAoX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lIC0gX3RoaXMuc3RhcnRGcmFtZSkgKiBwZXJGcmFtZTtcblx0ICAgICAgfVxuXHQgICAgICBtb21lbnQgPSBtb21lbnQgPiBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgPyBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgOiBtb21lbnQ7XG5cdCAgICAgIG1vbWVudCA9IG1vbWVudCA8PSAwID8gMCA6IG1vbWVudDtcblx0ICAgICAgaWYgKG1vbWVudCA8IF90aGlzLm1vbWVudCAmJiAhX3RoaXMucmV2ZXJzZSkge1xuXHQgICAgICAgIF90aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMubW9tZW50ID0gbW9tZW50O1xuXHQgICAgICBfdGhpcy50aW1lTGluZS5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlO1xuXHQgICAgICBfdGhpcy50aW1lTGluZS5mcmFtZShtb21lbnQpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5yYWYgPSBmdW5jdGlvbiAoZGF0ZSwgcmVnaXN0ZXIpIHtcblx0ICAgICAgX3RoaXMuZnJhbWUoZGF0ZSwgcmVnaXN0ZXIpO1xuXHQgICAgICBpZiAoX3RoaXMubW9tZW50ID49IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSAmJiAhX3RoaXMucmV2ZXJzZSB8fCBfdGhpcy5wYXVzZWQgfHwgX3RoaXMucmV2ZXJzZSAmJiBfdGhpcy5tb21lbnQgPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGlja2VyMltcImRlZmF1bHRcIl0uY2xlYXIoX3RoaXMucmFmSUQpO1xuXHQgICAgICBfdGhpcy5yYWZJRCA9IC0xO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5yYWZJRCA9IC0xO1xuXHQgICAgX3RoaXMubW9tZW50ID0gX3RoaXMucHJvcHMubW9tZW50IHx8IDA7XG5cdCAgICBfdGhpcy5zdGFydE1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuXHQgICAgX3RoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgIF90aGlzLnBhdXNlZCA9IF90aGlzLnByb3BzLnBhdXNlZDtcblx0ICAgIF90aGlzLnJldmVyc2UgPSBfdGhpcy5wcm9wcy5yZXZlcnNlO1xuXHQgICAgX3RoaXMub25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgIF90aGlzLm5ld01vbWVudEFuaW0gPSBmYWxzZTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgdGhpcy5kb20gPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgIHRoaXMuc3RhcnQoKTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB0aGlzLm9uQ2hhbmdlID0gbmV4dFByb3BzLm9uQ2hhbmdlO1xuXHQgICAgLy8g6Lez5bin5LqL5Lu2IG1vbWVudDtcblx0ICAgIHZhciBuZXdNb21lbnQgPSBuZXh0UHJvcHMubW9tZW50O1xuXHQgICAgdGhpcy5uZXdNb21lbnRBbmltID0gZmFsc2U7XG5cdCAgICBpZiAodHlwZW9mIG5ld01vbWVudCA9PT0gJ251bWJlcicgJiYgbmV3TW9tZW50ICE9PSB0aGlzLm1vbWVudCkge1xuXHQgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gbmV3TW9tZW50O1xuXHQgICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICAgIGlmICh0aGlzLnJhZklEID09PSAtMSAmJiAhbmV4dFByb3BzLnBhdXNlZCkge1xuXHQgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpczIudGltZUxpbmUucmVzZXRBbmltRGF0YSgpO1xuXHQgICAgICAgICAgdmFyIHN0eWxlID0gbmV4dFByb3BzLnN0eWxlO1xuXHQgICAgICAgICAgX3RoaXMyLmRvbS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuXHQgICAgICAgICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICBfdGhpczIuZG9tLnN0eWxlW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgc3R5bGVba2V5XSk7XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICAgIF90aGlzMi5wbGF5KCk7XG5cdCAgICAgICAgfSkoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLm5ld01vbWVudEFuaW0gPSB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICAvLyDliqjnlLvlpITnkIZcblx0ICAgIHZhciBuZXdBbmltYXRpb24gPSBuZXh0UHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgdmFyIGN1cnJlbnRBbmltYXRpb24gPSB0aGlzLnByb3BzLmFuaW1hdGlvbjtcblx0ICAgIHZhciBlcXVhbCA9ICgwLCBfdXRpbC5vYmplY3RFcXVhbCkoY3VycmVudEFuaW1hdGlvbiwgbmV3QW5pbWF0aW9uKTtcblx0ICAgIHZhciBzdHlsZUVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKSh0aGlzLnByb3BzLnN0eWxlLCBuZXh0UHJvcHMuc3R5bGUpO1xuXHQgICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDkuI3lkIzvvIwg6YeN5paw5Yqo55S7XG5cdCAgICB0aGlzLnJlc3RhcnRBbmltID0gZmFsc2U7XG5cdCAgICBpZiAoIWVxdWFsKSB7XG5cdCAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMucmVzZXRTdHlsZUJvb2wgJiYgdGhpcy50aW1lTGluZSkge1xuXHQgICAgICAgIHRoaXMudGltZUxpbmUucmVzZXREZWZhdWx0U3R5bGUoKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gMDtcblx0ICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICB0aGlzLnJlc3RhcnRBbmltID0gdHJ1ZTtcblx0ICAgICAgLy8gdGhpcy5zdGFydChuZXh0UHJvcHMpO1xuXHQgICAgfSBlbHNlIGlmICghc3R5bGVFcXVhbCkge1xuXHQgICAgICAvLyDlpoLmnpwgYW5pbWF0aW9uIOebuOWQjO+8jO+8jHN0eWxlIOS4jeWQjO+8jOS7juW9k+WJjeaXtumXtOW8gOaUvuOAglxuXHQgICAgICBpZiAodGhpcy5yYWZJRCAhPT0gLTEpIHtcblx0ICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSB0aGlzLnRpbWVMaW5lLnByb2dyZXNzVGltZTtcblx0ICAgICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG5cdCAgICAgICAgLy8gdGhpcy5zdGFydChuZXh0UHJvcHMpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICAvLyDmmoLlgZzlgJLmlL5cblx0ICAgIGlmICh0aGlzLnBhdXNlZCAhPT0gbmV4dFByb3BzLnBhdXNlZCB8fCB0aGlzLnJldmVyc2UgIT09IG5leHRQcm9wcy5yZXZlcnNlKSB7XG5cdCAgICAgIHRoaXMucGF1c2VkID0gbmV4dFByb3BzLnBhdXNlZDtcblx0ICAgICAgdGhpcy5yZXZlcnNlID0gbmV4dFByb3BzLnJldmVyc2U7XG5cdCAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xuXHQgICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKHRoaXMucmV2ZXJzZSAmJiBuZXh0UHJvcHMucmV2ZXJzZURlbGF5KSB7XG5cdCAgICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICAgICAgX3RpY2tlcjJbXCJkZWZhdWx0XCJdLnRpbWVvdXQodGhpcy5yZXN0YXJ0LCBuZXh0UHJvcHMucmV2ZXJzZURlbGF5KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhpcy5yZXN0YXJ0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0ICAgIC8vIOagt+W8j+abtOaWsOS6huWQjuWGjeaJp+ihjOWKqOeUu++8m1xuXHQgICAgaWYgKHRoaXMucmVzdGFydEFuaW0pIHtcblx0ICAgICAgdGhpcy5zdGFydCgpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMubmV3TW9tZW50QW5pbSkge1xuXHQgICAgICB0aGlzLnJhZigpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuXHQgICAgWydhbmltYXRpb24nLCAnY29tcG9uZW50JywgJ3JldmVyc2VEZWxheScsICdhdHRyJywgJ3BhdXNlZCcsICdyZXZlcnNlJywgJ21vbWVudCcsICdyZXNldFN0eWxlQm9vbCcsICd3aWxsQ2hhbmdlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiBkZWxldGUgcHJvcHNba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgcHJvcHMuc3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5zdHlsZSk7XG5cdCAgICBPYmplY3Qua2V5cyhwcm9wcy5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuXHQgICAgICBpZiAocC5tYXRjaCgvZmlsdGVyL2kpKSB7XG5cdCAgICAgICAgWydXZWJraXQnLCAnTW96JywgJ01zJywgJ21zJ10uZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG5cdCAgICAgICAgICByZXR1cm4gcHJvcHMuc3R5bGVbcHJlZml4ICsgJ0ZpbHRlciddID0gcHJvcHMuc3R5bGVbcF07XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcHJvcHMuY29tcG9uZW50ID0gdHlwZW9mIHByb3BzLmNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucHJvcHMuY29tcG9uZW50UmVwbGFjZSA6IHByb3BzLmNvbXBvbmVudDtcblx0ICAgIGlmICghcHJvcHMuY29tcG9uZW50KSB7XG5cdCAgICAgIGRlbGV0ZSBwcm9wcy5jb21wb25lbnQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgcHJvcHMpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBUd2Vlbk9uZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBvYmplY3RPckFycmF5ID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSk7XG5cdFxuXHRUd2Vlbk9uZS5wcm9wVHlwZXMgPSB7XG5cdCAgY29tcG9uZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBjb21wb25lbnRSZXBsYWNlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBhbmltYXRpb246IG9iamVjdE9yQXJyYXksXG5cdCAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBwYXVzZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICByZXZlcnNlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcmV2ZXJzZURlbGF5OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBtb21lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGF0dHI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHdpbGxDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcblx0fTtcblx0XG5cdFR3ZWVuT25lLmRlZmF1bHRQcm9wcyA9IHtcblx0ICBjb21wb25lbnQ6ICdkaXYnLFxuXHQgIHJldmVyc2VEZWxheTogMCxcblx0ICBhdHRyOiAnc3R5bGUnLFxuXHQgIG9uQ2hhbmdlOiBub29wLFxuXHQgIHdpbGxDaGFuZ2U6IHRydWVcblx0fTtcblx0VHdlZW5PbmUucGx1Z2lucyA9IF9wbHVnaW5zMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90d2VlbkZ1bmN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblx0XG5cdHZhciBfdHdlZW5GdW5jdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHdlZW5GdW5jdGlvbnMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdLnBhdGggPSBmdW5jdGlvbiAoX3BhdGgsIF9wYXJhbSkge1xuXHQgIHZhciBwYXJhbSA9IF9wYXJhbSB8fCB7fTtcblx0ICB2YXIgcGF0aE5vZGUgPSAoMCwgX3V0aWwucGFyc2VQYXRoKShfcGF0aCk7XG5cdCAgdmFyIHBhdGhMZW5ndGggPSBwYXRoTm9kZS5nZXRUb3RhbExlbmd0aCgpO1xuXHQgIHZhciByZWN0ID0gcGFyYW0ucmVjdCB8fCAxMDA7IC8vIHBhdGgg55qE5aSn5bCP77yMMTAwICogMTAw77yMXG5cdCAgdmFyIGxlbmd0aFBpeGVsID0gcGFyYW0ubGVuZ3RoUGl4ZWwgfHwgMTUwMDsgLy8g57q/5LiK5Y+W54K55YOP57Sg77yM6buY6K6k5YiG5Li6IDE1MDAg5q6144CC44CCXG5cdCAgdmFyIHBvaW50cyA9IFtdO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoUGl4ZWw7IGkrKykge1xuXHQgICAgcG9pbnRzLnB1c2gocGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChwYXRoTGVuZ3RoIC8gbGVuZ3RoUGl4ZWwgKiBpKSk7XG5cdCAgfVxuXHQgIHJldHVybiBmdW5jdGlvbiBwYXRoKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgcCA9IF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdLmxpbmVhcih0LCBiLCBfYywgZCk7XG5cdCAgICB2YXIgdGltZVBvaW50WCA9IHJlY3QgKiBwOyAvLyBYIOi9tOeahOeZvuWIhuavlDtcblx0ICAgIC8vIOWPluWHuiB4IOi9tOeZvuWIhuavlOS4iueahOeCuTtcblx0ICAgIHZhciBwb2ludCA9IHBvaW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgcmV0dXJuIGl0ZW0ueCA+PSB0aW1lUG9pbnRYO1xuXHQgICAgfSlbMF0gfHwgcGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChwICogcGF0aExlbmd0aCk7XG5cdCAgICByZXR1cm4gMSAtIHBvaW50LnkgLyByZWN0O1xuXHQgIH07XG5cdH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE6XG5bMTIxNiwgMTA3XSxcblxuLyoqKi8gNzI6XG5bMTIxNiwgMTExXSxcblxuLyoqKi8gNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgTUVOVSA9IGV4cG9ydHMuTUVOVSA9IDE7XG5cdHZhciBERVRBSUwgPSBleHBvcnRzLkRFVEFJTCA9IDI7XG5cdHZhciBBREQgPSBleHBvcnRzLkFERCA9IDM7XG5cdHZhciBVUERBVEUgPSBleHBvcnRzLlVQREFURSA9IDQ7XG5cdHZhciBERUxFVEUgPSBleHBvcnRzLkRFTEVURSA9IDU7XG5cdHZhciBDSEVDSyA9IGV4cG9ydHMuQ0hFQ0sgPSA2O1xuXHR2YXIgVVBMT0FEID0gZXhwb3J0cy5VUExPQUQgPSA3O1xuXG4vKioqLyB9LFxuXG4vKioqLyA3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHt2YXIgbm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpXG5cdCAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcblx0ICAsIHZlbmRvcnMgPSBbJ21veicsICd3ZWJraXQnXVxuXHQgICwgc3VmZml4ID0gJ0FuaW1hdGlvbkZyYW1lJ1xuXHQgICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG5cdCAgLCBjYWYgPSByb290WydjYW5jZWwnICsgc3VmZml4XSB8fCByb290WydjYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cblx0XG5cdGZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcblx0ICByYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnUmVxdWVzdCcgKyBzdWZmaXhdXG5cdCAgY2FmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbCcgKyBzdWZmaXhdXG5cdCAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cblx0fVxuXHRcblx0Ly8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuXHRpZighcmFmIHx8ICFjYWYpIHtcblx0ICB2YXIgbGFzdCA9IDBcblx0ICAgICwgaWQgPSAwXG5cdCAgICAsIHF1ZXVlID0gW11cblx0ICAgICwgZnJhbWVEdXJhdGlvbiA9IDEwMDAgLyA2MFxuXHRcblx0ICByYWYgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHQgICAgaWYocXVldWUubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgIHZhciBfbm93ID0gbm93KClcblx0ICAgICAgICAsIG5leHQgPSBNYXRoLm1heCgwLCBmcmFtZUR1cmF0aW9uIC0gKF9ub3cgLSBsYXN0KSlcblx0ICAgICAgbGFzdCA9IG5leHQgKyBfbm93XG5cdCAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGNwID0gcXVldWUuc2xpY2UoMClcblx0ICAgICAgICAvLyBDbGVhciBxdWV1ZSBoZXJlIHRvIHByZXZlbnRcblx0ICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG5cdCAgICAgICAgLy8gdG8gdGhlIGN1cnJlbnQgZnJhbWUncyBxdWV1ZVxuXHQgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDBcblx0ICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgIGlmKCFjcFtpXS5jYW5jZWxsZWQpIHtcblx0ICAgICAgICAgICAgdHJ5e1xuXHQgICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG5cdCAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuXHQgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRocm93IGUgfSwgMClcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2goe1xuXHQgICAgICBoYW5kbGU6ICsraWQsXG5cdCAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcblx0ICAgICAgY2FuY2VsbGVkOiBmYWxzZVxuXHQgICAgfSlcblx0ICAgIHJldHVybiBpZFxuXHQgIH1cblx0XG5cdCAgY2FmID0gZnVuY3Rpb24oaGFuZGxlKSB7XG5cdCAgICBmb3IodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcblx0ICAgICAgICBxdWV1ZVtpXS5jYW5jZWxsZWQgPSB0cnVlXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4pIHtcblx0ICAvLyBXcmFwIGluIGEgbmV3IGZ1bmN0aW9uIHRvIHByZXZlbnRcblx0ICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuXHQgIC8vIHRvIHRoZSBuYXRpdmUgckFGIGZ1bmN0aW9uXG5cdCAgcmV0dXJuIHJhZi5jYWxsKHJvb3QsIGZuKVxuXHR9XG5cdG1vZHVsZS5leHBvcnRzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuXHQgIGNhZi5hcHBseShyb290LCBhcmd1bWVudHMpXG5cdH1cblx0bW9kdWxlLmV4cG9ydHMucG9seWZpbGwgPSBmdW5jdGlvbigpIHtcblx0ICByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJhZlxuXHQgIHJvb3QuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjYWZcblx0fVxuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyA4Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nik7XG5cdFxuXHR2YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfaW5kZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBDaGVja2JveEdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2hlY2tib3hHcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQ2hlY2tib3hHcm91cChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2hlY2tib3hHcm91cCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMudG9nZ2xlT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICB2YXIgb3B0aW9uSW5kZXggPSBfdGhpcy5zdGF0ZS52YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSk7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdLmNvbmNhdCgoMCwgX3RvQ29uc3VtYWJsZUFycmF5M1tcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLnZhbHVlKSk7XG5cdCAgICAgICAgICAgIGlmIChvcHRpb25JbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlLnB1c2gob3B0aW9uLnZhbHVlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlLnNwbGljZShvcHRpb25JbmRleCwgMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWUgfHwgW11cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlIHx8IFtdXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnM7XG5cdCAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy83OTYwXG5cdFxuXHQgICAgICAgIHJldHVybiBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb25cblx0ICAgICAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcblx0XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKS5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9pbmRleDJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyBkaXNhYmxlZDogJ2Rpc2FibGVkJyBpbiBvcHRpb24gPyBvcHRpb24uZGlzYWJsZWQgOiBfdGhpczIucHJvcHMuZGlzYWJsZWQsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSkgIT09IC0xLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlT3B0aW9uKG9wdGlvbik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0nLCBrZXk6IG9wdGlvbi52YWx1ZSB9LFxuXHQgICAgICAgICAgICAgICAgb3B0aW9uLmxhYmVsXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZyB9LFxuXHQgICAgICAgICAgICBvcHRpb25zXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIENoZWNrYm94R3JvdXA7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3hHcm91cDtcblx0XG5cdENoZWNrYm94R3JvdXAuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgb3B0aW9uczogW10sXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gtZ3JvdXAnXG5cdH07XG5cdENoZWNrYm94R3JvdXAucHJvcFR5cGVzID0ge1xuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICB2YWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgb3B0aW9uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDgzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfZHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0XG5cdHZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG5cdCAgICB2YXIgdCA9IHt9O1xuXHQgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcblx0ICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG5cdCAgICB9cmV0dXJuIHQ7XG5cdH07XG5cdFxuXHR2YXIgQnV0dG9uR3JvdXAgPSBfYnV0dG9uMltcImRlZmF1bHRcIl0uR3JvdXA7XG5cdFxuXHR2YXIgRHJvcGRvd25CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93bkJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRHJvcGRvd25CdXR0b24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bkJ1dHRvbik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIERyb3Bkb3duQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG5cdCAgICAgICAgICAgIG92ZXJsYXkgPSBfYS5vdmVybGF5LFxuXHQgICAgICAgICAgICB0cmlnZ2VyID0gX2EudHJpZ2dlcixcblx0ICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcblx0ICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9hLmRpc2FibGVkLFxuXHQgICAgICAgICAgICB2aXNpYmxlID0gX2EudmlzaWJsZSxcblx0ICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlID0gX2Eub25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInR5cGVcIiwgXCJvdmVybGF5XCIsIFwidHJpZ2dlclwiLCBcImFsaWduXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJvbkNsaWNrXCIsIFwicHJlZml4Q2xzXCIsIFwiZGlzYWJsZWRcIiwgXCJ2aXNpYmxlXCIsIFwib25WaXNpYmxlQ2hhbmdlXCJdKTtcblx0ICAgICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcblx0ICAgICAgICB2YXIgZHJvcGRvd25Qcm9wcyA9IHtcblx0ICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuXHQgICAgICAgICAgICBvdmVybGF5OiBvdmVybGF5LFxuXHQgICAgICAgICAgICB0cmlnZ2VyOiBkaXNhYmxlZCA/IFtdIDogdHJpZ2dlcixcblx0ICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlOiBvblZpc2libGVDaGFuZ2Vcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGlmICgndmlzaWJsZScgaW4gdGhpcy5wcm9wcykge1xuXHQgICAgICAgICAgICBkcm9wZG93blByb3BzLnZpc2libGUgPSB2aXNpYmxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgQnV0dG9uR3JvdXAsXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IGNsYXNzTmFtZTogY2xzIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBvbkNsaWNrOiBvbkNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcblx0ICAgICAgICAgICAgICAgIGNoaWxkcmVuXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIGRyb3Bkb3duUHJvcHMsXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgICAgICB7IHR5cGU6IHR5cGUsIGRpc2FibGVkOiBkaXNhYmxlZCB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZG93bicgfSlcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBEcm9wZG93bkJ1dHRvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bkJ1dHRvbjtcblx0XG5cdERyb3Bkb3duQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGFsaWduOiB7XG5cdCAgICAgICAgcG9pbnRzOiBbJ3RyJywgJ2JyJ10sXG5cdCAgICAgICAgb3ZlcmxheToge1xuXHQgICAgICAgICAgICBhZGp1c3RYOiAxLFxuXHQgICAgICAgICAgICBhZGp1c3RZOiAxXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgICAgICB0YXJnZXRPZmZzZXQ6IFswLCAwXVxuXHQgICAgfSxcblx0ICAgIHR5cGU6ICdkZWZhdWx0Jyxcblx0ICAgIHByZWZpeENsczogJ2FudC1kcm9wZG93bi1idXR0b24nXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oNDYpO1xuXHRcblx0dmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duQnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X2Ryb3Bkb3duMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX2Ryb3Bkb3duQnV0dG9uMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX2Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4NTpcblsxMjE4LCAxMDhdLFxuXG4vKioqLyA4ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNEaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxMCk7XG5cdFxuXHR2YXIgX3JjRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjRGlhbG9nKTtcblx0XG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xuXHRcblx0dmFyIF9hZGRFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZEV2ZW50TGlzdGVuZXIpO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBtb3VzZVBvc2l0aW9uID0gdm9pZCAwO1xuXHR2YXIgbW91c2VQb3NpdGlvbkV2ZW50QmluZGVkID0gdm9pZCAwO1xuXHRcblx0dmFyIE1vZGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTW9kYWwsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE1vZGFsKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTW9kYWwpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlQ2FuY2VsID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgdmFyIG9uQ2FuY2VsID0gX3RoaXMucHJvcHMub25DYW5jZWw7XG5cdCAgICAgICAgICAgIGlmIChvbkNhbmNlbCkge1xuXHQgICAgICAgICAgICAgICAgb25DYW5jZWwoZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZU9rID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgdmFyIG9uT2sgPSBfdGhpcy5wcm9wcy5vbk9rO1xuXHQgICAgICAgICAgICBpZiAob25Paykge1xuXHQgICAgICAgICAgICAgICAgb25PayhlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIE1vZGFsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIGlmIChtb3VzZVBvc2l0aW9uRXZlbnRCaW5kZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyDlj6rmnInngrnlh7vkuovku7bmlK/mjIHku47pvKDmoIfkvY3nva7liqjnlLvlsZXlvIBcblx0ICAgICAgICAoMCwgX2FkZEV2ZW50TGlzdGVuZXIyW1wiZGVmYXVsdFwiXSkoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICBtb3VzZVBvc2l0aW9uID0ge1xuXHQgICAgICAgICAgICAgICAgeDogZS5wYWdlWCxcblx0ICAgICAgICAgICAgICAgIHk6IGUucGFnZVlcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgLy8gMTAwbXMg5YaF5Y+R55Sf6L+H54K55Ye75LqL5Lu277yM5YiZ5LuO54K55Ye75L2N572u5Yqo55S75bGV56S6XG5cdCAgICAgICAgICAgIC8vIOWQpuWImeebtOaOpSB6b29tIOWxleekulxuXHQgICAgICAgICAgICAvLyDov5nmoLflj6/ku6XlhbzlrrnpnZ7ngrnlh7vmlrnlvI/lsZXlvIBcblx0ICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbW91c2VQb3NpdGlvbiA9IG51bGw7XG5cdCAgICAgICAgICAgIH0sIDEwMCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgbW91c2VQb3NpdGlvbkV2ZW50QmluZGVkID0gdHJ1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgTW9kYWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgb2tUZXh0ID0gX3Byb3BzLm9rVGV4dCxcblx0ICAgICAgICAgICAgY2FuY2VsVGV4dCA9IF9wcm9wcy5jYW5jZWxUZXh0LFxuXHQgICAgICAgICAgICBjb25maXJtTG9hZGluZyA9IF9wcm9wcy5jb25maXJtTG9hZGluZyxcblx0ICAgICAgICAgICAgZm9vdGVyID0gX3Byb3BzLmZvb3Rlcixcblx0ICAgICAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlO1xuXHRcblx0ICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLk1vZGFsKSB7XG5cdCAgICAgICAgICAgIG9rVGV4dCA9IG9rVGV4dCB8fCB0aGlzLmNvbnRleHQuYW50TG9jYWxlLk1vZGFsLm9rVGV4dDtcblx0ICAgICAgICAgICAgY2FuY2VsVGV4dCA9IGNhbmNlbFRleHQgfHwgdGhpcy5jb250ZXh0LmFudExvY2FsZS5Nb2RhbC5jYW5jZWxUZXh0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZGVmYXVsdEZvb3RlciA9IFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsga2V5OiAnY2FuY2VsJywgc2l6ZTogJ2xhcmdlJywgb25DbGljazogdGhpcy5oYW5kbGVDYW5jZWwgfSxcblx0ICAgICAgICAgICAgY2FuY2VsVGV4dCB8fCAn5Y+W5raIJ1xuXHQgICAgICAgICksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgeyBrZXk6ICdjb25maXJtJywgdHlwZTogJ3ByaW1hcnknLCBzaXplOiAnbGFyZ2UnLCBsb2FkaW5nOiBjb25maXJtTG9hZGluZywgb25DbGljazogdGhpcy5oYW5kbGVPayB9LFxuXHQgICAgICAgICAgICBva1RleHQgfHwgJ+ehruWumidcblx0ICAgICAgICApXTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNEaWFsb2cyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgb25DbG9zZTogdGhpcy5oYW5kbGVDYW5jZWwsIGZvb3RlcjogZm9vdGVyIHx8IGRlZmF1bHRGb290ZXIgfSwgdGhpcy5wcm9wcywgeyB2aXNpYmxlOiB2aXNpYmxlLCBtb3VzZVBvc2l0aW9uOiBtb3VzZVBvc2l0aW9uIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIE1vZGFsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vZGFsO1xuXHRcblx0TW9kYWwuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LW1vZGFsJyxcblx0ICAgIHdpZHRoOiA1MjAsXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogJ3pvb20nLFxuXHQgICAgbWFza1RyYW5zaXRpb25OYW1lOiAnZmFkZScsXG5cdCAgICBjb25maXJtTG9hZGluZzogZmFsc2UsXG5cdCAgICB2aXNpYmxlOiBmYWxzZVxuXHR9O1xuXHRNb2RhbC5wcm9wVHlwZXMgPSB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DYW5jZWw6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9rVGV4dDogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuXHQgICAgY2FuY2VsVGV4dDogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuXHQgICAgd2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcblx0ICAgIGNvbmZpcm1Mb2FkaW5nOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBhbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBmb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0ICAgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG5cdCAgICBjbG9zYWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdE1vZGFsLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIE1pbmlTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShNaW5pU2VsZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBNaW5pU2VsZWN0KCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTWluaVNlbGVjdCk7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIE1pbmlTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfc2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNpemU6ICdzbWFsbCcgfSwgdGhpcy5wcm9wcykpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gTWluaVNlbGVjdDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNaW5pU2VsZWN0O1xuXHRcblx0TWluaVNlbGVjdC5PcHRpb24gPSBfc2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjUGFnaW5hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIzKTtcblx0XG5cdHZhciBfcmNQYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUGFnaW5hdGlvbik7XG5cdFxuXHR2YXIgX3NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblx0XG5cdHZhciBfTWluaVNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oODkpO1xuXHRcblx0dmFyIF9NaW5pU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01pbmlTZWxlY3QpO1xuXHRcblx0dmFyIF96aF9DTiA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0dmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUGFnaW5hdGlvbigpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFBhZ2luYXRpb24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgICAgIHZhciBzZWxlY3RDb21wb25lbnRDbGFzcyA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXTtcblx0ICAgICAgICB2YXIgbG9jYWxlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb247XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbWluaSc7XG5cdCAgICAgICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzID0gX01pbmlTZWxlY3QyW1wiZGVmYXVsdFwiXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBzZWxlY3RDb21wb25lbnRDbGFzczogc2VsZWN0Q29tcG9uZW50Q2xhc3MsIHNlbGVjdFByZWZpeENsczogdGhpcy5wcm9wcy5zZWxlY3RQcmVmaXhDbHMgfSwgdGhpcy5wcm9wcywgeyBsb2NhbGU6IGxvY2FsZSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUGFnaW5hdGlvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQYWdpbmF0aW9uO1xuXHRcblx0UGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBsb2NhbGU6IF96aF9DTjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgIHByZWZpeENsczogJ2FudC1wYWdpbmF0aW9uJyxcblx0ICAgIHNlbGVjdFByZWZpeENsczogJ2FudC1zZWxlY3QnXG5cdH07XG5cdFBhZ2luYXRpb24uY29udGV4dFR5cGVzID0ge1xuXHQgICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9QYWdpbmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MCk7XG5cdFxuXHR2YXIgX1BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFnaW5hdGlvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDkyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0XG5cdHZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRDaGVja2VkVmFsdWUoY2hpbGRyZW4pIHtcblx0ICAgIHZhciB2YWx1ZSA9IG51bGw7XG5cdCAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG5cdCAgICAgICAgaWYgKHJhZGlvICYmIHJhZGlvLnByb3BzICYmIHJhZGlvLnByb3BzLmNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSByYWRpby5wcm9wcy52YWx1ZTtcblx0ICAgICAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbWF0Y2hlZCA/IHsgdmFsdWU6IHZhbHVlIH0gOiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdHZhciBSYWRpb0dyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUmFkaW9Hcm91cChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9Hcm91cCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMub25SYWRpb0NoYW5nZSA9IGZ1bmN0aW9uIChldikge1xuXHQgICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gX3RoaXMuc3RhdGUudmFsdWU7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcblx0XG5cdCAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlICYmIHZhbHVlICE9PSBsYXN0VmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGV2KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cdCAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcykge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKHByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgICAgICAgdmFsdWUgPSBjaGVja2VkVmFsdWUgJiYgY2hlY2tlZFZhbHVlLnZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGVja2VkVmFsdWUudmFsdWVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdCAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgfTtcblx0XG5cdCAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgdmFyIGNoaWxkcmVuID0gIXByb3BzLmNoaWxkcmVuID8gW10gOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuXHQgICAgICAgICAgICBpZiAocmFkaW8gJiYgKHJhZGlvLnR5cGUgPT09IF9yYWRpbzJbXCJkZWZhdWx0XCJdIHx8IHJhZGlvLnR5cGUgPT09IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdKSAmJiByYWRpby5wcm9wcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChyYWRpbywgKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHJhZGlvLnByb3BzLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5vblJhZGlvQ2hhbmdlLFxuXHQgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZSA9PT0gcmFkaW8ucHJvcHMudmFsdWUsXG5cdCAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHJhZGlvLnByb3BzLmRpc2FibGVkIHx8IF90aGlzMi5wcm9wcy5kaXNhYmxlZFxuXHQgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByYWRpbztcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgX3Byb3BzJHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzJHByZWZpeENscyA9PT0gdW5kZWZpbmVkID8gJ2FudC1yYWRpby1ncm91cCcgOiBfcHJvcHMkcHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWU7XG5cdFxuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctJyArIHByb3BzLnNpemUsIHByb3BzLnNpemUpLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogcHJvcHMuc3R5bGUsIG9uTW91c2VFbnRlcjogcHJvcHMub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYWRpb0dyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhZGlvR3JvdXA7XG5cdFxuXHRSYWRpb0dyb3VwLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGRpc2FibGVkOiBmYWxzZVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA5KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfUmNUYWJsZSRDb2x1bW4pIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENvbHVtbiwgX1JjVGFibGUkQ29sdW1uKTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDb2x1bW4pO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uO1xuXHR9KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAocHJvcHMpIHtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcblx0ICAgICAgICBwcm9wcy5jaGlsZHJlblxuXHQgICAgKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXHRcblx0dmFyIF9yYWRpbyA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpO1xuXHRcblx0dmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25Cb3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkJveChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQm94KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcylcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdCAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnByb3BzLnN0b3JlO1xuXHRcblx0ICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBfdGhpczIuZ2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuXHQgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmdldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBnZXRDaGVja1N0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGRlZmF1bHRTZWxlY3Rpb24gPSBwcm9wcy5kZWZhdWx0U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICByb3dJbmRleCA9IHByb3BzLnJvd0luZGV4O1xuXHRcblx0ICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5KSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwIHx8IGRlZmF1bHRTZWxlY3Rpb24uaW5kZXhPZihyb3dJbmRleCkgPj0gMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICB0eXBlID0gX3Byb3BzLnR5cGUsXG5cdCAgICAgICAgICAgIHJvd0luZGV4ID0gX3Byb3BzLnJvd0luZGV4LFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cdFxuXHQgICAgICAgIGlmICh0eXBlID09PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlLCB2YWx1ZTogcm93SW5kZXgsIGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aW9uQm94O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkJveDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBTZWxlY3Rpb25DaGVja2JveEFsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkNoZWNrYm94QWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWxlY3Rpb25DaGVja2JveEFsbChwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKSxcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogX3RoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICB0aGlzLnNldENoZWNrU3RhdGUobmV4dFByb3BzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0ICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5wcm9wcy5zdG9yZTtcblx0XG5cdCAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzMi5zZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jaGVja1NlbGVjdGlvbiA9IGZ1bmN0aW9uIGNoZWNrU2VsZWN0aW9uKGRhdGEsIHR5cGUsIGJ5RGVmYXVsdENoZWNrZWQpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGdldENoZWNrYm94UHJvcHNCeUl0ZW0gPSBfcHJvcHMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSxcblx0ICAgICAgICAgICAgZ2V0UmVjb3JkS2V5ID0gX3Byb3BzLmdldFJlY29yZEtleTtcblx0ICAgICAgICAvLyB0eXBlIHNob3VsZCBiZSAnZXZlcnknIHwgJ3NvbWUnXG5cdFxuXHQgICAgICAgIGlmICh0eXBlID09PSAnZXZlcnknIHx8IHR5cGUgPT09ICdzb21lJykge1xuXHQgICAgICAgICAgICByZXR1cm4gYnlEZWZhdWx0Q2hlY2tlZCA/IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBnZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRlZmF1bHRDaGVja2VkO1xuXHQgICAgICAgICAgICB9KSA6IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGdldFJlY29yZEtleShpdGVtLCBpKSkgPj0gMDtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnNldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBzZXRDaGVja1N0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLmdldENoZWNrU3RhdGUocHJvcHMpO1xuXHQgICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpO1xuXHQgICAgICAgIGlmIChjaGVja2VkICE9PSB0aGlzLnN0YXRlLmNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpbmRldGVybWluYXRlICE9PSB0aGlzLnN0YXRlLmluZGV0ZXJtaW5hdGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcblx0ICAgICAgICAgICAgZGF0YSA9IHByb3BzLmRhdGE7XG5cdFxuXHQgICAgICAgIHZhciBjaGVja2VkID0gdm9pZCAwO1xuXHQgICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgOiB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSB8fCB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY2hlY2tlZDtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmdldEluZGV0ZXJtaW5hdGVTdGF0ZSA9IGZ1bmN0aW9uIGdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcykge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuXHQgICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblx0XG5cdCAgICAgICAgdmFyIGluZGV0ZXJtaW5hdGUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCB0cnVlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGluZGV0ZXJtaW5hdGU7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQsXG5cdCAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzMi5vbkNoYW5nZTtcblx0ICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IF9zdGF0ZS5jaGVja2VkLFxuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gX3N0YXRlLmluZGV0ZXJtaW5hdGU7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdHZhciBfZmlsdGVyRHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cdFxuXHR2YXIgX2ZpbHRlckRyb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ZpbHRlckRyb3Bkb3duKTtcblx0XG5cdHZhciBfcGFnaW5hdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTEpO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhZ2luYXRpb24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3NwaW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdFxuXHR2YXIgX3NwaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3Bpbik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXHRcblx0dmFyIF9TZWxlY3Rpb25Cb3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KTtcblx0XG5cdHZhciBfU2VsZWN0aW9uQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkJveCk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkNoZWNrYm94QWxsKTtcblx0XG5cdHZhciBfQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX0NvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW4pO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuXHQgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdCAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHQ7XG5cdH07XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XG5cdCAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgaWYgKGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG5cdCAgICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0ICAgIH1cblx0fVxuXHR2YXIgZGVmYXVsdExvY2FsZSA9IHtcblx0ICAgIGZpbHRlclRpdGxlOiAn562b6YCJJyxcblx0ICAgIGZpbHRlckNvbmZpcm06ICfnoa7lrponLFxuXHQgICAgZmlsdGVyUmVzZXQ6ICfph43nva4nLFxuXHQgICAgZW1wdHlUZXh0OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdzcGFuJyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZnJvd24tbycgfSksXG5cdCAgICAgICAgJ1xcdTY2ODJcXHU2NUUwXFx1NjU3MFxcdTYzNkUnXG5cdCAgICApXG5cdH07XG5cdHZhciBkZWZhdWx0UGFnaW5hdGlvbiA9IHtcblx0ICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgb25TaG93U2l6ZUNoYW5nZTogbm9vcFxuXHR9O1xuXHRcblx0dmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBUYWJsZSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcm93U2VsZWN0ID0gX3RoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3RoaXMkcHJvcHMkcm93U2VsZWN0ID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHJvd1NlbGVjdDtcblx0XG5cdCAgICAgICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGluZGV4KTtcblx0ICAgICAgICAgICAgLy8gQ2FjaGUgY2hlY2tib3hQcm9wc1xuXHQgICAgICAgICAgICBpZiAoIV90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSA9IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKGl0ZW0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUZpbHRlciA9IGZ1bmN0aW9uIChjb2x1bW4sIG5leHRGaWx0ZXJzKSB7XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUuZmlsdGVycywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbiksIG5leHRGaWx0ZXJzKSk7XG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIG5vdCBpbiBjdXJyZW50IGNvbHVtbnNcblx0ICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2x1bW5LZXlzID0gW107XG5cdCAgICAgICAgICAgICgwLCBfdXRpbC50cmVlTWFwKShfdGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuXHQgICAgICAgICAgICAgICAgaWYgKCFjLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbHVtbktleXMucHVzaChfdGhpcy5nZXRDb2x1bW5LZXkoYykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbHVtbktleXMuaW5kZXhPZihjb2x1bW5LZXkpIDwgMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzW2NvbHVtbktleV07XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBpZiAocHJvcHMucGFnaW5hdGlvbikge1xuXHQgICAgICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBwcm9wXG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSAxO1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5vbkNoYW5nZShwYWdpbmF0aW9uLmN1cnJlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb24sXG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7fVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyc1RvU2V0U3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZmlsdGVycyk7XG5cdCAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIHdoaWNoIGlzIGNvbnRyb2xsZWRcblx0ICAgICAgICAgICAgX3RoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjb2x1bW5LZXkgPSBfdGhpcy5nZXRDb2x1bW5LZXkoY29sKTtcblx0ICAgICAgICAgICAgICAgIGlmIChjb2x1bW5LZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1RvU2V0U3RhdGVbY29sdW1uS2V5XTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzVG9TZXRTdGF0ZSkubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgbmV3U3RhdGUuZmlsdGVycyA9IGZpbHRlcnNUb1NldFN0YXRlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuXHQgICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgfSkpKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IHNlbGVjdGVkUm93S2V5cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9PSBpO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcblx0ICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gW2tleV07XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG5cdCAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcblx0ICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpO1xuXHQgICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGNoYW5nYWJsZVJvd0tleXMgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRpc2FibGVkO1xuXHQgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSZWNvcmRLZXkoaXRlbSwgaSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAvLyDorrDlvZXlj5jljJbnmoTliJdcblx0ICAgICAgICAgICAgdmFyIGNoYW5nZVJvd0tleXMgPSBbXTtcblx0ICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcblx0ICAgICAgICAgICAgICAgIGNoYW5nYWJsZVJvd0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSkgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY2hhbmdhYmxlUm93S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5zcGxpY2Uoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSwgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdEFsbCcsXG5cdCAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuXHQgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5czogY2hhbmdlUm93S2V5c1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb3RoZXJBcmd1bWVudHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgICAgICBvdGhlckFyZ3VtZW50c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IGN1cnJlbnQ7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlLmFwcGx5KHBhZ2luYXRpb24sIFtwYWdpbmF0aW9uLmN1cnJlbnRdLmNvbmNhdChvdGhlckFyZ3VtZW50cykpO1xuXHQgICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuXHQgICAgICAgICAgICBpZiAoKDAsIF90eXBlb2YzW1wiZGVmYXVsdFwiXSkocHJvcHMucGFnaW5hdGlvbikgPT09ICdvYmplY3QnICYmICdjdXJyZW50JyBpbiBwcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZSxcblx0ICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG5cdCAgICAgICAgICAgICAgICB9KSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAodHlwZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF8sIHJlY29yZCwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIGluZGV4KTsgLy8g5LuOIDEg5byA5aeLXG5cdCAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKHJlY29yZCwgaW5kZXgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ3JhZGlvJyA/IF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpIDogX3RoaXMuaGFuZGxlU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpO1xuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbiB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdGlvbkJveDJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6IHR5cGUsIHN0b3JlOiBfdGhpcy5zdG9yZSwgcm93SW5kZXg6IHJvd0luZGV4LCBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIGRlZmF1bHRTZWxlY3Rpb246IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKSB9KVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmdldFJlY29yZEtleSA9IGZ1bmN0aW9uIChyZWNvcmQsIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5wcm9wcy5yb3dLZXk7XG5cdCAgICAgICAgICAgIHZhciByZWNvcmRLZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG5cdCAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShyZWNvcmRLZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsIG9yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXksJyArICdzZWUgaHR0cDovL3UuYW50LmRlc2lnbi90YWJsZS1yb3cta2V5Jyk7XG5cdCAgICAgICAgICAgIHJldHVybiByZWNvcmRLZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDogcmVjb3JkS2V5O1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCwgcGFnZVNpemUpIHtcblx0ICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuXHQgICAgICAgICAgICBwYWdpbmF0aW9uLm9uU2hvd1NpemVDaGFuZ2UoY3VycmVudCwgcGFnZVNpemUpO1xuXHQgICAgICAgICAgICB2YXIgbmV4dFBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwgeyBwYWdlU2l6ZTogcGFnZVNpemUsIGN1cnJlbnQ6IGN1cnJlbnQgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb24gfSk7XG5cdCAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb25cblx0ICAgICAgICAgICAgICAgIH0pKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSghKCdjb2x1bW5zUGFnZVJhbmdlJyBpbiBwcm9wcyB8fCAnY29sdW1uc1BhZ2VTaXplJyBpbiBwcm9wcyksICdgY29sdW1uc1BhZ2VSYW5nZWAgYW5kIGBjb2x1bW5zUGFnZVNpemVgIGFyZSByZW1vdmVkLCBwbGVhc2UgdXNlICcgKyAnZml4ZWQgY29sdW1ucyBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZml4ZWQtY29sdW1ucy4nKTtcblx0ICAgICAgICBfdGhpcy5jb2x1bW5zID0gcHJvcHMuY29sdW1ucyB8fCAoMCwgX3V0aWwubm9ybWFsaXplQ29sdW1ucykocHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKCksIHtcblx0ICAgICAgICAgICAgLy8g5YeP5bCR54q25oCBXG5cdCAgICAgICAgICAgIGZpbHRlcnM6IF90aGlzLmdldEZpbHRlcnNGcm9tQ29sdW1ucygpLFxuXHQgICAgICAgICAgICBwYWdpbmF0aW9uOiBfdGhpcy5nZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcylcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcblx0ICAgICAgICBfdGhpcy5zdG9yZSA9ICgwLCBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IChwcm9wcy5yb3dTZWxlY3Rpb24gfHwge30pLnNlbGVjdGVkUm93S2V5cyB8fCBbXSxcblx0ICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2VsZWN0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFNlbGVjdGlvbigpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uO1xuXHRcblx0ICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhdERhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHJvd0luZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCByb3dJbmRleCkuZGVmYXVsdENoZWNrZWQ7XG5cdCAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFBhZ2luYXRpb24gPSBmdW5jdGlvbiBnZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcykge1xuXHQgICAgICAgIHZhciBwYWdpbmF0aW9uID0gcHJvcHMucGFnaW5hdGlvbiB8fCB7fTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5oYXNQYWdpbmF0aW9uKHByb3BzKSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcGFnaW5hdGlvbiwge1xuXHQgICAgICAgICAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmRlZmF1bHRDdXJyZW50IHx8IHBhZ2luYXRpb24uY3VycmVudCB8fCAxLFxuXHQgICAgICAgICAgICBwYWdlU2l6ZTogcGFnaW5hdGlvbi5kZWZhdWx0UGFnZVNpemUgfHwgcGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMFxuXHQgICAgICAgIH0pIDoge307XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiBnZXRMb2NhbGUoKSB7XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHt9O1xuXHQgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuVGFibGUpIHtcblx0ICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlLCBsb2NhbGUsIHRoaXMucHJvcHMubG9jYWxlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIHRoaXMuY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgIGlmICgncGFnaW5hdGlvbicgaW4gbmV4dFByb3BzIHx8ICdwYWdpbmF0aW9uJyBpbiB0aGlzLnByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZpb3VzU3RhdGUpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBuZXdQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwcmV2aW91c1N0YXRlLnBhZ2luYXRpb24sIG5leHRQcm9wcy5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAgICAgICAgIG5ld1BhZ2luYXRpb24uY3VycmVudCA9IG5ld1BhZ2luYXRpb24uY3VycmVudCB8fCAxO1xuXHQgICAgICAgICAgICAgICAgbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSA9IG5ld1BhZ2luYXRpb24ucGFnZVNpemUgfHwgMTA7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4geyBwYWdpbmF0aW9uOiBuZXh0UHJvcHMucGFnaW5hdGlvbiAhPT0gZmFsc2UgPyBuZXdQYWdpbmF0aW9uIDoge30gfTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChuZXh0UHJvcHMucm93U2VsZWN0aW9uICYmICdzZWxlY3RlZFJvd0tleXMnIGluIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24pIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uc2VsZWN0ZWRSb3dLZXlzIHx8IFtdXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YXIgcm93U2VsZWN0aW9uID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb247XG5cdFxuXHQgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyAhPT0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCdkYXRhU291cmNlJyBpbiBuZXh0UHJvcHMgJiYgbmV4dFByb3BzLmRhdGFTb3VyY2UgIT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyh0aGlzLmNvbHVtbnMpLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdmFyIHNvcnRTdGF0ZSA9IHRoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnModGhpcy5jb2x1bW5zKTtcblx0ICAgICAgICAgICAgaWYgKHNvcnRTdGF0ZS5zb3J0Q29sdW1uICE9PSB0aGlzLnN0YXRlLnNvcnRDb2x1bW4gfHwgc29ydFN0YXRlLnNvcnRPcmRlciAhPT0gdGhpcy5zdGF0ZS5zb3J0T3JkZXIpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc29ydFN0YXRlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSB0aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKHRoaXMuY29sdW1ucyk7XG5cdCAgICAgICAgaWYgKGZpbHRlcmVkVmFsdWVDb2x1bW5zLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgdmFyIGZpbHRlcnNGcm9tQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG5cdCAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUuZmlsdGVycyk7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnNGcm9tQ29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICBuZXdGaWx0ZXJzW2tleV0gPSBmaWx0ZXJzRnJvbUNvbHVtbnNba2V5XTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLmlzRmlsdGVyc0NoYW5nZWQobmV3RmlsdGVycykpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJzOiBuZXdGaWx0ZXJzIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWRSb3dLZXlzID0gZnVuY3Rpb24gc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywgX3JlZikge1xuXHQgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc2VsZWN0V2F5ID0gX3JlZi5zZWxlY3RXYXksXG5cdCAgICAgICAgICAgIHJlY29yZCA9IF9yZWYucmVjb3JkLFxuXHQgICAgICAgICAgICBjaGVja2VkID0gX3JlZi5jaGVja2VkLFxuXHQgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzID0gX3JlZi5jaGFuZ2VSb3dLZXlzO1xuXHQgICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uMiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMkcm93U2VsZWN0aW9uMiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uMjtcblx0XG5cdCAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiAhKCdzZWxlY3RlZFJvd0tleXMnIGluIHJvd1NlbGVjdGlvbikpIHtcblx0ICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7IHNlbGVjdGVkUm93S2V5czogc2VsZWN0ZWRSb3dLZXlzIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdERhdGEoKTtcblx0ICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5vbkNoYW5nZSAmJiAhcm93U2VsZWN0aW9uW3NlbGVjdFdheV0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuXHQgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGlmIChyb3dTZWxlY3Rpb24ub25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uQ2hhbmdlKHNlbGVjdGVkUm93S2V5cywgc2VsZWN0ZWRSb3dzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0JyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3QpIHtcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uU2VsZWN0KHJlY29yZCwgY2hlY2tlZCwgc2VsZWN0ZWRSb3dzKTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0QWxsJyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwpIHtcblx0ICAgICAgICAgICAgdmFyIGNoYW5nZVJvd3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlUm93S2V5cy5pbmRleE9mKF90aGlzMy5nZXRSZWNvcmRLZXkocm93LCBpKSkgPj0gMDtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vblNlbGVjdEFsbChjaGVja2VkLCBzZWxlY3RlZFJvd3MsIGNoYW5nZVJvd3MpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmhhc1BhZ2luYXRpb24gPSBmdW5jdGlvbiBoYXNQYWdpbmF0aW9uKHByb3BzKSB7XG5cdCAgICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5wYWdpbmF0aW9uICE9PSBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmlzRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiBpc0ZpbHRlcnNDaGFuZ2VkKGZpbHRlcnMpIHtcblx0ICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIGZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnMpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5maWx0ZXJzKS5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgZmlsdGVyc0NoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbY29sdW1uS2V5XSAhPT0gX3RoaXM0LnN0YXRlLmZpbHRlcnNbY29sdW1uS2V5XSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzQ2hhbmdlZDtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRPcmRlckNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0T3JkZXJDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICByZXR1cm4gJ3NvcnRPcmRlcicgaW4gY29sdW1uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgcmV0dXJuIChjb2x1bW5zIHx8IHRoaXMuY29sdW1ucyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBjb2x1bW4uZmlsdGVyZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJzRnJvbUNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgZmlsdGVycyA9IHt9O1xuXHQgICAgICAgIHRoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG5cdCAgICAgICAgICAgIGZpbHRlcnNbX3RoaXM1LmdldENvbHVtbktleShjb2wpXSA9IGNvbC5maWx0ZXJlZFZhbHVlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgLy8gcmV0dXJuIGZpc3J0IGNvbHVtbiB3aGljaCBzb3J0T3JkZXIgaXMgbm90IGZhbHN5XG5cdCAgICAgICAgdmFyIHNvcnRlZENvbHVtbiA9IHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKS5maWx0ZXIoZnVuY3Rpb24gKGNvbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY29sLnNvcnRPcmRlcjtcblx0ICAgICAgICB9KVswXTtcblx0ICAgICAgICBpZiAoc29ydGVkQ29sdW1uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0ZWRDb2x1bW4sXG5cdCAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRlZENvbHVtbi5zb3J0T3JkZXJcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgc29ydENvbHVtbjogbnVsbCxcblx0ICAgICAgICAgICAgc29ydE9yZGVyOiBudWxsXG5cdCAgICAgICAgfTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRlckZuID0gZnVuY3Rpb24gZ2V0U29ydGVyRm4oKSB7XG5cdCAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZS5zb3J0T3JkZXIsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUuc29ydENvbHVtbjtcblx0XG5cdCAgICAgICAgaWYgKCFzb3J0T3JkZXIgfHwgIXNvcnRDb2x1bW4gfHwgdHlwZW9mIHNvcnRDb2x1bW4uc29ydGVyICE9PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHQgPSBzb3J0Q29sdW1uLnNvcnRlcihhLCBiKTtcblx0ICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnID8gLXJlc3VsdCA6IHJlc3VsdDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gMDtcblx0ICAgICAgICB9O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUudG9nZ2xlU29ydE9yZGVyID0gZnVuY3Rpb24gdG9nZ2xlU29ydE9yZGVyKG9yZGVyLCBjb2x1bW4pIHtcblx0ICAgICAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUyLnNvcnRDb2x1bW4sXG5cdCAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZTIuc29ydE9yZGVyO1xuXHQgICAgICAgIC8vIOWPquWQjOaXtuWFgeiuuOS4gOWIl+i/m+ihjOaOkuW6j++8jOWQpuWImeS8muWvvOiHtOaOkuW6j+mhuuW6j+eahOmAu+i+kemXrumimFxuXHRcblx0ICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gdGhpcy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcblx0ICAgICAgICBpZiAoIWlzU29ydENvbHVtbikge1xuXHQgICAgICAgICAgICBzb3J0T3JkZXIgPSBvcmRlcjtcblx0ICAgICAgICAgICAgc29ydENvbHVtbiA9IGNvbHVtbjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoc29ydE9yZGVyID09PSBvcmRlcikge1xuXHQgICAgICAgICAgICAgICAgc29ydE9yZGVyID0gJyc7XG5cdCAgICAgICAgICAgICAgICBzb3J0Q29sdW1uID0gbnVsbDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0T3JkZXIsXG5cdCAgICAgICAgICAgIHNvcnRDb2x1bW46IHNvcnRDb2x1bW5cblx0ICAgICAgICB9O1xuXHQgICAgICAgIC8vIENvbnRyb2xsZWRcblx0ICAgICAgICBpZiAodGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKCkubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgb25DaGFuZ2UgPSB0aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCB0aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUsIG5ld1N0YXRlKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlclJvd1NlbGVjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclJvd1NlbGVjdGlvbigpIHtcblx0ICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcy5yb3dTZWxlY3Rpb247XG5cdFxuXHQgICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jb2x1bW5zLmNvbmNhdCgpO1xuXHQgICAgICAgIGlmIChyb3dTZWxlY3Rpb24pIHtcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEZsYXRDdXJyZW50UGFnZURhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gIV90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkNvbHVtbiA9IHtcblx0ICAgICAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbi1jb2x1bW4nLFxuXHQgICAgICAgICAgICAgICAgcmVuZGVyOiB0aGlzLnJlbmRlclNlbGVjdGlvbkJveChyb3dTZWxlY3Rpb24udHlwZSksXG5cdCAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLWNvbHVtbidcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi50eXBlICE9PSAncmFkaW8nKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2hlY2tib3hBbGxEaXNhYmxlZCA9IGRhdGEuZXZlcnkoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uLnRpdGxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQ2hlY2tib3hBbGwyW1wiZGVmYXVsdFwiXSwgeyBzdG9yZTogdGhpcy5zdG9yZSwgZGF0YTogZGF0YSwgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbTogdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLCBnZXRSZWNvcmRLZXk6IHRoaXMuZ2V0UmVjb3JkS2V5LCBkaXNhYmxlZDogY2hlY2tib3hBbGxEaXNhYmxlZCwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlU2VsZWN0QWxsUm93IH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChjb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcblx0ICAgICAgICAgICAgfSkpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvbHVtbi5maXhlZCA9ICdsZWZ0Jztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nKSB7XG5cdCAgICAgICAgICAgICAgICBjb2x1bW5zWzBdID0gc2VsZWN0aW9uQ29sdW1uO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHNlbGVjdGlvbkNvbHVtbik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW5LZXkgPSBmdW5jdGlvbiBnZXRDb2x1bW5LZXkoY29sdW1uLCBpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4ua2V5IHx8IGNvbHVtbi5kYXRhSW5kZXggfHwgaW5kZXg7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRNYXhDdXJyZW50ID0gZnVuY3Rpb24gZ2V0TWF4Q3VycmVudCh0b3RhbCkge1xuXHQgICAgICAgIHZhciBfc3RhdGUkcGFnaW5hdGlvbiA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbixcblx0ICAgICAgICAgICAgY3VycmVudCA9IF9zdGF0ZSRwYWdpbmF0aW9uLmN1cnJlbnQsXG5cdCAgICAgICAgICAgIHBhZ2VTaXplID0gX3N0YXRlJHBhZ2luYXRpb24ucGFnZVNpemU7XG5cdFxuXHQgICAgICAgIGlmICgoY3VycmVudCAtIDEpICogcGFnZVNpemUgPj0gdG90YWwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgLSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY3VycmVudDtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmlzU29ydENvbHVtbiA9IGZ1bmN0aW9uIGlzU29ydENvbHVtbihjb2x1bW4pIHtcblx0ICAgICAgICB2YXIgc29ydENvbHVtbiA9IHRoaXMuc3RhdGUuc29ydENvbHVtbjtcblx0XG5cdCAgICAgICAgaWYgKCFjb2x1bW4gfHwgIXNvcnRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5LZXkoc29ydENvbHVtbikgPT09IHRoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbik7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJDb2x1bW5zRHJvcGRvd24gPSBmdW5jdGlvbiByZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucykge1xuXHQgICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wczIuZHJvcGRvd25QcmVmaXhDbHM7XG5cdCAgICAgICAgdmFyIHNvcnRPcmRlciA9IHRoaXMuc3RhdGUuc29ydE9yZGVyO1xuXHRcblx0ICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUoKTtcblx0ICAgICAgICByZXR1cm4gKDAsIF91dGlsLnRyZWVNYXApKGNvbHVtbnMsIGZ1bmN0aW9uIChvcmlnaW5Db2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBvcmlnaW5Db2x1bW4pO1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXM3LmdldENvbHVtbktleShjb2x1bW4sIGkpO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyRHJvcGRvd24gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIHZhciBzb3J0QnV0dG9uID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoY29sdW1uLmZpbHRlcnMgJiYgY29sdW1uLmZpbHRlcnMubGVuZ3RoID4gMCB8fCBjb2x1bW4uZmlsdGVyRHJvcGRvd24pIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjb2xGaWx0ZXJzID0gX3RoaXM3LnN0YXRlLmZpbHRlcnNba2V5XSB8fCBbXTtcblx0ICAgICAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfZmlsdGVyRHJvcGRvd24yW1wiZGVmYXVsdFwiXSwgeyBsb2NhbGU6IGxvY2FsZSwgY29sdW1uOiBjb2x1bW4sIHNlbGVjdGVkS2V5czogY29sRmlsdGVycywgY29uZmlybUZpbHRlcjogX3RoaXM3LmhhbmRsZUZpbHRlciwgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLWZpbHRlcicsIGRyb3Bkb3duUHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyB8fCAnYW50LWRyb3Bkb3duJyB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAoY29sdW1uLnNvcnRlcikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGlzU29ydENvbHVtbiA9IF90aGlzNy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcblx0ICAgICAgICAgICAgICAgIGlmIChpc1NvcnRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSB8fCAnJztcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc29ydE9yZGVyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydCc7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIGlzQXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2FzY2VuZCc7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXNEZXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnO1xuXHQgICAgICAgICAgICAgICAgc29ydEJ1dHRvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlcicgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItdXAgJyArIChpc0FzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2FzY2VuZCcsIGNvbHVtbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtdXAnIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItZG93biAnICsgKGlzRGVzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MycsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2Rlc2NlbmQnLCBjb2x1bW4pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2NhcmV0LWRvd24nIH0pXG5cdCAgICAgICAgICAgICAgICAgICAgKVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBjb2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgICAgICAgIGNvbHVtbi50aXRsZSxcblx0ICAgICAgICAgICAgICAgIHNvcnRCdXR0b24sXG5cdCAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93blxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICByZXR1cm4gY29sdW1uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclBhZ2luYXRpb24oKSB7XG5cdCAgICAgICAgLy8g5by65Yi25LiN6ZyA6KaB5YiG6aG1XG5cdCAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHNpemUgPSAnZGVmYXVsdCc7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb247XG5cdFxuXHQgICAgICAgIGlmIChwYWdpbmF0aW9uLnNpemUpIHtcblx0ICAgICAgICAgICAgc2l6ZSA9IHBhZ2luYXRpb24uc2l6ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2l6ZSA9PT0gJ21pZGRsZScgfHwgdGhpcy5wcm9wcy5zaXplID09PSAnc21hbGwnKSB7XG5cdCAgICAgICAgICAgIHNpemUgPSAnc21hbGwnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdG90YWwgPSBwYWdpbmF0aW9uLnRvdGFsIHx8IHRoaXMuZ2V0TG9jYWxEYXRhKCkubGVuZ3RoO1xuXHQgICAgICAgIHJldHVybiB0b3RhbCA+IDAgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3BhZ2luYXRpb24nIH0sIHBhZ2luYXRpb24sIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctcGFnaW5hdGlvbicsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVBhZ2VDaGFuZ2UsIHRvdGFsOiB0b3RhbCwgc2l6ZTogc2l6ZSwgY3VycmVudDogdGhpcy5nZXRNYXhDdXJyZW50KHRvdGFsKSwgb25TaG93U2l6ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSB9KSkgOiBudWxsO1xuXHQgICAgfTtcblx0ICAgIC8vIEdldCBwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXJcblx0XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnByZXBhcmVQYXJhbXNBcmd1bWVudHMgPSBmdW5jdGlvbiBwcmVwYXJlUGFyYW1zQXJndW1lbnRzKHN0YXRlKSB7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfX2Fzc2lnbih7fSwgc3RhdGUucGFnaW5hdGlvbik7XG5cdCAgICAgICAgLy8gcmVtb3ZlIHVzZWxlc3MgaGFuZGxlIGZ1bmN0aW9uIGluIFRhYmxlLm9uQ2hhbmdlXG5cdCAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25DaGFuZ2U7XG5cdCAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZTtcblx0ICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cdCAgICAgICAgdmFyIHNvcnRlciA9IHt9O1xuXHQgICAgICAgIGlmIChzdGF0ZS5zb3J0Q29sdW1uICYmIHN0YXRlLnNvcnRPcmRlcikge1xuXHQgICAgICAgICAgICBzb3J0ZXIuY29sdW1uID0gc3RhdGUuc29ydENvbHVtbjtcblx0ICAgICAgICAgICAgc29ydGVyLm9yZGVyID0gc3RhdGUuc29ydE9yZGVyO1xuXHQgICAgICAgICAgICBzb3J0ZXIuZmllbGQgPSBzdGF0ZS5zb3J0Q29sdW1uLmRhdGFJbmRleDtcblx0ICAgICAgICAgICAgc29ydGVyLmNvbHVtbktleSA9IHRoaXMuZ2V0Q29sdW1uS2V5KHN0YXRlLnNvcnRDb2x1bW4pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gW3BhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcl07XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5maW5kQ29sdW1uID0gZnVuY3Rpb24gZmluZENvbHVtbihteUtleSkge1xuXHQgICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgY29sdW1uID0gdm9pZCAwO1xuXHQgICAgICAgICgwLCBfdXRpbC50cmVlTWFwKSh0aGlzLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgICAgIGlmIChfdGhpczguZ2V0Q29sdW1uS2V5KGMpID09PSBteUtleSkge1xuXHQgICAgICAgICAgICAgICAgY29sdW1uID0gYztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBjb2x1bW47XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZURhdGEoKSB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldExvY2FsRGF0YSgpO1xuXHQgICAgICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuXHQgICAgICAgIHZhciBwYWdlU2l6ZSA9IHZvaWQgMDtcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIC8vIOWmguaenOayoeacieWIhumhteeahOivne+8jOm7mOiupOWFqOmDqOWxleekulxuXHQgICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcblx0ICAgICAgICAgICAgcGFnZVNpemUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXHQgICAgICAgICAgICBjdXJyZW50ID0gMTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBwYWdlU2l6ZSA9IHN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemU7XG5cdCAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmdldE1heEN1cnJlbnQoc3RhdGUucGFnaW5hdGlvbi50b3RhbCB8fCBkYXRhLmxlbmd0aCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIOWIhumhtVxuXHQgICAgICAgIC8vIC0tLVxuXHQgICAgICAgIC8vIOW9k+aVsOaNrumHj+WwkeS6juetieS6juavj+mhteaVsOmHj+aXtu+8jOebtOaOpeiuvue9ruaVsOaNrlxuXHQgICAgICAgIC8vIOWQpuWImei/m+ihjOivu+WPluWIhumhteaVsOaNrlxuXHQgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IHBhZ2VTaXplIHx8IHBhZ2VTaXplID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGkgPj0gKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICYmIGkgPCBjdXJyZW50ICogcGFnZVNpemU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEZsYXREYXRhID0gZnVuY3Rpb24gZ2V0RmxhdERhdGEoKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0TG9jYWxEYXRhKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSA9IGZ1bmN0aW9uIGdldEZsYXRDdXJyZW50UGFnZURhdGEoKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVjdXJzaXZlU29ydCA9IGZ1bmN0aW9uIHJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pIHtcblx0ICAgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9IHRoaXMucHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lLFxuXHQgICAgICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWUgPSBfcHJvcHMkY2hpbGRyZW5Db2x1bW4gPT09IHVuZGVmaW5lZCA/ICdjaGlsZHJlbicgOiBfcHJvcHMkY2hpbGRyZW5Db2x1bW47XG5cdFxuXHQgICAgICAgIHJldHVybiBkYXRhLnNvcnQoc29ydGVyRm4pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdID8gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGNoaWxkcmVuQ29sdW1uTmFtZSwgX3RoaXM5LnJlY3Vyc2l2ZVNvcnQoaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdLCBzb3J0ZXJGbikpKSA6IGl0ZW07XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbERhdGEgPSBmdW5jdGlvbiBnZXRMb2NhbERhdGEoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5wcm9wcy5kYXRhU291cmNlO1xuXHRcblx0ICAgICAgICB2YXIgZGF0YSA9IGRhdGFTb3VyY2UgfHwgW107XG5cdCAgICAgICAgLy8g5LyY5YyW5pys5Zyw5o6S5bqPXG5cdCAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCk7XG5cdCAgICAgICAgdmFyIHNvcnRlckZuID0gdGhpcy5nZXRTb3J0ZXJGbigpO1xuXHQgICAgICAgIGlmIChzb3J0ZXJGbikge1xuXHQgICAgICAgICAgICBkYXRhID0gdGhpcy5yZWN1cnNpdmVTb3J0KGRhdGEsIHNvcnRlckZuKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8g562b6YCJXG5cdCAgICAgICAgaWYgKHN0YXRlLmZpbHRlcnMpIHtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29sID0gX3RoaXMxMC5maW5kQ29sdW1uKGNvbHVtbktleSk7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWNvbCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzdGF0ZS5maWx0ZXJzW2NvbHVtbktleV0gfHwgW107XG5cdCAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHZhciBvbkZpbHRlciA9IGNvbC5vbkZpbHRlcjtcblx0ICAgICAgICAgICAgICAgIGRhdGEgPSBvbkZpbHRlciA/IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZWNvcmQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLnNvbWUoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uRmlsdGVyKHYsIHJlY29yZCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9KSA6IGRhdGE7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZGF0YTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG5cdCAgICAgICAgICAgIF90aGlzMTEgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuXHQgICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcblx0ICAgICAgICAgICAgc2hvd0hlYWRlciA9IF9hLnNob3dIZWFkZXIsXG5cdCAgICAgICAgICAgIGxvYWRpbmcgPSBfYS5sb2FkaW5nLFxuXHQgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwic2hvd0hlYWRlclwiLCBcImxvYWRpbmdcIl0pO1xuXHQgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKTtcblx0ICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucmVuZGVyUm93U2VsZWN0aW9uKCk7XG5cdCAgICAgICAgdmFyIGV4cGFuZEljb25Bc0NlbGwgPSB0aGlzLnByb3BzLmV4cGFuZGVkUm93UmVuZGVyICYmIHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAhPT0gZmFsc2U7XG5cdCAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0aGlzLnByb3BzLnNpemUsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWJvcmRlcmVkJywgdGhpcy5wcm9wcy5ib3JkZXJlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZW1wdHknLCAhZGF0YS5sZW5ndGgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtY29sdW1uLWhlYWRlcicsICFzaG93SGVhZGVyKSwgX2NsYXNzTmFtZXMpKTtcblx0ICAgICAgICBjb2x1bW5zID0gdGhpcy5yZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucyk7XG5cdCAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcblx0ICAgICAgICAgICAgdmFyIG5ld0NvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBjb2x1bW4pO1xuXHQgICAgICAgICAgICBuZXdDb2x1bW4ua2V5ID0gX3RoaXMxMS5nZXRDb2x1bW5LZXkobmV3Q29sdW1uLCBpKTtcblx0ICAgICAgICAgICAgcmV0dXJuIG5ld0NvbHVtbjtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nID8gMSA6IDA7XG5cdCAgICAgICAgaWYgKCdleHBhbmRJY29uQ29sdW1uSW5kZXgnIGluIHJlc3RQcm9wcykge1xuXHQgICAgICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXggPSByZXN0UHJvcHMuZXhwYW5kSWNvbkNvbHVtbkluZGV4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgdGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1RhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3RhYmxlJyB9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGRhdGE6IGRhdGEsIGNvbHVtbnM6IGNvbHVtbnMsIHNob3dIZWFkZXI6IHNob3dIZWFkZXIsIGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LCBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLCBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGUuZW1wdHlUZXh0O1xuXHQgICAgICAgICAgICB9IH0pKTtcblx0ICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBwYWdpbmF0aW9uIG9yIG5vIGRhdGEsXG5cdCAgICAgICAgLy8gdGhlIGhlaWdodCBvZiBzcGluIHNob3VsZCBkZWNyZWFzZSBieSBoYWxmIG9mIHBhZ2luYXRpb25cblx0ICAgICAgICB2YXIgcGFnaW5hdGlvblBhdGNoQ2xhc3MgPSB0aGlzLmhhc1BhZ2luYXRpb24oKSAmJiBkYXRhICYmIGRhdGEubGVuZ3RoICE9PSAwID8gcHJlZml4Q2xzICsgJy13aXRoLXBhZ2luYXRpb24nIDogcHJlZml4Q2xzICsgJy13aXRob3V0LXBhZ2luYXRpb24nO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9zcGluMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IHNwaW5uaW5nOiBsb2FkaW5nLCBjbGFzc05hbWU6IGxvYWRpbmcgPyBwYWdpbmF0aW9uUGF0Y2hDbGFzcyArICcgJyArIHByZWZpeENscyArICctc3Bpbi1ob2xkZXInIDogJycgfSxcblx0ICAgICAgICAgICAgICAgIHRhYmxlLFxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdpbmF0aW9uKClcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBUYWJsZTtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblx0XG5cdFRhYmxlLkNvbHVtbiA9IF9Db2x1bW4yW1wiZGVmYXVsdFwiXTtcblx0VGFibGUuQ29sdW1uR3JvdXAgPSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0VGFibGUucHJvcFR5cGVzID0ge1xuXHQgICAgZGF0YVNvdXJjZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgY29sdW1uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdXNlRml4ZWRIZWFkZXI6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgcm93U2VsZWN0aW9uOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc2l6ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxvYWRpbmc6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgYm9yZGVyZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZHJvcGRvd25QcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0VGFibGUuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGF0YVNvdXJjZTogW10sXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtdGFibGUnLFxuXHQgICAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuXHQgICAgcm93U2VsZWN0aW9uOiBudWxsLFxuXHQgICAgY2xhc3NOYW1lOiAnJyxcblx0ICAgIHNpemU6ICdsYXJnZScsXG5cdCAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgIGJvcmRlcmVkOiBmYWxzZSxcblx0ICAgIGluZGVudFNpemU6IDIwLFxuXHQgICAgbG9jYWxlOiB7fSxcblx0ICAgIHJvd0tleTogJ2tleScsXG5cdCAgICBzaG93SGVhZGVyOiB0cnVlXG5cdH07XG5cdFRhYmxlLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTAwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuXHQgICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuXHQgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXHQgICAgZnVuY3Rpb24gc2V0U3RhdGUocGFydGlhbCkge1xuXHQgICAgICAgIHN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0YXRlLCBwYXJ0aWFsKTtcblx0ICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcblx0ICAgICAgICByZXR1cm4gc3RhdGU7XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcblx0ICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHNldFN0YXRlOiBzZXRTdGF0ZSxcblx0ICAgICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG5cdCAgICAgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcblx0ICAgIH07XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblx0XG5cdHZhciBfZG9tQ2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA1KTtcblx0XG5cdHZhciBfZG9tQ2xvc2VzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21DbG9zZXN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCk7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9jaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdHZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuXHRcblx0dmFyIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRmlsdGVyTWVudSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKEZpbHRlck1lbnUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEZpbHRlck1lbnUocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIEZpbHRlck1lbnUpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnNldFNlbGVjdGVkS2V5cyA9IGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSBfcmVmLnNlbGVjdGVkS2V5cztcblx0XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVDbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogW11cblx0ICAgICAgICAgICAgfSwgX3RoaXMuaGFuZGxlQ29uZmlybSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcblx0ICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZSh2aXNpYmxlKTtcblx0ICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZU1lbnVJdGVtQ2xpY2sgPSBmdW5jdGlvbiAoaW5mbykge1xuXHQgICAgICAgICAgICBpZiAoaW5mby5rZXlQYXRoLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzLnN0YXRlLmtleVBhdGhPZlNlbGVjdGVkSXRlbTtcblx0ICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGluZm8ua2V5KSA+PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBkZXNlbGVjdCBTdWJNZW51IGNoaWxkXG5cdCAgICAgICAgICAgICAgICBkZWxldGUga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2luZm8ua2V5XTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBTdWJNZW51IGNoaWxkXG5cdCAgICAgICAgICAgICAgICBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldID0gaW5mby5rZXlQYXRoO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsga2V5UGF0aE9mU2VsZWN0ZWRJdGVtOiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgdmlzaWJsZSA9ICdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIHByb3BzLmNvbHVtbiA/IHByb3BzLmNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGUgOiBmYWxzZTtcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBwcm9wcy5zZWxlY3RlZEtleXMsXG5cdCAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbToge30sXG5cdCAgICAgICAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICAgICAgdmFyIGZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSA9ICEhKDAsIF9kb21DbG9zZXN0MltcImRlZmF1bHRcIl0pKHJvb3ROb2RlLCAnLmFudC10YWJsZS1zY3JvbGwnKTtcblx0ICAgICAgICBpZiAoZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5ICYmIGNvbHVtbi5maXhlZCkge1xuXHQgICAgICAgICAgICAvLyBXaGVuIGZpeGVkIGNvbHVtbiBoYXZlIGZpbHRlcnMsIHRoZXJlIHdpbGwgYmUgdHdvIGRyb3Bkb3duIG1lbnVzXG5cdCAgICAgICAgICAgIC8vIEZpbHRlciBkcm9wZG93biBtZW51IGluc2lkZSBzY3JvbGwgYm9keSBzaG91bGQgbmV2ZXIgYmUgc2hvd25cblx0ICAgICAgICAgICAgLy8gVG8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzUwMTBcblx0ICAgICAgICAgICAgdGhpcy5uZXZlclNob3duID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSBuZXh0UHJvcHMuY29sdW1uO1xuXHRcblx0ICAgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblx0ICAgICAgICBpZiAoJ3NlbGVjdGVkS2V5cycgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkS2V5cyA9IG5leHRQcm9wcy5zZWxlY3RlZEtleXM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pIHtcblx0ICAgICAgICAgICAgbmV3U3RhdGUudmlzaWJsZSA9IGNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZSkubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcblx0ICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cdFxuXHQgICAgICAgIGlmICghKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IHZpc2libGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29uZmlybUZpbHRlciA9IGZ1bmN0aW9uIGNvbmZpcm1GaWx0ZXIoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cykge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmNvbmZpcm1GaWx0ZXIodGhpcy5wcm9wcy5jb2x1bW4sIHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzKTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVJdGVtID0gZnVuY3Rpb24gcmVuZGVyTWVudUl0ZW0oaXRlbSkge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuXHQgICAgICAgIHZhciBpbnB1dCA9IG11bHRpcGxlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgPj0gMCB9KSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcblx0ICAgICAgICAgICAgeyBrZXk6IGl0ZW0udmFsdWUgfSxcblx0ICAgICAgICAgICAgaW5wdXQsXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgaXRlbS50ZXh0XG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5oYXNTdWJNZW51ID0gZnVuY3Rpb24gaGFzU3ViTWVudSgpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID0gdGhpcy5wcm9wcy5jb2x1bW4uZmlsdGVycyxcblx0ICAgICAgICAgICAgZmlsdGVycyA9IF9wcm9wcyRjb2x1bW4kZmlsdGVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkY29sdW1uJGZpbHRlcnM7XG5cdFxuXHQgICAgICAgIHJldHVybiBmaWx0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuICEhKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyTWVudXMgPSBmdW5jdGlvbiByZW5kZXJNZW51cyhpdGVtcykge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzMi5zdGF0ZS5rZXlQYXRoT2ZTZWxlY3RlZEl0ZW07XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5TZWxlY3RlZCA9IE9iamVjdC5rZXlzKGtleVBhdGhPZlNlbGVjdGVkSXRlbSkuc29tZShmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtrZXldLmluZGV4T2YoaXRlbS52YWx1ZSkgPj0gMDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnVDbHMgPSBjb250YWluU2VsZWN0ZWQgPyBfdGhpczIucHJvcHMuZHJvcGRvd25QcmVmaXhDbHMgKyAnLXN1Ym1lbnUtY29udGFpbi1zZWxlY3RlZCcgOiAnJztcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgIF9yY01lbnUuU3ViTWVudSxcblx0ICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiBpdGVtLnRleHQsIGNsYXNzTmFtZTogc3ViTWVudUNscywga2V5OiBpdGVtLnZhbHVlLnRvU3RyaW5nKCkgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVuZGVyTWVudXMoaXRlbS5jaGlsZHJlbilcblx0ICAgICAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5yZW5kZXJNZW51SXRlbShpdGVtKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjb2x1bW4gPSBfcHJvcHMuY29sdW1uLFxuXHQgICAgICAgICAgICBsb2NhbGUgPSBfcHJvcHMubG9jYWxlLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wcy5kcm9wZG93blByZWZpeENscztcblx0ICAgICAgICAvLyBkZWZhdWx0IG11bHRpcGxlIHNlbGVjdGlvbiBpbiBmaWx0ZXIgZHJvcGRvd25cblx0XG5cdCAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuXHQgICAgICAgIHZhciBkcm9wZG93bk1lbnVDbGFzcyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBkcm9wZG93blByZWZpeENscyArICctbWVudS13aXRob3V0LXN1Ym1lbnUnLCAhdGhpcy5oYXNTdWJNZW51KCkpKTtcblx0ICAgICAgICB2YXIgbWVudXMgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICBjb2x1bW4uZmlsdGVyRHJvcGRvd25cblx0ICAgICAgICApIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24nIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICB7IG11bHRpcGxlOiBtdWx0aXBsZSwgb25DbGljazogdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrLCBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51JywgY2xhc3NOYW1lOiBkcm9wZG93bk1lbnVDbGFzcywgb25TZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBvbkRlc2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgc2VsZWN0ZWRLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyB9LFxuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJNZW51cyhjb2x1bW4uZmlsdGVycylcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tYnRucycgfSxcblx0ICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY29uZmlybScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ29uZmlybSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJDb25maXJtXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjbGVhcicsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmZpbHRlclJlc2V0XG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgICAgIHZhciBkcm9wZG93blNlbGVjdGVkQ2xhc3MgPSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cy5sZW5ndGggPiAwID8gcHJlZml4Q2xzICsgJy1zZWxlY3RlZCcgOiAnJztcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIHsgdHJpZ2dlcjogWydjbGljayddLCBvdmVybGF5OiBtZW51cywgdmlzaWJsZTogdGhpcy5uZXZlclNob3duID8gZmFsc2UgOiB0aGlzLnN0YXRlLnZpc2libGUsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHRpdGxlOiBsb2NhbGUuZmlsdGVyVGl0bGUsIHR5cGU6ICdmaWx0ZXInLCBjbGFzc05hbWU6IGRyb3Bkb3duU2VsZWN0ZWRDbGFzcyB9KVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBGaWx0ZXJNZW51O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IEZpbHRlck1lbnU7XG5cdFxuXHRGaWx0ZXJNZW51LmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGhhbmRsZUZpbHRlcjogZnVuY3Rpb24gaGFuZGxlRmlsdGVyKCkge30sXG5cdFxuXHQgICAgY29sdW1uOiB7fVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTAyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5mbGF0QXJyYXkgPSBmbGF0QXJyYXk7XG5cdGV4cG9ydHMudHJlZU1hcCA9IHRyZWVNYXA7XG5cdGV4cG9ydHMubm9ybWFsaXplQ29sdW1ucyA9IG5vcm1hbGl6ZUNvbHVtbnM7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0XG5cdHZhciBfQ29sdW1uR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uR3JvdXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBmbGF0QXJyYXkoKSB7XG5cdCAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG5cdCAgICB2YXIgY2hpbGRyZW5OYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY2hpbGRyZW4nO1xuXHRcblx0ICAgIHZhciByZXN1bHQgPSBbXTtcblx0ICAgIHZhciBsb29wID0gZnVuY3Rpb24gbG9vcChhcnJheSkge1xuXHQgICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgaXRlbSk7XG5cdCAgICAgICAgICAgIGRlbGV0ZSBuZXdJdGVtW2NoaWxkcmVuTmFtZV07XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuXHQgICAgICAgICAgICBpZiAoaXRlbVtjaGlsZHJlbk5hbWVdICYmIGl0ZW1bY2hpbGRyZW5OYW1lXS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBsb29wKGl0ZW1bY2hpbGRyZW5OYW1lXSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdCAgICBsb29wKGRhdGEpO1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRmdW5jdGlvbiB0cmVlTWFwKHRyZWUsIG1hcHBlcikge1xuXHQgICAgdmFyIGNoaWxkcmVuTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NoaWxkcmVuJztcblx0XG5cdCAgICByZXR1cm4gdHJlZS5tYXAoZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIGV4dHJhID0ge307XG5cdCAgICAgICAgaWYgKG5vZGVbY2hpbGRyZW5OYW1lXSkge1xuXHQgICAgICAgICAgICBleHRyYVtjaGlsZHJlbk5hbWVdID0gdHJlZU1hcChub2RlW2NoaWxkcmVuTmFtZV0sIG1hcHBlciwgY2hpbGRyZW5OYW1lKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBtYXBwZXIobm9kZSwgaW5kZXgpLCBleHRyYSk7XG5cdCAgICB9KTtcblx0fVxuXHRmdW5jdGlvbiBub3JtYWxpemVDb2x1bW5zKGVsZW1lbnRzKSB7XG5cdCAgICB2YXIgY29sdW1ucyA9IFtdO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0ICAgICAgICBpZiAoIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBlbGVtZW50LnByb3BzKTtcblx0ICAgICAgICBpZiAoZWxlbWVudC5rZXkpIHtcblx0ICAgICAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBub3JtYWxpemVDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gY29sdW1ucztcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxMDU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogTW9kdWxlIGRlcGVuZGVuY2llc1xuXHQgKi9cblx0XG5cdHZhciBtYXRjaGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDYpO1xuXHRcblx0LyoqXG5cdCAqIEBwYXJhbSBlbGVtZW50IHtFbGVtZW50fVxuXHQgKiBAcGFyYW0gc2VsZWN0b3Ige1N0cmluZ31cblx0ICogQHBhcmFtIGNvbnRleHQge0VsZW1lbnR9XG5cdCAqIEByZXR1cm4ge0VsZW1lbnR9XG5cdCAqL1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY29udGV4dCkge1xuXHQgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXHQgIC8vIGd1YXJkIGFnYWluc3Qgb3JwaGFuc1xuXHQgIGVsZW1lbnQgPSB7IHBhcmVudE5vZGU6IGVsZW1lbnQgfTtcblx0XG5cdCAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBjb250ZXh0KSB7XG5cdCAgICBpZiAobWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcikpIHtcblx0ICAgICAgcmV0dXJuIGVsZW1lbnQ7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDEwNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgYSBET00gZWxlbWVudCBtYXRjaGVzIGEgQ1NTIHNlbGVjdG9yXG5cdCAqXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3Jcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBtYXRjaGVzKGVsZW0sIHNlbGVjdG9yKSB7XG5cdCAgLy8gVmVuZG9yLXNwZWNpZmljIGltcGxlbWVudGF0aW9ucyBvZiBgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcygpYC5cblx0ICB2YXIgcHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG5cdCAgdmFyIG5hdGl2ZU1hdGNoZXMgPSBwcm90by5tYXRjaGVzIHx8XG5cdCAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHQgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuXHQgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdCAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcblx0XG5cdCAgaWYgKCFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgIT09IDEpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIHZhciBwYXJlbnRFbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcblx0ICAvLyB1c2UgbmF0aXZlICdtYXRjaGVzJ1xuXHQgIGlmIChuYXRpdmVNYXRjaGVzKSB7XG5cdCAgICByZXR1cm4gbmF0aXZlTWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcblx0ICB9XG5cdFxuXHQgIC8vIG5hdGl2ZSBzdXBwb3J0IGZvciBgbWF0Y2hlc2AgaXMgbWlzc2luZyBhbmQgYSBmYWxsYmFjayBpcyByZXF1aXJlZFxuXHQgIHZhciBub2RlcyA9IHBhcmVudEVsZW0ucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdCAgdmFyIGxlbiA9IG5vZGVzLmxlbmd0aDtcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgaWYgKG5vZGVzW2ldID09PSBlbGVtKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogRXhwb3NlIGBtYXRjaGVzYFxuXHQgKi9cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcblxuXG4vKioqLyB9LFxuXG4vKioqLyAxMDc6XG4xMCxcblxuLyoqKi8gMTA4OlxuMTAsXG5cbi8qKiovIDExMDpcbjEwLFxuXG4vKioqLyAxMTE6XG4xMCxcblxuLyoqKi8gMTEyOlxuMTAsXG5cbi8qKiovIDExMzpcbjEwLFxuXG4vKioqLyAxMTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcykgey8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS43LjFcblx0KGZ1bmN0aW9uKCkge1xuXHQgIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZTtcblx0XG5cdCAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuXHQgICAgfTtcblx0ICB9IGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzICE9PSBudWxsKSAmJiBwcm9jZXNzLmhydGltZSkge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbG9hZFRpbWUpIC8gMWU2O1xuXHQgICAgfTtcblx0ICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuXHQgICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGhyO1xuXHQgICAgICBociA9IGhydGltZSgpO1xuXHQgICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcblx0ICAgIH07XG5cdCAgICBsb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG5cdCAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcblx0ICAgIH07XG5cdCAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxvYWRUaW1lO1xuXHQgICAgfTtcblx0ICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdCAgfVxuXHRcblx0fSkuY2FsbCh0aGlzKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNCkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyAxMTY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgQ2hlY2tib3ggPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENoZWNrYm94KHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hlY2tib3gpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KTtcblx0ICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pO1xuXHQgICAgICBfdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoISgnY2hlY2tlZCcgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uQ2hhbmdlKHtcblx0ICAgICAgICB0YXJnZXQ6IF9leHRlbmRzKHt9LCBfdGhpcy5wcm9wcywge1xuXHQgICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuXHQgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcblx0ICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXHQgICAgaWYgKCdjaGVja2VkJyBpbiBwcm9wcykge1xuXHQgICAgICBjaGVja2VkID0gcHJvcHMuY2hlY2tlZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNoZWNrZWQgPSBwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgIH1cblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjaGVja2VkOiBjaGVja2VkLFxuXHQgICAgICBmb2N1czogZmFsc2Vcblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoJ2NoZWNrZWQnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjaGVja2VkOiBuZXh0UHJvcHMuY2hlY2tlZFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9O1xuXHRcblx0ICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9jbGFzc05hbWVzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIC8vIFJlbW92ZSBSZWFjdCB3YXJuaW5nLlxuXHQgICAgLy8gV2FybmluZzogSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWRcblx0ICAgIC8vIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLlxuXHQgICAgZGVsZXRlIHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXHRcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGNoZWNrZWQgPSBzdGF0ZS5jaGVja2VkO1xuXHQgICAgaWYgKHR5cGVvZiBjaGVja2VkID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgY2hlY2tlZCA9IGNoZWNrZWQgPyAxIDogMDtcblx0ICAgIH1cblx0ICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzLCAxKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQnLCBjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWNoZWNrZWQtJyArIGNoZWNrZWQsICEhY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1mb2N1c2VkJywgc3RhdGUuZm9jdXMpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBwcm9wcy5kaXNhYmxlZCksIF9jbGFzc05hbWVzKSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3NwYW4nLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG5cdCAgICAgIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgIG5hbWU6IHByb3BzLm5hbWUsXG5cdCAgICAgICAgdHlwZTogcHJvcHMudHlwZSxcblx0ICAgICAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHksXG5cdCAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnLFxuXHQgICAgICAgIGNoZWNrZWQ6ICEhY2hlY2tlZCxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLm9uQ2xpY2ssXG5cdCAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1cyxcblx0ICAgICAgICBvbkJsdXI6IHRoaXMuaGFuZGxlQmx1cixcblx0ICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2Vcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIENoZWNrYm94O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRDaGVja2JveC5wcm9wVHlwZXMgPSB7XG5cdCAgbmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgc3R5bGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgdHlwZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBjbGFzc05hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgZGVmYXVsdENoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG5cdCAgZGlzYWJsZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuXHQgIGNoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG5cdCAgb25Gb2N1czogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25CbHVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25DbGljazogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0Q2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuXHQgIHByZWZpeENsczogJ3JjLWNoZWNrYm94Jyxcblx0ICBzdHlsZToge30sXG5cdCAgdHlwZTogJ2NoZWNrYm94Jyxcblx0ICBjbGFzc05hbWU6ICcnLFxuXHQgIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcblx0ICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge30sXG5cdCAgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoKSB7fSxcblx0ICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblx0XG5cdHZhciBfcGxhY2VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE5KTtcblx0XG5cdHZhciBfcGxhY2VtZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGFjZW1lbnRzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXHRcblx0Lypcblx0IHZhciBNZW51SXRlbSA9IE1lbnUuSXRlbTtcblx0XG5cdCB2YXIgbWVudSA9IDxNZW51PjxNZW51SXRlbT4xPC9NZW51SXRlbT48L01lbnU+O1xuXHRcblx0IDxEcm9wRG93biB0cmlnZ2VyPVwiY2xpY2tcIiBhbmltYXRpb25OYW1lPVwiXCIgb3ZlcmxheT17PD59IG9uU2VsZWN0PXt9PlxuXHQgPGJ1dHRvbj5vcGVuPC9idXR0b24+XG5cdCA8L0Ryb3BEb3duPlxuXHQqL1xuXHRcblx0dmFyIERyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnRHJvcGRvd24nLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgb25WaXNpYmxlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3ZlcmxheUNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb3ZlcmxheVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHBsYWNlbWVudDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0cmlnZ2VyOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgc2hvd0FjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGhpZGVBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBnZXRQb3B1cENvbnRhaW5lcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IHRydWUsXG5cdCAgICAgIHByZWZpeENsczogJ3JjLWRyb3Bkb3duJyxcblx0ICAgICAgdHJpZ2dlcjogWydob3ZlciddLFxuXHQgICAgICBzaG93QWN0aW9uOiBbXSxcblx0ICAgICAgaGlkZUFjdGlvbjogW10sXG5cdCAgICAgIG92ZXJsYXlDbGFzc05hbWU6ICcnLFxuXHQgICAgICBvdmVybGF5U3R5bGU6IHt9LFxuXHQgICAgICBkZWZhdWx0VmlzaWJsZTogZmFsc2UsXG5cdCAgICAgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKCkge30sXG5cdFxuXHQgICAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICgndmlzaWJsZScgaW4gcHJvcHMpIHtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2aXNpYmxlOiBwcm9wcy52aXNpYmxlXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB2aXNpYmxlOiBwcm9wcy5kZWZhdWx0VmlzaWJsZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX3JlZikge1xuXHQgICAgdmFyIHZpc2libGUgPSBfcmVmLnZpc2libGU7XG5cdFxuXHQgICAgaWYgKHZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIG92ZXJsYXlQcm9wcyA9IHByb3BzLm92ZXJsYXkucHJvcHM7XG5cdCAgICAvLyBkbyBubyBjYWxsIG9uVmlzaWJsZUNoYW5nZSwgaWYgeW91IG5lZWQgY2xpY2sgdG8gaGlkZSwgdXNlIG9uQ2xpY2sgYW5kIGNvbnRyb2wgdmlzaWJsZVxuXHQgICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGlmIChvdmVybGF5UHJvcHMub25DbGljaykge1xuXHQgICAgICBvdmVybGF5UHJvcHMub25DbGljayhlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBwcm9wcy5vblZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG5cdCAgfSxcblx0ICBnZXRNZW51RWxlbWVudDogZnVuY3Rpb24gZ2V0TWVudUVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChwcm9wcy5vdmVybGF5LCB7XG5cdCAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1tZW51Jyxcblx0ICAgICAgb25DbGljazogdGhpcy5vbkNsaWNrXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFBvcHVwRG9tTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBEb21Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuXHQgIH0sXG5cdCAgYWZ0ZXJWaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBhZnRlclZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuXHQgICAgaWYgKHZpc2libGUgJiYgdGhpcy5wcm9wcy5taW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIpIHtcblx0ICAgICAgdmFyIG92ZXJsYXlOb2RlID0gdGhpcy5nZXRQb3B1cERvbU5vZGUoKTtcblx0ICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICAgIGlmIChyb290Tm9kZS5vZmZzZXRXaWR0aCA+IG92ZXJsYXlOb2RlLm9mZnNldFdpZHRoKSB7XG5cdCAgICAgICAgb3ZlcmxheU5vZGUuc3R5bGUud2lkdGggPSByb290Tm9kZS5vZmZzZXRXaWR0aCArICdweCc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0ICAgIHZhciBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblx0ICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IF9wcm9wcy50cmFuc2l0aW9uTmFtZTtcblx0ICAgIHZhciBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uO1xuXHQgICAgdmFyIGFsaWduID0gX3Byb3BzLmFsaWduO1xuXHQgICAgdmFyIHBsYWNlbWVudCA9IF9wcm9wcy5wbGFjZW1lbnQ7XG5cdCAgICB2YXIgZ2V0UG9wdXBDb250YWluZXIgPSBfcHJvcHMuZ2V0UG9wdXBDb250YWluZXI7XG5cdCAgICB2YXIgc2hvd0FjdGlvbiA9IF9wcm9wcy5zaG93QWN0aW9uO1xuXHQgICAgdmFyIGhpZGVBY3Rpb24gPSBfcHJvcHMuaGlkZUFjdGlvbjtcblx0ICAgIHZhciBvdmVybGF5Q2xhc3NOYW1lID0gX3Byb3BzLm92ZXJsYXlDbGFzc05hbWU7XG5cdCAgICB2YXIgb3ZlcmxheVN0eWxlID0gX3Byb3BzLm92ZXJsYXlTdHlsZTtcblx0ICAgIHZhciB0cmlnZ2VyID0gX3Byb3BzLnRyaWdnZXI7XG5cdFxuXHQgICAgdmFyIG90aGVyUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3ByZWZpeENscycsICdjaGlsZHJlbicsICd0cmFuc2l0aW9uTmFtZScsICdhbmltYXRpb24nLCAnYWxpZ24nLCAncGxhY2VtZW50JywgJ2dldFBvcHVwQ29udGFpbmVyJywgJ3Nob3dBY3Rpb24nLCAnaGlkZUFjdGlvbicsICdvdmVybGF5Q2xhc3NOYW1lJywgJ292ZXJsYXlTdHlsZScsICd0cmlnZ2VyJ10pO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgcmVmOiAndHJpZ2dlcicsXG5cdCAgICAgICAgcG9wdXBDbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG5cdCAgICAgICAgcG9wdXBTdHlsZTogb3ZlcmxheVN0eWxlLFxuXHQgICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBfcGxhY2VtZW50czJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgIGFjdGlvbjogdHJpZ2dlcixcblx0ICAgICAgICBzaG93QWN0aW9uOiBzaG93QWN0aW9uLFxuXHQgICAgICAgIGhpZGVBY3Rpb246IGhpZGVBY3Rpb24sXG5cdCAgICAgICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcblx0ICAgICAgICBwb3B1cEFsaWduOiBhbGlnbixcblx0ICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuXHQgICAgICAgIHBvcHVwVmlzaWJsZTogdGhpcy5zdGF0ZS52aXNpYmxlLFxuXHQgICAgICAgIGFmdGVyUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLmFmdGVyVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBwb3B1cDogdGhpcy5nZXRNZW51RWxlbWVudCgpLFxuXHQgICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0UG9wdXBDb250YWluZXJcblx0ICAgICAgfSksXG5cdCAgICAgIGNoaWxkcmVuXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO1xuXHRcblx0dmFyIF9Ecm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ecm9wZG93bik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGF1dG9BZGp1c3RPdmVyZmxvdyA9IHtcblx0ICBhZGp1c3RYOiAxLFxuXHQgIGFkanVzdFk6IDFcblx0fTtcblx0XG5cdHZhciB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG5cdFxuXHR2YXIgcGxhY2VtZW50cyA9IGV4cG9ydHMucGxhY2VtZW50cyA9IHtcblx0ICB0b3BMZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgdG9wQ2VudGVyOiB7XG5cdCAgICBwb2ludHM6IFsnYmMnLCAndGMnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgdG9wUmlnaHQ6IHtcblx0ICAgIHBvaW50czogWydicicsICd0ciddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21MZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICBib3R0b21DZW50ZXI6IHtcblx0ICAgIHBvaW50czogWyd0YycsICdiYyddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIGJvdHRvbVJpZ2h0OiB7XG5cdCAgICBwb2ludHM6IFsndHInLCAnYnInXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwbGFjZW1lbnRzO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBLRVlDT0RFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7XG5cdFxuXHR2YXIgT3B0aW9ucyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKE9wdGlvbnMsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRpb25zKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9ucyk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGN1cnJlbnQ6IHByb3BzLmN1cnJlbnQsXG5cdCAgICAgIF9jdXJyZW50OiBwcm9wcy5jdXJyZW50XG5cdCAgICB9O1xuXHRcblx0ICAgIFsnX2hhbmRsZUNoYW5nZScsICdfY2hhbmdlU2l6ZScsICdfZ28nLCAnX2J1aWxkT3B0aW9uVGV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLl9idWlsZE9wdGlvblRleHQgPSBmdW5jdGlvbiBfYnVpbGRPcHRpb25UZXh0KHZhbHVlKSB7XG5cdCAgICByZXR1cm4gdmFsdWUgKyAnICcgKyB0aGlzLnByb3BzLmxvY2FsZS5pdGVtc19wZXJfcGFnZTtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5fY2hhbmdlU2l6ZSA9IGZ1bmN0aW9uIF9jaGFuZ2VTaXplKHZhbHVlKSB7XG5cdCAgICB0aGlzLnByb3BzLmNoYW5nZVNpemUoTnVtYmVyKHZhbHVlKSk7XG5cdCAgfTtcblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUuX2hhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UoZXZ0KSB7XG5cdCAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIF9jdXJyZW50OiBfdmFsXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5fZ28gPSBmdW5jdGlvbiBfZ28oZSkge1xuXHQgICAgdmFyIF92YWwgPSBlLnRhcmdldC52YWx1ZTtcblx0ICAgIGlmIChfdmFsID09PSAnJykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgdmFsID0gTnVtYmVyKHRoaXMuc3RhdGUuX2N1cnJlbnQpO1xuXHQgICAgaWYgKGlzTmFOKHZhbCkpIHtcblx0ICAgICAgdmFsID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgICAgfVxuXHQgICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUikge1xuXHQgICAgICB2YXIgYyA9IHRoaXMucHJvcHMucXVpY2tHbyh2YWwpO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBfY3VycmVudDogYyxcblx0ICAgICAgICBjdXJyZW50OiBjXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1vcHRpb25zJztcblx0ICAgIHZhciBjaGFuZ2VTaXplID0gcHJvcHMuY2hhbmdlU2l6ZTtcblx0ICAgIHZhciBxdWlja0dvID0gcHJvcHMucXVpY2tHbztcblx0ICAgIHZhciBidWlsZE9wdGlvblRleHQgPSBwcm9wcy5idWlsZE9wdGlvblRleHQgfHwgdGhpcy5fYnVpbGRPcHRpb25UZXh0O1xuXHQgICAgdmFyIFNlbGVjdCA9IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzO1xuXHQgICAgdmFyIGNoYW5nZVNlbGVjdCA9IG51bGw7XG5cdCAgICB2YXIgZ29JbnB1dCA9IG51bGw7XG5cdFxuXHQgICAgaWYgKCEoY2hhbmdlU2l6ZSB8fCBxdWlja0dvKSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2hhbmdlU2l6ZSAmJiBTZWxlY3QpIHtcblx0ICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgT3B0aW9uID0gU2VsZWN0Lk9wdGlvbjtcblx0ICAgICAgICB2YXIgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZSB8fCBwcm9wcy5wYWdlU2l6ZU9wdGlvbnNbMF07XG5cdCAgICAgICAgdmFyIG9wdGlvbnMgPSBwcm9wcy5wYWdlU2l6ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHQsIGkpIHtcblx0ICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsga2V5OiBpLCB2YWx1ZTogb3B0IH0sXG5cdCAgICAgICAgICAgIGJ1aWxkT3B0aW9uVGV4dChvcHQpXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICBjaGFuZ2VTZWxlY3QgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgU2VsZWN0LFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnNlbGVjdFByZWZpeENscyxcblx0ICAgICAgICAgICAgc2hvd1NlYXJjaDogZmFsc2UsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaXplLWNoYW5nZXInLFxuXHQgICAgICAgICAgICBvcHRpb25MYWJlbFByb3A6ICdjaGlsZHJlbicsXG5cdCAgICAgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogZmFsc2UsXG5cdCAgICAgICAgICAgIHZhbHVlOiBwYWdlU2l6ZS50b1N0cmluZygpLFxuXHQgICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLl9jaGFuZ2VTaXplXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgb3B0aW9uc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0pKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHF1aWNrR28pIHtcblx0ICAgICAgZ29JbnB1dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcXVpY2stanVtcGVyJyB9LFxuXHQgICAgICAgIGxvY2FsZS5qdW1wX3RvLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgdmFsdWU6IHN0YXRlLl9jdXJyZW50LFxuXHQgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUNoYW5nZSxcblx0ICAgICAgICAgIG9uS2V5VXA6IHRoaXMuX2dvXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgbG9jYWxlLnBhZ2Vcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiAnJyArIHByZWZpeENscyB9LFxuXHQgICAgICBjaGFuZ2VTZWxlY3QsXG5cdCAgICAgIGdvSW5wdXRcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIE9wdGlvbnM7XG5cdH0oUmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdE9wdGlvbnMucHJvcFR5cGVzID0ge1xuXHQgIGNoYW5nZVNpemU6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHF1aWNrR286IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG5cdCAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgYnVpbGRPcHRpb25UZXh0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0XG5cdE9wdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuXHQgIHBhZ2VTaXplT3B0aW9uczogWycxMCcsICcyMCcsICczMCcsICc0MCddXG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE9wdGlvbnM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBQYWdlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gUGFnZXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgUGFnZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctaXRlbSc7XG5cdCAgICB2YXIgY2xzID0gcHJlZml4Q2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMucGFnZTtcblx0XG5cdCAgICBpZiAocHJvcHMuYWN0aXZlKSB7XG5cdCAgICAgIGNscyA9IGNscyArICcgJyArIHByZWZpeENscyArICctYWN0aXZlJztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG5cdCAgICAgIGNscyA9IGNscyArICcgJyArIHByb3BzLmNsYXNzTmFtZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2xpJyxcblx0ICAgICAgeyB0aXRsZTogcHJvcHMucGFnZSwgY2xhc3NOYW1lOiBjbHMsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnYScsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICBwcm9wcy5wYWdlXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFBhZ2VyO1xuXHR9KFJlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRQYWdlci5wcm9wVHlwZXMgPSB7XG5cdCAgcGFnZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGxhc3Q6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGFnZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFBhZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO1xuXHR2YXIgT3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIwKTtcblx0dmFyIEtFWUNPREUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIExPQ0FMRSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQYWdpbmF0aW9uKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbik7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgdmFyIGhhc09uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UgIT09IG5vb3A7XG5cdCAgICB2YXIgaGFzQ3VycmVudCA9ICdjdXJyZW50JyBpbiBwcm9wcztcblx0ICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuXHQgICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IFlvdSBwcm92aWRlZCBhIGBjdXJyZW50YCBwcm9wIHRvIGEgUGFnaW5hdGlvbiBjb21wb25lbnQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgY29tcG9uZW50LicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGN1cnJlbnQgPSBwcm9wcy5kZWZhdWx0Q3VycmVudDtcblx0ICAgIGlmICgnY3VycmVudCcgaW4gcHJvcHMpIHtcblx0ICAgICAgY3VycmVudCA9IHByb3BzLmN1cnJlbnQ7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHBhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuXHQgICAgaWYgKCdwYWdlU2l6ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZTtcblx0ICAgIH1cblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY3VycmVudDogY3VycmVudCxcblx0ICAgICAgX2N1cnJlbnQ6IGN1cnJlbnQsXG5cdCAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZVxuXHQgICAgfTtcblx0XG5cdCAgICBbJ3JlbmRlcicsICdfaGFuZGxlQ2hhbmdlJywgJ19oYW5kbGVLZXlVcCcsICdfaGFuZGxlS2V5RG93bicsICdfY2hhbmdlUGFnZVNpemUnLCAnX2lzVmFsaWQnLCAnX3ByZXYnLCAnX25leHQnLCAnX2hhc1ByZXYnLCAnX2hhc05leHQnLCAnX2p1bXBQcmV2JywgJ19qdW1wTmV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuXHQgICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY3VycmVudDogbmV4dFByb3BzLmN1cnJlbnQsXG5cdCAgICAgICAgX2N1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICgncGFnZVNpemUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblx0ICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgICAgIHZhciBuZXdDdXJyZW50ID0gdGhpcy5fY2FsY1BhZ2UobmV4dFByb3BzLnBhZ2VTaXplKTtcblx0ICAgICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7XG5cdCAgICAgIGlmICghKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpKSB7XG5cdCAgICAgICAgbmV3U3RhdGUuY3VycmVudCA9IGN1cnJlbnQ7XG5cdCAgICAgICAgbmV3U3RhdGUuX2N1cnJlbnQgPSBjdXJyZW50O1xuXHQgICAgICB9XG5cdCAgICAgIG5ld1N0YXRlLnBhZ2VTaXplID0gbmV4dFByb3BzLnBhZ2VTaXplO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICAvLyBwcml2YXRlIG1ldGhvZHNcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NhbGNQYWdlID0gZnVuY3Rpb24gX2NhbGNQYWdlKHApIHtcblx0ICAgIHZhciBwYWdlU2l6ZSA9IHA7XG5cdCAgICBpZiAodHlwZW9mIHBhZ2VTaXplID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgICBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5wcm9wcy50b3RhbCAtIDEpIC8gcGFnZVNpemUpICsgMTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faXNWYWxpZCA9IGZ1bmN0aW9uIF9pc1ZhbGlkKHBhZ2UpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgcGFnZSA9PT0gJ251bWJlcicgJiYgcGFnZSA+PSAxICYmIHBhZ2UgIT09IHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIF9oYW5kbGVLZXlEb3duKGV2dCkge1xuXHQgICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQIHx8IGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcblx0ICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUtleVVwID0gZnVuY3Rpb24gX2hhbmRsZUtleVVwKGV2dCkge1xuXHQgICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuXHQgICAgdmFyIHZhbCA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAoX3ZhbCA9PT0gJycpIHtcblx0ICAgICAgdmFsID0gX3ZhbDtcblx0ICAgIH0gZWxzZSBpZiAoaXNOYU4oTnVtYmVyKF92YWwpKSkge1xuXHQgICAgICB2YWwgPSB0aGlzLnN0YXRlLl9jdXJyZW50O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsID0gTnVtYmVyKF92YWwpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBfY3VycmVudDogdmFsXG5cdCAgICB9KTtcblx0XG5cdCAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCk7XG5cdCAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgLSAxKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfRE9XTikge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsICsgMSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NoYW5nZVBhZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVBhZ2VTaXplKHNpemUpIHtcblx0ICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgICAgdmFyIG5ld0N1cnJlbnQgPSB0aGlzLl9jYWxjUGFnZShzaXplKTtcblx0ICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuXHQgICAgaWYgKHR5cGVvZiBzaXplID09PSAnbnVtYmVyJykge1xuXHQgICAgICBpZiAoISgncGFnZVNpemUnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBwYWdlU2l6ZTogc2l6ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgY3VycmVudDogY3VycmVudCxcblx0ICAgICAgICAgIF9jdXJyZW50OiBjdXJyZW50XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMucHJvcHMub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBzaXplKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShwKSB7XG5cdCAgICB2YXIgcGFnZSA9IHA7XG5cdCAgICBpZiAodGhpcy5faXNWYWxpZChwYWdlKSkge1xuXHQgICAgICBpZiAocGFnZSA+IHRoaXMuX2NhbGNQYWdlKCkpIHtcblx0ICAgICAgICBwYWdlID0gdGhpcy5fY2FsY1BhZ2UoKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBjdXJyZW50OiBwYWdlLFxuXHQgICAgICAgICAgX2N1cnJlbnQ6IHBhZ2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcblx0ICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShwYWdlLCBwYWdlU2l6ZSk7XG5cdFxuXHQgICAgICByZXR1cm4gcGFnZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9wcmV2ID0gZnVuY3Rpb24gX3ByZXYoKSB7XG5cdCAgICBpZiAodGhpcy5faGFzUHJldigpKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIF9uZXh0KCkge1xuXHQgICAgaWYgKHRoaXMuX2hhc05leHQoKSkge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50ICsgMSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2p1bXBQcmV2ID0gZnVuY3Rpb24gX2p1bXBQcmV2KCkge1xuXHQgICAgdGhpcy5faGFuZGxlQ2hhbmdlKE1hdGgubWF4KDEsIHRoaXMuc3RhdGUuY3VycmVudCAtICh0aGlzLnByb3BzLnNob3dMZXNzSXRlbXMgPyAzIDogNSkpKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fanVtcE5leHQgPSBmdW5jdGlvbiBfanVtcE5leHQoKSB7XG5cdCAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5taW4odGhpcy5fY2FsY1BhZ2UoKSwgdGhpcy5zdGF0ZS5jdXJyZW50ICsgKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNQcmV2ID0gZnVuY3Rpb24gX2hhc1ByZXYoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50ID4gMTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFzTmV4dCA9IGZ1bmN0aW9uIF9oYXNOZXh0KCkge1xuXHQgICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA8IHRoaXMuX2NhbGNQYWdlKCk7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdFxuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHZhciBhbGxQYWdlcyA9IHRoaXMuX2NhbGNQYWdlKCk7XG5cdCAgICB2YXIgcGFnZXJMaXN0ID0gW107XG5cdCAgICB2YXIganVtcFByZXYgPSBudWxsO1xuXHQgICAgdmFyIGp1bXBOZXh0ID0gbnVsbDtcblx0ICAgIHZhciBmaXJzdFBhZ2VyID0gbnVsbDtcblx0ICAgIHZhciBsYXN0UGFnZXIgPSBudWxsO1xuXHRcblx0ICAgIHZhciBwYWdlQnVmZmVyU2l6ZSA9IHByb3BzLnNob3dMZXNzSXRlbXMgPyAxIDogMjtcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIGN1cnJlbnQgPSBfc3RhdGUuY3VycmVudCxcblx0ICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZS5wYWdlU2l6ZTtcblx0XG5cdFxuXHQgICAgaWYgKHByb3BzLnNpbXBsZSkge1xuXHQgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndWwnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXNpbXBsZSAnICsgcHJvcHMuY2xhc3NOYW1lIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9wcmV2LFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgICApLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgeyB0aXRsZTogdGhpcy5zdGF0ZS5jdXJyZW50ICsgJy8nICsgYWxsUGFnZXMsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaW1wbGUtcGFnZXInIH0sXG5cdCAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcblx0ICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuXHQgICAgICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5fY3VycmVudCxcblx0ICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLl9oYW5kbGVLZXlEb3duLFxuXHQgICAgICAgICAgICBvbktleVVwOiB0aGlzLl9oYW5kbGVLZXlVcCxcblx0ICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUtleVVwXG5cdCAgICAgICAgICB9KSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2xhc2gnIH0sXG5cdCAgICAgICAgICAgICdcXHVGRjBGJ1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIGFsbFBhZ2VzXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0X3BhZ2UsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc05leHQoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1uZXh0J1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYWxsUGFnZXMgPD0gNSArIHBhZ2VCdWZmZXJTaXplICogMikge1xuXHQgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBhbGxQYWdlczsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuc3RhdGUuY3VycmVudCA9PT0gaTtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG5cdCAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIGkpLFxuXHQgICAgICAgICAga2V5OiBpLFxuXHQgICAgICAgICAgcGFnZTogaSxcblx0ICAgICAgICAgIGFjdGl2ZTogYWN0aXZlXG5cdCAgICAgICAgfSkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBqdW1wUHJldiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81LFxuXHQgICAgICAgICAga2V5OiAncHJldicsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9qdW1wUHJldixcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLXByZXYnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgKTtcblx0ICAgICAganVtcE5leHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgdGl0bGU6IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUubmV4dF8zIDogbG9jYWxlLm5leHRfNSxcblx0ICAgICAgICAgIGtleTogJ25leHQnLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5fanVtcE5leHQsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctanVtcC1uZXh0J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICk7XG5cdCAgICAgIGxhc3RQYWdlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcblx0ICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICBsYXN0OiB0cnVlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBhbGxQYWdlcyksXG5cdCAgICAgICAga2V5OiBhbGxQYWdlcyxcblx0ICAgICAgICBwYWdlOiBhbGxQYWdlcyxcblx0ICAgICAgICBhY3RpdmU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHQgICAgICBmaXJzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAxKSxcblx0ICAgICAgICBrZXk6IDEsXG5cdCAgICAgICAgcGFnZTogMSxcblx0ICAgICAgICBhY3RpdmU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgxLCBjdXJyZW50IC0gcGFnZUJ1ZmZlclNpemUpO1xuXHQgICAgICB2YXIgcmlnaHQgPSBNYXRoLm1pbihjdXJyZW50ICsgcGFnZUJ1ZmZlclNpemUsIGFsbFBhZ2VzKTtcblx0XG5cdCAgICAgIGlmIChjdXJyZW50IC0gMSA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuXHQgICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuXHQgICAgICAgIGxlZnQgPSBhbGxQYWdlcyAtIHBhZ2VCdWZmZXJTaXplICogMjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZm9yICh2YXIgX2kgPSBsZWZ0OyBfaSA8PSByaWdodDsgX2krKykge1xuXHQgICAgICAgIHZhciBfYWN0aXZlID0gY3VycmVudCA9PT0gX2k7XG5cdCAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBfaSksXG5cdCAgICAgICAgICBrZXk6IF9pLFxuXHQgICAgICAgICAgcGFnZTogX2ksXG5cdCAgICAgICAgICBhY3RpdmU6IF9hY3RpdmVcblx0ICAgICAgICB9KSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChjdXJyZW50IC0gMSA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gMSArIDIpIHtcblx0ICAgICAgICBwYWdlckxpc3RbMF0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0WzBdLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hZnRlci1qdW1wLXByZXYnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoanVtcFByZXYpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IGFsbFBhZ2VzIC0gMikge1xuXHQgICAgICAgIHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0gPSBSZWFjdC5jbG9uZUVsZW1lbnQocGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSwge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYmVmb3JlLWp1bXAtbmV4dCdcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChqdW1wTmV4dCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIGlmIChsZWZ0ICE9PSAxKSB7XG5cdCAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHJpZ2h0ICE9PSBhbGxQYWdlcykge1xuXHQgICAgICAgIHBhZ2VyTGlzdC5wdXNoKGxhc3RQYWdlcik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdG90YWxUZXh0ID0gbnVsbDtcblx0XG5cdCAgICBpZiAocHJvcHMuc2hvd1RvdGFsKSB7XG5cdCAgICAgIHRvdGFsVGV4dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvdGFsLXRleHQnIH0sXG5cdCAgICAgICAgcHJvcHMuc2hvd1RvdGFsKHByb3BzLnRvdGFsLCBbKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICsgMSwgY3VycmVudCAqIHBhZ2VTaXplID4gcHJvcHMudG90YWwgPyBwcm9wcy50b3RhbCA6IGN1cnJlbnQgKiBwYWdlU2l6ZV0pXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd1bCcsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJ1xuXHQgICAgICB9LFxuXHQgICAgICB0b3RhbFRleHQsXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZfcGFnZSxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX3ByZXYsXG5cdCAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApLFxuXHQgICAgICBwYWdlckxpc3QsXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG5cdCAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApLFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE9wdGlvbnMsIHtcblx0ICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHByb3BzLnNlbGVjdENvbXBvbmVudENsYXNzLFxuXHQgICAgICAgIHNlbGVjdFByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuXHQgICAgICAgIGNoYW5nZVNpemU6IHRoaXMucHJvcHMuc2hvd1NpemVDaGFuZ2VyID8gdGhpcy5fY2hhbmdlUGFnZVNpemUuYmluZCh0aGlzKSA6IG51bGwsXG5cdCAgICAgICAgY3VycmVudDogdGhpcy5zdGF0ZS5jdXJyZW50LFxuXHQgICAgICAgIHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2VTaXplLFxuXHQgICAgICAgIHBhZ2VTaXplT3B0aW9uczogdGhpcy5wcm9wcy5wYWdlU2l6ZU9wdGlvbnMsXG5cdCAgICAgICAgcXVpY2tHbzogdGhpcy5wcm9wcy5zaG93UXVpY2tKdW1wZXIgPyB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKSA6IG51bGxcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFBhZ2luYXRpb247XG5cdH0oUmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFBhZ2luYXRpb24ucHJvcFR5cGVzID0ge1xuXHQgIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgZGVmYXVsdEN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgdG90YWw6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgZGVmYXVsdFBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzaG93U2l6ZUNoYW5nZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHNob3dMZXNzSXRlbXM6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG9uU2hvd1NpemVDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzaG93UXVpY2tKdW1wZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG5cdCAgc2hvd1RvdGFsOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0XG5cdFBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuXHQgIGRlZmF1bHRDdXJyZW50OiAxLFxuXHQgIHRvdGFsOiAwLFxuXHQgIGRlZmF1bHRQYWdlU2l6ZTogMTAsXG5cdCAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgY2xhc3NOYW1lOiAnJyxcblx0ICBzZWxlY3RQcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuXHQgIHByZWZpeENsczogJ3JjLXBhZ2luYXRpb24nLFxuXHQgIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuXHQgIHNob3dRdWlja0p1bXBlcjogZmFsc2UsXG5cdCAgc2hvd1NpemVDaGFuZ2VyOiBmYWxzZSxcblx0ICBzaG93TGVzc0l0ZW1zOiBmYWxzZSxcblx0ICBvblNob3dTaXplQ2hhbmdlOiBub29wLFxuXHQgIGxvY2FsZTogTE9DQUxFLFxuXHQgIHN0eWxlOiB7fVxuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyBleHBvcnQgdGhpcyBwYWNrYWdlJ3MgYXBpXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIENoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgUmFkaW8gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdSYWRpbycsXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtcmFkaW8nLFxuXHQgICAgICB0eXBlOiAncmFkaW8nXG5cdCAgICB9O1xuXHQgIH0sXG5cdFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3gsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IHJlZjogJ2NoZWNrYm94JyB9KSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmFkaW87XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHlwZW9mMiA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpO1xuXHRcblx0dmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3RvQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7XG5cdFxuXHR2YXIgX3RvQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9BcnJheSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblx0XG5cdHZhciBfZG9tU2Nyb2xsSW50b1ZpZXcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCk7XG5cdFxuXHR2YXIgX2RvbVNjcm9sbEludG9WaWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbVNjcm9sbEludG9WaWV3KTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRHJvcGRvd25NZW51ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnRHJvcGRvd25NZW51Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGRyb3Bkb3duTWVudVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uTWVudURlU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbk1lbnVTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtZW51SXRlbXM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSB0aGlzLnByb3BzLmlucHV0VmFsdWU7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKTtcblx0ICAgIHRoaXMubGFzdFZpc2libGUgPSB0aGlzLnByb3BzLnZpc2libGU7XG5cdCAgfSxcblx0ICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgIGlmICghbmV4dFByb3BzLnZpc2libGUpIHtcblx0ICAgICAgdGhpcy5sYXN0VmlzaWJsZSA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgLy8gZnJlZXplIHdoZW4gaGlkZVxuXHQgICAgcmV0dXJuIG5leHRQcm9wcy52aXNpYmxlO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCFwcmV2UHJvcHMudmlzaWJsZSAmJiBwcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5sYXN0VmlzaWJsZSA9IHByb3BzLnZpc2libGU7XG5cdCAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZTtcblx0ICB9LFxuXHQgIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXc6IGZ1bmN0aW9uIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKSB7XG5cdCAgICAvLyBzY3JvbGwgaW50byB2aWV3XG5cdCAgICB2YXIgaXRlbUNvbXBvbmVudCA9ICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMuZmlyc3RBY3RpdmVJdGVtKTtcblx0ICAgIGlmIChpdGVtQ29tcG9uZW50KSB7XG5cdCAgICAgICgwLCBfZG9tU2Nyb2xsSW50b1ZpZXcyW1wiZGVmYXVsdFwiXSkoaXRlbUNvbXBvbmVudCwgKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcy5yZWZzLm1lbnUpLCB7XG5cdCAgICAgICAgb25seVNjcm9sbElmTmVlZGVkOiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgcmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudSgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBtZW51SXRlbXMgPSBwcm9wcy5tZW51SXRlbXMsXG5cdCAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uID0gcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuXHQgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG5cdCAgICAgICAgb25NZW51U2VsZWN0ID0gcHJvcHMub25NZW51U2VsZWN0LFxuXHQgICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuXHRcblx0ICAgIGlmIChtZW51SXRlbXMgJiYgbWVudUl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICB2YXIgX3JldCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB2YXIgbWVudVByb3BzID0ge307XG5cdCAgICAgICAgaWYgKG11bHRpcGxlKSB7XG5cdCAgICAgICAgICBtZW51UHJvcHMub25EZXNlbGVjdCA9IHByb3BzLm9uTWVudURlc2VsZWN0O1xuXHQgICAgICAgICAgbWVudVByb3BzLm9uU2VsZWN0ID0gb25NZW51U2VsZWN0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBtZW51UHJvcHMub25DbGljayA9IG9uTWVudVNlbGVjdDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSAoMCwgX3V0aWwuZ2V0U2VsZWN0S2V5cykobWVudUl0ZW1zLCB2YWx1ZSk7XG5cdCAgICAgICAgdmFyIGFjdGl2ZUtleVByb3BzID0ge307XG5cdFxuXHQgICAgICAgIHZhciBjbG9uZWRNZW51SXRlbXMgPSBtZW51SXRlbXM7XG5cdCAgICAgICAgaWYgKHNlbGVjdGVkS2V5cy5sZW5ndGgpIHtcblx0ICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIGlmIChwcm9wcy52aXNpYmxlICYmICFfdGhpcy5sYXN0VmlzaWJsZSkge1xuXHQgICAgICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9IHNlbGVjdGVkS2V5c1swXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgZm91bmRGaXJzdCA9IGZhbHNlO1xuXHQgICAgICAgICAgICAvLyBzZXQgZmlyc3RBY3RpdmVJdGVtIHZpYSBjbG9uaW5nIG1lbnVzXG5cdCAgICAgICAgICAgIC8vIGZvciBzY3JvbGwgaW50byB2aWV3XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IGZ1bmN0aW9uIGNsb25lKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICBpZiAoIWZvdW5kRmlyc3QgJiYgc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS5rZXkpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgZm91bmRGaXJzdCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHtcblx0ICAgICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzLmZpcnN0QWN0aXZlSXRlbSA9IF9yZWY7XG5cdCAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcblx0ICAgICAgICAgICAgfTtcblx0XG5cdCAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gKDAsIF90b0FycmF5MltcImRlZmF1bHRcIl0pKGl0ZW0ucHJvcHMuY2hpbGRyZW4pLm1hcChjbG9uZSk7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGl0ZW0sIHt9LCBjaGlsZHJlbik7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJldHVybiBjbG9uZShpdGVtKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9KSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gY2xlYXIgYWN0aXZlS2V5IHdoZW4gaW5wdXRWYWx1ZSBjaGFuZ2Vcblx0ICAgICAgICBpZiAoaW5wdXRWYWx1ZSAhPT0gX3RoaXMubGFzdElucHV0VmFsdWUpIHtcblx0ICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9ICcnO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHY6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgICByZWY6ICdtZW51Jyxcblx0ICAgICAgICAgICAgICBzdHlsZTogX3RoaXMucHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG5cdCAgICAgICAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0OiBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb25cblx0ICAgICAgICAgICAgfSwgYWN0aXZlS2V5UHJvcHMsIHtcblx0ICAgICAgICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG5cdCAgICAgICAgICAgICAgZm9jdXNhYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9LCBtZW51UHJvcHMsIHtcblx0ICAgICAgICAgICAgICBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyxcblx0ICAgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctbWVudSdcblx0ICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtc1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0oKTtcblx0XG5cdCAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiAoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHJlbmRlck1lbnUgPSB0aGlzLnJlbmRlck1lbnUoKTtcblx0ICAgIHJldHVybiByZW5kZXJNZW51ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICBzdHlsZTogeyBvdmVyZmxvdzogJ2F1dG8nIH0sXG5cdCAgICAgICAgb25Gb2N1czogdGhpcy5wcm9wcy5vblBvcHVwRm9jdXMsXG5cdCAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnRcblx0ICAgICAgfSxcblx0ICAgICAgcmVuZGVyTWVudVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25NZW51O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHR2YXIgX3JjTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICBmaWx0ZXJPcHRpb246IGZ1bmN0aW9uIGZpbHRlck9wdGlvbihpbnB1dCwgY2hpbGQpIHtcblx0ICAgIGlmICghaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICB2YXIgZmlsdGVyT3B0aW9uID0gdGhpcy5wcm9wcy5maWx0ZXJPcHRpb247XG5cdCAgICBpZiAoIWZpbHRlck9wdGlvbikge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIGlmIChjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmlsdGVyT3B0aW9uLmNhbGwodGhpcywgaW5wdXQsIGNoaWxkKTtcblx0ICB9LFxuXHQgIHJlbmRlckZpbHRlck9wdGlvbnM6IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnMoaW5wdXRWYWx1ZSkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCB0cnVlLCBpbnB1dFZhbHVlKTtcblx0ICB9LFxuXHQgIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW46IGZ1bmN0aW9uIHJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4sIHNob3dOb3RGb3VuZCwgaXYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHNlbCA9IFtdO1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBpbnB1dFZhbHVlID0gaXYgPT09IHVuZGVmaW5lZCA/IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSA6IGl2O1xuXHQgICAgdmFyIGNoaWxkcmVuS2V5cyA9IFtdO1xuXHQgICAgdmFyIHRhZ3MgPSBwcm9wcy50YWdzO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICB2YXIgaW5uZXJJdGVtcyA9IF90aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGQucHJvcHMuY2hpbGRyZW4sIGZhbHNlKTtcblx0ICAgICAgICBpZiAoaW5uZXJJdGVtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBsYWJlbCA9IGNoaWxkLnByb3BzLmxhYmVsO1xuXHQgICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcblx0ICAgICAgICAgIGlmICgha2V5ICYmIHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAga2V5ID0gbGFiZWw7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKCFsYWJlbCAmJiBrZXkpIHtcblx0ICAgICAgICAgICAgbGFiZWwgPSBrZXk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNNZW51Lkl0ZW1Hcm91cCxcblx0ICAgICAgICAgICAgeyBrZXk6IGtleSwgdGl0bGU6IGxhYmVsIH0sXG5cdCAgICAgICAgICAgIGlubmVySXRlbXNcblx0ICAgICAgICAgICkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0XG5cdCAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjaGlsZC50eXBlLmlzU2VsZWN0T3B0aW9uLCAndGhlIGNoaWxkcmVuIG9mIGBTZWxlY3RgIHNob3VsZCBiZSBgU2VsZWN0Lk9wdGlvbmAgb3IgYFNlbGVjdC5PcHRHcm91cGAsICcgKyAoJ2luc3RlYWQgb2YgYCcgKyAoY2hpbGQudHlwZS5uYW1lIHx8IGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgfHwgY2hpbGQudHlwZSkgKyAnYC4nKSk7XG5cdFxuXHQgICAgICB2YXIgY2hpbGRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICBpZiAoX3RoaXMuZmlsdGVyT3B0aW9uKGlucHV0VmFsdWUsIGNoaWxkKSkge1xuXHQgICAgICAgIHNlbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjTWVudS5JdGVtLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgIHZhbHVlOiBjaGlsZFZhbHVlLFxuXHQgICAgICAgICAga2V5OiBjaGlsZFZhbHVlXG5cdCAgICAgICAgfSwgY2hpbGQucHJvcHMpKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHRhZ3MgJiYgIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgICAgY2hpbGRyZW5LZXlzLnB1c2goY2hpbGRWYWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKHRhZ3MpIHtcblx0ICAgICAgLy8gdGFncyB2YWx1ZSBtdXN0IGJlIHN0cmluZ1xuXHQgICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlIHx8IFtdO1xuXHQgICAgICB2YWx1ZSA9IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcblx0ICAgICAgICByZXR1cm4gY2hpbGRyZW5LZXlzLmluZGV4T2Yoc2luZ2xlVmFsdWUua2V5KSA9PT0gLTEgJiYgKCFpbnB1dFZhbHVlIHx8IFN0cmluZyhzaW5nbGVWYWx1ZS5rZXkpLmluZGV4T2YoU3RyaW5nKGlucHV0VmFsdWUpKSA+IC0xKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHNlbCA9IHNlbC5jb25jYXQodmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICAgIHZhciBrZXkgPSBzaW5nbGVWYWx1ZS5rZXk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgICAgdmFsdWU6IGtleSxcblx0ICAgICAgICAgICAga2V5OiBrZXlcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBrZXlcblx0ICAgICAgICApO1xuXHQgICAgICB9KSk7XG5cdCAgICAgIGlmIChpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgdmFyIG5vdEZpbmRJbnB1dEl0ZW0gPSBzZWwuZXZlcnkoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkob3B0aW9uKSAhPT0gaW5wdXRWYWx1ZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBpZiAobm90RmluZElucHV0SXRlbSkge1xuXHQgICAgICAgICAgc2VsLnVuc2hpZnQoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICAgICAgdmFsdWU6IGlucHV0VmFsdWUsXG5cdCAgICAgICAgICAgICAga2V5OiBpbnB1dFZhbHVlXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGlucHV0VmFsdWVcblx0ICAgICAgICAgICkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKCFzZWwubGVuZ3RoICYmIHNob3dOb3RGb3VuZCAmJiBwcm9wcy5ub3RGb3VuZENvbnRlbnQpIHtcblx0ICAgICAgc2VsID0gW19yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG5cdCAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG5cdCAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcblx0ICAgICAgICAgIHZhbHVlOiAnTk9UX0ZPVU5EJyxcblx0ICAgICAgICAgIGtleTogJ05PVF9GT1VORCdcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHByb3BzLm5vdEZvdW5kQ29udGVudFxuXHQgICAgICApXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBzZWw7XG5cdCAgfVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgT3B0R3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoT3B0R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRHcm91cCgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0R3JvdXApO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIE9wdEdyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRPcHRHcm91cC5pc1NlbGVjdE9wdEdyb3VwID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPcHRHcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIE9wdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBPcHRpb24oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE9wdGlvbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gT3B0aW9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRPcHRpb24ucHJvcFR5cGVzID0ge1xuXHQgIHZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG5cdH07XG5cdE9wdGlvbi5pc1NlbGVjdE9wdGlvbiA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0aW9uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfS2V5Q29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ1KTtcblx0XG5cdHZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblx0XG5cdHZhciBfcmNBbmltYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX3JjQW5pbWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0FuaW1hdGUpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdFxuXHR2YXIgX2NvbXBvbmVudENsYXNzZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50Q2xhc3Nlcyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfU2VsZWN0VHJpZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMxKTtcblx0XG5cdHZhciBfU2VsZWN0VHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RUcmlnZ2VyKTtcblx0XG5cdHZhciBfRmlsdGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHR2YXIgX0ZpbHRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRmdW5jdGlvbiBmaWx0ZXJGbihpbnB1dCwgY2hpbGQpIHtcblx0ICByZXR1cm4gU3RyaW5nKCgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGNoaWxkLCB0aGlzLnByb3BzLm9wdGlvbkZpbHRlclByb3ApKS5pbmRleE9mKGlucHV0KSA+IC0xO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzYXZlUmVmKG5hbWUsIGNvbXBvbmVudCkge1xuXHQgIHRoaXNbbmFtZV0gPSBjb21wb25lbnQ7XG5cdH1cblx0XG5cdHZhciB2YWx1ZU9iamVjdFNoYXBlID0gdm9pZCAwO1xuXHRcblx0aWYgKF9yZWFjdC5Qcm9wVHlwZXMpIHtcblx0ICB2YWx1ZU9iamVjdFNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcblx0ICAgIGtleTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBsYWJlbDogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG5cdCAgfSldKTtcblx0fVxuXHRcblx0dmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBhbGxvd0NsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93QXJyb3c6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHRhZ3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9wdGlvbkZpbHRlclByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkJsdXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblNlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb25EZXNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgbGFiZWxJblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW3ZhbHVlT2JqZWN0U2hhcGUsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZih2YWx1ZU9iamVjdFNoYXBlKV0pLFxuXHQgICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbdmFsdWVPYmplY3RTaGFwZSwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKHZhbHVlT2JqZWN0U2hhcGUpXSksXG5cdCAgICBkcm9wZG93blN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG1heFRhZ1RleHRMZW5ndGg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgdG9rZW5TZXBhcmF0b3JzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuXHQgICAgZ2V0SW5wdXRFbGVtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBtaXhpbnM6IFtfRmlsdGVyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtc2VsZWN0Jyxcblx0ICAgICAgZmlsdGVyT3B0aW9uOiBmaWx0ZXJGbixcblx0ICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuXHQgICAgICBsYWJlbEluVmFsdWU6IGZhbHNlLFxuXHQgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHRydWUsXG5cdCAgICAgIHNob3dTZWFyY2g6IHRydWUsXG5cdCAgICAgIGFsbG93Q2xlYXI6IGZhbHNlLFxuXHQgICAgICBwbGFjZWhvbGRlcjogJycsXG5cdCAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG5cdCAgICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgICBvbkZvY3VzOiBub29wLFxuXHQgICAgICBvbkJsdXI6IG5vb3AsXG5cdCAgICAgIG9uU2VsZWN0OiBub29wLFxuXHQgICAgICBvblNlYXJjaDogbm9vcCxcblx0ICAgICAgb25EZXNlbGVjdDogbm9vcCxcblx0ICAgICAgc2hvd0Fycm93OiB0cnVlLFxuXHQgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHRydWUsXG5cdCAgICAgIGRyb3Bkb3duU3R5bGU6IHt9LFxuXHQgICAgICBkcm9wZG93bk1lbnVTdHlsZToge30sXG5cdCAgICAgIG9wdGlvbkZpbHRlclByb3A6ICd2YWx1ZScsXG5cdCAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ3ZhbHVlJyxcblx0ICAgICAgbm90Rm91bmRDb250ZW50OiAnTm90IEZvdW5kJ1xuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IFtdO1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMudmFsdWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMuZGVmYXVsdFZhbHVlKTtcblx0ICAgIH1cblx0ICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlKTtcblx0ICAgIHZhbHVlID0gdGhpcy5hZGRUaXRsZVRvVmFsdWUocHJvcHMsIHZhbHVlKTtcblx0ICAgIHZhciBpbnB1dFZhbHVlID0gJyc7XG5cdCAgICBpZiAocHJvcHMuY29tYm9ib3gpIHtcblx0ICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHZhbHVlWzBdLmtleSkgOiAnJztcblx0ICAgIH1cblx0ICAgIHRoaXMuc2F2ZUlucHV0UmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dEluc3RhbmNlJyk7XG5cdCAgICB0aGlzLnNhdmVJbnB1dE1pcnJvclJlZiA9IHNhdmVSZWYuYmluZCh0aGlzLCAnaW5wdXRNaXJyb3JJbnN0YW5jZScpO1xuXHQgICAgdmFyIG9wZW4gPSBwcm9wcy5vcGVuO1xuXHQgICAgaWYgKG9wZW4gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBvcGVuID0gcHJvcHMuZGVmYXVsdE9wZW47XG5cdCAgICB9XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG5cdCAgICAgIG9wZW46IG9wZW5cblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcblx0ICAgIHRoaXMuYWRqdXN0T3BlblN0YXRlKCk7XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHZhciB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShuZXh0UHJvcHMudmFsdWUpO1xuXHQgICAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuXHQgICAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMuY29tYm9ib3gpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGlucHV0VmFsdWU6IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMobmV4dFByb3BzLCB2YWx1ZVswXS5rZXkpIDogJydcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuXHQgICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcblx0ICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG5cdCAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHZhciBpbnB1dE5vZGUgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuXHQgICAgICB2YXIgbWlycm9yTm9kZSA9IHRoaXMuZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCk7XG5cdCAgICAgIGlmIChpbnB1dE5vZGUudmFsdWUpIHtcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSBtaXJyb3JOb2RlLmNsaWVudFdpZHRoICsgJ3B4Jztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG5cdCAgICB0aGlzLmNsZWFyQWRqdXN0VGltZXIoKTtcblx0ICAgIGlmICh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG5cdCAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG5cdCAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuXHQgICAgdmFyIHRva2VuU2VwYXJhdG9ycyA9IHRoaXMucHJvcHMudG9rZW5TZXBhcmF0b3JzO1xuXHRcblx0ICAgIHZhciB2YWwgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpICYmIHRva2VuU2VwYXJhdG9ycyAmJiAoMCwgX3V0aWwuaW5jbHVkZXNTZXBhcmF0b3JzKSh2YWwsIHRva2VuU2VwYXJhdG9ycykpIHtcblx0ICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMudG9rZW5pemUodmFsKTtcblx0ICAgICAgdGhpcy5maXJlQ2hhbmdlKG5leHRWYWx1ZSk7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcblx0ICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnLCBmYWxzZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSh2YWwpO1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIG9wZW46IHRydWVcblx0ICAgIH0pO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KSh0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLmZpcmVDaGFuZ2UoW3tcblx0ICAgICAgICBrZXk6IHZhbFxuXHQgICAgICB9XSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25Ecm9wZG93blZpc2libGVDaGFuZ2Uob3Blbikge1xuXHQgICAgdGhpcy5zZXRPcGVuU3RhdGUob3Blbik7XG5cdCAgfSxcblx0XG5cdFxuXHQgIC8vIGNvbWJvYm94IGlnbm9yZVxuXHQgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcblx0ICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gJiYgIXRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcblx0ICAgICAgdGhpcy5vbklucHV0S2V5RG93bihldmVudCk7XG5cdCAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5URVIgfHwga2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKHRydWUpO1xuXHQgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25JbnB1dEtleURvd246IGZ1bmN0aW9uIG9uSW5wdXRLZXlEb3duKGV2ZW50KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiAhZXZlbnQudGFyZ2V0LnZhbHVlICYmIGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uQkFDS1NQQUNFKSB7XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXHRcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0ua2V5KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG5cdCAgICAgIGlmICghc3RhdGUub3Blbikge1xuXHQgICAgICAgIHRoaXMub3BlbklmSGFzQ2hpbGRyZW4oKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuXHQgICAgICBpZiAoc3RhdGUub3Blbikge1xuXHQgICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlKTtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3RhdGUub3Blbikge1xuXHQgICAgICB2YXIgbWVudSA9IHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuXHQgICAgICBpZiAobWVudSAmJiBtZW51Lm9uS2V5RG93bihldmVudCkpIHtcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbk1lbnVTZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudVNlbGVjdChfcmVmKSB7XG5cdCAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBpdGVtID0gX3JlZi5pdGVtO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGl0ZW0pO1xuXHQgICAgdmFyIHNlbGVjdGVkTGFiZWwgPSB0aGlzLmdldExhYmVsRnJvbU9wdGlvbihpdGVtKTtcblx0ICAgIHZhciBldmVudCA9IHNlbGVjdGVkVmFsdWU7XG5cdCAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgIGV2ZW50ID0ge1xuXHQgICAgICAgIGtleTogZXZlbnQsXG5cdCAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWxcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHByb3BzLm9uU2VsZWN0KGV2ZW50LCBpdGVtKTtcblx0ICAgIHZhciBzZWxlY3RlZFRpdGxlID0gaXRlbS5wcm9wcy50aXRsZTtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5S2V5KSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZSkgIT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gdmFsdWUuY29uY2F0KFt7XG5cdCAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuXHQgICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG5cdCAgICAgIH1dKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlbiA9IHRydWU7XG5cdCAgICAgICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG5cdCAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICBfdGhpcy5za2lwQWRqdXN0T3BlbiA9IGZhbHNlO1xuXHQgICAgICAgIH0sIDApO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgdmFsdWVbMF0ua2V5ID09PSBzZWxlY3RlZFZhbHVlKSB7XG5cdCAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YWx1ZSA9IFt7XG5cdCAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuXHQgICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG5cdCAgICAgIH1dO1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmZpcmVDaGFuZ2UodmFsdWUpO1xuXHQgICAgdmFyIGlucHV0VmFsdWUgPSB2b2lkIDA7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSkge1xuXHQgICAgICBpbnB1dFZhbHVlID0gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoaXRlbSwgcHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGlucHV0VmFsdWUgPSAnJztcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlLCBmYWxzZSk7XG5cdCAgfSxcblx0ICBvbk1lbnVEZXNlbGVjdDogZnVuY3Rpb24gb25NZW51RGVzZWxlY3QoX3JlZjIpIHtcblx0ICAgIHZhciBpdGVtID0gX3JlZjIuaXRlbSxcblx0ICAgICAgICBkb21FdmVudCA9IF9yZWYyLmRvbUV2ZW50O1xuXHRcblx0ICAgIGlmIChkb21FdmVudC50eXBlID09PSAnY2xpY2snKSB7XG5cdCAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShpdGVtKSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcblx0ICB9LFxuXHQgIG9uQXJyb3dDbGljazogZnVuY3Rpb24gb25BcnJvd0NsaWNrKGUpIHtcblx0ICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICBpZiAoIXRoaXMucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoIXRoaXMuc3RhdGUub3BlbiwgIXRoaXMuc3RhdGUub3Blbik7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblBsYWNlaG9sZGVyQ2xpY2s6IGZ1bmN0aW9uIG9uUGxhY2Vob2xkZXJDbGljaygpIHtcblx0ICAgIGlmICh0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkuZm9jdXMoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uT3V0ZXJGb2N1czogZnVuY3Rpb24gb25PdXRlckZvY3VzKGUpIHtcblx0ICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSAmJiBlLnRhcmdldCA9PT0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLmNsZWFyQmx1clRpbWUoKTtcblx0ICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuXHQgICAgdGhpcy51cGRhdGVGb2N1c0NsYXNzTmFtZSgpO1xuXHQgICAgdGhpcy5wcm9wcy5vbkZvY3VzKCk7XG5cdCAgfSxcblx0ICBvblBvcHVwRm9jdXM6IGZ1bmN0aW9uIG9uUG9wdXBGb2N1cygpIHtcblx0ICAgIC8vIGZpeCBpZSBzY3JvbGxiYXIsIGZvY3VzIGVsZW1lbnQgYWdhaW5cblx0ICAgIHRoaXMubWF5YmVGb2N1cyh0cnVlLCB0cnVlKTtcblx0ICB9LFxuXHQgIG9uT3V0ZXJCbHVyOiBmdW5jdGlvbiBvbk91dGVyQmx1cigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHRoaXMuYmx1clRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzMi5fZm9jdXNlZCA9IGZhbHNlO1xuXHQgICAgICBfdGhpczIudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcblx0ICAgICAgdmFyIHByb3BzID0gX3RoaXMyLnByb3BzO1xuXHQgICAgICB2YXIgdmFsdWUgPSBfdGhpczIuc3RhdGUudmFsdWU7XG5cdCAgICAgIHZhciBpbnB1dFZhbHVlID0gX3RoaXMyLnN0YXRlLmlucHV0VmFsdWU7XG5cdFxuXHQgICAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2ggJiYgaW5wdXRWYWx1ZSAmJiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24pIHtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IF90aGlzMi5fb3B0aW9ucyB8fCBbXTtcblx0ICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHZhciBmaXJzdE9wdGlvbiA9ICgwLCBfdXRpbC5maW5kRmlyc3RNZW51SXRlbSkob3B0aW9ucyk7XG5cdCAgICAgICAgICBpZiAoZmlyc3RPcHRpb24pIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBbe1xuXHQgICAgICAgICAgICAgIGtleTogZmlyc3RPcHRpb24ua2V5LFxuXHQgICAgICAgICAgICAgIGxhYmVsOiBfdGhpczIuZ2V0TGFiZWxGcm9tT3B0aW9uKGZpcnN0T3B0aW9uKVxuXHQgICAgICAgICAgICB9XTtcblx0ICAgICAgICAgICAgX3RoaXMyLmZpcmVDaGFuZ2UodmFsdWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGlucHV0VmFsdWUpIHtcblx0ICAgICAgICAvLyB3aHkgbm90IHVzZSBzZXRTdGF0ZT9cblx0ICAgICAgICBfdGhpczIuc3RhdGUuaW5wdXRWYWx1ZSA9IF90aGlzMi5nZXRJbnB1dERPTU5vZGUoKS52YWx1ZSA9ICcnO1xuXHQgICAgICB9XG5cdCAgICAgIHByb3BzLm9uQmx1cihfdGhpczIuZ2V0VkxGb3JPbkNoYW5nZSh2YWx1ZSkpO1xuXHQgICAgfSwgMTApO1xuXHQgIH0sXG5cdCAgb25DbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gb25DbGVhclNlbGVjdGlvbihldmVudCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGlucHV0VmFsdWUgPSBzdGF0ZS5pbnB1dFZhbHVlLFxuXHQgICAgICAgIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cdFxuXHQgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICBpZiAoaW5wdXRWYWx1ZSB8fCB2YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHRoaXMuZmlyZUNoYW5nZShbXSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmU6IGZ1bmN0aW9uIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUoKSB7XG5cdCAgICB0aGlzLnJlZnMudHJpZ2dlci5yZWZzLnRyaWdnZXIuZm9yY2VQb3B1cEFsaWduKCk7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEJ5U2luZ2xlVmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGxhYmVsID0gbnVsbDtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIG1heWJlID0gX3RoaXMzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZC5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuXHQgICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgbGFiZWwgPSBtYXliZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCkgPT09IHZhbHVlKSB7XG5cdCAgICAgICAgbGFiZWwgPSBfdGhpczMuZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbGFiZWw7XG5cdCAgfSxcblx0ICBnZXRWYWx1ZUJ5TGFiZWw6IGZ1bmN0aW9uIGdldFZhbHVlQnlMYWJlbChjaGlsZHJlbiwgbGFiZWwpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIGlmIChsYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbHVlID0gbnVsbDtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG5cdCAgICAgICAgdmFyIG1heWJlID0gX3RoaXM0LmdldFZhbHVlQnlMYWJlbChjaGlsZC5wcm9wcy5jaGlsZHJlbiwgbGFiZWwpO1xuXHQgICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuXHQgICAgICAgICAgdmFsdWUgPSBtYXliZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLnRvQXJyYXkpKF90aGlzNC5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcblx0ICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9LFxuXHQgIGdldExhYmVsRnJvbU9wdGlvbjogZnVuY3Rpb24gZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcblx0ICB9LFxuXHQgIGdldExhYmVsRnJvbVByb3BzOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdmFsdWUpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldExhYmVsQnlWYWx1ZShwcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuXHQgIH0sXG5cdCAgZ2V0VkxGb3JPbkNoYW5nZTogZnVuY3Rpb24gZ2V0VkxGb3JPbkNoYW5nZSh2bHNfKSB7XG5cdCAgICB2YXIgdmxzID0gdmxzXztcblx0ICAgIGlmICh2bHMgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICBpZiAoIXRoaXMucHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgcmV0dXJuIHYua2V5O1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZscyA9IHZscy5tYXAoZnVuY3Rpb24gKHZsKSB7XG5cdCAgICAgICAgICByZXR1cm4geyBrZXk6IHZsLmtleSwgbGFiZWw6IHZsLmxhYmVsIH07XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKSh0aGlzLnByb3BzKSA/IHZscyA6IHZsc1swXTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2bHM7XG5cdCAgfSxcblx0ICBnZXRMYWJlbEJ5VmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcblx0ICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSk7XG5cdCAgICBpZiAobGFiZWwgPT09IG51bGwpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGxhYmVsO1xuXHQgIH0sXG5cdCAgZ2V0RHJvcGRvd25Db250YWluZXI6IGZ1bmN0aW9uIGdldERyb3Bkb3duQ29udGFpbmVyKCkge1xuXHQgICAgaWYgKCF0aGlzLmRyb3Bkb3duQ29udGFpbmVyKSB7XG5cdCAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzLmRyb3Bkb3duQ29udGFpbmVyO1xuXHQgIH0sXG5cdCAgZ2V0UGxhY2Vob2xkZXJFbGVtZW50OiBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlckVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICB2YXIgaGlkZGVuID0gZmFsc2U7XG5cdCAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSkge1xuXHQgICAgICBoaWRkZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgaWYgKHN0YXRlLnZhbHVlLmxlbmd0aCkge1xuXHQgICAgICBoaWRkZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykgJiYgc3RhdGUudmFsdWUubGVuZ3RoID09PSAxICYmICFzdGF0ZS52YWx1ZVswXS5rZXkpIHtcblx0ICAgICAgaGlkZGVuID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICB2YXIgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcjtcblx0ICAgIGlmIChwbGFjZWhvbGRlcikge1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG5cdCAgICAgICAgICBzdHlsZTogKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgZGlzcGxheTogaGlkZGVuID8gJ25vbmUnIDogJ2Jsb2NrJ1xuXHQgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFKVxuXHQgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25QbGFjZWhvbGRlckNsaWNrLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcGxhY2Vob2xkZXInXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgcGxhY2Vob2xkZXJcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH0sXG5cdCAgZ2V0SW5wdXRFbGVtZW50OiBmdW5jdGlvbiBnZXRJbnB1dEVsZW1lbnQoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGlucHV0RWxlbWVudCA9IHByb3BzLmdldElucHV0RWxlbWVudCA/IHByb3BzLmdldElucHV0RWxlbWVudCgpIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBudWxsKTtcblx0ICAgIHZhciBpbnB1dENscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShpbnB1dEVsZW1lbnQucHJvcHMuY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGQnLCB0cnVlKSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGRfX3dyYXAnIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChpbnB1dEVsZW1lbnQsIHtcblx0ICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0UmVmLFxuXHQgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2UsXG5cdCAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uSW5wdXRLZXlEb3duLFxuXHQgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWUsXG5cdCAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIGNsYXNzTmFtZTogaW5wdXRDbHNcblx0ICAgICAgfSksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHJlZjogdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZF9fbWlycm9yJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGhpcy5zdGF0ZS5pbnB1dFZhbHVlXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfSxcblx0ICBnZXRJbnB1dERPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0RE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlucHV0SW5zdGFuY2U7XG5cdCAgfSxcblx0ICBnZXRJbnB1dE1pcnJvckRPTU5vZGU6IGZ1bmN0aW9uIGdldElucHV0TWlycm9yRE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmlucHV0TWlycm9ySW5zdGFuY2U7XG5cdCAgfSxcblx0ICBnZXRQb3B1cERPTU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERPTU5vZGUoKTtcblx0ICB9LFxuXHQgIGdldFBvcHVwTWVudUNvbXBvbmVudDogZnVuY3Rpb24gZ2V0UG9wdXBNZW51Q29tcG9uZW50KCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuXHQgIH0sXG5cdCAgc2V0T3BlblN0YXRlOiBmdW5jdGlvbiBzZXRPcGVuU3RhdGUob3BlbiwgbmVlZEZvY3VzKSB7XG5cdCAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0XG5cdCAgICBpZiAoc3RhdGUub3BlbiA9PT0gb3Blbikge1xuXHQgICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIG5leHRTdGF0ZSA9IHtcblx0ICAgICAgb3Blbjogb3BlblxuXHQgICAgfTtcblx0ICAgIC8vIGNsZWFyIHNlYXJjaCBpbnB1dCB2YWx1ZSB3aGVuIG9wZW4gaXMgZmFsc2UgaW4gc2luZ2xlTW9kZS5cblx0ICAgIGlmICghb3BlbiAmJiAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgcHJvcHMuc2hvd1NlYXJjaCkge1xuXHQgICAgICB0aGlzLnNldElucHV0VmFsdWUoJycpO1xuXHQgICAgfVxuXHQgICAgaWYgKCFvcGVuKSB7XG5cdCAgICAgIHRoaXMubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKG9wZW4pIHtcblx0ICAgICAgICBfdGhpczUubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHNldElucHV0VmFsdWU6IGZ1bmN0aW9uIHNldElucHV0VmFsdWUoaW5wdXRWYWx1ZSkge1xuXHQgICAgdmFyIGZpcmVTZWFyY2ggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWVcblx0ICAgIH0pO1xuXHQgICAgaWYgKGZpcmVTZWFyY2gpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5vblNlYXJjaChpbnB1dFZhbHVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGNsZWFyQmx1clRpbWU6IGZ1bmN0aW9uIGNsZWFyQmx1clRpbWUoKSB7XG5cdCAgICBpZiAodGhpcy5ibHVyVGltZXIpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYmx1clRpbWVyKTtcblx0ICAgICAgdGhpcy5ibHVyVGltZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY2xlYXJBZGp1c3RUaW1lcjogZnVuY3Rpb24gY2xlYXJBZGp1c3RUaW1lcigpIHtcblx0ICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lcik7XG5cdCAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lciA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0ICB1cGRhdGVGb2N1c0NsYXNzTmFtZTogZnVuY3Rpb24gdXBkYXRlRm9jdXNDbGFzc05hbWUoKSB7XG5cdCAgICB2YXIgcmVmcyA9IHRoaXMucmVmcyxcblx0ICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAvLyBhdm9pZCBzZXRTdGF0ZSBhbmQgaXRzIHNpZGUgZWZmZWN0XG5cdFxuXHQgICAgaWYgKHRoaXMuX2ZvY3VzZWQpIHtcblx0ICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkuYWRkKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkucmVtb3ZlKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgbWF5YmVGb2N1czogZnVuY3Rpb24gbWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpIHtcblx0ICAgIGlmIChuZWVkRm9jdXMgfHwgb3Blbikge1xuXHQgICAgICB2YXIgaW5wdXQgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuXHQgICAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsXG5cdCAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gX2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdFxuXHQgICAgICBpZiAoaW5wdXQgJiYgKG9wZW4gfHwgKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSkpIHtcblx0ICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQpIHtcblx0ICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnJlZnMuc2VsZWN0aW9uO1xuXHQgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBzZWxlY3Rpb24pIHtcblx0ICAgICAgICAgIHNlbGVjdGlvbi5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgYWRkTGFiZWxUb1ZhbHVlOiBmdW5jdGlvbiBhZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlXykge1xuXHQgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHZhbHVlID0gdmFsdWVfO1xuXHQgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuXHQgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgdi5sYWJlbCA9IHYubGFiZWwgfHwgX3RoaXM2LmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2LmtleSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAga2V5OiB2LFxuXHQgICAgICAgICAgbGFiZWw6IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdilcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9LFxuXHQgIGFkZFRpdGxlVG9WYWx1ZTogZnVuY3Rpb24gYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZXMpIHtcblx0ICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBuZXh0VmFsdWVzID0gdmFsdWVzO1xuXHQgICAgdmFyIGtleXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgIHJldHVybiB2LmtleTtcblx0ICAgIH0pO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICBuZXh0VmFsdWVzID0gX3RoaXM3LmFkZFRpdGxlVG9WYWx1ZShjaGlsZC5wcm9wcywgbmV4dFZhbHVlcyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG5cdCAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBrZXlzLmluZGV4T2YodmFsdWUpO1xuXHQgICAgICAgIGlmICh2YWx1ZUluZGV4ID4gLTEpIHtcblx0ICAgICAgICAgIG5leHRWYWx1ZXNbdmFsdWVJbmRleF0udGl0bGUgPSBjaGlsZC5wcm9wcy50aXRsZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG5leHRWYWx1ZXM7XG5cdCAgfSxcblx0ICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoc2VsZWN0ZWRLZXkpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQgfHwgdGhpcy5pc0NoaWxkRGlzYWJsZWQoc2VsZWN0ZWRLZXkpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciBsYWJlbCA9IHZvaWQgMDtcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICBpZiAoc2luZ2xlVmFsdWUua2V5ID09PSBzZWxlY3RlZEtleSkge1xuXHQgICAgICAgIGxhYmVsID0gc2luZ2xlVmFsdWUubGFiZWw7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNpbmdsZVZhbHVlLmtleSAhPT0gc2VsZWN0ZWRLZXk7XG5cdCAgICB9KTtcblx0ICAgIHZhciBjYW5NdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG5cdFxuXHQgICAgaWYgKGNhbk11bHRpcGxlKSB7XG5cdCAgICAgIHZhciBldmVudCA9IHNlbGVjdGVkS2V5O1xuXHQgICAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgICAgZXZlbnQgPSB7XG5cdCAgICAgICAgICBrZXk6IHNlbGVjdGVkS2V5LFxuXHQgICAgICAgICAgbGFiZWw6IGxhYmVsXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgICBwcm9wcy5vbkRlc2VsZWN0KGV2ZW50KTtcblx0ICAgIH1cblx0ICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBvcGVuSWZIYXNDaGlsZHJlbjogZnVuY3Rpb24gb3BlbklmSGFzQ2hpbGRyZW4oKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmNvdW50KHByb3BzLmNoaWxkcmVuKSB8fCAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBmaXJlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlQ2hhbmdlKHZhbHVlKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25DaGFuZ2UodGhpcy5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG5cdCAgfSxcblx0ICBpc0NoaWxkRGlzYWJsZWQ6IGZ1bmN0aW9uIGlzQ2hpbGREaXNhYmxlZChrZXkpIHtcblx0ICAgIHJldHVybiAoMCwgX3V0aWwudG9BcnJheSkodGhpcy5wcm9wcy5jaGlsZHJlbikuc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgdmFyIGNoaWxkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcblx0ICAgICAgcmV0dXJuIGNoaWxkVmFsdWUgPT09IGtleSAmJiBjaGlsZC5wcm9wcyAmJiBjaGlsZC5wcm9wcy5kaXNhYmxlZDtcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKHN0cmluZykge1xuXHQgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG5cdCAgICAgICAgdG9rZW5TZXBhcmF0b3JzID0gX3Byb3BzLnRva2VuU2VwYXJhdG9ycyxcblx0ICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblx0XG5cdCAgICB2YXIgbmV4dFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgICgwLCBfdXRpbC5zcGxpdEJ5U2VwYXJhdG9ycykoc3RyaW5nLCB0b2tlblNlcGFyYXRvcnMpLmZvckVhY2goZnVuY3Rpb24gKGxhYmVsKSB7XG5cdCAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0geyBrZXk6IGxhYmVsLCBsYWJlbDogbGFiZWwgfTtcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCkobmV4dFZhbHVlLCBsYWJlbCkgPT09IC0xKSB7XG5cdCAgICAgICAgaWYgKG11bHRpcGxlKSB7XG5cdCAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczguZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCk7XG5cdCAgICAgICAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZS5rZXkgPSB2YWx1ZTtcblx0ICAgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG5leHRWYWx1ZTtcblx0ICB9LFxuXHQgIGFkanVzdE9wZW5TdGF0ZTogZnVuY3Rpb24gYWRqdXN0T3BlblN0YXRlKCkge1xuXHQgICAgaWYgKHRoaXMuc2tpcEFkanVzdE9wZW4pIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5nZXRJbnB1dERPTU5vZGUoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIG9wZW4gPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgdmFyIG9wdGlvbnMgPSBbXTtcblx0ICAgIGlmIChvcGVuKSB7XG5cdCAgICAgIG9wdGlvbnMgPSB0aGlzLnJlbmRlckZpbHRlck9wdGlvbnMoKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXHQgICAgaWYgKG9wZW4gJiYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykgfHwgIXRoaXMucHJvcHMuc2hvd1NlYXJjaCkgJiYgIW9wdGlvbnMubGVuZ3RoKSB7XG5cdCAgICAgIG9wZW4gPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc3RhdGUub3BlbiA9IG9wZW47XG5cdCAgfSxcblx0ICByZW5kZXJUb3BDb250cm9sTm9kZTogZnVuY3Rpb24gcmVuZGVyVG9wQ29udHJvbE5vZGUoKSB7XG5cdCAgICB2YXIgX3RoaXM5ID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICB2YWx1ZSA9IF9zdGF0ZS52YWx1ZSxcblx0ICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW4sXG5cdCAgICAgICAgaW5wdXRWYWx1ZSA9IF9zdGF0ZS5pbnB1dFZhbHVlO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hvaWNlVHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5jaG9pY2VUcmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbWF4VGFnVGV4dExlbmd0aCA9IHByb3BzLm1heFRhZ1RleHRMZW5ndGgsXG5cdCAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2g7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHByZWZpeENscyArICctc2VsZWN0aW9uX19yZW5kZXJlZCc7XG5cdCAgICAvLyBzZWFyY2ggaW5wdXQgaXMgaW5zaWRlIHRvcENvbnRyb2xOb2RlIGluIHNpbmdsZSwgbXVsdGlwbGUgJiBjb21ib2JveC4gMjAxNi8wNC8xM1xuXHQgICAgdmFyIGlubmVyTm9kZSA9IG51bGw7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG5cdCAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbnVsbDtcblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICAgIHZhciBzaG93U2VsZWN0ZWRWYWx1ZSA9IGZhbHNlO1xuXHQgICAgICAgIHZhciBvcGFjaXR5ID0gMTtcblx0ICAgICAgICBpZiAoIXNob3dTZWFyY2gpIHtcblx0ICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKG9wZW4pIHtcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSAhaW5wdXRWYWx1ZTtcblx0ICAgICAgICAgICAgaWYgKHNob3dTZWxlY3RlZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgb3BhY2l0eSA9IDAuNDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSB0cnVlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2luZ2xlVmFsdWUgPSB2YWx1ZVswXTtcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBrZXk6ICd2YWx1ZScsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tc2VsZWN0ZWQtdmFsdWUnLFxuXHQgICAgICAgICAgICB0aXRsZTogc2luZ2xlVmFsdWUudGl0bGUgfHwgc2luZ2xlVmFsdWUubGFiZWwsXG5cdCAgICAgICAgICAgIHN0eWxlOiB7XG5cdCAgICAgICAgICAgICAgZGlzcGxheTogc2hvd1NlbGVjdGVkVmFsdWUgPyAnYmxvY2snIDogJ25vbmUnLFxuXHQgICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHZhbHVlWzBdLmxhYmVsXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoIXNob3dTZWFyY2gpIHtcblx0ICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZV07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gW3NlbGVjdGVkVmFsdWUsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG5cdCAgICAgICAgICAgIGtleTogJ2lucHV0Jyxcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICBkaXNwbGF5OiBvcGVuID8gJ2Jsb2NrJyA6ICdub25lJ1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuXHQgICAgICAgICldO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gW107XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gdmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICAgICAgdmFyIGNvbnRlbnQgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcblx0ICAgICAgICAgIHZhciB0aXRsZSA9IHNpbmdsZVZhbHVlLnRpdGxlIHx8IGNvbnRlbnQ7XG5cdCAgICAgICAgICBpZiAobWF4VGFnVGV4dExlbmd0aCAmJiB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgJiYgY29udGVudC5sZW5ndGggPiBtYXhUYWdUZXh0TGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIG1heFRhZ1RleHRMZW5ndGgpICsgJy4uLic7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB2YXIgZGlzYWJsZWQgPSBfdGhpczkuaXNDaGlsZERpc2FibGVkKHNpbmdsZVZhbHVlLmtleSk7XG5cdCAgICAgICAgICB2YXIgY2hvaWNlQ2xhc3NOYW1lID0gZGlzYWJsZWQgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19kaXNhYmxlZCcgOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlJztcblx0ICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcblx0ICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2hvaWNlQ2xhc3NOYW1lLFxuXHQgICAgICAgICAgICAgIGtleTogc2luZ2xlVmFsdWUua2V5LFxuXHQgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuXHQgICAgICAgICAgICB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fY29udGVudCcgfSxcblx0ICAgICAgICAgICAgICBjb250ZW50XG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIGRpc2FibGVkID8gbnVsbCA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19yZW1vdmUnLFxuXHQgICAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzOS5yZW1vdmVTZWxlY3RlZC5iaW5kKF90aGlzOSwgc2luZ2xlVmFsdWUua2V5KVxuXHQgICAgICAgICAgICB9KVxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICBzZWxlY3RlZFZhbHVlTm9kZXMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlYXJjaCAnICsgcHJlZml4Q2xzICsgJy1zZWFyY2gtLWlubGluZScsXG5cdCAgICAgICAgICBrZXk6ICdfX2lucHV0J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGhpcy5nZXRJbnB1dEVsZW1lbnQoKVxuXHQgICAgICApKTtcblx0XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGNob2ljZVRyYW5zaXRpb25OYW1lKSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgb25MZWF2ZTogdGhpcy5vbkNob2ljZUFuaW1hdGlvbkxlYXZlLFxuXHQgICAgICAgICAgICBjb21wb25lbnQ6ICd1bCcsXG5cdCAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lOiBjaG9pY2VUcmFuc2l0aW9uTmFtZVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuXHQgICAgICAgICk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd1bCcsXG5cdCAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG5cdCAgICAgIHRoaXMuZ2V0UGxhY2Vob2xkZXJFbGVtZW50KCksXG5cdCAgICAgIGlubmVyTm9kZVxuXHQgICAgKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9yb290Q2xzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgbXVsdGlwbGUgPSAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpO1xuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICBhbGxvd0NsZWFyID0gcHJvcHMuYWxsb3dDbGVhcixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIGN0cmxOb2RlID0gdGhpcy5yZW5kZXJUb3BDb250cm9sTm9kZSgpO1xuXHQgICAgdmFyIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7fTtcblx0ICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXHRcblx0ICAgIHZhciBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcblx0ICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KShwcm9wcykpIHtcblx0ICAgICAgZXh0cmFTZWxlY3Rpb25Qcm9wcyA9IHtcblx0ICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuXHQgICAgICAgIHRhYkluZGV4OiAwXG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICB2YXIgcm9vdENscyA9IChfcm9vdENscyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1vcGVuJywgb3BlbiksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZm9jdXNlZCcsIG9wZW4gfHwgISF0aGlzLl9mb2N1c2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1jb21ib2JveCcsICgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWVuYWJsZWQnLCAhZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWFsbG93LWNsZWFyJywgISFwcm9wcy5hbGxvd0NsZWFyKSwgX3Jvb3RDbHMpO1xuXHQgICAgdmFyIGNsZWFyU3R5bGUgPSAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSwge1xuXHQgICAgICBkaXNwbGF5OiAnbm9uZSdcblx0ICAgIH0pO1xuXHQgICAgaWYgKHN0YXRlLmlucHV0VmFsdWUgfHwgc3RhdGUudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgIGNsZWFyU3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cdCAgICB9XG5cdCAgICB2YXIgY2xlYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAga2V5OiAnY2xlYXInLFxuXHQgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcblx0ICAgICAgc3R5bGU6IGNsZWFyU3R5bGVcblx0ICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcblx0ICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2xlYXInLFxuXHQgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJTZWxlY3Rpb25cblx0ICAgIH0pKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfU2VsZWN0VHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICB7XG5cdCAgICAgICAgb25Qb3B1cEZvY3VzOiB0aGlzLm9uUG9wdXBGb2N1cyxcblx0ICAgICAgICBkcm9wZG93bkFsaWduOiBwcm9wcy5kcm9wZG93bkFsaWduLFxuXHQgICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZSxcblx0ICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHByb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCxcblx0ICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcblx0ICAgICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG5cdCAgICAgICAgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuXHQgICAgICAgIGFuaW1hdGlvbjogcHJvcHMuYW5pbWF0aW9uLFxuXHQgICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGRyb3Bkb3duU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGUsXG5cdCAgICAgICAgY29tYm9ib3g6IHByb3BzLmNvbWJvYm94LFxuXHQgICAgICAgIHNob3dTZWFyY2g6IHByb3BzLnNob3dTZWFyY2gsXG5cdCAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcblx0ICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG5cdCAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuXHQgICAgICAgIHZpc2libGU6IG9wZW4sXG5cdCAgICAgICAgaW5wdXRWYWx1ZTogc3RhdGUuaW5wdXRWYWx1ZSxcblx0ICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG5cdCAgICAgICAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U6IHRoaXMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuXHQgICAgICAgIG9uTWVudVNlbGVjdDogdGhpcy5vbk1lbnVTZWxlY3QsXG5cdCAgICAgICAgb25NZW51RGVzZWxlY3Q6IHRoaXMub25NZW51RGVzZWxlY3QsXG5cdCAgICAgICAgcmVmOiAndHJpZ2dlcidcblx0ICAgICAgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgICByZWY6ICdyb290Jyxcblx0ICAgICAgICAgIG9uQmx1cjogdGhpcy5vbk91dGVyQmx1cixcblx0ICAgICAgICAgIG9uRm9jdXM6IHRoaXMub25PdXRlckZvY3VzLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkocm9vdENscylcblx0ICAgICAgICB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgIHJlZjogJ3NlbGVjdGlvbicsXG5cdCAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbicsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25cXG4gICAgICAgICAgICAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLFxuXHQgICAgICAgICAgICByb2xlOiAnY29tYm9ib3gnLFxuXHQgICAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG5cdCAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ3RydWUnLFxuXHQgICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IG9wZW5cblx0ICAgICAgICAgIH0sIGV4dHJhU2VsZWN0aW9uUHJvcHMpLFxuXHQgICAgICAgICAgY3RybE5vZGUsXG5cdCAgICAgICAgICBhbGxvd0NsZWFyICYmICFtdWx0aXBsZSA/IGNsZWFyIDogbnVsbCxcblx0ICAgICAgICAgIG11bHRpcGxlIHx8ICFwcm9wcy5zaG93QXJyb3cgPyBudWxsIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICAgIGtleTogJ2Fycm93Jyxcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYXJyb3cnLFxuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcblx0ICAgICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25BcnJvd0NsaWNrXG5cdCAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdiJywgbnVsbClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMTk1KTtcblx0XG5cdHZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duTWVudSA9IF9fd2VicGFja19yZXF1aXJlX18oMTI2KTtcblx0XG5cdHZhciBfRHJvcGRvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duTWVudSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBCVUlMVF9JTl9QTEFDRU1FTlRTID0ge1xuXHQgIGJvdHRvbUxlZnQ6IHtcblx0ICAgIHBvaW50czogWyd0bCcsICdibCddLFxuXHQgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICBvdmVyZmxvdzoge1xuXHQgICAgICBhZGp1c3RYOiAwLFxuXHQgICAgICBhZGp1c3RZOiAxXG5cdCAgICB9XG5cdCAgfSxcblx0ICB0b3BMZWZ0OiB7XG5cdCAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIG92ZXJmbG93OiB7XG5cdCAgICAgIGFkanVzdFg6IDAsXG5cdCAgICAgIGFkanVzdFk6IDFcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgU2VsZWN0VHJpZ2dlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1NlbGVjdFRyaWdnZXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG9uUG9wdXBGb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkcm9wZG93bkFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBkcm9wZG93bkNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBmaWx0ZXJPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgb3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgcG9wdXBDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55XG5cdCAgfSxcblx0XG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICB2aXNpYmxlID0gX3Byb3BzLnZpc2libGUsXG5cdCAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID0gX3Byb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDtcblx0XG5cdCAgICBpZiAodmlzaWJsZSkge1xuXHQgICAgICB2YXIgZHJvcGRvd25ET01Ob2RlID0gdGhpcy5nZXRQb3B1cERPTU5vZGUoKTtcblx0ICAgICAgaWYgKGRyb3Bkb3duRE9NTm9kZSkge1xuXHQgICAgICAgIHZhciB3aWR0aFByb3AgPSBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPyAnd2lkdGgnIDogJ21pbldpZHRoJztcblx0ICAgICAgICBkcm9wZG93bkRPTU5vZGUuc3R5bGVbd2lkdGhQcm9wXSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpLm9mZnNldFdpZHRoICsgJ3B4Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgZ2V0SW5uZXJNZW51OiBmdW5jdGlvbiBnZXRJbm5lck1lbnUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wb3B1cE1lbnUgJiYgdGhpcy5wb3B1cE1lbnUucmVmcy5tZW51O1xuXHQgIH0sXG5cdCAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBEb21Ob2RlKCk7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93bkVsZW1lbnQ6IGZ1bmN0aW9uIGdldERyb3Bkb3duRWxlbWVudChuZXdQcm9wcykge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ecm9wZG93bk1lbnUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgcmVmOiB0aGlzLnNhdmVNZW51XG5cdCAgICB9LCBuZXdQcm9wcywge1xuXHQgICAgICBwcmVmaXhDbHM6IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSxcblx0ICAgICAgb25NZW51U2VsZWN0OiBwcm9wcy5vbk1lbnVTZWxlY3QsXG5cdCAgICAgIG9uTWVudURlc2VsZWN0OiBwcm9wcy5vbk1lbnVEZXNlbGVjdCxcblx0ICAgICAgdmFsdWU6IHByb3BzLnZhbHVlLFxuXHQgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcblx0ICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHByb3BzLmRyb3Bkb3duTWVudVN0eWxlXG5cdCAgICB9KSk7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuXHQgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBwcm9wcy5hbmltYXRpb24pIHtcblx0ICAgICAgdHJhbnNpdGlvbk5hbWUgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCkgKyAnLScgKyBwcm9wcy5hbmltYXRpb247XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93blByZWZpeENsczogZnVuY3Rpb24gZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWRyb3Bkb3duJztcblx0ICB9LFxuXHQgIHNhdmVNZW51OiBmdW5jdGlvbiBzYXZlTWVudShtZW51KSB7XG5cdCAgICB0aGlzLnBvcHVwTWVudSA9IG1lbnU7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcG9wdXBDbGFzc05hbWU7XG5cdFxuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG9uUG9wdXBGb2N1cyA9IF9wcm9wczIub25Qb3B1cEZvY3VzLFxuXHQgICAgICAgIHByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczNbXCJkZWZhdWx0XCJdKShfcHJvcHMyLCBbJ29uUG9wdXBGb2N1cyddKTtcblx0ICAgIHZhciBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuXHQgICAgICAgIHZpc2libGUgPSBwcm9wcy52aXNpYmxlLFxuXHQgICAgICAgIGlucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlLFxuXHQgICAgICAgIGRyb3Bkb3duQWxpZ24gPSBwcm9wcy5kcm9wZG93bkFsaWduLFxuXHQgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2gsXG5cdCAgICAgICAgZHJvcGRvd25DbGFzc05hbWUgPSBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZTtcblx0XG5cdCAgICB2YXIgZHJvcGRvd25QcmVmaXhDbHMgPSB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCk7XG5cdCAgICB2YXIgcG9wdXBDbGFzc05hbWUgPSAoX3BvcHVwQ2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93bkNsYXNzTmFtZSwgISFkcm9wZG93bkNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93blByZWZpeENscyArICctLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLCAxKSwgX3BvcHVwQ2xhc3NOYW1lKTtcblx0ICAgIHZhciBwb3B1cEVsZW1lbnQgPSB0aGlzLmdldERyb3Bkb3duRWxlbWVudCh7XG5cdCAgICAgIG1lbnVJdGVtczogcHJvcHMub3B0aW9ucyxcblx0ICAgICAgb25Qb3B1cEZvY3VzOiBvblBvcHVwRm9jdXMsXG5cdCAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcblx0ICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcblx0ICAgICAgdmlzaWJsZTogdmlzaWJsZVxuXHQgICAgfSk7XG5cdCAgICB2YXIgaGlkZUFjdGlvbiA9IHZvaWQgMDtcblx0ICAgIGlmIChkaXNhYmxlZCkge1xuXHQgICAgICBoaWRlQWN0aW9uID0gW107XG5cdCAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiAhc2hvd1NlYXJjaCkge1xuXHQgICAgICBoaWRlQWN0aW9uID0gWydjbGljayddO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaGlkZUFjdGlvbiA9IFsnYmx1ciddO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuXHQgICAgICAgIHNob3dBY3Rpb246IGRpc2FibGVkID8gW10gOiBbJ2NsaWNrJ10sXG5cdCAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcblx0ICAgICAgICByZWY6ICd0cmlnZ2VyJyxcblx0ICAgICAgICBwb3B1cFBsYWNlbWVudDogJ2JvdHRvbUxlZnQnLFxuXHQgICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBCVUlMVF9JTl9QTEFDRU1FTlRTLFxuXHQgICAgICAgIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMsXG5cdCAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdGhpcy5nZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCksXG5cdCAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHByb3BzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIHBvcHVwOiBwb3B1cEVsZW1lbnQsXG5cdCAgICAgICAgcG9wdXBBbGlnbjogZHJvcGRvd25BbGlnbixcblx0ICAgICAgICBwb3B1cFZpc2libGU6IHZpc2libGUsXG5cdCAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuXHQgICAgICAgIHBvcHVwQ2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocG9wdXBDbGFzc05hbWUpLFxuXHQgICAgICAgIHBvcHVwU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGVcblx0ICAgICAgfSksXG5cdCAgICAgIHByb3BzLmNoaWxkcmVuXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdFRyaWdnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5PcHRHcm91cCA9IGV4cG9ydHMuT3B0aW9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9TZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7XG5cdFxuXHR2YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXHRcblx0dmFyIF9PcHRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7XG5cdFxuXHR2YXIgX09wdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRpb24pO1xuXHRcblx0dmFyIF9PcHRHcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oMTI4KTtcblx0XG5cdHZhciBfT3B0R3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0R3JvdXApO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuXHRfU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfU2VsZWN0MltcImRlZmF1bHRcIl07XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzMzpcbjgxLFxuXG4vKioqLyAxMzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ29sdW1uLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ29sdW1uKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0Q29sdW1uLnByb3BUeXBlcyA9IHtcblx0ICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGNvbFNwYW46IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG5cdCAgZGF0YUluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICB3aWR0aDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHQgIGZpeGVkOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFt0cnVlLCAnbGVmdCcsICdyaWdodCddKSxcblx0ICByZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkNlbGxDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoQ29sdW1uR3JvdXAsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW5Hcm91cCk7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gQ29sdW1uR3JvdXA7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRDb2x1bW5Hcm91cC5wcm9wVHlwZXMgPSB7XG5cdCAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHR9O1xuXHRDb2x1bW5Hcm91cC5pc1RhYmxlQ29sdW1uR3JvdXAgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0dmFyIENvbHVtbk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQ29sdW1uTWFuYWdlcihjb2x1bW5zLCBlbGVtZW50cykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbk1hbmFnZXIpO1xuXHRcblx0ICAgIHRoaXMuX2NhY2hlZCA9IHt9O1xuXHRcblx0ICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5ub3JtYWxpemUoZWxlbWVudHMpO1xuXHQgIH1cblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zRml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNGaXhlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuICEhY29sdW1uLmZpeGVkO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0xlZnRGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc0xlZnRGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zTGVmdEZpeGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMyLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNSaWdodEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpIHtcblx0ICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzMy5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdENvbHVtbnMgPSBmdW5jdGlvbiBsZWZ0Q29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczQuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdyaWdodENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczUuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczYuX2xlYWZDb2x1bW5zKF90aGlzNi5jb2x1bW5zKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIGxlZnRMZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdExlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM3Ll9sZWFmQ29sdW1ucyhfdGhpczcubGVmdENvbHVtbnMoKSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodExlYWZDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRMZWFmQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczggPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgncmlnaHRMZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzOC5fbGVhZkNvbHVtbnMoX3RoaXM4LnJpZ2h0Q29sdW1ucygpKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIC8vIGFkZCBhcHByb3ByaWF0ZSByb3dzcGFuIGFuZCBjb2xzcGFuIHRvIGNvbHVtblxuXHRcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuZ3JvdXBlZENvbHVtbnMgPSBmdW5jdGlvbiBncm91cGVkQ29sdW1ucygpIHtcblx0ICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZSgnZ3JvdXBlZENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBfZ3JvdXBDb2x1bW5zID0gZnVuY3Rpb24gX2dyb3VwQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cdCAgICAgICAgdmFyIHBhcmVudENvbHVtbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cdCAgICAgICAgdmFyIHJvd3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFtdO1xuXHRcblx0ICAgICAgICAvLyB0cmFjayBob3cgbWFueSByb3dzIHdlIGdvdFxuXHQgICAgICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuXHQgICAgICAgIHZhciBncm91cGVkID0gW107XG5cdCAgICAgICAgdmFyIHNldFJvd1NwYW4gPSBmdW5jdGlvbiBzZXRSb3dTcGFuKGNvbHVtbikge1xuXHQgICAgICAgICAgdmFyIHJvd1NwYW4gPSByb3dzLmxlbmd0aCAtIGN1cnJlbnRSb3c7XG5cdCAgICAgICAgICBpZiAoY29sdW1uICYmICFjb2x1bW4uY2hpbGRyZW4gJiYgLy8gcGFyZW50IGNvbHVtbnMgYXJlIHN1cHBvc2VkIHRvIGJlIG9uZSByb3dcblx0ICAgICAgICAgIHJvd1NwYW4gPiAxICYmICghY29sdW1uLnJvd1NwYW4gfHwgY29sdW1uLnJvd1NwYW4gPCByb3dTcGFuKSkge1xuXHQgICAgICAgICAgICBjb2x1bW4ucm93U3BhbiA9IHJvd1NwYW47XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHtcblx0ICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSBfZXh0ZW5kcyh7fSwgY29sdW1uKTtcblx0ICAgICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChuZXdDb2x1bW4pO1xuXHQgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4gPSBwYXJlbnRDb2x1bW4uY29sU3BhbiB8fCAwO1xuXHQgICAgICAgICAgaWYgKG5ld0NvbHVtbi5jaGlsZHJlbiAmJiBuZXdDb2x1bW4uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICBuZXdDb2x1bW4uY2hpbGRyZW4gPSBfZ3JvdXBDb2x1bW5zKG5ld0NvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIG5ld0NvbHVtbiwgcm93cyk7XG5cdCAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gKyBuZXdDb2x1bW4uY29sU3Bhbjtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuKys7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyB1cGRhdGUgcm93c3BhbiB0byBhbGwgc2FtZSByb3cgY29sdW1uc1xuXHQgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzW2N1cnJlbnRSb3ddLmxlbmd0aCAtIDE7ICsraSkge1xuXHQgICAgICAgICAgICBzZXRSb3dTcGFuKHJvd3NbY3VycmVudFJvd11baV0pO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgLy8gbGFzdCBjb2x1bW4sIHVwZGF0ZSByb3dzcGFuIGltbWVkaWF0ZWx5XG5cdCAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBjb2x1bW5zLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBzZXRSb3dTcGFuKG5ld0NvbHVtbik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBncm91cGVkLnB1c2gobmV3Q29sdW1uKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gZ3JvdXBlZDtcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIF9ncm91cENvbHVtbnMoX3RoaXM5LmNvbHVtbnMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKGVsZW1lbnRzKSB7XG5cdCAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNvbHVtbnMgPSBbXTtcblx0ICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdCAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNvbHVtbiA9IF9leHRlbmRzKHt9LCBlbGVtZW50LnByb3BzKTtcblx0ICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG5cdCAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChlbGVtZW50LnR5cGUuaXNUYWJsZUNvbHVtbkdyb3VwKSB7XG5cdCAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gX3RoaXMxMC5ub3JtYWxpemUoY29sdW1uLmNoaWxkcmVuKTtcblx0ICAgICAgfVxuXHQgICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGNvbHVtbnM7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldChjb2x1bW5zLCBlbGVtZW50cykge1xuXHQgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG5cdCAgICB0aGlzLl9jYWNoZWQgPSB7fTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5fY2FjaGUgPSBmdW5jdGlvbiBfY2FjaGUobmFtZSwgZm4pIHtcblx0ICAgIGlmIChuYW1lIGluIHRoaXMuX2NhY2hlZCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fY2FjaGVkW25hbWVdID0gZm4oKTtcblx0ICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2xlYWZDb2x1bW5zID0gZnVuY3Rpb24gX2xlYWZDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgIHZhciBfdGhpczExID0gdGhpcztcblx0XG5cdCAgICB2YXIgbGVhZkNvbHVtbnMgPSBbXTtcblx0ICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgIGlmICghY29sdW1uLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMucHVzaChjb2x1bW4pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zLnB1c2guYXBwbHkobGVhZkNvbHVtbnMsIF90b0NvbnN1bWFibGVBcnJheShfdGhpczExLl9sZWFmQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pKSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIGxlYWZDb2x1bW5zO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBDb2x1bW5NYW5hZ2VyO1xuXHR9KCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbk1hbmFnZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgRXhwYW5kSWNvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKEV4cGFuZEljb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBFeHBhbmRJY29uKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4cGFuZEljb24pO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgRXhwYW5kSWNvbi5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuXHQgICAgcmV0dXJuICEoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShuZXh0UHJvcHMsIHRoaXMucHJvcHMpO1xuXHQgIH07XG5cdFxuXHQgIEV4cGFuZEljb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIG9uRXhwYW5kID0gX3Byb3BzLm9uRXhwYW5kLFxuXHQgICAgICAgIG5lZWRJbmRlbnRTcGFjZWQgPSBfcHJvcHMubmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgICBleHBhbmRlZCA9IF9wcm9wcy5leHBhbmRlZCxcblx0ICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkO1xuXHRcblx0ICAgIGlmIChleHBhbmRhYmxlKSB7XG5cdCAgICAgIHZhciBleHBhbmRDbGFzc05hbWUgPSBleHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJztcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLScgKyBleHBhbmRDbGFzc05hbWUsXG5cdCAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICByZXR1cm4gb25FeHBhbmQoIWV4cGFuZGVkLCByZWNvcmQsIGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2UgaWYgKG5lZWRJbmRlbnRTcGFjZWQpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbiAnICsgcHJlZml4Q2xzICsgJy1zcGFjZWQnIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIEV4cGFuZEljb247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdEV4cGFuZEljb24ucHJvcFR5cGVzID0ge1xuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBleHBhbmRhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBleHBhbmRlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXhwYW5kSWNvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1RhYmxlUm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDEpO1xuXHRcblx0dmFyIF9UYWJsZVJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZVJvdyk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDApO1xuXHRcblx0dmFyIF9UYWJsZUhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUhlYWRlcik7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cdFxuXHR2YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0XG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblx0XG5cdHZhciBfQ29sdW1uTWFuYWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTM2KTtcblx0XG5cdHZhciBfQ29sdW1uTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5NYW5hZ2VyKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Mik7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblx0XG5cdHZhciBfY29tcG9uZW50Q2xhc3NlcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjkpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZShwcm9wcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5vbkV4cGFuZGVkID0gZnVuY3Rpb24gKGV4cGFuZGVkLCByZWNvcmQsIGUsIGluZGV4KSB7XG5cdCAgICAgIGlmIChlKSB7XG5cdCAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGluZm8gPSBfdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkKTtcblx0ICAgICAgaWYgKHR5cGVvZiBpbmZvICE9PSAndW5kZWZpbmVkJyAmJiAhZXhwYW5kZWQpIHtcblx0ICAgICAgICBfdGhpcy5vblJvd0Rlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIWluZm8gJiYgZXhwYW5kZWQpIHtcblx0ICAgICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpKTtcblx0ICAgICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uRXhwYW5kKGV4cGFuZGVkLCByZWNvcmQpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5vblJvd0Rlc3Ryb3kgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCkge1xuXHQgICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG5cdCAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCByb3dJbmRleCk7XG5cdCAgICAgIHZhciBpbmRleCA9IC0xO1xuXHQgICAgICBleHBhbmRlZFJvd3MuZm9yRWFjaChmdW5jdGlvbiAociwgaSkge1xuXHQgICAgICAgIGlmIChyID09PSByb3dLZXkpIHtcblx0ICAgICAgICAgIGluZGV4ID0gaTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG5cdCAgICAgICAgZXhwYW5kZWRSb3dzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlV2luZG93UmVzaXplID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCgpO1xuXHQgICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIHRhYmxlUmVjdCA9IF90aGlzLnRhYmxlTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgLy8gSWYgdGFibGVOb2RlJ3MgaGVpZ2h0IGxlc3MgdGhhbiAwLCBzdXBwb3NlIGl0IGlzIGhpZGRlbiBhbmQgZG9uJ3QgcmVjYWxjdWxhdGUgcm93SGVpZ2h0LlxuXHQgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzQ4MzZcblx0ICAgICAgaWYgKHRhYmxlUmVjdC5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiB0YWJsZVJlY3QuaGVpZ2h0IDw9IDApIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHByZWZpeENscyA9IF90aGlzLnByb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgIHZhciBoZWFkUm93cyA9IF90aGlzLnJlZnMuaGVhZFRhYmxlID8gX3RoaXMucmVmcy5oZWFkVGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQnKSA6IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJyk7XG5cdCAgICAgIHZhciBib2R5Um93cyA9IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgcHJlZml4Q2xzICsgJy1yb3cnKSB8fCBbXTtcblx0ICAgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoaGVhZFJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG5cdCAgICAgIH0pO1xuXHQgICAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChib2R5Um93cywgZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIHJldHVybiByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8ICdhdXRvJztcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmICgoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCwgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQpICYmICgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCkpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCxcblx0ICAgICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmRldGVjdFNjcm9sbFRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIGlmIChfdGhpcy5zY3JvbGxUYXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkge1xuXHQgICAgICAgIF90aGlzLnNjcm9sbFRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVCb2R5U2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgLy8gUHJldmVudCBzY3JvbGxUb3Agc2V0dGVyIHRyaWdnZXIgb25TY3JvbGwgZXZlbnRcblx0ICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTM4NjY5NlxuXHQgICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLnNjcm9sbFRhcmdldCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMkc2Nyb2xsID0gX3RoaXMucHJvcHMuc2Nyb2xsLFxuXHQgICAgICAgICAgc2Nyb2xsID0gX3RoaXMkcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHNjcm9sbDtcblx0ICAgICAgdmFyIF90aGlzJHJlZnMgPSBfdGhpcy5yZWZzLFxuXHQgICAgICAgICAgaGVhZFRhYmxlID0gX3RoaXMkcmVmcy5oZWFkVGFibGUsXG5cdCAgICAgICAgICBib2R5VGFibGUgPSBfdGhpcyRyZWZzLmJvZHlUYWJsZSxcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlMZWZ0ID0gX3RoaXMkcmVmcy5maXhlZENvbHVtbnNCb2R5TGVmdCxcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keVJpZ2h0O1xuXHRcblx0ICAgICAgaWYgKHNjcm9sbC54ICYmIGUudGFyZ2V0LnNjcm9sbExlZnQgIT09IF90aGlzLmxhc3RTY3JvbGxMZWZ0KSB7XG5cdCAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBib2R5VGFibGUgJiYgaGVhZFRhYmxlKSB7XG5cdCAgICAgICAgICBoZWFkVGFibGUuc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gaGVhZFRhYmxlICYmIGJvZHlUYWJsZSkge1xuXHQgICAgICAgICAgYm9keVRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZShlLnRhcmdldCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHNjcm9sbC55KSB7XG5cdCAgICAgICAgaWYgKGZpeGVkQ29sdW1uc0JvZHlMZWZ0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5TGVmdCkge1xuXHQgICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keVJpZ2h0ICYmIGUudGFyZ2V0ICE9PSBmaXhlZENvbHVtbnNCb2R5UmlnaHQpIHtcblx0ICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChib2R5VGFibGUgJiYgZS50YXJnZXQgIT09IGJvZHlUYWJsZSkge1xuXHQgICAgICAgICAgYm9keVRhYmxlLnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgLy8gUmVtZW1iZXIgbGFzdCBzY3JvbGxMZWZ0IGZvciBzY3JvbGwgZGlyZWN0aW9uIGRldGVjdGluZy5cblx0ICAgICAgX3RoaXMubGFzdFNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVSb3dIb3ZlciA9IGZ1bmN0aW9uIChpc0hvdmVyLCBrZXkpIHtcblx0ICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgIGN1cnJlbnRIb3ZlcktleTogaXNIb3ZlciA/IGtleSA6IG51bGxcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBleHBhbmRlZFJvd0tleXMgPSBbXTtcblx0ICAgIHZhciByb3dzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5kYXRhKSk7XG5cdCAgICBfdGhpcy5jb2x1bW5NYW5hZ2VyID0gbmV3IF9Db2x1bW5NYW5hZ2VyMltcImRlZmF1bHRcIl0ocHJvcHMuY29sdW1ucywgcHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgX3RoaXMuc3RvcmUgPSAoMCwgX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl0pKHsgY3VycmVudEhvdmVyS2V5OiBudWxsIH0pO1xuXHQgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2xlZnQnKTtcblx0XG5cdCAgICBpZiAocHJvcHMuZGVmYXVsdEV4cGFuZEFsbFJvd3MpIHtcblx0ICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHJvdyA9IHJvd3NbaV07XG5cdCAgICAgICAgZXhwYW5kZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJvdywgaSkpO1xuXHQgICAgICAgIHJvd3MgPSByb3dzLmNvbmNhdChyb3dbcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lXSB8fCBbXSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGV4cGFuZGVkUm93S2V5cyA9IHByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCBwcm9wcy5kZWZhdWx0RXhwYW5kZWRSb3dLZXlzO1xuXHQgICAgfVxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzLFxuXHQgICAgICBjdXJyZW50SG92ZXJLZXk6IG51bGwsXG5cdCAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBbXSxcblx0ICAgICAgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ6IFtdXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcblx0ICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcblx0ICAgICAgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUgPSAoMCwgX3V0aWxzLmRlYm91bmNlKSh0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSwgMTUwKTtcblx0ICAgICAgdGhpcy5yZXNpemVFdmVudCA9ICgwLCBfYWRkRXZlbnRMaXN0ZW5lcjJbXCJkZWZhdWx0XCJdKSh3aW5kb3csICdyZXNpemUnLCB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCdleHBhbmRlZFJvd0tleXMnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBleHBhbmRlZFJvd0tleXM6IG5leHRQcm9wcy5leHBhbmRlZFJvd0tleXNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBpZiAobmV4dFByb3BzLmNvbHVtbnMgJiYgbmV4dFByb3BzLmNvbHVtbnMgIT09IHRoaXMucHJvcHMuY29sdW1ucykge1xuXHQgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIucmVzZXQobmV4dFByb3BzLmNvbHVtbnMpO1xuXHQgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuY2hpbGRyZW4gIT09IHRoaXMucHJvcHMuY2hpbGRyZW4pIHtcblx0ICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG51bGwsIG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcblx0ICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuXHQgICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuXHQgICAgfVxuXHQgICAgLy8gd2hlbiB0YWJsZSBjaGFuZ2VzIHRvIGVtcHR5LCByZXNldCBzY3JvbGxMZWZ0XG5cdCAgICBpZiAocHJldlByb3BzLmRhdGEubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09PSAwICYmIHRoaXMuaGFzU2Nyb2xsWCgpKSB7XG5cdCAgICAgIHRoaXMucmVzZXRTY3JvbGxYKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICBpZiAodGhpcy5yZXNpemVFdmVudCkge1xuXHQgICAgICB0aGlzLnJlc2l6ZUV2ZW50LnJlbW92ZSgpO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKSB7XG5cdCAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplLmNhbmNlbCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5vbkV4cGFuZGVkUm93c0NoYW5nZSA9IGZ1bmN0aW9uIG9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cykge1xuXHQgICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cyk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd0tleSA9IGZ1bmN0aW9uIGdldFJvd0tleShyZWNvcmQsIGluZGV4KSB7XG5cdCAgICB2YXIgcm93S2V5ID0gdGhpcy5wcm9wcy5yb3dLZXk7XG5cdCAgICB2YXIga2V5ID0gdHlwZW9mIHJvd0tleSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0tleShyZWNvcmQsIGluZGV4KSA6IHJlY29yZFtyb3dLZXldO1xuXHQgICAgKDAsIF91dGlscy53YXJuaW5nT25jZSkoa2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCcgKyAnb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleS4nKTtcblx0ICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDoga2V5O1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJvd3MgPSBmdW5jdGlvbiBnZXRFeHBhbmRlZFJvd3MoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy5leHBhbmRlZFJvd0tleXMgfHwgdGhpcy5zdGF0ZS5leHBhbmRlZFJvd0tleXM7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIGdldEhlYWRlcihjb2x1bW5zLCBmaXhlZCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc2hvd0hlYWRlciA9IF9wcm9wcy5zaG93SGVhZGVyLFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgIHZhciByb3dzID0gdGhpcy5nZXRIZWFkZXJSb3dzKGNvbHVtbnMpO1xuXHRcblx0ICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG5cdCAgICAgIHJvd3NbMF0udW5zaGlmdCh7XG5cdCAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kSWNvbkFzQ2VsbCcsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLXRoJyxcblx0ICAgICAgICB0aXRsZTogJycsXG5cdCAgICAgICAgcm93U3Bhbjogcm93cy5sZW5ndGhcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHRyU3R5bGUgPSBmaXhlZCA/IHRoaXMuZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykgOiBudWxsO1xuXHRcblx0ICAgIHJldHVybiBzaG93SGVhZGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgcm93czogcm93cyxcblx0ICAgICAgcm93U3R5bGU6IHRyU3R5bGVcblx0ICAgIH0pIDogbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93cyA9IGZ1bmN0aW9uIGdldEhlYWRlclJvd3MoY29sdW1ucykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cdCAgICB2YXIgcm93cyA9IGFyZ3VtZW50c1syXTtcblx0XG5cdCAgICByb3dzID0gcm93cyB8fCBbXTtcblx0ICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuXHRcblx0ICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgIGlmIChjb2x1bW4ucm93U3BhbiAmJiByb3dzLmxlbmd0aCA8IGNvbHVtbi5yb3dTcGFuKSB7XG5cdCAgICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcblx0ICAgICAgICAgIHJvd3MucHVzaChbXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHZhciBjZWxsID0ge1xuXHQgICAgICAgIGtleTogY29sdW1uLmtleSxcblx0ICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfHwgJycsXG5cdCAgICAgICAgY2hpbGRyZW46IGNvbHVtbi50aXRsZVxuXHQgICAgICB9O1xuXHQgICAgICBpZiAoY29sdW1uLmNoaWxkcmVuKSB7XG5cdCAgICAgICAgX3RoaXMyLmdldEhlYWRlclJvd3MoY29sdW1uLmNoaWxkcmVuLCBjdXJyZW50Um93ICsgMSwgcm93cyk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCdjb2xTcGFuJyBpbiBjb2x1bW4pIHtcblx0ICAgICAgICBjZWxsLmNvbFNwYW4gPSBjb2x1bW4uY29sU3Bhbjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoJ3Jvd1NwYW4nIGluIGNvbHVtbikge1xuXHQgICAgICAgIGNlbGwucm93U3BhbiA9IGNvbHVtbi5yb3dTcGFuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChjZWxsLmNvbFNwYW4gIT09IDApIHtcblx0ICAgICAgICByb3dzW2N1cnJlbnRSb3ddLnB1c2goY2VsbCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcblx0ICAgICAgcmV0dXJuIHJvdy5sZW5ndGggPiAwO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3coa2V5LCBjb250ZW50LCB2aXNpYmxlLCBjbGFzc05hbWUsIGZpeGVkKSB7XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczIuZXhwYW5kSWNvbkFzQ2VsbDtcblx0XG5cdCAgICB2YXIgY29sQ291bnQgPSB2b2lkIDA7XG5cdCAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG5cdCAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIHZhciBjb2x1bW5zID0gW3tcblx0ICAgICAga2V5OiAnZXh0cmEtcm93Jyxcblx0ICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHByb3BzOiB7XG5cdCAgICAgICAgICAgIGNvbFNwYW46IGNvbENvdW50XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgY2hpbGRyZW46IGZpeGVkICE9PSAncmlnaHQnID8gY29udGVudCA6ICcmbmJzcDsnXG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgICAgfV07XG5cdCAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuXHQgICAgICBjb2x1bW5zLnVuc2hpZnQoe1xuXHQgICAgICAgIGtleTogJ2V4cGFuZC1pY29uLXBsYWNlaG9sZGVyJyxcblx0ICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVSb3cyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuXHQgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuXHQgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAga2V5OiBrZXkgKyAnLWV4dHJhLXJvdycsXG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1leHBhbmRlZC1yb3cnLFxuXHQgICAgICBpbmRlbnQ6IDEsXG5cdCAgICAgIGV4cGFuZGFibGU6IGZhbHNlLFxuXHQgICAgICBzdG9yZTogdGhpcy5zdG9yZVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd3NCeURhdGEgPSBmdW5jdGlvbiBnZXRSb3dzQnlEYXRhKGRhdGEsIHZpc2libGUsIGluZGVudCwgY29sdW1ucywgZml4ZWQpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hpbGRyZW5Db2x1bW5OYW1lID0gcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lO1xuXHQgICAgdmFyIGV4cGFuZGVkUm93UmVuZGVyID0gcHJvcHMuZXhwYW5kZWRSb3dSZW5kZXI7XG5cdCAgICB2YXIgZXhwYW5kUm93QnlDbGljayA9IHByb3BzLmV4cGFuZFJvd0J5Q2xpY2s7XG5cdCAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSB0aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0O1xuXHRcblx0ICAgIHZhciByc3QgPSBbXTtcblx0ICAgIHZhciByb3dDbGFzc05hbWUgPSBwcm9wcy5yb3dDbGFzc05hbWU7XG5cdCAgICB2YXIgcm93UmVmID0gcHJvcHMucm93UmVmO1xuXHQgICAgdmFyIGV4cGFuZGVkUm93Q2xhc3NOYW1lID0gcHJvcHMuZXhwYW5kZWRSb3dDbGFzc05hbWU7XG5cdCAgICB2YXIgbmVlZEluZGVudFNwYWNlZCA9IHByb3BzLmRhdGEuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7XG5cdCAgICAgIHJldHVybiByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcblx0ICAgIH0pO1xuXHQgICAgdmFyIG9uUm93Q2xpY2sgPSBwcm9wcy5vblJvd0NsaWNrO1xuXHQgICAgdmFyIG9uUm93RG91YmxlQ2xpY2sgPSBwcm9wcy5vblJvd0RvdWJsZUNsaWNrO1xuXHRcblx0ICAgIHZhciBleHBhbmRJY29uQXNDZWxsID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQXNDZWxsIDogZmFsc2U7XG5cdCAgICB2YXIgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQ29sdW1uSW5kZXggOiAtMTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIHJlY29yZCA9IGRhdGFbaV07XG5cdCAgICAgIHZhciBrZXkgPSB0aGlzLmdldFJvd0tleShyZWNvcmQsIGkpO1xuXHQgICAgICB2YXIgY2hpbGRyZW5Db2x1bW4gPSByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcblx0ICAgICAgdmFyIGlzUm93RXhwYW5kZWQgPSB0aGlzLmlzUm93RXhwYW5kZWQocmVjb3JkLCBpKTtcblx0ICAgICAgdmFyIGV4cGFuZGVkUm93Q29udGVudCA9IHZvaWQgMDtcblx0ICAgICAgaWYgKGV4cGFuZGVkUm93UmVuZGVyICYmIGlzUm93RXhwYW5kZWQpIHtcblx0ICAgICAgICBleHBhbmRlZFJvd0NvbnRlbnQgPSBleHBhbmRlZFJvd1JlbmRlcihyZWNvcmQsIGksIGluZGVudCk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNsYXNzTmFtZSA9IHJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCk7XG5cdFxuXHQgICAgICB2YXIgb25Ib3ZlclByb3BzID0ge307XG5cdCAgICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuXHQgICAgICAgIG9uSG92ZXJQcm9wcy5vbkhvdmVyID0gdGhpcy5oYW5kbGVSb3dIb3Zlcjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIGhlaWdodCA9IGZpeGVkICYmIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0W2ldID8gZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gOiBudWxsO1xuXHRcblx0ICAgICAgdmFyIGxlYWZDb2x1bW5zID0gdm9pZCAwO1xuXHQgICAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuXHQgICAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJzdC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlUm93MltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHtcblx0ICAgICAgICBpbmRlbnQ6IGluZGVudCxcblx0ICAgICAgICBpbmRlbnRTaXplOiBwcm9wcy5pbmRlbnRTaXplLFxuXHQgICAgICAgIG5lZWRJbmRlbnRTcGFjZWQ6IG5lZWRJbmRlbnRTcGFjZWQsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgICAgcmVjb3JkOiByZWNvcmQsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbDogZXhwYW5kSWNvbkFzQ2VsbCxcblx0ICAgICAgICBvbkRlc3Ryb3k6IHRoaXMub25Sb3dEZXN0cm95LFxuXHQgICAgICAgIGluZGV4OiBpLFxuXHQgICAgICAgIHZpc2libGU6IHZpc2libGUsXG5cdCAgICAgICAgZXhwYW5kUm93QnlDbGljazogZXhwYW5kUm93QnlDbGljayxcblx0ICAgICAgICBvbkV4cGFuZDogdGhpcy5vbkV4cGFuZGVkLFxuXHQgICAgICAgIGV4cGFuZGFibGU6IGNoaWxkcmVuQ29sdW1uIHx8IGV4cGFuZGVkUm93UmVuZGVyLFxuXHQgICAgICAgIGV4cGFuZGVkOiBpc1Jvd0V4cGFuZGVkLFxuXHQgICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1yb3cnLFxuXHQgICAgICAgIGNoaWxkcmVuQ29sdW1uTmFtZTogY2hpbGRyZW5Db2x1bW5OYW1lLFxuXHQgICAgICAgIGNvbHVtbnM6IGxlYWZDb2x1bW5zLFxuXHQgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuXHQgICAgICAgIG9uUm93Q2xpY2s6IG9uUm93Q2xpY2ssXG5cdCAgICAgICAgb25Sb3dEb3VibGVDbGljazogb25Sb3dEb3VibGVDbGljayxcblx0ICAgICAgICBoZWlnaHQ6IGhlaWdodFxuXHQgICAgICB9LCBvbkhvdmVyUHJvcHMsIHtcblx0ICAgICAgICBrZXk6IGtleSxcblx0ICAgICAgICBob3ZlcktleToga2V5LFxuXHQgICAgICAgIHJlZjogcm93UmVmKHJlY29yZCwgaSwgaW5kZW50KSxcblx0ICAgICAgICBzdG9yZTogdGhpcy5zdG9yZVxuXHQgICAgICB9KSkpO1xuXHRcblx0ICAgICAgdmFyIHN1YlZpc2libGUgPSB2aXNpYmxlICYmIGlzUm93RXhwYW5kZWQ7XG5cdFxuXHQgICAgICBpZiAoZXhwYW5kZWRSb3dDb250ZW50ICYmIGlzUm93RXhwYW5kZWQpIHtcblx0ICAgICAgICByc3QucHVzaCh0aGlzLmdldEV4cGFuZGVkUm93KGtleSwgZXhwYW5kZWRSb3dDb250ZW50LCBzdWJWaXNpYmxlLCBleHBhbmRlZFJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCksIGZpeGVkKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNoaWxkcmVuQ29sdW1uKSB7XG5cdCAgICAgICAgcnN0ID0gcnN0LmNvbmNhdCh0aGlzLmdldFJvd3NCeURhdGEoY2hpbGRyZW5Db2x1bW4sIHN1YlZpc2libGUsIGluZGVudCArIDEsIGNvbHVtbnMsIGZpeGVkKSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByc3Q7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJvd3MgPSBmdW5jdGlvbiBnZXRSb3dzKGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRSb3dzQnlEYXRhKHRoaXMucHJvcHMuZGF0YSwgdHJ1ZSwgMCwgY29sdW1ucywgZml4ZWQpO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2xHcm91cCA9IGZ1bmN0aW9uIGdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICB2YXIgY29scyA9IFtdO1xuXHQgICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuXHQgICAgICBjb2xzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywge1xuXHQgICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLWNvbCcsXG5cdCAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY29sJ1xuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGVhZkNvbHVtbnMgPSB2b2lkIDA7XG5cdCAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuXHQgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKTtcblx0ICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKTtcblx0ICAgIH1cblx0ICAgIGNvbHMgPSBjb2xzLmNvbmNhdChsZWFmQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2NvbCcsIHsga2V5OiBjLmtleSwgc3R5bGU6IHsgd2lkdGg6IGMud2lkdGgsIG1pbldpZHRoOiBjLndpZHRoIH0gfSk7XG5cdCAgICB9KSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2NvbGdyb3VwJyxcblx0ICAgICAgbnVsbCxcblx0ICAgICAgY29sc1xuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0TGVmdEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRMZWZ0Rml4ZWRUYWJsZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcblx0ICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRDb2x1bW5zKCksXG5cdCAgICAgIGZpeGVkOiAnbGVmdCdcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRSaWdodEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRSaWdodEZpeGVkVGFibGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRUYWJsZSh7XG5cdCAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodENvbHVtbnMoKSxcblx0ICAgICAgZml4ZWQ6ICdyaWdodCdcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRUYWJsZSA9IGZ1bmN0aW9uIGdldFRhYmxlKCkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXHQgICAgdmFyIGNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnMsXG5cdCAgICAgICAgZml4ZWQgPSBvcHRpb25zLmZpeGVkO1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuXHQgICAgICAgIF9wcm9wczMkc2Nyb2xsID0gX3Byb3BzMy5zY3JvbGwsXG5cdCAgICAgICAgc2Nyb2xsID0gX3Byb3BzMyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzMyRzY3JvbGwsXG5cdCAgICAgICAgZ2V0Qm9keVdyYXBwZXIgPSBfcHJvcHMzLmdldEJvZHlXcmFwcGVyO1xuXHQgICAgdmFyIHVzZUZpeGVkSGVhZGVyID0gdGhpcy5wcm9wcy51c2VGaXhlZEhlYWRlcjtcblx0XG5cdCAgICB2YXIgYm9keVN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuYm9keVN0eWxlKTtcblx0ICAgIHZhciBoZWFkU3R5bGUgPSB7fTtcblx0XG5cdCAgICB2YXIgdGFibGVDbGFzc05hbWUgPSAnJztcblx0ICAgIGlmIChzY3JvbGwueCB8fCBmaXhlZCkge1xuXHQgICAgICB0YWJsZUNsYXNzTmFtZSA9IHByZWZpeENscyArICctZml4ZWQnO1xuXHQgICAgICBib2R5U3R5bGUub3ZlcmZsb3dYID0gYm9keVN0eWxlLm92ZXJmbG93WCB8fCAnYXV0byc7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlubmVyQm9keVN0eWxlID0ge307XG5cdCAgICBpZiAoc2Nyb2xsLnkpIHtcblx0ICAgICAgLy8gbWF4SGVpZ2h0IHdpbGwgbWFrZSBmaXhlZC1UYWJsZSBzY3JvbGxpbmcgbm90IHdvcmtpbmdcblx0ICAgICAgLy8gc28gd2Ugb25seSBzZXQgbWF4SGVpZ2h0IHRvIGJvZHktVGFibGUgaGVyZVxuXHQgICAgICBpZiAoZml4ZWQpIHtcblx0ICAgICAgICBpbm5lckJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuXHQgICAgICAgIGlubmVyQm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYm9keVN0eWxlLm1heEhlaWdodCA9IGJvZHlTdHlsZS5tYXhIZWlnaHQgfHwgc2Nyb2xsLnk7XG5cdCAgICAgIH1cblx0ICAgICAgYm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG5cdCAgICAgIHVzZUZpeGVkSGVhZGVyID0gdHJ1ZTtcblx0XG5cdCAgICAgIC8vIEFkZCBuZWdhdGl2ZSBtYXJnaW4gYm90dG9tIGZvciBzY3JvbGwgYmFyIG92ZXJmbG93IGJ1Z1xuXHQgICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSAoMCwgX3V0aWxzLm1lYXN1cmVTY3JvbGxiYXIpKCk7XG5cdCAgICAgIGlmIChzY3JvbGxiYXJXaWR0aCA+IDApIHtcblx0ICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLm1hcmdpbkJvdHRvbSA9ICctJyArIHNjcm9sbGJhcldpZHRoICsgJ3B4Jztcblx0ICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLnBhZGRpbmdCb3R0b20gPSAnMHB4Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZW5kZXJUYWJsZSA9IGZ1bmN0aW9uIHJlbmRlclRhYmxlKCkge1xuXHQgICAgICB2YXIgaGFzSGVhZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblx0ICAgICAgdmFyIGhhc0JvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cdFxuXHQgICAgICB2YXIgdGFibGVTdHlsZSA9IHt9O1xuXHQgICAgICBpZiAoIWZpeGVkICYmIHNjcm9sbC54KSB7XG5cdCAgICAgICAgLy8gbm90IHNldCB3aWR0aCwgdGhlbiB1c2UgY29udGVudCBmaXhlZCB3aWR0aFxuXHQgICAgICAgIGlmIChzY3JvbGwueCA9PT0gdHJ1ZSkge1xuXHQgICAgICAgICAgdGFibGVTdHlsZS50YWJsZUxheW91dCA9ICdmaXhlZCc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRhYmxlU3R5bGUud2lkdGggPSBzY3JvbGwueDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRhYmxlQm9keSA9IGhhc0JvZHkgPyBnZXRCb2R5V3JhcHBlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0Ym9keScsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG5cdCAgICAgICAgX3RoaXMzLmdldFJvd3MoY29sdW1ucywgZml4ZWQpXG5cdCAgICAgICkpIDogbnVsbDtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogdGFibGVDbGFzc05hbWUsIHN0eWxlOiB0YWJsZVN0eWxlLCBrZXk6ICd0YWJsZScgfSxcblx0ICAgICAgICBfdGhpczMuZ2V0Q29sR3JvdXAoY29sdW1ucywgZml4ZWQpLFxuXHQgICAgICAgIGhhc0hlYWQgPyBfdGhpczMuZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSA6IG51bGwsXG5cdCAgICAgICAgdGFibGVCb2R5XG5cdCAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBoZWFkVGFibGUgPSB2b2lkIDA7XG5cdFxuXHQgICAgaWYgKHVzZUZpeGVkSGVhZGVyKSB7XG5cdCAgICAgIGhlYWRUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAga2V5OiAnaGVhZFRhYmxlJyxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLFxuXHQgICAgICAgICAgcmVmOiBmaXhlZCA/IG51bGwgOiAnaGVhZFRhYmxlJyxcblx0ICAgICAgICAgIHN0eWxlOiBoZWFkU3R5bGUsXG5cdCAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyVGFibGUodHJ1ZSwgZmFsc2UpXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGJvZHlUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7XG5cdCAgICAgICAga2V5OiAnYm9keVRhYmxlJyxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsXG5cdCAgICAgICAgc3R5bGU6IGJvZHlTdHlsZSxcblx0ICAgICAgICByZWY6ICdib2R5VGFibGUnLFxuXHQgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcblx0ICAgICAgfSxcblx0ICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuXHQgICAgKTtcblx0XG5cdCAgICBpZiAoZml4ZWQgJiYgY29sdW1ucy5sZW5ndGgpIHtcblx0ICAgICAgdmFyIHJlZk5hbWUgPSB2b2lkIDA7XG5cdCAgICAgIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uc1swXS5maXhlZCA9PT0gdHJ1ZSkge1xuXHQgICAgICAgIHJlZk5hbWUgPSAnZml4ZWRDb2x1bW5zQm9keUxlZnQnO1xuXHQgICAgICB9IGVsc2UgaWYgKGNvbHVtbnNbMF0uZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlSaWdodCc7XG5cdCAgICAgIH1cblx0ICAgICAgZGVsZXRlIGJvZHlTdHlsZS5vdmVyZmxvd1g7XG5cdCAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dZO1xuXHQgICAgICBib2R5VGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGtleTogJ2JvZHlUYWJsZScsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1vdXRlcicsXG5cdCAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIGJvZHlTdHlsZSlcblx0ICAgICAgICB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktaW5uZXInLFxuXHQgICAgICAgICAgICBzdHlsZTogaW5uZXJCb2R5U3R5bGUsXG5cdCAgICAgICAgICAgIHJlZjogcmVmTmFtZSxcblx0ICAgICAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBbaGVhZFRhYmxlLCBib2R5VGFibGVdO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuXHQgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHRpdGxlID0gX3Byb3BzNC50aXRsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM0LnByZWZpeENscztcblx0XG5cdCAgICByZXR1cm4gdGl0bGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnLCBrZXk6ICd0aXRsZScgfSxcblx0ICAgICAgdGl0bGUodGhpcy5wcm9wcy5kYXRhKVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEZvb3RlciA9IGZ1bmN0aW9uIGdldEZvb3RlcigpIHtcblx0ICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBmb290ZXIgPSBfcHJvcHM1LmZvb3Rlcixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM1LnByZWZpeENscztcblx0XG5cdCAgICByZXR1cm4gZm9vdGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIGtleTogJ2Zvb3RlcicgfSxcblx0ICAgICAgZm9vdGVyKHRoaXMucHJvcHMuZGF0YSlcblx0ICAgICkgOiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRFbXB0eVRleHQgPSBmdW5jdGlvbiBnZXRFbXB0eVRleHQoKSB7XG5cdCAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZW1wdHlUZXh0ID0gX3Byb3BzNi5lbXB0eVRleHQsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNi5wcmVmaXhDbHMsXG5cdCAgICAgICAgZGF0YSA9IF9wcm9wczYuZGF0YTtcblx0XG5cdCAgICByZXR1cm4gIWRhdGEubGVuZ3RoID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBsYWNlaG9sZGVyJywga2V5OiAnZW1wdHlUZXh0JyB9LFxuXHQgICAgICBlbXB0eVRleHQoKVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd1N0eWxlID0gZnVuY3Rpb24gZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykge1xuXHQgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDtcblx0XG5cdCAgICB2YXIgaGVhZGVySGVpZ2h0ID0gZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHRbMF07XG5cdCAgICBpZiAoaGVhZGVySGVpZ2h0ICYmIGNvbHVtbnMpIHtcblx0ICAgICAgaWYgKGhlYWRlckhlaWdodCA9PT0gJ2F1dG8nKSB7XG5cdCAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAnYXV0bycgfTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4geyBoZWlnaHQ6IGhlYWRlckhlaWdodCAvIHJvd3MubGVuZ3RoIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb24gPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbihwb3NpdGlvbikge1xuXHQgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHBvc2l0aW9uO1xuXHQgICAgaWYgKHRoaXMudGFibGVOb2RlKSB7XG5cdCAgICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG5cdCAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQnKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkodGhpcy50YWJsZU5vZGUpLnJlbW92ZShuZXcgUmVnRXhwKCdeJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLS4rJCcpKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHBvc2l0aW9uKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSA9IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKHRhcmdldCkge1xuXHQgICAgdmFyIG5vZGUgPSB0YXJnZXQgfHwgdGhpcy5yZWZzLmJvZHlUYWJsZTtcblx0ICAgIHZhciBzY3JvbGxUb0xlZnQgPSBub2RlLnNjcm9sbExlZnQgPT09IDA7XG5cdCAgICB2YXIgc2Nyb2xsVG9SaWdodCA9IG5vZGUuc2Nyb2xsTGVmdCArIDEgPj0gbm9kZS5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG5cdCAgICBpZiAoc2Nyb2xsVG9MZWZ0ICYmIHNjcm9sbFRvUmlnaHQpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignYm90aCcpO1xuXHQgICAgfSBlbHNlIGlmIChzY3JvbGxUb0xlZnQpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuXHQgICAgfSBlbHNlIGlmIChzY3JvbGxUb1JpZ2h0KSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ3JpZ2h0Jyk7XG5cdCAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsUG9zaXRpb24gIT09ICdtaWRkbGUnKSB7XG5cdCAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ21pZGRsZScpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5yZXNldFNjcm9sbFggPSBmdW5jdGlvbiByZXNldFNjcm9sbFgoKSB7XG5cdCAgICBpZiAodGhpcy5yZWZzLmhlYWRUYWJsZSkge1xuXHQgICAgICB0aGlzLnJlZnMuaGVhZFRhYmxlLnNjcm9sbExlZnQgPSAwO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMucmVmcy5ib2R5VGFibGUpIHtcblx0ICAgICAgdGhpcy5yZWZzLmJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZmluZEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpIHtcblx0ICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgIHZhciByb3dzID0gdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcblx0ICAgICAgcmV0dXJuIGkgPT09IF90aGlzNC5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiByb3dzWzBdO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5pc1Jvd0V4cGFuZGVkID0gZnVuY3Rpb24gaXNSb3dFeHBhbmRlZChyZWNvcmQsIGluZGV4KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIHRoaXMuZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpICE9PSAndW5kZWZpbmVkJztcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuaGFzU2Nyb2xsWCA9IGZ1bmN0aW9uIGhhc1Njcm9sbFgoKSB7XG5cdCAgICB2YXIgX3Byb3BzJHNjcm9sbCA9IHRoaXMucHJvcHMuc2Nyb2xsLFxuXHQgICAgICAgIHNjcm9sbCA9IF9wcm9wcyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHNjcm9sbDtcblx0XG5cdCAgICByZXR1cm4gJ3gnIGluIHNjcm9sbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLnByZWZpeENscztcblx0ICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByb3BzLmNsYXNzTmFtZTtcblx0ICAgIH1cblx0ICAgIGlmIChwcm9wcy51c2VGaXhlZEhlYWRlciB8fCBwcm9wcy5zY3JvbGwgJiYgcHJvcHMuc2Nyb2xsLnkpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctZml4ZWQtaGVhZGVyJztcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAnYm90aCcpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLXJpZ2h0Jztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgdGhpcy5zY3JvbGxQb3NpdGlvbjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaXNUYWJsZVNjcm9sbCA9IHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpIHx8IHByb3BzLnNjcm9sbC54IHx8IHByb3BzLnNjcm9sbC55O1xuXHRcblx0ICAgIHZhciBjb250ZW50ID0gW3RoaXMuZ2V0VGFibGUoeyBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIuZ3JvdXBlZENvbHVtbnMoKSB9KSwgdGhpcy5nZXRFbXB0eVRleHQoKSwgdGhpcy5nZXRGb290ZXIoKV07XG5cdFxuXHQgICAgdmFyIHNjcm9sbFRhYmxlID0gaXNUYWJsZVNjcm9sbCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zY3JvbGwnIH0sXG5cdCAgICAgIGNvbnRlbnRcblx0ICAgICkgOiBjb250ZW50O1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXM1LnRhYmxlTm9kZSA9IG5vZGU7XG5cdCAgICAgICAgfSwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuXHQgICAgICB0aGlzLmdldFRpdGxlKCksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSxcblx0ICAgICAgICBzY3JvbGxUYWJsZSxcblx0ICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtbGVmdCcgfSxcblx0ICAgICAgICAgIHRoaXMuZ2V0TGVmdEZpeGVkVGFibGUoKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQoKSAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1yaWdodCcgfSxcblx0ICAgICAgICAgIHRoaXMuZ2V0UmlnaHRGaXhlZFRhYmxlKClcblx0ICAgICAgICApXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZS5wcm9wVHlwZXMgPSB7XG5cdCAgZGF0YTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZGVmYXVsdEV4cGFuZEFsbFJvd3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBleHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBib2R5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICByb3dLZXk6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSksXG5cdCAgcm93Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjaGlsZHJlbkNvbHVtbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgc2hvd0hlYWRlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZW1wdHlUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2Nyb2xsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICByb3dSZWY6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBnZXRCb2R5V3JhcHBlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcblx0fTtcblx0VGFibGUuZGVmYXVsdFByb3BzID0ge1xuXHQgIGRhdGE6IFtdLFxuXHQgIHVzZUZpeGVkSGVhZGVyOiBmYWxzZSxcblx0ICBleHBhbmRJY29uQXNDZWxsOiBmYWxzZSxcblx0ICBkZWZhdWx0RXhwYW5kQWxsUm93czogZmFsc2UsXG5cdCAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogW10sXG5cdCAgcm93S2V5OiAna2V5Jyxcblx0ICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZSgpIHtcblx0ICAgIHJldHVybiAnJztcblx0ICB9LFxuXHQgIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiBleHBhbmRlZFJvd0NsYXNzTmFtZSgpIHtcblx0ICAgIHJldHVybiAnJztcblx0ICB9LFxuXHQgIG9uRXhwYW5kOiBmdW5jdGlvbiBvbkV4cGFuZCgpIHt9LFxuXHQgIG9uRXhwYW5kZWRSb3dzQ2hhbmdlOiBmdW5jdGlvbiBvbkV4cGFuZGVkUm93c0NoYW5nZSgpIHt9LFxuXHQgIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cdFxuXHQgIHByZWZpeENsczogJ3JjLXRhYmxlJyxcblx0ICBib2R5U3R5bGU6IHt9LFxuXHQgIHN0eWxlOiB7fSxcblx0ICBjaGlsZHJlbkNvbHVtbk5hbWU6ICdjaGlsZHJlbicsXG5cdCAgaW5kZW50U2l6ZTogMTUsXG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuXHQgIHNob3dIZWFkZXI6IHRydWUsXG5cdCAgc2Nyb2xsOiB7fSxcblx0ICByb3dSZWY6IGZ1bmN0aW9uIHJvd1JlZigpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH0sXG5cdCAgZ2V0Qm9keVdyYXBwZXI6IGZ1bmN0aW9uIGdldEJvZHlXcmFwcGVyKGJvZHkpIHtcblx0ICAgIHJldHVybiBib2R5O1xuXHQgIH0sXG5cdCAgZW1wdHlUZXh0OiBmdW5jdGlvbiBlbXB0eVRleHQoKSB7XG5cdCAgICByZXR1cm4gJ05vIERhdGEnO1xuXHQgIH1cblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDQpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGVDZWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVDZWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVDZWxsKCkge1xuXHQgICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblx0XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVDZWxsKTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuXHQgICAgICAgICAgb25DZWxsQ2xpY2sgPSBfdGhpcyRwcm9wcy5jb2x1bW4ub25DZWxsQ2xpY2s7XG5cdFxuXHQgICAgICBpZiAob25DZWxsQ2xpY2spIHtcblx0ICAgICAgICBvbkNlbGxDbGljayhyZWNvcmQsIGUpO1xuXHQgICAgICB9XG5cdCAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlQ2VsbC5wcm90b3R5cGUuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQgPSBmdW5jdGlvbiBpc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSB7XG5cdCAgICByZXR1cm4gdGV4dCAmJiAhX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQodGV4dCkgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHQpID09PSAnW29iamVjdCBPYmplY3RdJztcblx0ICB9O1xuXHRcblx0ICBUYWJsZUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wcy5yZWNvcmQsXG5cdCAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wcy5pbmRlbnRTaXplLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgaW5kZW50ID0gX3Byb3BzLmluZGVudCxcblx0ICAgICAgICBpbmRleCA9IF9wcm9wcy5pbmRleCxcblx0ICAgICAgICBleHBhbmRJY29uID0gX3Byb3BzLmV4cGFuZEljb24sXG5cdCAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbjtcblx0ICAgIHZhciBkYXRhSW5kZXggPSBjb2x1bW4uZGF0YUluZGV4LFxuXHQgICAgICAgIHJlbmRlciA9IGNvbHVtbi5yZW5kZXIsXG5cdCAgICAgICAgX2NvbHVtbiRjbGFzc05hbWUgPSBjb2x1bW4uY2xhc3NOYW1lLFxuXHQgICAgICAgIGNsYXNzTmFtZSA9IF9jb2x1bW4kY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9jb2x1bW4kY2xhc3NOYW1lO1xuXHRcblx0ICAgIC8vIFdlIHNob3VsZCByZXR1cm4gdW5kZWZpbmVkIGlmIG5vIGRhdGFJbmRleCBpcyBzcGVjaWZpZWQsIGJ1dCBpbiBvcmRlciB0b1xuXHQgICAgLy8gYmUgY29tcGF0aWJsZSB3aXRoIG9iamVjdC1wYXRoJ3MgYmVoYXZpb3IsIHdlIHJldHVybiB0aGUgcmVjb3JkIG9iamVjdCBpbnN0ZWFkLlxuXHRcblx0ICAgIHZhciB0ZXh0ID0gdm9pZCAwO1xuXHQgICAgaWYgKHR5cGVvZiBkYXRhSW5kZXggPT09ICdudW1iZXInKSB7XG5cdCAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG5cdCAgICB9IGVsc2UgaWYgKCFkYXRhSW5kZXggfHwgZGF0YUluZGV4Lmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB0ZXh0ID0gcmVjb3JkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGV4dCA9ICgwLCBfbG9kYXNoMltcImRlZmF1bHRcIl0pKHJlY29yZCwgZGF0YUluZGV4KTtcblx0ICAgIH1cblx0ICAgIHZhciB0ZFByb3BzID0gdm9pZCAwO1xuXHQgICAgdmFyIGNvbFNwYW4gPSB2b2lkIDA7XG5cdCAgICB2YXIgcm93U3BhbiA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAocmVuZGVyKSB7XG5cdCAgICAgIHRleHQgPSByZW5kZXIodGV4dCwgcmVjb3JkLCBpbmRleCk7XG5cdCAgICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG5cdCAgICAgICAgdGRQcm9wcyA9IHRleHQucHJvcHMgfHwge307XG5cdCAgICAgICAgcm93U3BhbiA9IHRkUHJvcHMucm93U3Bhbjtcblx0ICAgICAgICBjb2xTcGFuID0gdGRQcm9wcy5jb2xTcGFuO1xuXHQgICAgICAgIHRleHQgPSB0ZXh0LmNoaWxkcmVuO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzEyMDJcblx0ICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG5cdCAgICAgIHRleHQgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpbmRlbnRUZXh0ID0gZXhwYW5kSWNvbiA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG5cdCAgICAgIHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBpbmRlbnRTaXplICogaW5kZW50ICsgJ3B4JyB9LFxuXHQgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5kZW50IGluZGVudC1sZXZlbC0nICsgaW5kZW50XG5cdCAgICB9KSA6IG51bGw7XG5cdFxuXHQgICAgaWYgKHJvd1NwYW4gPT09IDAgfHwgY29sU3BhbiA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndGQnLFxuXHQgICAgICB7XG5cdCAgICAgICAgY29sU3BhbjogY29sU3Bhbixcblx0ICAgICAgICByb3dTcGFuOiByb3dTcGFuLFxuXHQgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tcblx0ICAgICAgfSxcblx0ICAgICAgaW5kZW50VGV4dCxcblx0ICAgICAgZXhwYW5kSWNvbixcblx0ICAgICAgdGV4dFxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGVDZWxsO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUNlbGwucHJvcFR5cGVzID0ge1xuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBjb2x1bW46IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGV4cGFuZEljb246IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlQ2VsbDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGVIZWFkZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZUhlYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlSGVhZGVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlSGVhZGVyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlSGVhZGVyLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGVIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgcm93U3R5bGUgPSBfcHJvcHMucm93U3R5bGUsXG5cdCAgICAgICAgcm93cyA9IF9wcm9wcy5yb3dzO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndGhlYWQnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aGVhZCcgfSxcblx0ICAgICAgcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0cicsXG5cdCAgICAgICAgICB7IGtleTogaW5kZXgsIHN0eWxlOiByb3dTdHlsZSB9LFxuXHQgICAgICAgICAgcm93Lm1hcChmdW5jdGlvbiAoY2VsbFByb3BzLCBpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCd0aCcsIF9leHRlbmRzKHt9LCBjZWxsUHJvcHMsIHsga2V5OiBpIH0pKTtcblx0ICAgICAgICAgIH0pXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFRhYmxlSGVhZGVyO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRUYWJsZUhlYWRlci5wcm9wVHlwZXMgPSB7XG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICByb3dTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcm93czogX3JlYWN0LlByb3BUeXBlcy5hcnJheVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlSGVhZGVyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9UYWJsZUNlbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7XG5cdFxuXHR2YXIgX1RhYmxlQ2VsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUNlbGwpO1xuXHRcblx0dmFyIF9FeHBhbmRJY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzcpO1xuXHRcblx0dmFyIF9FeHBhbmRJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuZEljb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBUYWJsZVJvdyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlUm93LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVSb3coKSB7XG5cdCAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZVJvdyk7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGhvdmVyZWQ6IGZhbHNlXG5cdCAgICB9LCBfdGhpcy5vblJvd0NsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuXHQgICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wcy5pbmRleCxcblx0ICAgICAgICAgIG9uUm93Q2xpY2sgPSBfdGhpcyRwcm9wcy5vblJvd0NsaWNrLFxuXHQgICAgICAgICAgZXhwYW5kYWJsZSA9IF90aGlzJHByb3BzLmV4cGFuZGFibGUsXG5cdCAgICAgICAgICBleHBhbmRSb3dCeUNsaWNrID0gX3RoaXMkcHJvcHMuZXhwYW5kUm93QnlDbGljayxcblx0ICAgICAgICAgIGV4cGFuZGVkID0gX3RoaXMkcHJvcHMuZXhwYW5kZWQsXG5cdCAgICAgICAgICBvbkV4cGFuZCA9IF90aGlzJHByb3BzLm9uRXhwYW5kO1xuXHRcblx0ICAgICAgaWYgKGV4cGFuZGFibGUgJiYgZXhwYW5kUm93QnlDbGljaykge1xuXHQgICAgICAgIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBldmVudCwgaW5kZXgpO1xuXHQgICAgICB9XG5cdCAgICAgIG9uUm93Q2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuXHQgICAgfSwgX3RoaXMub25Sb3dEb3VibGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wczIucmVjb3JkLFxuXHQgICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wczIuaW5kZXgsXG5cdCAgICAgICAgICBvblJvd0RvdWJsZUNsaWNrID0gX3RoaXMkcHJvcHMyLm9uUm93RG91YmxlQ2xpY2s7XG5cdFxuXHQgICAgICBvblJvd0RvdWJsZUNsaWNrKHJlY29yZCwgaW5kZXgsIGV2ZW50KTtcblx0ICAgIH0sIF90aGlzLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzMy5vbkhvdmVyLFxuXHQgICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczMuaG92ZXJLZXk7XG5cdFxuXHQgICAgICBvbkhvdmVyKHRydWUsIGhvdmVyS2V5KTtcblx0ICAgIH0sIF90aGlzLm9uTW91c2VMZWF2ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzNC5vbkhvdmVyLFxuXHQgICAgICAgICAgaG92ZXJLZXkgPSBfdGhpcyRwcm9wczQuaG92ZXJLZXk7XG5cdFxuXHQgICAgICBvbkhvdmVyKGZhbHNlLCBob3ZlcktleSk7XG5cdCAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcblx0ICB9XG5cdFxuXHQgIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgaG92ZXJLZXkgPSBfcHJvcHMuaG92ZXJLZXk7XG5cdFxuXHQgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLmN1cnJlbnRIb3ZlcktleSA9PT0gaG92ZXJLZXkpIHtcblx0ICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBob3ZlcmVkOiB0cnVlIH0pO1xuXHQgICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZS5ob3ZlcmVkID09PSB0cnVlKSB7XG5cdCAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaG92ZXJlZDogZmFsc2UgfSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wczIucmVjb3JkLFxuXHQgICAgICAgIG9uRGVzdHJveSA9IF9wcm9wczIub25EZXN0cm95LFxuXHQgICAgICAgIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblx0XG5cdCAgICBvbkRlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG5cdCAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuXHQgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGVSb3cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcblx0ICAgICAgICBjb2x1bW5zID0gX3Byb3BzMy5jb2x1bW5zLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wczMucmVjb3JkLFxuXHQgICAgICAgIGhlaWdodCA9IF9wcm9wczMuaGVpZ2h0LFxuXHQgICAgICAgIHZpc2libGUgPSBfcHJvcHMzLnZpc2libGUsXG5cdCAgICAgICAgaW5kZXggPSBfcHJvcHMzLmluZGV4LFxuXHQgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IF9wcm9wczMuZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuXHQgICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMzLmV4cGFuZEljb25Bc0NlbGwsXG5cdCAgICAgICAgZXhwYW5kZWQgPSBfcHJvcHMzLmV4cGFuZGVkLFxuXHQgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfcHJvcHMzLmV4cGFuZFJvd0J5Q2xpY2ssXG5cdCAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wczMuZXhwYW5kYWJsZSxcblx0ICAgICAgICBvbkV4cGFuZCA9IF9wcm9wczMub25FeHBhbmQsXG5cdCAgICAgICAgbmVlZEluZGVudFNwYWNlZCA9IF9wcm9wczMubmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgICBpbmRlbnQgPSBfcHJvcHMzLmluZGVudCxcblx0ICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzMy5pbmRlbnRTaXplO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXHRcblx0XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5ob3ZlcmVkKSB7XG5cdCAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWhvdmVyJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2VsbHMgPSBbXTtcblx0XG5cdCAgICB2YXIgZXhwYW5kSWNvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0V4cGFuZEljb24yW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBleHBhbmRhYmxlOiBleHBhbmRhYmxlLFxuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgb25FeHBhbmQ6IG9uRXhwYW5kLFxuXHQgICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuXHQgICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG5cdCAgICAgIHJlY29yZDogcmVjb3JkXG5cdCAgICB9KTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgaSA9PT0gMCkge1xuXHQgICAgICAgIGNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0ZCcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jZWxsJyxcblx0ICAgICAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kLWljb24tY2VsbCdcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBleHBhbmRJY29uXG5cdCAgICAgICAgKSk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPSBleHBhbmRJY29uQXNDZWxsIHx8IGV4cGFuZFJvd0J5Q2xpY2sgPyBmYWxzZSA6IGkgPT09IGV4cGFuZEljb25Db2x1bW5JbmRleDtcblx0ICAgICAgY2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZUNlbGwyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgIGluZGVudFNpemU6IGluZGVudFNpemUsXG5cdCAgICAgICAgaW5kZW50OiBpbmRlbnQsXG5cdCAgICAgICAgaW5kZXg6IGluZGV4LFxuXHQgICAgICAgIGNvbHVtbjogY29sdW1uc1tpXSxcblx0ICAgICAgICBrZXk6IGNvbHVtbnNbaV0ua2V5LFxuXHQgICAgICAgIGV4cGFuZEljb246IGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPyBleHBhbmRJY29uIDogbnVsbFxuXHQgICAgICB9KSk7XG5cdCAgICB9XG5cdCAgICB2YXIgc3R5bGUgPSB7IGhlaWdodDogaGVpZ2h0IH07XG5cdCAgICBpZiAoIXZpc2libGUpIHtcblx0ICAgICAgc3R5bGUuZGlzcGxheSA9ICdub25lJztcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RyJyxcblx0ICAgICAge1xuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3dDbGljayxcblx0ICAgICAgICBvbkRvdWJsZUNsaWNrOiB0aGlzLm9uUm93RG91YmxlQ2xpY2ssXG5cdCAgICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uTW91c2VFbnRlcixcblx0ICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLFxuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgY2xhc3NOYW1lICsgJyAnICsgcHJlZml4Q2xzICsgJy1sZXZlbC0nICsgaW5kZW50LFxuXHQgICAgICAgIHN0eWxlOiBzdHlsZVxuXHQgICAgICB9LFxuXHQgICAgICBjZWxsc1xuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGVSb3c7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlUm93LnByb3BUeXBlcyA9IHtcblx0ICBvbkRlc3Ryb3k6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG9uSG92ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjb2x1bW5zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGhlaWdodDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcl0pLFxuXHQgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaG92ZXJLZXk6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBpbmRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGV4cGFuZEljb25Bc0NlbGw6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBleHBhbmRSb3dCeUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgc3RvcmU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcblx0fTtcblx0VGFibGVSb3cuZGVmYXVsdFByb3BzID0ge1xuXHQgIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cdCAgb25EZXN0cm95OiBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7fSxcblx0XG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuXHQgIGV4cGFuZFJvd0J5Q2xpY2s6IGZhbHNlLFxuXHQgIG9uSG92ZXI6IGZ1bmN0aW9uIG9uSG92ZXIoKSB7fVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlUm93O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuXHRmdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpIHtcblx0ICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cdCAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXHRcblx0ICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG5cdCAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSwgcGFydGlhbCk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBsaXN0ZW5lcnNbaV0oKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIHN0YXRlO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG5cdCAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFxuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuXHQgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG5cdCAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG5cdCAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG5cdCAgICBzdWJzY3JpYmU6IHN1YnNjcmliZVxuXHQgIH07XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLm1lYXN1cmVTY3JvbGxiYXIgPSBtZWFzdXJlU2Nyb2xsYmFyO1xuXHRleHBvcnRzLmRlYm91bmNlID0gZGVib3VuY2U7XG5cdGV4cG9ydHMud2FybmluZ09uY2UgPSB3YXJuaW5nT25jZTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgc2Nyb2xsYmFyV2lkdGggPSB2b2lkIDA7XG5cdFxuXHQvLyBNZWFzdXJlIHNjcm9sbGJhciB3aWR0aCBmb3IgcGFkZGluZyBib2R5IGR1cmluZyBtb2RhbCBzaG93L2hpZGVcblx0dmFyIHNjcm9sbGJhck1lYXN1cmUgPSB7XG5cdCAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdCAgdG9wOiAnLTk5OTlweCcsXG5cdCAgd2lkdGg6ICc1MHB4Jyxcblx0ICBoZWlnaHQ6ICc1MHB4Jyxcblx0ICBvdmVyZmxvdzogJ3Njcm9sbCdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1lYXN1cmVTY3JvbGxiYXIoKSB7XG5cdCAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHJldHVybiAwO1xuXHQgIH1cblx0ICBpZiAoc2Nyb2xsYmFyV2lkdGgpIHtcblx0ICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcblx0ICB9XG5cdCAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIGZvciAodmFyIHNjcm9sbFByb3AgaW4gc2Nyb2xsYmFyTWVhc3VyZSkge1xuXHQgICAgaWYgKHNjcm9sbGJhck1lYXN1cmUuaGFzT3duUHJvcGVydHkoc2Nyb2xsUHJvcCkpIHtcblx0ICAgICAgc2Nyb2xsRGl2LnN0eWxlW3Njcm9sbFByb3BdID0gc2Nyb2xsYmFyTWVhc3VyZVtzY3JvbGxQcm9wXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuXHQgIHZhciB3aWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblx0ICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cdCAgc2Nyb2xsYmFyV2lkdGggPSB3aWR0aDtcblx0ICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuXHQgIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuXHQgIGZ1bmN0aW9uIGRlYm91bmNlRnVuYygpIHtcblx0ICAgIHZhciBjb250ZXh0ID0gdGhpcztcblx0ICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHQgICAgLy8gaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nXG5cdCAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdLnBlcnNpc3QpIHtcblx0ICAgICAgYXJnc1swXS5wZXJzaXN0KCk7XG5cdCAgICB9XG5cdCAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcblx0ICAgICAgdGltZW91dCA9IG51bGw7XG5cdCAgICAgIGlmICghaW1tZWRpYXRlKSB7XG5cdCAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuXHQgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHQgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuXHQgICAgaWYgKGNhbGxOb3cpIHtcblx0ICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZGVib3VuY2VGdW5jLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcblx0ICAgIGlmICh0aW1lb3V0KSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0ICAgICAgdGltZW91dCA9IG51bGw7XG5cdCAgICB9XG5cdCAgfTtcblx0ICByZXR1cm4gZGVib3VuY2VGdW5jO1xuXHR9XG5cdFxuXHR2YXIgd2FybmVkID0ge307XG5cdGZ1bmN0aW9uIHdhcm5pbmdPbmNlKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG5cdCAgaWYgKCF3YXJuZWRbZm9ybWF0XSkge1xuXHQgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKTtcblx0ICAgIHdhcm5lZFtmb3JtYXRdID0gIWNvbmRpdGlvbjtcblx0ICB9XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdG9BcnJheTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcblx0ICB2YXIgcmV0ID0gW107XG5cdCAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcblx0ICAgIHJldC5wdXNoKGMpO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHQvKipcblx0ICogQGlnbm9yZVxuXHQgKiBzb21lIGtleS1jb2RlcyBkZWZpbml0aW9uIGFuZCB1dGlscyBmcm9tIGNsb3N1cmUtbGlicmFyeVxuXHQgKiBAYXV0aG9yIHlpbWluZ2hlQGdtYWlsLmNvbVxuXHQgKi9cblx0XG5cdHZhciBLZXlDb2RlID0ge1xuXHQgIC8qKlxuXHQgICAqIE1BQ19FTlRFUlxuXHQgICAqL1xuXHQgIE1BQ19FTlRFUjogMyxcblx0ICAvKipcblx0ICAgKiBCQUNLU1BBQ0Vcblx0ICAgKi9cblx0ICBCQUNLU1BBQ0U6IDgsXG5cdCAgLyoqXG5cdCAgICogVEFCXG5cdCAgICovXG5cdCAgVEFCOiA5LFxuXHQgIC8qKlxuXHQgICAqIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuXHQgICAqL1xuXHQgIE5VTV9DRU5URVI6IDEyLCAvLyBOVU1MT0NLIG9uIEZGL1NhZmFyaSBNYWNcblx0ICAvKipcblx0ICAgKiBFTlRFUlxuXHQgICAqL1xuXHQgIEVOVEVSOiAxMyxcblx0ICAvKipcblx0ICAgKiBTSElGVFxuXHQgICAqL1xuXHQgIFNISUZUOiAxNixcblx0ICAvKipcblx0ICAgKiBDVFJMXG5cdCAgICovXG5cdCAgQ1RSTDogMTcsXG5cdCAgLyoqXG5cdCAgICogQUxUXG5cdCAgICovXG5cdCAgQUxUOiAxOCxcblx0ICAvKipcblx0ICAgKiBQQVVTRVxuXHQgICAqL1xuXHQgIFBBVVNFOiAxOSxcblx0ICAvKipcblx0ICAgKiBDQVBTX0xPQ0tcblx0ICAgKi9cblx0ICBDQVBTX0xPQ0s6IDIwLFxuXHQgIC8qKlxuXHQgICAqIEVTQ1xuXHQgICAqL1xuXHQgIEVTQzogMjcsXG5cdCAgLyoqXG5cdCAgICogU1BBQ0Vcblx0ICAgKi9cblx0ICBTUEFDRTogMzIsXG5cdCAgLyoqXG5cdCAgICogUEFHRV9VUFxuXHQgICAqL1xuXHQgIFBBR0VfVVA6IDMzLCAvLyBhbHNvIE5VTV9OT1JUSF9FQVNUXG5cdCAgLyoqXG5cdCAgICogUEFHRV9ET1dOXG5cdCAgICovXG5cdCAgUEFHRV9ET1dOOiAzNCwgLy8gYWxzbyBOVU1fU09VVEhfRUFTVFxuXHQgIC8qKlxuXHQgICAqIEVORFxuXHQgICAqL1xuXHQgIEVORDogMzUsIC8vIGFsc28gTlVNX1NPVVRIX1dFU1Rcblx0ICAvKipcblx0ICAgKiBIT01FXG5cdCAgICovXG5cdCAgSE9NRTogMzYsIC8vIGFsc28gTlVNX05PUlRIX1dFU1Rcblx0ICAvKipcblx0ICAgKiBMRUZUXG5cdCAgICovXG5cdCAgTEVGVDogMzcsIC8vIGFsc28gTlVNX1dFU1Rcblx0ICAvKipcblx0ICAgKiBVUFxuXHQgICAqL1xuXHQgIFVQOiAzOCwgLy8gYWxzbyBOVU1fTk9SVEhcblx0ICAvKipcblx0ICAgKiBSSUdIVFxuXHQgICAqL1xuXHQgIFJJR0hUOiAzOSwgLy8gYWxzbyBOVU1fRUFTVFxuXHQgIC8qKlxuXHQgICAqIERPV05cblx0ICAgKi9cblx0ICBET1dOOiA0MCwgLy8gYWxzbyBOVU1fU09VVEhcblx0ICAvKipcblx0ICAgKiBQUklOVF9TQ1JFRU5cblx0ICAgKi9cblx0ICBQUklOVF9TQ1JFRU46IDQ0LFxuXHQgIC8qKlxuXHQgICAqIElOU0VSVFxuXHQgICAqL1xuXHQgIElOU0VSVDogNDUsIC8vIGFsc28gTlVNX0lOU0VSVFxuXHQgIC8qKlxuXHQgICAqIERFTEVURVxuXHQgICAqL1xuXHQgIERFTEVURTogNDYsIC8vIGFsc28gTlVNX0RFTEVURVxuXHQgIC8qKlxuXHQgICAqIFpFUk9cblx0ICAgKi9cblx0ICBaRVJPOiA0OCxcblx0ICAvKipcblx0ICAgKiBPTkVcblx0ICAgKi9cblx0ICBPTkU6IDQ5LFxuXHQgIC8qKlxuXHQgICAqIFRXT1xuXHQgICAqL1xuXHQgIFRXTzogNTAsXG5cdCAgLyoqXG5cdCAgICogVEhSRUVcblx0ICAgKi9cblx0ICBUSFJFRTogNTEsXG5cdCAgLyoqXG5cdCAgICogRk9VUlxuXHQgICAqL1xuXHQgIEZPVVI6IDUyLFxuXHQgIC8qKlxuXHQgICAqIEZJVkVcblx0ICAgKi9cblx0ICBGSVZFOiA1Myxcblx0ICAvKipcblx0ICAgKiBTSVhcblx0ICAgKi9cblx0ICBTSVg6IDU0LFxuXHQgIC8qKlxuXHQgICAqIFNFVkVOXG5cdCAgICovXG5cdCAgU0VWRU46IDU1LFxuXHQgIC8qKlxuXHQgICAqIEVJR0hUXG5cdCAgICovXG5cdCAgRUlHSFQ6IDU2LFxuXHQgIC8qKlxuXHQgICAqIE5JTkVcblx0ICAgKi9cblx0ICBOSU5FOiA1Nyxcblx0ICAvKipcblx0ICAgKiBRVUVTVElPTl9NQVJLXG5cdCAgICovXG5cdCAgUVVFU1RJT05fTUFSSzogNjMsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIEFcblx0ICAgKi9cblx0ICBBOiA2NSxcblx0ICAvKipcblx0ICAgKiBCXG5cdCAgICovXG5cdCAgQjogNjYsXG5cdCAgLyoqXG5cdCAgICogQ1xuXHQgICAqL1xuXHQgIEM6IDY3LFxuXHQgIC8qKlxuXHQgICAqIERcblx0ICAgKi9cblx0ICBEOiA2OCxcblx0ICAvKipcblx0ICAgKiBFXG5cdCAgICovXG5cdCAgRTogNjksXG5cdCAgLyoqXG5cdCAgICogRlxuXHQgICAqL1xuXHQgIEY6IDcwLFxuXHQgIC8qKlxuXHQgICAqIEdcblx0ICAgKi9cblx0ICBHOiA3MSxcblx0ICAvKipcblx0ICAgKiBIXG5cdCAgICovXG5cdCAgSDogNzIsXG5cdCAgLyoqXG5cdCAgICogSVxuXHQgICAqL1xuXHQgIEk6IDczLFxuXHQgIC8qKlxuXHQgICAqIEpcblx0ICAgKi9cblx0ICBKOiA3NCxcblx0ICAvKipcblx0ICAgKiBLXG5cdCAgICovXG5cdCAgSzogNzUsXG5cdCAgLyoqXG5cdCAgICogTFxuXHQgICAqL1xuXHQgIEw6IDc2LFxuXHQgIC8qKlxuXHQgICAqIE1cblx0ICAgKi9cblx0ICBNOiA3Nyxcblx0ICAvKipcblx0ICAgKiBOXG5cdCAgICovXG5cdCAgTjogNzgsXG5cdCAgLyoqXG5cdCAgICogT1xuXHQgICAqL1xuXHQgIE86IDc5LFxuXHQgIC8qKlxuXHQgICAqIFBcblx0ICAgKi9cblx0ICBQOiA4MCxcblx0ICAvKipcblx0ICAgKiBRXG5cdCAgICovXG5cdCAgUTogODEsXG5cdCAgLyoqXG5cdCAgICogUlxuXHQgICAqL1xuXHQgIFI6IDgyLFxuXHQgIC8qKlxuXHQgICAqIFNcblx0ICAgKi9cblx0ICBTOiA4Myxcblx0ICAvKipcblx0ICAgKiBUXG5cdCAgICovXG5cdCAgVDogODQsXG5cdCAgLyoqXG5cdCAgICogVVxuXHQgICAqL1xuXHQgIFU6IDg1LFxuXHQgIC8qKlxuXHQgICAqIFZcblx0ICAgKi9cblx0ICBWOiA4Nixcblx0ICAvKipcblx0ICAgKiBXXG5cdCAgICovXG5cdCAgVzogODcsXG5cdCAgLyoqXG5cdCAgICogWFxuXHQgICAqL1xuXHQgIFg6IDg4LFxuXHQgIC8qKlxuXHQgICAqIFlcblx0ICAgKi9cblx0ICBZOiA4OSxcblx0ICAvKipcblx0ICAgKiBaXG5cdCAgICovXG5cdCAgWjogOTAsXG5cdCAgLyoqXG5cdCAgICogTUVUQVxuXHQgICAqL1xuXHQgIE1FVEE6IDkxLCAvLyBXSU5fS0VZX0xFRlRcblx0ICAvKipcblx0ICAgKiBXSU5fS0VZX1JJR0hUXG5cdCAgICovXG5cdCAgV0lOX0tFWV9SSUdIVDogOTIsXG5cdCAgLyoqXG5cdCAgICogQ09OVEVYVF9NRU5VXG5cdCAgICovXG5cdCAgQ09OVEVYVF9NRU5VOiA5Myxcblx0ICAvKipcblx0ICAgKiBOVU1fWkVST1xuXHQgICAqL1xuXHQgIE5VTV9aRVJPOiA5Nixcblx0ICAvKipcblx0ICAgKiBOVU1fT05FXG5cdCAgICovXG5cdCAgTlVNX09ORTogOTcsXG5cdCAgLyoqXG5cdCAgICogTlVNX1RXT1xuXHQgICAqL1xuXHQgIE5VTV9UV086IDk4LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9USFJFRVxuXHQgICAqL1xuXHQgIE5VTV9USFJFRTogOTksXG5cdCAgLyoqXG5cdCAgICogTlVNX0ZPVVJcblx0ICAgKi9cblx0ICBOVU1fRk9VUjogMTAwLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9GSVZFXG5cdCAgICovXG5cdCAgTlVNX0ZJVkU6IDEwMSxcblx0ICAvKipcblx0ICAgKiBOVU1fU0lYXG5cdCAgICovXG5cdCAgTlVNX1NJWDogMTAyLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9TRVZFTlxuXHQgICAqL1xuXHQgIE5VTV9TRVZFTjogMTAzLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9FSUdIVFxuXHQgICAqL1xuXHQgIE5VTV9FSUdIVDogMTA0LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9OSU5FXG5cdCAgICovXG5cdCAgTlVNX05JTkU6IDEwNSxcblx0ICAvKipcblx0ICAgKiBOVU1fTVVMVElQTFlcblx0ICAgKi9cblx0ICBOVU1fTVVMVElQTFk6IDEwNixcblx0ICAvKipcblx0ICAgKiBOVU1fUExVU1xuXHQgICAqL1xuXHQgIE5VTV9QTFVTOiAxMDcsXG5cdCAgLyoqXG5cdCAgICogTlVNX01JTlVTXG5cdCAgICovXG5cdCAgTlVNX01JTlVTOiAxMDksXG5cdCAgLyoqXG5cdCAgICogTlVNX1BFUklPRFxuXHQgICAqL1xuXHQgIE5VTV9QRVJJT0Q6IDExMCxcblx0ICAvKipcblx0ICAgKiBOVU1fRElWSVNJT05cblx0ICAgKi9cblx0ICBOVU1fRElWSVNJT046IDExMSxcblx0ICAvKipcblx0ICAgKiBGMVxuXHQgICAqL1xuXHQgIEYxOiAxMTIsXG5cdCAgLyoqXG5cdCAgICogRjJcblx0ICAgKi9cblx0ICBGMjogMTEzLFxuXHQgIC8qKlxuXHQgICAqIEYzXG5cdCAgICovXG5cdCAgRjM6IDExNCxcblx0ICAvKipcblx0ICAgKiBGNFxuXHQgICAqL1xuXHQgIEY0OiAxMTUsXG5cdCAgLyoqXG5cdCAgICogRjVcblx0ICAgKi9cblx0ICBGNTogMTE2LFxuXHQgIC8qKlxuXHQgICAqIEY2XG5cdCAgICovXG5cdCAgRjY6IDExNyxcblx0ICAvKipcblx0ICAgKiBGN1xuXHQgICAqL1xuXHQgIEY3OiAxMTgsXG5cdCAgLyoqXG5cdCAgICogRjhcblx0ICAgKi9cblx0ICBGODogMTE5LFxuXHQgIC8qKlxuXHQgICAqIEY5XG5cdCAgICovXG5cdCAgRjk6IDEyMCxcblx0ICAvKipcblx0ICAgKiBGMTBcblx0ICAgKi9cblx0ICBGMTA6IDEyMSxcblx0ICAvKipcblx0ICAgKiBGMTFcblx0ICAgKi9cblx0ICBGMTE6IDEyMixcblx0ICAvKipcblx0ICAgKiBGMTJcblx0ICAgKi9cblx0ICBGMTI6IDEyMyxcblx0ICAvKipcblx0ICAgKiBOVU1MT0NLXG5cdCAgICovXG5cdCAgTlVNTE9DSzogMTQ0LFxuXHQgIC8qKlxuXHQgICAqIFNFTUlDT0xPTlxuXHQgICAqL1xuXHQgIFNFTUlDT0xPTjogMTg2LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBEQVNIXG5cdCAgICovXG5cdCAgREFTSDogMTg5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBFUVVBTFNcblx0ICAgKi9cblx0ICBFUVVBTFM6IDE4NywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQ09NTUFcblx0ICAgKi9cblx0ICBDT01NQTogMTg4LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBQRVJJT0Rcblx0ICAgKi9cblx0ICBQRVJJT0Q6IDE5MCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogU0xBU0hcblx0ICAgKi9cblx0ICBTTEFTSDogMTkxLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBBUE9TVFJPUEhFXG5cdCAgICovXG5cdCAgQVBPU1RST1BIRTogMTkyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBTSU5HTEVfUVVPVEVcblx0ICAgKi9cblx0ICBTSU5HTEVfUVVPVEU6IDIyMiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogT1BFTl9TUVVBUkVfQlJBQ0tFVFxuXHQgICAqL1xuXHQgIE9QRU5fU1FVQVJFX0JSQUNLRVQ6IDIxOSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQkFDS1NMQVNIXG5cdCAgICovXG5cdCAgQkFDS1NMQVNIOiAyMjAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIENMT1NFX1NRVUFSRV9CUkFDS0VUXG5cdCAgICovXG5cdCAgQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6IDIyMSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogV0lOX0tFWVxuXHQgICAqL1xuXHQgIFdJTl9LRVk6IDIyNCxcblx0ICAvKipcblx0ICAgKiBNQUNfRkZfTUVUQVxuXHQgICAqL1xuXHQgIE1BQ19GRl9NRVRBOiAyMjQsIC8vIEZpcmVmb3ggKEdlY2tvKSBmaXJlcyB0aGlzIGZvciB0aGUgbWV0YSBrZXkgaW5zdGVhZCBvZiA5MVxuXHQgIC8qKlxuXHQgICAqIFdJTl9JTUVcblx0ICAgKi9cblx0ICBXSU5fSU1FOiAyMjlcblx0fTtcblx0XG5cdC8qXG5cdCB3aGV0aGVyIHRleHQgYW5kIG1vZGlmaWVkIGtleSBpcyBlbnRlcmVkIGF0IHRoZSBzYW1lIHRpbWUuXG5cdCAqL1xuXHRLZXlDb2RlLmlzVGV4dE1vZGlmeWluZ0tleUV2ZW50ID0gZnVuY3Rpb24gaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQoZSkge1xuXHQgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlO1xuXHQgIGlmIChlLmFsdEtleSAmJiAhZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fFxuXHQgIC8vIEZ1bmN0aW9uIGtleXMgZG9uJ3QgZ2VuZXJhdGUgdGV4dFxuXHQgIGtleUNvZGUgPj0gS2V5Q29kZS5GMSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuRjEyKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBUaGUgZm9sbG93aW5nIGtleXMgYXJlIHF1aXRlIGhhcm1sZXNzLCBldmVuIGluIGNvbWJpbmF0aW9uIHdpdGhcblx0ICAvLyBDVFJMLCBBTFQgb3IgU0hJRlQuXG5cdCAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICBjYXNlIEtleUNvZGUuQUxUOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNBUFNfTE9DSzpcblx0ICAgIGNhc2UgS2V5Q29kZS5DT05URVhUX01FTlU6XG5cdCAgICBjYXNlIEtleUNvZGUuQ1RSTDpcblx0ICAgIGNhc2UgS2V5Q29kZS5ET1dOOlxuXHQgICAgY2FzZSBLZXlDb2RlLkVORDpcblx0ICAgIGNhc2UgS2V5Q29kZS5FU0M6XG5cdCAgICBjYXNlIEtleUNvZGUuSE9NRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5JTlNFUlQ6XG5cdCAgICBjYXNlIEtleUNvZGUuTEVGVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5NQUNfRkZfTUVUQTpcblx0ICAgIGNhc2UgS2V5Q29kZS5NRVRBOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTUxPQ0s6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX0NFTlRFUjpcblx0ICAgIGNhc2UgS2V5Q29kZS5QQUdFX0RPV046XG5cdCAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcblx0ICAgIGNhc2UgS2V5Q29kZS5QQVVTRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5QUklOVF9TQ1JFRU46XG5cdCAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG5cdCAgICBjYXNlIEtleUNvZGUuU0hJRlQ6XG5cdCAgICBjYXNlIEtleUNvZGUuVVA6XG5cdCAgICBjYXNlIEtleUNvZGUuV0lOX0tFWTpcblx0ICAgIGNhc2UgS2V5Q29kZS5XSU5fS0VZX1JJR0hUOlxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdH07XG5cdFxuXHQvKlxuXHQgd2hldGhlciBjaGFyYWN0ZXIgaXMgZW50ZXJlZC5cblx0ICovXG5cdEtleUNvZGUuaXNDaGFyYWN0ZXJLZXkgPSBmdW5jdGlvbiBpc0NoYXJhY3RlcktleShrZXlDb2RlKSB7XG5cdCAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OSU5FKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIGlmIChrZXlDb2RlID49IEtleUNvZGUuTlVNX1pFUk8gJiYga2V5Q29kZSA8PSBLZXlDb2RlLk5VTV9NVUxUSVBMWSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLkEgJiYga2V5Q29kZSA8PSBLZXlDb2RlLlopIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgLy8gU2FmYXJpIHNlbmRzIHplcm8ga2V5IGNvZGUgZm9yIG5vbi1sYXRpbiBjaGFyYWN0ZXJzLlxuXHQgIGlmICh3aW5kb3cubmF2aWdhdGlvbi51c2VyQWdlbnQuaW5kZXhPZignV2ViS2l0JykgIT09IC0xICYmIGtleUNvZGUgPT09IDApIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICBjYXNlIEtleUNvZGUuU1BBQ0U6XG5cdCAgICBjYXNlIEtleUNvZGUuUVVFU1RJT05fTUFSSzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fUExVUzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fTUlOVVM6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNX1BFUklPRDpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fRElWSVNJT046XG5cdCAgICBjYXNlIEtleUNvZGUuU0VNSUNPTE9OOlxuXHQgICAgY2FzZSBLZXlDb2RlLkRBU0g6XG5cdCAgICBjYXNlIEtleUNvZGUuRVFVQUxTOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNPTU1BOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBFUklPRDpcblx0ICAgIGNhc2UgS2V5Q29kZS5TTEFTSDpcblx0ICAgIGNhc2UgS2V5Q29kZS5BUE9TVFJPUEhFOlxuXHQgICAgY2FzZSBLZXlDb2RlLlNJTkdMRV9RVU9URTpcblx0ICAgIGNhc2UgS2V5Q29kZS5PUEVOX1NRVUFSRV9CUkFDS0VUOlxuXHQgICAgY2FzZSBLZXlDb2RlLkJBQ0tTTEFTSDpcblx0ICAgIGNhc2UgS2V5Q29kZS5DTE9TRV9TUVVBUkVfQlJBQ0tFVDpcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBLZXlDb2RlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfTW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0XG5cdHZhciBfTW9kYWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9kYWwpO1xuXHRcblx0dmFyIF9jb25maXJtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTApO1xuXHRcblx0dmFyIF9jb25maXJtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpcm0pO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X01vZGFsMltcImRlZmF1bHRcIl0uaW5mbyA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG5cdCAgICAgICAgdHlwZTogJ2luZm8nLFxuXHQgICAgICAgIGljb25UeXBlOiAnaW5mby1jaXJjbGUnLFxuXHQgICAgICAgIG9rQ2FuY2VsOiBmYWxzZVxuXHQgICAgfSwgcHJvcHMpO1xuXHQgICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xuXHR9O1xuXHRfTW9kYWwyW1wiZGVmYXVsdFwiXS5zdWNjZXNzID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcblx0ICAgICAgICB0eXBlOiAnc3VjY2VzcycsXG5cdCAgICAgICAgaWNvblR5cGU6ICdjaGVjay1jaXJjbGUnLFxuXHQgICAgICAgIG9rQ2FuY2VsOiBmYWxzZVxuXHQgICAgfSwgcHJvcHMpO1xuXHQgICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xuXHR9O1xuXHRfTW9kYWwyW1wiZGVmYXVsdFwiXS5lcnJvciA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG5cdCAgICAgICAgdHlwZTogJ2Vycm9yJyxcblx0ICAgICAgICBpY29uVHlwZTogJ2Nyb3NzLWNpcmNsZScsXG5cdCAgICAgICAgb2tDYW5jZWw6IGZhbHNlXG5cdCAgICB9LCBwcm9wcyk7XG5cdCAgICByZXR1cm4gKDAsIF9jb25maXJtMltcImRlZmF1bHRcIl0pKGNvbmZpZyk7XG5cdH07XG5cdF9Nb2RhbDJbXCJkZWZhdWx0XCJdLndhcm5pbmcgPSBfTW9kYWwyW1wiZGVmYXVsdFwiXS53YXJuID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcblx0ICAgICAgICB0eXBlOiAnd2FybmluZycsXG5cdCAgICAgICAgaWNvblR5cGU6ICdleGNsYW1hdGlvbi1jaXJjbGUnLFxuXHQgICAgICAgIG9rQ2FuY2VsOiBmYWxzZVxuXHQgICAgfSwgcHJvcHMpO1xuXHQgICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xuXHR9O1xuXHRfTW9kYWwyW1wiZGVmYXVsdFwiXS5jb25maXJtID0gZnVuY3Rpb24gKHByb3BzKSB7XG5cdCAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcblx0ICAgICAgICB0eXBlOiAnY29uZmlybScsXG5cdCAgICAgICAgb2tDYW5jZWw6IHRydWVcblx0ICAgIH0sIHByb3BzKTtcblx0ICAgIHJldHVybiAoMCwgX2NvbmZpcm0yW1wiZGVmYXVsdFwiXSkoY29uZmlnKTtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfTW9kYWwyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0OTpcblsxMjE4LCAyMDFdLFxuXG4vKioqLyAxNTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGU1ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfc3R5bGU3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX2lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9pbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnB1dCk7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTkpO1xuXHRcblx0dmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2VhcmNoID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTZWFyY2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBTZWFyY2gocHJvcHMpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlYXJjaCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBkYXRhID0ge1xuXHQgICAgICAgIGtleXdvcmQ6IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZVxuXHQgICAgICB9O1xuXHQgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0KSB7XG5cdCAgICAgICAgZGF0YS5maWVsZCA9IF90aGlzLnN0YXRlLnNlbGVjdFZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uU2VhcmNoICYmIF90aGlzLnByb3BzLm9uU2VhcmNoKGRhdGEpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgY2xlYXJWaXNpYmxlOiBlLnRhcmdldC52YWx1ZSAhPT0gJydcblx0ICAgICAgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgc2VsZWN0VmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQ2xlYXJJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKF90aGlzLnJlZnMuc2VhcmNoSW5wdXQpLnZhbHVlID0gJyc7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjbGVhclZpc2libGU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHQgICAgICBfdGhpcy5oYW5kbGVTZWFyY2goKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgc2VsZWN0ID0gX3RoaXMkcHJvcHMuc2VsZWN0LFxuXHQgICAgICAgIHNlbGVjdFByb3BzID0gX3RoaXMkcHJvcHMuc2VsZWN0UHJvcHM7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGNsZWFyVmlzaWJsZTogZmFsc2UsXG5cdCAgICAgIHNlbGVjdFZhbHVlOiBzZWxlY3QgJiYgc2VsZWN0UHJvcHMgPyBzZWxlY3RQcm9wcy5kZWZhdWx0VmFsdWUgOiAnJ1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFNlYXJjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuXHQgICAgICAgIHNlbGVjdCA9IF9wcm9wcy5zZWxlY3QsXG5cdCAgICAgICAgc2VsZWN0T3B0aW9ucyA9IF9wcm9wcy5zZWxlY3RPcHRpb25zLFxuXHQgICAgICAgIHNlbGVjdFByb3BzID0gX3Byb3BzLnNlbGVjdFByb3BzLFxuXHQgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuXHQgICAgICAgIGtleXdvcmQgPSBfcHJvcHMua2V5d29yZDtcblx0ICAgIHZhciBjbGVhclZpc2libGUgPSB0aGlzLnN0YXRlLmNsZWFyVmlzaWJsZTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9pbnB1dDIuZGVmYXVsdC5Hcm91cCxcblx0ICAgICAgeyBjb21wYWN0OiB0cnVlLCBzaXplOiBzaXplLCBjbGFzc05hbWU6IF9TZWFyY2gyLmRlZmF1bHQuc2VhcmNoLCBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgc2VsZWN0ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9zZWxlY3QyLmRlZmF1bHQsXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHJlZjogJ3NlYXJjaFNlbGVjdCcsIG9uQ2hhbmdlOiB0aGlzLmhhbmRlbGVTZWxlY3RDaGFuZ2UsIHNpemU6IHNpemUgfSwgc2VsZWN0UHJvcHMpLFxuXHQgICAgICAgIHNlbGVjdE9wdGlvbnMgJiYgc2VsZWN0T3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0Lk9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogaXRlbS52YWx1ZSwga2V5OiBrZXkgfSxcblx0ICAgICAgICAgICAgaXRlbS5uYW1lIHx8IGl0ZW0udmFsdWVcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2lucHV0Mi5kZWZhdWx0LCB7IHJlZjogJ3NlYXJjaElucHV0Jywgc2l6ZTogc2l6ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UsIG9uUHJlc3NFbnRlcjogdGhpcy5oYW5kbGVTZWFyY2gsIGRlZmF1bHRWYWx1ZToga2V5d29yZCB9KSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcblx0ICAgICAgICB7IHNpemU6IHNpemUsIHR5cGU6ICdwcmltYXJ5Jywgb25DbGljazogdGhpcy5oYW5kbGVTZWFyY2ggfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnc2VhcmNoJyB9KSxcblx0ICAgICAgICAnXFx1NjQxQ1xcdTdEMjInXG5cdCAgICAgICksXG5cdCAgICAgIGNsZWFyVmlzaWJsZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnY3Jvc3MnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsZWFySW5wdXQgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFNlYXJjaDtcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNUd2Vlbk9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUJvZHlXcmFwcGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZW50ZXJBbmltID0gW3tcblx0ICBvcGFjaXR5OiAwLFxuXHQgIHg6IDMwLFxuXHQgIGJhY2tncm91bmRDb2xvcjogJyNmZmZlZWUnLFxuXHQgIGR1cmF0aW9uOiAwXG5cdH0sIHtcblx0ICBoZWlnaHQ6IDAsXG5cdCAgZHVyYXRpb246IDIwMCxcblx0ICB0eXBlOiAnZnJvbScsXG5cdCAgZGVsYXk6IDI1MCxcblx0ICBlYXNlOiAnZWFzZU91dFF1YWQnLFxuXHQgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoZSkge1xuXHQgICAgZS50YXJnZXQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuXHQgIH1cblx0fSwge1xuXHQgIG9wYWNpdHk6IDEsXG5cdCAgeDogMCxcblx0ICBkdXJhdGlvbjogMjUwLFxuXHQgIGVhc2U6ICdlYXNlT3V0UXVhZCdcblx0fSwge1xuXHQgIGRlbGF5OiAxMDAwLFxuXHQgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnXG5cdH1dO1xuXHRcblx0dmFyIGxlYXZlQW5pbSA9IFt7XG5cdCAgZHVyYXRpb246IDI1MCxcblx0ICB4OiAtMzAsXG5cdCAgb3BhY2l0eTogMFxuXHR9LCB7XG5cdCAgaGVpZ2h0OiAwLFxuXHQgIGR1cmF0aW9uOiAyMDAsXG5cdCAgZWFzZTogJ2Vhc2VPdXRRdWFkJ1xuXHR9XTtcblx0XG5cdHZhciBUYWJsZUJvZHlXcmFwcGVyID0gZnVuY3Rpb24gVGFibGVCb2R5V3JhcHBlcihfcmVmKSB7XG5cdCAgdmFyIGJvZHkgPSBfcmVmLmJvZHksXG5cdCAgICAgIF9yZWYkcGFnZSA9IF9yZWYucGFnZSxcblx0ICAgICAgcGFnZSA9IF9yZWYkcGFnZSA9PT0gdW5kZWZpbmVkID8gMSA6IF9yZWYkcGFnZSxcblx0ICAgICAgY3VycmVudCA9IF9yZWYuY3VycmVudDtcblx0XG5cdFxuXHQgIC8vIOWIh+aNouWIhumhteWOu+mZpOWKqOeUuztcblx0ICBpZiAoY3VycmVudCAhPSArcGFnZSkge1xuXHQgICAgcmV0dXJuIGJvZHk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfcmNUd2Vlbk9uZS5Ud2Vlbk9uZUdyb3VwLFxuXHQgICAge1xuXHQgICAgICBjb21wb25lbnQ6ICd0Ym9keScsXG5cdCAgICAgIGNsYXNzTmFtZTogYm9keS5wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgIGVudGVyOiBlbnRlckFuaW0sXG5cdCAgICAgIGxlYXZlOiBsZWF2ZUFuaW0sXG5cdCAgICAgIGFwcGVhcjogZmFsc2UgfSxcblx0ICAgIGJvZHkucHJvcHMuY2hpbGRyZW5cblx0ICApO1xuXHR9O1xuXHRcblx0VGFibGVCb2R5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG5cdCAgcGFnZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY3VycmVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGFibGVCb2R5V3JhcHBlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZ2xvYmFscyBTeW1ib2w6IHRydWUsIFVpbnQ4QXJyYXk6IHRydWUsIFdlYWtNYXA6IHRydWUgKi9cblx0LyohXG5cdCAqIGRlZXAtZXFsXG5cdCAqIENvcHlyaWdodChjKSAyMDEzIEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuXHQgKiBNSVQgTGljZW5zZWRcblx0ICovXG5cdFxuXHQvKiFcblx0ICogTW9kdWxlIGRlcGVuZGVuY2llc1xuXHQgKi9cblx0XG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXHRmdW5jdGlvbiBGYWtlTWFwKCkge1xuXHQgIHRoaXMuY2xlYXIoKTtcblx0fVxuXHRGYWtlTWFwLnByb3RvdHlwZSA9IHtcblx0ICBjbGVhcjogZnVuY3Rpb24gY2xlYXJNYXAoKSB7XG5cdCAgICB0aGlzLmtleXMgPSBbXTtcblx0ICAgIHRoaXMudmFsdWVzID0gW107XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIHNldDogZnVuY3Rpb24gc2V0TWFwKGtleSwgdmFsdWUpIHtcblx0ICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG5cdCAgICBpZiAoaW5kZXggPj0gMCkge1xuXHQgICAgICB0aGlzLnZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG5cdCAgICAgIHRoaXMudmFsdWVzLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldE1hcChrZXkpIHtcblx0ICAgIHJldHVybiB0aGlzLnZhbHVlc1t0aGlzLmtleXMuaW5kZXhPZihrZXkpXTtcblx0ICB9LFxuXHQgIGRlbGV0ZTogZnVuY3Rpb24gZGVsZXRlTWFwKGtleSkge1xuXHQgICAgdmFyIGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcblx0ICAgIGlmIChpbmRleCA+PSAwKSB7XG5cdCAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLnZhbHVlcy5zbGljZShpbmRleCArIDEpKTtcblx0ICAgICAgdGhpcy5rZXlzID0gdGhpcy5rZXlzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy5rZXlzLnNsaWNlKGluZGV4ICsgMSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0fTtcblx0XG5cdHZhciBNZW1vaXplTWFwID0gbnVsbDtcblx0aWYgKHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgTWVtb2l6ZU1hcCA9IFdlYWtNYXA7XG5cdH0gZWxzZSB7XG5cdCAgTWVtb2l6ZU1hcCA9IEZha2VNYXA7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDaGVjayB0byBzZWUgaWYgdGhlIE1lbW9pemVNYXAgaGFzIHJlY29yZGVkIGEgcmVzdWx0IG9mIHRoZSB0d28gb3BlcmFuZHNcblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufG51bGx9IHJlc3VsdFxuXHQqL1xuXHRmdW5jdGlvbiBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXApIHtcblx0ICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG5cdCAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0ICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZE1hcCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IGxlZnRIYW5kTWFwLmdldChyaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBTZXQgdGhlIHJlc3VsdCBvZiB0aGUgZXF1YWxpdHkgaW50byB0aGUgTWVtb2l6ZU1hcFxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcblx0ICogQHBhcmFtIHtCb29sZWFufSByZXN1bHRcblx0Ki9cblx0ZnVuY3Rpb24gbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXAsIHJlc3VsdCkge1xuXHQgIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cblx0ICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZE1hcCkge1xuXHQgICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGxlZnRIYW5kTWFwID0gbmV3IE1lbW9pemVNYXAoKTtcblx0ICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuXHQgICAgbWVtb2l6ZU1hcC5zZXQobGVmdEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE1hcCk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiFcblx0ICogUHJpbWFyeSBFeHBvcnRcblx0ICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlZXBFcXVhbDtcblx0bW9kdWxlLmV4cG9ydHMuTWVtb2l6ZU1hcCA9IE1lbW9pemVNYXA7XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IGRlZXBseSBuZXN0ZWQgc2FtZVZhbHVlIGVxdWFsaXR5IGJldHdlZW4gdHdvIG9iamVjdHMgb2YgYW55IHR5cGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2Zcblx0ICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuXHQgICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcblx0ICovXG5cdGZ1bmN0aW9uIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICAvLyBJZiB3ZSBoYXZlIGEgY29tcGFyYXRvciwgd2UgY2FuJ3QgYXNzdW1lIGFueXRoaW5nOyBzbyBiYWlsIHRvIGl0cyBjaGVjayBmaXJzdC5cblx0ICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3IpIHtcblx0ICAgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICB9XG5cdFxuXHQgIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcblx0ICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvLyBEZWVwZXIgY29tcGFyaXNvbnMgYXJlIHB1c2hlZCB0aHJvdWdoIHRvIGEgbGFyZ2VyIGZ1bmN0aW9uXG5cdCAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogTWFueSBjb21wYXJpc29ucyBjYW4gYmUgY2FuY2VsZWQgb3V0IGVhcmx5IHZpYSBzaW1wbGUgZXF1YWxpdHkgb3IgcHJpbWl0aXZlIGNoZWNrcy5cblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHJldHVybiB7Qm9vbGVhbnxudWxsfSBlcXVhbCBtYXRjaFxuXHQgKi9cblx0ZnVuY3Rpb24gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgLy8gRXF1YWwgcmVmZXJlbmNlcyAoZXhjZXB0IGZvciBOdW1iZXJzKSBjYW4gYmUgcmV0dXJuZWQgZWFybHlcblx0ICBpZiAobGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgICAvLyBIYW5kbGUgKy0wIGNhc2VzXG5cdCAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kICE9PSAwIHx8IDEgLyBsZWZ0SGFuZE9wZXJhbmQgPT09IDEgLyByaWdodEhhbmRPcGVyYW5kO1xuXHQgIH1cblx0XG5cdCAgLy8gaGFuZGxlIE5hTiBjYXNlc1xuXHQgIGlmIChcblx0ICAgIGxlZnRIYW5kT3BlcmFuZCAhPT0gbGVmdEhhbmRPcGVyYW5kICYmIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdCAgICByaWdodEhhbmRPcGVyYW5kICE9PSByaWdodEhhbmRPcGVyYW5kIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdCAgKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIC8vIEFueXRoaW5nIHRoYXQgaXMgbm90IGFuICdvYmplY3QnLCBpLmUuIHN5bWJvbHMsIGZ1bmN0aW9ucywgYm9vbGVhbnMsIG51bWJlcnMsXG5cdCAgLy8gc3RyaW5ncywgYW5kIHVuZGVmaW5lZCwgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cblx0ICBpZiAoaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgLy8gRWFzeSBvdXQgYi9jIGl0IHdvdWxkIGhhdmUgcGFzc2VkIHRoZSBmaXJzdCBlcXVhbGl0eSBjaGVja1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0LyohXG5cdCAqIFRoZSBtYWluIGxvZ2ljIG9mIHRoZSBgZGVlcEVxdWFsYCBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuXHQgICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG5cdCAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuXHQqL1xuXHRmdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgb3B0aW9ucy5tZW1vaXplID0gb3B0aW9ucy5tZW1vaXplID09PSBmYWxzZSA/IGZhbHNlIDogb3B0aW9ucy5tZW1vaXplIHx8IG5ldyBNZW1vaXplTWFwKCk7XG5cdCAgdmFyIGNvbXBhcmF0b3IgPSBvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcjtcblx0XG5cdCAgLy8gQ2hlY2sgaWYgYSBtZW1vaXplZCByZXN1bHQgZXhpc3RzLlxuXHQgIHZhciBtZW1vaXplUmVzdWx0TGVmdCA9IG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcblx0ICBpZiAobWVtb2l6ZVJlc3VsdExlZnQgIT09IG51bGwpIHtcblx0ICAgIHJldHVybiBtZW1vaXplUmVzdWx0TGVmdDtcblx0ICB9XG5cdCAgdmFyIG1lbW9pemVSZXN1bHRSaWdodCA9IG1lbW9pemVDb21wYXJlKHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcblx0ICBpZiAobWVtb2l6ZVJlc3VsdFJpZ2h0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdFJpZ2h0O1xuXHQgIH1cblx0XG5cdCAgLy8gSWYgYSBjb21wYXJhdG9yIGlzIHByZXNlbnQsIHVzZSBpdC5cblx0ICBpZiAoY29tcGFyYXRvcikge1xuXHQgICAgdmFyIGNvbXBhcmF0b3JSZXN1bHQgPSBjb21wYXJhdG9yKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICAvLyBDb21wYXJhdG9ycyBtYXkgcmV0dXJuIG51bGwsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBnbyBiYWNrIHRvIGRlZmF1bHQgYmVoYXZpb3IuXG5cdCAgICBpZiAoY29tcGFyYXRvclJlc3VsdCA9PT0gZmFsc2UgfHwgY29tcGFyYXRvclJlc3VsdCA9PT0gdHJ1ZSkge1xuXHQgICAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBjb21wYXJhdG9yUmVzdWx0KTtcblx0ICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQ7XG5cdCAgICB9XG5cdCAgICAvLyBUbyBhbGxvdyBjb21wYXJhdG9ycyB0byBvdmVycmlkZSAqYW55KiBiZWhhdmlvciwgd2UgcmFuIHRoZW0gZmlyc3QuIFNpbmNlIGl0IGRpZG4ndCBkZWNpZGVcblx0ICAgIC8vIHdoYXQgdG8gZG8sIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvIHJldHVybiB0aGUgYmFzaWMgdGVzdHMgZmlyc3QgYmVmb3JlIHdlIG1vdmUgb24uXG5cdCAgICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcblx0ICAgICAgLy8gRG9uJ3QgbWVtb2l6ZSB0aGlzLCBpdCB0YWtlcyBsb25nZXIgdG8gc2V0L3JldHJpZXZlIHRoYW4gdG8ganVzdCBjb21wYXJlLlxuXHQgICAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGxlZnRIYW5kVHlwZSA9IHR5cGUobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRUeXBlICE9PSB0eXBlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG5cdCAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBmYWxzZSk7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBUZW1wb3JhcmlseSBzZXQgdGhlIG9wZXJhbmRzIGluIHRoZSBtZW1vaXplIG9iamVjdCB0byBwcmV2ZW50IGJsb3dpbmcgdGhlIHN0YWNrXG5cdCAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgdHJ1ZSk7XG5cdFxuXHQgIHZhciByZXN1bHQgPSBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpO1xuXHQgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHJlc3VsdCk7XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKSB7XG5cdCAgc3dpdGNoIChsZWZ0SGFuZFR5cGUpIHtcblx0ICAgIGNhc2UgJ1N0cmluZyc6XG5cdCAgICBjYXNlICdOdW1iZXInOlxuXHQgICAgY2FzZSAnQm9vbGVhbic6XG5cdCAgICBjYXNlICdEYXRlJzpcblx0ICAgICAgLy8gSWYgdGhlc2UgdHlwZXMgYXJlIHRoZWlyIGluc3RhbmNlIHR5cGVzIChlLmcuIGBuZXcgTnVtYmVyYCkgdGhlbiByZS1kZWVwRXF1YWwgYWdhaW5zdCB0aGVpciB2YWx1ZXNcblx0ICAgICAgcmV0dXJuIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQudmFsdWVPZigpLCByaWdodEhhbmRPcGVyYW5kLnZhbHVlT2YoKSk7XG5cdCAgICBjYXNlICdQcm9taXNlJzpcblx0ICAgIGNhc2UgJ1N5bWJvbCc6XG5cdCAgICBjYXNlICdmdW5jdGlvbic6XG5cdCAgICBjYXNlICdXZWFrTWFwJzpcblx0ICAgIGNhc2UgJ1dlYWtTZXQnOlxuXHQgICAgY2FzZSAnRXJyb3InOlxuXHQgICAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kO1xuXHQgICAgY2FzZSAnQXJndW1lbnRzJzpcblx0ICAgIGNhc2UgJ0ludDhBcnJheSc6XG5cdCAgICBjYXNlICdVaW50OEFycmF5Jzpcblx0ICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5Jzpcblx0ICAgIGNhc2UgJ0ludDE2QXJyYXknOlxuXHQgICAgY2FzZSAnVWludDE2QXJyYXknOlxuXHQgICAgY2FzZSAnSW50MzJBcnJheSc6XG5cdCAgICBjYXNlICdVaW50MzJBcnJheSc6XG5cdCAgICBjYXNlICdGbG9hdDMyQXJyYXknOlxuXHQgICAgY2FzZSAnRmxvYXQ2NEFycmF5Jzpcblx0ICAgIGNhc2UgJ0FycmF5Jzpcblx0ICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICAgIGNhc2UgJ1JlZ0V4cCc6XG5cdCAgICAgIHJldHVybiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgICAgY2FzZSAnR2VuZXJhdG9yJzpcblx0ICAgICAgcmV0dXJuIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdEYXRhVmlldyc6XG5cdCAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZC5idWZmZXIpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kLmJ1ZmZlciksIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnQXJyYXlCdWZmZXInOlxuXHQgICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdTZXQnOlxuXHQgICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdNYXAnOlxuXHQgICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDb21wYXJlIHR3byBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBlcXVhbGl0eS5cblx0ICpcblx0ICogQHBhcmFtIHtSZWdFeHB9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge1JlZ0V4cH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcblx0ICovXG5cdFxuXHRmdW5jdGlvbiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcblx0ICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kLnRvU3RyaW5nKCkgPT09IHJpZ2h0SGFuZE9wZXJhbmQudG9TdHJpbmcoKTtcblx0fVxuXHRcblx0LyohXG5cdCAqIENvbXBhcmUgdHdvIFNldHMvTWFwcyBmb3IgZXF1YWxpdHkuIEZhc3RlciB0aGFuIG90aGVyIGVxdWFsaXR5IGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtTZXR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge1NldH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IFNldCNlbnRyaWVzIG9yIFNldCNAQGl0ZXJhdG9yLCBzbyB3ZSBuZWVkIG1hbnVhbGx5IHBvcHVsYXRlIHVzaW5nIFNldCNmb3JFYWNoXG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplICE9PSByaWdodEhhbmRPcGVyYW5kLnNpemUpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kSXRlbXMgPSBbXTtcblx0ICB2YXIgcmlnaHRIYW5kSXRlbXMgPSBbXTtcblx0ICBsZWZ0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcblx0ICAgIGxlZnRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG5cdCAgfSk7XG5cdCAgcmlnaHRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuXHQgICAgcmlnaHRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRJdGVtcy5zb3J0KCksIHJpZ2h0SGFuZEl0ZW1zLnNvcnQoKSwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGZsYXQgaXRlcmFibGUgb2JqZWN0cyBzdWNoIGFzIEFycmF5cywgVHlwZWRBcnJheXMgb3IgTm9kZS5qcyBidWZmZXJzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICB2YXIgbGVuZ3RoID0gbGVmdEhhbmRPcGVyYW5kLmxlbmd0aDtcblx0ICBpZiAobGVuZ3RoICE9PSByaWdodEhhbmRPcGVyYW5kLmxlbmd0aCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAobGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdmFyIGluZGV4ID0gLTE7XG5cdCAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2luZGV4XSwgcmlnaHRIYW5kT3BlcmFuZFtpbmRleF0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2ltcGxlIGVxdWFsaXR5IGZvciBnZW5lcmF0b3Igb2JqZWN0cyBzdWNoIGFzIHRob3NlIHJldHVybmVkIGJ5IGdlbmVyYXRvciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICByZXR1cm4gaXRlcmFibGVFcXVhbChnZXRHZW5lcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCksIGdldEdlbmVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogRGV0ZXJtaW5lIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkge1xuXHQgIHJldHVybiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiZcblx0ICAgIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICB0eXBlb2YgdGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBHZXRzIGFsbCBpdGVyYXRvciBlbnRyaWVzIGZyb20gdGhlIGdpdmVuIE9iamVjdC4gSWYgdGhlIE9iamVjdCBoYXMgbm8gQEBpdGVyYXRvciBmdW5jdGlvbiwgcmV0dXJucyBhbiBlbXB0eSBhcnJheS5cblx0ICogVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGl0ZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMgZGVwZW5kaW5nIG9uIHRoZSBAQGl0ZXJhdG9yIGltcGxlbWVudGF0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBAQGl0ZXJhdG9yIGZ1bmN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRJdGVyYXRvckVudHJpZXModGFyZ2V0KSB7XG5cdCAgaWYgKGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmV0dXJuIGdldEdlbmVyYXRvckVudHJpZXModGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdCAgICB9IGNhdGNoIChpdGVyYXRvckVycm9yKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIFtdO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgZW50cmllcyBmcm9tIGEgR2VuZXJhdG9yLiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgZ2VuZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7R2VuZXJhdG9yfSB0YXJnZXRcblx0ICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEdlbmVyYXRvci5cblx0ICovXG5cdGZ1bmN0aW9uIGdldEdlbmVyYXRvckVudHJpZXMoZ2VuZXJhdG9yKSB7XG5cdCAgdmFyIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG5cdCAgdmFyIGFjY3VtdWxhdG9yID0gWyBnZW5lcmF0b3JSZXN1bHQudmFsdWUgXTtcblx0ICB3aGlsZSAoZ2VuZXJhdG9yUmVzdWx0LmRvbmUgPT09IGZhbHNlKSB7XG5cdCAgICBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuXHQgICAgYWNjdW11bGF0b3IucHVzaChnZW5lcmF0b3JSZXN1bHQudmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gYWNjdW11bGF0b3I7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBHZXRzIGFsbCBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSBhIHRhcmdldC5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIHRoZSB0YXJnZXQuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRFbnVtZXJhYmxlS2V5cyh0YXJnZXQpIHtcblx0ICB2YXIga2V5cyA9IFtdO1xuXHQgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcblx0ICAgIGtleXMucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4ga2V5cztcblx0fVxuXHRcblx0LyohXG5cdCAqIERldGVybWluZXMgaWYgdHdvIG9iamVjdHMgaGF2ZSBtYXRjaGluZyB2YWx1ZXMsIGdpdmVuIGEgc2V0IG9mIGtleXMuIERlZmVycyB0byBkZWVwRXF1YWwgZm9yIHRoZSBlcXVhbGl0eSBjaGVjayBvZlxuXHQgKiBlYWNoIGtleS4gSWYgYW55IHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkgaXMgbm90IGVxdWFsLCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gZmFsc2UgKGVhcmx5KS5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtBcnJheX0ga2V5cyBBbiBhcnJheSBvZiBrZXlzIHRvIGNvbXBhcmUgdGhlIHZhbHVlcyBvZiBsZWZ0SGFuZE9wZXJhbmQgYW5kIHJpZ2h0SGFuZE9wZXJhbmQgYWdhaW5zdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBrZXlzLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHQgIGlmIChsZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdCAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgcmlnaHRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBSZWN1cnNpdmVseSBjaGVjayB0aGUgZXF1YWxpdHkgb2YgdHdvIE9iamVjdHMuIE9uY2UgYmFzaWMgc2FtZW5lc3MgaGFzIGJlZW4gZXN0YWJsaXNoZWQgaXQgd2lsbCBkZWZlciB0byBgZGVlcEVxdWFsYFxuXHQgKiBmb3IgZWFjaCBlbnVtZXJhYmxlIGtleSBpbiB0aGUgb2JqZWN0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlZnRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgdmFyIHJpZ2h0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhyaWdodEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCAmJiBsZWZ0SGFuZEtleXMubGVuZ3RoID09PSByaWdodEhhbmRLZXlzLmxlbmd0aCkge1xuXHQgICAgbGVmdEhhbmRLZXlzLnNvcnQoKTtcblx0ICAgIHJpZ2h0SGFuZEtleXMuc29ydCgpO1xuXHQgICAgaWYgKGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRLZXlzLCByaWdodEhhbmRLZXlzKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kS2V5cywgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgbGVmdEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgdmFyIHJpZ2h0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kRW50cmllcy5sZW5ndGggJiYgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gcmlnaHRIYW5kRW50cmllcy5sZW5ndGgpIHtcblx0ICAgIGxlZnRIYW5kRW50cmllcy5zb3J0KCk7XG5cdCAgICByaWdodEhhbmRFbnRyaWVzLnNvcnQoKTtcblx0ICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kRW50cmllcywgcmlnaHRIYW5kRW50cmllcywgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwICYmXG5cdCAgICAgIHJpZ2h0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG5cdCAgICAgIHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyohXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBwcmltaXRpdmUuXG5cdCAqXG5cdCAqIFRoaXMgaW50ZW50aW9uYWxseSByZXR1cm5zIHRydWUgZm9yIGFsbCBvYmplY3RzIHRoYXQgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZSxcblx0ICogaW5jbHVkaW5nIGZ1bmN0aW9ucyBhbmQgc3ltYm9scy5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuXHQgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnO1xuXHR9XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMTU5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJzZWFyY2hcIjpcInNlYXJjaF9fX3AwNEtOXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjA6XG4xMCxcblxuLyoqKi8gMTYzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IGpsanNqIG9uIDE2LzEvMjcuXG5cdCAqL1xuXHRcblx0XG5cdHZhciBfZWFzaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2Vhc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXNpbmcpO1xuXHRcblx0dmFyIF9wbHVnaW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cdFxuXHR2YXIgX1N0eWxlUGx1Z2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHRcblx0dmFyIF9TdHlsZVBsdWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdHlsZVBsdWdpbik7XG5cdFxuXHR2YXIgX3N0eWxlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgREVGQVVMVF9FQVNJTkcgPSAnZWFzZUluT3V0UXVhZCc7XG5cdHZhciBERUZBVUxUX0RVUkFUSU9OID0gNDUwO1xuXHR2YXIgREVGQVVMVF9ERUxBWSA9IDA7XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRfcGx1Z2luczJbXCJkZWZhdWx0XCJdLnB1c2goX1N0eWxlUGx1Z2luMltcImRlZmF1bHRcIl0pO1xuXHQvLyDorr7nva7pu5jorqTmlbDmja5cblx0ZnVuY3Rpb24gZGVmYXVsdERhdGEodmFycywgbm93KSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGR1cmF0aW9uOiB2YXJzLmR1cmF0aW9uIHx8IHZhcnMuZHVyYXRpb24gPT09IDAgPyB2YXJzLmR1cmF0aW9uIDogREVGQVVMVF9EVVJBVElPTixcblx0ICAgIGRlbGF5OiB2YXJzLmRlbGF5IHx8IERFRkFVTFRfREVMQVksXG5cdCAgICBlYXNlOiB0eXBlb2YgdmFycy5lYXNlID09PSAnZnVuY3Rpb24nID8gdmFycy5lYXNlIDogX2Vhc2luZzJbXCJkZWZhdWx0XCJdW3ZhcnMuZWFzZSB8fCBERUZBVUxUX0VBU0lOR10sXG5cdCAgICBvblVwZGF0ZTogdmFycy5vblVwZGF0ZSB8fCBub29wLFxuXHQgICAgb25Db21wbGV0ZTogdmFycy5vbkNvbXBsZXRlIHx8IG5vb3AsXG5cdCAgICBvblN0YXJ0OiB2YXJzLm9uU3RhcnQgfHwgbm9vcCxcblx0ICAgIG9uUmVwZWF0OiB2YXJzLm9uUmVwZWF0IHx8IG5vb3AsXG5cdCAgICByZXBlYXQ6IHZhcnMucmVwZWF0IHx8IDAsXG5cdCAgICByZXBlYXREZWxheTogdmFycy5yZXBlYXREZWxheSB8fCAwLFxuXHQgICAgeW95bzogdmFycy55b3lvIHx8IGZhbHNlLFxuXHQgICAgdHlwZTogdmFycy50eXBlIHx8ICd0bycsXG5cdCAgICBpbml0VGltZTogbm93LFxuXHQgICAgYXBwZWFyVG86IHR5cGVvZiB2YXJzLmFwcGVhclRvID09PSAnbnVtYmVyJyA/IHZhcnMuYXBwZWFyVG8gOiBudWxsXG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIHRpbWVMaW5lID0gZnVuY3Rpb24gdGltZUxpbmUodGFyZ2V0LCB0b0RhdGEsIHByb3BzKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdCAgdGhpcy5hdHRyID0gcHJvcHMuYXR0ciB8fCAnc3R5bGUnO1xuXHQgIHRoaXMud2lsbENoYW5nZSA9IHByb3BzLndpbGxDaGFuZ2U7XG5cdCAgLy8g6K6w5b2V5oC75pe26Ze0O1xuXHQgIHRoaXMudG90YWxUaW1lID0gMDtcblx0ICAvLyDorrDlvZXlvZPliY3ml7bpl7Q7XG5cdCAgdGhpcy5wcm9ncmVzc1RpbWUgPSAwO1xuXHQgIC8vIOiusOW9leaXtumXtOi9tOaVsOaNrjtcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gW107XG5cdCAgLy8g5q+P5Liq55qE5byA5aeL5pWw5o2u77ybXG5cdCAgdGhpcy5zdGFydCA9IHt9O1xuXHQgIC8vIOiusOW9leWKqOeUu+W8gOWniztcblx0ICB0aGlzLm9uU3RhcnQgPSB7fTtcblx0ICAvLyDlvIDlp4vpu5jorqTnmoTmlbDmja7vvJtcblx0ICB0aGlzLnN0YXJ0RGVmYXVsdERhdGEgPSB7fTtcblx0ICB2YXIgZGF0YSA9IFtdO1xuXHQgIHRvRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG5cdCAgICB2YXIgX2QgPSBfZXh0ZW5kcyh7fSwgZCk7XG5cdCAgICBpZiAoX3RoaXMuYXR0ciA9PT0gJ3N0eWxlJykge1xuXHQgICAgICBkYXRhW2ldID0ge307XG5cdCAgICAgIE9iamVjdC5rZXlzKF9kKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkge1xuXHQgICAgICAgICAgZGF0YVtpXVtrZXldID0gX2Rba2V5XTtcblx0ICAgICAgICAgIGRlbGV0ZSBfZFtrZXldO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGRhdGFbaV0uc3R5bGUgPSBfZDtcblx0ICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YS5zdHlsZSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cdCAgICB9IGVsc2UgaWYgKF90aGlzLmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gJ3N0eWxlJyAmJiBBcnJheS5pc0FycmF5KGRba2V5XSkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgc2hvdWxkIGJlIHRoZSBvYmplY3QuJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG5cdCAgICAgICAgICBfZC5zdHlsZSA9IF9leHRlbmRzKHt9LCBfZC5zdHlsZSwgeyBiZXppZXI6IF9kW2tleV0gfSk7XG5cdCAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcblx0ICAgICAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhW2tleV0gPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZGF0YVtpXSA9IF9kO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIC8vIOWKqOeUu+i/h+eoi1xuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICAvLyDmr4/luKfnmoTml7bpl7Q7XG5cdCAgdGhpcy5wZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcblx0ICAvLyDms6jlhozvvIznrKzkuIDmrKHov5vlhaXmiafooYzms6jlhoxcblx0ICB0aGlzLnJlZ2lzdGVyID0gZmFsc2U7XG5cdCAgLy8g57yT5Yqo5pyA5bCP5YC8O1xuXHQgIHRoaXMudGlueU51bSA9IDAuMDAwMDAwMDAwMTtcblx0ICAvLyDorr7nva7pu5jorqTliqjnlLvmlbDmja47XG5cdCAgdGhpcy5zZXREZWZhdWx0RGF0YShkYXRhKTtcblx0fTtcblx0dmFyIHAgPSB0aW1lTGluZS5wcm90b3R5cGU7XG5cdFxuXHRwLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKF92YXJzKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIHZhciBub3cgPSAwO1xuXHQgIHZhciByZXBlYXRNYXggPSBmYWxzZTtcblx0ICB2YXIgZGF0YSA9IF92YXJzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGFwcGVhclRvQm9vbCA9IHR5cGVvZiBpdGVtLmFwcGVhclRvID09PSAnbnVtYmVyJztcblx0ICAgIC8vIOWKoOS4iuW7tuaXtu+8jOWcqOayoeacieaSreaUvui/h+aXtu+8m1xuXHQgICAgLy8gIWFwcGVhclRvQm9vbCAmJiAobm93ICs9IGl0ZW0uZGVsYXkgfHwgMCk7XG5cdCAgICBpZiAoIWFwcGVhclRvQm9vbCkge1xuXHQgICAgICBub3cgKz0gaXRlbS5kZWxheSB8fCAwO1xuXHQgICAgfVxuXHQgICAgdmFyIGFwcGVhclRvVGltZSA9IChpdGVtLmFwcGVhclRvIHx8IDApICsgKGl0ZW0uZGVsYXkgfHwgMCk7XG5cdCAgICAvLyDojrflj5bpu5jorqTmlbDmja5cblx0ICAgIHZhciB0d2VlbkRhdGEgPSBkZWZhdWx0RGF0YShpdGVtLCBhcHBlYXJUb0Jvb2wgPyBhcHBlYXJUb1RpbWUgOiBub3cpO1xuXHQgICAgdHdlZW5EYXRhLnZhcnMgPSB7fTtcblx0ICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcblx0ICAgICAgaWYgKCEoX2tleSBpbiB0d2VlbkRhdGEpKSB7XG5cdCAgICAgICAgdmFyIF9kYXRhID0gaXRlbVtfa2V5XTtcblx0ICAgICAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzMi50YXJnZXQsIF9kYXRhLCB0d2VlbkRhdGEudHlwZSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChfa2V5Lm1hdGNoKC9jb2xvci9pKSB8fCBfa2V5ID09PSAnc3Ryb2tlJyB8fCBfa2V5ID09PSAnZmlsbCcpIHtcblx0ICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB0eXBlOiAnY29sb3InLCB2YXJzOiAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoX2RhdGEpIH07XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX2RhdGEgPT09ICdudW1iZXInIHx8IF9kYXRhLnNwbGl0KC9bLHxcXHNdL2cpLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgICB2YXIgdmFycyA9IHBhcnNlRmxvYXQoX2RhdGEpO1xuXHQgICAgICAgICAgdmFyIHVuaXQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgICAgIHZhciBjb3VudCA9IF9kYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSB7IHVuaXQ6IHVuaXQsIHZhcnM6IHZhcnMsIGNvdW50OiBjb3VudCB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykgJiYgJ1NWR01vcnBoJyBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdLlNWR01vcnBoKF90aGlzMi50YXJnZXQsIF9kYXRhLCBfa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKHR3ZWVuRGF0YS55b3lvICYmICF0d2VlbkRhdGEucmVwZWF0KSB7XG5cdCAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogeW95byBtdXN0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCByZXBlYXQ7Jyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIH1cblx0ICAgIGlmICh0d2VlbkRhdGEucmVwZWF0ID09PSAtMSkge1xuXHQgICAgICByZXBlYXRNYXggPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgdmFyIHJlcGVhdCA9IHR3ZWVuRGF0YS5yZXBlYXQgPT09IC0xID8gMCA6IHR3ZWVuRGF0YS5yZXBlYXQ7XG5cdCAgICBpZiAoYXBwZWFyVG9Cb29sKSB7XG5cdCAgICAgIC8vIOWmguaenOaciSBhcHBlYXJUbyDkuJTov5nmnaHml7bpl7Tmr5Qgbm93IOWkp+aXtu+8jO+8jOaAu+aXtumXtOeUqOi/meadoe+8m1xuXHQgICAgICB2YXIgYXBwZWFyTm93ID0gaXRlbS5hcHBlYXJUbyArIChpdGVtLmRlbGF5IHx8IDApICsgdHdlZW5EYXRhLmR1cmF0aW9uICogKHJlcGVhdCArIDEpICsgdHdlZW5EYXRhLnJlcGVhdERlbGF5ICogcmVwZWF0O1xuXHQgICAgICBub3cgPSBhcHBlYXJOb3cgPj0gbm93ID8gYXBwZWFyTm93IDogbm93O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHR3ZWVuRGF0YS5kZWxheSA8IC10d2VlbkRhdGEuZHVyYXRpb24pIHtcblx0ICAgICAgICAvLyDlpoLmnpzlu7bml7blsI/kuo4g6LSf5pe26Ze05pe2LCzkuI3liqAs5YaN5YeP5Zue5bu25pe2O1xuXHQgICAgICAgIG5vdyAtPSB0d2VlbkRhdGEuZGVsYXk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gcmVwZWF0IOS4uiAtMSDlj6rorrDlvZXkuIDmrKHjgILkuI3og73ot58gcmV2ZXJzZSDlkIzml7bkvb/nlKg7XG5cdCAgICAgICAgbm93ICs9IHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdHdlZW5EYXRhLm1vZGUgPSAnJztcblx0ICAgIHJldHVybiB0d2VlbkRhdGE7XG5cdCAgfSk7XG5cdCAgdGhpcy50b3RhbFRpbWUgPSByZXBlYXRNYXggPyBOdW1iZXIuTUFYX1ZBTFVFIDogbm93O1xuXHQgIHRoaXMuZGVmYXVsdERhdGEgPSBkYXRhO1xuXHR9O1xuXHRwLmdldEFuaW1TdGFydERhdGEgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICB2YXIgc3RhcnQgPSB7fTtcblx0ICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzMy5hdHRyID09PSAnYXR0cicgJiYgKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykpIHtcblx0ICAgICAgc3RhcnRbX2tleV0gPSBpdGVtW19rZXldLmdldEFuaW1TdGFydChfdGhpczMud2lsbENoYW5nZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChfdGhpczMuYXR0ciA9PT0gJ2F0dHInKSB7XG5cdCAgICAgIC8vIOmZpOS6hmTlkozov5lwb2ludHPlpJbnmoTmoIfnrb7liqjnlLvvvJtcblx0ICAgICAgdmFyIGF0dHJpYnV0ZSA9IF90aGlzMy50YXJnZXQuZ2V0QXR0cmlidXRlKF9rZXkpO1xuXHQgICAgICB2YXIgZGF0YSA9IGF0dHJpYnV0ZSA9PT0gJ251bGwnIHx8ICFhdHRyaWJ1dGUgPyAwIDogYXR0cmlidXRlO1xuXHQgICAgICBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG5cdCAgICAgICAgZGF0YSA9ICFkYXRhICYmIF9rZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogZGF0YTtcblx0ICAgICAgICBkYXRhID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKGRhdGEpO1xuXHQgICAgICAgIHN0YXJ0W19rZXldID0gZGF0YTtcblx0ICAgICAgfSBlbHNlIGlmIChwYXJzZUZsb2F0KGRhdGEpIHx8IHBhcnNlRmxvYXQoZGF0YSkgPT09IDAgfHwgZGF0YSA9PT0gMCkge1xuXHQgICAgICAgIHZhciB1bml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgICBzdGFydFtfa2V5XSA9IHVuaXQgIT09IGl0ZW1bX2tleV0udW5pdCA/ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMy50YXJnZXQsIF9rZXksIHBhcnNlRmxvYXQoZGF0YSksIHVuaXQsIGl0ZW1bX2tleV0udW5pdCkgOiBwYXJzZUZsb2F0KGRhdGEpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHN0YXJ0W19rZXldID0gZGF0YTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgc3RhcnRbX2tleV0gPSBfdGhpczMudGFyZ2V0W19rZXldIHx8IDA7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHN0YXJ0O1xuXHR9O1xuXHRwLnNldEFuaW1EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM0LmF0dHIgPT09ICdhdHRyJyAmJiAoa2V5ID09PSAnZCcgfHwga2V5ID09PSAncG9pbnRzJykpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgX3RoaXM0LnRhcmdldFtrZXldID0gZGF0YVtrZXldO1xuXHQgIH0pO1xuXHR9O1xuXHRwLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBlbmREYXRhLCBpKSB7XG5cdCAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgIE9iamVjdC5rZXlzKGVuZERhdGEudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczUuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIGVuZERhdGEudmFyc1tfa2V5XS5zZXRSYXRpbyhyYXRpbywgX3RoaXM1LnR3ZWVuKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGVuZFZhcnMgPSBlbmREYXRhLnZhcnNbX2tleV07XG5cdCAgICB2YXIgc3RhcnRWYXJzID0gX3RoaXM1LnN0YXJ0W2ldW19rZXldO1xuXHQgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG5cdCAgICBpZiAoX3RoaXM1LmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG5cdCAgICAgIGlmICghZW5kVmFycy50eXBlKSB7XG5cdCAgICAgICAgZGF0YSA9IGVuZFZhcnMudW5pdC5jaGFyQXQoMSkgPT09ICc9JyA/IHN0YXJ0VmFycyArIGVuZFZhcnMudmFycyAqIHJhdGlvICsgZW5kVmFycy51bml0IDogKGVuZFZhcnMudmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIGVuZFZhcnMudW5pdDtcblx0ICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCBkYXRhKTtcblx0ICAgICAgfSBlbHNlIGlmIChlbmRWYXJzLnR5cGUgPT09ICdjb2xvcicpIHtcblx0ICAgICAgICBpZiAoZW5kVmFycy52YXJzLmxlbmd0aCA9PT0gMyAmJiBzdGFydFZhcnMubGVuZ3RoID09PSA0KSB7XG5cdCAgICAgICAgICBlbmRWYXJzLnZhcnNbM10gPSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkYXRhID0gZW5kVmFycy52YXJzLm1hcChmdW5jdGlvbiAoX2VuZERhdGEsIF9pKSB7XG5cdCAgICAgICAgICB2YXIgc3RhcnREYXRhID0gc3RhcnRWYXJzW19pXSB8fCAwO1xuXHQgICAgICAgICAgcmV0dXJuIChfZW5kRGF0YSAtIHN0YXJ0RGF0YSkgKiByYXRpbyArIHN0YXJ0RGF0YTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGRhdGEpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHRoaXMuc2V0QW5pbURhdGEodGhpcy50d2Vlbik7XG5cdH07XG5cdHAucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICB0aGlzLmRlZmF1bHREYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgIHZhciBpbml0VGltZSA9IGl0ZW0uaW5pdFRpbWU7XG5cdCAgICB2YXIgZHVyYXRpb24gPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoaXRlbS5kdXJhdGlvbik7XG5cdCAgICAvLyDlpITnkIYgeW95byDlkowgcmVwZWF0OyB5b3lvIOaYr+WcqOaXtumXtOi9tOS4iueahCwg5bm25LiN5piv5YCS5pS+XG5cdCAgICB2YXIgcmVwZWF0TnVtID0gTWF0aC5jZWlsKChfdGhpczYucHJvZ3Jlc3NUaW1lIC0gaW5pdFRpbWUpIC8gKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSkpIC0gMTtcblx0ICAgIHJlcGVhdE51bSA9IHJlcGVhdE51bSA8IDAgPyAwIDogcmVwZWF0TnVtO1xuXHQgICAgLy8gcmVwZWF0TnVtID0gdGhpcy5wcm9ncmVzc1RpbWUgPT09IDAgPyByZXBlYXROdW0gKyAxIDogcmVwZWF0TnVtO1xuXHQgICAgaWYgKGl0ZW0ucmVwZWF0KSB7XG5cdCAgICAgIGlmIChpdGVtLnJlcGVhdCA8IHJlcGVhdE51bSAmJiBpdGVtLnJlcGVhdCAhPT0gLTEpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGl0ZW0ucmVwZWF0IHx8IGl0ZW0ucmVwZWF0IDw9IHJlcGVhdE51bSkge1xuXHQgICAgICAgIGluaXRUaW1lID0gaW5pdFRpbWUgKyByZXBlYXROdW0gKiAoZHVyYXRpb24gKyBpdGVtLnJlcGVhdERlbGF5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDA7XG5cdCAgICB2YXIgZW5kRGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMCA6IDE7XG5cdCAgICAvLyAg57K+5bqm5o2f5aSx77yM5Y+q5Y+W5bCP5pWw54K55ZCOMTDkvY3jgIJcblx0ICAgIHZhciBwcm9ncmVzc1RpbWUgPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKTtcblx0ICAgIC8vIOiuvue9riBzdGFydFxuXHQgICAgdmFyIGRlbGF5ID0gaXRlbS5kZWxheSA+PSAwID8gaXRlbS5kZWxheSA6IC1pdGVtLmRlbGF5O1xuXHQgICAgdmFyIGZyb21EZWxheSA9IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gZGVsYXkgOiAwO1xuXHQgICAgaWYgKHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUgJiYgIV90aGlzNi5zdGFydFtpXSkge1xuXHQgICAgICBfdGhpczYuc3RhcnRbaV0gPSBfdGhpczYuZ2V0QW5pbVN0YXJ0RGF0YShpdGVtLnZhcnMpO1xuXHQgICAgICBpZiAoIV90aGlzNi5yZWdpc3RlciAmJiBwcm9ncmVzc1RpbWUgPD0gX3RoaXM2LnBlckZyYW1lKSB7XG5cdCAgICAgICAgX3RoaXM2LnJlZ2lzdGVyID0gdHJ1ZTtcblx0ICAgICAgICAvLyDlnKjlvIDlp4vot7PluKfml7bjgILjgIJbe3g6MTAwLHR5cGU6J2Zyb20nfSx7eTozMDB9Xe+8jOi3s+i/h+S6hmZyb23ml7YsIG1vbWVudCA9IDYwMCA9PiDpnIDopoHmiopmcm9t5ZCI5Zue5p2lXG5cdCAgICAgICAgLy8g5aaC5p6cIGR1cmF0aW9uIOWSjCBkZWxheSDpg73kuLogMO+8jCDliKTmlq3nlKhzZXQsIOebtOaOpeazqOWGjOaXtuWwsee7k+adnztcblx0ICAgICAgICB2YXIgcyA9IGRlbGF5ID8gMCA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG5cdCAgICAgICAgdmFyIHNzID0gZHVyYXRpb24gPyBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lIDwgMCA/IDAgOiBwcm9ncmVzc1RpbWUsIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pIDogcztcblx0ICAgICAgICB2YXIgc3QgPSBwcm9ncmVzc1RpbWUgLyAoZHVyYXRpb24gKyBmcm9tRGVsYXkpID4gMSA/IDEgOiBzcztcblx0ICAgICAgICBfdGhpczYuc2V0UmF0aW8oc3QsIGl0ZW0sIGkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgZSA9IHtcblx0ICAgICAgaW5kZXg6IGksXG5cdCAgICAgIHRhcmdldDogX3RoaXM2LnRhcmdldFxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBvblJlcGVhdCDlpITnkIZcblx0ICAgIGlmIChpdGVtLnJlcGVhdCAmJiByZXBlYXROdW0gPiAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+PSAwICYmIHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAvLyDph43mlrDlvIDlp4ssIOWcqOesrOS4gOenkuinpuWPkeaXtuiwg+eUqDtcblx0ICAgICAgaXRlbS5vblJlcGVhdChlKTtcblx0ICAgIH1cblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgPCAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgX3RoaXM2LnNldFJhdGlvKGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDAsIGl0ZW0sIGkpO1xuXHQgICAgfSBlbHNlIGlmIChwcm9ncmVzc1RpbWUgPj0gZHVyYXRpb24gJiYgaXRlbS5tb2RlICE9PSAnb25Db21wbGV0ZScpIHtcblx0ICAgICAgdmFyIGNvbXBSYXRpbyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKGR1cmF0aW9uLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhjb21wUmF0aW8sIGl0ZW0sIGkpO1xuXHQgICAgICBpZiAoaXRlbS5tb2RlICE9PSAncmVzZXQnKSB7XG5cdCAgICAgICAgaXRlbS5vbkNvbXBsZXRlKGUpO1xuXHQgICAgICB9XG5cdCAgICAgIGl0ZW0ubW9kZSA9ICdvbkNvbXBsZXRlJztcblx0ICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24pIHtcblx0ICAgICAgaXRlbS5tb2RlID0gcHJvZ3Jlc3NUaW1lIDwgX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYub25TdGFydFtpXSA/ICdvblN0YXJ0JyA6ICdvblVwZGF0ZSc7XG5cdCAgICAgIHByb2dyZXNzVGltZSA9IHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lO1xuXHQgICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPiBkdXJhdGlvbiA/IGR1cmF0aW9uIDogcHJvZ3Jlc3NUaW1lO1xuXHQgICAgICB2YXIgcmF0aW8gPSBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKTtcblx0ICAgICAgX3RoaXM2LnNldFJhdGlvKHJhdGlvLCBpdGVtLCBpKTtcblx0ICAgICAgX3RoaXM2Lm9uU3RhcnRbaV0gPSB0cnVlO1xuXHQgICAgICBpZiAocHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAgIGl0ZW0ub25TdGFydChlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpdGVtLm9uVXBkYXRlKF9leHRlbmRzKHsgcmF0aW86IHJhdGlvIH0sIGUpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBkdXJhdGlvbiArIF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICBfdGhpczYub25DaGFuZ2UoX2V4dGVuZHMoe1xuXHQgICAgICAgIG1vbWVudDogX3RoaXM2LnByb2dyZXNzVGltZSxcblx0ICAgICAgICBtb2RlOiBpdGVtLm1vZGVcblx0ICAgICAgfSwgZSkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXHQvLyDmkq3mlL7luKdcblx0cC5mcmFtZSA9IGZ1bmN0aW9uIChtb21lbnQpIHtcblx0ICB0aGlzLnByb2dyZXNzVGltZSA9IG1vbWVudDtcblx0ICB0aGlzLnJlbmRlcigpO1xuXHR9O1xuXHRwLnJlc2V0QW5pbURhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdGhpcy50d2VlbiA9IHt9O1xuXHQgIHRoaXMuc3RhcnQgPSB7fTtcblx0ICB0aGlzLm9uU3RhcnQgPSB7fTtcblx0fTtcblx0XG5cdHAucmVzZXREZWZhdWx0U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gdGhpcy5kZWZhdWx0RGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIGl0ZW0ubW9kZSA9ICdyZXNldCc7XG5cdCAgICByZXR1cm4gaXRlbTtcblx0ICB9KTtcblx0ICBPYmplY3Qua2V5cyh0aGlzLnN0YXJ0RGVmYXVsdERhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKCEoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkpIHtcblx0ICAgICAgX3RoaXM3LnRhcmdldC5zZXRBdHRyaWJ1dGUoa2V5LCBfdGhpczcuc3RhcnREZWZhdWx0RGF0YVtrZXldKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0XG5cdHAub25DaGFuZ2UgPSBub29wO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRpbWVMaW5lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTY0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0XG5cdHZhciBfVHdlZW5PbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHdlZW5PbmUpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgVHdlZW5PbmVHcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFR3ZWVuT25lR3JvdXAsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUd2Vlbk9uZUdyb3VwKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3ZWVuT25lR3JvdXApO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblx0XG5cdCAgICBfdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuXHQgICAgX3RoaXMua2V5c1RvTGVhdmUgPSBbXTtcblx0ICAgIF90aGlzLm9uRW50ZXJCb29sID0gZmFsc2U7XG5cdCAgICBfdGhpcy5pc1R3ZWVuID0ge307XG5cdCAgICAvLyDnrKzkuIDov5vlhaXvvIxhcHBlYXIg5Li6IHRydWUg5pe26buY6K6k55SoIGVudGVyIOaIliB0d2Vlbi1vbmUg5LiK55qE5pWI5p6cXG5cdCAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKSgoMCwgX3V0aWwuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMpKF90aGlzLnByb3BzKSk7XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHRoaXMub25FbnRlckJvb2wgPSB0cnVlO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG5leHRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICB2YXIgY3VycmVudENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG5cdCAgICB2YXIgbmV3Q2hpbGRyZW4gPSAoMCwgX3V0aWwubWVyZ2VDaGlsZHJlbikoY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pO1xuXHRcblx0ICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcblx0ICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcblx0ICAgIG5leHRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmICghYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gYy5rZXk7XG5cdCAgICAgIHZhciBoYXNQcmV2ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkoY3VycmVudENoaWxkcmVuLCBrZXkpO1xuXHQgICAgICBpZiAoIWhhc1ByZXYgJiYga2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLmtleXNUb0VudGVyLnB1c2goa2V5KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgY3VycmVudENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgaWYgKCFjKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSBjLmtleTtcblx0ICAgICAgdmFyIGhhc05leHQgPSAoMCwgX3V0aWwuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KShuZXh0Q2hpbGRyZW4sIGtleSk7XG5cdCAgICAgIGlmICghaGFzTmV4dCAmJiBrZXkpIHtcblx0ICAgICAgICBfdGhpczIua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBjaGlsZHJlblRvUmVuZGVyID0gdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuXHQgICAgaWYgKCF0aGlzLnByb3BzLmNvbXBvbmVudCkge1xuXHQgICAgICByZXR1cm4gY2hpbGRyZW5Ub1JlbmRlclswXSB8fCBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGNvbXBvbmVudFByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuXHQgICAgWydjb21wb25lbnQnLCAnYXBwZWFyJywgJ2VudGVyJywgJ2xlYXZlJywgJ2FuaW1hdGluZ0NsYXNzTmFtZScsICdvbkVuZCcsICdyZXNldFN0eWxlQm9vbCcsICd3aWxsQ2hhbmdlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiBkZWxldGUgY29tcG9uZW50UHJvcHNba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuICgwLCBfcmVhY3QuY3JlYXRlRWxlbWVudCkodGhpcy5wcm9wcy5jb21wb25lbnQsIGNvbXBvbmVudFByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVHdlZW5PbmVHcm91cDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcblx0ICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChhbmltYXRpb24sIGtleSwgdHlwZSwgb2JqKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gKDAsIF91dGlsLmRhdGFUb0FycmF5KShhbmltYXRpb24pLmxlbmd0aDtcblx0ICAgIHZhciBhbmltYXRpbmdDbGFzc05hbWUgPSBfdGhpczMucHJvcHMuYW5pbWF0aW5nQ2xhc3NOYW1lO1xuXHQgICAgdmFyIHRhZyA9IG9iai50YXJnZXQ7XG5cdCAgICB2YXIgaXNFbnRlciA9IHR5cGUgPT09ICdlbnRlcicgfHwgdHlwZSA9PT0gJ2FwcGVhcic7XG5cdCAgICBpZiAob2JqLm1vZGUgPT09ICdvblN0YXJ0Jykge1xuXHQgICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMSA6IDBdLCAnJykudHJpbSgpO1xuXHQgICAgICBpZiAodGFnLmNsYXNzTmFtZS5pbmRleE9mKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdKSA9PT0gLTEpIHtcblx0ICAgICAgICB0YWcuY2xhc3NOYW1lID0gKHRhZy5jbGFzc05hbWUgKyAnICcgKyBhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkudHJpbSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG9iai5pbmRleCA9PT0gbGVuZ3RoIC0gMSAmJiBvYmoubW9kZSA9PT0gJ29uQ29tcGxldGUnKSB7XG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbjtcblx0ICAgICAgaWYgKHR5cGUgPT09ICdlbnRlcicpIHtcblx0ICAgICAgICBfdGhpczMua2V5c1RvRW50ZXIuc3BsaWNlKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSksIDEpO1xuXHQgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsZWF2ZScpIHtcblx0ICAgICAgICBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgICAgICByZXR1cm4ga2V5ICE9PSBjaGlsZC5rZXk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3RoaXMzLmtleXNUb0xlYXZlLnNwbGljZShfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpLCAxKTtcblx0ICAgICAgfVxuXHQgICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdLCAnJykudHJpbSgpO1xuXHQgICAgICBkZWxldGUgX3RoaXMzLmlzVHdlZW5ba2V5XTtcblx0ICAgICAgX3RoaXMzLnNldFN0YXRlKHtcblx0ICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBfb2JqID0geyBrZXk6IGtleSwgdHlwZTogdHlwZSB9O1xuXHQgICAgICBfdGhpczMucHJvcHMub25FbmQoX29iaik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5nZXRDb3ZlckFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjaGlsZCwgaSwgdHlwZSkge1xuXHQgICAgdmFyIGFuaW1hdGlvbiA9IHZvaWQgMDtcblx0ICAgIHZhciBvbkNoYW5nZSA9IHZvaWQgMDtcblx0ICAgIGFuaW1hdGlvbiA9IHR5cGUgPT09ICdsZWF2ZScgPyBfdGhpczMucHJvcHMubGVhdmUgOiBfdGhpczMucHJvcHMuZW50ZXI7XG5cdCAgICBpZiAodHlwZSA9PT0gJ2FwcGVhcicpIHtcblx0ICAgICAgdmFyIGFwcGVhciA9ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKF90aGlzMy5wcm9wcy5hcHBlYXIsIGNoaWxkLmtleSwgaSk7XG5cdCAgICAgIGFuaW1hdGlvbiA9IGFwcGVhciAmJiBfdGhpczMucHJvcHMuZW50ZXIgfHwgbnVsbDtcblx0ICAgIH1cblx0ICAgIG9uQ2hhbmdlID0gX3RoaXMzLm9uQ2hhbmdlLmJpbmQoX3RoaXMzLCBhbmltYXRpb24sIGNoaWxkLmtleSwgdHlwZSk7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHtcblx0ICAgICAgd2lsbENoYW5nZTogX3RoaXMzLnByb3BzLndpbGxDaGFuZ2UsXG5cdCAgICAgIGtleTogY2hpbGQua2V5LFxuXHQgICAgICBjb21wb25lbnQ6IGNoaWxkLnR5cGUsXG5cdCAgICAgIGFuaW1hdGlvbjogKDAsIF91dGlsLnRyYW5zZm9ybUFyZ3VtZW50cykoYW5pbWF0aW9uLCBjaGlsZC5rZXksIGkpLFxuXHQgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG5cdCAgICAgIHJlc2V0U3R5bGVCb29sOiBfdGhpczMucHJvcHMucmVzZXRTdHlsZUJvb2xcblx0ICAgIH0pKTtcblx0ICAgIGlmIChfdGhpczMua2V5c1RvRW50ZXIuY29uY2F0KF90aGlzMy5rZXlzVG9MZWF2ZSkuaW5kZXhPZihjaGlsZC5rZXkpID49IDAgfHwgIV90aGlzMy5vbkVudGVyQm9vbCAmJiBhbmltYXRpb24pIHtcblx0ICAgICAgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSA9IHR5cGU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY2hpbGRyZW47XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG5cdCAgICByZXR1cm4gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuXHQgICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5rZXkpIHtcblx0ICAgICAgICByZXR1cm4gY2hpbGQ7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcblx0ICAgICAgaWYgKF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdsZWF2ZScpO1xuXHQgICAgICB9IGVsc2UgaWYgKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSkgPj0gMCB8fCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldICYmIF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2VudGVyJyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5vbkVudGVyQm9vbCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdhcHBlYXInKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0pIHx8IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1R3ZWVuT25lMltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHt9LCBjaGlsZC5wcm9wcywgeyBjb21wb25lbnQ6IGNoaWxkLnR5cGUsIGtleTogY2hpbGQua2V5IH0pKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cdFxuXHR2YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXHR2YXIgb2JqZWN0T3JBcnJheU9yRnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtvYmplY3RPckFycmF5LCBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNdKTtcblx0XG5cdFR3ZWVuT25lR3JvdXAucHJvcFR5cGVzID0ge1xuXHQgIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBhcHBlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBlbnRlcjogb2JqZWN0T3JBcnJheU9yRnVuYyxcblx0ICBsZWF2ZTogb2JqZWN0T3JBcnJheU9yRnVuYyxcblx0ICBhbmltYXRpbmdDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgb25FbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcmVzZXRTdHlsZUJvb2w6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHR9O1xuXHRcblx0VHdlZW5PbmVHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgY29tcG9uZW50OiAnZGl2Jyxcblx0ICBhcHBlYXI6IHRydWUsXG5cdCAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBbJ3R3ZWVuLW9uZS1lbnRlcmluZycsICd0d2Vlbi1vbmUtbGVhdmluZyddLFxuXHQgIGVudGVyOiB7IHg6IDUwLCBvcGFjaXR5OiAwLCB0eXBlOiAnZnJvbScgfSxcblx0ICBsZWF2ZTogeyB4OiAtNTAsIG9wYWNpdHk6IDAgfSxcblx0ICBvbkVuZDogbm9vcCxcblx0ICB3aWxsQ2hhbmdlOiB0cnVlLFxuXHQgIHJlc2V0U3R5bGVCb29sOiB0cnVlXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmVHcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBUd2Vlbk9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXHRUd2Vlbk9uZS5Ud2Vlbk9uZUdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRUd2Vlbk9uZS5lYXNpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBUd2Vlbk9uZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTY2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzLCBuby1jb25zb2xlICovXG5cdFxuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX3N0eWxlVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3R5bGVVdGlscyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfcGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU3R5bGVQbHVnaW4gPSBmdW5jdGlvbiBTdHlsZVBsdWdpbih0YXJnZXQsIHZhcnMsIHR5cGUpIHtcblx0ICB0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0ICB0aGlzLnZhcnMgPSB2YXJzO1xuXHQgIHRoaXMudHlwZSA9IHR5cGU7XG5cdCAgdGhpcy5wcm9wc0RhdGEgPSB7fTtcblx0ICB0aGlzLnNldERlZmF1bHREYXRhKCk7XG5cdH07XG5cdHZhciBwID0gU3R5bGVQbHVnaW4ucHJvdG90eXBlID0ge1xuXHQgIG5hbWU6ICdzdHlsZSdcblx0fTtcblx0cC5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyA/IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy50YXJnZXQpIDoge307XG5cdH07XG5cdHAuZ2V0VHdlZW5EYXRhID0gZnVuY3Rpb24gKGtleSwgdmFycykge1xuXHQgIHZhciBkYXRhID0ge1xuXHQgICAgZGF0YToge30sXG5cdCAgICBkYXRhVHlwZToge30sXG5cdCAgICBkYXRhVW5pdDoge30sXG5cdCAgICBkYXRhQ291bnQ6IHt9LFxuXHQgICAgZGF0YVNwbGl0U3RyOiB7fVxuXHQgIH07XG5cdCAgaWYgKGtleS5tYXRjaCgvY29sb3xmaWxsfHN0b3JrZXIvaSkpIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHZhcnMpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ2NvbG9yJztcblx0ICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykodmFycyk7XG5cdCAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc2hhZG93Jztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB2YXJzID09PSAnc3RyaW5nJyAmJiB2YXJzLnNwbGl0KC9bXFxzfCxdLykubGVuZ3RoID4gMSkge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzLnNwbGl0KC9bXFxzfCxdLyk7XG5cdCAgICBkYXRhLmRhdGFTcGxpdFN0cltrZXldID0gdmFycy5yZXBsYWNlKC9bXlxcc3wsXS9nLCAnJyk7XG5cdCAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc3RyaW5nJztcblx0ICB9IGVsc2Uge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ290aGVyJztcblx0ICB9XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5kYXRhW2tleV0pKSB7XG5cdCAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgIH0pO1xuXHQgICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcblx0ICAgICAgcmV0dXJuIF9pdGVtLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZGF0YS5kYXRhW2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiAhcGFyc2VGbG9hdChfaXRlbSkgJiYgcGFyc2VGbG9hdChfaXRlbSkgIT09IDAgPyBfaXRlbSA6IHBhcnNlRmxvYXQoX2l0ZW0pO1xuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGRhdGEuZGF0YVVuaXRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgdmFyIGQgPSBwYXJzZUZsb2F0KGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW2EtenwlfD1dL2csICcnKSk7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICFkICYmIGQgIT09IDAgPyBkYXRhLmRhdGFba2V5XSA6IGQ7XG5cdCAgfVxuXHQgIHJldHVybiBkYXRhO1xuXHR9O1xuXHRwLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGEgPSB7fTtcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhVHlwZSA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFVbml0ID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50ID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyID0ge307XG5cdCAgT2JqZWN0LmtleXModGhpcy52YXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW19rZXldID0gbmV3IF9wbHVnaW5zMltcImRlZmF1bHRcIl1bX2tleV0oX3RoaXMudGFyZ2V0LCBfdGhpcy52YXJzW19rZXldKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGtleSA9ICgwLCBfc3R5bGVVdGlscy5nZXRHc2FwVHlwZSkoX2tleSk7XG5cdCAgICB2YXIgX2RhdGEgPSBfdGhpcy5nZXRUd2VlbkRhdGEoa2V5LCBfdGhpcy52YXJzW19rZXldKTtcblx0ICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW2tleV0gPSBfZGF0YS5kYXRhW2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XSA9IF9kYXRhLmRhdGFUeXBlW2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XSA9IF9kYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV0gPSBfZGF0YS5kYXRhQ291bnRba2V5XTtcblx0ICAgIGlmIChfZGF0YS5kYXRhU3BsaXRTdHJba2V5XSkge1xuXHQgICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0gPSBfZGF0YS5kYXRhU3BsaXRTdHJba2V5XTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0cC5jb252ZXJ0VG9NYXJrc0FycmF5ID0gZnVuY3Rpb24gKHVuaXQsIGtleSwgZGF0YSwgaSkge1xuXHQgIHZhciBzdGFydFVuaXQgPSBkYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgIHZhciBlbmRVbml0ID0gdW5pdFtpXTtcblx0ICBpZiAoc3RhcnRVbml0ID09PSBlbmRVbml0KSB7XG5cdCAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKTtcblx0ICB9IGVsc2UgaWYgKCFwYXJzZUZsb2F0KGRhdGEpICYmIHBhcnNlRmxvYXQoZGF0YSkgIT09IDApIHtcblx0ICAgIHJldHVybiBkYXRhO1xuXHQgIH1cblx0ICByZXR1cm4gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkodGhpcy50YXJnZXQsIGtleSwgZGF0YSwgc3RhcnRVbml0LCBlbmRVbml0LCBudWxsLCBrZXkgPT09ICd0cmFuc2Zvcm1PcmlnaW4nICYmICFpKTtcblx0fTtcblx0cC5nZXRBbmltU3RhcnQgPSBmdW5jdGlvbiAod2lsbENoYW5nZUJvb2wpIHtcblx0ICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgdmFyIGNvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTtcblx0ICB2YXIgc3R5bGUgPSB7fTtcblx0ICB0aGlzLnN1cHBvcnRzM0QgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdwZXJzcGVjdGl2ZScpO1xuXHQgIHZhciB3aWxsQ2hhbmdlQXJyYXkgPSB2b2lkIDA7XG5cdCAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgICB0aGlzLndpbGxDaGFuZ2UgPSBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdhdXRvJyB8fCAhY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlIHx8IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSA9PT0gJ25vbmUnID8gJycgOiBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2U7XG5cdCAgICB3aWxsQ2hhbmdlQXJyYXkgPSB0aGlzLndpbGxDaGFuZ2Uuc3BsaXQoJywnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcblx0ICAgICAgcmV0dXJuIGs7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgY3NzTmFtZSA9ICgwLCBfc3R5bGVVdGlscy5pc0NvbnZlcnQpKGtleSk7XG5cdCAgICBpZiAod2lsbENoYW5nZUJvb2wpIHtcblx0ICAgICAgdmFyIHdpbGxTdHlsZSA9IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdID8gX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0udXNlU3R5bGUgfHwgY3NzTmFtZSA6IGNzc05hbWU7XG5cdCAgICAgIHdpbGxTdHlsZSA9IHdpbGxTdHlsZSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgPyAndHJhbnNmb3JtLW9yaWdpbicgOiB3aWxsU3R5bGU7XG5cdCAgICAgIGlmICh3aWxsQ2hhbmdlQXJyYXkuaW5kZXhPZih3aWxsU3R5bGUpID09PSAtMSAmJiAod2lsbFN0eWxlIGluIGNvbXB1dGVkU3R5bGUgfHwga2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pKSB7XG5cdCAgICAgICAgd2lsbENoYW5nZUFycmF5LnB1c2god2lsbFN0eWxlKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczIud2lsbENoYW5nZSA9IHdpbGxDaGFuZ2VBcnJheS5qb2luKCcsJyk7XG5cdCAgICB9XG5cdCAgICB2YXIgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtjc3NOYW1lXTtcblx0ICAgIHZhciBmaXhlZCA9IGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCc7XG5cdCAgICBpZiAoIXN0YXJ0RGF0YSB8fCBzdGFydERhdGEgPT09ICdub25lJyB8fCBzdGFydERhdGEgPT09ICdhdXRvJykge1xuXHQgICAgICBzdGFydERhdGEgPSAnJztcblx0ICAgIH1cblx0ICAgIHZhciB0cmFuc2Zvcm0gPSB2b2lkIDA7XG5cdCAgICB2YXIgZW5kVW5pdCA9IHZvaWQgMDtcblx0ICAgIHZhciBzdGFydFVuaXQgPSB2b2lkIDA7XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcblx0ICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcblx0ICAgICAgICBfdGhpczIudHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgndHJhbnNmb3JtJyk7XG5cdCAgICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcblx0ICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XS5nZXRBbmltU3RhcnQoKTtcblx0ICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcblx0ICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuXHQgICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi50cmFuc2Zvcm1dO1xuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgICB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcblx0ICAgICAgaWYgKGVuZFVuaXQgJiYgZW5kVW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcblx0ICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG5cdCAgICAgICAgdHJhbnNmb3JtW3BlcmNlbnRdID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwga2V5LCB0cmFuc2Zvcm1ba2V5XSwgbnVsbCwgZW5kVW5pdCk7XG5cdCAgICAgICAgdHJhbnNmb3JtW2tleV0gPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblx0ICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ2ZpbHRlcicpIHtcblx0ICAgICAgX3RoaXMyLmZpbHRlck5hbWUgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdmaWx0ZXInKSB8fCAnZmlsdGVyJztcblx0ICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIuZmlsdGVyTmFtZV07XG5cdCAgICAgIF90aGlzMi5maWx0ZXJPYmplY3QgPSBfZXh0ZW5kcyh7fSwgX3RoaXMyLmZpbHRlck9iamVjdCwgKDAsIF9zdHlsZVV0aWxzLnNwbGl0RmlsdGVyVG9PYmplY3QpKHN0YXJ0RGF0YSkpO1xuXHQgICAgICBzdGFydERhdGEgPSBfdGhpczIuZmlsdGVyT2JqZWN0W2tleV0gfHwgMDtcblx0ICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG5cdCAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtrZXldID0gcGFyc2VGbG9hdChzdGFydERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL2NvbG9yfGZpbGwvaSkgfHwga2V5ID09PSAnc3Ryb2tlJykge1xuXHQgICAgICBzdGFydERhdGEgPSAhc3RhcnREYXRhICYmIGtleSA9PT0gJ3N0cm9rZScgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScgOiBzdGFydERhdGE7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHN0YXJ0RGF0YSk7XG5cdCAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG5cdCAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykoc3RhcnREYXRhKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldKSkge1xuXHQgICAgICBzdGFydERhdGEgPSBzdGFydERhdGEuc3BsaXQoL1tcXHN8LF0vKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8g6K6h566X5Y2V5L2NXG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2Nzc05hbWVdO1xuXHQgICAgICBzdGFydFVuaXQgPSBzdGFydERhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgIGlmIChlbmRVbml0ICE9PSBzdGFydFVuaXQpIHtcblx0ICAgICAgICBzdGFydERhdGEgPSAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczIudGFyZ2V0LCBjc3NOYW1lLCBwYXJzZUZsb2F0KHN0YXJ0RGF0YSksIHN0YXJ0VW5pdCwgZW5kVW5pdCwgZml4ZWQpO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gcGFyc2VGbG9hdChzdGFydERhdGEgfHwgMCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgdGhpcy5zdGFydCA9IHN0eWxlO1xuXHQgIHJldHVybiBzdHlsZTtcblx0fTtcblx0cC5zZXRBcnJheVJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBzdGFydCwgdmFycywgdW5pdCwgdHlwZSkge1xuXHQgIGlmICh0eXBlID09PSAnY29sb3InICYmIHN0YXJ0Lmxlbmd0aCA9PT0gNCAmJiB2YXJzLmxlbmd0aCA9PT0gMykge1xuXHQgICAgdmFyc1szXSA9IDE7XG5cdCAgfVxuXHQgIHZhciBzdGFydEluc2V0ID0gc3RhcnQuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuXHQgIHZhciBlbmRJbnNldCA9IHZhcnMuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuXHQgIGlmIChzdGFydEluc2V0ICYmICFlbmRJbnNldCB8fCBlbmRJbnNldCAmJiAhc3RhcnRJbnNldCkge1xuXHQgICAgdGhyb3cgY29uc29sZS5lcnJvcignRXJyb3I6IFwiYm94LXNoYWRvd1wiIGluc2V0IGhhdmUgdG8gZXhpc3QnKTtcblx0ICB9XG5cdCAgdmFyIGxlbmd0aCA9IGVuZEluc2V0ID8gOSA6IDg7XG5cdCAgaWYgKHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoICYmIHZhcnMubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG5cdCAgICB2YXJzLnNwbGljZSgzLCAwLCAwKTtcblx0ICAgIHVuaXQuc3BsaWNlKDMsIDAsICcnKTtcblx0ICB9IGVsc2UgaWYgKHZhcnMubGVuZ3RoID09PSBsZW5ndGggJiYgc3RhcnQubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG5cdCAgICBzdGFydC5zcGxpY2UoMywgMCwgMCk7XG5cdCAgfVxuXHQgIHZhciBfdmFycyA9IHZhcnMubWFwKGZ1bmN0aW9uIChlbmREYXRhLCBpKSB7XG5cdCAgICB2YXIgc3RhcnRJc0FscGhhID0gdHlwZSA9PT0gJ2NvbG9yJyAmJiBpID09PSAzICYmICFzdGFydFtpXSA/IDEgOiAwO1xuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IHR5cGVvZiBzdGFydFtpXSA9PT0gJ251bWJlcicgPyBzdGFydFtpXSA6IHN0YXJ0SXNBbHBoYTtcblx0ICAgIGlmICh0eXBlb2YgZW5kRGF0YSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgcmV0dXJuIGVuZERhdGE7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKGVuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGEgKyAodW5pdFtpXSB8fCAwKTtcblx0ICB9KTtcblx0ICBpZiAodHlwZSA9PT0gJ2NvbG9yJykge1xuXHQgICAgcmV0dXJuICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoX3ZhcnMpO1xuXHQgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NoYWRvdycpIHtcblx0ICAgIHZhciBsID0gX3ZhcnMubGVuZ3RoID09PSBsZW5ndGggPyA0IDogMztcblx0ICAgIHZhciBzID0gX3ZhcnMuc2xpY2UoMCwgbCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICByZXR1cm4gaXRlbSArICdweCc7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGl0ZW07XG5cdCAgICB9KTtcblx0ICAgIHZhciBjID0gX3ZhcnMuc2xpY2UobCwgZW5kSW5zZXQgPyBfdmFycy5sZW5ndGggLSAxIDogX3ZhcnMubGVuZ3RoKTtcblx0ICAgIHZhciBjb2xvciA9ICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoYyk7XG5cdCAgICByZXR1cm4gKHMuam9pbignICcpICsgJyAnICsgY29sb3IgKyAnICcgKyAoZW5kSW5zZXQgPyAnaW5zZXQnIDogJycpKS50cmltKCk7XG5cdCAgfVxuXHQgIHJldHVybiBfdmFycztcblx0fTtcblx0XG5cdHAuc2V0UmF0aW8gPSBmdW5jdGlvbiAocmF0aW8sIHR3ZWVuKSB7XG5cdCAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgIHR3ZWVuLnN0eWxlID0gdHdlZW4uc3R5bGUgfHwge307XG5cdCAgaWYgKHRoaXMuc3RhcnQudHJhbnNmb3JtKSB7XG5cdCAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gPSB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gfHwgX2V4dGVuZHMoe30sIHRoaXMuc3RhcnQudHJhbnNmb3JtKTtcblx0ICB9XG5cdCAgdmFyIHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG5cdCAgaWYgKHRoaXMud2lsbENoYW5nZSkge1xuXHQgICAgaWYgKHJhdGlvID09PSAodGhpcy50eXBlID09PSAnZnJvbScgPyAwIDogMSkpIHtcblx0ICAgICAgc3R5bGUud2lsbENoYW5nZSA9IG51bGw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdHlsZS53aWxsQ2hhbmdlID0gdGhpcy53aWxsQ2hhbmdlO1xuXHQgICAgfVxuXHQgIH1cblx0ICBPYmplY3Qua2V5cyh0aGlzLnByb3BzRGF0YS5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHZhciBfaXNUcmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuaXNUcmFuc2Zvcm0pKGtleSkgPT09ICd0cmFuc2Zvcm0nO1xuXHQgICAgdmFyIHN0YXJ0VmFycyA9IF9pc1RyYW5zZm9ybSA/IF90aGlzMy5zdGFydC50cmFuc2Zvcm1ba2V5XSA6IF90aGlzMy5zdGFydFtrZXldO1xuXHQgICAgdmFyIGVuZFZhcnMgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XTtcblx0ICAgIHZhciB1bml0ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgdmFyIGNvdW50ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhQ291bnRba2V5XTtcblx0ICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XS5zZXRSYXRpbyhyYXRpbywgdHdlZW4pO1xuXHQgICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuXHQgICAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBPYmplY3Qua2V5cyh0d2Vlbi5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoY3NzKSB7XG5cdCAgICAgICAgICByZXR1cm4gc3R5bGVbY3NzXSA9IHR3ZWVuLnN0eWxlW2Nzc107XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSBlbHNlIGlmIChfaXNUcmFuc2Zvcm0pIHtcblx0ICAgICAgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcblx0ICAgICAgICB2YXIgcE5hbWUgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuXHQgICAgICAgIHN0YXJ0VmFycyA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm1bcE5hbWVdO1xuXHQgICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW3BOYW1lXSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbyArIHVuaXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIHVuaXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NjYWxlJykge1xuXHQgICAgICAgIHZhciB4U3RhcnQgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtLnNjYWxlWDtcblx0ICAgICAgICB2YXIgeVN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVk7XG5cdCAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVYID0geFN0YXJ0ICsgZW5kVmFycyAqIHJhdGlvO1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IHlTdGFydCArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IChlbmRWYXJzIC0geFN0YXJ0KSAqIHJhdGlvICsgeFN0YXJ0O1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IChlbmRWYXJzIC0geVN0YXJ0KSAqIHJhdGlvICsgeVN0YXJ0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVuZFZhcnMpKSB7XG5cdCAgICAgIHZhciBfdHlwZSA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XTtcblx0ICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IF90aGlzMy5zZXRBcnJheVJhdGlvKHJhdGlvLCBzdGFydFZhcnMsIGVuZFZhcnMsIHVuaXQsIF90eXBlKTtcblx0ICAgICAgaWYgKF90eXBlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldLmpvaW4oX3RoaXMzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHJba2V5XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBzdHlsZVVuaXQgPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgMCk7XG5cdCAgICAgIHN0eWxlVW5pdCA9IHR5cGVvZiBzdHlsZVVuaXQgPT09ICdudW1iZXInID8gJycgOiBzdHlsZVVuaXQucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICB1bml0ID0gdW5pdCB8fCAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDAgPyAnJyA6IHN0eWxlVW5pdCk7XG5cdCAgICAgIGlmICh0eXBlb2YgZW5kVmFycyA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gZW5kVmFycztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG5cdCAgICAgIGlmICghX3RoaXMzLmZpbHRlck9iamVjdCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczMuZmlsdGVyT2JqZWN0W2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuXHQgICAgICB2YXIgZmlsdGVyU3R5bGUgPSAnJztcblx0ICAgICAgT2JqZWN0LmtleXMoX3RoaXMzLmZpbHRlck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyS2V5KSB7XG5cdCAgICAgICAgZmlsdGVyU3R5bGUgKz0gJyAnICsgZmlsdGVyS2V5ICsgJygnICsgX3RoaXMzLmZpbHRlck9iamVjdFtmaWx0ZXJLZXldICsgJyknO1xuXHQgICAgICB9KTtcblx0ICAgICAgc3R5bGVbX3RoaXMzLmZpbHRlck5hbWVdID0gZmlsdGVyU3R5bGUudHJpbSgpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBzdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcblx0ICB9KTtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTdHlsZVBsdWdpbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yYWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcblx0XG5cdHZhciBfcmFmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBUaWNrZXIgPSBmdW5jdGlvbiBUaWNrZXIoKSB7fTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXHRcblx0XG5cdHZhciBwID0gVGlja2VyLnByb3RvdHlwZSA9IHtcblx0ICB0aWNrRm5PYmplY3Q6IHt9LFxuXHQgIGlkOiAtMSxcblx0ICB0d2VlbklkOiAwLFxuXHQgIGZyYW1lOiAwLFxuXHQgIHBlckZyYW1lOiBNYXRoLnJvdW5kKDEwMDAgLyA2MCksXG5cdCAgZ2V0VGltZTogRGF0ZS5ub3cgfHwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgIH0sXG5cdCAgZWxhcHNlZDogMCxcblx0ICBsYXN0VXBkYXRlOiAwLFxuXHQgIHNraXBGcmFtZU1heDogMTY2XG5cdH07XG5cdHAuYWRkID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgdmFyIGtleSA9ICd0d2Vlbk9uZScgKyB0aGlzLnR3ZWVuSWQ7XG5cdCAgdGhpcy50d2VlbklkKys7XG5cdCAgdGhpcy53YWtlKGtleSwgZm4pO1xuXHQgIHJldHVybiBrZXk7XG5cdH07XG5cdHAud2FrZSA9IGZ1bmN0aW9uIChrZXksIGZuKSB7XG5cdCAgdGhpcy50aWNrRm5PYmplY3Rba2V5XSA9IGZuO1xuXHQgIGlmICh0aGlzLmlkID09PSAtMSkge1xuXHQgICAgdGhpcy5pZCA9ICgwLCBfcmFmMltcImRlZmF1bHRcIl0pKHRoaXMudGljayk7XG5cdCAgfVxuXHR9O1xuXHRwLmNsZWFyID0gZnVuY3Rpb24gKGtleSkge1xuXHQgIGRlbGV0ZSB0aGlzLnRpY2tGbk9iamVjdFtrZXldO1xuXHR9O1xuXHRwLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuXHQgIF9yYWYyW1wiZGVmYXVsdFwiXS5jYW5jZWwodGhpcy5pZCk7XG5cdCAgdGhpcy5pZCA9IC0xO1xuXHQgIHRoaXMuZnJhbWUgPSAwO1xuXHR9O1xuXHR2YXIgdGlja2VyID0gbmV3IFRpY2tlcigpO1xuXHRwLnRpY2sgPSBmdW5jdGlvbiAoYSkge1xuXHQgIHRpY2tlci5lbGFwc2VkID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIuZ2V0VGltZSgpIC0gdGlja2VyLmxhc3RVcGRhdGUgOiAwO1xuXHQgIHRpY2tlci5sYXN0VXBkYXRlID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIubGFzdFVwZGF0ZSArIHRpY2tlci5lbGFwc2VkIDogdGlja2VyLmdldFRpbWUoKSArIHRpY2tlci5lbGFwc2VkO1xuXHQgIHZhciBvYmogPSB0aWNrZXIudGlja0ZuT2JqZWN0O1xuXHQgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAob2JqW2tleV0pIHtcblx0ICAgICAgb2JqW2tleV0oYSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgLy8g5aaC5p6cIG9iamVjdCDph4zmsqHlr7nosaHkuobvvIzoh6rliqjmnYDmjonvvJtcblx0ICBpZiAoIU9iamVjdC5rZXlzKG9iaikubGVuZ3RoKSB7XG5cdCAgICB0aWNrZXIuc2xlZXAoKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgaWYgKHRpY2tlci5lbGFwc2VkID4gdGlja2VyLnNraXBGcmFtZU1heCB8fCAhdGlja2VyLmZyYW1lKSB7XG5cdCAgICB0aWNrZXIuZnJhbWUrKztcblx0ICB9IGVsc2Uge1xuXHQgICAgdGlja2VyLmZyYW1lICs9IE1hdGgucm91bmQodGlja2VyLmVsYXBzZWQgLyB0aWNrZXIucGVyRnJhbWUpO1xuXHQgIH1cblx0ICB0aWNrZXIuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aWNrZXIudGljayk7XG5cdH07XG5cdHZhciB0aW1lb3V0SWROdW1iZXIgPSAwO1xuXHRwLnRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICBpZiAoISh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICByZXR1cm4gY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgfVxuXHQgIHZhciB0aW1lb3V0SUQgPSAndGltZW91dCcgKyBEYXRlLm5vdygpICsgJy0nICsgdGltZW91dElkTnVtYmVyO1xuXHQgIHZhciBzdGFydEZyYW1lID0gdGhpcy5mcmFtZTtcblx0ICB0aGlzLndha2UodGltZW91dElELCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbW9tZW50ID0gKF90aGlzLmZyYW1lIC0gc3RhcnRGcmFtZSkgKiBfdGhpcy5wZXJGcmFtZTtcblx0ICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcblx0ICAgICAgX3RoaXMuY2xlYXIodGltZW91dElEKTtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICB0aW1lb3V0SWROdW1iZXIrKztcblx0ICByZXR1cm4gdGltZW91dElEO1xuXHR9O1xuXHR2YXIgaW50ZXJ2YWxJZE51bWJlciA9IDA7XG5cdHAuaW50ZXJ2YWwgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcblx0ICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdCAgdmFyIGludGVydmFsSUQgPSAnaW50ZXJ2YWwnICsgRGF0ZS5ub3coKSArICctJyArIGludGVydmFsSWROdW1iZXI7XG5cdCAgdmFyIHN0YXJGcmFtZSA9IHRoaXMuZnJhbWU7XG5cdCAgdGhpcy53YWtlKGludGVydmFsSUQsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBtb21lbnQgPSAoX3RoaXMyLmZyYW1lIC0gc3RhckZyYW1lKSAqIF90aGlzMi5wZXJGcmFtZTtcblx0ICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcblx0ICAgICAgc3RhckZyYW1lID0gX3RoaXMyLmZyYW1lO1xuXHQgICAgICBmbigpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGludGVydmFsSWROdW1iZXIrKztcblx0ICByZXR1cm4gaW50ZXJ2YWxJRDtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aWNrZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyB0OiBjdXJyZW50IHRpbWUsIGI6IGJlZ2lubmluZyB2YWx1ZSwgX2M6IGZpbmFsIHZhbHVlLCBkOiB0b3RhbCBkdXJhdGlvblxuXHR2YXIgdHdlZW5GdW5jdGlvbnMgPSB7XG5cdCAgbGluZWFyOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluRXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuICh0PT0wKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodC9kIC0gMSkpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gKHQ9PWQpID8gYitjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdC9kKSArIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfVxuXHQgICAgaWYgKHQgPT09IGQpIHtcblx0ICAgICAgcmV0dXJuIGIgKyBjO1xuXHQgICAgfVxuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5DaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dENpcmM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICghcCkge1xuXHQgICAgICBwID0gZCAqIDAuMztcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICghcCkge1xuXHQgICAgICBwID0gZCAqIDAuMztcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQgLyAyKSA9PT0gMikge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICBpZiAodCA8IDEpIHtcblx0ICAgICAgcmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBjICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmIChzID09PSB2b2lkIDApIHtcblx0ICAgICAgcyA9IDEuNzAxNTg7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG5cdCAgICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuXHQgICAgICBzID0gMS43MDE1ODtcblx0ICAgIH1cblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCArIHMpICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgdjtcblx0ICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKTtcblx0ICAgIHJldHVybiBjIC0gdiArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuXHQgICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgMC43NSkgKyBiO1xuXHQgICAgfSBlbHNlIGlmICh0IDwgMi41IC8gMi43NSkge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgMC45Mzc1KSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIDAuOTg0Mzc1KSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciB2O1xuXHQgICAgaWYgKHQgPCBkIC8gMikge1xuXHQgICAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZUluQm91bmNlKHQgKiAyLCAwLCBjLCBkKTtcblx0ICAgICAgcmV0dXJuIHYgKiAwLjUgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKTtcblx0ICAgICAgcmV0dXJuIHYgKiAwLjUgKyBjICogMC41ICsgYjtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHR3ZWVuRnVuY3Rpb25zO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsndXNlIHN0cmljdCc7XG5cdC8qICFcblx0ICogdHlwZS1kZXRlY3Rcblx0ICogQ29weXJpZ2h0KGMpIDIwMTMgamFrZSBsdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG5cdCAqIE1JVCBMaWNlbnNlZFxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZU9mRXhpc3RzID0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHByb21pc2VFeGlzdHMgPSB0eXBlb2YgUHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiBzZWxmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdHZhciBpc0RvbSA9ICdsb2NhdGlvbicgaW4gZ2xvYmFsT2JqZWN0ICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsT2JqZWN0O1xuXHR2YXIgaHRtbEVsZW1lbnRFeGlzdHMgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgaXNBcnJheUV4aXN0cyA9IHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgc3ltYm9sRXhpc3RzID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBtYXBFeGlzdHMgPSB0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHNldEV4aXN0cyA9IHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgd2Vha01hcEV4aXN0cyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHdlYWtTZXRFeGlzdHMgPSB0eXBlb2YgV2Vha1NldCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBkYXRhVmlld0V4aXN0cyA9IHR5cGVvZiBEYXRhVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzeW1ib2xJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzID0gc3ltYm9sRXhpc3RzICYmIHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgc2V0RW50cmllc0V4aXN0cyA9IHNldEV4aXN0cyAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgbWFwRW50cmllc0V4aXN0cyA9IG1hcEV4aXN0cyAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgc2V0SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZkV4aXN0cyAmJiBzZXRFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgU2V0KCkuZW50cmllcygpKTtcblx0dmFyIG1hcEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgbWFwRW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IE1hcCgpLmVudHJpZXMoKSk7XG5cdHZhciBhcnJheUl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgYXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdHZhciBzdHJpbmdJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlID0gc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdHZhciB0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCA9IDg7XG5cdHZhciB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGggPSAtMTtcblx0LyoqXG5cdCAqICMjIyB0eXBlT2YgKG9iailcblx0ICpcblx0ICogVXNlcyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGFuIG9iamVjdCxcblx0ICogbm9ybWFsaXNpbmcgYmVoYXZpb3VyIGFjcm9zcyBlbmdpbmUgdmVyc2lvbnMgJiB3ZWxsIG9wdGltaXNlZC5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG5cdCAqIEByZXR1cm4ge1N0cmluZ30gb2JqZWN0IHR5cGVcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHlwZURldGVjdChvYmopIHtcblx0ICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAqIFByZTpcblx0ICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDMsMDM5LDAzNSBvcHMvc2VjIMKxMS42MiUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDEsNDI0LDEzOCBvcHMvc2VjIMKxNC41NCUgKDc1IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDEsNjUzLDE1MyBvcHMvc2VjIMKxMS45MSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDksOTc4LDY2MCBvcHMvc2VjIMKxMS45MiUgKDc1IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDIsNTU2LDc2OSBvcHMvc2VjIMKxMS43MyUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgKiBQb3N0OlxuXHQgICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMzgsNTY0LDc5NiBvcHMvc2VjIMKxMS4xNSUgKDc5IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDMxLDE0OCw5NDAgb3BzL3NlYyDCsTEuMTAlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAzMiw2NzksMzMwIG9wcy9zZWMgwrExLjkwJSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggMzIsMzYzLDM2OCBvcHMvc2VjIMKxMS4wNyUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDMxLDI5Niw4NzAgb3BzL3NlYyDCsTAuOTYlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgdmFyIHR5cGVvZk9iaiA9IHR5cGVvZiBvYmo7XG5cdCAgaWYgKHR5cGVvZk9iaiAhPT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiB0eXBlb2ZPYmo7XG5cdCAgfVxuXHRcblx0ICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAqIFByZTpcblx0ICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDI4LDY0NSw3NjUgb3BzL3NlYyDCsTEuMTclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDM2LDQyOCw5NjIgb3BzL3NlYyDCsTEuMzclICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgaWYgKG9iaiA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KWBgXG5cdCAgICogIC0gTm9kZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBQaGFudG9tSlMgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuXHQgICAqICAtIElFIEVkZ2UgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpYGBcblx0ICAgKiAgLSBDaHJvbWUgV29ya2VyID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG5cdCAgICogIC0gRmlyZWZveCBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIFNhZmFyaSBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIElFIDExIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG5cdCAgICogIC0gSUUgRWRnZSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqL1xuXHQgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdCkge1xuXHQgICAgcmV0dXJuICdnbG9iYWwnO1xuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyLDg4OCwzNTIgb3BzL3NlYyDCsTAuNjclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIyLDQ3OSw2NTAgb3BzL3NlYyDCsTAuOTYlICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgaWYgKGlzQXJyYXlFeGlzdHMgJiYgQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdCAgICByZXR1cm4gJ0FycmF5Jztcblx0ICB9XG5cdFxuXHQgIGlmIChpc0RvbSkge1xuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvYnJvd3NlcnMuaHRtbCNsb2NhdGlvbilcblx0ICAgICAqIFdoYXRXRyBIVE1MJDcuNy4zIC0gVGhlIGBMb2NhdGlvbmAgaW50ZXJmYWNlXG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5sb2NhdGlvbilgYFxuXHQgICAgICogIC0gSUUgPD0xMSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5sb2NhdGlvbikge1xuXHQgICAgICByZXR1cm4gJ0xvY2F0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNkb2N1bWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDMuMS4xIC0gVGhlIGBEb2N1bWVudGAgb2JqZWN0XG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtMjY4MDkyNjgpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqICAgICAgIFdoYXRXRyBIVE1MIHN0YXRlczpcblx0ICAgICAqICAgICAgICAgPiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBXaW5kb3cgb2JqZWN0cyBtdXN0IGFsc28gaGF2ZSBhXG5cdCAgICAgKiAgICAgICAgID4gd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSwgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgbmFtZWRcblx0ICAgICAqICAgICAgICAgPiBIVE1MRG9jdW1lbnQgd2hvc2UgdmFsdWUgaXMgdGhlIERvY3VtZW50IGludGVyZmFjZSBvYmplY3QuXG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50KWBgXG5cdCAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5kb2N1bWVudCkge1xuXHQgICAgICByZXR1cm4gJ0RvY3VtZW50Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjbWltZXR5cGVhcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIE1pbWVUeXBlQXJyYXlcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLm1pbWVUeXBlcylgYFxuXHQgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TTWltZVR5cGVzQ29sbGVjdGlvbl1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkubWltZVR5cGVzKSB7XG5cdCAgICAgIHJldHVybiAnTWltZVR5cGVBcnJheSc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuXHQgICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgUGx1Z2luQXJyYXlcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLnBsdWdpbnMpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU1BsdWdpbnNDb2xsZWN0aW9uXVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IChnbG9iYWxPYmplY3QubmF2aWdhdG9yIHx8IHt9KS5wbHVnaW5zKSB7XG5cdCAgICAgIHJldHVybiAnUGx1Z2luQXJyYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuNC40IC0gVGhlIGBibG9ja3F1b3RlYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MUXVvdGVFbGVtZW50YFxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJykpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBIVE1MQmxvY2tFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFF1b3RlRWxlbWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlZGF0YWNlbGxlbGVtZW50KVxuXHQgICAgICogV2hhdFdHIEhUTUwkNC45LjkgLSBUaGUgYHRkYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnRgXG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKVxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuXHQgICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEQnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVoZWFkZXJjZWxsZWxlbWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnRgXG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuXHQgICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEgnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQnO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAqIFByZTpcblx0ICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNjI1LDY0NCBvcHMvc2VjIMKxMS41OCUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggMSwyNzksODUyIG9wcy9zZWMgwrEyLjkxJSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MzJBcnJheSAgICAgICAgeCAxLDE3OCwxODUgb3BzL3NlYyDCsTEuOTUlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDEsMDA4LDM4MCBvcHMvc2VjIMKxMi4yNSUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhBcnJheSAgICAgICAgIHggMSwxMjgsMDQwIG9wcy9zZWMgwrEyLjExJSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQzMkFycmF5ICAgICAgICAgeCAxLDE3MCwxMTkgb3BzL3NlYyDCsTIuODglICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDEsMTc2LDM0OCBvcHMvc2VjIMKxNS43OSUgKDg2IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50OEFycmF5ICAgICAgICAgIHggMSwwNTgsNzA3IG9wcy9zZWMgwrE0Ljk0JSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OENsYW1wZWRBcnJheSAgeCAxLDExMCw2MzMgb3BzL3NlYyDCsTQuMjAlICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiBQb3N0OlxuXHQgICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA3LDEwNSw2NzEgb3BzL3NlYyDCsTEzLjQ3JSAoNjQgcnVucyBzYW1wbGVkKVxuXHQgICogICBGbG9hdDMyQXJyYXkgICAgICAgeCA1LDg4Nyw5MTIgb3BzL3NlYyDCsTEuNDYlICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDYsNDkxLDY2MSBvcHMvc2VjIMKxMS43NiUgKDc5IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDE2QXJyYXkgICAgICAgIHggNiw1NTksNzk1IG9wcy9zZWMgwrExLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OEFycmF5ICAgICAgICAgeCA2LDQ2Myw5NjYgb3BzL3NlYyDCsTEuNDMlICg4NSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDUsNjQxLDg0MSBvcHMvc2VjIMKxMy40OSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50MTZBcnJheSAgICAgICAgIHggNiw1ODMsNTExIG9wcy9zZWMgwrExLjk4JSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQ4QXJyYXkgICAgICAgICAgeCA2LDYwNiwwNzggb3BzL3NlYyDCsTEuNzQlICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDYsNjAyLDIyNCBvcHMvc2VjIMKxMS43NyUgKDgzIHJ1bnMgc2FtcGxlZClcblx0ICAqL1xuXHQgIHZhciBzdHJpbmdUYWcgPSAoc3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10pO1xuXHQgIGlmICh0eXBlb2Ygc3RyaW5nVGFnID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHN0cmluZ1RhZztcblx0ICB9XG5cdFxuXHQgIGlmIChnZXRQcm90b3R5cGVPZkV4aXN0cykge1xuXHQgICAgdmFyIG9ialByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDEsNzcyLDM4NSBvcHMvc2VjIMKxMS44NSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAyLDE0Myw2MzQgb3BzL3NlYyDCsTIuNDYlICg3OCBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMyw5MjgsMDA5IG9wcy9zZWMgwrEwLjY1JSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDMsOTMxLDEwOCBvcHMvc2VjIMKxMC41OCUgKDg0IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAob2JqUHJvdG90eXBlID09PSBSZWdFeHAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnUmVnRXhwJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgZGF0ZSAgICAgICAgICAgICAgIHggMiwxMzAsMDc0IG9wcy9zZWMgwrE0LjQyJSAoNjggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDMsOTUzLDc3OSBvcHMvc2VjIMKxMS4zNSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAob2JqUHJvdG90eXBlID09PSBEYXRlLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ0RhdGUnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtcHJvbWlzZS5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyNS40LjUuNCAtIFByb21pc2UucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlByb21pc2VcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUHJvbWlzZS5yZXNvbHZlKCkpYGBcblx0ICAgICAqICAtIENocm9tZSA8PTQ3ID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKiAgLSBFZGdlIDw9MjAgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggMjktTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuXHQgICAgICogIC0gU2FmYXJpIDcuMS1MYXRlc3QgPT09IFwiW29iamVjdCBQcm9taXNlXVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChwcm9taXNlRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gUHJvbWlzZS5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdQcm9taXNlJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggMiwyMjIsMTg2IG9wcy9zZWMgwrExLjMxJSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDQsNTQ1LDg3OSBvcHMvc2VjIMKxMS4xMyUgKDgzIHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gU2V0LnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1NldCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIG1hcCAgICAgICAgICAgICAgICB4IDIsMzk2LDg0MiBvcHMvc2VjIMKxMS41OSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBtYXAgICAgICAgICAgICAgICAgeCA0LDE4Myw5NDUgb3BzL3NlYyDCsTYuNTklICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IE1hcC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdNYXAnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCAxLDMyMywyMjAgb3BzL3NlYyDCsTIuMTclICg3NiBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggNCwyMzcsNTEwIG9wcy9zZWMgwrEyLjAxJSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmICh3ZWFrU2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha1NldC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdXZWFrU2V0Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMSw1MDAsMjYwIG9wcy9zZWMgwrEyLjAyJSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDMsODgxLDM4NCBvcHMvc2VjIMKxMS40NSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAod2Vha01hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtNYXAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnV2Vha01hcCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1kYXRhdmlldy5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyNC4yLjQuMjEgLSBEYXRhVmlldy5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiRGF0YVZpZXdcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoZGF0YVZpZXdFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBEYXRhVmlldy5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdEYXRhVmlldyc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lbWFwaXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjMuMS41LjIuMiAtICVNYXBJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiTWFwIEl0ZXJhdG9yXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBNYXAoKS5lbnRyaWVzKCkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gbWFwSXRlcmF0b3JQcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdNYXAgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXNldGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIzLjIuNS4yLjIgLSAlU2V0SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlNldCBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgU2V0KCkuZW50cmllcygpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IHNldEl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnU2V0IEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIyLjEuNS4yLjIgLSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiQXJyYXkgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW11bU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBhcnJheUl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnQXJyYXkgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIxLjEuNS4yLjIgLSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlN0cmluZyBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1N0cmluZyBJdGVyYXRvcic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDIsNDI0LDMyMCBvcHMvc2VjIMKxMS42NyUgKDc2IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCA1LDgzOCwwMDAgb3BzL3NlYyDCsTAuOTklICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gT2JqZWN0XG5cdCAgICAucHJvdG90eXBlXG5cdCAgICAudG9TdHJpbmdcblx0ICAgIC5jYWxsKG9iailcblx0ICAgIC5zbGljZSh0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCwgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzLnR5cGVEZXRlY3QgPSBtb2R1bGUuZXhwb3J0cztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gMTg4OlxuOTQsXG5cbi8qKiovIDE4OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX2J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIEFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKEFjdGlvbkJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQWN0aW9uQnV0dG9uKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBBY3Rpb25CdXR0b24pO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgICAgICAgYWN0aW9uRm4gPSBfdGhpcyRwcm9wcy5hY3Rpb25Gbixcblx0ICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwgPSBfdGhpcyRwcm9wcy5jbG9zZU1vZGFsO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGFjdGlvbkZuKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgcmV0ID0gdm9pZCAwO1xuXHQgICAgICAgICAgICAgICAgaWYgKGFjdGlvbkZuLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldCA9IGFjdGlvbkZuKGNsb3NlTW9kYWwpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXQgPSBhY3Rpb25GbigpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICghcmV0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAocmV0ICYmIHJldC50aGVuKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldC50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyB1bm5lY2Vzc2FyeSB0byBzZXQgbG9hZGluZz1mYWxzZSwgZm9yIHRoZSBNb2RhbCB3aWxsIGJlIHVubW91bnRlZCBhZnRlciBjbG9zZS5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU1vZGFsLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgQWN0aW9uQnV0dG9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgIGlmICh0aGlzLnByb3BzLmF1dG9Gb2N1cykge1xuXHQgICAgICAgICAgICB2YXIgJHRoaXMgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgICAgICAgICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAkdGhpcy5mb2N1cygpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuXHQgICAgfTtcblx0XG5cdCAgICBBY3Rpb25CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbjtcblx0XG5cdCAgICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLnN0YXRlLmxvYWRpbmc7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBzaXplOiAnbGFyZ2UnLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssIGxvYWRpbmc6IGxvYWRpbmcgfSxcblx0ICAgICAgICAgICAgY2hpbGRyZW5cblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gQWN0aW9uQnV0dG9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IEFjdGlvbkJ1dHRvbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE5MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbmZpcm07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX01vZGFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7XG5cdFxuXHR2YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblx0XG5cdHZhciBfQWN0aW9uQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODkpO1xuXHRcblx0dmFyIF9BY3Rpb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWN0aW9uQnV0dG9uKTtcblx0XG5cdHZhciBfbG9jYWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBjb25maXJtKGNvbmZpZykge1xuXHQgICAgdmFyIHByb3BzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoeyBpY29uVHlwZTogJ3F1ZXN0aW9uLWNpcmNsZScgfSwgY29uZmlnKTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMgfHwgJ2FudC1jb25maXJtJztcblx0ICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcblx0ICAgIHZhciB3aWR0aCA9IHByb3BzLndpZHRoIHx8IDQxNjtcblx0ICAgIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlIHx8IHt9O1xuXHQgICAgLy8g6buY6K6k5Li6IGZhbHNl77yM5L+d5oyB5pen54mI6buY6K6k6KGM5Li6XG5cdCAgICB2YXIgbWFza0Nsb3NhYmxlID0gcHJvcHMubWFza0Nsb3NhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHByb3BzLm1hc2tDbG9zYWJsZTtcblx0ICAgIC8vIOm7mOiupOS4uiB0cnVl77yM5L+d5oyB5ZCR5LiL5YW85a65XG5cdCAgICBpZiAoISgnb2tDYW5jZWwnIGluIHByb3BzKSkge1xuXHQgICAgICAgIHByb3BzLm9rQ2FuY2VsID0gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBydW50aW1lTG9jYWxlID0gKDAsIF9sb2NhbGUuZ2V0Q29uZmlybUxvY2FsZSkoKTtcblx0ICAgIHByb3BzLm9rVGV4dCA9IHByb3BzLm9rVGV4dCB8fCAocHJvcHMub2tDYW5jZWwgPyBydW50aW1lTG9jYWxlLm9rVGV4dCA6IHJ1bnRpbWVMb2NhbGUuanVzdE9rVGV4dCk7XG5cdCAgICBwcm9wcy5jYW5jZWxUZXh0ID0gcHJvcHMuY2FuY2VsVGV4dCB8fCBydW50aW1lTG9jYWxlLmNhbmNlbFRleHQ7XG5cdCAgICBmdW5jdGlvbiBjbG9zZSgpIHtcblx0ICAgICAgICB2YXIgdW5tb3VudFJlc3VsdCA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUoZGl2KTtcblx0ICAgICAgICBpZiAodW5tb3VudFJlc3VsdCAmJiBkaXYucGFyZW50Tm9kZSkge1xuXHQgICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBib2R5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyB9LFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiBwcm9wcy5pY29uVHlwZSB9KSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJyB9LFxuXHQgICAgICAgICAgICBwcm9wcy50aXRsZVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgIHByb3BzLmNvbnRlbnRcblx0ICAgICAgICApXG5cdCAgICApO1xuXHQgICAgdmFyIGZvb3RlciA9IG51bGw7XG5cdCAgICBpZiAocHJvcHMub2tDYW5jZWwpIHtcblx0ICAgICAgICBmb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYnRucycgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9BY3Rpb25CdXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgYWN0aW9uRm46IHByb3BzLm9uQ2FuY2VsLCBjbG9zZU1vZGFsOiBjbG9zZSB9LFxuXHQgICAgICAgICAgICAgICAgcHJvcHMuY2FuY2VsVGV4dFxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX0FjdGlvbkJ1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiAncHJpbWFyeScsIGFjdGlvbkZuOiBwcm9wcy5vbk9rLCBjbG9zZU1vZGFsOiBjbG9zZSwgYXV0b0ZvY3VzOiB0cnVlIH0sXG5cdCAgICAgICAgICAgICAgICBwcm9wcy5va1RleHRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idG5zJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX0FjdGlvbkJ1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgeyB0eXBlOiAncHJpbWFyeScsIGFjdGlvbkZuOiBwcm9wcy5vbk9rLCBjbG9zZU1vZGFsOiBjbG9zZSwgYXV0b0ZvY3VzOiB0cnVlIH0sXG5cdCAgICAgICAgICAgICAgICBwcm9wcy5va1RleHRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9XG5cdCAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy50eXBlLCB0cnVlKSwgcHJvcHMuY2xhc3NOYW1lKTtcblx0ICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnJlbmRlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9Nb2RhbDJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgb25DYW5jZWw6IGNsb3NlLCB2aXNpYmxlOiB0cnVlLCB0aXRsZTogJycsIHRyYW5zaXRpb25OYW1lOiAnem9vbScsIGZvb3RlcjogJycsIG1hc2tUcmFuc2l0aW9uTmFtZTogJ2ZhZGUnLCBtYXNrQ2xvc2FibGU6IG1hc2tDbG9zYWJsZSwgc3R5bGU6IHN0eWxlLCB3aWR0aDogd2lkdGggfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS13cmFwcGVyJyB9LFxuXHQgICAgICAgICAgICBib2R5LFxuXHQgICAgICAgICAgICAnICcsXG5cdCAgICAgICAgICAgIGZvb3RlclxuXHQgICAgICAgIClcblx0ICAgICksIGRpdik7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIGRlc3Ryb3k6IGNsb3NlXG5cdCAgICB9O1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxOTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmNoYW5nZUNvbmZpcm1Mb2NhbGUgPSBjaGFuZ2VDb25maXJtTG9jYWxlO1xuXHRleHBvcnRzLmdldENvbmZpcm1Mb2NhbGUgPSBnZXRDb25maXJtTG9jYWxlO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGUgPSB7XG5cdCAgICBva1RleHQ6ICfnoa7lrponLFxuXHQgICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsXG5cdCAgICBqdXN0T2tUZXh0OiAn55+l6YGT5LqGJ1xuXHR9O1xuXHR2YXIgcnVudGltZUxvY2FsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0TG9jYWxlKTtcblx0ZnVuY3Rpb24gY2hhbmdlQ29uZmlybUxvY2FsZShuZXdMb2NhbGUpIHtcblx0ICAgIGlmIChuZXdMb2NhbGUpIHtcblx0ICAgICAgICBydW50aW1lTG9jYWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHJ1bnRpbWVMb2NhbGUsIG5ld0xvY2FsZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJ1bnRpbWVMb2NhbGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdExvY2FsZSk7XG5cdCAgICB9XG5cdH1cblx0ZnVuY3Rpb24gZ2V0Q29uZmlybUxvY2FsZSgpIHtcblx0ICAgIHJldHVybiBydW50aW1lTG9jYWxlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE5MzpcblsxMjE2LCAyMDJdLFxuXG4vKioqLyAyMDE6XG4xMCxcblxuLyoqKi8gMjAyOlxuMTAsXG5cbi8qKiovIDIwOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfS2V5Q29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEyKTtcblx0XG5cdHZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblx0XG5cdHZhciBfcmNBbmltYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdFxuXHR2YXIgX3JjQW5pbWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0FuaW1hdGUpO1xuXHRcblx0dmFyIF9MYXp5UmVuZGVyQm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTEpO1xuXHRcblx0dmFyIF9MYXp5UmVuZGVyQm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xhenlSZW5kZXJCb3gpO1xuXHRcblx0dmFyIF9nZXRTY3JvbGxCYXJTaXplID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTQpO1xuXHRcblx0dmFyIF9nZXRTY3JvbGxCYXJTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFNjcm9sbEJhclNpemUpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG5cdCAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0ICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciB1dWlkID0gMDtcblx0dmFyIG9wZW5Db3VudCA9IDA7XG5cdC8qIGVzbGludCByZWFjdC9uby1pcy1tb3VudGVkOjAgKi9cblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdGZ1bmN0aW9uIGdldFNjcm9sbCh3LCB0b3ApIHtcblx0ICAgIHZhciByZXQgPSB3WydwYWdlJyArICh0b3AgPyAnWScgOiAnWCcpICsgJ09mZnNldCddO1xuXHQgICAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgKHRvcCA/ICdUb3AnIDogJ0xlZnQnKTtcblx0ICAgIGlmICh0eXBlb2YgcmV0ICE9PSAnbnVtYmVyJykge1xuXHQgICAgICAgIHZhciBkID0gdy5kb2N1bWVudDtcblx0ICAgICAgICByZXQgPSBkLmRvY3VtZW50RWxlbWVudFttZXRob2RdO1xuXHQgICAgICAgIGlmICh0eXBlb2YgcmV0ICE9PSAnbnVtYmVyJykge1xuXHQgICAgICAgICAgICByZXQgPSBkLmJvZHlbbWV0aG9kXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdGZ1bmN0aW9uIHNldFRyYW5zZm9ybU9yaWdpbihub2RlLCB2YWx1ZSkge1xuXHQgICAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcblx0ICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuXHQgICAgICAgIHN0eWxlW3ByZWZpeCArICdUcmFuc2Zvcm1PcmlnaW4nXSA9IHZhbHVlO1xuXHQgICAgfSk7XG5cdCAgICBzdHlsZVsndHJhbnNmb3JtT3JpZ2luJ10gPSB2YWx1ZTtcblx0fVxuXHRmdW5jdGlvbiBvZmZzZXQoZWwpIHtcblx0ICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdCAgICB2YXIgcG9zID0ge1xuXHQgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcblx0ICAgICAgICB0b3A6IHJlY3QudG9wXG5cdCAgICB9O1xuXHQgICAgdmFyIGRvYyA9IGVsLm93bmVyRG9jdW1lbnQ7XG5cdCAgICB2YXIgdyA9IGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuXHQgICAgcG9zLmxlZnQgKz0gZ2V0U2Nyb2xsKHcpO1xuXHQgICAgcG9zLnRvcCArPSBnZXRTY3JvbGwodywgdHJ1ZSk7XG5cdCAgICByZXR1cm4gcG9zO1xuXHR9XG5cdHZhciBEaWFsb2cgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgICBkaXNwbGF5TmFtZTogJ0RpYWxvZycsXG5cdCAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBhZnRlckNsb3NlOiBub29wLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuXHQgICAgICAgICAgICBtYXNrOiB0cnVlLFxuXHQgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcblx0ICAgICAgICAgICAga2V5Ym9hcmQ6IHRydWUsXG5cdCAgICAgICAgICAgIGNsb3NhYmxlOiB0cnVlLFxuXHQgICAgICAgICAgICBtYXNrQ2xvc2FibGU6IHRydWUsXG5cdCAgICAgICAgICAgIHByZWZpeENsczogJ3JjLWRpYWxvZycsXG5cdCAgICAgICAgICAgIG9uQ2xvc2U6IG5vb3Bcblx0ICAgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgICAgIHRoaXMuaW5UcmFuc2l0aW9uID0gZmFsc2U7XG5cdCAgICAgICAgdGhpcy50aXRsZUlkID0gJ3JjRGlhbG9nVGl0bGUnICsgdXVpZCsrO1xuXHQgICAgfSxcblx0ICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICB0aGlzLmNvbXBvbmVudERpZFVwZGF0ZSh7fSk7XG5cdCAgICB9LFxuXHQgICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgbW91c2VQb3NpdGlvbiA9IHRoaXMucHJvcHMubW91c2VQb3NpdGlvbjtcblx0ICAgICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuXHQgICAgICAgICAgICAvLyBmaXJzdCBzaG93XG5cdCAgICAgICAgICAgIGlmICghcHJldlByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMub3BlblRpbWUgPSBEYXRlLm5vdygpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmFkZFNjcm9sbGluZ0VmZmVjdCgpO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuZm9jdXMoKTtcblx0ICAgICAgICAgICAgICAgIHZhciBkaWFsb2dOb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZyk7XG5cdCAgICAgICAgICAgICAgICBpZiAobW91c2VQb3NpdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBlbE9mZnNldCA9IG9mZnNldChkaWFsb2dOb2RlKTtcblx0ICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1PcmlnaW4oZGlhbG9nTm9kZSwgbW91c2VQb3NpdGlvbi54IC0gZWxPZmZzZXQubGVmdCArICdweCAnICsgKG1vdXNlUG9zaXRpb24ueSAtIGVsT2Zmc2V0LnRvcCkgKyAncHgnKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2V0VHJhbnNmb3JtT3JpZ2luKGRpYWxvZ05vZGUsICcnKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAocHJldlByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgdGhpcy5pblRyYW5zaXRpb24gPSB0cnVlO1xuXHQgICAgICAgICAgICBpZiAocHJvcHMubWFzayAmJiB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUuZm9jdXMoKTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUgPSBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICBpZiAodGhpcy5wcm9wcy52aXNpYmxlIHx8IHRoaXMuaW5UcmFuc2l0aW9uKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlU2Nyb2xsaW5nRWZmZWN0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIG9uQW5pbWF0ZUxlYXZlOiBmdW5jdGlvbiBvbkFuaW1hdGVMZWF2ZSgpIHtcblx0ICAgICAgICAvLyBuZWVkIGRlbW8/XG5cdCAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9kaWFsb2cvcHVsbC8yOFxuXHQgICAgICAgIGlmICh0aGlzLnJlZnMud3JhcCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLmluVHJhbnNpdGlvbiA9IGZhbHNlO1xuXHQgICAgICAgIHRoaXMucmVtb3ZlU2Nyb2xsaW5nRWZmZWN0KCk7XG5cdCAgICAgICAgdGhpcy5wcm9wcy5hZnRlckNsb3NlKCk7XG5cdCAgICB9LFxuXHQgICAgb25NYXNrQ2xpY2s6IGZ1bmN0aW9uIG9uTWFza0NsaWNrKGUpIHtcblx0ICAgICAgICAvLyBhbmRyb2lkIHRyaWdnZXIgY2xpY2sgb24gb3BlbiAoZmFzdGNsaWNrPz8pXG5cdCAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLm9wZW5UaW1lIDwgMzAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQpIHtcblx0ICAgICAgICAgICAgdGhpcy5jbG9zZShlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgaWYgKHByb3BzLmtleWJvYXJkICYmIGUua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FU0MpIHtcblx0ICAgICAgICAgICAgdGhpcy5jbG9zZShlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8ga2VlcCBmb2N1cyBpbnNpZGUgZGlhbG9nXG5cdCAgICAgICAgaWYgKHByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5UQUIpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0ICAgICAgICAgICAgICAgIHZhciBkaWFsb2dSb290ID0gdGhpcy5yZWZzLndyYXA7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2VudGluZWwgPSB0aGlzLnJlZnMuc2VudGluZWw7XG5cdCAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSBkaWFsb2dSb290KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbnRpbmVsLmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVFbGVtZW50ID09PSB0aGlzLnJlZnMuc2VudGluZWwpIHtcblx0ICAgICAgICAgICAgICAgICAgICBkaWFsb2dSb290LmZvY3VzKCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgZ2V0RGlhbG9nRWxlbWVudDogZnVuY3Rpb24gZ2V0RGlhbG9nRWxlbWVudCgpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIHZhciBjbG9zYWJsZSA9IHByb3BzLmNsb3NhYmxlO1xuXHQgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICAgICAgdmFyIGRlc3QgPSB7fTtcblx0ICAgICAgICBpZiAocHJvcHMud2lkdGggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBkZXN0LndpZHRoID0gcHJvcHMud2lkdGg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChwcm9wcy5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBkZXN0LmhlaWdodCA9IHByb3BzLmhlaWdodDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGZvb3RlciA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAocHJvcHMuZm9vdGVyKSB7XG5cdCAgICAgICAgICAgIGZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJywgcmVmOiBcImZvb3RlclwiIH0sIHByb3BzLmZvb3Rlcik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBoZWFkZXIgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHByb3BzLnRpdGxlKSB7XG5cdCAgICAgICAgICAgIGhlYWRlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJywgcmVmOiBcImhlYWRlclwiIH0sIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnLCBpZDogdGhpcy50aXRsZUlkIH0sIHByb3BzLnRpdGxlKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBjbG9zZXIgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKGNsb3NhYmxlKSB7XG5cdCAgICAgICAgICAgIGNsb3NlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiB0aGlzLmNsb3NlLCBcImFyaWEtbGFiZWxcIjogXCJDbG9zZVwiLCBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xvc2UnIH0sIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsb3NlLXgnIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHN0eWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLnN0eWxlLCBkZXN0KTtcblx0ICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCk7XG5cdCAgICAgICAgdmFyIGRpYWxvZ0VsZW1lbnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9MYXp5UmVuZGVyQm94MltcImRlZmF1bHRcIl0sIHsga2V5OiBcImRpYWxvZy1lbGVtZW50XCIsIHJvbGU6IFwiZG9jdW1lbnRcIiwgcmVmOiBcImRpYWxvZ1wiLCBzdHlsZTogc3R5bGUsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgKHByb3BzLmNsYXNzTmFtZSB8fCAnJyksIHZpc2libGU6IHByb3BzLnZpc2libGUgfSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LCBjbG9zZXIsIGhlYWRlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5Jywgc3R5bGU6IHByb3BzLmJvZHlTdHlsZSwgcmVmOiBcImJvZHlcIiB9LCBwcm9wcy5ib2R5UHJvcHMpLCBwcm9wcy5jaGlsZHJlbiksIGZvb3RlciksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyB0YWJJbmRleDogMCwgcmVmOiBcInNlbnRpbmVsXCIsIHN0eWxlOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIG92ZXJmbG93OiAnaGlkZGVuJyB9IH0sIFwic2VudGluZWxcIikpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSwgeyBrZXk6IFwiZGlhbG9nXCIsIHNob3dQcm9wOiBcInZpc2libGVcIiwgb25MZWF2ZTogdGhpcy5vbkFuaW1hdGVMZWF2ZSwgdHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLCBjb21wb25lbnQ6IFwiXCIsIHRyYW5zaXRpb25BcHBlYXI6IHRydWUgfSwgZGlhbG9nRWxlbWVudCk7XG5cdCAgICB9LFxuXHQgICAgZ2V0WkluZGV4U3R5bGU6IGZ1bmN0aW9uIGdldFpJbmRleFN0eWxlKCkge1xuXHQgICAgICAgIHZhciBzdHlsZSA9IHt9O1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgaWYgKHByb3BzLnpJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgICAgIHN0eWxlLnpJbmRleCA9IHByb3BzLnpJbmRleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHN0eWxlO1xuXHQgICAgfSxcblx0ICAgIGdldFdyYXBTdHlsZTogZnVuY3Rpb24gZ2V0V3JhcFN0eWxlKCkge1xuXHQgICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCB0aGlzLnByb3BzLndyYXBTdHlsZSk7XG5cdCAgICB9LFxuXHQgICAgZ2V0TWFza1N0eWxlOiBmdW5jdGlvbiBnZXRNYXNrU3R5bGUoKSB7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLmdldFpJbmRleFN0eWxlKCksIHRoaXMucHJvcHMubWFza1N0eWxlKTtcblx0ICAgIH0sXG5cdCAgICBnZXRNYXNrRWxlbWVudDogZnVuY3Rpb24gZ2V0TWFza0VsZW1lbnQoKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgbWFza0VsZW1lbnQgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHByb3BzLm1hc2spIHtcblx0ICAgICAgICAgICAgdmFyIG1hc2tUcmFuc2l0aW9uID0gdGhpcy5nZXRNYXNrVHJhbnNpdGlvbk5hbWUoKTtcblx0ICAgICAgICAgICAgbWFza0VsZW1lbnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9MYXp5UmVuZGVyQm94MltcImRlZmF1bHRcIl0sIF9fYXNzaWduKHsgc3R5bGU6IHRoaXMuZ2V0TWFza1N0eWxlKCksIGtleTogXCJtYXNrXCIsIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1tYXNrJywgaGlkZGVuQ2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1hc2staGlkZGVuJywgdmlzaWJsZTogcHJvcHMudmlzaWJsZSB9LCBwcm9wcy5tYXNrUHJvcHMpKTtcblx0ICAgICAgICAgICAgaWYgKG1hc2tUcmFuc2l0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICBtYXNrRWxlbWVudCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQW5pbWF0ZTJbXCJkZWZhdWx0XCJdLCB7IGtleTogXCJtYXNrXCIsIHNob3dQcm9wOiBcInZpc2libGVcIiwgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSwgY29tcG9uZW50OiBcIlwiLCB0cmFuc2l0aW9uTmFtZTogbWFza1RyYW5zaXRpb24gfSwgbWFza0VsZW1lbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBtYXNrRWxlbWVudDtcblx0ICAgIH0sXG5cdCAgICBnZXRNYXNrVHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIGdldE1hc2tUcmFuc2l0aW9uTmFtZSgpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLm1hc2tUcmFuc2l0aW9uTmFtZTtcblx0ICAgICAgICB2YXIgYW5pbWF0aW9uID0gcHJvcHMubWFza0FuaW1hdGlvbjtcblx0ICAgICAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIGFuaW1hdGlvbikge1xuXHQgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnByZWZpeENscyArICctJyArIGFuaW1hdGlvbjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuXHQgICAgfSxcblx0ICAgIGdldFRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uTmFtZSgpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuXHQgICAgICAgIHZhciBhbmltYXRpb24gPSBwcm9wcy5hbmltYXRpb247XG5cdCAgICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBhbmltYXRpb24pIHtcblx0ICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5wcmVmaXhDbHMgKyAnLScgKyBhbmltYXRpb247XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcblx0ICAgIH0sXG5cdCAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KHBhcnQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5yZWZzW3BhcnRdO1xuXHQgICAgfSxcblx0ICAgIHNldFNjcm9sbGJhcjogZnVuY3Rpb24gc2V0U2Nyb2xsYmFyKCkge1xuXHQgICAgICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIHRoaXMuc2Nyb2xsYmFyV2lkdGggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBhZGRTY3JvbGxpbmdFZmZlY3Q6IGZ1bmN0aW9uIGFkZFNjcm9sbGluZ0VmZmVjdCgpIHtcblx0ICAgICAgICBvcGVuQ291bnQrKztcblx0ICAgICAgICBpZiAob3BlbkNvdW50ICE9PSAxKSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5jaGVja1Njcm9sbGJhcigpO1xuXHQgICAgICAgIHRoaXMuc2V0U2Nyb2xsYmFyKCk7XG5cdCAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHQgICAgICAgIC8vIHRoaXMuYWRqdXN0RGlhbG9nKCk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlU2Nyb2xsaW5nRWZmZWN0OiBmdW5jdGlvbiByZW1vdmVTY3JvbGxpbmdFZmZlY3QoKSB7XG5cdCAgICAgICAgb3BlbkNvdW50LS07XG5cdCAgICAgICAgaWYgKG9wZW5Db3VudCAhPT0gMCkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcblx0ICAgICAgICB0aGlzLnJlc2V0U2Nyb2xsYmFyKCk7XG5cdCAgICAgICAgLy8gdGhpcy5yZXNldEFkanVzdG1lbnRzKCk7XG5cdCAgICB9LFxuXHQgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKGUpIHtcblx0ICAgICAgICB0aGlzLnByb3BzLm9uQ2xvc2UoZSk7XG5cdCAgICB9LFxuXHQgICAgY2hlY2tTY3JvbGxiYXI6IGZ1bmN0aW9uIGNoZWNrU2Nyb2xsYmFyKCkge1xuXHQgICAgICAgIHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0ICAgICAgICBpZiAoIWZ1bGxXaW5kb3dXaWR0aCkge1xuXHQgICAgICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0ICAgICAgICAgICAgZnVsbFdpbmRvd1dpZHRoID0gZG9jdW1lbnRFbGVtZW50UmVjdC5yaWdodCAtIE1hdGguYWJzKGRvY3VtZW50RWxlbWVudFJlY3QubGVmdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgZnVsbFdpbmRvd1dpZHRoO1xuXHQgICAgICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAoMCwgX2dldFNjcm9sbEJhclNpemUyW1wiZGVmYXVsdFwiXSkoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgcmVzZXRTY3JvbGxiYXI6IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsYmFyKCkge1xuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG5cdCAgICB9LFxuXHQgICAgYWRqdXN0RGlhbG9nOiBmdW5jdGlvbiBhZGp1c3REaWFsb2coKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucmVmcy53cmFwICYmIHRoaXMuc2Nyb2xsYmFyV2lkdGggIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy5yZWZzLndyYXAuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuc3R5bGUucGFkZGluZ0xlZnQgPSAoIXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnKSArICdweCc7XG5cdCAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdSaWdodCA9ICh0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmICFtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycpICsgJ3B4Jztcblx0ICAgICAgICB9XG5cdCAgICB9LFxuXHQgICAgcmVzZXRBZGp1c3RtZW50czogZnVuY3Rpb24gcmVzZXRBZGp1c3RtZW50cygpIHtcblx0ICAgICAgICBpZiAodGhpcy5yZWZzLndyYXApIHtcblx0ICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLnJlZnMud3JhcC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIG1hc2tDbG9zYWJsZSA9IHByb3BzLm1hc2tDbG9zYWJsZTtcblx0XG5cdCAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRXcmFwU3R5bGUoKTtcblx0ICAgICAgICAvLyBjbGVhciBoaWRlIGRpc3BsYXlcblx0ICAgICAgICAvLyBhbmQgb25seSBzZXQgZGlzcGxheSBhZnRlciBhc3luYyBhbmltLCBub3QgaGVyZSBmb3IgaGlkZVxuXHQgICAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG5cdCAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCB0aGlzLmdldE1hc2tFbGVtZW50KCksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyB0YWJJbmRleDogLTEsIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy13cmFwICcgKyAocHJvcHMud3JhcENsYXNzTmFtZSB8fCAnJyksIHJlZjogXCJ3cmFwXCIsIG9uQ2xpY2s6IG1hc2tDbG9zYWJsZSA/IHRoaXMub25NYXNrQ2xpY2sgOiB1bmRlZmluZWQsIHJvbGU6IFwiZGlhbG9nXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLnRpdGxlID8gdGhpcy50aXRsZUlkIDogbnVsbCwgc3R5bGU6IHN0eWxlIH0sIHByb3BzLndyYXBQcm9wcyksIHRoaXMuZ2V0RGlhbG9nRWxlbWVudCgpKSk7XG5cdCAgICB9XG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERpYWxvZztcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDIxMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9EaWFsb2cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOSk7XG5cdFxuXHR2YXIgX0RpYWxvZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaWFsb2cpO1xuXHRcblx0dmFyIF9nZXRDb250YWluZXJSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjEzKTtcblx0XG5cdHZhciBfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcblx0ICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHQgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIERpYWxvZ1dyYXAgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgICBkaXNwbGF5TmFtZTogJ0RpYWxvZ1dyYXAnLFxuXHRcblx0ICAgIG1peGluczogWygwLCBfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gaXNWaXNpYmxlKGluc3RhbmNlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5wcm9wcy52aXNpYmxlO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcblx0ICAgICAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uIGdldENvbXBvbmVudChpbnN0YW5jZSwgZXh0cmEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RpYWxvZzJbXCJkZWZhdWx0XCJdLCBfX2Fzc2lnbih7fSwgaW5zdGFuY2UucHJvcHMsIGV4dHJhLCB7IGtleTogXCJkaWFsb2dcIiB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSldLFxuXHQgICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgdmlzaWJsZTogZmFsc2Vcblx0ICAgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKF9yZWYpIHtcblx0ICAgICAgICB2YXIgdmlzaWJsZSA9IF9yZWYudmlzaWJsZTtcblx0XG5cdCAgICAgICAgcmV0dXJuICEhKHRoaXMucHJvcHMudmlzaWJsZSB8fCB2aXNpYmxlKTtcblx0ICAgIH0sXG5cdCAgICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSkge1xuXHQgICAgICAgICAgICB0aGlzLnJlbmRlckNvbXBvbmVudCh7XG5cdCAgICAgICAgICAgICAgICBhZnRlckNsb3NlOiB0aGlzLnJlbW92ZUNvbnRhaW5lcixcblx0ICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fSxcblx0XG5cdCAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZUNvbnRhaW5lcigpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiBnZXRFbGVtZW50KHBhcnQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50LmdldEVsZW1lbnQocGFydCk7XG5cdCAgICB9LFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERpYWxvZ1dyYXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuXHQgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdCAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHQ7XG5cdH07XG5cdFxuXHR2YXIgTGF6eVJlbmRlckJveCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICAgIGRpc3BsYXlOYW1lOiAnTGF6eVJlbmRlckJveCcsXG5cdCAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgICAgICByZXR1cm4gISFuZXh0UHJvcHMuaGlkZGVuQ2xhc3NOYW1lIHx8ICEhbmV4dFByb3BzLnZpc2libGU7XG5cdCAgICB9LFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgICAgIGlmICghIXRoaXMucHJvcHMuaGlkZGVuQ2xhc3NOYW1lICYmICF0aGlzLnByb3BzLnZpc2libGUpIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHRoaXMucHJvcHMuaGlkZGVuQ2xhc3NOYW1lO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgcHJvcHMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICAgICAgZGVsZXRlIHByb3BzLmhpZGRlbkNsYXNzTmFtZTtcblx0ICAgICAgICBkZWxldGUgcHJvcHMudmlzaWJsZTtcblx0ICAgICAgICBwcm9wcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzKSk7XG5cdCAgICB9XG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IExhenlSZW5kZXJCb3g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTI6XG4yOTcsXG5cbi8qKiovIDIxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW47XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0R2V0Q29udGFpbmVyKCkge1xuXHQgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cdCAgcmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4oY29uZmlnKSB7XG5cdCAgdmFyIF9jb25maWckYXV0b01vdW50ID0gY29uZmlnLmF1dG9Nb3VudDtcblx0ICB2YXIgYXV0b01vdW50ID0gX2NvbmZpZyRhdXRvTW91bnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfY29uZmlnJGF1dG9Nb3VudDtcblx0ICB2YXIgX2NvbmZpZyRhdXRvRGVzdHJveSA9IGNvbmZpZy5hdXRvRGVzdHJveTtcblx0ICB2YXIgYXV0b0Rlc3Ryb3kgPSBfY29uZmlnJGF1dG9EZXN0cm95ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX2NvbmZpZyRhdXRvRGVzdHJveTtcblx0ICB2YXIgaXNWaXNpYmxlID0gY29uZmlnLmlzVmlzaWJsZTtcblx0ICB2YXIgZ2V0Q29tcG9uZW50ID0gY29uZmlnLmdldENvbXBvbmVudDtcblx0ICB2YXIgX2NvbmZpZyRnZXRDb250YWluZXIgPSBjb25maWcuZ2V0Q29udGFpbmVyO1xuXHQgIHZhciBnZXRDb250YWluZXIgPSBfY29uZmlnJGdldENvbnRhaW5lciA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEdldENvbnRhaW5lciA6IF9jb25maWckZ2V0Q29udGFpbmVyO1xuXHRcblx0XG5cdCAgdmFyIG1peGluID0gdm9pZCAwO1xuXHRcblx0ICBmdW5jdGlvbiBfcmVuZGVyQ29tcG9uZW50KGluc3RhbmNlLCBjb21wb25lbnRBcmcsIHJlYWR5KSB7XG5cdCAgICBpZiAoIWlzVmlzaWJsZSB8fCBpbnN0YW5jZS5fY29tcG9uZW50IHx8IGlzVmlzaWJsZShpbnN0YW5jZSkpIHtcblx0ICAgICAgaWYgKCFpbnN0YW5jZS5fY29udGFpbmVyKSB7XG5cdCAgICAgICAgaW5zdGFuY2UuX2NvbnRhaW5lciA9IGdldENvbnRhaW5lcihpbnN0YW5jZSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0udW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIoaW5zdGFuY2UsIGdldENvbXBvbmVudChpbnN0YW5jZSwgY29tcG9uZW50QXJnKSwgaW5zdGFuY2UuX2NvbnRhaW5lciwgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG5cdCAgICAgICAgaW5zdGFuY2UuX2NvbXBvbmVudCA9IHRoaXM7XG5cdCAgICAgICAgaWYgKHJlYWR5KSB7XG5cdCAgICAgICAgICByZWFkeS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBpZiAoYXV0b01vdW50KSB7XG5cdCAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuXHQgICAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgX3JlbmRlckNvbXBvbmVudCh0aGlzKTtcblx0ICAgICAgfSxcblx0ICAgICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAgICAgX3JlbmRlckNvbXBvbmVudCh0aGlzKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoIWF1dG9Nb3VudCB8fCAhYXV0b0Rlc3Ryb3kpIHtcblx0ICAgIG1peGluID0gX2V4dGVuZHMoe30sIG1peGluLCB7XG5cdCAgICAgIHJlbmRlckNvbXBvbmVudDogZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudEFyZywgcmVhZHkpIHtcblx0ICAgICAgICBfcmVuZGVyQ29tcG9uZW50KHRoaXMsIGNvbXBvbmVudEFyZywgcmVhZHkpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIF9yZW1vdmVDb250YWluZXIoaW5zdGFuY2UpIHtcblx0ICAgIGlmIChpbnN0YW5jZS5fY29udGFpbmVyKSB7XG5cdCAgICAgIHZhciBjb250YWluZXIgPSBpbnN0YW5jZS5fY29udGFpbmVyO1xuXHQgICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG5cdCAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG5cdCAgICAgIGluc3RhbmNlLl9jb250YWluZXIgPSBudWxsO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaWYgKGF1dG9EZXN0cm95KSB7XG5cdCAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuXHQgICAgICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgX3JlbW92ZUNvbnRhaW5lcih0aGlzKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG1peGluID0gX2V4dGVuZHMoe30sIG1peGluLCB7XG5cdCAgICAgIHJlbW92ZUNvbnRhaW5lcjogZnVuY3Rpb24gcmVtb3ZlQ29udGFpbmVyKCkge1xuXHQgICAgICAgIF9yZW1vdmVDb250YWluZXIodGhpcyk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG1peGluO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY2FjaGVkID0gdm9pZCAwO1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2Nyb2xsQmFyU2l6ZShmcmVzaCkge1xuXHQgIGlmIChmcmVzaCB8fCBjYWNoZWQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICBpbm5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcblx0ICAgIGlubmVyLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG5cdFxuXHQgICAgdmFyIG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgICB2YXIgb3V0ZXJTdHlsZSA9IG91dGVyLnN0eWxlO1xuXHRcblx0ICAgIG91dGVyU3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHQgICAgb3V0ZXJTdHlsZS50b3AgPSAwO1xuXHQgICAgb3V0ZXJTdHlsZS5sZWZ0ID0gMDtcblx0ICAgIG91dGVyU3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblx0ICAgIG91dGVyU3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXHQgICAgb3V0ZXJTdHlsZS53aWR0aCA9ICcyMDBweCc7XG5cdCAgICBvdXRlclN0eWxlLmhlaWdodCA9ICcxNTBweCc7XG5cdCAgICBvdXRlclN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cdFxuXHQgICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXHRcblx0ICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXHRcblx0ICAgIHZhciB3aWR0aENvbnRhaW5lZCA9IGlubmVyLm9mZnNldFdpZHRoO1xuXHQgICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcblx0ICAgIHZhciB3aWR0aFNjcm9sbCA9IGlubmVyLm9mZnNldFdpZHRoO1xuXHRcblx0ICAgIGlmICh3aWR0aENvbnRhaW5lZCA9PT0gd2lkdGhTY3JvbGwpIHtcblx0ICAgICAgd2lkdGhTY3JvbGwgPSBvdXRlci5jbGllbnRXaWR0aDtcblx0ICAgIH1cblx0XG5cdCAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcblx0XG5cdCAgICBjYWNoZWQgPSB3aWR0aENvbnRhaW5lZCAtIHdpZHRoU2Nyb2xsO1xuXHQgIH1cblx0ICByZXR1cm4gY2FjaGVkO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGdldFNjcm9sbEJhclNpemU7XG5cbi8qKiovIH0sXG5cbi8qKiovIDIzODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfdG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblx0XG5cdHZhciBfdG9vbHRpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b29sdGlwKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9idXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdHZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIFBvcGNvbmZpcm0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShQb3Bjb25maXJtLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBQb3Bjb25maXJtKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBQb3Bjb25maXJtKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5jb25maXJtID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG5cdCAgICAgICAgICAgIHZhciBvbkNvbmZpcm0gPSBfdGhpcy5wcm9wcy5vbkNvbmZpcm07XG5cdCAgICAgICAgICAgIGlmIChvbkNvbmZpcm0pIHtcblx0ICAgICAgICAgICAgICAgIG9uQ29uZmlybS5jYWxsKF90aGlzLCBlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuY2FuY2VsID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG5cdCAgICAgICAgICAgIHZhciBvbkNhbmNlbCA9IF90aGlzLnByb3BzLm9uQ2FuY2VsO1xuXHQgICAgICAgICAgICBpZiAob25DYW5jZWwpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2FuY2VsLmNhbGwoX3RoaXMsIGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5vblZpc2libGVDaGFuZ2UgPSBmdW5jdGlvbiAodmlzaWJsZSkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKHZpc2libGUpO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHZpc2libGU6IHByb3BzLnZpc2libGVcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBQb3Bjb25maXJtLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICBpZiAoJ3Zpc2libGUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogbmV4dFByb3BzLnZpc2libGUgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBQb3Bjb25maXJtLnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlOiB2aXNpYmxlIH0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgb25WaXNpYmxlQ2hhbmdlID0gcHJvcHMub25WaXNpYmxlQ2hhbmdlO1xuXHQgICAgICAgIGlmIChvblZpc2libGVDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUG9wY29uZmlybS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cdFxuXHQgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHRpdGxlID0gcHJvcHMudGl0bGUsXG5cdCAgICAgICAgICAgIHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KHByb3BzLCBbXCJwcmVmaXhDbHNcIiwgXCJ0aXRsZVwiLCBcInBsYWNlbWVudFwiXSk7XG5cdFxuXHQgICAgICAgIHZhciBva1RleHQgPSBwcm9wcy5va1RleHQsXG5cdCAgICAgICAgICAgIGNhbmNlbFRleHQgPSBwcm9wcy5jYW5jZWxUZXh0O1xuXHRcblx0ICAgICAgICB2YXIgcG9wY29uZmlybUxvY2FsZSA9IGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlLlBvcGNvbmZpcm07XG5cdCAgICAgICAgaWYgKHBvcGNvbmZpcm1Mb2NhbGUpIHtcblx0ICAgICAgICAgICAgb2tUZXh0ID0gb2tUZXh0IHx8IHBvcGNvbmZpcm1Mb2NhbGUub2tUZXh0O1xuXHQgICAgICAgICAgICBjYW5jZWxUZXh0ID0gY2FuY2VsVGV4dCB8fCBwb3Bjb25maXJtTG9jYWxlLmNhbmNlbFRleHQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBvdmVybGF5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyLWNvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1lc3NhZ2UnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdleGNsYW1hdGlvbi1jaXJjbGUnIH0pLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tZXNzYWdlLXRpdGxlJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVxuXHQgICAgICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbnMnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHRoaXMuY2FuY2VsLCBzaXplOiAnc21hbGwnIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQgfHwgJ+WPlua2iCdcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiB0aGlzLmNvbmZpcm0sIHR5cGU6ICdwcmltYXJ5Jywgc2l6ZTogJ3NtYWxsJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICAgICBva1RleHQgfHwgJ+ehruWumidcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF90b29sdGlwMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBwbGFjZW1lbnQ6IHBsYWNlbWVudCwgb25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSwgdmlzaWJsZTogdGhpcy5zdGF0ZS52aXNpYmxlLCBvdmVybGF5OiBvdmVybGF5IH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFBvcGNvbmZpcm07XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUG9wY29uZmlybTtcblx0XG5cdFBvcGNvbmZpcm0uZGVmYXVsdFByb3BzID0ge1xuXHQgICAgcHJlZml4Q2xzOiAnYW50LXBvcG92ZXInLFxuXHQgICAgdHJhbnNpdGlvbk5hbWU6ICd6b29tLWJpZycsXG5cdCAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuXHQgICAgdHJpZ2dlcjogJ2NsaWNrJ1xuXHR9O1xuXHRQb3Bjb25maXJtLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjM5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI3MSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucmVtb3ZlID0gZXhwb3J0cy51cGRhdGUgPSBleHBvcnRzLmNyZWF0ZSA9IGV4cG9ydHMucXVlcnkgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX3JlZ2VuZXJhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7XG5cdFxuXHR2YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2VuZXJhdG9yKTtcblx0XG5cdHZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NSk7XG5cdFxuXHR2YXIgX2FzeW5jVG9HZW5lcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXN5bmNUb0dlbmVyYXRvcjIpO1xuXHRcblx0dmFyIHF1ZXJ5ID0gZXhwb3J0cy5xdWVyeSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3JlZiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMpIHtcblx0ICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcblx0ICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2Rhc2hib2FyZC1hZG1pbi1yb2xlL2xpc3QnLCB7XG5cdCAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0Jyxcblx0ICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcblx0ICAgICAgICAgICAgfSkpO1xuXHRcblx0ICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBfY2FsbGVlLCB0aGlzKTtcblx0ICB9KSk7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiBxdWVyeShfeCkge1xuXHQgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgY3JlYXRlID0gZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9yZWYyID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMy5kZWZhdWx0KShfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfY2FsbGVlMihwYXJhbXMpIHtcblx0ICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG5cdCAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG5cdCAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCdyZXR1cm4nLCAoMCwgX3V0aWxzLnJlcXVlc3QpKCcvZGFzaGJvYXJkLWFkbWluLXJvbGUvZWRpdCcsIHtcblx0ICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcblx0ICAgICAgICAgICAgfSkpO1xuXHRcblx0ICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgX2NhbGxlZTIsIHRoaXMpO1xuXHQgIH0pKTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZShfeDIpIHtcblx0ICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciB1cGRhdGUgPSBleHBvcnRzLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgX3JlZjMgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHBhcmFtcykge1xuXHQgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcblx0ICAgICAgd2hpbGUgKDEpIHtcblx0ICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcblx0ICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoJ3JldHVybicsICgwLCBfdXRpbHMucmVxdWVzdCkoJy9kYXNoYm9hcmQtYWRtaW4tcm9sZS9lZGl0Jywge1xuXHQgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuXHQgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuXHQgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG5cdCAgfSkpO1xuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKF94Mykge1xuXHQgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgfTtcblx0fSgpO1xuXHRcblx0dmFyIHJlbW92ZSA9IGV4cG9ydHMucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfcmVmNCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjMuZGVmYXVsdCkoX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuXHQgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuXHQgICAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgncmV0dXJuJywgKDAsIF91dGlscy5yZXF1ZXN0KSgnL2Rhc2hib2FyZC1hZG1pbi1yb2xlL2RlbCcsIHtcblx0ICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0Jyxcblx0ICAgICAgICAgICAgICBkYXRhOiBwYXJhbXNcblx0ICAgICAgICAgICAgfSkpO1xuXHRcblx0ICAgICAgICAgIGNhc2UgMTpcblx0ICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSwgX2NhbGxlZTQsIHRoaXMpO1xuXHQgIH0pKTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZShfeDQpIHtcblx0ICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHlsZTYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfdGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfdGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGFibGUpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9zdHlsZTcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOSk7XG5cdFxuXHR2YXIgX3BvcGNvbmZpcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG5cdFxuXHR2YXIgX3BvcGNvbmZpcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9wY29uZmlybSk7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkzKTtcblx0XG5cdHZhciBfdG9vbHRpcCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblx0XG5cdHZhciBfdG9vbHRpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b29sdGlwKTtcblx0XG5cdHZhciBfc3R5bGU5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfc3R5bGUxMCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfbW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cdFxuXHR2YXIgX21vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZGFsKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7XG5cdFxuXHR2YXIgX1RhYmxlQm9keVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVCb2R5V3JhcHBlcik7XG5cdFxuXHR2YXIgX0xpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1OCk7XG5cdFxuXHR2YXIgX0xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGNvbmZpcm0gPSBfbW9kYWwyLmRlZmF1bHQuY29uZmlybTtcblx0XG5cdGZ1bmN0aW9uIExpc3QoX3JlZikge1xuXHQgIHZhciBsb2FkaW5nID0gX3JlZi5sb2FkaW5nLFxuXHQgICAgICBkYXRhU291cmNlID0gX3JlZi5kYXRhU291cmNlLFxuXHQgICAgICBwYWdpbmF0aW9uID0gX3JlZi5wYWdpbmF0aW9uLFxuXHQgICAgICBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG5cdCAgICAgIHVwZGF0ZVBvd2VyID0gX3JlZi51cGRhdGVQb3dlcixcblx0ICAgICAgZGVsZXRlUG93ZXIgPSBfcmVmLmRlbGV0ZVBvd2VyLFxuXHQgICAgICBvblBhZ2VDaGFuZ2UgPSBfcmVmLm9uUGFnZUNoYW5nZSxcblx0ICAgICAgb25EZWxldGVJdGVtID0gX3JlZi5vbkRlbGV0ZUl0ZW0sXG5cdCAgICAgIG9uRWRpdEl0ZW0gPSBfcmVmLm9uRWRpdEl0ZW07XG5cdFxuXHRcblx0ICB2YXIgaGFuZGxlRGVsZXRlSXRlbSA9IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUl0ZW0ocmVjb3JkKSB7XG5cdCAgICBjb25maXJtKHtcblx0ICAgICAgdGl0bGU6ICfliKDpmaTop5LoibLlj6/og73kvJrlr7nnrqHnkIblkZjotKblj7fpgKDmiJDml6Dms5XlvKXooaXnmoTlvbHlk43vvIzmgqjnoa7lrpropoHliKDpmaTov5nkuKrop5LoibLlkJc/Jyxcblx0ICAgICAgb25PazogZnVuY3Rpb24gb25PaygpIHtcblx0ICAgICAgICBvbkRlbGV0ZUl0ZW0ocmVjb3JkLmlkKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgdmFyIGNvbHVtbnMgPSBbe1xuXHQgICAgdGl0bGU6ICfop5LoibLnvJblj7cnLFxuXHQgICAgZGF0YUluZGV4OiAnaWQnLFxuXHQgICAga2V5OiAnaWQnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfop5LoibLlkI3np7AnLFxuXHQgICAgZGF0YUluZGV4OiAnbmFtZScsXG5cdCAgICBrZXk6ICdyb2xlTmFtZSdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+aTjeS9nCcsXG5cdCAgICBrZXk6ICdvcGVyYXRpb24nLFxuXHQgICAgLy8gd2lkdGg6IDEwMCxcblx0ICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHRleHQsIHJlY29yZCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3AnLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgdXBkYXRlUG93ZXIgJiYgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfdG9vbHRpcDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgcGxhY2VtZW50OiAnYm90dG9tJywgdGl0bGU6ICdcXHU3RjE2XFx1OEY5MScgfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBvbkVkaXRJdGVtKHJlY29yZCk7XG5cdCAgICAgICAgICAgICAgfSwgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAxMFxuXHQgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2VkaXQnIH0pXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBkZWxldGVQb3dlciAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF90b29sdGlwMi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBwbGFjZW1lbnQ6ICdib3R0b20nLCB0aXRsZTogJ1xcdTUyMjBcXHU5NjY0JyB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9wb3Bjb25maXJtMi5kZWZhdWx0LFxuXHQgICAgICAgICAgICB7IHRpdGxlOiAnXFx1Nzg2RVxcdTVCOUFcXHU4OTgxXFx1NTIyMFxcdTk2NjRcXHU1NDE3XFx1RkYxRicsIG9uQ29uZmlybTogZnVuY3Rpb24gb25Db25maXJtKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZURlbGV0ZUl0ZW0ocmVjb3JkKTtcblx0ICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdjbG9zZS1jaXJjbGUtbycgfSlcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9XTtcblx0XG5cdCAgdmFyIGdldEJvZHlXcmFwcGVyUHJvcHMgPSB7XG5cdCAgICBwYWdlOiAxLFxuXHQgICAgY3VycmVudDogMVxuXHQgIH07XG5cdFxuXHQgIHZhciBnZXRCb2R5V3JhcHBlciA9IGZ1bmN0aW9uIGdldEJvZHlXcmFwcGVyKGJvZHkpIHtcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGFibGVCb2R5V3JhcHBlcjIuZGVmYXVsdCwgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZ2V0Qm9keVdyYXBwZXJQcm9wcywgeyBib2R5OiBib2R5IH0pKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3RhYmxlMi5kZWZhdWx0LCB7XG5cdCAgICBjbGFzc05hbWU6IF9MaXN0Mi5kZWZhdWx0LnRhYmxlLFxuXHQgICAgYm9yZGVyZWQ6IHRydWUsXG5cdCAgICBzY3JvbGw6IHsgeDogMTAwMCB9LFxuXHQgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgIGRhdGFTb3VyY2U6IGRhdGFTb3VyY2UsXG5cdCAgICBsb2FkaW5nOiBsb2FkaW5nLFxuXHQgICAgb25DaGFuZ2U6IG9uUGFnZUNoYW5nZSxcblx0ICAgIHBhZ2luYXRpb246IGZhbHNlLFxuXHQgICAgc2ltcGxlOiB0cnVlLFxuXHQgICAgcm93S2V5OiBmdW5jdGlvbiByb3dLZXkocmVjb3JkKSB7XG5cdCAgICAgIHJldHVybiByZWNvcmQuaWQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0Qm9keVdyYXBwZXI6IGdldEJvZHlXcmFwcGVyXG5cdCAgfSk7XG5cdH1cblx0XG5cdExpc3QucHJvcFR5cGVzID0ge1xuXHQgIG9uUGFnZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRGVsZXRlSXRlbTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uRWRpdEl0ZW06IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBkYXRhU291cmNlOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGxvYWRpbmc6IF9yZWFjdC5Qcm9wVHlwZXMuYW55XG5cdH07XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBMaXN0O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3N0eWxlNSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfbW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7XG5cdFxuXHR2YXIgX21vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vZGFsKTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX2lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9pbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnB1dCk7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9kdmEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0XG5cdHZhciBfVXNlclBvd2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NzYpO1xuXHRcblx0dmFyIF9Vc2VyUG93ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVXNlclBvd2VyKTtcblx0XG5cdHZhciBfTW9kYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg1OSk7XG5cdFxuXHR2YXIgX01vZGFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRm9ybUl0ZW0gPSBfZm9ybTIuZGVmYXVsdC5JdGVtO1xuXHRcblx0dmFyIGZvcm1JdGVtTGF5b3V0ID0ge1xuXHQgIGxhYmVsQ29sOiB7XG5cdCAgICBzcGFuOiA2XG5cdCAgfSxcblx0ICB3cmFwcGVyQ29sOiB7XG5cdCAgICBzcGFuOiAxNFxuXHQgIH1cblx0fTtcblx0XG5cdHZhciBNb2RhbEZvcm0gPSBmdW5jdGlvbiBNb2RhbEZvcm0oX3JlZikge1xuXHQgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG5cdCAgICAgIF9yZWYkbW9kYWwgPSBfcmVmLm1vZGFsLFxuXHQgICAgICBsb2FkaW5nID0gX3JlZiRtb2RhbC5sb2FkaW5nLFxuXHQgICAgICBjdXJJdGVtID0gX3JlZiRtb2RhbC5jdXJJdGVtLFxuXHQgICAgICB0eXBlID0gX3JlZiRtb2RhbC50eXBlLFxuXHQgICAgICB2aXNpYmxlID0gX3JlZiRtb2RhbC52aXNpYmxlLFxuXHQgICAgICBfcmVmJGZvcm0gPSBfcmVmLmZvcm0sXG5cdCAgICAgIGdldEZpZWxkRGVjb3JhdG9yID0gX3JlZiRmb3JtLmdldEZpZWxkRGVjb3JhdG9yLFxuXHQgICAgICB2YWxpZGF0ZUZpZWxkcyA9IF9yZWYkZm9ybS52YWxpZGF0ZUZpZWxkcyxcblx0ICAgICAgcmVzZXRGaWVsZHMgPSBfcmVmJGZvcm0ucmVzZXRGaWVsZHM7XG5cdFxuXHQgIGZ1bmN0aW9uIGhhbmRsZU9rKCkge1xuXHQgICAgdmFsaWRhdGVGaWVsZHMoZnVuY3Rpb24gKGVycm9ycywgdmFsdWVzKSB7XG5cdCAgICAgIGlmIChlcnJvcnMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGRhdGEgPSAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCB2YWx1ZXMsIHtcblx0ICAgICAgICBpZDogY3VySXRlbS5pZCxcblx0ICAgICAgICBwb3dlcjogY3VySXRlbS5wb3dlclxuXHQgICAgICB9KTtcblx0ICAgICAgZGlzcGF0Y2goeyB0eXBlOiAhIWRhdGEuaWQgPyAnYWNjb3VudFJvbGUvdXBkYXRlJyA6ICdhY2NvdW50Um9sZS9jcmVhdGUnLCBwYXlsb2FkOiBkYXRhIH0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIHZhciBtb2RhbEZvcm1PcHRzID0ge1xuXHQgICAgdGl0bGU6IHR5cGUgPT09ICdjcmVhdGUnID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICBudWxsLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAncGx1cy1jaXJjbGUtbycgfSksXG5cdCAgICAgICcgXFx1NjVCMFxcdTVFRkFcXHU4OUQyXFx1ODI3Midcblx0ICAgICkgOiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIG51bGwsXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdlZGl0JyB9KSxcblx0ICAgICAgJyBcXHU0RkVFXFx1NjUzOVxcdTg5RDJcXHU4MjcyJ1xuXHQgICAgKSxcblx0ICAgIHZpc2libGU6IHZpc2libGUsXG5cdCAgICBvbk9rOiBoYW5kbGVPayxcblx0ICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHtcblx0ICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnbW9kYWwvaGlkZU1vZGFsJyB9KTtcblx0ICAgICAgcmVzZXRGaWVsZHMoKTsgLy/pnZ7luLjph43opoHvvIzlhbPpl63lkI7lv4Xpobvph43nva7mlbDmja5cblx0ICAgIH0sXG5cdFxuXHQgICAgd3JhcENsYXNzTmFtZTogJ3ZlcnRpY2FsLWNlbnRlci1tb2RhbCcsXG5cdCAgICBjbGFzc05hbWU6IF9Nb2RhbDIuZGVmYXVsdC5tb2RhbFdpZHRoLFxuXHQgICAgY29uZmlybUxvYWRpbmc6IGxvYWRpbmdcblx0ICB9O1xuXHRcblx0ICB2YXIgVXNlclBvd2VyR2VuID0gZnVuY3Rpb24gVXNlclBvd2VyR2VuKCkge1xuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Vc2VyUG93ZXIyLmRlZmF1bHQsIHsgcG93ZXJMaXN0OiBjdXJJdGVtLnBvd2VyIH0pO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgIF9tb2RhbDIuZGVmYXVsdCxcblx0ICAgIG1vZGFsRm9ybU9wdHMsXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX2Zvcm0yLmRlZmF1bHQsXG5cdCAgICAgIHsgaG9yaXpvbnRhbDogdHJ1ZSB9LFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHsgbGFiZWw6ICdcXHU4OUQyXFx1ODI3MlxcdTU0MERcXHU3OUYwXFx1RkYxQScsIGhhc0ZlZWRiYWNrOiB0cnVlIH0sIGZvcm1JdGVtTGF5b3V0KSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignbmFtZScsIHtcblx0ICAgICAgICAgIGluaXRpYWxWYWx1ZTogY3VySXRlbS5uYW1lLFxuXHQgICAgICAgICAgcnVsZXM6IFt7XG5cdCAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuXHQgICAgICAgICAgICBtZXNzYWdlOiAn6KeS6Imy5ZCN56ew5LiN6IO95Li656m6J1xuXHQgICAgICAgICAgfV1cblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaW5wdXQyLmRlZmF1bHQsIG51bGwpKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFVzZXJQb3dlckdlbiwgbnVsbClcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRNb2RhbEZvcm0ucHJvcFR5cGVzID0ge1xuXHQgIG1vZGFsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBmb3JtOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKF9yZWYyKSB7XG5cdCAgdmFyIG1vZGFsID0gX3JlZjIubW9kYWw7XG5cdFxuXHQgIGlmICghbW9kYWwuY3VySXRlbS5wb3dlcikge1xuXHQgICAgbW9kYWwuY3VySXRlbS5wb3dlciA9IHt9O1xuXHQgIH1cblx0ICByZXR1cm4geyBtb2RhbDogbW9kYWwgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9kdmEuY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzKShfZm9ybTIuZGVmYXVsdC5jcmVhdGUoKShNb2RhbEZvcm0pKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHlsZTYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTtcblx0XG5cdHZhciBfZm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXHRcblx0dmFyIF9mb3JtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zvcm0pO1xuXHRcblx0dmFyIF9zdHlsZTcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KTtcblx0XG5cdHZhciBfcm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTIpO1xuXHRcblx0dmFyIF9yb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm93KTtcblx0XG5cdHZhciBfc3R5bGU4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODgpO1xuXHRcblx0dmFyIF9jb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNyk7XG5cdFxuXHR2YXIgX2NvbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb2wpO1xuXHRcblx0dmFyIF9zdHlsZTkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0dmFyIF9zdHlsZTEwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIFNlYXJjaCA9IGZ1bmN0aW9uIFNlYXJjaChfcmVmKSB7XG5cdCAgdmFyIGZpZWxkID0gX3JlZi5maWVsZCxcblx0ICAgICAga2V5d29yZCA9IF9yZWYua2V5d29yZCxcblx0ICAgICAgYWRkUG93ZXIgPSBfcmVmLmFkZFBvd2VyLFxuXHQgICAgICBfb25TZWFyY2ggPSBfcmVmLm9uU2VhcmNoLFxuXHQgICAgICBvbkFkZCA9IF9yZWYub25BZGQsXG5cdCAgICAgIF9yZWYkZm9ybSA9IF9yZWYuZm9ybSxcblx0ICAgICAgZ2V0RmllbGREZWNvcmF0b3IgPSBfcmVmJGZvcm0uZ2V0RmllbGREZWNvcmF0b3IsXG5cdCAgICAgIHZhbGlkYXRlRmllbGRzID0gX3JlZiRmb3JtLnZhbGlkYXRlRmllbGRzLFxuXHQgICAgICBnZXRGaWVsZHNWYWx1ZSA9IF9yZWYkZm9ybS5nZXRGaWVsZHNWYWx1ZTtcblx0XG5cdCAgdmFyIHNlYXJjaEdyb3VwUHJvcHMgPSB7XG5cdCAgICBmaWVsZDogZmllbGQsXG5cdCAgICBrZXl3b3JkOiBrZXl3b3JkLFxuXHQgICAgc2l6ZTogJ2xhcmdlJyxcblx0ICAgIHNlbGVjdDogdHJ1ZSxcblx0ICAgIHNlbGVjdE9wdGlvbnM6IFt7IHZhbHVlOiAncm9sZU5hbWUnLCBuYW1lOiAn6KeS6Imy5ZCN56ewJyB9XSxcblx0ICAgIHNlbGVjdFByb3BzOiB7XG5cdCAgICAgIGRlZmF1bHRWYWx1ZTogZmllbGQgfHwgJ3JvbGVOYW1lJ1xuXHQgICAgfSxcblx0ICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaCh2YWx1ZSkge1xuXHQgICAgICBfb25TZWFyY2godmFsdWUpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgIF9yb3cyLmRlZmF1bHQsXG5cdCAgICB7IGd1dHRlcjogMjQgfSxcblx0ICAgIGFkZFBvd2VyICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICBfY29sMi5kZWZhdWx0LFxuXHQgICAgICB7IGxnOiAyNCwgbWQ6IDI0LCBzbTogMjQsIHhzOiAyNCwgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAxNiwgdGV4dEFsaWduOiAncmlnaHQnIH0gfSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcblx0ICAgICAgICB7IHNpemU6ICdsYXJnZScsIHR5cGU6ICdnaG9zdCcsIG9uQ2xpY2s6IG9uQWRkIH0sXG5cdCAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ3BsdXMtY2lyY2xlLW8nIH0pLFxuXHQgICAgICAgICdcXHU2REZCXFx1NTJBMCdcblx0ICAgICAgKVxuXHQgICAgKVxuXHQgICk7XG5cdH07XG5cdFxuXHRTZWFyY2gucHJvcFR5cGVzID0ge1xuXHQgIGZvcm06IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgb25TZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkFkZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGZpZWxkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICBrZXl3b3JkOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gX2Zvcm0yLmRlZmF1bHQuY3JlYXRlKCkoU2VhcmNoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDY3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHlsZTQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfdGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfdGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGFibGUpO1xuXHRcblx0dmFyIF9zdHlsZTUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9zdHlsZTYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtcblx0XG5cdHZhciBfY2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXHRcblx0dmFyIF9jbGFzcywgX3RlbXAyO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfb3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBDaGVja2JveEdyb3VwID0gX2NoZWNrYm94Mi5kZWZhdWx0Lkdyb3VwO1xuXHRcblx0dmFyIGdldFBvd2VyVGV4dCA9IGZ1bmN0aW9uIGdldFBvd2VyVGV4dChpdGVtKSB7XG5cdCAgdmFyIF9wb3dlck5hbWU7XG5cdFxuXHQgIHZhciBwb3dlck5hbWUgPSAoX3Bvd2VyTmFtZSA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfcG93ZXJOYW1lLCBfb3B0aW9ucy5NRU5VLCBcIuafpeeci+iPnOWNlVwiKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX3Bvd2VyTmFtZSwgX29wdGlvbnMuREVUQUlMLCBcIuafpeeci+ivpuaDhVwiKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX3Bvd2VyTmFtZSwgX29wdGlvbnMuQURELCBcIuaWsOWinlwiKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX3Bvd2VyTmFtZSwgX29wdGlvbnMuVVBEQVRFLCBcIuS/ruaUuVwiKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX3Bvd2VyTmFtZSwgX29wdGlvbnMuREVMRVRFLCBcIuWIoOmZpFwiKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTMuZGVmYXVsdCkoX3Bvd2VyTmFtZSwgX29wdGlvbnMuQ0hFQ0ssIFwi5a6h5qC4XCIpLCAoMCwgX2RlZmluZVByb3BlcnR5My5kZWZhdWx0KShfcG93ZXJOYW1lLCBfb3B0aW9ucy5VUExPQUQsIFwi5LiK5LygXCIpLCBfcG93ZXJOYW1lKTtcblx0ICB2YXIgb3B0aW9uc1Bvd2VyTmFtZSA9IGl0ZW0ucG93ZXIubWFwKGZ1bmN0aW9uIChjdXIpIHtcblx0ICAgIHJldHVybiB7IGxhYmVsOiBwb3dlck5hbWVbY3VyXSwgdmFsdWU6IGN1ciB9O1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gb3B0aW9uc1Bvd2VyTmFtZTtcblx0fTtcblx0XG5cdHZhciBVc2VyUG93ZXIgPSAoX3RlbXAyID0gX2NsYXNzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShVc2VyUG93ZXIsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBVc2VyUG93ZXIoKSB7XG5cdCAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXHRcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFVzZXJQb3dlcik7XG5cdFxuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMuZGVmYXVsdCkodGhpcywgX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgdXNlclBvd2VyOiBfdGhpcy5wcm9wcy5wb3dlckxpc3Rcblx0ICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KShfdGhpcywgX3JldCk7XG5cdCAgfVxuXHRcblx0ICBVc2VyUG93ZXIucHJvdG90eXBlLm9uQ2hhbmdlUG93ZXIgPSBmdW5jdGlvbiBvbkNoYW5nZVBvd2VyKGNoZWNrZWRWYWx1ZXMsIGl0ZW0pIHtcblx0ICAgIGlmICghIWNoZWNrZWRWYWx1ZXMubGVuZ3RoKSB7XG5cdCAgICAgIHRoaXMuc3RhdGUudXNlclBvd2VyW2l0ZW0uaWRdID0gY2hlY2tlZFZhbHVlcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLnVzZXJQb3dlcltpdGVtLmlkXTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0U3RhdGUoeyB1c2VyUG93ZXI6IHRoaXMuc3RhdGUudXNlclBvd2VyIH0pO1xuXHQgIH07XG5cdFxuXHQgIFVzZXJQb3dlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGNvbHVtbnMgPSBbe1xuXHQgICAgICB0aXRsZTogJ+iPnOWNlemAiemhuScsXG5cdCAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxuXHQgICAgICB3aWR0aDogJzMwJScsXG5cdCAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHRleHQsIHJlY29yZCkge1xuXHQgICAgICAgIHJldHVybiByZWNvcmQuaWNvbiA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6IHJlY29yZC5pY29uIH0pLFxuXHQgICAgICAgICAgJyAnLFxuXHQgICAgICAgICAgdGV4dFxuXHQgICAgICAgICkgOiB0ZXh0O1xuXHQgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgIHRpdGxlOiAn5pON5L2c5p2D6ZmQJyxcblx0ICAgICAgd2lkdGg6ICc2MCUnLFxuXHQgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcih0ZXh0LCByZWNvcmQpIHtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3hHcm91cCwgeyBvcHRpb25zOiBnZXRQb3dlclRleHQocmVjb3JkKSwgdmFsdWU6IF90aGlzMi5zdGF0ZS51c2VyUG93ZXJbcmVjb3JkLmlkXSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNoZWNrZWRWYWx1ZXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNoYW5nZVBvd2VyKGNoZWNrZWRWYWx1ZXMsIHJlY29yZCk7XG5cdCAgICAgICAgICB9IH0pO1xuXHQgICAgICB9XG5cdCAgICB9XTtcblx0XG5cdCAgICB2YXIgcm93U2VsZWN0aW9uID0ge1xuXHQgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpIHt9LFxuXHQgICAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QocmVjb3JkLCBzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzKSB7XG5cdCAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG5cdCAgICAgICAgICBfdGhpczIuc3RhdGUudXNlclBvd2VyW3JlY29yZC5pZF0gPSByZWNvcmQucG93ZXI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGRlbGV0ZSBfdGhpczIuc3RhdGUudXNlclBvd2VyW3JlY29yZC5pZF07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IHVzZXJQb3dlcjogX3RoaXMyLnN0YXRlLnVzZXJQb3dlciB9KTtcblx0ICAgICAgfSxcblx0ICAgICAgb25TZWxlY3RBbGw6IGZ1bmN0aW9uIG9uU2VsZWN0QWxsKHNlbGVjdGVkLCBzZWxlY3RlZFJvd3MsIGNoYW5nZVJvd3MpIHtcblx0ICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcblx0ICAgICAgICAgIHZhciB1c2VyUG93ZXJBbGwgPSBzZWxlY3RlZFJvd3MucmVkdWNlKGZ1bmN0aW9uIChwb3dlciwgaXRlbSkge1xuXHQgICAgICAgICAgICBfdGhpczIuc3RhdGUudXNlclBvd2VyW2l0ZW0uaWRdID0gaXRlbS5wb3dlcjtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zdGF0ZS51c2VyUG93ZXI7XG5cdCAgICAgICAgICB9LCB7fSk7XG5cdCAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyB1c2VyUG93ZXI6IHVzZXJQb3dlckFsbCB9KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZm9yICh2YXIga2V5IGluIF90aGlzMi5zdGF0ZS51c2VyUG93ZXIpIHtcblx0ICAgICAgICAgICAgZGVsZXRlIF90aGlzMi5zdGF0ZS51c2VyUG93ZXJba2V5XTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IHVzZXJQb3dlcjogX3RoaXMyLnN0YXRlLnVzZXJQb3dlciB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sXG5cdCAgICAgIGdldENoZWNrYm94UHJvcHM6IGZ1bmN0aW9uIGdldENoZWNrYm94UHJvcHMocmVjb3JkKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIC8vIGRpc2FibGVkOiBmYWxzZSxcblx0ICAgICAgICAgIGRlZmF1bHRDaGVja2VkOiAoMCwgX3V0aWxzLmVxdWFsU2V0KShyZWNvcmQucG93ZXIsIF90aGlzMi5zdGF0ZS51c2VyUG93ZXJbcmVjb3JkLmlkXSlcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfdGFibGUyLmRlZmF1bHQsIHtcblx0ICAgICAgY29sdW1uczogY29sdW1ucyxcblx0ICAgICAgZGF0YVNvdXJjZTogX3V0aWxzLm1lbnUsXG5cdCAgICAgIGJvcmRlcmVkOiB0cnVlLFxuXHQgICAgICBzY3JvbGw6IHsgeDogMTAwMCB9LFxuXHQgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcblx0ICAgICAgc2ltcGxlOiB0cnVlLFxuXHQgICAgICBzaXplOiAnc21hbGwnLFxuXHQgICAgICBkZWZhdWx0RXhwYW5kQWxsUm93czogdHJ1ZSxcblx0ICAgICAgcm93U2VsZWN0aW9uOiByb3dTZWxlY3Rpb24sXG5cdCAgICAgIHJvd0tleTogZnVuY3Rpb24gcm93S2V5KHJlY29yZCkge1xuXHQgICAgICAgIHJldHVybiByZWNvcmQua2V5O1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVXNlclBvd2VyO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpLCBfY2xhc3MucHJvcFR5cGVzID0ge1xuXHQgIHBvd2VyTGlzdDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9LCBfdGVtcDIpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBVc2VyUG93ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGUyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0NDApO1xuXHRcblx0dmFyIF9tZXNzYWdlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzkpO1xuXHRcblx0dmFyIF9tZXNzYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21lc3NhZ2UpO1xuXHRcblx0dmFyIF9zdHJpbmdpZnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3Myk7XG5cdFxuXHR2YXIgX3N0cmluZ2lmeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdpZnkpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX3FzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9yb2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMjUpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IHtcblx0ICBuYW1lc3BhY2U6ICdhY2NvdW50Um9sZScsXG5cdCAgc3RhdGU6IHtcblx0ICAgIGxpc3Q6IFtdLFxuXHQgICAgbG9hZGluZzogZmFsc2Vcblx0ICB9LFxuXHRcblx0ICBzdWJzY3JpcHRpb25zOiB7XG5cdCAgICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX3JlZikge1xuXHQgICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuXHQgICAgICAgICAgaGlzdG9yeSA9IF9yZWYuaGlzdG9yeTtcblx0XG5cdCAgICAgIGhpc3RvcnkubGlzdGVuKGZ1bmN0aW9uIChsb2NhdGlvbikge1xuXHQgICAgICAgIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuXHQgICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy9hY2NvdW50L3JvbGUnKSB7XG5cdCAgICAgICAgICB2YXIgY3VyUG93ZXJzID0gKDAsIF91dGlscy5nZXRDdXJQb3dlcnMpKHBhdGhuYW1lKTtcblx0ICAgICAgICAgIGlmIChjdXJQb3dlcnMpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzOiBjdXJQb3dlcnMgfSB9KTtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknLCBwYXlsb2FkOiBsb2NhdGlvbi5xdWVyeSB9KTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGRpc3BhdGNoKF9yb3V0ZXIucm91dGVyUmVkdXgucHVzaCh7IHBhdGhuYW1lOiAnL25vLXBvd2VyJyB9KSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHRcblx0ICBlZmZlY3RzOiB7XG5cdCAgICBxdWVyeTogX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gcXVlcnkoX3JlZjIsIF9yZWYzKSB7XG5cdCAgICAgIHZhciBwYXlsb2FkID0gX3JlZjIucGF5bG9hZDtcblx0ICAgICAgdmFyIGNhbGwgPSBfcmVmMy5jYWxsLFxuXHQgICAgICAgICAgcHV0ID0gX3JlZjMucHV0O1xuXHQgICAgICB2YXIgZGF0YTtcblx0ICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIHF1ZXJ5JChfY29udGV4dCkge1xuXHQgICAgICAgIHdoaWxlICgxKSB7XG5cdCAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMjpcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDtcblx0ICAgICAgICAgICAgICByZXR1cm4gY2FsbChfcm9sZS5xdWVyeSwgKDAsIF9xcy5wYXJzZSkocGF5bG9hZCkpO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA0OlxuXHQgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50O1xuXHRcblx0ICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2Vzcykge1xuXHQgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoe1xuXHQgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5U3VjY2VzcycsXG5cdCAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG5cdCAgICAgICAgICAgICAgICAgIGxpc3Q6IGRhdGEubGlzdFxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA4OlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTA6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIHF1ZXJ5LCB0aGlzKTtcblx0ICAgIH0pLFxuXHQgICAgZGVsZXRlOiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBfZGVsZXRlKF9yZWY0LCBfcmVmNSkge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWY0LnBheWxvYWQ7XG5cdCAgICAgIHZhciBjYWxsID0gX3JlZjUuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWY1LnB1dDtcblx0ICAgICAgdmFyIGRhdGE7XG5cdCAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBfZGVsZXRlJChfY29udGV4dDIpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdzaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuXHQgICAgICAgICAgICAgIHJldHVybiBjYWxsKF9yb2xlLnJlbW92ZSwgeyBpZDogcGF5bG9hZCB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNDpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA3OlxuXHQgICAgICAgICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSkge1xuXHQgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ21vZGFsL2hpZGVNb2RhbCcgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDEwOlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdxdWVyeScgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDEyOlxuXHQgICAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSwgX2RlbGV0ZSwgdGhpcyk7XG5cdCAgICB9KSxcblx0ICAgIGNyZWF0ZTogX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gY3JlYXRlKF9yZWY2LCBfcmVmNykge1xuXHQgICAgICB2YXIgcGF5bG9hZCA9IF9yZWY2LnBheWxvYWQ7XG5cdCAgICAgIHZhciBjYWxsID0gX3JlZjcuY2FsbCxcblx0ICAgICAgICAgIHB1dCA9IF9yZWY3LnB1dDtcblx0ICAgICAgdmFyIHBhcmFtcywgZGF0YTtcblx0ICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIGNyZWF0ZSQoX2NvbnRleHQzKSB7XG5cdCAgICAgICAgd2hpbGUgKDEpIHtcblx0ICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuXHQgICAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnbW9kYWwvc2hvd0xvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgICAgIHBhcmFtcyA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBheWxvYWQsIHsgcG93ZXI6ICgwLCBfc3RyaW5naWZ5Mi5kZWZhdWx0KShwYXlsb2FkLnBvd2VyKSB9KTtcblx0ICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNhbGwoX3JvbGUuY3JlYXRlLCBwYXJhbXMpO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA1OlxuXHQgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDMuc2VudDtcblx0ICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDg6XG5cdCAgICAgICAgICAgICAgaWYgKCEoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MpKSB7XG5cdCAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzO1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExO1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZU1vZGFsJyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTE6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMztcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ3F1ZXJ5JyB9KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTM6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCBjcmVhdGUsIHRoaXMpO1xuXHQgICAgfSksXG5cdCAgICB1cGRhdGU6IF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIHVwZGF0ZShfcmVmOCwgX3JlZjkpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSBfcmVmOC5wYXlsb2FkO1xuXHQgICAgICB2YXIgY2FsbCA9IF9yZWY5LmNhbGwsXG5cdCAgICAgICAgICBwdXQgPSBfcmVmOS5wdXQ7XG5cdCAgICAgIHZhciBuZXdSb2xlLCBkYXRhO1xuXHQgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gdXBkYXRlJChfY29udGV4dDQpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgbmV3Um9sZSA9ICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHBheWxvYWQsIHsgcG93ZXI6ICgwLCBfc3RyaW5naWZ5Mi5kZWZhdWx0KShwYXlsb2FkLnBvd2VyKSB9KTtcblx0ICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNhbGwoX3JvbGUudXBkYXRlLCBuZXdSb2xlKTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNTpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQ0LnNlbnQ7XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4O1xuXHQgICAgICAgICAgICAgIHJldHVybiBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZUxvYWRpbmcnIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSA4OlxuXHQgICAgICAgICAgICAgIGlmICghKGRhdGEgJiYgZGF0YS5zdWNjZXNzKSkge1xuXHQgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDtcblx0ICAgICAgICAgICAgICAgIGJyZWFrO1xuXHQgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHsgdHlwZTogJ21vZGFsL2hpZGVNb2RhbCcgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDExOlxuXHQgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdxdWVyeScgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDEzOlxuXHQgICAgICAgICAgICAgIF9tZXNzYWdlMi5kZWZhdWx0LnN1Y2Nlc3MoXCLop5LoibLkv67mlLnmiJDlip8sIOazqOmUgOeZu+W9leWQjumHjeaWsOeZu+W9leWNs+WPr+eUn+aViO+8gVwiKTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgMTQ6XG5cdCAgICAgICAgICAgIGNhc2UgJ2VuZCc6XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCB1cGRhdGUsIHRoaXMpO1xuXHQgICAgfSlcblx0ICB9LFxuXHRcblx0ICByZWR1Y2Vyczoge1xuXHQgICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uIHNob3dMb2FkaW5nKHN0YXRlKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgeyBsb2FkaW5nOiB0cnVlIH0pO1xuXHQgICAgfSxcblx0ICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbiBoaWRlTG9hZGluZyhzdGF0ZSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgbG9hZGluZzogZmFsc2UgfSk7XG5cdCAgICB9LFxuXHQgICAgcXVlcnlTdWNjZXNzOiBmdW5jdGlvbiBxdWVyeVN1Y2Nlc3Moc3RhdGUsIGFjdGlvbikge1xuXHQgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIGFjdGlvbi5wYXlsb2FkKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNzE0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfZHZhID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdFxuXHR2YXIgX0xpc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3Myk7XG5cdFxuXHR2YXIgX0xpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlzdCk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oNjc1KTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHR2YXIgX01vZGFsRm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oNjc0KTtcblx0XG5cdHZhciBfTW9kYWxGb3JtMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsRm9ybSk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX29wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBSb2xlKF9yZWYpIHtcblx0ICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uLFxuXHQgICAgICBjdXJQb3dlcnMgPSBfcmVmLmN1clBvd2Vycyxcblx0ICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuXHQgICAgICBhY2NvdW50Um9sZSA9IF9yZWYuYWNjb3VudFJvbGU7XG5cdCAgdmFyIGxpc3QgPSBhY2NvdW50Um9sZS5saXN0LFxuXHQgICAgICBsb2FkaW5nID0gYWNjb3VudFJvbGUubG9hZGluZztcblx0ICB2YXIgX2xvY2F0aW9uJHF1ZXJ5ID0gbG9jYXRpb24ucXVlcnksXG5cdCAgICAgIGZpZWxkID0gX2xvY2F0aW9uJHF1ZXJ5LmZpZWxkLFxuXHQgICAgICBrZXl3b3JkID0gX2xvY2F0aW9uJHF1ZXJ5LmtleXdvcmQ7XG5cdFxuXHRcblx0ICB2YXIgYWRkUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLkFERCwgY3VyUG93ZXJzKTtcblx0ICB2YXIgdXBkYXRlUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLlVQREFURSwgY3VyUG93ZXJzKTtcblx0ICB2YXIgZGVsZXRlUG93ZXIgPSAoMCwgX3V0aWxzLmNoZWNrUG93ZXIpKF9vcHRpb25zLkRFTEVURSwgY3VyUG93ZXJzKTtcblx0XG5cdCAgdmFyIHJvbGVMaXN0UHJvcHMgPSB7XG5cdCAgICBkYXRhU291cmNlOiBsaXN0LFxuXHQgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcblx0ICAgIHVwZGF0ZVBvd2VyOiB1cGRhdGVQb3dlcixcblx0ICAgIGRlbGV0ZVBvd2VyOiBkZWxldGVQb3dlcixcblx0ICAgIG9uRGVsZXRlSXRlbTogZnVuY3Rpb24gb25EZWxldGVJdGVtKGlkKSB7XG5cdCAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ2FjY291bnRSb2xlL2RlbGV0ZScsIHBheWxvYWQ6IGlkIH0pO1xuXHQgICAgfSxcblx0ICAgIG9uRWRpdEl0ZW06IGZ1bmN0aW9uIG9uRWRpdEl0ZW0oaXRlbSkge1xuXHQgICAgICBkaXNwYXRjaCh7XG5cdCAgICAgICAgdHlwZTogJ21vZGFsL3Nob3dNb2RhbCcsXG5cdCAgICAgICAgcGF5bG9hZDoge1xuXHQgICAgICAgICAgdHlwZTogJ3VwZGF0ZScsXG5cdCAgICAgICAgICBjdXJJdGVtOiBpdGVtXG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgcm9sZVNlYXJjaFByb3BzID0ge1xuXHQgICAgZmllbGQ6IGZpZWxkLFxuXHQgICAga2V5d29yZDoga2V5d29yZCxcblx0ICAgIGFkZFBvd2VyOiBhZGRQb3dlcixcblx0ICAgIG9uQWRkOiBmdW5jdGlvbiBvbkFkZCgpIHtcblx0ICAgICAgZGlzcGF0Y2goe1xuXHQgICAgICAgIHR5cGU6ICdtb2RhbC9zaG93TW9kYWwnLFxuXHQgICAgICAgIHBheWxvYWQ6IHtcblx0ICAgICAgICAgIHR5cGU6ICdjcmVhdGUnXG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgUm9sZU1vZGFsR2VuID0gZnVuY3Rpb24gUm9sZU1vZGFsR2VuKCkge1xuXHQgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Nb2RhbEZvcm0yLmRlZmF1bHQsIG51bGwpO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6ICdjb250ZW50LWlubmVyJyB9LFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NlYXJjaDIuZGVmYXVsdCwgcm9sZVNlYXJjaFByb3BzKSxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9MaXN0Mi5kZWZhdWx0LCByb2xlTGlzdFByb3BzKSxcblx0ICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJvbGVNb2RhbEdlbiwgbnVsbClcblx0ICApO1xuXHR9XG5cdFxuXHRSb2xlLnByb3BUeXBlcyA9IHtcblx0ICBhY2NvdW50Um9sZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgbG9jYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGRpc3BhdGNoOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhfcmVmMikge1xuXHQgIHZhciBhY2NvdW50Um9sZSA9IF9yZWYyLmFjY291bnRSb2xlO1xuXHRcblx0ICByZXR1cm4geyBhY2NvdW50Um9sZTogYWNjb3VudFJvbGUgfTtcblx0fVxuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9kdmEuY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzKShSb2xlKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widGFibGVcIjpcInRhYmxlX19fMm1xSDdcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDg1OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wibW9kYWxXaWR0aFwiOlwibW9kYWxXaWR0aF9fX0t2em1iXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fLCBfX3dlYnBhY2tfbW9kdWxlX3RlbXBsYXRlX2FyZ3VtZW50XzBfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfbW9kdWxlX3RlbXBsYXRlX2FyZ3VtZW50XzBfXyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhY2NvdW50LXJvbGUuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNDaGVja2JveCA9IHJlcXVpcmUoJ3JjLWNoZWNrYm94Jyk7XG5cbnZhciBfcmNDaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NoZWNrYm94KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0dyb3VwID0gcmVxdWlyZSgnLi9Hcm91cCcpO1xuXG52YXIgX0dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyb3VwKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDaGVja2JveCgpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBDaGVja2JveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgc3R5bGUgPSBfYS5zdHlsZSxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICBpbmRldGVybWluYXRlID0gX2EuaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgIG9uTW91c2VFbnRlciA9IF9hLm9uTW91c2VFbnRlcixcbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZSA9IF9hLm9uTW91c2VMZWF2ZSxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wicHJlZml4Q2xzXCIsIFwic3R5bGVcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImluZGV0ZXJtaW5hdGVcIiwgXCJvbk1vdXNlRW50ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIl0pO1xuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCB0cnVlKSk7XG4gICAgICAgIHZhciBjaGVja2JveENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctaW5kZXRlcm1pbmF0ZScsIGluZGV0ZXJtaW5hdGUpKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUsIG9uTW91c2VFbnRlcjogb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNDaGVja2JveDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjaGVja2JveENsYXNzLCBjaGlsZHJlbjogbnVsbCB9KSksXG4gICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENoZWNrYm94O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94O1xuXG5DaGVja2JveC5Hcm91cCA9IF9Hcm91cDJbXCJkZWZhdWx0XCJdO1xuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1jaGVja2JveCcsXG4gICAgaW5kZXRlcm1pbmF0ZTogZmFsc2Vcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9jaGVja2JveC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5VTlNFTEVDVEFCTEVfQVRUUklCVVRFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfU1RZTEUgPSB1bmRlZmluZWQ7XG5leHBvcnRzLmdldFZhbHVlUHJvcFZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWU7XG5leHBvcnRzLmdldFByb3BWYWx1ZSA9IGdldFByb3BWYWx1ZTtcbmV4cG9ydHMuaXNDb21ib2JveCA9IGlzQ29tYm9ib3g7XG5leHBvcnRzLmlzTXVsdGlwbGVPclRhZ3MgPSBpc011bHRpcGxlT3JUYWdzO1xuZXhwb3J0cy5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCA9IGlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94O1xuZXhwb3J0cy5pc1NpbmdsZU1vZGUgPSBpc1NpbmdsZU1vZGU7XG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuZXhwb3J0cy5wcmV2ZW50RGVmYXVsdEV2ZW50ID0gcHJldmVudERlZmF1bHRFdmVudDtcbmV4cG9ydHMuZmluZEluZGV4SW5WYWx1ZUJ5S2V5ID0gZmluZEluZGV4SW5WYWx1ZUJ5S2V5O1xuZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCA9IGZpbmRJbmRleEluVmFsdWVCeUxhYmVsO1xuZXhwb3J0cy5nZXRTZWxlY3RLZXlzID0gZ2V0U2VsZWN0S2V5cztcbmV4cG9ydHMuZmluZEZpcnN0TWVudUl0ZW0gPSBmaW5kRmlyc3RNZW51SXRlbTtcbmV4cG9ydHMuaW5jbHVkZXNTZXBhcmF0b3JzID0gaW5jbHVkZXNTZXBhcmF0b3JzO1xuZXhwb3J0cy5zcGxpdEJ5U2VwYXJhdG9ycyA9IHNwbGl0QnlTZXBhcmF0b3JzO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCkge1xuICB2YXIgcHJvcHMgPSBjaGlsZC5wcm9wcztcbiAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWU7XG4gIH1cbiAgaWYgKGNoaWxkLmtleSkge1xuICAgIHJldHVybiBjaGlsZC5rZXk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdubyBrZXkgb3IgdmFsdWUgZm9yICcgKyBjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BWYWx1ZShjaGlsZCwgcHJvcCkge1xuICBpZiAocHJvcCA9PT0gJ3ZhbHVlJykge1xuICAgIHJldHVybiBnZXRWYWx1ZVByb3BWYWx1ZShjaGlsZCk7XG4gIH1cbiAgcmV0dXJuIGNoaWxkLnByb3BzW3Byb3BdO1xufVxuXG5mdW5jdGlvbiBpc0NvbWJvYm94KHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5jb21ib2JveDtcbn1cblxuZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFncyhwcm9wcykge1xuICByZXR1cm4gcHJvcHMubXVsdGlwbGUgfHwgcHJvcHMudGFncztcbn1cblxuZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gocHJvcHMpIHtcbiAgcmV0dXJuIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHx8IGlzQ29tYm9ib3gocHJvcHMpO1xufVxuXG5mdW5jdGlvbiBpc1NpbmdsZU1vZGUocHJvcHMpIHtcbiAgcmV0dXJuICFpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveChwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgdmFyIHJldCA9IHZhbHVlO1xuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldCA9IFtdO1xuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldCA9IFt2YWx1ZV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHRFdmVudChlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5S2V5KHZhbHVlLCBrZXkpIHtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodmFsdWVbaV0ua2V5ID09PSBrZXkpIHtcbiAgICAgIGluZGV4ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleEluVmFsdWVCeUxhYmVsKHZhbHVlLCBsYWJlbCkge1xuICB2YXIgaW5kZXggPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0b0FycmF5KHZhbHVlW2ldLmxhYmVsKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcbiAgICAgIGluZGV4ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdEtleXMobWVudUl0ZW1zLCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgc2VsZWN0ZWRLZXlzID0gW107XG4gIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gobWVudUl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG4gICAgICBzZWxlY3RlZEtleXMgPSBzZWxlY3RlZEtleXMuY29uY2F0KGdldFNlbGVjdEtleXMoaXRlbS5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGl0ZW1WYWx1ZSA9IGdldFZhbHVlUHJvcFZhbHVlKGl0ZW0pO1xuICAgICAgdmFyIGl0ZW1LZXkgPSBpdGVtLmtleTtcbiAgICAgIGlmIChmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGl0ZW1WYWx1ZSkgIT09IC0xICYmIGl0ZW1LZXkpIHtcbiAgICAgICAgc2VsZWN0ZWRLZXlzLnB1c2goaXRlbUtleSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNlbGVjdGVkS2V5cztcbn1cblxudmFyIFVOU0VMRUNUQUJMRV9TVFlMRSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0ge1xuICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gIFdlYmtpdFVzZXJTZWxlY3Q6ICdub25lJ1xufTtcblxudmFyIFVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSB7XG4gIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcbn07XG5cbmZ1bmN0aW9uIGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkcmVuKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudHlwZS5pc01lbnVJdGVtR3JvdXApIHtcbiAgICAgIHZhciBmb3VuZCA9IGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkLnByb3BzLmNoaWxkcmVuKTtcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzU2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXBhcmF0b3JzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHN0cmluZy5sYXN0SW5kZXhPZihzZXBhcmF0b3JzW2ldKSA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNwbGl0QnlTZXBhcmF0b3JzKHN0cmluZywgc2VwYXJhdG9ycykge1xuICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnWycgKyBzZXBhcmF0b3JzLmpvaW4oKSArICddJyk7XG4gIHZhciBhcnJheSA9IHN0cmluZy5zcGxpdChyZWcpO1xuICBpZiAoYXJyYXlbMF0gPT09ICcnKSB7XG4gICAgYXJyYXkuc2hpZnQoKTtcbiAgfVxuICBpZiAoYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG4gICAgYXJyYXkucG9wKCk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvdXRpbC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMudG9BcnJheUNoaWxkcmVuID0gdG9BcnJheUNoaWxkcmVuO1xuZXhwb3J0cy5kYXRhVG9BcnJheSA9IGRhdGFUb0FycmF5O1xuZXhwb3J0cy5vYmplY3RFcXVhbCA9IG9iamVjdEVxdWFsO1xuZXhwb3J0cy5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkgPSBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXk7XG5leHBvcnRzLm1lcmdlQ2hpbGRyZW4gPSBtZXJnZUNoaWxkcmVuO1xuZXhwb3J0cy50cmFuc2Zvcm1Bcmd1bWVudHMgPSB0cmFuc2Zvcm1Bcmd1bWVudHM7XG5leHBvcnRzLmdldENoaWxkcmVuRnJvbVByb3BzID0gZ2V0Q2hpbGRyZW5Gcm9tUHJvcHM7XG5leHBvcnRzLnN0YXJ0Q29udmVydFRvRW5kVW5pdCA9IHN0YXJ0Q29udmVydFRvRW5kVW5pdDtcbmV4cG9ydHMucGFyc2VQYXRoID0gcGFyc2VQYXRoO1xuZXhwb3J0cy5nZXRUcmFuc2Zvcm1WYWx1ZSA9IGdldFRyYW5zZm9ybVZhbHVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfZGVlcEVxbCA9IHJlcXVpcmUoJ2RlZXAtZXFsJyk7XG5cbnZhciBfZGVlcEVxbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXFsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvQXJyYXlDaGlsZHJlbihjaGlsZHJlbikge1xuICB2YXIgcmV0ID0gW107XG4gIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjKSB7XG4gICAgcmV0LnB1c2goYyk7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkYXRhVG9BcnJheSh2YXJzKSB7XG4gIGlmICghdmFycyAmJiB2YXJzICE9PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhcnMpKSB7XG4gICAgcmV0dXJuIHZhcnM7XG4gIH1cbiAgcmV0dXJuIFt2YXJzXTtcbn1cblxuZnVuY3Rpb24gb2JqZWN0RXF1YWwob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMiB8fCAoMCwgX2RlZXBFcWwyW1wiZGVmYXVsdFwiXSkob2JqMSwgb2JqMikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIW9iajEgfHwgIW9iajIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gYW5pbWF0aW9uIOWGmeWcqOagh+etvuS4iueahOi/m+ihjOWIpOaWreaYr+WQpuebuOetie+8jCDliKTmlq3mr4/kuKrlj4LmlbDmnInmsqHmnIkgZnVuY3Rpb247XG4gIHZhciBlcXVhbEJvb2wgPSB0cnVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSAmJiBBcnJheS5pc0FycmF5KG9iajIpKSB7XG4gICAgaWYgKG9iajEubGVuZ3RoICE9PSBvYmoyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iajEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXJyZW50T2JqID0gb2JqMVtpXTtcbiAgICAgIHZhciBuZXh0T2JqID0gb2JqMltpXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY3VycmVudE9iaikge1xuICAgICAgICBpZiAoY3VycmVudE9ialtwXSAhPT0gbmV4dE9ialtwXSkge1xuICAgICAgICAgIGlmIChfdHlwZW9mKGN1cnJlbnRPYmpbcF0pID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG5leHRPYmpbcF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZXF1YWxCb29sID0gb2JqZWN0RXF1YWwoY3VycmVudE9ialtwXSwgbmV4dE9ialtwXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY3VycmVudE9ialtwXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgbmV4dE9ialtwXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmpbcF0ubmFtZSAhPT0gbmV4dE9ialtwXS5uYW1lKSB7XG4gICAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgc2V0RXF1YWxCb29sID0gZnVuY3Rpb24gc2V0RXF1YWxCb29sKG9iakEsIG9iakIpIHtcbiAgICBPYmplY3Qua2V5cyhvYmpBKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghKGtleSBpbiBvYmpCKSkge1xuICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90eXBlb2Yob2JqQVtrZXldKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihvYmpCW2tleV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChvYmpBW2tleV0sIG9iakJba2V5XSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpBW2tleV0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iakJba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAob2JqQVtrZXldLm5hbWUgIT09IG9iakJba2V5XS5uYW1lKSB7XG4gICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2JqQVtrZXldICE9PSBvYmpCW2tleV0pIHtcbiAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgc2V0RXF1YWxCb29sKG9iajEsIG9iajIpO1xuICBzZXRFcXVhbEJvb2wob2JqMiwgb2JqMSk7XG4gIHJldHVybiBlcXVhbEJvb2w7XG59XG5cbmZ1bmN0aW9uIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5KSB7XG4gIHZhciByZXQgPSBudWxsO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAocmV0IHx8ICFjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChjLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldCA9IGM7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDaGlsZHJlbihwcmV2LCBuZXh0KSB7XG4gIHZhciByZXQgPSBbXTtcbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0Q2hpbGRyZW5QZW5kaW5nID0ge307XG4gIHZhciBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgdmFyIGZvbGxvd0NoaWxkcmVuS2V5ID0gdm9pZCAwO1xuICBwcmV2LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICBpZiAoIWMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0LCBjLmtleSkpIHtcbiAgICAgIGlmIChwZW5kaW5nQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIG5leHRDaGlsZHJlblBlbmRpbmdbYy5rZXldID0gcGVuZGluZ0NoaWxkcmVuO1xuICAgICAgICBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgICAgIH1cbiAgICAgIGZvbGxvd0NoaWxkcmVuS2V5ID0gYy5rZXk7XG4gICAgfSBlbHNlIGlmIChjLmtleSkge1xuICAgICAgcGVuZGluZ0NoaWxkcmVuLnB1c2goYyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFmb2xsb3dDaGlsZHJlbktleSkge1xuICAgIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcbiAgfVxuXG4gIG5leHQuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIGlmICghYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmV4dENoaWxkcmVuUGVuZGluZy5oYXNPd25Qcm9wZXJ0eShjLmtleSkpIHtcbiAgICAgIHJldCA9IHJldC5jb25jYXQobmV4dENoaWxkcmVuUGVuZGluZ1tjLmtleV0pO1xuICAgIH1cbiAgICByZXQucHVzaChjKTtcbiAgICBpZiAoYy5rZXkgPT09IGZvbGxvd0NoaWxkcmVuS2V5KSB7XG4gICAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1Bcmd1bWVudHMoYXJnLCBrZXksIGkpIHtcbiAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXN1bHQgPSBhcmcoe1xuICAgICAga2V5OiBrZXksXG4gICAgICBpbmRleDogaVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IGFyZztcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXRDaGlsZHJlbkZyb21Qcm9wcyhwcm9wcykge1xuICByZXR1cm4gcHJvcHMgJiYgcHJvcHMuY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29udmVydFRvRW5kVW5pdCh0YXJnZXQsIHN0eWxlLCBudW0sIHVuaXQsIGRhdGFVbml0LCBmaXhlZCwgaXNPcmlnaW5XaWR0aCkge1xuICB2YXIgaG9yaXogPSAvKD86TGVmdHxSaWdodHxXaWR0aHxYKS9pLnRlc3Qoc3R5bGUpIHx8IGlzT3JpZ2luV2lkdGg7XG4gIHZhciB0ID0gc3R5bGUuaW5kZXhPZignYm9yZGVyJykgIT09IC0xID8gdGFyZ2V0IDogdGFyZ2V0LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keTtcbiAgdCA9IGZpeGVkID8gZG9jdW1lbnQuYm9keSA6IHQ7XG4gIHZhciBwaXggPSB2b2lkIDA7XG5cbiAgaWYgKHVuaXQgPT09ICclJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDEwMCAqIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3Z3Jykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLyAxMDA7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0IC8gMTAwO1xuICB9IGVsc2UgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvZW0vaSkpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiAxNjtcbiAgfSBlbHNlIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSk7XG4gIH1cbiAgaWYgKGRhdGFVbml0ID09PSAnJScpIHtcbiAgICBwaXggPSBwaXggKiAxMDAgLyAoaG9yaXogPyB0LmNsaWVudFdpZHRoIDogdC5jbGllbnRIZWlnaHQpO1xuICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndncnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqIDEwMDtcbiAgfSBlbHNlIGlmIChkYXRhVW5pdCA9PT0gJ3ZoJykge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogMTAwO1xuICB9IGVsc2UgaWYgKGRhdGFVbml0ICYmIGRhdGFVbml0Lm1hdGNoKC9lbS9pKSkge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDE2O1xuICB9XG4gIHJldHVybiBwaXg7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAocGF0aC5jaGFyQXQoMCkubWF0Y2goL20vaSkpIHtcbiAgICAgIHZhciBkb21QYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XG4gICAgICBkb21QYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgcGF0aCk7XG4gICAgICByZXR1cm4gZG9tUGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGF0aCk7XG4gIH0gZWxzZSBpZiAocGF0aC5zdHlsZSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgcGFyc2luZyB0aGUgcGF0aCcpO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1WYWx1ZSh0LCBzdXBwb3J0czNEKSB7XG4gIGlmICh0eXBlb2YgdCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdDtcbiAgfVxuICB2YXIgcGVyc3BlY3RpdmUgPSB0LnBlcnNwZWN0aXZlO1xuICB2YXIgYW5nbGUgPSB0LnJvdGF0ZTtcbiAgdmFyIHJvdGF0ZVggPSB0LnJvdGF0ZVg7XG4gIHZhciByb3RhdGVZID0gdC5yb3RhdGVZO1xuICB2YXIgc3ggPSB0LnNjYWxlWDtcbiAgdmFyIHN5ID0gdC5zY2FsZVk7XG4gIHZhciBzeiA9IHQuc2NhbGVaO1xuICB2YXIgc2t4ID0gdC5za2V3WDtcbiAgdmFyIHNreSA9IHQuc2tld1k7XG4gIHZhciB4UGVyY2VudCA9IHQueFBlcmNlbnQgfHwgMDtcbiAgdmFyIHlQZXJjZW50ID0gdC55UGVyY2VudCB8fCAwO1xuICB2YXIgdHJhbnNsYXRlWCA9IHhQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWDtcbiAgdmFyIHRyYW5zbGF0ZVkgPSB5UGVyY2VudCA/IDAgOiB0LnRyYW5zbGF0ZVk7XG4gIHZhciB0cmFuc2xhdGVaID0gdC50cmFuc2xhdGVaIHx8IDA7XG4gIHZhciBwZXJjZW50ID0geFBlcmNlbnQgfHwgeVBlcmNlbnQgPyAndHJhbnNsYXRlKCcgKyAoeFBlcmNlbnQgfHwgdHJhbnNsYXRlWCArICdweCcpICsgJywnICsgKHlQZXJjZW50IHx8IHRyYW5zbGF0ZVkgKyAncHgnKSArICcpJyA6ICcnO1xuICB2YXIgc2sgPSBza3ggfHwgc2t5ID8gJ3NrZXcoJyArIHNreCArICdkZWcsJyArIHNreSArICdkZWcpJyA6ICcnO1xuICB2YXIgYW4gPSBhbmdsZSA/ICdyb3RhdGUoJyArIGFuZ2xlICsgJ2RlZyknIDogJyc7XG4gIHZhciBzcyA9IHZvaWQgMDtcbiAgaWYgKCFwZXJzcGVjdGl2ZSAmJiAhcm90YXRlWCAmJiAhcm90YXRlWSAmJiAhdHJhbnNsYXRlWiAmJiBzeiA9PT0gMSB8fCAhc3VwcG9ydHMzRCkge1xuICAgIHNzID0gc3ggIT09IDEgfHwgc3kgIT09IDEgPyAnc2NhbGUoJyArIHN4ICsgJywnICsgc3kgKyAnKScgOiAnJztcbiAgICB2YXIgdHJhbnNsYXRlID0gcGVyY2VudCB8fCAndHJhbnNsYXRlKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4KSc7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZSArICcgJyArIGFuICsgJyAnICsgc3MgKyAnICcgKyBzaztcbiAgfVxuICBzcyA9IHN4ICE9PSAxIHx8IHN5ICE9PSAxIHx8IHN6ICE9PSAxID8gJ3NjYWxlM2QoJyArIHN4ICsgJywnICsgc3kgKyAnLCcgKyBzeiArICcpJyA6ICcnO1xuICB2YXIgclggPSByb3RhdGVYID8gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAnZGVnKScgOiAnJztcbiAgdmFyIHJZID0gcm90YXRlWSA/ICdyb3RhdGVZKCcgKyByb3RhdGVZICsgJ2RlZyknIDogJyc7XG4gIHZhciBwZXIgPSBwZXJzcGVjdGl2ZSA/ICdwZXJzcGVjdGl2ZSgnICsgcGVyc3BlY3RpdmUgKyAncHgpJyA6ICcnO1xuICB2YXIgdHJhbnNsYXRlM2QgPSBwZXJjZW50ID8gcGVyY2VudCArICcgdHJhbnNsYXRlM2QoMCwwLCcgKyB0cmFuc2xhdGVaICsgJ3B4KScgOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgsJyArIHRyYW5zbGF0ZVogKyAncHgpJztcbiAgcmV0dXJuIHBlciArICcgJyArIHRyYW5zbGF0ZTNkICsgJyAnICsgc3MgKyAnICcgKyBhbiArICcgJyArIHJYICsgJyAnICsgclkgKyAnICcgKyBzaztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3V0aWwuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY1NlbGVjdCA9IHJlcXVpcmUoJ3JjLXNlbGVjdCcpO1xuXG52YXIgX3JjU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjU2VsZWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vLyA9PiBJdCBpcyBuZWVkbGVzcyB0byBleHBvcnQgdGhlIGRlY2xhcmF0aW9uIG9mIGJlbG93IHR3byBpbm5lciBjb21wb25lbnRzLlxuLy8gZXhwb3J0IHsgT3B0aW9uLCBPcHRHcm91cCB9O1xudmFyIFNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2VsZWN0KCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFNlbGVjdCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBTZWxlY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuICAgICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuICAgICAgICAgICAgY29tYm9ib3ggPSBfcHJvcHMuY29tYm9ib3g7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIF9wcm9wczIkbm90Rm91bmRDb250ZSA9IF9wcm9wczIubm90Rm91bmRDb250ZW50LFxuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gX3Byb3BzMiRub3RGb3VuZENvbnRlID09PSB1bmRlZmluZWQgPyAnTm90IEZvdW5kJyA6IF9wcm9wczIkbm90Rm91bmRDb250ZSxcbiAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcCA9IF9wcm9wczIub3B0aW9uTGFiZWxQcm9wO1xuXG4gICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbGcnLCBzaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1zbScsIHNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgICAgIHZhciBhbnRMb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlO1xuXG4gICAgICAgIGlmIChhbnRMb2NhbGUgJiYgYW50TG9jYWxlLlNlbGVjdCkge1xuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gJ25vdEZvdW5kQ29udGVudCcgaW4gdGhpcy5wcm9wcyA/IG5vdEZvdW5kQ29udGVudCA6IGFudExvY2FsZS5TZWxlY3Qubm90Rm91bmRDb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21ib2JveCkge1xuICAgICAgICAgICAgbm90Rm91bmRDb250ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIOW4piBkb20g57uT5p6E5pe277yM5peg5rOV5aGr5YWl6L6T5YWl5qGGXG4gICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBvcHRpb25MYWJlbFByb3AgfHwgJ3ZhbHVlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNTZWxlY3QyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnByb3BzLCB7IGNsYXNzTmFtZTogY2xzLCBvcHRpb25MYWJlbFByb3A6IG9wdGlvbkxhYmVsUHJvcCB8fCAnY2hpbGRyZW4nLCBub3RGb3VuZENvbnRlbnQ6IG5vdEZvdW5kQ29udGVudCB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3Q7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xuXG5TZWxlY3QuT3B0aW9uID0gX3JjU2VsZWN0Lk9wdGlvbjtcblNlbGVjdC5PcHRHcm91cCA9IF9yY1NlbGVjdC5PcHRHcm91cDtcblNlbGVjdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LXNlbGVjdCcsXG4gICAgc2hvd1NlYXJjaDogZmFsc2UsXG4gICAgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcsXG4gICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6ICd6b29tJ1xufTtcblNlbGVjdC5wcm9wVHlwZXMgPSB7XG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNpemU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoWydkZWZhdWx0JywgJ2xhcmdlJywgJ3NtYWxsJ10pLFxuICAgIGNvbWJvYm94OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgbm90Rm91bmRDb250ZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvc2VsZWN0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNSYWRpbyA9IHJlcXVpcmUoJ3JjLXJhZGlvJyk7XG5cbnZhciBfcmNSYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1JhZGlvKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBSYWRpbyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpbywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpbygpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpbyk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBSYWRpby5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBSYWRpby5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXMsIF9jbGFzc05hbWVzMjtcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblxuICAgICAgICB2YXIgd3JhcHBlckNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyLWNoZWNrZWQnLCBjaGVja2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMyKSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiB0aGlzLnByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiB0aGlzLnByb3BzLm9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNSYWRpbzJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgc3R5bGU6IG51bGwsIGNoaWxkcmVuOiBudWxsIH0pKSxcbiAgICAgICAgICAgIGNoaWxkcmVuICE9PSB1bmRlZmluZWQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApIDogbnVsbFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmFkaW87XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW87XG5cblJhZGlvLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vcmFkaW8uanNcbiAqKiBtb2R1bGUgaWQgPSAzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIFRhYmxlID0gcmVxdWlyZSgnLi9UYWJsZScpO1xudmFyIENvbHVtbiA9IHJlcXVpcmUoJy4vQ29sdW1uJyk7XG52YXIgQ29sdW1uR3JvdXAgPSByZXF1aXJlKCcuL0NvbHVtbkdyb3VwJyk7XG5cblRhYmxlLkNvbHVtbiA9IENvbHVtbjtcblRhYmxlLkNvbHVtbkdyb3VwID0gQ29sdW1uR3JvdXA7XG5cbm1vZHVsZS5leHBvcnRzID0gVGFibGU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2lucHV0L3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbnZhciBQbHVnaW5zID0gZnVuY3Rpb24gUGx1Z2lucygpIHt9O1xudmFyIHAgPSBQbHVnaW5zLnByb3RvdHlwZTtcbnAucHVzaCA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgdGhpc1twbHVnaW4ucHJvdG90eXBlLm5hbWVdID0gcGx1Z2luO1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbmV3IFBsdWdpbnMoKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2lucy5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudG9GaXhlZCA9IHRvRml4ZWQ7XG5leHBvcnRzLmNyZWF0ZU1hdHJpeCA9IGNyZWF0ZU1hdHJpeDtcbmV4cG9ydHMuY2hlY2tTdHlsZU5hbWUgPSBjaGVja1N0eWxlTmFtZTtcbmV4cG9ydHMuZ2V0R3NhcFR5cGUgPSBnZXRHc2FwVHlwZTtcbmV4cG9ydHMucGFyc2VDb2xvciA9IHBhcnNlQ29sb3I7XG5leHBvcnRzLnBhcnNlU2hhZG93ID0gcGFyc2VTaGFkb3c7XG5leHBvcnRzLmdldENvbG9yID0gZ2V0Q29sb3I7XG5leHBvcnRzLmlzVHJhbnNmb3JtID0gaXNUcmFuc2Zvcm07XG5leHBvcnRzLmlzQ29udmVydCA9IGlzQ29udmVydDtcbmV4cG9ydHMuc3BsaXRGaWx0ZXJUb09iamVjdCA9IHNwbGl0RmlsdGVyVG9PYmplY3Q7XG5leHBvcnRzLmdldE1hdHJpeCA9IGdldE1hdHJpeDtcbmV4cG9ydHMuZ2V0VHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtO1xuZXhwb3J0cy5zdHlsZXNUb0NzcyA9IHN0eWxlc1RvQ3NzO1xuZXhwb3J0cy5nZXRVbml0ID0gZ2V0VW5pdDtcbmV4cG9ydHMuZ2V0VmFsdWVzID0gZ2V0VmFsdWVzO1xuZXhwb3J0cy5maW5kU3R5bGVCeU5hbWUgPSBmaW5kU3R5bGVCeU5hbWU7XG5leHBvcnRzLm1lcmdlU3R5bGUgPSBtZXJnZVN0eWxlO1xudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZsZXhPcmRlcjogdHJ1ZSxcbiAgZ3JpZFJvdzogdHJ1ZSxcbiAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG5cbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcbnZhciBwcmVmaXhlcyA9IFsnV2Via2l0JywgJ21zJywgJ01veicsICdPJ107XG5cbmZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbn1cblxuT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG4gIH0pO1xufSk7XG5cbnZhciB1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4ID0gL14obm9ybWFsfG5vbmV8KFxcYih1cmxcXChbXildKlxcKXxjaGFwdGVyX2NvdW50ZXJ8YXR0clxcKFteKV0qXFwpfChuby0pPyhvcGVufGNsb3NlKS1xdW90ZXxpbmhlcml0KSgoXFxiXFxzKil8JHxcXHMrKSkrKSQvO1xuXG52YXIgSUUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChuYXZpZ2F0b3IgJiYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOC4wXCIpID4gMCB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFIDkuMFwiKSA+IDApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSgpO1xuXG52YXIgcm5kID0gMTAwMDAwO1xuXG52YXIgY29sb3JMb29rdXAgPSB7XG4gIGFxdWE6IFswLCAyNTUsIDI1NV0sXG4gIGxpbWU6IFswLCAyNTUsIDBdLFxuICBzaWx2ZXI6IFsxOTIsIDE5MiwgMTkyXSxcbiAgYmxhY2s6IFswLCAwLCAwXSxcbiAgbWFyb29uOiBbMTI4LCAwLCAwXSxcbiAgdGVhbDogWzAsIDEyOCwgMTI4XSxcbiAgYmx1ZTogWzAsIDAsIDI1NV0sXG4gIG5hdnk6IFswLCAwLCAxMjhdLFxuICB3aGl0ZTogWzI1NSwgMjU1LCAyNTVdLFxuICBmdWNoc2lhOiBbMjU1LCAwLCAyNTVdLFxuICBvbGl2ZTogWzEyOCwgMTI4LCAwXSxcbiAgeWVsbG93OiBbMjU1LCAyNTUsIDBdLFxuICBvcmFuZ2U6IFsyNTUsIDE2NSwgMF0sXG4gIGdyYXk6IFsxMjgsIDEyOCwgMTI4XSxcbiAgcHVycGxlOiBbMTI4LCAwLCAxMjhdLFxuICBncmVlbjogWzAsIDEyOCwgMF0sXG4gIHJlZDogWzI1NSwgMCwgMF0sXG4gIHBpbms6IFsyNTUsIDE5MiwgMjAzXSxcbiAgY3lhbjogWzAsIDI1NSwgMjU1XSxcbiAgdHJhbnNwYXJlbnQ6IFsyNTUsIDI1NSwgMjU1LCAwXVxufTtcbnZhciBfaHVlID0gZnVuY3Rpb24gX2h1ZShoaCwgbTEsIG0yKSB7XG4gIHZhciBoID0gaGggPiAxID8gaGggLSAxIDogaGg7XG4gIGggPSBoaCA8IDAgPyBoaCArIDEgOiBoO1xuICB2YXIgYSA9IGggKiAzIDwgMiA/IG0xICsgKG0yIC0gbTEpICogKDIgLyAzIC0gaCkgKiA2IDogbTE7XG4gIHZhciBiID0gaCA8IDAuNSA/IG0yIDogYTtcbiAgdmFyIGMgPSBoICogNiA8IDEgPyBtMSArIChtMiAtIG0xKSAqIGggKiA2IDogYjtcbiAgcmV0dXJuIGMgKiAyNTUgKyAwLjUgfCAwO1xufTtcbnZhciBERUcyUkFEID0gTWF0aC5QSSAvIDE4MDtcbnZhciBSQUQyREVHID0gMTgwIC8gTWF0aC5QSTtcblxudmFyIGNzc0xpc3QgPSB7XG4gIF9saXN0czoge1xuICAgIHRyYW5zZm9ybXNCYXNlOiBbJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVYJywgJ3RyYW5zbGF0ZVknLCAnc2NhbGUnLCAnc2NhbGVYJywgJ3NjYWxlWScsICdza2V3WCcsICdza2V3WScsICdyb3RhdGVaJywgJ3JvdGF0ZSddLFxuICAgIHRyYW5zZm9ybXMzRDogWyd0cmFuc2xhdGUzZCcsICd0cmFuc2xhdGVaJywgJ3NjYWxlWicsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncGVyc3BlY3RpdmUnXVxuICB9LFxuICB0cmFuc2Zvcm1Hcm91cDogeyB0cmFuc2xhdGU6IDEsIHRyYW5zbGF0ZTNkOiAxLCBzY2FsZTogMSwgc2NhbGUzZDogMSwgcm90YXRlOiAxLCByb3RhdGUzZDogMSB9LFxuICBmaWx0ZXI6IFsnZ3JheVNjYWxlJywgJ3NlcGlhJywgJ2h1ZVJvdGF0ZScsICdpbnZlcnQnLCAnYnJpZ2h0bmVzcycsICdjb250cmFzdCcsICdibHVyJ10sXG4gIGZpbHRlckNvbnZlcnQ6IHsgZ3JheVNjYWxlOiAnZ3JheXNjYWxlJywgaHVlUm90YXRlOiAnaHVlLXJvdGF0ZScgfVxufTtcbmNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlID0gIUlFID8gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuY29uY2F0KGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXMzRCkgOiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZTtcblxuZnVuY3Rpb24gdG9GaXhlZChudW0sIGxlbmd0aCkge1xuICB2YXIgX3JuZCA9IGxlbmd0aCA/IE1hdGgucG93KDEwLCBsZW5ndGgpIDogcm5kO1xuICB2YXIgbiA9IG51bSB8IDA7XG4gIHZhciBkZWMgPSBudW0gLSBuO1xuICByZXR1cm4gZGVjID8gKGRlYyAqIF9ybmQgKyAobnVtIDwgMCA/IC0wLjUgOiAwLjUpIHwgMCkgLyBfcm5kICsgbiA6IG51bTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTWF0cml4KHN0eWxlKSB7XG4gIHJldHVybiB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTW96Q1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuTW96Q1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuRE9NTWF0cml4ICYmIG5ldyB3aW5kb3cuRE9NTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuTXNDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nc0NTU01hdHJpeChzdHlsZSkgfHwgd2luZG93Lk9DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5PQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuQ1NTTWF0cml4ICYmIG5ldyB3aW5kb3cuQ1NTTWF0cml4KHN0eWxlKSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBjaGVja1N0eWxlTmFtZShwKSB7XG4gIHZhciBhID0gWydPJywgJ01veicsICdtcycsICdNcycsICdXZWJraXQnXTtcbiAgaWYgKHAgIT09ICdmaWx0ZXInICYmIHAgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSkge1xuICAgIHJldHVybiBwO1xuICB9XG4gIHZhciBfcCA9IHAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwLnN1YnN0cigxKTtcbiAgdmFyIHByZWZpeENzcyA9IGEuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gJycgKyBrZXkgKyBfcCBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICB9KTtcbiAgcmV0dXJuIHByZWZpeENzc1swXSA/ICcnICsgcHJlZml4Q3NzWzBdICsgX3AgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRHc2FwVHlwZShfcCkge1xuICB2YXIgcCA9IF9wO1xuICBwID0gcCA9PT0gJ3gnID8gJ3RyYW5zbGF0ZVgnIDogcDtcbiAgcCA9IHAgPT09ICd5JyA/ICd0cmFuc2xhdGVZJyA6IHA7XG4gIHAgPSBwID09PSAneicgPyAndHJhbnNsYXRlWicgOiBwO1xuICAvLyBwID0gcCA9PT0gJ3InID8gJ3JvdGF0ZScgOiBwO1xuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcGFyc2VDb2xvcihfdikge1xuICB2YXIgYSA9IHZvaWQgMDtcbiAgdmFyIHIgPSB2b2lkIDA7XG4gIHZhciBnID0gdm9pZCAwO1xuICB2YXIgYiA9IHZvaWQgMDtcbiAgdmFyIGggPSB2b2lkIDA7XG4gIHZhciBzID0gdm9pZCAwO1xuICB2YXIgbCA9IHZvaWQgMDtcbiAgdmFyIHYgPSBfdjtcbiAgdmFyIF9udW1FeHAgPSAvKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkKSsvZztcbiAgaWYgKCF2KSB7XG4gICAgYSA9IGNvbG9yTG9va3VwLmJsYWNrO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnbnVtYmVyJykge1xuICAgIGEgPSBbdiA+PiAxNiwgdiA+PiA4ICYgMjU1LCB2ICYgMjU1XTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodi5jaGFyQXQodi5sZW5ndGggLSAxKSA9PT0gJywnKSB7XG4gICAgICB2ID0gdi5zdWJzdHIoMCwgdi5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKGNvbG9yTG9va3VwW3ZdKSB7XG4gICAgICBhID0gY29sb3JMb29rdXBbdl07XG4gICAgfSBlbHNlIGlmICh2LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAvLyBpcyAjRkZGXG4gICAgICBpZiAodi5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgciA9IHYuY2hhckF0KDEpO1xuICAgICAgICBnID0gdi5jaGFyQXQoMik7XG4gICAgICAgIGIgPSB2LmNoYXJBdCgzKTtcbiAgICAgICAgdiA9ICcjJyArIHIgKyByICsgZyArIGcgKyBiICsgYjtcbiAgICAgIH1cbiAgICAgIHYgPSBwYXJzZUludCh2LnN1YnN0cigxKSwgMTYpO1xuICAgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuICAgIH0gZWxzZSBpZiAodi5zdWJzdHIoMCwgMykgPT09ICdoc2wnKSB7XG4gICAgICBhID0gdi5tYXRjaChfbnVtRXhwKTtcbiAgICAgIGggPSBOdW1iZXIoYVswXSkgJSAzNjAgLyAzNjA7XG4gICAgICBzID0gTnVtYmVyKGFbMV0pIC8gMTAwO1xuICAgICAgbCA9IE51bWJlcihhWzJdKSAvIDEwMDtcbiAgICAgIGcgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcbiAgICAgIHIgPSBsICogMiAtIGc7XG4gICAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG4gICAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG4gICAgICB9XG4gICAgICBhWzBdID0gX2h1ZShoICsgMSAvIDMsIHIsIGcpO1xuICAgICAgYVsxXSA9IF9odWUoaCwgciwgZyk7XG4gICAgICBhWzJdID0gX2h1ZShoIC0gMSAvIDMsIHIsIGcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gdi5tYXRjaChfbnVtRXhwKSB8fCBjb2xvckxvb2t1cC50cmFuc3BhcmVudDtcbiAgICB9XG4gICAgYVswXSA9IE51bWJlcihhWzBdKTtcbiAgICBhWzFdID0gTnVtYmVyKGFbMV0pO1xuICAgIGFbMl0gPSBOdW1iZXIoYVsyXSk7XG5cbiAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG4gICAgICBhWzNdID0gTnVtYmVyKGFbM10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTaGFkb3codikge1xuICBpZiAoIXYpIHtcbiAgICByZXR1cm4gWzAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICB9XG4gIHZhciBpbnNldCA9IHZvaWQgMDtcbiAgaWYgKHYuaW5kZXhPZigncmdiJykgPj0gMCkge1xuICAgIHZhciB0ID0gdi5tYXRjaCgvcmdiKyg/OmEpP1xcKCguKilcXCkvKTtcbiAgICB2YXIgcyA9IHYucmVwbGFjZSh0WzBdLCAnJykudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gICAgaW5zZXQgPSBzLmluZGV4T2YoJ2luc2V0Jyk7XG4gICAgaWYgKGluc2V0ID49IDApIHtcbiAgICAgIHMuc3BsaWNlKGluc2V0LCAxKTtcbiAgICB9XG4gICAgdmFyIGMgPSB0WzFdLnJlcGxhY2UoL1xccysvZywgJycpLnNwbGl0KCcsJyk7XG4gICAgaWYgKGMubGVuZ3RoID09PSAzKSB7XG4gICAgICBjLnB1c2goMSk7XG4gICAgfVxuICAgIHJldHVybiBzLmNvbmNhdChjLCBpbnNldCA+PSAwID8gWydpbnNldCddIDogW10pO1xuICB9XG4gIHZhciB2QXJyID0gdi5zcGxpdCgvXFxzKy8pO1xuICBpbnNldCA9IHZBcnIuaW5kZXhPZignaW5zZXQnKTtcbiAgaWYgKGluc2V0ID49IDApIHtcbiAgICB2QXJyLnNwbGljZShpbnNldCwgMSk7XG4gIH1cbiAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcih2QXJyW3ZBcnIubGVuZ3RoIC0gMV0pO1xuICBjb2xvclszXSA9IHR5cGVvZiBjb2xvclszXSA9PT0gJ251bWJlcicgPyBjb2xvclszXSA6IDE7XG4gIHZBcnIgPSB2QXJyLnNwbGljZSgwLCB2QXJyLmxlbmd0aCAtIDEpO1xuICByZXR1cm4gdkFyci5jb25jYXQoY29sb3IsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG59XG5cbmZ1bmN0aW9uIGdldENvbG9yKHYpIHtcbiAgdmFyIHJnYmEgPSB2Lmxlbmd0aCA9PT0gNCA/ICdyZ2JhJyA6ICdyZ2InO1xuICB2YXIgX3ZhcnMgPSB2Lm1hcChmdW5jdGlvbiAoZCwgaSkge1xuICAgIHJldHVybiBpIDwgMyA/IE1hdGgucm91bmQoZCkgOiBkO1xuICB9KTtcbiAgcmV0dXJuIHJnYmEgKyAnKCcgKyBfdmFycy5qb2luKCcsJykgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtKHApIHtcbiAgcmV0dXJuIGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmluZGV4T2YocCkgPj0gMCA/ICd0cmFuc2Zvcm0nIDogcDtcbn1cblxuZnVuY3Rpb24gaXNDb252ZXJ0KHApIHtcbiAgdmFyIGNzc05hbWUgPSBpc1RyYW5zZm9ybShwKTtcbiAgcmV0dXJuIGNzc0xpc3QuZmlsdGVyLmluZGV4T2YoY3NzTmFtZSkgPj0gMCA/ICdmaWx0ZXInIDogY3NzTmFtZTtcbn1cblxuZnVuY3Rpb24gc3BsaXRGaWx0ZXJUb09iamVjdChkYXRhKSB7XG4gIGlmIChkYXRhID09PSAnbm9uZScgfHwgIWRhdGEgfHwgZGF0YSA9PT0gJycpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgZmlsdGVyID0gZGF0YS5yZXBsYWNlKCcgJywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH0pO1xuICB2YXIgc3RhcnREYXRhID0ge307XG4gIGZpbHRlci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGRhdGFBcnIgPSBpdGVtLnNwbGl0KCcoJyk7XG4gICAgc3RhcnREYXRhW2RhdGFBcnJbMF1dID0gZGF0YUFyclsxXTtcbiAgfSk7XG4gIHJldHVybiBzdGFydERhdGE7XG59XG5cbmZ1bmN0aW9uIGdldE1hdHJpeCh0KSB7XG4gIHZhciBhcnIgPSB0Lm1hdGNoKC8oPzpcXC18XFxiKVtcXGRcXC1cXC5lXStcXGIvZ2kpO1xuICB2YXIgbSA9IHt9O1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gNikge1xuICAgIG0ubTExID0gcGFyc2VGbG9hdChhcnJbMF0pO1xuICAgIG0ubTEyID0gcGFyc2VGbG9hdChhcnJbMV0pO1xuICAgIG0ubTEzID0gMDtcbiAgICBtLm0xNCA9IDA7XG4gICAgbS5tMjEgPSBwYXJzZUZsb2F0KGFyclsyXSk7XG4gICAgbS5tMjIgPSBwYXJzZUZsb2F0KGFyclszXSk7XG4gICAgbS5tMjMgPSAwO1xuICAgIG0ubTI0ID0gMDtcbiAgICBtLm0zMSA9IDA7XG4gICAgbS5tMzIgPSAwO1xuICAgIG0ubTMzID0gMTtcbiAgICBtLm0zNCA9IDA7XG4gICAgbS5tNDEgPSBwYXJzZUZsb2F0KGFycls0XSk7XG4gICAgbS5tNDIgPSBwYXJzZUZsb2F0KGFycls1XSk7XG4gICAgbS5tNDMgPSAwO1xuICAgIG0ubTQ0ID0gMDtcbiAgfSBlbHNlIHtcbiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgdmFyIGlpID0gaSAlIDQgKyAxO1xuICAgICAgdmFyIGogPSBNYXRoLmZsb29yKGkgLyA0KSArIDE7XG4gICAgICBtWydtJyArIGogKyBpaV0gPSBwYXJzZUZsb2F0KGl0ZW0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gIHZhciBfdHJhbnNmb3JtID0gdHJhbnNmb3JtID09PSAnbm9uZScgfHwgdHJhbnNmb3JtID09PSAnJyA/ICdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCknIDogdHJhbnNmb3JtO1xuICB2YXIgbSA9IGdldE1hdHJpeChfdHJhbnNmb3JtKTtcbiAgdmFyIG0xMSA9IG0ubTExO1xuICB2YXIgbTEyID0gbS5tMTI7XG4gIHZhciBtMTMgPSBtLm0xMztcbiAgdmFyIG0xNCA9IG0ubTE0O1xuICB2YXIgbTIxID0gbS5tMjE7XG4gIHZhciBtMjIgPSBtLm0yMjtcbiAgdmFyIG0yMyA9IG0ubTIzO1xuICB2YXIgbTI0ID0gbS5tMjQ7XG4gIHZhciBtMzEgPSBtLm0zMTtcbiAgdmFyIG0zMiA9IG0ubTMyO1xuICB2YXIgbTMzID0gbS5tMzM7XG4gIHZhciBtMzQgPSBtLm0zNDtcbiAgdmFyIG00MyA9IG0ubTQzO1xuICB2YXIgdDEgPSB2b2lkIDA7XG4gIHZhciB0MiA9IHZvaWQgMDtcbiAgdmFyIHQzID0gdm9pZCAwO1xuICB2YXIgdG0gPSB7fTtcbiAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyB0b0ZpeGVkKG0zMyAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkpIDogMDtcbiAgdG0ucm90YXRlWCA9IHRvRml4ZWQoTWF0aC5hc2luKG0yMykgKiBSQUQyREVHKTtcbiAgdmFyIGFuZ2xlID0gdG0ucm90YXRlWCAqIERFRzJSQUQ7XG4gIHZhciBza2V3WCA9IE1hdGgudGFuKG0yMSk7XG4gIHZhciBza2V3WSA9IE1hdGgudGFuKG0xMik7XG4gIHZhciBjb3MgPSBtMzQgKiB0bS5wZXJzcGVjdGl2ZTtcbiAgdmFyIHNpbiA9IHZvaWQgMDtcbiAgLy8gcm90YXRlWFxuICBpZiAoYW5nbGUpIHtcbiAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgdDEgPSBtMjEgKiBjb3MgKyBtMzEgKiBzaW47XG4gICAgdDIgPSBtMjIgKiBjb3MgKyBtMzIgKiBzaW47XG4gICAgdDMgPSBtMjMgKiBjb3MgKyBtMzMgKiBzaW47XG4gICAgbTMxID0gbTIxICogLXNpbiArIG0zMSAqIGNvcztcbiAgICBtMzIgPSBtMjIgKiAtc2luICsgbTMyICogY29zO1xuICAgIG0zMyA9IG0yMyAqIC1zaW4gKyBtMzMgKiBjb3M7XG4gICAgbTM0ID0gbTI0ICogLXNpbiArIG0zNCAqIGNvcztcbiAgICBtMjEgPSB0MTtcbiAgICBtMjIgPSB0MjtcbiAgICBtMjMgPSB0MztcbiAgfVxuICAvLyByb3RhdGVZXG4gIGFuZ2xlID0gTWF0aC5hdGFuMihtMzEsIG0zMyk7XG4gIHRtLnJvdGF0ZVkgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG4gIGlmIChhbmdsZSkge1xuICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG4gICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICB0MSA9IG0xMSAqIGNvcyAtIG0zMSAqIHNpbjtcbiAgICB0MiA9IG0xMiAqIGNvcyAtIG0zMiAqIHNpbjtcbiAgICB0MyA9IG0xMyAqIGNvcyAtIG0zMyAqIHNpbjtcbiAgICBtMzIgPSBtMTIgKiBzaW4gKyBtMzIgKiBjb3M7XG4gICAgbTMzID0gbTEzICogc2luICsgbTMzICogY29zO1xuICAgIG0zNCA9IG0xNCAqIHNpbiArIG0zNCAqIGNvcztcbiAgICBtMTEgPSB0MTtcbiAgICBtMTIgPSB0MjtcbiAgICBtMTMgPSB0MztcbiAgfVxuICAvLyByb3RhdGVaXG4gIGFuZ2xlID0gTWF0aC5hdGFuMihtMTIsIG0xMSk7XG4gIHRtLnJvdGF0ZSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcbiAgaWYgKGFuZ2xlKSB7XG4gICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgIG0xMSA9IG0xMSAqIGNvcyArIG0yMSAqIHNpbjtcbiAgICB0MiA9IG0xMiAqIGNvcyArIG0yMiAqIHNpbjtcbiAgICBtMjIgPSBtMTIgKiAtc2luICsgbTIyICogY29zO1xuICAgIG0yMyA9IG0xMyAqIC1zaW4gKyBtMjMgKiBjb3M7XG4gICAgbTEyID0gdDI7XG4gIH1cblxuICBpZiAodG0ucm90YXRlWCAmJiBNYXRoLmFicyh0bS5yb3RhdGVYKSArIE1hdGguYWJzKHRtLnJvdGF0ZSkgPiAzNTkuOSkge1xuICAgIHRtLnJvdGF0ZVggPSB0bS5yb3RhdGUgPSAwO1xuICAgIHRtLnJvdGF0ZVkgKz0gMTgwO1xuICB9XG4gIHRtLnNjYWxlWCA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0xMSAqIG0xMSArIG0xMiAqIG0xMikpO1xuICB0bS5zY2FsZVkgPSB0b0ZpeGVkKE1hdGguc3FydChtMjIgKiBtMjIgKyBtMzIgKiBtMzIpKTtcbiAgdG0uc2NhbGVaID0gdG9GaXhlZChNYXRoLnNxcnQobTIzICogbTIzICsgbTMzICogbTMzKSk7XG4gIC8vIOS4jeeuoSBza2V3WCBza2V3WeS6hu+8m1xuICB0bS5za2V3WCA9IHNrZXdYID09PSAtc2tld1kgPyAwIDogc2tld1g7XG4gIHRtLnNrZXdZID0gc2tld1kgPT09IC1za2V3WCA/IDAgOiBza2V3WTtcbiAgdG0ucGVyc3BlY3RpdmUgPSBtMzQgPyAxIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSA6IDA7XG4gIHRtLnRyYW5zbGF0ZVggPSBtLm00MTtcbiAgdG0udHJhbnNsYXRlWSA9IG0ubTQyO1xuICB0bS50cmFuc2xhdGVaID0gbTQzO1xuICByZXR1cm4gdG07XG59XG5cbmZ1bmN0aW9uIHN0eWxlc1RvQ3NzKGtleSwgdmFsdWUpIHtcbiAgdmFyIF92YWx1ZSA9IHZvaWQgMDtcbiAgaWYgKCFpc1VuaXRsZXNzTnVtYmVyW2tleV0gJiYgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIF92YWx1ZSA9ICcgJyArIHZhbHVlICsgJ3B4JztcbiAgfSBlbHNlIGlmIChrZXkgPT09ICdjb250ZW50JyAmJiAhdW5xdW90ZWRDb250ZW50VmFsdWVSZWdleC50ZXN0KHZhbHVlKSkge1xuICAgIF92YWx1ZSA9ICdcXCcnICsgdmFsdWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpICsgJ1xcJyc7XG4gIH1cbiAgcmV0dXJuIF92YWx1ZSB8fCB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0VW5pdChwLCB2KSB7XG4gIHZhciBjdXJyZW50VW5pdCA9IHYgJiYgdi50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2lnLCAnJyk7XG4gIHZhciB1bml0ID0gJyc7XG4gIGlmIChwLmluZGV4T2YoJ3RyYW5zbGF0ZScpID49IDAgfHwgcC5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgfHwgcC5pbmRleE9mKCdibHVyJykgPj0gMCkge1xuICAgIHVuaXQgPSAncHgnO1xuICB9IGVsc2UgaWYgKHAuaW5kZXhPZignc2tldycpID49IDAgfHwgcC5pbmRleE9mKCdyb3RhdGUnKSA+PSAwKSB7XG4gICAgdW5pdCA9ICdkZWcnO1xuICB9XG4gIHJldHVybiBjdXJyZW50VW5pdCB8fCB1bml0O1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZXMocCwgZCwgdSkge1xuICByZXR1cm4gcCArICcoJyArIGQgKyAodSB8fCAnJykgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGZpbmRTdHlsZUJ5TmFtZShjc3NBcnJheSwgbmFtZSkge1xuICB2YXIgcmV0ID0gbnVsbDtcbiAgaWYgKGNzc0FycmF5KSB7XG4gICAgY3NzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoX2NuYW1lKSB7XG4gICAgICBpZiAocmV0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjTmFtZSA9IF9jbmFtZS5zcGxpdCgnKCcpWzBdO1xuICAgICAgdmFyIGEgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihjTmFtZSkgPj0gMDtcbiAgICAgIHZhciBiID0gbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIGNOYW1lLnN1YnN0cmluZygwLCBjTmFtZS5sZW5ndGggLSAxKS5pbmRleE9mKG5hbWUpID49IDA7XG4gICAgICB2YXIgYyA9IGNOYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgbmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIChjTmFtZS5zdWJzdHJpbmcoMCwgY05hbWUubGVuZ3RoIC0gMikgPT09IG5hbWUgfHwgbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAyKSA9PT0gY05hbWUpO1xuICAgICAgaWYgKGNOYW1lID09PSBuYW1lIHx8IGEgfHwgYiB8fCBjKSB7XG4gICAgICAgIHJldCA9IF9jbmFtZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtZXJnZVN0eWxlKGN1cnJlbnQsIGNoYW5nZSkge1xuICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudCA9PT0gJycpIHtcbiAgICByZXR1cm4gY2hhbmdlO1xuICB9XG4gIGlmICghY2hhbmdlIHx8IGNoYW5nZSA9PT0gJycpIHtcbiAgICByZXR1cm4gY3VycmVudDtcbiAgfVxuICB2YXIgX2N1cnJlbnQgPSBjdXJyZW50LnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbTtcbiAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gKyAnKSc7XG4gIH0pO1xuICB2YXIgX2NoYW5nZSA9IGNoYW5nZS5yZXBsYWNlKC9cXHMvZywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG4gIH0pO1xuICBfY2hhbmdlLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZU9ubHkpIHtcbiAgICB2YXIgY2hhbmdlQXJyID0gY2hhbmdlT25seS5zcGxpdCgnKCcpO1xuICAgIHZhciBjaGFuZ2VOYW1lID0gY2hhbmdlQXJyWzBdO1xuICAgIHZhciBjdXJyZW50U2FtZSA9IGZpbmRTdHlsZUJ5TmFtZShfY3VycmVudCwgY2hhbmdlTmFtZSk7XG4gICAgaWYgKCFjdXJyZW50U2FtZSkge1xuICAgICAgX2N1cnJlbnQucHVzaChjaGFuZ2VPbmx5ICsgJyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGluZGV4ID0gX2N1cnJlbnQuaW5kZXhPZihjdXJyZW50U2FtZSk7XG4gICAgICBfY3VycmVudFtpbmRleF0gPSBjaGFuZ2VPbmx5ICsgJyknO1xuICAgIH1cbiAgfSk7XG4gIF9jdXJyZW50LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICBpZiAoaXRlbS5pbmRleE9mKCdwZXJzcGVjdGl2ZScpID49IDAgJiYgaSkge1xuICAgICAgX2N1cnJlbnQuc3BsaWNlKGksIDEpO1xuICAgICAgX2N1cnJlbnQudW5zaGlmdChpdGVtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gX2N1cnJlbnQuam9pbignICcpLnRyaW0oKTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY3NzTGlzdDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLXV0aWxzL21haW4uanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkdyb3VwID0gZXhwb3J0cy5CdXR0b24gPSB1bmRlZmluZWQ7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG52YXIgX2dyb3VwID0gcmVxdWlyZSgnLi9ncm91cCcpO1xuXG52YXIgX2dyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dyb3VwKTtcblxudmFyIF9yYWRpb0J1dHRvbiA9IHJlcXVpcmUoJy4vcmFkaW9CdXR0b24nKTtcblxudmFyIF9yYWRpb0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpb0J1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5fcmFkaW8yW1wiZGVmYXVsdFwiXS5CdXR0b24gPSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXTtcbl9yYWRpbzJbXCJkZWZhdWx0XCJdLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5leHBvcnRzLkJ1dHRvbiA9IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5Hcm91cCA9IF9ncm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfcmFkaW8yW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yYWRpby9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjRHJvcGRvd24gPSByZXF1aXJlKCdyYy1kcm9wZG93bicpO1xuXG52YXIgX3JjRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNEcm9wZG93bik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERyb3Bkb3duLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERyb3Bkb3duKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERyb3Bkb3duKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIERyb3Bkb3duLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uTmFtZSA9IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuICAgICAgICB2YXIgX3Byb3BzJHBsYWNlbWVudCA9IHRoaXMucHJvcHMucGxhY2VtZW50LFxuICAgICAgICAgICAgcGxhY2VtZW50ID0gX3Byb3BzJHBsYWNlbWVudCA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkcGxhY2VtZW50O1xuXG4gICAgICAgIGlmIChwbGFjZW1lbnQuaW5kZXhPZigndG9wJykgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdzbGlkZS1kb3duJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3NsaWRlLXVwJztcbiAgICB9O1xuXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgICAgdmFyIGRyb3Bkb3duVHJpZ2dlciA9ICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShjaGlsZHJlbiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXRyaWdnZXInKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNEcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgdHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0VHJhbnNpdGlvbk5hbWUoKSB9LCB0aGlzLnByb3BzKSxcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlclxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gRHJvcGRvd247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd247XG5cbkRyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24nLFxuICAgIG1vdXNlRW50ZXJEZWxheTogMC4xNSxcbiAgICBtb3VzZUxlYXZlRGVsYXk6IDAuMSxcbiAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUmFkaW9CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFkaW9CdXR0b24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9CdXR0b24pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHRoaXMucHJvcHMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmFkaW9CdXR0b247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9CdXR0b247XG5cblJhZGlvQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8tYnV0dG9uJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvQnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JjVGFibGUgPSByZXF1aXJlKCdyYy10YWJsZScpO1xuXG52YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uR3JvdXApIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW5Hcm91cCwgX1JjVGFibGUkQ29sdW1uR3JvdXApO1xuXG4gIGZ1bmN0aW9uIENvbHVtbkdyb3VwKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uR3JvdXApO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JjVGFibGUkQ29sdW1uR3JvdXAuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uR3JvdXA7XG59KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uR3JvdXApO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvQ29sdW1uR3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL0NoZWNrYm94Jyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2hlY2tib3gvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFpFUk86IDQ4LFxuICBOSU5FOiA1NyxcblxuICBOVU1QQURfWkVSTzogOTYsXG4gIE5VTVBBRF9OSU5FOiAxMDUsXG5cbiAgQkFDS1NQQUNFOiA4LFxuICBERUxFVEU6IDQ2LFxuICBFTlRFUjogMTMsXG5cbiAgQVJST1dfVVA6IDM4LFxuICBBUlJPV19ET1dOOiA0MFxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9LZXlDb2RlLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgLy8gT3B0aW9ucy5qc3hcbiAgaXRlbXNfcGVyX3BhZ2U6ICfmnaEv6aG1JyxcbiAganVtcF90bzogJ+i3s+iHsycsXG4gIHBhZ2U6ICfpobUnLFxuXG4gIC8vIFBhZ2luYXRpb24uanN4XG4gIHByZXZfcGFnZTogJ+S4iuS4gOmhtScsXG4gIG5leHRfcGFnZTogJ+S4i+S4gOmhtScsXG4gIHByZXZfNTogJ+WQkeWJjSA1IOmhtScsXG4gIG5leHRfNTogJ+WQkeWQjiA1IOmhtScsXG4gIHByZXZfMzogJ+WQkeWJjSAzIOmhtScsXG4gIG5leHRfMzogJ+WQkeWQjiAzIOmhtSdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04uanNcbiAqKiBtb2R1bGUgaWQgPSA1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9UYWJsZSA9IHJlcXVpcmUoJy4vVGFibGUnKTtcblxudmFyIF9UYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9UYWJsZTJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vcmFkaW8vc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vY2hlY2tib3gvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vZHJvcGRvd24vc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vc3Bpbi9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9wYWdpbmF0aW9uL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9zdHlsZVV0aWxzID0gcmVxdWlyZSgnc3R5bGUtdXRpbHMnKTtcblxudmFyIF9UaW1lTGluZSA9IHJlcXVpcmUoJy4vVGltZUxpbmUnKTtcblxudmFyIF9UaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGluZSk7XG5cbnZhciBfcGx1Z2lucyA9IHJlcXVpcmUoJy4vcGx1Z2lucycpO1xuXG52YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cbnZhciBfdGlja2VyID0gcmVxdWlyZSgnLi90aWNrZXInKTtcblxudmFyIF90aWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIHBlckZyYW1lID0gTWF0aC5yb3VuZCgxMDAwIC8gNjApO1xuXG52YXIgVHdlZW5PbmUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVHdlZW5PbmUsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFR3ZWVuT25lKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgX3RoaXMucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN0YXJ0TW9tZW50ID0gX3RoaXMudGltZUxpbmUucHJvZ3Jlc3NUaW1lO1xuICAgICAgX3RoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgIF90aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgIGlmIChwcm9wcy5hbmltYXRpb24gJiYgT2JqZWN0LmtleXMocHJvcHMuYW5pbWF0aW9uKS5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMudGltZUxpbmUgPSBuZXcgX1RpbWVMaW5lMltcImRlZmF1bHRcIl0oX3RoaXMuZG9tLCAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKHByb3BzLmFuaW1hdGlvbiksIHsgYXR0cjogcHJvcHMuYXR0ciwgd2lsbENoYW5nZTogcHJvcHMud2lsbENoYW5nZSB9KTtcbiAgICAgICAgLy8g6aKE5YWI5rOo5YaMIHJhZiwg5Yid5aeL5Yqo55S75pWw5YC844CCXG4gICAgICAgIF90aGlzLnJhZigwLCB0cnVlKTtcbiAgICAgICAgLy8g5byA5aeL5Yqo55S7XG4gICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgaWYgKF90aGlzLnBhdXNlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5yYWZJRCA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5hZGQoX3RoaXMucmFmKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZnJhbWUgPSBmdW5jdGlvbiAoZGF0ZSwgcmVnaXN0ZXIpIHtcbiAgICAgIHZhciByZWdpc3Rlck1vbWVudCA9IHJlZ2lzdGVyID8gZGF0ZSA6IDA7XG4gICAgICB2YXIgbW9tZW50ID0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWUgKyByZWdpc3Rlck1vbWVudCArIF90aGlzLnN0YXJ0TW9tZW50O1xuICAgICAgaWYgKCFyZWdpc3RlciAmJiBtb21lbnQgPCBwZXJGcmFtZSAmJiB0eXBlb2YgX3RoaXMucHJvcHMubW9tZW50ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAvLyDms6jlhozlrozlkI7vvIznrKzkuIDluKfpooTlhYjot5HliqjvvIwg6byg5qCH6Lef6ZqPXG4gICAgICAgIG1vbWVudCA9IHBlckZyYW1lO1xuICAgICAgfVxuICAgICAgaWYgKF90aGlzLnJldmVyc2UpIHtcbiAgICAgICAgbW9tZW50ID0gKF90aGlzLnN0YXJ0TW9tZW50IHx8IDApIC0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWU7XG4gICAgICB9XG4gICAgICBtb21lbnQgPSBtb21lbnQgPiBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgPyBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgOiBtb21lbnQ7XG4gICAgICBtb21lbnQgPSBtb21lbnQgPD0gMCA/IDAgOiBtb21lbnQ7XG4gICAgICBpZiAobW9tZW50IDwgX3RoaXMubW9tZW50ICYmICFfdGhpcy5yZXZlcnNlKSB7XG4gICAgICAgIF90aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5tb21lbnQgPSBtb21lbnQ7XG4gICAgICBfdGhpcy50aW1lTGluZS5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlO1xuICAgICAgX3RoaXMudGltZUxpbmUuZnJhbWUobW9tZW50KTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmFmID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG4gICAgICBfdGhpcy5mcmFtZShkYXRlLCByZWdpc3Rlcik7XG4gICAgICBpZiAoX3RoaXMubW9tZW50ID49IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSAmJiAhX3RoaXMucmV2ZXJzZSB8fCBfdGhpcy5wYXVzZWQgfHwgX3RoaXMucmV2ZXJzZSAmJiBfdGhpcy5tb21lbnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGlja2VyMltcImRlZmF1bHRcIl0uY2xlYXIoX3RoaXMucmFmSUQpO1xuICAgICAgX3RoaXMucmFmSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgX3RoaXMucmFmSUQgPSAtMTtcbiAgICBfdGhpcy5tb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcbiAgICBfdGhpcy5zdGFydE1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgX3RoaXMucGF1c2VkID0gX3RoaXMucHJvcHMucGF1c2VkO1xuICAgIF90aGlzLnJldmVyc2UgPSBfdGhpcy5wcm9wcy5yZXZlcnNlO1xuICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgX3RoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZG9tID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gICAgdGhpcy5zdGFydCgpO1xuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHRoaXMub25DaGFuZ2UgPSBuZXh0UHJvcHMub25DaGFuZ2U7XG4gICAgLy8g6Lez5bin5LqL5Lu2IG1vbWVudDtcbiAgICB2YXIgbmV3TW9tZW50ID0gbmV4dFByb3BzLm1vbWVudDtcbiAgICB0aGlzLm5ld01vbWVudEFuaW0gPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG5ld01vbWVudCA9PT0gJ251bWJlcicgJiYgbmV3TW9tZW50ICE9PSB0aGlzLm1vbWVudCkge1xuICAgICAgdGhpcy5zdGFydE1vbWVudCA9IG5ld01vbWVudDtcbiAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgIGlmICh0aGlzLnJhZklEID09PSAtMSAmJiAhbmV4dFByb3BzLnBhdXNlZCkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi50aW1lTGluZS5yZXNldEFuaW1EYXRhKCk7XG4gICAgICAgICAgdmFyIHN0eWxlID0gbmV4dFByb3BzLnN0eWxlO1xuICAgICAgICAgIF90aGlzMi5kb20uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBfdGhpczIuZG9tLnN0eWxlW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgc3R5bGVba2V5XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX3RoaXMyLnBsYXkoKTtcbiAgICAgICAgfSkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIOWKqOeUu+WkhOeQhlxuICAgIHZhciBuZXdBbmltYXRpb24gPSBuZXh0UHJvcHMuYW5pbWF0aW9uO1xuICAgIHZhciBjdXJyZW50QW5pbWF0aW9uID0gdGhpcy5wcm9wcy5hbmltYXRpb247XG4gICAgdmFyIGVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKShjdXJyZW50QW5pbWF0aW9uLCBuZXdBbmltYXRpb24pO1xuICAgIHZhciBzdHlsZUVxdWFsID0gKDAsIF91dGlsLm9iamVjdEVxdWFsKSh0aGlzLnByb3BzLnN0eWxlLCBuZXh0UHJvcHMuc3R5bGUpO1xuICAgIC8vIOWmguaenCBhbmltYXRpb24g5LiN5ZCM77yMIOmHjeaWsOWKqOeUu1xuICAgIHRoaXMucmVzdGFydEFuaW0gPSBmYWxzZTtcbiAgICBpZiAoIWVxdWFsKSB7XG4gICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgaWYgKG5leHRQcm9wcy5yZXNldFN0eWxlQm9vbCAmJiB0aGlzLnRpbWVMaW5lKSB7XG4gICAgICAgIHRoaXMudGltZUxpbmUucmVzZXREZWZhdWx0U3R5bGUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSAwO1xuICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG4gICAgICAvLyB0aGlzLnN0YXJ0KG5leHRQcm9wcyk7XG4gICAgfSBlbHNlIGlmICghc3R5bGVFcXVhbCkge1xuICAgICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDnm7jlkIzvvIzvvIxzdHlsZSDkuI3lkIzvvIzku47lvZPliY3ml7bpl7TlvIDmlL7jgIJcbiAgICAgIGlmICh0aGlzLnJhZklEICE9PSAtMSkge1xuICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG4gICAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG4gICAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8g5pqC5YGc5YCS5pS+XG4gICAgaWYgKHRoaXMucGF1c2VkICE9PSBuZXh0UHJvcHMucGF1c2VkIHx8IHRoaXMucmV2ZXJzZSAhPT0gbmV4dFByb3BzLnJldmVyc2UpIHtcbiAgICAgIHRoaXMucGF1c2VkID0gbmV4dFByb3BzLnBhdXNlZDtcbiAgICAgIHRoaXMucmV2ZXJzZSA9IG5leHRQcm9wcy5yZXZlcnNlO1xuICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5yZXZlcnNlICYmIG5leHRQcm9wcy5yZXZlcnNlRGVsYXkpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICAgICAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS50aW1lb3V0KHRoaXMucmVzdGFydCwgbmV4dFByb3BzLnJldmVyc2VEZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5yZXN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAvLyDmoLflvI/mm7TmlrDkuoblkI7lho3miafooYzliqjnlLvvvJtcbiAgICBpZiAodGhpcy5yZXN0YXJ0QW5pbSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5uZXdNb21lbnRBbmltKSB7XG4gICAgICB0aGlzLnJhZigpO1xuICAgIH1cbiAgfTtcblxuICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIFsnYW5pbWF0aW9uJywgJ2NvbXBvbmVudCcsICdyZXZlcnNlRGVsYXknLCAnYXR0cicsICdwYXVzZWQnLCAncmV2ZXJzZScsICdtb21lbnQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgIH0pO1xuICAgIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuc3R5bGUpO1xuICAgIE9iamVjdC5rZXlzKHByb3BzLnN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICBpZiAocC5tYXRjaCgvZmlsdGVyL2kpKSB7XG4gICAgICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5zdHlsZVtwcmVmaXggKyAnRmlsdGVyJ10gPSBwcm9wcy5zdHlsZVtwXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJvcHMuY29tcG9uZW50ID0gdHlwZW9mIHByb3BzLmNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucHJvcHMuY29tcG9uZW50UmVwbGFjZSA6IHByb3BzLmNvbXBvbmVudDtcbiAgICBpZiAoIXByb3BzLmNvbXBvbmVudCkge1xuICAgICAgZGVsZXRlIHByb3BzLmNvbXBvbmVudDtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzKTtcbiAgfTtcblxuICByZXR1cm4gVHdlZW5PbmU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXG5Ud2Vlbk9uZS5wcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGNvbXBvbmVudFJlcGxhY2U6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBhbmltYXRpb246IG9iamVjdE9yQXJyYXksXG4gIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBwYXVzZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgcmV2ZXJzZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICByZXZlcnNlRGVsYXk6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBtb21lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBhdHRyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgd2lsbENoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICByZXNldFN0eWxlQm9vbDogX3JlYWN0LlByb3BUeXBlcy5ib29sXG59O1xuXG5Ud2Vlbk9uZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ2RpdicsXG4gIHJldmVyc2VEZWxheTogMCxcbiAgYXR0cjogJ3N0eWxlJyxcbiAgb25DaGFuZ2U6IG5vb3AsXG4gIHdpbGxDaGFuZ2U6IHRydWVcbn07XG5Ud2Vlbk9uZS5wbHVnaW5zID0gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R3ZWVuRnVuY3Rpb25zID0gcmVxdWlyZSgndHdlZW4tZnVuY3Rpb25zJyk7XG5cbnZhciBfdHdlZW5GdW5jdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHdlZW5GdW5jdGlvbnMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdLnBhdGggPSBmdW5jdGlvbiAoX3BhdGgsIF9wYXJhbSkge1xuICB2YXIgcGFyYW0gPSBfcGFyYW0gfHwge307XG4gIHZhciBwYXRoTm9kZSA9ICgwLCBfdXRpbC5wYXJzZVBhdGgpKF9wYXRoKTtcbiAgdmFyIHBhdGhMZW5ndGggPSBwYXRoTm9kZS5nZXRUb3RhbExlbmd0aCgpO1xuICB2YXIgcmVjdCA9IHBhcmFtLnJlY3QgfHwgMTAwOyAvLyBwYXRoIOeahOWkp+Wwj++8jDEwMCAqIDEwMO+8jFxuICB2YXIgbGVuZ3RoUGl4ZWwgPSBwYXJhbS5sZW5ndGhQaXhlbCB8fCAxNTAwOyAvLyDnur/kuIrlj5bngrnlg4/ntKDvvIzpu5jorqTliIbkuLogMTUwMCDmrrXjgILjgIJcbiAgdmFyIHBvaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aFBpeGVsOyBpKyspIHtcbiAgICBwb2ludHMucHVzaChwYXRoTm9kZS5nZXRQb2ludEF0TGVuZ3RoKHBhdGhMZW5ndGggLyBsZW5ndGhQaXhlbCAqIGkpKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gcGF0aCh0LCBiLCBfYywgZCkge1xuICAgIHZhciBwID0gX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl0ubGluZWFyKHQsIGIsIF9jLCBkKTtcbiAgICB2YXIgdGltZVBvaW50WCA9IHJlY3QgKiBwOyAvLyBYIOi9tOeahOeZvuWIhuavlDtcbiAgICAvLyDlj5blh7ogeCDovbTnmb7liIbmr5TkuIrnmoTngrk7XG4gICAgdmFyIHBvaW50ID0gcG9pbnRzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0ueCA+PSB0aW1lUG9pbnRYO1xuICAgIH0pWzBdIHx8IHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocCAqIHBhdGhMZW5ndGgpO1xuICAgIHJldHVybiAxIC0gcG9pbnQueSAvIHJlY3Q7XG4gIH07XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF90d2VlbkZ1bmN0aW9uczJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9lYXNpbmcuanNcbiAqKiBtb2R1bGUgaWQgPSA2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCJleHBvcnQgY29uc3QgTUVOVSA9IDFcclxuZXhwb3J0IGNvbnN0IERFVEFJTCA9IDJcclxuZXhwb3J0IGNvbnN0IEFERCA9IDNcclxuZXhwb3J0IGNvbnN0IFVQREFURSA9IDRcclxuZXhwb3J0IGNvbnN0IERFTEVURSA9IDVcclxuZXhwb3J0IGNvbnN0IENIRUNLID0gNlxyXG5leHBvcnQgY29uc3QgVVBMT0FEID0gN1xyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb25zdGFudHMvb3B0aW9ucy5qc1xuICoqLyIsInZhciBub3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZS1ub3cnKVxuICAsIHJvb3QgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvd1xuICAsIHZlbmRvcnMgPSBbJ21veicsICd3ZWJraXQnXVxuICAsIHN1ZmZpeCA9ICdBbmltYXRpb25GcmFtZSdcbiAgLCByYWYgPSByb290WydyZXF1ZXN0JyArIHN1ZmZpeF1cbiAgLCBjYWYgPSByb290WydjYW5jZWwnICsgc3VmZml4XSB8fCByb290WydjYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cblxuZm9yKHZhciBpID0gMDsgIXJhZiAmJiBpIDwgdmVuZG9ycy5sZW5ndGg7IGkrKykge1xuICByYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnUmVxdWVzdCcgKyBzdWZmaXhdXG4gIGNhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWwnICsgc3VmZml4XVxuICAgICAgfHwgcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxufVxuXG4vLyBTb21lIHZlcnNpb25zIG9mIEZGIGhhdmUgckFGIGJ1dCBub3QgY0FGXG5pZighcmFmIHx8ICFjYWYpIHtcbiAgdmFyIGxhc3QgPSAwXG4gICAgLCBpZCA9IDBcbiAgICAsIHF1ZXVlID0gW11cbiAgICAsIGZyYW1lRHVyYXRpb24gPSAxMDAwIC8gNjBcblxuICByYWYgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdmFyIF9ub3cgPSBub3coKVxuICAgICAgICAsIG5leHQgPSBNYXRoLm1heCgwLCBmcmFtZUR1cmF0aW9uIC0gKF9ub3cgLSBsYXN0KSlcbiAgICAgIGxhc3QgPSBuZXh0ICsgX25vd1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNwID0gcXVldWUuc2xpY2UoMClcbiAgICAgICAgLy8gQ2xlYXIgcXVldWUgaGVyZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGNhbGxiYWNrcyBmcm9tIGFwcGVuZGluZyBsaXN0ZW5lcnNcbiAgICAgICAgLy8gdG8gdGhlIGN1cnJlbnQgZnJhbWUncyBxdWV1ZVxuICAgICAgICBxdWV1ZS5sZW5ndGggPSAwXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmKCFjcFtpXS5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgY3BbaV0uY2FsbGJhY2sobGFzdClcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0aHJvdyBlIH0sIDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBNYXRoLnJvdW5kKG5leHQpKVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKHtcbiAgICAgIGhhbmRsZTogKytpZCxcbiAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgIGNhbmNlbGxlZDogZmFsc2VcbiAgICB9KVxuICAgIHJldHVybiBpZFxuICB9XG5cbiAgY2FmID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZihxdWV1ZVtpXS5oYW5kbGUgPT09IGhhbmRsZSkge1xuICAgICAgICBxdWV1ZVtpXS5jYW5jZWxsZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4pIHtcbiAgLy8gV3JhcCBpbiBhIG5ldyBmdW5jdGlvbiB0byBwcmV2ZW50XG4gIC8vIGBjYW5jZWxgIHBvdGVudGlhbGx5IGJlaW5nIGFzc2lnbmVkXG4gIC8vIHRvIHRoZSBuYXRpdmUgckFGIGZ1bmN0aW9uXG4gIHJldHVybiByYWYuY2FsbChyb290LCBmbilcbn1cbm1vZHVsZS5leHBvcnRzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICBjYWYuYXBwbHkocm9vdCwgYXJndW1lbnRzKVxufVxubW9kdWxlLmV4cG9ydHMucG9seWZpbGwgPSBmdW5jdGlvbigpIHtcbiAgcm9vdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByYWZcbiAgcm9vdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmFmL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheScpO1xuXG52YXIgX3RvQ29uc3VtYWJsZUFycmF5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvQ29uc3VtYWJsZUFycmF5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9pbmRleCA9IHJlcXVpcmUoJy4vaW5kZXgnKTtcblxudmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmRleCk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ2hlY2tib3hHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDaGVja2JveEdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENoZWNrYm94R3JvdXAocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDaGVja2JveEdyb3VwKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMudG9nZ2xlT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gX3RoaXMuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gW10uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkzW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUudmFsdWUpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLnNwbGljZShvcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBbXVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSB8fCBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnM7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzk2MFxuXG4gICAgICAgIHJldHVybiBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKS5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2luZGV4MltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyBkaXNhYmxlZDogJ2Rpc2FibGVkJyBpbiBvcHRpb24gPyBvcHRpb24uZGlzYWJsZWQgOiBfdGhpczIucHJvcHMuZGlzYWJsZWQsIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSkgIT09IC0xLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZU9wdGlvbihvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbScsIGtleTogb3B0aW9uLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uLmxhYmVsXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc1N0cmluZyB9LFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2hlY2tib3hHcm91cDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveEdyb3VwO1xuXG5DaGVja2JveEdyb3VwLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBvcHRpb25zOiBbXSxcbiAgICBwcmVmaXhDbHM6ICdhbnQtY2hlY2tib3gtZ3JvdXAnXG59O1xuQ2hlY2tib3hHcm91cC5wcm9wVHlwZXMgPSB7XG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcbiAgICBvcHRpb25zOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmNcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9jaGVja2JveC9Hcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDgyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2J1dHRvbiA9IHJlcXVpcmUoJy4uL2J1dHRvbicpO1xuXG52YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9kcm9wZG93biA9IHJlcXVpcmUoJy4vZHJvcGRvd24nKTtcblxudmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuXG52YXIgQnV0dG9uR3JvdXAgPSBfYnV0dG9uMltcImRlZmF1bHRcIl0uR3JvdXA7XG5cbnZhciBEcm9wZG93bkJ1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93bkJ1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBEcm9wZG93bkJ1dHRvbigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bkJ1dHRvbik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBEcm9wZG93bkJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdHlwZSA9IF9hLnR5cGUsXG4gICAgICAgICAgICBvdmVybGF5ID0gX2Eub3ZlcmxheSxcbiAgICAgICAgICAgIHRyaWdnZXIgPSBfYS50cmlnZ2VyLFxuICAgICAgICAgICAgYWxpZ24gPSBfYS5hbGlnbixcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICBvbkNsaWNrID0gX2Eub25DbGljayxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX2EuZGlzYWJsZWQsXG4gICAgICAgICAgICB2aXNpYmxlID0gX2EudmlzaWJsZSxcbiAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZSA9IF9hLm9uVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1widHlwZVwiLCBcIm92ZXJsYXlcIiwgXCJ0cmlnZ2VyXCIsIFwiYWxpZ25cIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcIm9uQ2xpY2tcIiwgXCJwcmVmaXhDbHNcIiwgXCJkaXNhYmxlZFwiLCBcInZpc2libGVcIiwgXCJvblZpc2libGVDaGFuZ2VcIl0pO1xuICAgICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGRyb3Bkb3duUHJvcHMgPSB7XG4gICAgICAgICAgICBhbGlnbjogYWxpZ24sXG4gICAgICAgICAgICBvdmVybGF5OiBvdmVybGF5LFxuICAgICAgICAgICAgdHJpZ2dlcjogZGlzYWJsZWQgPyBbXSA6IHRyaWdnZXIsXG4gICAgICAgICAgICBvblZpc2libGVDaGFuZ2U6IG9uVmlzaWJsZUNoYW5nZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duUHJvcHMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBCdXR0b25Hcm91cCxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IGNsYXNzTmFtZTogY2xzIH0pLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBvbkNsaWNrOiBvbkNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgZHJvcGRvd25Qcm9wcyxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZG93bicgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBEcm9wZG93bkJ1dHRvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bkJ1dHRvbjtcblxuRHJvcGRvd25CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIGFsaWduOiB7XG4gICAgICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgICAgICBvdmVybGF5OiB7XG4gICAgICAgICAgICBhZGp1c3RYOiAxLFxuICAgICAgICAgICAgYWRqdXN0WTogMVxuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0OiBbMCwgMF1cbiAgICB9LFxuICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24tYnV0dG9uJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL2Ryb3Bkb3duLWJ1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2Ryb3Bkb3duID0gcmVxdWlyZSgnLi9kcm9wZG93bicpO1xuXG52YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblxudmFyIF9kcm9wZG93bkJ1dHRvbiA9IHJlcXVpcmUoJy4vZHJvcGRvd24tYnV0dG9uJyk7XG5cbnZhciBfZHJvcGRvd25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd25CdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX2Ryb3Bkb3duQnV0dG9uMltcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY0RpYWxvZyA9IHJlcXVpcmUoJ3JjLWRpYWxvZycpO1xuXG52YXIgX3JjRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjRGlhbG9nKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmMtdXRpbC9saWIvRG9tL2FkZEV2ZW50TGlzdGVuZXInKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX2J1dHRvbiA9IHJlcXVpcmUoJy4uL2J1dHRvbicpO1xuXG52YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIG1vdXNlUG9zaXRpb24gPSB2b2lkIDA7XG52YXIgbW91c2VQb3NpdGlvbkV2ZW50QmluZGVkID0gdm9pZCAwO1xuXG52YXIgTW9kYWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTW9kYWwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gTW9kYWwoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTW9kYWwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgb25DYW5jZWwgPSBfdGhpcy5wcm9wcy5vbkNhbmNlbDtcbiAgICAgICAgICAgIGlmIChvbkNhbmNlbCkge1xuICAgICAgICAgICAgICAgIG9uQ2FuY2VsKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVPayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgb25PayA9IF90aGlzLnByb3BzLm9uT2s7XG4gICAgICAgICAgICBpZiAob25Paykge1xuICAgICAgICAgICAgICAgIG9uT2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBNb2RhbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKG1vdXNlUG9zaXRpb25FdmVudEJpbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIOWPquacieeCueWHu+S6i+S7tuaUr+aMgeS7jum8oOagh+S9jee9ruWKqOeUu+WxleW8gFxuICAgICAgICAoMCwgX2FkZEV2ZW50TGlzdGVuZXIyW1wiZGVmYXVsdFwiXSkoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbW91c2VQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHk6IGUucGFnZVlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyAxMDBtcyDlhoXlj5HnlJ/ov4fngrnlh7vkuovku7bvvIzliJnku47ngrnlh7vkvY3nva7liqjnlLvlsZXnpLpcbiAgICAgICAgICAgIC8vIOWQpuWImeebtOaOpSB6b29tIOWxleekulxuICAgICAgICAgICAgLy8g6L+Z5qC35Y+v5Lul5YW85a656Z2e54K55Ye75pa55byP5bGV5byAXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW91c2VQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgbW91c2VQb3NpdGlvbkV2ZW50QmluZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgTW9kYWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBva1RleHQgPSBfcHJvcHMub2tUZXh0LFxuICAgICAgICAgICAgY2FuY2VsVGV4dCA9IF9wcm9wcy5jYW5jZWxUZXh0LFxuICAgICAgICAgICAgY29uZmlybUxvYWRpbmcgPSBfcHJvcHMuY29uZmlybUxvYWRpbmcsXG4gICAgICAgICAgICBmb290ZXIgPSBfcHJvcHMuZm9vdGVyLFxuICAgICAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuTW9kYWwpIHtcbiAgICAgICAgICAgIG9rVGV4dCA9IG9rVGV4dCB8fCB0aGlzLmNvbnRleHQuYW50TG9jYWxlLk1vZGFsLm9rVGV4dDtcbiAgICAgICAgICAgIGNhbmNlbFRleHQgPSBjYW5jZWxUZXh0IHx8IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuTW9kYWwuY2FuY2VsVGV4dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVmYXVsdEZvb3RlciA9IFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyBrZXk6ICdjYW5jZWwnLCBzaXplOiAnbGFyZ2UnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNhbmNlbCB9LFxuICAgICAgICAgICAgY2FuY2VsVGV4dCB8fCAn5Y+W5raIJ1xuICAgICAgICApLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyBrZXk6ICdjb25maXJtJywgdHlwZTogJ3ByaW1hcnknLCBzaXplOiAnbGFyZ2UnLCBsb2FkaW5nOiBjb25maXJtTG9hZGluZywgb25DbGljazogdGhpcy5oYW5kbGVPayB9LFxuICAgICAgICAgICAgb2tUZXh0IHx8ICfnoa7lrponXG4gICAgICAgICldO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNEaWFsb2cyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgb25DbG9zZTogdGhpcy5oYW5kbGVDYW5jZWwsIGZvb3RlcjogZm9vdGVyIHx8IGRlZmF1bHRGb290ZXIgfSwgdGhpcy5wcm9wcywgeyB2aXNpYmxlOiB2aXNpYmxlLCBtb3VzZVBvc2l0aW9uOiBtb3VzZVBvc2l0aW9uIH0pKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1vZGFsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vZGFsO1xuXG5Nb2RhbC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LW1vZGFsJyxcbiAgICB3aWR0aDogNTIwLFxuICAgIHRyYW5zaXRpb25OYW1lOiAnem9vbScsXG4gICAgbWFza1RyYW5zaXRpb25OYW1lOiAnZmFkZScsXG4gICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLFxuICAgIHZpc2libGU6IGZhbHNlXG59O1xuTW9kYWwucHJvcFR5cGVzID0ge1xuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ2FuY2VsOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb2tUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG4gICAgY2FuY2VsVGV4dDogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuICAgIHdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgY29uZmlybUxvYWRpbmc6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5ub2RlLFxuICAgIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG4gICAgY2xvc2FibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxufTtcbk1vZGFsLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9tb2RhbC9Nb2RhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc2VsZWN0ID0gcmVxdWlyZSgnLi4vc2VsZWN0Jyk7XG5cbnZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgTWluaVNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShNaW5pU2VsZWN0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIE1pbmlTZWxlY3QoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTWluaVNlbGVjdCk7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBNaW5pU2VsZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9zZWxlY3QyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgc2l6ZTogJ3NtYWxsJyB9LCB0aGlzLnByb3BzKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBNaW5pU2VsZWN0O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1pbmlTZWxlY3Q7XG5cbk1pbmlTZWxlY3QuT3B0aW9uID0gX3NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BhZ2luYXRpb24vTWluaVNlbGVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjUGFnaW5hdGlvbiA9IHJlcXVpcmUoJ3JjLXBhZ2luYXRpb24nKTtcblxudmFyIF9yY1BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNQYWdpbmF0aW9uKTtcblxudmFyIF9zZWxlY3QgPSByZXF1aXJlKCcuLi9zZWxlY3QnKTtcblxudmFyIF9zZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0KTtcblxudmFyIF9NaW5pU2VsZWN0ID0gcmVxdWlyZSgnLi9NaW5pU2VsZWN0Jyk7XG5cbnZhciBfTWluaVNlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9NaW5pU2VsZWN0KTtcblxudmFyIF96aF9DTiA9IHJlcXVpcmUoJ3JjLXBhZ2luYXRpb24vbGliL2xvY2FsZS96aF9DTicpO1xuXG52YXIgX3poX0NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUGFnaW5hdGlvbigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBQYWdpbmF0aW9uKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIFBhZ2luYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgICB2YXIgc2VsZWN0Q29tcG9uZW50Q2xhc3MgPSBfc2VsZWN0MltcImRlZmF1bHRcIl07XG4gICAgICAgIHZhciBsb2NhbGUgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQuYW50TG9jYWxlICYmIHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbikge1xuICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5QYWdpbmF0aW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJykge1xuICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgbWluaSc7XG4gICAgICAgICAgICBzZWxlY3RDb21wb25lbnRDbGFzcyA9IF9NaW5pU2VsZWN0MltcImRlZmF1bHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyBzZWxlY3RDb21wb25lbnRDbGFzczogc2VsZWN0Q29tcG9uZW50Q2xhc3MsIHNlbGVjdFByZWZpeENsczogdGhpcy5wcm9wcy5zZWxlY3RQcmVmaXhDbHMgfSwgdGhpcy5wcm9wcywgeyBsb2NhbGU6IGxvY2FsZSwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFnaW5hdGlvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBQYWdpbmF0aW9uO1xuXG5QYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBsb2NhbGU6IF96aF9DTjJbXCJkZWZhdWx0XCJdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgcHJlZml4Q2xzOiAnYW50LXBhZ2luYXRpb24nLFxuICAgIHNlbGVjdFByZWZpeENsczogJ2FudC1zZWxlY3QnXG59O1xuUGFnaW5hdGlvbi5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfUGFnaW5hdGlvbiA9IHJlcXVpcmUoJy4vUGFnaW5hdGlvbicpO1xuXG52YXIgX1BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGFnaW5hdGlvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9QYWdpbmF0aW9uMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3NlbGVjdC9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9pbnB1dC9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BhZ2luYXRpb24vc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi9yYWRpbycpO1xuXG52YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblxudmFyIF9yYWRpb0J1dHRvbiA9IHJlcXVpcmUoJy4vcmFkaW9CdXR0b24nKTtcblxudmFyIF9yYWRpb0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpb0J1dHRvbik7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0Q2hlY2tlZFZhbHVlKGNoaWxkcmVuKSB7XG4gICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICB2YXIgbWF0Y2hlZCA9IGZhbHNlO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuICAgICAgICBpZiAocmFkaW8gJiYgcmFkaW8ucHJvcHMgJiYgcmFkaW8ucHJvcHMuY2hlY2tlZCkge1xuICAgICAgICAgICAgdmFsdWUgPSByYWRpby5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hdGNoZWQgPyB7IHZhbHVlOiB2YWx1ZSB9IDogdW5kZWZpbmVkO1xufVxuXG52YXIgUmFkaW9Hcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpb0dyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJhZGlvR3JvdXAocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpb0dyb3VwKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMub25SYWRpb0NoYW5nZSA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IF90aGlzLnN0YXRlLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZXYudGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIF90aGlzLnByb3BzKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSAmJiB2YWx1ZSAhPT0gbGFzdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UoZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCdkZWZhdWx0VmFsdWUnIGluIHByb3BzKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBnZXRDaGVja2VkVmFsdWUocHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgdmFsdWUgPSBjaGVja2VkVmFsdWUgJiYgY2hlY2tlZFZhbHVlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBnZXRDaGVja2VkVmFsdWUobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoZWNrZWRWYWx1ZS52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgUmFkaW9Hcm91cC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSAhcHJvcHMuY2hpbGRyZW4gPyBbXSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLm1hcChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG4gICAgICAgICAgICBpZiAocmFkaW8gJiYgKHJhZGlvLnR5cGUgPT09IF9yYWRpbzJbXCJkZWZhdWx0XCJdIHx8IHJhZGlvLnR5cGUgPT09IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdKSAmJiByYWRpby5wcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQocmFkaW8sICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCByYWRpby5wcm9wcywge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uUmFkaW9DaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzMi5zdGF0ZS52YWx1ZSA9PT0gcmFkaW8ucHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiByYWRpby5wcm9wcy5kaXNhYmxlZCB8fCBfdGhpczIucHJvcHMuZGlzYWJsZWRcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmFkaW87XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgX3Byb3BzJHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcyRwcmVmaXhDbHMgPT09IHVuZGVmaW5lZCA/ICdhbnQtcmFkaW8tZ3JvdXAnIDogX3Byb3BzJHByZWZpeENscyxcbiAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWU7XG5cbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMuc2l6ZSwgcHJvcHMuc2l6ZSksIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBwcm9wcy5zdHlsZSwgb25Nb3VzZUVudGVyOiBwcm9wcy5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMub25Nb3VzZUxlYXZlIH0sXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmFkaW9Hcm91cDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpb0dyb3VwO1xuXG5SYWRpb0dyb3VwLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2Vcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yYWRpby9ncm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDkzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2dyaWQvc3R5bGUvaW5kZXgubGVzcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3Jvdy9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDk0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yY1RhYmxlID0gcmVxdWlyZSgncmMtdGFibGUnKTtcblxudmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfUmNUYWJsZSRDb2x1bW4pIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW4sIF9SY1RhYmxlJENvbHVtbik7XG5cbiAgZnVuY3Rpb24gQ29sdW1uKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SY1RhYmxlJENvbHVtbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBDb2x1bW47XG59KF9yY1RhYmxlMltcImRlZmF1bHRcIl0uQ29sdW1uKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW4uanNcbiAqKiBtb2R1bGUgaWQgPSA5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSwgb25DbGljazogcHJvcHMub25DbGljayB9LFxuICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyLmpzXG4gKiogbW9kdWxlIGlkID0gOTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jaGVja2JveCA9IHJlcXVpcmUoJy4uL2NoZWNrYm94Jyk7XG5cbnZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgU2VsZWN0aW9uQm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkJveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWxlY3Rpb25Cb3gocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3Rpb25Cb3gpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLmdldENoZWNrU3RhdGUocHJvcHMpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5wcm9wcy5zdG9yZTtcblxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gX3RoaXMyLmdldENoZWNrU3RhdGUoX3RoaXMyLnByb3BzKTtcbiAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmdldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBnZXRDaGVja1N0YXRlKHByb3BzKSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuICAgICAgICAgICAgZGVmYXVsdFNlbGVjdGlvbiA9IHByb3BzLmRlZmF1bHRTZWxlY3Rpb24sXG4gICAgICAgICAgICByb3dJbmRleCA9IHByb3BzLnJvd0luZGV4O1xuXG4gICAgICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5KSB7XG4gICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihyb3dJbmRleCkgPj0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrZWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwIHx8IGRlZmF1bHRTZWxlY3Rpb24uaW5kZXhPZihyb3dJbmRleCkgPj0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlLFxuICAgICAgICAgICAgcm93SW5kZXggPSBfcHJvcHMucm93SW5kZXgsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlO1xuICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuc3RhdGUuY2hlY2tlZDtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiByb3dJbmRleCwgY2hlY2tlZDogY2hlY2tlZCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiBjaGVja2VkLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlbGVjdGlvbkJveDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Rpb25Cb3g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9TZWxlY3Rpb25Cb3guanNcbiAqKiBtb2R1bGUgaWQgPSA5N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NoZWNrYm94ID0gcmVxdWlyZSgnLi4vY2hlY2tib3gnKTtcblxudmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgU2VsZWN0aW9uQ2hlY2tib3hBbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0aW9uQ2hlY2tib3hBbGwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uQ2hlY2tib3hBbGwocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3Rpb25DaGVja2JveEFsbCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcyksXG4gICAgICAgICAgICBpbmRldGVybWluYXRlOiBfdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldENoZWNrU3RhdGUobmV4dFByb3BzKTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5wcm9wcy5zdG9yZTtcblxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMi5zZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY2hlY2tTZWxlY3Rpb24gPSBmdW5jdGlvbiBjaGVja1NlbGVjdGlvbihkYXRhLCB0eXBlLCBieURlZmF1bHRDaGVja2VkKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBnZXRDaGVja2JveFByb3BzQnlJdGVtID0gX3Byb3BzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0sXG4gICAgICAgICAgICBnZXRSZWNvcmRLZXkgPSBfcHJvcHMuZ2V0UmVjb3JkS2V5O1xuICAgICAgICAvLyB0eXBlIHNob3VsZCBiZSAnZXZlcnknIHwgJ3NvbWUnXG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdldmVyeScgfHwgdHlwZSA9PT0gJ3NvbWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gYnlEZWZhdWx0Q2hlY2tlZCA/IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpKS5kZWZhdWx0Q2hlY2tlZDtcbiAgICAgICAgICAgIH0pIDogZGF0YVt0eXBlXShmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGdldFJlY29yZEtleShpdGVtLCBpKSkgPj0gMDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnNldENoZWNrU3RhdGUgPSBmdW5jdGlvbiBzZXRDaGVja1N0YXRlKHByb3BzKSB7XG4gICAgICAgIHZhciBjaGVja2VkID0gdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKTtcbiAgICAgICAgdmFyIGluZGV0ZXJtaW5hdGUgPSB0aGlzLmdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcyk7XG4gICAgICAgIGlmIChjaGVja2VkICE9PSB0aGlzLnN0YXRlLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRldGVybWluYXRlICE9PSB0aGlzLnN0YXRlLmluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbmRldGVybWluYXRlOiBpbmRldGVybWluYXRlIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5nZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIGRhdGEgPSBwcm9wcy5kYXRhO1xuXG4gICAgICAgIHZhciBjaGVja2VkID0gdm9pZCAwO1xuICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIDogdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgfHwgdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tlZDtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmdldEluZGV0ZXJtaW5hdGVTdGF0ZSA9IGZ1bmN0aW9uIGdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIGRhdGEgPSBwcm9wcy5kYXRhO1xuXG4gICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdm9pZCAwO1xuICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBpbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRldGVybWluYXRlID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIDogdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIGZhbHNlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgfHwgdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIHRydWUpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRldGVybWluYXRlO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wczIub25DaGFuZ2U7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgY2hlY2tlZCA9IF9zdGF0ZS5jaGVja2VkLFxuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IF9zdGF0ZS5pbmRldGVybWluYXRlO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IGNoZWNrZWQsIGluZGV0ZXJtaW5hdGU6IGluZGV0ZXJtaW5hdGUsIGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQ2hlY2tib3hBbGw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9TZWxlY3Rpb25DaGVja2JveEFsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDk4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmNUYWJsZSA9IHJlcXVpcmUoJ3JjLXRhYmxlJyk7XG5cbnZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblxudmFyIF9maWx0ZXJEcm9wZG93biA9IHJlcXVpcmUoJy4vZmlsdGVyRHJvcGRvd24nKTtcblxudmFyIF9maWx0ZXJEcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9maWx0ZXJEcm9wZG93bik7XG5cbnZhciBfcGFnaW5hdGlvbiA9IHJlcXVpcmUoJy4uL3BhZ2luYXRpb24nKTtcblxudmFyIF9wYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhZ2luYXRpb24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9zcGluID0gcmVxdWlyZSgnLi4vc3BpbicpO1xuXG52YXIgX3NwaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3Bpbik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4uL191dGlsL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblxudmFyIF9TZWxlY3Rpb25Cb3ggPSByZXF1aXJlKCcuL1NlbGVjdGlvbkJveCcpO1xuXG52YXIgX1NlbGVjdGlvbkJveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3Rpb25Cb3gpO1xuXG52YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsID0gcmVxdWlyZSgnLi9TZWxlY3Rpb25DaGVja2JveEFsbCcpO1xuXG52YXIgX1NlbGVjdGlvbkNoZWNrYm94QWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGlvbkNoZWNrYm94QWxsKTtcblxudmFyIF9Db2x1bW4gPSByZXF1aXJlKCcuL0NvbHVtbicpO1xuXG52YXIgX0NvbHVtbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW4pO1xuXG52YXIgX0NvbHVtbkdyb3VwID0gcmVxdWlyZSgnLi9Db2x1bW5Hcm91cCcpO1xuXG52YXIgX0NvbHVtbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbkdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5mdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxufVxudmFyIGRlZmF1bHRMb2NhbGUgPSB7XG4gICAgZmlsdGVyVGl0bGU6ICfnrZvpgIknLFxuICAgIGZpbHRlckNvbmZpcm06ICfnoa7lrponLFxuICAgIGZpbHRlclJlc2V0OiAn6YeN572uJyxcbiAgICBlbXB0eVRleHQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdmcm93bi1vJyB9KSxcbiAgICAgICAgJ1xcdTY2ODJcXHU2NUUwXFx1NjU3MFxcdTYzNkUnXG4gICAgKVxufTtcbnZhciBkZWZhdWx0UGFnaW5hdGlvbiA9IHtcbiAgICBvbkNoYW5nZTogbm9vcCxcbiAgICBvblNob3dTaXplQ2hhbmdlOiBub29wXG59O1xuXG52YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBUYWJsZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyRyb3dTZWxlY3QgPSBfdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3RoaXMkcHJvcHMkcm93U2VsZWN0ID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHJvd1NlbGVjdDtcblxuICAgICAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkoaXRlbSwgaW5kZXgpO1xuICAgICAgICAgICAgLy8gQ2FjaGUgY2hlY2tib3hQcm9wc1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSkge1xuICAgICAgICAgICAgICAgIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldID0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV07XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZUZpbHRlciA9IGZ1bmN0aW9uIChjb2x1bW4sIG5leHRGaWx0ZXJzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLnBhZ2luYXRpb24pO1xuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUuZmlsdGVycywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbiksIG5leHRGaWx0ZXJzKSk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgZmlsdGVycyBub3QgaW4gY3VycmVudCBjb2x1bW5zXG4gICAgICAgICAgICB2YXIgY3VycmVudENvbHVtbktleXMgPSBbXTtcbiAgICAgICAgICAgICgwLCBfdXRpbC50cmVlTWFwKShfdGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmICghYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sdW1uS2V5cy5wdXNoKF90aGlzLmdldENvbHVtbktleShjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudENvbHVtbktleXMuaW5kZXhPZihjb2x1bW5LZXkpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tjb2x1bW5LZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHByb3BzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBjdXJyZW50IHByb3BcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSAxO1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24ub25DaGFuZ2UocGFnaW5hdGlvbi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpbHRlcnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGZpbHRlcnNUb1NldFN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGZpbHRlcnMpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGZpbHRlcnMgd2hpY2ggaXMgY29udHJvbGxlZFxuICAgICAgICAgICAgX3RoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sdW1uS2V5ID0gX3RoaXMuZ2V0Q29sdW1uS2V5KGNvbCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbktleSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1RvU2V0U3RhdGVbY29sdW1uS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzVG9TZXRTdGF0ZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLmZpbHRlcnMgPSBmaWx0ZXJzVG9TZXRTdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuICAgICAgICAgICAgaWYgKCgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKHByb3BzLnBhZ2luYXRpb24pID09PSAnb2JqZWN0JyAmJiAnY3VycmVudCcgaW4gcHJvcHMucGFnaW5hdGlvbikge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLnBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4LCBlKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMucHVzaChfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSBzZWxlY3RlZFJvd0tleXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09IGk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0JyxcbiAgICAgICAgICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlUmFkaW9TZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcbiAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cyA9IFtrZXldO1xuICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG4gICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdEFsbFJvdyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzLmdldEZsYXRDdXJyZW50UGFnZURhdGEoKTtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2FibGVSb3dLZXlzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIV90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaSkuZGlzYWJsZWQ7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyDorrDlvZXlj5jljJbnmoTliJdcbiAgICAgICAgICAgIHZhciBjaGFuZ2VSb3dLZXlzID0gW107XG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNoYW5nYWJsZVJvd0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVJvd0tleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYW5nYWJsZVJvd0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5zcGxpY2Uoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdEFsbCcsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzOiBjaGFuZ2VSb3dLZXlzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlUGFnZUNoYW5nZSA9IGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgb3RoZXJBcmd1bWVudHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJBcmd1bWVudHNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLnBhZ2luYXRpb24pO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmN1cnJlbnQgPSBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2luYXRpb24ub25DaGFuZ2UuYXBwbHkocGFnaW5hdGlvbiwgW3BhZ2luYXRpb24uY3VycmVudF0uY29uY2F0KG90aGVyQXJndW1lbnRzKSk7XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIENvbnRyb2xsZWQgY3VycmVudCBwcm9wIHdpbGwgbm90IHJlc3BvbmQgdXNlciBpbnRlcmFjdGlvblxuICAgICAgICAgICAgaWYgKCgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKHByb3BzLnBhZ2luYXRpb24pID09PSAnb2JqZWN0JyAmJiAnY3VycmVudCcgaW4gcHJvcHMucGFnaW5hdGlvbikge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLnBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLmN1cnJlbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3ggPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfLCByZWNvcmQsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgaW5kZXgpOyAvLyDku44gMSDlvIDlp4tcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAncmFkaW8nID8gX3RoaXMuaGFuZGxlUmFkaW9TZWxlY3QocmVjb3JkLCByb3dJbmRleCwgZSkgOiBfdGhpcy5oYW5kbGVTZWxlY3QocmVjb3JkLCByb3dJbmRleCwgZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICB7IG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3Rpb25Cb3gyW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiB0eXBlLCBzdG9yZTogX3RoaXMuc3RvcmUsIHJvd0luZGV4OiByb3dJbmRleCwgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLCBkZWZhdWx0U2VsZWN0aW9uOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCkgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0UmVjb3JkS2V5ID0gZnVuY3Rpb24gKHJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5wcm9wcy5yb3dLZXk7XG4gICAgICAgICAgICB2YXIgcmVjb3JkS2V5ID0gdHlwZW9mIHJvd0tleSA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0tleShyZWNvcmQsIGluZGV4KSA6IHJlY29yZFtyb3dLZXldO1xuICAgICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHJlY29yZEtleSAhPT0gdW5kZWZpbmVkLCAnRWFjaCByZWNvcmQgaW4gdGFibGUgc2hvdWxkIGhhdmUgYSB1bmlxdWUgYGtleWAgcHJvcCwgb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleSwnICsgJ3NlZSBodHRwOi8vdS5hbnQuZGVzaWduL3RhYmxlLXJvdy1rZXknKTtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmRLZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDogcmVjb3JkS2V5O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSA9IGZ1bmN0aW9uIChjdXJyZW50LCBwYWdlU2l6ZSkge1xuICAgICAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuICAgICAgICAgICAgcGFnaW5hdGlvbi5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHBhZ2VTaXplKTtcbiAgICAgICAgICAgIHZhciBuZXh0UGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7IHBhZ2VTaXplOiBwYWdlU2l6ZSwgY3VycmVudDogY3VycmVudCB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgcGFnaW5hdGlvbjogbmV4dFBhZ2luYXRpb24gfSk7XG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IG5leHRQYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCEoJ2NvbHVtbnNQYWdlUmFuZ2UnIGluIHByb3BzIHx8ICdjb2x1bW5zUGFnZVNpemUnIGluIHByb3BzKSwgJ2Bjb2x1bW5zUGFnZVJhbmdlYCBhbmQgYGNvbHVtbnNQYWdlU2l6ZWAgYXJlIHJlbW92ZWQsIHBsZWFzZSB1c2UgJyArICdmaXhlZCBjb2x1bW5zIGluc3RlYWQsIHNlZTogaHR0cDovL3UuYW50LmRlc2lnbi9maXhlZC1jb2x1bW5zLicpO1xuICAgICAgICBfdGhpcy5jb2x1bW5zID0gcHJvcHMuY29sdW1ucyB8fCAoMCwgX3V0aWwubm9ybWFsaXplQ29sdW1ucykocHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucygpLCB7XG4gICAgICAgICAgICAvLyDlh4/lsJHnirbmgIFcbiAgICAgICAgICAgIGZpbHRlcnM6IF90aGlzLmdldEZpbHRlcnNGcm9tQ29sdW1ucygpLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogX3RoaXMuZ2V0RGVmYXVsdFBhZ2luYXRpb24ocHJvcHMpXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcbiAgICAgICAgX3RoaXMuc3RvcmUgPSAoMCwgX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogKHByb3BzLnJvd1NlbGVjdGlvbiB8fCB7fSkuc2VsZWN0ZWRSb3dLZXlzIHx8IFtdLFxuICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgVGFibGUucHJvdG90eXBlLmdldERlZmF1bHRTZWxlY3Rpb24gPSBmdW5jdGlvbiBnZXREZWZhdWx0U2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzJHJvd1NlbGVjdGlvbiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uO1xuXG4gICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGF0RGF0YSgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcm93SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCByb3dJbmRleCkuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFBhZ2luYXRpb24gPSBmdW5jdGlvbiBnZXREZWZhdWx0UGFnaW5hdGlvbihwcm9wcykge1xuICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHByb3BzLnBhZ2luYXRpb24gfHwge307XG4gICAgICAgIHJldHVybiB0aGlzLmhhc1BhZ2luYXRpb24ocHJvcHMpID8gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwYWdpbmF0aW9uLCB7XG4gICAgICAgICAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmRlZmF1bHRDdXJyZW50IHx8IHBhZ2luYXRpb24uY3VycmVudCB8fCAxLFxuICAgICAgICAgICAgcGFnZVNpemU6IHBhZ2luYXRpb24uZGVmYXVsdFBhZ2VTaXplIHx8IHBhZ2luYXRpb24ucGFnZVNpemUgfHwgMTBcbiAgICAgICAgfSkgOiB7fTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldExvY2FsZSA9IGZ1bmN0aW9uIGdldExvY2FsZSgpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHt9O1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlRhYmxlKSB7XG4gICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlRhYmxlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdExvY2FsZSwgbG9jYWxlLCB0aGlzLnByb3BzLmxvY2FsZSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gbmV4dFByb3BzLmNvbHVtbnMgfHwgKDAsIF91dGlsLm5vcm1hbGl6ZUNvbHVtbnMpKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgICAgIGlmICgncGFnaW5hdGlvbicgaW4gbmV4dFByb3BzIHx8ICdwYWdpbmF0aW9uJyBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2aW91c1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1BhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdFBhZ2luYXRpb24sIHByZXZpb3VzU3RhdGUucGFnaW5hdGlvbiwgbmV4dFByb3BzLnBhZ2luYXRpb24pO1xuICAgICAgICAgICAgICAgIG5ld1BhZ2luYXRpb24uY3VycmVudCA9IG5ld1BhZ2luYXRpb24uY3VycmVudCB8fCAxO1xuICAgICAgICAgICAgICAgIG5ld1BhZ2luYXRpb24ucGFnZVNpemUgPSBuZXdQYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHBhZ2luYXRpb246IG5leHRQcm9wcy5wYWdpbmF0aW9uICE9PSBmYWxzZSA/IG5ld1BhZ2luYXRpb24gOiB7fSB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRQcm9wcy5yb3dTZWxlY3Rpb24gJiYgJ3NlbGVjdGVkUm93S2V5cycgaW4gbmV4dFByb3BzLnJvd1NlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBuZXh0UHJvcHMucm93U2VsZWN0aW9uLnNlbGVjdGVkUm93S2V5cyB8fCBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgcm93U2VsZWN0aW9uID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb247XG5cbiAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24gJiYgbmV4dFByb3BzLnJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzICE9PSByb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdkYXRhU291cmNlJyBpbiBuZXh0UHJvcHMgJiYgbmV4dFByb3BzLmRhdGFTb3VyY2UgIT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyh0aGlzLmNvbHVtbnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBzb3J0U3RhdGUgPSB0aGlzLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG4gICAgICAgICAgICBpZiAoc29ydFN0YXRlLnNvcnRDb2x1bW4gIT09IHRoaXMuc3RhdGUuc29ydENvbHVtbiB8fCBzb3J0U3RhdGUuc29ydE9yZGVyICE9PSB0aGlzLnN0YXRlLnNvcnRPcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc29ydFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSB0aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKHRoaXMuY29sdW1ucyk7XG4gICAgICAgIGlmIChmaWx0ZXJlZFZhbHVlQ29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyc0Zyb21Db2x1bW5zID0gdGhpcy5nZXRGaWx0ZXJzRnJvbUNvbHVtbnModGhpcy5jb2x1bW5zKTtcbiAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUuZmlsdGVycyk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzRnJvbUNvbHVtbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIG5ld0ZpbHRlcnNba2V5XSA9IGZpbHRlcnNGcm9tQ29sdW1uc1trZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpbHRlcnNDaGFuZ2VkKG5ld0ZpbHRlcnMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpbHRlcnM6IG5ld0ZpbHRlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnNldFNlbGVjdGVkUm93S2V5cyA9IGZ1bmN0aW9uIHNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIF9yZWYpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHNlbGVjdFdheSA9IF9yZWYuc2VsZWN0V2F5LFxuICAgICAgICAgICAgcmVjb3JkID0gX3JlZi5yZWNvcmQsXG4gICAgICAgICAgICBjaGVja2VkID0gX3JlZi5jaGVja2VkLFxuICAgICAgICAgICAgY2hhbmdlUm93S2V5cyA9IF9yZWYuY2hhbmdlUm93S2V5cztcbiAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24yID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG4gICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMkcm93U2VsZWN0aW9uMiA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkcm93U2VsZWN0aW9uMjtcblxuICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmICEoJ3NlbGVjdGVkUm93S2V5cycgaW4gcm93U2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZSh7IHNlbGVjdGVkUm93S2V5czogc2VsZWN0ZWRSb3dLZXlzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRGbGF0RGF0YSgpO1xuICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5vbkNoYW5nZSAmJiAhcm93U2VsZWN0aW9uW3NlbGVjdFdheV0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKF90aGlzMy5nZXRSZWNvcmRLZXkocm93LCBpKSkgPj0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyb3dTZWxlY3Rpb24ub25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vbkNoYW5nZShzZWxlY3RlZFJvd0tleXMsIHNlbGVjdGVkUm93cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0JyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3QpIHtcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vblNlbGVjdChyZWNvcmQsIGNoZWNrZWQsIHNlbGVjdGVkUm93cyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0V2F5ID09PSAnb25TZWxlY3RBbGwnICYmIHJvd1NlbGVjdGlvbi5vblNlbGVjdEFsbCkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZVJvd3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZVJvd0tleXMuaW5kZXhPZihfdGhpczMuZ2V0UmVjb3JkS2V5KHJvdywgaSkpID49IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbi5vblNlbGVjdEFsbChjaGVja2VkLCBzZWxlY3RlZFJvd3MsIGNoYW5nZVJvd3MpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5oYXNQYWdpbmF0aW9uID0gZnVuY3Rpb24gaGFzUGFnaW5hdGlvbihwcm9wcykge1xuICAgICAgICByZXR1cm4gKHByb3BzIHx8IHRoaXMucHJvcHMpLnBhZ2luYXRpb24gIT09IGZhbHNlO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuaXNGaWx0ZXJzQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzRmlsdGVyc0NoYW5nZWQoZmlsdGVycykge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICB2YXIgZmlsdGVyc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnMpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXModGhpcy5zdGF0ZS5maWx0ZXJzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2NvbHVtbktleV0gIT09IF90aGlzNC5zdGF0ZS5maWx0ZXJzW2NvbHVtbktleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJzQ2hhbmdlZDtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRPcmRlckNvbHVtbnMgPSBmdW5jdGlvbiBnZXRTb3J0T3JkZXJDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIChjb2x1bW5zIHx8IHRoaXMuY29sdW1ucyB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAnc29ydE9yZGVyJyBpbiBjb2x1bW47XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiAoY29sdW1ucyB8fCB0aGlzLmNvbHVtbnMgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGNvbHVtbi5maWx0ZXJlZFZhbHVlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMgPSBmdW5jdGlvbiBnZXRGaWx0ZXJzRnJvbUNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgICB0aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKGNvbHVtbnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICAgICAgZmlsdGVyc1tfdGhpczUuZ2V0Q29sdW1uS2V5KGNvbCldID0gY29sLmZpbHRlcmVkVmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmlsdGVycztcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRTdGF0ZUZyb21Db2x1bW5zID0gZnVuY3Rpb24gZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICAvLyByZXR1cm4gZmlzcnQgY29sdW1uIHdoaWNoIHNvcnRPcmRlciBpcyBub3QgZmFsc3lcbiAgICAgICAgdmFyIHNvcnRlZENvbHVtbiA9IHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKS5maWx0ZXIoZnVuY3Rpb24gKGNvbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbC5zb3J0T3JkZXI7XG4gICAgICAgIH0pWzBdO1xuICAgICAgICBpZiAoc29ydGVkQ29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNvcnRDb2x1bW46IHNvcnRlZENvbHVtbixcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRlZENvbHVtbi5zb3J0T3JkZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvcnRDb2x1bW46IG51bGwsXG4gICAgICAgICAgICBzb3J0T3JkZXI6IG51bGxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldFNvcnRlckZuID0gZnVuY3Rpb24gZ2V0U29ydGVyRm4oKSB7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgc29ydE9yZGVyID0gX3N0YXRlLnNvcnRPcmRlcixcbiAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBfc3RhdGUuc29ydENvbHVtbjtcblxuICAgICAgICBpZiAoIXNvcnRPcmRlciB8fCAhc29ydENvbHVtbiB8fCB0eXBlb2Ygc29ydENvbHVtbi5zb3J0ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzb3J0Q29sdW1uLnNvcnRlcihhLCBiKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc29ydE9yZGVyID09PSAnZGVzY2VuZCcgPyAtcmVzdWx0IDogcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS50b2dnbGVTb3J0T3JkZXIgPSBmdW5jdGlvbiB0b2dnbGVTb3J0T3JkZXIob3JkZXIsIGNvbHVtbikge1xuICAgICAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBzb3J0Q29sdW1uID0gX3N0YXRlMi5zb3J0Q29sdW1uLFxuICAgICAgICAgICAgc29ydE9yZGVyID0gX3N0YXRlMi5zb3J0T3JkZXI7XG4gICAgICAgIC8vIOWPquWQjOaXtuWFgeiuuOS4gOWIl+i/m+ihjOaOkuW6j++8jOWQpuWImeS8muWvvOiHtOaOkuW6j+mhuuW6j+eahOmAu+i+kemXrumimFxuXG4gICAgICAgIHZhciBpc1NvcnRDb2x1bW4gPSB0aGlzLmlzU29ydENvbHVtbihjb2x1bW4pO1xuICAgICAgICBpZiAoIWlzU29ydENvbHVtbikge1xuICAgICAgICAgICAgc29ydE9yZGVyID0gb3JkZXI7XG4gICAgICAgICAgICBzb3J0Q29sdW1uID0gY29sdW1uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNvcnRPcmRlciA9PT0gb3JkZXIpIHtcbiAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSAnJztcbiAgICAgICAgICAgICAgICBzb3J0Q29sdW1uID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gb3JkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0T3JkZXIsXG4gICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0Q29sdW1uXG4gICAgICAgIH07XG4gICAgICAgIC8vIENvbnRyb2xsZWRcbiAgICAgICAgaWYgKHRoaXMuZ2V0U29ydE9yZGVyQ29sdW1ucygpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9uQ2hhbmdlID0gdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCB0aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMuc3RhdGUsIG5ld1N0YXRlKSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJSb3dTZWxlY3Rpb24gPSBmdW5jdGlvbiByZW5kZXJSb3dTZWxlY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcy5yb3dTZWxlY3Rpb247XG5cbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmNvbHVtbnMuY29uY2F0KCk7XG4gICAgICAgIGlmIChyb3dTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIV90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25Db2x1bW4gPSB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2VsZWN0aW9uLWNvbHVtbicsXG4gICAgICAgICAgICAgICAgcmVuZGVyOiB0aGlzLnJlbmRlclNlbGVjdGlvbkJveChyb3dTZWxlY3Rpb24udHlwZSksXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi1jb2x1bW4nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi50eXBlICE9PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrYm94QWxsRGlzYWJsZWQgPSBkYXRhLmV2ZXJ5KGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaW5kZXgpLmRpc2FibGVkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvbHVtbi50aXRsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdGlvbkNoZWNrYm94QWxsMltcImRlZmF1bHRcIl0sIHsgc3RvcmU6IHRoaXMuc3RvcmUsIGRhdGE6IGRhdGEsIGdldENoZWNrYm94UHJvcHNCeUl0ZW06IHRoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSwgZ2V0UmVjb3JkS2V5OiB0aGlzLmdldFJlY29yZEtleSwgZGlzYWJsZWQ6IGNoZWNrYm94QWxsRGlzYWJsZWQsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVNlbGVjdEFsbFJvdyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNvbHVtbi5maXhlZCA9ICdsZWZ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW5zWzBdICYmIGNvbHVtbnNbMF0ua2V5ID09PSAnc2VsZWN0aW9uLWNvbHVtbicpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zWzBdID0gc2VsZWN0aW9uQ29sdW1uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnVuc2hpZnQoc2VsZWN0aW9uQ29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sdW1ucztcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldENvbHVtbktleSA9IGZ1bmN0aW9uIGdldENvbHVtbktleShjb2x1bW4sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4ua2V5IHx8IGNvbHVtbi5kYXRhSW5kZXggfHwgaW5kZXg7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRNYXhDdXJyZW50ID0gZnVuY3Rpb24gZ2V0TWF4Q3VycmVudCh0b3RhbCkge1xuICAgICAgICB2YXIgX3N0YXRlJHBhZ2luYXRpb24gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb24sXG4gICAgICAgICAgICBjdXJyZW50ID0gX3N0YXRlJHBhZ2luYXRpb24uY3VycmVudCxcbiAgICAgICAgICAgIHBhZ2VTaXplID0gX3N0YXRlJHBhZ2luYXRpb24ucGFnZVNpemU7XG5cbiAgICAgICAgaWYgKChjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSA+PSB0b3RhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuaXNTb3J0Q29sdW1uID0gZnVuY3Rpb24gaXNTb3J0Q29sdW1uKGNvbHVtbikge1xuICAgICAgICB2YXIgc29ydENvbHVtbiA9IHRoaXMuc3RhdGUuc29ydENvbHVtbjtcblxuICAgICAgICBpZiAoIWNvbHVtbiB8fCAhc29ydENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldENvbHVtbktleShzb3J0Q29sdW1uKSA9PT0gdGhpcy5nZXRDb2x1bW5LZXkoY29sdW1uKTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlckNvbHVtbnNEcm9wZG93biA9IGZ1bmN0aW9uIHJlbmRlckNvbHVtbnNEcm9wZG93bihjb2x1bW5zKSB7XG4gICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICAgICAgZHJvcGRvd25QcmVmaXhDbHMgPSBfcHJvcHMyLmRyb3Bkb3duUHJlZml4Q2xzO1xuICAgICAgICB2YXIgc29ydE9yZGVyID0gdGhpcy5zdGF0ZS5zb3J0T3JkZXI7XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWwudHJlZU1hcCkoY29sdW1ucywgZnVuY3Rpb24gKG9yaWdpbkNvbHVtbiwgaSkge1xuICAgICAgICAgICAgdmFyIGNvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBvcmlnaW5Db2x1bW4pO1xuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzNy5nZXRDb2x1bW5LZXkoY29sdW1uLCBpKTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJEcm9wZG93biA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBzb3J0QnV0dG9uID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5maWx0ZXJzICYmIGNvbHVtbi5maWx0ZXJzLmxlbmd0aCA+IDAgfHwgY29sdW1uLmZpbHRlckRyb3Bkb3duKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbEZpbHRlcnMgPSBfdGhpczcuc3RhdGUuZmlsdGVyc1trZXldIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfZmlsdGVyRHJvcGRvd24yW1wiZGVmYXVsdFwiXSwgeyBsb2NhbGU6IGxvY2FsZSwgY29sdW1uOiBjb2x1bW4sIHNlbGVjdGVkS2V5czogY29sRmlsdGVycywgY29uZmlybUZpbHRlcjogX3RoaXM3LmhhbmRsZUZpbHRlciwgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLWZpbHRlcicsIGRyb3Bkb3duUHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyB8fCAnYW50LWRyb3Bkb3duJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW4uc29ydGVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzU29ydENvbHVtbiA9IF90aGlzNy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNTb3J0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBjb2x1bW4uY2xhc3NOYW1lIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc29ydE9yZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctY29sdW1uLXNvcnQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpc0FzY2VuZCA9IGlzU29ydENvbHVtbiAmJiBzb3J0T3JkZXIgPT09ICdhc2NlbmQnO1xuICAgICAgICAgICAgICAgIHZhciBpc0Rlc2NlbmQgPSBpc1NvcnRDb2x1bW4gJiYgc29ydE9yZGVyID09PSAnZGVzY2VuZCc7XG4gICAgICAgICAgICAgICAgc29ydEJ1dHRvbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlci11cCAnICsgKGlzQXNjZW5kID8gJ29uJyA6ICdvZmYnKSwgdGl0bGU6ICdcXHUyMTkxJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy50b2dnbGVTb3J0T3JkZXIoJ2FzY2VuZCcsIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjYXJldC11cCcgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItZG93biAnICsgKGlzRGVzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MycsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcudG9nZ2xlU29ydE9yZGVyKCdkZXNjZW5kJywgY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2NhcmV0LWRvd24nIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1uLnRpdGxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBjb2x1bW4udGl0bGUsXG4gICAgICAgICAgICAgICAgc29ydEJ1dHRvbixcbiAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93blxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclBhZ2luYXRpb24oKSB7XG4gICAgICAgIC8vIOW8uuWItuS4jemcgOimgeWIhumhtVxuICAgICAgICBpZiAoIXRoaXMuaGFzUGFnaW5hdGlvbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9ICdkZWZhdWx0JztcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB0aGlzLnN0YXRlLnBhZ2luYXRpb247XG5cbiAgICAgICAgaWYgKHBhZ2luYXRpb24uc2l6ZSkge1xuICAgICAgICAgICAgc2l6ZSA9IHBhZ2luYXRpb24uc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdtaWRkbGUnIHx8IHRoaXMucHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJykge1xuICAgICAgICAgICAgc2l6ZSA9ICdzbWFsbCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsID0gcGFnaW5hdGlvbi50b3RhbCB8fCB0aGlzLmdldExvY2FsRGF0YSgpLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRvdGFsID4gMCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsga2V5OiAncGFnaW5hdGlvbicgfSwgcGFnaW5hdGlvbiwgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1wYWdpbmF0aW9uJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlUGFnZUNoYW5nZSwgdG90YWw6IHRvdGFsLCBzaXplOiBzaXplLCBjdXJyZW50OiB0aGlzLmdldE1heEN1cnJlbnQodG90YWwpLCBvblNob3dTaXplQ2hhbmdlOiB0aGlzLmhhbmRsZVNob3dTaXplQ2hhbmdlIH0pKSA6IG51bGw7XG4gICAgfTtcbiAgICAvLyBHZXQgcGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyXG5cblxuICAgIFRhYmxlLnByb3RvdHlwZS5wcmVwYXJlUGFyYW1zQXJndW1lbnRzID0gZnVuY3Rpb24gcHJlcGFyZVBhcmFtc0FyZ3VtZW50cyhzdGF0ZSkge1xuICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IF9fYXNzaWduKHt9LCBzdGF0ZS5wYWdpbmF0aW9uKTtcbiAgICAgICAgLy8gcmVtb3ZlIHVzZWxlc3MgaGFuZGxlIGZ1bmN0aW9uIGluIFRhYmxlLm9uQ2hhbmdlXG4gICAgICAgIGRlbGV0ZSBwYWdpbmF0aW9uLm9uQ2hhbmdlO1xuICAgICAgICBkZWxldGUgcGFnaW5hdGlvbi5vblNob3dTaXplQ2hhbmdlO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG4gICAgICAgIHZhciBzb3J0ZXIgPSB7fTtcbiAgICAgICAgaWYgKHN0YXRlLnNvcnRDb2x1bW4gJiYgc3RhdGUuc29ydE9yZGVyKSB7XG4gICAgICAgICAgICBzb3J0ZXIuY29sdW1uID0gc3RhdGUuc29ydENvbHVtbjtcbiAgICAgICAgICAgIHNvcnRlci5vcmRlciA9IHN0YXRlLnNvcnRPcmRlcjtcbiAgICAgICAgICAgIHNvcnRlci5maWVsZCA9IHN0YXRlLnNvcnRDb2x1bW4uZGF0YUluZGV4O1xuICAgICAgICAgICAgc29ydGVyLmNvbHVtbktleSA9IHRoaXMuZ2V0Q29sdW1uS2V5KHN0YXRlLnNvcnRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyXTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmZpbmRDb2x1bW4gPSBmdW5jdGlvbiBmaW5kQ29sdW1uKG15S2V5KSB7XG4gICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICAgIHZhciBjb2x1bW4gPSB2b2lkIDA7XG4gICAgICAgICgwLCBfdXRpbC50cmVlTWFwKSh0aGlzLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXM4LmdldENvbHVtbktleShjKSA9PT0gbXlLZXkpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEN1cnJlbnRQYWdlRGF0YSA9IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlRGF0YSgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldExvY2FsRGF0YSgpO1xuICAgICAgICB2YXIgY3VycmVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHBhZ2VTaXplID0gdm9pZCAwO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAvLyDlpoLmnpzmsqHmnInliIbpobXnmoTor53vvIzpu5jorqTlhajpg6jlsZXnpLpcbiAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuICAgICAgICAgICAgcGFnZVNpemUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgY3VycmVudCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlU2l6ZSA9IHN0YXRlLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5nZXRNYXhDdXJyZW50KHN0YXRlLnBhZ2luYXRpb24udG90YWwgfHwgZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIOWIhumhtVxuICAgICAgICAvLyAtLS1cbiAgICAgICAgLy8g5b2T5pWw5o2u6YeP5bCR5LqO562J5LqO5q+P6aG15pWw6YeP5pe277yM55u05o6l6K6+572u5pWw5o2uXG4gICAgICAgIC8vIOWQpuWImei/m+ihjOivu+WPluWIhumhteaVsOaNrlxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiBwYWdlU2l6ZSB8fCBwYWdlU2l6ZSA9PT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPj0gKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICYmIGkgPCBjdXJyZW50ICogcGFnZVNpemU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEZsYXREYXRhID0gZnVuY3Rpb24gZ2V0RmxhdERhdGEoKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWwuZmxhdEFycmF5KSh0aGlzLmdldExvY2FsRGF0YSgpKTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEZsYXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCkge1xuICAgICAgICByZXR1cm4gKDAsIF91dGlsLmZsYXRBcnJheSkodGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZWN1cnNpdmVTb3J0ID0gZnVuY3Rpb24gcmVjdXJzaXZlU29ydChkYXRhLCBzb3J0ZXJGbikge1xuICAgICAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzJGNoaWxkcmVuQ29sdW1uID0gdGhpcy5wcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWUsXG4gICAgICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWUgPSBfcHJvcHMkY2hpbGRyZW5Db2x1bW4gPT09IHVuZGVmaW5lZCA/ICdjaGlsZHJlbicgOiBfcHJvcHMkY2hpbGRyZW5Db2x1bW47XG5cbiAgICAgICAgcmV0dXJuIGRhdGEuc29ydChzb3J0ZXJGbikubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdID8gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGNoaWxkcmVuQ29sdW1uTmFtZSwgX3RoaXM5LnJlY3Vyc2l2ZVNvcnQoaXRlbVtjaGlsZHJlbkNvbHVtbk5hbWVdLCBzb3J0ZXJGbikpKSA6IGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TG9jYWxEYXRhID0gZnVuY3Rpb24gZ2V0TG9jYWxEYXRhKCkge1xuICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgdmFyIGRhdGFTb3VyY2UgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2U7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBkYXRhU291cmNlIHx8IFtdO1xuICAgICAgICAvLyDkvJjljJbmnKzlnLDmjpLluo9cbiAgICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCk7XG4gICAgICAgIHZhciBzb3J0ZXJGbiA9IHRoaXMuZ2V0U29ydGVyRm4oKTtcbiAgICAgICAgaWYgKHNvcnRlckZuKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5yZWN1cnNpdmVTb3J0KGRhdGEsIHNvcnRlckZuKTtcbiAgICAgICAgfVxuICAgICAgICAvLyDnrZvpgIlcbiAgICAgICAgaWYgKHN0YXRlLmZpbHRlcnMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbktleSkge1xuICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfdGhpczEwLmZpbmRDb2x1bW4oY29sdW1uS2V5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBzdGF0ZS5maWx0ZXJzW2NvbHVtbktleV0gfHwgW107XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgb25GaWx0ZXIgPSBjb2wub25GaWx0ZXI7XG4gICAgICAgICAgICAgICAgZGF0YSA9IG9uRmlsdGVyID8gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLnNvbWUoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvbkZpbHRlcih2LCByZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSA6IGRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVzLFxuICAgICAgICAgICAgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfYS5jbGFzc05hbWUsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICBzaG93SGVhZGVyID0gX2Euc2hvd0hlYWRlcixcbiAgICAgICAgICAgIGxvYWRpbmcgPSBfYS5sb2FkaW5nLFxuICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJzdHlsZVwiLCBcImNsYXNzTmFtZVwiLCBcInByZWZpeENsc1wiLCBcInNob3dIZWFkZXJcIiwgXCJsb2FkaW5nXCJdKTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEN1cnJlbnRQYWdlRGF0YSgpO1xuICAgICAgICB2YXIgY29sdW1ucyA9IHRoaXMucmVuZGVyUm93U2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciBleHBhbmRJY29uQXNDZWxsID0gdGhpcy5wcm9wcy5leHBhbmRlZFJvd1JlbmRlciAmJiB0aGlzLnByb3BzLmV4cGFuZEljb25Bc0NlbGwgIT09IGZhbHNlO1xuICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0aGlzLnByb3BzLnNpemUsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWJvcmRlcmVkJywgdGhpcy5wcm9wcy5ib3JkZXJlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZW1wdHknLCAhZGF0YS5sZW5ndGgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtY29sdW1uLWhlYWRlcicsICFzaG93SGVhZGVyKSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgICAgY29sdW1ucyA9IHRoaXMucmVuZGVyQ29sdW1uc0Ryb3Bkb3duKGNvbHVtbnMpO1xuICAgICAgICBjb2x1bW5zID0gY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuICAgICAgICAgICAgdmFyIG5ld0NvbHVtbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBjb2x1bW4pO1xuICAgICAgICAgICAgbmV3Q29sdW1uLmtleSA9IF90aGlzMTEuZ2V0Q29sdW1uS2V5KG5ld0NvbHVtbiwgaSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3Q29sdW1uO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IGNvbHVtbnNbMF0gJiYgY29sdW1uc1swXS5rZXkgPT09ICdzZWxlY3Rpb24tY29sdW1uJyA/IDEgOiAwO1xuICAgICAgICBpZiAoJ2V4cGFuZEljb25Db2x1bW5JbmRleCcgaW4gcmVzdFByb3BzKSB7XG4gICAgICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXggPSByZXN0UHJvcHMuZXhwYW5kSWNvbkNvbHVtbkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjVGFibGUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsga2V5OiAndGFibGUnIH0sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgZGF0YTogZGF0YSwgY29sdW1uczogY29sdW1ucywgc2hvd0hlYWRlcjogc2hvd0hlYWRlciwgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBleHBhbmRJY29uQ29sdW1uSW5kZXgsIGV4cGFuZEljb25Bc0NlbGw6IGV4cGFuZEljb25Bc0NlbGwsIGVtcHR5VGV4dDogZnVuY3Rpb24gZW1wdHlUZXh0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGUuZW1wdHlUZXh0O1xuICAgICAgICAgICAgfSB9KSk7XG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHBhZ2luYXRpb24gb3Igbm8gZGF0YSxcbiAgICAgICAgLy8gdGhlIGhlaWdodCBvZiBzcGluIHNob3VsZCBkZWNyZWFzZSBieSBoYWxmIG9mIHBhZ2luYXRpb25cbiAgICAgICAgdmFyIHBhZ2luYXRpb25QYXRjaENsYXNzID0gdGhpcy5oYXNQYWdpbmF0aW9uKCkgJiYgZGF0YSAmJiBkYXRhLmxlbmd0aCAhPT0gMCA/IHByZWZpeENscyArICctd2l0aC1wYWdpbmF0aW9uJyA6IHByZWZpeENscyArICctd2l0aG91dC1wYWdpbmF0aW9uJztcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzICsgJy13cmFwcGVyJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9zcGluMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyBzcGlubmluZzogbG9hZGluZywgY2xhc3NOYW1lOiBsb2FkaW5nID8gcGFnaW5hdGlvblBhdGNoQ2xhc3MgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXNwaW4taG9sZGVyJyA6ICcnIH0sXG4gICAgICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdpbmF0aW9uKClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRhYmxlO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlO1xuXG5UYWJsZS5Db2x1bW4gPSBfQ29sdW1uMltcImRlZmF1bHRcIl07XG5UYWJsZS5Db2x1bW5Hcm91cCA9IF9Db2x1bW5Hcm91cDJbXCJkZWZhdWx0XCJdO1xuVGFibGUucHJvcFR5cGVzID0ge1xuICAgIGRhdGFTb3VyY2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcbiAgICBjb2x1bW5zOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHVzZUZpeGVkSGVhZGVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcbiAgICByb3dTZWxlY3Rpb246IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG4gICAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNpemU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbG9hZGluZzogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG4gICAgYm9yZGVyZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgICBsb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG4gICAgZHJvcGRvd25QcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmdcbn07XG5UYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGF0YVNvdXJjZTogW10sXG4gICAgcHJlZml4Q2xzOiAnYW50LXRhYmxlJyxcbiAgICB1c2VGaXhlZEhlYWRlcjogZmFsc2UsXG4gICAgcm93U2VsZWN0aW9uOiBudWxsLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc2l6ZTogJ2xhcmdlJyxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBib3JkZXJlZDogZmFsc2UsXG4gICAgaW5kZW50U2l6ZTogMjAsXG4gICAgbG9jYWxlOiB7fSxcbiAgICByb3dLZXk6ICdrZXknLFxuICAgIHNob3dIZWFkZXI6IHRydWVcbn07XG5UYWJsZS5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvVGFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSA5OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShpbml0aWFsU3RhdGUpIHtcbiAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIHNldFN0YXRlKHBhcnRpYWwpIHtcbiAgICAgICAgc3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgc3RhdGUsIHBhcnRpYWwpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdGVuZXJzW2ldKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNldFN0YXRlOiBzZXRTdGF0ZSxcbiAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZVxuICAgIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9jcmVhdGVTdG9yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfcmNNZW51ID0gcmVxdWlyZSgncmMtbWVudScpO1xuXG52YXIgX3JjTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY01lbnUpO1xuXG52YXIgX2RvbUNsb3Nlc3QgPSByZXF1aXJlKCdkb20tY2xvc2VzdCcpO1xuXG52YXIgX2RvbUNsb3Nlc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tQ2xvc2VzdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX2Ryb3Bkb3duID0gcmVxdWlyZSgnLi4vZHJvcGRvd24nKTtcblxudmFyIF9kcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bik7XG5cbnZhciBfaWNvbiA9IHJlcXVpcmUoJy4uL2ljb24nKTtcblxudmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXG52YXIgX2NoZWNrYm94ID0gcmVxdWlyZSgnLi4vY2hlY2tib3gnKTtcblxudmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cbnZhciBfcmFkaW8gPSByZXF1aXJlKCcuLi9yYWRpbycpO1xuXG52YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblxudmFyIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyID0gcmVxdWlyZSgnLi9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyJyk7XG5cbnZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBGaWx0ZXJNZW51ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKEZpbHRlck1lbnUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRmlsdGVyTWVudShwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIEZpbHRlck1lbnUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZEtleXMgPSBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9IF9yZWYuc2VsZWN0ZWRLZXlzO1xuXG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkS2V5czogc2VsZWN0ZWRLZXlzIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVDbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBbXVxuICAgICAgICAgICAgfSwgX3RoaXMuaGFuZGxlQ29uZmlybSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZUNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIF90aGlzLmNvbmZpcm1GaWx0ZXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZU1lbnVJdGVtQ2xpY2sgPSBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgaWYgKGluZm8ua2V5UGF0aC5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gPSBfdGhpcy5zdGF0ZS5rZXlQYXRoT2ZTZWxlY3RlZEl0ZW07XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaW5mby5rZXkpID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBkZXNlbGVjdCBTdWJNZW51IGNoaWxkXG4gICAgICAgICAgICAgICAgZGVsZXRlIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtpbmZvLmtleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBTdWJNZW51IGNoaWxkXG4gICAgICAgICAgICAgICAga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2luZm8ua2V5XSA9IGluZm8ua2V5UGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsga2V5UGF0aE9mU2VsZWN0ZWRJdGVtOiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gfSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciB2aXNpYmxlID0gJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gcHJvcHMuY29sdW1uID8gcHJvcHMuY29sdW1uLmZpbHRlckRyb3Bkb3duVmlzaWJsZSA6IGZhbHNlO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkS2V5czogcHJvcHMuc2VsZWN0ZWRLZXlzLFxuICAgICAgICAgICAga2V5UGF0aE9mU2VsZWN0ZWRJdGVtOiB7fSxcbiAgICAgICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblxuICAgICAgICB2YXIgcm9vdE5vZGUgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgICAgdmFyIGZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSA9ICEhKDAsIF9kb21DbG9zZXN0MltcImRlZmF1bHRcIl0pKHJvb3ROb2RlLCAnLmFudC10YWJsZS1zY3JvbGwnKTtcbiAgICAgICAgaWYgKGZpbHRlckJlbG9uZ1RvU2Nyb2xsQm9keSAmJiBjb2x1bW4uZml4ZWQpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gZml4ZWQgY29sdW1uIGhhdmUgZmlsdGVycywgdGhlcmUgd2lsbCBiZSB0d28gZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgIC8vIEZpbHRlciBkcm9wZG93biBtZW51IGluc2lkZSBzY3JvbGwgYm9keSBzaG91bGQgbmV2ZXIgYmUgc2hvd25cbiAgICAgICAgICAgIC8vIFRvIGZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy81MDEwXG4gICAgICAgICAgICB0aGlzLm5ldmVyU2hvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgY29sdW1uID0gbmV4dFByb3BzLmNvbHVtbjtcblxuICAgICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgaWYgKCdzZWxlY3RlZEtleXMnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgbmV3U3RhdGUuc2VsZWN0ZWRLZXlzID0gbmV4dFByb3BzLnNlbGVjdGVkS2V5cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gY29sdW1uKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZS52aXNpYmxlID0gY29sdW1uLmZpbHRlckRyb3Bkb3duVmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U3RhdGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnNldFZpc2libGUgPSBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXG4gICAgICAgIGlmICghKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlOiB2aXNpYmxlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIGNvbHVtbi5vbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb25maXJtRmlsdGVyID0gZnVuY3Rpb24gY29uZmlybUZpbHRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maXJtRmlsdGVyKHRoaXMucHJvcHMuY29sdW1uLCB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyTWVudUl0ZW0gPSBmdW5jdGlvbiByZW5kZXJNZW51SXRlbShpdGVtKSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblxuICAgICAgICB2YXIgbXVsdGlwbGUgPSAnZmlsdGVyTXVsdGlwbGUnIGluIGNvbHVtbiA/IGNvbHVtbi5maWx0ZXJNdWx0aXBsZSA6IHRydWU7XG4gICAgICAgIHZhciBpbnB1dCA9IG11bHRpcGxlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgPj0gMCB9KSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjTWVudS5JdGVtLFxuICAgICAgICAgICAgeyBrZXk6IGl0ZW0udmFsdWUgfSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBpdGVtLnRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuaGFzU3ViTWVudSA9IGZ1bmN0aW9uIGhhc1N1Yk1lbnUoKSB7XG4gICAgICAgIHZhciBfcHJvcHMkY29sdW1uJGZpbHRlcnMgPSB0aGlzLnByb3BzLmNvbHVtbi5maWx0ZXJzLFxuICAgICAgICAgICAgZmlsdGVycyA9IF9wcm9wcyRjb2x1bW4kZmlsdGVycyA9PT0gdW5kZWZpbmVkID8gW10gOiBfcHJvcHMkY29sdW1uJGZpbHRlcnM7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlcnMuc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICEhKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVzID0gZnVuY3Rpb24gcmVuZGVyTWVudXMoaXRlbXMpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleVBhdGhPZlNlbGVjdGVkSXRlbSA9IF90aGlzMi5zdGF0ZS5rZXlQYXRoT2ZTZWxlY3RlZEl0ZW07XG5cbiAgICAgICAgICAgICAgICB2YXIgY29udGFpblNlbGVjdGVkID0gT2JqZWN0LmtleXMoa2V5UGF0aE9mU2VsZWN0ZWRJdGVtKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtrZXldLmluZGV4T2YoaXRlbS52YWx1ZSkgPj0gMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc3ViTWVudUNscyA9IGNvbnRhaW5TZWxlY3RlZCA/IF90aGlzMi5wcm9wcy5kcm9wZG93blByZWZpeENscyArICctc3VibWVudS1jb250YWluLXNlbGVjdGVkJyA6ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfcmNNZW51LlN1Yk1lbnUsXG4gICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6IGl0ZW0udGV4dCwgY2xhc3NOYW1lOiBzdWJNZW51Q2xzLCBrZXk6IGl0ZW0udmFsdWUudG9TdHJpbmcoKSB9LFxuICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVuZGVyTWVudXMoaXRlbS5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5yZW5kZXJNZW51SXRlbShpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBjb2x1bW4gPSBfcHJvcHMuY29sdW1uLFxuICAgICAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBkcm9wZG93blByZWZpeENscyA9IF9wcm9wcy5kcm9wZG93blByZWZpeENscztcbiAgICAgICAgLy8gZGVmYXVsdCBtdWx0aXBsZSBzZWxlY3Rpb24gaW4gZmlsdGVyIGRyb3Bkb3duXG5cbiAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuICAgICAgICB2YXIgZHJvcGRvd25NZW51Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgZHJvcGRvd25QcmVmaXhDbHMgKyAnLW1lbnUtd2l0aG91dC1zdWJtZW51JywgIXRoaXMuaGFzU3ViTWVudSgpKSk7XG4gICAgICAgIHZhciBtZW51cyA9IGNvbHVtbi5maWx0ZXJEcm9wZG93biA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGNvbHVtbi5maWx0ZXJEcm9wZG93blxuICAgICAgICApIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bicgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX3JjTWVudTJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgbXVsdGlwbGU6IG11bHRpcGxlLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU1lbnVJdGVtQ2xpY2ssIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMgKyAnLW1lbnUnLCBjbGFzc05hbWU6IGRyb3Bkb3duTWVudUNsYXNzLCBvblNlbGVjdDogdGhpcy5zZXRTZWxlY3RlZEtleXMsIG9uRGVzZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBzZWxlY3RlZEtleXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzIH0sXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJNZW51cyhjb2x1bW4uZmlsdGVycylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWJ0bnMnIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1saW5rIGNvbmZpcm0nLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNvbmZpcm0gfSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmZpbHRlckNvbmZpcm1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjbGVhcicsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJSZXNldFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGRyb3Bkb3duU2VsZWN0ZWRDbGFzcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA+IDAgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkJyA6ICcnO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyB0cmlnZ2VyOiBbJ2NsaWNrJ10sIG92ZXJsYXk6IG1lbnVzLCB2aXNpYmxlOiB0aGlzLm5ldmVyU2hvd24gPyBmYWxzZSA6IHRoaXMuc3RhdGUudmlzaWJsZSwgb25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHRpdGxlOiBsb2NhbGUuZmlsdGVyVGl0bGUsIHR5cGU6ICdmaWx0ZXInLCBjbGFzc05hbWU6IGRyb3Bkb3duU2VsZWN0ZWRDbGFzcyB9KVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyTWVudTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBGaWx0ZXJNZW51O1xuXG5GaWx0ZXJNZW51LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBoYW5kbGVGaWx0ZXI6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcigpIHt9LFxuXG4gICAgY29sdW1uOiB7fVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL2ZpbHRlckRyb3Bkb3duLmpzXG4gKiogbW9kdWxlIGlkID0gMTAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZsYXRBcnJheSA9IGZsYXRBcnJheTtcbmV4cG9ydHMudHJlZU1hcCA9IHRyZWVNYXA7XG5leHBvcnRzLm5vcm1hbGl6ZUNvbHVtbnMgPSBub3JtYWxpemVDb2x1bW5zO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX0NvbHVtbkdyb3VwID0gcmVxdWlyZSgnLi9Db2x1bW5Hcm91cCcpO1xuXG52YXIgX0NvbHVtbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbkdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGZsYXRBcnJheSgpIHtcbiAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgdmFyIGNoaWxkcmVuTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2NoaWxkcmVuJztcblxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uIGxvb3AoYXJyYXkpIHtcbiAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgaXRlbSk7XG4gICAgICAgICAgICBkZWxldGUgbmV3SXRlbVtjaGlsZHJlbk5hbWVdO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICBpZiAoaXRlbVtjaGlsZHJlbk5hbWVdICYmIGl0ZW1bY2hpbGRyZW5OYW1lXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9vcChpdGVtW2NoaWxkcmVuTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGxvb3AoZGF0YSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRyZWVNYXAodHJlZSwgbWFwcGVyKSB7XG4gICAgdmFyIGNoaWxkcmVuTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2NoaWxkcmVuJztcblxuICAgIHJldHVybiB0cmVlLm1hcChmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGV4dHJhID0ge307XG4gICAgICAgIGlmIChub2RlW2NoaWxkcmVuTmFtZV0pIHtcbiAgICAgICAgICAgIGV4dHJhW2NoaWxkcmVuTmFtZV0gPSB0cmVlTWFwKG5vZGVbY2hpbGRyZW5OYW1lXSwgbWFwcGVyLCBjaGlsZHJlbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgbWFwcGVyKG5vZGUsIGluZGV4KSwgZXh0cmEpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29sdW1ucyhlbGVtZW50cykge1xuICAgIHZhciBjb2x1bW5zID0gW107XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgICAgIGlmIChlbGVtZW50LmtleSkge1xuICAgICAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09IF9Db2x1bW5Hcm91cDJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBub3JtYWxpemVDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbHVtbnM7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvdXRpbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciBtYXRjaGVzID0gcmVxdWlyZSgnZG9tLW1hdGNoZXMnKTtcblxuLyoqXG4gKiBAcGFyYW0gZWxlbWVudCB7RWxlbWVudH1cbiAqIEBwYXJhbSBzZWxlY3RvciB7U3RyaW5nfVxuICogQHBhcmFtIGNvbnRleHQge0VsZW1lbnR9XG4gKiBAcmV0dXJuIHtFbGVtZW50fVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlbGVtZW50LCBzZWxlY3RvciwgY29udGV4dCkge1xuICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcbiAgLy8gZ3VhcmQgYWdhaW5zdCBvcnBoYW5zXG4gIGVsZW1lbnQgPSB7IHBhcmVudE5vZGU6IGVsZW1lbnQgfTtcblxuICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGVsZW1lbnQgIT09IGNvbnRleHQpIHtcbiAgICBpZiAobWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2RvbS1jbG9zZXN0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIERPTSBlbGVtZW50IG1hdGNoZXMgYSBDU1Mgc2VsZWN0b3JcbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0Y2hlcyhlbGVtLCBzZWxlY3Rvcikge1xuICAvLyBWZW5kb3Itc3BlY2lmaWMgaW1wbGVtZW50YXRpb25zIG9mIGBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKClgLlxuICB2YXIgcHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG4gIHZhciBuYXRpdmVNYXRjaGVzID0gcHJvdG8ubWF0Y2hlcyB8fFxuICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgcHJvdG8ub01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXG4gIGlmICghZWxlbSB8fCBlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBhcmVudEVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG5cbiAgLy8gdXNlIG5hdGl2ZSAnbWF0Y2hlcydcbiAgaWYgKG5hdGl2ZU1hdGNoZXMpIHtcbiAgICByZXR1cm4gbmF0aXZlTWF0Y2hlcy5jYWxsKGVsZW0sIHNlbGVjdG9yKTtcbiAgfVxuXG4gIC8vIG5hdGl2ZSBzdXBwb3J0IGZvciBgbWF0Y2hlc2AgaXMgbWlzc2luZyBhbmQgYSBmYWxsYmFjayBpcyByZXF1aXJlZFxuICB2YXIgbm9kZXMgPSBwYXJlbnRFbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICB2YXIgbGVuID0gbm9kZXMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAobm9kZXNbaV0gPT09IGVsZW0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBFeHBvc2UgYG1hdGNoZXNgXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBtYXRjaGVzO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZG9tLW1hdGNoZXMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNy4xXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnZXROYW5vU2Vjb25kcywgaHJ0aW1lLCBsb2FkVGltZTtcblxuICBpZiAoKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCkgJiYgcGVyZm9ybWFuY2Uubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKCh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzICE9PSBudWxsKSAmJiBwcm9jZXNzLmhydGltZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKGdldE5hbm9TZWNvbmRzKCkgLSBsb2FkVGltZSkgLyAxZTY7XG4gICAgfTtcbiAgICBocnRpbWUgPSBwcm9jZXNzLmhydGltZTtcbiAgICBnZXROYW5vU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhyO1xuICAgICAgaHIgPSBocnRpbWUoKTtcbiAgICAgIHJldHVybiBoclswXSAqIDFlOSArIGhyWzFdO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBnZXROYW5vU2Vjb25kcygpO1xuICB9IGVsc2UgaWYgKERhdGUubm93KSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IERhdGUubm93KCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuXG59KS5jYWxsKHRoaXMpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENoZWNrYm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGVja2JveChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9jdXM6IHRydWUgfSk7XG4gICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pO1xuICAgICAgX3RoaXMucHJvcHMub25CbHVyKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKF90aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghKCdjaGVja2VkJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBfdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIHRhcmdldDogX2V4dGVuZHMoe30sIF90aGlzLnByb3BzLCB7XG4gICAgICAgICAgY2hlY2tlZDogZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICB9KSxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG4gICAgaWYgKCdjaGVja2VkJyBpbiBwcm9wcykge1xuICAgICAgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoZWNrZWQgPSBwcm9wcy5kZWZhdWx0Q2hlY2tlZDtcbiAgICB9XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgZm9jdXM6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDaGVja2JveC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCdjaGVja2VkJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGVja2VkOiBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIENoZWNrYm94LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG5cbiAgQ2hlY2tib3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgLy8gUmVtb3ZlIFJlYWN0IHdhcm5pbmcuXG4gICAgLy8gV2FybmluZzogSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWRcbiAgICAvLyAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS5cbiAgICBkZWxldGUgcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG5cbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGNoZWNrZWQgPSBzdGF0ZS5jaGVja2VkO1xuICAgIGlmICh0eXBlb2YgY2hlY2tlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBjaGVja2VkID0gY2hlY2tlZCA/IDEgOiAwO1xuICAgIH1cbiAgICB2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByb3BzLmNsYXNzTmFtZSwgISFwcm9wcy5jbGFzc05hbWUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscywgMSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkJywgY2hlY2tlZCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1jaGVja2VkLScgKyBjaGVja2VkLCAhIWNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctZm9jdXNlZCcsIHN0YXRlLmZvY3VzKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgcHJvcHMuZGlzYWJsZWQpLCBfY2xhc3NOYW1lcykpO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3NwYW4nLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlXG4gICAgICB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyJyB9KSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgICB0eXBlOiBwcm9wcy50eXBlLFxuICAgICAgICByZWFkT25seTogcHJvcHMucmVhZE9ubHksXG4gICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQnLFxuICAgICAgICBjaGVja2VkOiAhIWNoZWNrZWQsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMub25DbGljayxcbiAgICAgICAgb25Gb2N1czogdGhpcy5oYW5kbGVGb2N1cyxcbiAgICAgICAgb25CbHVyOiB0aGlzLmhhbmRsZUJsdXIsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBDaGVja2JveDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuQ2hlY2tib3gucHJvcFR5cGVzID0ge1xuICBuYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBwcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuICB0eXBlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBjbGFzc05hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG4gIGRlZmF1bHRDaGVja2VkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbF0pLFxuICBkaXNhYmxlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG4gIGNoZWNrZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sXSksXG4gIG9uRm9jdXM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuICBvbkJsdXI6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ2xpY2s6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jXG59O1xuQ2hlY2tib3guZGVmYXVsdFByb3BzID0ge1xuICBwcmVmaXhDbHM6ICdyYy1jaGVja2JveCcsXG4gIHN0eWxlOiB7fSxcbiAgdHlwZTogJ2NoZWNrYm94JyxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgZGVmYXVsdENoZWNrZWQ6IGZhbHNlLFxuICBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKCkge30sXG4gIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkge30sXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNoZWNrYm94L2xpYi9DaGVja2JveC5qc1xuICoqIG1vZHVsZSBpZCA9IDExNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3JjVHJpZ2dlciA9IHJlcXVpcmUoJ3JjLXRyaWdnZXInKTtcblxudmFyIF9yY1RyaWdnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUcmlnZ2VyKTtcblxudmFyIF9wbGFjZW1lbnRzID0gcmVxdWlyZSgnLi9wbGFjZW1lbnRzJyk7XG5cbnZhciBfcGxhY2VtZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGFjZW1lbnRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuLypcbiB2YXIgTWVudUl0ZW0gPSBNZW51Lkl0ZW07XG5cbiB2YXIgbWVudSA9IDxNZW51PjxNZW51SXRlbT4xPC9NZW51SXRlbT48L01lbnU+O1xuXG4gPERyb3BEb3duIHRyaWdnZXI9XCJjbGlja1wiIGFuaW1hdGlvbk5hbWU9XCJcIiBvdmVybGF5PXs8Pn0gb25TZWxlY3Q9e30+XG4gPGJ1dHRvbj5vcGVuPC9idXR0b24+XG4gPC9Ecm9wRG93bj5cbiovXG5cbnZhciBEcm9wZG93biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdEcm9wZG93bicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgbWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb25WaXNpYmxlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG92ZXJsYXlDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGFuaW1hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgYWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIG92ZXJsYXlTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgcGxhY2VtZW50OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0cmlnZ2VyOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIHNob3dBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgaGlkZUFjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBnZXRQb3B1cENvbnRhaW5lcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogdHJ1ZSxcbiAgICAgIHByZWZpeENsczogJ3JjLWRyb3Bkb3duJyxcbiAgICAgIHRyaWdnZXI6IFsnaG92ZXInXSxcbiAgICAgIHNob3dBY3Rpb246IFtdLFxuICAgICAgaGlkZUFjdGlvbjogW10sXG4gICAgICBvdmVybGF5Q2xhc3NOYW1lOiAnJyxcbiAgICAgIG92ZXJsYXlTdHlsZToge30sXG4gICAgICBkZWZhdWx0VmlzaWJsZTogZmFsc2UsXG4gICAgICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZSgpIHt9LFxuXG4gICAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0J1xuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCd2aXNpYmxlJyBpbiBwcm9wcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2libGU6IHByb3BzLmRlZmF1bHRWaXNpYmxlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhfcmVmKSB7XG4gICAgdmFyIHZpc2libGUgPSBfcmVmLnZpc2libGU7XG5cbiAgICBpZiAodmlzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBvdmVybGF5UHJvcHMgPSBwcm9wcy5vdmVybGF5LnByb3BzO1xuICAgIC8vIGRvIG5vIGNhbGwgb25WaXNpYmxlQ2hhbmdlLCBpZiB5b3UgbmVlZCBjbGljayB0byBoaWRlLCB1c2Ugb25DbGljayBhbmQgY29udHJvbCB2aXNpYmxlXG4gICAgaWYgKCEoJ3Zpc2libGUnIGluIHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG92ZXJsYXlQcm9wcy5vbkNsaWNrKSB7XG4gICAgICBvdmVybGF5UHJvcHMub25DbGljayhlKTtcbiAgICB9XG4gIH0sXG4gIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghKCd2aXNpYmxlJyBpbiBwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcHJvcHMub25WaXNpYmxlQ2hhbmdlKHZpc2libGUpO1xuICB9LFxuICBnZXRNZW51RWxlbWVudDogZnVuY3Rpb24gZ2V0TWVudUVsZW1lbnQoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHByb3BzLm92ZXJsYXksIHtcbiAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1tZW51JyxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGlja1xuICAgIH0pO1xuICB9LFxuICBnZXRQb3B1cERvbU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRG9tTm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBEb21Ob2RlKCk7XG4gIH0sXG4gIGFmdGVyVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gYWZ0ZXJWaXNpYmxlQ2hhbmdlKHZpc2libGUpIHtcbiAgICBpZiAodmlzaWJsZSAmJiB0aGlzLnByb3BzLm1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcikge1xuICAgICAgdmFyIG92ZXJsYXlOb2RlID0gdGhpcy5nZXRQb3B1cERvbU5vZGUoKTtcbiAgICAgIHZhciByb290Tm9kZSA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgaWYgKHJvb3ROb2RlLm9mZnNldFdpZHRoID4gb3ZlcmxheU5vZGUub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgb3ZlcmxheU5vZGUuc3R5bGUud2lkdGggPSByb290Tm9kZS5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcbiAgICB2YXIgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG4gICAgdmFyIHRyYW5zaXRpb25OYW1lID0gX3Byb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIHZhciBhbmltYXRpb24gPSBfcHJvcHMuYW5pbWF0aW9uO1xuICAgIHZhciBhbGlnbiA9IF9wcm9wcy5hbGlnbjtcbiAgICB2YXIgcGxhY2VtZW50ID0gX3Byb3BzLnBsYWNlbWVudDtcbiAgICB2YXIgZ2V0UG9wdXBDb250YWluZXIgPSBfcHJvcHMuZ2V0UG9wdXBDb250YWluZXI7XG4gICAgdmFyIHNob3dBY3Rpb24gPSBfcHJvcHMuc2hvd0FjdGlvbjtcbiAgICB2YXIgaGlkZUFjdGlvbiA9IF9wcm9wcy5oaWRlQWN0aW9uO1xuICAgIHZhciBvdmVybGF5Q2xhc3NOYW1lID0gX3Byb3BzLm92ZXJsYXlDbGFzc05hbWU7XG4gICAgdmFyIG92ZXJsYXlTdHlsZSA9IF9wcm9wcy5vdmVybGF5U3R5bGU7XG4gICAgdmFyIHRyaWdnZXIgPSBfcHJvcHMudHJpZ2dlcjtcblxuICAgIHZhciBvdGhlclByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydwcmVmaXhDbHMnLCAnY2hpbGRyZW4nLCAndHJhbnNpdGlvbk5hbWUnLCAnYW5pbWF0aW9uJywgJ2FsaWduJywgJ3BsYWNlbWVudCcsICdnZXRQb3B1cENvbnRhaW5lcicsICdzaG93QWN0aW9uJywgJ2hpZGVBY3Rpb24nLCAnb3ZlcmxheUNsYXNzTmFtZScsICdvdmVybGF5U3R5bGUnLCAndHJpZ2dlciddKTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgX3JjVHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHJlZjogJ3RyaWdnZXInLFxuICAgICAgICBwb3B1cENsYXNzTmFtZTogb3ZlcmxheUNsYXNzTmFtZSxcbiAgICAgICAgcG9wdXBTdHlsZTogb3ZlcmxheVN0eWxlLFxuICAgICAgICBidWlsdGluUGxhY2VtZW50czogX3BsYWNlbWVudHMyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgYWN0aW9uOiB0cmlnZ2VyLFxuICAgICAgICBzaG93QWN0aW9uOiBzaG93QWN0aW9uLFxuICAgICAgICBoaWRlQWN0aW9uOiBoaWRlQWN0aW9uLFxuICAgICAgICBwb3B1cFBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgICBwb3B1cEFsaWduOiBhbGlnbixcbiAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIHBvcHVwQW5pbWF0aW9uOiBhbmltYXRpb24sXG4gICAgICAgIHBvcHVwVmlzaWJsZTogdGhpcy5zdGF0ZS52aXNpYmxlLFxuICAgICAgICBhZnRlclBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5hZnRlclZpc2libGVDaGFuZ2UsXG4gICAgICAgIHBvcHVwOiB0aGlzLmdldE1lbnVFbGVtZW50KCksXG4gICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IGdldFBvcHVwQ29udGFpbmVyXG4gICAgICB9KSxcbiAgICAgIGNoaWxkcmVuXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kcm9wZG93bi9saWIvRHJvcGRvd24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfRHJvcGRvd24gPSByZXF1aXJlKCcuL0Ryb3Bkb3duJyk7XG5cbnZhciBfRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJvcGRvd24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfRHJvcGRvd24yW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRyb3Bkb3duL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDExOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBhdXRvQWRqdXN0T3ZlcmZsb3cgPSB7XG4gIGFkanVzdFg6IDEsXG4gIGFkanVzdFk6IDFcbn07XG5cbnZhciB0YXJnZXRPZmZzZXQgPSBbMCwgMF07XG5cbnZhciBwbGFjZW1lbnRzID0gZXhwb3J0cy5wbGFjZW1lbnRzID0ge1xuICB0b3BMZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ2JsJywgJ3RsJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgdG9wQ2VudGVyOiB7XG4gICAgcG9pbnRzOiBbJ2JjJywgJ3RjJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgdG9wUmlnaHQ6IHtcbiAgICBwb2ludHM6IFsnYnInLCAndHInXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIC00XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21MZWZ0OiB7XG4gICAgcG9pbnRzOiBbJ3RsJywgJ2JsJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21DZW50ZXI6IHtcbiAgICBwb2ludHM6IFsndGMnLCAnYmMnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIDRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIGJvdHRvbVJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ3RyJywgJ2JyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHBsYWNlbWVudHM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZHJvcGRvd24vbGliL3BsYWNlbWVudHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIEtFWUNPREUgPSByZXF1aXJlKCcuL0tleUNvZGUnKTtcblxudmFyIE9wdGlvbnMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoT3B0aW9ucywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3B0aW9ucyhwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcHRpb25zKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50OiBwcm9wcy5jdXJyZW50LFxuICAgICAgX2N1cnJlbnQ6IHByb3BzLmN1cnJlbnRcbiAgICB9O1xuXG4gICAgWydfaGFuZGxlQ2hhbmdlJywgJ19jaGFuZ2VTaXplJywgJ19nbycsICdfYnVpbGRPcHRpb25UZXh0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2J1aWxkT3B0aW9uVGV4dCA9IGZ1bmN0aW9uIF9idWlsZE9wdGlvblRleHQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgKyAnICcgKyB0aGlzLnByb3BzLmxvY2FsZS5pdGVtc19wZXJfcGFnZTtcbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5fY2hhbmdlU2l6ZSA9IGZ1bmN0aW9uIF9jaGFuZ2VTaXplKHZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5jaGFuZ2VTaXplKE51bWJlcih2YWx1ZSkpO1xuICB9O1xuXG4gIE9wdGlvbnMucHJvdG90eXBlLl9oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKGV2dCkge1xuICAgIHZhciBfdmFsID0gZXZ0LnRhcmdldC52YWx1ZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgX2N1cnJlbnQ6IF92YWxcbiAgICB9KTtcbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5fZ28gPSBmdW5jdGlvbiBfZ28oZSkge1xuICAgIHZhciBfdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgaWYgKF92YWwgPT09ICcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB2YWwgPSBOdW1iZXIodGhpcy5zdGF0ZS5fY3VycmVudCk7XG4gICAgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICAgIHZhbCA9IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgICB9XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUikge1xuICAgICAgdmFyIGMgPSB0aGlzLnByb3BzLnF1aWNrR28odmFsKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBfY3VycmVudDogYyxcbiAgICAgICAgY3VycmVudDogY1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIE9wdGlvbnMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1vcHRpb25zJztcbiAgICB2YXIgY2hhbmdlU2l6ZSA9IHByb3BzLmNoYW5nZVNpemU7XG4gICAgdmFyIHF1aWNrR28gPSBwcm9wcy5xdWlja0dvO1xuICAgIHZhciBidWlsZE9wdGlvblRleHQgPSBwcm9wcy5idWlsZE9wdGlvblRleHQgfHwgdGhpcy5fYnVpbGRPcHRpb25UZXh0O1xuICAgIHZhciBTZWxlY3QgPSBwcm9wcy5zZWxlY3RDb21wb25lbnRDbGFzcztcbiAgICB2YXIgY2hhbmdlU2VsZWN0ID0gbnVsbDtcbiAgICB2YXIgZ29JbnB1dCA9IG51bGw7XG5cbiAgICBpZiAoIShjaGFuZ2VTaXplIHx8IHF1aWNrR28pKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlU2l6ZSAmJiBTZWxlY3QpIHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBPcHRpb24gPSBTZWxlY3QuT3B0aW9uO1xuICAgICAgICB2YXIgcGFnZVNpemUgPSBwcm9wcy5wYWdlU2l6ZSB8fCBwcm9wcy5wYWdlU2l6ZU9wdGlvbnNbMF07XG4gICAgICAgIHZhciBvcHRpb25zID0gcHJvcHMucGFnZVNpemVPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0LCBpKSB7XG4gICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBPcHRpb24sXG4gICAgICAgICAgICB7IGtleTogaSwgdmFsdWU6IG9wdCB9LFxuICAgICAgICAgICAgYnVpbGRPcHRpb25UZXh0KG9wdClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICBjaGFuZ2VTZWxlY3QgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFNlbGVjdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXhDbHM6IHByb3BzLnNlbGVjdFByZWZpeENscyxcbiAgICAgICAgICAgIHNob3dTZWFyY2g6IGZhbHNlLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpemUtY2hhbmdlcicsXG4gICAgICAgICAgICBvcHRpb25MYWJlbFByb3A6ICdjaGlsZHJlbicsXG4gICAgICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IHBhZ2VTaXplLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLl9jaGFuZ2VTaXplXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9KSgpO1xuICAgIH1cblxuICAgIGlmIChxdWlja0dvKSB7XG4gICAgICBnb0lucHV0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXF1aWNrLWp1bXBlcicgfSxcbiAgICAgICAgbG9jYWxlLmp1bXBfdG8sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICB2YWx1ZTogc3RhdGUuX2N1cnJlbnQsXG4gICAgICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUNoYW5nZSxcbiAgICAgICAgICBvbktleVVwOiB0aGlzLl9nb1xuICAgICAgICB9KSxcbiAgICAgICAgbG9jYWxlLnBhZ2VcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiAnJyArIHByZWZpeENscyB9LFxuICAgICAgY2hhbmdlU2VsZWN0LFxuICAgICAgZ29JbnB1dFxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIE9wdGlvbnM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbk9wdGlvbnMucHJvcFR5cGVzID0ge1xuICBjaGFuZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgcXVpY2tHbzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNlbGVjdENvbXBvbmVudENsYXNzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgcGFnZVNpemVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcbiAgcGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGJ1aWxkT3B0aW9uVGV4dDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxufTtcblxuT3B0aW9ucy5kZWZhdWx0UHJvcHMgPSB7XG4gIHBhZ2VTaXplT3B0aW9uczogWycxMCcsICcyMCcsICczMCcsICc0MCddXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbnM7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvT3B0aW9ucy5qc1xuICoqIG1vZHVsZSBpZCA9IDEyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBQYWdlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQYWdlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUGFnZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhZ2VyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgUGFnZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1pdGVtJztcbiAgICB2YXIgY2xzID0gcHJlZml4Q2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMucGFnZTtcblxuICAgIGlmIChwcm9wcy5hY3RpdmUpIHtcbiAgICAgIGNscyA9IGNscyArICcgJyArIHByZWZpeENscyArICctYWN0aXZlJztcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBjbHMgPSBjbHMgKyAnICcgKyBwcm9wcy5jbGFzc05hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnbGknLFxuICAgICAgeyB0aXRsZTogcHJvcHMucGFnZSwgY2xhc3NOYW1lOiBjbHMsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdhJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcHJvcHMucGFnZVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFBhZ2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5QYWdlci5wcm9wVHlwZXMgPSB7XG4gIHBhZ2U6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGFjdGl2ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGxhc3Q6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdlcjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDEyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgUGFnZXIgPSByZXF1aXJlKCcuL1BhZ2VyJyk7XG52YXIgT3B0aW9ucyA9IHJlcXVpcmUoJy4vT3B0aW9ucycpO1xudmFyIEtFWUNPREUgPSByZXF1aXJlKCcuL0tleUNvZGUnKTtcbnZhciBMT0NBTEUgPSByZXF1aXJlKCcuL2xvY2FsZS96aF9DTicpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUGFnaW5hdGlvbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0aW9uKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgdmFyIGhhc09uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UgIT09IG5vb3A7XG4gICAgdmFyIGhhc0N1cnJlbnQgPSAnY3VycmVudCcgaW4gcHJvcHM7XG4gICAgaWYgKGhhc0N1cnJlbnQgJiYgIWhhc09uQ2hhbmdlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dhcm5pbmc6IFlvdSBwcm92aWRlZCBhIGBjdXJyZW50YCBwcm9wIHRvIGEgUGFnaW5hdGlvbiBjb21wb25lbnQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgY29tcG9uZW50LicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnQgPSBwcm9wcy5kZWZhdWx0Q3VycmVudDtcbiAgICBpZiAoJ2N1cnJlbnQnIGluIHByb3BzKSB7XG4gICAgICBjdXJyZW50ID0gcHJvcHMuY3VycmVudDtcbiAgICB9XG5cbiAgICB2YXIgcGFnZVNpemUgPSBwcm9wcy5kZWZhdWx0UGFnZVNpemU7XG4gICAgaWYgKCdwYWdlU2l6ZScgaW4gcHJvcHMpIHtcbiAgICAgIHBhZ2VTaXplID0gcHJvcHMucGFnZVNpemU7XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50OiBjdXJyZW50LFxuICAgICAgX2N1cnJlbnQ6IGN1cnJlbnQsXG4gICAgICBwYWdlU2l6ZTogcGFnZVNpemVcbiAgICB9O1xuXG4gICAgWydyZW5kZXInLCAnX2hhbmRsZUNoYW5nZScsICdfaGFuZGxlS2V5VXAnLCAnX2hhbmRsZUtleURvd24nLCAnX2NoYW5nZVBhZ2VTaXplJywgJ19pc1ZhbGlkJywgJ19wcmV2JywgJ19uZXh0JywgJ19oYXNQcmV2JywgJ19oYXNOZXh0JywgJ19qdW1wUHJldicsICdfanVtcE5leHQnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIHJldHVybiBfdGhpc1ttZXRob2RdID0gX3RoaXNbbWV0aG9kXS5iaW5kKF90aGlzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50LFxuICAgICAgICBfY3VycmVudDogbmV4dFByb3BzLmN1cnJlbnRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICgncGFnZVNpemUnIGluIG5leHRQcm9wcykge1xuICAgICAgdmFyIG5ld1N0YXRlID0ge307XG4gICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgICAgIHZhciBuZXdDdXJyZW50ID0gdGhpcy5fY2FsY1BhZ2UobmV4dFByb3BzLnBhZ2VTaXplKTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykpIHtcbiAgICAgICAgbmV3U3RhdGUuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgIG5ld1N0YXRlLl9jdXJyZW50ID0gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIG5ld1N0YXRlLnBhZ2VTaXplID0gbmV4dFByb3BzLnBhZ2VTaXplO1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHByaXZhdGUgbWV0aG9kc1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9jYWxjUGFnZSA9IGZ1bmN0aW9uIF9jYWxjUGFnZShwKSB7XG4gICAgdmFyIHBhZ2VTaXplID0gcDtcbiAgICBpZiAodHlwZW9mIHBhZ2VTaXplID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFnZVNpemUgPSB0aGlzLnN0YXRlLnBhZ2VTaXplO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5wcm9wcy50b3RhbCAtIDEpIC8gcGFnZVNpemUpICsgMTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faXNWYWxpZCA9IGZ1bmN0aW9uIF9pc1ZhbGlkKHBhZ2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIHBhZ2UgPT09ICdudW1iZXInICYmIHBhZ2UgPj0gMSAmJiBwYWdlICE9PSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUtleURvd24gPSBmdW5jdGlvbiBfaGFuZGxlS2V5RG93bihldnQpIHtcbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVAgfHwgZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfRE9XTikge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIF9oYW5kbGVLZXlVcChldnQpIHtcbiAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG4gICAgdmFyIHZhbCA9IHZvaWQgMDtcblxuICAgIGlmIChfdmFsID09PSAnJykge1xuICAgICAgdmFsID0gX3ZhbDtcbiAgICB9IGVsc2UgaWYgKGlzTmFOKE51bWJlcihfdmFsKSkpIHtcbiAgICAgIHZhbCA9IHRoaXMuc3RhdGUuX2N1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbCA9IE51bWJlcihfdmFsKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIF9jdXJyZW50OiB2YWxcbiAgICB9KTtcblxuICAgIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUikge1xuICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19VUCkge1xuICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCAtIDEpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfRE9XTikge1xuICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCArIDEpO1xuICAgIH1cbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fY2hhbmdlUGFnZVNpemUgPSBmdW5jdGlvbiBfY2hhbmdlUGFnZVNpemUoc2l6ZSkge1xuICAgIHZhciBjdXJyZW50ID0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICAgIHZhciBuZXdDdXJyZW50ID0gdGhpcy5fY2FsY1BhZ2Uoc2l6ZSk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7XG4gICAgaWYgKHR5cGVvZiBzaXplID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKCEoJ3BhZ2VTaXplJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBwYWdlU2l6ZTogc2l6ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghKCdjdXJyZW50JyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LFxuICAgICAgICAgIF9jdXJyZW50OiBjdXJyZW50XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2hvd1NpemVDaGFuZ2UoY3VycmVudCwgc2l6ZSk7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UocCkge1xuICAgIHZhciBwYWdlID0gcDtcbiAgICBpZiAodGhpcy5faXNWYWxpZChwYWdlKSkge1xuICAgICAgaWYgKHBhZ2UgPiB0aGlzLl9jYWxjUGFnZSgpKSB7XG4gICAgICAgIHBhZ2UgPSB0aGlzLl9jYWxjUGFnZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudDogcGFnZSxcbiAgICAgICAgICBfY3VycmVudDogcGFnZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UocGFnZSwgcGFnZVNpemUpO1xuXG4gICAgICByZXR1cm4gcGFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9wcmV2ID0gZnVuY3Rpb24gX3ByZXYoKSB7XG4gICAgaWYgKHRoaXMuX2hhc1ByZXYoKSkge1xuICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudCAtIDEpO1xuICAgIH1cbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uIF9uZXh0KCkge1xuICAgIGlmICh0aGlzLl9oYXNOZXh0KCkpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2p1bXBQcmV2ID0gZnVuY3Rpb24gX2p1bXBQcmV2KCkge1xuICAgIHRoaXMuX2hhbmRsZUNoYW5nZShNYXRoLm1heCgxLCB0aGlzLnN0YXRlLmN1cnJlbnQgLSAodGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKSk7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2p1bXBOZXh0ID0gZnVuY3Rpb24gX2p1bXBOZXh0KCkge1xuICAgIHRoaXMuX2hhbmRsZUNoYW5nZShNYXRoLm1pbih0aGlzLl9jYWxjUGFnZSgpLCB0aGlzLnN0YXRlLmN1cnJlbnQgKyAodGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKSk7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhc1ByZXYgPSBmdW5jdGlvbiBfaGFzUHJldigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50ID4gMTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFzTmV4dCA9IGZ1bmN0aW9uIF9oYXNOZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQgPCB0aGlzLl9jYWxjUGFnZSgpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciBhbGxQYWdlcyA9IHRoaXMuX2NhbGNQYWdlKCk7XG4gICAgdmFyIHBhZ2VyTGlzdCA9IFtdO1xuICAgIHZhciBqdW1wUHJldiA9IG51bGw7XG4gICAgdmFyIGp1bXBOZXh0ID0gbnVsbDtcbiAgICB2YXIgZmlyc3RQYWdlciA9IG51bGw7XG4gICAgdmFyIGxhc3RQYWdlciA9IG51bGw7XG5cbiAgICB2YXIgcGFnZUJ1ZmZlclNpemUgPSBwcm9wcy5zaG93TGVzc0l0ZW1zID8gMSA6IDI7XG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIGN1cnJlbnQgPSBfc3RhdGUuY3VycmVudCxcbiAgICAgICAgcGFnZVNpemUgPSBfc3RhdGUucGFnZVNpemU7XG5cblxuICAgIGlmIChwcm9wcy5zaW1wbGUpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndWwnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy1zaW1wbGUgJyArIHByb3BzLmNsYXNzTmFtZSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdsaScsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2X3BhZ2UsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9wcmV2LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzUHJldigpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLXByZXYnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGknLFxuICAgICAgICAgIHsgdGl0bGU6IHRoaXMuc3RhdGUuY3VycmVudCArICcvJyArIGFsbFBhZ2VzLCBjbGFzc05hbWU6IHByZWZpeENscyArICctc2ltcGxlLXBhZ2VyJyB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuX2N1cnJlbnQsXG4gICAgICAgICAgICBvbktleURvd246IHRoaXMuX2hhbmRsZUtleURvd24sXG4gICAgICAgICAgICBvbktleVVwOiB0aGlzLl9oYW5kbGVLZXlVcCxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVLZXlVcFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zbGFzaCcgfSxcbiAgICAgICAgICAgICdcXHVGRjBGJ1xuICAgICAgICAgICksXG4gICAgICAgICAgYWxsUGFnZXNcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGknLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dF9wYWdlLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5fbmV4dCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc05leHQoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1uZXh0J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGFsbFBhZ2VzIDw9IDUgKyBwYWdlQnVmZmVyU2l6ZSAqIDIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGFsbFBhZ2VzOyBpKyspIHtcbiAgICAgICAgdmFyIGFjdGl2ZSA9IHRoaXMuc3RhdGUuY3VycmVudCA9PT0gaTtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBpKSxcbiAgICAgICAgICBrZXk6IGksXG4gICAgICAgICAgcGFnZTogaSxcbiAgICAgICAgICBhY3RpdmU6IGFjdGl2ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGp1bXBQcmV2ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBwcm9wcy5zaG93TGVzc0l0ZW1zID8gbG9jYWxlLnByZXZfMyA6IGxvY2FsZS5wcmV2XzUsXG4gICAgICAgICAga2V5OiAncHJldicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fanVtcFByZXYsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWp1bXAtcHJldidcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApO1xuICAgICAganVtcE5leHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IHByb3BzLnNob3dMZXNzSXRlbXMgPyBsb2NhbGUubmV4dF8zIDogbG9jYWxlLm5leHRfNSxcbiAgICAgICAgICBrZXk6ICduZXh0JyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9qdW1wTmV4dCxcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctanVtcC1uZXh0J1xuICAgICAgICB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICk7XG4gICAgICBsYXN0UGFnZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG4gICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICBsYXN0OiB0cnVlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIGFsbFBhZ2VzKSxcbiAgICAgICAga2V5OiBhbGxQYWdlcyxcbiAgICAgICAgcGFnZTogYWxsUGFnZXMsXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgZmlyc3RQYWdlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG4gICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgMSksXG4gICAgICAgIGtleTogMSxcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBsZWZ0ID0gTWF0aC5tYXgoMSwgY3VycmVudCAtIHBhZ2VCdWZmZXJTaXplKTtcbiAgICAgIHZhciByaWdodCA9IE1hdGgubWluKGN1cnJlbnQgKyBwYWdlQnVmZmVyU2l6ZSwgYWxsUGFnZXMpO1xuXG4gICAgICBpZiAoY3VycmVudCAtIDEgPD0gcGFnZUJ1ZmZlclNpemUpIHtcbiAgICAgICAgcmlnaHQgPSAxICsgcGFnZUJ1ZmZlclNpemUgKiAyO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWxsUGFnZXMgLSBjdXJyZW50IDw9IHBhZ2VCdWZmZXJTaXplKSB7XG4gICAgICAgIGxlZnQgPSBhbGxQYWdlcyAtIHBhZ2VCdWZmZXJTaXplICogMjtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2kgPSBsZWZ0OyBfaSA8PSByaWdodDsgX2krKykge1xuICAgICAgICB2YXIgX2FjdGl2ZSA9IGN1cnJlbnQgPT09IF9pO1xuICAgICAgICBwYWdlckxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG4gICAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG4gICAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIF9pKSxcbiAgICAgICAgICBrZXk6IF9pLFxuICAgICAgICAgIHBhZ2U6IF9pLFxuICAgICAgICAgIGFjdGl2ZTogX2FjdGl2ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50IC0gMSA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gMSArIDIpIHtcbiAgICAgICAgcGFnZXJMaXN0WzBdID0gUmVhY3QuY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFswXSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWFmdGVyLWp1bXAtcHJldidcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyTGlzdC51bnNoaWZ0KGp1bXBQcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChhbGxQYWdlcyAtIGN1cnJlbnQgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IGFsbFBhZ2VzIC0gMikge1xuICAgICAgICBwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdID0gUmVhY3QuY2xvbmVFbGVtZW50KHBhZ2VyTGlzdFtwYWdlckxpc3QubGVuZ3RoIC0gMV0sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1iZWZvcmUtanVtcC1uZXh0J1xuICAgICAgICB9KTtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2goanVtcE5leHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGVmdCAhPT0gMSkge1xuICAgICAgICBwYWdlckxpc3QudW5zaGlmdChmaXJzdFBhZ2VyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyaWdodCAhPT0gYWxsUGFnZXMpIHtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2gobGFzdFBhZ2VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdG90YWxUZXh0ID0gbnVsbDtcblxuICAgIGlmIChwcm9wcy5zaG93VG90YWwpIHtcbiAgICAgIHRvdGFsVGV4dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdG90YWwtdGV4dCcgfSxcbiAgICAgICAgcHJvcHMuc2hvd1RvdGFsKHByb3BzLnRvdGFsLCBbKGN1cnJlbnQgLSAxKSAqIHBhZ2VTaXplICsgMSwgY3VycmVudCAqIHBhZ2VTaXplID4gcHJvcHMudG90YWwgPyBwcm9wcy50b3RhbCA6IGN1cnJlbnQgKiBwYWdlU2l6ZV0pXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3VsJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICAgICAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJ1xuICAgICAgfSxcbiAgICAgIHRvdGFsVGV4dCxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZfcGFnZSxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9wcmV2LFxuICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc1ByZXYoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1wcmV2J1xuICAgICAgICB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcbiAgICAgICksXG4gICAgICBwYWdlckxpc3QsXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0X3BhZ2UsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fbmV4dCxcbiAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApLFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChPcHRpb25zLCB7XG4gICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHNlbGVjdENvbXBvbmVudENsYXNzOiBwcm9wcy5zZWxlY3RDb21wb25lbnRDbGFzcyxcbiAgICAgICAgc2VsZWN0UHJlZml4Q2xzOiBwcm9wcy5zZWxlY3RQcmVmaXhDbHMsXG4gICAgICAgIGNoYW5nZVNpemU6IHRoaXMucHJvcHMuc2hvd1NpemVDaGFuZ2VyID8gdGhpcy5fY2hhbmdlUGFnZVNpemUuYmluZCh0aGlzKSA6IG51bGwsXG4gICAgICAgIGN1cnJlbnQ6IHRoaXMuc3RhdGUuY3VycmVudCxcbiAgICAgICAgcGFnZVNpemU6IHRoaXMuc3RhdGUucGFnZVNpemUsXG4gICAgICAgIHBhZ2VTaXplT3B0aW9uczogdGhpcy5wcm9wcy5wYWdlU2l6ZU9wdGlvbnMsXG4gICAgICAgIHF1aWNrR286IHRoaXMucHJvcHMuc2hvd1F1aWNrSnVtcGVyID8gdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcykgOiBudWxsXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFBhZ2luYXRpb247XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBhZ2luYXRpb24ucHJvcFR5cGVzID0ge1xuICBjdXJyZW50OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBkZWZhdWx0Q3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgdG90YWw6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBkZWZhdWx0UGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG9uQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2hvd1NpemVDaGFuZ2VyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgc2hvd0xlc3NJdGVtczogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIG9uU2hvd1NpemVDaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzZWxlY3RDb21wb25lbnRDbGFzczogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dRdWlja0p1bXBlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG4gIHNob3dUb3RhbDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgc3R5bGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcbn07XG5cblBhZ2luYXRpb24uZGVmYXVsdFByb3BzID0ge1xuICBkZWZhdWx0Q3VycmVudDogMSxcbiAgdG90YWw6IDAsXG4gIGRlZmF1bHRQYWdlU2l6ZTogMTAsXG4gIG9uQ2hhbmdlOiBub29wLFxuICBjbGFzc05hbWU6ICcnLFxuICBzZWxlY3RQcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuICBwcmVmaXhDbHM6ICdyYy1wYWdpbmF0aW9uJyxcbiAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IG51bGwsXG4gIHNob3dRdWlja0p1bXBlcjogZmFsc2UsXG4gIHNob3dTaXplQ2hhbmdlcjogZmFsc2UsXG4gIHNob3dMZXNzSXRlbXM6IGZhbHNlLFxuICBvblNob3dTaXplQ2hhbmdlOiBub29wLFxuICBsb2NhbGU6IExPQ0FMRSxcbiAgc3R5bGU6IHt9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2luYXRpb247XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvUGFnaW5hdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLy8gZXhwb3J0IHRoaXMgcGFja2FnZSdzIGFwaVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL1BhZ2luYXRpb24nKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1wYWdpbmF0aW9uL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBDaGVja2JveCA9IHJlcXVpcmUoJ3JjLWNoZWNrYm94Jyk7XG5cbnZhciBSYWRpbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdSYWRpbycsXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeENsczogJ3JjLXJhZGlvJyxcbiAgICAgIHR5cGU6ICdyYWRpbydcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrYm94LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywgeyByZWY6ICdjaGVja2JveCcgfSkpO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYWRpbztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1yYWRpby9saWIvUmFkaW8uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9SYWRpbycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXJhZGlvL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEyNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZicpO1xuXG52YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3RvQXJyYXkgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9DaGlsZHJlbi90b0FycmF5Jyk7XG5cbnZhciBfdG9BcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0FycmF5KTtcblxudmFyIF9yY01lbnUgPSByZXF1aXJlKCdyYy1tZW51Jyk7XG5cbnZhciBfcmNNZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjTWVudSk7XG5cbnZhciBfZG9tU2Nyb2xsSW50b1ZpZXcgPSByZXF1aXJlKCdkb20tc2Nyb2xsLWludG8tdmlldycpO1xuXG52YXIgX2RvbVNjcm9sbEludG9WaWV3MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbVNjcm9sbEludG9WaWV3KTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRHJvcGRvd25NZW51ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0Ryb3Bkb3duTWVudScsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGRyb3Bkb3duTWVudVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtdWx0aXBsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uUG9wdXBGb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uTWVudURlU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25NZW51U2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBtZW51SXRlbXM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGlucHV0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuICB9LFxuXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSB0aGlzLnByb3BzLmlucHV0VmFsdWU7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKTtcbiAgICB0aGlzLmxhc3RWaXNpYmxlID0gdGhpcy5wcm9wcy52aXNpYmxlO1xuICB9LFxuICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICBpZiAoIW5leHRQcm9wcy52aXNpYmxlKSB7XG4gICAgICB0aGlzLmxhc3RWaXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGZyZWV6ZSB3aGVuIGhpZGVcbiAgICByZXR1cm4gbmV4dFByb3BzLnZpc2libGU7XG4gIH0sXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFwcmV2UHJvcHMudmlzaWJsZSAmJiBwcm9wcy52aXNpYmxlKSB7XG4gICAgICB0aGlzLnNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKTtcbiAgICB9XG4gICAgdGhpcy5sYXN0VmlzaWJsZSA9IHByb3BzLnZpc2libGU7XG4gICAgdGhpcy5sYXN0SW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWU7XG4gIH0sXG4gIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXc6IGZ1bmN0aW9uIHNjcm9sbEFjdGl2ZUl0ZW1Ub1ZpZXcoKSB7XG4gICAgLy8gc2Nyb2xsIGludG8gdmlld1xuICAgIHZhciBpdGVtQ29tcG9uZW50ID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcy5maXJzdEFjdGl2ZUl0ZW0pO1xuICAgIGlmIChpdGVtQ29tcG9uZW50KSB7XG4gICAgICAoMCwgX2RvbVNjcm9sbEludG9WaWV3MltcImRlZmF1bHRcIl0pKGl0ZW1Db21wb25lbnQsICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMucmVmcy5tZW51KSwge1xuICAgICAgICBvbmx5U2Nyb2xsSWZOZWVkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgcmVuZGVyTWVudTogZnVuY3Rpb24gcmVuZGVyTWVudSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgbWVudUl0ZW1zID0gcHJvcHMubWVudUl0ZW1zLFxuICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24gPSBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG4gICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgbXVsdGlwbGUgPSBwcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgb25NZW51U2VsZWN0ID0gcHJvcHMub25NZW51U2VsZWN0LFxuICAgICAgICBpbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZTtcblxuICAgIGlmIChtZW51SXRlbXMgJiYgbWVudUl0ZW1zLmxlbmd0aCkge1xuICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZW51UHJvcHMgPSB7fTtcbiAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgbWVudVByb3BzLm9uRGVzZWxlY3QgPSBwcm9wcy5vbk1lbnVEZXNlbGVjdDtcbiAgICAgICAgICBtZW51UHJvcHMub25TZWxlY3QgPSBvbk1lbnVTZWxlY3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVudVByb3BzLm9uQ2xpY2sgPSBvbk1lbnVTZWxlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzID0gKDAsIF91dGlsLmdldFNlbGVjdEtleXMpKG1lbnVJdGVtcywgdmFsdWUpO1xuICAgICAgICB2YXIgYWN0aXZlS2V5UHJvcHMgPSB7fTtcblxuICAgICAgICB2YXIgY2xvbmVkTWVudUl0ZW1zID0gbWVudUl0ZW1zO1xuICAgICAgICBpZiAoc2VsZWN0ZWRLZXlzLmxlbmd0aCkge1xuICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMudmlzaWJsZSAmJiAhX3RoaXMubGFzdFZpc2libGUpIHtcbiAgICAgICAgICAgICAgYWN0aXZlS2V5UHJvcHMuYWN0aXZlS2V5ID0gc2VsZWN0ZWRLZXlzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZvdW5kRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNldCBmaXJzdEFjdGl2ZUl0ZW0gdmlhIGNsb25pbmcgbWVudXNcbiAgICAgICAgICAgIC8vIGZvciBzY3JvbGwgaW50byB2aWV3XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBmdW5jdGlvbiBjbG9uZShpdGVtKSB7XG4gICAgICAgICAgICAgIGlmICghZm91bmRGaXJzdCAmJiBzZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLmtleSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZm91bmRGaXJzdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShpdGVtLCB7XG4gICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmZpcnN0QWN0aXZlSXRlbSA9IF9yZWY7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjbG9uZWRNZW51SXRlbXMgPSBtZW51SXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gKDAsIF90b0FycmF5MltcImRlZmF1bHRcIl0pKGl0ZW0ucHJvcHMuY2hpbGRyZW4pLm1hcChjbG9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShpdGVtLCB7fSwgY2hpbGRyZW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBjbG9uZShpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBhY3RpdmVLZXkgd2hlbiBpbnB1dFZhbHVlIGNoYW5nZVxuICAgICAgICBpZiAoaW5wdXRWYWx1ZSAhPT0gX3RoaXMubGFzdElucHV0VmFsdWUpIHtcbiAgICAgICAgICBhY3RpdmVLZXlQcm9wcy5hY3RpdmVLZXkgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdjogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICAgIHJlZjogJ21lbnUnLFxuICAgICAgICAgICAgICBzdHlsZTogX3RoaXMucHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG4gICAgICAgICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdDogZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uXG4gICAgICAgICAgICB9LCBhY3RpdmVLZXlQcm9wcywge1xuICAgICAgICAgICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICAgICAgICAgIGZvY3VzYWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0sIG1lbnVQcm9wcywge1xuICAgICAgICAgICAgICBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyxcbiAgICAgICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLW1lbnUnXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNsb25lZE1lbnVJdGVtc1xuICAgICAgICAgIClcbiAgICAgICAgfTtcbiAgICAgIH0oKTtcblxuICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6ICgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciByZW5kZXJNZW51ID0gdGhpcy5yZW5kZXJNZW51KCk7XG4gICAgcmV0dXJuIHJlbmRlck1lbnUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7IG92ZXJmbG93OiAnYXV0bycgfSxcbiAgICAgICAgb25Gb2N1czogdGhpcy5wcm9wcy5vblBvcHVwRm9jdXMsXG4gICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50XG4gICAgICB9LFxuICAgICAgcmVuZGVyTWVudVxuICAgICkgOiBudWxsO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bk1lbnU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL0Ryb3Bkb3duTWVudS5qc1xuICoqIG1vZHVsZSBpZCA9IDEyNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciBfcmNNZW51ID0gcmVxdWlyZSgncmMtbWVudScpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICBmaWx0ZXJPcHRpb246IGZ1bmN0aW9uIGZpbHRlck9wdGlvbihpbnB1dCwgY2hpbGQpIHtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMucHJvcHMuZmlsdGVyT3B0aW9uO1xuICAgIGlmICghZmlsdGVyT3B0aW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJPcHRpb24uY2FsbCh0aGlzLCBpbnB1dCwgY2hpbGQpO1xuICB9LFxuICByZW5kZXJGaWx0ZXJPcHRpb25zOiBmdW5jdGlvbiByZW5kZXJGaWx0ZXJPcHRpb25zKGlucHV0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4sIHRydWUsIGlucHV0VmFsdWUpO1xuICB9LFxuICByZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuOiBmdW5jdGlvbiByZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKGNoaWxkcmVuLCBzaG93Tm90Rm91bmQsIGl2KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBzZWwgPSBbXTtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBpbnB1dFZhbHVlID0gaXYgPT09IHVuZGVmaW5lZCA/IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSA6IGl2O1xuICAgIHZhciBjaGlsZHJlbktleXMgPSBbXTtcbiAgICB2YXIgdGFncyA9IHByb3BzLnRhZ3M7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG4gICAgICAgIHZhciBpbm5lckl0ZW1zID0gX3RoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbihjaGlsZC5wcm9wcy5jaGlsZHJlbiwgZmFsc2UpO1xuICAgICAgICBpZiAoaW5uZXJJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbGFiZWwgPSBjaGlsZC5wcm9wcy5sYWJlbDtcbiAgICAgICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGlmICgha2V5ICYmIHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGtleSA9IGxhYmVsO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWxhYmVsICYmIGtleSkge1xuICAgICAgICAgICAgbGFiZWwgPSBrZXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNNZW51Lkl0ZW1Hcm91cCxcbiAgICAgICAgICAgIHsga2V5OiBrZXksIHRpdGxlOiBsYWJlbCB9LFxuICAgICAgICAgICAgaW5uZXJJdGVtc1xuICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRpb24sICd0aGUgY2hpbGRyZW4gb2YgYFNlbGVjdGAgc2hvdWxkIGJlIGBTZWxlY3QuT3B0aW9uYCBvciBgU2VsZWN0Lk9wdEdyb3VwYCwgJyArICgnaW5zdGVhZCBvZiBgJyArIChjaGlsZC50eXBlLm5hbWUgfHwgY2hpbGQudHlwZS5kaXNwbGF5TmFtZSB8fCBjaGlsZC50eXBlKSArICdgLicpKTtcblxuICAgICAgdmFyIGNoaWxkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcbiAgICAgIGlmIChfdGhpcy5maWx0ZXJPcHRpb24oaW5wdXRWYWx1ZSwgY2hpbGQpKSB7XG4gICAgICAgIHNlbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjTWVudS5JdGVtLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsXG4gICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuICAgICAgICAgIHZhbHVlOiBjaGlsZFZhbHVlLFxuICAgICAgICAgIGtleTogY2hpbGRWYWx1ZVxuICAgICAgICB9LCBjaGlsZC5wcm9wcykpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0YWdzICYmICFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICBjaGlsZHJlbktleXMucHVzaChjaGlsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFncykge1xuICAgICAgLy8gdGFncyB2YWx1ZSBtdXN0IGJlIHN0cmluZ1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZSB8fCBbXTtcbiAgICAgIHZhbHVlID0gdmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgICByZXR1cm4gY2hpbGRyZW5LZXlzLmluZGV4T2Yoc2luZ2xlVmFsdWUua2V5KSA9PT0gLTEgJiYgKCFpbnB1dFZhbHVlIHx8IFN0cmluZyhzaW5nbGVWYWx1ZS5rZXkpLmluZGV4T2YoU3RyaW5nKGlucHV0VmFsdWUpKSA+IC0xKTtcbiAgICAgIH0pO1xuICAgICAgc2VsID0gc2VsLmNvbmNhdCh2YWx1ZS5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICAgIHZhciBrZXkgPSBzaW5nbGVWYWx1ZS5rZXk7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuICAgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuICAgICAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgICAgIGtleToga2V5XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgKTtcbiAgICAgIH0pKTtcbiAgICAgIGlmIChpbnB1dFZhbHVlKSB7XG4gICAgICAgIHZhciBub3RGaW5kSW5wdXRJdGVtID0gc2VsLmV2ZXJ5KGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShvcHRpb24pICE9PSBpbnB1dFZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vdEZpbmRJbnB1dEl0ZW0pIHtcbiAgICAgICAgICBzZWwudW5zaGlmdChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjTWVudS5JdGVtLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG4gICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgICAgICAgICBrZXk6IGlucHV0VmFsdWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dFZhbHVlXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzZWwubGVuZ3RoICYmIHNob3dOb3RGb3VuZCAmJiBwcm9wcy5ub3RGb3VuZENvbnRlbnQpIHtcbiAgICAgIHNlbCA9IFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfcmNNZW51Lkl0ZW0sXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogJ05PVF9GT1VORCcsXG4gICAgICAgICAga2V5OiAnTk9UX0ZPVU5EJ1xuICAgICAgICB9LFxuICAgICAgICBwcm9wcy5ub3RGb3VuZENvbnRlbnRcbiAgICAgICldO1xuICAgIH1cbiAgICByZXR1cm4gc2VsO1xuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9GaWx0ZXJNaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgT3B0R3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE9wdEdyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPcHRHcm91cCgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE9wdEdyb3VwKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gT3B0R3JvdXA7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbk9wdEdyb3VwLmlzU2VsZWN0T3B0R3JvdXAgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPcHRHcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvT3B0R3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE9wdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoT3B0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBPcHRpb24oKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBPcHRpb24pO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBPcHRpb247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbk9wdGlvbi5wcm9wVHlwZXMgPSB7XG4gIHZhbHVlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuT3B0aW9uLmlzU2VsZWN0T3B0aW9uID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0aW9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9PcHRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9LZXlDb2RlID0gcmVxdWlyZSgncmMtdXRpbC9saWIvS2V5Q29kZScpO1xuXG52YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cbnZhciBfcmNBbmltYXRlID0gcmVxdWlyZSgncmMtYW5pbWF0ZScpO1xuXG52YXIgX3JjQW5pbWF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0FuaW1hdGUpO1xuXG52YXIgX2NvbXBvbmVudENsYXNzZXMgPSByZXF1aXJlKCdjb21wb25lbnQtY2xhc3NlcycpO1xuXG52YXIgX2NvbXBvbmVudENsYXNzZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50Q2xhc3Nlcyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgX1NlbGVjdFRyaWdnZXIgPSByZXF1aXJlKCcuL1NlbGVjdFRyaWdnZXInKTtcblxudmFyIF9TZWxlY3RUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdFRyaWdnZXIpO1xuXG52YXIgX0ZpbHRlck1peGluID0gcmVxdWlyZSgnLi9GaWx0ZXJNaXhpbicpO1xuXG52YXIgX0ZpbHRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZpbHRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBmaWx0ZXJGbihpbnB1dCwgY2hpbGQpIHtcbiAgcmV0dXJuIFN0cmluZygoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShjaGlsZCwgdGhpcy5wcm9wcy5vcHRpb25GaWx0ZXJQcm9wKSkuaW5kZXhPZihpbnB1dCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gc2F2ZVJlZihuYW1lLCBjb21wb25lbnQpIHtcbiAgdGhpc1tuYW1lXSA9IGNvbXBvbmVudDtcbn1cblxudmFyIHZhbHVlT2JqZWN0U2hhcGUgPSB2b2lkIDA7XG5cbmlmIChfcmVhY3QuUHJvcFR5cGVzKSB7XG4gIHZhbHVlT2JqZWN0U2hhcGUgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuICAgIGtleTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuICB9KV0pO1xufVxuXG52YXIgU2VsZWN0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1NlbGVjdCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBmaWx0ZXJPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBhbGxvd0NsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd0Fycm93OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdGFnczogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3B0aW9uTGFiZWxQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvcHRpb25GaWx0ZXJQcm9wOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQmx1cjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uU2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIG9uRGVzZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBsYWJlbEluVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW3ZhbHVlT2JqZWN0U2hhcGUsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZih2YWx1ZU9iamVjdFNoYXBlKV0pLFxuICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW3ZhbHVlT2JqZWN0U2hhcGUsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZih2YWx1ZU9iamVjdFNoYXBlKV0pLFxuICAgIGRyb3Bkb3duU3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIG1heFRhZ1RleHRMZW5ndGg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICAgIHRva2VuU2VwYXJhdG9yczogX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcbiAgICBnZXRJbnB1dEVsZW1lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIG1peGluczogW19GaWx0ZXJNaXhpbjJbXCJkZWZhdWx0XCJdXSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlZml4Q2xzOiAncmMtc2VsZWN0JyxcbiAgICAgIGZpbHRlck9wdGlvbjogZmlsdGVyRm4sXG4gICAgICBkZWZhdWx0T3BlbjogZmFsc2UsXG4gICAgICBsYWJlbEluVmFsdWU6IGZhbHNlLFxuICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiB0cnVlLFxuICAgICAgc2hvd1NlYXJjaDogdHJ1ZSxcbiAgICAgIGFsbG93Q2xlYXI6IGZhbHNlLFxuICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcbiAgICAgIG9uQ2hhbmdlOiBub29wLFxuICAgICAgb25Gb2N1czogbm9vcCxcbiAgICAgIG9uQmx1cjogbm9vcCxcbiAgICAgIG9uU2VsZWN0OiBub29wLFxuICAgICAgb25TZWFyY2g6IG5vb3AsXG4gICAgICBvbkRlc2VsZWN0OiBub29wLFxuICAgICAgc2hvd0Fycm93OiB0cnVlLFxuICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiB0cnVlLFxuICAgICAgZHJvcGRvd25TdHlsZToge30sXG4gICAgICBkcm9wZG93bk1lbnVTdHlsZToge30sXG4gICAgICBvcHRpb25GaWx0ZXJQcm9wOiAndmFsdWUnLFxuICAgICAgb3B0aW9uTGFiZWxQcm9wOiAndmFsdWUnLFxuICAgICAgbm90Rm91bmRDb250ZW50OiAnTm90IEZvdW5kJ1xuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gW107XG4gICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcbiAgICAgIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKHByb3BzLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkocHJvcHMuZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gICAgdmFsdWUgPSB0aGlzLmFkZExhYmVsVG9WYWx1ZShwcm9wcywgdmFsdWUpO1xuICAgIHZhbHVlID0gdGhpcy5hZGRUaXRsZVRvVmFsdWUocHJvcHMsIHZhbHVlKTtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9ICcnO1xuICAgIGlmIChwcm9wcy5jb21ib2JveCkge1xuICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHZhbHVlWzBdLmtleSkgOiAnJztcbiAgICB9XG4gICAgdGhpcy5zYXZlSW5wdXRSZWYgPSBzYXZlUmVmLmJpbmQodGhpcywgJ2lucHV0SW5zdGFuY2UnKTtcbiAgICB0aGlzLnNhdmVJbnB1dE1pcnJvclJlZiA9IHNhdmVSZWYuYmluZCh0aGlzLCAnaW5wdXRNaXJyb3JJbnN0YW5jZScpO1xuICAgIHZhciBvcGVuID0gcHJvcHMub3BlbjtcbiAgICBpZiAob3BlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvcGVuID0gcHJvcHMuZGVmYXVsdE9wZW47XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgb3Blbjogb3BlblxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIHRoaXMuYWRqdXN0T3BlblN0YXRlKCk7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB2YXIgdmFsdWUgPSAoMCwgX3V0aWwudG9BcnJheSkobmV4dFByb3BzLnZhbHVlKTtcbiAgICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUobmV4dFByb3BzLCB2YWx1ZSk7XG4gICAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgICBpZiAobmV4dFByb3BzLmNvbWJvYm94KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlucHV0VmFsdWU6IHZhbHVlLmxlbmd0aCA/IHRoaXMuZ2V0TGFiZWxGcm9tUHJvcHMobmV4dFByb3BzLCB2YWx1ZVswXS5rZXkpIDogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcbiAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xuICAgIHRoaXMuYWRqdXN0T3BlblN0YXRlKCk7XG4gIH0sXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykpIHtcbiAgICAgIHZhciBpbnB1dE5vZGUgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuICAgICAgdmFyIG1pcnJvck5vZGUgPSB0aGlzLmdldElucHV0TWlycm9yRE9NTm9kZSgpO1xuICAgICAgaWYgKGlucHV0Tm9kZS52YWx1ZSkge1xuICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gbWlycm9yTm9kZS5jbGllbnRXaWR0aCArICdweCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dE5vZGUuc3R5bGUud2lkdGggPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLmNsZWFyQmx1clRpbWUoKTtcbiAgICB0aGlzLmNsZWFyQWRqdXN0VGltZXIoKTtcbiAgICBpZiAodGhpcy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG4gICAgICB0aGlzLmRyb3Bkb3duQ29udGFpbmVyID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgdG9rZW5TZXBhcmF0b3JzID0gdGhpcy5wcm9wcy50b2tlblNlcGFyYXRvcnM7XG5cbiAgICB2YXIgdmFsID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykgJiYgdG9rZW5TZXBhcmF0b3JzICYmICgwLCBfdXRpbC5pbmNsdWRlc1NlcGFyYXRvcnMpKHZhbCwgdG9rZW5TZXBhcmF0b3JzKSkge1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMudG9rZW5pemUodmFsKTtcbiAgICAgIHRoaXMuZmlyZUNoYW5nZShuZXh0VmFsdWUpO1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnLCBmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSh2YWwpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgb3BlbjogdHJ1ZVxuICAgIH0pO1xuICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkodGhpcy5wcm9wcykpIHtcbiAgICAgIHRoaXMuZmlyZUNoYW5nZShbe1xuICAgICAgICBrZXk6IHZhbFxuICAgICAgfV0pO1xuICAgIH1cbiAgfSxcbiAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlKG9wZW4pIHtcbiAgICB0aGlzLnNldE9wZW5TdGF0ZShvcGVuKTtcbiAgfSxcblxuXG4gIC8vIGNvbWJvYm94IGlnbm9yZVxuICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICYmICF0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICB0aGlzLm9uSW5wdXRLZXlEb3duKGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRU5URVIgfHwga2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9LFxuICBvbklucHV0S2V5RG93bjogZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiAhZXZlbnQudGFyZ2V0LnZhbHVlICYmIGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uQkFDS1NQQUNFKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVTZWxlY3RlZCh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXS5rZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOKSB7XG4gICAgICBpZiAoIXN0YXRlLm9wZW4pIHtcbiAgICAgICAgdGhpcy5vcGVuSWZIYXNDaGlsZHJlbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FU0MpIHtcbiAgICAgIGlmIChzdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLm9wZW4pIHtcbiAgICAgIHZhciBtZW51ID0gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0SW5uZXJNZW51KCk7XG4gICAgICBpZiAobWVudSAmJiBtZW51Lm9uS2V5RG93bihldmVudCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBvbk1lbnVTZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudVNlbGVjdChfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBpdGVtID0gX3JlZi5pdGVtO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShpdGVtKTtcbiAgICB2YXIgc2VsZWN0ZWRMYWJlbCA9IHRoaXMuZ2V0TGFiZWxGcm9tT3B0aW9uKGl0ZW0pO1xuICAgIHZhciBldmVudCA9IHNlbGVjdGVkVmFsdWU7XG4gICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuICAgICAgZXZlbnQgPSB7XG4gICAgICAgIGtleTogZXZlbnQsXG4gICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsXG4gICAgICB9O1xuICAgIH1cbiAgICBwcm9wcy5vblNlbGVjdChldmVudCwgaXRlbSk7XG4gICAgdmFyIHNlbGVjdGVkVGl0bGUgPSBpdGVtLnByb3BzLnRpdGxlO1xuICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG4gICAgICBpZiAoKDAsIF91dGlsLmZpbmRJbmRleEluVmFsdWVCeUtleSkodmFsdWUsIHNlbGVjdGVkVmFsdWUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLmNvbmNhdChbe1xuICAgICAgICBrZXk6IHNlbGVjdGVkVmFsdWUsXG4gICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuICAgICAgICB0aXRsZTogc2VsZWN0ZWRUaXRsZVxuICAgICAgfV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSkge1xuICAgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG4gICAgICAgIHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnNraXBBZGp1c3RPcGVuID0gZmFsc2U7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLmxlbmd0aCAmJiB2YWx1ZVswXS5rZXkgPT09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IFt7XG4gICAgICAgIGtleTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWwsXG4gICAgICAgIHRpdGxlOiBzZWxlY3RlZFRpdGxlXG4gICAgICB9XTtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5maXJlQ2hhbmdlKHZhbHVlKTtcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IHZvaWQgMDtcbiAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSkge1xuICAgICAgaW5wdXRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRQcm9wVmFsdWUpKGl0ZW0sIHByb3BzLm9wdGlvbkxhYmVsUHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0VmFsdWUgPSAnJztcbiAgICB9XG4gICAgdGhpcy5zZXRJbnB1dFZhbHVlKGlucHV0VmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgb25NZW51RGVzZWxlY3Q6IGZ1bmN0aW9uIG9uTWVudURlc2VsZWN0KF9yZWYyKSB7XG4gICAgdmFyIGl0ZW0gPSBfcmVmMi5pdGVtLFxuICAgICAgICBkb21FdmVudCA9IF9yZWYyLmRvbUV2ZW50O1xuXG4gICAgaWYgKGRvbUV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShpdGVtKSk7XG4gICAgfVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJywgZmFsc2UpO1xuICB9LFxuICBvbkFycm93Q2xpY2s6IGZ1bmN0aW9uIG9uQXJyb3dDbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIXRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKCF0aGlzLnN0YXRlLm9wZW4sICF0aGlzLnN0YXRlLm9wZW4pO1xuICAgIH1cbiAgfSxcbiAgb25QbGFjZWhvbGRlckNsaWNrOiBmdW5jdGlvbiBvblBsYWNlaG9sZGVyQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcbiAgICAgIHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkuZm9jdXMoKTtcbiAgICB9XG4gIH0sXG4gIG9uT3V0ZXJGb2N1czogZnVuY3Rpb24gb25PdXRlckZvY3VzKGUpIHtcbiAgICBpZiAoISgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykgJiYgZS50YXJnZXQgPT09IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG4gICAgdGhpcy5fZm9jdXNlZCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVGb2N1c0NsYXNzTmFtZSgpO1xuICAgIHRoaXMucHJvcHMub25Gb2N1cygpO1xuICB9LFxuICBvblBvcHVwRm9jdXM6IGZ1bmN0aW9uIG9uUG9wdXBGb2N1cygpIHtcbiAgICAvLyBmaXggaWUgc2Nyb2xsYmFyLCBmb2N1cyBlbGVtZW50IGFnYWluXG4gICAgdGhpcy5tYXliZUZvY3VzKHRydWUsIHRydWUpO1xuICB9LFxuICBvbk91dGVyQmx1cjogZnVuY3Rpb24gb25PdXRlckJsdXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB0aGlzLmJsdXJUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMyLl9mb2N1c2VkID0gZmFsc2U7XG4gICAgICBfdGhpczIudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcbiAgICAgIHZhciBwcm9wcyA9IF90aGlzMi5wcm9wcztcbiAgICAgIHZhciB2YWx1ZSA9IF90aGlzMi5zdGF0ZS52YWx1ZTtcbiAgICAgIHZhciBpbnB1dFZhbHVlID0gX3RoaXMyLnN0YXRlLmlucHV0VmFsdWU7XG5cbiAgICAgIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgcHJvcHMuc2hvd1NlYXJjaCAmJiBpbnB1dFZhbHVlICYmIHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IF90aGlzMi5fb3B0aW9ucyB8fCBbXTtcbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGZpcnN0T3B0aW9uID0gKDAsIF91dGlsLmZpbmRGaXJzdE1lbnVJdGVtKShvcHRpb25zKTtcbiAgICAgICAgICBpZiAoZmlyc3RPcHRpb24pIHtcbiAgICAgICAgICAgIHZhbHVlID0gW3tcbiAgICAgICAgICAgICAga2V5OiBmaXJzdE9wdGlvbi5rZXksXG4gICAgICAgICAgICAgIGxhYmVsOiBfdGhpczIuZ2V0TGFiZWxGcm9tT3B0aW9uKGZpcnN0T3B0aW9uKVxuICAgICAgICAgICAgfV07XG4gICAgICAgICAgICBfdGhpczIuZmlyZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICAvLyB3aHkgbm90IHVzZSBzZXRTdGF0ZT9cbiAgICAgICAgX3RoaXMyLnN0YXRlLmlucHV0VmFsdWUgPSBfdGhpczIuZ2V0SW5wdXRET01Ob2RlKCkudmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIHByb3BzLm9uQmx1cihfdGhpczIuZ2V0VkxGb3JPbkNoYW5nZSh2YWx1ZSkpO1xuICAgIH0sIDEwKTtcbiAgfSxcbiAgb25DbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gb25DbGVhclNlbGVjdGlvbihldmVudCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGlucHV0VmFsdWUgPSBzdGF0ZS5pbnB1dFZhbHVlLFxuICAgICAgICB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGlucHV0VmFsdWUgfHwgdmFsdWUubGVuZ3RoKSB7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZmlyZUNoYW5nZShbXSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG4gICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldElucHV0VmFsdWUoJycpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb25DaG9pY2VBbmltYXRpb25MZWF2ZTogZnVuY3Rpb24gb25DaG9pY2VBbmltYXRpb25MZWF2ZSgpIHtcbiAgICB0aGlzLnJlZnMudHJpZ2dlci5yZWZzLnRyaWdnZXIuZm9yY2VQb3B1cEFsaWduKCk7XG4gIH0sXG4gIGdldExhYmVsQnlTaW5nbGVWYWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgbGFiZWwgPSBudWxsO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuICAgICAgICB2YXIgbWF5YmUgPSBfdGhpczMuZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkLnByb3BzLmNoaWxkcmVuLCB2YWx1ZSk7XG4gICAgICAgIGlmIChtYXliZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGxhYmVsID0gbWF5YmU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCkgPT09IHZhbHVlKSB7XG4gICAgICAgIGxhYmVsID0gX3RoaXMzLmdldExhYmVsRnJvbU9wdGlvbihjaGlsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9LFxuICBnZXRWYWx1ZUJ5TGFiZWw6IGZ1bmN0aW9uIGdldFZhbHVlQnlMYWJlbChjaGlsZHJlbiwgbGFiZWwpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIGlmIChsYWJlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgdmFyIG1heWJlID0gX3RoaXM0LmdldFZhbHVlQnlMYWJlbChjaGlsZC5wcm9wcy5jaGlsZHJlbiwgbGFiZWwpO1xuICAgICAgICBpZiAobWF5YmUgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZSA9IG1heWJlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC50b0FycmF5KShfdGhpczQuZ2V0TGFiZWxGcm9tT3B0aW9uKGNoaWxkKSkuam9pbignJykgPT09IGxhYmVsKSB7XG4gICAgICAgIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBnZXRMYWJlbEZyb21PcHRpb246IGZ1bmN0aW9uIGdldExhYmVsRnJvbU9wdGlvbihjaGlsZCkge1xuICAgIHJldHVybiAoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShjaGlsZCwgdGhpcy5wcm9wcy5vcHRpb25MYWJlbFByb3ApO1xuICB9LFxuICBnZXRMYWJlbEZyb21Qcm9wczogZnVuY3Rpb24gZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGFiZWxCeVZhbHVlKHByb3BzLmNoaWxkcmVuLCB2YWx1ZSk7XG4gIH0sXG4gIGdldFZMRm9yT25DaGFuZ2U6IGZ1bmN0aW9uIGdldFZMRm9yT25DaGFuZ2UodmxzXykge1xuICAgIHZhciB2bHMgPSB2bHNfO1xuICAgIGlmICh2bHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLmxhYmVsSW5WYWx1ZSkge1xuICAgICAgICB2bHMgPSB2bHMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIHYua2V5O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZscyA9IHZscy5tYXAoZnVuY3Rpb24gKHZsKSB7XG4gICAgICAgICAgcmV0dXJuIHsga2V5OiB2bC5rZXksIGxhYmVsOiB2bC5sYWJlbCB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykgPyB2bHMgOiB2bHNbMF07XG4gICAgfVxuICAgIHJldHVybiB2bHM7XG4gIH0sXG4gIGdldExhYmVsQnlWYWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWxCeVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSkge1xuICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSk7XG4gICAgaWYgKGxhYmVsID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBsYWJlbDtcbiAgfSxcbiAgZ2V0RHJvcGRvd25Db250YWluZXI6IGZ1bmN0aW9uIGdldERyb3Bkb3duQ29udGFpbmVyKCkge1xuICAgIGlmICghdGhpcy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgdGhpcy5kcm9wZG93bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZHJvcGRvd25Db250YWluZXI7XG4gIH0sXG4gIGdldFBsYWNlaG9sZGVyRWxlbWVudDogZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXJFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgIHZhciBoaWRkZW4gPSBmYWxzZTtcbiAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSkge1xuICAgICAgaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnZhbHVlLmxlbmd0aCkge1xuICAgICAgaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykgJiYgc3RhdGUudmFsdWUubGVuZ3RoID09PSAxICYmICFzdGF0ZS52YWx1ZVswXS5rZXkpIHtcbiAgICAgIGhpZGRlbiA9IGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcjtcbiAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcbiAgICAgICAgICBzdHlsZTogKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGhpZGRlbiA/ICdub25lJyA6ICdibG9jaydcbiAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUpXG4gICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUGxhY2Vob2xkZXJDbGljayxcbiAgICAgICAgICBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VsZWN0aW9uX19wbGFjZWhvbGRlcidcbiAgICAgICAgfSksXG4gICAgICAgIHBsYWNlaG9sZGVyXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgZ2V0SW5wdXRFbGVtZW50OiBmdW5jdGlvbiBnZXRJbnB1dEVsZW1lbnQoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgaW5wdXRFbGVtZW50ID0gcHJvcHMuZ2V0SW5wdXRFbGVtZW50ID8gcHJvcHMuZ2V0SW5wdXRFbGVtZW50KCkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIG51bGwpO1xuICAgIHZhciBpbnB1dENscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShpbnB1dEVsZW1lbnQucHJvcHMuY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGQnLCB0cnVlKSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGRfX3dyYXAnIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoaW5wdXRFbGVtZW50LCB7XG4gICAgICAgIHJlZjogdGhpcy5zYXZlSW5wdXRSZWYsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2UsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbklucHV0S2V5RG93bixcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSxcbiAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBjbGFzc05hbWU6IGlucHV0Q2xzXG4gICAgICB9KSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlYXJjaF9fZmllbGRfX21pcnJvcidcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zdGF0ZS5pbnB1dFZhbHVlXG4gICAgICApXG4gICAgKTtcbiAgfSxcbiAgZ2V0SW5wdXRET01Ob2RlOiBmdW5jdGlvbiBnZXRJbnB1dERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRJbnN0YW5jZTtcbiAgfSxcbiAgZ2V0SW5wdXRNaXJyb3JET01Ob2RlOiBmdW5jdGlvbiBnZXRJbnB1dE1pcnJvckRPTU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRNaXJyb3JJbnN0YW5jZTtcbiAgfSxcbiAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRE9NTm9kZSgpO1xuICB9LFxuICBnZXRQb3B1cE1lbnVDb21wb25lbnQ6IGZ1bmN0aW9uIGdldFBvcHVwTWVudUNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0SW5uZXJNZW51KCk7XG4gIH0sXG4gIHNldE9wZW5TdGF0ZTogZnVuY3Rpb24gc2V0T3BlblN0YXRlKG9wZW4sIG5lZWRGb2N1cykge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHN0YXRlLm9wZW4gPT09IG9wZW4pIHtcbiAgICAgIHRoaXMubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmV4dFN0YXRlID0ge1xuICAgICAgb3Blbjogb3BlblxuICAgIH07XG4gICAgLy8gY2xlYXIgc2VhcmNoIGlucHV0IHZhbHVlIHdoZW4gb3BlbiBpcyBmYWxzZSBpbiBzaW5nbGVNb2RlLlxuICAgIGlmICghb3BlbiAmJiAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgcHJvcHMuc2hvd1NlYXJjaCkge1xuICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcbiAgICB9XG4gICAgaWYgKCFvcGVuKSB7XG4gICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgIF90aGlzNS5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHNldElucHV0VmFsdWU6IGZ1bmN0aW9uIHNldElucHV0VmFsdWUoaW5wdXRWYWx1ZSkge1xuICAgIHZhciBmaXJlU2VhcmNoID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlXG4gICAgfSk7XG4gICAgaWYgKGZpcmVTZWFyY2gpIHtcbiAgICAgIHRoaXMucHJvcHMub25TZWFyY2goaW5wdXRWYWx1ZSk7XG4gICAgfVxuICB9LFxuICBjbGVhckJsdXJUaW1lOiBmdW5jdGlvbiBjbGVhckJsdXJUaW1lKCkge1xuICAgIGlmICh0aGlzLmJsdXJUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYmx1clRpbWVyKTtcbiAgICAgIHRoaXMuYmx1clRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIGNsZWFyQWRqdXN0VGltZXI6IGZ1bmN0aW9uIGNsZWFyQWRqdXN0VGltZXIoKSB7XG4gICAgaWYgKHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lcik7XG4gICAgICB0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlRm9jdXNDbGFzc05hbWU6IGZ1bmN0aW9uIHVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCkge1xuICAgIHZhciByZWZzID0gdGhpcy5yZWZzLFxuICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgLy8gYXZvaWQgc2V0U3RhdGUgYW5kIGl0cyBzaWRlIGVmZmVjdFxuXG4gICAgaWYgKHRoaXMuX2ZvY3VzZWQpIHtcbiAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKShyZWZzLnJvb3QpLmFkZChwcm9wcy5wcmVmaXhDbHMgKyAnLWZvY3VzZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHJlZnMucm9vdCkucmVtb3ZlKHByb3BzLnByZWZpeENscyArICctZm9jdXNlZCcpO1xuICAgIH1cbiAgfSxcbiAgbWF5YmVGb2N1czogZnVuY3Rpb24gbWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpIHtcbiAgICBpZiAobmVlZEZvY3VzIHx8IG9wZW4pIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCk7XG4gICAgICB2YXIgX2RvY3VtZW50ID0gZG9jdW1lbnQsXG4gICAgICAgICAgYWN0aXZlRWxlbWVudCA9IF9kb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgICBpZiAoaW5wdXQgJiYgKG9wZW4gfHwgKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSkpIHtcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IGlucHV0KSB7XG4gICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMucmVmcy5zZWxlY3Rpb247XG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBzZWxlY3Rpb24pIHtcbiAgICAgICAgICBzZWxlY3Rpb24uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYWRkTGFiZWxUb1ZhbHVlOiBmdW5jdGlvbiBhZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlXykge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgdmFyIHZhbHVlID0gdmFsdWVfO1xuICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdi5sYWJlbCA9IHYubGFiZWwgfHwgX3RoaXM2LmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2LmtleSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXk6IHYsXG4gICAgICAgICAgbGFiZWw6IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdilcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIGFkZFRpdGxlVG9WYWx1ZTogZnVuY3Rpb24gYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZXMpIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIHZhciBuZXh0VmFsdWVzID0gdmFsdWVzO1xuICAgIHZhciBrZXlzID0gdmFsdWVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIHYua2V5O1xuICAgIH0pO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuICAgICAgICBuZXh0VmFsdWVzID0gX3RoaXM3LmFkZFRpdGxlVG9WYWx1ZShjaGlsZC5wcm9wcywgbmV4dFZhbHVlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcbiAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBrZXlzLmluZGV4T2YodmFsdWUpO1xuICAgICAgICBpZiAodmFsdWVJbmRleCA+IC0xKSB7XG4gICAgICAgICAgbmV4dFZhbHVlc1t2YWx1ZUluZGV4XS50aXRsZSA9IGNoaWxkLnByb3BzLnRpdGxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHRWYWx1ZXM7XG4gIH0sXG4gIHJlbW92ZVNlbGVjdGVkOiBmdW5jdGlvbiByZW1vdmVTZWxlY3RlZChzZWxlY3RlZEtleSkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkIHx8IHRoaXMuaXNDaGlsZERpc2FibGVkKHNlbGVjdGVkS2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbGFiZWwgPSB2b2lkIDA7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICBpZiAoc2luZ2xlVmFsdWUua2V5ID09PSBzZWxlY3RlZEtleSkge1xuICAgICAgICBsYWJlbCA9IHNpbmdsZVZhbHVlLmxhYmVsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNpbmdsZVZhbHVlLmtleSAhPT0gc2VsZWN0ZWRLZXk7XG4gICAgfSk7XG4gICAgdmFyIGNhbk11bHRpcGxlID0gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKTtcblxuICAgIGlmIChjYW5NdWx0aXBsZSkge1xuICAgICAgdmFyIGV2ZW50ID0gc2VsZWN0ZWRLZXk7XG4gICAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG4gICAgICAgIGV2ZW50ID0ge1xuICAgICAgICAgIGtleTogc2VsZWN0ZWRLZXksXG4gICAgICAgICAgbGFiZWw6IGxhYmVsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBwcm9wcy5vbkRlc2VsZWN0KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5maXJlQ2hhbmdlKHZhbHVlKTtcbiAgfSxcbiAgb3BlbklmSGFzQ2hpbGRyZW46IGZ1bmN0aW9uIG9wZW5JZkhhc0NoaWxkcmVuKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmNvdW50KHByb3BzLmNoaWxkcmVuKSB8fCAoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKHRydWUpO1xuICAgIH1cbiAgfSxcbiAgZmlyZUNoYW5nZTogZnVuY3Rpb24gZmlyZUNoYW5nZSh2YWx1ZSkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9wcy5vbkNoYW5nZSh0aGlzLmdldFZMRm9yT25DaGFuZ2UodmFsdWUpKTtcbiAgfSxcbiAgaXNDaGlsZERpc2FibGVkOiBmdW5jdGlvbiBpc0NoaWxkRGlzYWJsZWQoa2V5KSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbC50b0FycmF5KSh0aGlzLnByb3BzLmNoaWxkcmVuKS5zb21lKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgdmFyIGNoaWxkVmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcbiAgICAgIHJldHVybiBjaGlsZFZhbHVlID09PSBrZXkgJiYgY2hpbGQucHJvcHMgJiYgY2hpbGQucHJvcHMuZGlzYWJsZWQ7XG4gICAgfSk7XG4gIH0sXG4gIHRva2VuaXplOiBmdW5jdGlvbiB0b2tlbml6ZShzdHJpbmcpIHtcbiAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcbiAgICAgICAgdG9rZW5TZXBhcmF0b3JzID0gX3Byb3BzLnRva2VuU2VwYXJhdG9ycyxcbiAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cbiAgICB2YXIgbmV4dFZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAoMCwgX3V0aWwuc3BsaXRCeVNlcGFyYXRvcnMpKHN0cmluZywgdG9rZW5TZXBhcmF0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChsYWJlbCkge1xuICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB7IGtleTogbGFiZWwsIGxhYmVsOiBsYWJlbCB9O1xuICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlMYWJlbCkobmV4dFZhbHVlLCBsYWJlbCkgPT09IC0xKSB7XG4gICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzOC5nZXRWYWx1ZUJ5TGFiZWwoY2hpbGRyZW4sIGxhYmVsKTtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWUua2V5ID0gdmFsdWU7XG4gICAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUuY29uY2F0KHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUuY29uY2F0KHNlbGVjdGVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgfSxcbiAgYWRqdXN0T3BlblN0YXRlOiBmdW5jdGlvbiBhZGp1c3RPcGVuU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuc2tpcEFkanVzdE9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmdldElucHV0RE9NTm9kZSgpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcbiAgICAgIG9wZW4gPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgb3B0aW9ucyA9IFtdO1xuICAgIGlmIChvcGVuKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zKCk7XG4gICAgfVxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChvcGVuICYmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpIHx8ICF0aGlzLnByb3BzLnNob3dTZWFyY2gpICYmICFvcHRpb25zLmxlbmd0aCkge1xuICAgICAgb3BlbiA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLm9wZW4gPSBvcGVuO1xuICB9LFxuICByZW5kZXJUb3BDb250cm9sTm9kZTogZnVuY3Rpb24gcmVuZGVyVG9wQ29udHJvbE5vZGUoKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG4gICAgICAgIG9wZW4gPSBfc3RhdGUub3BlbixcbiAgICAgICAgaW5wdXRWYWx1ZSA9IF9zdGF0ZS5pbnB1dFZhbHVlO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY2hvaWNlVHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5jaG9pY2VUcmFuc2l0aW9uTmFtZSxcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBtYXhUYWdUZXh0TGVuZ3RoID0gcHJvcHMubWF4VGFnVGV4dExlbmd0aCxcbiAgICAgICAgc2hvd1NlYXJjaCA9IHByb3BzLnNob3dTZWFyY2g7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX3JlbmRlcmVkJztcbiAgICAvLyBzZWFyY2ggaW5wdXQgaXMgaW5zaWRlIHRvcENvbnRyb2xOb2RlIGluIHNpbmdsZSwgbXVsdGlwbGUgJiBjb21ib2JveC4gMjAxNi8wNC8xM1xuICAgIHZhciBpbm5lck5vZGUgPSBudWxsO1xuICAgIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykpIHtcbiAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbnVsbDtcbiAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHNob3dTZWxlY3RlZFZhbHVlID0gZmFsc2U7XG4gICAgICAgIHZhciBvcGFjaXR5ID0gMTtcbiAgICAgICAgaWYgKCFzaG93U2VhcmNoKSB7XG4gICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9ICFpbnB1dFZhbHVlO1xuICAgICAgICAgICAgaWYgKHNob3dTZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgICAgICAgIG9wYWNpdHkgPSAwLjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpbmdsZVZhbHVlID0gdmFsdWVbMF07XG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ3ZhbHVlJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tc2VsZWN0ZWQtdmFsdWUnLFxuICAgICAgICAgICAgdGl0bGU6IHNpbmdsZVZhbHVlLnRpdGxlIHx8IHNpbmdsZVZhbHVlLmxhYmVsLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZGlzcGxheTogc2hvd1NlbGVjdGVkVmFsdWUgPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YWx1ZVswXS5sYWJlbFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKCFzaG93U2VhcmNoKSB7XG4gICAgICAgIGlubmVyTm9kZSA9IFtzZWxlY3RlZFZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubmVyTm9kZSA9IFtzZWxlY3RlZFZhbHVlLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWFyY2ggJyArIHByZWZpeENscyArICctc2VhcmNoLS1pbmxpbmUnLFxuICAgICAgICAgICAga2V5OiAnaW5wdXQnLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgZGlzcGxheTogb3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoaXMuZ2V0SW5wdXRFbGVtZW50KClcbiAgICAgICAgKV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzZWxlY3RlZFZhbHVlTm9kZXMgPSBbXTtcbiAgICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpKSB7XG4gICAgICAgIHNlbGVjdGVkVmFsdWVOb2RlcyA9IHZhbHVlLm1hcChmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IHNpbmdsZVZhbHVlLmxhYmVsO1xuICAgICAgICAgIHZhciB0aXRsZSA9IHNpbmdsZVZhbHVlLnRpdGxlIHx8IGNvbnRlbnQ7XG4gICAgICAgICAgaWYgKG1heFRhZ1RleHRMZW5ndGggJiYgdHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnICYmIGNvbnRlbnQubGVuZ3RoID4gbWF4VGFnVGV4dExlbmd0aCkge1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMCwgbWF4VGFnVGV4dExlbmd0aCkgKyAnLi4uJztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGRpc2FibGVkID0gX3RoaXM5LmlzQ2hpbGREaXNhYmxlZChzaW5nbGVWYWx1ZS5rZXkpO1xuICAgICAgICAgIHZhciBjaG9pY2VDbGFzc05hbWUgPSBkaXNhYmxlZCA/IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2UgJyArIHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX2Rpc2FibGVkJyA6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2UnO1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2xpJyxcbiAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcbiAgICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcbiAgICAgICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2hvaWNlQ2xhc3NOYW1lLFxuICAgICAgICAgICAgICBrZXk6IHNpbmdsZVZhbHVlLmtleSxcbiAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fY29udGVudCcgfSxcbiAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRpc2FibGVkID8gbnVsbCA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2Nob2ljZV9fcmVtb3ZlJyxcbiAgICAgICAgICAgICAgb25DbGljazogX3RoaXM5LnJlbW92ZVNlbGVjdGVkLmJpbmQoX3RoaXM5LCBzaW5nbGVWYWx1ZS5rZXkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWFyY2ggJyArIHByZWZpeENscyArICctc2VhcmNoLS1pbmxpbmUnLFxuICAgICAgICAgIGtleTogJ19faW5wdXQnXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuZ2V0SW5wdXRFbGVtZW50KClcbiAgICAgICkpO1xuXG4gICAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSAmJiBjaG9pY2VUcmFuc2l0aW9uTmFtZSkge1xuICAgICAgICBpbm5lck5vZGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIF9yY0FuaW1hdGUyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbkxlYXZlOiB0aGlzLm9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUsXG4gICAgICAgICAgICBjb21wb25lbnQ6ICd1bCcsXG4gICAgICAgICAgICB0cmFuc2l0aW9uTmFtZTogY2hvaWNlVHJhbnNpdGlvbk5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndWwnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG4gICAgICB0aGlzLmdldFBsYWNlaG9sZGVyRWxlbWVudCgpLFxuICAgICAgaW5uZXJOb2RlXG4gICAgKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9yb290Q2xzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgbXVsdGlwbGUgPSAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgYWxsb3dDbGVhciA9IHByb3BzLmFsbG93Q2xlYXIsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblxuICAgIHZhciBjdHJsTm9kZSA9IHRoaXMucmVuZGVyVG9wQ29udHJvbE5vZGUoKTtcbiAgICB2YXIgZXh0cmFTZWxlY3Rpb25Qcm9wcyA9IHt9O1xuICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuICAgIGlmICghKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KShwcm9wcykpIHtcbiAgICAgIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7XG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICAgIHRhYkluZGV4OiAwXG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcm9vdENscyA9IChfcm9vdENscyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1vcGVuJywgb3BlbiksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZm9jdXNlZCcsIG9wZW4gfHwgISF0aGlzLl9mb2N1c2VkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1jb21ib2JveCcsICgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWVuYWJsZWQnLCAhZGlzYWJsZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWFsbG93LWNsZWFyJywgISFwcm9wcy5hbGxvd0NsZWFyKSwgX3Jvb3RDbHMpO1xuICAgIHZhciBjbGVhclN0eWxlID0gKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUsIHtcbiAgICAgIGRpc3BsYXk6ICdub25lJ1xuICAgIH0pO1xuICAgIGlmIChzdGF0ZS5pbnB1dFZhbHVlIHx8IHN0YXRlLnZhbHVlLmxlbmd0aCkge1xuICAgICAgY2xlYXJTdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gICAgdmFyIGNsZWFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICBrZXk6ICdjbGVhcicsXG4gICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcbiAgICAgIHN0eWxlOiBjbGVhclN0eWxlXG4gICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2xlYXInLFxuICAgICAgb25DbGljazogdGhpcy5vbkNsZWFyU2VsZWN0aW9uXG4gICAgfSkpO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgX1NlbGVjdFRyaWdnZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgIHtcbiAgICAgICAgb25Qb3B1cEZvY3VzOiB0aGlzLm9uUG9wdXBGb2N1cyxcbiAgICAgICAgZHJvcGRvd25BbGlnbjogcHJvcHMuZHJvcGRvd25BbGlnbixcbiAgICAgICAgZHJvcGRvd25DbGFzc05hbWU6IHByb3BzLmRyb3Bkb3duQ2xhc3NOYW1lLFxuICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IHByb3BzLmRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCxcbiAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uOiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG4gICAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiBwcm9wcy5kcm9wZG93bk1lbnVTdHlsZSxcbiAgICAgICAgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBhbmltYXRpb246IHByb3BzLmFuaW1hdGlvbixcbiAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGRyb3Bkb3duU3R5bGU6IHByb3BzLmRyb3Bkb3duU3R5bGUsXG4gICAgICAgIGNvbWJvYm94OiBwcm9wcy5jb21ib2JveCxcbiAgICAgICAgc2hvd1NlYXJjaDogcHJvcHMuc2hvd1NlYXJjaCxcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgIHZpc2libGU6IG9wZW4sXG4gICAgICAgIGlucHV0VmFsdWU6IHN0YXRlLmlucHV0VmFsdWUsXG4gICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZSxcbiAgICAgICAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U6IHRoaXMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG4gICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBwcm9wcy5nZXRQb3B1cENvbnRhaW5lcixcbiAgICAgICAgb25NZW51U2VsZWN0OiB0aGlzLm9uTWVudVNlbGVjdCxcbiAgICAgICAgb25NZW51RGVzZWxlY3Q6IHRoaXMub25NZW51RGVzZWxlY3QsXG4gICAgICAgIHJlZjogJ3RyaWdnZXInXG4gICAgICB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICAgICAgcmVmOiAncm9vdCcsXG4gICAgICAgICAgb25CbHVyOiB0aGlzLm9uT3V0ZXJCbHVyLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMub25PdXRlckZvY3VzLFxuICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKHJvb3RDbHMpXG4gICAgICAgIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgIHJlZjogJ3NlbGVjdGlvbicsXG4gICAgICAgICAgICBrZXk6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvblxcbiAgICAgICAgICAgICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi0tJyArIChtdWx0aXBsZSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJyksXG4gICAgICAgICAgICByb2xlOiAnY29tYm9ib3gnLFxuICAgICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAgICAgJ2FyaWEtaGFzcG9wdXAnOiAndHJ1ZScsXG4gICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IG9wZW5cbiAgICAgICAgICB9LCBleHRyYVNlbGVjdGlvblByb3BzKSxcbiAgICAgICAgICBjdHJsTm9kZSxcbiAgICAgICAgICBhbGxvd0NsZWFyICYmICFtdWx0aXBsZSA/IGNsZWFyIDogbnVsbCxcbiAgICAgICAgICBtdWx0aXBsZSB8fCAhcHJvcHMuc2hvd0Fycm93ID8gbnVsbCA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgICBrZXk6ICdhcnJvdycsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1hcnJvdycsXG4gICAgICAgICAgICAgIHN0eWxlOiBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEVcbiAgICAgICAgICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkFycm93Q2xpY2tcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYicsIG51bGwpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9TZWxlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnKTtcblxudmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yY1RyaWdnZXIgPSByZXF1aXJlKCdyYy10cmlnZ2VyJyk7XG5cbnZhciBfcmNUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVHJpZ2dlcik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfRHJvcGRvd25NZW51ID0gcmVxdWlyZSgnLi9Ecm9wZG93bk1lbnUnKTtcblxudmFyIF9Ecm9wZG93bk1lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJvcGRvd25NZW51KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQlVJTFRfSU5fUExBQ0VNRU5UUyA9IHtcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG9mZnNldDogWzAsIDRdLFxuICAgIG92ZXJmbG93OiB7XG4gICAgICBhZGp1c3RYOiAwLFxuICAgICAgYWRqdXN0WTogMVxuICAgIH1cbiAgfSxcbiAgdG9wTGVmdDoge1xuICAgIHBvaW50czogWydibCcsICd0bCddLFxuICAgIG9mZnNldDogWzAsIC00XSxcbiAgICBvdmVyZmxvdzoge1xuICAgICAgYWRqdXN0WDogMCxcbiAgICAgIGFkanVzdFk6IDFcbiAgICB9XG4gIH1cbn07XG5cbnZhciBTZWxlY3RUcmlnZ2VyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1NlbGVjdFRyaWdnZXInLFxuXG4gIHByb3BUeXBlczoge1xuICAgIG9uUG9wdXBGb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRyb3Bkb3duQWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkaXNhYmxlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkcm9wZG93bkNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBpbnB1dFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBmaWx0ZXJPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIG9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgcG9wdXBDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueVxuICB9LFxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICB2aXNpYmxlID0gX3Byb3BzLnZpc2libGUsXG4gICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCA9IF9wcm9wcy5kcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg7XG5cbiAgICBpZiAodmlzaWJsZSkge1xuICAgICAgdmFyIGRyb3Bkb3duRE9NTm9kZSA9IHRoaXMuZ2V0UG9wdXBET01Ob2RlKCk7XG4gICAgICBpZiAoZHJvcGRvd25ET01Ob2RlKSB7XG4gICAgICAgIHZhciB3aWR0aFByb3AgPSBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPyAnd2lkdGgnIDogJ21pbldpZHRoJztcbiAgICAgICAgZHJvcGRvd25ET01Ob2RlLnN0eWxlW3dpZHRoUHJvcF0gPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKS5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRJbm5lck1lbnU6IGZ1bmN0aW9uIGdldElubmVyTWVudSgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3B1cE1lbnUgJiYgdGhpcy5wb3B1cE1lbnUucmVmcy5tZW51O1xuICB9LFxuICBnZXRQb3B1cERPTU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRE9NTm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBEb21Ob2RlKCk7XG4gIH0sXG4gIGdldERyb3Bkb3duRWxlbWVudDogZnVuY3Rpb24gZ2V0RHJvcGRvd25FbGVtZW50KG5ld1Byb3BzKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRHJvcGRvd25NZW51MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICByZWY6IHRoaXMuc2F2ZU1lbnVcbiAgICB9LCBuZXdQcm9wcywge1xuICAgICAgcHJlZml4Q2xzOiB0aGlzLmdldERyb3Bkb3duUHJlZml4Q2xzKCksXG4gICAgICBvbk1lbnVTZWxlY3Q6IHByb3BzLm9uTWVudVNlbGVjdCxcbiAgICAgIG9uTWVudURlc2VsZWN0OiBwcm9wcy5vbk1lbnVEZXNlbGVjdCxcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSxcbiAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHByb3BzLmRyb3Bkb3duTWVudVN0eWxlXG4gICAgfSkpO1xuICB9LFxuICBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lOiBmdW5jdGlvbiBnZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWU7XG4gICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBwcm9wcy5hbmltYXRpb24pIHtcbiAgICAgIHRyYW5zaXRpb25OYW1lID0gdGhpcy5nZXREcm9wZG93blByZWZpeENscygpICsgJy0nICsgcHJvcHMuYW5pbWF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNpdGlvbk5hbWU7XG4gIH0sXG4gIGdldERyb3Bkb3duUHJlZml4Q2xzOiBmdW5jdGlvbiBnZXREcm9wZG93blByZWZpeENscygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWRyb3Bkb3duJztcbiAgfSxcbiAgc2F2ZU1lbnU6IGZ1bmN0aW9uIHNhdmVNZW51KG1lbnUpIHtcbiAgICB0aGlzLnBvcHVwTWVudSA9IG1lbnU7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcG9wdXBDbGFzc05hbWU7XG5cbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIG9uUG9wdXBGb2N1cyA9IF9wcm9wczIub25Qb3B1cEZvY3VzLFxuICAgICAgICBwcm9wcyA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzW1wiZGVmYXVsdFwiXSkoX3Byb3BzMiwgWydvblBvcHVwRm9jdXMnXSk7XG4gICAgdmFyIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG4gICAgICAgIHZpc2libGUgPSBwcm9wcy52aXNpYmxlLFxuICAgICAgICBpbnB1dFZhbHVlID0gcHJvcHMuaW5wdXRWYWx1ZSxcbiAgICAgICAgZHJvcGRvd25BbGlnbiA9IHByb3BzLmRyb3Bkb3duQWxpZ24sXG4gICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHNob3dTZWFyY2ggPSBwcm9wcy5zaG93U2VhcmNoLFxuICAgICAgICBkcm9wZG93bkNsYXNzTmFtZSA9IHByb3BzLmRyb3Bkb3duQ2xhc3NOYW1lO1xuXG4gICAgdmFyIGRyb3Bkb3duUHJlZml4Q2xzID0gdGhpcy5nZXREcm9wZG93blByZWZpeENscygpO1xuICAgIHZhciBwb3B1cENsYXNzTmFtZSA9IChfcG9wdXBDbGFzc05hbWUgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcG9wdXBDbGFzc05hbWUsIGRyb3Bkb3duQ2xhc3NOYW1lLCAhIWRyb3Bkb3duQ2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcG9wdXBDbGFzc05hbWUsIGRyb3Bkb3duUHJlZml4Q2xzICsgJy0tJyArIChtdWx0aXBsZSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJyksIDEpLCBfcG9wdXBDbGFzc05hbWUpO1xuICAgIHZhciBwb3B1cEVsZW1lbnQgPSB0aGlzLmdldERyb3Bkb3duRWxlbWVudCh7XG4gICAgICBtZW51SXRlbXM6IHByb3BzLm9wdGlvbnMsXG4gICAgICBvblBvcHVwRm9jdXM6IG9uUG9wdXBGb2N1cyxcbiAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgIGlucHV0VmFsdWU6IGlucHV0VmFsdWUsXG4gICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgfSk7XG4gICAgdmFyIGhpZGVBY3Rpb24gPSB2b2lkIDA7XG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICBoaWRlQWN0aW9uID0gW107XG4gICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgIXNob3dTZWFyY2gpIHtcbiAgICAgIGhpZGVBY3Rpb24gPSBbJ2NsaWNrJ107XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVBY3Rpb24gPSBbJ2JsdXInXTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBfcmNUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG4gICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG4gICAgICAgIHNob3dBY3Rpb246IGRpc2FibGVkID8gW10gOiBbJ2NsaWNrJ10sXG4gICAgICAgIGhpZGVBY3Rpb246IGhpZGVBY3Rpb24sXG4gICAgICAgIHJlZjogJ3RyaWdnZXInLFxuICAgICAgICBwb3B1cFBsYWNlbWVudDogJ2JvdHRvbUxlZnQnLFxuICAgICAgICBidWlsdGluUGxhY2VtZW50czogQlVJTFRfSU5fUExBQ0VNRU5UUyxcbiAgICAgICAgcHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyxcbiAgICAgICAgcG9wdXBUcmFuc2l0aW9uTmFtZTogdGhpcy5nZXREcm9wZG93blRyYW5zaXRpb25OYW1lKCksXG4gICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiBwcm9wcy5vbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgcG9wdXA6IHBvcHVwRWxlbWVudCxcbiAgICAgICAgcG9wdXBBbGlnbjogZHJvcGRvd25BbGlnbixcbiAgICAgICAgcG9wdXBWaXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICAgIHBvcHVwQ2xhc3NOYW1lOiAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocG9wdXBDbGFzc05hbWUpLFxuICAgICAgICBwb3B1cFN0eWxlOiBwcm9wcy5kcm9wZG93blN0eWxlXG4gICAgICB9KSxcbiAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0VHJpZ2dlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0VHJpZ2dlci5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuT3B0R3JvdXAgPSBleHBvcnRzLk9wdGlvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9TZWxlY3QgPSByZXF1aXJlKCcuL1NlbGVjdCcpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG52YXIgX09wdGlvbiA9IHJlcXVpcmUoJy4vT3B0aW9uJyk7XG5cbnZhciBfT3B0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdGlvbik7XG5cbnZhciBfT3B0R3JvdXAgPSByZXF1aXJlKCcuL09wdEdyb3VwJyk7XG5cbnZhciBfT3B0R3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3B0R3JvdXApO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX1NlbGVjdDJbXCJkZWZhdWx0XCJdLk9wdGlvbiA9IF9PcHRpb24yW1wiZGVmYXVsdFwiXTtcbl9TZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRHcm91cCA9IF9PcHRHcm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5leHBvcnRzLk9wdEdyb3VwID0gX09wdEdyb3VwMltcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9TZWxlY3QyW1wiZGVmYXVsdFwiXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBDb2x1bW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ29sdW1uLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2x1bW4oKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBDb2x1bW47XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Db2x1bW4ucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBjb2xTcGFuOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcbiAgZGF0YUluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgd2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcbiAgZml4ZWQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoW3RydWUsICdsZWZ0JywgJ3JpZ2h0J10pLFxuICByZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25DZWxsQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL0NvbHVtbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQ29sdW1uR3JvdXAsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbHVtbkdyb3VwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW5Hcm91cCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBDb2x1bW5Hcm91cDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkNvbHVtbkdyb3VwLnByb3BUeXBlcyA9IHtcbiAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxufTtcbkNvbHVtbkdyb3VwLmlzVGFibGVDb2x1bW5Hcm91cCA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbkdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL0NvbHVtbkdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gMTM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIENvbHVtbk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbHVtbk1hbmFnZXIoY29sdW1ucywgZWxlbWVudHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uTWFuYWdlcik7XG5cbiAgICB0aGlzLl9jYWNoZWQgPSB7fTtcblxuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgfHwgdGhpcy5ub3JtYWxpemUoZWxlbWVudHMpO1xuICB9XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zRml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNGaXhlZCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNGaXhlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpcy5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gISFjb2x1bW4uZml4ZWQ7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNMZWZ0Rml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNMZWZ0Rml4ZWQoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc0xlZnRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczIuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNSaWdodEZpeGVkKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNSaWdodEZpeGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzMy5jb2x1bW5zLnNvbWUoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAncmlnaHQnO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdENvbHVtbnMgPSBmdW5jdGlvbiBsZWZ0Q29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVmdENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM0Lmdyb3VwZWRDb2x1bW5zKCkuZmlsdGVyKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJpZ2h0Q29sdW1ucyA9IGZ1bmN0aW9uIHJpZ2h0Q29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgncmlnaHRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzNS5ncm91cGVkQ29sdW1ucygpLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdyaWdodCc7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIGxlYWZDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczYuX2xlYWZDb2x1bW5zKF90aGlzNi5jb2x1bW5zKTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWZ0TGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWZ0TGVhZkNvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlZnRMZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczcuX2xlYWZDb2x1bW5zKF90aGlzNy5sZWZ0Q29sdW1ucygpKTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodExlYWZDb2x1bW5zID0gZnVuY3Rpb24gcmlnaHRMZWFmQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgncmlnaHRMZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczguX2xlYWZDb2x1bW5zKF90aGlzOC5yaWdodENvbHVtbnMoKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gYWRkIGFwcHJvcHJpYXRlIHJvd3NwYW4gYW5kIGNvbHNwYW4gdG8gY29sdW1uXG5cblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5ncm91cGVkQ29sdW1ucyA9IGZ1bmN0aW9uIGdyb3VwZWRDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdncm91cGVkQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ3JvdXBDb2x1bW5zID0gZnVuY3Rpb24gX2dyb3VwQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHZhciBjdXJyZW50Um93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgICAgICB2YXIgcGFyZW50Q29sdW1uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgICAgdmFyIHJvd3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IFtdO1xuXG4gICAgICAgIC8vIHRyYWNrIGhvdyBtYW55IHJvd3Mgd2UgZ290XG4gICAgICAgIHJvd3NbY3VycmVudFJvd10gPSByb3dzW2N1cnJlbnRSb3ddIHx8IFtdO1xuICAgICAgICB2YXIgZ3JvdXBlZCA9IFtdO1xuICAgICAgICB2YXIgc2V0Um93U3BhbiA9IGZ1bmN0aW9uIHNldFJvd1NwYW4oY29sdW1uKSB7XG4gICAgICAgICAgdmFyIHJvd1NwYW4gPSByb3dzLmxlbmd0aCAtIGN1cnJlbnRSb3c7XG4gICAgICAgICAgaWYgKGNvbHVtbiAmJiAhY29sdW1uLmNoaWxkcmVuICYmIC8vIHBhcmVudCBjb2x1bW5zIGFyZSBzdXBwb3NlZCB0byBiZSBvbmUgcm93XG4gICAgICAgICAgcm93U3BhbiA+IDEgJiYgKCFjb2x1bW4ucm93U3BhbiB8fCBjb2x1bW4ucm93U3BhbiA8IHJvd1NwYW4pKSB7XG4gICAgICAgICAgICBjb2x1bW4ucm93U3BhbiA9IHJvd1NwYW47XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHtcbiAgICAgICAgICB2YXIgbmV3Q29sdW1uID0gX2V4dGVuZHMoe30sIGNvbHVtbik7XG4gICAgICAgICAgcm93c1tjdXJyZW50Um93XS5wdXNoKG5ld0NvbHVtbik7XG4gICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4gPSBwYXJlbnRDb2x1bW4uY29sU3BhbiB8fCAwO1xuICAgICAgICAgIGlmIChuZXdDb2x1bW4uY2hpbGRyZW4gJiYgbmV3Q29sdW1uLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG5ld0NvbHVtbi5jaGlsZHJlbiA9IF9ncm91cENvbHVtbnMobmV3Q29sdW1uLmNoaWxkcmVuLCBjdXJyZW50Um93ICsgMSwgbmV3Q29sdW1uLCByb3dzKTtcbiAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gKyBuZXdDb2x1bW4uY29sU3BhbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4rKztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gdXBkYXRlIHJvd3NwYW4gdG8gYWxsIHNhbWUgcm93IGNvbHVtbnNcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3NbY3VycmVudFJvd10ubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICBzZXRSb3dTcGFuKHJvd3NbY3VycmVudFJvd11baV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBsYXN0IGNvbHVtbiwgdXBkYXRlIHJvd3NwYW4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBjb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0Um93U3BhbihuZXdDb2x1bW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBncm91cGVkLnB1c2gobmV3Q29sdW1uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBncm91cGVkO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBfZ3JvdXBDb2x1bW5zKF90aGlzOS5jb2x1bW5zKTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoZWxlbWVudHMpIHtcbiAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cbiAgICB2YXIgY29sdW1ucyA9IFtdO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjb2x1bW4gPSBfZXh0ZW5kcyh7fSwgZWxlbWVudC5wcm9wcyk7XG4gICAgICBpZiAoZWxlbWVudC5rZXkpIHtcbiAgICAgICAgY29sdW1uLmtleSA9IGVsZW1lbnQua2V5O1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQudHlwZS5pc1RhYmxlQ29sdW1uR3JvdXApIHtcbiAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gX3RoaXMxMC5ub3JtYWxpemUoY29sdW1uLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2x1bW5zO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoY29sdW1ucywgZWxlbWVudHMpIHtcbiAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMubm9ybWFsaXplKGVsZW1lbnRzKTtcbiAgICB0aGlzLl9jYWNoZWQgPSB7fTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5fY2FjaGUgPSBmdW5jdGlvbiBfY2FjaGUobmFtZSwgZm4pIHtcbiAgICBpZiAobmFtZSBpbiB0aGlzLl9jYWNoZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG4gICAgfVxuICAgIHRoaXMuX2NhY2hlZFtuYW1lXSA9IGZuKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZFtuYW1lXTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5fbGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBfbGVhZkNvbHVtbnMoY29sdW1ucykge1xuICAgIHZhciBfdGhpczExID0gdGhpcztcblxuICAgIHZhciBsZWFmQ29sdW1ucyA9IFtdO1xuICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICBpZiAoIWNvbHVtbi5jaGlsZHJlbikge1xuICAgICAgICBsZWFmQ29sdW1ucy5wdXNoKGNvbHVtbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWFmQ29sdW1ucy5wdXNoLmFwcGx5KGxlYWZDb2x1bW5zLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMxMS5fbGVhZkNvbHVtbnMoY29sdW1uLmNoaWxkcmVuKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBsZWFmQ29sdW1ucztcbiAgfTtcblxuICByZXR1cm4gQ29sdW1uTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5NYW5hZ2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL0NvbHVtbk1hbmFnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9zaGFsbG93ZXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgRXhwYW5kSWNvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhFeHBhbmRJY29uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBFeHBhbmRJY29uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeHBhbmRJY29uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgRXhwYW5kSWNvbi5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgIHJldHVybiAhKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFByb3BzLCB0aGlzLnByb3BzKTtcbiAgfTtcblxuICBFeHBhbmRJY29uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGV4cGFuZGFibGUgPSBfcHJvcHMuZXhwYW5kYWJsZSxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgb25FeHBhbmQgPSBfcHJvcHMub25FeHBhbmQsXG4gICAgICAgIG5lZWRJbmRlbnRTcGFjZWQgPSBfcHJvcHMubmVlZEluZGVudFNwYWNlZCxcbiAgICAgICAgZXhwYW5kZWQgPSBfcHJvcHMuZXhwYW5kZWQsXG4gICAgICAgIHJlY29yZCA9IF9wcm9wcy5yZWNvcmQ7XG5cbiAgICBpZiAoZXhwYW5kYWJsZSkge1xuICAgICAgdmFyIGV4cGFuZENsYXNzTmFtZSA9IGV4cGFuZGVkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnO1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbiAnICsgcHJlZml4Q2xzICsgJy0nICsgZXhwYW5kQ2xhc3NOYW1lLFxuICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICByZXR1cm4gb25FeHBhbmQoIWV4cGFuZGVkLCByZWNvcmQsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG5lZWRJbmRlbnRTcGFjZWQpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24gJyArIHByZWZpeENscyArICctc3BhY2VkJyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIEV4cGFuZEljb247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbkV4cGFuZEljb24ucHJvcFR5cGVzID0ge1xuICByZWNvcmQ6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBleHBhbmRhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgZXhwYW5kZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgbmVlZEluZGVudFNwYWNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFeHBhbmRJY29uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL0V4cGFuZEljb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9UYWJsZVJvdyA9IHJlcXVpcmUoJy4vVGFibGVSb3cnKTtcblxudmFyIF9UYWJsZVJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZVJvdyk7XG5cbnZhciBfVGFibGVIZWFkZXIgPSByZXF1aXJlKCcuL1RhYmxlSGVhZGVyJyk7XG5cbnZhciBfVGFibGVIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVIZWFkZXIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgX3NoYWxsb3dlcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xuXG52YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXG52YXIgX2FkZEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9Eb20vYWRkRXZlbnRMaXN0ZW5lcicpO1xuXG52YXIgX2FkZEV2ZW50TGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYWRkRXZlbnRMaXN0ZW5lcik7XG5cbnZhciBfQ29sdW1uTWFuYWdlciA9IHJlcXVpcmUoJy4vQ29sdW1uTWFuYWdlcicpO1xuXG52YXIgX0NvbHVtbk1hbmFnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uTWFuYWdlcik7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbXBvbmVudENsYXNzZXMgPSByZXF1aXJlKCdjb21wb25lbnQtY2xhc3NlcycpO1xuXG52YXIgX2NvbXBvbmVudENsYXNzZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50Q2xhc3Nlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5vbkV4cGFuZGVkID0gZnVuY3Rpb24gKGV4cGFuZGVkLCByZWNvcmQsIGUsIGluZGV4KSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICB2YXIgaW5mbyA9IF90aGlzLmZpbmRFeHBhbmRlZFJvdyhyZWNvcmQpO1xuICAgICAgaWYgKHR5cGVvZiBpbmZvICE9PSAndW5kZWZpbmVkJyAmJiAhZXhwYW5kZWQpIHtcbiAgICAgICAgX3RoaXMub25Sb3dEZXN0cm95KHJlY29yZCwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICghaW5mbyAmJiBleHBhbmRlZCkge1xuICAgICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG4gICAgICAgIGV4cGFuZGVkUm93cy5wdXNoKF90aGlzLmdldFJvd0tleShyZWNvcmQsIGluZGV4KSk7XG4gICAgICAgIF90aGlzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93cyk7XG4gICAgICB9XG4gICAgICBfdGhpcy5wcm9wcy5vbkV4cGFuZChleHBhbmRlZCwgcmVjb3JkKTtcbiAgICB9O1xuXG4gICAgX3RoaXMub25Sb3dEZXN0cm95ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgpIHtcbiAgICAgIHZhciBleHBhbmRlZFJvd3MgPSBfdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5jb25jYXQoKTtcbiAgICAgIHZhciByb3dLZXkgPSBfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCByb3dJbmRleCk7XG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGV4cGFuZGVkUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyLCBpKSB7XG4gICAgICAgIGlmIChyID09PSByb3dLZXkpIHtcbiAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBleHBhbmRlZFJvd3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93cyk7XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnN5bmNGaXhlZFRhYmxlUm93SGVpZ2h0KCk7XG4gICAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0YWJsZVJlY3QgPSBfdGhpcy50YWJsZU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAvLyBJZiB0YWJsZU5vZGUncyBoZWlnaHQgbGVzcyB0aGFuIDAsIHN1cHBvc2UgaXQgaXMgaGlkZGVuIGFuZCBkb24ndCByZWNhbGN1bGF0ZSByb3dIZWlnaHQuXG4gICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzQ4MzZcbiAgICAgIGlmICh0YWJsZVJlY3QuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgdGFibGVSZWN0LmhlaWdodCA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBwcmVmaXhDbHMgPSBfdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICAgIHZhciBoZWFkUm93cyA9IF90aGlzLnJlZnMuaGVhZFRhYmxlID8gX3RoaXMucmVmcy5oZWFkVGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQnKSA6IF90aGlzLnJlZnMuYm9keVRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJyk7XG4gICAgICB2YXIgYm9keVJvd3MgPSBfdGhpcy5yZWZzLmJvZHlUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHByZWZpeENscyArICctcm93JykgfHwgW107XG4gICAgICB2YXIgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChoZWFkUm93cywgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG4gICAgICB9KTtcbiAgICAgIHZhciBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCA9IFtdLm1hcC5jYWxsKGJvZHlSb3dzLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHJldHVybiByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8ICdhdXRvJztcbiAgICAgIH0pO1xuICAgICAgaWYgKCgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCkgJiYgKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUuZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQsIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCxcbiAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ6IGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5zY3JvbGxUYXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkge1xuICAgICAgICBfdGhpcy5zY3JvbGxUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmhhbmRsZUJvZHlTY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gUHJldmVudCBzY3JvbGxUb3Agc2V0dGVyIHRyaWdnZXIgb25TY3JvbGwgZXZlbnRcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzEzODY2OTZcbiAgICAgIGlmIChlLnRhcmdldCAhPT0gX3RoaXMuc2Nyb2xsVGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBfdGhpcyRwcm9wcyRzY3JvbGwgPSBfdGhpcy5wcm9wcy5zY3JvbGwsXG4gICAgICAgICAgc2Nyb2xsID0gX3RoaXMkcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF90aGlzJHByb3BzJHNjcm9sbDtcbiAgICAgIHZhciBfdGhpcyRyZWZzID0gX3RoaXMucmVmcyxcbiAgICAgICAgICBoZWFkVGFibGUgPSBfdGhpcyRyZWZzLmhlYWRUYWJsZSxcbiAgICAgICAgICBib2R5VGFibGUgPSBfdGhpcyRyZWZzLmJvZHlUYWJsZSxcbiAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5TGVmdCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keUxlZnQsXG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJpZ2h0ID0gX3RoaXMkcmVmcy5maXhlZENvbHVtbnNCb2R5UmlnaHQ7XG5cbiAgICAgIGlmIChzY3JvbGwueCAmJiBlLnRhcmdldC5zY3JvbGxMZWZ0ICE9PSBfdGhpcy5sYXN0U2Nyb2xsTGVmdCkge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGJvZHlUYWJsZSAmJiBoZWFkVGFibGUpIHtcbiAgICAgICAgICBoZWFkVGFibGUuc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQgPT09IGhlYWRUYWJsZSAmJiBib2R5VGFibGUpIHtcbiAgICAgICAgICBib2R5VGFibGUuc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUoZS50YXJnZXQpO1xuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbC55KSB7XG4gICAgICAgIGlmIChmaXhlZENvbHVtbnNCb2R5TGVmdCAmJiBlLnRhcmdldCAhPT0gZml4ZWRDb2x1bW5zQm9keUxlZnQpIHtcbiAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5TGVmdC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpeGVkQ29sdW1uc0JvZHlSaWdodCAmJiBlLnRhcmdldCAhPT0gZml4ZWRDb2x1bW5zQm9keVJpZ2h0KSB7XG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJpZ2h0LnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVRhYmxlICYmIGUudGFyZ2V0ICE9PSBib2R5VGFibGUpIHtcbiAgICAgICAgICBib2R5VGFibGUuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBSZW1lbWJlciBsYXN0IHNjcm9sbExlZnQgZm9yIHNjcm9sbCBkaXJlY3Rpb24gZGV0ZWN0aW5nLlxuICAgICAgX3RoaXMubGFzdFNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVSb3dIb3ZlciA9IGZ1bmN0aW9uIChpc0hvdmVyLCBrZXkpIHtcbiAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudEhvdmVyS2V5OiBpc0hvdmVyID8ga2V5IDogbnVsbFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBleHBhbmRlZFJvd0tleXMgPSBbXTtcbiAgICB2YXIgcm93cyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMuZGF0YSkpO1xuICAgIF90aGlzLmNvbHVtbk1hbmFnZXIgPSBuZXcgX0NvbHVtbk1hbmFnZXIyW1wiZGVmYXVsdFwiXShwcm9wcy5jb2x1bW5zLCBwcm9wcy5jaGlsZHJlbik7XG4gICAgX3RoaXMuc3RvcmUgPSAoMCwgX2NyZWF0ZVN0b3JlMltcImRlZmF1bHRcIl0pKHsgY3VycmVudEhvdmVyS2V5OiBudWxsIH0pO1xuICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdsZWZ0Jyk7XG5cbiAgICBpZiAocHJvcHMuZGVmYXVsdEV4cGFuZEFsbFJvd3MpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcm93ID0gcm93c1tpXTtcbiAgICAgICAgZXhwYW5kZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0Um93S2V5KHJvdywgaSkpO1xuICAgICAgICByb3dzID0gcm93cy5jb25jYXQocm93W3Byb3BzLmNoaWxkcmVuQ29sdW1uTmFtZV0gfHwgW10pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBleHBhbmRlZFJvd0tleXMgPSBwcm9wcy5leHBhbmRlZFJvd0tleXMgfHwgcHJvcHMuZGVmYXVsdEV4cGFuZGVkUm93S2V5cztcbiAgICB9XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBleHBhbmRlZFJvd0tleXM6IGV4cGFuZGVkUm93S2V5cyxcbiAgICAgIGN1cnJlbnRIb3ZlcktleTogbnVsbCxcbiAgICAgIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0OiBbXSxcbiAgICAgIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0OiBbXVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG4gICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuICAgICAgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUgPSAoMCwgX3V0aWxzLmRlYm91bmNlKSh0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSwgMTUwKTtcbiAgICAgIHRoaXMucmVzaXplRXZlbnQgPSAoMCwgX2FkZEV2ZW50TGlzdGVuZXIyW1wiZGVmYXVsdFwiXSkod2luZG93LCAncmVzaXplJywgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCdleHBhbmRlZFJvd0tleXMnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGV4cGFuZGVkUm93S2V5czogbmV4dFByb3BzLmV4cGFuZGVkUm93S2V5c1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChuZXh0UHJvcHMuY29sdW1ucyAmJiBuZXh0UHJvcHMuY29sdW1ucyAhPT0gdGhpcy5wcm9wcy5jb2x1bW5zKSB7XG4gICAgICB0aGlzLmNvbHVtbk1hbmFnZXIucmVzZXQobmV4dFByb3BzLmNvbHVtbnMpO1xuICAgIH0gZWxzZSBpZiAobmV4dFByb3BzLmNoaWxkcmVuICE9PSB0aGlzLnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmNvbHVtbk1hbmFnZXIucmVzZXQobnVsbCwgbmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcbiAgICAgIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKCk7XG4gICAgfVxuICAgIC8vIHdoZW4gdGFibGUgY2hhbmdlcyB0byBlbXB0eSwgcmVzZXQgc2Nyb2xsTGVmdFxuICAgIGlmIChwcmV2UHJvcHMuZGF0YS5sZW5ndGggPiAwICYmIHRoaXMucHJvcHMuZGF0YS5sZW5ndGggPT09IDAgJiYgdGhpcy5oYXNTY3JvbGxYKCkpIHtcbiAgICAgIHRoaXMucmVzZXRTY3JvbGxYKCk7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnJlc2l6ZUV2ZW50KSB7XG4gICAgICB0aGlzLnJlc2l6ZUV2ZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUpIHtcbiAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplLmNhbmNlbCgpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUub25FeHBhbmRlZFJvd3NDaGFuZ2UgPSBmdW5jdGlvbiBvbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd0tleXMpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZXhwYW5kZWRSb3dLZXlzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMgfSk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dLZXlzKTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93S2V5ID0gZnVuY3Rpb24gZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpIHtcbiAgICB2YXIgcm93S2V5ID0gdGhpcy5wcm9wcy5yb3dLZXk7XG4gICAgdmFyIGtleSA9IHR5cGVvZiByb3dLZXkgPT09ICdmdW5jdGlvbicgPyByb3dLZXkocmVjb3JkLCBpbmRleCkgOiByZWNvcmRbcm93S2V5XTtcbiAgICAoMCwgX3V0aWxzLndhcm5pbmdPbmNlKShrZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsJyArICdvciBzZXQgYHJvd0tleWAgdG8gYW4gdW5pcXVlIHByaW1hcnkga2V5LicpO1xuICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IGluZGV4IDoga2V5O1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRFeHBhbmRlZFJvd3MgPSBmdW5jdGlvbiBnZXRFeHBhbmRlZFJvd3MoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZXhwYW5kZWRSb3dLZXlzIHx8IHRoaXMuc3RhdGUuZXhwYW5kZWRSb3dLZXlzO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXIgPSBmdW5jdGlvbiBnZXRIZWFkZXIoY29sdW1ucywgZml4ZWQpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc2hvd0hlYWRlciA9IF9wcm9wcy5zaG93SGVhZGVyLFxuICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzLmV4cGFuZEljb25Bc0NlbGwsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgcm93cyA9IHRoaXMuZ2V0SGVhZGVyUm93cyhjb2x1bW5zKTtcblxuICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG4gICAgICByb3dzWzBdLnVuc2hpZnQoe1xuICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmRJY29uQXNDZWxsJyxcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLXRoJyxcbiAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICByb3dTcGFuOiByb3dzLmxlbmd0aFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHRyU3R5bGUgPSBmaXhlZCA/IHRoaXMuZ2V0SGVhZGVyUm93U3R5bGUoY29sdW1ucywgcm93cykgOiBudWxsO1xuXG4gICAgcmV0dXJuIHNob3dIZWFkZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZUhlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIHJvd3M6IHJvd3MsXG4gICAgICByb3dTdHlsZTogdHJTdHlsZVxuICAgIH0pIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93cyA9IGZ1bmN0aW9uIGdldEhlYWRlclJvd3MoY29sdW1ucykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIGN1cnJlbnRSb3cgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gICAgdmFyIHJvd3MgPSBhcmd1bWVudHNbMl07XG5cbiAgICByb3dzID0gcm93cyB8fCBbXTtcbiAgICByb3dzW2N1cnJlbnRSb3ddID0gcm93c1tjdXJyZW50Um93XSB8fCBbXTtcblxuICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICBpZiAoY29sdW1uLnJvd1NwYW4gJiYgcm93cy5sZW5ndGggPCBjb2x1bW4ucm93U3Bhbikge1xuICAgICAgICB3aGlsZSAocm93cy5sZW5ndGggPCBjb2x1bW4ucm93U3Bhbikge1xuICAgICAgICAgIHJvd3MucHVzaChbXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjZWxsID0ge1xuICAgICAgICBrZXk6IGNvbHVtbi5rZXksXG4gICAgICAgIGNsYXNzTmFtZTogY29sdW1uLmNsYXNzTmFtZSB8fCAnJyxcbiAgICAgICAgY2hpbGRyZW46IGNvbHVtbi50aXRsZVxuICAgICAgfTtcbiAgICAgIGlmIChjb2x1bW4uY2hpbGRyZW4pIHtcbiAgICAgICAgX3RoaXMyLmdldEhlYWRlclJvd3MoY29sdW1uLmNoaWxkcmVuLCBjdXJyZW50Um93ICsgMSwgcm93cyk7XG4gICAgICB9XG4gICAgICBpZiAoJ2NvbFNwYW4nIGluIGNvbHVtbikge1xuICAgICAgICBjZWxsLmNvbFNwYW4gPSBjb2x1bW4uY29sU3BhbjtcbiAgICAgIH1cbiAgICAgIGlmICgncm93U3BhbicgaW4gY29sdW1uKSB7XG4gICAgICAgIGNlbGwucm93U3BhbiA9IGNvbHVtbi5yb3dTcGFuO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGwuY29sU3BhbiAhPT0gMCkge1xuICAgICAgICByb3dzW2N1cnJlbnRSb3ddLnB1c2goY2VsbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHJldHVybiByb3cubGVuZ3RoID4gMDtcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0RXhwYW5kZWRSb3cgPSBmdW5jdGlvbiBnZXRFeHBhbmRlZFJvdyhrZXksIGNvbnRlbnQsIHZpc2libGUsIGNsYXNzTmFtZSwgZml4ZWQpIHtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzMi5leHBhbmRJY29uQXNDZWxsO1xuXG4gICAgdmFyIGNvbENvdW50ID0gdm9pZCAwO1xuICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG4gICAgICBjb2xDb3VudCA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKS5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBjb2x1bW5zID0gW3tcbiAgICAgIGtleTogJ2V4dHJhLXJvdycsXG4gICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgY29sU3BhbjogY29sQ291bnRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiBmaXhlZCAhPT0gJ3JpZ2h0JyA/IGNvbnRlbnQgOiAnJm5ic3A7J1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1dO1xuICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG4gICAgICBjb2x1bW5zLnVuc2hpZnQoe1xuICAgICAgICBrZXk6ICdleHBhbmQtaWNvbi1wbGFjZWhvbGRlcicsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlUm93MltcImRlZmF1bHRcIl0sIHtcbiAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICBrZXk6IGtleSArICctZXh0cmEtcm93JyxcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1leHBhbmRlZC1yb3cnLFxuICAgICAgaW5kZW50OiAxLFxuICAgICAgZXhwYW5kYWJsZTogZmFsc2UsXG4gICAgICBzdG9yZTogdGhpcy5zdG9yZVxuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dzQnlEYXRhID0gZnVuY3Rpb24gZ2V0Um93c0J5RGF0YShkYXRhLCB2aXNpYmxlLCBpbmRlbnQsIGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY2hpbGRyZW5Db2x1bW5OYW1lID0gcHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lO1xuICAgIHZhciBleHBhbmRlZFJvd1JlbmRlciA9IHByb3BzLmV4cGFuZGVkUm93UmVuZGVyO1xuICAgIHZhciBleHBhbmRSb3dCeUNsaWNrID0gcHJvcHMuZXhwYW5kUm93QnlDbGljaztcbiAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSB0aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0O1xuXG4gICAgdmFyIHJzdCA9IFtdO1xuICAgIHZhciByb3dDbGFzc05hbWUgPSBwcm9wcy5yb3dDbGFzc05hbWU7XG4gICAgdmFyIHJvd1JlZiA9IHByb3BzLnJvd1JlZjtcbiAgICB2YXIgZXhwYW5kZWRSb3dDbGFzc05hbWUgPSBwcm9wcy5leHBhbmRlZFJvd0NsYXNzTmFtZTtcbiAgICB2YXIgbmVlZEluZGVudFNwYWNlZCA9IHByb3BzLmRhdGEuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICByZXR1cm4gcmVjb3JkW2NoaWxkcmVuQ29sdW1uTmFtZV07XG4gICAgfSk7XG4gICAgdmFyIG9uUm93Q2xpY2sgPSBwcm9wcy5vblJvd0NsaWNrO1xuICAgIHZhciBvblJvd0RvdWJsZUNsaWNrID0gcHJvcHMub25Sb3dEb3VibGVDbGljaztcblxuICAgIHZhciBleHBhbmRJY29uQXNDZWxsID0gZml4ZWQgIT09ICdyaWdodCcgPyBwcm9wcy5leHBhbmRJY29uQXNDZWxsIDogZmFsc2U7XG4gICAgdmFyIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IGZpeGVkICE9PSAncmlnaHQnID8gcHJvcHMuZXhwYW5kSWNvbkNvbHVtbkluZGV4IDogLTE7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZWNvcmQgPSBkYXRhW2ldO1xuICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0Um93S2V5KHJlY29yZCwgaSk7XG4gICAgICB2YXIgY2hpbGRyZW5Db2x1bW4gPSByZWNvcmRbY2hpbGRyZW5Db2x1bW5OYW1lXTtcbiAgICAgIHZhciBpc1Jvd0V4cGFuZGVkID0gdGhpcy5pc1Jvd0V4cGFuZGVkKHJlY29yZCwgaSk7XG4gICAgICB2YXIgZXhwYW5kZWRSb3dDb250ZW50ID0gdm9pZCAwO1xuICAgICAgaWYgKGV4cGFuZGVkUm93UmVuZGVyICYmIGlzUm93RXhwYW5kZWQpIHtcbiAgICAgICAgZXhwYW5kZWRSb3dDb250ZW50ID0gZXhwYW5kZWRSb3dSZW5kZXIocmVjb3JkLCBpLCBpbmRlbnQpO1xuICAgICAgfVxuICAgICAgdmFyIGNsYXNzTmFtZSA9IHJvd0NsYXNzTmFtZShyZWNvcmQsIGksIGluZGVudCk7XG5cbiAgICAgIHZhciBvbkhvdmVyUHJvcHMgPSB7fTtcbiAgICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuICAgICAgICBvbkhvdmVyUHJvcHMub25Ib3ZlciA9IHRoaXMuaGFuZGxlUm93SG92ZXI7XG4gICAgICB9XG5cbiAgICAgIHZhciBoZWlnaHQgPSBmaXhlZCAmJiBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFtpXSA/IGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0W2ldIDogbnVsbDtcblxuICAgICAgdmFyIGxlYWZDb2x1bW5zID0gdm9pZCAwO1xuICAgICAgaWYgKGZpeGVkID09PSAnbGVmdCcpIHtcbiAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCk7XG4gICAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG4gICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCk7XG4gICAgICB9XG5cbiAgICAgIHJzdC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlUm93MltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHtcbiAgICAgICAgaW5kZW50OiBpbmRlbnQsXG4gICAgICAgIGluZGVudFNpemU6IHByb3BzLmluZGVudFNpemUsXG4gICAgICAgIG5lZWRJbmRlbnRTcGFjZWQ6IG5lZWRJbmRlbnRTcGFjZWQsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbDogZXhwYW5kSWNvbkFzQ2VsbCxcbiAgICAgICAgb25EZXN0cm95OiB0aGlzLm9uUm93RGVzdHJveSxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICAgIGV4cGFuZFJvd0J5Q2xpY2s6IGV4cGFuZFJvd0J5Q2xpY2ssXG4gICAgICAgIG9uRXhwYW5kOiB0aGlzLm9uRXhwYW5kZWQsXG4gICAgICAgIGV4cGFuZGFibGU6IGNoaWxkcmVuQ29sdW1uIHx8IGV4cGFuZGVkUm93UmVuZGVyLFxuICAgICAgICBleHBhbmRlZDogaXNSb3dFeHBhbmRlZCxcbiAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXJvdycsXG4gICAgICAgIGNoaWxkcmVuQ29sdW1uTmFtZTogY2hpbGRyZW5Db2x1bW5OYW1lLFxuICAgICAgICBjb2x1bW5zOiBsZWFmQ29sdW1ucyxcbiAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBleHBhbmRJY29uQ29sdW1uSW5kZXgsXG4gICAgICAgIG9uUm93Q2xpY2s6IG9uUm93Q2xpY2ssXG4gICAgICAgIG9uUm93RG91YmxlQ2xpY2s6IG9uUm93RG91YmxlQ2xpY2ssXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9LCBvbkhvdmVyUHJvcHMsIHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIGhvdmVyS2V5OiBrZXksXG4gICAgICAgIHJlZjogcm93UmVmKHJlY29yZCwgaSwgaW5kZW50KSxcbiAgICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcbiAgICAgIH0pKSk7XG5cbiAgICAgIHZhciBzdWJWaXNpYmxlID0gdmlzaWJsZSAmJiBpc1Jvd0V4cGFuZGVkO1xuXG4gICAgICBpZiAoZXhwYW5kZWRSb3dDb250ZW50ICYmIGlzUm93RXhwYW5kZWQpIHtcbiAgICAgICAgcnN0LnB1c2godGhpcy5nZXRFeHBhbmRlZFJvdyhrZXksIGV4cGFuZGVkUm93Q29udGVudCwgc3ViVmlzaWJsZSwgZXhwYW5kZWRSb3dDbGFzc05hbWUocmVjb3JkLCBpLCBpbmRlbnQpLCBmaXhlZCkpO1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkcmVuQ29sdW1uKSB7XG4gICAgICAgIHJzdCA9IHJzdC5jb25jYXQodGhpcy5nZXRSb3dzQnlEYXRhKGNoaWxkcmVuQ29sdW1uLCBzdWJWaXNpYmxlLCBpbmRlbnQgKyAxLCBjb2x1bW5zLCBmaXhlZCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnN0O1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRSb3dzID0gZnVuY3Rpb24gZ2V0Um93cyhjb2x1bW5zLCBmaXhlZCkge1xuICAgIHJldHVybiB0aGlzLmdldFJvd3NCeURhdGEodGhpcy5wcm9wcy5kYXRhLCB0cnVlLCAwLCBjb2x1bW5zLCBmaXhlZCk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldENvbEdyb3VwID0gZnVuY3Rpb24gZ2V0Q29sR3JvdXAoY29sdW1ucywgZml4ZWQpIHtcbiAgICB2YXIgY29scyA9IFtdO1xuICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcbiAgICAgIGNvbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdjb2wnLCB7XG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5wcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLWNvbCcsXG4gICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZC1pY29uLWNvbCdcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIGxlYWZDb2x1bW5zID0gdm9pZCAwO1xuICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG4gICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0TGVhZkNvbHVtbnMoKTtcbiAgICB9IGVsc2UgaWYgKGZpeGVkID09PSAncmlnaHQnKSB7XG4gICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCk7XG4gICAgfVxuICAgIGNvbHMgPSBjb2xzLmNvbmNhdChsZWFmQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdjb2wnLCB7IGtleTogYy5rZXksIHN0eWxlOiB7IHdpZHRoOiBjLndpZHRoLCBtaW5XaWR0aDogYy53aWR0aCB9IH0pO1xuICAgIH0pKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdjb2xncm91cCcsXG4gICAgICBudWxsLFxuICAgICAgY29sc1xuICAgICk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldExlZnRGaXhlZFRhYmxlID0gZnVuY3Rpb24gZ2V0TGVmdEZpeGVkVGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoe1xuICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRDb2x1bW5zKCksXG4gICAgICBmaXhlZDogJ2xlZnQnXG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFJpZ2h0Rml4ZWRUYWJsZSA9IGZ1bmN0aW9uIGdldFJpZ2h0Rml4ZWRUYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUYWJsZSh7XG4gICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRDb2x1bW5zKCksXG4gICAgICBmaXhlZDogJ3JpZ2h0J1xuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRUYWJsZSA9IGZ1bmN0aW9uIGdldFRhYmxlKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBjb2x1bW5zID0gb3B0aW9ucy5jb2x1bW5zLFxuICAgICAgICBmaXhlZCA9IG9wdGlvbnMuZml4ZWQ7XG4gICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcbiAgICAgICAgX3Byb3BzMyRzY3JvbGwgPSBfcHJvcHMzLnNjcm9sbCxcbiAgICAgICAgc2Nyb2xsID0gX3Byb3BzMyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzMyRzY3JvbGwsXG4gICAgICAgIGdldEJvZHlXcmFwcGVyID0gX3Byb3BzMy5nZXRCb2R5V3JhcHBlcjtcbiAgICB2YXIgdXNlRml4ZWRIZWFkZXIgPSB0aGlzLnByb3BzLnVzZUZpeGVkSGVhZGVyO1xuXG4gICAgdmFyIGJvZHlTdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLmJvZHlTdHlsZSk7XG4gICAgdmFyIGhlYWRTdHlsZSA9IHt9O1xuXG4gICAgdmFyIHRhYmxlQ2xhc3NOYW1lID0gJyc7XG4gICAgaWYgKHNjcm9sbC54IHx8IGZpeGVkKSB7XG4gICAgICB0YWJsZUNsYXNzTmFtZSA9IHByZWZpeENscyArICctZml4ZWQnO1xuICAgICAgYm9keVN0eWxlLm92ZXJmbG93WCA9IGJvZHlTdHlsZS5vdmVyZmxvd1ggfHwgJ2F1dG8nO1xuICAgIH1cblxuICAgIHZhciBpbm5lckJvZHlTdHlsZSA9IHt9O1xuICAgIGlmIChzY3JvbGwueSkge1xuICAgICAgLy8gbWF4SGVpZ2h0IHdpbGwgbWFrZSBmaXhlZC1UYWJsZSBzY3JvbGxpbmcgbm90IHdvcmtpbmdcbiAgICAgIC8vIHNvIHdlIG9ubHkgc2V0IG1heEhlaWdodCB0byBib2R5LVRhYmxlIGhlcmVcbiAgICAgIGlmIChmaXhlZCkge1xuICAgICAgICBpbm5lckJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuICAgICAgICBpbm5lckJvZHlTdHlsZS5vdmVyZmxvd1kgPSBib2R5U3R5bGUub3ZlcmZsb3dZIHx8ICdzY3JvbGwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keVN0eWxlLm1heEhlaWdodCA9IGJvZHlTdHlsZS5tYXhIZWlnaHQgfHwgc2Nyb2xsLnk7XG4gICAgICB9XG4gICAgICBib2R5U3R5bGUub3ZlcmZsb3dZID0gYm9keVN0eWxlLm92ZXJmbG93WSB8fCAnc2Nyb2xsJztcbiAgICAgIHVzZUZpeGVkSGVhZGVyID0gdHJ1ZTtcblxuICAgICAgLy8gQWRkIG5lZ2F0aXZlIG1hcmdpbiBib3R0b20gZm9yIHNjcm9sbCBiYXIgb3ZlcmZsb3cgYnVnXG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSAoMCwgX3V0aWxzLm1lYXN1cmVTY3JvbGxiYXIpKCk7XG4gICAgICBpZiAoc2Nyb2xsYmFyV2lkdGggPiAwKSB7XG4gICAgICAgIChmaXhlZCA/IGJvZHlTdHlsZSA6IGhlYWRTdHlsZSkubWFyZ2luQm90dG9tID0gJy0nICsgc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLnBhZGRpbmdCb3R0b20gPSAnMHB4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVuZGVyVGFibGUgPSBmdW5jdGlvbiByZW5kZXJUYWJsZSgpIHtcbiAgICAgIHZhciBoYXNIZWFkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuICAgICAgdmFyIGhhc0JvZHkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgIHZhciB0YWJsZVN0eWxlID0ge307XG4gICAgICBpZiAoIWZpeGVkICYmIHNjcm9sbC54KSB7XG4gICAgICAgIC8vIG5vdCBzZXQgd2lkdGgsIHRoZW4gdXNlIGNvbnRlbnQgZml4ZWQgd2lkdGhcbiAgICAgICAgaWYgKHNjcm9sbC54ID09PSB0cnVlKSB7XG4gICAgICAgICAgdGFibGVTdHlsZS50YWJsZUxheW91dCA9ICdmaXhlZCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFibGVTdHlsZS53aWR0aCA9IHNjcm9sbC54O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgdGFibGVCb2R5ID0gaGFzQm9keSA/IGdldEJvZHlXcmFwcGVyKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0Ym9keScsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuICAgICAgICBfdGhpczMuZ2V0Um93cyhjb2x1bW5zLCBmaXhlZClcbiAgICAgICkpIDogbnVsbDtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndGFibGUnLFxuICAgICAgICB7IGNsYXNzTmFtZTogdGFibGVDbGFzc05hbWUsIHN0eWxlOiB0YWJsZVN0eWxlLCBrZXk6ICd0YWJsZScgfSxcbiAgICAgICAgX3RoaXMzLmdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSxcbiAgICAgICAgaGFzSGVhZCA/IF90aGlzMy5nZXRIZWFkZXIoY29sdW1ucywgZml4ZWQpIDogbnVsbCxcbiAgICAgICAgdGFibGVCb2R5XG4gICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgaGVhZFRhYmxlID0gdm9pZCAwO1xuXG4gICAgaWYgKHVzZUZpeGVkSGVhZGVyKSB7XG4gICAgICBoZWFkVGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIGtleTogJ2hlYWRUYWJsZScsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicsXG4gICAgICAgICAgcmVmOiBmaXhlZCA/IG51bGwgOiAnaGVhZFRhYmxlJyxcbiAgICAgICAgICBzdHlsZTogaGVhZFN0eWxlLFxuICAgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcbiAgICAgICAgfSxcbiAgICAgICAgcmVuZGVyVGFibGUodHJ1ZSwgZmFsc2UpXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBib2R5VGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIGtleTogJ2JvZHlUYWJsZScsXG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5JyxcbiAgICAgICAgc3R5bGU6IGJvZHlTdHlsZSxcbiAgICAgICAgcmVmOiAnYm9keVRhYmxlJyxcbiAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG4gICAgICB9LFxuICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuICAgICk7XG5cbiAgICBpZiAoZml4ZWQgJiYgY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIHZhciByZWZOYW1lID0gdm9pZCAwO1xuICAgICAgaWYgKGNvbHVtbnNbMF0uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW5zWzBdLmZpeGVkID09PSB0cnVlKSB7XG4gICAgICAgIHJlZk5hbWUgPSAnZml4ZWRDb2x1bW5zQm9keUxlZnQnO1xuICAgICAgfSBlbHNlIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAncmlnaHQnKSB7XG4gICAgICAgIHJlZk5hbWUgPSAnZml4ZWRDb2x1bW5zQm9keVJpZ2h0JztcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dYO1xuICAgICAgZGVsZXRlIGJvZHlTdHlsZS5vdmVyZmxvd1k7XG4gICAgICBib2R5VGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIGtleTogJ2JvZHlUYWJsZScsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHktb3V0ZXInLFxuICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgYm9keVN0eWxlKVxuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LWlubmVyJyxcbiAgICAgICAgICAgIHN0eWxlOiBpbm5lckJvZHlTdHlsZSxcbiAgICAgICAgICAgIHJlZjogcmVmTmFtZSxcbiAgICAgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW5kZXJUYWJsZSghdXNlRml4ZWRIZWFkZXIpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBbaGVhZFRhYmxlLCBib2R5VGFibGVdO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uIGdldFRpdGxlKCkge1xuICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdGl0bGUgPSBfcHJvcHM0LnRpdGxlLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM0LnByZWZpeENscztcblxuICAgIHJldHVybiB0aXRsZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJywga2V5OiAndGl0bGUnIH0sXG4gICAgICB0aXRsZSh0aGlzLnByb3BzLmRhdGEpXG4gICAgKSA6IG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEZvb3RlciA9IGZ1bmN0aW9uIGdldEZvb3RlcigpIHtcbiAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGZvb3RlciA9IF9wcm9wczUuZm9vdGVyLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM1LnByZWZpeENscztcblxuICAgIHJldHVybiBmb290ZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXInLCBrZXk6ICdmb290ZXInIH0sXG4gICAgICBmb290ZXIodGhpcy5wcm9wcy5kYXRhKVxuICAgICkgOiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRFbXB0eVRleHQgPSBmdW5jdGlvbiBnZXRFbXB0eVRleHQoKSB7XG4gICAgdmFyIF9wcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICBlbXB0eVRleHQgPSBfcHJvcHM2LmVtcHR5VGV4dCxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNi5wcmVmaXhDbHMsXG4gICAgICAgIGRhdGEgPSBfcHJvcHM2LmRhdGE7XG5cbiAgICByZXR1cm4gIWRhdGEubGVuZ3RoID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGxhY2Vob2xkZXInLCBrZXk6ICdlbXB0eVRleHQnIH0sXG4gICAgICBlbXB0eVRleHQoKVxuICAgICkgOiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXJSb3dTdHlsZSA9IGZ1bmN0aW9uIGdldEhlYWRlclJvd1N0eWxlKGNvbHVtbnMsIHJvd3MpIHtcbiAgICB2YXIgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQgPSB0aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0O1xuXG4gICAgdmFyIGhlYWRlckhlaWdodCA9IGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0WzBdO1xuICAgIGlmIChoZWFkZXJIZWlnaHQgJiYgY29sdW1ucykge1xuICAgICAgaWYgKGhlYWRlckhlaWdodCA9PT0gJ2F1dG8nKSB7XG4gICAgICAgIHJldHVybiB7IGhlaWdodDogJ2F1dG8nIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBoZWlnaHQ6IGhlYWRlckhlaWdodCAvIHJvd3MubGVuZ3RoIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5zZXRTY3JvbGxQb3NpdGlvbiA9IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIGlmICh0aGlzLnRhYmxlTm9kZSkge1xuICAgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuXG4gICAgICBpZiAocG9zaXRpb24gPT09ICdib3RoJykge1xuICAgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkodGhpcy50YWJsZU5vZGUpLnJlbW92ZShuZXcgUmVnRXhwKCdeJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLS4rJCcpKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tbGVmdCcpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1yaWdodCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLScgKyBwb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5zZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSA9IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKHRhcmdldCkge1xuICAgIHZhciBub2RlID0gdGFyZ2V0IHx8IHRoaXMucmVmcy5ib2R5VGFibGU7XG4gICAgdmFyIHNjcm9sbFRvTGVmdCA9IG5vZGUuc2Nyb2xsTGVmdCA9PT0gMDtcbiAgICB2YXIgc2Nyb2xsVG9SaWdodCA9IG5vZGUuc2Nyb2xsTGVmdCArIDEgPj0gbm9kZS5jaGlsZHJlblswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgaWYgKHNjcm9sbFRvTGVmdCAmJiBzY3JvbGxUb1JpZ2h0KSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdib3RoJyk7XG4gICAgfSBlbHNlIGlmIChzY3JvbGxUb0xlZnQpIHtcbiAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ2xlZnQnKTtcbiAgICB9IGVsc2UgaWYgKHNjcm9sbFRvUmlnaHQpIHtcbiAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ3JpZ2h0Jyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uICE9PSAnbWlkZGxlJykge1xuICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbWlkZGxlJyk7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5yZXNldFNjcm9sbFggPSBmdW5jdGlvbiByZXNldFNjcm9sbFgoKSB7XG4gICAgaWYgKHRoaXMucmVmcy5oZWFkVGFibGUpIHtcbiAgICAgIHRoaXMucmVmcy5oZWFkVGFibGUuc2Nyb2xsTGVmdCA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlZnMuYm9keVRhYmxlKSB7XG4gICAgICB0aGlzLnJlZnMuYm9keVRhYmxlLnNjcm9sbExlZnQgPSAwO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZmluZEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZmluZEV4cGFuZGVkUm93KHJlY29yZCwgaW5kZXgpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHZhciByb3dzID0gdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBpID09PSBfdGhpczQuZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpO1xuICAgIH0pO1xuICAgIHJldHVybiByb3dzWzBdO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5pc1Jvd0V4cGFuZGVkID0gZnVuY3Rpb24gaXNSb3dFeHBhbmRlZChyZWNvcmQsIGluZGV4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLmZpbmRFeHBhbmRlZFJvdyhyZWNvcmQsIGluZGV4KSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmhhc1Njcm9sbFggPSBmdW5jdGlvbiBoYXNTY3JvbGxYKCkge1xuICAgIHZhciBfcHJvcHMkc2Nyb2xsID0gdGhpcy5wcm9wcy5zY3JvbGwsXG4gICAgICAgIHNjcm9sbCA9IF9wcm9wcyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHNjcm9sbDtcblxuICAgIHJldHVybiAneCcgaW4gc2Nyb2xsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcm9wcy5jbGFzc05hbWU7XG4gICAgfVxuICAgIGlmIChwcm9wcy51c2VGaXhlZEhlYWRlciB8fCBwcm9wcy5zY3JvbGwgJiYgcHJvcHMuc2Nyb2xsLnkpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWZpeGVkLWhlYWRlcic7XG4gICAgfVxuICAgIGlmICh0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAnYm90aCcpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1sZWZ0ICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1yaWdodCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgdGhpcy5zY3JvbGxQb3NpdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgaXNUYWJsZVNjcm9sbCA9IHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpIHx8IHByb3BzLnNjcm9sbC54IHx8IHByb3BzLnNjcm9sbC55O1xuXG4gICAgdmFyIGNvbnRlbnQgPSBbdGhpcy5nZXRUYWJsZSh7IGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5ncm91cGVkQ29sdW1ucygpIH0pLCB0aGlzLmdldEVtcHR5VGV4dCgpLCB0aGlzLmdldEZvb3RlcigpXTtcblxuICAgIHZhciBzY3JvbGxUYWJsZSA9IGlzVGFibGVTY3JvbGwgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zY3JvbGwnIH0sXG4gICAgICBjb250ZW50XG4gICAgKSA6IGNvbnRlbnQ7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyByZWY6IGZ1bmN0aW9uIHJlZihub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS50YWJsZU5vZGUgPSBub2RlO1xuICAgICAgICB9LCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByb3BzLnN0eWxlIH0sXG4gICAgICB0aGlzLmdldFRpdGxlKCksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29udGVudCcgfSxcbiAgICAgICAgc2Nyb2xsVGFibGUsXG4gICAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNMZWZ0Rml4ZWQoKSAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZpeGVkLWxlZnQnIH0sXG4gICAgICAgICAgdGhpcy5nZXRMZWZ0Rml4ZWRUYWJsZSgpXG4gICAgICAgICksXG4gICAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNSaWdodEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1yaWdodCcgfSxcbiAgICAgICAgICB0aGlzLmdldFJpZ2h0Rml4ZWRUYWJsZSgpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuVGFibGUucHJvcFR5cGVzID0ge1xuICBkYXRhOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGRlZmF1bHRFeHBhbmRBbGxSb3dzOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGV4cGFuZGVkUm93S2V5czogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgdXNlRml4ZWRIZWFkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgY29sdW1uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgYm9keVN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICByb3dLZXk6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSksXG4gIHJvd0NsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBleHBhbmRlZFJvd0NsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBjaGlsZHJlbkNvbHVtbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvbkV4cGFuZGVkUm93c0NoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgb25Sb3dDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvblJvd0RvdWJsZUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHNob3dIZWFkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGVtcHR5VGV4dDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzY3JvbGw6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICByb3dSZWY6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZ2V0Qm9keVdyYXBwZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxufTtcblRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGF0YTogW10sXG4gIHVzZUZpeGVkSGVhZGVyOiBmYWxzZSxcbiAgZXhwYW5kSWNvbkFzQ2VsbDogZmFsc2UsXG4gIGRlZmF1bHRFeHBhbmRBbGxSb3dzOiBmYWxzZSxcbiAgZGVmYXVsdEV4cGFuZGVkUm93S2V5czogW10sXG4gIHJvd0tleTogJ2tleScsXG4gIHJvd0NsYXNzTmFtZTogZnVuY3Rpb24gcm93Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnJztcbiAgfSxcbiAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IGZ1bmN0aW9uIGV4cGFuZGVkUm93Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnJztcbiAgfSxcbiAgb25FeHBhbmQ6IGZ1bmN0aW9uIG9uRXhwYW5kKCkge30sXG4gIG9uRXhwYW5kZWRSb3dzQ2hhbmdlOiBmdW5jdGlvbiBvbkV4cGFuZGVkUm93c0NoYW5nZSgpIHt9LFxuICBvblJvd0NsaWNrOiBmdW5jdGlvbiBvblJvd0NsaWNrKCkge30sXG4gIG9uUm93RG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uUm93RG91YmxlQ2xpY2soKSB7fSxcblxuICBwcmVmaXhDbHM6ICdyYy10YWJsZScsXG4gIGJvZHlTdHlsZToge30sXG4gIHN0eWxlOiB7fSxcbiAgY2hpbGRyZW5Db2x1bW5OYW1lOiAnY2hpbGRyZW4nLFxuICBpbmRlbnRTaXplOiAxNSxcbiAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuICBzaG93SGVhZGVyOiB0cnVlLFxuICBzY3JvbGw6IHt9LFxuICByb3dSZWY6IGZ1bmN0aW9uIHJvd1JlZigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgZ2V0Qm9keVdyYXBwZXI6IGZ1bmN0aW9uIGdldEJvZHlXcmFwcGVyKGJvZHkpIHtcbiAgICByZXR1cm4gYm9keTtcbiAgfSxcbiAgZW1wdHlUZXh0OiBmdW5jdGlvbiBlbXB0eVRleHQoKSB7XG4gICAgcmV0dXJuICdObyBEYXRhJztcbiAgfVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XG5cbnZhciBfbG9kYXNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFRhYmxlQ2VsbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZUNlbGwsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlQ2VsbCgpIHtcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlQ2VsbCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuICAgICAgICAgIG9uQ2VsbENsaWNrID0gX3RoaXMkcHJvcHMuY29sdW1uLm9uQ2VsbENsaWNrO1xuXG4gICAgICBpZiAob25DZWxsQ2xpY2spIHtcbiAgICAgICAgb25DZWxsQ2xpY2socmVjb3JkLCBlKTtcbiAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIFRhYmxlQ2VsbC5wcm90b3R5cGUuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQgPSBmdW5jdGlvbiBpc0ludmFsaWRSZW5kZXJDZWxsVGV4dCh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQgJiYgIV9yZWFjdDJbXCJkZWZhdWx0XCJdLmlzVmFsaWRFbGVtZW50KHRleHQpICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0ZXh0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH07XG5cbiAgVGFibGVDZWxsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHJlY29yZCA9IF9wcm9wcy5yZWNvcmQsXG4gICAgICAgIGluZGVudFNpemUgPSBfcHJvcHMuaW5kZW50U2l6ZSxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgaW5kZW50ID0gX3Byb3BzLmluZGVudCxcbiAgICAgICAgaW5kZXggPSBfcHJvcHMuaW5kZXgsXG4gICAgICAgIGV4cGFuZEljb24gPSBfcHJvcHMuZXhwYW5kSWNvbixcbiAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbjtcbiAgICB2YXIgZGF0YUluZGV4ID0gY29sdW1uLmRhdGFJbmRleCxcbiAgICAgICAgcmVuZGVyID0gY29sdW1uLnJlbmRlcixcbiAgICAgICAgX2NvbHVtbiRjbGFzc05hbWUgPSBjb2x1bW4uY2xhc3NOYW1lLFxuICAgICAgICBjbGFzc05hbWUgPSBfY29sdW1uJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfY29sdW1uJGNsYXNzTmFtZTtcblxuICAgIC8vIFdlIHNob3VsZCByZXR1cm4gdW5kZWZpbmVkIGlmIG5vIGRhdGFJbmRleCBpcyBzcGVjaWZpZWQsIGJ1dCBpbiBvcmRlciB0b1xuICAgIC8vIGJlIGNvbXBhdGlibGUgd2l0aCBvYmplY3QtcGF0aCdzIGJlaGF2aW9yLCB3ZSByZXR1cm4gdGhlIHJlY29yZCBvYmplY3QgaW5zdGVhZC5cblxuICAgIHZhciB0ZXh0ID0gdm9pZCAwO1xuICAgIGlmICh0eXBlb2YgZGF0YUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgdGV4dCA9ICgwLCBfbG9kYXNoMltcImRlZmF1bHRcIl0pKHJlY29yZCwgZGF0YUluZGV4KTtcbiAgICB9IGVsc2UgaWYgKCFkYXRhSW5kZXggfHwgZGF0YUluZGV4Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGV4dCA9IHJlY29yZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dCA9ICgwLCBfbG9kYXNoMltcImRlZmF1bHRcIl0pKHJlY29yZCwgZGF0YUluZGV4KTtcbiAgICB9XG4gICAgdmFyIHRkUHJvcHMgPSB2b2lkIDA7XG4gICAgdmFyIGNvbFNwYW4gPSB2b2lkIDA7XG4gICAgdmFyIHJvd1NwYW4gPSB2b2lkIDA7XG5cbiAgICBpZiAocmVuZGVyKSB7XG4gICAgICB0ZXh0ID0gcmVuZGVyKHRleHQsIHJlY29yZCwgaW5kZXgpO1xuICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkpIHtcbiAgICAgICAgdGRQcm9wcyA9IHRleHQucHJvcHMgfHwge307XG4gICAgICAgIHJvd1NwYW4gPSB0ZFByb3BzLnJvd1NwYW47XG4gICAgICAgIGNvbFNwYW4gPSB0ZFByb3BzLmNvbFNwYW47XG4gICAgICAgIHRleHQgPSB0ZXh0LmNoaWxkcmVuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy8xMjAyXG4gICAgaWYgKHRoaXMuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkpIHtcbiAgICAgIHRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnRUZXh0ID0gZXhwYW5kSWNvbiA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICBzdHlsZTogeyBwYWRkaW5nTGVmdDogaW5kZW50U2l6ZSAqIGluZGVudCArICdweCcgfSxcbiAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbmRlbnQgaW5kZW50LWxldmVsLScgKyBpbmRlbnRcbiAgICB9KSA6IG51bGw7XG5cbiAgICBpZiAocm93U3BhbiA9PT0gMCB8fCBjb2xTcGFuID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndGQnLFxuICAgICAge1xuICAgICAgICBjb2xTcGFuOiBjb2xTcGFuLFxuICAgICAgICByb3dTcGFuOiByb3dTcGFuLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGlja1xuICAgICAgfSxcbiAgICAgIGluZGVudFRleHQsXG4gICAgICBleHBhbmRJY29uLFxuICAgICAgdGV4dFxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlQ2VsbDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuVGFibGVDZWxsLnByb3BUeXBlcyA9IHtcbiAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBpbmRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBpbmRlbnRTaXplOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgY29sdW1uOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgZXhwYW5kSWNvbjogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZUNlbGw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGVDZWxsLmpzXG4gKiogbW9kdWxlIGlkID0gMTM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc2hhbGxvd2VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5cbnZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFRhYmxlSGVhZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYmxlSGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZUhlYWRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVIZWFkZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBUYWJsZUhlYWRlci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgIHJldHVybiAhKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFByb3BzLCB0aGlzLnByb3BzKTtcbiAgfTtcblxuICBUYWJsZUhlYWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICByb3dTdHlsZSA9IF9wcm9wcy5yb3dTdHlsZSxcbiAgICAgICAgcm93cyA9IF9wcm9wcy5yb3dzO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndGhlYWQnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGhlYWQnIH0sXG4gICAgICByb3dzLm1hcChmdW5jdGlvbiAocm93LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndHInLFxuICAgICAgICAgIHsga2V5OiBpbmRleCwgc3R5bGU6IHJvd1N0eWxlIH0sXG4gICAgICAgICAgcm93Lm1hcChmdW5jdGlvbiAoY2VsbFByb3BzLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgndGgnLCBfZXh0ZW5kcyh7fSwgY2VsbFByb3BzLCB7IGtleTogaSB9KSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gVGFibGVIZWFkZXI7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgcm93U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICByb3dzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZUhlYWRlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUhlYWRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDE0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1RhYmxlQ2VsbCA9IHJlcXVpcmUoJy4vVGFibGVDZWxsJyk7XG5cbnZhciBfVGFibGVDZWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQ2VsbCk7XG5cbnZhciBfRXhwYW5kSWNvbiA9IHJlcXVpcmUoJy4vRXhwYW5kSWNvbicpO1xuXG52YXIgX0V4cGFuZEljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kSWNvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFRhYmxlUm93ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYmxlUm93LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZVJvdygpIHtcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlUm93KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyZWQ6IGZhbHNlXG4gICAgfSwgX3RoaXMub25Sb3dDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgcmVjb3JkID0gX3RoaXMkcHJvcHMucmVjb3JkLFxuICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMuaW5kZXgsXG4gICAgICAgICAgb25Sb3dDbGljayA9IF90aGlzJHByb3BzLm9uUm93Q2xpY2ssXG4gICAgICAgICAgZXhwYW5kYWJsZSA9IF90aGlzJHByb3BzLmV4cGFuZGFibGUsXG4gICAgICAgICAgZXhwYW5kUm93QnlDbGljayA9IF90aGlzJHByb3BzLmV4cGFuZFJvd0J5Q2xpY2ssXG4gICAgICAgICAgZXhwYW5kZWQgPSBfdGhpcyRwcm9wcy5leHBhbmRlZCxcbiAgICAgICAgICBvbkV4cGFuZCA9IF90aGlzJHByb3BzLm9uRXhwYW5kO1xuXG4gICAgICBpZiAoZXhwYW5kYWJsZSAmJiBleHBhbmRSb3dCeUNsaWNrKSB7XG4gICAgICAgIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBldmVudCwgaW5kZXgpO1xuICAgICAgfVxuICAgICAgb25Sb3dDbGljayhyZWNvcmQsIGluZGV4LCBldmVudCk7XG4gICAgfSwgX3RoaXMub25Sb3dEb3VibGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzMi5yZWNvcmQsXG4gICAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wczIuaW5kZXgsXG4gICAgICAgICAgb25Sb3dEb3VibGVDbGljayA9IF90aGlzJHByb3BzMi5vblJvd0RvdWJsZUNsaWNrO1xuXG4gICAgICBvblJvd0RvdWJsZUNsaWNrKHJlY29yZCwgaW5kZXgsIGV2ZW50KTtcbiAgICB9LCBfdGhpcy5vbk1vdXNlRW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzMy5vbkhvdmVyLFxuICAgICAgICAgIGhvdmVyS2V5ID0gX3RoaXMkcHJvcHMzLmhvdmVyS2V5O1xuXG4gICAgICBvbkhvdmVyKHRydWUsIGhvdmVyS2V5KTtcbiAgICB9LCBfdGhpcy5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgb25Ib3ZlciA9IF90aGlzJHByb3BzNC5vbkhvdmVyLFxuICAgICAgICAgIGhvdmVyS2V5ID0gX3RoaXMkcHJvcHM0LmhvdmVyS2V5O1xuXG4gICAgICBvbkhvdmVyKGZhbHNlLCBob3ZlcktleSk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBUYWJsZVJvdy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdG9yZSA9IF9wcm9wcy5zdG9yZSxcbiAgICAgICAgaG92ZXJLZXkgPSBfcHJvcHMuaG92ZXJLZXk7XG5cbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzdG9yZS5nZXRTdGF0ZSgpLmN1cnJlbnRIb3ZlcktleSA9PT0gaG92ZXJLZXkpIHtcbiAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaG92ZXJlZDogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnN0YXRlLmhvdmVyZWQgPT09IHRydWUpIHtcbiAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaG92ZXJlZDogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGVSb3cucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMyLnJlY29yZCxcbiAgICAgICAgb25EZXN0cm95ID0gX3Byb3BzMi5vbkRlc3Ryb3ksXG4gICAgICAgIGluZGV4ID0gX3Byb3BzMi5pbmRleDtcblxuICAgIG9uRGVzdHJveShyZWNvcmQsIGluZGV4KTtcbiAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZVJvdy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgIGNvbHVtbnMgPSBfcHJvcHMzLmNvbHVtbnMsXG4gICAgICAgIHJlY29yZCA9IF9wcm9wczMucmVjb3JkLFxuICAgICAgICBoZWlnaHQgPSBfcHJvcHMzLmhlaWdodCxcbiAgICAgICAgdmlzaWJsZSA9IF9wcm9wczMudmlzaWJsZSxcbiAgICAgICAgaW5kZXggPSBfcHJvcHMzLmluZGV4LFxuICAgICAgICBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBfcHJvcHMzLmV4cGFuZEljb25Db2x1bW5JbmRleCxcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczMuZXhwYW5kSWNvbkFzQ2VsbCxcbiAgICAgICAgZXhwYW5kZWQgPSBfcHJvcHMzLmV4cGFuZGVkLFxuICAgICAgICBleHBhbmRSb3dCeUNsaWNrID0gX3Byb3BzMy5leHBhbmRSb3dCeUNsaWNrLFxuICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzMy5leHBhbmRhYmxlLFxuICAgICAgICBvbkV4cGFuZCA9IF9wcm9wczMub25FeHBhbmQsXG4gICAgICAgIG5lZWRJbmRlbnRTcGFjZWQgPSBfcHJvcHMzLm5lZWRJbmRlbnRTcGFjZWQsXG4gICAgICAgIGluZGVudCA9IF9wcm9wczMuaW5kZW50LFxuICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzMy5pbmRlbnRTaXplO1xuICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcblxuXG4gICAgaWYgKHRoaXMuc3RhdGUuaG92ZXJlZCkge1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctaG92ZXInO1xuICAgIH1cblxuICAgIHZhciBjZWxscyA9IFtdO1xuXG4gICAgdmFyIGV4cGFuZEljb24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9FeHBhbmRJY29uMltcImRlZmF1bHRcIl0sIHtcbiAgICAgIGV4cGFuZGFibGU6IGV4cGFuZGFibGUsXG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIG9uRXhwYW5kOiBvbkV4cGFuZCxcbiAgICAgIG5lZWRJbmRlbnRTcGFjZWQ6IG5lZWRJbmRlbnRTcGFjZWQsXG4gICAgICBleHBhbmRlZDogZXhwYW5kZWQsXG4gICAgICByZWNvcmQ6IHJlY29yZFxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBpID09PSAwKSB7XG4gICAgICAgIGNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jZWxsJyxcbiAgICAgICAgICAgIGtleTogJ3JjLXRhYmxlLWV4cGFuZC1pY29uLWNlbGwnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHBhbmRJY29uXG4gICAgICAgICkpO1xuICAgICAgfVxuICAgICAgdmFyIGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPSBleHBhbmRJY29uQXNDZWxsIHx8IGV4cGFuZFJvd0J5Q2xpY2sgPyBmYWxzZSA6IGkgPT09IGV4cGFuZEljb25Db2x1bW5JbmRleDtcbiAgICAgIGNlbGxzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVDZWxsMltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICBpbmRlbnRTaXplOiBpbmRlbnRTaXplLFxuICAgICAgICBpbmRlbnQ6IGluZGVudCxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjb2x1bW46IGNvbHVtbnNbaV0sXG4gICAgICAgIGtleTogY29sdW1uc1tpXS5rZXksXG4gICAgICAgIGV4cGFuZEljb246IGlzQ29sdW1uSGF2ZUV4cGFuZEljb24gPyBleHBhbmRJY29uIDogbnVsbFxuICAgICAgfSkpO1xuICAgIH1cbiAgICB2YXIgc3R5bGUgPSB7IGhlaWdodDogaGVpZ2h0IH07XG4gICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICBzdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RyJyxcbiAgICAgIHtcbiAgICAgICAgb25DbGljazogdGhpcy5vblJvd0NsaWNrLFxuICAgICAgICBvbkRvdWJsZUNsaWNrOiB0aGlzLm9uUm93RG91YmxlQ2xpY2ssXG4gICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbk1vdXNlRW50ZXIsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5vbk1vdXNlTGVhdmUsXG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgY2xhc3NOYW1lICsgJyAnICsgcHJlZml4Q2xzICsgJy1sZXZlbC0nICsgaW5kZW50LFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgIH0sXG4gICAgICBjZWxsc1xuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlUm93O1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5UYWJsZVJvdy5wcm9wVHlwZXMgPSB7XG4gIG9uRGVzdHJveTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvblJvd0NsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uUm93RG91YmxlQ2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgb25Ib3ZlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBjb2x1bW5zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBoZWlnaHQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLnN0cmluZywgX3JlYWN0LlByb3BUeXBlcy5udW1iZXJdKSxcbiAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBpbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGhvdmVyS2V5OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgZXhwYW5kZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGV4cGFuZEljb25Bc0NlbGw6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZXhwYW5kUm93QnlDbGljazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBzdG9yZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxufTtcblRhYmxlUm93LmRlZmF1bHRQcm9wcyA9IHtcbiAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljaygpIHt9LFxuICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG4gIG9uRGVzdHJveTogZnVuY3Rpb24gb25EZXN0cm95KCkge30sXG5cbiAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiAwLFxuICBleHBhbmRSb3dCeUNsaWNrOiBmYWxzZSxcbiAgb25Ib3ZlcjogZnVuY3Rpb24gb25Ib3ZlcigpIHt9XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZVJvdztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9UYWJsZVJvdy5qc1xuICoqIG1vZHVsZSBpZCA9IDE0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKHBhcnRpYWwpIHtcbiAgICBzdGF0ZSA9IF9leHRlbmRzKHt9LCBzdGF0ZSwgcGFydGlhbCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldFN0YXRlOiBzZXRTdGF0ZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9jcmVhdGVTdG9yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubWVhc3VyZVNjcm9sbGJhciA9IG1lYXN1cmVTY3JvbGxiYXI7XG5leHBvcnRzLmRlYm91bmNlID0gZGVib3VuY2U7XG5leHBvcnRzLndhcm5pbmdPbmNlID0gd2FybmluZ09uY2U7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIHNjcm9sbGJhcldpZHRoID0gdm9pZCAwO1xuXG4vLyBNZWFzdXJlIHNjcm9sbGJhciB3aWR0aCBmb3IgcGFkZGluZyBib2R5IGR1cmluZyBtb2RhbCBzaG93L2hpZGVcbnZhciBzY3JvbGxiYXJNZWFzdXJlID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgdG9wOiAnLTk5OTlweCcsXG4gIHdpZHRoOiAnNTBweCcsXG4gIGhlaWdodDogJzUwcHgnLFxuICBvdmVyZmxvdzogJ3Njcm9sbCdcbn07XG5cbmZ1bmN0aW9uIG1lYXN1cmVTY3JvbGxiYXIoKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHNjcm9sbGJhcldpZHRoKSB7XG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xuICB9XG4gIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9yICh2YXIgc2Nyb2xsUHJvcCBpbiBzY3JvbGxiYXJNZWFzdXJlKSB7XG4gICAgaWYgKHNjcm9sbGJhck1lYXN1cmUuaGFzT3duUHJvcGVydHkoc2Nyb2xsUHJvcCkpIHtcbiAgICAgIHNjcm9sbERpdi5zdHlsZVtzY3JvbGxQcm9wXSA9IHNjcm9sbGJhck1lYXN1cmVbc2Nyb2xsUHJvcF07XG4gICAgfVxuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgdmFyIHdpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gIHNjcm9sbGJhcldpZHRoID0gd2lkdGg7XG4gIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuICBmdW5jdGlvbiBkZWJvdW5jZUZ1bmMoKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIC8vIGh0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZ1xuICAgIGlmIChhcmdzWzBdICYmIGFyZ3NbMF0ucGVyc2lzdCkge1xuICAgICAgYXJnc1swXS5wZXJzaXN0KCk7XG4gICAgfVxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICBpZiAoY2FsbE5vdykge1xuICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9XG4gIH1cbiAgZGVib3VuY2VGdW5jLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9O1xuICByZXR1cm4gZGVib3VuY2VGdW5jO1xufVxuXG52YXIgd2FybmVkID0ge307XG5mdW5jdGlvbiB3YXJuaW5nT25jZShjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICBpZiAoIXdhcm5lZFtmb3JtYXRdKSB7XG4gICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKTtcbiAgICB3YXJuZWRbZm9ybWF0XSA9ICFjb25kaXRpb247XG4gIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvdXRpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRvQXJyYXk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgdmFyIHJldCA9IFtdO1xuICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuICAgIHJldC5wdXNoKGMpO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXV0aWwvbGliL0NoaWxkcmVuL3RvQXJyYXkuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vKipcbiAqIEBpZ25vcmVcbiAqIHNvbWUga2V5LWNvZGVzIGRlZmluaXRpb24gYW5kIHV0aWxzIGZyb20gY2xvc3VyZS1saWJyYXJ5XG4gKiBAYXV0aG9yIHlpbWluZ2hlQGdtYWlsLmNvbVxuICovXG5cbnZhciBLZXlDb2RlID0ge1xuICAvKipcbiAgICogTUFDX0VOVEVSXG4gICAqL1xuICBNQUNfRU5URVI6IDMsXG4gIC8qKlxuICAgKiBCQUNLU1BBQ0VcbiAgICovXG4gIEJBQ0tTUEFDRTogOCxcbiAgLyoqXG4gICAqIFRBQlxuICAgKi9cbiAgVEFCOiA5LFxuICAvKipcbiAgICogTlVNTE9DSyBvbiBGRi9TYWZhcmkgTWFjXG4gICAqL1xuICBOVU1fQ0VOVEVSOiAxMiwgLy8gTlVNTE9DSyBvbiBGRi9TYWZhcmkgTWFjXG4gIC8qKlxuICAgKiBFTlRFUlxuICAgKi9cbiAgRU5URVI6IDEzLFxuICAvKipcbiAgICogU0hJRlRcbiAgICovXG4gIFNISUZUOiAxNixcbiAgLyoqXG4gICAqIENUUkxcbiAgICovXG4gIENUUkw6IDE3LFxuICAvKipcbiAgICogQUxUXG4gICAqL1xuICBBTFQ6IDE4LFxuICAvKipcbiAgICogUEFVU0VcbiAgICovXG4gIFBBVVNFOiAxOSxcbiAgLyoqXG4gICAqIENBUFNfTE9DS1xuICAgKi9cbiAgQ0FQU19MT0NLOiAyMCxcbiAgLyoqXG4gICAqIEVTQ1xuICAgKi9cbiAgRVNDOiAyNyxcbiAgLyoqXG4gICAqIFNQQUNFXG4gICAqL1xuICBTUEFDRTogMzIsXG4gIC8qKlxuICAgKiBQQUdFX1VQXG4gICAqL1xuICBQQUdFX1VQOiAzMywgLy8gYWxzbyBOVU1fTk9SVEhfRUFTVFxuICAvKipcbiAgICogUEFHRV9ET1dOXG4gICAqL1xuICBQQUdFX0RPV046IDM0LCAvLyBhbHNvIE5VTV9TT1VUSF9FQVNUXG4gIC8qKlxuICAgKiBFTkRcbiAgICovXG4gIEVORDogMzUsIC8vIGFsc28gTlVNX1NPVVRIX1dFU1RcbiAgLyoqXG4gICAqIEhPTUVcbiAgICovXG4gIEhPTUU6IDM2LCAvLyBhbHNvIE5VTV9OT1JUSF9XRVNUXG4gIC8qKlxuICAgKiBMRUZUXG4gICAqL1xuICBMRUZUOiAzNywgLy8gYWxzbyBOVU1fV0VTVFxuICAvKipcbiAgICogVVBcbiAgICovXG4gIFVQOiAzOCwgLy8gYWxzbyBOVU1fTk9SVEhcbiAgLyoqXG4gICAqIFJJR0hUXG4gICAqL1xuICBSSUdIVDogMzksIC8vIGFsc28gTlVNX0VBU1RcbiAgLyoqXG4gICAqIERPV05cbiAgICovXG4gIERPV046IDQwLCAvLyBhbHNvIE5VTV9TT1VUSFxuICAvKipcbiAgICogUFJJTlRfU0NSRUVOXG4gICAqL1xuICBQUklOVF9TQ1JFRU46IDQ0LFxuICAvKipcbiAgICogSU5TRVJUXG4gICAqL1xuICBJTlNFUlQ6IDQ1LCAvLyBhbHNvIE5VTV9JTlNFUlRcbiAgLyoqXG4gICAqIERFTEVURVxuICAgKi9cbiAgREVMRVRFOiA0NiwgLy8gYWxzbyBOVU1fREVMRVRFXG4gIC8qKlxuICAgKiBaRVJPXG4gICAqL1xuICBaRVJPOiA0OCxcbiAgLyoqXG4gICAqIE9ORVxuICAgKi9cbiAgT05FOiA0OSxcbiAgLyoqXG4gICAqIFRXT1xuICAgKi9cbiAgVFdPOiA1MCxcbiAgLyoqXG4gICAqIFRIUkVFXG4gICAqL1xuICBUSFJFRTogNTEsXG4gIC8qKlxuICAgKiBGT1VSXG4gICAqL1xuICBGT1VSOiA1MixcbiAgLyoqXG4gICAqIEZJVkVcbiAgICovXG4gIEZJVkU6IDUzLFxuICAvKipcbiAgICogU0lYXG4gICAqL1xuICBTSVg6IDU0LFxuICAvKipcbiAgICogU0VWRU5cbiAgICovXG4gIFNFVkVOOiA1NSxcbiAgLyoqXG4gICAqIEVJR0hUXG4gICAqL1xuICBFSUdIVDogNTYsXG4gIC8qKlxuICAgKiBOSU5FXG4gICAqL1xuICBOSU5FOiA1NyxcbiAgLyoqXG4gICAqIFFVRVNUSU9OX01BUktcbiAgICovXG4gIFFVRVNUSU9OX01BUks6IDYzLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIEFcbiAgICovXG4gIEE6IDY1LFxuICAvKipcbiAgICogQlxuICAgKi9cbiAgQjogNjYsXG4gIC8qKlxuICAgKiBDXG4gICAqL1xuICBDOiA2NyxcbiAgLyoqXG4gICAqIERcbiAgICovXG4gIEQ6IDY4LFxuICAvKipcbiAgICogRVxuICAgKi9cbiAgRTogNjksXG4gIC8qKlxuICAgKiBGXG4gICAqL1xuICBGOiA3MCxcbiAgLyoqXG4gICAqIEdcbiAgICovXG4gIEc6IDcxLFxuICAvKipcbiAgICogSFxuICAgKi9cbiAgSDogNzIsXG4gIC8qKlxuICAgKiBJXG4gICAqL1xuICBJOiA3MyxcbiAgLyoqXG4gICAqIEpcbiAgICovXG4gIEo6IDc0LFxuICAvKipcbiAgICogS1xuICAgKi9cbiAgSzogNzUsXG4gIC8qKlxuICAgKiBMXG4gICAqL1xuICBMOiA3NixcbiAgLyoqXG4gICAqIE1cbiAgICovXG4gIE06IDc3LFxuICAvKipcbiAgICogTlxuICAgKi9cbiAgTjogNzgsXG4gIC8qKlxuICAgKiBPXG4gICAqL1xuICBPOiA3OSxcbiAgLyoqXG4gICAqIFBcbiAgICovXG4gIFA6IDgwLFxuICAvKipcbiAgICogUVxuICAgKi9cbiAgUTogODEsXG4gIC8qKlxuICAgKiBSXG4gICAqL1xuICBSOiA4MixcbiAgLyoqXG4gICAqIFNcbiAgICovXG4gIFM6IDgzLFxuICAvKipcbiAgICogVFxuICAgKi9cbiAgVDogODQsXG4gIC8qKlxuICAgKiBVXG4gICAqL1xuICBVOiA4NSxcbiAgLyoqXG4gICAqIFZcbiAgICovXG4gIFY6IDg2LFxuICAvKipcbiAgICogV1xuICAgKi9cbiAgVzogODcsXG4gIC8qKlxuICAgKiBYXG4gICAqL1xuICBYOiA4OCxcbiAgLyoqXG4gICAqIFlcbiAgICovXG4gIFk6IDg5LFxuICAvKipcbiAgICogWlxuICAgKi9cbiAgWjogOTAsXG4gIC8qKlxuICAgKiBNRVRBXG4gICAqL1xuICBNRVRBOiA5MSwgLy8gV0lOX0tFWV9MRUZUXG4gIC8qKlxuICAgKiBXSU5fS0VZX1JJR0hUXG4gICAqL1xuICBXSU5fS0VZX1JJR0hUOiA5MixcbiAgLyoqXG4gICAqIENPTlRFWFRfTUVOVVxuICAgKi9cbiAgQ09OVEVYVF9NRU5VOiA5MyxcbiAgLyoqXG4gICAqIE5VTV9aRVJPXG4gICAqL1xuICBOVU1fWkVSTzogOTYsXG4gIC8qKlxuICAgKiBOVU1fT05FXG4gICAqL1xuICBOVU1fT05FOiA5NyxcbiAgLyoqXG4gICAqIE5VTV9UV09cbiAgICovXG4gIE5VTV9UV086IDk4LFxuICAvKipcbiAgICogTlVNX1RIUkVFXG4gICAqL1xuICBOVU1fVEhSRUU6IDk5LFxuICAvKipcbiAgICogTlVNX0ZPVVJcbiAgICovXG4gIE5VTV9GT1VSOiAxMDAsXG4gIC8qKlxuICAgKiBOVU1fRklWRVxuICAgKi9cbiAgTlVNX0ZJVkU6IDEwMSxcbiAgLyoqXG4gICAqIE5VTV9TSVhcbiAgICovXG4gIE5VTV9TSVg6IDEwMixcbiAgLyoqXG4gICAqIE5VTV9TRVZFTlxuICAgKi9cbiAgTlVNX1NFVkVOOiAxMDMsXG4gIC8qKlxuICAgKiBOVU1fRUlHSFRcbiAgICovXG4gIE5VTV9FSUdIVDogMTA0LFxuICAvKipcbiAgICogTlVNX05JTkVcbiAgICovXG4gIE5VTV9OSU5FOiAxMDUsXG4gIC8qKlxuICAgKiBOVU1fTVVMVElQTFlcbiAgICovXG4gIE5VTV9NVUxUSVBMWTogMTA2LFxuICAvKipcbiAgICogTlVNX1BMVVNcbiAgICovXG4gIE5VTV9QTFVTOiAxMDcsXG4gIC8qKlxuICAgKiBOVU1fTUlOVVNcbiAgICovXG4gIE5VTV9NSU5VUzogMTA5LFxuICAvKipcbiAgICogTlVNX1BFUklPRFxuICAgKi9cbiAgTlVNX1BFUklPRDogMTEwLFxuICAvKipcbiAgICogTlVNX0RJVklTSU9OXG4gICAqL1xuICBOVU1fRElWSVNJT046IDExMSxcbiAgLyoqXG4gICAqIEYxXG4gICAqL1xuICBGMTogMTEyLFxuICAvKipcbiAgICogRjJcbiAgICovXG4gIEYyOiAxMTMsXG4gIC8qKlxuICAgKiBGM1xuICAgKi9cbiAgRjM6IDExNCxcbiAgLyoqXG4gICAqIEY0XG4gICAqL1xuICBGNDogMTE1LFxuICAvKipcbiAgICogRjVcbiAgICovXG4gIEY1OiAxMTYsXG4gIC8qKlxuICAgKiBGNlxuICAgKi9cbiAgRjY6IDExNyxcbiAgLyoqXG4gICAqIEY3XG4gICAqL1xuICBGNzogMTE4LFxuICAvKipcbiAgICogRjhcbiAgICovXG4gIEY4OiAxMTksXG4gIC8qKlxuICAgKiBGOVxuICAgKi9cbiAgRjk6IDEyMCxcbiAgLyoqXG4gICAqIEYxMFxuICAgKi9cbiAgRjEwOiAxMjEsXG4gIC8qKlxuICAgKiBGMTFcbiAgICovXG4gIEYxMTogMTIyLFxuICAvKipcbiAgICogRjEyXG4gICAqL1xuICBGMTI6IDEyMyxcbiAgLyoqXG4gICAqIE5VTUxPQ0tcbiAgICovXG4gIE5VTUxPQ0s6IDE0NCxcbiAgLyoqXG4gICAqIFNFTUlDT0xPTlxuICAgKi9cbiAgU0VNSUNPTE9OOiAxODYsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogREFTSFxuICAgKi9cbiAgREFTSDogMTg5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIEVRVUFMU1xuICAgKi9cbiAgRVFVQUxTOiAxODcsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQ09NTUFcbiAgICovXG4gIENPTU1BOiAxODgsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogUEVSSU9EXG4gICAqL1xuICBQRVJJT0Q6IDE5MCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBTTEFTSFxuICAgKi9cbiAgU0xBU0g6IDE5MSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBBUE9TVFJPUEhFXG4gICAqL1xuICBBUE9TVFJPUEhFOiAxOTIsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogU0lOR0xFX1FVT1RFXG4gICAqL1xuICBTSU5HTEVfUVVPVEU6IDIyMiwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBPUEVOX1NRVUFSRV9CUkFDS0VUXG4gICAqL1xuICBPUEVOX1NRVUFSRV9CUkFDS0VUOiAyMTksIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQkFDS1NMQVNIXG4gICAqL1xuICBCQUNLU0xBU0g6IDIyMCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBDTE9TRV9TUVVBUkVfQlJBQ0tFVFxuICAgKi9cbiAgQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6IDIyMSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBXSU5fS0VZXG4gICAqL1xuICBXSU5fS0VZOiAyMjQsXG4gIC8qKlxuICAgKiBNQUNfRkZfTUVUQVxuICAgKi9cbiAgTUFDX0ZGX01FVEE6IDIyNCwgLy8gRmlyZWZveCAoR2Vja28pIGZpcmVzIHRoaXMgZm9yIHRoZSBtZXRhIGtleSBpbnN0ZWFkIG9mIDkxXG4gIC8qKlxuICAgKiBXSU5fSU1FXG4gICAqL1xuICBXSU5fSU1FOiAyMjlcbn07XG5cbi8qXG4gd2hldGhlciB0ZXh0IGFuZCBtb2RpZmllZCBrZXkgaXMgZW50ZXJlZCBhdCB0aGUgc2FtZSB0aW1lLlxuICovXG5LZXlDb2RlLmlzVGV4dE1vZGlmeWluZ0tleUV2ZW50ID0gZnVuY3Rpb24gaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQoZSkge1xuICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgaWYgKGUuYWx0S2V5ICYmICFlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8XG4gIC8vIEZ1bmN0aW9uIGtleXMgZG9uJ3QgZ2VuZXJhdGUgdGV4dFxuICBrZXlDb2RlID49IEtleUNvZGUuRjEgJiYga2V5Q29kZSA8PSBLZXlDb2RlLkYxMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBmb2xsb3dpbmcga2V5cyBhcmUgcXVpdGUgaGFybWxlc3MsIGV2ZW4gaW4gY29tYmluYXRpb24gd2l0aFxuICAvLyBDVFJMLCBBTFQgb3IgU0hJRlQuXG4gIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgIGNhc2UgS2V5Q29kZS5BTFQ6XG4gICAgY2FzZSBLZXlDb2RlLkNBUFNfTE9DSzpcbiAgICBjYXNlIEtleUNvZGUuQ09OVEVYVF9NRU5VOlxuICAgIGNhc2UgS2V5Q29kZS5DVFJMOlxuICAgIGNhc2UgS2V5Q29kZS5ET1dOOlxuICAgIGNhc2UgS2V5Q29kZS5FTkQ6XG4gICAgY2FzZSBLZXlDb2RlLkVTQzpcbiAgICBjYXNlIEtleUNvZGUuSE9NRTpcbiAgICBjYXNlIEtleUNvZGUuSU5TRVJUOlxuICAgIGNhc2UgS2V5Q29kZS5MRUZUOlxuICAgIGNhc2UgS2V5Q29kZS5NQUNfRkZfTUVUQTpcbiAgICBjYXNlIEtleUNvZGUuTUVUQTpcbiAgICBjYXNlIEtleUNvZGUuTlVNTE9DSzpcbiAgICBjYXNlIEtleUNvZGUuTlVNX0NFTlRFUjpcbiAgICBjYXNlIEtleUNvZGUuUEFHRV9ET1dOOlxuICAgIGNhc2UgS2V5Q29kZS5QQUdFX1VQOlxuICAgIGNhc2UgS2V5Q29kZS5QQVVTRTpcbiAgICBjYXNlIEtleUNvZGUuUFJJTlRfU0NSRUVOOlxuICAgIGNhc2UgS2V5Q29kZS5SSUdIVDpcbiAgICBjYXNlIEtleUNvZGUuU0hJRlQ6XG4gICAgY2FzZSBLZXlDb2RlLlVQOlxuICAgIGNhc2UgS2V5Q29kZS5XSU5fS0VZOlxuICAgIGNhc2UgS2V5Q29kZS5XSU5fS0VZX1JJR0hUOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLypcbiB3aGV0aGVyIGNoYXJhY3RlciBpcyBlbnRlcmVkLlxuICovXG5LZXlDb2RlLmlzQ2hhcmFjdGVyS2V5ID0gZnVuY3Rpb24gaXNDaGFyYWN0ZXJLZXkoa2V5Q29kZSkge1xuICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLlpFUk8gJiYga2V5Q29kZSA8PSBLZXlDb2RlLk5JTkUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChrZXlDb2RlID49IEtleUNvZGUuTlVNX1pFUk8gJiYga2V5Q29kZSA8PSBLZXlDb2RlLk5VTV9NVUxUSVBMWSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5BICYmIGtleUNvZGUgPD0gS2V5Q29kZS5aKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBTYWZhcmkgc2VuZHMgemVybyBrZXkgY29kZSBmb3Igbm9uLWxhdGluIGNoYXJhY3RlcnMuXG4gIGlmICh3aW5kb3cubmF2aWdhdGlvbi51c2VyQWdlbnQuaW5kZXhPZignV2ViS2l0JykgIT09IC0xICYmIGtleUNvZGUgPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgIGNhc2UgS2V5Q29kZS5TUEFDRTpcbiAgICBjYXNlIEtleUNvZGUuUVVFU1RJT05fTUFSSzpcbiAgICBjYXNlIEtleUNvZGUuTlVNX1BMVVM6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9NSU5VUzpcbiAgICBjYXNlIEtleUNvZGUuTlVNX1BFUklPRDpcbiAgICBjYXNlIEtleUNvZGUuTlVNX0RJVklTSU9OOlxuICAgIGNhc2UgS2V5Q29kZS5TRU1JQ09MT046XG4gICAgY2FzZSBLZXlDb2RlLkRBU0g6XG4gICAgY2FzZSBLZXlDb2RlLkVRVUFMUzpcbiAgICBjYXNlIEtleUNvZGUuQ09NTUE6XG4gICAgY2FzZSBLZXlDb2RlLlBFUklPRDpcbiAgICBjYXNlIEtleUNvZGUuU0xBU0g6XG4gICAgY2FzZSBLZXlDb2RlLkFQT1NUUk9QSEU6XG4gICAgY2FzZSBLZXlDb2RlLlNJTkdMRV9RVU9URTpcbiAgICBjYXNlIEtleUNvZGUuT1BFTl9TUVVBUkVfQlJBQ0tFVDpcbiAgICBjYXNlIEtleUNvZGUuQkFDS1NMQVNIOlxuICAgIGNhc2UgS2V5Q29kZS5DTE9TRV9TUVVBUkVfQlJBQ0tFVDpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gS2V5Q29kZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXV0aWwvbGliL0tleUNvZGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9Nb2RhbCA9IHJlcXVpcmUoJy4vTW9kYWwnKTtcblxudmFyIF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbCk7XG5cbnZhciBfY29uZmlybSA9IHJlcXVpcmUoJy4vY29uZmlybScpO1xuXG52YXIgX2NvbmZpcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZmlybSk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX01vZGFsMltcImRlZmF1bHRcIl0uaW5mbyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgIHZhciBjb25maWcgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwge1xuICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgIGljb25UeXBlOiAnaW5mby1jaXJjbGUnLFxuICAgICAgICBva0NhbmNlbDogZmFsc2VcbiAgICB9LCBwcm9wcyk7XG4gICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xufTtcbl9Nb2RhbDJbXCJkZWZhdWx0XCJdLnN1Y2Nlc3MgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBpY29uVHlwZTogJ2NoZWNrLWNpcmNsZScsXG4gICAgICAgIG9rQ2FuY2VsOiBmYWxzZVxuICAgIH0sIHByb3BzKTtcbiAgICByZXR1cm4gKDAsIF9jb25maXJtMltcImRlZmF1bHRcIl0pKGNvbmZpZyk7XG59O1xuX01vZGFsMltcImRlZmF1bHRcIl0uZXJyb3IgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgaWNvblR5cGU6ICdjcm9zcy1jaXJjbGUnLFxuICAgICAgICBva0NhbmNlbDogZmFsc2VcbiAgICB9LCBwcm9wcyk7XG4gICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xufTtcbl9Nb2RhbDJbXCJkZWZhdWx0XCJdLndhcm5pbmcgPSBfTW9kYWwyW1wiZGVmYXVsdFwiXS53YXJuID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGNvbmZpZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB7XG4gICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgaWNvblR5cGU6ICdleGNsYW1hdGlvbi1jaXJjbGUnLFxuICAgICAgICBva0NhbmNlbDogZmFsc2VcbiAgICB9LCBwcm9wcyk7XG4gICAgcmV0dXJuICgwLCBfY29uZmlybTJbXCJkZWZhdWx0XCJdKShjb25maWcpO1xufTtcbl9Nb2RhbDJbXCJkZWZhdWx0XCJdLmNvbmZpcm0gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICB2YXIgY29uZmlnID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHtcbiAgICAgICAgdHlwZTogJ2NvbmZpcm0nLFxuICAgICAgICBva0NhbmNlbDogdHJ1ZVxuICAgIH0sIHByb3BzKTtcbiAgICByZXR1cm4gKDAsIF9jb25maXJtMltcImRlZmF1bHRcIl0pKGNvbmZpZyk7XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfTW9kYWwyW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL21vZGFsL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTQ4XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9TZWFyY2gubGVzcydcclxuaW1wb3J0IHsgSW5wdXQsIFNlbGVjdCwgQnV0dG9uLCBJY29uIH0gZnJvbSAnYW50ZCdcclxuXHJcbmNsYXNzIFNlYXJjaCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgIHN1cGVyKHByb3BzKVxyXG4gICAgICBjb25zdCB7IHNlbGVjdCwgc2VsZWN0UHJvcHMgfSA9IHRoaXMucHJvcHNcclxuICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICBjbGVhclZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgIHNlbGVjdFZhbHVlOiBzZWxlY3QgJiYgc2VsZWN0UHJvcHMgPyBzZWxlY3RQcm9wcy5kZWZhdWx0VmFsdWUgOiAnJ1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIGhhbmRsZVNlYXJjaCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIGtleXdvcmQ6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5zZWFyY2hJbnB1dCkudmFsdWVcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdCkge1xyXG4gICAgICBkYXRhLmZpZWxkID0gdGhpcy5zdGF0ZS5zZWxlY3RWYWx1ZVxyXG4gICAgfVxyXG4gICAgdGhpcy5wcm9wcy5vblNlYXJjaCAmJiB0aGlzLnByb3BzLm9uU2VhcmNoKGRhdGEpXHJcbiAgfVxyXG4gIGhhbmRsZUlucHV0Q2hhbmdlID0gZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgLi4udGhpcy5zdGF0ZSxcclxuICAgICAgY2xlYXJWaXNpYmxlOiBlLnRhcmdldC52YWx1ZSAhPT0gJydcclxuICAgIH0pXHJcbiAgfVxyXG4gIGhhbmRlbGVTZWxlY3RDaGFuZ2UgPSB2YWx1ZSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgLi4udGhpcy5zdGF0ZSxcclxuICAgICAgc2VsZWN0VmFsdWU6IHZhbHVlXHJcbiAgICB9KVxyXG4gIH1cclxuICBoYW5kbGVDbGVhcklucHV0ID0gKCkgPT4ge1xyXG4gICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZSA9ICcnXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2xlYXJWaXNpYmxlOiBmYWxzZVxyXG4gICAgfSlcclxuICAgIHRoaXMuaGFuZGxlU2VhcmNoKClcclxuICB9XHJcbiAgcmVuZGVyICgpIHtcclxuICAgIGNvbnN0IHtzaXplLCBzZWxlY3QsIHNlbGVjdE9wdGlvbnMsIHNlbGVjdFByb3BzLCBzdHlsZSwga2V5d29yZH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCB7Y2xlYXJWaXNpYmxlfSA9IHRoaXMuc3RhdGVcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxJbnB1dC5Hcm91cCBjb21wYWN0IHNpemU9e3NpemV9IGNsYXNzTmFtZT17c3R5bGVzLnNlYXJjaH0gc3R5bGU9e3N0eWxlfT5cclxuICAgICAgICB7c2VsZWN0ICYmIDxTZWxlY3QgcmVmPSdzZWFyY2hTZWxlY3QnIG9uQ2hhbmdlPXt0aGlzLmhhbmRlbGVTZWxlY3RDaGFuZ2V9IHNpemU9e3NpemV9IHsuLi5zZWxlY3RQcm9wc30+XHJcbiAgICAgICAgICB7c2VsZWN0T3B0aW9ucyAmJiBzZWxlY3RPcHRpb25zLm1hcCgoaXRlbSwga2V5KSA9PiA8U2VsZWN0Lk9wdGlvbiB2YWx1ZT17aXRlbS52YWx1ZX0ga2V5PXtrZXl9PntpdGVtLm5hbWUgfHwgaXRlbS52YWx1ZX08L1NlbGVjdC5PcHRpb24+KX1cclxuICAgICAgICA8L1NlbGVjdD59XHJcbiAgICAgICAgPElucHV0IHJlZj0nc2VhcmNoSW5wdXQnIHNpemU9e3NpemV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0Q2hhbmdlfSBvblByZXNzRW50ZXI9e3RoaXMuaGFuZGxlU2VhcmNofSBkZWZhdWx0VmFsdWU9e2tleXdvcmR9Lz5cclxuICAgICAgICA8QnV0dG9uIHNpemU9e3NpemV9IHR5cGU9J3ByaW1hcnknIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2VhcmNofT48SWNvbiB0eXBlPVwic2VhcmNoXCIgLz7mkJzntKI8L0J1dHRvbj5cclxuICAgICAgICB7Y2xlYXJWaXNpYmxlICYmIDxJY29uIHR5cGU9J2Nyb3NzJyBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsZWFySW5wdXR9IC8+fVxyXG4gICAgICA8L0lucHV0Lkdyb3VwPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1NlYXJjaC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgVHdlZW5PbmVHcm91cCB9IGZyb20gJ3JjLXR3ZWVuLW9uZSdcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL1RhYmxlQm9keVdyYXBwZXIubGVzcydcclxuXHJcbmNvbnN0IGVudGVyQW5pbSA9IFtcclxuICB7XHJcbiAgICBvcGFjaXR5OiAwLFxyXG4gICAgeDogMzAsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZWVlJyxcclxuICAgIGR1cmF0aW9uOiAwXHJcbiAgfSwge1xyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgZHVyYXRpb246IDIwMCxcclxuICAgIHR5cGU6ICdmcm9tJyxcclxuICAgIGRlbGF5OiAyNTAsXHJcbiAgICBlYXNlOiAnZWFzZU91dFF1YWQnLFxyXG4gICAgb25Db21wbGV0ZTogKGUpID0+IHtcclxuICAgICAgZS50YXJnZXQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nXHJcbiAgICB9LFxyXG4gIH0sIHtcclxuICAgIG9wYWNpdHk6IDEsXHJcbiAgICB4OiAwLFxyXG4gICAgZHVyYXRpb246IDI1MCxcclxuICAgIGVhc2U6ICdlYXNlT3V0UXVhZCdcclxuICB9LCB7XHJcbiAgICBkZWxheTogMTAwMCxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnXHJcbiAgfVxyXG5dXHJcblxyXG5jb25zdCBsZWF2ZUFuaW0gPSBbXHJcbiAge1xyXG4gICAgZHVyYXRpb246IDI1MCxcclxuICAgIHg6IC0zMCxcclxuICAgIG9wYWNpdHk6IDBcclxuICB9LCB7XHJcbiAgICBoZWlnaHQ6IDAsXHJcbiAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgZWFzZTogJ2Vhc2VPdXRRdWFkJ1xyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgVGFibGVCb2R5V3JhcHBlciA9ICh7IGJvZHksIHBhZ2UgPSAxLCBjdXJyZW50IH0pID0+IHtcclxuXHJcbiAgLy8g5YiH5o2i5YiG6aG15Y676Zmk5Yqo55S7O1xyXG4gIGlmKGN1cnJlbnQgIT0gK3BhZ2UpIHtcclxuICAgIHJldHVybiBib2R5XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFR3ZWVuT25lR3JvdXBcclxuICAgIGNvbXBvbmVudD1cInRib2R5XCJcclxuICAgIGNsYXNzTmFtZT17Ym9keS5wcm9wcy5jbGFzc05hbWV9XHJcbiAgICBlbnRlcj17ZW50ZXJBbmltfVxyXG4gICAgbGVhdmU9e2xlYXZlQW5pbX1cclxuICAgIGFwcGVhcj17ZmFsc2V9PlxyXG4gICAgICB7Ym9keS5wcm9wcy5jaGlsZHJlbn1cclxuICAgIDwvVHdlZW5PbmVHcm91cD5cclxuICApXHJcbn1cclxuXHJcblRhYmxlQm9keVdyYXBwZXIucHJvcFR5cGVzID0ge1xyXG4gIHBhZ2U6IFByb3BUeXBlcy5hbnksXHJcbiAgY3VycmVudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRhYmxlQm9keVdyYXBwZXJcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9jb21tb24vVGFibGVCb2R5V3JhcHBlci5qc1xuICoqLyIsIid1c2Ugc3RyaWN0Jztcbi8qIGdsb2JhbHMgU3ltYm9sOiB0cnVlLCBVaW50OEFycmF5OiB0cnVlLCBXZWFrTWFwOiB0cnVlICovXG4vKiFcbiAqIGRlZXAtZXFsXG4gKiBDb3B5cmlnaHQoYykgMjAxMyBKYWtlIEx1ZXIgPGpha2VAYWxvZ2ljYWxwYXJhZG94LmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qIVxuICogTW9kdWxlIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciB0eXBlID0gcmVxdWlyZSgndHlwZS1kZXRlY3QnKTtcbmZ1bmN0aW9uIEZha2VNYXAoKSB7XG4gIHRoaXMuY2xlYXIoKTtcbn1cbkZha2VNYXAucHJvdG90eXBlID0ge1xuICBjbGVhcjogZnVuY3Rpb24gY2xlYXJNYXAoKSB7XG4gICAgdGhpcy5rZXlzID0gW107XG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXRNYXAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMudmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xuICAgICAgdGhpcy52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uIGdldE1hcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNbdGhpcy5rZXlzLmluZGV4T2Yoa2V5KV07XG4gIH0sXG4gIGRlbGV0ZTogZnVuY3Rpb24gZGVsZXRlTWFwKGtleSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLnZhbHVlcy5zbGljZShpbmRleCArIDEpKTtcbiAgICAgIHRoaXMua2V5cyA9IHRoaXMua2V5cy5zbGljZSgwLCBpbmRleCkuY29uY2F0KHRoaXMua2V5cy5zbGljZShpbmRleCArIDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59O1xuXG52YXIgTWVtb2l6ZU1hcCA9IG51bGw7XG5pZiAodHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicpIHtcbiAgTWVtb2l6ZU1hcCA9IFdlYWtNYXA7XG59IGVsc2Uge1xuICBNZW1vaXplTWFwID0gRmFrZU1hcDtcbn1cblxuLyohXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIE1lbW9pemVNYXAgaGFzIHJlY29yZGVkIGEgcmVzdWx0IG9mIHRoZSB0d28gb3BlcmFuZHNcbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWVtb2l6ZU1hcH0gbWVtb2l6ZU1hcFxuICogQHJldHVybnMge0Jvb2xlYW58bnVsbH0gcmVzdWx0XG4qL1xuZnVuY3Rpb24gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwKSB7XG4gIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cbiAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRNYXApIHtcbiAgICB2YXIgcmVzdWx0ID0gbGVmdEhhbmRNYXAuZ2V0KHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKiFcbiAqIFNldCB0aGUgcmVzdWx0IG9mIHRoZSBlcXVhbGl0eSBpbnRvIHRoZSBNZW1vaXplTWFwXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdWx0XG4qL1xuZnVuY3Rpb24gbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXAsIHJlc3VsdCkge1xuICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG4gIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBsZWZ0SGFuZE1hcCA9IG1lbW9pemVNYXAuZ2V0KGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZE1hcCkge1xuICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIGxlZnRIYW5kTWFwID0gbmV3IE1lbW9pemVNYXAoKTtcbiAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcbiAgICBtZW1vaXplTWFwLnNldChsZWZ0SGFuZE9wZXJhbmQsIGxlZnRIYW5kTWFwKTtcbiAgfVxufVxuXG4vKiFcbiAqIFByaW1hcnkgRXhwb3J0XG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZWVwRXF1YWw7XG5tb2R1bGUuZXhwb3J0cy5NZW1vaXplTWFwID0gTWVtb2l6ZU1hcDtcblxuLyoqXG4gKiBBc3NlcnQgZGVlcGx5IG5lc3RlZCBzYW1lVmFsdWUgZXF1YWxpdHkgYmV0d2VlbiB0d28gb2JqZWN0cyBvZiBhbnkgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuICovXG5mdW5jdGlvbiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIC8vIElmIHdlIGhhdmUgYSBjb21wYXJhdG9yLCB3ZSBjYW4ndCBhc3N1bWUgYW55dGhpbmc7IHNvIGJhaWwgdG8gaXRzIGNoZWNrIGZpcnN0LlxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKHNpbXBsZVJlc3VsdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG4gIH1cblxuICAvLyBEZWVwZXIgY29tcGFyaXNvbnMgYXJlIHB1c2hlZCB0aHJvdWdoIHRvIGEgbGFyZ2VyIGZ1bmN0aW9uXG4gIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBNYW55IGNvbXBhcmlzb25zIGNhbiBiZSBjYW5jZWxlZCBvdXQgZWFybHkgdmlhIHNpbXBsZSBlcXVhbGl0eSBvciBwcmltaXRpdmUgY2hlY2tzLlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcmV0dXJuIHtCb29sZWFufG51bGx9IGVxdWFsIG1hdGNoXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCkge1xuICAvLyBFcXVhbCByZWZlcmVuY2VzIChleGNlcHQgZm9yIE51bWJlcnMpIGNhbiBiZSByZXR1cm5lZCBlYXJseVxuICBpZiAobGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kKSB7XG4gICAgLy8gSGFuZGxlICstMCBjYXNlc1xuICAgIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQgIT09IDAgfHwgMSAvIGxlZnRIYW5kT3BlcmFuZCA9PT0gMSAvIHJpZ2h0SGFuZE9wZXJhbmQ7XG4gIH1cblxuICAvLyBoYW5kbGUgTmFOIGNhc2VzXG4gIGlmIChcbiAgICBsZWZ0SGFuZE9wZXJhbmQgIT09IGxlZnRIYW5kT3BlcmFuZCAmJiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIHJpZ2h0SGFuZE9wZXJhbmQgIT09IHJpZ2h0SGFuZE9wZXJhbmQgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBBbnl0aGluZyB0aGF0IGlzIG5vdCBhbiAnb2JqZWN0JywgaS5lLiBzeW1ib2xzLCBmdW5jdGlvbnMsIGJvb2xlYW5zLCBudW1iZXJzLFxuICAvLyBzdHJpbmdzLCBhbmQgdW5kZWZpbmVkLCBjYW4gYmUgY29tcGFyZWQgYnkgcmVmZXJlbmNlLlxuICBpZiAoaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIC8vIEVhc3kgb3V0IGIvYyBpdCB3b3VsZCBoYXZlIHBhc3NlZCB0aGUgZmlyc3QgZXF1YWxpdHkgY2hlY2tcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qIVxuICogVGhlIG1haW4gbG9naWMgb2YgdGhlIGBkZWVwRXF1YWxgIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWVtb2l6ZV0gKG9wdGlvbmFsKSBQcm92aWRlIGEgY3VzdG9tIG1lbW9pemF0aW9uIG9iamVjdCB3aGljaCB3aWxsIGNhY2hlIHRoZSByZXN1bHRzIG9mXG4gICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG4gICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IGVxdWFsIG1hdGNoXG4qL1xuZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5tZW1vaXplID0gb3B0aW9ucy5tZW1vaXplID09PSBmYWxzZSA/IGZhbHNlIDogb3B0aW9ucy5tZW1vaXplIHx8IG5ldyBNZW1vaXplTWFwKCk7XG4gIHZhciBjb21wYXJhdG9yID0gb3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3I7XG5cbiAgLy8gQ2hlY2sgaWYgYSBtZW1vaXplZCByZXN1bHQgZXhpc3RzLlxuICB2YXIgbWVtb2l6ZVJlc3VsdExlZnQgPSBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSk7XG4gIGlmIChtZW1vaXplUmVzdWx0TGVmdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBtZW1vaXplUmVzdWx0TGVmdDtcbiAgfVxuICB2YXIgbWVtb2l6ZVJlc3VsdFJpZ2h0ID0gbWVtb2l6ZUNvbXBhcmUocmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUpO1xuICBpZiAobWVtb2l6ZVJlc3VsdFJpZ2h0ICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIG1lbW9pemVSZXN1bHRSaWdodDtcbiAgfVxuXG4gIC8vIElmIGEgY29tcGFyYXRvciBpcyBwcmVzZW50LCB1c2UgaXQuXG4gIGlmIChjb21wYXJhdG9yKSB7XG4gICAgdmFyIGNvbXBhcmF0b3JSZXN1bHQgPSBjb21wYXJhdG9yKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gICAgLy8gQ29tcGFyYXRvcnMgbWF5IHJldHVybiBudWxsLCBpbiB3aGljaCBjYXNlIHdlIHdhbnQgdG8gZ28gYmFjayB0byBkZWZhdWx0IGJlaGF2aW9yLlxuICAgIGlmIChjb21wYXJhdG9yUmVzdWx0ID09PSBmYWxzZSB8fCBjb21wYXJhdG9yUmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBjb21wYXJhdG9yUmVzdWx0KTtcbiAgICAgIHJldHVybiBjb21wYXJhdG9yUmVzdWx0O1xuICAgIH1cbiAgICAvLyBUbyBhbGxvdyBjb21wYXJhdG9ycyB0byBvdmVycmlkZSAqYW55KiBiZWhhdmlvciwgd2UgcmFuIHRoZW0gZmlyc3QuIFNpbmNlIGl0IGRpZG4ndCBkZWNpZGVcbiAgICAvLyB3aGF0IHRvIGRvLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0byByZXR1cm4gdGhlIGJhc2ljIHRlc3RzIGZpcnN0IGJlZm9yZSB3ZSBtb3ZlIG9uLlxuICAgIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIC8vIERvbid0IG1lbW9pemUgdGhpcywgaXQgdGFrZXMgbG9uZ2VyIHRvIHNldC9yZXRyaWV2ZSB0aGFuIHRvIGp1c3QgY29tcGFyZS5cbiAgICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxlZnRIYW5kVHlwZSA9IHR5cGUobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kVHlwZSAhPT0gdHlwZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZW1wb3JhcmlseSBzZXQgdGhlIG9wZXJhbmRzIGluIHRoZSBtZW1vaXplIG9iamVjdCB0byBwcmV2ZW50IGJsb3dpbmcgdGhlIHN0YWNrXG4gIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHRydWUpO1xuXG4gIHZhciByZXN1bHQgPSBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpO1xuICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpIHtcbiAgc3dpdGNoIChsZWZ0SGFuZFR5cGUpIHtcbiAgICBjYXNlICdTdHJpbmcnOlxuICAgIGNhc2UgJ051bWJlcic6XG4gICAgY2FzZSAnQm9vbGVhbic6XG4gICAgY2FzZSAnRGF0ZSc6XG4gICAgICAvLyBJZiB0aGVzZSB0eXBlcyBhcmUgdGhlaXIgaW5zdGFuY2UgdHlwZXMgKGUuZy4gYG5ldyBOdW1iZXJgKSB0aGVuIHJlLWRlZXBFcXVhbCBhZ2FpbnN0IHRoZWlyIHZhbHVlc1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQudmFsdWVPZigpLCByaWdodEhhbmRPcGVyYW5kLnZhbHVlT2YoKSk7XG4gICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgY2FzZSAnU3ltYm9sJzpcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgY2FzZSAnV2Vha01hcCc6XG4gICAgY2FzZSAnV2Vha1NldCc6XG4gICAgY2FzZSAnRXJyb3InOlxuICAgICAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZDtcbiAgICBjYXNlICdBcmd1bWVudHMnOlxuICAgIGNhc2UgJ0ludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhBcnJheSc6XG4gICAgY2FzZSAnVWludDhDbGFtcGVkQXJyYXknOlxuICAgIGNhc2UgJ0ludDE2QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQxNkFycmF5JzpcbiAgICBjYXNlICdJbnQzMkFycmF5JzpcbiAgICBjYXNlICdVaW50MzJBcnJheSc6XG4gICAgY2FzZSAnRmxvYXQzMkFycmF5JzpcbiAgICBjYXNlICdGbG9hdDY0QXJyYXknOlxuICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnUmVnRXhwJzpcbiAgICAgIHJldHVybiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIGNhc2UgJ0dlbmVyYXRvcic6XG4gICAgICByZXR1cm4gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdEYXRhVmlldyc6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQuYnVmZmVyKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZC5idWZmZXIpLCBvcHRpb25zKTtcbiAgICBjYXNlICdBcnJheUJ1ZmZlcic6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG4gICAgY2FzZSAnU2V0JzpcbiAgICAgIHJldHVybiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBjYXNlICdNYXAnOlxuICAgICAgcmV0dXJuIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgfVxufVxuXG4vKiFcbiAqIENvbXBhcmUgdHdvIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIGVxdWFsaXR5LlxuICpcbiAqIEBwYXJhbSB7UmVnRXhwfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7UmVnRXhwfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgcmV0dXJuIGxlZnRIYW5kT3BlcmFuZC50b1N0cmluZygpID09PSByaWdodEhhbmRPcGVyYW5kLnRvU3RyaW5nKCk7XG59XG5cbi8qIVxuICogQ29tcGFyZSB0d28gU2V0cy9NYXBzIGZvciBlcXVhbGl0eS4gRmFzdGVyIHRoYW4gb3RoZXIgZXF1YWxpdHkgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7U2V0fSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7U2V0fSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGVudHJpZXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgLy8gSUUxMSBkb2Vzbid0IHN1cHBvcnQgU2V0I2VudHJpZXMgb3IgU2V0I0BAaXRlcmF0b3IsIHNvIHdlIG5lZWQgbWFudWFsbHkgcG9wdWxhdGUgdXNpbmcgU2V0I2ZvckVhY2hcbiAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplICE9PSByaWdodEhhbmRPcGVyYW5kLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGxlZnRIYW5kSXRlbXMgPSBbXTtcbiAgdmFyIHJpZ2h0SGFuZEl0ZW1zID0gW107XG4gIGxlZnRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuICAgIGxlZnRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG4gIH0pO1xuICByaWdodEhhbmRPcGVyYW5kLmZvckVhY2goZnVuY3Rpb24gZ2F0aGVyRW50cmllcyhrZXksIHZhbHVlKSB7XG4gICAgcmlnaHRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG4gIH0pO1xuICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZEl0ZW1zLnNvcnQoKSwgcmlnaHRIYW5kSXRlbXMuc29ydCgpLCBvcHRpb25zKTtcbn1cblxuLyohXG4gKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGZsYXQgaXRlcmFibGUgb2JqZWN0cyBzdWNoIGFzIEFycmF5cywgVHlwZWRBcnJheXMgb3IgTm9kZS5qcyBidWZmZXJzLlxuICpcbiAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICB2YXIgbGVuZ3RoID0gbGVmdEhhbmRPcGVyYW5kLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCAhPT0gcmlnaHRIYW5kT3BlcmFuZC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBpbmRleCA9IC0xO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2luZGV4XSwgcmlnaHRIYW5kT3BlcmFuZFtpbmRleF0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyohXG4gKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGdlbmVyYXRvciBvYmplY3RzIHN1Y2ggYXMgdGhvc2UgcmV0dXJuZWQgYnkgZ2VuZXJhdG9yIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gZ2VuZXJhdG9yRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHJldHVybiBpdGVyYWJsZUVxdWFsKGdldEdlbmVyYXRvckVudHJpZXMobGVmdEhhbmRPcGVyYW5kKSwgZ2V0R2VuZXJhdG9yRW50cmllcyhyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG59XG5cbi8qIVxuICogRGV0ZXJtaW5lIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgdGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG5cbi8qIVxuICogR2V0cyBhbGwgaXRlcmF0b3IgZW50cmllcyBmcm9tIHRoZSBnaXZlbiBPYmplY3QuIElmIHRoZSBPYmplY3QgaGFzIG5vIEBAaXRlcmF0b3IgZnVuY3Rpb24sIHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG4gKiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgaXRlcmF0b3IgLSB3aGljaCBjb3VsZCBoYXZlIHNpZGUgZWZmZWN0cyBkZXBlbmRpbmcgb24gdGhlIEBAaXRlcmF0b3IgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEBAaXRlcmF0b3IgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JFbnRyaWVzKHRhcmdldCkge1xuICBpZiAoaGFzSXRlcmF0b3JGdW5jdGlvbih0YXJnZXQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBnZXRHZW5lcmF0b3JFbnRyaWVzKHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdKCkpO1xuICAgIH0gY2F0Y2ggKGl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIGVudHJpZXMgZnJvbSBhIEdlbmVyYXRvci4gVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGdlbmVyYXRvciAtIHdoaWNoIGNvdWxkIGhhdmUgc2lkZSBlZmZlY3RzLlxuICpcbiAqIEBwYXJhbSB7R2VuZXJhdG9yfSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBHZW5lcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldEdlbmVyYXRvckVudHJpZXMoZ2VuZXJhdG9yKSB7XG4gIHZhciBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuICB2YXIgYWNjdW11bGF0b3IgPSBbIGdlbmVyYXRvclJlc3VsdC52YWx1ZSBdO1xuICB3aGlsZSAoZ2VuZXJhdG9yUmVzdWx0LmRvbmUgPT09IGZhbHNlKSB7XG4gICAgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcbiAgICBhY2N1bXVsYXRvci5wdXNoKGdlbmVyYXRvclJlc3VsdC52YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGFjY3VtdWxhdG9yO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIGEgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBrZXlzIGZyb20gdGhlIHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZUtleXModGFyZ2V0KSB7XG4gIHZhciBrZXlzID0gW107XG4gIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuLyohXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIGhhdmUgbWF0Y2hpbmcgdmFsdWVzLCBnaXZlbiBhIHNldCBvZiBrZXlzLiBEZWZlcnMgdG8gZGVlcEVxdWFsIGZvciB0aGUgZXF1YWxpdHkgY2hlY2sgb2ZcbiAqIGVhY2gga2V5LiBJZiBhbnkgdmFsdWUgb2YgdGhlIGdpdmVuIGtleSBpcyBub3QgZXF1YWwsIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiBmYWxzZSAoZWFybHkpLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtBcnJheX0ga2V5cyBBbiBhcnJheSBvZiBrZXlzIHRvIGNvbXBhcmUgdGhlIHZhbHVlcyBvZiBsZWZ0SGFuZE9wZXJhbmQgYW5kIHJpZ2h0SGFuZE9wZXJhbmQgYWdhaW5zdFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuZnVuY3Rpb24ga2V5c0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwga2V5cywgb3B0aW9ucykge1xuICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gIGlmIChsZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmRba2V5c1tpXV0sIHJpZ2h0SGFuZE9wZXJhbmRba2V5c1tpXV0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyohXG4gKiBSZWN1cnNpdmVseSBjaGVjayB0aGUgZXF1YWxpdHkgb2YgdHdvIE9iamVjdHMuIE9uY2UgYmFzaWMgc2FtZW5lc3MgaGFzIGJlZW4gZXN0YWJsaXNoZWQgaXQgd2lsbCBkZWZlciB0byBgZGVlcEVxdWFsYFxuICogZm9yIGVhY2ggZW51bWVyYWJsZSBrZXkgaW4gdGhlIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIHZhciBsZWZ0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhsZWZ0SGFuZE9wZXJhbmQpO1xuICB2YXIgcmlnaHRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCAmJiBsZWZ0SGFuZEtleXMubGVuZ3RoID09PSByaWdodEhhbmRLZXlzLmxlbmd0aCkge1xuICAgIGxlZnRIYW5kS2V5cy5zb3J0KCk7XG4gICAgcmlnaHRIYW5kS2V5cy5zb3J0KCk7XG4gICAgaWYgKGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRLZXlzLCByaWdodEhhbmRLZXlzKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kS2V5cywgb3B0aW9ucyk7XG4gIH1cblxuICB2YXIgbGVmdEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCk7XG4gIHZhciByaWdodEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKHJpZ2h0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRFbnRyaWVzLmxlbmd0aCAmJiBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSByaWdodEhhbmRFbnRyaWVzLmxlbmd0aCkge1xuICAgIGxlZnRIYW5kRW50cmllcy5zb3J0KCk7XG4gICAgcmlnaHRIYW5kRW50cmllcy5zb3J0KCk7XG4gICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRFbnRyaWVzLCByaWdodEhhbmRFbnRyaWVzLCBvcHRpb25zKTtcbiAgfVxuXG4gIGlmIChsZWZ0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG4gICAgICBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwICYmXG4gICAgICByaWdodEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgcmlnaHRIYW5kRW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyohXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFyZ3VtZW50IGlzIGEgcHJpbWl0aXZlLlxuICpcbiAqIFRoaXMgaW50ZW50aW9uYWxseSByZXR1cm5zIHRydWUgZm9yIGFsbCBvYmplY3RzIHRoYXQgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZSxcbiAqIGluY2x1ZGluZyBmdW5jdGlvbnMgYW5kIHN5bWJvbHMuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jztcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2RlZXAtZXFsL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlYXJjaFwiOlwic2VhcmNoX19fcDA0S05cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2gubGVzc1xuICoqIG1vZHVsZSBpZCA9IDE1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cbi8qKlxuICogQ3JlYXRlZCBieSBqbGpzaiBvbiAxNi8xLzI3LlxuICovXG5cblxudmFyIF9lYXNpbmcgPSByZXF1aXJlKCcuL2Vhc2luZycpO1xuXG52YXIgX2Vhc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXNpbmcpO1xuXG52YXIgX3BsdWdpbnMgPSByZXF1aXJlKCcuL3BsdWdpbnMnKTtcblxudmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXG52YXIgX1N0eWxlUGx1Z2luID0gcmVxdWlyZSgnLi9wbHVnaW4vU3R5bGVQbHVnaW4nKTtcblxudmFyIF9TdHlsZVBsdWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdHlsZVBsdWdpbik7XG5cbnZhciBfc3R5bGVVdGlscyA9IHJlcXVpcmUoJ3N0eWxlLXV0aWxzJyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbC5qcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERFRkFVTFRfRUFTSU5HID0gJ2Vhc2VJbk91dFF1YWQnO1xudmFyIERFRkFVTFRfRFVSQVRJT04gPSA0NTA7XG52YXIgREVGQVVMVF9ERUxBWSA9IDA7XG5mdW5jdGlvbiBub29wKCkge31cbl9wbHVnaW5zMltcImRlZmF1bHRcIl0ucHVzaChfU3R5bGVQbHVnaW4yW1wiZGVmYXVsdFwiXSk7XG4vLyDorr7nva7pu5jorqTmlbDmja5cbmZ1bmN0aW9uIGRlZmF1bHREYXRhKHZhcnMsIG5vdykge1xuICByZXR1cm4ge1xuICAgIGR1cmF0aW9uOiB2YXJzLmR1cmF0aW9uIHx8IHZhcnMuZHVyYXRpb24gPT09IDAgPyB2YXJzLmR1cmF0aW9uIDogREVGQVVMVF9EVVJBVElPTixcbiAgICBkZWxheTogdmFycy5kZWxheSB8fCBERUZBVUxUX0RFTEFZLFxuICAgIGVhc2U6IHR5cGVvZiB2YXJzLmVhc2UgPT09ICdmdW5jdGlvbicgPyB2YXJzLmVhc2UgOiBfZWFzaW5nMltcImRlZmF1bHRcIl1bdmFycy5lYXNlIHx8IERFRkFVTFRfRUFTSU5HXSxcbiAgICBvblVwZGF0ZTogdmFycy5vblVwZGF0ZSB8fCBub29wLFxuICAgIG9uQ29tcGxldGU6IHZhcnMub25Db21wbGV0ZSB8fCBub29wLFxuICAgIG9uU3RhcnQ6IHZhcnMub25TdGFydCB8fCBub29wLFxuICAgIG9uUmVwZWF0OiB2YXJzLm9uUmVwZWF0IHx8IG5vb3AsXG4gICAgcmVwZWF0OiB2YXJzLnJlcGVhdCB8fCAwLFxuICAgIHJlcGVhdERlbGF5OiB2YXJzLnJlcGVhdERlbGF5IHx8IDAsXG4gICAgeW95bzogdmFycy55b3lvIHx8IGZhbHNlLFxuICAgIHR5cGU6IHZhcnMudHlwZSB8fCAndG8nLFxuICAgIGluaXRUaW1lOiBub3csXG4gICAgYXBwZWFyVG86IHR5cGVvZiB2YXJzLmFwcGVhclRvID09PSAnbnVtYmVyJyA/IHZhcnMuYXBwZWFyVG8gOiBudWxsXG4gIH07XG59XG5cbnZhciB0aW1lTGluZSA9IGZ1bmN0aW9uIHRpbWVMaW5lKHRhcmdldCwgdG9EYXRhLCBwcm9wcykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmF0dHIgPSBwcm9wcy5hdHRyIHx8ICdzdHlsZSc7XG4gIHRoaXMud2lsbENoYW5nZSA9IHByb3BzLndpbGxDaGFuZ2U7XG4gIC8vIOiusOW9leaAu+aXtumXtDtcbiAgdGhpcy50b3RhbFRpbWUgPSAwO1xuICAvLyDorrDlvZXlvZPliY3ml7bpl7Q7XG4gIHRoaXMucHJvZ3Jlc3NUaW1lID0gMDtcbiAgLy8g6K6w5b2V5pe26Ze06L205pWw5o2uO1xuICB0aGlzLmRlZmF1bHREYXRhID0gW107XG4gIC8vIOavj+S4queahOW8gOWni+aVsOaNru+8m1xuICB0aGlzLnN0YXJ0ID0ge307XG4gIC8vIOiusOW9leWKqOeUu+W8gOWniztcbiAgdGhpcy5vblN0YXJ0ID0ge307XG4gIC8vIOW8gOWni+m7mOiupOeahOaVsOaNru+8m1xuICB0aGlzLnN0YXJ0RGVmYXVsdERhdGEgPSB7fTtcbiAgdmFyIGRhdGEgPSBbXTtcbiAgdG9EYXRhLmZvckVhY2goZnVuY3Rpb24gKGQsIGkpIHtcbiAgICB2YXIgX2QgPSBfZXh0ZW5kcyh7fSwgZCk7XG4gICAgaWYgKF90aGlzLmF0dHIgPT09ICdzdHlsZScpIHtcbiAgICAgIGRhdGFbaV0gPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKF9kKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpIHtcbiAgICAgICAgICBkYXRhW2ldW2tleV0gPSBfZFtrZXldO1xuICAgICAgICAgIGRlbGV0ZSBfZFtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRhdGFbaV0uc3R5bGUgPSBfZDtcbiAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMuYXR0ciA9PT0gJ2F0dHInKSB7XG4gICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdzdHlsZScgJiYgQXJyYXkuaXNBcnJheShkW2tleV0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHlsZSBzaG91bGQgYmUgdGhlIG9iamVjdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuICAgICAgICAgIF9kLnN0eWxlID0gX2V4dGVuZHMoe30sIF9kLnN0eWxlLCB7IGJlemllcjogX2Rba2V5XSB9KTtcbiAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcbiAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhLnN0eWxlID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhW2tleV0gPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGF0YVtpXSA9IF9kO1xuICAgIH1cbiAgfSk7XG4gIC8vIOWKqOeUu+i/h+eoi1xuICB0aGlzLnR3ZWVuID0ge307XG4gIC8vIOavj+W4p+eahOaXtumXtDtcbiAgdGhpcy5wZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcbiAgLy8g5rOo5YaM77yM56ys5LiA5qyh6L+b5YWl5omn6KGM5rOo5YaMXG4gIHRoaXMucmVnaXN0ZXIgPSBmYWxzZTtcbiAgLy8g57yT5Yqo5pyA5bCP5YC8O1xuICB0aGlzLnRpbnlOdW0gPSAwLjAwMDAwMDAwMDE7XG4gIC8vIOiuvue9rum7mOiupOWKqOeUu+aVsOaNrjtcbiAgdGhpcy5zZXREZWZhdWx0RGF0YShkYXRhKTtcbn07XG52YXIgcCA9IHRpbWVMaW5lLnByb3RvdHlwZTtcblxucC5zZXREZWZhdWx0RGF0YSA9IGZ1bmN0aW9uIChfdmFycykge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICB2YXIgbm93ID0gMDtcbiAgdmFyIHJlcGVhdE1heCA9IGZhbHNlO1xuICB2YXIgZGF0YSA9IF92YXJzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBhcHBlYXJUb0Jvb2wgPSB0eXBlb2YgaXRlbS5hcHBlYXJUbyA9PT0gJ251bWJlcic7XG4gICAgLy8g5Yqg5LiK5bu25pe277yM5Zyo5rKh5pyJ5pKt5pS+6L+H5pe277ybXG4gICAgLy8gIWFwcGVhclRvQm9vbCAmJiAobm93ICs9IGl0ZW0uZGVsYXkgfHwgMCk7XG4gICAgaWYgKCFhcHBlYXJUb0Jvb2wpIHtcbiAgICAgIG5vdyArPSBpdGVtLmRlbGF5IHx8IDA7XG4gICAgfVxuICAgIHZhciBhcHBlYXJUb1RpbWUgPSAoaXRlbS5hcHBlYXJUbyB8fCAwKSArIChpdGVtLmRlbGF5IHx8IDApO1xuICAgIC8vIOiOt+WPlum7mOiupOaVsOaNrlxuICAgIHZhciB0d2VlbkRhdGEgPSBkZWZhdWx0RGF0YShpdGVtLCBhcHBlYXJUb0Jvb2wgPyBhcHBlYXJUb1RpbWUgOiBub3cpO1xuICAgIHR3ZWVuRGF0YS52YXJzID0ge307XG4gICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgICAgaWYgKCEoX2tleSBpbiB0d2VlbkRhdGEpKSB7XG4gICAgICAgIHZhciBfZGF0YSA9IGl0ZW1bX2tleV07XG4gICAgICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcbiAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzMi50YXJnZXQsIF9kYXRhLCB0d2VlbkRhdGEudHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSB7IHR5cGU6ICdjb2xvcicsIHZhcnM6ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShfZGF0YSkgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX2RhdGEgPT09ICdudW1iZXInIHx8IF9kYXRhLnNwbGl0KC9bLHxcXHNdL2cpLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgdmFyIHZhcnMgPSBwYXJzZUZsb2F0KF9kYXRhKTtcbiAgICAgICAgICB2YXIgdW5pdCA9IF9kYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgICAgICAgIHZhciBjb3VudCA9IF9kYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB1bml0OiB1bml0LCB2YXJzOiB2YXJzLCBjb3VudDogY291bnQgfTtcbiAgICAgICAgfSBlbHNlIGlmICgoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSAmJiAnU1ZHTW9ycGgnIGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcbiAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdLlNWR01vcnBoKF90aGlzMi50YXJnZXQsIF9kYXRhLCBfa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0d2VlbkRhdGEueW95byAmJiAhdHdlZW5EYXRhLnJlcGVhdCkge1xuICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiB5b3lvIG11c3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHJlcGVhdDsnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cbiAgICBpZiAodHdlZW5EYXRhLnJlcGVhdCA9PT0gLTEpIHtcbiAgICAgIHJlcGVhdE1heCA9IHRydWU7XG4gICAgfVxuICAgIHZhciByZXBlYXQgPSB0d2VlbkRhdGEucmVwZWF0ID09PSAtMSA/IDAgOiB0d2VlbkRhdGEucmVwZWF0O1xuICAgIGlmIChhcHBlYXJUb0Jvb2wpIHtcbiAgICAgIC8vIOWmguaenOaciSBhcHBlYXJUbyDkuJTov5nmnaHml7bpl7Tmr5Qgbm93IOWkp+aXtu+8jO+8jOaAu+aXtumXtOeUqOi/meadoe+8m1xuICAgICAgdmFyIGFwcGVhck5vdyA9IGl0ZW0uYXBwZWFyVG8gKyAoaXRlbS5kZWxheSB8fCAwKSArIHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcbiAgICAgIG5vdyA9IGFwcGVhck5vdyA+PSBub3cgPyBhcHBlYXJOb3cgOiBub3c7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0d2VlbkRhdGEuZGVsYXkgPCAtdHdlZW5EYXRhLmR1cmF0aW9uKSB7XG4gICAgICAgIC8vIOWmguaenOW7tuaXtuWwj+S6jiDotJ/ml7bpl7Tml7YsLOS4jeWKoCzlho3lh4/lm57lu7bml7Y7XG4gICAgICAgIG5vdyAtPSB0d2VlbkRhdGEuZGVsYXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXBlYXQg5Li6IC0xIOWPquiusOW9leS4gOasoeOAguS4jeiDvei3nyByZXZlcnNlIOWQjOaXtuS9v+eUqDtcbiAgICAgICAgbm93ICs9IHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcbiAgICAgIH1cbiAgICB9XG4gICAgdHdlZW5EYXRhLm1vZGUgPSAnJztcbiAgICByZXR1cm4gdHdlZW5EYXRhO1xuICB9KTtcbiAgdGhpcy50b3RhbFRpbWUgPSByZXBlYXRNYXggPyBOdW1iZXIuTUFYX1ZBTFVFIDogbm93O1xuICB0aGlzLmRlZmF1bHREYXRhID0gZGF0YTtcbn07XG5wLmdldEFuaW1TdGFydERhdGEgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB2YXIgc3RhcnQgPSB7fTtcbiAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXMzLmF0dHIgPT09ICdhdHRyJyAmJiAoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSkge1xuICAgICAgc3RhcnRbX2tleV0gPSBpdGVtW19rZXldLmdldEFuaW1TdGFydChfdGhpczMud2lsbENoYW5nZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChfdGhpczMuYXR0ciA9PT0gJ2F0dHInKSB7XG4gICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG4gICAgICB2YXIgYXR0cmlidXRlID0gX3RoaXMzLnRhcmdldC5nZXRBdHRyaWJ1dGUoX2tleSk7XG4gICAgICB2YXIgZGF0YSA9IGF0dHJpYnV0ZSA9PT0gJ251bGwnIHx8ICFhdHRyaWJ1dGUgPyAwIDogYXR0cmlidXRlO1xuICAgICAgaWYgKF9rZXkubWF0Y2goL2NvbG9yL2kpIHx8IF9rZXkgPT09ICdzdHJva2UnIHx8IF9rZXkgPT09ICdmaWxsJykge1xuICAgICAgICBkYXRhID0gIWRhdGEgJiYgX2tleSA9PT0gJ3N0cm9rZScgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScgOiBkYXRhO1xuICAgICAgICBkYXRhID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKGRhdGEpO1xuICAgICAgICBzdGFydFtfa2V5XSA9IGRhdGE7XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlRmxvYXQoZGF0YSkgfHwgcGFyc2VGbG9hdChkYXRhKSA9PT0gMCB8fCBkYXRhID09PSAwKSB7XG4gICAgICAgIHZhciB1bml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgICAgc3RhcnRbX2tleV0gPSB1bml0ICE9PSBpdGVtW19rZXldLnVuaXQgPyAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczMudGFyZ2V0LCBfa2V5LCBwYXJzZUZsb2F0KGRhdGEpLCB1bml0LCBpdGVtW19rZXldLnVuaXQpIDogcGFyc2VGbG9hdChkYXRhKTtcbiAgICAgIH1cbiAgICAgIC8vIHN0YXJ0W19rZXldID0gZGF0YTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhcnRbX2tleV0gPSBfdGhpczMudGFyZ2V0W19rZXldIHx8IDA7XG4gIH0pO1xuICByZXR1cm4gc3RhcnQ7XG59O1xucC5zZXRBbmltRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczQuYXR0ciA9PT0gJ2F0dHInICYmIChrZXkgPT09ICdkJyB8fCBrZXkgPT09ICdwb2ludHMnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfdGhpczQudGFyZ2V0W2tleV0gPSBkYXRhW2tleV07XG4gIH0pO1xufTtcbnAuc2V0UmF0aW8gPSBmdW5jdGlvbiAocmF0aW8sIGVuZERhdGEsIGkpIHtcbiAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgT2JqZWN0LmtleXMoZW5kRGF0YS52YXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG4gICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczUuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG4gICAgICBlbmREYXRhLnZhcnNbX2tleV0uc2V0UmF0aW8ocmF0aW8sIF90aGlzNS50d2Vlbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlbmRWYXJzID0gZW5kRGF0YS52YXJzW19rZXldO1xuICAgIHZhciBzdGFydFZhcnMgPSBfdGhpczUuc3RhcnRbaV1bX2tleV07XG4gICAgdmFyIGRhdGEgPSB2b2lkIDA7XG4gICAgaWYgKF90aGlzNS5hdHRyID09PSAnYXR0cicpIHtcbiAgICAgIC8vIOmZpOS6hmTlkozov5lwb2ludHPlpJbnmoTmoIfnrb7liqjnlLvvvJtcbiAgICAgIGlmICghZW5kVmFycy50eXBlKSB7XG4gICAgICAgIGRhdGEgPSBlbmRWYXJzLnVuaXQuY2hhckF0KDEpID09PSAnPScgPyBzdGFydFZhcnMgKyBlbmRWYXJzLnZhcnMgKiByYXRpbyArIGVuZFZhcnMudW5pdCA6IChlbmRWYXJzLnZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyBlbmRWYXJzLnVuaXQ7XG4gICAgICAgIF90aGlzNS50YXJnZXQuc2V0QXR0cmlidXRlKF9rZXksIGRhdGEpO1xuICAgICAgfSBlbHNlIGlmIChlbmRWYXJzLnR5cGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgaWYgKGVuZFZhcnMudmFycy5sZW5ndGggPT09IDMgJiYgc3RhcnRWYXJzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgIGVuZFZhcnMudmFyc1szXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IGVuZFZhcnMudmFycy5tYXAoZnVuY3Rpb24gKF9lbmREYXRhLCBfaSkge1xuICAgICAgICAgIHZhciBzdGFydERhdGEgPSBzdGFydFZhcnNbX2ldIHx8IDA7XG4gICAgICAgICAgcmV0dXJuIChfZW5kRGF0YSAtIHN0YXJ0RGF0YSkgKiByYXRpbyArIHN0YXJ0RGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzNS50YXJnZXQuc2V0QXR0cmlidXRlKF9rZXksICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoZGF0YSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMuc2V0QW5pbURhdGEodGhpcy50d2Vlbik7XG59O1xucC5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gIHRoaXMuZGVmYXVsdERhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIHZhciBpbml0VGltZSA9IGl0ZW0uaW5pdFRpbWU7XG4gICAgdmFyIGR1cmF0aW9uID0gKDAsIF9zdHlsZVV0aWxzLnRvRml4ZWQpKGl0ZW0uZHVyYXRpb24pO1xuICAgIC8vIOWkhOeQhiB5b3lvIOWSjCByZXBlYXQ7IHlveW8g5piv5Zyo5pe26Ze06L205LiK55qELCDlubbkuI3mmK/lgJLmlL5cbiAgICB2YXIgcmVwZWF0TnVtID0gTWF0aC5jZWlsKChfdGhpczYucHJvZ3Jlc3NUaW1lIC0gaW5pdFRpbWUpIC8gKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSkpIC0gMTtcbiAgICByZXBlYXROdW0gPSByZXBlYXROdW0gPCAwID8gMCA6IHJlcGVhdE51bTtcbiAgICAvLyByZXBlYXROdW0gPSB0aGlzLnByb2dyZXNzVGltZSA9PT0gMCA/IHJlcGVhdE51bSArIDEgOiByZXBlYXROdW07XG4gICAgaWYgKGl0ZW0ucmVwZWF0KSB7XG4gICAgICBpZiAoaXRlbS5yZXBlYXQgPCByZXBlYXROdW0gJiYgaXRlbS5yZXBlYXQgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLnJlcGVhdCB8fCBpdGVtLnJlcGVhdCA8PSByZXBlYXROdW0pIHtcbiAgICAgICAgaW5pdFRpbWUgPSBpbml0VGltZSArIHJlcGVhdE51bSAqIChkdXJhdGlvbiArIGl0ZW0ucmVwZWF0RGVsYXkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3RhcnREYXRhID0gaXRlbS55b3lvICYmIHJlcGVhdE51bSAlIDIgfHwgaXRlbS50eXBlID09PSAnZnJvbScgPyAxIDogMDtcbiAgICB2YXIgZW5kRGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMCA6IDE7XG4gICAgLy8gIOeyvuW6puaNn+Wkse+8jOWPquWPluWwj+aVsOeCueWQjjEw5L2N44CCXG4gICAgdmFyIHByb2dyZXNzVGltZSA9ICgwLCBfc3R5bGVVdGlscy50b0ZpeGVkKShfdGhpczYucHJvZ3Jlc3NUaW1lIC0gaW5pdFRpbWUpO1xuICAgIC8vIOiuvue9riBzdGFydFxuICAgIHZhciBkZWxheSA9IGl0ZW0uZGVsYXkgPj0gMCA/IGl0ZW0uZGVsYXkgOiAtaXRlbS5kZWxheTtcbiAgICB2YXIgZnJvbURlbGF5ID0gaXRlbS50eXBlID09PSAnZnJvbScgPyBkZWxheSA6IDA7XG4gICAgaWYgKHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUgJiYgIV90aGlzNi5zdGFydFtpXSkge1xuICAgICAgX3RoaXM2LnN0YXJ0W2ldID0gX3RoaXM2LmdldEFuaW1TdGFydERhdGEoaXRlbS52YXJzKTtcbiAgICAgIGlmICghX3RoaXM2LnJlZ2lzdGVyICYmIHByb2dyZXNzVGltZSA8PSBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgICAgX3RoaXM2LnJlZ2lzdGVyID0gdHJ1ZTtcbiAgICAgICAgLy8g5Zyo5byA5aeL6Lez5bin5pe244CC44CCW3t4OjEwMCx0eXBlOidmcm9tJ30se3k6MzAwfV3vvIzot7Pov4fkuoZmcm9t5pe2LCBtb21lbnQgPSA2MDAgPT4g6ZyA6KaB5oqKZnJvbeWQiOWbnuadpVxuICAgICAgICAvLyDlpoLmnpwgZHVyYXRpb24g5ZKMIGRlbGF5IOmDveS4uiAw77yMIOWIpOaWreeUqHNldCwg55u05o6l5rOo5YaM5pe25bCx57uT5p2fO1xuICAgICAgICB2YXIgcyA9IGRlbGF5ID8gMCA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG4gICAgICAgIHZhciBzcyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IHM7XG4gICAgICAgIHZhciBzdCA9IHByb2dyZXNzVGltZSAvIChkdXJhdGlvbiArIGZyb21EZWxheSkgPiAxID8gMSA6IHNzO1xuICAgICAgICBfdGhpczYuc2V0UmF0aW8oc3QsIGl0ZW0sIGkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZSA9IHtcbiAgICAgIGluZGV4OiBpLFxuICAgICAgdGFyZ2V0OiBfdGhpczYudGFyZ2V0XG4gICAgfTtcblxuICAgIC8vIG9uUmVwZWF0IOWkhOeQhlxuICAgIGlmIChpdGVtLnJlcGVhdCAmJiByZXBlYXROdW0gPiAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+PSAwICYmIHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgLy8g6YeN5paw5byA5aeLLCDlnKjnrKzkuIDnp5Lop6blj5Hml7bosIPnlKg7XG4gICAgICBpdGVtLm9uUmVwZWF0KGUpO1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3NUaW1lIDwgMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICBfdGhpczYuc2V0UmF0aW8oaXRlbS50eXBlID09PSAnZnJvbScgPyAxIDogMCwgaXRlbSwgaSk7XG4gICAgfSBlbHNlIGlmIChwcm9ncmVzc1RpbWUgPj0gZHVyYXRpb24gJiYgaXRlbS5tb2RlICE9PSAnb25Db21wbGV0ZScpIHtcbiAgICAgIHZhciBjb21wUmF0aW8gPSBkdXJhdGlvbiA/IGl0ZW0uZWFzZShkdXJhdGlvbiwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbikgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuICAgICAgX3RoaXM2LnNldFJhdGlvKGNvbXBSYXRpbywgaXRlbSwgaSk7XG4gICAgICBpZiAoaXRlbS5tb2RlICE9PSAncmVzZXQnKSB7XG4gICAgICAgIGl0ZW0ub25Db21wbGV0ZShlKTtcbiAgICAgIH1cbiAgICAgIGl0ZW0ubW9kZSA9ICdvbkNvbXBsZXRlJztcbiAgICB9IGVsc2UgaWYgKHByb2dyZXNzVGltZSA+PSAwICYmIHByb2dyZXNzVGltZSA8IGR1cmF0aW9uKSB7XG4gICAgICBpdGVtLm1vZGUgPSBwcm9ncmVzc1RpbWUgPCBfdGhpczYucGVyRnJhbWUgJiYgIV90aGlzNi5vblN0YXJ0W2ldID8gJ29uU3RhcnQnIDogJ29uVXBkYXRlJztcbiAgICAgIHByb2dyZXNzVGltZSA9IHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lO1xuICAgICAgcHJvZ3Jlc3NUaW1lID0gcHJvZ3Jlc3NUaW1lID4gZHVyYXRpb24gPyBkdXJhdGlvbiA6IHByb2dyZXNzVGltZTtcbiAgICAgIHZhciByYXRpbyA9IGl0ZW0uZWFzZShwcm9ncmVzc1RpbWUsIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pO1xuICAgICAgX3RoaXM2LnNldFJhdGlvKHJhdGlvLCBpdGVtLCBpKTtcbiAgICAgIF90aGlzNi5vblN0YXJ0W2ldID0gdHJ1ZTtcbiAgICAgIGlmIChwcm9ncmVzc1RpbWUgPD0gX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICAgIGl0ZW0ub25TdGFydChlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0ub25VcGRhdGUoX2V4dGVuZHMoeyByYXRpbzogcmF0aW8gfSwgZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9ncmVzc1RpbWUgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBkdXJhdGlvbiArIF90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgX3RoaXM2Lm9uQ2hhbmdlKF9leHRlbmRzKHtcbiAgICAgICAgbW9tZW50OiBfdGhpczYucHJvZ3Jlc3NUaW1lLFxuICAgICAgICBtb2RlOiBpdGVtLm1vZGVcbiAgICAgIH0sIGUpKTtcbiAgICB9XG4gIH0pO1xufTtcbi8vIOaSreaUvuW4p1xucC5mcmFtZSA9IGZ1bmN0aW9uIChtb21lbnQpIHtcbiAgdGhpcy5wcm9ncmVzc1RpbWUgPSBtb21lbnQ7XG4gIHRoaXMucmVuZGVyKCk7XG59O1xucC5yZXNldEFuaW1EYXRhID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnR3ZWVuID0ge307XG4gIHRoaXMuc3RhcnQgPSB7fTtcbiAgdGhpcy5vblN0YXJ0ID0ge307XG59O1xuXG5wLnJlc2V0RGVmYXVsdFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICB0aGlzLnR3ZWVuID0ge307XG4gIHRoaXMuZGVmYXVsdERhdGEgPSB0aGlzLmRlZmF1bHREYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0ubW9kZSA9ICdyZXNldCc7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH0pO1xuICBPYmplY3Qua2V5cyh0aGlzLnN0YXJ0RGVmYXVsdERhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghKGtleSBpbiBkZWZhdWx0RGF0YSh7fSwgMCkpKSB7XG4gICAgICBfdGhpczcudGFyZ2V0LnNldEF0dHJpYnV0ZShrZXksIF90aGlzNy5zdGFydERlZmF1bHREYXRhW2tleV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5wLm9uQ2hhbmdlID0gbm9vcDtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdGltZUxpbmU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL1RpbWVMaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1R3ZWVuT25lID0gcmVxdWlyZSgnLi9Ud2Vlbk9uZScpO1xuXG52YXIgX1R3ZWVuT25lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1R3ZWVuT25lKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBUd2Vlbk9uZUdyb3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFR3ZWVuT25lR3JvdXAsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFR3ZWVuT25lR3JvdXAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3ZWVuT25lR3JvdXApO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICBfdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIF90aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAgX3RoaXMub25FbnRlckJvb2wgPSBmYWxzZTtcbiAgICBfdGhpcy5pc1R3ZWVuID0ge307XG4gICAgLy8g56ys5LiA6L+b5YWl77yMYXBwZWFyIOS4uiB0cnVlIOaXtum7mOiupOeUqCBlbnRlciDmiJYgdHdlZW4tb25lIOS4iueahOaViOaenFxuICAgIHZhciBjaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKCgwLCBfdXRpbC5nZXRDaGlsZHJlbkZyb21Qcm9wcykoX3RoaXMucHJvcHMpKTtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm9uRW50ZXJCb29sID0gdHJ1ZTtcbiAgfTtcblxuICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgIHZhciBjdXJyZW50Q2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKSh0aGlzLnN0YXRlLmNoaWxkcmVuKTtcbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSAoMCwgX3V0aWwubWVyZ2VDaGlsZHJlbikoY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pO1xuXG4gICAgdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcbiAgICBuZXh0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSBjLmtleTtcbiAgICAgIHZhciBoYXNQcmV2ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkoY3VycmVudENoaWxkcmVuLCBrZXkpO1xuICAgICAgaWYgKCFoYXNQcmV2ICYmIGtleSkge1xuICAgICAgICBfdGhpczIua2V5c1RvRW50ZXIucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY3VycmVudENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gYy5rZXk7XG4gICAgICB2YXIgaGFzTmV4dCA9ICgwLCBfdXRpbC5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkpKG5leHRDaGlsZHJlbiwga2V5KTtcbiAgICAgIGlmICghaGFzTmV4dCAmJiBrZXkpIHtcbiAgICAgICAgX3RoaXMyLmtleXNUb0xlYXZlLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNoaWxkcmVuOiBuZXdDaGlsZHJlblxuICAgIH0pO1xuICB9O1xuXG4gIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgY2hpbGRyZW5Ub1JlbmRlciA9IHRoaXMuZ2V0Q2hpbGRyZW5Ub1JlbmRlcih0aGlzLnN0YXRlLmNoaWxkcmVuKTtcbiAgICBpZiAoIXRoaXMucHJvcHMuY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW5Ub1JlbmRlclswXSB8fCBudWxsO1xuICAgIH1cbiAgICB2YXIgY29tcG9uZW50UHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgWydjb21wb25lbnQnLCAnYXBwZWFyJywgJ2VudGVyJywgJ2xlYXZlJywgJ2FuaW1hdGluZ0NsYXNzTmFtZScsICdvbkVuZCcsICdyZXNldFN0eWxlQm9vbCcsICd3aWxsQ2hhbmdlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gZGVsZXRlIGNvbXBvbmVudFByb3BzW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuICgwLCBfcmVhY3QuY3JlYXRlRWxlbWVudCkodGhpcy5wcm9wcy5jb21wb25lbnQsIGNvbXBvbmVudFByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcbiAgfTtcblxuICByZXR1cm4gVHdlZW5PbmVHcm91cDtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChhbmltYXRpb24sIGtleSwgdHlwZSwgb2JqKSB7XG4gICAgdmFyIGxlbmd0aCA9ICgwLCBfdXRpbC5kYXRhVG9BcnJheSkoYW5pbWF0aW9uKS5sZW5ndGg7XG4gICAgdmFyIGFuaW1hdGluZ0NsYXNzTmFtZSA9IF90aGlzMy5wcm9wcy5hbmltYXRpbmdDbGFzc05hbWU7XG4gICAgdmFyIHRhZyA9IG9iai50YXJnZXQ7XG4gICAgdmFyIGlzRW50ZXIgPSB0eXBlID09PSAnZW50ZXInIHx8IHR5cGUgPT09ICdhcHBlYXInO1xuICAgIGlmIChvYmoubW9kZSA9PT0gJ29uU3RhcnQnKSB7XG4gICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMSA6IDBdLCAnJykudHJpbSgpO1xuICAgICAgaWYgKHRhZy5jbGFzc05hbWUuaW5kZXhPZihhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkgPT09IC0xKSB7XG4gICAgICAgIHRhZy5jbGFzc05hbWUgPSAodGFnLmNsYXNzTmFtZSArICcgJyArIGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdKS50cmltKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvYmouaW5kZXggPT09IGxlbmd0aCAtIDEgJiYgb2JqLm1vZGUgPT09ICdvbkNvbXBsZXRlJykge1xuICAgICAgdmFyIGNoaWxkcmVuID0gX3RoaXMzLnN0YXRlLmNoaWxkcmVuO1xuICAgICAgaWYgKHR5cGUgPT09ICdlbnRlcicpIHtcbiAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnNwbGljZShfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xlYXZlJykge1xuICAgICAgICBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGtleSAhPT0gY2hpbGQua2V5O1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMzLmtleXNUb0xlYXZlLnNwbGljZShfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpLCAxKTtcbiAgICAgIH1cbiAgICAgIHRhZy5jbGFzc05hbWUgPSB0YWcuY2xhc3NOYW1lLnJlcGxhY2UoYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0sICcnKS50cmltKCk7XG4gICAgICBkZWxldGUgX3RoaXMzLmlzVHdlZW5ba2V5XTtcbiAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgfSk7XG4gICAgICB2YXIgX29iaiA9IHsga2V5OiBrZXksIHR5cGU6IHR5cGUgfTtcbiAgICAgIF90aGlzMy5wcm9wcy5vbkVuZChfb2JqKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5nZXRDb3ZlckFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjaGlsZCwgaSwgdHlwZSkge1xuICAgIHZhciBhbmltYXRpb24gPSB2b2lkIDA7XG4gICAgdmFyIG9uQ2hhbmdlID0gdm9pZCAwO1xuICAgIGFuaW1hdGlvbiA9IHR5cGUgPT09ICdsZWF2ZScgPyBfdGhpczMucHJvcHMubGVhdmUgOiBfdGhpczMucHJvcHMuZW50ZXI7XG4gICAgaWYgKHR5cGUgPT09ICdhcHBlYXInKSB7XG4gICAgICB2YXIgYXBwZWFyID0gKDAsIF91dGlsLnRyYW5zZm9ybUFyZ3VtZW50cykoX3RoaXMzLnByb3BzLmFwcGVhciwgY2hpbGQua2V5LCBpKTtcbiAgICAgIGFuaW1hdGlvbiA9IGFwcGVhciAmJiBfdGhpczMucHJvcHMuZW50ZXIgfHwgbnVsbDtcbiAgICB9XG4gICAgb25DaGFuZ2UgPSBfdGhpczMub25DaGFuZ2UuYmluZChfdGhpczMsIGFuaW1hdGlvbiwgY2hpbGQua2V5LCB0eXBlKTtcbiAgICB2YXIgY2hpbGRyZW4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHtcbiAgICAgIHdpbGxDaGFuZ2U6IF90aGlzMy5wcm9wcy53aWxsQ2hhbmdlLFxuICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICBjb21wb25lbnQ6IGNoaWxkLnR5cGUsXG4gICAgICBhbmltYXRpb246ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKGFuaW1hdGlvbiwgY2hpbGQua2V5LCBpKSxcbiAgICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgIHJlc2V0U3R5bGVCb29sOiBfdGhpczMucHJvcHMucmVzZXRTdHlsZUJvb2xcbiAgICB9KSk7XG4gICAgaWYgKF90aGlzMy5rZXlzVG9FbnRlci5jb25jYXQoX3RoaXMzLmtleXNUb0xlYXZlKS5pbmRleE9mKGNoaWxkLmtleSkgPj0gMCB8fCAhX3RoaXMzLm9uRW50ZXJCb29sICYmIGFuaW1hdGlvbikge1xuICAgICAgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSA9IHR5cGU7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfTtcblxuICB0aGlzLmdldENoaWxkcmVuVG9SZW5kZXIgPSBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICByZXR1cm4gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuICAgICAgaWYgKCFjaGlsZCB8fCAhY2hpbGQua2V5KSB7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICBpZiAoX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdsZWF2ZScpO1xuICAgICAgfSBlbHNlIGlmIChfdGhpczMua2V5c1RvRW50ZXIuaW5kZXhPZihrZXkpID49IDAgfHwgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnZW50ZXInKTtcbiAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5vbkVudGVyQm9vbCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnYXBwZWFyJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0pIHx8IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1R3ZWVuT25lMltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHt9LCBjaGlsZC5wcm9wcywgeyBjb21wb25lbnQ6IGNoaWxkLnR5cGUsIGtleTogY2hpbGQua2V5IH0pKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbnZhciBvYmplY3RPckFycmF5ID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSk7XG52YXIgb2JqZWN0T3JBcnJheU9yRnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtvYmplY3RPckFycmF5LCBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNdKTtcblxuVHdlZW5PbmVHcm91cC5wcm9wVHlwZXMgPSB7XG4gIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBhcHBlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZW50ZXI6IG9iamVjdE9yQXJyYXlPckZ1bmMsXG4gIGxlYXZlOiBvYmplY3RPckFycmF5T3JGdW5jLFxuICBhbmltYXRpbmdDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIG9uRW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHdpbGxDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgcmVzZXRTdHlsZUJvb2w6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxufTtcblxuVHdlZW5PbmVHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBvbmVudDogJ2RpdicsXG4gIGFwcGVhcjogdHJ1ZSxcbiAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBbJ3R3ZWVuLW9uZS1lbnRlcmluZycsICd0d2Vlbi1vbmUtbGVhdmluZyddLFxuICBlbnRlcjogeyB4OiA1MCwgb3BhY2l0eTogMCwgdHlwZTogJ2Zyb20nIH0sXG4gIGxlYXZlOiB7IHg6IC01MCwgb3BhY2l0eTogMCB9LFxuICBvbkVuZDogbm9vcCxcbiAgd2lsbENoYW5nZTogdHJ1ZSxcbiAgcmVzZXRTdHlsZUJvb2w6IHRydWVcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lR3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSAxNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHdlZW5PbmUgPSByZXF1aXJlKCcuL1R3ZWVuT25lJyk7XG5Ud2Vlbk9uZS5Ud2Vlbk9uZUdyb3VwID0gcmVxdWlyZSgnLi9Ud2Vlbk9uZUdyb3VwJyk7XG5Ud2Vlbk9uZS5lYXNpbmcgPSByZXF1aXJlKCcuL2Vhc2luZycpO1xubW9kdWxlLmV4cG9ydHMgPSBUd2Vlbk9uZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcywgbm8tY29uc29sZSAqL1xuXG5cbnZhciBfc3R5bGVVdGlscyA9IHJlcXVpcmUoJ3N0eWxlLXV0aWxzJyk7XG5cbnZhciBfc3R5bGVVdGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHlsZVV0aWxzKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi4vdXRpbC5qcycpO1xuXG52YXIgX3BsdWdpbnMgPSByZXF1aXJlKCcuLi9wbHVnaW5zJyk7XG5cbnZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBTdHlsZVBsdWdpbiA9IGZ1bmN0aW9uIFN0eWxlUGx1Z2luKHRhcmdldCwgdmFycywgdHlwZSkge1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy52YXJzID0gdmFycztcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5wcm9wc0RhdGEgPSB7fTtcbiAgdGhpcy5zZXREZWZhdWx0RGF0YSgpO1xufTtcbnZhciBwID0gU3R5bGVQbHVnaW4ucHJvdG90eXBlID0ge1xuICBuYW1lOiAnc3R5bGUnXG59O1xucC5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcgPyBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMudGFyZ2V0KSA6IHt9O1xufTtcbnAuZ2V0VHdlZW5EYXRhID0gZnVuY3Rpb24gKGtleSwgdmFycykge1xuICB2YXIgZGF0YSA9IHtcbiAgICBkYXRhOiB7fSxcbiAgICBkYXRhVHlwZToge30sXG4gICAgZGF0YVVuaXQ6IHt9LFxuICAgIGRhdGFDb3VudDoge30sXG4gICAgZGF0YVNwbGl0U3RyOiB7fVxuICB9O1xuICBpZiAoa2V5Lm1hdGNoKC9jb2xvfGZpbGx8c3Rvcmtlci9pKSkge1xuICAgIGRhdGEuZGF0YVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHZhcnMpO1xuICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdjb2xvcic7XG4gIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9zaGFkb3cvaSkpIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykodmFycyk7XG4gICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ3NoYWRvdyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhcnMgPT09ICdzdHJpbmcnICYmIHZhcnMuc3BsaXQoL1tcXHN8LF0vKS5sZW5ndGggPiAxKSB7XG4gICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzLnNwbGl0KC9bXFxzfCxdLyk7XG4gICAgZGF0YS5kYXRhU3BsaXRTdHJba2V5XSA9IHZhcnMucmVwbGFjZSgvW15cXHN8LF0vZywgJycpO1xuICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdzdHJpbmcnO1xuICB9IGVsc2Uge1xuICAgIGRhdGEuZGF0YVtrZXldID0gdmFycztcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnb3RoZXInO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZGF0YVtrZXldKSkge1xuICAgIGRhdGEuZGF0YVVuaXRba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcbiAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICB9KTtcbiAgICBkYXRhLmRhdGFDb3VudFtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuICAgICAgcmV0dXJuIF9pdGVtLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuICAgIH0pO1xuXG4gICAgZGF0YS5kYXRhW2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG4gICAgICByZXR1cm4gIXBhcnNlRmxvYXQoX2l0ZW0pICYmIHBhcnNlRmxvYXQoX2l0ZW0pICE9PSAwID8gX2l0ZW0gOiBwYXJzZUZsb2F0KF9pdGVtKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICBkYXRhLmRhdGFDb3VudFtrZXldID0gZGF0YS5kYXRhW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXit8PXwtXS9nLCAnJyk7XG4gICAgdmFyIGQgPSBwYXJzZUZsb2F0KGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW2EtenwlfD1dL2csICcnKSk7XG4gICAgZGF0YS5kYXRhW2tleV0gPSAhZCAmJiBkICE9PSAwID8gZGF0YS5kYXRhW2tleV0gOiBkO1xuICB9XG4gIHJldHVybiBkYXRhO1xufTtcbnAuc2V0RGVmYXVsdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgdGhpcy5wcm9wc0RhdGEuZGF0YSA9IHt9O1xuICB0aGlzLnByb3BzRGF0YS5kYXRhVHlwZSA9IHt9O1xuICB0aGlzLnByb3BzRGF0YS5kYXRhVW5pdCA9IHt9O1xuICB0aGlzLnByb3BzRGF0YS5kYXRhQ291bnQgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyID0ge307XG4gIE9iamVjdC5rZXlzKHRoaXMudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcbiAgICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW19rZXldID0gbmV3IF9wbHVnaW5zMltcImRlZmF1bHRcIl1bX2tleV0oX3RoaXMudGFyZ2V0LCBfdGhpcy52YXJzW19rZXldKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGtleSA9ICgwLCBfc3R5bGVVdGlscy5nZXRHc2FwVHlwZSkoX2tleSk7XG4gICAgdmFyIF9kYXRhID0gX3RoaXMuZ2V0VHdlZW5EYXRhKGtleSwgX3RoaXMudmFyc1tfa2V5XSk7XG4gICAgX3RoaXMucHJvcHNEYXRhLmRhdGFba2V5XSA9IF9kYXRhLmRhdGFba2V5XTtcbiAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XSA9IF9kYXRhLmRhdGFUeXBlW2tleV07XG4gICAgX3RoaXMucHJvcHNEYXRhLmRhdGFVbml0W2tleV0gPSBfZGF0YS5kYXRhVW5pdFtrZXldO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhQ291bnRba2V5XSA9IF9kYXRhLmRhdGFDb3VudFtrZXldO1xuICAgIGlmIChfZGF0YS5kYXRhU3BsaXRTdHJba2V5XSkge1xuICAgICAgX3RoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0cltrZXldID0gX2RhdGEuZGF0YVNwbGl0U3RyW2tleV07XG4gICAgfVxuICB9KTtcbn07XG5wLmNvbnZlcnRUb01hcmtzQXJyYXkgPSBmdW5jdGlvbiAodW5pdCwga2V5LCBkYXRhLCBpKSB7XG4gIHZhciBzdGFydFVuaXQgPSBkYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICB2YXIgZW5kVW5pdCA9IHVuaXRbaV07XG4gIGlmIChzdGFydFVuaXQgPT09IGVuZFVuaXQpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKTtcbiAgfSBlbHNlIGlmICghcGFyc2VGbG9hdChkYXRhKSAmJiBwYXJzZUZsb2F0KGRhdGEpICE9PSAwKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgcmV0dXJuICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKHRoaXMudGFyZ2V0LCBrZXksIGRhdGEsIHN0YXJ0VW5pdCwgZW5kVW5pdCwgbnVsbCwga2V5ID09PSAndHJhbnNmb3JtT3JpZ2luJyAmJiAhaSk7XG59O1xucC5nZXRBbmltU3RhcnQgPSBmdW5jdGlvbiAod2lsbENoYW5nZUJvb2wpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTtcbiAgdmFyIHN0eWxlID0ge307XG4gIHRoaXMuc3VwcG9ydHMzRCA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3BlcnNwZWN0aXZlJyk7XG4gIHZhciB3aWxsQ2hhbmdlQXJyYXkgPSB2b2lkIDA7XG4gIGlmICh3aWxsQ2hhbmdlQm9vbCkge1xuICAgIHRoaXMud2lsbENoYW5nZSA9IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSA9PT0gJ2F1dG8nIHx8ICFjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgfHwgY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlID09PSAnbm9uZScgPyAnJyA6IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZTtcbiAgICB3aWxsQ2hhbmdlQXJyYXkgPSB0aGlzLndpbGxDaGFuZ2Uuc3BsaXQoJywnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgIHJldHVybiBrO1xuICAgIH0pO1xuICB9XG4gIE9iamVjdC5rZXlzKHRoaXMucHJvcHNEYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBjc3NOYW1lID0gKDAsIF9zdHlsZVV0aWxzLmlzQ29udmVydCkoa2V5KTtcbiAgICBpZiAod2lsbENoYW5nZUJvb2wpIHtcbiAgICAgIHZhciB3aWxsU3R5bGUgPSBrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSA/IF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldLnVzZVN0eWxlIHx8IGNzc05hbWUgOiBjc3NOYW1lO1xuICAgICAgd2lsbFN0eWxlID0gd2lsbFN0eWxlID09PSAndHJhbnNmb3JtT3JpZ2luJyA/ICd0cmFuc2Zvcm0tb3JpZ2luJyA6IHdpbGxTdHlsZTtcbiAgICAgIGlmICh3aWxsQ2hhbmdlQXJyYXkuaW5kZXhPZih3aWxsU3R5bGUpID09PSAtMSAmJiAod2lsbFN0eWxlIGluIGNvbXB1dGVkU3R5bGUgfHwga2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pKSB7XG4gICAgICAgIHdpbGxDaGFuZ2VBcnJheS5wdXNoKHdpbGxTdHlsZSk7XG4gICAgICB9XG4gICAgICBfdGhpczIud2lsbENoYW5nZSA9IHdpbGxDaGFuZ2VBcnJheS5qb2luKCcsJyk7XG4gICAgfVxuICAgIHZhciBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW2Nzc05hbWVdO1xuICAgIHZhciBmaXhlZCA9IGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gICAgaWYgKCFzdGFydERhdGEgfHwgc3RhcnREYXRhID09PSAnbm9uZScgfHwgc3RhcnREYXRhID09PSAnYXV0bycpIHtcbiAgICAgIHN0YXJ0RGF0YSA9ICcnO1xuICAgIH1cbiAgICB2YXIgdHJhbnNmb3JtID0gdm9pZCAwO1xuICAgIHZhciBlbmRVbml0ID0gdm9pZCAwO1xuICAgIHZhciBzdGFydFVuaXQgPSB2b2lkIDA7XG4gICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuICAgICAgICBfdGhpczIudHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgndHJhbnNmb3JtJyk7XG4gICAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLnRyYW5zZm9ybV07XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSB8fCAoMCwgX3N0eWxlVXRpbHMuZ2V0VHJhbnNmb3JtKShzdGFydERhdGEpO1xuICAgICAgfVxuICAgICAgX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0uZ2V0QW5pbVN0YXJ0KCk7XG4gICAgfSBlbHNlIGlmIChjc3NOYW1lID09PSAndHJhbnNmb3JtJykge1xuICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgICB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcbiAgICAgIGlmIChlbmRVbml0ICYmIGVuZFVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG4gICAgICAgIHZhciBwZXJjZW50ID0ga2V5ID09PSAndHJhbnNsYXRlWCcgPyAneFBlcmNlbnQnIDogJ3lQZXJjZW50JztcbiAgICAgICAgdHJhbnNmb3JtW3BlcmNlbnRdID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwga2V5LCB0cmFuc2Zvcm1ba2V5XSwgbnVsbCwgZW5kVW5pdCk7XG4gICAgICAgIHRyYW5zZm9ybVtrZXldID0gMDtcbiAgICAgIH1cbiAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICB9IGVsc2UgaWYgKGNzc05hbWUgPT09ICdmaWx0ZXInKSB7XG4gICAgICBfdGhpczIuZmlsdGVyTmFtZSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ2ZpbHRlcicpIHx8ICdmaWx0ZXInO1xuICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIuZmlsdGVyTmFtZV07XG4gICAgICBfdGhpczIuZmlsdGVyT2JqZWN0ID0gX2V4dGVuZHMoe30sIF90aGlzMi5maWx0ZXJPYmplY3QsICgwLCBfc3R5bGVVdGlscy5zcGxpdEZpbHRlclRvT2JqZWN0KShzdGFydERhdGEpKTtcbiAgICAgIHN0YXJ0RGF0YSA9IF90aGlzMi5maWx0ZXJPYmplY3Rba2V5XSB8fCAwO1xuICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICAgIGlmIChlbmRVbml0ICE9PSBzdGFydFVuaXQpIHtcbiAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlW2tleV0gPSBwYXJzZUZsb2F0KHN0YXJ0RGF0YSk7XG4gICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL2NvbG9yfGZpbGwvaSkgfHwga2V5ID09PSAnc3Ryb2tlJykge1xuICAgICAgc3RhcnREYXRhID0gIXN0YXJ0RGF0YSAmJiBrZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogc3RhcnREYXRhO1xuICAgICAgc3R5bGVbY3NzTmFtZV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoc3RhcnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG4gICAgICBzdGFydERhdGEgPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHN0YXJ0RGF0YSk7XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG4gICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0pKSB7XG4gICAgICBzdGFydERhdGEgPSBzdGFydERhdGEuc3BsaXQoL1tcXHN8LF0vKTtcbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgICBzdGFydERhdGEgPSBzdGFydERhdGEubWFwKF90aGlzMi5jb252ZXJ0VG9NYXJrc0FycmF5LmJpbmQoX3RoaXMyLCBlbmRVbml0LCBrZXkpKTtcbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDorqHnrpfljZXkvY1cbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2Nzc05hbWVdO1xuICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuICAgICAgaWYgKGVuZFVuaXQgIT09IHN0YXJ0VW5pdCkge1xuICAgICAgICBzdGFydERhdGEgPSAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczIudGFyZ2V0LCBjc3NOYW1lLCBwYXJzZUZsb2F0KHN0YXJ0RGF0YSksIHN0YXJ0VW5pdCwgZW5kVW5pdCwgZml4ZWQpO1xuICAgICAgfVxuICAgICAgc3R5bGVbY3NzTmFtZV0gPSBwYXJzZUZsb2F0KHN0YXJ0RGF0YSB8fCAwKTtcbiAgICB9XG4gIH0pO1xuICB0aGlzLnN0YXJ0ID0gc3R5bGU7XG4gIHJldHVybiBzdHlsZTtcbn07XG5wLnNldEFycmF5UmF0aW8gPSBmdW5jdGlvbiAocmF0aW8sIHN0YXJ0LCB2YXJzLCB1bml0LCB0eXBlKSB7XG4gIGlmICh0eXBlID09PSAnY29sb3InICYmIHN0YXJ0Lmxlbmd0aCA9PT0gNCAmJiB2YXJzLmxlbmd0aCA9PT0gMykge1xuICAgIHZhcnNbM10gPSAxO1xuICB9XG4gIHZhciBzdGFydEluc2V0ID0gc3RhcnQuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuICB2YXIgZW5kSW5zZXQgPSB2YXJzLmluZGV4T2YoJ2luc2V0JykgPj0gMDtcbiAgaWYgKHN0YXJ0SW5zZXQgJiYgIWVuZEluc2V0IHx8IGVuZEluc2V0ICYmICFzdGFydEluc2V0KSB7XG4gICAgdGhyb3cgY29uc29sZS5lcnJvcignRXJyb3I6IFwiYm94LXNoYWRvd1wiIGluc2V0IGhhdmUgdG8gZXhpc3QnKTtcbiAgfVxuICB2YXIgbGVuZ3RoID0gZW5kSW5zZXQgPyA5IDogODtcbiAgaWYgKHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoICYmIHZhcnMubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG4gICAgdmFycy5zcGxpY2UoMywgMCwgMCk7XG4gICAgdW5pdC5zcGxpY2UoMywgMCwgJycpO1xuICB9IGVsc2UgaWYgKHZhcnMubGVuZ3RoID09PSBsZW5ndGggJiYgc3RhcnQubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG4gICAgc3RhcnQuc3BsaWNlKDMsIDAsIDApO1xuICB9XG4gIHZhciBfdmFycyA9IHZhcnMubWFwKGZ1bmN0aW9uIChlbmREYXRhLCBpKSB7XG4gICAgdmFyIHN0YXJ0SXNBbHBoYSA9IHR5cGUgPT09ICdjb2xvcicgJiYgaSA9PT0gMyAmJiAhc3RhcnRbaV0gPyAxIDogMDtcbiAgICB2YXIgc3RhcnREYXRhID0gdHlwZW9mIHN0YXJ0W2ldID09PSAnbnVtYmVyJyA/IHN0YXJ0W2ldIDogc3RhcnRJc0FscGhhO1xuICAgIGlmICh0eXBlb2YgZW5kRGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBlbmREYXRhO1xuICAgIH1cbiAgICByZXR1cm4gKGVuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGEgKyAodW5pdFtpXSB8fCAwKTtcbiAgfSk7XG4gIGlmICh0eXBlID09PSAnY29sb3InKSB7XG4gICAgcmV0dXJuICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoX3ZhcnMpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzaGFkb3cnKSB7XG4gICAgdmFyIGwgPSBfdmFycy5sZW5ndGggPT09IGxlbmd0aCA/IDQgOiAzO1xuICAgIHZhciBzID0gX3ZhcnMuc2xpY2UoMCwgbCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBpdGVtICsgJ3B4JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuICAgIHZhciBjID0gX3ZhcnMuc2xpY2UobCwgZW5kSW5zZXQgPyBfdmFycy5sZW5ndGggLSAxIDogX3ZhcnMubGVuZ3RoKTtcbiAgICB2YXIgY29sb3IgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGMpO1xuICAgIHJldHVybiAocy5qb2luKCcgJykgKyAnICcgKyBjb2xvciArICcgJyArIChlbmRJbnNldCA/ICdpbnNldCcgOiAnJykpLnRyaW0oKTtcbiAgfVxuICByZXR1cm4gX3ZhcnM7XG59O1xuXG5wLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCB0d2Vlbikge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB0d2Vlbi5zdHlsZSA9IHR3ZWVuLnN0eWxlIHx8IHt9O1xuICBpZiAodGhpcy5zdGFydC50cmFuc2Zvcm0pIHtcbiAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gPSB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gfHwgX2V4dGVuZHMoe30sIHRoaXMuc3RhcnQudHJhbnNmb3JtKTtcbiAgfVxuICB2YXIgc3R5bGUgPSB0aGlzLnRhcmdldC5zdHlsZTtcbiAgaWYgKHRoaXMud2lsbENoYW5nZSkge1xuICAgIGlmIChyYXRpbyA9PT0gKHRoaXMudHlwZSA9PT0gJ2Zyb20nID8gMCA6IDEpKSB7XG4gICAgICBzdHlsZS53aWxsQ2hhbmdlID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUud2lsbENoYW5nZSA9IHRoaXMud2lsbENoYW5nZTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIF9pc1RyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5pc1RyYW5zZm9ybSkoa2V5KSA9PT0gJ3RyYW5zZm9ybSc7XG4gICAgdmFyIHN0YXJ0VmFycyA9IF9pc1RyYW5zZm9ybSA/IF90aGlzMy5zdGFydC50cmFuc2Zvcm1ba2V5XSA6IF90aGlzMy5zdGFydFtrZXldO1xuICAgIHZhciBlbmRWYXJzID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhW2tleV07XG4gICAgdmFyIHVuaXQgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgdmFyIGNvdW50ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhQ291bnRba2V5XTtcbiAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcbiAgICAgIF90aGlzMy5wcm9wc0RhdGEuZGF0YVtrZXldLnNldFJhdGlvKHJhdGlvLCB0d2Vlbik7XG4gICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuICAgICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3Qua2V5cyh0d2Vlbi5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoY3NzKSB7XG4gICAgICAgICAgcmV0dXJuIHN0eWxlW2Nzc10gPSB0d2Vlbi5zdHlsZVtjc3NdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKF9pc1RyYW5zZm9ybSkge1xuICAgICAgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcbiAgICAgICAgdmFyIHBOYW1lID0ga2V5ID09PSAndHJhbnNsYXRlWCcgPyAneFBlcmNlbnQnIDogJ3lQZXJjZW50JztcbiAgICAgICAgc3RhcnRWYXJzID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybVtwTmFtZV07XG4gICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIHVuaXQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc2NhbGUnKSB7XG4gICAgICAgIHZhciB4U3RhcnQgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtLnNjYWxlWDtcbiAgICAgICAgdmFyIHlTdGFydCA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm0uc2NhbGVZO1xuICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVYID0geFN0YXJ0ICsgZW5kVmFycyAqIHJhdGlvO1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSB5U3RhcnQgKyBlbmRWYXJzICogcmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IChlbmRWYXJzIC0geFN0YXJ0KSAqIHJhdGlvICsgeFN0YXJ0O1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVkgPSAoZW5kVmFycyAtIHlTdGFydCkgKiByYXRpbyArIHlTdGFydDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtrZXldID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW2tleV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycztcbiAgICAgIH1cbiAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZW5kVmFycykpIHtcbiAgICAgIHZhciBfdHlwZSA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XTtcbiAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBfdGhpczMuc2V0QXJyYXlSYXRpbyhyYXRpbywgc3RhcnRWYXJzLCBlbmRWYXJzLCB1bml0LCBfdHlwZSk7XG4gICAgICBpZiAoX3R5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldLmpvaW4oX3RoaXMzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHJba2V5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdHlsZVVuaXQgPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgMCk7XG4gICAgICBzdHlsZVVuaXQgPSB0eXBlb2Ygc3R5bGVVbml0ID09PSAnbnVtYmVyJyA/ICcnIDogc3R5bGVVbml0LnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgIHVuaXQgPSB1bml0IHx8IChfc3R5bGVVdGlsczJbXCJkZWZhdWx0XCJdLmZpbHRlci5pbmRleE9mKGtleSkgPj0gMCA/ICcnIDogc3R5bGVVbml0KTtcbiAgICAgIGlmICh0eXBlb2YgZW5kVmFycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IGVuZFZhcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvICsgdW5pdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChfc3R5bGVVdGlsczJbXCJkZWZhdWx0XCJdLmZpbHRlci5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgaWYgKCFfdGhpczMuZmlsdGVyT2JqZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzMy5maWx0ZXJPYmplY3Rba2V5XSA9IHR3ZWVuLnN0eWxlW2tleV07XG4gICAgICB2YXIgZmlsdGVyU3R5bGUgPSAnJztcbiAgICAgIE9iamVjdC5rZXlzKF90aGlzMy5maWx0ZXJPYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGZpbHRlcktleSkge1xuICAgICAgICBmaWx0ZXJTdHlsZSArPSAnICcgKyBmaWx0ZXJLZXkgKyAnKCcgKyBfdGhpczMuZmlsdGVyT2JqZWN0W2ZpbHRlcktleV0gKyAnKSc7XG4gICAgICB9KTtcbiAgICAgIHN0eWxlW190aGlzMy5maWx0ZXJOYW1lXSA9IGZpbHRlclN0eWxlLnRyaW0oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3R5bGVba2V5XSA9IHR3ZWVuLnN0eWxlW2tleV07XG4gIH0pO1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU3R5bGVQbHVnaW47XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3BsdWdpbi9TdHlsZVBsdWdpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDE2NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmFmID0gcmVxdWlyZSgncmFmJyk7XG5cbnZhciBfcmFmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgVGlja2VyID0gZnVuY3Rpb24gVGlja2VyKCkge307IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cblxuXG52YXIgcCA9IFRpY2tlci5wcm90b3R5cGUgPSB7XG4gIHRpY2tGbk9iamVjdDoge30sXG4gIGlkOiAtMSxcbiAgdHdlZW5JZDogMCxcbiAgZnJhbWU6IDAsXG4gIHBlckZyYW1lOiBNYXRoLnJvdW5kKDEwMDAgLyA2MCksXG4gIGdldFRpbWU6IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH0sXG4gIGVsYXBzZWQ6IDAsXG4gIGxhc3RVcGRhdGU6IDAsXG4gIHNraXBGcmFtZU1heDogMTY2XG59O1xucC5hZGQgPSBmdW5jdGlvbiAoZm4pIHtcbiAgdmFyIGtleSA9ICd0d2Vlbk9uZScgKyB0aGlzLnR3ZWVuSWQ7XG4gIHRoaXMudHdlZW5JZCsrO1xuICB0aGlzLndha2Uoa2V5LCBmbik7XG4gIHJldHVybiBrZXk7XG59O1xucC53YWtlID0gZnVuY3Rpb24gKGtleSwgZm4pIHtcbiAgdGhpcy50aWNrRm5PYmplY3Rba2V5XSA9IGZuO1xuICBpZiAodGhpcy5pZCA9PT0gLTEpIHtcbiAgICB0aGlzLmlkID0gKDAsIF9yYWYyW1wiZGVmYXVsdFwiXSkodGhpcy50aWNrKTtcbiAgfVxufTtcbnAuY2xlYXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGRlbGV0ZSB0aGlzLnRpY2tGbk9iamVjdFtrZXldO1xufTtcbnAuc2xlZXAgPSBmdW5jdGlvbiAoKSB7XG4gIF9yYWYyW1wiZGVmYXVsdFwiXS5jYW5jZWwodGhpcy5pZCk7XG4gIHRoaXMuaWQgPSAtMTtcbiAgdGhpcy5mcmFtZSA9IDA7XG59O1xudmFyIHRpY2tlciA9IG5ldyBUaWNrZXIoKTtcbnAudGljayA9IGZ1bmN0aW9uIChhKSB7XG4gIHRpY2tlci5lbGFwc2VkID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIuZ2V0VGltZSgpIC0gdGlja2VyLmxhc3RVcGRhdGUgOiAwO1xuICB0aWNrZXIubGFzdFVwZGF0ZSA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmxhc3RVcGRhdGUgKyB0aWNrZXIuZWxhcHNlZCA6IHRpY2tlci5nZXRUaW1lKCkgKyB0aWNrZXIuZWxhcHNlZDtcbiAgdmFyIG9iaiA9IHRpY2tlci50aWNrRm5PYmplY3Q7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKG9ialtrZXldKSB7XG4gICAgICBvYmpba2V5XShhKTtcbiAgICB9XG4gIH0pO1xuICAvLyDlpoLmnpwgb2JqZWN0IOmHjOayoeWvueixoeS6hu+8jOiHquWKqOadgOaOie+8m1xuICBpZiAoIU9iamVjdC5rZXlzKG9iaikubGVuZ3RoKSB7XG4gICAgdGlja2VyLnNsZWVwKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0aWNrZXIuZWxhcHNlZCA+IHRpY2tlci5za2lwRnJhbWVNYXggfHwgIXRpY2tlci5mcmFtZSkge1xuICAgIHRpY2tlci5mcmFtZSsrO1xuICB9IGVsc2Uge1xuICAgIHRpY2tlci5mcmFtZSArPSBNYXRoLnJvdW5kKHRpY2tlci5lbGFwc2VkIC8gdGlja2VyLnBlckZyYW1lKTtcbiAgfVxuICB0aWNrZXIuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aWNrZXIudGljayk7XG59O1xudmFyIHRpbWVvdXRJZE51bWJlciA9IDA7XG5wLnRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoISh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUud2FybignSXMgbm8gZnVuY3Rpb24nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIHZhciB0aW1lb3V0SUQgPSAndGltZW91dCcgKyBEYXRlLm5vdygpICsgJy0nICsgdGltZW91dElkTnVtYmVyO1xuICB2YXIgc3RhcnRGcmFtZSA9IHRoaXMuZnJhbWU7XG4gIHRoaXMud2FrZSh0aW1lb3V0SUQsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW9tZW50ID0gKF90aGlzLmZyYW1lIC0gc3RhcnRGcmFtZSkgKiBfdGhpcy5wZXJGcmFtZTtcbiAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG4gICAgICBfdGhpcy5jbGVhcih0aW1lb3V0SUQpO1xuICAgICAgZm4oKTtcbiAgICB9XG4gIH0pO1xuICB0aW1lb3V0SWROdW1iZXIrKztcbiAgcmV0dXJuIHRpbWVvdXRJRDtcbn07XG52YXIgaW50ZXJ2YWxJZE51bWJlciA9IDA7XG5wLmludGVydmFsID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIGlmICghKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBjb25zb2xlLndhcm4oJ0lzIG5vIGZ1bmN0aW9uJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgaW50ZXJ2YWxJRCA9ICdpbnRlcnZhbCcgKyBEYXRlLm5vdygpICsgJy0nICsgaW50ZXJ2YWxJZE51bWJlcjtcbiAgdmFyIHN0YXJGcmFtZSA9IHRoaXMuZnJhbWU7XG4gIHRoaXMud2FrZShpbnRlcnZhbElELCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vbWVudCA9IChfdGhpczIuZnJhbWUgLSBzdGFyRnJhbWUpICogX3RoaXMyLnBlckZyYW1lO1xuICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcbiAgICAgIHN0YXJGcmFtZSA9IF90aGlzMi5mcmFtZTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9KTtcbiAgaW50ZXJ2YWxJZE51bWJlcisrO1xuICByZXR1cm4gaW50ZXJ2YWxJRDtcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRpY2tlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvdGlja2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLy8gdDogY3VycmVudCB0aW1lLCBiOiBiZWdpbm5pbmcgdmFsdWUsIF9jOiBmaW5hbCB2YWx1ZSwgZDogdG90YWwgZHVyYXRpb25cbnZhciB0d2VlbkZ1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICB9LFxuICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgfSxcbiAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkN1YmljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gIH0sXG4gIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XG4gIH0sXG4gIGVhc2VPdXRRdWFydDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5RdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gIH0sXG4gIGVhc2VPdXRRdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluU2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gIH0sXG4gIGVhc2VPdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuICB9LFxuICBlYXNlSW5FeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAodD09MCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQvZCAtIDEpKSArIGI7XG4gIH0sXG4gIGVhc2VPdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAodD09ZCkgPyBiK2MgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0L2QpICsgMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgaWYgKHQgPT09IGQpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5DaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XG4gIH0sXG4gIGVhc2VPdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5FbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciBhLCBwLCBzO1xuICAgIHMgPSAxLjcwMTU4O1xuICAgIHAgPSAwO1xuICAgIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAwLjM7XG4gICAgfVxuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgIH1cbiAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICB9LFxuICBlYXNlT3V0RWxhc3RpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgYSwgcCwgcztcbiAgICBzID0gMS43MDE1ODtcbiAgICBwID0gMDtcbiAgICBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogMC4zO1xuICAgIH1cbiAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICBhID0gYztcbiAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICB9XG4gICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYyArIGI7XG4gIH0sXG4gIGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIGEsIHAsIHM7XG4gICAgcyA9IDEuNzAxNTg7XG4gICAgcCA9IDA7XG4gICAgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH0gZWxzZSBpZiAoKHQgLz0gZCAvIDIpID09PSAyKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICghcCkge1xuICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcbiAgICB9XG4gICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBzID0gcCAvIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgfVxuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSAqIDAuNSArIGMgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluQmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG4gIH0sXG4gIGVhc2VPdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluQm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciB2O1xuICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKTtcbiAgICByZXR1cm4gYyAtIHYgKyBiO1xuICB9LFxuICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkKSA8IDEgLyAyLjc1KSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgIH0gZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAxLjUgLyAyLjc1KSAqIHQgKyAwLjc1KSArIGI7XG4gICAgfSBlbHNlIGlmICh0IDwgMi41IC8gMi43NSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi4yNSAvIDIuNzUpICogdCArIDAuOTM3NSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIDAuOTg0Mzc1KSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIHY7XG4gICAgaWYgKHQgPCBkIC8gMikge1xuICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCk7XG4gICAgICByZXR1cm4gdiAqIDAuNSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCk7XG4gICAgICByZXR1cm4gdiAqIDAuNSArIGMgKiAwLjUgKyBiO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0d2VlbkZ1bmN0aW9ucztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3R3ZWVuLWZ1bmN0aW9ucy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE3MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vKiAhXG4gKiB0eXBlLWRldGVjdFxuICogQ29weXJpZ2h0KGMpIDIwMTMgamFrZSBsdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xudmFyIGdldFByb3RvdHlwZU9mRXhpc3RzID0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJztcbnZhciBwcm9taXNlRXhpc3RzID0gdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbic7XG52YXIgZ2xvYmFsT2JqZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHNlbGY7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbnZhciBpc0RvbSA9ICdsb2NhdGlvbicgaW4gZ2xvYmFsT2JqZWN0ICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsT2JqZWN0O1xudmFyIGh0bWxFbGVtZW50RXhpc3RzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBpc0FycmF5RXhpc3RzID0gdHlwZW9mIEFycmF5LmlzQXJyYXkgPT09ICdmdW5jdGlvbic7XG52YXIgc3ltYm9sRXhpc3RzID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgbWFwRXhpc3RzID0gdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc2V0RXhpc3RzID0gdHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgd2Vha01hcEV4aXN0cyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJztcbnZhciB3ZWFrU2V0RXhpc3RzID0gdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnO1xudmFyIGRhdGFWaWV3RXhpc3RzID0gdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJztcbnZhciBzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnICE9PSAndW5kZWZpbmVkJztcbnZhciBzZXRFbnRyaWVzRXhpc3RzID0gc2V0RXhpc3RzICYmIHR5cGVvZiBTZXQucHJvdG90eXBlLmVudHJpZXMgPT09ICdmdW5jdGlvbic7XG52YXIgbWFwRW50cmllc0V4aXN0cyA9IG1hcEV4aXN0cyAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xudmFyIHNldEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgc2V0RW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFNldCgpLmVudHJpZXMoKSk7XG52YXIgbWFwSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZkV4aXN0cyAmJiBtYXBFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgTWFwKCkuZW50cmllcygpKTtcbnZhciBhcnJheUl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xudmFyIGFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBhcnJheUl0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHN0cmluZ0l0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xudmFyIHN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlID0gc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG52YXIgdG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGggPSA4O1xudmFyIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCA9IC0xO1xuLyoqXG4gKiAjIyMgdHlwZU9mIChvYmopXG4gKlxuICogVXNlcyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGFuIG9iamVjdCxcbiAqIG5vcm1hbGlzaW5nIGJlaGF2aW91ciBhY3Jvc3MgZW5naW5lIHZlcnNpb25zICYgd2VsbCBvcHRpbWlzZWQuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtTdHJpbmd9IG9iamVjdCB0eXBlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHR5cGVEZXRlY3Qob2JqKSB7XG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzLDAzOSwwMzUgb3BzL3NlYyDCsTEuNjIlICg3OCBydW5zIHNhbXBsZWQpXG4gICAqICAgYm9vbGVhbiBsaXRlcmFsICAgIHggMSw0MjQsMTM4IG9wcy9zZWMgwrE0LjU0JSAoNzUgcnVucyBzYW1wbGVkKVxuICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDEsNjUzLDE1MyBvcHMvc2VjIMKxMS45MSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogICB1bmRlZmluZWQgICAgICAgICAgeCA5LDk3OCw2NjAgb3BzL3NlYyDCsTEuOTIlICg3NSBydW5zIHNhbXBsZWQpXG4gICAqICAgZnVuY3Rpb24gICAgICAgICAgIHggMiw1NTYsNzY5IG9wcy9zZWMgwrExLjczJSAoNzcgcnVucyBzYW1wbGVkKVxuICAgKiBQb3N0OlxuICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDM4LDU2NCw3OTYgb3BzL3NlYyDCsTEuMTUlICg3OSBydW5zIHNhbXBsZWQpXG4gICAqICAgYm9vbGVhbiBsaXRlcmFsICAgIHggMzEsMTQ4LDk0MCBvcHMvc2VjIMKxMS4xMCUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAzMiw2NzksMzMwIG9wcy9zZWMgwrExLjkwJSAoNzggcnVucyBzYW1wbGVkKVxuICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDMyLDM2MywzNjggb3BzL3NlYyDCsTEuMDclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqICAgZnVuY3Rpb24gICAgICAgICAgIHggMzEsMjk2LDg3MCBvcHMvc2VjIMKxMC45NiUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIHZhciB0eXBlb2ZPYmogPSB0eXBlb2Ygb2JqO1xuICBpZiAodHlwZW9mT2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB0eXBlb2ZPYmo7XG4gIH1cblxuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgbnVsbCAgICAgICAgICAgICAgIHggMjgsNjQ1LDc2NSBvcHMvc2VjIMKxMS4xNyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBudWxsICAgICAgICAgICAgICAgeCAzNiw0MjgsOTYyIG9wcy9zZWMgwrExLjM3JSAoODQgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH1cblxuICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cpYGBcbiAgICogIC0gTm9kZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBQaGFudG9tSlMgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIElFIDExID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIElFIEVkZ2UgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKWBgXG4gICAqICAtIENocm9tZSBXb3JrZXIgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gRmlyZWZveCBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKiAgLSBTYWZhcmkgV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gSUUgMTEgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gSUUgRWRnZSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuICAgKi9cbiAgaWYgKG9iaiA9PT0gZ2xvYmFsT2JqZWN0KSB7XG4gICAgcmV0dXJuICdnbG9iYWwnO1xuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIsODg4LDM1MiBvcHMvc2VjIMKxMC42NyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyMiw0NzksNjUwIG9wcy9zZWMgwrEwLjk2JSAoODEgcnVucyBzYW1wbGVkKVxuICAgKi9cbiAgaWYgKGlzQXJyYXlFeGlzdHMgJiYgQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuICdBcnJheSc7XG4gIH1cblxuICBpZiAoaXNEb20pIHtcbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvYnJvd3NlcnMuaHRtbCNsb2NhdGlvbilcbiAgICAgKiBXaGF0V0cgSFRNTCQ3LjcuMyAtIFRoZSBgTG9jYXRpb25gIGludGVyZmFjZVxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93LmxvY2F0aW9uKWBgXG4gICAgICogIC0gSUUgPD0xMSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5sb2NhdGlvbikge1xuICAgICAgcmV0dXJuICdMb2NhdGlvbic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2RvY3VtZW50KVxuICAgICAqIFdoYXRXRyBIVE1MJDMuMS4xIC0gVGhlIGBEb2N1bWVudGAgb2JqZWN0XG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC0yNjgwOTI2OClcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogICAgICAgV2hhdFdHIEhUTUwgc3RhdGVzOlxuICAgICAqICAgICAgICAgPiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBXaW5kb3cgb2JqZWN0cyBtdXN0IGFsc28gaGF2ZSBhXG4gICAgICogICAgICAgICA+IHdyaXRhYmxlLCBjb25maWd1cmFibGUsIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVkXG4gICAgICogICAgICAgICA+IEhUTUxEb2N1bWVudCB3aG9zZSB2YWx1ZSBpcyB0aGUgRG9jdW1lbnQgaW50ZXJmYWNlIG9iamVjdC5cbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50KWBgXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBEb2N1bWVudF1cIlxuICAgICAqICAtIElFIDExID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gZ2xvYmFsT2JqZWN0LmRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gJ0RvY3VtZW50JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI21pbWV0eXBlYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgTWltZVR5cGVBcnJheVxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLm1pbWVUeXBlcylgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU01pbWVUeXBlc0NvbGxlY3Rpb25dXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkubWltZVR5cGVzKSB7XG4gICAgICByZXR1cm4gJ01pbWVUeXBlQXJyYXknO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgUGx1Z2luQXJyYXlcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5wbHVnaW5zKWBgXG4gICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TUGx1Z2luc0NvbGxlY3Rpb25dXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkucGx1Z2lucykge1xuICAgICAgcmV0dXJuICdQbHVnaW5BcnJheSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjQuNCAtIFRoZSBgYmxvY2txdW90ZWAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFF1b3RlRWxlbWVudGBcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jsb2NrcXVvdGUnKSlgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBIVE1MQmxvY2tFbGVtZW50XVwiXG4gICAgICovXG4gICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnQkxPQ0tRVU9URScpIHtcbiAgICAgIHJldHVybiAnSFRNTFF1b3RlRWxlbWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWRhdGFjZWxsZWxlbWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZURhdGFDZWxsRWxlbWVudGBcbiAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcbiAgICAgKiAgICAgICAoaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0yLUhUTUwvaHRtbC5odG1sI0lELTgyOTE1MDc1KVxuICAgICAqICAgICAgIHdoaWNoIHN1Z2dlc3RzIHRoYXQgYnJvd3NlcnMgc2hvdWxkIHVzZSBIVE1MVGFibGVDZWxsRWxlbWVudCBmb3JcbiAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cbiAgICAgKiBUZXN0OiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSlcbiAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICovXG4gICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEQnKSB7XG4gICAgICByZXR1cm4gJ0hUTUxUYWJsZURhdGFDZWxsRWxlbWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI2h0bWx0YWJsZWhlYWRlcmNlbGxlbGVtZW50KVxuICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnRgXG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC04MjkxNTA3NSlcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogVGVzdDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJykpXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1RIJykge1xuICAgICAgcmV0dXJuICdIVE1MVGFibGVIZWFkZXJDZWxsRWxlbWVudCc7XG4gICAgfVxuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgKiBQcmU6XG4gICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA2MjUsNjQ0IG9wcy9zZWMgwrExLjU4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggMSwyNzksODUyIG9wcy9zZWMgwrEyLjkxJSAoNzcgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDMyQXJyYXkgICAgICAgIHggMSwxNzgsMTg1IG9wcy9zZWMgwrExLjk1JSAoODMgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDE2QXJyYXkgICAgICAgIHggMSwwMDgsMzgwIG9wcy9zZWMgwrEyLjI1JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhBcnJheSAgICAgICAgIHggMSwxMjgsMDQwIG9wcy9zZWMgwrEyLjExJSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MzJBcnJheSAgICAgICAgIHggMSwxNzAsMTE5IG9wcy9zZWMgwrEyLjg4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MTZBcnJheSAgICAgICAgIHggMSwxNzYsMzQ4IG9wcy9zZWMgwrE1Ljc5JSAoODYgcnVucyBzYW1wbGVkKVxuICAqICAgSW50OEFycmF5ICAgICAgICAgIHggMSwwNTgsNzA3IG9wcy9zZWMgwrE0Ljk0JSAoNzcgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggMSwxMTAsNjMzIG9wcy9zZWMgwrE0LjIwJSAoODAgcnVucyBzYW1wbGVkKVxuICAqIFBvc3Q6XG4gICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA3LDEwNSw2NzEgb3BzL3NlYyDCsTEzLjQ3JSAoNjQgcnVucyBzYW1wbGVkKVxuICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggNSw4ODcsOTEyIG9wcy9zZWMgwrExLjQ2JSAoODIgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDMyQXJyYXkgICAgICAgIHggNiw0OTEsNjYxIG9wcy9zZWMgwrExLjc2JSAoNzkgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDE2QXJyYXkgICAgICAgIHggNiw1NTksNzk1IG9wcy9zZWMgwrExLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhBcnJheSAgICAgICAgIHggNiw0NjMsOTY2IG9wcy9zZWMgwrExLjQzJSAoODUgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MzJBcnJheSAgICAgICAgIHggNSw2NDEsODQxIG9wcy9zZWMgwrEzLjQ5JSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgSW50MTZBcnJheSAgICAgICAgIHggNiw1ODMsNTExIG9wcy9zZWMgwrExLjk4JSAoODAgcnVucyBzYW1wbGVkKVxuICAqICAgSW50OEFycmF5ICAgICAgICAgIHggNiw2MDYsMDc4IG9wcy9zZWMgwrExLjc0JSAoODEgcnVucyBzYW1wbGVkKVxuICAqICAgVWludDhDbGFtcGVkQXJyYXkgIHggNiw2MDIsMjI0IG9wcy9zZWMgwrExLjc3JSAoODMgcnVucyBzYW1wbGVkKVxuICAqL1xuICB2YXIgc3RyaW5nVGFnID0gKHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzICYmIG9ialtTeW1ib2wudG9TdHJpbmdUYWddKTtcbiAgaWYgKHR5cGVvZiBzdHJpbmdUYWcgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHN0cmluZ1RhZztcbiAgfVxuXG4gIGlmIChnZXRQcm90b3R5cGVPZkV4aXN0cykge1xuICAgIHZhciBvYmpQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKTtcbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAxLDc3MiwzODUgb3BzL3NlYyDCsTEuODUlICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDIsMTQzLDYzNCBvcHMvc2VjIMKxMi40NiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDMsOTI4LDAwOSBvcHMvc2VjIMKxMC42NSUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqICAgcmVnZXggY29uc3RydWN0b3IgIHggMyw5MzEsMTA4IG9wcy9zZWMgwrEwLjU4JSAoODQgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG9ialByb3RvdHlwZSA9PT0gUmVnRXhwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdSZWdFeHAnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDIsMTMwLDA3NCBvcHMvc2VjIMKxNC40MiUgKDY4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDMsOTUzLDc3OSBvcHMvc2VjIMKxMS4zNSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IERhdGUucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ0RhdGUnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLXByb21pc2UucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDI1LjQuNS40IC0gUHJvbWlzZS5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiUHJvbWlzZVwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUHJvbWlzZS5yZXNvbHZlKCkpYGBcbiAgICAgKiAgLSBDaHJvbWUgPD00NyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIEVkZ2UgPD0yMCA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqICAtIEZpcmVmb3ggMjktTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuICAgICAqICAtIFNhZmFyaSA3LjEtTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuICAgICAqL1xuICAgIGlmIChwcm9taXNlRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gUHJvbWlzZS5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnUHJvbWlzZSc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggMiwyMjIsMTg2IG9wcy9zZWMgwrExLjMxJSAoODIgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggNCw1NDUsODc5IG9wcy9zZWMgwrExLjEzJSAoODMgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFNldC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU2V0JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBtYXAgICAgICAgICAgICAgICAgeCAyLDM5Niw4NDIgb3BzL3NlYyDCsTEuNTklICg4MSBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBtYXAgICAgICAgICAgICAgICAgeCA0LDE4Myw5NDUgb3BzL3NlYyDCsTYuNTklICg4MiBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gTWFwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdNYXAnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDEsMzIzLDIyMCBvcHMvc2VjIMKxMi4xNyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHdlYWtzZXQgICAgICAgICAgICB4IDQsMjM3LDUxMCBvcHMvc2VjIMKxMi4wMSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmICh3ZWFrU2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha1NldC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnV2Vha1NldCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMSw1MDAsMjYwIG9wcy9zZWMgwrEyLjAyJSAoNzggcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMyw4ODEsMzg0IG9wcy9zZWMgwrExLjQ1JSAoODIgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKHdlYWtNYXBFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBXZWFrTWFwLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdXZWFrTWFwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1kYXRhdmlldy5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjQuMi40LjIxIC0gRGF0YVZpZXcucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkRhdGFWaWV3XCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChkYXRhVmlld0V4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IERhdGFWaWV3LnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdEYXRhVmlldyc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJW1hcGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMy4xLjUuMi4yIC0gJU1hcEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJNYXAgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBNYXAoKS5lbnRyaWVzKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gbWFwSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnTWFwIEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lc2V0aXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIzLjIuNS4yLjIgLSAlU2V0SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlNldCBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IFNldCgpLmVudHJpZXMoKSlgYFxuICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAqL1xuICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzZXRJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdTZXQgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMi4xLjUuMi4yIC0gJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIkFycmF5IEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXVtTeW1ib2wuaXRlcmF0b3JdKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoYXJyYXlJdGVyYXRvckV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IGFycmF5SXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnQXJyYXkgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjEuMS41LjIuMiAtICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiU3RyaW5nIEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdTdHJpbmcgSXRlcmF0b3InO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDIsNDI0LDMyMCBvcHMvc2VjIMKxMS42NyUgKDc2IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDUsODM4LDAwMCBvcHMvc2VjIMKxMC45OSUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnT2JqZWN0JztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gT2JqZWN0XG4gICAgLnByb3RvdHlwZVxuICAgIC50b1N0cmluZ1xuICAgIC5jYWxsKG9iailcbiAgICAuc2xpY2UodG9TdHJpbmdMZWZ0U2xpY2VMZW5ndGgsIHRvU3RyaW5nUmlnaHRTbGljZUxlbmd0aCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy50eXBlRGV0ZWN0ID0gbW9kdWxlLmV4cG9ydHM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90eXBlLWRldGVjdC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9idXR0b24gPSByZXF1aXJlKCcuLi9idXR0b24nKTtcblxudmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQWN0aW9uQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEFjdGlvbkJ1dHRvbihwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIEFjdGlvbkJ1dHRvbik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBhY3Rpb25GbiA9IF90aGlzJHByb3BzLmFjdGlvbkZuLFxuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwgPSBfdGhpcyRwcm9wcy5jbG9zZU1vZGFsO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uRm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25Gbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uRm4oY2xvc2VNb2RhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uRm4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0ICYmIHJldC50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyB1bm5lY2Vzc2FyeSB0byBzZXQgbG9hZGluZz1mYWxzZSwgZm9yIHRoZSBNb2RhbCB3aWxsIGJlIHVubW91bnRlZCBhZnRlciBjbG9zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgQWN0aW9uQnV0dG9uLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5hdXRvRm9jdXMpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEFjdGlvbkJ1dHRvbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICB9O1xuXG4gICAgQWN0aW9uQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLnN0YXRlLmxvYWRpbmc7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX2J1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBzaXplOiAnbGFyZ2UnLCBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssIGxvYWRpbmc6IGxvYWRpbmcgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBBY3Rpb25CdXR0b247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQWN0aW9uQnV0dG9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvbW9kYWwvQWN0aW9uQnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbmZpcm07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9Nb2RhbCA9IHJlcXVpcmUoJy4vTW9kYWwnKTtcblxudmFyIF9Nb2RhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RhbCk7XG5cbnZhciBfQWN0aW9uQnV0dG9uID0gcmVxdWlyZSgnLi9BY3Rpb25CdXR0b24nKTtcblxudmFyIF9BY3Rpb25CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWN0aW9uQnV0dG9uKTtcblxudmFyIF9sb2NhbGUgPSByZXF1aXJlKCcuL2xvY2FsZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gY29uZmlybShjb25maWcpIHtcbiAgICB2YXIgcHJvcHMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7IGljb25UeXBlOiAncXVlc3Rpb24tY2lyY2xlJyB9LCBjb25maWcpO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMgfHwgJ2FudC1jb25maXJtJztcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHZhciB3aWR0aCA9IHByb3BzLndpZHRoIHx8IDQxNjtcbiAgICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZSB8fCB7fTtcbiAgICAvLyDpu5jorqTkuLogZmFsc2XvvIzkv53mjIHml6fniYjpu5jorqTooYzkuLpcbiAgICB2YXIgbWFza0Nsb3NhYmxlID0gcHJvcHMubWFza0Nsb3NhYmxlID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHByb3BzLm1hc2tDbG9zYWJsZTtcbiAgICAvLyDpu5jorqTkuLogdHJ1Ze+8jOS/neaMgeWQkeS4i+WFvOWuuVxuICAgIGlmICghKCdva0NhbmNlbCcgaW4gcHJvcHMpKSB7XG4gICAgICAgIHByb3BzLm9rQ2FuY2VsID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHJ1bnRpbWVMb2NhbGUgPSAoMCwgX2xvY2FsZS5nZXRDb25maXJtTG9jYWxlKSgpO1xuICAgIHByb3BzLm9rVGV4dCA9IHByb3BzLm9rVGV4dCB8fCAocHJvcHMub2tDYW5jZWwgPyBydW50aW1lTG9jYWxlLm9rVGV4dCA6IHJ1bnRpbWVMb2NhbGUuanVzdE9rVGV4dCk7XG4gICAgcHJvcHMuY2FuY2VsVGV4dCA9IHByb3BzLmNhbmNlbFRleHQgfHwgcnVudGltZUxvY2FsZS5jYW5jZWxUZXh0O1xuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICB2YXIgdW5tb3VudFJlc3VsdCA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUoZGl2KTtcbiAgICAgICAgaWYgKHVubW91bnRSZXN1bHQgJiYgZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGJvZHkgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6IHByb3BzLmljb25UeXBlIH0pLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGl0bGUnIH0sXG4gICAgICAgICAgICBwcm9wcy50aXRsZVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LFxuICAgICAgICAgICAgcHJvcHMuY29udGVudFxuICAgICAgICApXG4gICAgKTtcbiAgICB2YXIgZm9vdGVyID0gbnVsbDtcbiAgICBpZiAocHJvcHMub2tDYW5jZWwpIHtcbiAgICAgICAgZm9vdGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYnRucycgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgX0FjdGlvbkJ1dHRvbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgYWN0aW9uRm46IHByb3BzLm9uQ2FuY2VsLCBjbG9zZU1vZGFsOiBjbG9zZSB9LFxuICAgICAgICAgICAgICAgIHByb3BzLmNhbmNlbFRleHRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9BY3Rpb25CdXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICdwcmltYXJ5JywgYWN0aW9uRm46IHByb3BzLm9uT2ssIGNsb3NlTW9kYWw6IGNsb3NlLCBhdXRvRm9jdXM6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBwcm9wcy5va1RleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb290ZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idG5zJyB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfQWN0aW9uQnV0dG9uMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAncHJpbWFyeScsIGFjdGlvbkZuOiBwcm9wcy5vbk9rLCBjbG9zZU1vZGFsOiBjbG9zZSwgYXV0b0ZvY3VzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgcHJvcHMub2tUZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctJyArIHByb3BzLnR5cGUsIHRydWUpLCBwcm9wcy5jbGFzc05hbWUpO1xuICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnJlbmRlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBfTW9kYWwyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBvbkNhbmNlbDogY2xvc2UsIHZpc2libGU6IHRydWUsIHRpdGxlOiAnJywgdHJhbnNpdGlvbk5hbWU6ICd6b29tJywgZm9vdGVyOiAnJywgbWFza1RyYW5zaXRpb25OYW1lOiAnZmFkZScsIG1hc2tDbG9zYWJsZTogbWFza0Nsb3NhYmxlLCBzdHlsZTogc3R5bGUsIHdpZHRoOiB3aWR0aCB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LXdyYXBwZXInIH0sXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgJyAnLFxuICAgICAgICAgICAgZm9vdGVyXG4gICAgICAgIClcbiAgICApLCBkaXYpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGNsb3NlXG4gICAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL21vZGFsL2NvbmZpcm0uanNcbiAqKiBtb2R1bGUgaWQgPSAxOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gNCA1IDYgN1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jaGFuZ2VDb25maXJtTG9jYWxlID0gY2hhbmdlQ29uZmlybUxvY2FsZTtcbmV4cG9ydHMuZ2V0Q29uZmlybUxvY2FsZSA9IGdldENvbmZpcm1Mb2NhbGU7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIGRlZmF1bHRMb2NhbGUgPSB7XG4gICAgb2tUZXh0OiAn56Gu5a6aJyxcbiAgICBjYW5jZWxUZXh0OiAn5Y+W5raIJyxcbiAgICBqdXN0T2tUZXh0OiAn55+l6YGT5LqGJ1xufTtcbnZhciBydW50aW1lTG9jYWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUpO1xuZnVuY3Rpb24gY2hhbmdlQ29uZmlybUxvY2FsZShuZXdMb2NhbGUpIHtcbiAgICBpZiAobmV3TG9jYWxlKSB7XG4gICAgICAgIHJ1bnRpbWVMb2NhbGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcnVudGltZUxvY2FsZSwgbmV3TG9jYWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBydW50aW1lTG9jYWxlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvbmZpcm1Mb2NhbGUoKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWVMb2NhbGU7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvbW9kYWwvbG9jYWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX0tleUNvZGUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9LZXlDb2RlJyk7XG5cbnZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblxudmFyIF9yY0FuaW1hdGUgPSByZXF1aXJlKCdyYy1hbmltYXRlJyk7XG5cbnZhciBfcmNBbmltYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQW5pbWF0ZSk7XG5cbnZhciBfTGF6eVJlbmRlckJveCA9IHJlcXVpcmUoJy4vTGF6eVJlbmRlckJveCcpO1xuXG52YXIgX0xhenlSZW5kZXJCb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGF6eVJlbmRlckJveCk7XG5cbnZhciBfZ2V0U2Nyb2xsQmFyU2l6ZSA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL2dldFNjcm9sbEJhclNpemUnKTtcblxudmFyIF9nZXRTY3JvbGxCYXJTaXplMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFNjcm9sbEJhclNpemUpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcblxudmFyIHV1aWQgPSAwO1xudmFyIG9wZW5Db3VudCA9IDA7XG4vKiBlc2xpbnQgcmVhY3Qvbm8taXMtbW91bnRlZDowICovXG5mdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIGdldFNjcm9sbCh3LCB0b3ApIHtcbiAgICB2YXIgcmV0ID0gd1sncGFnZScgKyAodG9wID8gJ1knIDogJ1gnKSArICdPZmZzZXQnXTtcbiAgICB2YXIgbWV0aG9kID0gJ3Njcm9sbCcgKyAodG9wID8gJ1RvcCcgOiAnTGVmdCcpO1xuICAgIGlmICh0eXBlb2YgcmV0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgZCA9IHcuZG9jdW1lbnQ7XG4gICAgICAgIHJldCA9IGQuZG9jdW1lbnRFbGVtZW50W21ldGhvZF07XG4gICAgICAgIGlmICh0eXBlb2YgcmV0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0ID0gZC5ib2R5W21ldGhvZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybU9yaWdpbihub2RlLCB2YWx1ZSkge1xuICAgIHZhciBzdHlsZSA9IG5vZGUuc3R5bGU7XG4gICAgWydXZWJraXQnLCAnTW96JywgJ01zJywgJ21zJ10uZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgIHN0eWxlW3ByZWZpeCArICdUcmFuc2Zvcm1PcmlnaW4nXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHN0eWxlWyd0cmFuc2Zvcm1PcmlnaW4nXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gb2Zmc2V0KGVsKSB7XG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgcG9zID0ge1xuICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogcmVjdC50b3BcbiAgICB9O1xuICAgIHZhciBkb2MgPSBlbC5vd25lckRvY3VtZW50O1xuICAgIHZhciB3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gICAgcG9zLmxlZnQgKz0gZ2V0U2Nyb2xsKHcpO1xuICAgIHBvcy50b3AgKz0gZ2V0U2Nyb2xsKHcsIHRydWUpO1xuICAgIHJldHVybiBwb3M7XG59XG52YXIgRGlhbG9nID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICAgIGRpc3BsYXlOYW1lOiAnRGlhbG9nJyxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFmdGVyQ2xvc2U6IG5vb3AsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICAgICAgbWFzazogdHJ1ZSxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgICAgICAgICBjbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIG1hc2tDbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHByZWZpeENsczogJ3JjLWRpYWxvZycsXG4gICAgICAgICAgICBvbkNsb3NlOiBub29wXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdGhpcy5pblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy50aXRsZUlkID0gJ3JjRGlhbG9nVGl0bGUnICsgdXVpZCsrO1xuICAgIH0sXG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudERpZFVwZGF0ZSh7fSk7XG4gICAgfSxcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIG1vdXNlUG9zaXRpb24gPSB0aGlzLnByb3BzLm1vdXNlUG9zaXRpb247XG4gICAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCBzaG93XG4gICAgICAgICAgICBpZiAoIXByZXZQcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTY3JvbGxpbmdFZmZlY3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMud3JhcC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2dOb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcy5yZWZzLmRpYWxvZyk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsT2Zmc2V0ID0gb2Zmc2V0KGRpYWxvZ05vZGUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1PcmlnaW4oZGlhbG9nTm9kZSwgbW91c2VQb3NpdGlvbi54IC0gZWxPZmZzZXQubGVmdCArICdweCAnICsgKG1vdXNlUG9zaXRpb24ueSAtIGVsT2Zmc2V0LnRvcCkgKyAncHgnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1PcmlnaW4oZGlhbG9nTm9kZSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcmV2UHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5pblRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHByb3BzLm1hc2sgJiYgdGhpcy5sYXN0T3V0U2lkZUZvY3VzTm9kZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dFNpZGVGb2N1c05vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RPdXRTaWRlRm9jdXNOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy52aXNpYmxlIHx8IHRoaXMuaW5UcmFuc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbGluZ0VmZmVjdCgpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbkFuaW1hdGVMZWF2ZTogZnVuY3Rpb24gb25BbmltYXRlTGVhdmUoKSB7XG4gICAgICAgIC8vIG5lZWQgZGVtbz9cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9kaWFsb2cvcHVsbC8yOFxuICAgICAgICBpZiAodGhpcy5yZWZzLndyYXApIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdmVTY3JvbGxpbmdFZmZlY3QoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5hZnRlckNsb3NlKCk7XG4gICAgfSxcbiAgICBvbk1hc2tDbGljazogZnVuY3Rpb24gb25NYXNrQ2xpY2soZSkge1xuICAgICAgICAvLyBhbmRyb2lkIHRyaWdnZXIgY2xpY2sgb24gb3BlbiAoZmFzdGNsaWNrPz8pXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5vcGVuVGltZSA8IDMwMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKGUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmIChwcm9wcy5rZXlib2FyZCAmJiBlLmtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGtlZXAgZm9jdXMgaW5zaWRlIGRpYWxvZ1xuICAgICAgICBpZiAocHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5UQUIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGRpYWxvZ1Jvb3QgPSB0aGlzLnJlZnMud3JhcDtcbiAgICAgICAgICAgICAgICB2YXIgc2VudGluZWwgPSB0aGlzLnJlZnMuc2VudGluZWw7XG4gICAgICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IGRpYWxvZ1Jvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnRpbmVsLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IHRoaXMucmVmcy5zZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dSb290LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXREaWFsb2dFbGVtZW50OiBmdW5jdGlvbiBnZXREaWFsb2dFbGVtZW50KCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICB2YXIgY2xvc2FibGUgPSBwcm9wcy5jbG9zYWJsZTtcbiAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICAgICAgdmFyIGRlc3QgPSB7fTtcbiAgICAgICAgaWYgKHByb3BzLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlc3Qud2lkdGggPSBwcm9wcy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlc3QuaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb290ZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmIChwcm9wcy5mb290ZXIpIHtcbiAgICAgICAgICAgIGZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJywgcmVmOiBcImZvb3RlclwiIH0sIHByb3BzLmZvb3Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlYWRlciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKHByb3BzLnRpdGxlKSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicsIHJlZjogXCJoZWFkZXJcIiB9LCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRpdGxlJywgaWQ6IHRoaXMudGl0bGVJZCB9LCBwcm9wcy50aXRsZSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbG9zZXIgPSB2b2lkIDA7XG4gICAgICAgIGlmIChjbG9zYWJsZSkge1xuICAgICAgICAgICAgY2xvc2VyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IG9uQ2xpY2s6IHRoaXMuY2xvc2UsIFwiYXJpYS1sYWJlbFwiOiBcIkNsb3NlXCIsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbG9zZScgfSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xvc2UteCcgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHlsZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwcm9wcy5zdHlsZSwgZGVzdCk7XG4gICAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHRoaXMuZ2V0VHJhbnNpdGlvbk5hbWUoKTtcbiAgICAgICAgdmFyIGRpYWxvZ0VsZW1lbnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9MYXp5UmVuZGVyQm94MltcImRlZmF1bHRcIl0sIHsga2V5OiBcImRpYWxvZy1lbGVtZW50XCIsIHJvbGU6IFwiZG9jdW1lbnRcIiwgcmVmOiBcImRpYWxvZ1wiLCBzdHlsZTogc3R5bGUsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgKHByb3BzLmNsYXNzTmFtZSB8fCAnJyksIHZpc2libGU6IHByb3BzLnZpc2libGUgfSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LCBjbG9zZXIsIGhlYWRlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5Jywgc3R5bGU6IHByb3BzLmJvZHlTdHlsZSwgcmVmOiBcImJvZHlcIiB9LCBwcm9wcy5ib2R5UHJvcHMpLCBwcm9wcy5jaGlsZHJlbiksIGZvb3RlciksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyB0YWJJbmRleDogMCwgcmVmOiBcInNlbnRpbmVsXCIsIHN0eWxlOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIG92ZXJmbG93OiAnaGlkZGVuJyB9IH0sIFwic2VudGluZWxcIikpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNBbmltYXRlMltcImRlZmF1bHRcIl0sIHsga2V5OiBcImRpYWxvZ1wiLCBzaG93UHJvcDogXCJ2aXNpYmxlXCIsIG9uTGVhdmU6IHRoaXMub25BbmltYXRlTGVhdmUsIHRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSwgY29tcG9uZW50OiBcIlwiLCB0cmFuc2l0aW9uQXBwZWFyOiB0cnVlIH0sIGRpYWxvZ0VsZW1lbnQpO1xuICAgIH0sXG4gICAgZ2V0WkluZGV4U3R5bGU6IGZ1bmN0aW9uIGdldFpJbmRleFN0eWxlKCkge1xuICAgICAgICB2YXIgc3R5bGUgPSB7fTtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgaWYgKHByb3BzLnpJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzdHlsZS56SW5kZXggPSBwcm9wcy56SW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG4gICAgZ2V0V3JhcFN0eWxlOiBmdW5jdGlvbiBnZXRXcmFwU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5nZXRaSW5kZXhTdHlsZSgpLCB0aGlzLnByb3BzLndyYXBTdHlsZSk7XG4gICAgfSxcbiAgICBnZXRNYXNrU3R5bGU6IGZ1bmN0aW9uIGdldE1hc2tTdHlsZSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLmdldFpJbmRleFN0eWxlKCksIHRoaXMucHJvcHMubWFza1N0eWxlKTtcbiAgICB9LFxuICAgIGdldE1hc2tFbGVtZW50OiBmdW5jdGlvbiBnZXRNYXNrRWxlbWVudCgpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIG1hc2tFbGVtZW50ID0gdm9pZCAwO1xuICAgICAgICBpZiAocHJvcHMubWFzaykge1xuICAgICAgICAgICAgdmFyIG1hc2tUcmFuc2l0aW9uID0gdGhpcy5nZXRNYXNrVHJhbnNpdGlvbk5hbWUoKTtcbiAgICAgICAgICAgIG1hc2tFbGVtZW50ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTGF6eVJlbmRlckJveDJbXCJkZWZhdWx0XCJdLCBfX2Fzc2lnbih7IHN0eWxlOiB0aGlzLmdldE1hc2tTdHlsZSgpLCBrZXk6IFwibWFza1wiLCBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctbWFzaycsIGhpZGRlbkNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1tYXNrLWhpZGRlbicsIHZpc2libGU6IHByb3BzLnZpc2libGUgfSwgcHJvcHMubWFza1Byb3BzKSk7XG4gICAgICAgICAgICBpZiAobWFza1RyYW5zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBtYXNrRWxlbWVudCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQW5pbWF0ZTJbXCJkZWZhdWx0XCJdLCB7IGtleTogXCJtYXNrXCIsIHNob3dQcm9wOiBcInZpc2libGVcIiwgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSwgY29tcG9uZW50OiBcIlwiLCB0cmFuc2l0aW9uTmFtZTogbWFza1RyYW5zaXRpb24gfSwgbWFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXNrRWxlbWVudDtcbiAgICB9LFxuICAgIGdldE1hc2tUcmFuc2l0aW9uTmFtZTogZnVuY3Rpb24gZ2V0TWFza1RyYW5zaXRpb25OYW1lKCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5tYXNrVHJhbnNpdGlvbk5hbWU7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBwcm9wcy5tYXNrQW5pbWF0aW9uO1xuICAgICAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIGFuaW1hdGlvbikge1xuICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy5wcmVmaXhDbHMgKyAnLScgKyBhbmltYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICAgIH0sXG4gICAgZ2V0VHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICB2YXIgdHJhbnNpdGlvbk5hbWUgPSBwcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHByb3BzLmFuaW1hdGlvbjtcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uTmFtZSAmJiBhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy0nICsgYW5pbWF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcbiAgICB9LFxuICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQocGFydCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZzW3BhcnRdO1xuICAgIH0sXG4gICAgc2V0U2Nyb2xsYmFyOiBmdW5jdGlvbiBzZXRTY3JvbGxiYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIHRoaXMuc2Nyb2xsYmFyV2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSB0aGlzLnNjcm9sbGJhcldpZHRoICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkU2Nyb2xsaW5nRWZmZWN0OiBmdW5jdGlvbiBhZGRTY3JvbGxpbmdFZmZlY3QoKSB7XG4gICAgICAgIG9wZW5Db3VudCsrO1xuICAgICAgICBpZiAob3BlbkNvdW50ICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1Njcm9sbGJhcigpO1xuICAgICAgICB0aGlzLnNldFNjcm9sbGJhcigpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIC8vIHRoaXMuYWRqdXN0RGlhbG9nKCk7XG4gICAgfSxcbiAgICByZW1vdmVTY3JvbGxpbmdFZmZlY3Q6IGZ1bmN0aW9uIHJlbW92ZVNjcm9sbGluZ0VmZmVjdCgpIHtcbiAgICAgICAgb3BlbkNvdW50LS07XG4gICAgICAgIGlmIChvcGVuQ291bnQgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJyc7XG4gICAgICAgIHRoaXMucmVzZXRTY3JvbGxiYXIoKTtcbiAgICAgICAgLy8gdGhpcy5yZXNldEFkanVzdG1lbnRzKCk7XG4gICAgfSxcbiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uQ2xvc2UoZSk7XG4gICAgfSxcbiAgICBjaGVja1Njcm9sbGJhcjogZnVuY3Rpb24gY2hlY2tTY3JvbGxiYXIoKSB7XG4gICAgICAgIHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgaWYgKCFmdWxsV2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgIHZhciBkb2N1bWVudEVsZW1lbnRSZWN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgZnVsbFdpbmRvd1dpZHRoID0gZG9jdW1lbnRFbGVtZW50UmVjdC5yaWdodCAtIE1hdGguYWJzKGRvY3VtZW50RWxlbWVudFJlY3QubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib2R5SXNPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCBmdWxsV2luZG93V2lkdGg7XG4gICAgICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gKDAsIF9nZXRTY3JvbGxCYXJTaXplMltcImRlZmF1bHRcIl0pKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlc2V0U2Nyb2xsYmFyOiBmdW5jdGlvbiByZXNldFNjcm9sbGJhcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnJztcbiAgICB9LFxuICAgIGFkanVzdERpYWxvZzogZnVuY3Rpb24gYWRqdXN0RGlhbG9nKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZzLndyYXAgJiYgdGhpcy5zY3JvbGxiYXJXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy5yZWZzLndyYXAuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdMZWZ0ID0gKCF0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIG1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJykgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5yZWZzLndyYXAuc3R5bGUucGFkZGluZ1JpZ2h0ID0gKHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgIW1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJykgKyAncHgnO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldEFkanVzdG1lbnRzOiBmdW5jdGlvbiByZXNldEFkanVzdG1lbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZzLndyYXApIHtcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwLnN0eWxlLnBhZGRpbmdMZWZ0ID0gdGhpcy5yZWZzLndyYXAuc3R5bGUucGFkZGluZ0xlZnQgPSAnJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBtYXNrQ2xvc2FibGUgPSBwcm9wcy5tYXNrQ2xvc2FibGU7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRXcmFwU3R5bGUoKTtcbiAgICAgICAgLy8gY2xlYXIgaGlkZSBkaXNwbGF5XG4gICAgICAgIC8vIGFuZCBvbmx5IHNldCBkaXNwbGF5IGFmdGVyIGFzeW5jIGFuaW0sIG5vdCBoZXJlIGZvciBoaWRlXG4gICAgICAgIGlmIChwcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCB0aGlzLmdldE1hc2tFbGVtZW50KCksIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyB0YWJJbmRleDogLTEsIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy13cmFwICcgKyAocHJvcHMud3JhcENsYXNzTmFtZSB8fCAnJyksIHJlZjogXCJ3cmFwXCIsIG9uQ2xpY2s6IG1hc2tDbG9zYWJsZSA/IHRoaXMub25NYXNrQ2xpY2sgOiB1bmRlZmluZWQsIHJvbGU6IFwiZGlhbG9nXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IHByb3BzLnRpdGxlID8gdGhpcy50aXRsZUlkIDogbnVsbCwgc3R5bGU6IHN0eWxlIH0sIHByb3BzLndyYXBQcm9wcyksIHRoaXMuZ2V0RGlhbG9nRWxlbWVudCgpKSk7XG4gICAgfVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERpYWxvZztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRpYWxvZy9saWIvRGlhbG9nLmpzXG4gKiogbW9kdWxlIGlkID0gMjA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0RpYWxvZyA9IHJlcXVpcmUoJy4vRGlhbG9nJyk7XG5cbnZhciBfRGlhbG9nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RpYWxvZyk7XG5cbnZhciBfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9nZXRDb250YWluZXJSZW5kZXJNaXhpbicpO1xuXG52YXIgX2dldENvbnRhaW5lclJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldENvbnRhaW5lclJlbmRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufTtcblxudmFyIERpYWxvZ1dyYXAgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gICAgZGlzcGxheU5hbWU6ICdEaWFsb2dXcmFwJyxcblxuICAgIG1peGluczogWygwLCBfZ2V0Q29udGFpbmVyUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZShpbnN0YW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnByb3BzLnZpc2libGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXV0b0Rlc3Ryb3k6IGZhbHNlLFxuICAgICAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uIGdldENvbXBvbmVudChpbnN0YW5jZSwgZXh0cmEpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EaWFsb2cyW1wiZGVmYXVsdFwiXSwgX19hc3NpZ24oe30sIGluc3RhbmNlLnByb3BzLCBleHRyYSwgeyBrZXk6IFwiZGlhbG9nXCIgfSkpO1xuICAgICAgICB9XG4gICAgfSldLFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHZpc2libGUgPSBfcmVmLnZpc2libGU7XG5cbiAgICAgICAgcmV0dXJuICEhKHRoaXMucHJvcHMudmlzaWJsZSB8fCB2aXNpYmxlKTtcbiAgICB9LFxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgIGFmdGVyQ2xvc2U6IHRoaXMucmVtb3ZlQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fSxcblxuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29udGFpbmVyKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEVsZW1lbnQocGFydCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50LmdldEVsZW1lbnQocGFydCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERpYWxvZ1dyYXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kaWFsb2cvbGliL0RpYWxvZ1dyYXAuanNcbiAqKiBtb2R1bGUgaWQgPSAyMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gNCA1IDYgN1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuXG52YXIgTGF6eVJlbmRlckJveCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgICBkaXNwbGF5TmFtZTogJ0xhenlSZW5kZXJCb3gnLFxuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gISFuZXh0UHJvcHMuaGlkZGVuQ2xhc3NOYW1lIHx8ICEhbmV4dFByb3BzLnZpc2libGU7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgICAgICBpZiAoISF0aGlzLnByb3BzLmhpZGRlbkNsYXNzTmFtZSAmJiAhdGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgKz0gJyAnICsgdGhpcy5wcm9wcy5oaWRkZW5DbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMpO1xuICAgICAgICBkZWxldGUgcHJvcHMuaGlkZGVuQ2xhc3NOYW1lO1xuICAgICAgICBkZWxldGUgcHJvcHMudmlzaWJsZTtcbiAgICAgICAgcHJvcHMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMpKTtcbiAgICB9XG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTGF6eVJlbmRlckJveDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRpYWxvZy9saWIvTGF6eVJlbmRlckJveC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxMVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNiA3XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldENvbnRhaW5lclJlbmRlck1peGluO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZGVmYXVsdEdldENvbnRhaW5lcigpIHtcbiAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbmZ1bmN0aW9uIGdldENvbnRhaW5lclJlbmRlck1peGluKGNvbmZpZykge1xuICB2YXIgX2NvbmZpZyRhdXRvTW91bnQgPSBjb25maWcuYXV0b01vdW50O1xuICB2YXIgYXV0b01vdW50ID0gX2NvbmZpZyRhdXRvTW91bnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfY29uZmlnJGF1dG9Nb3VudDtcbiAgdmFyIF9jb25maWckYXV0b0Rlc3Ryb3kgPSBjb25maWcuYXV0b0Rlc3Ryb3k7XG4gIHZhciBhdXRvRGVzdHJveSA9IF9jb25maWckYXV0b0Rlc3Ryb3kgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfY29uZmlnJGF1dG9EZXN0cm95O1xuICB2YXIgaXNWaXNpYmxlID0gY29uZmlnLmlzVmlzaWJsZTtcbiAgdmFyIGdldENvbXBvbmVudCA9IGNvbmZpZy5nZXRDb21wb25lbnQ7XG4gIHZhciBfY29uZmlnJGdldENvbnRhaW5lciA9IGNvbmZpZy5nZXRDb250YWluZXI7XG4gIHZhciBnZXRDb250YWluZXIgPSBfY29uZmlnJGdldENvbnRhaW5lciA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEdldENvbnRhaW5lciA6IF9jb25maWckZ2V0Q29udGFpbmVyO1xuXG5cbiAgdmFyIG1peGluID0gdm9pZCAwO1xuXG4gIGZ1bmN0aW9uIF9yZW5kZXJDb21wb25lbnQoaW5zdGFuY2UsIGNvbXBvbmVudEFyZywgcmVhZHkpIHtcbiAgICBpZiAoIWlzVmlzaWJsZSB8fCBpbnN0YW5jZS5fY29tcG9uZW50IHx8IGlzVmlzaWJsZShpbnN0YW5jZSkpIHtcbiAgICAgIGlmICghaW5zdGFuY2UuX2NvbnRhaW5lcikge1xuICAgICAgICBpbnN0YW5jZS5fY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKGluc3RhbmNlLCBnZXRDb21wb25lbnQoaW5zdGFuY2UsIGNvbXBvbmVudEFyZyksIGluc3RhbmNlLl9jb250YWluZXIsIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICBpbnN0YW5jZS5fY29tcG9uZW50ID0gdGhpcztcbiAgICAgICAgaWYgKHJlYWR5KSB7XG4gICAgICAgICAgcmVhZHkuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGF1dG9Nb3VudCkge1xuICAgIG1peGluID0gX2V4dGVuZHMoe30sIG1peGluLCB7XG4gICAgICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIF9yZW5kZXJDb21wb25lbnQodGhpcyk7XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIF9yZW5kZXJDb21wb25lbnQodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIWF1dG9Nb3VudCB8fCAhYXV0b0Rlc3Ryb3kpIHtcbiAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuICAgICAgcmVuZGVyQ29tcG9uZW50OiBmdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50QXJnLCByZWFkeSkge1xuICAgICAgICBfcmVuZGVyQ29tcG9uZW50KHRoaXMsIGNvbXBvbmVudEFyZywgcmVhZHkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3JlbW92ZUNvbnRhaW5lcihpbnN0YW5jZSkge1xuICAgIGlmIChpbnN0YW5jZS5fY29udGFpbmVyKSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gaW5zdGFuY2UuX2NvbnRhaW5lcjtcbiAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyKTtcbiAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICBpbnN0YW5jZS5fY29udGFpbmVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBpZiAoYXV0b0Rlc3Ryb3kpIHtcbiAgICBtaXhpbiA9IF9leHRlbmRzKHt9LCBtaXhpbiwge1xuICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBfcmVtb3ZlQ29udGFpbmVyKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG1peGluID0gX2V4dGVuZHMoe30sIG1peGluLCB7XG4gICAgICByZW1vdmVDb250YWluZXI6IGZ1bmN0aW9uIHJlbW92ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgX3JlbW92ZUNvbnRhaW5lcih0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBtaXhpbjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRpYWxvZy9+L3JjLXV0aWwvbGliL2dldENvbnRhaW5lclJlbmRlck1peGluLmpzXG4gKiogbW9kdWxlIGlkID0gMjEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjYWNoZWQgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIGdldFNjcm9sbEJhclNpemUoZnJlc2gpIHtcbiAgaWYgKGZyZXNoIHx8IGNhY2hlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIHZhciBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBvdXRlclN0eWxlID0gb3V0ZXIuc3R5bGU7XG5cbiAgICBvdXRlclN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBvdXRlclN0eWxlLnRvcCA9IDA7XG4gICAgb3V0ZXJTdHlsZS5sZWZ0ID0gMDtcbiAgICBvdXRlclN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgb3V0ZXJTdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgb3V0ZXJTdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgb3V0ZXJTdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuICAgIG91dGVyU3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gICAgdmFyIHdpZHRoQ29udGFpbmVkID0gaW5uZXIub2Zmc2V0V2lkdGg7XG4gICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICB2YXIgd2lkdGhTY3JvbGwgPSBpbm5lci5vZmZzZXRXaWR0aDtcblxuICAgIGlmICh3aWR0aENvbnRhaW5lZCA9PT0gd2lkdGhTY3JvbGwpIHtcbiAgICAgIHdpZHRoU2Nyb2xsID0gb3V0ZXIuY2xpZW50V2lkdGg7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG5cbiAgICBjYWNoZWQgPSB3aWR0aENvbnRhaW5lZCAtIHdpZHRoU2Nyb2xsO1xuICB9XG4gIHJldHVybiBjYWNoZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U2Nyb2xsQmFyU2l6ZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kaWFsb2cvfi9yYy11dGlsL2xpYi9nZXRTY3JvbGxCYXJTaXplLmpzXG4gKiogbW9kdWxlIGlkID0gMjE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2IDdcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfdG9vbHRpcCA9IHJlcXVpcmUoJy4uL3Rvb2x0aXAnKTtcblxudmFyIF90b29sdGlwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Rvb2x0aXApO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9idXR0b24gPSByZXF1aXJlKCcuLi9idXR0b24nKTtcblxudmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcblxudmFyIFBvcGNvbmZpcm0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUG9wY29uZmlybSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQb3Bjb25maXJtKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUG9wY29uZmlybSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmNvbmZpcm0gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICB2YXIgb25Db25maXJtID0gX3RoaXMucHJvcHMub25Db25maXJtO1xuICAgICAgICAgICAgaWYgKG9uQ29uZmlybSkge1xuICAgICAgICAgICAgICAgIG9uQ29uZmlybS5jYWxsKF90aGlzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuY2FuY2VsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgdmFyIG9uQ2FuY2VsID0gX3RoaXMucHJvcHMub25DYW5jZWw7XG4gICAgICAgICAgICBpZiAob25DYW5jZWwpIHtcbiAgICAgICAgICAgICAgICBvbkNhbmNlbC5jYWxsKF90aGlzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMub25WaXNpYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHZpc2libGUpIHtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgUG9wY29uZmlybS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICgndmlzaWJsZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogbmV4dFByb3BzLnZpc2libGUgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUG9wY29uZmlybS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdmlzaWJsZSB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25WaXNpYmxlQ2hhbmdlID0gcHJvcHMub25WaXNpYmxlQ2hhbmdlO1xuICAgICAgICBpZiAob25WaXNpYmxlQ2hhbmdlKSB7XG4gICAgICAgICAgICBvblZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUG9wY29uZmlybS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgdGl0bGUgPSBwcm9wcy50aXRsZSxcbiAgICAgICAgICAgIHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChwcm9wcywgW1wicHJlZml4Q2xzXCIsIFwidGl0bGVcIiwgXCJwbGFjZW1lbnRcIl0pO1xuXG4gICAgICAgIHZhciBva1RleHQgPSBwcm9wcy5va1RleHQsXG4gICAgICAgICAgICBjYW5jZWxUZXh0ID0gcHJvcHMuY2FuY2VsVGV4dDtcblxuICAgICAgICB2YXIgcG9wY29uZmlybUxvY2FsZSA9IGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlLlBvcGNvbmZpcm07XG4gICAgICAgIGlmIChwb3Bjb25maXJtTG9jYWxlKSB7XG4gICAgICAgICAgICBva1RleHQgPSBva1RleHQgfHwgcG9wY29uZmlybUxvY2FsZS5va1RleHQ7XG4gICAgICAgICAgICBjYW5jZWxUZXh0ID0gY2FuY2VsVGV4dCB8fCBwb3Bjb25maXJtTG9jYWxlLmNhbmNlbFRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG92ZXJsYXkgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lci1jb250ZW50JyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tZXNzYWdlJyB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2V4Y2xhbWF0aW9uLWNpcmNsZScgfSksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW1lc3NhZ2UtdGl0bGUnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYnV0dG9ucycgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jYW5jZWwsIHNpemU6ICdzbWFsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFRleHQgfHwgJ+WPlua2iCdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogdGhpcy5jb25maXJtLCB0eXBlOiAncHJpbWFyeScsIHNpemU6ICdzbWFsbCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rVGV4dCB8fCAn56Gu5a6aJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfdG9vbHRpcDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgcGxhY2VtZW50OiBwbGFjZW1lbnQsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsIHZpc2libGU6IHRoaXMuc3RhdGUudmlzaWJsZSwgb3ZlcmxheTogb3ZlcmxheSB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBQb3Bjb25maXJtO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBvcGNvbmZpcm07XG5cblBvcGNvbmZpcm0uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1wb3BvdmVyJyxcbiAgICB0cmFuc2l0aW9uTmFtZTogJ3pvb20tYmlnJyxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHRyaWdnZXI6ICdjbGljaydcbn07XG5Qb3Bjb25maXJtLmNvbnRleHRUeXBlcyA9IHtcbiAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wb3Bjb25maXJtL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3BvcG92ZXIvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vYnV0dG9uL3N0eWxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcG9wY29uZmlybS9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDIzOVxuICoqIG1vZHVsZSBjaHVua3MgPSA0IDUgNlxuICoqLyIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcuLi8uLi91dGlscydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeSAocGFyYW1zKSB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJy9kYXNoYm9hcmQtYWRtaW4tcm9sZS9saXN0Jywge1xyXG4gICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgIGRhdGE6IHBhcmFtc1xyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUgKHBhcmFtcykge1xyXG4gIHJldHVybiByZXF1ZXN0KCcvZGFzaGJvYXJkLWFkbWluLXJvbGUvZWRpdCcsIHtcclxuICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgZGF0YTogcGFyYW1zXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSAocGFyYW1zKSB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoJy9kYXNoYm9hcmQtYWRtaW4tcm9sZS9lZGl0Jywge1xyXG4gICAgbWV0aG9kOiAncG9zdCcsXHJcbiAgICBkYXRhOiBwYXJhbXNcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlIChwYXJhbXMpIHtcclxuICByZXR1cm4gcmVxdWVzdCgnL2Rhc2hib2FyZC1hZG1pbi1yb2xlL2RlbCcsIHtcclxuICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgZGF0YTogcGFyYW1zXHJcbiAgfSlcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2aWNlcy9hY2NvdW50L3JvbGUuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFRhYmxlLCBQb3Bjb25maXJtLCBJY29uLCBUb29sdGlwLCBNb2RhbCB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCBUYWJsZUJvZHlXcmFwcGVyIGZyb20gJy4uLy4uL2NvbW1vbi9UYWJsZUJvZHlXcmFwcGVyJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vTGlzdC5sZXNzJ1xyXG5cclxuY29uc3QgY29uZmlybSA9IE1vZGFsLmNvbmZpcm1cclxuXHJcbmZ1bmN0aW9uIExpc3QgKHtcclxuICBsb2FkaW5nLFxyXG4gIGRhdGFTb3VyY2UsXHJcbiAgcGFnaW5hdGlvbixcclxuICBsb2NhdGlvbixcclxuICB1cGRhdGVQb3dlcixcclxuICBkZWxldGVQb3dlcixcclxuICBvblBhZ2VDaGFuZ2UsXHJcbiAgb25EZWxldGVJdGVtLFxyXG4gIG9uRWRpdEl0ZW1cclxufSkge1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVJdGVtID0gKHJlY29yZCkgPT4ge1xyXG4gICAgY29uZmlybSh7XHJcbiAgICAgIHRpdGxlOiAn5Yig6Zmk6KeS6Imy5Y+v6IO95Lya5a+5566h55CG5ZGY6LSm5Y+36YCg5oiQ5peg5rOV5byl6KGl55qE5b2x5ZON77yM5oKo56Gu5a6a6KaB5Yig6Zmk6L+Z5Liq6KeS6Imy5ZCXPycsXHJcbiAgICAgIG9uT2sgKCkge1xyXG4gICAgICAgIG9uRGVsZXRlSXRlbShyZWNvcmQuaWQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBjb2x1bW5zID0gW1xyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ+inkuiJsue8luWPtycsXHJcbiAgICAgIGRhdGFJbmRleDogJ2lkJyxcclxuICAgICAga2V5OiAnaWQnXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn6KeS6Imy5ZCN56ewJyxcclxuICAgICAgZGF0YUluZGV4OiAnbmFtZScsXHJcbiAgICAgIGtleTogJ3JvbGVOYW1lJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aTjeS9nCcsXHJcbiAgICAgIGtleTogJ29wZXJhdGlvbicsXHJcbiAgICAgIC8vIHdpZHRoOiAxMDAsXHJcbiAgICAgIHJlbmRlcjogKHRleHQsIHJlY29yZCkgPT4gKFxyXG4gICAgICAgIDxwPlxyXG4gICAgICAgICAge3VwZGF0ZVBvd2VyICYmXHJcbiAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJib3R0b21cIiB0aXRsZT0n57yW6L6RJz5cclxuICAgICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gb25FZGl0SXRlbShyZWNvcmQpfSBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIG1hcmdpblJpZ2h0OiAxMFxyXG4gICAgICAgICAgICB9fT48SWNvbiB0eXBlPVwiZWRpdFwiIC8+PC9hPlxyXG4gICAgICAgICAgPC9Ub29sdGlwPn1cclxuICAgICAgICAgIHtkZWxldGVQb3dlciAmJlxyXG4gICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwiYm90dG9tXCIgdGl0bGU9J+WIoOmZpCc+XHJcbiAgICAgICAgICAgIDxQb3Bjb25maXJtIHRpdGxlPSfnoa7lrpropoHliKDpmaTlkJfvvJ8nIG9uQ29uZmlybT17KCkgPT4gaGFuZGxlRGVsZXRlSXRlbShyZWNvcmQpfT5cclxuICAgICAgICAgICAgICA8YT48SWNvbiB0eXBlPVwiY2xvc2UtY2lyY2xlLW9cIiAvPjwvYT5cclxuICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxyXG4gICAgICAgICAgPC9Ub29sdGlwPn1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICksXHJcbiAgICAgIC8vIGZpeGVkOiAncmlnaHQnXHJcbiAgICB9XHJcbiAgXVxyXG5cclxuICBjb25zdCBnZXRCb2R5V3JhcHBlclByb3BzID0ge1xyXG4gICAgcGFnZTogMSxcclxuICAgIGN1cnJlbnQ6IDFcclxuICB9XHJcblxyXG4gIGNvbnN0IGdldEJvZHlXcmFwcGVyID0gKGJvZHkpID0+ICg8VGFibGVCb2R5V3JhcHBlciB7Li4uZ2V0Qm9keVdyYXBwZXJQcm9wc30gYm9keT17Ym9keX0gLz4pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8VGFibGVcclxuICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9XHJcbiAgICAgIGJvcmRlcmVkXHJcbiAgICAgIHNjcm9sbD17eyB4OiAxMDAwIH19XHJcbiAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XHJcbiAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgIG9uQ2hhbmdlPXtvblBhZ2VDaGFuZ2V9XHJcbiAgICAgIHBhZ2luYXRpb249e2ZhbHNlfVxyXG4gICAgICBzaW1wbGVcclxuICAgICAgcm93S2V5PXtyZWNvcmQgPT4gcmVjb3JkLmlkfVxyXG4gICAgICBnZXRCb2R5V3JhcHBlcj17Z2V0Qm9keVdyYXBwZXJ9XHJcbiAgICAvPlxyXG4gIClcclxufVxyXG5cclxuTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgb25QYWdlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkRlbGV0ZUl0ZW06IFByb3BUeXBlcy5mdW5jLFxyXG4gIG9uRWRpdEl0ZW06IFByb3BUeXBlcy5mdW5jLFxyXG4gIGRhdGFTb3VyY2U6IFByb3BUeXBlcy5hcnJheSxcclxuICBsb2FkaW5nOiBQcm9wVHlwZXMuYW55XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpc3RcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvTGlzdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIE1vZGFsLCBJY29uIH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ2R2YSdcclxuaW1wb3J0IFVzZXJQb3dlciBmcm9tICcuL1VzZXJQb3dlcidcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL01vZGFsLmxlc3MnXHJcblxyXG5jb25zdCBGb3JtSXRlbSA9IEZvcm0uSXRlbVxyXG5cclxuY29uc3QgZm9ybUl0ZW1MYXlvdXQgPSB7XHJcbiAgbGFiZWxDb2w6IHtcclxuICAgIHNwYW46IDZcclxuICB9LFxyXG4gIHdyYXBwZXJDb2w6IHtcclxuICAgIHNwYW46IDE0XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBNb2RhbEZvcm0gPSAoe1xyXG4gIGRpc3BhdGNoLFxyXG4gIG1vZGFsOiB7IGxvYWRpbmcsIGN1ckl0ZW0sIHR5cGUsIHZpc2libGUgfSxcclxuICBmb3JtOiB7XHJcbiAgICBnZXRGaWVsZERlY29yYXRvcixcclxuICAgIHZhbGlkYXRlRmllbGRzLFxyXG4gICAgcmVzZXRGaWVsZHNcclxuICB9XHJcbn0pID0+IHtcclxuICBmdW5jdGlvbiBoYW5kbGVPayAoKSB7XHJcbiAgICB2YWxpZGF0ZUZpZWxkcygoZXJyb3JzLCB2YWx1ZXMpID0+IHtcclxuICAgICAgaWYgKGVycm9ycykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgLi4udmFsdWVzLFxyXG4gICAgICAgIGlkOiBjdXJJdGVtLmlkLFxyXG4gICAgICAgIHBvd2VyOiBjdXJJdGVtLnBvd2VyXHJcbiAgICAgIH1cclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiAhIWRhdGEuaWQgPyAnYWNjb3VudFJvbGUvdXBkYXRlJyA6ICdhY2NvdW50Um9sZS9jcmVhdGUnLCBwYXlsb2FkOiBkYXRhIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuICBjb25zdCBtb2RhbEZvcm1PcHRzID0ge1xyXG4gICAgdGl0bGU6IHR5cGUgPT09ICdjcmVhdGUnID8gPGRpdj48SWNvbiB0eXBlPVwicGx1cy1jaXJjbGUtb1wiIC8+IOaWsOW7uuinkuiJsjwvZGl2PiA6IDxkaXY+PEljb24gdHlwZT1cImVkaXRcIiAvPiDkv67mlLnop5LoibI8L2Rpdj4sXHJcbiAgICB2aXNpYmxlLFxyXG4gICAgb25PazogaGFuZGxlT2ssXHJcbiAgICBvbkNhbmNlbCgpIHtcclxuICAgICAgZGlzcGF0Y2goe3R5cGU6ICdtb2RhbC9oaWRlTW9kYWwnfSlcclxuICAgICAgcmVzZXRGaWVsZHMoKSAvL+mdnuW4uOmHjeimge+8jOWFs+mXreWQjuW/hemhu+mHjee9ruaVsOaNrlxyXG4gICAgfSxcclxuICAgIHdyYXBDbGFzc05hbWU6ICd2ZXJ0aWNhbC1jZW50ZXItbW9kYWwnLFxyXG4gICAgY2xhc3NOYW1lOiBzdHlsZXMubW9kYWxXaWR0aCxcclxuICAgIGNvbmZpcm1Mb2FkaW5nOiBsb2FkaW5nXHJcbiAgfVxyXG5cclxuICBjb25zdCBVc2VyUG93ZXJHZW4gPSAoKSA9PiA8VXNlclBvd2VyIHBvd2VyTGlzdD17Y3VySXRlbS5wb3dlcn0vPlxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE1vZGFsIHsuLi5tb2RhbEZvcm1PcHRzfT5cclxuICAgICAgPEZvcm0gaG9yaXpvbnRhbD5cclxuICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9J+inkuiJsuWQjeensO+8micgaGFzRmVlZGJhY2sgey4uLmZvcm1JdGVtTGF5b3V0fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignbmFtZScsIHtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBjdXJJdGVtLm5hbWUsXHJcbiAgICAgICAgICAgIHJ1bGVzOiBbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6KeS6Imy5ZCN56ew5LiN6IO95Li656m6J1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSkoPElucHV0IC8+KX1cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICAgIDxGb3JtSXRlbT5cclxuICAgICAgICAgIDxVc2VyUG93ZXJHZW4vPlxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgIDwvRm9ybT5cclxuICAgIDwvTW9kYWw+XHJcbiAgKVxyXG59XHJcblxyXG5Nb2RhbEZvcm0ucHJvcFR5cGVzID0ge1xyXG4gIG1vZGFsOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGZvcm06IFByb3BUeXBlcy5vYmplY3RcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHsgbW9kYWwgfSkge1xyXG4gIGlmKCFtb2RhbC5jdXJJdGVtLnBvd2VyKSB7XHJcbiAgICBtb2RhbC5jdXJJdGVtLnBvd2VyID0ge31cclxuICB9XHJcbiAgcmV0dXJuIHsgbW9kYWwgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoRm9ybS5jcmVhdGUoKShNb2RhbEZvcm0pKVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL2FjY291bnQvcm9sZS9Nb2RhbEZvcm0uanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEZvcm0sIEJ1dHRvbiwgUm93LCBDb2wsIEljb24gfSBmcm9tICdhbnRkJ1xyXG5pbXBvcnQgU2VhcmNoR3JvdXAgZnJvbSAnLi4vLi4vY29tbW9uL1NlYXJjaCdcclxuXHJcbmNvbnN0IFNlYXJjaCA9ICh7XHJcbiAgZmllbGQsXHJcbiAga2V5d29yZCxcclxuICBhZGRQb3dlcixcclxuICBvblNlYXJjaCxcclxuICBvbkFkZCxcclxuICBmb3JtOiB7XHJcbiAgICBnZXRGaWVsZERlY29yYXRvcixcclxuICAgIHZhbGlkYXRlRmllbGRzLFxyXG4gICAgZ2V0RmllbGRzVmFsdWVcclxuICB9XHJcbn0pID0+IHtcclxuICBjb25zdCBzZWFyY2hHcm91cFByb3BzID0ge1xyXG4gICAgZmllbGQsXHJcbiAgICBrZXl3b3JkLFxyXG4gICAgc2l6ZTogJ2xhcmdlJyxcclxuICAgIHNlbGVjdDogdHJ1ZSxcclxuICAgIHNlbGVjdE9wdGlvbnM6IFt7IHZhbHVlOiAncm9sZU5hbWUnLCBuYW1lOiAn6KeS6Imy5ZCN56ewJyB9XSxcclxuICAgIHNlbGVjdFByb3BzOiB7XHJcbiAgICAgIGRlZmF1bHRWYWx1ZTogZmllbGQgfHwgJ3JvbGVOYW1lJ1xyXG4gICAgfSxcclxuICAgIG9uU2VhcmNoOiAodmFsdWUpID0+IHtcclxuICAgICAgb25TZWFyY2godmFsdWUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFJvdyBndXR0ZXI9ezI0fT5cclxuICAgICAge2FkZFBvd2VyICYmXHJcbiAgICAgIDxDb2wgbGc9ezI0fSBtZD17MjR9IHNtPXsyNH0geHM9ezI0fSBzdHlsZT17e21hcmdpbkJvdHRvbTogMTYsIHRleHRBbGlnbjogJ3JpZ2h0J319PlxyXG4gICAgICAgIDxCdXR0b24gc2l6ZT0nbGFyZ2UnIHR5cGU9J2dob3N0JyBvbkNsaWNrPXtvbkFkZH0+PEljb24gdHlwZT1cInBsdXMtY2lyY2xlLW9cIiAvPua3u+WKoDwvQnV0dG9uPlxyXG4gICAgICA8L0NvbD59XHJcbiAgICA8L1Jvdz5cclxuICApXHJcbn1cclxuXHJcblNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgZm9ybTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gIG9uU2VhcmNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBvbkFkZDogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgZmllbGQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAga2V5d29yZDogUHJvcFR5cGVzLnN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtLmNyZWF0ZSgpKFNlYXJjaClcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvU2VhcmNoLmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcywgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFRhYmxlLCBJY29uLCBDaGVja2JveCB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCB7IG1lbnUsIGVxdWFsU2V0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnXHJcbmltcG9ydCB7IE1FTlUsIERFVEFJTCwgQURELCBVUERBVEUsIERFTEVURSwgQ0hFQ0ssIFVQTE9BRCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9vcHRpb25zJ1xyXG5cclxuY29uc3QgQ2hlY2tib3hHcm91cCA9IENoZWNrYm94Lkdyb3VwXHJcblxyXG5jb25zdCBnZXRQb3dlclRleHQgPSAoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IHBvd2VyTmFtZSA9IHtcclxuICAgIFtNRU5VXTogXCLmn6XnnIvoj5zljZVcIixcclxuICAgIFtERVRBSUxdOiBcIuafpeeci+ivpuaDhVwiLFxyXG4gICAgW0FERF06IFwi5paw5aKeXCIsXHJcbiAgICBbVVBEQVRFXTogXCLkv67mlLlcIixcclxuICAgIFtERUxFVEVdOiBcIuWIoOmZpFwiLFxyXG4gICAgW0NIRUNLXTogXCLlrqHmoLhcIixcclxuICAgIFtVUExPQURdOiBcIuS4iuS8oFwiXHJcbiAgfVxyXG4gIGNvbnN0IG9wdGlvbnNQb3dlck5hbWUgPSBpdGVtLnBvd2VyLm1hcCgoY3VyKSA9PiB7XHJcbiAgICByZXR1cm4geyBsYWJlbDogcG93ZXJOYW1lW2N1cl0sIHZhbHVlOiBjdXIgfVxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBvcHRpb25zUG93ZXJOYW1lXHJcbn1cclxuXHJcbmNsYXNzIFVzZXJQb3dlciBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XHJcbiAgICBwb3dlckxpc3Q6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxyXG4gIH1cclxuXHJcbiAgc3RhdGUgPSB7XHJcbiAgICB1c2VyUG93ZXI6IHRoaXMucHJvcHMucG93ZXJMaXN0XHJcbiAgfVxyXG5cclxuICBvbkNoYW5nZVBvd2VyKGNoZWNrZWRWYWx1ZXMsIGl0ZW0pe1xyXG4gICAgaWYoISFjaGVja2VkVmFsdWVzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLnN0YXRlLnVzZXJQb3dlcltpdGVtLmlkXSA9IGNoZWNrZWRWYWx1ZXNcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLnVzZXJQb3dlcltpdGVtLmlkXVxyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHVzZXJQb3dlcjogdGhpcy5zdGF0ZS51c2VyUG93ZXIgfSlcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGNvbHVtbnMgPSBbe1xyXG4gICAgICB0aXRsZTogJ+iPnOWNlemAiemhuScsXHJcbiAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxyXG4gICAgICB3aWR0aDogJzMwJScsXHJcbiAgICAgIHJlbmRlcjogKHRleHQsIHJlY29yZCkgPT4gcmVjb3JkLmljb24gP1xyXG4gICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgIDxJY29uIHR5cGU9e3JlY29yZC5pY29ufSAvPiB7dGV4dH1cclxuICAgICAgICAgICAgIDwvc3Bhbj4gOlxyXG4gICAgICAgICAgICAgdGV4dFxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aTjeS9nOadg+mZkCcsXHJcbiAgICAgIHdpZHRoOiAnNjAlJyxcclxuICAgICAgcmVuZGVyOiAodGV4dCwgcmVjb3JkKSA9PiAoXHJcbiAgICAgICAgPENoZWNrYm94R3JvdXAgb3B0aW9ucz17Z2V0UG93ZXJUZXh0KHJlY29yZCl9IHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJQb3dlcltyZWNvcmQuaWRdfSBvbkNoYW5nZT17KGNoZWNrZWRWYWx1ZXMpID0+IHRoaXMub25DaGFuZ2VQb3dlcihjaGVja2VkVmFsdWVzLCByZWNvcmQpfS8+XHJcbiAgICAgIClcclxuICAgIH1dXHJcblxyXG4gICAgY29uc3Qgcm93U2VsZWN0aW9uID0ge1xyXG4gICAgICBvbkNoYW5nZTogKHNlbGVjdGVkUm93S2V5cywgc2VsZWN0ZWRSb3dzKSA9PiB7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uU2VsZWN0OiAocmVjb3JkLCBzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzKSA9PiB7XHJcbiAgICAgICAgaWYoc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdGUudXNlclBvd2VyW3JlY29yZC5pZF0gPSByZWNvcmQucG93ZXJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3RhdGUudXNlclBvd2VyW3JlY29yZC5pZF1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVzZXJQb3dlcjogdGhpcy5zdGF0ZS51c2VyUG93ZXIgfSlcclxuICAgICAgfSxcclxuICAgICAgb25TZWxlY3RBbGw6IChzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKSA9PiB7XHJcbiAgICAgICAgaWYoc2VsZWN0ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJQb3dlckFsbCA9IHNlbGVjdGVkUm93cy5yZWR1Y2UoKHBvd2VyLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudXNlclBvd2VyW2l0ZW0uaWRdID0gaXRlbS5wb3dlclxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS51c2VyUG93ZXJcclxuICAgICAgICAgIH0sIHt9KVxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVzZXJQb3dlcjogdXNlclBvd2VyQWxsIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvcihsZXQga2V5IGluIHRoaXMuc3RhdGUudXNlclBvd2VyKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRlLnVzZXJQb3dlcltrZXldXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXNlclBvd2VyOiB0aGlzLnN0YXRlLnVzZXJQb3dlciB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZ2V0Q2hlY2tib3hQcm9wczogcmVjb3JkID0+ICh7XHJcbiAgICAgICAgLy8gZGlzYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIGRlZmF1bHRDaGVja2VkOiBlcXVhbFNldChyZWNvcmQucG93ZXIsIHRoaXMuc3RhdGUudXNlclBvd2VyW3JlY29yZC5pZF0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRhYmxlXHJcbiAgICAgICAgY29sdW1ucz17Y29sdW1uc31cclxuICAgICAgICBkYXRhU291cmNlPXttZW51fVxyXG4gICAgICAgIGJvcmRlcmVkXHJcbiAgICAgICAgc2Nyb2xsPXt7IHg6IDEwMDAgfX1cclxuICAgICAgICBwYWdpbmF0aW9uPXtmYWxzZX1cclxuICAgICAgICBzaW1wbGVcclxuICAgICAgICBzaXplPVwic21hbGxcIlxyXG4gICAgICAgIGRlZmF1bHRFeHBhbmRBbGxSb3dzXHJcbiAgICAgICAgcm93U2VsZWN0aW9uPXtyb3dTZWxlY3Rpb259XHJcbiAgICAgICAgcm93S2V5PXtyZWNvcmQgPT4gcmVjb3JkLmtleX1cclxuICAgICAgICAvPlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlclBvd2VyXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvYWNjb3VudC9yb2xlL1VzZXJQb3dlci5qc1xuICoqLyIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSAncXMnXHJcbmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICdhbnRkJ1xyXG5pbXBvcnQgeyByb3V0ZXJSZWR1eCB9IGZyb20gJ2R2YS9yb3V0ZXInXHJcbmltcG9ydCB7IGNyZWF0ZSwgcmVtb3ZlLCB1cGRhdGUsIHF1ZXJ5LCBxdWVyeVBvd2VyTGlzdCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FjY291bnQvcm9sZSdcclxuaW1wb3J0IHsgZ2V0Q3VyUG93ZXJzIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlOiAnYWNjb3VudFJvbGUnLFxyXG4gIHN0YXRlOiB7XHJcbiAgICBsaXN0OiBbXSxcclxuICAgIGxvYWRpbmc6IGZhbHNlXHJcbiAgfSxcclxuXHJcbiAgc3Vic2NyaXB0aW9uczoge1xyXG4gICAgc2V0dXAgKHsgZGlzcGF0Y2gsIGhpc3RvcnkgfSkge1xyXG4gICAgICBoaXN0b3J5Lmxpc3Rlbihsb2NhdGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgIGlmIChwYXRobmFtZSA9PT0gJy9hY2NvdW50L3JvbGUnKSB7XHJcbiAgICAgICAgICBjb25zdCBjdXJQb3dlcnMgPSBnZXRDdXJQb3dlcnMocGF0aG5hbWUpXHJcbiAgICAgICAgICBpZihjdXJQb3dlcnMpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzIH0gfSlcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknLCBwYXlsb2FkOiBsb2NhdGlvbi5xdWVyeSB9KVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2gocm91dGVyUmVkdXgucHVzaCh7IHBhdGhuYW1lOiAnL25vLXBvd2VyJyB9KSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZWZmZWN0czoge1xyXG4gICAgKnF1ZXJ5ICh7IHBheWxvYWQgfSwgeyBjYWxsLCBwdXQgfSkge1xyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnc2hvd0xvYWRpbmcnIH0pXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBjYWxsKHF1ZXJ5LCBwYXJzZShwYXlsb2FkKSlcclxuICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7XHJcbiAgICAgICAgICB0eXBlOiAncXVlcnlTdWNjZXNzJyxcclxuICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgbGlzdDogZGF0YS5saXN0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnaGlkZUxvYWRpbmcnIH0pXHJcbiAgICB9LFxyXG4gICAgKmRlbGV0ZSAoeyBwYXlsb2FkIH0sIHsgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KVxyXG4gICAgICBjb25zdCBkYXRhID0geWllbGQgY2FsbChyZW1vdmUsIHsgaWQ6IHBheWxvYWQgfSlcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ2hpZGVMb2FkaW5nJyB9KVxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZU1vZGFsJyB9KVxyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdxdWVyeScgfSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICpjcmVhdGUgKHsgcGF5bG9hZCB9LCB7IGNhbGwsIHB1dCB9KSB7XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSlcclxuICAgICAgY29uc3QgcGFyYW1zID0geyAuLi5wYXlsb2FkLCBwb3dlcjogSlNPTi5zdHJpbmdpZnkocGF5bG9hZC5wb3dlcikgfVxyXG4gICAgICBjb25zdCBkYXRhID0geWllbGQgY2FsbChjcmVhdGUsIHBhcmFtcylcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ21vZGFsL2hpZGVMb2FkaW5nJyB9KVxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZU1vZGFsJyB9KVxyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdxdWVyeScgfSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICp1cGRhdGUgKHsgcGF5bG9hZCB9LCB7IGNhbGwsIHB1dCB9KSB7XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9zaG93TG9hZGluZycgfSlcclxuICAgICAgY29uc3QgbmV3Um9sZSA9IHsgLi4ucGF5bG9hZCwgcG93ZXI6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQucG93ZXIpIH1cclxuICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGNhbGwodXBkYXRlLCBuZXdSb2xlKVxyXG4gICAgICB5aWVsZCBwdXQoeyB0eXBlOiAnbW9kYWwvaGlkZUxvYWRpbmcnIH0pXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdtb2RhbC9oaWRlTW9kYWwnIH0pXHJcbiAgICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3F1ZXJ5JyB9KVxyXG4gICAgICAgIG1lc3NhZ2Uuc3VjY2VzcyhcIuinkuiJsuS/ruaUueaIkOWKnywg5rOo6ZSA55m75b2V5ZCO6YeN5paw55m75b2V5Y2z5Y+v55Sf5pWI77yBXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICByZWR1Y2Vyczoge1xyXG4gICAgc2hvd0xvYWRpbmcgKHN0YXRlKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiB0cnVlIH1cclxuICAgIH0sXHJcbiAgICBoaWRlTG9hZGluZyAoc3RhdGUpIHtcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxvYWRpbmc6IGZhbHNlIH1cclxuICAgIH0sXHJcbiAgICBxdWVyeVN1Y2Nlc3MgKHN0YXRlLCBhY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIC4uLmFjdGlvbi5wYXlsb2FkIH1cclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZGVscy9hY2NvdW50L3JvbGUuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQge3JvdXRlclJlZHV4fSBmcm9tICdkdmEvcm91dGVyJ1xyXG5pbXBvcnQge2Nvbm5lY3R9IGZyb20gJ2R2YSdcclxuaW1wb3J0IFJvbGVMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYWNjb3VudC9yb2xlL0xpc3QnXHJcbmltcG9ydCBSb2xlU2VhcmNoIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYWNjb3VudC9yb2xlL1NlYXJjaCdcclxuaW1wb3J0IFJvbGVNb2RhbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2FjY291bnQvcm9sZS9Nb2RhbEZvcm0nXHJcbmltcG9ydCB7IGNoZWNrUG93ZXIgfSBmcm9tICcuLi8uLi91dGlscydcclxuaW1wb3J0IHsgQURELCBVUERBVEUsIERFTEVURSB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9vcHRpb25zJ1xyXG5cclxuZnVuY3Rpb24gUm9sZSh7IGxvY2F0aW9uLCBjdXJQb3dlcnMsIGRpc3BhdGNoLCBhY2NvdW50Um9sZSB9KSB7XHJcblxyXG4gIGNvbnN0IHsgbGlzdCwgbG9hZGluZyB9ID0gYWNjb3VudFJvbGVcclxuXHJcbiAgY29uc3Qge2ZpZWxkLCBrZXl3b3JkfSA9IGxvY2F0aW9uLnF1ZXJ5XHJcblxyXG4gIGNvbnN0IGFkZFBvd2VyID0gY2hlY2tQb3dlcihBREQsIGN1clBvd2VycylcclxuICBjb25zdCB1cGRhdGVQb3dlciA9IGNoZWNrUG93ZXIoVVBEQVRFLCBjdXJQb3dlcnMpXHJcbiAgY29uc3QgZGVsZXRlUG93ZXIgPSBjaGVja1Bvd2VyKERFTEVURSwgY3VyUG93ZXJzKVxyXG5cclxuICBjb25zdCByb2xlTGlzdFByb3BzID0ge1xyXG4gICAgZGF0YVNvdXJjZTogbGlzdCxcclxuICAgIGxvYWRpbmcsXHJcbiAgICBsb2NhdGlvbixcclxuICAgIHVwZGF0ZVBvd2VyLFxyXG4gICAgZGVsZXRlUG93ZXIsXHJcbiAgICBvbkRlbGV0ZUl0ZW0oaWQpIHtcclxuICAgICAgZGlzcGF0Y2goe3R5cGU6ICdhY2NvdW50Um9sZS9kZWxldGUnLCBwYXlsb2FkOiBpZH0pXHJcbiAgICB9LFxyXG4gICAgb25FZGl0SXRlbShpdGVtKSB7XHJcbiAgICAgIGRpc3BhdGNoKHtcclxuICAgICAgICB0eXBlOiAnbW9kYWwvc2hvd01vZGFsJyxcclxuICAgICAgICBwYXlsb2FkOiB7XHJcbiAgICAgICAgICB0eXBlOiAndXBkYXRlJyxcclxuICAgICAgICAgIGN1ckl0ZW06IGl0ZW1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCByb2xlU2VhcmNoUHJvcHMgPSB7XHJcbiAgICBmaWVsZCxcclxuICAgIGtleXdvcmQsXHJcbiAgICBhZGRQb3dlcixcclxuICAgIG9uQWRkKCkge1xyXG4gICAgICBkaXNwYXRjaCh7XHJcbiAgICAgICAgdHlwZTogJ21vZGFsL3Nob3dNb2RhbCcsXHJcbiAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgdHlwZTogJ2NyZWF0ZSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBSb2xlTW9kYWxHZW4gPSAoKSA9PiA8Um9sZU1vZGFsLz5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LWlubmVyJz5cclxuICAgICAgPFJvbGVTZWFyY2ggey4uLnJvbGVTZWFyY2hQcm9wc30vPlxyXG4gICAgICA8Um9sZUxpc3Qgey4uLnJvbGVMaXN0UHJvcHN9Lz5cclxuICAgICAgPFJvbGVNb2RhbEdlbi8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcblJvbGUucHJvcFR5cGVzID0ge1xyXG4gIGFjY291bnRSb2xlOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuY1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoeyBhY2NvdW50Um9sZSB9KSB7XHJcbiAgcmV0dXJuIHsgYWNjb3VudFJvbGUgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoUm9sZSlcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcm91dGVzL2FjY291bnQvUm9sZS5qc1xuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRhYmxlXCI6XCJ0YWJsZV9fXzJtcUg3XCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29tcG9uZW50cy9hY2NvdW50L3JvbGUvTGlzdC5sZXNzXG4gKiogbW9kdWxlIGlkID0gODU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDRcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJtb2RhbFdpZHRoXCI6XCJtb2RhbFdpZHRoX19fS3Z6bWJcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9jb21wb25lbnRzL2FjY291bnQvcm9sZS9Nb2RhbC5sZXNzXG4gKiogbW9kdWxlIGlkID0gODU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDRcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4uLy4uL2J1dHRvbi9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2Ryb3Bkb3duL3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9