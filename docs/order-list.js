webpackJsonp([2],{18:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(51),m=r(h),y=n(1),v=r(y),g=n(82),b=r(g),C=n(6),P=r(C),T=n(17),_=r(T),w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},S=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return _["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.style,r=e.children,a=e.className,i=e.indeterminate,l=e.onMouseEnter,u=e.onMouseLeave,c=w(e,["prefixCls","style","children","className","indeterminate","onMouseEnter","onMouseLeave"]),d=(0,P["default"])(a,(0,s["default"])({},t+"-wrapper",!0)),p=(0,P["default"])((0,s["default"])({},t+"-indeterminate",i));return v["default"].createElement("label",{className:d,style:n,onMouseEnter:l,onMouseLeave:u},v["default"].createElement(m["default"],(0,o["default"])({},c,{prefixCls:t,className:p,children:null})),void 0!==r?v["default"].createElement("span",null,r):null)},t}(v["default"].Component);t["default"]=S,S.Group=b["default"],S.defaultProps={prefixCls:"ant-checkbox",indeterminate:!1},e.exports=t["default"]},21:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;throw new Error("no key or value for "+e)}function o(e,t){return"value"===t?a(e):e.props[t]}function i(e){return e.combobox}function s(e){return e.multiple||e.tags}function l(e){return s(e)||i(e)}function u(e){return!l(e)}function c(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function d(e){e.preventDefault()}function p(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].key===t){n=r;break}return n}function f(e,t){for(var n=-1,r=0;r<e.length;r++)if(c(e[r].label).join("")===t){n=r;break}return n}function h(e,t){if(null===t||void 0===t)return[];var n=[];return b["default"].Children.forEach(e,function(e){if(e.type.isMenuItemGroup)n=n.concat(h(e.props.children,t));else{var r=a(e),o=e.key;p(t,r)!==-1&&o&&n.push(o)}}),n}function m(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.type.isMenuItemGroup){var r=m(n.props.children);if(r)return r}else if(!n.props.disabled)return n}return null}function y(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}function v(e,t){var n=new RegExp("["+t.join()+"]"),r=e.split(n);return""===r[0]&&r.shift(),""===r[r.length-1]&&r.pop(),r}Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTABLE_ATTRIBUTE=t.UNSELECTABLE_STYLE=void 0,t.getValuePropValue=a,t.getPropValue=o,t.isCombobox=i,t.isMultipleOrTags=s,t.isMultipleOrTagsOrCombobox=l,t.isSingleMode=u,t.toArray=c,t.preventDefaultEvent=d,t.findIndexInValueByKey=p,t.findIndexInValueByLabel=f,t.getSelectKeys=h,t.findFirstMenuItem=m,t.includesSeparators=y,t.splitBySeparators=v;var g=n(1),b=r(g);t.UNSELECTABLE_STYLE={userSelect:"none",WebkitUserSelect:"none"},t.UNSELECTABLE_ATTRIBUTE={unselectable:"unselectable"}},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=[];return y["default"].Children.forEach(e,function(e){t.push(e)}),t}function o(e){return e||0===e?Array.isArray(e)?e:[e]:[]}function i(e,t){if(e===t||(0,g["default"])(e,t))return!0;if(!e||!t)return!1;var n=!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var a=e[r],o=t[r];for(var s in a)if(a[s]!==o[s])if("object"===h(a[s])&&"object"===h(o[s]))n=i(a[s],o[s]);else{if("function"!=typeof a[s]||"function"!=typeof o[s])return n=!1,!1;a[s].name!==o[s].name&&(n=!1)}}}var l=function(e,t){Object.keys(e).forEach(function(r){r in t||(n=!1),"object"===h(e[r])&&"object"===h(t[r])?n=i(e[r],t[r]):"function"==typeof e[r]&&"function"==typeof t[r]?e[r].name!==t[r].name&&(n=!1):e[r]!==t[r]&&(n=!1)})};return l(e,t),l(t,e),n}function s(e,t){var n=null;return e&&e.forEach(function(e){!n&&e&&e.key===t&&(n=e)}),n}function l(e,t){var n=[],r={},a=[],o=void 0;return e.forEach(function(e){e&&(s(t,e.key)?(a.length&&(r[e.key]=a,a=[]),o=e.key):e.key&&a.push(e))}),o||(n=n.concat(a)),t.forEach(function(e){e&&(r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e),e.key===o&&(n=n.concat(a)))}),n}function u(e,t,n){var r=void 0;return r="function"==typeof e?e({key:t,index:n}):e}function c(e){return e&&e.children}function d(e,t,n,r,a,o,i){var s=/(?:Left|Right|Width|X)/i.test(t)||i,l=t.indexOf("border")!==-1?e:e.parentNode||document.body;l=o?document.body:l;var u=void 0;return u="%"===r?parseFloat(n)/100*(s?l.clientWidth:l.clientHeight):"vw"===r?parseFloat(n)*document.body.clientWidth/100:"vh"===r?parseFloat(n)*document.body.clientHeight/100:r&&r.match(/em/i)?16*parseFloat(n):parseFloat(n),"%"===a?u=100*u/(s?l.clientWidth:l.clientHeight):"vw"===a?u=parseFloat(n)/document.body.clientWidth*100:"vh"===a?u=parseFloat(n)/document.body.clientHeight*100:a&&a.match(/em/i)&&(u=parseFloat(n)/16),u}function p(e){if("string"==typeof e){if(e.charAt(0).match(/m/i)){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t}return document.querySelector(e)}if(e.style)return e;throw new Error("Error while parsing the path")}function f(e,t){if("string"==typeof e)return e;var n=e.perspective,r=e.rotate,a=e.rotateX,o=e.rotateY,i=e.scaleX,s=e.scaleY,l=e.scaleZ,u=e.skewX,c=e.skewY,d=e.xPercent||0,p=e.yPercent||0,f=d?0:e.translateX,h=p?0:e.translateY,m=e.translateZ||0,y=d||p?"translate("+(d||f+"px")+","+(p||h+"px")+")":"",v=u||c?"skew("+u+"deg,"+c+"deg)":"",g=r?"rotate("+r+"deg)":"",b=void 0;if(!n&&!a&&!o&&!m&&1===l||!t){b=1!==i||1!==s?"scale("+i+","+s+")":"";var C=y||"translate("+f+"px,"+h+"px)";return C+" "+g+" "+b+" "+v}b=1!==i||1!==s||1!==l?"scale3d("+i+","+s+","+l+")":"";var P=a?"rotateX("+a+"deg)":"",T=o?"rotateY("+o+"deg)":"",_=n?"perspective("+n+"px)":"",w=y?y+" translate3d(0,0,"+m+"px)":"translate3d("+f+"px,"+h+"px,"+m+"px)";return _+" "+w+" "+b+" "+g+" "+P+" "+T+" "+v}Object.defineProperty(t,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toArrayChildren=a,t.dataToArray=o,t.objectEqual=i,t.findChildInChildrenByKey=s,t.mergeChildren=l,t.transformArguments=u,t.getChildrenFromProps=c,t.startConvertToEndUnit=d,t.parsePath=p,t.getTransformValue=f;var m=n(1),y=r(m),v=n(158),g=r(v)},27:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(132),v=r(y),g=n(6),b=r(g),C=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.render=function(){var e,t=this.props,n=t.prefixCls,r=t.className,a=void 0===r?"":r,i=t.size,l=t.combobox,u=this.props,c=u.notFoundContent,d=void 0===c?"Not Found":c,p=u.optionLabelProp,f=(0,b["default"])((e={},(0,s["default"])(e,n+"-lg","large"===i),(0,s["default"])(e,n+"-sm","small"===i),e),a),h=this.context.antLocale;return h&&h.Select&&(d="notFoundContent"in this.props?d:h.Select.notFoundContent),l&&(d=null,p=p||"value"),m["default"].createElement(v["default"],(0,o["default"])({},this.props,{className:f,optionLabelProp:p||"children",notFoundContent:d}))},t}(m["default"].Component);t["default"]=C,C.Option=y.Option,C.OptGroup=y.OptGroup,C.defaultProps={prefixCls:"ant-select",showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},C.propTypes={prefixCls:h.PropTypes.string,className:h.PropTypes.string,size:h.PropTypes.oneOf(["default","large","small"]),combobox:h.PropTypes.bool,notFoundContent:h.PropTypes.any,showSearch:h.PropTypes.bool,optionLabelProp:h.PropTypes.string,transitionName:h.PropTypes.string,choiceTransitionName:h.PropTypes.string},e.exports=t["default"]},28:function(e,t){!function(n,r){"object"==typeof t&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.moment=r()}(this,function(){"use strict";function t(){return yr.apply(null,arguments)}function n(e){yr=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function i(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return gt(e,t,n,r,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=gr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function y(e){return void 0===e}function v(e,t){var n,r,a;if(y(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),y(t._i)||(e._i=t._i),y(t._f)||(e._f=t._f),y(t._l)||(e._l=t._l),y(t._strict)||(e._strict=t._strict),y(t._tzm)||(e._tzm=t._tzm),y(t._isUTC)||(e._isUTC=t._isUTC),y(t._offset)||(e._offset=t._offset),y(t._pf)||(e._pf=f(t)),y(t._locale)||(e._locale=t._locale),br.length>0)for(n in br)r=br[n],a=t[r],y(a)||(e[r]=a);return e}function g(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Cr===!1&&(Cr=!0,t.updateOffset(this),Cr=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function C(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function P(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=C(t)),n}function T(e,t,n){var r,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&P(e[r])!==P(t[r]))&&i++;return i+o}function _(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var a,o=[],i=0;i<arguments.length;i++){if(a="","object"==typeof arguments[i]){a+="\n["+i+"] ";for(var s in arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[i];o.push(a)}_(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function S(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Pr[e]||(_(n),Pr[e]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function k(e,t){var n,r=c({},e);for(n in t)u(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},c(r[n],e[n]),c(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&a(e[n])&&(r[n]=c({},r[n]));return r}function E(e){null!=e&&this.set(e)}function M(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function D(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function N(){return this._invalidDate}function j(e){return this._ordinal.replace("%d",e)}function R(e,t,n,r){var a=this._relativeTime[n];return x(a)?a(e,t,n,r):a.replace(/%d/i,e)}function A(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function I(e,t){var n=e.toLowerCase();Dr[n]=Dr[n+"s"]=Dr[t]=e}function V(e){return"string"==typeof e?Dr[e]||Dr[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)u(e,n)&&(t=V(n),t&&(r[t]=e[n]));return r}function Y(e,t){Nr[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Nr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(e,n){return function(r){return null!=r?(H(this,e,r),t.updateOffset(this,n),this):W(this,e)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function z(e){return e=V(e),x(this[e])?this[e]():this}function K(e,t){if("object"==typeof e){e=L(e);for(var n=F(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=V(e),x(this[e]))return this[e](t);return this}function B(e,t,n){var r=""+Math.abs(e),a=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}function G(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(Ir[e]=a),t&&(Ir[t[0]]=function(){return B(a.apply(this,arguments),t[1],t[2])}),n&&(Ir[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function X(e){var t,n,r=e.match(jr);for(t=0,n=r.length;t<n;t++)Ir[r[t]]?r[t]=Ir[r[t]]:r[t]=q(r[t]);return function(t){var a,o="";for(a=0;a<n;a++)o+=r[a]instanceof Function?r[a].call(t,e):r[a];return o}}function Z(e,t){return e.isValid()?(t=Q(t,e.localeData()),Ar[t]=Ar[t]||X(t),Ar[t](e)):e.localeData().invalidDate()}function Q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Rr.lastIndex=0;r>=0&&Rr.test(e);)e=e.replace(Rr,n),Rr.lastIndex=0,r-=1;return e}function $(e,t,n){ea[e]=x(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return u(ea,e)?ea[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),i(t)&&(r=function(e,n){n[t]=P(e)}),n=0;n<e.length;n++)ta[e[n]]=r}function re(e,t){ne(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function ae(e,t,n){null!=t&&u(ta,e)&&ta[e](t,n._a,n,e)}function oe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||pa).test(t)?"format":"standalone"][e.month()]:this._months}function se(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[pa.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function le(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=da.call(this._shortMonthsParse,i),a!==-1?a:null):(a=da.call(this._longMonthsParse,i),a!==-1?a:null):"MMM"===t?(a=da.call(this._shortMonthsParse,i),a!==-1?a:(a=da.call(this._longMonthsParse,i),a!==-1?a:null)):(a=da.call(this._longMonthsParse,i),a!==-1?a:(a=da.call(this._shortMonthsParse,i),a!==-1?a:null))}function ue(e,t,n){var r,a,o;if(this._monthsParseExact)return le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=P(t);else if(t=e.localeData().monthsParse(t),!i(t))return e;return n=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(e){return null!=e?(ce(this,e),t.updateOffset(this,!0),this):W(this,"Month")}function pe(){return oe(this.year(),this.month())}function fe(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ma),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(e){return this._monthsParseExact?(u(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=ya),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)r[t]=te(r[t]),a[t]=te(a[t]);for(t=0;t<24;t++)o[t]=te(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ye(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return ve(this.year())}function be(e,t,n,r,a,o,i){var s=new Date(e,t,n,r,a,o,i);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Ce(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Pe(e,t,n){var r=7+t-n,a=(7+Ce(e,0,r).getUTCDay()-t)%7;return-a+r-1}function Te(e,t,n,r,a){var o,i,s=(7+n-r)%7,l=Pe(e,r,a),u=1+7*(t-1)+s+l;return u<=0?(o=e-1,i=ye(o)+u):u>ye(e)?(o=e+1,i=u-ye(e)):(o=e,i=u),{year:o,dayOfYear:i}}function _e(e,t,n){var r,a,o=Pe(e.year(),t,n),i=Math.floor((e.dayOfYear()-o-1)/7)+1;return i<1?(a=e.year()-1,r=i+we(a,t,n)):i>we(e.year(),t,n)?(r=i-we(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function we(e,t,n){var r=Pe(e,t,n),a=Pe(e+1,t,n);return(ye(e)-r+a)/7}function Se(e){return _e(e,this._week.dow,this._week.doy).week}function xe(){return this._week.dow}function Oe(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ee(e){var t=_e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Me(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ne(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function je(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Re(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ae(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=da.call(this._weekdaysParse,i),a!==-1?a:null):"ddd"===t?(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:null):(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null):"dddd"===t?(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null))):"ddd"===t?(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._minWeekdaysParse,i),a!==-1?a:null))):(a=da.call(this._minWeekdaysParse,i),a!==-1?a:(a=da.call(this._weekdaysParse,i),a!==-1?a:(a=da.call(this._shortWeekdaysParse,i),a!==-1?a:null)))}function Ie(e,t,n){var r,a,o;if(this._weekdaysParseExact)return Ae.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ve(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Me(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ye(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Fe(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ta),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ue(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_a),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function We(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wa),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,r,a,o,i=[],s=[],l=[],u=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),i.push(r),s.push(a),l.push(o),u.push(r),u.push(a),u.push(o);for(i.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=te(s[t]),l[t]=te(l[t]),u[t]=te(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ze(){return this.hours()%12||12}function Ke(){return this.hours()||24}function Be(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,r,a,o=0;o<e.length;){for(a=Ze(e[o]).split("-"),t=a.length,n=Ze(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=$e(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&T(a,n,!0)>=t-1)break;t--}o++}return null}function $e(t){var n=null;if(!Ea[t]&&"undefined"!=typeof e&&e&&e.exports)try{n=Sa._abbr,require("./locale/"+t),Je(n)}catch(r){}return Ea[t]}function Je(e,t){var n;return e&&(n=y(t)?nt(e):et(e,t),n&&(Sa=n)),Sa._abbr}function et(e,t){if(null!==t){var n=ka;if(t.abbr=e,null!=Ea[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ea[e]._config;else if(null!=t.parentLocale){if(null==Ea[t.parentLocale])return Ma[t.parentLocale]||(Ma[t.parentLocale]=[]),Ma[t.parentLocale].push({name:e,config:t}),null;n=Ea[t.parentLocale]._config}return Ea[e]=new E(k(n,t)),Ma[e]&&Ma[e].forEach(function(e){et(e.name,e.config)}),Je(e),Ea[e]}return delete Ea[e],null}function tt(e,t){if(null!=t){var n,r=ka;null!=Ea[e]&&(r=Ea[e]._config),t=k(r,t),n=new E(t),n.parentLocale=Ea[e],Ea[e]=n,Je(e)}else null!=Ea[e]&&(null!=Ea[e].parentLocale?Ea[e]=Ea[e].parentLocale:null!=Ea[e]&&delete Ea[e]);return Ea[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Sa;if(!r(e)){if(t=$e(e))return t;e=[e]}return Qe(e)}function rt(){return wr(Ea)}function at(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[ra]<0||n[ra]>11?ra:n[aa]<1||n[aa]>oe(n[na],n[ra])?aa:n[oa]<0||n[oa]>24||24===n[oa]&&(0!==n[ia]||0!==n[sa]||0!==n[la])?oa:n[ia]<0||n[ia]>59?ia:n[sa]<0||n[sa]>59?sa:n[la]<0||n[la]>999?la:-1,f(e)._overflowDayOfYear&&(t<na||t>aa)&&(t=aa),f(e)._overflowWeeks&&t===-1&&(t=ua),f(e)._overflowWeekday&&t===-1&&(t=ca),f(e).overflow=t),e}function ot(e){var t,n,r,a,o,i,s=e._i,l=Da.exec(s)||Na.exec(s);if(l){for(f(e).iso=!0,t=0,n=Ra.length;t<n;t++)if(Ra[t][1].exec(l[1])){a=Ra[t][0],r=Ra[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=Aa.length;t<n;t++)if(Aa[t][1].exec(l[3])){o=(l[2]||" ")+Aa[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ja.exec(l[4]))return void(e._isValid=!1);i="Z"}e._f=a+(o||"")+(i||""),dt(e)}else e._isValid=!1}function it(e){var n=Ia.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(ot(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,r,a,o=[];if(!e._d){for(r=lt(e),e._w&&null==e._a[aa]&&null==e._a[ra]&&ct(e),e._dayOfYear&&(a=st(e._a[na],r[na]),e._dayOfYear>ye(a)&&(f(e)._overflowDayOfYear=!0),n=Ce(a,0,e._dayOfYear),e._a[ra]=n.getUTCMonth(),e._a[aa]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[oa]&&0===e._a[ia]&&0===e._a[sa]&&0===e._a[la]&&(e._nextDay=!0,e._a[oa]=0),e._d=(e._useUTC?Ce:be).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[oa]=24)}}function ct(e){var t,n,r,a,o,i,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,i=4,n=st(t.GG,e._a[na],_e(bt(),1,4).year),r=st(t.W,1),a=st(t.E,1),(a<1||a>7)&&(l=!0);else{o=e._locale._week.dow,i=e._locale._week.doy;var u=_e(bt(),o,i);n=st(t.gg,e._a[na],u.year),r=st(t.w,u.week),null!=t.d?(a=t.d,(a<0||a>6)&&(l=!0)):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o}r<1||r>we(n,o,i)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Te(n,r,a,o,i),e._a[na]=s.year,e._dayOfYear=s.dayOfYear)}function dt(e){if(e._f===t.ISO_8601)return void ot(e);e._a=[],f(e).empty=!0;var n,r,a,o,i,s=""+e._i,l=s.length,u=0;for(a=Q(e._f,e._locale).match(jr)||[],n=0;n<a.length;n++)o=a[n],r=(s.match(J(o,e))||[])[0],r&&(i=s.substr(0,s.indexOf(r)),i.length>0&&f(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),u+=r.length),Ir[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),ae(o,r,e)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=l-u,s.length>0&&f(e).unusedInput.push(s),e._a[oa]<=12&&f(e).bigHour===!0&&e._a[oa]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[oa]=pt(e._locale,e._a[oa],e._meridiem),ut(e),at(e)}function pt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ft(e){var t,n,r,a,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],dt(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function ht(e){if(!e._d){var t=L(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function mt(e){var t=new g(at(yt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function yt(e){var t=e._i,n=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(at(t)):(s(t)?e._d=t:r(n)?ft(e):n?dt(e):vt(e),h(e)||(e._d=null),e))}function vt(e){var n=e._i;void 0===n?e._d=new Date(t.now()):s(n)?e._d=new Date(n.valueOf()):"string"==typeof n?it(e):r(n)?(e._a=l(n.slice(0),function(e){return parseInt(e,10)}),ut(e)):"object"==typeof n?ht(e):i(n)?e._d=new Date(n):t.createFromInputFallback(e)}function gt(e,t,n,i,s){var l={};return n!==!0&&n!==!1||(i=n,n=void 0),(a(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=i,mt(l)}function bt(e,t,n,r){return gt(e,t,n,r,!1)}function Ct(e,t){var n,a;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}function Pt(){var e=[].slice.call(arguments,0);return Ct("isBefore",e)}function Tt(){var e=[].slice.call(arguments,0);return Ct("isAfter",e)}function _t(e){var t=L(e),n=t.year||0,r=t.quarter||0,a=t.month||0,o=t.week||0,i=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+i+7*o,this._months=+a+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function wt(e){return e instanceof _t}function St(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function xt(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+B(~~(e/60),2)+t+B(~~e%60,2)})}function Ot(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],a=(r+"").match(Fa)||["-",0,0],o=+(60*a[1])+P(a[2]);return 0===o?0:"+"===a[0]?o:-o}function kt(e,n){var r,a;return n._isUTC?(r=n.clone(),a=(b(e)||s(e)?e.valueOf():bt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+a),t.updateOffset(r,!1),r):bt(e).local()}function Et(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Mt(e,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=Ot(Qr,e),null===e)return this}else Math.abs(e)<16&&(e=60*e);return!this._isUTC&&n&&(r=Et(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!n||this._changeInProgress?Bt(this,Ut(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,
t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Et(this)}function Dt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Nt(e){return this.utcOffset(0,e)}function jt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this}function Rt(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Ot(Zr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function At(e){return!!this.isValid()&&(e=e?bt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function It(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!y(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=yt(e),e._a){var t=e._isUTC?d(e._a):bt(e._a);this._isDSTShifted=this.isValid()&&T(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lt(){return!!this.isValid()&&!this._isUTC}function Yt(){return!!this.isValid()&&this._isUTC}function Ft(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ut(e,t){var n,r,a,o=e,s=null;return wt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:i(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ua.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:P(s[aa])*n,h:P(s[oa])*n,m:P(s[ia])*n,s:P(s[sa])*n,ms:P(St(1e3*s[la]))*n}):(s=Wa.exec(e))?(n="-"===s[1]?-1:1,o={y:Wt(s[2],n),M:Wt(s[3],n),w:Wt(s[4],n),d:Wt(s[5],n),h:Wt(s[6],n),m:Wt(s[7],n),s:Wt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=zt(bt(o.from),bt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),r=new _t(o),wt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){var n;return e.isValid()&&t.isValid()?(t=kt(t,e),e.isBefore(t)?n=Ht(e,t):(n=Ht(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Kt(e,t){return function(n,r){var a,o;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,a=Ut(n,r),Bt(this,a,e),this}}function Bt(e,n,r,a){var o=n._milliseconds,i=St(n._days),s=St(n._months);e.isValid()&&(a=null==a||a,o&&e._d.setTime(e._d.valueOf()+o*r),i&&H(e,"Date",W(e,"Date")+i*r),s&&ce(e,W(e,"Month")+s*r),a&&t.updateOffset(e,i||s))}function Gt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function qt(e,n){var r=e||bt(),a=kt(r,this).startOf("day"),o=t.calendarFormat(this,a)||"sameElse",i=n&&(x(n[o])?n[o].call(this,r):n[o]);return this.format(i||this.localeData().calendar(o,this,bt(r)))}function Xt(){return new g(this)}function Zt(e,t){var n=b(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(y(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Qt(e,t){var n=b(e)?e:bt(e);return!(!this.isValid()||!n.isValid())&&(t=V(y(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function $t(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=b(e)?e:bt(e);return!(!this.isValid()||!r.isValid())&&(t=V(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function en(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function nn(e,t,n){var r,a,o,i;return this.isValid()?(r=kt(e,this),r.isValid()?(a=6e4*(r.utcOffset()-this.utcOffset()),t=V(t),"year"===t||"month"===t||"quarter"===t?(i=rn(this,r),"quarter"===t?i/=3:"year"===t&&(i/=12)):(o=this-r,i="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?i:C(i)):NaN):NaN}function rn(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return t-o<0?(n=e.clone().add(a-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),r=(t-o)/(n-o)),-(a+r)||0}function an(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+a+o)}function ln(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Z(this,e);return this.localeData().postformat(n)}function un(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?Ut({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.from(bt(),e)}function dn(e,t){return this.isValid()&&(b(e)&&e.isValid()||bt(e).isValid())?Ut({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.to(bt(),e)}function fn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function mn(e){switch(e=V(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return e=V(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function vn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tn(){return this.isValid()?this.toISOString():null}function _n(){return h(this)}function wn(){return c({},f(this))}function Sn(){return f(this).overflow}function xn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(e,t){G(0,[e,e.length],0,t)}function kn(e){return Nn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function En(e){return Nn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Mn(){return we(this.year(),1,4)}function Dn(){var e=this.localeData()._week;return we(this.year(),e.dow,e.doy)}function Nn(e,t,n,r,a){var o;return null==e?_e(this,r,a).year:(o=we(e,r,a),t>o&&(t=o),jn.call(this,e,t,n,r,a))}function jn(e,t,n,r,a){var o=Te(e,t,n,r,a),i=Ce(o.year,0,o.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}function Rn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function An(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function In(e,t){t[la]=P(1e3*("0."+e))}function Vn(){return this._isUTC?"UTC":""}function Ln(){return this._isUTC?"Coordinated Universal Time":""}function Yn(e){return bt(1e3*e)}function Fn(){return bt.apply(null,arguments).parseZone()}function Un(e){return e}function Wn(e,t,n,r){var a=nt(),o=d().set(r,t);return a[n](o,e)}function Hn(e,t,n){if(i(e)&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=Wn(e,r,n,"month");return a}function zn(e,t,n,r){"boolean"==typeof e?(i(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,i(t)&&(n=t,t=void 0),t=t||"");var a=nt(),o=e?a._week.dow:0;if(null!=n)return Wn(t,(n+o)%7,r,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Wn(t,(s+o)%7,r,"day");return l}function Kn(e,t){return Hn(e,t,"months")}function Bn(e,t){return Hn(e,t,"monthsShort")}function Gn(e,t,n){return zn(e,t,n,"weekdays")}function qn(e,t,n){return zn(e,t,n,"weekdaysShort")}function Xn(e,t,n){return zn(e,t,n,"weekdaysMin")}function Zn(){var e=this._data;return this._milliseconds=Ja(this._milliseconds),this._days=Ja(this._days),this._months=Ja(this._months),e.milliseconds=Ja(e.milliseconds),e.seconds=Ja(e.seconds),e.minutes=Ja(e.minutes),e.hours=Ja(e.hours),e.months=Ja(e.months),e.years=Ja(e.years),this}function Qn(e,t,n,r){var a=Ut(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function $n(e,t){return Qn(this,e,t,1)}function Jn(e,t){return Qn(this,e,t,-1)}function er(e){return e<0?Math.floor(e):Math.ceil(e)}function tr(){var e,t,n,r,a,o=this._milliseconds,i=this._days,s=this._months,l=this._data;return o>=0&&i>=0&&s>=0||o<=0&&i<=0&&s<=0||(o+=864e5*er(rr(s)+i),i=0,s=0),l.milliseconds=o%1e3,e=C(o/1e3),l.seconds=e%60,t=C(e/60),l.minutes=t%60,n=C(t/60),l.hours=n%24,i+=C(n/24),a=C(nr(i)),s+=a,i-=er(rr(a)),r=C(s/12),s%=12,l.days=i,l.months=s,l.years=r,this}function nr(e){return 4800*e/146097}function rr(e){return 146097*e/4800}function ar(e){var t,n,r=this._milliseconds;if(e=V(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+nr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(rr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function or(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*P(this._months/12)}function ir(e){return function(){return this.as(e)}}function sr(e){return e=V(e),this[e+"s"]()}function lr(e){return function(){return this._data[e]}}function ur(){return C(this.days()/7)}function cr(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function dr(e,t,n){var r=Ut(e).abs(),a=yo(r.as("s")),o=yo(r.as("m")),i=yo(r.as("h")),s=yo(r.as("d")),l=yo(r.as("M")),u=yo(r.as("y")),c=a<vo.s&&["s",a]||o<=1&&["m"]||o<vo.m&&["mm",o]||i<=1&&["h"]||i<vo.h&&["hh",i]||s<=1&&["d"]||s<vo.d&&["dd",s]||l<=1&&["M"]||l<vo.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,cr.apply(null,c)}function pr(e){return void 0===e?yo:"function"==typeof e&&(yo=e,!0)}function fr(e,t){return void 0!==vo[e]&&(void 0===t?vo[e]:(vo[e]=t,!0))}function hr(e){var t=this.localeData(),n=dr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function mr(){var e,t,n,r=go(this._milliseconds)/1e3,a=go(this._days),o=go(this._months);e=C(r/60),t=C(e/60),r%=60,e%=60,n=C(o/12),o%=12;var i=n,s=o,l=a,u=t,c=e,d=r,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(i?i+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var yr,vr;vr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gr=vr,br=t.momentProperties=[],Cr=!1,Pr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Tr;Tr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var _r,wr=Tr,Sr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Or="Invalid date",kr="%d",Er=/\d{1,2}/,Mr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Dr={},Nr={},jr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ar={},Ir={},Vr=/\d/,Lr=/\d\d/,Yr=/\d{3}/,Fr=/\d{4}/,Ur=/[+-]?\d{6}/,Wr=/\d\d?/,Hr=/\d\d\d\d?/,zr=/\d\d\d\d\d\d?/,Kr=/\d{1,3}/,Br=/\d{1,4}/,Gr=/[+-]?\d{1,6}/,qr=/\d+/,Xr=/[+-]?\d+/,Zr=/Z|[+-]\d\d:?\d\d/gi,Qr=/Z|[+-]\d\d(?::?\d\d)?/gi,$r=/[+-]?\d+(\.\d{1,3})?/,Jr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ea={},ta={},na=0,ra=1,aa=2,oa=3,ia=4,sa=5,la=6,ua=7,ca=8;_r=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var da=_r;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),Y("month",8),$("M",Wr),$("MM",Wr,Lr),$("MMM",function(e,t){return t.monthsShortRegex(e)}),$("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[ra]=P(e)-1}),ne(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[ra]=a:f(n).invalidMonth=e});var pa=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,fa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ha="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ma=Jr,ya=Jr;G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),I("year","y"),Y("year",1),$("Y",Xr),$("YY",Wr,Lr),$("YYYY",Br,Fr),$("YYYYY",Gr,Ur),$("YYYYYY",Gr,Ur),ne(["YYYYY","YYYYYY"],na),ne("YYYY",function(e,n){n[na]=2===e.length?t.parseTwoDigitYear(e):P(e)}),ne("YY",function(e,n){n[na]=t.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[na]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return P(e)+(P(e)>68?1900:2e3)};var va=U("FullYear",!0);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),Y("week",5),Y("isoWeek",5),$("w",Wr),$("ww",Wr,Lr),$("W",Wr),$("WW",Wr,Lr),re(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=P(e)});var ga={dow:0,doy:6};G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),Y("day",11),Y("weekday",11),Y("isoWeekday",11),$("d",Wr),$("e",Wr),$("E",Wr),$("dd",function(e,t){return t.weekdaysMinRegex(e)}),$("ddd",function(e,t){return t.weekdaysShortRegex(e)}),$("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e}),re(["d","e","E"],function(e,t,n,r){t[r]=P(e)});var ba="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ca="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ta=Jr,_a=Jr,wa=Jr;G("H",["HH",2],0,"hour"),G("h",["hh",2],0,ze),G("k",["kk",2],0,Ke),G("hmm",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)}),G("hmmss",0,0,function(){return""+ze.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Be("a",!0),Be("A",!1),I("hour","h"),Y("hour",13),$("a",Ge),$("A",Ge),$("H",Wr),$("h",Wr),$("HH",Wr,Lr),$("hh",Wr,Lr),$("hmm",Hr),$("hmmss",zr),$("Hmm",Hr),$("Hmmss",zr),ne(["H","HH"],oa),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[oa]=P(e),f(n).bigHour=!0}),ne("hmm",function(e,t,n){var r=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r)),f(n).bigHour=!0}),ne("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r,2)),t[sa]=P(e.substr(a)),f(n).bigHour=!0}),ne("Hmm",function(e,t,n){var r=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r))}),ne("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[oa]=P(e.substr(0,r)),t[ia]=P(e.substr(r,2)),t[sa]=P(e.substr(a))});var Sa,xa=/[ap]\.?m?\.?/i,Oa=U("Hours",!0),ka={calendar:Sr,longDateFormat:xr,invalidDate:Or,ordinal:kr,ordinalParse:Er,relativeTime:Mr,months:fa,monthsShort:ha,week:ga,weekdays:ba,weekdaysMin:Pa,weekdaysShort:Ca,meridiemParse:xa},Ea={},Ma={},Da=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Na=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ja=/Z|[+-]\d\d(?::?\d\d)?/,Ra=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Aa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ia=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Va=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),La=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=bt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Ya=function(){return Date.now?Date.now():+new Date};xt("Z",":"),xt("ZZ",""),$("Z",Qr),$("ZZ",Qr),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ot(Qr,e)});var Fa=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ua=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ut.fn=_t.prototype;var Ha=Kt(1,"add"),za=Kt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ka=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),Y("weekYear",1),Y("isoWeekYear",1),$("G",Xr),$("g",Xr),$("GG",Wr,Lr),$("gg",Wr,Lr),$("GGGG",Br,Fr),$("gggg",Br,Fr),$("GGGGG",Gr,Ur),$("ggggg",Gr,Ur),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=P(e)}),re(["gg","GG"],function(e,n,r,a){n[a]=t.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),I("quarter","Q"),Y("quarter",7),$("Q",Vr),ne("Q",function(e,t){t[ra]=3*(P(e)-1)}),G("D",["DD",2],"Do","date"),I("date","D"),Y("date",9),$("D",Wr),$("DD",Wr,Lr),$("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ne(["D","DD"],aa),ne("Do",function(e,t){t[aa]=P(e.match(Wr)[0],10)});var Ba=U("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),Y("dayOfYear",4),$("DDD",Kr),$("DDDD",Yr),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=P(e)}),G("m",["mm",2],0,"minute"),I("minute","m"),Y("minute",14),$("m",Wr),$("mm",Wr,Lr),ne(["m","mm"],ia);var Ga=U("Minutes",!1);G("s",["ss",2],0,"second"),I("second","s"),Y("second",15),$("s",Wr),$("ss",Wr,Lr),ne(["s","ss"],sa);var qa=U("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),Y("millisecond",16),$("S",Kr,Vr),$("SS",Kr,Lr),$("SSS",Kr,Yr);var Xa;for(Xa="SSSS";Xa.length<=9;Xa+="S")$(Xa,qr);for(Xa="S";Xa.length<=9;Xa+="S")ne(Xa,In);var Za=U("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Qa=g.prototype;Qa.add=Ha,Qa.calendar=qt,Qa.clone=Xt,Qa.diff=nn,Qa.endOf=yn,Qa.format=ln,Qa.from=un,Qa.fromNow=cn,Qa.to=dn,Qa.toNow=pn,Qa.get=z,Qa.invalidAt=Sn,Qa.isAfter=Zt,Qa.isBefore=Qt,Qa.isBetween=$t,Qa.isSame=Jt,Qa.isSameOrAfter=en,Qa.isSameOrBefore=tn,Qa.isValid=_n,Qa.lang=Ka,Qa.locale=fn,Qa.localeData=hn,Qa.max=La,Qa.min=Va,Qa.parsingFlags=wn,Qa.set=K,Qa.startOf=mn,Qa.subtract=za,Qa.toArray=Cn,Qa.toObject=Pn,Qa.toDate=bn,Qa.toISOString=on,Qa.inspect=sn,Qa.toJSON=Tn,Qa.toString=an,Qa.unix=gn,Qa.valueOf=vn,Qa.creationData=xn,Qa.year=va,Qa.isLeapYear=ge,Qa.weekYear=kn,Qa.isoWeekYear=En,Qa.quarter=Qa.quarters=Rn,Qa.month=de,Qa.daysInMonth=pe,Qa.week=Qa.weeks=ke,Qa.isoWeek=Qa.isoWeeks=Ee,Qa.weeksInYear=Dn,Qa.isoWeeksInYear=Mn,Qa.date=Ba,Qa.day=Qa.days=Ve,Qa.weekday=Le,Qa.isoWeekday=Ye,Qa.dayOfYear=An,Qa.hour=Qa.hours=Oa,Qa.minute=Qa.minutes=Ga,Qa.second=Qa.seconds=qa,Qa.millisecond=Qa.milliseconds=Za,Qa.utcOffset=Mt,Qa.utc=Nt,Qa.local=jt,Qa.parseZone=Rt,Qa.hasAlignedHourOffset=At,Qa.isDST=It,Qa.isLocal=Lt,Qa.isUtcOffset=Yt,Qa.isUtc=Ft,Qa.isUTC=Ft,Qa.zoneAbbr=Vn,Qa.zoneName=Ln,Qa.dates=w("dates accessor is deprecated. Use date instead.",Ba),Qa.months=w("months accessor is deprecated. Use month instead",de),Qa.years=w("years accessor is deprecated. Use year instead",va),Qa.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Dt),Qa.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vt);var $a=E.prototype;$a.calendar=M,$a.longDateFormat=D,$a.invalidDate=N,$a.ordinal=j,$a.preparse=Un,$a.postformat=Un,$a.relativeTime=R,$a.pastFuture=A,$a.set=O,$a.months=ie,$a.monthsShort=se,$a.monthsParse=ue,$a.monthsRegex=he,$a.monthsShortRegex=fe,$a.week=Se,$a.firstDayOfYear=Oe,$a.firstDayOfWeek=xe,$a.weekdays=Ne,$a.weekdaysMin=Re,$a.weekdaysShort=je,$a.weekdaysParse=Ie,$a.weekdaysRegex=Fe,$a.weekdaysShortRegex=Ue,$a.weekdaysMinRegex=We,$a.isPM=qe,$a.meridiem=Xe,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===P(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",nt);var Ja=Math.abs,eo=ir("ms"),to=ir("s"),no=ir("m"),ro=ir("h"),ao=ir("d"),oo=ir("w"),io=ir("M"),so=ir("y"),lo=lr("milliseconds"),uo=lr("seconds"),co=lr("minutes"),po=lr("hours"),fo=lr("days"),ho=lr("months"),mo=lr("years"),yo=Math.round,vo={s:45,m:45,h:22,d:26,M:11},go=Math.abs,bo=_t.prototype;return bo.abs=Zn,bo.add=$n,bo.subtract=Jn,bo.as=ar,bo.asMilliseconds=eo,bo.asSeconds=to,bo.asMinutes=no,bo.asHours=ro,bo.asDays=ao,bo.asWeeks=oo,bo.asMonths=io,bo.asYears=so,bo.valueOf=or,bo._bubble=tr,bo.get=sr,bo.milliseconds=lo,bo.seconds=uo,bo.minutes=co,bo.hours=po,bo.days=fo,bo.weeks=ur,bo.months=ho,bo.years=mo,bo.humanize=hr,bo.toISOString=mr,bo.toString=mr,bo.toJSON=mr,bo.locale=fn,bo.localeData=hn,bo.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mr),bo.lang=Ka,G("X",0,0,"unix"),G("x",0,0,"valueOf"),$("x",Xr),$("X",$r),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ne("x",function(e,t,n){n._d=new Date(P(e))}),t.version="2.17.1",n(bt),t.fn=Qa,t.min=Pt,t.max=Tt,t.now=Ya,t.utc=d,t.unix=Yn,t.months=Kn,t.isDate=s,t.locale=Je,t.invalid=m,t.duration=Ut,t.isMoment=b,t.weekdays=Gn,t.parseZone=Fn,t.localeData=nt,t.isDuration=wt,t.monthsShort=Bn,t.weekdaysMin=Xn,t.defineLocale=et,t.updateLocale=tt,t.locales=rt,t.weekdaysShort=qn,t.normalizeUnits=V,t.relativeTimeRounding=pr,t.relativeTimeThreshold=fr,t.calendarFormat=Gt,t.prototype=Qa,t})},30:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(125),m=r(h),y=n(1),v=r(y),g=n(6),b=r(g),C=n(17),P=r(C),T=function(e){function t(){return(0,u["default"])(this,t),(0,d["default"])(this,e.apply(this,arguments))}return(0,f["default"])(t,e),t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return P["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t,n=this.props,r=n.prefixCls,a=n.children,i=n.checked,l=n.disabled,u=n.className,c=void 0===u?"":u,d=n.style,p=(0,b["default"])((e={},(0,s["default"])(e,r+"-wrapper",!0),(0,s["default"])(e,r+"-wrapper-checked",i),(0,s["default"])(e,r+"-wrapper-disabled",l),e),c),f=(0,b["default"])(r,(t={},(0,s["default"])(t,r+"-checked",i),(0,s["default"])(t,r+"-disabled",l),t));return v["default"].createElement("label",{className:p,style:d,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},v["default"].createElement(m["default"],(0,o["default"])({},this.props,{className:f,style:null,children:null})),void 0!==a?v["default"].createElement("span",null,a):null)},t}(v["default"].Component);t["default"]=T,T.defaultProps={prefixCls:"ant-radio"},e.exports=t["default"]},31:function(e,t,n){"use strict";var r=n(138),a=n(134),o=n(135);r.Column=a,r.ColumnGroup=o,e.exports=r},35:[1220,112],39:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},r=n.prototype;r.push=function(e){this[e.prototype.name]=e},t["default"]=new n,e.exports=t["default"]},41:function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}function r(e,t){var n=t?Math.pow(10,t):w,r=0|e,a=e-r;return a?(a*n+(e<0?-.5:.5)|0)/n+r:e}function a(e){return window.WebKitCSSMatrix&&new window.WebKitCSSMatrix(e)||window.MozCSSMatrix&&new window.MozCSSMatrix(e)||window.DOMMatrix&&new window.DOMMatrix(e)||window.MsCSSMatrix&&new window.MsCSSMatrix(e)||window.OCSSMatrix&&new window.OCSSMatrix(e)||window.CSSMatrix&&new window.CSSMatrix(e)||null}function o(e){var t=["O","Moz","ms","Ms","Webkit"];if("filter"!==e&&e in document.body.style)return e;var n=e.charAt(0).toUpperCase()+e.substr(1),r=t.filter(function(e){return""+e+n in document.body.style});return r[0]?""+r[0]+n:null}function i(e){var t=e;return t="x"===t?"translateX":t,t="y"===t?"translateY":t,t="z"===t?"translateZ":t}function s(e){var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,i=void 0,s=void 0,l=e,u=/(?:\d|\-\d|\.\d|\-\.\d)+/g;return l?"number"==typeof l?t=[l>>16,l>>8&255,255&l]:(","===l.charAt(l.length-1)&&(l=l.substr(0,l.length-1)),S[l]?t=S[l]:"#"===l.charAt(0)?(4===l.length&&(n=l.charAt(1),r=l.charAt(2),a=l.charAt(3),l="#"+n+n+r+r+a+a),l=parseInt(l.substr(1),16),t=[l>>16,l>>8&255,255&l]):"hsl"===l.substr(0,3)?(t=l.match(u),o=Number(t[0])%360/360,i=Number(t[1])/100,s=Number(t[2])/100,r=s<=.5?s*(i+1):s+i-s*i,n=2*s-r,t.length>3&&(t[3]=Number(t[3])),t[0]=x(o+1/3,n,r),t[1]=x(o,n,r),t[2]=x(o-1/3,n,r)):t=l.match(u)||S.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3]))):t=S.black,t}function l(e){if(!e)return[0,0,0,0,0,0,0];var t=void 0;if(e.indexOf("rgb")>=0){var n=e.match(/rgb+(?:a)?\((.*)\)/),r=e.replace(n[0],"").trim().split(/\s+/);t=r.indexOf("inset"),t>=0&&r.splice(t,1);var a=n[1].replace(/\s+/g,"").split(",");return 3===a.length&&a.push(1),r.concat(a,t>=0?["inset"]:[])}var o=e.split(/\s+/);t=o.indexOf("inset"),t>=0&&o.splice(t,1);var i=s(o[o.length-1]);return i[3]="number"==typeof i[3]?i[3]:1,o=o.splice(0,o.length-1),o.concat(i,t>=0?["inset"]:[])}function u(e){var t=4===e.length?"rgba":"rgb",n=e.map(function(e,t){return t<3?Math.round(e):e});return t+"("+n.join(",")+")"}function c(e){return E._lists.transformsBase.indexOf(e)>=0?"transform":e}function d(e){var t=c(e);return E.filter.indexOf(t)>=0?"filter":t}function p(e){if("none"===e||!e||""===e)return null;var t=e.replace(" ","").split(")").filter(function(e){return e}),n={};return t.forEach(function(e){var t=e.split("(");n[t[0]]=t[1]}),n}function f(e){var t=e.match(/(?:\-|\b)[\d\-\.e]+\b/gi),n={};return 6===t.length?(n.m11=parseFloat(t[0]),n.m12=parseFloat(t[1]),n.m13=0,n.m14=0,n.m21=parseFloat(t[2]),n.m22=parseFloat(t[3]),n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=parseFloat(t[4]),n.m42=parseFloat(t[5]),n.m43=0,n.m44=0):t.forEach(function(e,t){var r=t%4+1,a=Math.floor(t/4)+1;n["m"+a+r]=parseFloat(e)}),n}function h(e){var t="none"===e||""===e?"matrix(1, 0, 0, 1, 0, 0)":e,n=f(t),a=n.m11,o=n.m12,i=n.m13,s=n.m14,l=n.m21,u=n.m22,c=n.m23,d=n.m24,p=n.m31,h=n.m32,m=n.m33,y=n.m34,v=n.m43,g=void 0,b=void 0,C=void 0,P={};P.perspective=y?r(m/(y<0?-y:y)):0,P.rotateX=r(Math.asin(c)*k);var T=P.rotateX*O,_=Math.tan(l),w=Math.tan(o),S=y*P.perspective,x=void 0;return T&&(S=Math.cos(-T),x=Math.sin(-T),g=l*S+p*x,b=u*S+h*x,C=c*S+m*x,p=l*-x+p*S,h=u*-x+h*S,m=c*-x+m*S,y=d*-x+y*S,l=g,u=b,c=C),T=Math.atan2(p,m),P.rotateY=r(T*k),T&&(S=Math.cos(-T),x=Math.sin(-T),g=a*S-p*x,b=o*S-h*x,C=i*S-m*x,h=o*x+h*S,m=i*x+m*S,y=s*x+y*S,a=g,o=b,i=C),T=Math.atan2(o,a),P.rotate=r(T*k),T&&(S=Math.cos(-T),x=Math.sin(-T),a=a*S+l*x,b=o*S+u*x,u=o*-x+u*S,c=i*-x+c*S,o=b),P.rotateX&&Math.abs(P.rotateX)+Math.abs(P.rotate)>359.9&&(P.rotateX=P.rotate=0,P.rotateY+=180),P.scaleX=r(Math.sqrt(a*a+o*o)),P.scaleY=r(Math.sqrt(u*u+h*h)),P.scaleZ=r(Math.sqrt(c*c+m*m)),P.skewX=_===-w?0:_,P.skewY=w===-_?0:w,P.perspective=y?1/(y<0?-y:y):0,P.translateX=n.m41,P.translateY=n.m42,P.translateZ=v,P}function m(e,t){var n=void 0;return C[e]||"number"!=typeof t?"content"!==e||T.test(t)||(n="'"+t.replace(/'/g,"\\'")+"'"):n=" "+t+"px",n||t}function y(e,t){var n=t&&t.toString().replace(/[^a-z|%]/gi,""),r="";return e.indexOf("translate")>=0||e.indexOf("perspective")>=0||e.indexOf("blur")>=0?r="px":(e.indexOf("skew")>=0||e.indexOf("rotate")>=0)&&(r="deg"),n||r}function v(e,t,n){return e+"("+t+(n||"")+")"}function g(e,t){var n=null;return e&&e.forEach(function(e){if(!n){var r=e.split("(")[0],a=r in E.transformGroup&&t.substring(0,t.length-1).indexOf(r)>=0,o=t in E.transformGroup&&r.substring(0,r.length-1).indexOf(t)>=0,i=r in E.transformGroup&&t in E.transformGroup&&(r.substring(0,r.length-2)===t||t.substring(0,t.length-2)===r);(r===t||a||o||i)&&(n=e)}}),n}function b(e,t){if(!e||""===e)return t;if(!t||""===t)return e;var n=e.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e}).map(function(e){
return e+")"}),r=t.replace(/\s/g,"").split(")").filter(function(e){return""!==e&&e});return r.forEach(function(e){var t=e.split("("),r=t[0],a=g(n,r);if(a){var o=n.indexOf(a);n[o]=e+")"}else n.push(e+")")}),n.forEach(function(e,t){e.indexOf("perspective")>=0&&t&&(n.splice(t,1),n.unshift(e))}),n.join(" ").trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.toFixed=r,t.createMatrix=a,t.checkStyleName=o,t.getGsapType=i,t.parseColor=s,t.parseShadow=l,t.getColor=u,t.isTransform=c,t.isConvert=d,t.splitFilterToObject=p,t.getMatrix=f,t.getTransform=h,t.stylesToCss=m,t.getUnit=y,t.getValues=v,t.findStyleByName=g,t.mergeStyle=b;var C={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P=["Webkit","ms","Moz","O"];Object.keys(C).forEach(function(e){P.forEach(function(t){C[n(t,e)]=C[e]})});var T=/^(normal|none|(\b(url\([^)]*\)|chapter_counter|attr\([^)]*\)|(no-)?(open|close)-quote|inherit)((\b\s*)|$|\s+))+)$/,_=function(){return"undefined"!=typeof document&&!(!navigator||!(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 9.0")>0))}(),w=1e5,S={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},x=function(e,t,n){var r=e>1?e-1:e;r=e<0?e+1:r;var a=3*r<2?t+(n-t)*(2/3-r)*6:t,o=r<.5?n:a,i=6*r<1?t+(n-t)*r*6:o;return 255*i+.5|0},O=Math.PI/180,k=180/Math.PI,E={_lists:{transformsBase:["translate","translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ","rotate"],transforms3D:["translate3d","translateZ","scaleZ","rotateX","rotateY","perspective"]},transformGroup:{translate:1,translate3d:1,scale:1,scale3d:1,rotate:1,rotate3d:1},filter:["grayScale","sepia","hueRotate","invert","brightness","contrast","blur"],filterConvert:{grayScale:"grayscale",hueRotate:"hue-rotate"}};E._lists.transformsBase=_?E._lists.transformsBase:E._lists.transformsBase.concat(E._lists.transforms3D),t["default"]=E},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.Button=void 0;var a=n(30),o=r(a),i=n(93),s=r(i),l=n(47),u=r(l);o["default"].Button=u["default"],o["default"].Group=s["default"],t.Button=u["default"],t.Group=s["default"],t["default"]=o["default"]},46:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(118),m=r(h),y=n(6),v=r(y),g=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.getTransitionName=function(){var e=this.props.placement,t=void 0===e?"":e;return t.indexOf("top")>=0?"slide-down":"slide-up"},t.prototype.render=function(){var e=this.props,t=e.children,n=e.prefixCls,r=(0,p.cloneElement)(t,{className:(0,v["default"])(t.props.className,n+"-trigger")});return f["default"].createElement(m["default"],(0,o["default"])({transitionName:this.getTransitionName()},this.props),r)},t}(f["default"].Component);t["default"]=g,g.defaultProps={prefixCls:"ant-dropdown",mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft"},e.exports=t["default"]},47:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(30),f=r(p),h=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return d["default"].createElement(f["default"],this.props)},t}(d["default"].Component);t["default"]=h,h.defaultProps={prefixCls:"ant-radio-button"},e.exports=t["default"]},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].ColumnGroup);t["default"]=p,e.exports=t["default"]},51:function(e,t,n){"use strict";e.exports=n(116)},52:function(e,t){"use strict";e.exports={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40}},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},e.exports=t["default"]},58:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=(0,m["default"])();return t.locale(e.locale()).utcOffset(e.utcOffset()),t}function o(e){return e.year()+"-"+(e.month()+1)+"-"+e.date()}function i(e){var t=a(e);return o(t)}function s(e,t){t.hour(e.hour()),t.minute(e.minute()),t.second(e.second())}function l(e,t){var n=t?t(e):{};return n=(0,f["default"])({},y,n)}function u(e,t){var n=!1;if(e){var r=e.hour(),a=e.minute(),o=e.second(),i=t.disabledHours();if(i.indexOf(r)===-1){var s=t.disabledMinutes(r);if(s.indexOf(a)===-1){var l=t.disabledSeconds(r,a);n=l.indexOf(o)!==-1}else n=!0}else n=!0}return!n}function c(e,t){var n=l(e,t);return u(e,n)}function d(e,t,n){return(!t||!t(e))&&!(n&&!c(e,n))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),f=r(p);t.getTodayTime=a,t.getTitleString=o,t.getTodayTimeStr=i,t.syncTime=s,t.getTimeConfig=l,t.isTimeValidByConfig=u,t.isTimeValid=c,t.isAllowedDate=d;var h=n(28),m=r(h),y={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}}},60:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(99),o=r(a);t["default"]=o["default"],e.exports=t["default"]},61:function(e,t,n){"use strict";n(10),n(113),n(72),n(71),n(85),n(175),n(92)},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(9),f=r(p),h=n(22),m=n(41),y=n(163),v=r(y),g=n(39),b=r(g),C=n(167),P=r(C),T=Math.round(1e3/60),_=function(e){function t(){o(this,t);var n=i(this,e.apply(this,arguments));return n.restart=function(){n.startMoment=n.timeLine.progressTime,n.startFrame=P["default"].frame,n.play()},n.start=function(){var e=n.props;e.animation&&Object.keys(e.animation).length&&(n.timeLine=new v["default"](n.dom,(0,h.dataToArray)(e.animation),{attr:e.attr,willChange:e.willChange}),n.raf(0,!0),n.play())},n.play=function(){n.cancelRequestAnimationFrame(),n.paused||(n.rafID=P["default"].add(n.raf))},n.frame=function(e,t){var r=t?e:0,a=(P["default"].frame-n.startFrame)*T+r+n.startMoment;!t&&a<T&&"number"!=typeof n.props.moment&&(a=T),n.reverse&&(a=(n.startMoment||0)-(P["default"].frame-n.startFrame)*T),a=a>n.timeLine.totalTime?n.timeLine.totalTime:a,a=a<=0?0:a,a<n.moment&&!n.reverse&&n.timeLine.resetDefaultStyle(),n.moment=a,n.timeLine.onChange=n.onChange,n.timeLine.frame(a)},n.raf=function(e,t){if(n.frame(e,t),n.moment>=n.timeLine.totalTime&&!n.reverse||n.paused||n.reverse&&0===n.moment)return n.cancelRequestAnimationFrame()},n.cancelRequestAnimationFrame=function(){P["default"].clear(n.rafID),n.rafID=-1},n.rafID=-1,n.moment=n.props.moment||0,n.startMoment=n.props.moment||0,n.startFrame=P["default"].frame,n.paused=n.props.paused,n.reverse=n.props.reverse,n.onChange=n.props.onChange,n.newMomentAnim=!1,n}return s(t,e),t.prototype.componentDidMount=function(){this.dom=f["default"].findDOMNode(this),this.start()},t.prototype.componentWillReceiveProps=function(e){var t=this;this.onChange=e.onChange;var n=e.moment;this.newMomentAnim=!1,"number"==typeof n&&n!==this.moment&&(this.startMoment=n,this.startFrame=P["default"].frame,this.rafID!==-1||e.paused?this.newMomentAnim=!0:!function(){t.timeLine.resetAnimData();var n=e.style;t.dom.setAttribute("style",""),Object.keys(n).forEach(function(e){t.dom.style[e]=(0,m.stylesToCss)(e,n[e])}),t.play()}());var r=e.animation,a=this.props.animation,o=(0,h.objectEqual)(a,r),i=(0,h.objectEqual)(this.props.style,e.style);this.restartAnim=!1,o?i||this.rafID!==-1&&(this.cancelRequestAnimationFrame(),this.startMoment=this.timeLine.progressTime,this.startFrame=P["default"].frame,this.restartAnim=!0):(this.cancelRequestAnimationFrame(),e.resetStyleBool&&this.timeLine&&this.timeLine.resetDefaultStyle(),this.startMoment=0,this.startFrame=P["default"].frame,this.restartAnim=!0),this.paused===e.paused&&this.reverse===e.reverse||(this.paused=e.paused,this.reverse=e.reverse,this.paused?this.cancelRequestAnimationFrame():this.reverse&&e.reverseDelay?(this.cancelRequestAnimationFrame(),P["default"].timeout(this.restart,e.reverseDelay)):this.restart())},t.prototype.componentDidUpdate=function(){this.restartAnim&&this.start(),this.newMomentAnim&&this.raf()},t.prototype.componentWillUnmount=function(){this.cancelRequestAnimationFrame()},t.prototype.render=function(){var e=u({},this.props);return["animation","component","reverseDelay","attr","paused","reverse","moment","resetStyleBool","willChange"].forEach(function(t){return delete e[t]}),e.style=u({},this.props.style),Object.keys(e.style).forEach(function(t){t.match(/filter/i)&&["Webkit","Moz","Ms","ms"].forEach(function(n){return e.style[n+"Filter"]=e.style[t]})}),e.component="function"==typeof e.component?this.props.componentReplace:e.component,e.component||delete e.component,d["default"].createElement(this.props.component,e)},t}(c.Component),w=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]);_.propTypes={component:c.PropTypes.any,componentReplace:c.PropTypes.string,animation:w,children:c.PropTypes.any,style:c.PropTypes.object,paused:c.PropTypes.bool,reverse:c.PropTypes.bool,reverseDelay:c.PropTypes.number,moment:c.PropTypes.number,attr:c.PropTypes.string,willChange:c.PropTypes.bool,onChange:c.PropTypes.func,resetStyleBool:c.PropTypes.bool},_.defaultProps={component:"div",reverseDelay:0,attr:"style",onChange:l,willChange:!0},_.plugins=b["default"],t["default"]=_,e.exports=t["default"]},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(172),o=r(a),i=n(22);o["default"].path=function(e,t){for(var n=t||{},r=(0,i.parsePath)(e),a=r.getTotalLength(),s=n.rect||100,l=n.lengthPixel||1500,u=[],c=0;c<l;c++)u.push(r.getPointAtLength(a/l*c));return function(e,t,n,i){var l=o["default"].linear(e,t,n,i),c=s*l,d=u.filter(function(e){return e.x>=c})[0]||r.getPointAtLength(l*a);return 1-d.y/s}},t["default"]=o["default"],e.exports=t["default"]},71:[1216,107],72:[1216,111],74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MENU=1,t.DETAIL=2,t.ADD=3,t.UPDATE=4,t.DELETE=5,t.CHECK=6,t.UPLOAD=7},76:function(e,t,n){(function(t){for(var r=n(115),a="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",s=a["request"+i],l=a["cancel"+i]||a["cancelRequest"+i],u=0;!s&&u<o.length;u++)s=a[o[u]+"Request"+i],l=a[o[u]+"Cancel"+i]||a[o[u]+"CancelRequest"+i];if(!s||!l){var c=0,d=0,p=[],f=1e3/60;s=function(e){if(0===p.length){var t=r(),n=Math.max(0,f-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(a,e)},e.exports.cancel=function(){l.apply(a,arguments)},e.exports.polyfill=function(){a.requestAnimationFrame=s,a.cancelAnimationFrame=l}}).call(t,function(){return this}())},82:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(156),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(6),m=r(h),y=n(18),v=r(y),g=n(17),b=r(g),C=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));return r.toggleOption=function(e){var t=r.state.value.indexOf(e.value),n=[].concat((0,o["default"])(r.state.value));t===-1?n.push(e.value):n.splice(t,1),"value"in r.props||r.setState({value:n});var a=r.props.onChange;a&&a(n)},r.state={value:n.value||n.defaultValue||[]},r}return(0,d["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value||[]})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return b["default"].shouldComponentUpdate.apply(this,t)},t.prototype.getOptions=function(){var e=this.props.options;return e.map(function(e){return"string"==typeof e?{label:e,value:e}:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,a=this.getOptions().map(function(t){return f["default"].createElement(v["default"],{disabled:"disabled"in t?t.disabled:e.props.disabled,checked:e.state.value.indexOf(t.value)!==-1,onChange:function(){return e.toggleOption(t)},className:n+"-item",key:t.value},t.label)}),o=(0,m["default"])(n,r);return f["default"].createElement("div",{className:o},a)},t}(f["default"].Component);t["default"]=C,C.defaultProps={options:[],prefixCls:"ant-checkbox-group"},C.propTypes={defaultValue:f["default"].PropTypes.array,value:f["default"].PropTypes.array,options:f["default"].PropTypes.array.isRequired,onChange:f["default"].PropTypes.func},e.exports=t["default"]},83:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(20),m=r(h),y=n(11),v=r(y),g=n(46),b=r(g),C=n(6),P=r(C),T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},_=m["default"].Group,w=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.overlay,r=e.trigger,a=e.align,i=e.children,s=e.className,l=e.onClick,u=e.prefixCls,c=e.disabled,d=e.visible,p=e.onVisibleChange,h=T(e,["type","overlay","trigger","align","children","className","onClick","prefixCls","disabled","visible","onVisibleChange"]),y=(0,P["default"])(u,s),g={align:a,overlay:n,trigger:c?[]:r,onVisibleChange:p};return"visible"in this.props&&(g.visible=d),f["default"].createElement(_,(0,o["default"])({},h,{className:y}),f["default"].createElement(m["default"],{type:t,onClick:l,disabled:c},i),f["default"].createElement(b["default"],g,f["default"].createElement(m["default"],{type:t,disabled:c},f["default"].createElement(v["default"],{type:"down"}))))},t}(f["default"].Component);t["default"]=w,w.defaultProps={align:{points:["tr","br"],overlay:{adjustX:1,adjustY:1},offset:[0,4],targetOffset:[0,0]},type:"default",prefixCls:"ant-dropdown-button"},e.exports=t["default"]},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(46),o=r(a),i=n(83),s=r(i);o["default"].Button=s["default"],t["default"]=o["default"],e.exports=t["default"]},85:function(e,t,n){"use strict";n(10),n(108),n(26)},89:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(27),m=r(h),y=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){return f["default"].createElement(m["default"],(0,o["default"])({size:"small"},this.props))},t}(f["default"].Component);t["default"]=y,y.Option=m["default"].Option,e.exports=t["default"]},90:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(123),m=r(h),y=n(27),v=r(y),g=n(89),b=r(g),C=n(53),P=r(C),T=function(e){function t(){return(0,s["default"])(this,t),(0,u["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){var e=this.props.className,t=v["default"],n=void 0;return n=this.context.antLocale&&this.context.antLocale.Pagination?this.context.antLocale.Pagination:this.props.locale,"small"===this.props.size&&(e+=" mini",t=b["default"]),f["default"].createElement(m["default"],(0,o["default"])({selectComponentClass:t,selectPrefixCls:this.props.selectPrefixCls},this.props,{locale:n,className:e}))},t}(f["default"].Component);t["default"]=T,T.defaultProps={locale:P["default"],className:"",prefixCls:"ant-pagination",selectPrefixCls:"ant-select"},T.contextTypes={antLocale:f["default"].PropTypes.object},e.exports=t["default"]},91:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(90),o=r(a);t["default"]=o["default"],e.exports=t["default"]},92:function(e,t,n){"use strict";n(10),n(110),n(35),n(25)},93:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=null,n=!1;return h["default"].Children.forEach(e,function(e){e&&e.props&&e.props.checked&&(t=e.props.value,n=!0)}),n?{value:t}:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=n(7),i=r(o),s=n(3),l=r(s),u=n(5),c=r(u),d=n(4),p=r(d),f=n(1),h=r(f),m=n(6),y=r(m),v=n(30),g=r(v),b=n(47),C=r(b),P=n(17),T=r(P),_=n(8),w=r(_),S=function(e){function t(n){(0,l["default"])(this,t);var r=(0,c["default"])(this,e.call(this,n));r.onRadioChange=function(e){var t=r.state.value,n=e.target.value;"value"in r.props||r.setState({value:n});var a=r.props.onChange;a&&n!==t&&a(e)};var o=void 0;if("value"in n)o=n.value;else if("defaultValue"in n)o=n.defaultValue;else{var i=a(n.children);o=i&&i.value}return r.state={value:o},r}return(0,p["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e)this.setState({value:e.value});else{var t=a(e.children);t&&this.setState({value:t.value})}},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return T["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e=this,t=this.props,n=t.children?h["default"].Children.map(t.children,function(t){return t&&(t.type===g["default"]||t.type===C["default"])&&t.props?h["default"].cloneElement(t,(0,w["default"])({},t.props,{onChange:e.onRadioChange,checked:e.state.value===t.props.value,disabled:t.props.disabled||e.props.disabled})):t}):[],r=t.prefixCls,a=void 0===r?"ant-radio-group":r,o=t.className,s=void 0===o?"":o,l=(0,y["default"])(a,(0,i["default"])({},a+"-"+t.size,t.size),s);return h["default"].createElement("div",{className:l,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave},n)},t}(h["default"].Component);t["default"]=S,S.defaultProps={disabled:!1},e.exports=t["default"]},94:function(e,t,n){"use strict";n(10),n(109)},95:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(31),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Column);t["default"]=p,e.exports=t["default"]},96:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a);t["default"]=function(e){return o["default"].createElement("div",{className:e.className,onClick:e.onClick},e.children)},e.exports=t["default"]},97:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(18),f=r(p),h=n(42),m=r(h),y=function(e){function t(n){(0,o["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var t=e.getCheckState(e.props);e.setState({checked:t})})},t.prototype.getCheckState=function(e){var t=e.store,n=e.defaultSelection,r=e.rowIndex,a=!1;return a=t.getState().selectionDirty?t.getState().selectedRowKeys.indexOf(r)>=0:t.getState().selectedRowKeys.indexOf(r)>=0||n.indexOf(r)>=0},t.prototype.render=function(){var e=this.props,t=e.type,n=e.rowIndex,r=e.disabled,a=e.onChange,o=this.state.checked;return"radio"===t?d["default"].createElement(m["default"],{disabled:r,onChange:a,value:n,checked:o}):d["default"].createElement(f["default"],{checked:o,disabled:r,onChange:a})},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},98:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(18),f=r(p),h=function(e){function t(n){(0,o["default"])(this,t);var r=(0,s["default"])(this,e.call(this,n));return r.state={checked:r.getCheckState(n),indeterminate:r.getIndeterminateState(n)},r}return(0,u["default"])(t,e),t.prototype.componentDidMount=function(){this.subscribe()},t.prototype.componentWillReceiveProps=function(e){this.setCheckState(e)},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){e.setCheckState(e.props)})},t.prototype.checkSelection=function(e,t,n){var r=this.props,a=r.store,o=r.getCheckboxPropsByItem,i=r.getRecordKey;return("every"===t||"some"===t)&&(n?e[t](function(e,t){return o(e,t).defaultChecked}):e[t](function(e,t){return a.getState().selectedRowKeys.indexOf(i(e,t))>=0}))},t.prototype.setCheckState=function(e){var t=this.getCheckState(e),n=this.getIndeterminateState(e);t!==this.state.checked&&this.setState({checked:t}),n!==this.state.indeterminate&&this.setState({indeterminate:n})},t.prototype.getCheckState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"every",!1):this.checkSelection(n,"every",!1)||this.checkSelection(n,"every",!0))},t.prototype.getIndeterminateState=function(e){var t=e.store,n=e.data,r=void 0;return r=!!n.length&&(t.getState().selectionDirty?this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1):this.checkSelection(n,"some",!1)&&!this.checkSelection(n,"every",!1)||this.checkSelection(n,"some",!0)&&!this.checkSelection(n,"every",!0))},t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.onChange,r=this.state,a=r.checked,o=r.indeterminate;return d["default"].createElement(f["default"],{checked:a,indeterminate:o,disabled:t,onChange:n})},t}(d["default"].Component);t["default"]=h,e.exports=t["default"]},99:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(2),s=r(i),l=n(43),u=r(l),c=n(7),d=r(c),p=n(3),f=r(p),h=n(5),m=r(h),y=n(4),v=r(y),g=n(1),b=r(g),C=n(31),P=r(C),T=n(101),_=r(T),w=n(91),S=r(w),x=n(11),O=r(x),k=n(174),E=r(k),M=n(6),D=r(M),N=n(102),j=n(8),R=r(j),A=n(68),I=r(A),V=n(100),L=r(V),Y=n(97),F=r(Y),U=n(98),W=r(U),H=n(95),z=r(H),K=n(48),B=r(K),G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},X={filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",emptyText:b["default"].createElement("span",null,b["default"].createElement(O["default"],{type:"frown-o"}),"\u6682\u65e0\u6570\u636e")},Z={onChange:a,onShowSizeChange:a},Q=function(e){function t(n){(0,f["default"])(this,t);var r=(0,m["default"])(this,e.call(this,n));return r.getCheckboxPropsByItem=function(e,t){var n=r.props.rowSelection,a=void 0===n?{}:n;if(!a.getCheckboxProps)return{};var o=r.getRecordKey(e,t);return r.CheckboxPropsCache[o]||(r.CheckboxPropsCache[o]=a.getCheckboxProps(e)),r.CheckboxPropsCache[o]},r.handleFilter=function(e,t){var n=r.props,a=(0,R["default"])({},r.state.pagination),o=(0,R["default"])({},r.state.filters,(0,d["default"])({},r.getColumnKey(e),t)),i=[];(0,N.treeMap)(r.columns,function(e){e.children||i.push(r.getColumnKey(e))}),Object.keys(o).forEach(function(e){i.indexOf(e)<0&&delete o[e]}),n.pagination&&(a.current=1,a.onChange(a.current));var s={pagination:a,filters:{}},l=(0,R["default"])({},o);r.getFilteredValueColumns().forEach(function(e){var t=r.getColumnKey(e);t&&delete l[t]}),Object.keys(l).length>0&&(s.filters=l),"object"===(0,u["default"])(n.pagination)&&"current"in n.pagination&&(s.pagination=(0,R["default"])({},a,{current:r.state.pagination.current})),r.setState(s,function(){r.store.setState({selectionDirty:!1});var e=r.props.onChange;e&&e.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{selectionDirty:!1,filters:o,pagination:a})))})},r.handleSelect=function(e,t,n){var a=n.target.checked,o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(o),s=r.getRecordKey(e,t);a?i.push(r.getRecordKey(e,t)):i=i.filter(function(e){return s!==e}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:a})},r.handleRadioSelect=function(e,t,n){var a=n.target.checked,o=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),i=r.store.getState().selectedRowKeys.concat(o),s=r.getRecordKey(e,t);i=[s],r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(i,{selectWay:"onSelect",record:e,checked:a})},r.handleSelectAllRow=function(e){var t=e.target.checked,n=r.getFlatCurrentPageData(),a=r.store.getState().selectionDirty?[]:r.getDefaultSelection(),o=r.store.getState().selectedRowKeys.concat(a),i=n.filter(function(e,t){return!r.getCheckboxPropsByItem(e,t).disabled}).map(function(e,t){return r.getRecordKey(e,t)}),s=[];t?i.forEach(function(e){o.indexOf(e)<0&&(o.push(e),s.push(e))}):i.forEach(function(e){o.indexOf(e)>=0&&(o.splice(o.indexOf(e),1),s.push(e))}),r.store.setState({selectionDirty:!0}),r.setSelectedRowKeys(o,{selectWay:"onSelectAll",checked:t,changeRowKeys:s})},r.handlePageChange=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=r.props,i=(0,R["default"])({},r.state.pagination);e?i.current=e:i.current=i.current||1,i.onChange.apply(i,[i.current].concat(n));var s={pagination:i};"object"===(0,u["default"])(o.pagination)&&"current"in o.pagination&&(s.pagination=(0,R["default"])({},i,{current:r.state.pagination.current})),r.setState(s),r.store.setState({selectionDirty:!1});var l=r.props.onChange;l&&l.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{selectionDirty:!1,pagination:i})))},r.renderSelectionBox=function(e){return function(t,n,a){var i=r.getRecordKey(n,a),s=r.getCheckboxPropsByItem(n,a),l=function(t){"radio"===e?r.handleRadioSelect(n,i,t):r.handleSelect(n,i,t)};return b["default"].createElement("span",{onClick:o},b["default"].createElement(F["default"],{type:e,store:r.store,rowIndex:i,disabled:s.disabled,onChange:l,defaultSelection:r.getDefaultSelection()}))}},r.getRecordKey=function(e,t){var n=r.props.rowKey,a="function"==typeof n?n(e,t):e[n];return(0,I["default"])(void 0!==a,"Each record in table should have a unique `key` prop, or set `rowKey` to an unique primary key,see http://u.ant.design/table-row-key"),void 0===a?t:a},r.handleShowSizeChange=function(e,t){var n=r.state.pagination;n.onShowSizeChange(e,t);var a=(0,R["default"])({},n,{pageSize:t,current:e});r.setState({pagination:a});var o=r.props.onChange;o&&o.apply(null,r.prepareParamsArguments((0,R["default"])({},r.state,{pagination:a})))},(0,I["default"])(!("columnsPageRange"in n||"columnsPageSize"in n),"`columnsPageRange` and `columnsPageSize` are removed, please use fixed columns instead, see: http://u.ant.design/fixed-columns."),r.columns=n.columns||(0,N.normalizeColumns)(n.children),r.state=(0,R["default"])({},r.getSortStateFromColumns(),{filters:r.getFiltersFromColumns(),pagination:r.getDefaultPagination(n)}),r.CheckboxPropsCache={},r.store=(0,L["default"])({selectedRowKeys:(n.rowSelection||{}).selectedRowKeys||[],selectionDirty:!1}),r}return(0,v["default"])(t,e),t.prototype.getDefaultSelection=function(){var e=this,t=this.props.rowSelection,n=void 0===t?{}:t;return n.getCheckboxProps?this.getFlatData().filter(function(t,n){return e.getCheckboxPropsByItem(t,n).defaultChecked}).map(function(t,n){return e.getRecordKey(t,n)}):[]},t.prototype.getDefaultPagination=function(e){var t=e.pagination||{};return this.hasPagination(e)?(0,R["default"])({},Z,t,{current:t.defaultCurrent||t.current||1,pageSize:t.defaultPageSize||t.pageSize||10}):{}},t.prototype.getLocale=function(){var e={};return this.context.antLocale&&this.context.antLocale.Table&&(e=this.context.antLocale.Table),(0,R["default"])({},X,e,this.props.locale)},t.prototype.componentWillReceiveProps=function(e){if(this.columns=e.columns||(0,N.normalizeColumns)(e.children),
("pagination"in e||"pagination"in this.props)&&this.setState(function(t){var n=(0,R["default"])({},Z,t.pagination,e.pagination);return n.current=n.current||1,n.pageSize=n.pageSize||10,{pagination:e.pagination!==!1?n:{}}}),e.rowSelection&&"selectedRowKeys"in e.rowSelection){this.store.setState({selectedRowKeys:e.rowSelection.selectedRowKeys||[]});var t=this.props.rowSelection;t&&e.rowSelection.getCheckboxProps!==t.getCheckboxProps&&(this.CheckboxPropsCache={})}if("dataSource"in e&&e.dataSource!==this.props.dataSource&&(this.store.setState({selectionDirty:!1}),this.CheckboxPropsCache={}),this.getSortOrderColumns(this.columns).length>0){var n=this.getSortStateFromColumns(this.columns);n.sortColumn===this.state.sortColumn&&n.sortOrder===this.state.sortOrder||this.setState(n)}var r=this.getFilteredValueColumns(this.columns);if(r.length>0){var a=this.getFiltersFromColumns(this.columns),o=(0,R["default"])({},this.state.filters);Object.keys(a).forEach(function(e){o[e]=a[e]}),this.isFiltersChanged(o)&&this.setState({filters:o})}},t.prototype.setSelectedRowKeys=function(e,t){var n=this,r=t.selectWay,a=t.record,o=t.checked,i=t.changeRowKeys,s=this.props.rowSelection,l=void 0===s?{}:s;!l||"selectedRowKeys"in l||this.store.setState({selectedRowKeys:e});var u=this.getFlatData();if(l.onChange||l[r]){var c=u.filter(function(t,r){return e.indexOf(n.getRecordKey(t,r))>=0});if(l.onChange&&l.onChange(e,c),"onSelect"===r&&l.onSelect)l.onSelect(a,o,c);else if("onSelectAll"===r&&l.onSelectAll){var d=u.filter(function(e,t){return i.indexOf(n.getRecordKey(e,t))>=0});l.onSelectAll(o,c,d)}}},t.prototype.hasPagination=function(e){return(e||this.props).pagination!==!1},t.prototype.isFiltersChanged=function(e){var t=this,n=!1;return Object.keys(e).length!==Object.keys(this.state.filters).length?n=!0:Object.keys(e).forEach(function(r){e[r]!==t.state.filters[r]&&(n=!0)}),n},t.prototype.getSortOrderColumns=function(e){return(e||this.columns||[]).filter(function(e){return"sortOrder"in e})},t.prototype.getFilteredValueColumns=function(e){return(e||this.columns||[]).filter(function(e){return"undefined"!=typeof e.filteredValue})},t.prototype.getFiltersFromColumns=function(e){var t=this,n={};return this.getFilteredValueColumns(e).forEach(function(e){n[t.getColumnKey(e)]=e.filteredValue}),n},t.prototype.getSortStateFromColumns=function(e){var t=this.getSortOrderColumns(e).filter(function(e){return e.sortOrder})[0];return t?{sortColumn:t,sortOrder:t.sortOrder}:{sortColumn:null,sortOrder:null}},t.prototype.getSorterFn=function(){var e=this.state,t=e.sortOrder,n=e.sortColumn;if(t&&n&&"function"==typeof n.sorter)return function(e,r){var a=n.sorter(e,r);return 0!==a?"descend"===t?-a:a:0}},t.prototype.toggleSortOrder=function(e,t){var n=this.state,r=n.sortColumn,a=n.sortOrder,o=this.isSortColumn(t);o?a===e?(a="",r=null):a=e:(a=e,r=t);var i={sortOrder:a,sortColumn:r};0===this.getSortOrderColumns().length&&this.setState(i);var s=this.props.onChange;s&&s.apply(null,this.prepareParamsArguments((0,R["default"])({},this.state,i)))},t.prototype.renderRowSelection=function(){var e=this,t=this.props,n=t.prefixCls,r=t.rowSelection,a=this.columns.concat();if(r){var o=this.getFlatCurrentPageData().filter(function(t,n){return!r.getCheckboxProps||!e.getCheckboxPropsByItem(t,n).disabled}),i={key:"selection-column",render:this.renderSelectionBox(r.type),className:n+"-selection-column"};if("radio"!==r.type){var s=o.every(function(t,n){return e.getCheckboxPropsByItem(t,n).disabled});i.title=b["default"].createElement(W["default"],{store:this.store,data:o,getCheckboxPropsByItem:this.getCheckboxPropsByItem,getRecordKey:this.getRecordKey,disabled:s,onChange:this.handleSelectAllRow})}a.some(function(e){return"left"===e.fixed||e.fixed===!0})&&(i.fixed="left"),a[0]&&"selection-column"===a[0].key?a[0]=i:a.unshift(i)}return a},t.prototype.getColumnKey=function(e,t){return e.key||e.dataIndex||t},t.prototype.getMaxCurrent=function(e){var t=this.state.pagination,n=t.current,r=t.pageSize;return(n-1)*r>=e?n-1:n},t.prototype.isSortColumn=function(e){var t=this.state.sortColumn;return!(!e||!t)&&this.getColumnKey(t)===this.getColumnKey(e)},t.prototype.renderColumnsDropdown=function(e){var t=this,n=this.props,r=n.prefixCls,a=n.dropdownPrefixCls,o=this.state.sortOrder,i=this.getLocale();return(0,N.treeMap)(e,function(e,n){var s=(0,R["default"])({},e),l=t.getColumnKey(s,n),u=void 0,c=void 0;if(s.filters&&s.filters.length>0||s.filterDropdown){var d=t.state.filters[l]||[];u=b["default"].createElement(_["default"],{locale:i,column:s,selectedKeys:d,confirmFilter:t.handleFilter,prefixCls:r+"-filter",dropdownPrefixCls:a||"ant-dropdown"})}if(s.sorter){var p=t.isSortColumn(s);p&&(s.className=s.className||"",o&&(s.className+=" "+r+"-column-sort"));var f=p&&"ascend"===o,h=p&&"descend"===o;c=b["default"].createElement("div",{className:r+"-column-sorter"},b["default"].createElement("span",{className:r+"-column-sorter-up "+(f?"on":"off"),title:"\u2191",onClick:function(){return t.toggleSortOrder("ascend",s)}},b["default"].createElement(O["default"],{type:"caret-up"})),b["default"].createElement("span",{className:r+"-column-sorter-down "+(h?"on":"off"),title:"\u2193",onClick:function(){return t.toggleSortOrder("descend",s)}},b["default"].createElement(O["default"],{type:"caret-down"})))}return s.title=b["default"].createElement("span",null,s.title,c,u),s})},t.prototype.renderPagination=function(){if(!this.hasPagination())return null;var e="default",t=this.state.pagination;t.size?e=t.size:"middle"!==this.props.size&&"small"!==this.props.size||(e="small");var n=t.total||this.getLocalData().length;return n>0?b["default"].createElement(S["default"],(0,s["default"])({key:"pagination"},t,{className:this.props.prefixCls+"-pagination",onChange:this.handlePageChange,total:n,size:e,current:this.getMaxCurrent(n),onShowSizeChange:this.handleShowSizeChange})):null},t.prototype.prepareParamsArguments=function(e){var t=G({},e.pagination);delete t.onChange,delete t.onShowSizeChange;var n=e.filters,r={};return e.sortColumn&&e.sortOrder&&(r.column=e.sortColumn,r.order=e.sortOrder,r.field=e.sortColumn.dataIndex,r.columnKey=this.getColumnKey(e.sortColumn)),[t,n,r]},t.prototype.findColumn=function(e){var t=this,n=void 0;return(0,N.treeMap)(this.columns,function(r){t.getColumnKey(r)===e&&(n=r)}),n},t.prototype.getCurrentPageData=function(){var e=this.getLocalData(),t=void 0,n=void 0,r=this.state;return this.hasPagination()?(n=r.pagination.pageSize,t=this.getMaxCurrent(r.pagination.total||e.length)):(n=Number.MAX_VALUE,t=1),(e.length>n||n===Number.MAX_VALUE)&&(e=e.filter(function(e,r){return r>=(t-1)*n&&r<t*n})),e},t.prototype.getFlatData=function(){return(0,N.flatArray)(this.getLocalData())},t.prototype.getFlatCurrentPageData=function(){return(0,N.flatArray)(this.getCurrentPageData())},t.prototype.recursiveSort=function(e,t){var n=this,r=this.props.childrenColumnName,a=void 0===r?"children":r;return e.sort(t).map(function(e){return e[a]?(0,R["default"])({},e,(0,d["default"])({},a,n.recursiveSort(e[a],t))):e})},t.prototype.getLocalData=function(){var e=this,t=this.state,n=this.props.dataSource,r=n||[];r=r.slice(0);var a=this.getSorterFn();return a&&(r=this.recursiveSort(r,a)),t.filters&&Object.keys(t.filters).forEach(function(n){var a=e.findColumn(n);if(a){var o=t.filters[n]||[];if(0!==o.length){var i=a.onFilter;r=i?r.filter(function(e){return o.some(function(t){return i(t,e)})}):r}}}),r},t.prototype.render=function(){var e,t=this,n=this.props,r=n.style,a=n.className,o=n.prefixCls,i=n.showHeader,l=n.loading,u=q(n,["style","className","prefixCls","showHeader","loading"]),c=this.getCurrentPageData(),p=this.renderRowSelection(),f=this.props.expandedRowRender&&this.props.expandIconAsCell!==!1,h=this.getLocale(),m=(0,D["default"])((e={},(0,d["default"])(e,o+"-"+this.props.size,!0),(0,d["default"])(e,o+"-bordered",this.props.bordered),(0,d["default"])(e,o+"-empty",!c.length),(0,d["default"])(e,o+"-without-column-header",!i),e));p=this.renderColumnsDropdown(p),p=p.map(function(e,n){var r=(0,R["default"])({},e);return r.key=t.getColumnKey(r,n),r});var y=p[0]&&"selection-column"===p[0].key?1:0;"expandIconColumnIndex"in u&&(y=u.expandIconColumnIndex);var v=b["default"].createElement(P["default"],(0,s["default"])({key:"table"},u,{prefixCls:o,data:c,columns:p,showHeader:i,className:m,expandIconColumnIndex:y,expandIconAsCell:f,emptyText:function(){return h.emptyText}})),g=this.hasPagination()&&c&&0!==c.length?o+"-with-pagination":o+"-without-pagination";return b["default"].createElement("div",{className:(0,D["default"])(o+"-wrapper",a),style:r},b["default"].createElement(E["default"],{spinning:l,className:l?g+" "+o+"-spin-holder":""},v,this.renderPagination()))},t}(b["default"].Component);t["default"]=Q,Q.Column=z["default"],Q.ColumnGroup=B["default"],Q.propTypes={dataSource:b["default"].PropTypes.array,columns:b["default"].PropTypes.array,prefixCls:b["default"].PropTypes.string,useFixedHeader:b["default"].PropTypes.bool,rowSelection:b["default"].PropTypes.object,className:b["default"].PropTypes.string,size:b["default"].PropTypes.string,loading:b["default"].PropTypes.bool,bordered:b["default"].PropTypes.bool,onChange:b["default"].PropTypes.func,locale:b["default"].PropTypes.object,dropdownPrefixCls:b["default"].PropTypes.string},Q.defaultProps={dataSource:[],prefixCls:"ant-table",useFixedHeader:!1,rowSelection:null,className:"",size:"large",loading:!1,bordered:!1,indentSize:20,locale:{},rowKey:"key",showHeader:!0},Q.contextTypes={antLocale:b["default"].PropTypes.object},e.exports=t["default"]},100:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){function t(e){a=(0,i["default"])({},a,e);for(var t=0;t<o.length;t++)o[t]()}function n(){return a}function r(e){return o.push(e),function(){var t=o.indexOf(e);o.splice(t,1)}}var a=e,o=[];return{setState:t,getState:n,subscribe:r}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(8),i=r(o);e.exports=t["default"]},101:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(7),o=r(a),i=n(3),s=r(i),l=n(5),u=r(l),c=n(4),d=r(c),p=n(1),f=r(p),h=n(9),m=r(h),y=n(38),v=r(y),g=n(105),b=r(g),C=n(6),P=r(C),T=n(84),_=r(T),w=n(11),S=r(w),x=n(18),O=r(x),k=n(42),E=r(k),M=n(96),D=r(M),N=function(e){function t(n){(0,s["default"])(this,t);var r=(0,u["default"])(this,e.call(this,n));r.setSelectedKeys=function(e){var t=e.selectedKeys;r.setState({selectedKeys:t})},r.handleClearFilters=function(){r.setState({selectedKeys:[]},r.handleConfirm)},r.handleConfirm=function(){r.setVisible(!1),r.confirmFilter()},r.onVisibleChange=function(e){r.setVisible(e),e||r.confirmFilter()},r.handleMenuItemClick=function(e){if(!(e.keyPath.length<=1)){var t=r.state.keyPathOfSelectedItem;r.state.selectedKeys.indexOf(e.key)>=0?delete t[e.key]:t[e.key]=e.keyPath,r.setState({keyPathOfSelectedItem:t})}};var a="filterDropdownVisible"in n.column&&n.column.filterDropdownVisible;return r.state={selectedKeys:n.selectedKeys,keyPathOfSelectedItem:{},visible:a},r}return(0,d["default"])(t,e),t.prototype.componentDidMount=function(){var e=this.props.column,t=m["default"].findDOMNode(this),n=!!(0,b["default"])(t,".ant-table-scroll");n&&e.fixed&&(this.neverShown=!0)},t.prototype.componentWillReceiveProps=function(e){var t=e.column,n={};"selectedKeys"in e&&(n.selectedKeys=e.selectedKeys),"filterDropdownVisible"in t&&(n.visible=t.filterDropdownVisible),Object.keys(n).length>0&&this.setState(n)},t.prototype.setVisible=function(e){var t=this.props.column;"filterDropdownVisible"in t||this.setState({visible:e}),t.onFilterDropdownVisibleChange&&t.onFilterDropdownVisibleChange(e)},t.prototype.confirmFilter=function(){this.state.selectedKeys!==this.props.selectedKeys&&this.props.confirmFilter(this.props.column,this.state.selectedKeys)},t.prototype.renderMenuItem=function(e){var t=this.props.column,n=!("filterMultiple"in t)||t.filterMultiple,r=n?f["default"].createElement(O["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0}):f["default"].createElement(E["default"],{checked:this.state.selectedKeys.indexOf(e.value.toString())>=0});return f["default"].createElement(y.Item,{key:e.value},r,f["default"].createElement("span",null,e.text))},t.prototype.hasSubMenu=function(){var e=this.props.column.filters,t=void 0===e?[]:e;return t.some(function(e){return!!(e.children&&e.children.length>0)})},t.prototype.renderMenus=function(e){var t=this;return e.map(function(e){if(e.children&&e.children.length>0){var n=t.state.keyPathOfSelectedItem,r=Object.keys(n).some(function(t){return n[t].indexOf(e.value)>=0}),a=r?t.props.dropdownPrefixCls+"-submenu-contain-selected":"";return f["default"].createElement(y.SubMenu,{title:e.text,className:a,key:e.value.toString()},t.renderMenus(e.children))}return t.renderMenuItem(e)})},t.prototype.render=function(){var e=this.props,t=e.column,n=e.locale,r=e.prefixCls,a=e.dropdownPrefixCls,i=!("filterMultiple"in t)||t.filterMultiple,s=(0,P["default"])((0,o["default"])({},a+"-menu-without-submenu",!this.hasSubMenu())),l=t.filterDropdown?f["default"].createElement(D["default"],null,t.filterDropdown):f["default"].createElement(D["default"],{className:r+"-dropdown"},f["default"].createElement(v["default"],{multiple:i,onClick:this.handleMenuItemClick,prefixCls:a+"-menu",className:s,onSelect:this.setSelectedKeys,onDeselect:this.setSelectedKeys,selectedKeys:this.state.selectedKeys},this.renderMenus(t.filters)),f["default"].createElement("div",{className:r+"-dropdown-btns"},f["default"].createElement("a",{className:r+"-dropdown-link confirm",onClick:this.handleConfirm},n.filterConfirm),f["default"].createElement("a",{className:r+"-dropdown-link clear",onClick:this.handleClearFilters},n.filterReset))),u=this.props.selectedKeys.length>0?r+"-selected":"";return f["default"].createElement(_["default"],{trigger:["click"],overlay:l,visible:!this.neverShown&&this.state.visible,onVisibleChange:this.onVisibleChange},f["default"].createElement(S["default"],{title:n.filterTitle,type:"filter",className:u}))},t}(f["default"].Component);t["default"]=N,N.defaultProps={handleFilter:function(){},column:{}},e.exports=t["default"]},102:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[],r=function a(e){e.forEach(function(e){var r=(0,c["default"])({},e);delete r[t],n.push(r),e[t]&&e[t].length>0&&a(e[t])})};return r(e),n}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";return e.map(function(e,r){var a={};return e[n]&&(a[n]=o(e[n],t,n)),(0,c["default"])({},t(e,r),a)})}function i(e){var t=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var n=(0,c["default"])({},e.props);e.key&&(n.key=e.key),e.type===p["default"]&&(n.children=i(n.children)),t.push(n)}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.flatArray=a,t.treeMap=o,t.normalizeColumns=i;var s=n(1),l=r(s),u=n(8),c=r(u),d=n(48),p=r(d)},105:function(e,t,n){var r=n(106);e.exports=function(e,t,n){for(n=n||document,e={parentNode:e};(e=e.parentNode)&&e!==n;)if(r(e,t))return e}},106:function(e,t){"use strict";function n(e,t){var n=window.Element.prototype,r=n.matches||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;if(!e||1!==e.nodeType)return!1;var a=e.parentNode;if(r)return r.call(e,t);for(var o=a.querySelectorAll(t),i=o.length,s=0;s<i;s++)if(o[s]===e)return!0;return!1}e.exports=n},107:10,108:10,110:10,111:10,112:10,113:10,115:function(e,t,n){(function(t){(function(){var n,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},a=n()):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(t,n(114))},116:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(17),f=r(p),h=n(6),m=r(h),y=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.handleFocus=function(e){r.setState({focus:!0}),r.props.onFocus(e)},r.handleBlur=function(e){r.setState({focus:!1}),r.props.onBlur(e)},r.handleChange=function(e){r.props.disabled||("checked"in r.props||r.setState({checked:e.target.checked}),r.props.onChange({target:u({},r.props,{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}}))};var a=!1;return a="checked"in n?n.checked:n.defaultChecked,r.state={checked:a,focus:!1},r}return l(t,e),t.prototype.componentWillReceiveProps=function(e){"checked"in e&&this.setState({checked:e.checked})},t.prototype.shouldComponentUpdate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return f["default"].shouldComponentUpdate.apply(this,t)},t.prototype.render=function(){var e,t=u({},this.props);delete t.defaultChecked;var n=this.state,r=t.prefixCls,a=n.checked;"boolean"==typeof a&&(a=a?1:0);var i=(0,m["default"])((e={},o(e,t.className,!!t.className),o(e,r,1),o(e,r+"-checked",a),o(e,r+"-checked-"+a,!!a),o(e,r+"-focused",n.focus),o(e,r+"-disabled",t.disabled),e));return d["default"].createElement("span",{className:i,style:t.style},d["default"].createElement("span",{className:r+"-inner"}),d["default"].createElement("input",{name:t.name,type:t.type,readOnly:t.readOnly,disabled:t.disabled,tabIndex:t.tabIndex,className:r+"-input",checked:!!a,onClick:this.props.onClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}))},t}(d["default"].Component);y.propTypes={name:d["default"].PropTypes.string,prefixCls:d["default"].PropTypes.string,style:d["default"].PropTypes.object,type:d["default"].PropTypes.string,className:d["default"].PropTypes.string,defaultChecked:d["default"].PropTypes.oneOfType([d["default"].PropTypes.number,d["default"].PropTypes.bool]),disabled:d["default"].PropTypes.bool,checked:d["default"].PropTypes.oneOfType([d["default"].PropTypes.number,d["default"].PropTypes.bool]),onFocus:d["default"].PropTypes.func,onBlur:d["default"].PropTypes.func,onChange:d["default"].PropTypes.func,onClick:d["default"].PropTypes.func},y.defaultProps={prefixCls:"rc-checkbox",style:{},type:"checkbox",className:"",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){}},t["default"]=y,e.exports=t["default"]},117:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),s=r(i),l=n(9),u=r(l),c=n(59),d=r(c),p=n(119),f=r(p),h=s["default"].createClass({displayName:"Dropdown",propTypes:{minOverlayWidthMatchTrigger:i.PropTypes.bool,onVisibleChange:i.PropTypes.func,prefixCls:i.PropTypes.string,children:i.PropTypes.any,transitionName:i.PropTypes.string,overlayClassName:i.PropTypes.string,animation:i.PropTypes.any,align:i.PropTypes.object,overlayStyle:i.PropTypes.object,placement:i.PropTypes.string,trigger:i.PropTypes.array,showAction:i.PropTypes.array,hideAction:i.PropTypes.array,getPopupContainer:i.PropTypes.func},getDefaultProps:function(){return{minOverlayWidthMatchTrigger:!0,prefixCls:"rc-dropdown",trigger:["hover"],showAction:[],hideAction:[],overlayClassName:"",overlayStyle:{},defaultVisible:!1,onVisibleChange:function(){},placement:"bottomLeft"}},getInitialState:function(){var e=this.props;return"visible"in e?{visible:e.visible}:{visible:e.defaultVisible}},componentWillReceiveProps:function(e){var t=e.visible;void 0!==t&&this.setState({visible:t})},onClick:function(e){var t=this.props,n=t.overlay.props;"visible"in t||this.setState({visible:!1}),n.onClick&&n.onClick(e)},onVisibleChange:function(e){var t=this.props;"visible"in t||this.setState({visible:e}),t.onVisibleChange(e)},getMenuElement:function(){var e=this.props;return s["default"].cloneElement(e.overlay,{prefixCls:e.prefixCls+"-menu",onClick:this.onClick})},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},afterVisibleChange:function(e){if(e&&this.props.minOverlayWidthMatchTrigger){var t=this.getPopupDomNode(),n=u["default"].findDOMNode(this);n.offsetWidth>t.offsetWidth&&(t.style.width=n.offsetWidth+"px")}},render:function(){var e=this.props,t=e.prefixCls,n=e.children,r=e.transitionName,i=e.animation,l=e.align,u=e.placement,c=e.getPopupContainer,p=e.showAction,h=e.hideAction,m=e.overlayClassName,y=e.overlayStyle,v=e.trigger,g=a(e,["prefixCls","children","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","trigger"]);return s["default"].createElement(d["default"],o({},g,{prefixCls:t,ref:"trigger",popupClassName:m,popupStyle:y,builtinPlacements:f["default"],action:v,showAction:p,hideAction:h,popupPlacement:u,popupAlign:l,popupTransitionName:r,popupAnimation:i,popupVisible:this.state.visible,afterPopupVisibleChange:this.afterVisibleChange,popup:this.getMenuElement(),onPopupVisibleChange:this.onVisibleChange,getPopupContainer:c}),n)}});t["default"]=h,e.exports=t["default"]},118:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(117),o=r(a);t["default"]=o["default"],e.exports=t["default"]},119:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],a=t.placements={topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},topCenter:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},bottomCenter:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r}};t["default"]=a},120:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=n(52),u=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n));return r.state={current:n.current,_current:n.current},["_handleChange","_changeSize","_go","_buildOptionText"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype._buildOptionText=function(e){return e+" "+this.props.locale.items_per_page},t.prototype._changeSize=function(e){this.props.changeSize(Number(e))},t.prototype._handleChange=function(e){var t=e.target.value;this.setState({_current:t})},t.prototype._go=function(e){var t=e.target.value;if(""!==t){var n=Number(this.state._current);if(isNaN(n)&&(n=this.state.current),e.keyCode===l.ENTER){var r=this.props.quickGo(n);this.setState({_current:r,current:r})}}},t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=t.locale,a=t.rootPrefixCls+"-options",o=t.changeSize,i=t.quickGo,l=t.buildOptionText||this._buildOptionText,u=t.selectComponentClass,c=null,d=null;return o||i?(o&&u&&!function(){var n=u.Option,r=t.pageSize||t.pageSizeOptions[0],o=t.pageSizeOptions.map(function(e,t){return s.createElement(n,{key:t,value:e},l(e))});c=s.createElement(u,{prefixCls:t.selectPrefixCls,showSearch:!1,className:a+"-size-changer",optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:r.toString(),onChange:e._changeSize},o)}(),i&&(d=s.createElement("div",{className:a+"-quick-jumper"},r.jump_to,s.createElement("input",{type:"text",value:n._current,onChange:this._handleChange,onKeyUp:this._go}),r.page)),s.createElement("div",{className:""+a},c,d)):null},t}(s.Component);u.propTypes={changeSize:s.PropTypes.func,quickGo:s.PropTypes.func,selectComponentClass:s.PropTypes.func,current:s.PropTypes.number,pageSizeOptions:s.PropTypes.arrayOf(s.PropTypes.string),pageSize:s.PropTypes.number,buildOptionText:s.PropTypes.func,locale:s.PropTypes.object},u.defaultProps={pageSizeOptions:["10","20","30","40"]},e.exports=u},121:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.rootPrefixCls+"-item",n=t+" "+t+"-"+e.page;return e.active&&(n=n+" "+t+"-active"),e.className&&(n=n+" "+e.className),s.createElement("li",{title:e.page,className:n,onClick:e.onClick},s.createElement("a",null,e.page))},t}(s.Component);l.propTypes={page:s.PropTypes.number,active:s.PropTypes.bool,last:s.PropTypes.bool,locale:s.PropTypes.object,className:s.PropTypes.string},e.exports=l},122:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function s(){}var l=n(1),u=n(121),c=n(120),d=n(52),p=n(53),f=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n)),i=n.onChange!==s,l="current"in n;l&&!i&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var u=n.defaultCurrent;"current"in n&&(u=n.current);var c=n.defaultPageSize;return"pageSize"in n&&(c=n.pageSize),r.state={current:u,_current:u,pageSize:c},["render","_handleChange","_handleKeyUp","_handleKeyDown","_changePageSize","_isValid","_prev","_next","_hasPrev","_hasNext","_jumpPrev","_jumpNext"].forEach(function(e){return r[e]=r[e].bind(r)}),r}return i(t,e),t.prototype.componentWillReceiveProps=function(e){if("current"in e&&this.setState({current:e.current,_current:e.current}),"pageSize"in e){var t={},n=this.state.current,r=this._calcPage(e.pageSize);n=n>r?r:n,"current"in e||(t.current=n,t._current=n),t.pageSize=e.pageSize,this.setState(t)}},t.prototype._calcPage=function(e){var t=e;return"undefined"==typeof t&&(t=this.state.pageSize),Math.floor((this.props.total-1)/t)+1},t.prototype._isValid=function(e){return"number"==typeof e&&e>=1&&e!==this.state.current},t.prototype._handleKeyDown=function(e){e.keyCode!==d.ARROW_UP&&e.keyCode!==d.ARROW_DOWN||e.preventDefault()},t.prototype._handleKeyUp=function(e){var t=e.target.value,n=void 0;n=""===t?t:isNaN(Number(t))?this.state._current:Number(t),this.setState({_current:n}),e.keyCode===d.ENTER?this._handleChange(n):e.keyCode===d.ARROW_UP?this._handleChange(n-1):e.keyCode===d.ARROW_DOWN&&this._handleChange(n+1)},t.prototype._changePageSize=function(e){var t=this.state.current,n=this._calcPage(e);t=t>n?n:t,"number"==typeof e&&("pageSize"in this.props||this.setState({pageSize:e}),"current"in this.props||this.setState({current:t,_current:t})),this.props.onShowSizeChange(t,e)},t.prototype._handleChange=function(e){var t=e;if(this._isValid(t)){t>this._calcPage()&&(t=this._calcPage()),"current"in this.props||this.setState({current:t,_current:t});var n=this.state.pageSize;return this.props.onChange(t,n),t}return this.state.current},t.prototype._prev=function(){this._hasPrev()&&this._handleChange(this.state.current-1)},t.prototype._next=function(){this._hasNext()&&this._handleChange(this.state.current+1)},t.prototype._jumpPrev=function(){this._handleChange(Math.max(1,this.state.current-(this.props.showLessItems?3:5)))},t.prototype._jumpNext=function(){this._handleChange(Math.min(this._calcPage(),this.state.current+(this.props.showLessItems?3:5)))},t.prototype._hasPrev=function(){return this.state.current>1},t.prototype._hasNext=function(){return this.state.current<this._calcPage()},t.prototype.render=function(){var e=this.props,t=e.locale,n=e.prefixCls,r=this._calcPage(),a=[],o=null,i=null,s=null,d=null,p=e.showLessItems?1:2,f=this.state,h=f.current,m=f.pageSize;if(e.simple)return l.createElement("ul",{className:n+" "+n+"-simple "+e.className},l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),l.createElement("li",{title:this.state.current+"/"+r,className:n+"-simple-pager"},l.createElement("input",{type:"text",value:this.state._current,onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onChange:this._handleKeyUp}),l.createElement("span",{className:n+"-slash"},"\uff0f"),r),l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)));if(r<=5+2*p)for(var y=1;y<=r;y++){var v=this.state.current===y;a.push(l.createElement(u,{locale:t,rootPrefixCls:n,onClick:this._handleChange.bind(this,y),
key:y,page:y,active:v}))}else{o=l.createElement("li",{title:e.showLessItems?t.prev_3:t.prev_5,key:"prev",onClick:this._jumpPrev,className:n+"-jump-prev"},l.createElement("a",null)),i=l.createElement("li",{title:e.showLessItems?t.next_3:t.next_5,key:"next",onClick:this._jumpNext,className:n+"-jump-next"},l.createElement("a",null)),d=l.createElement(u,{locale:e.locale,last:!0,rootPrefixCls:n,onClick:this._handleChange.bind(this,r),key:r,page:r,active:!1}),s=l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,1),key:1,page:1,active:!1});var g=Math.max(1,h-p),b=Math.min(h+p,r);h-1<=p&&(b=1+2*p),r-h<=p&&(g=r-2*p);for(var C=g;C<=b;C++){var P=h===C;a.push(l.createElement(u,{locale:e.locale,rootPrefixCls:n,onClick:this._handleChange.bind(this,C),key:C,page:C,active:P}))}h-1>=2*p&&3!==h&&(a[0]=l.cloneElement(a[0],{className:n+"-item-after-jump-prev"}),a.unshift(o)),r-h>=2*p&&h!==r-2&&(a[a.length-1]=l.cloneElement(a[a.length-1],{className:n+"-item-before-jump-next"}),a.push(i)),1!==g&&a.unshift(s),b!==r&&a.push(d)}var T=null;return e.showTotal&&(T=l.createElement("span",{className:n+"-total-text"},e.showTotal(e.total,[(h-1)*m+1,h*m>e.total?e.total:h*m]))),l.createElement("ul",{className:n+" "+e.className,style:e.style,unselectable:"unselectable"},T,l.createElement("li",{title:t.prev_page,onClick:this._prev,className:(this._hasPrev()?"":n+"-disabled")+" "+n+"-prev"},l.createElement("a",null)),a,l.createElement("li",{title:t.next_page,onClick:this._next,className:(this._hasNext()?"":n+"-disabled")+" "+n+"-next"},l.createElement("a",null)),l.createElement(c,{locale:e.locale,rootPrefixCls:n,selectComponentClass:e.selectComponentClass,selectPrefixCls:e.selectPrefixCls,changeSize:this.props.showSizeChanger?this._changePageSize.bind(this):null,current:this.state.current,pageSize:this.state.pageSize,pageSizeOptions:this.props.pageSizeOptions,quickGo:this.props.showQuickJumper?this._handleChange.bind(this):null}))},t}(l.Component);f.propTypes={current:l.PropTypes.number,defaultCurrent:l.PropTypes.number,total:l.PropTypes.number,pageSize:l.PropTypes.number,defaultPageSize:l.PropTypes.number,onChange:l.PropTypes.func,showSizeChanger:l.PropTypes.bool,showLessItems:l.PropTypes.bool,onShowSizeChange:l.PropTypes.func,selectComponentClass:l.PropTypes.func,showQuickJumper:l.PropTypes.bool,pageSizeOptions:l.PropTypes.arrayOf(l.PropTypes.string),showTotal:l.PropTypes.func,locale:l.PropTypes.object,style:l.PropTypes.object},f.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:s,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,showQuickJumper:!1,showSizeChanger:!1,showLessItems:!1,onShowSizeChange:s,locale:p,style:{}},e.exports=f},123:function(e,t,n){"use strict";e.exports=n(122)},124:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),o=n(51),i=a.createClass({displayName:"Radio",getDefaultProps:function(){return{prefixCls:"rc-radio",type:"radio"}},render:function(){return a.createElement(o,r({},this.props,{ref:"checkbox"}))}});e.exports=i},125:function(e,t,n){"use strict";e.exports=n(124)},126:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(43),o=r(a),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),d=n(144),p=r(d),f=n(38),h=r(f),m=n(180),y=r(m),v=n(21),g=u["default"].createClass({displayName:"DropdownMenu",propTypes:{defaultActiveFirstOption:l.PropTypes.bool,value:l.PropTypes.any,dropdownMenuStyle:l.PropTypes.object,multiple:l.PropTypes.bool,onPopupFocus:l.PropTypes.func,onMenuDeSelect:l.PropTypes.func,onMenuSelect:l.PropTypes.func,prefixCls:l.PropTypes.string,menuItems:l.PropTypes.any,inputValue:l.PropTypes.string,visible:l.PropTypes.bool},componentWillMount:function(){this.lastInputValue=this.props.inputValue},componentDidMount:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible},shouldComponentUpdate:function(e){return e.visible||(this.lastVisible=!1),e.visible},componentDidUpdate:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue},scrollActiveItemToView:function(){var e=(0,c.findDOMNode)(this.firstActiveItem);e&&(0,y["default"])(e,(0,c.findDOMNode)(this.refs.menu),{onlyScrollIfNeeded:!0})},renderMenu:function(){var e=this,t=this.props,n=t.menuItems,r=t.defaultActiveFirstOption,a=t.value,i=t.prefixCls,c=t.multiple,d=t.onMenuSelect,f=t.inputValue;if(n&&n.length){var m=function(){var o={};c?(o.onDeselect=t.onMenuDeselect,o.onSelect=d):o.onClick=d;var m=(0,v.getSelectKeys)(n,a),y={},g=n;return m.length&&!function(){t.visible&&!e.lastVisible&&(y.activeKey=m[0]);var r=!1,a=function(t){return r||m.indexOf(t.key)===-1?t:(r=!0,(0,l.cloneElement)(t,{ref:function(t){e.firstActiveItem=t}}))};g=n.map(function(e){if(e.type.isMenuItemGroup){var t=(0,p["default"])(e.props.children).map(a);return(0,l.cloneElement)(e,{},t)}return a(e)})}(),f!==e.lastInputValue&&(y.activeKey=""),{v:u["default"].createElement(h["default"],(0,s["default"])({ref:"menu",style:e.props.dropdownMenuStyle,defaultActiveFirst:r},y,{multiple:c,focusable:!1},o,{selectedKeys:m,prefixCls:i+"-menu"}),g)}}();if("object"===("undefined"==typeof m?"undefined":(0,o["default"])(m)))return m.v}return null},render:function(){var e=this.renderMenu();return e?u["default"].createElement("div",{style:{overflow:"auto"},onFocus:this.props.onPopupFocus,onMouseDown:v.preventDefaultEvent},e):null}});t["default"]=g,e.exports=t["default"]},127:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(1),s=r(i),l=n(21),u=n(38),c=n(133),d=r(c);t["default"]={filterOption:function p(e,t){if(!e)return!0;var p=this.props.filterOption;return!p||!t.props.disabled&&p.call(this,e,t)},renderFilterOptions:function(e){return this.renderFilterOptionsFromChildren(this.props.children,!0,e)},renderFilterOptionsFromChildren:function(e,t,n){var r=this,a=[],i=this.props,c=void 0===n?this.state.inputValue:n,p=[],f=i.tags;if(s["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var t=r.renderFilterOptionsFromChildren(e.props.children,!1);if(t.length){var n=e.props.label,i=e.key;i||"string"!=typeof n?!n&&i&&(n=i):i=n,a.push(s["default"].createElement(u.ItemGroup,{key:i,title:n},t))}}else{(0,d["default"])(e.type.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+("instead of `"+(e.type.name||e.type.displayName||e.type)+"`."));var h=(0,l.getValuePropValue)(e);r.filterOption(c,e)&&a.push(s["default"].createElement(u.Item,(0,o["default"])({style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:h,key:h},e.props))),f&&!e.props.disabled&&p.push(h)}}),f){var h=this.state.value||[];if(h=h.filter(function(e){return p.indexOf(e.key)===-1&&(!c||String(e.key).indexOf(String(c))>-1)}),a=a.concat(h.map(function(e){var t=e.key;return s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:t,key:t},t)})),c){var m=a.every(function(e){return(0,l.getValuePropValue)(e)!==c});m&&a.unshift(s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,value:c,key:c},c))}}return!a.length&&t&&i.notFoundContent&&(a=[s["default"].createElement(u.Item,{style:l.UNSELECTABLE_STYLE,attribute:l.UNSELECTABLE_ATTRIBUTE,disabled:!0,value:"NOT_FOUND",key:"NOT_FOUND"},i.notFoundContent)]),a}},e.exports=t["default"]},128:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Component);p.isSelectOptGroup=!0,t["default"]=p,e.exports=t["default"]},129:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t}(d["default"].Component);p.propTypes={value:d["default"].PropTypes.string},p.isSelectOption=!0,t["default"]=p,e.exports=t["default"]},130:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){return String((0,_.getPropValue)(t,this.props.optionFilterProp)).indexOf(e)>-1}function i(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(2),c=r(u),d=n(1),p=r(d),f=n(9),h=r(f),m=n(145),y=r(m),v=n(6),g=r(v),b=n(56),C=r(b),P=n(69),T=r(P),_=n(21),w=n(131),S=r(w),x=n(127),O=r(x),k=void 0;d.PropTypes&&(k=d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.shape({key:d.PropTypes.string,label:d.PropTypes.node})]));var E=p["default"].createClass({displayName:"Select",propTypes:{defaultActiveFirstOption:d.PropTypes.bool,multiple:d.PropTypes.bool,filterOption:d.PropTypes.any,children:d.PropTypes.any,showSearch:d.PropTypes.bool,disabled:d.PropTypes.bool,allowClear:d.PropTypes.bool,showArrow:d.PropTypes.bool,tags:d.PropTypes.bool,prefixCls:d.PropTypes.string,className:d.PropTypes.string,transitionName:d.PropTypes.string,optionLabelProp:d.PropTypes.string,optionFilterProp:d.PropTypes.string,animation:d.PropTypes.string,choiceTransitionName:d.PropTypes.string,onChange:d.PropTypes.func,onBlur:d.PropTypes.func,onFocus:d.PropTypes.func,onSelect:d.PropTypes.func,onSearch:d.PropTypes.func,placeholder:d.PropTypes.any,onDeselect:d.PropTypes.func,labelInValue:d.PropTypes.bool,value:d.PropTypes.oneOfType([k,d.PropTypes.arrayOf(k)]),defaultValue:d.PropTypes.oneOfType([k,d.PropTypes.arrayOf(k)]),dropdownStyle:d.PropTypes.object,maxTagTextLength:d.PropTypes.number,tokenSeparators:d.PropTypes.arrayOf(d.PropTypes.string),getInputElement:d.PropTypes.func},mixins:[O["default"]],getDefaultProps:function(){return{prefixCls:"rc-select",filterOption:o,defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",defaultValue:[],onChange:a,onFocus:a,onBlur:a,onSelect:a,onSearch:a,onDeselect:a,showArrow:!0,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found"}},getInitialState:function(){var e=this.props,t=[];t="value"in e?(0,_.toArray)(e.value):(0,_.toArray)(e.defaultValue),t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t);var n="";e.combobox&&(n=t.length?this.getLabelFromProps(e,t[0].key):""),this.saveInputRef=i.bind(this,"inputInstance"),this.saveInputMirrorRef=i.bind(this,"inputMirrorInstance");var r=e.open;return void 0===r&&(r=e.defaultOpen),{value:t,inputValue:n,open:r}},componentWillMount:function(){this.adjustOpenState()},componentWillReceiveProps:function(e){if("value"in e){var t=(0,_.toArray)(e.value);t=this.addLabelToValue(e,t),t=this.addTitleToValue(e,t),this.setState({value:t}),e.combobox&&this.setState({inputValue:t.length?this.getLabelFromProps(e,t[0].key):""})}},componentWillUpdate:function(e,t){this.props=e,this.state=t,this.adjustOpenState()},componentDidUpdate:function(){if((0,_.isMultipleOrTags)(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e.value?(e.style.width="",e.style.width=t.clientWidth+"px"):e.style.width=""}},componentWillUnmount:function(){this.clearBlurTime(),this.clearAdjustTimer(),this.dropdownContainer&&(h["default"].unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)},onInputChange:function(e){var t=this.props.tokenSeparators,n=e.target.value;if((0,_.isMultipleOrTags)(this.props)&&t&&(0,_.includesSeparators)(n,t)){var r=this.tokenize(n);return this.fireChange(r),this.setOpenState(!1,!0),void this.setInputValue("",!1)}this.setInputValue(n),this.setState({open:!0}),(0,_.isCombobox)(this.props)&&this.fireChange([{key:n}])},onDropdownVisibleChange:function(e){this.setOpenState(e)},onKeyDown:function(e){var t=this.props;if(!t.disabled){var n=e.keyCode;this.state.open&&!this.getInputDOMNode()?this.onInputKeyDown(e):n!==y["default"].ENTER&&n!==y["default"].DOWN||(this.setOpenState(!0),e.preventDefault())}},onInputKeyDown:function(e){var t=this.props;if(!t.disabled){var n=this.state,r=e.keyCode;if((0,_.isMultipleOrTags)(t)&&!e.target.value&&r===y["default"].BACKSPACE){e.preventDefault();var a=n.value;return void(a.length&&this.removeSelected(a[a.length-1].key))}if(r===y["default"].DOWN){if(!n.open)return this.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(r===y["default"].ESC)return void(n.open&&(this.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(n.open){var o=this.refs.trigger.getInnerMenu();o&&o.onKeyDown(e)&&(e.preventDefault(),e.stopPropagation())}}},onMenuSelect:function(e){var t=this,n=e.item,r=this.state.value,a=this.props,o=(0,_.getValuePropValue)(n),i=this.getLabelFromOption(n),s=o;a.labelInValue&&(s={key:s,label:i}),a.onSelect(s,n);var l=n.props.title;if((0,_.isMultipleOrTags)(a)){if((0,_.findIndexInValueByKey)(r,o)!==-1)return;r=r.concat([{key:o,label:i,title:l}])}else{if((0,_.isCombobox)(a)&&(this.skipAdjustOpen=!0,this.clearAdjustTimer(),this.skipAdjustOpenTimer=setTimeout(function(){t.skipAdjustOpen=!1},0)),r.length&&r[0].key===o)return void this.setOpenState(!1,!0);r=[{key:o,label:i,title:l}],this.setOpenState(!1,!0)}this.fireChange(r);var u=void 0;u=(0,_.isCombobox)(a)?(0,_.getPropValue)(n,a.optionLabelProp):"",this.setInputValue(u,!1)},onMenuDeselect:function(e){var t=e.item,n=e.domEvent;"click"===n.type&&this.removeSelected((0,_.getValuePropValue)(t)),this.setInputValue("",!1)},onArrowClick:function(e){e.stopPropagation(),this.props.disabled||this.setOpenState(!this.state.open,!this.state.open)},onPlaceholderClick:function(){this.getInputDOMNode()&&this.getInputDOMNode().focus()},onOuterFocus:function(e){((0,_.isMultipleOrTagsOrCombobox)(this.props)||e.target!==this.getInputDOMNode())&&(this.clearBlurTime(),this._focused=!0,this.updateFocusClassName(),this.props.onFocus())},onPopupFocus:function(){this.maybeFocus(!0,!0)},onOuterBlur:function(){var e=this;this.blurTimer=setTimeout(function(){e._focused=!1,e.updateFocusClassName();var t=e.props,n=e.state.value,r=e.state.inputValue;if((0,_.isSingleMode)(t)&&t.showSearch&&r&&t.defaultActiveFirstOption){var a=e._options||[];if(a.length){var o=(0,_.findFirstMenuItem)(a);o&&(n=[{key:o.key,label:e.getLabelFromOption(o)}],e.fireChange(n))}}else(0,_.isMultipleOrTags)(t)&&r&&(e.state.inputValue=e.getInputDOMNode().value="");t.onBlur(e.getVLForOnChange(n))},10)},onClearSelection:function(e){var t=this.props,n=this.state;if(!t.disabled){var r=n.inputValue,a=n.value;e.stopPropagation(),(r||a.length)&&(a.length&&this.fireChange([]),this.setOpenState(!1,!0),r&&this.setInputValue(""))}},onChoiceAnimationLeave:function(){this.refs.trigger.refs.trigger.forcePopupAlign()},getLabelBySingleValue:function(e,t){var n=this;if(void 0===t)return null;var r=null;return p["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var a=n.getLabelBySingleValue(e.props.children,t);null!==a&&(r=a)}else(0,_.getValuePropValue)(e)===t&&(r=n.getLabelFromOption(e))}),r},getValueByLabel:function(e,t){var n=this;if(void 0===t)return null;var r=null;return p["default"].Children.forEach(e,function(e){if(e.type.isSelectOptGroup){var a=n.getValueByLabel(e.props.children,t);null!==a&&(r=a)}else(0,_.toArray)(n.getLabelFromOption(e)).join("")===t&&(r=(0,_.getValuePropValue)(e))}),r},getLabelFromOption:function(e){return(0,_.getPropValue)(e,this.props.optionLabelProp)},getLabelFromProps:function(e,t){return this.getLabelByValue(e.children,t)},getVLForOnChange:function(e){var t=e;return void 0!==t?(t=this.props.labelInValue?t.map(function(e){return{key:e.key,label:e.label}}):t.map(function(e){return e.key}),(0,_.isMultipleOrTags)(this.props)?t:t[0]):t},getLabelByValue:function(e,t){var n=this.getLabelBySingleValue(e,t);return null===n?t:n},getDropdownContainer:function(){return this.dropdownContainer||(this.dropdownContainer=document.createElement("div"),document.body.appendChild(this.dropdownContainer)),this.dropdownContainer},getPlaceholderElement:function(){var e=this.props,t=this.state,n=!1;t.inputValue&&(n=!0),t.value.length&&(n=!0),(0,_.isCombobox)(e)&&1===t.value.length&&!t.value[0].key&&(n=!1);var r=e.placeholder;return r?p["default"].createElement("div",(0,c["default"])({onMouseDown:_.preventDefaultEvent,style:(0,c["default"])({display:n?"none":"block"},_.UNSELECTABLE_STYLE)},_.UNSELECTABLE_ATTRIBUTE,{onClick:this.onPlaceholderClick,className:e.prefixCls+"-selection__placeholder"}),r):null},getInputElement:function(){var e=this.props,t=e.getInputElement?e.getInputElement():p["default"].createElement("input",null),n=(0,g["default"])(t.props.className,(0,l["default"])({},e.prefixCls+"-search__field",!0));return p["default"].createElement("div",{className:e.prefixCls+"-search__field__wrap"},p["default"].cloneElement(t,{ref:this.saveInputRef,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,value:this.state.inputValue,disabled:e.disabled,className:n}),p["default"].createElement("span",{ref:this.saveInputMirrorRef,className:e.prefixCls+"-search__field__mirror"},this.state.inputValue))},getInputDOMNode:function(){return this.inputInstance},getInputMirrorDOMNode:function(){return this.inputMirrorInstance},getPopupDOMNode:function(){return this.refs.trigger.getPopupDOMNode()},getPopupMenuComponent:function(){return this.refs.trigger.getInnerMenu()},setOpenState:function(e,t){var n=this,r=this.props,a=this.state;if(a.open===e)return void this.maybeFocus(e,t);var o={open:e};!e&&(0,_.isSingleMode)(r)&&r.showSearch&&this.setInputValue(""),e||this.maybeFocus(e,t),this.setState(o,function(){e&&n.maybeFocus(e,t)})},setInputValue:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({inputValue:e}),t&&this.props.onSearch(e)},clearBlurTime:function(){this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},clearAdjustTimer:function(){this.skipAdjustOpenTimer&&(clearTimeout(this.skipAdjustOpenTimer),this.skipAdjustOpenTimer=null)},updateFocusClassName:function(){var e=this.refs,t=this.props;this._focused?(0,T["default"])(e.root).add(t.prefixCls+"-focused"):(0,T["default"])(e.root).remove(t.prefixCls+"-focused")},maybeFocus:function(e,t){if(t||e){var n=this.getInputDOMNode(),r=document,a=r.activeElement;if(n&&(e||(0,_.isMultipleOrTagsOrCombobox)(this.props)))a!==n&&n.focus();else{var o=this.refs.selection;a!==o&&o.focus()}}},addLabelToValue:function(e,t){var n=this,r=t;return e.labelInValue?r.forEach(function(t){t.label=t.label||n.getLabelFromProps(e,t.key)}):r=r.map(function(t){return{key:t,label:n.getLabelFromProps(e,t)}}),r},addTitleToValue:function(e,t){var n=this,r=t,a=t.map(function(e){return e.key});return p["default"].Children.forEach(e.children,function(e){if(e.type.isSelectOptGroup)r=n.addTitleToValue(e.props,r);else{var t=(0,_.getValuePropValue)(e),o=a.indexOf(t);o>-1&&(r[o].title=e.props.title)}}),r},removeSelected:function(e){var t=this.props;if(!t.disabled&&!this.isChildDisabled(e)){var n=void 0,r=this.state.value.filter(function(t){return t.key===e&&(n=t.label),t.key!==e}),a=(0,_.isMultipleOrTags)(t);if(a){var o=e;t.labelInValue&&(o={key:e,label:n}),t.onDeselect(o)}this.fireChange(r)}},openIfHasChildren:function(){var e=this.props;(p["default"].Children.count(e.children)||(0,_.isSingleMode)(e))&&this.setOpenState(!0)},fireChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(this.getVLForOnChange(e))},isChildDisabled:function(e){return(0,_.toArray)(this.props.children).some(function(t){var n=(0,_.getValuePropValue)(t);return n===e&&t.props&&t.props.disabled})},tokenize:function(e){var t=this,n=this.props,r=n.multiple,a=n.tokenSeparators,o=n.children,i=this.state.value;return(0,_.splitBySeparators)(e,a).forEach(function(e){var n={key:e,label:e};if((0,_.findIndexInValueByLabel)(i,e)===-1)if(r){var a=t.getValueByLabel(o,e);a&&(n.key=a,i=i.concat(n))}else i=i.concat(n)}),i},adjustOpenState:function(){if(!this.skipAdjustOpen){var e=this.state.open;"undefined"!=typeof document&&this.getInputDOMNode()&&document.activeElement===this.getInputDOMNode()&&(e=!0);var t=[];e&&(t=this.renderFilterOptions()),this._options=t,!e||!(0,_.isMultipleOrTagsOrCombobox)(this.props)&&this.props.showSearch||t.length||(e=!1),this.state.open=e}},renderTopControlNode:function(){var e=this,t=this.state,n=t.value,r=t.open,a=t.inputValue,o=this.props,i=o.choiceTransitionName,s=o.prefixCls,l=o.maxTagTextLength,u=o.showSearch,d=s+"-selection__rendered",f=null;if((0,_.isSingleMode)(o)){var h=null;if(n.length){var m=!1,y=1;u&&r?(m=!a,m&&(y=.4)):m=!0;var v=n[0];h=p["default"].createElement("div",{key:"value",className:s+"-selection-selected-value",title:v.title||v.label,style:{display:m?"block":"none",opacity:y}},n[0].label)}f=u?[h,p["default"].createElement("div",{className:s+"-search "+s+"-search--inline",key:"input",style:{display:r?"block":"none"}},this.getInputElement())]:[h]}else{var g=[];(0,_.isMultipleOrTags)(o)&&(g=n.map(function(t){var n=t.label,r=t.title||n;l&&"string"==typeof n&&n.length>l&&(n=n.slice(0,l)+"...");var a=e.isChildDisabled(t.key),o=a?s+"-selection__choice "+s+"-selection__choice__disabled":s+"-selection__choice";return p["default"].createElement("li",(0,c["default"])({style:_.UNSELECTABLE_STYLE},_.UNSELECTABLE_ATTRIBUTE,{onMouseDown:_.preventDefaultEvent,className:o,key:t.key,title:r}),p["default"].createElement("div",{className:s+"-selection__choice__content"},n),a?null:p["default"].createElement("span",{className:s+"-selection__choice__remove",onClick:e.removeSelected.bind(e,t.key)}))})),g.push(p["default"].createElement("li",{className:s+"-search "+s+"-search--inline",key:"__input"},this.getInputElement())),f=(0,_.isMultipleOrTags)(o)&&i?p["default"].createElement(C["default"],{onLeave:this.onChoiceAnimationLeave,component:"ul",transitionName:i},g):p["default"].createElement("ul",null,g)}return p["default"].createElement("div",{className:d},this.getPlaceholderElement(),f)},render:function(){var e,t=this.props,n=(0,_.isMultipleOrTags)(t),r=this.state,a=t.className,o=t.disabled,i=t.allowClear,s=t.prefixCls,u=this.renderTopControlNode(),d={},f=this.state.open,h=this._options;(0,_.isMultipleOrTagsOrCombobox)(t)||(d={onKeyDown:this.onKeyDown,tabIndex:0});var m=(e={},(0,l["default"])(e,a,!!a),(0,l["default"])(e,s,1),(0,l["default"])(e,s+"-open",f),(0,l["default"])(e,s+"-focused",f||!!this._focused),(0,l["default"])(e,s+"-combobox",(0,_.isCombobox)(t)),(0,l["default"])(e,s+"-disabled",o),(0,l["default"])(e,s+"-enabled",!o),(0,l["default"])(e,s+"-allow-clear",!!t.allowClear),e),y=(0,c["default"])({},_.UNSELECTABLE_STYLE,{display:"none"});(r.inputValue||r.value.length)&&(y.display="block");var v=p["default"].createElement("span",(0,c["default"])({key:"clear",onMouseDown:_.preventDefaultEvent,style:y},_.UNSELECTABLE_ATTRIBUTE,{className:s+"-selection__clear",onClick:this.onClearSelection}));return p["default"].createElement(S["default"],{onPopupFocus:this.onPopupFocus,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:h,multiple:n,disabled:o,visible:f,inputValue:r.inputValue,value:r.value,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,ref:"trigger"},p["default"].createElement("div",{style:t.style,ref:"root",onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,g["default"])(m)},p["default"].createElement("div",(0,c["default"])({ref:"selection",key:"selection",className:s+"-selection\n            "+s+"-selection--"+(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":f},d),u,i&&!n?v:null,n||!t.showArrow?null:p["default"].createElement("span",(0,c["default"])({key:"arrow",className:s+"-arrow",style:_.UNSELECTABLE_STYLE},_.UNSELECTABLE_ATTRIBUTE,{onClick:this.onArrowClick}),p["default"].createElement("b",null)))))}});t["default"]=E,e.exports=t["default"]},131:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(195),s=r(i),l=n(2),u=r(l),c=n(59),d=r(c),p=n(1),f=r(p),h=n(6),m=r(h),y=n(126),v=r(y),g=n(9),b=r(g),C=n(21),P={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},T=f["default"].createClass({displayName:"SelectTrigger",propTypes:{onPopupFocus:p.PropTypes.func,dropdownMatchSelectWidth:p.PropTypes.bool,dropdownAlign:p.PropTypes.object,visible:p.PropTypes.bool,disabled:p.PropTypes.bool,showSearch:p.PropTypes.bool,dropdownClassName:p.PropTypes.string,multiple:p.PropTypes.bool,inputValue:p.PropTypes.string,filterOption:p.PropTypes.any,options:p.PropTypes.any,prefixCls:p.PropTypes.string,popupClassName:p.PropTypes.string,children:p.PropTypes.any},componentDidUpdate:function(){var e=this.props,t=e.visible,n=e.dropdownMatchSelectWidth;if(t){var r=this.getPopupDOMNode();if(r){var a=n?"width":"minWidth";r.style[a]=b["default"].findDOMNode(this).offsetWidth+"px"}}},getInnerMenu:function(){return this.popupMenu&&this.popupMenu.refs.menu},getPopupDOMNode:function(){return this.refs.trigger.getPopupDomNode()},getDropdownElement:function(e){var t=this.props;return f["default"].createElement(v["default"],(0,u["default"])({ref:this.saveMenu},e,{prefixCls:this.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,value:t.value,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle}))},getDropdownTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=this.getDropdownPrefixCls()+"-"+e.animation),t},getDropdownPrefixCls:function(){return this.props.prefixCls+"-dropdown"},saveMenu:function(e){this.popupMenu=e},render:function(){var e,t=this.props,n=t.onPopupFocus,r=(0,s["default"])(t,["onPopupFocus"]),a=r.multiple,i=r.visible,l=r.inputValue,c=r.dropdownAlign,p=r.disabled,h=r.showSearch,y=r.dropdownClassName,v=this.getDropdownPrefixCls(),g=(e={},(0,o["default"])(e,y,!!y),(0,o["default"])(e,v+"--"+(a?"multiple":"single"),1),e),b=this.getDropdownElement({menuItems:r.options,onPopupFocus:n,multiple:a,inputValue:l,visible:i}),T=void 0;return T=p?[]:(0,C.isSingleMode)(r)&&!h?["click"]:["blur"],f["default"].createElement(d["default"],(0,u["default"])({},r,{showAction:p?[]:["click"],hideAction:T,ref:"trigger",popupPlacement:"bottomLeft",builtinPlacements:P,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:r.onDropdownVisibleChange,popup:b,popupAlign:c,popupVisible:i,getPopupContainer:r.getPopupContainer,popupClassName:(0,m["default"])(g),popupStyle:r.dropdownStyle}),r.children)}});t["default"]=T,e.exports=t["default"]},132:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptGroup=t.Option=void 0;var a=n(130),o=r(a),i=n(129),s=r(i),l=n(128),u=r(l);o["default"].Option=s["default"],o["default"].OptGroup=u["default"],t.Option=s["default"],t.OptGroup=u["default"],t["default"]=o["default"]},133:81,134:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={className:s.PropTypes.string,colSpan:s.PropTypes.number,title:s.PropTypes.node,dataIndex:s.PropTypes.string,width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),fixed:s.PropTypes.oneOf([!0,"left","right"]),render:s.PropTypes.func,onCellClick:s.PropTypes.func},t["default"]=l,e.exports=t["default"]},135:function(e,t,n){"use strict";function r(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t}(s.Component);l.propTypes={title:s.PropTypes.node},l.isTableColumnGroup=!0,t["default"]=l,e.exports=t["default"]},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),l=r(s),u=function(){function e(t,n){o(this,e),this._cached={},this.columns=t||this.normalize(n)}return e.prototype.isAnyColumnsFixed=function(){var e=this;return this._cache("isAnyColumnsFixed",function(){return e.columns.some(function(e){return!!e.fixed})})},e.prototype.isAnyColumnsLeftFixed=function(){var e=this;return this._cache("isAnyColumnsLeftFixed",function(){return e.columns.some(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.isAnyColumnsRightFixed=function(){var e=this;return this._cache("isAnyColumnsRightFixed",function(){return e.columns.some(function(e){return"right"===e.fixed})})},e.prototype.leftColumns=function(){var e=this;return this._cache("leftColumns",function(){return e.groupedColumns().filter(function(e){return"left"===e.fixed||e.fixed===!0})})},e.prototype.rightColumns=function(){var e=this;return this._cache("rightColumns",function(){return e.groupedColumns().filter(function(e){return"right"===e.fixed})})},e.prototype.leafColumns=function(){var e=this;return this._cache("leafColumns",function(){return e._leafColumns(e.columns)})},e.prototype.leftLeafColumns=function(){var e=this;return this._cache("leftLeafColumns",function(){return e._leafColumns(e.leftColumns());
})},e.prototype.rightLeafColumns=function(){var e=this;return this._cache("rightLeafColumns",function(){return e._leafColumns(e.rightColumns())})},e.prototype.groupedColumns=function(){var e=this;return this._cache("groupedColumns",function(){var t=function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];a[t]=a[t]||[];var o=[],s=function(e){var n=a.length-t;e&&!e.children&&n>1&&(!e.rowSpan||e.rowSpan<n)&&(e.rowSpan=n)};return e.forEach(function(l,u){var c=i({},l);a[t].push(c),r.colSpan=r.colSpan||0,c.children&&c.children.length>0?(c.children=n(c.children,t+1,c,a),r.colSpan=r.colSpan+c.colSpan):r.colSpan++;for(var d=0;d<a[t].length-1;++d)s(a[t][d]);u+1===e.length&&s(c),o.push(c)}),o};return t(e.columns)})},e.prototype.normalize=function(e){var t=this,n=[];return l["default"].Children.forEach(e,function(e){if(l["default"].isValidElement(e)){var r=i({},e.props);e.key&&(r.key=e.key),e.type.isTableColumnGroup&&(r.children=t.normalize(r.children)),n.push(r)}}),n},e.prototype.reset=function(e,t){this.columns=e||this.normalize(t),this._cached={}},e.prototype._cache=function(e,t){return e in this._cached?this._cached[e]:(this._cached[e]=t(),this._cached[e])},e.prototype._leafColumns=function(e){var t=this,n=[];return e.forEach(function(e){e.children?n.push.apply(n,a(t._leafColumns(e.children))):n.push(e)}),n},e}();t["default"]=u,e.exports=t["default"]},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(40),d=r(c),p=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,d["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.expandable,n=e.prefixCls,r=e.onExpand,a=e.needIndentSpaced,o=e.expanded,i=e.record;if(t){var s=o?"expanded":"collapsed";return u["default"].createElement("span",{className:n+"-expand-icon "+n+"-"+s,onClick:function(e){return r(!o,i,e)}})}return a?u["default"].createElement("span",{className:n+"-expand-icon "+n+"-spaced"}):null},t}(u["default"].Component);p.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandable:l.PropTypes.any,expanded:l.PropTypes.bool,needIndentSpaced:l.PropTypes.bool,onExpand:l.PropTypes.func},t["default"]=p,e.exports=t["default"]},138:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(141),f=r(p),h=n(140),m=r(h),y=n(143),v=n(40),g=r(v),b=n(77),C=r(b),P=n(136),T=r(P),_=n(142),w=r(_),S=n(69),x=r(S),O=function(e){function t(n){i(this,t);var r=s(this,e.call(this,n));r.onExpanded=function(e,t,n,a){n&&(n.preventDefault(),n.stopPropagation());var o=r.findExpandedRow(t);if("undefined"==typeof o||e){if(!o&&e){var i=r.getExpandedRows().concat();i.push(r.getRowKey(t,a)),r.onExpandedRowsChange(i)}}else r.onRowDestroy(t,a);r.props.onExpand(e,t)},r.onRowDestroy=function(e,t){var n=r.getExpandedRows().concat(),a=r.getRowKey(e,t),o=-1;n.forEach(function(e,t){e===a&&(o=t)}),o!==-1&&n.splice(o,1),r.onExpandedRowsChange(n)},r.handleWindowResize=function(){r.syncFixedTableRowHeight(),r.setScrollPositionClassName()},r.syncFixedTableRowHeight=function(){var e=r.tableNode.getBoundingClientRect();if(!(void 0!==e.height&&e.height<=0)){var t=r.props.prefixCls,n=r.refs.headTable?r.refs.headTable.querySelectorAll("thead"):r.refs.bodyTable.querySelectorAll("thead"),a=r.refs.bodyTable.querySelectorAll("."+t+"-row")||[],o=[].map.call(n,function(e){return e.getBoundingClientRect().height||"auto"}),i=[].map.call(a,function(e){return e.getBoundingClientRect().height||"auto"});(0,g["default"])(r.state.fixedColumnsHeadRowsHeight,o)&&(0,g["default"])(r.state.fixedColumnsBodyRowsHeight,i)||r.setState({fixedColumnsHeadRowsHeight:o,fixedColumnsBodyRowsHeight:i})}},r.detectScrollTarget=function(e){r.scrollTarget!==e.currentTarget&&(r.scrollTarget=e.currentTarget)},r.handleBodyScroll=function(e){if(e.target===r.scrollTarget){var t=r.props.scroll,n=void 0===t?{}:t,a=r.refs,o=a.headTable,i=a.bodyTable,s=a.fixedColumnsBodyLeft,l=a.fixedColumnsBodyRight;n.x&&e.target.scrollLeft!==r.lastScrollLeft&&(e.target===i&&o?o.scrollLeft=e.target.scrollLeft:e.target===o&&i&&(i.scrollLeft=e.target.scrollLeft),r.setScrollPositionClassName(e.target)),n.y&&(s&&e.target!==s&&(s.scrollTop=e.target.scrollTop),l&&e.target!==l&&(l.scrollTop=e.target.scrollTop),i&&e.target!==i&&(i.scrollTop=e.target.scrollTop)),r.lastScrollLeft=e.target.scrollLeft}},r.handleRowHover=function(e,t){r.store.setState({currentHoverKey:e?t:null})};var a=[],l=[].concat(o(n.data));if(r.columnManager=new T["default"](n.columns,n.children),r.store=(0,w["default"])({currentHoverKey:null}),r.setScrollPosition("left"),n.defaultExpandAllRows)for(var u=0;u<l.length;u++){var c=l[u];a.push(r.getRowKey(c,u)),l=l.concat(c[n.childrenColumnName]||[])}else a=n.expandedRowKeys||n.defaultExpandedRowKeys;return r.state={expandedRowKeys:a,currentHoverKey:null,fixedColumnsHeadRowsHeight:[],fixedColumnsBodyRowsHeight:[]},r}return l(t,e),t.prototype.componentDidMount=function(){this.columnManager.isAnyColumnsFixed()&&(this.handleWindowResize(),this.debouncedWindowResize=(0,y.debounce)(this.handleWindowResize,150),this.resizeEvent=(0,C["default"])(window,"resize",this.debouncedWindowResize))},t.prototype.componentWillReceiveProps=function(e){"expandedRowKeys"in e&&this.setState({expandedRowKeys:e.expandedRowKeys}),e.columns&&e.columns!==this.props.columns?this.columnManager.reset(e.columns):e.children!==this.props.children&&this.columnManager.reset(null,e.children)},t.prototype.componentDidUpdate=function(e){this.columnManager.isAnyColumnsFixed()&&this.handleWindowResize(),e.data.length>0&&0===this.props.data.length&&this.hasScrollX()&&this.resetScrollX()},t.prototype.componentWillUnmount=function(){this.resizeEvent&&this.resizeEvent.remove(),this.debouncedWindowResize&&this.debouncedWindowResize.cancel()},t.prototype.onExpandedRowsChange=function(e){this.props.expandedRowKeys||this.setState({expandedRowKeys:e}),this.props.onExpandedRowsChange(e)},t.prototype.getRowKey=function(e,t){var n=this.props.rowKey,r="function"==typeof n?n(e,t):e[n];return(0,y.warningOnce)(void 0!==r,"Each record in table should have a unique `key` prop,or set `rowKey` to an unique primary key."),void 0===r?t:r},t.prototype.getExpandedRows=function(){return this.props.expandedRowKeys||this.state.expandedRowKeys},t.prototype.getHeader=function(e,t){var n=this.props,r=n.showHeader,a=n.expandIconAsCell,o=n.prefixCls,i=this.getHeaderRows(e);a&&"right"!==t&&i[0].unshift({key:"rc-table-expandIconAsCell",className:o+"-expand-icon-th",title:"",rowSpan:i.length});var s=t?this.getHeaderRowStyle(e,i):null;return r?d["default"].createElement(m["default"],{prefixCls:o,rows:i,rowStyle:s}):null},t.prototype.getHeaderRows=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2];return r=r||[],r[n]=r[n]||[],e.forEach(function(e){if(e.rowSpan&&r.length<e.rowSpan)for(;r.length<e.rowSpan;)r.push([]);var a={key:e.key,className:e.className||"",children:e.title};e.children&&t.getHeaderRows(e.children,n+1,r),"colSpan"in e&&(a.colSpan=e.colSpan),"rowSpan"in e&&(a.rowSpan=e.rowSpan),0!==a.colSpan&&r[n].push(a)}),r.filter(function(e){return e.length>0})},t.prototype.getExpandedRow=function(e,t,n,r,a){var o=this.props,i=o.prefixCls,s=o.expandIconAsCell,l=void 0;l="left"===a?this.columnManager.leftLeafColumns().length:"right"===a?this.columnManager.rightLeafColumns().length:this.columnManager.leafColumns().length;var u=[{key:"extra-row",render:function(){return{props:{colSpan:l},children:"right"!==a?t:"&nbsp;"}}}];return s&&"right"!==a&&u.unshift({key:"expand-icon-placeholder",render:function(){return null}}),d["default"].createElement(f["default"],{columns:u,visible:n,className:r,key:e+"-extra-row",prefixCls:i+"-expanded-row",indent:1,expandable:!1,store:this.store})},t.prototype.getRowsByData=function(e,t,n,r,a){for(var o=this.props,i=o.childrenColumnName,s=o.expandedRowRender,l=o.expandRowByClick,c=this.state.fixedColumnsBodyRowsHeight,p=[],h=o.rowClassName,m=o.rowRef,y=o.expandedRowClassName,v=o.data.some(function(e){return e[i]}),g=o.onRowClick,b=o.onRowDoubleClick,C="right"!==a&&o.expandIconAsCell,P="right"!==a?o.expandIconColumnIndex:-1,T=0;T<e.length;T++){var _=e[T],w=this.getRowKey(_,T),S=_[i],x=this.isRowExpanded(_,T),O=void 0;s&&x&&(O=s(_,T,n));var k=h(_,T,n),E={};this.columnManager.isAnyColumnsFixed()&&(E.onHover=this.handleRowHover);var M=a&&c[T]?c[T]:null,D=void 0;D="left"===a?this.columnManager.leftLeafColumns():"right"===a?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),p.push(d["default"].createElement(f["default"],u({indent:n,indentSize:o.indentSize,needIndentSpaced:v,className:k,record:_,expandIconAsCell:C,onDestroy:this.onRowDestroy,index:T,visible:t,expandRowByClick:l,onExpand:this.onExpanded,expandable:S||s,expanded:x,prefixCls:o.prefixCls+"-row",childrenColumnName:i,columns:D,expandIconColumnIndex:P,onRowClick:g,onRowDoubleClick:b,height:M},E,{key:w,hoverKey:w,ref:m(_,T,n),store:this.store})));var N=t&&x;O&&x&&p.push(this.getExpandedRow(w,O,N,y(_,T,n),a)),S&&(p=p.concat(this.getRowsByData(S,N,n+1,r,a)))}return p},t.prototype.getRows=function(e,t){return this.getRowsByData(this.props.data,!0,0,e,t)},t.prototype.getColGroup=function(e,t){var n=[];this.props.expandIconAsCell&&"right"!==t&&n.push(d["default"].createElement("col",{className:this.props.prefixCls+"-expand-icon-col",key:"rc-table-expand-icon-col"}));var r=void 0;return r="left"===t?this.columnManager.leftLeafColumns():"right"===t?this.columnManager.rightLeafColumns():this.columnManager.leafColumns(),n=n.concat(r.map(function(e){return d["default"].createElement("col",{key:e.key,style:{width:e.width,minWidth:e.width}})})),d["default"].createElement("colgroup",null,n)},t.prototype.getLeftFixedTable=function(){return this.getTable({columns:this.columnManager.leftColumns(),fixed:"left"})},t.prototype.getRightFixedTable=function(){return this.getTable({columns:this.columnManager.rightColumns(),fixed:"right"})},t.prototype.getTable=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.columns,r=t.fixed,a=this.props,o=a.prefixCls,i=a.scroll,s=void 0===i?{}:i,l=a.getBodyWrapper,c=this.props.useFixedHeader,p=u({},this.props.bodyStyle),f={},h="";(s.x||r)&&(h=o+"-fixed",p.overflowX=p.overflowX||"auto");var m={};if(s.y){r?(m.maxHeight=p.maxHeight||s.y,m.overflowY=p.overflowY||"scroll"):p.maxHeight=p.maxHeight||s.y,p.overflowY=p.overflowY||"scroll",c=!0;var v=(0,y.measureScrollbar)();v>0&&((r?p:f).marginBottom="-"+v+"px",(r?p:f).paddingBottom="0px")}var g=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={};!r&&s.x&&(s.x===!0?i.tableLayout="fixed":i.width=s.x);var u=a?l(d["default"].createElement("tbody",{className:o+"-tbody"},e.getRows(n,r))):null;return d["default"].createElement("table",{className:h,style:i,key:"table"},e.getColGroup(n,r),t?e.getHeader(n,r):null,u)},b=void 0;c&&(b=d["default"].createElement("div",{key:"headTable",className:o+"-header",ref:r?null:"headTable",style:f,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!0,!1)));var C=d["default"].createElement("div",{key:"bodyTable",className:o+"-body",style:p,ref:"bodyTable",onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c));if(r&&n.length){var P=void 0;"left"===n[0].fixed||n[0].fixed===!0?P="fixedColumnsBodyLeft":"right"===n[0].fixed&&(P="fixedColumnsBodyRight"),delete p.overflowX,delete p.overflowY,C=d["default"].createElement("div",{key:"bodyTable",className:o+"-body-outer",style:u({},p)},d["default"].createElement("div",{className:o+"-body-inner",style:m,ref:P,onMouseOver:this.detectScrollTarget,onTouchStart:this.detectScrollTarget,onScroll:this.handleBodyScroll},g(!c)))}return[b,C]},t.prototype.getTitle=function(){var e=this.props,t=e.title,n=e.prefixCls;return t?d["default"].createElement("div",{className:n+"-title",key:"title"},t(this.props.data)):null},t.prototype.getFooter=function(){var e=this.props,t=e.footer,n=e.prefixCls;return t?d["default"].createElement("div",{className:n+"-footer",key:"footer"},t(this.props.data)):null},t.prototype.getEmptyText=function(){var e=this.props,t=e.emptyText,n=e.prefixCls,r=e.data;return r.length?null:d["default"].createElement("div",{className:n+"-placeholder",key:"emptyText"},t())},t.prototype.getHeaderRowStyle=function(e,t){var n=this.state.fixedColumnsHeadRowsHeight,r=n[0];return r&&e?"auto"===r?{height:"auto"}:{height:r/t.length}:null},t.prototype.setScrollPosition=function(e){if(this.scrollPosition=e,this.tableNode){var t=this.props.prefixCls;"both"===e?(0,x["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-left").add(t+"-scroll-position-right"):(0,x["default"])(this.tableNode).remove(new RegExp("^"+t+"-scroll-position-.+$")).add(t+"-scroll-position-"+e)}},t.prototype.setScrollPositionClassName=function(e){var t=e||this.refs.bodyTable,n=0===t.scrollLeft,r=t.scrollLeft+1>=t.children[0].getBoundingClientRect().width-t.getBoundingClientRect().width;n&&r?this.setScrollPosition("both"):n?this.setScrollPosition("left"):r?this.setScrollPosition("right"):"middle"!==this.scrollPosition&&this.setScrollPosition("middle")},t.prototype.resetScrollX=function(){this.refs.headTable&&(this.refs.headTable.scrollLeft=0),this.refs.bodyTable&&(this.refs.bodyTable.scrollLeft=0)},t.prototype.findExpandedRow=function(e,t){var n=this,r=this.getExpandedRows().filter(function(r){return r===n.getRowKey(e,t)});return r[0]},t.prototype.isRowExpanded=function(e,t){return"undefined"!=typeof this.findExpandedRow(e,t)},t.prototype.hasScrollX=function(){var e=this.props.scroll,t=void 0===e?{}:e;return"x"in t},t.prototype.render=function(){var e=this,t=this.props,n=t.prefixCls,r=t.prefixCls;t.className&&(r+=" "+t.className),(t.useFixedHeader||t.scroll&&t.scroll.y)&&(r+=" "+n+"-fixed-header"),r+="both"===this.scrollPosition?" "+n+"-scroll-position-left "+n+"-scroll-position-right":" "+n+"-scroll-position-"+this.scrollPosition;var a=this.columnManager.isAnyColumnsFixed()||t.scroll.x||t.scroll.y,o=[this.getTable({columns:this.columnManager.groupedColumns()}),this.getEmptyText(),this.getFooter()],i=a?d["default"].createElement("div",{className:n+"-scroll"},o):o;return d["default"].createElement("div",{ref:function(t){return e.tableNode=t},className:r,style:t.style},this.getTitle(),d["default"].createElement("div",{className:n+"-content"},i,this.columnManager.isAnyColumnsLeftFixed()&&d["default"].createElement("div",{className:n+"-fixed-left"},this.getLeftFixedTable()),this.columnManager.isAnyColumnsRightFixed()&&d["default"].createElement("div",{className:n+"-fixed-right"},this.getRightFixedTable())))},t}(d["default"].Component);O.propTypes={data:c.PropTypes.array,expandIconAsCell:c.PropTypes.bool,defaultExpandAllRows:c.PropTypes.bool,expandedRowKeys:c.PropTypes.array,defaultExpandedRowKeys:c.PropTypes.array,useFixedHeader:c.PropTypes.bool,columns:c.PropTypes.array,prefixCls:c.PropTypes.string,bodyStyle:c.PropTypes.object,style:c.PropTypes.object,rowKey:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.func]),rowClassName:c.PropTypes.func,expandedRowClassName:c.PropTypes.func,childrenColumnName:c.PropTypes.string,onExpand:c.PropTypes.func,onExpandedRowsChange:c.PropTypes.func,indentSize:c.PropTypes.number,onRowClick:c.PropTypes.func,onRowDoubleClick:c.PropTypes.func,expandIconColumnIndex:c.PropTypes.number,showHeader:c.PropTypes.bool,title:c.PropTypes.func,footer:c.PropTypes.func,emptyText:c.PropTypes.func,scroll:c.PropTypes.object,rowRef:c.PropTypes.func,getBodyWrapper:c.PropTypes.func,children:c.PropTypes.node},O.defaultProps={data:[],useFixedHeader:!1,expandIconAsCell:!1,defaultExpandAllRows:!1,defaultExpandedRowKeys:[],rowKey:"key",rowClassName:function(){return""},expandedRowClassName:function(){return""},onExpand:function(){},onExpandedRowsChange:function(){},onRowClick:function(){},onRowDoubleClick:function(){},prefixCls:"rc-table",bodyStyle:{},style:{},childrenColumnName:"children",indentSize:15,expandIconColumnIndex:0,showHeader:!0,scroll:{},rowRef:function(){return null},getBodyWrapper:function(e){return e},emptyText:function(){return"No Data"}},t["default"]=O,e.exports=t["default"]},139:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(204),d=r(c),p=function(e){function t(){var n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props,n=t.record,a=t.column.onCellClick;a&&a(n,e)},a=n,i(r,a)}return s(t,e),t.prototype.isInvalidRenderCellText=function(e){return e&&!u["default"].isValidElement(e)&&"[object Object]"===Object.prototype.toString.call(e)},t.prototype.render=function n(){var e=this.props,t=e.record,r=e.indentSize,a=e.prefixCls,o=e.indent,i=e.index,s=e.expandIcon,l=e.column,c=l.dataIndex,n=l.render,p=l.className,f=void 0===p?"":p,h=void 0;h="number"==typeof c?(0,d["default"])(t,c):c&&0!==c.length?(0,d["default"])(t,c):t;var m=void 0,y=void 0,v=void 0;n&&(h=n(h,t,i),this.isInvalidRenderCellText(h)&&(m=h.props||{},v=m.rowSpan,y=m.colSpan,h=h.children)),this.isInvalidRenderCellText(h)&&(h=null);var g=s?u["default"].createElement("span",{style:{paddingLeft:r*o+"px"},className:a+"-indent indent-level-"+o}):null;return 0===v||0===y?null:u["default"].createElement("td",{colSpan:y,rowSpan:v,className:f,onClick:this.handleClick},g,s,h)},t}(u["default"].Component);p.propTypes={record:l.PropTypes.object,prefixCls:l.PropTypes.string,index:l.PropTypes.number,indent:l.PropTypes.number,indentSize:l.PropTypes.number,column:l.PropTypes.object,expandIcon:l.PropTypes.node},t["default"]=p,e.exports=t["default"]},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),c=r(u),d=n(40),p=r(d),f=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,p["default"])(e,this.props)},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.rowStyle,r=e.rows;return c["default"].createElement("thead",{className:t+"-thead"},r.map(function(e,t){return c["default"].createElement("tr",{key:t,style:n},e.map(function(e,t){return c["default"].createElement("th",l({},e,{key:t}))}))}))},t}(c["default"].Component);f.propTypes={prefixCls:u.PropTypes.string,rowStyle:u.PropTypes.object,rows:u.PropTypes.array},t["default"]=f,e.exports=t["default"]},141:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(139),d=r(c),p=n(137),f=r(p),h=function(e){function t(){var n,r,a;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.state={hovered:!1},r.onRowClick=function(e){var t=r.props,n=t.record,a=t.index,o=t.onRowClick,i=t.expandable,s=t.expandRowByClick,l=t.expanded,u=t.onExpand;i&&s&&u(!l,n,e,a),o(n,a,e)},r.onRowDoubleClick=function(e){var t=r.props,n=t.record,a=t.index,o=t.onRowDoubleClick;o(n,a,e)},r.onMouseEnter=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!0,n)},r.onMouseLeave=function(){var e=r.props,t=e.onHover,n=e.hoverKey;t(!1,n)},a=n,i(r,a)}return s(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.store,r=t.hoverKey;this.unsubscribe=n.subscribe(function(){n.getState().currentHoverKey===r?e.setState({hovered:!0}):e.state.hovered===!0&&e.setState({hovered:!1})})},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.record,n=e.onDestroy,r=e.index;n(t,r),this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,n=e.columns,r=e.record,a=e.height,o=e.visible,i=e.index,s=e.expandIconColumnIndex,l=e.expandIconAsCell,c=e.expanded,p=e.expandRowByClick,h=e.expandable,m=e.onExpand,y=e.needIndentSpaced,v=e.indent,g=e.indentSize,b=this.props.className;this.state.hovered&&(b+=" "+t+"-hover");for(var C=[],P=u["default"].createElement(f["default"],{expandable:h,prefixCls:t,onExpand:m,needIndentSpaced:y,expanded:c,record:r}),T=0;T<n.length;T++){l&&0===T&&C.push(u["default"].createElement("td",{className:t+"-expand-icon-cell",key:"rc-table-expand-icon-cell"},P));var _=!l&&!p&&T===s;C.push(u["default"].createElement(d["default"],{prefixCls:t,record:r,indentSize:g,indent:v,index:i,column:n[T],key:n[T].key,expandIcon:_?P:null}))}var w={height:a};return o||(w.display="none"),u["default"].createElement("tr",{onClick:this.onRowClick,onDoubleClick:this.onRowDoubleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:t+" "+b+" "+t+"-level-"+v,style:w},C)},t}(u["default"].Component);h.propTypes={onDestroy:l.PropTypes.func,onRowClick:l.PropTypes.func,onRowDoubleClick:l.PropTypes.func,record:l.PropTypes.object,prefixCls:l.PropTypes.string,expandIconColumnIndex:l.PropTypes.number,onHover:l.PropTypes.func,columns:l.PropTypes.array,height:l.PropTypes.oneOfType([l.PropTypes.string,l.PropTypes.number]),visible:l.PropTypes.bool,index:l.PropTypes.number,hoverKey:l.PropTypes.any,expanded:l.PropTypes.bool,expandable:l.PropTypes.any,onExpand:l.PropTypes.func,needIndentSpaced:l.PropTypes.bool,className:l.PropTypes.string,indent:l.PropTypes.number,indentSize:l.PropTypes.number,expandIconAsCell:l.PropTypes.bool,expandRowByClick:l.PropTypes.bool,store:l.PropTypes.object.isRequired},h.defaultProps={onRowClick:function(){},onRowDoubleClick:function(){},onDestroy:function(){},expandIconColumnIndex:0,expandRowByClick:!1,onHover:function(){}},t["default"]=h,e.exports=t["default"]},142:function(e,t){"use strict";function n(e){function t(e){o=r({},o,e);for(var t=0;t<i.length;t++)i[t]()}function n(){return o}function a(e){return i.push(e),function(){var t=i.indexOf(e);i.splice(t,1)}}var o=e,i=[];return{setState:t,getState:n,subscribe:a}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){if("undefined"==typeof document||"undefined"==typeof window)return 0;if(u)return u;var e=document.createElement("div");for(var t in c)c.hasOwnProperty(t)&&(e.style[t]=c[t]);document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),u=n}function o(e,t,n){function r(){var r=this,o=arguments;o[0]&&o[0].persist&&o[0].persist();var i=function(){a=null,n||e.apply(r,o)},s=n&&!a;clearTimeout(a),a=setTimeout(i,t),s&&e.apply(r,o)}var a=void 0;return r.cancel=function(){a&&(clearTimeout(a),a=null)},r}function i(e,t,n){d[t]||((0,l["default"])(e,t,n),d[t]=!e)}Object.defineProperty(t,"__esModule",{value:!0}),t.measureScrollbar=a,t.debounce=o,t.warningOnce=i;var s=n(81),l=r(s),u=void 0,c={position:"absolute",top:"-9999px",width:"50px",height:"50px",overflow:"scroll"},d={}},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=[];return i["default"].Children.forEach(e,function(e){t.push(e)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o);e.exports=t["default"]},145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229};n.isTextModifyingKeyEvent=function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},n.isCharacterKey=function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(window.navigation.userAgent.indexOf("WebKit")!==-1&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},t["default"]=n,e.exports=t["default"]},153:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(26),n(20)),o=r(a),i=(n(23),n(11)),s=r(i),l=(n(25),n(147)),u=r(l),c=(n(35),n(27)),d=r(c),p=n(2),f=r(p),h=n(3),m=r(h),y=n(5),v=r(y),g=n(4),b=r(g),C=n(1),P=r(C),T=n(9),_=r(T),w=n(159),S=r(w),x=function(e){function t(n){(0,m["default"])(this,t);var r=(0,v["default"])(this,e.call(this,n));r.handleSearch=function(){var e={keyword:_["default"].findDOMNode(r.refs.searchInput).value};r.props.select&&(e.field=r.state.selectValue),r.props.onSearch&&r.props.onSearch(e)},r.handleInputChange=function(e){r.setState((0,f["default"])({},r.state,{clearVisible:""!==e.target.value}))},r.handeleSelectChange=function(e){r.setState((0,f["default"])({},r.state,{selectValue:e}))},r.handleClearInput=function(){_["default"].findDOMNode(r.refs.searchInput).value="",r.setState({clearVisible:!1}),r.handleSearch()};var a=r.props,o=a.select,i=a.selectProps;return r.state={clearVisible:!1,selectValue:o&&i?i.defaultValue:""},r}return(0,b["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.size,n=e.select,r=e.selectOptions,a=e.selectProps,i=e.style,l=e.keyword,c=this.state.clearVisible;return P["default"].createElement(u["default"].Group,{compact:!0,size:t,className:S["default"].search,style:i},n&&P["default"].createElement(d["default"],(0,f["default"])({ref:"searchSelect",onChange:this.handeleSelectChange,size:t},a),r&&r.map(function(e,t){return P["default"].createElement(d["default"].Option,{value:e.value,key:t},e.name||e.value)})),P["default"].createElement(u["default"],{ref:"searchInput",size:t,onChange:this.handleInputChange,onPressEnter:this.handleSearch,defaultValue:l}),P["default"].createElement(o["default"],{
size:t,type:"primary",onClick:this.handleSearch},P["default"].createElement(s["default"],{type:"search"}),"\u641c\u7d22"),c&&P["default"].createElement(s["default"],{type:"cross",onClick:this.handleClearInput}))},t}(P["default"].Component);t["default"]=x,e.exports=t["default"]},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(165),s=n(160),l=(r(s),[{opacity:0,x:30,backgroundColor:"#fffeee",duration:0},{height:0,duration:200,type:"from",delay:250,ease:"easeOutQuad",onComplete:function(e){e.target.style.height="auto"}},{opacity:1,x:0,duration:250,ease:"easeOutQuad"},{delay:1e3,backgroundColor:"#fff"}]),u=[{duration:250,x:-30,opacity:0},{height:0,duration:200,ease:"easeOutQuad"}],c=function(e){var t=e.body,n=e.page,r=void 0===n?1:n,a=e.current;return a!=+r?t:o["default"].createElement(i.TweenOneGroup,{component:"tbody",className:t.props.className,enter:l,leave:u,appear:!1},t.props.children)};c.propTypes={page:a.PropTypes.any,current:a.PropTypes.number.isRequired},t["default"]=c,e.exports=t["default"]},158:function(e,t,n){"use strict";function r(){this.clear()}/*!
	 * Check to see if the MemoizeMap has recorded a result of the two operands
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @returns {Boolean|null} result
	*/
function a(e,t,n){if(!n||C(e)||C(t))return null;var r=n.get(e);if(r){var a=r.get(t);if("boolean"==typeof a)return a}return null}/*!
	 * Set the result of the equality into the MemoizeMap
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {MemoizeMap} memoizeMap
	 * @param {Boolean} result
	*/
function o(e,t,n,r){if(n&&!C(e)&&!C(t)){var a=n.get(e);a?a.set(t,r):(a=new T,a.set(t,r),n.set(e,a))}}function i(e,t,n){if(n&&n.comparator)return l(e,t,n);var r=s(e,t);return null!==r?r:l(e,t,n)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t||!C(e)&&!C(t)&&null}/*!
	 * The main logic of the `deepEqual` function.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (optional) Additional options
	 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
	 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
	    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
	    references to blow the stack.
	 * @return {Boolean} equal match
	*/
function l(e,t,n){n=n||{},n.memoize=n.memoize!==!1&&(n.memoize||new T);var r=n&&n.comparator,i=a(e,t,n.memoize);if(null!==i)return i;var l=a(t,e,n.memoize);if(null!==l)return l;if(r){var c=r(e,t);if(c===!1||c===!0)return o(e,t,n.memoize,c),c;var d=s(e,t);if(null!==d)return d}var p=P(e);if(p!==P(t))return o(e,t,n.memoize,!1),!1;o(e,t,n.memoize,!0);var f=u(e,t,p,n);return o(e,t,n.memoize,f),f}function u(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return i(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return p(e,t,r);case"RegExp":return c(e,t);case"Generator":return f(e,t,r);case"DataView":return p(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return p(new Uint8Array(e),new Uint8Array(t),r);case"Set":return d(e,t,r);case"Map":return d(e,t,r);default:return b(e,t,r)}}/*!
	 * Compare two Regular Expressions for equality.
	 *
	 * @param {RegExp} leftHandOperand
	 * @param {RegExp} rightHandOperand
	 * @return {Boolean} result
	 */
function c(e,t){return e.toString()===t.toString()}/*!
	 * Compare two Sets/Maps for equality. Faster than other equality functions.
	 *
	 * @param {Set} leftHandOperand
	 * @param {Set} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function d(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var r=[],a=[];return e.forEach(function(e,t){r.push([e,t])}),t.forEach(function(e,t){a.push([e,t])}),p(r.sort(),a.sort(),n)}/*!
	 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function p(e,t,n){var r=e.length;if(r!==t.length)return!1;if(0===r)return!0;for(var a=-1;++a<r;)if(i(e[a],t[a],n)===!1)return!1;return!0}/*!
	 * Simple equality for generator objects such as those returned by generator functions.
	 *
	 * @param {Iterable} leftHandOperand
	 * @param {Iterable} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function f(e,t,n){return p(y(e),y(t),n)}/*!
	 * Determine if the given object has an @@iterator function.
	 *
	 * @param {Object} target
	 * @return {Boolean} `true` if the object has an @@iterator function.
	 */
function h(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&"undefined"!=typeof Symbol.iterator&&"function"==typeof e[Symbol.iterator]}/*!
	 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
	 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of entries from the @@iterator function
	 */
function m(e){if(h(e))try{return y(e[Symbol.iterator]())}catch(t){return[]}return[]}/*!
	 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
	 *
	 * @param {Generator} target
	 * @returns {Array} an array of entries from the Generator.
	 */
function y(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}/*!
	 * Gets all own and inherited enumerable keys from a target.
	 *
	 * @param {Object} target
	 * @returns {Array} an array of own and inherited enumerable keys from the target.
	 */
function v(e){var t=[];for(var n in e)t.push(n);return t}/*!
	 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
	 * each key. If any value of the given key is not equal, the function will return false (early).
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function g(e,t,n,r){var a=n.length;if(0===a)return!0;for(var o=0;o<a;o+=1)if(i(e[n[o]],t[n[o]],r)===!1)return!1;return!0}/*!
	 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
	 * for each enumerable key in the object.
	 *
	 * @param {Mixed} leftHandOperand
	 * @param {Mixed} rightHandOperand
	 * @param {Object} [options] (Optional)
	 * @return {Boolean} result
	 */
function b(e,t,n){var r=v(e),a=v(t);if(r.length&&r.length===a.length)return r.sort(),a.sort(),p(r,a)!==!1&&g(e,t,r,n);var o=m(e),i=m(t);return o.length&&o.length===i.length?(o.sort(),i.sort(),p(o,i,n)):0===r.length&&0===o.length&&0===a.length&&0===i.length}/*!
	 * Returns true if the argument is a primitive.
	 *
	 * This intentionally returns true for all objects that can be compared by reference,
	 * including functions and symbols.
	 *
	 * @param {Mixed} value
	 * @return {Boolean} result
	 */
function C(e){return null===e||"object"!=typeof e}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var P=n(173);r.prototype={clear:function(){return this.keys=[],this.values=[],this},set:function(e,t){var n=this.keys.indexOf(e);return n>=0?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},get:function(e){return this.values[this.keys.indexOf(e)]},"delete":function(e){var t=this.keys.indexOf(e);return t>=0&&(this.values=this.values.slice(0,t).concat(this.values.slice(t+1)),this.keys=this.keys.slice(0,t).concat(this.keys.slice(t+1))),this}};var T=null;T="function"==typeof WeakMap?WeakMap:r,/*!
	 * Primary Export
	 */
e.exports=i,e.exports.MemoizeMap=T},159:function(e,t){e.exports={search:"search___p04KN"}},160:10,163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){return{duration:e.duration||0===e.duration?e.duration:y,delay:e.delay||v,ease:"function"==typeof e.ease?e.ease:l["default"][e.ease||m],onUpdate:e.onUpdate||a,onComplete:e.onComplete||a,onStart:e.onStart||a,onRepeat:e.onRepeat||a,repeat:e.repeat||0,repeatDelay:e.repeatDelay||0,yoyo:e.yoyo||!1,type:e.type||"to",initTime:t,appearTo:"number"==typeof e.appearTo?e.appearTo:null}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(66),l=r(s),u=n(39),c=r(u),d=n(166),p=r(d),f=n(41),h=n(22),m="easeInOutQuad",y=450,v=0;c["default"].push(p["default"]);var g=function(e,t,n){var r=this;this.target=e,this.attr=n.attr||"style",this.willChange=n.willChange,this.totalTime=0,this.progressTime=0,this.defaultData=[],this.start={},this.onStart={},this.startDefaultData={};var a=[];t.forEach(function(e,t){var n=i({},e);"style"===r.attr?(a[t]={},Object.keys(n).forEach(function(e){e in o({},0)&&(a[t][e]=n[e],delete n[e])}),a[t].style=n,r.startDefaultData.style=r.target.getAttribute("style")):"attr"===r.attr&&(Object.keys(n).forEach(function(t){if("style"===t&&Array.isArray(e[t]))throw new Error("Style should be the object.");"bezier"===t?(n.style=i({},n.style,{bezier:n[t]}),delete n[t],r.startDefaultData.style=r.target.getAttribute("style")):r.startDefaultData[t]=r.target.getAttribute(t)}),a[t]=n)}),this.tween={},this.perFrame=Math.round(1e3/60),this.register=!1,this.tinyNum=1e-10,this.setDefaultData(a)},b=g.prototype;b.setDefaultData=function(e){var t=this,n=0,r=!1,a=e.map(function(e){var a="number"==typeof e.appearTo;a||(n+=e.delay||0);var i=(e.appearTo||0)+(e.delay||0),s=o(e,a?i:n);s.vars={},Object.keys(e).forEach(function(n){if(!(n in s)){var r=e[n];if(n in c["default"])s.vars[n]=new c["default"][n](t.target,r,s.type);else if(n.match(/color/i)||"stroke"===n||"fill"===n)s.vars[n]={type:"color",vars:(0,f.parseColor)(r)};else if("number"==typeof r||r.split(/[,|\s]/g).length<=1){var a=parseFloat(r),o=r.toString().replace(/[^a-z|%]/g,""),i=r.toString().replace(/[^+|=|-]/g,"");s.vars[n]={unit:o,vars:a,count:i}}else("d"===n||"points"===n)&&"SVGMorph"in c["default"]&&(s.vars[n]=new c["default"].SVGMorph(t.target,r,n))}}),s.yoyo&&!s.repeat&&console.warn("Warning: yoyo must be used together with repeat;"),s.repeat===-1&&(r=!0);var l=s.repeat===-1?0:s.repeat;if(a){var u=e.appearTo+(e.delay||0)+s.duration*(l+1)+s.repeatDelay*l;n=u>=n?u:n}else s.delay<-s.duration?n-=s.delay:n+=s.duration*(l+1)+s.repeatDelay*l;return s.mode="",s});this.totalTime=r?Number.MAX_VALUE:n,this.defaultData=a},b.getAnimStartData=function(e){var t=this,n={};return Object.keys(e).forEach(function(r){if(r in c["default"]||"attr"===t.attr&&("d"===r||"points"===r))return void(n[r]=e[r].getAnimStart(t.willChange));if("attr"!==t.attr)n[r]=t.target[r]||0;else{var a=t.target.getAttribute(r),o="null"!==a&&a?a:0;if(r.match(/color/i)||"stroke"===r||"fill"===r)o=o||"stroke"!==r?o:"rgba(255, 255, 255, 0)",o=(0,f.parseColor)(o),n[r]=o;else if(parseFloat(o)||0===parseFloat(o)||0===o){var i=o.toString().replace(/[^a-z|%]/g,"");n[r]=i!==e[r].unit?(0,h.startConvertToEndUnit)(t.target,r,parseFloat(o),i,e[r].unit):parseFloat(o)}}}),n},b.setAnimData=function(e){var t=this;Object.keys(e).forEach(function(n){n in c["default"]||"attr"===t.attr&&("d"===n||"points"===n)||(t.target[n]=e[n])})},b.setRatio=function(e,t,n){var r=this;Object.keys(t.vars).forEach(function(a){if(a in c["default"]||"attr"===r.attr&&("d"===a||"points"===a))return void t.vars[a].setRatio(e,r.tween);var o=t.vars[a],i=r.start[n][a],s=void 0;"attr"===r.attr&&(o.type?"color"===o.type&&(3===o.vars.length&&4===i.length&&(o.vars[3]=1),s=o.vars.map(function(t,n){var r=i[n]||0;return(t-r)*e+r}),r.target.setAttribute(a,(0,f.getColor)(s))):(s="="===o.unit.charAt(1)?i+o.vars*e+o.unit:(o.vars-i)*e+i+o.unit,r.target.setAttribute(a,s)))}),this.setAnimData(this.tween)},b.render=function(){var e=this;this.defaultData.forEach(function(t,n){var r=t.initTime,a=(0,f.toFixed)(t.duration),o=Math.ceil((e.progressTime-r)/(a+t.repeatDelay))-1;if(o=o<0?0:o,t.repeat){if(t.repeat<o&&t.repeat!==-1)return;(t.repeat||t.repeat<=o)&&(r+=o*(a+t.repeatDelay))}var s=t.yoyo&&o%2||"from"===t.type?1:0,l=t.yoyo&&o%2||"from"===t.type?0:1,u=(0,f.toFixed)(e.progressTime-r),c=t.delay>=0?t.delay:-t.delay,d="from"===t.type?c:0;if(u+d>-e.perFrame&&!e.start[n]&&(e.start[n]=e.getAnimStartData(t.vars),!e.register&&u<=e.perFrame)){e.register=!0;var p=c?0:t.ease(e.tinyNum,s,l,e.tinyNum),h=a?t.ease(u<0?0:u,s,l,a):p,m=u/(a+d)>1?1:h;e.setRatio(m,t,n)}var y={index:n,target:e.target};if(t.repeat&&o>0&&u+d>=0&&u<e.perFrame&&t.onRepeat(y),u<0&&u+d>-e.perFrame)e.setRatio("from"===t.type?1:0,t,n);else if(u>=a&&"onComplete"!==t.mode){var v=a?t.ease(a,s,l,a):t.ease(e.tinyNum,s,l,e.tinyNum);e.setRatio(v,t,n),"reset"!==t.mode&&t.onComplete(y),t.mode="onComplete"}else if(u>=0&&u<a){t.mode=u<e.perFrame&&!e.onStart[n]?"onStart":"onUpdate",u=u<0?0:u,u=u>a?a:u;var g=t.ease(u,s,l,a);e.setRatio(g,t,n),e.onStart[n]=!0,u<=e.perFrame?t.onStart(y):t.onUpdate(i({ratio:g},y))}u>=0&&u<a+e.perFrame&&e.onChange(i({moment:e.progressTime,mode:t.mode},y))})},b.frame=function(e){this.progressTime=e,this.render()},b.resetAnimData=function(){this.tween={},this.start={},this.onStart={}},b.resetDefaultStyle=function(){var e=this;this.tween={},this.defaultData=this.defaultData.map(function(e){return e.mode="reset",e}),Object.keys(this.startDefaultData).forEach(function(t){t in o({},0)||e.target.setAttribute(t,e.startDefaultData[t])})},b.onChange=a,t["default"]=g,e.exports=t["default"]},164:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):a(e,t))}function l(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),d=r(c),p=n(65),f=r(p),h=n(22),m=function(e){function t(){o(this,t);var n=i(this,e.apply(this,arguments));y.call(n),n.keysToEnter=[],n.keysToLeave=[],n.onEnterBool=!1,n.isTween={};var r=(0,h.toArrayChildren)((0,h.getChildrenFromProps)(n.props));return n.state={children:r},n}return s(t,e),t.prototype.componentDidMount=function(){this.onEnterBool=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=(0,h.toArrayChildren)(e.children),r=(0,h.toArrayChildren)(this.state.children),a=(0,h.mergeChildren)(r,n);this.keysToEnter=[],this.keysToLeave=[],n.forEach(function(e){if(e){var n=e.key,a=(0,h.findChildInChildrenByKey)(r,n);!a&&n&&t.keysToEnter.push(n)}}),r.forEach(function(e){if(e){var r=e.key,a=(0,h.findChildInChildrenByKey)(n,r);!a&&r&&t.keysToLeave.push(r)}}),this.setState({children:a})},t.prototype.render=function(){var e=this.getChildrenToRender(this.state.children);if(!this.props.component)return e[0]||null;var t=u({},this.props);return["component","appear","enter","leave","animatingClassName","onEnd","resetStyleBool","willChange"].forEach(function(e){return delete t[e]}),(0,c.createElement)(this.props.component,t,e)},t}(c.Component),y=function(){var e=this;this.onChange=function(t,n,r,a){var o=(0,h.dataToArray)(t).length,i=e.props.animatingClassName,s=a.target,l="enter"===r||"appear"===r;if("onStart"===a.mode)s.className=s.className.replace(i[l?1:0],"").trim(),s.className.indexOf(i[l?0:1])===-1&&(s.className=(s.className+" "+i[l?0:1]).trim());else if(a.index===o-1&&"onComplete"===a.mode){var u=e.state.children;"enter"===r?e.keysToEnter.splice(e.keysToEnter.indexOf(n),1):"leave"===r&&(u=e.state.children.filter(function(e){return n!==e.key}),e.keysToLeave.splice(e.keysToLeave.indexOf(n),1)),s.className=s.className.replace(i[l?0:1],"").trim(),delete e.isTween[n],e.setState({children:u});var c={key:n,type:r};e.props.onEnd(c)}},this.getCoverAnimation=function(t,n,r){var a=void 0,o=void 0;if(a="leave"===r?e.props.leave:e.props.enter,"appear"===r){var i=(0,h.transformArguments)(e.props.appear,t.key,n);a=i&&e.props.enter||null}o=e.onChange.bind(e,a,t.key,r);var s=d["default"].createElement(f["default"],u({},t.props,{willChange:e.props.willChange,key:t.key,component:t.type,animation:(0,h.transformArguments)(a,t.key,n),onChange:o,resetStyleBool:e.props.resetStyleBool}));return(e.keysToEnter.concat(e.keysToLeave).indexOf(t.key)>=0||!e.onEnterBool&&a)&&(e.isTween[t.key]=r),s},this.getChildrenToRender=function(t){return t.map(function(t,n){if(!t||!t.key)return t;var r=t.key;return e.keysToLeave.indexOf(r)>=0?e.getCoverAnimation(t,n,"leave"):e.keysToEnter.indexOf(r)>=0||e.isTween[t.key]&&e.keysToLeave.indexOf(r)===-1?e.getCoverAnimation(t,n,"enter"):e.onEnterBool?e.isTween[t.key]&&e.getCoverAnimation(t,n,e.isTween[t.key])||d["default"].createElement(f["default"],u({},t.props,{component:t.type,key:t.key})):e.getCoverAnimation(t,n,"appear")})}},v=c.PropTypes.oneOfType([c.PropTypes.object,c.PropTypes.array]),g=c.PropTypes.oneOfType([v,c.PropTypes.func]);m.propTypes={component:c.PropTypes.any,children:c.PropTypes.any,style:c.PropTypes.object,appear:c.PropTypes.bool,enter:g,leave:g,animatingClassName:c.PropTypes.array,onEnd:c.PropTypes.func,willChange:c.PropTypes.bool,resetStyleBool:c.PropTypes.bool},m.defaultProps={component:"div",appear:!0,animatingClassName:["tween-one-entering","tween-one-leaving"],enter:{x:50,opacity:0,type:"from"},leave:{x:-50,opacity:0},onEnd:l,willChange:!0,resetStyleBool:!0},t["default"]=m,e.exports=t["default"]},165:function(e,t,n){"use strict";var r=n(65);r.TweenOneGroup=n(164),r.easing=n(66),e.exports=r},166:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(41),i=r(o),s=n(22),l=n(39),u=r(l),c=function(e,t,n){this.target=e,this.vars=t,this.type=n,this.propsData={},this.setDefaultData()},d=c.prototype={name:"style"};d.getComputedStyle=function(){return document.defaultView?document.defaultView.getComputedStyle(this.target):{}},d.getTweenData=function(e,t){var n={data:{},dataType:{},dataUnit:{},dataCount:{},dataSplitStr:{}};if(e.match(/colo|fill|storker/i)?(n.data[e]=(0,o.parseColor)(t),n.dataType[e]="color"):e.match(/shadow/i)?(n.data[e]=(0,o.parseShadow)(t),n.dataType[e]="shadow"):"string"==typeof t&&t.split(/[\s|,]/).length>1?(n.data[e]=t.split(/[\s|,]/),n.dataSplitStr[e]=t.replace(/[^\s|,]/g,""),n.dataType[e]="string"):(n.data[e]=t,n.dataType[e]="other"),Array.isArray(n.data[e]))n.dataUnit[e]=n.data[e].map(function(e){return e.toString().replace(/[^a-z|%]/g,"")}),n.dataCount[e]=n.data[e].map(function(e){return e.toString().replace(/[^+|=|-]/g,"")}),n.data[e]=n.data[e].map(function(e){return parseFloat(e)||0===parseFloat(e)?parseFloat(e):e});else{n.dataUnit[e]=n.data[e].toString().replace(/[^a-z|%]/g,""),n.dataCount[e]=n.data[e].toString().replace(/[^+|=|-]/g,"");var r=parseFloat(n.data[e].toString().replace(/[a-z|%|=]/g,""));n.data[e]=r||0===r?r:n.data[e]}return n},d.setDefaultData=function(){var e=this;this.propsData.data={},this.propsData.dataType={},this.propsData.dataUnit={},this.propsData.dataCount={},this.propsData.dataSplitStr={},Object.keys(this.vars).forEach(function(t){if(t in u["default"])return void(e.propsData.data[t]=new u["default"][t](e.target,e.vars[t]));var n=(0,o.getGsapType)(t),r=e.getTweenData(n,e.vars[t]);e.propsData.data[n]=r.data[n],e.propsData.dataType[n]=r.dataType[n],e.propsData.dataUnit[n]=r.dataUnit[n],e.propsData.dataCount[n]=r.dataCount[n],r.dataSplitStr[n]&&(e.propsData.dataSplitStr[n]=r.dataSplitStr[n])})},d.convertToMarksArray=function(e,t,n,r){var a=n.toString().replace(/[^a-z|%]/g,""),o=e[r];return a===o?parseFloat(n):parseFloat(n)||0===parseFloat(n)?(0,s.startConvertToEndUnit)(this.target,t,n,a,o,null,"transformOrigin"===t&&!r):n},d.getAnimStart=function(e){var t=this,n=this.getComputedStyle(),r={};this.supports3D=(0,o.checkStyleName)("perspective");var i=void 0;return e&&(this.willChange="auto"!==n.willChange&&n.willChange&&"none"!==n.willChange?n.willChange:"",i=this.willChange.split(",").filter(function(e){return e})),Object.keys(this.propsData.data).forEach(function(l){var c=(0,o.isConvert)(l);if(e){var d=l in u["default"]?t.propsData.data[l].useStyle||c:c;d="transformOrigin"===d?"transform-origin":d,i.indexOf(d)===-1&&(d in n||l in u["default"])&&i.push(d),t.willChange=i.join(",")}var p=n[c],f="fixed"===n.position;p&&"none"!==p&&"auto"!==p||(p="");var h=void 0,m=void 0,y=void 0;if(l in u["default"])"bezier"===l&&(t.transform=(0,o.checkStyleName)("transform"),p=n[t.transform],r.transform=r.transform||(0,o.getTransform)(p)),t.propsData.data[l].getAnimStart();else if("transform"===c){if(t.transform=(0,o.checkStyleName)("transform"),p=n[t.transform],m=t.propsData.dataUnit[l],h=r.transform||(0,o.getTransform)(p),m&&m.match(/%|vw|vh|em|rem/i)){var v="translateX"===l?"xPercent":"yPercent";h[v]=(0,s.startConvertToEndUnit)(t.target,l,h[l],null,m),h[l]=0}r.transform=h}else"filter"===c?(t.filterName=(0,o.checkStyleName)("filter")||"filter",p=n[t.filterName],t.filterObject=a({},t.filterObject,(0,o.splitFilterToObject)(p)),p=t.filterObject[l]||0,y=p.toString().replace(/[^a-z|%]/g,""),m=t.propsData.dataUnit[l],m!==y&&(p=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(p),y,m,f)),r[l]=parseFloat(p)):l.match(/color|fill/i)||"stroke"===l?(p=p||"stroke"!==l?p:"rgba(255, 255, 255, 0)",r[c]=(0,o.parseColor)(p)):l.match(/shadow/i)?(p=(0,o.parseShadow)(p),m=t.propsData.dataUnit[l],p=p.map(t.convertToMarksArray.bind(t,m,l)),r[c]=p):Array.isArray(t.propsData.data[l])?(p=p.split(/[\s|,]/),m=t.propsData.dataUnit[l],p=p.map(t.convertToMarksArray.bind(t,m,l)),r[c]=p):(m=t.propsData.dataUnit[c],y=p.toString().replace(/[^a-z|%]/g,""),m!==y&&(p=(0,s.startConvertToEndUnit)(t.target,c,parseFloat(p),y,m,f)),r[c]=parseFloat(p||0))}),this.start=r,r},d.setArrayRatio=function(e,t,n,r,a){"color"===a&&4===t.length&&3===n.length&&(n[3]=1);var i=t.indexOf("inset")>=0,s=n.indexOf("inset")>=0;if(i&&!s||s&&!i)throw console.error('Error: "box-shadow" inset have to exist');var l=s?9:8;t.length===l&&n.length===l-1?(n.splice(3,0,0),r.splice(3,0,"")):n.length===l&&t.length===l-1&&t.splice(3,0,0);var u=n.map(function(n,o){var i="color"!==a||3!==o||t[o]?0:1,s="number"==typeof t[o]?t[o]:i;return"string"==typeof n?n:(n-s)*e+s+(r[o]||0)});if("color"===a)return(0,o.getColor)(u);if("shadow"===a){var c=u.length===l?4:3,d=u.slice(0,c).map(function(e){return"number"==typeof e?e+"px":e}),p=u.slice(c,s?u.length-1:u.length),f=(0,o.getColor)(p);return(d.join(" ")+" "+f+" "+(s?"inset":"")).trim()}return u},d.setRatio=function(e,t){var n=this;t.style=t.style||{},this.start.transform&&(t.style.transform=t.style.transform||a({},this.start.transform));var r=this.target.style;this.willChange&&(e===("from"===this.type?0:1)?r.willChange=null:r.willChange=this.willChange),Object.keys(this.propsData.data).forEach(function(a){var l="transform"===(0,o.isTransform)(a),c=l?n.start.transform[a]:n.start[a],d=n.propsData.data[a],p=n.propsData.dataUnit[a],f=n.propsData.dataCount[a];if(a in u["default"])return n.propsData.data[a].setRatio(e,t),void("bezier"===a?r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D):Object.keys(t.style).forEach(function(e){return r[e]=t.style[e]}));if(l){if(p&&p.match(/%|vw|vh|em|rem/i)){var h="translateX"===a?"xPercent":"yPercent";c=n.start.transform[h],"="===f.charAt(1)?t.style.transform[h]=c+d*e+p:t.style.transform[h]=(d-c)*e+c+p}else if("scale"===a){var m=n.start.transform.scaleX,y=n.start.transform.scaleY;"="===f.charAt(1)?(t.style.transform.scaleX=m+d*e,t.style.transform.scaleY=y+d*e):(t.style.transform.scaleX=(d-m)*e+m,t.style.transform.scaleY=(d-y)*e+y)}return"="===f.charAt(1)?t.style.transform[a]=c+d*e:t.style.transform[a]=(d-c)*e+c,void(r[n.transform]=(0,s.getTransformValue)(t.style.transform,n.supports3D))}if(Array.isArray(d)){var v=n.propsData.dataType[a];t.style[a]=n.setArrayRatio(e,c,d,p,v),"string"===v&&(t.style[a]=t.style[a].join(n.propsData.dataSplitStr[a]))}else{var g=(0,o.stylesToCss)(a,0);g="number"==typeof g?"":g.replace(/[^a-z|%]/g,""),p=p||(i["default"].filter.indexOf(a)>=0?"":g),"string"==typeof d?t.style[a]=d:"="===f.charAt(1)?t.style[a]=c+d*e+p:t.style[a]=(d-c)*e+c+p}if(i["default"].filter.indexOf(a)>=0){if(!n.filterObject)return;n.filterObject[a]=t.style[a];var b="";return Object.keys(n.filterObject).forEach(function(e){b+=" "+e+"("+n.filterObject[e]+")"}),void(r[n.filterName]=b.trim())}r[a]=t.style[a]})},t["default"]=c,e.exports=t["default"]},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(76),o=r(a),i=function(){},s=i.prototype={tickFnObject:{},id:-1,tweenId:0,frame:0,perFrame:Math.round(1e3/60),getTime:Date.now||function(){return(new Date).getTime()},elapsed:0,lastUpdate:0,skipFrameMax:166};s.add=function(e){var t="tweenOne"+this.tweenId;return this.tweenId++,this.wake(t,e),t},s.wake=function(e,t){this.tickFnObject[e]=t,this.id===-1&&(this.id=(0,o["default"])(this.tick))},s.clear=function(e){delete this.tickFnObject[e]},s.sleep=function(){o["default"].cancel(this.id),this.id=-1,this.frame=0};var l=new i;s.tick=function(e){l.elapsed=l.lastUpdate?l.getTime()-l.lastUpdate:0,l.lastUpdate=l.lastUpdate?l.lastUpdate+l.elapsed:l.getTime()+l.elapsed;var t=l.tickFnObject;return Object.keys(t).forEach(function(n){t[n]&&t[n](e)}),Object.keys(t).length?(l.elapsed>l.skipFrameMax||!l.frame?l.frame++:l.frame+=Math.round(l.elapsed/l.perFrame),void(l.id=(0,o["default"])(l.tick))):void l.sleep()};var u=0;s.timeout=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function");var r="timeout"+Date.now()+"-"+u,a=this.frame;return this.wake(r,function(){var o=(n.frame-a)*n.perFrame;o>=(t||0)&&(n.clear(r),e())}),u++,r};var c=0;s.interval=function(e,t){var n=this;if("function"!=typeof e)return console.warn("Is no function"),null;var r="interval"+Date.now()+"-"+c,a=this.frame;return this.wake(r,function(){var r=(n.frame-a)*n.perFrame;r>=(t||0)&&(a=n.frame,e())}),c++,r},t["default"]=l,e.exports=t["default"]},172:function(e,t){"use strict";var n={linear:function(e,t,n,r){var a=n-t;return a*e/r+t},easeInQuad:function(e,t,n,r){var a=n-t;return a*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){var a=n-t;return-a*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e+t:-a/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){var a=n-t;return-a*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e+t:-a/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){var a=n-t;return a*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){var a=n-t;return a*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?a/2*e*e*e*e*e+t:a/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var a=n-t;return-a*Math.cos(e/r*(Math.PI/2))+a+t},easeOutSine:function(e,t,n,r){var a=n-t;return a*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){var a=n-t;return-a/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var a=n-t;return 0==e?t:a*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var a=n-t;return e==r?t+a:a*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){var a=n-t;return 0===e?t:e===r?t+a:(e/=r/2)<1?a/2*Math.pow(2,10*(e-1))+t:a/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){var a=n-t;return-a*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){var a=n-t;return a*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var a=n-t;return(e/=r/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+t:a/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:1===(e/=r)?t+s:(o||(o=.3*r),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:1===(e/=r)?t+s:(o||(o=.3*r),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*r-i)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var a,o,i,s=n-t;return i=1.70158,o=0,a=s,0===e?t:2===(e/=r/2)?t+s:(o||(o=r*(.3*1.5)),a<Math.abs(s)?(a=s,i=o/4):i=o/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),o*(e/=r)*e*((a+1)*e-a)+t},easeOutBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),o*((e=e/r-1)*e*((a+1)*e+a)+1)+t},easeInOutBack:function(e,t,n,r,a){var o=n-t;return void 0===a&&(a=1.70158),(e/=r/2)<1?o/2*(e*e*(((a*=1.525)+1)*e-a))+t:o/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+t},easeInBounce:function(e,t,r,a){var o,i=r-t;return o=n.easeOutBounce(a-e,0,i,a),i-o+t},easeOutBounce:function(e,t,n,r){var a=n-t;return(e/=r)<1/2.75?a*(7.5625*e*e)+t:e<2/2.75?a*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?a*(7.5625*(e-=2.25/2.75)*e+.9375)+t:a*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,r,a){var o,i=r-t;return e<a/2?(o=n.easeInBounce(2*e,0,i,a),.5*o+t):(o=n.easeOutBounce(2*e-a,0,i,a),.5*o+.5*i+t)}};e.exports=n},173:function(e,t){(function(t){"use strict";var n="function"==typeof Object.getPrototypeOf,r="function"==typeof Promise,a="undefined"!=typeof window?window:"undefined"!=typeof t?t:self,o="location"in a&&"document"in a,i="undefined"!=typeof HTMLElement,s="function"==typeof Array.isArray,l="undefined"!=typeof Symbol,u="undefined"!=typeof Map,c="undefined"!=typeof Set,d="undefined"!=typeof WeakMap,p="undefined"!=typeof WeakSet,f="undefined"!=typeof DataView,h=l&&"undefined"!=typeof Symbol.iterator,m=l&&"undefined"!=typeof Symbol.toStringTag,y=c&&"function"==typeof Set.prototype.entries,v=u&&"function"==typeof Map.prototype.entries,g=n&&y&&Object.getPrototypeOf((new Set).entries()),b=n&&v&&Object.getPrototypeOf((new Map).entries()),C=h&&"function"==typeof Array.prototype[Symbol.iterator],P=C&&Object.getPrototypeOf([][Symbol.iterator]()),T=h&&"function"==typeof Array.prototype[Symbol.iterator],_=T&&Object.getPrototypeOf(""[Symbol.iterator]()),w=8,S=-1;e.exports=function(e){var t=typeof e;if("object"!==t)return t;if(null===e)return"null";if(e===a)return"global";if(s&&Array.isArray(e))return"Array";if(o){if(e===a.location)return"Location";if(e===a.document)return"Document";if(e===(a.navigator||{}).mimeTypes)return"MimeTypeArray";if(e===(a.navigator||{}).plugins)return"PluginArray";if(i&&e instanceof HTMLElement&&"BLOCKQUOTE"===e.tagName)return"HTMLQuoteElement";if(i&&e instanceof HTMLElement&&"TD"===e.tagName)return"HTMLTableDataCellElement";if(i&&e instanceof HTMLElement&&"TH"===e.tagName)return"HTMLTableHeaderCellElement"}var l=m&&e[Symbol.toStringTag];if("string"==typeof l)return l;if(n){var h=Object.getPrototypeOf(e);if(h===RegExp.prototype)return"RegExp";if(h===Date.prototype)return"Date";if(r&&h===Promise.prototype)return"Promise";if(c&&h===Set.prototype)return"Set";if(u&&h===Map.prototype)return"Map";if(p&&h===WeakSet.prototype)return"WeakSet";if(d&&h===WeakMap.prototype)return"WeakMap";if(f&&h===DataView.prototype)return"DataView";if(u&&h===b)return"Map Iterator";if(c&&h===g)return"Set Iterator";if(C&&h===P)return"Array Iterator";if(T&&h===_)return"String Iterator";if(null===h)return"Object"}return Object.prototype.toString.call(e).slice(w,S)},e.exports.typeDetect=e.exports}).call(t,function(){return this}())},187:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,r){var a=t&&t.antLocale&&t.antLocale[n]?t.antLocale[n]:r(),o=(0,s["default"])({},a,e.locale);return o.lang=(0,s["default"])({},a.lang,e.locale.lang),o}function o(e){var t=e.antLocale&&e.antLocale.locale;return e.antLocale&&e.antLocale.exist&&!t?"zh-cn":t}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLocale=a,t.getLocaleCode=o;var i=n(8),s=r(i)},207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(380),s=r(i);t["default"]={propTypes:{className:o.PropTypes.string,locale:o.PropTypes.object,style:o.PropTypes.object,visible:o.PropTypes.bool,onSelect:o.PropTypes.func,prefixCls:o.PropTypes.string,onChange:o.PropTypes.func,onOk:o.PropTypes.func},getDefaultProps:function(){return{locale:s["default"],style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:a,onChange:a,onClear:a,renderFooter:function(){return null},renderSidebar:function(){return null}}},shouldComponentUpdate:function(e){return this.props.visible||e.visible},getFormat:function(){var e=this.props.format,t=this.props,n=t.locale,r=t.timePicker;return e||(e=r?n.dateTimeFormat:n.dateFormat),e},focus:function(){this.refs.root&&this.refs.root.focus()}},e.exports=t["default"]},208:297,250:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(262),s=r(i),l=n(261),u=r(l),c=n(207),d=r(c),p=n(208),f=r(p),h=o["default"].createClass({displayName:"MonthCalendar",propTypes:{monthCellRender:a.PropTypes.func,dateCellRender:a.PropTypes.func},mixins:[d["default"],u["default"]],onKeyDown:function(e){var t=e.keyCode,n=e.ctrlKey||e.metaKey,r=this.state.value,a=r;switch(t){case f["default"].DOWN:a=r.clone(),a.add(3,"months");break;case f["default"].UP:a=r.clone(),a.add(-3,"months");break;case f["default"].LEFT:a=r.clone(),n?a.add(-1,"years"):a.add(-1,"months");break;case f["default"].RIGHT:a=r.clone(),n?a.add(1,"years"):a.add(1,"months");break;case f["default"].ENTER:return this.onSelect(r),e.preventDefault(),1;default:return}if(a!==r)return this.setValue(a),e.preventDefault(),1},render:function(){var e=this.props,t=o["default"].createElement(s["default"],{locale:e.locale,disabledDate:e.disabledDate,style:{position:"relative"},value:this.state.value,cellRender:e.monthCellRender,contentRender:e.monthCellContentRender,rootPrefixCls:e.prefixCls,onChange:this.setValue,onSelect:this.onSelect});return this.renderRoot({children:t})}});t["default"]=h,e.exports=t["default"]},251:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t){this[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),l=n(9),u=r(l),c=n(384),d=r(c),p=n(208),f=r(p),h=n(382),m=r(h),y=n(59),v=r(y),g=s["default"].createClass({displayName:"Picker",propTypes:{animation:i.PropTypes.oneOfType([i.PropTypes.func,i.PropTypes.string]),disabled:i.PropTypes.bool,transitionName:i.PropTypes.string,onChange:i.PropTypes.func,onOpenChange:i.PropTypes.func,children:i.PropTypes.func,getCalendarContainer:i.PropTypes.func,calendar:i.PropTypes.element,style:i.PropTypes.object,open:i.PropTypes.bool,defaultOpen:i.PropTypes.bool,prefixCls:i.PropTypes.string,placement:i.PropTypes.any,value:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.array]),defaultValue:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.array]),align:i.PropTypes.object},getDefaultProps:function(){return{prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:a,onOpenChange:a}},getInitialState:function(){var e=this.props,t=void 0;t="open"in e?e.open:e.defaultOpen;var n=e.value||e.defaultValue;return this.saveCalendarRef=o.bind(this,"calendarInstance"),{open:t,value:n}},componentWillReceiveProps:function(e){var t=e.value,n=e.open;"value"in e&&this.setState({value:t}),void 0!==n&&this.setState({open:n})},componentDidUpdate:function(e,t){!t.open&&this.state.open&&this.focusCalendar()},onCalendarKeyDown:function(e){e.keyCode===f["default"].ESC&&(e.stopPropagation(),this.close(this.focus))},onCalendarSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props;"value"in n||this.setState({value:e}),("keyboard"===t.source||!n.calendar.props.timePicker&&"dateInput"!==t.source||"todayButton"===t.source)&&this.close(this.focus),n.onChange(e)},onKeyDown:function(e){e.keyCode!==f["default"].DOWN||this.state.open||(this.open(),e.preventDefault())},onCalendarOk:function(){this.close(this.focus)},onCalendarClear:function(){this.close(this.focus)},onVisibleChange:function(e){this.setOpen(e)},getCalendarElement:function(){var e=this.props,t=this.state,n=e.calendar.props,r=t.value,a=void 0;a=Array.isArray(r)?r[0]:r;var o={ref:this.saveCalendarRef,defaultValue:a||n.defaultValue,selectedValue:r,onKeyDown:this.onCalendarKeyDown,onOk:(0,d["default"])(n.onOk,this.onCalendarOk),onSelect:(0,d["default"])(n.onSelect,this.onCalendarSelect),onClear:(0,d["default"])(n.onClear,this.onCalendarClear)};return s["default"].cloneElement(e.calendar,o)},setOpen:function(e,t){var n=this.props.onOpenChange;this.state.open!==e&&("open"in this.props||this.setState({open:e},t),n(e))},open:function(e){this.setOpen(!0,e)},close:function(e){this.setOpen(!1,e)},focus:function(){this.state.open||u["default"].findDOMNode(this).focus()},focusCalendar:function(){this.state.open&&null!==this.calendarInstance&&this.calendarInstance.focus()},render:function(){var e=this.props,t=e.prefixCls,n=e.placement,r=e.style,a=e.getCalendarContainer,o=e.align,i=e.animation,l=e.disabled,u=e.transitionName,c=e.children,d=this.state;return s["default"].createElement(v["default"],{popup:this.getCalendarElement(),popupAlign:o,builtinPlacements:m["default"],popupPlacement:n,action:l&&!d.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:a,popupStyle:r,popupAnimation:i,popupTransitionName:u,popupVisible:d.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:t},s["default"].cloneElement(c(d,e),{onKeyDown:this.onKeyDown}))}});t["default"]=g,e.exports=t["default"]},252:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.props.value.clone();t.add(e,"months"),this.props.onValueChange(t)}function o(e){var t=this.props.value.clone();t.add(e,"years"),this.props.onValueChange(t)}function i(e,t){return e?t:null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=r(s),u=n(262),c=r(u),d=n(263),p=r(d),f=n(264),h=r(f),m=l["default"].createClass({displayName:"CalendarHeader",propTypes:{enablePrev:s.PropTypes.any,enableNext:s.PropTypes.any,prefixCls:s.PropTypes.string,showTimePicker:s.PropTypes.bool,locale:s.PropTypes.object,value:s.PropTypes.object,onValueChange:s.PropTypes.func},getDefaultProps:function(){return{enableNext:1,enablePrev:1}},getInitialState:function(){return this.nextMonth=a.bind(this,1),this.previousMonth=a.bind(this,-1),this.nextYear=o.bind(this,1),this.previousYear=o.bind(this,-1),
{}},onSelect:function(e){this.setState({showMonthPanel:0,showYearPanel:0}),this.props.onValueChange(e)},monthYearElement:function(e){var t=this.props,n=t.prefixCls,r=t.locale,a=t.value,o=r.monthBeforeYear,i=n+"-"+(o?"my-select":"ym-select"),s=l["default"].createElement("a",{className:n+"-year-select",role:"button",onClick:e?null:this.showYearPanel,title:r.yearSelect},a.format(r.yearFormat)),u=l["default"].createElement("a",{className:n+"-month-select",role:"button",onClick:e?null:this.showMonthPanel,title:r.monthSelect},a.format(r.monthFormat)),c=void 0;e&&(c=l["default"].createElement("a",{className:n+"-day-select",role:"button"},a.format(r.dayFormat)));var d=[];return d=o?[u,c,s]:[s,u,c],l["default"].createElement("span",{className:i},(0,h["default"])(d))},showMonthPanel:function(){this.setState({showMonthPanel:1,showYearPanel:0})},showYearPanel:function(){this.setState({showMonthPanel:0,showYearPanel:1})},render:function(){var e=this.props,t=e.enableNext,n=e.enablePrev,r=e.prefixCls,a=e.locale,o=e.value,s=e.showTimePicker,u=this.state,d=null;u.showMonthPanel?d=c["default"]:u.showYearPanel&&(d=p["default"]);var f=void 0;return d&&(f=l["default"].createElement(d,{locale:a,defaultValue:o,rootPrefixCls:r,onSelect:this.onSelect})),l["default"].createElement("div",{className:r+"-header"},l["default"].createElement("div",{style:{position:"relative"}},i(n&&!s,l["default"].createElement("a",{className:r+"-prev-year-btn",role:"button",onClick:this.previousYear,title:a.previousYear})),i(n&&!s,l["default"].createElement("a",{className:r+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:a.previousMonth})),this.monthYearElement(s),i(t&&!s,l["default"].createElement("a",{className:r+"-next-month-btn",onClick:this.nextMonth,title:a.nextMonth})),i(t&&!s,l["default"].createElement("a",{className:r+"-next-year-btn",onClick:this.nextYear,title:a.nextYear}))),f)}});t["default"]=m,e.exports=t["default"]},253:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.prefixCls,n=e.locale,r=e.okDisabled,a=e.onOk,o=t+"-ok-btn";return r&&(o+=" "+t+"-ok-btn-disabled"),i["default"].createElement("a",{className:o,role:"button",onClick:r?null:a},n.ok)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o);e.exports=t["default"]},254:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t,n=e.prefixCls,r=e.locale,a=e.showTimePicker,o=e.onOpenTimePicker,s=e.onCloseTimePicker,u=e.timePickerDisabled,d=(0,c["default"])((t={},(0,i["default"])(t,n+"-time-picker-btn",!0),(0,i["default"])(t,n+"-time-picker-btn-disabled",u),t)),p=null;return u||(p=a?s:o),l["default"].createElement("a",{className:d,role:"button",onClick:p},a?r.dateSelect:r.timeSelect)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=r(o);t["default"]=a;var s=n(1),l=r(s),u=n(6),c=r(u);e.exports=t["default"]},255:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.prefixCls,n=e.locale,r=e.value,a=e.timePicker,o=e.disabled,l=e.disabledDate,u=e.onToday,c=e.text,d=(!c&&a?n.now:c)||n.today,p=l&&!(0,s.isAllowedDate)((0,s.getTodayTime)(r),l),f=p||o,h=f?t+"-today-btn-disabled":"";return i["default"].createElement("a",{className:t+"-today-btn "+h,role:"button",onClick:f?null:u,title:(0,s.getTodayTimeStr)(r)},d)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var o=n(1),i=r(o),s=n(58);e.exports=t["default"]},256:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={DATE_ROW_COUNT:6,DATE_COL_COUNT:7},e.exports=t["default"]},257:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(9),s=r(i),l=n(28),u=r(l),c=o["default"].createClass({displayName:"DateInput",propTypes:{prefixCls:a.PropTypes.string,timePicker:a.PropTypes.object,value:a.PropTypes.object,disabledTime:a.PropTypes.any,format:a.PropTypes.string,locale:a.PropTypes.object,disabledDate:a.PropTypes.func,onChange:a.PropTypes.func,onClear:a.PropTypes.func,placeholder:a.PropTypes.string,onSelect:a.PropTypes.func,selectedValue:a.PropTypes.object},getInitialState:function(){var e=this.props.selectedValue;return{str:e&&e.format(this.props.format)||"",invalid:!1}},componentWillReceiveProps:function(e){var t=e.selectedValue;this.setState({str:t&&t.format(e.format)||"",invalid:!1})},onInputChange:function(e){var t=e.target.value;this.setState({str:t});var n=void 0,r=this.props,a=r.disabledDate,o=r.format,i=r.onChange;if(t){var s=(0,u["default"])(t,o,!0);if(!s.isValid())return void this.setState({invalid:!0});if(n=this.props.value.clone(),n.year(s.year()).month(s.month()).date(s.date()).hour(s.hour()).minute(s.minute()).second(s.second()),!n||a&&a(n))return void this.setState({invalid:!0});var l=this.props.selectedValue;l&&n?l.isSame(n)||i(n):l!==n&&i(n)}else i(null);this.setState({invalid:!1})},onClear:function(){this.setState({str:""}),this.props.onClear(null)},getRootDOMNode:function(){return s["default"].findDOMNode(this)},focus:function(){this.refs.dateInput.focus()},render:function(){var e=this.props,t=this.state,n=t.invalid,r=t.str,a=e.locale,i=e.prefixCls,s=e.placeholder,l=n?i+"-input-invalid":"";return o["default"].createElement("div",{className:i+"-input-wrap"},o["default"].createElement("div",{className:i+"-date-input-wrap"},o["default"].createElement("input",{ref:"dateInput",className:i+"-input "+l,value:r,disabled:e.disabled,placeholder:s,onChange:this.onInputChange})),e.showClear?o["default"].createElement("a",{className:i+"-clear-btn",role:"button",title:a.clear,onClick:this.onClear}):null)}});t["default"]=c,e.exports=t["default"]},258:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(378),f=r(p),h=n(377),m=r(h),y=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){var e=this.props,t=e.prefixCls;return d["default"].createElement("table",{className:t+"-table",cellSpacing:"0",role:"grid"},d["default"].createElement(f["default"],e),d["default"].createElement(m["default"],e))},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},259:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(374),o=r(a);t["default"]=o["default"],e.exports=t["default"]},260:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",monthFormat:"M\u6708",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},e.exports=t["default"]},261:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){return(0,h["default"])()}function i(e){var t=void 0;return t=e?(0,m.getTodayTime)(e):o()}Object.defineProperty(t,"__esModule",{value:!0});var s=n(7),l=r(s),u=n(1),c=r(u),d=n(6),p=r(d),f=n(28),h=r(f),m=n(58),y={propTypes:{value:u.PropTypes.object,defaultValue:u.PropTypes.object,onKeyDown:u.PropTypes.func},getDefaultProps:function(){return{onKeyDown:a}},getInitialState:function(){var e=this.props,t=e.value||e.defaultValue||o();return{value:t,selectedValue:e.selectedValue||e.defaultSelectedValue}},componentWillReceiveProps:function(e){var t=e.value,n=e.selectedValue;"value"in e&&(t=t||e.defaultValue||i(this.state.value),this.setState({value:t})),"selectedValue"in e&&this.setState({selectedValue:n})},onSelect:function(e,t){e&&this.setValue(e),this.setSelectedValue(e,t)},renderRoot:function(e){var t,n=this.props,r=n.prefixCls,a=(t={},(0,l["default"])(t,r,1),(0,l["default"])(t,r+"-hidden",!n.visible),(0,l["default"])(t,n.className,!!n.className),(0,l["default"])(t,e.className,!!e.className),t);return c["default"].createElement("div",{ref:"root",className:""+(0,p["default"])(a),style:this.props.style,tabIndex:"0",onKeyDown:this.onKeyDown},e.children)},setSelectedValue:function(e,t){"selectedValue"in this.props||this.setState({selectedValue:e}),this.props.onSelect(e,t)},setValue:function(e){var t=this.state.value;"value"in this.props||this.setState({value:e}),(t&&e&&!t.isSame(e)||!t&&e||t&&!e)&&this.props.onChange(e)},isAllowedDate:function(e){var t=this.props.disabledDate,n=this.props.disabledTime;return(0,m.isAllowedDate)(e,t,n)}};t["default"]=y,e.exports=t["default"]},262:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"year"),this.setAndChangeValue(t)}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),l=n(263),u=r(l),c=n(381),d=r(c),p=s["default"].createClass({displayName:"MonthPanel",propTypes:{onChange:i.PropTypes.func,disabledDate:i.PropTypes.func,onSelect:i.PropTypes.func},getDefaultProps:function(){return{onChange:o,onSelect:o}},getInitialState:function(){var e=this.props;return this.nextYear=a.bind(this,1),this.previousYear=a.bind(this,-1),this.prefixCls=e.rootPrefixCls+"-month-panel",{value:e.value||e.defaultValue}},componentWillReceiveProps:function(e){"value"in e&&this.setState({value:e.value})},onYearPanelSelect:function(e){this.setState({showYearPanel:0}),this.setAndChangeValue(e)},setAndChangeValue:function(e){this.setValue(e),this.props.onChange(e)},setAndSelectValue:function(e){this.setValue(e),this.props.onSelect(e)},setValue:function(e){"value"in this.props||this.setState({value:e})},showYearPanel:function(){this.setState({showYearPanel:1})},render:function(){var e=this.props,t=this.state.value,n=e.cellRender,r=e.contentRender,a=e.locale,o=t.year(),i=this.prefixCls,l=void 0;return this.state.showYearPanel&&(l=s["default"].createElement(u["default"],{locale:a,value:t,rootPrefixCls:e.rootPrefixCls,onSelect:this.onYearPanelSelect})),s["default"].createElement("div",{className:i,style:e.style},s["default"].createElement("div",null,s["default"].createElement("div",{className:i+"-header"},s["default"].createElement("a",{className:i+"-prev-year-btn",role:"button",onClick:this.previousYear,title:a.previousYear}),s["default"].createElement("a",{className:i+"-year-select",role:"button",onClick:this.showYearPanel,title:a.yearSelect},s["default"].createElement("span",{className:i+"-year-select-content"},o),s["default"].createElement("span",{className:i+"-year-select-arrow"},"x")),s["default"].createElement("a",{className:i+"-next-year-btn",role:"button",onClick:this.nextYear,title:a.nextYear})),s["default"].createElement("div",{className:i+"-body"},s["default"].createElement(d["default"],{disabledDate:e.disabledDate,onSelect:this.setAndSelectValue,locale:a,value:t,cellRender:n,contentRender:r,prefixCls:i}))),l)}});t["default"]=p,e.exports=t["default"]},263:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"year"),this.setState({value:t})}function o(e){var t=this.state.value.clone();t.year(e),t.month(this.state.value.month()),this.props.onSelect(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=n(379),b=r(g),C=4,P=3,T=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.prefixCls=n.rootPrefixCls+"-year-panel",r.state={value:n.value||n.defaultValue},r.nextDecade=a.bind(r,10),r.previousDecade=a.bind(r,-10),["showDecadePanel","onDecadePanelSelect"].forEach(function(e){r[e]=r[e].bind(r)}),r}return(0,f["default"])(t,e),t.prototype.onDecadePanelSelect=function(e){this.setState({value:e,showDecadePanel:0})},t.prototype.years=function n(){for(var e=this.state.value,t=e.year(),r=10*parseInt(t/10,10),a=r-1,n=[],o=0,i=0;i<C;i++){n[i]=[];for(var s=0;s<P;s++){var l=a+o,u=String(l);n[i][s]={content:u,year:l,title:u},o++}}return n},t.prototype.showDecadePanel=function(){this.setState({showDecadePanel:1})},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,r=t.locale,a=this.years(),i=n.year(),l=10*parseInt(i/10,10),u=l+9,c=this.prefixCls,d=a.map(function(t,n){var r=t.map(function(t){var n,r=(n={},(0,s["default"])(n,c+"-cell",1),(0,s["default"])(n,c+"-selected-cell",t.year===i),(0,s["default"])(n,c+"-last-decade-cell",t.year<l),(0,s["default"])(n,c+"-next-decade-cell",t.year>u),n),a=void 0;return a=t.year<l?e.previousDecade:t.year>u?e.nextDecade:o.bind(e,t.year),m["default"].createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:a,className:(0,v["default"])(r)},m["default"].createElement("a",{className:c+"-year"},t.content))});return m["default"].createElement("tr",{key:n,role:"row"},r)}),p=void 0;return this.state.showDecadePanel&&(p=m["default"].createElement(b["default"],{locale:r,value:n,rootPrefixCls:t.rootPrefixCls,onSelect:this.onDecadePanelSelect})),m["default"].createElement("div",{className:this.prefixCls},m["default"].createElement("div",null,m["default"].createElement("div",{className:c+"-header"},m["default"].createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:r.previousDecade}),m["default"].createElement("a",{className:c+"-decade-select",role:"button",onClick:this.showDecadePanel,title:r.decadeSelect},m["default"].createElement("span",{className:c+"-decade-select-content"},l,"-",u),m["default"].createElement("span",{className:c+"-decade-select-arrow"},"x")),m["default"].createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:r.nextDecade})),m["default"].createElement("div",{className:c+"-body"},m["default"].createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:c+"-tbody"},d)))),p)},t}(m["default"].Component);t["default"]=T,T.propTypes={rootPrefixCls:h.PropTypes.string,value:h.PropTypes.object,defaultValue:h.PropTypes.object},T.defaultProps={onSelect:function(){}},e.exports=t["default"]},264:function(e,t,n){"use strict";function r(e){return e}var a=n(1);e.exports=function(e){return a.Children.map(e,r)}},312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(260),f=r(p),h=n(259),m=r(h),y=n(81),v=r(y),g=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){return(0,v["default"])(!1,"DatePicker.Calendar is deprecated, use Calendar instead."),d["default"].createElement(m["default"],this.props)},t}(d["default"].Component);t["default"]=g,g.defaultProps={locale:f["default"],prefixCls:"ant-calendar"},e.exports=t["default"]},313:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n(2),o=r(a),i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(28),v=r(y),g=n(375),b=r(g),C=n(251),P=r(C),T=n(6),_=r(T),w=n(8),S=r(w),x=n(11),O=r(x),k=n(187),E=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));r.clearSelection=function(e){e.preventDefault(),e.stopPropagation(),r.setState({value:[]}),r.handleChange([])},r.handleChange=function(e){var t=r.props;"value"in t||r.setState({value:e,showDate:e[0]}),t.onChange(e,[e[0]&&e[0].format(t.format)||"",e[1]&&e[1].format(t.format)||""])},r.handleOpenChange=function(e){r.setState({open:e});var t=r.props.onOpenChange;t&&t(e)},r.handleShowDateChange=function(e){return r.setState({showDate:e})},r.renderFooter=function(){var e=r.props,t=e.prefixCls,n=e.ranges;if(!n)return null;var a=Object.keys(n).map(function(e){var t=n[e];return m["default"].createElement("a",{key:e,onClick:function(){return r.setValue(t)}},e)});return m["default"].createElement("div",{className:t+"-range-quick-selector"},a)};var a=n.value||n.defaultValue||[];if(a[0]&&!v["default"].isMoment(a[0])||a[1]&&!v["default"].isMoment(a[1]))throw new Error("The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, see: http://u.ant.design/date-picker-value");return r.state={value:a,open:n.open},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){if("value"in e){var t=e.value||[],n=t[0];this.setState({value:t,showDate:n})}"open"in e&&this.setState({open:e.open})},t.prototype.setValue=function(e){this.handleChange(e),this.props.showTime||this.setState({open:!1})},t.prototype.render=function(){var e,t=this,n=this.state,r=this.props,a=this.context,i=n.value,l=n.showDate,u=n.open,c=(0,k.getLocaleCode)(a);i&&c&&(i[0]&&i[0].locale(c),i[1]&&i[1].locale(c));var d=r.disabledDate,p=r.disabledTime,f=r.showTime,h=r.showToday,y=r.ranges,g=r.prefixCls,C=r.popupStyle,T=r.style,w=r.onOk,x=r.locale,E=r.format,M=(0,_["default"])((e={},(0,s["default"])(e,g+"-time",f),(0,s["default"])(e,g+"-range-with-ranges",y),e)),D={onChange:this.handleChange},N={onOk:this.handleChange};r.timePicker?D.onChange=function(e){return t.handleChange(e)}:N={};var j="placeholder"in r?r.placeholder[0]:x.lang.rangePlaceholder[0],R="placeholder"in r?r.placeholder[1]:x.lang.rangePlaceholder[1],A=m["default"].createElement(b["default"],(0,o["default"])({},N,{format:E,prefixCls:g,className:M,renderFooter:this.renderFooter,timePicker:r.timePicker,disabledDate:d,disabledTime:p,dateInputPlaceholder:[j,R],locale:x.lang,onOk:w,value:l||r.defaultPickerValue||(0,v["default"])(),onValueChange:this.handleShowDateChange,showToday:h})),I={};r.showTime&&(I.width=T&&T.width||300);var V=!r.disabled&&r.allowClear&&i&&(i[0]||i[1])?m["default"].createElement(O["default"],{type:"cross-circle",className:g+"-picker-clear",onClick:this.clearSelection}):null,L=function(e){var t=e.value,n=t[0],a=t[1];return m["default"].createElement("span",{className:r.pickerInputClass,disabled:r.disabled},m["default"].createElement("input",{disabled:r.disabled,readOnly:!0,value:n&&n.format(r.format)||"",placeholder:j,className:g+"-range-picker-input"}),m["default"].createElement("span",{className:g+"-range-picker-separator"}," ~ "),m["default"].createElement("input",{disabled:r.disabled,readOnly:!0,value:a&&a.format(r.format)||"",placeholder:R,className:g+"-range-picker-input"}),V,m["default"].createElement("span",{className:g+"-picker-icon"}))};return m["default"].createElement("span",{className:r.pickerClass,style:(0,S["default"])({},T,I)},m["default"].createElement(P["default"],(0,o["default"])({},r,D,{calendar:A,value:i,open:u,onOpenChange:this.handleOpenChange,prefixCls:g+"-picker-container",style:C}),L))},t}(m["default"].Component);t["default"]=E,E.contextTypes={antLocale:m["default"].PropTypes.object},E.defaultProps={prefixCls:"ant-calendar",allowClear:!0,showToday:!1},e.exports=t["default"]},314:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=c["default"].createClass({displayName:"CalenderWrapper",contextTypes:{antLocale:c["default"].PropTypes.object},getDefaultProps:function(){return{prefixCls:"ant-calendar",allowClear:!0,showToday:!0}},getInitialState:function(){var e=this.props,t=e.value||e.defaultValue;if(t&&!p["default"].isMoment(t))throw new Error("The value/defaultValue of DatePicker or MonthPicker must be a moment object after `antd@2.0`, see: http://u.ant.design/date-picker-value");return{value:t,tempValue:void 0}},componentWillReceiveProps:function(e){"value"in e&&this.setState({value:e.value,tempValue:e.value})},clearSelection:function(e){e.preventDefault(),e.stopPropagation(),this.handleChange(null)},handleChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onChange(e,e&&e.format(t.format)||"")},handleTempChange:function(e){this.setState({tempValue:e})},handleOpenChange:function(e){var t=this.props,n=t.showTime,r=t.onOpenChange,a=t.onChange,o=t.format;if(!e){var i=void 0;this.setState(function(e){i=e.tempValue;var t={tempValue:void 0};return n&&i&&(t.value=i,a(i,i&&i.format(o)||"")),t})}r&&r(e)},render:function(){var t,n=this,r=this.state,a=r.value,o=r.tempValue,s=(0,C["default"])(this.props,["onChange"]),u=s.prefixCls,d=s.locale,f="placeholder"in s?s.placeholder:d.lang.placeholder,m=s.showTime?s.disabledTime:null,v=(0,g["default"])((t={},(0,l["default"])(t,u+"-time",s.showTime),(0,l["default"])(t,u+"-month",h["default"]===e),t)),b={},P={};s.showTime?P={onSelect:function(e){n.handleTempChange(e)}}:b={onChange:this.handleChange};var _=c["default"].createElement(e,(0,i["default"])({},P,{disabledDate:s.disabledDate,disabledTime:m,locale:d.lang,timePicker:s.timePicker,defaultValue:s.defaultPickerValue||(0,p["default"])(),dateInputPlaceholder:f,prefixCls:u,className:v,onOk:s.onOk,format:s.format,showToday:s.showToday,monthCellContentRender:s.monthCellContentRender})),x={};s.showTime&&(x.width=s.style&&s.style.width||154);var O=!s.disabled&&s.allowClear&&a?c["default"].createElement(w["default"],{type:"cross-circle",className:u+"-picker-clear",onClick:this.clearSelection}):null,k=function(e){var t=e.value;return c["default"].createElement("span",null,c["default"].createElement("input",{disabled:s.disabled,readOnly:!0,value:t&&t.format(s.format)||"",placeholder:f,className:s.pickerInputClass}),O,c["default"].createElement("span",{className:u+"-picker-icon"}))},E=o||a,M=(0,S.getLocaleCode)(this.context);return E&&M&&E.locale(M),c["default"].createElement("span",{className:s.pickerClass,style:(0,T["default"])({},s.style,x)},c["default"].createElement(y["default"],(0,i["default"])({},s,b,{onOpenChange:this.handleOpenChange,calendar:_,value:E,prefixCls:u+"-picker-container",style:s.popupStyle}),k))}});return t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),s=n(7),l=r(s);t["default"]=a;var u=n(1),c=r(u),d=n(28),p=r(d),f=n(250),h=r(f),m=n(251),y=r(m),v=n(6),g=r(v),b=n(183),C=r(b),P=n(8),T=r(P),_=n(11),w=r(_),S=n(187);e.exports=t["default"]},315:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=r(a),i=n(259),s=r(i),l=n(250),u=r(l),c=n(314),d=r(c),p=n(318),f=r(p),h=n(313),m=r(h),y=n(312),v=r(y),g=(0,f["default"])((0,d["default"])(s["default"])),b=(0,f["default"])((0,d["default"])(u["default"]),"YYYY-MM");(0,o["default"])(g,{RangePicker:(0,f["default"])(m["default"]),Calendar:v["default"],MonthPicker:b}),t["default"]=g,e.exports=t["default"]},316:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(260),o=r(a),i=n(321),s=r(i),l=n(8),u=r(l),c=n(28),d=r(c);n(373),d["default"].locale("zh-cn");var p={lang:(0,u["default"])({placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]},o["default"]),timePickerLocale:(0,u["default"])({},s["default"])};p.lang.ok="\u786e \u5b9a",t["default"]=p,e.exports=t["default"]},317:function(e,t,n){"use strict";n(10),n(355),n(25),n(322)},318:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.showHour,n=e.showMinute,r=e.showSecond,a=0;return t&&(a+=1),n&&(a+=1),r&&(a+=1),a}function o(e,t){var r=d["default"].createClass({displayName:"PickerWrapper",contextTypes:{antLocale:c.PropTypes.object},getDefaultProps:function(){return{format:t||"YYYY-MM-DD",transitionName:"slide-up",popupStyle:{},onChange:function(){},onOk:function(){},onOpenChange:function(){},locale:{},align:{offset:[0,-9]},prefixCls:"ant-calendar",inputPrefixCls:"ant-input"}},handleOpenChange:function(e){var t=this.props,n=t.onOpenChange,r=t.toggleOpen;n(e),r&&((0,v["default"])(!1,"`toggleOpen` is deprecated and will be removed in the future, please use `onOpenChange` instead, see: http://u.ant.design/date-picker-on-open-change"),r({open:e}))},render:function(){var t,r,o=this.props,i=o.prefixCls,l=o.inputPrefixCls,c=(0,m["default"])((0,u["default"])({},i+"-picker",!0)),p=(0,m["default"])((t={},(0,u["default"])(t,i+"-picker-input",!0),(0,u["default"])(t,l,!0),(0,u["default"])(t,l+"-lg","large"===o.size),(0,u["default"])(t,l+"-sm","small"===o.size),t)),h=(0,g.getComponentLocale)(o,this.context,"DatePicker",function(){return n(316)}),y=o.showTime&&o.showTime.format||"HH:mm:ss",v={format:y,showSecond:y.indexOf("ss")>=0,showMinute:y.indexOf("mm")>=0,showHour:y.indexOf("HH")>=0},b=a(v),C=(0,m["default"])((r={},(0,u["default"])(r,i+"-time-picker-1-column",1===b),(0,u["default"])(r,i+"-time-picker-2-columns",2===b),r)),P=o.showTime?d["default"].createElement(f["default"],(0,s["default"])({},v,o.showTime,{prefixCls:i+"-time-picker",className:C,placeholder:h.timePickerLocale.placeholder,transitionName:"slide-up"})):null;return d["default"].createElement(e,(0,s["default"])({},o,{pickerClass:c,pickerInputClass:p,locale:h,timePicker:P,onOpenChange:this.handleOpenChange}))}});return r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),l=n(7),u=r(l);t["default"]=o;var c=n(1),d=r(c),p=n(387),f=r(p),h=n(6),m=r(h),y=n(68),v=r(y),g=n(187);e.exports=t["default"]},321:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4"};t["default"]=n,e.exports=t["default"]},322:[1220,356],327:function(e,t,n){e.exports={"default":n(329),__esModule:!0}},328:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=n(327),o=r(a),i=n(240),s=r(i);t["default"]=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=(0,s["default"])(e);!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},329:function(e,t,n){n(222),n(200),e.exports=n(346)},346:function(e,t,n){var r=n(241),a=n(55)("iterator"),o=n(198);e.exports=n(36).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||o.hasOwnProperty(r(t))}},355:10,356:10,373:function(e,t,n){!function(e,t){t(n(28))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"Ah\u70b9mm\u5206",LTS:"Ah\u70b9m\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206",l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"\u51cc\u6668"===t||"\u65e9\u4e0a"===t||"\u4e0a\u5348"===t?e:"\u4e0b\u5348"===t||"\u665a\u4e0a"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"\u51cc\u6668":r<900?"\u65e9\u4e0a":r<1130?"\u4e0a\u5348":r<1230?"\u4e2d\u5348":r<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u70b9\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u70b9\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u70b9\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.diff(t,"days")>=7?"[\u4e0b]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[\u4e0a]":"[\u672c]",0===this.minutes()?n+"dddAh\u70b9\u6574":n+"dddAh\u70b9mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}});return t})},374:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){var e=this.state.value.clone();e.startOf("month"),this.setValue(e)}function i(){var e=this.state.value.clone();e.endOf("month"),this.setValue(e)}function s(e,t){var n=this.state.value.clone();n.add(e,t),this.setValue(n)}function l(e){return s.call(this,e,"months")}function u(e){return s.call(this,e,"years")}function c(e){return s.call(this,e,"weeks")}function d(e){return s.call(this,e,"days")}Object.defineProperty(t,"__esModule",{value:!0});var p=n(2),f=r(p),h=n(1),m=r(h),y=n(9),v=r(y),g=n(208),b=r(g),C=n(258),P=r(C),T=n(252),_=r(T),w=n(376),S=r(w),x=n(261),O=r(x),k=n(207),E=r(k),M=n(257),D=r(M),N=n(58),j=m["default"].createClass({displayName:"Calendar",propTypes:{disabledDate:h.PropTypes.func,disabledTime:h.PropTypes.any,value:h.PropTypes.object,selectedValue:h.PropTypes.object,defaultValue:h.PropTypes.object,className:h.PropTypes.string,locale:h.PropTypes.object,showWeekNumber:h.PropTypes.bool,style:h.PropTypes.object,showToday:h.PropTypes.bool,showDateInput:h.PropTypes.bool,visible:h.PropTypes.bool,onSelect:h.PropTypes.func,onOk:h.PropTypes.func,showOk:h.PropTypes.bool,prefixCls:h.PropTypes.string,onKeyDown:h.PropTypes.func,timePicker:h.PropTypes.element,dateInputPlaceholder:h.PropTypes.any,onClear:h.PropTypes.func,onChange:h.PropTypes.func,renderFooter:h.PropTypes.func,renderSidebar:h.PropTypes.func},mixins:[E["default"],O["default"]],getDefaultProps:function(){return{showToday:!0,showDateInput:!0,timePicker:null,onOk:a}},getInitialState:function(){return{showTimePicker:!1}},onKeyDown:function(e){if("input"!==e.target.nodeName.toLowerCase()){var t=e.keyCode,n=e.ctrlKey||e.metaKey;switch(t){case b["default"].DOWN:return c.call(this,1),e.preventDefault(),1;case b["default"].UP:return c.call(this,-1),e.preventDefault(),1;case b["default"].LEFT:return n?u.call(this,-1):d.call(this,-1),e.preventDefault(),1;case b["default"].RIGHT:return n?u.call(this,1):d.call(this,1),e.preventDefault(),1;case b["default"].HOME:return o.call(this),e.preventDefault(),1;case b["default"].END:return i.call(this),e.preventDefault(),1;case b["default"].PAGE_DOWN:
return l.call(this,1),e.preventDefault(),1;case b["default"].PAGE_UP:return l.call(this,-1),e.preventDefault(),1;case b["default"].ENTER:return this.onSelect(this.state.value,{source:"keyboard"}),e.preventDefault(),1;default:return this.props.onKeyDown(e),1}}},onClear:function(){this.onSelect(null),this.props.onClear()},onOk:function(){var e=this.state.selectedValue;this.isAllowedDate(e)&&this.props.onOk(e)},onDateInputChange:function(e){this.onSelect(e,{source:"dateInput"})},onDateTableSelect:function(e){this.onSelect(e)},onToday:function(){var e=this.state.value,t=(0,N.getTodayTime)(e);this.onSelect(t,{source:"todayButton"})},getRootDOMNode:function(){return v["default"].findDOMNode(this)},openTimePicker:function(){this.setState({showTimePicker:!0})},closeTimePicker:function(){this.setState({showTimePicker:!1})},render:function(){var e=this.props,t=e.locale,n=e.prefixCls,r=e.disabledDate,a=e.dateInputPlaceholder,o=e.timePicker,i=e.disabledTime,s=this.state,l=s.value,u=s.selectedValue,c=s.showTimePicker,d=c&&i&&o?(0,N.getTimeConfig)(u,i):null,p=o&&c?m["default"].cloneElement(o,(0,f["default"])({showHour:!0,showSecond:!0,showMinute:!0},o.props,d,{onChange:this.onDateInputChange,defaultOpenValue:l,value:u,disabledTime:i})):null,h=e.showDateInput?m["default"].createElement(D["default"],{ref:"dateInput",format:this.getFormat(),key:"date-input",value:l,locale:t,placeholder:a,showClear:!0,disabledTime:i,disabledDate:r,onClear:this.onClear,prefixCls:n,selectedValue:u,onChange:this.onDateInputChange}):null,y=[e.renderSidebar(),m["default"].createElement("div",{className:n+"-panel",key:"panel"},h,m["default"].createElement("div",{className:n+"-date-panel"},m["default"].createElement(_["default"],{locale:t,onValueChange:this.setValue,value:l,showTimePicker:c,prefixCls:n}),o&&c?m["default"].createElement("div",{className:n+"-time-picker"},m["default"].createElement("div",{className:n+"-time-picker-panel"},p)):null,m["default"].createElement("div",{className:n+"-body"},m["default"].createElement(P["default"],{locale:t,value:l,selectedValue:u,prefixCls:n,dateRender:e.dateRender,onSelect:this.onDateTableSelect,disabledDate:r,showWeekNumber:e.showWeekNumber})),m["default"].createElement(S["default"],{showOk:e.showOk,renderFooter:e.renderFooter,locale:t,prefixCls:n,showToday:e.showToday,disabledTime:i,showTimePicker:c,showDateInput:e.showDateInput,timePicker:o,selectedValue:u,value:l,disabledDate:r,okDisabled:!this.isAllowedDate(u),onOk:this.onOk,onSelect:this.onSelect,onToday:this.onToday,onOpenTimePicker:this.openTimePicker,onCloseTimePicker:this.closeTimePicker})))];return this.renderRoot({children:y,className:e.showWeekNumber?n+"-week-number":""})}});t["default"]=j,e.exports=t["default"]},375:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(){return(0,b["default"])()}function i(e,t){var n=void 0;n=t,"right"===e&&n.add(-1,"months"),this.fireValueChange(n)}function s(e,t){var n=e.selectedValue||t&&e.defaultSelectedValue||[],r=e.value;Array.isArray(r)&&(r=r[0]);var a=e.defaultValue;return Array.isArray(a)&&(a=a[0]),r||t&&a||n[0]||t&&o()}function l(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function u(e,t){if(t){var n=this.state.selectedValue,r=n.concat(),a="left"===e?0:1;r[a]=t,r[0]&&this.compare(r[0],r[1])>0&&(r[1-a]=this.state.showTimePicker?r[a]:void 0),this.fireSelectValueChange(r)}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),d=r(c),p=n(328),f=r(p),h=n(7),m=r(h),y=n(1),v=r(y),g=n(28),b=r(g),C=n(6),P=r(C),T=n(383),_=r(T),w=n(58),S=n(255),x=r(S),O=n(253),k=r(O),E=n(254),M=r(E),D=n(207),N=r(D),j=v["default"].createClass({displayName:"RangeCalendar",propTypes:{prefixCls:y.PropTypes.string,dateInputPlaceholder:y.PropTypes.any,defaultValue:y.PropTypes.any,timePicker:y.PropTypes.any,value:y.PropTypes.any,showOk:y.PropTypes.bool,showToday:y.PropTypes.bool,selectedValue:y.PropTypes.array,defaultSelectedValue:y.PropTypes.array,onOk:y.PropTypes.func,showClear:y.PropTypes.bool,locale:y.PropTypes.object,onChange:y.PropTypes.func,onSelect:y.PropTypes.func,onValueChange:y.PropTypes.func,disabledDate:y.PropTypes.func,format:y.PropTypes.oneOfType([y.PropTypes.object,y.PropTypes.string]),onClear:y.PropTypes.func,type:y.PropTypes.any,disabledTime:y.PropTypes.func},mixins:[N["default"]],getDefaultProps:function(){return{type:"both",defaultSelectedValue:[],onValueChange:a,disabledTime:a,showToday:!0}},getInitialState:function(){var e=this.props,t=e.selectedValue||e.defaultSelectedValue,n=s(e,1);return{selectedValue:t,hoverValue:[],value:n,showTimePicker:!1}},componentWillReceiveProps:function(e){var t={};"value"in e&&(e.value?t.value=e.value:t.value=s(e,0),this.setState(t)),"selectedValue"in e&&(t.selectedValue=e.selectedValue,this.setState(t))},onDatePanelEnter:function(){this.hasSelectedValue()&&this.setState({hoverValue:this.state.selectedValue.concat()})},onDatePanelLeave:function(){this.hasSelectedValue()&&this.setState({hoverValue:[]})},onSelect:function(e){var t=this.state,n=t.hoverValue,r=t.selectedValue,a=void 0,o=this.props.type,i=!1;if(n[0]||n[1]||"both"!==o)if("start"===o){var s=r[1];a=!s||this.compare(s,e)<0?[e]:[e,s],i=!0}else{var l=void 0;l="end"===o?r[0]:n[0],l&&this.compare(l,e)<=0?(a=[l,e],i=!0):(a=[e],i=!0)}else a=[e],i=!0;i&&this.fireSelectValueChange(a)},onDayHover:function(e){var t=this.state.hoverValue,n=this.state.selectedValue,r=this.props.type;if("start"===r&&n[1])t=this.compare(e,n[1])<0?[e,n[1]]:[e],this.setState({hoverValue:t});else if("end"===r&&n[0])t=this.compare(e,n[0])>0?[n[0],e]:[],this.setState({hoverValue:t});else{if(!t[0]||this.compare(e,t[0])<0)return;t[1]=e,this.setState({hoverValue:t})}},onToday:function(){this.setState({value:(0,w.getTodayTime)(this.state.value)})},onOpenTimePicker:function(){this.setState({showTimePicker:!0})},onCloseTimePicker:function(){this.setState({showTimePicker:!1})},onOk:function(){var e=this.state.selectedValue;this.isAllowedDateAndTime(e)&&this.props.onOk(this.state.selectedValue)},onStartInputSelect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["left"].concat(t);return u.apply(this,r)},onEndInputSelect:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["right"].concat(t);return u.apply(this,r)},onStartValueChange:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["left"].concat(t);return i.apply(this,r)},onEndValueChange:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=["right"].concat(t);return i.apply(this,r)},getStartValue:function(){var e=this.state.value,t=this.state.selectedValue;return t[0]&&this.props.timePicker&&(e=e.clone(),(0,w.syncTime)(t[0],e)),this.state.showTimePicker&&t[0]?t[0]:e},getEndValue:function(){var e=this.state.value.clone();e.add(1,"months");var t=this.state.selectedValue;return t[1]&&this.props.timePicker&&(0,w.syncTime)(t[1],e),this.state.showTimePicker?t[1]?t[1]:this.getStartValue():e},getEndDisableTime:function(){var e=this.state,t=e.selectedValue,n=e.value,r=t&&t[0]||n.clone();if(!t[1]||r.isSame(t[1],"day")){var a=r.hour(),o=r.minute(),i=r.second(),s=l(a),u=l(o),c=l(i);return{disabledHours:function(){return s},disabledMinutes:function(e){return e===a?u:[]},disabledSeconds:function(e,t){return e===a&&t===o?c:[]}}}return null},isAllowedDateAndTime:function(e){return(0,w.isAllowedDate)(e[0],this.props.disabledDate,this.disabledStartTime)&&(0,w.isAllowedDate)(e[1],this.props.disabledDate,this.disabledEndTime)},hasSelectedValue:function(){var e=this.state.selectedValue;return!!e[1]&&!!e[0]},compare:function(e,t){return this.props.timePicker?e.diff(t):e.diff(t,"days")},fireSelectValueChange:function(e,t){"selectedValue"in this.props||this.setState({selectedValue:e}),this.state.selectedValue[0]&&this.state.selectedValue[1]||this.setState({selectedValue:e,value:e[0]||o()}),e[0]&&!e[1]&&this.setState({hoverValue:e.concat()}),this.props.onChange(e),(t||e[0]&&e[1])&&(this.setState({hoverValue:[]}),this.props.onSelect(e))},fireValueChange:function(e){var t=this.props;"value"in t||this.setState({value:e}),t.onValueChange(e)},clear:function(){this.fireSelectValueChange([],!0),this.props.onClear()},disabledStartTime:function(e){return this.props.disabledTime(e,"start")},disabledEndTime:function(e){return this.props.disabledTime(e,"end")},render:function(){var e,t,n=this.props,r=this.state,a=r.showTimePicker,o=n.prefixCls,i=n.dateInputPlaceholder,s=n.timePicker,l=n.showOk,u=n.locale,c=n.showClear,p=n.showToday,h=n.type,y=r.hoverValue,g=r.selectedValue,b=(e={},(0,m["default"])(e,n.className,!!n.className),(0,m["default"])(e,o,1),(0,m["default"])(e,o+"-hidden",!n.visible),(0,m["default"])(e,o+"-range",1),(0,m["default"])(e,o+"-show-time-picker",a),(0,m["default"])(e,o+"-week-number",n.showWeekNumber),e),C=(0,P["default"])(b),T={selectedValue:r.selectedValue,onSelect:this.onSelect,onDayHover:"start"===h&&g[1]||"end"===h&&g[0]||y.length?this.onDayHover:void 0},S=void 0,O=void 0;if(i)if(Array.isArray(i)){var E=(0,f["default"])(i,2);S=E[0],O=E[1]}else S=O=i;var D=l===!0||l!==!1&&!!s,N=(0,P["default"])((t={},(0,m["default"])(t,o+"-footer",!0),(0,m["default"])(t,o+"-range-bottom",!0),(0,m["default"])(t,o+"-footer-show-ok",D),t)),j=this.getStartValue(),R=this.getEndValue(),A=(0,w.getTodayTime)(j),I=A.month(),V=A.year(),L=V===j.year()||this.year===R.year(),Y=L&&(I===j.month()||I===R.month());return v["default"].createElement("div",{ref:"root",className:C,style:n.style,tabIndex:"0"},n.renderSidebar(),v["default"].createElement("div",{className:o+"-panel"},c&&g[0]&&g[1]?v["default"].createElement("a",{className:o+"-clear-btn",role:"button",title:u.clear,onClick:this.clear}):null,v["default"].createElement("div",{className:o+"-date-panel",onMouseLeave:"both"!==h?this.onDatePanelLeave:void 0,onMouseEnter:"both"!==h?this.onDatePanelEnter:void 0},v["default"].createElement(_["default"],(0,d["default"])({},n,T,{hoverValue:y,direction:"left",disabledTime:this.disabledStartTime,format:this.getFormat(),value:j,placeholder:S,onInputSelect:this.onStartInputSelect,onValueChange:this.onStartValueChange,timePicker:s,showTimePicker:a})),v["default"].createElement("span",{className:o+"-range-middle"},"~"),v["default"].createElement(_["default"],(0,d["default"])({},n,T,{hoverValue:y,direction:"right",format:this.getFormat(),timePickerDisabledTime:this.getEndDisableTime(),placeholder:O,value:R,onInputSelect:this.onEndInputSelect,onValueChange:this.onEndValueChange,timePicker:s,showTimePicker:a,disabledTime:this.disabledEndTime}))),v["default"].createElement("div",{className:N},n.renderFooter(),p||n.timePicker||D?v["default"].createElement("div",{className:o+"-footer-btn"},p?v["default"].createElement(x["default"],(0,d["default"])({},n,{disabled:Y,value:r.value,onToday:this.onToday,text:u.backToToday})):null,n.timePicker?v["default"].createElement(M["default"],(0,d["default"])({},n,{showTimePicker:a,onOpenTimePicker:this.onOpenTimePicker,onCloseTimePicker:this.onCloseTimePicker,timePickerDisabled:!this.hasSelectedValue()||y.length})):null,D?v["default"].createElement(k["default"],(0,d["default"])({},n,{value:r.value,onOk:this.onOk,okDisabled:!this.isAllowedDateAndTime(g)||!this.hasSelectedValue()||y.length})):null):null)))}});t["default"]=j,e.exports=t["default"]},376:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(2),s=r(i),l=n(1),u=r(l),c=n(9),d=r(c),p=n(264),f=r(p),h=n(6),m=r(h),y=n(255),v=r(y),g=n(253),b=r(g),C=n(254),P=r(C),T=u["default"].createClass({displayName:"CalendarFooter",propTypes:{prefixCls:l.PropTypes.string,showDateInput:l.PropTypes.bool,disabledTime:l.PropTypes.any,timePicker:l.PropTypes.element,selectedValue:l.PropTypes.any,showOk:l.PropTypes.bool,onSelect:l.PropTypes.func,value:l.PropTypes.object,renderFooter:l.PropTypes.func,defaultValue:l.PropTypes.object},onSelect:function(e){this.props.onSelect(e)},getRootDOMNode:function(){return d["default"].findDOMNode(this)},render:function(){var e=this.props,t=e.value,n=e.prefixCls,r=e.showOk,a=e.timePicker,i=e.renderFooter,l=null,c=i();if(e.showToday||a||c){var d,p=void 0;e.showToday&&(p=u["default"].createElement(v["default"],(0,s["default"])({},e,{value:t})));var h=void 0;(r===!0||r!==!1&&e.timePicker)&&(h=u["default"].createElement(b["default"],e));var y=void 0;e.timePicker&&(y=u["default"].createElement(P["default"],e));var g=void 0;(p||h)&&(g=u["default"].createElement("span",{className:n+"-footer-btn"},(0,f["default"])([p,y,h])));var C=(0,m["default"])((d={},(0,o["default"])(d,n+"-footer",!0),(0,o["default"])(d,n+"-footer-show-ok",h),d));l=u["default"].createElement("div",{className:C},c,g)}return l}});t["default"]=T,e.exports=t["default"]},377:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return e&&t&&e.isSame(t,"day")}function o(e,t){return e.year()<t.year()?1:e.year()===t.year()&&e.month()<t.month()}function i(e,t){return e.year()>t.year()?1:e.year()===t.year()&&e.month()>t.month()}function s(e){return"rc-calendar-"+e.year()+"-"+e.month()+"-"+e.date()}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),c=n(256),d=r(c),p=n(58),f=u["default"].createClass({displayName:"DateTBody",propTypes:{contentRender:l.PropTypes.func,dateRender:l.PropTypes.func,disabledDate:l.PropTypes.func,prefixCls:l.PropTypes.string,selectedValue:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.arrayOf(l.PropTypes.object)]),value:l.PropTypes.object,hoverValue:l.PropTypes.any,showWeekNumber:l.PropTypes.bool},getDefaultProps:function(){return{hoverValue:[]}},render:function(){var e=this.props,t=e.contentRender,n=e.prefixCls,r=e.selectedValue,l=e.value,c=e.showWeekNumber,f=e.dateRender,h=e.disabledDate,m=e.hoverValue,y=void 0,v=void 0,g=void 0,b=[],C=(0,p.getTodayTime)(l),P=n+"-cell",T=n+"-week-number-cell",_=n+"-date",w=n+"-today",S=n+"-selected-day",x=n+"-selected-date",O=n+"-in-range-cell",k=n+"-last-month-cell",E=n+"-next-month-btn-day",M=n+"-disabled-cell",D=n+"-disabled-cell-first-of-row",N=n+"-disabled-cell-last-of-row",j=l.clone();j.date(1);var R=j.day(),A=(R+7-l.localeData().firstDayOfWeek())%7,I=j.clone();I.add(0-A,"days");var V=0;for(y=0;y<d["default"].DATE_ROW_COUNT;y++)for(v=0;v<d["default"].DATE_COL_COUNT;v++)g=I,V&&(g=g.clone(),g.add(V,"days")),b.push(g),V++;var L=[];for(V=0,y=0;y<d["default"].DATE_ROW_COUNT;y++){var Y=void 0,F=void 0,U=[];for(c&&(F=u["default"].createElement("td",{key:b[V].week(),role:"gridcell",className:T},b[V].week())),v=0;v<d["default"].DATE_COL_COUNT;v++){var W=null,H=null;g=b[V],v<d["default"].DATE_COL_COUNT-1&&(W=b[V+1]),v>0&&(H=b[V-1]);var z=P,K=!1,B=!1;a(g,C)&&(z+=" "+w,Y=!0);var G=o(g,l),q=i(g,l);if(r&&Array.isArray(r)){var X=m.length?m:r;if(!G&&!q){var Z=X[0],Q=X[1];Z&&a(g,Z)&&(B=!0),Z&&Q&&(a(g,Q)?B=!0:g.isAfter(Z,"day")&&g.isBefore(Q,"day")&&(z+=" "+O))}}else a(g,l)&&(B=!0);a(g,r)&&(z+=" "+x),G&&(z+=" "+k),q&&(z+=" "+E),h&&h(g,l)&&(K=!0,H&&h(H,l)||(z+=" "+D),W&&h(W,l)||(z+=" "+N)),B&&(z+=" "+S),K&&(z+=" "+M);var $=void 0;if(f)$=f(g,l);else{var J=t?t(g,l):g.date();$=u["default"].createElement("div",{key:s(g),className:_,"aria-selected":B,"aria-disabled":K},J)}U.push(u["default"].createElement("td",{key:V,onClick:K?void 0:e.onSelect.bind(null,g),onMouseEnter:K?void 0:e.onDayHover&&e.onDayHover.bind(null,g)||void 0,role:"gridcell",title:(0,p.getTitleString)(g),className:z},$)),V++}L.push(u["default"].createElement("tr",{key:y,role:"row",className:Y&&n+"-current-week"},F,U))}return u["default"].createElement("tbody",{className:n+"-tbody"},L)}});t["default"]=f,e.exports=t["default"]},378:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=r(a),i=n(5),s=r(i),l=n(4),u=r(l),c=n(1),d=r(c),p=n(256),f=r(p),h=n(28),m=r(h),y=function(e){function t(){return(0,o["default"])(this,t),(0,s["default"])(this,e.apply(this,arguments))}return(0,u["default"])(t,e),t.prototype.render=function(){for(var e=this.props,t=e.value,n=t.localeData(),r=e.prefixCls,a=[],o=[],i=n.firstDayOfWeek(),s=void 0,l=(0,m["default"])(),u=0;u<f["default"].DATE_COL_COUNT;u++){var c=(i+u)%f["default"].DATE_COL_COUNT;l.day(c),a[u]=n.weekdaysMin(l),o[u]=n.weekdaysShort(l)}e.showWeekNumber&&(s=d["default"].createElement("th",{role:"columnheader",className:r+"-column-header "+r+"-week-number-header"},d["default"].createElement("span",{className:r+"-column-header-inner"},"x")));var p=o.map(function(e,t){return d["default"].createElement("th",{key:t,role:"columnheader",title:e,className:r+"-column-header"},d["default"].createElement("span",{className:r+"-column-header-inner"},a[t]))});return d["default"].createElement("thead",null,d["default"].createElement("tr",{role:"row"},s,p))},t}(d["default"].Component);t["default"]=y,e.exports=t["default"]},379:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.add(e,"years"),this.setState({value:t})}function o(e,t){var n=this.state.value.clone();n.year(e),n.month(this.state.value.month()),this.props.onSelect(n),t.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=4,b=3,C=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.state={value:n.value||n.defaultValue},r.prefixCls=n.rootPrefixCls+"-decade-panel",r.nextCentury=a.bind(r,100),r.previousCentury=a.bind(r,-100),r}return(0,f["default"])(t,e),t.prototype.render=function(){for(var e=this,t=this.state.value,n=this.props.locale,r=t.year(),a=100*parseInt(r/100,10),i=a-10,l=a+99,u=[],c=0,d=this.prefixCls,p=0;p<g;p++){u[p]=[];for(var f=0;f<b;f++){var h=i+10*c,y=i+10*c+9;u[p][f]={startDecade:h,endDecade:y},c++}}var C=u.map(function(t,n){var i=t.map(function(t){var n,i=t.startDecade,u=t.endDecade,c=i<a,p=u>l,f=(n={},(0,s["default"])(n,d+"-cell",1),(0,s["default"])(n,d+"-selected-cell",i<=r&&r<=u),(0,s["default"])(n,d+"-last-century-cell",c),(0,s["default"])(n,d+"-next-century-cell",p),n),h=i+"-"+u,y=void 0;return y=c?e.previousCentury:p?e.nextCentury:o.bind(e,i),m["default"].createElement("td",{key:i,onClick:y,role:"gridcell",className:(0,v["default"])(f)},m["default"].createElement("a",{className:d+"-decade"},h))});return m["default"].createElement("tr",{key:n,role:"row"},i)});return m["default"].createElement("div",{className:this.prefixCls},m["default"].createElement("div",{className:d+"-header"},m["default"].createElement("a",{className:d+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:n.previousCentury}),m["default"].createElement("div",{className:d+"-century"},a,"-",l),m["default"].createElement("a",{className:d+"-next-century-btn",role:"button",onClick:this.nextCentury,title:n.nextCentury})),m["default"].createElement("div",{className:d+"-body"},m["default"].createElement("table",{className:d+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:d+"-tbody"},C))))},t}(m["default"].Component);t["default"]=C,C.propTypes={locale:h.PropTypes.object,value:h.PropTypes.object,defaultValue:h.PropTypes.object,rootPrefixCls:h.PropTypes.string},C.defaultProps={onSelect:function(){}},e.exports=t["default"]},380:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"Select time",dateSelect:"Select date",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthFormat:"MMMM",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},e.exports=t["default"]},381:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=this.state.value.clone();t.month(e),this.setAndSelectValue(t)}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(3),u=r(l),c=n(5),d=r(c),p=n(4),f=r(p),h=n(1),m=r(h),y=n(6),v=r(y),g=n(58),b=4,C=3,P=function(e){function t(n){(0,u["default"])(this,t);var r=(0,d["default"])(this,e.call(this,n));return r.state={value:n.value},r}return(0,f["default"])(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value})},t.prototype.setAndSelectValue=function(e){this.setState({value:e}),this.props.onSelect(e)},t.prototype.months=function n(){for(var e=this.state.value,t=e.clone(),n=[],r=e.localeData(),a=0,o=0;o<b;o++){n[o]=[];for(var i=0;i<C;i++){t.month(a);var s=r.monthsShort(t);n[o][i]={value:a,content:s,title:s},a++}}return n},t.prototype.render=function(){var e=this,t=this.props,n=this.state.value,r=(0,g.getTodayTime)(n),o=this.months(),i=n.month(),l=t.prefixCls,u=t.locale,c=t.contentRender,d=t.cellRender,p=o.map(function(o,p){var f=o.map(function(o){var p,f=!1;if(t.disabledDate){var h=n.clone();h.month(o.value),f=t.disabledDate(h)}var y=(p={},(0,s["default"])(p,l+"-cell",1),(0,s["default"])(p,l+"-cell-disabled",f),(0,s["default"])(p,l+"-selected-cell",o.value===i),(0,s["default"])(p,l+"-current-cell",r.year()===n.year()&&o.value===r.month()),p),g=void 0;if(d){var b=n.clone();b.month(o.value),g=d(b,u)}else{var C=void 0;if(c){var P=n.clone();P.month(o.value),C=c(P,u)}else C=o.content;g=m["default"].createElement("a",{className:l+"-month"},C)}return m["default"].createElement("td",{role:"gridcell",key:o.value,onClick:f?null:a.bind(e,o.value),title:o.title,className:(0,v["default"])(y)},g)});return m["default"].createElement("tr",{key:p,role:"row"},f)});return m["default"].createElement("table",{className:l+"-table",cellSpacing:"0",role:"grid"},m["default"].createElement("tbody",{className:l+"-tbody"},p))},t}(h.Component);P.defaultProps={onSelect:o},P.propTypes={onSelect:h.PropTypes.func,cellRender:h.PropTypes.func,prefixCls:h.PropTypes.string,value:h.PropTypes.object},t["default"]=P,e.exports=t["default"]},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],a={bottomLeft:{points:["tl","tl"],overflow:n,offset:[0,-3],targetOffset:r},bottomRight:{points:["tr","tr"],overflow:n,offset:[0,-3],targetOffset:r},topRight:{points:["br","br"],overflow:n,offset:[0,3],targetOffset:r},topLeft:{points:["bl","bl"],overflow:n,offset:[0,3],targetOffset:r}};t["default"]=a,e.exports=t["default"]},383:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(1),s=r(i),l=n(252),u=r(l),c=n(258),d=r(c),p=n(257),f=r(p),h=n(58),m=s["default"].createClass({displayName:"CalendarPart",propTypes:{value:i.PropTypes.any,direction:i.PropTypes.any,prefixCls:i.PropTypes.any,locale:i.PropTypes.any,selectedValue:i.PropTypes.any,hoverValue:i.PropTypes.any,showTimePicker:i.PropTypes.bool,format:i.PropTypes.any,placeholder:i.PropTypes.any,disabledDate:i.PropTypes.any,timePicker:i.PropTypes.any,disabledTime:i.PropTypes.any,onInputSelect:i.PropTypes.func,timePickerDisabledTime:i.PropTypes.object},render:function(){var e=this.props,t=e.value,n=e.direction,r=e.prefixCls,a=e.locale,i=e.selectedValue,l=e.format,c=e.placeholder,p=e.disabledDate,m=e.timePicker,y=e.disabledTime,v=e.timePickerDisabledTime,g=e.showTimePicker,b=e.hoverValue,C=e.onInputSelect,P=g&&y&&m?(0,h.getTimeConfig)(i,y):null,T=r+"-range",_={locale:a,value:t,prefixCls:r,showTimePicker:g},w="left"===n?0:1,S=g&&m&&s["default"].cloneElement(m,(0,o["default"])({showHour:!0,showMinute:!0,showSecond:!0},m.props,P,v,{onChange:C,defaultOpenValue:t,value:i[w]}));return s["default"].createElement("div",{className:T+"-part "+T+"-"+n},s["default"].createElement(f["default"],{format:l,locale:a,prefixCls:r,timePicker:m,disabledDate:p,placeholder:c,disabledTime:y,value:t,showClear:!1,selectedValue:i[w],onChange:C}),s["default"].createElement("div",{style:{outline:"none"}},s["default"].createElement(u["default"],(0,o["default"])({},_,{enableNext:"right"===n,enablePrev:"left"===n,onValueChange:e.onValueChange})),g?s["default"].createElement("div",{className:r+"-time-picker"},s["default"].createElement("div",{className:r+"-time-picker-panel"},S)):null,s["default"].createElement("div",{className:r+"-body"},s["default"].createElement(d["default"],(0,o["default"])({},_,{hoverValue:b,selectedValue:i,dateRender:e.dateRender,onSelect:e.onSelect,onDayHover:e.onDayHover,disabledDate:p,showWeekNumber:e.showWeekNumber})))))}});t["default"]=m,e.exports=t["default"]},384:1043,385:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(388),s=r(i),l=function(e,t){var n=""+e;e<10&&(n="0"+e);var r=!1;return t&&t.indexOf(e)>=0&&(r=!0),{value:n,disabled:r}},u=o["default"].createClass({displayName:"Combobox",propTypes:{format:a.PropTypes.string,defaultOpenValue:a.PropTypes.object,prefixCls:a.PropTypes.string,value:a.PropTypes.object,onChange:a.PropTypes.func,showHour:a.PropTypes.bool,showMinute:a.PropTypes.bool,showSecond:a.PropTypes.bool,hourOptions:a.PropTypes.array,minuteOptions:a.PropTypes.array,secondOptions:a.PropTypes.array,disabledHours:a.PropTypes.func,disabledMinutes:a.PropTypes.func,disabledSeconds:a.PropTypes.func,onCurrentSelectPanelChange:a.PropTypes.func},onItemChange:function(e,t){var n=this.props,r=n.onChange,a=n.defaultOpenValue,o=(this.props.value||a).clone();"hour"===e?o.hour(t):"minute"===e?o.minute(t):o.second(t),r(o)},onEnterSelectPanel:function(e){this.props.onCurrentSelectPanelChange(e)},getHourSelect:function(e){var t=this.props,n=t.prefixCls,r=t.hourOptions,a=t.disabledHours,i=t.showHour;if(!i)return null;var u=a();return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,u)}),selectedIndex:r.indexOf(e),type:"hour",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"hour")})},getMinuteSelect:function(e){var t=this.props,n=t.prefixCls,r=t.minuteOptions,a=t.disabledMinutes,i=t.defaultOpenValue,u=t.showMinute;if(!u)return null;var c=this.props.value||i,d=a(c.hour());return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,d)}),selectedIndex:r.indexOf(e),type:"minute",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"minute")})},getSecondSelect:function(e){var t=this.props,n=t.prefixCls,r=t.secondOptions,a=t.disabledSeconds,i=t.showSecond,u=t.defaultOpenValue;if(!i)return null;var c=this.props.value||u,d=a(c.hour(),c.minute());return o["default"].createElement(s["default"],{prefixCls:n,options:r.map(function(e){return l(e,d)}),selectedIndex:r.indexOf(e),type:"second",onSelect:this.onItemChange,onMouseEnter:this.onEnterSelectPanel.bind(this,"second")})},render:function(){var e=this.props,t=e.prefixCls,n=e.defaultOpenValue,r=this.props.value||n;return o["default"].createElement("div",{className:t+"-combobox"},this.getHourSelect(r.hour()),this.getMinuteSelect(r.minute()),this.getSecondSelect(r.second()))}});t["default"]=u,e.exports=t["default"]},386:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(28),s=r(i),l=o["default"].createClass({displayName:"Header",propTypes:{format:a.PropTypes.string,prefixCls:a.PropTypes.string,disabledDate:a.PropTypes.func,placeholder:a.PropTypes.string,clearText:a.PropTypes.string,value:a.PropTypes.object,hourOptions:a.PropTypes.array,minuteOptions:a.PropTypes.array,secondOptions:a.PropTypes.array,disabledHours:a.PropTypes.func,disabledMinutes:a.PropTypes.func,disabledSeconds:a.PropTypes.func,onChange:a.PropTypes.func,onClear:a.PropTypes.func,onEsc:a.PropTypes.func,allowEmpty:a.PropTypes.bool,defaultOpenValue:a.PropTypes.object,currentSelectPanel:a.PropTypes.string},getInitialState:function(){var e=this.props,t=e.value,n=e.format;return{str:t&&t.format(n)||"",invalid:!1}},componentWillReceiveProps:function(e){var t=e.value,n=e.format;this.setState({str:t&&t.format(n)||"",invalid:!1})},onInputChange:function(e){var t=e.target.value;this.setState({str:t});var n=this.props,r=n.format,a=n.hourOptions,o=n.minuteOptions,i=n.secondOptions,l=n.disabledHours,u=n.disabledMinutes,c=n.disabledSeconds,d=n.onChange,p=n.allowEmpty;if(t){var f=this.props.value,h=this.getProtoValue().clone(),m=(0,s["default"])(t,r,!0);if(!m.isValid())return void this.setState({invalid:!0});if(h.hour(m.hour()).minute(m.minute()).second(m.second()),a.indexOf(h.hour())<0||o.indexOf(h.minute())<0||i.indexOf(h.second())<0)return void this.setState({invalid:!0});var y=l(),v=u(h.hour()),g=c(h.hour(),h.minute());if(y&&y.indexOf(h.hour())>=0||v&&v.indexOf(h.minute())>=0||g&&g.indexOf(h.second())>=0)return void this.setState({invalid:!0});if(f){if(f.hour()!==h.hour()||f.minute()!==h.minute()||f.second()!==h.second()){var b=f.clone();b.hour(h.hour()),b.minute(h.minute()),b.second(h.second()),d(b)}}else f!==h&&d(h)}else{if(!p)return void this.setState({invalid:!0});d(null)}this.setState({invalid:!1})},onKeyDown:function(e){27===e.keyCode&&this.props.onEsc()},onClear:function(){this.setState({str:""}),this.props.onClear()},getClearButton:function(){var e=this.props,t=e.prefixCls,n=e.allowEmpty;return n?o["default"].createElement("a",{className:t+"-clear-btn",role:"button",title:this.props.clearText,onMouseDown:this.onClear}):null},getProtoValue:function(){return this.props.value||this.props.defaultOpenValue},getInput:function(){var e=this.props,t=e.prefixCls,n=e.placeholder,r=this.state,a=r.invalid,i=r.str,s=a?t+"-input-invalid":"";return o["default"].createElement("input",{className:t+"-input  "+s,ref:"input",onKeyDown:this.onKeyDown,value:i,placeholder:n,onChange:this.onInputChange})},render:function(){var e=this.props.prefixCls;return o["default"].createElement("div",{className:e+"-input-wrap"},this.getInput(),this.getClearButton())}});t["default"]=l,e.exports=t["default"]},387:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(){}function o(e,t,n){for(var r=[],a=0;a<e;a++)(!t||t.indexOf(a)<0||!n)&&r.push(a);return r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=r(i),l=n(1),u=r(l),c=n(386),d=r(c),p=n(385),f=r(p),h=n(28),m=r(h),y=n(6),v=r(y),g=u["default"].createClass({displayName:"Panel",propTypes:{clearText:l.PropTypes.string,prefixCls:l.PropTypes.string,className:l.PropTypes.string,defaultOpenValue:l.PropTypes.object,value:l.PropTypes.object,placeholder:l.PropTypes.string,format:l.PropTypes.string,disabledHours:l.PropTypes.func,disabledMinutes:l.PropTypes.func,disabledSeconds:l.PropTypes.func,hideDisabledOptions:l.PropTypes.bool,onChange:l.PropTypes.func,onEsc:l.PropTypes.func,allowEmpty:l.PropTypes.bool,showHour:l.PropTypes.bool,showMinute:l.PropTypes.bool,showSecond:l.PropTypes.bool,onClear:l.PropTypes.func,addon:l.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-time-picker-panel",onChange:a,onClear:a,disabledHours:a,disabledMinutes:a,disabledSeconds:a,defaultOpenValue:(0,m["default"])(),addon:a}},getInitialState:function(){return{value:this.props.value,selectionRange:[]}},componentWillReceiveProps:function(e){var t=e.value;t&&this.setState({value:t})},onChange:function(e){this.setState({value:e}),this.props.onChange(e)},onClear:function(){this.props.onClear()},onCurrentSelectPanelChange:function(e){this.setState({currentSelectPanel:e})},close:function(){this.props.onEsc()},render:function(){var e,t=this.props,n=t.prefixCls,r=t.className,a=t.placeholder,i=t.disabledHours,l=t.disabledMinutes,c=t.disabledSeconds,p=t.hideDisabledOptions,h=t.allowEmpty,m=t.showHour,y=t.showMinute,g=t.showSecond,b=t.format,C=t.defaultOpenValue,P=t.clearText,T=t.onEsc,_=t.addon,w=this.state,S=w.value,x=w.currentSelectPanel,O=i(),k=l(S?S.hour():null),E=c(S?S.hour():null,S?S.minute():null),M=o(24,O,p),D=o(60,k,p),N=o(60,E,p);
return u["default"].createElement("div",{className:(0,v["default"])((e={},(0,s["default"])(e,n+"-inner",!0),(0,s["default"])(e,r,!!r),e))},u["default"].createElement(d["default"],{clearText:P,prefixCls:n,defaultOpenValue:C,value:S,currentSelectPanel:x,onEsc:T,format:b,placeholder:a,hourOptions:M,minuteOptions:D,secondOptions:N,disabledHours:i,disabledMinutes:l,disabledSeconds:c,onChange:this.onChange,onClear:this.onClear,allowEmpty:h}),u["default"].createElement(f["default"],{prefixCls:n,value:S,defaultOpenValue:C,format:b,onChange:this.onChange,showHour:m,showMinute:y,showSecond:g,hourOptions:M,minuteOptions:D,secondOptions:N,disabledHours:i,disabledMinutes:l,disabledSeconds:c,onCurrentSelectPanelChange:this.onCurrentSelectPanelChange}),_(this))}});t["default"]=g,e.exports=t["default"]},388:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=r(a),i=n(1),s=r(i),l=n(9),u=r(l),c=n(6),d=r(c),p=function h(e,t,n){var r=window.requestAnimationFrame||function(){return setTimeout(arguments[0],10)};if(n<=0)return void(e.scrollTop=t);var a=t-e.scrollTop,o=a/n*10;r(function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==t&&h(e,t,n-10)})},f=s["default"].createClass({displayName:"Select",propTypes:{prefixCls:i.PropTypes.string,options:i.PropTypes.array,selectedIndex:i.PropTypes.number,type:i.PropTypes.string,onSelect:i.PropTypes.func,onMouseEnter:i.PropTypes.func},componentDidMount:function(){this.scrollToSelected(0)},componentDidUpdate:function(e){e.selectedIndex!==this.props.selectedIndex&&this.scrollToSelected(120)},onSelect:function m(e){var t=this.props,m=t.onSelect,n=t.type;m(n,e)},getOptions:function(){var e=this,t=this.props,n=t.options,r=t.selectedIndex,a=t.prefixCls;return n.map(function(t,n){var i,l=(0,d["default"])((i={},(0,o["default"])(i,a+"-select-option-selected",r===n),(0,o["default"])(i,a+"-select-option-disabled",t.disabled),i)),u=null;return t.disabled||(u=e.onSelect.bind(e,+t.value)),s["default"].createElement("li",{className:l,key:n,onClick:u,disabled:t.disabled},t.value)})},scrollToSelected:function(e){var t=u["default"].findDOMNode(this),n=u["default"].findDOMNode(this.refs.list);if(n){var r=this.props.selectedIndex;r<0&&(r=0);var a=n.children[r],o=a.offsetTop;p(t,o,e)}},render:function(){if(0===this.props.options.length)return null;var e=this.props.prefixCls;return s["default"].createElement("div",{className:e+"-select",onMouseEnter:this.props.onMouseEnter},s["default"].createElement("ul",{ref:"list"},this.getOptions()))}});t["default"]=f,e.exports=t["default"]},697:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.location,n=e.loading,r=e.dataSource,a=e.pagination,o=e.onPageChange,s=[{title:"\u8ba2\u5355\u53f7",dataIndex:"order_id",key:"order_id"},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"title",key:"title"},{title:"\u5546\u54c1\u91d1\u989d",dataIndex:"sub_total",key:"sub_total"},{title:"\u4f18\u60e0\u91d1\u989d",dataIndex:"discount",key:"discount"},{title:"\u5b9e\u4ed8\u91d1\u989d",dataIndex:"total",key:"total"},{title:"\u652f\u4ed8\u65b9\u5f0f",dataIndex:"pay_type",key:"pay_type"},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){return p["default"].createElement("span",null,{1:"\u672a\u652f\u4ed8",2:"\u5df2\u5b8c\u6210",3:"\u5df2\u53d6\u6d88",4:"\u5df2\u8d85\u65f6"}[e])}},{title:"\u64cd\u4f5c\u7cfb\u7edf",dataIndex:"os",key:"os",render:function(e){return p["default"].createElement("span",null,"1"==e?p["default"].createElement("span",null,p["default"].createElement(c["default"],{type:"apple-o",style:{color:"rgb(160, 160, 160)"}})," IOS"):p["default"].createElement("span",null,p["default"].createElement(c["default"],{type:"android",style:{color:"rgb(171, 205, 5)"}})," Android"))}},{title:"\u7528\u6237\u6635\u79f0",dataIndex:"user_name",key:"user_name"},{title:"\u7528\u6237\u624b\u673a",dataIndex:"user_phone",key:"user_phone"},{title:"\u652f\u4ed8\u65f6\u95f4",dataIndex:"paid_at",key:"paid_at"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",key:"created_at"}],u={page:t.query.page,current:a.current},d=function(e){return p["default"].createElement(y["default"],(0,l["default"])({},u,{body:e}))};return p["default"].createElement(i["default"],{className:h["default"].table,bordered:!0,scroll:{x:1200},columns:s,dataSource:r,loading:n,onChange:o,pagination:(0,l["default"])({},a,{showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 "+e+" \u6761"}}),simple:!0,rowKey:function(e){return e.order_id},getBodyWrapper:d})}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(61),n(60)),i=r(o),s=n(2),l=r(s),u=(n(23),n(11)),c=r(u),d=n(1),p=r(d),f=n(873),h=r(f),m=n(154),y=r(m);a.propTypes={onPageChange:d.PropTypes.func,dataSource:d.PropTypes.array,loading:d.PropTypes.any,pagination:d.PropTypes.any},t["default"]=a,e.exports=t["default"]},698:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.phone,n=e.start_date,r=e.end_date,a=e.os,o=void 0===a?"":a,s=e.pay_type,u=void 0===s?"":s,d=e.status,p=void 0===d?"":d,f=e.onSearch,m=e.form,v=m.getFieldDecorator,b=m.validateFields,w=(m.getFieldsValue,{field:"phone",keyword:t,size:"large",select:!0,selectOptions:[{value:"phone",name:"\u624b\u673a\u53f7"}],selectProps:{defaultValue:"phone"},onSearch:function(e){b(function(t,n){if(!t){var r=n.date,a={};r.length&&(a.start_date=r[0].format("YYYY-MM-DD"),a.end_date=r[1].format("YYYY-MM-DD")),n.os&&(a.os=n.os),n.pay_type&&(a.pay_type=n.pay_type),n.status&&(a.status=n.status),e.keyword&&(a[e.field]=e.keyword),f(a)}})}});return y["default"].createElement(i["default"],null,y["default"].createElement(h["default"],{inline:!0},y["default"].createElement(P,{label:"\u521b\u5efa\u65e5\u671f",style:{marginBottom:20,marginRight:40}},v("date",{initialValue:n&&r?[(0,g["default"])(n),(0,g["default"])(r)]:""})(y["default"].createElement(T,{style:{width:200}}))),y["default"].createElement(P,{label:"\u64cd\u4f5c\u7cfb\u7edf",style:{marginBottom:20,marginRight:40}},v("os",{initialValue:o})(y["default"].createElement(c["default"],{style:{width:90}},y["default"].createElement(_,{value:""},"\u5168\u90e8"),y["default"].createElement(_,{value:"1"},y["default"].createElement(l["default"],{type:"apple-o",style:{color:"rgb(160, 160, 160)"}})," IOS"),y["default"].createElement(_,{value:"2"},y["default"].createElement(l["default"],{type:"android",style:{color:"rgb(171, 205, 5)"}})," Android")))),y["default"].createElement(P,{label:"\u8ba2\u5355\u7c7b\u578b",style:{marginBottom:20,marginRight:40}},v("pay_type",{initialValue:u})(y["default"].createElement(c["default"],{style:{width:90}},y["default"].createElement(_,{value:""},"\u5168\u90e8"),y["default"].createElement(_,{value:"nb"},"nb"),y["default"].createElement(_,{value:"wx"},"wx"),y["default"].createElement(_,{value:"alipay"},"alipay"),y["default"].createElement(_,{value:"iap"},"iap"),y["default"].createElement(_,{value:"ios_in_app"},"ios_in_app")))),y["default"].createElement(P,{label:"\u8ba2\u5355\u72b6\u6001",style:{marginBottom:20,marginRight:40}},v("status",{initialValue:p})(y["default"].createElement(c["default"],{style:{width:90}},y["default"].createElement(_,{value:""},"\u5168\u90e8"),y["default"].createElement(_,{value:"1"},"\u672a\u652f\u4ed8"),y["default"].createElement(_,{value:"2"},"\u5df2\u5b8c\u6210"),y["default"].createElement(_,{value:"3"},"\u5df2\u53d6\u6d88"),y["default"].createElement(_,{value:"4"},"\u5df2\u8d85\u65f6")))),y["default"].createElement(P,{style:{marginBottom:20,"float":"right",marginRight:0}},y["default"].createElement(C["default"],w))))}Object.defineProperty(t,"__esModule",{value:!0});var o=(n(94),n(192)),i=r(o),s=(n(23),n(11)),l=r(s),u=(n(35),n(27)),c=r(u),d=(n(317),n(315)),p=r(d),f=(n(87),n(86)),h=r(f),m=n(1),y=r(m),v=n(28),g=r(v),b=n(153),C=r(b),P=h["default"].Item,T=p["default"].RangePicker,_=c["default"].Option;a.propTypes={form:m.PropTypes.object.isRequired,onSearch:m.PropTypes.func,field:m.PropTypes.string,keyword:m.PropTypes.string},t["default"]=h["default"].create()(a),e.exports=t["default"]},706:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=r(a),i=n(44),s=r(i),l=(n(64),n(37)),u=n(725),c=n(13);t["default"]={namespace:"orderList",state:{list:[],loading:!1,pagination:{current:1,pageSize:10,total:null}},subscriptions:{setup:function(e){var t=e.dispatch,n=e.history;n.listen(function(e){var n=e.pathname;if("/order/list"===n){var r=(0,c.getCurPowers)(n);r?(t({type:"app/changeCurPowers",payload:{curPowers:r}}),t({type:"query"})):t(l.routerRedux.push({pathname:"/no-power"}))}})}},effects:{query:s["default"].mark(function d(e,t){var n,r,a=(e.payload,t.select),o=t.call,i=t.put;return s["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({type:"showLoading"});case 2:return e.next=4,a(function(e){var t=e.routing;return t.locationBeforeTransitions.query});case 4:return n=e.sent,e.next=7,o(u.query,n);case 7:if(r=e.sent,!r||!r.success){e.next=11;break}return e.next=11,i({type:"querySuccess",payload:{list:r.list,pagination:r.page}});case 11:return e.next=13,i({type:"hideLoading"});case 13:case"end":return e.stop()}},d,this)})},reducers:{querySuccess:function(e,t){return(0,o["default"])({},e,t.payload)},showLoading:function(e){return(0,o["default"])({},e,{loading:!0})},hideLoading:function(e){return(0,o["default"])({},e,{loading:!1})}}},e.exports=t["default"]},718:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=e.location,n=(e.curPowers,e.dispatch),r=e.orderList,a=r.list,o=r.pagination,i=r.loading,l=t.query,d=l.phone,p=l.start_date,h=l.end_date,y=l.os,v=l.pay_type,g=l.status,b={phone:d,start_date:p,end_date:h,os:y,pay_type:v,status:g,onSearch:function(e){n(c.routerRedux.push({pathname:t.pathname,query:(0,s["default"])({},e)}))}},C={location:t,dataSource:a,loading:i,pagination:o,onPageChange:function(e){var r=t.query,a=t.pathname;n(c.routerRedux.push({pathname:a,query:(0,s["default"])({},r,{page:e.current,pageSize:e.pageSize})}))}};return u["default"].createElement("div",{className:"content-inner"},u["default"].createElement(m["default"],b),u["default"].createElement(f["default"],C))}function o(e){var t=e.orderList;return{orderList:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),l=n(1),u=r(l),c=n(37),d=n(62),p=n(697),f=r(p),h=n(698),m=r(h);n(13),n(74);a.propTypes={orderList:l.PropTypes.object,location:l.PropTypes.object,dispatch:l.PropTypes.func},t["default"]=(0,d.connect)(o)(a),e.exports=t["default"]},725:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.query=void 0;var a=n(44),o=r(a),i=n(155),s=r(i),l=(t.query=function(){var e=(0,s["default"])(o["default"].mark(function t(e){return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,l.request)("/dashboard-order/list",{method:"get",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}(),n(13))},873:function(e,t){e.exports={table:"table___3e3rz",warning:"warning___39ARB",danger:"danger___1wxbp"}},1220:function(e,t,n,r){"use strict";n(10),n(r),n(25)}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vb3JkZXItbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2NoZWNrYm94L2luZGV4LmpzPzA3NmYiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL3V0aWwuanM/NzE1MyIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3NlbGVjdC9pbmRleC5qcz82ZWNkIiwid2VicGFjazovLy8uL34vbW9tZW50L21vbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvLmpzP2IyZGIiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvaW5kZXguanM/NTFhYiIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2lucy5qcyIsIndlYnBhY2s6Ly8vLi9+L3N0eWxlLXV0aWxzL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9pbmRleC5qcz9lYzk2Iiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vZHJvcGRvd24uanM/ZGVkMCIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3JhZGlvL3JhZGlvQnV0dG9uLmpzPzFjMTciLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW5Hcm91cC5qcz9iNDcwIiwid2VicGFjazovLy8uL34vcmMtY2hlY2tib3gvbGliL2luZGV4LmpzP2EzYmYiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9LZXlDb2RlLmpzPzcxM2QiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04uanM/MTgzOCIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi91dGlsL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvaW5kZXguanM/YjViZiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL3N0eWxlL2luZGV4LmpzP2E3MzAiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL1R3ZWVuT25lLmpzIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9lYXNpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy9vcHRpb25zLmpzIiwid2VicGFjazovLy8uL34vcmFmL2luZGV4LmpzPzAxMTciLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9jaGVja2JveC9Hcm91cC5qcz9iOTFjIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vZHJvcGRvd24tYnV0dG9uLmpzPzFjMTEiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kcm9wZG93bi9pbmRleC5qcz9hMTAyIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZHJvcGRvd24vc3R5bGUvaW5kZXguanM/ZGRkNiIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3BhZ2luYXRpb24vTWluaVNlbGVjdC5qcz8yN2NkIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzPzQ2OGIiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL2luZGV4LmpzP2JlMWUiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL3N0eWxlL2luZGV4LmpzPzY2YjYiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9yYWRpby9ncm91cC5qcz84M2NhIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvcm93L3N0eWxlL2luZGV4LmpzP2I1ODYiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW4uanM/N2ZhNCIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIuanM/MmE5YyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL1NlbGVjdGlvbkJveC5qcz8zN2Y4Iiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQ2hlY2tib3hBbGwuanM/MWJkYyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL1RhYmxlLmpzP2NmZTAiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi90YWJsZS9jcmVhdGVTdG9yZS5qcz9mYzc4Iiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGFibGUvZmlsdGVyRHJvcGRvd24uanM/NTJhNyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL3RhYmxlL3V0aWwuanM/NmIxZSIsIndlYnBhY2s6Ly8vLi9+L2RvbS1jbG9zZXN0L2luZGV4LmpzPzQ4ZDQiLCJ3ZWJwYWNrOi8vLy4vfi9kb20tbWF0Y2hlcy9pbmRleC5qcz8wZjMzIiwid2VicGFjazovLy8uL34vcGVyZm9ybWFuY2Utbm93L2xpYi9wZXJmb3JtYW5jZS1ub3cuanM/YjhhMyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNoZWNrYm94L2xpYi9DaGVja2JveC5qcz85ZTRhIiwid2VicGFjazovLy8uL34vcmMtZHJvcGRvd24vbGliL0Ryb3Bkb3duLmpzP2M5MzkiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1kcm9wZG93bi9saWIvaW5kZXguanM/ODA2MCIsIndlYnBhY2s6Ly8vLi9+L3JjLWRyb3Bkb3duL2xpYi9wbGFjZW1lbnRzLmpzP2M2MmEiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9PcHRpb25zLmpzP2FjYmUiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1wYWdpbmF0aW9uL2xpYi9QYWdlci5qcz9lNDRkIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvUGFnaW5hdGlvbi5qcz82ZWJhIiwid2VicGFjazovLy8uL34vcmMtcGFnaW5hdGlvbi9saWIvaW5kZXguanM/M2E5MSIsIndlYnBhY2s6Ly8vLi9+L3JjLXJhZGlvL2xpYi9SYWRpby5qcz83NmZhIiwid2VicGFjazovLy8uL34vcmMtcmFkaW8vbGliL2luZGV4LmpzPzlkYWEiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL0Ryb3Bkb3duTWVudS5qcz81MGM4Iiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9GaWx0ZXJNaXhpbi5qcz81MzI1Iiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9PcHRHcm91cC5qcz8yOGI3Iiwid2VicGFjazovLy8uL34vcmMtc2VsZWN0L2xpYi9PcHRpb24uanM/MjAwZCIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0LmpzP2NjZDMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1zZWxlY3QvbGliL1NlbGVjdFRyaWdnZXIuanM/NTEwMSIsIndlYnBhY2s6Ly8vLi9+L3JjLXNlbGVjdC9saWIvaW5kZXguanM/NDBhNyIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW4uanM/MDZkNSIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5Hcm91cC5qcz9mZjAzIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL0NvbHVtbk1hbmFnZXIuanM/MjA4NSIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9FeHBhbmRJY29uLmpzPzI1Y2UiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvVGFibGUuanM/YWUyMiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUNlbGwuanM/YWVjZiIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi9UYWJsZUhlYWRlci5qcz9hOWNlIiwid2VicGFjazovLy8uL34vcmMtdGFibGUvbGliL1RhYmxlUm93LmpzPzgzYTciLCJ3ZWJwYWNrOi8vLy4vfi9yYy10YWJsZS9saWIvY3JlYXRlU3RvcmUuanM/MzU2MSIsIndlYnBhY2s6Ly8vLi9+L3JjLXRhYmxlL2xpYi91dGlscy5qcz9mOWI5Iiwid2VicGFjazovLy8uL34vcmMtdXRpbC9saWIvQ2hpbGRyZW4vdG9BcnJheS5qcz8zZDUxIiwid2VicGFjazovLy8uL34vcmMtdXRpbC9saWIvS2V5Q29kZS5qcz9jNjc2Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1RhYmxlQm9keVdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9kZWVwLWVxbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10d2Vlbi1vbmUvbGliL1RpbWVMaW5lLmpzIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZUdyb3VwLmpzIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLXR3ZWVuLW9uZS9saWIvcGx1Z2luL1N0eWxlUGx1Z2luLmpzIiwid2VicGFjazovLy8uL34vcmMtdHdlZW4tb25lL2xpYi90aWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi90d2Vlbi1mdW5jdGlvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi90eXBlLWRldGVjdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL191dGlsL2dldExvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9taXhpbi9Db21tb25NaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9Nb250aENhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL1BpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9DYWxlbmRhckhlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9Pa0J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9UaW1lUGlja2VyQnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL1RvZGF5QnV0dG9uLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2RhdGUvRGF0ZUNvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9sb2NhbGUvemhfQ04uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbWl4aW4vQ2FsZW5kYXJNaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9tb250aC9Nb250aFBhbmVsLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL3llYXIvWWVhclBhbmVsLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvfi9yYy11dGlsL2xpYi9DaGlsZHJlbi9tYXBTZWxmLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvQ2FsZW5kYXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kYXRlLXBpY2tlci9SYW5nZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2NyZWF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvbG9jYWxlL3poX0NOLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvc3R5bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9hbnRkL2xpYi9kYXRlLXBpY2tlci93cmFwUGlja2VyLmpzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvdGltZS1waWNrZXIvbG9jYWxlL3poX0NOLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2lzLWl0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL34vbW9tZW50L2xvY2FsZS96aC1jbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9DYWxlbmRhci5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9SYW5nZUNhbGVuZGFyLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL0NhbGVuZGFyRm9vdGVyLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2RhdGUvRGF0ZVRCb2R5LmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2RhdGUvRGF0ZVRIZWFkLmpzIiwid2VicGFjazovLy8uL34vcmMtY2FsZW5kYXIvbGliL2RlY2FkZS9EZWNhZGVQYW5lbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9sb2NhbGUvZW5fVVMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy1jYWxlbmRhci9saWIvbW9udGgvTW9udGhUYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9waWNrZXIvcGxhY2VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9+L3JjLWNhbGVuZGFyL2xpYi9yYW5nZS1jYWxlbmRhci9DYWxlbmRhclBhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10aW1lLXBpY2tlci9saWIvQ29tYm9ib3guanMiLCJ3ZWJwYWNrOi8vLy4vfi9yYy10aW1lLXBpY2tlci9saWIvSGVhZGVyLmpzIiwid2VicGFjazovLy8uL34vcmMtdGltZS1waWNrZXIvbGliL1BhbmVsLmpzIiwid2VicGFjazovLy8uL34vcmMtdGltZS1waWNrZXIvbGliL1NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9vcmRlci9vcmRlckxpc3QvTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9vcmRlci9vcmRlckxpc3QvU2VhcmNoLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvb3JkZXIvbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL29yZGVyL09yZGVyTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvb3JkZXIvbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9vcmRlci9vcmRlckxpc3QvTGlzdC5sZXNzIiwid2VicGFjazovLy8uL34vYW50ZC9saWIvc2VsZWN0L3N0eWxlL2luZGV4LmpzP2U1NWUiXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwiMTgiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJfZXh0ZW5kczIiLCJfZXh0ZW5kczMiLCJfZGVmaW5lUHJvcGVydHkyIiwiX2RlZmluZVByb3BlcnR5MyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY2xhc3NDYWxsQ2hlY2szIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zIiwiX2luaGVyaXRzMiIsIl9pbmhlcml0czMiLCJfcmNDaGVja2JveCIsIl9yY0NoZWNrYm94MiIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfR3JvdXAiLCJfR3JvdXAyIiwiX2NsYXNzbmFtZXMiLCJfY2xhc3NuYW1lczIiLCJfUHVyZVJlbmRlck1peGluIiwiX1B1cmVSZW5kZXJNaXhpbjIiLCJfX3Jlc3QiLCJzIiwiZSIsInQiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJDaGVja2JveCIsIl9SZWFjdCRDb21wb25lbnQiLCJ0aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsInJlbmRlciIsIl9hIiwicHJvcHMiLCJwcmVmaXhDbHMiLCJzdHlsZSIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwiaW5kZXRlcm1pbmF0ZSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsInJlc3RQcm9wcyIsImNsYXNzU3RyaW5nIiwiY2hlY2tib3hDbGFzcyIsImNyZWF0ZUVsZW1lbnQiLCJDb21wb25lbnQiLCJHcm91cCIsImRlZmF1bHRQcm9wcyIsIjIxIiwiZ2V0VmFsdWVQcm9wVmFsdWUiLCJjaGlsZCIsImtleSIsIkVycm9yIiwiZ2V0UHJvcFZhbHVlIiwicHJvcCIsImlzQ29tYm9ib3giLCJjb21ib2JveCIsImlzTXVsdGlwbGVPclRhZ3MiLCJtdWx0aXBsZSIsInRhZ3MiLCJpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCIsImlzU2luZ2xlTW9kZSIsInRvQXJyYXkiLCJyZXQiLCJpc0FycmF5IiwicHJldmVudERlZmF1bHRFdmVudCIsInByZXZlbnREZWZhdWx0IiwiZmluZEluZGV4SW5WYWx1ZUJ5S2V5IiwiaW5kZXgiLCJmaW5kSW5kZXhJblZhbHVlQnlMYWJlbCIsImxhYmVsIiwiam9pbiIsImdldFNlbGVjdEtleXMiLCJtZW51SXRlbXMiLCJzZWxlY3RlZEtleXMiLCJDaGlsZHJlbiIsImZvckVhY2giLCJpdGVtIiwidHlwZSIsImlzTWVudUl0ZW1Hcm91cCIsImNvbmNhdCIsIml0ZW1WYWx1ZSIsIml0ZW1LZXkiLCJwdXNoIiwiZmluZEZpcnN0TWVudUl0ZW0iLCJmb3VuZCIsImRpc2FibGVkIiwiaW5jbHVkZXNTZXBhcmF0b3JzIiwic3RyaW5nIiwic2VwYXJhdG9ycyIsImxhc3RJbmRleE9mIiwic3BsaXRCeVNlcGFyYXRvcnMiLCJyZWciLCJSZWdFeHAiLCJhcnJheSIsInNwbGl0Iiwic2hpZnQiLCJwb3AiLCJVTlNFTEVDVEFCTEVfQVRUUklCVVRFIiwiVU5TRUxFQ1RBQkxFX1NUWUxFIiwidXNlclNlbGVjdCIsIldlYmtpdFVzZXJTZWxlY3QiLCJ1bnNlbGVjdGFibGUiLCIyMiIsInRvQXJyYXlDaGlsZHJlbiIsImMiLCJkYXRhVG9BcnJheSIsInZhcnMiLCJvYmplY3RFcXVhbCIsIm9iajEiLCJvYmoyIiwiX2RlZXBFcWwyIiwiZXF1YWxCb29sIiwiY3VycmVudE9iaiIsIm5leHRPYmoiLCJfdHlwZW9mIiwibmFtZSIsInNldEVxdWFsQm9vbCIsIm9iakEiLCJvYmpCIiwia2V5cyIsImZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSIsIm1lcmdlQ2hpbGRyZW4iLCJwcmV2IiwibmV4dCIsIm5leHRDaGlsZHJlblBlbmRpbmciLCJwZW5kaW5nQ2hpbGRyZW4iLCJmb2xsb3dDaGlsZHJlbktleSIsInRyYW5zZm9ybUFyZ3VtZW50cyIsImFyZyIsInJlc3VsdCIsImdldENoaWxkcmVuRnJvbVByb3BzIiwic3RhcnRDb252ZXJ0VG9FbmRVbml0IiwidGFyZ2V0IiwibnVtIiwidW5pdCIsImRhdGFVbml0IiwiZml4ZWQiLCJpc09yaWdpbldpZHRoIiwiaG9yaXoiLCJ0ZXN0IiwicGFyZW50Tm9kZSIsImRvY3VtZW50IiwiYm9keSIsInBpeCIsInBhcnNlRmxvYXQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIm1hdGNoIiwicGFyc2VQYXRoIiwicGF0aCIsImNoYXJBdCIsImRvbVBhdGgiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGVOUyIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRUcmFuc2Zvcm1WYWx1ZSIsInN1cHBvcnRzM0QiLCJwZXJzcGVjdGl2ZSIsImFuZ2xlIiwicm90YXRlIiwicm90YXRlWCIsInJvdGF0ZVkiLCJzeCIsInNjYWxlWCIsInN5Iiwic2NhbGVZIiwic3oiLCJzY2FsZVoiLCJza3giLCJza2V3WCIsInNreSIsInNrZXdZIiwieFBlcmNlbnQiLCJ5UGVyY2VudCIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwidHJhbnNsYXRlWiIsInBlcmNlbnQiLCJzayIsImFuIiwic3MiLCJ0cmFuc2xhdGUiLCJyWCIsInJZIiwicGVyIiwidHJhbnNsYXRlM2QiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiX2RlZXBFcWwiLCIyNyIsIl9yY1NlbGVjdCIsIl9yY1NlbGVjdDIiLCJTZWxlY3QiLCJfY2xhc3NOYW1lcyIsIl9wcm9wcyIsIl9wcm9wcyRjbGFzc05hbWUiLCJzaXplIiwiX3Byb3BzMiIsIl9wcm9wczIkbm90Rm91bmRDb250ZSIsIm5vdEZvdW5kQ29udGVudCIsIm9wdGlvbkxhYmVsUHJvcCIsImNscyIsImFudExvY2FsZSIsImNvbnRleHQiLCJPcHRpb24iLCJPcHRHcm91cCIsInNob3dTZWFyY2giLCJ0cmFuc2l0aW9uTmFtZSIsImNob2ljZVRyYW5zaXRpb25OYW1lIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwib25lT2YiLCJib29sIiwiYW55IiwiMjgiLCJnbG9iYWwiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwibW9tZW50IiwiaG9va3MiLCJob29rQ2FsbGJhY2siLCJzZXRIb29rQ2FsbGJhY2siLCJjYWxsYmFjayIsImlucHV0IiwidG9TdHJpbmciLCJpc09iamVjdCIsImlzT2JqZWN0RW1wdHkiLCJrIiwiaXNOdW1iZXIiLCJpc0RhdGUiLCJEYXRlIiwibWFwIiwiYXJyIiwiZm4iLCJyZXMiLCJoYXNPd25Qcm9wIiwiYSIsImIiLCJleHRlbmQiLCJ2YWx1ZU9mIiwiY3JlYXRlVVRDIiwiZm9ybWF0IiwibG9jYWxlIiwic3RyaWN0IiwiY3JlYXRlTG9jYWxPclVUQyIsInV0YyIsImRlZmF1bHRQYXJzaW5nRmxhZ3MiLCJlbXB0eSIsInVudXNlZFRva2VucyIsInVudXNlZElucHV0Iiwib3ZlcmZsb3ciLCJjaGFyc0xlZnRPdmVyIiwibnVsbElucHV0IiwiaW52YWxpZE1vbnRoIiwiaW52YWxpZEZvcm1hdCIsInVzZXJJbnZhbGlkYXRlZCIsImlzbyIsInBhcnNlZERhdGVQYXJ0cyIsIm1lcmlkaWVtIiwiZ2V0UGFyc2luZ0ZsYWdzIiwibSIsIl9wZiIsImlzVmFsaWQiLCJfaXNWYWxpZCIsImZsYWdzIiwicGFyc2VkUGFydHMiLCJzb21lJDEiLCJpc05vd1ZhbGlkIiwiaXNOYU4iLCJfZCIsImdldFRpbWUiLCJpbnZhbGlkV2Vla2RheSIsIl9zdHJpY3QiLCJiaWdIb3VyIiwiaXNGcm96ZW4iLCJjcmVhdGVJbnZhbGlkIiwiTmFOIiwiaXNVbmRlZmluZWQiLCJjb3B5Q29uZmlnIiwidG8iLCJmcm9tIiwidmFsIiwiX2lzQU1vbWVudE9iamVjdCIsIl9pIiwiX2YiLCJfbCIsIl90em0iLCJfaXNVVEMiLCJfb2Zmc2V0IiwiX2xvY2FsZSIsIm1vbWVudFByb3BlcnRpZXMiLCJNb21lbnQiLCJjb25maWciLCJ1cGRhdGVJblByb2dyZXNzIiwidXBkYXRlT2Zmc2V0IiwiaXNNb21lbnQiLCJhYnNGbG9vciIsIm51bWJlciIsIk1hdGgiLCJjZWlsIiwiZmxvb3IiLCJ0b0ludCIsImFyZ3VtZW50Rm9yQ29lcmNpb24iLCJjb2VyY2VkTnVtYmVyIiwiaXNGaW5pdGUiLCJjb21wYXJlQXJyYXlzIiwiYXJyYXkxIiwiYXJyYXkyIiwiZG9udENvbnZlcnQiLCJsZW4iLCJtaW4iLCJsZW5ndGhEaWZmIiwiYWJzIiwiZGlmZnMiLCJ3YXJuIiwibXNnIiwic3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzIiwiY29uc29sZSIsImRlcHJlY2F0ZSIsImZpcnN0VGltZSIsImRlcHJlY2F0aW9uSGFuZGxlciIsInNsaWNlIiwic3RhY2siLCJkZXByZWNhdGVTaW1wbGUiLCJkZXByZWNhdGlvbnMiLCJpc0Z1bmN0aW9uIiwiRnVuY3Rpb24iLCJzZXQiLCJfY29uZmlnIiwiX29yZGluYWxQYXJzZUxlbmllbnQiLCJfb3JkaW5hbFBhcnNlIiwic291cmNlIiwibWVyZ2VDb25maWdzIiwicGFyZW50Q29uZmlnIiwiY2hpbGRDb25maWciLCJMb2NhbGUiLCJjYWxlbmRhciIsIm1vbSIsIm5vdyIsIm91dHB1dCIsIl9jYWxlbmRhciIsImxvbmdEYXRlRm9ybWF0IiwiX2xvbmdEYXRlRm9ybWF0IiwiZm9ybWF0VXBwZXIiLCJ0b1VwcGVyQ2FzZSIsInJlcGxhY2UiLCJpbnZhbGlkRGF0ZSIsIl9pbnZhbGlkRGF0ZSIsIm9yZGluYWwiLCJfb3JkaW5hbCIsInJlbGF0aXZlVGltZSIsIndpdGhvdXRTdWZmaXgiLCJpc0Z1dHVyZSIsIl9yZWxhdGl2ZVRpbWUiLCJwYXN0RnV0dXJlIiwiZGlmZiIsImFkZFVuaXRBbGlhcyIsInNob3J0aGFuZCIsImxvd2VyQ2FzZSIsInRvTG93ZXJDYXNlIiwiYWxpYXNlcyIsIm5vcm1hbGl6ZVVuaXRzIiwidW5pdHMiLCJub3JtYWxpemVPYmplY3RVbml0cyIsImlucHV0T2JqZWN0Iiwibm9ybWFsaXplZFByb3AiLCJub3JtYWxpemVkSW5wdXQiLCJhZGRVbml0UHJpb3JpdHkiLCJwcmlvcml0eSIsInByaW9yaXRpZXMiLCJnZXRQcmlvcml0aXplZFVuaXRzIiwidW5pdHNPYmoiLCJ1Iiwic29ydCIsIm1ha2VHZXRTZXQiLCJrZWVwVGltZSIsInNldCQxIiwiZ2V0Iiwic3RyaW5nR2V0Iiwic3RyaW5nU2V0IiwicHJpb3JpdGl6ZWQiLCJ6ZXJvRmlsbCIsInRhcmdldExlbmd0aCIsImZvcmNlU2lnbiIsImFic051bWJlciIsInplcm9zVG9GaWxsIiwic2lnbiIsInBvdyIsIm1heCIsInN1YnN0ciIsImFkZEZvcm1hdFRva2VuIiwidG9rZW4iLCJwYWRkZWQiLCJmdW5jIiwiZm9ybWF0VG9rZW5GdW5jdGlvbnMiLCJsb2NhbGVEYXRhIiwicmVtb3ZlRm9ybWF0dGluZ1Rva2VucyIsIm1ha2VGb3JtYXRGdW5jdGlvbiIsImZvcm1hdHRpbmdUb2tlbnMiLCJmb3JtYXRNb21lbnQiLCJleHBhbmRGb3JtYXQiLCJmb3JtYXRGdW5jdGlvbnMiLCJyZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMiLCJsb2NhbEZvcm1hdHRpbmdUb2tlbnMiLCJsYXN0SW5kZXgiLCJhZGRSZWdleFRva2VuIiwicmVnZXgiLCJzdHJpY3RSZWdleCIsInJlZ2V4ZXMiLCJpc1N0cmljdCIsImdldFBhcnNlUmVnZXhGb3JUb2tlbiIsInVuZXNjYXBlRm9ybWF0IiwicmVnZXhFc2NhcGUiLCJtYXRjaGVkIiwicDEiLCJwMiIsInAzIiwicDQiLCJhZGRQYXJzZVRva2VuIiwidG9rZW5zIiwiYWRkV2Vla1BhcnNlVG9rZW4iLCJfdyIsImFkZFRpbWVUb0FycmF5RnJvbVRva2VuIiwiZGF5c0luTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJVVEMiLCJnZXRVVENEYXRlIiwibG9jYWxlTW9udGhzIiwiX21vbnRocyIsImlzRm9ybWF0IiwiTU9OVEhTX0lOX0ZPUk1BVCIsImxvY2FsZU1vbnRoc1Nob3J0IiwiX21vbnRoc1Nob3J0IiwiaGFuZGxlU3RyaWN0UGFyc2UiLCJtb250aE5hbWUiLCJpaSIsImxsYyIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX21vbnRoc1BhcnNlIiwiX2xvbmdNb250aHNQYXJzZSIsIl9zaG9ydE1vbnRoc1BhcnNlIiwibW9udGhzU2hvcnQiLCJtb250aHMiLCJpbmRleE9mJDEiLCJsb2NhbGVNb250aHNQYXJzZSIsIl9tb250aHNQYXJzZUV4YWN0Iiwic2V0TW9udGgiLCJkYXlPZk1vbnRoIiwibW9udGhzUGFyc2UiLCJkYXRlIiwiZ2V0U2V0TW9udGgiLCJnZXREYXlzSW5Nb250aCIsIm1vbnRoc1Nob3J0UmVnZXgiLCJjb21wdXRlTW9udGhzUGFyc2UiLCJfbW9udGhzU2hvcnRTdHJpY3RSZWdleCIsIl9tb250aHNTaG9ydFJlZ2V4IiwiZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXgiLCJtb250aHNSZWdleCIsIl9tb250aHNTdHJpY3RSZWdleCIsIl9tb250aHNSZWdleCIsImRlZmF1bHRNb250aHNSZWdleCIsImNtcExlblJldiIsInNob3J0UGllY2VzIiwibG9uZ1BpZWNlcyIsIm1peGVkUGllY2VzIiwiZGF5c0luWWVhciIsImlzTGVhcFllYXIiLCJnZXRJc0xlYXBZZWFyIiwiY3JlYXRlRGF0ZSIsInkiLCJkIiwiaCIsIk0iLCJtcyIsImdldEZ1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJjcmVhdGVVVENEYXRlIiwiZ2V0VVRDRnVsbFllYXIiLCJzZXRVVENGdWxsWWVhciIsImZpcnN0V2Vla09mZnNldCIsImRvdyIsImRveSIsImZ3ZCIsImZ3ZGx3IiwiZ2V0VVRDRGF5IiwiZGF5T2ZZZWFyRnJvbVdlZWtzIiwid2VlayIsIndlZWtkYXkiLCJyZXNZZWFyIiwicmVzRGF5T2ZZZWFyIiwibG9jYWxXZWVrZGF5Iiwid2Vla09mZnNldCIsImRheU9mWWVhciIsIndlZWtPZlllYXIiLCJyZXNXZWVrIiwid2Vla3NJblllYXIiLCJ3ZWVrT2Zmc2V0TmV4dCIsImxvY2FsZVdlZWsiLCJfd2VlayIsImxvY2FsZUZpcnN0RGF5T2ZXZWVrIiwibG9jYWxlRmlyc3REYXlPZlllYXIiLCJnZXRTZXRXZWVrIiwiYWRkIiwiZ2V0U2V0SVNPV2VlayIsInBhcnNlV2Vla2RheSIsIndlZWtkYXlzUGFyc2UiLCJwYXJzZUludCIsInBhcnNlSXNvV2Vla2RheSIsImxvY2FsZVdlZWtkYXlzIiwiX3dlZWtkYXlzIiwiZGF5IiwibG9jYWxlV2Vla2RheXNTaG9ydCIsIl93ZWVrZGF5c1Nob3J0IiwibG9jYWxlV2Vla2RheXNNaW4iLCJfd2Vla2RheXNNaW4iLCJoYW5kbGVTdHJpY3RQYXJzZSQxIiwid2Vla2RheU5hbWUiLCJfd2Vla2RheXNQYXJzZSIsIl9zaG9ydFdlZWtkYXlzUGFyc2UiLCJfbWluV2Vla2RheXNQYXJzZSIsIndlZWtkYXlzTWluIiwid2Vla2RheXNTaG9ydCIsIndlZWtkYXlzIiwibG9jYWxlV2Vla2RheXNQYXJzZSIsIl93ZWVrZGF5c1BhcnNlRXhhY3QiLCJfZnVsbFdlZWtkYXlzUGFyc2UiLCJnZXRTZXREYXlPZldlZWsiLCJnZXREYXkiLCJnZXRTZXRMb2NhbGVEYXlPZldlZWsiLCJnZXRTZXRJU09EYXlPZldlZWsiLCJ3ZWVrZGF5c1JlZ2V4IiwiY29tcHV0ZVdlZWtkYXlzUGFyc2UiLCJfd2Vla2RheXNTdHJpY3RSZWdleCIsIl93ZWVrZGF5c1JlZ2V4IiwiZGVmYXVsdFdlZWtkYXlzUmVnZXgiLCJ3ZWVrZGF5c1Nob3J0UmVnZXgiLCJfd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IiwiX3dlZWtkYXlzU2hvcnRSZWdleCIsImRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXgiLCJ3ZWVrZGF5c01pblJlZ2V4IiwiX3dlZWtkYXlzTWluU3RyaWN0UmVnZXgiLCJfd2Vla2RheXNNaW5SZWdleCIsImRlZmF1bHRXZWVrZGF5c01pblJlZ2V4IiwibWlucCIsInNob3J0cCIsImxvbmdwIiwibWluUGllY2VzIiwiaEZvcm1hdCIsImhvdXJzIiwia0Zvcm1hdCIsImxvd2VyY2FzZSIsIm1pbnV0ZXMiLCJtYXRjaE1lcmlkaWVtIiwiX21lcmlkaWVtUGFyc2UiLCJsb2NhbGVJc1BNIiwibG9jYWxlTWVyaWRpZW0iLCJpc0xvd2VyIiwibm9ybWFsaXplTG9jYWxlIiwiY2hvb3NlTG9jYWxlIiwibmFtZXMiLCJqIiwibG9hZExvY2FsZSIsIm9sZExvY2FsZSIsImxvY2FsZXMiLCJnbG9iYWxMb2NhbGUiLCJfYWJiciIsInJlcXVpcmUiLCJnZXRTZXRHbG9iYWxMb2NhbGUiLCJ2YWx1ZXMiLCJkYXRhIiwiZ2V0TG9jYWxlIiwiZGVmaW5lTG9jYWxlIiwiYmFzZUNvbmZpZyIsImFiYnIiLCJwYXJlbnRMb2NhbGUiLCJsb2NhbGVGYW1pbGllcyIsIngiLCJ1cGRhdGVMb2NhbGUiLCJsaXN0TG9jYWxlcyIsImtleXMkMSIsImNoZWNrT3ZlcmZsb3ciLCJNT05USCIsIkRBVEUiLCJZRUFSIiwiSE9VUiIsIk1JTlVURSIsIlNFQ09ORCIsIk1JTExJU0VDT05EIiwiX292ZXJmbG93RGF5T2ZZZWFyIiwiX292ZXJmbG93V2Vla3MiLCJXRUVLIiwiX292ZXJmbG93V2Vla2RheSIsIldFRUtEQVkiLCJjb25maWdGcm9tSVNPIiwibCIsImFsbG93VGltZSIsImRhdGVGb3JtYXQiLCJ0aW1lRm9ybWF0IiwidHpGb3JtYXQiLCJleHRlbmRlZElzb1JlZ2V4IiwiZXhlYyIsImJhc2ljSXNvUmVnZXgiLCJpc29EYXRlcyIsImlzb1RpbWVzIiwidHpSZWdleCIsImNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQiLCJjb25maWdGcm9tU3RyaW5nIiwiYXNwTmV0SnNvblJlZ2V4IiwiY3JlYXRlRnJvbUlucHV0RmFsbGJhY2siLCJkZWZhdWx0cyIsImN1cnJlbnREYXRlQXJyYXkiLCJub3dWYWx1ZSIsIl91c2VVVEMiLCJnZXRVVENNb250aCIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImNvbmZpZ0Zyb21BcnJheSIsImN1cnJlbnREYXRlIiwieWVhclRvVXNlIiwiZGF5T2ZZZWFyRnJvbVdlZWtJbmZvIiwiX2RheU9mWWVhciIsIl9uZXh0RGF5Iiwic2V0VVRDTWludXRlcyIsImdldFVUQ01pbnV0ZXMiLCJ3Iiwid2Vla1llYXIiLCJ0ZW1wIiwid2Vla2RheU92ZXJmbG93IiwiR0ciLCJXIiwiRSIsImNyZWF0ZUxvY2FsIiwiY3VyV2VlayIsImdnIiwiSVNPXzg2MDEiLCJwYXJzZWRJbnB1dCIsInNraXBwZWQiLCJzdHJpbmdMZW5ndGgiLCJ0b3RhbFBhcnNlZElucHV0TGVuZ3RoIiwiX21lcmlkaWVtIiwibWVyaWRpZW1GaXhXcmFwIiwiaG91ciIsImlzUG0iLCJtZXJpZGllbUhvdXIiLCJpc1BNIiwiY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5IiwidGVtcENvbmZpZyIsImJlc3RNb21lbnQiLCJzY29yZVRvQmVhdCIsImN1cnJlbnRTY29yZSIsInNjb3JlIiwiY29uZmlnRnJvbU9iamVjdCIsIm1pbnV0ZSIsInNlY29uZCIsIm1pbGxpc2Vjb25kIiwiY3JlYXRlRnJvbUNvbmZpZyIsInByZXBhcmVDb25maWciLCJwcmVwYXJzZSIsImNvbmZpZ0Zyb21JbnB1dCIsImlzVVRDIiwicGlja0J5IiwibW9tZW50cyIsIkR1cmF0aW9uIiwiZHVyYXRpb24iLCJ5ZWFycyIsInF1YXJ0ZXJzIiwicXVhcnRlciIsIndlZWtzIiwiZGF5cyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJfbWlsbGlzZWNvbmRzIiwiX2RheXMiLCJfZGF0YSIsIl9idWJibGUiLCJpc0R1cmF0aW9uIiwiYWJzUm91bmQiLCJyb3VuZCIsIm9mZnNldCIsInNlcGFyYXRvciIsInV0Y09mZnNldCIsIm9mZnNldEZyb21TdHJpbmciLCJtYXRjaGVyIiwibWF0Y2hlcyIsImNodW5rIiwicGFydHMiLCJjaHVua09mZnNldCIsImNsb25lV2l0aE9mZnNldCIsIm1vZGVsIiwiY2xvbmUiLCJzZXRUaW1lIiwibG9jYWwiLCJnZXREYXRlT2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJnZXRTZXRPZmZzZXQiLCJrZWVwTG9jYWxUaW1lIiwibG9jYWxBZGp1c3QiLCJtYXRjaFNob3J0T2Zmc2V0IiwiX2NoYW5nZUluUHJvZ3Jlc3MiLCJhZGRTdWJ0cmFjdCIsImNyZWF0ZUR1cmF0aW9uIiwiZ2V0U2V0Wm9uZSIsInNldE9mZnNldFRvVVRDIiwic2V0T2Zmc2V0VG9Mb2NhbCIsInN1YnRyYWN0Iiwic2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQiLCJ0Wm9uZSIsIm1hdGNoT2Zmc2V0IiwiaGFzQWxpZ25lZEhvdXJPZmZzZXQiLCJpc0RheWxpZ2h0U2F2aW5nVGltZSIsImlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCIsIl9pc0RTVFNoaWZ0ZWQiLCJvdGhlciIsImlzTG9jYWwiLCJpc1V0Y09mZnNldCIsImlzVXRjIiwiZGlmZlJlcyIsImFzcE5ldFJlZ2V4IiwiaXNvUmVnZXgiLCJwYXJzZUlzbyIsIm1vbWVudHNEaWZmZXJlbmNlIiwiaW5wIiwicG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZSIsImJhc2UiLCJpc0FmdGVyIiwiaXNCZWZvcmUiLCJjcmVhdGVBZGRlciIsImRpcmVjdGlvbiIsInBlcmlvZCIsImR1ciIsInRtcCIsImlzQWRkaW5nIiwiZ2V0Q2FsZW5kYXJGb3JtYXQiLCJteU1vbWVudCIsImNhbGVuZGFyJDEiLCJ0aW1lIiwiZm9ybWF0cyIsInNvZCIsInN0YXJ0T2YiLCJjYWxlbmRhckZvcm1hdCIsImxvY2FsSW5wdXQiLCJlbmRPZiIsImlzQmV0d2VlbiIsImluY2x1c2l2aXR5IiwiaXNTYW1lIiwiaW5wdXRNcyIsImlzU2FtZU9yQWZ0ZXIiLCJpc1NhbWVPckJlZm9yZSIsImFzRmxvYXQiLCJ0aGF0Iiwiem9uZURlbHRhIiwiZGVsdGEiLCJtb250aERpZmYiLCJhbmNob3IyIiwiYWRqdXN0Iiwid2hvbGVNb250aERpZmYiLCJhbmNob3IiLCJ0b0lTT1N0cmluZyIsInRvRGF0ZSIsImluc3BlY3QiLCJ6b25lIiwicHJlZml4IiwiZGF0ZXRpbWUiLCJzdWZmaXgiLCJpbnB1dFN0cmluZyIsImRlZmF1bHRGb3JtYXRVdGMiLCJkZWZhdWx0Rm9ybWF0IiwicG9zdGZvcm1hdCIsImh1bWFuaXplIiwiZnJvbU5vdyIsInRvTm93IiwibmV3TG9jYWxlRGF0YSIsImlzb1dlZWtkYXkiLCJ1bml4IiwidG9PYmplY3QiLCJ0b0pTT04iLCJpc1ZhbGlkJDEiLCJwYXJzaW5nRmxhZ3MiLCJpbnZhbGlkQXQiLCJjcmVhdGlvbkRhdGEiLCJhZGRXZWVrWWVhckZvcm1hdFRva2VuIiwiZ2V0dGVyIiwiZ2V0U2V0V2Vla1llYXIiLCJnZXRTZXRXZWVrWWVhckhlbHBlciIsImdldFNldElTT1dlZWtZZWFyIiwiaXNvV2VlayIsImdldElTT1dlZWtzSW5ZZWFyIiwiZ2V0V2Vla3NJblllYXIiLCJ3ZWVrSW5mbyIsIndlZWtzVGFyZ2V0Iiwic2V0V2Vla0FsbCIsImRheU9mWWVhckRhdGEiLCJnZXRTZXRRdWFydGVyIiwiZ2V0U2V0RGF5T2ZZZWFyIiwicGFyc2VNcyIsImdldFpvbmVBYmJyIiwiZ2V0Wm9uZU5hbWUiLCJjcmVhdGVVbml4IiwiY3JlYXRlSW5ab25lIiwicGFyc2Vab25lIiwicHJlUGFyc2VQb3N0Rm9ybWF0IiwiZ2V0JDEiLCJmaWVsZCIsInNldHRlciIsImxpc3RNb250aHNJbXBsIiwib3V0IiwibGlzdFdlZWtkYXlzSW1wbCIsImxvY2FsZVNvcnRlZCIsImxpc3RNb250aHMiLCJsaXN0TW9udGhzU2hvcnQiLCJsaXN0V2Vla2RheXMiLCJsaXN0V2Vla2RheXNTaG9ydCIsImxpc3RXZWVrZGF5c01pbiIsIm1hdGhBYnMiLCJhZGRTdWJ0cmFjdCQxIiwiYWRkJDEiLCJzdWJ0cmFjdCQxIiwiYWJzQ2VpbCIsImJ1YmJsZSIsIm1vbnRoc0Zyb21EYXlzIiwibW9udGhzVG9EYXlzIiwiZGF5c1RvTW9udGhzIiwiYXMiLCJ2YWx1ZU9mJDEiLCJtYWtlQXMiLCJhbGlhcyIsImdldCQyIiwibWFrZUdldHRlciIsInN1YnN0aXR1dGVUaW1lQWdvIiwicmVsYXRpdmVUaW1lJDEiLCJwb3NOZWdEdXJhdGlvbiIsInRocmVzaG9sZHMiLCJnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyIsInJvdW5kaW5nRnVuY3Rpb24iLCJnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJsaW1pdCIsIndpdGhTdWZmaXgiLCJ0b0lTT1N0cmluZyQxIiwiYWJzJDEiLCJZIiwiRCIsInRvdGFsIiwiYXNTZWNvbmRzIiwic29tZSIsImZ1biIsImRlZmF1bHRDYWxlbmRhciIsInNhbWVEYXkiLCJuZXh0RGF5IiwibmV4dFdlZWsiLCJsYXN0RGF5IiwibGFzdFdlZWsiLCJzYW1lRWxzZSIsImRlZmF1bHRMb25nRGF0ZUZvcm1hdCIsIkxUUyIsIkxUIiwiTCIsIkxMIiwiTExMIiwiTExMTCIsImRlZmF1bHRJbnZhbGlkRGF0ZSIsImRlZmF1bHRPcmRpbmFsIiwiZGVmYXVsdE9yZGluYWxQYXJzZSIsImRlZmF1bHRSZWxhdGl2ZVRpbWUiLCJmdXR1cmUiLCJwYXN0IiwibW0iLCJoaCIsImRkIiwiTU0iLCJ5eSIsIm1hdGNoMSIsIm1hdGNoMiIsIm1hdGNoMyIsIm1hdGNoNCIsIm1hdGNoNiIsIm1hdGNoMXRvMiIsIm1hdGNoM3RvNCIsIm1hdGNoNXRvNiIsIm1hdGNoMXRvMyIsIm1hdGNoMXRvNCIsIm1hdGNoMXRvNiIsIm1hdGNoVW5zaWduZWQiLCJtYXRjaFNpZ25lZCIsIm1hdGNoVGltZXN0YW1wIiwibWF0Y2hXb3JkIiwibyIsImRlZmF1bHRMb2NhbGVNb250aHMiLCJkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQiLCJwYXJzZVR3b0RpZ2l0WWVhciIsImdldFNldFllYXIiLCJkZWZhdWx0TG9jYWxlV2VlayIsImRlZmF1bHRMb2NhbGVXZWVrZGF5cyIsImRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0IiwiZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluIiwiX2lzUG0iLCJwb3MiLCJwb3MxIiwicG9zMiIsImRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlIiwiZ2V0U2V0SG91ciIsIm9yZGluYWxQYXJzZSIsIm1lcmlkaWVtUGFyc2UiLCJwcm90b3R5cGVNaW4iLCJwcm90b3R5cGVNYXgiLCJsYW5nIiwiaXNvV2Vla1llYXIiLCJnZXRTZXREYXlPZk1vbnRoIiwiZ2V0U2V0TWludXRlIiwiZ2V0U2V0U2Vjb25kIiwiZ2V0U2V0TWlsbGlzZWNvbmQiLCJwcm90byIsImlzb1dlZWtzIiwiaXNvV2Vla3NJblllYXIiLCJpc0RTVCIsInpvbmVBYmJyIiwiem9uZU5hbWUiLCJkYXRlcyIsImlzRFNUU2hpZnRlZCIsInByb3RvJDEiLCJmaXJzdERheU9mWWVhciIsImZpcnN0RGF5T2ZXZWVrIiwibGFuZ0RhdGEiLCJhc01pbGxpc2Vjb25kcyIsImFzTWludXRlcyIsImFzSG91cnMiLCJhc0RheXMiLCJhc1dlZWtzIiwiYXNNb250aHMiLCJhc1llYXJzIiwicHJvdG8kMiIsInRvSXNvU3RyaW5nIiwidmVyc2lvbiIsImludmFsaWQiLCJyZWxhdGl2ZVRpbWVSb3VuZGluZyIsInJlbGF0aXZlVGltZVRocmVzaG9sZCIsIjMwIiwiX3JjUmFkaW8iLCJfcmNSYWRpbzIiLCJSYWRpbyIsIl9jbGFzc05hbWVzMiIsImNoZWNrZWQiLCJ3cmFwcGVyQ2xhc3NTdHJpbmciLCIzMSIsIlRhYmxlIiwiQ29sdW1uIiwiQ29sdW1uR3JvdXAiLCIzNSIsIjM5IiwiUGx1Z2lucyIsInBsdWdpbiIsIjQxIiwicHJlZml4S2V5Iiwic3Vic3RyaW5nIiwidG9GaXhlZCIsIl9ybmQiLCJybmQiLCJuIiwiZGVjIiwiY3JlYXRlTWF0cml4Iiwid2luZG93IiwiV2ViS2l0Q1NTTWF0cml4IiwiTW96Q1NTTWF0cml4IiwiRE9NTWF0cml4IiwiTXNDU1NNYXRyaXgiLCJPQ1NTTWF0cml4IiwiQ1NTTWF0cml4IiwiY2hlY2tTdHlsZU5hbWUiLCJfcCIsInByZWZpeENzcyIsImZpbHRlciIsImdldEdzYXBUeXBlIiwicGFyc2VDb2xvciIsIl92IiwiciIsImciLCJ2IiwiX251bUV4cCIsImNvbG9yTG9va3VwIiwiTnVtYmVyIiwiX2h1ZSIsInRyYW5zcGFyZW50IiwiYmxhY2siLCJwYXJzZVNoYWRvdyIsImluc2V0IiwidHJpbSIsInNwbGljZSIsInZBcnIiLCJjb2xvciIsImdldENvbG9yIiwicmdiYSIsIl92YXJzIiwiaXNUcmFuc2Zvcm0iLCJjc3NMaXN0IiwiX2xpc3RzIiwidHJhbnNmb3Jtc0Jhc2UiLCJpc0NvbnZlcnQiLCJjc3NOYW1lIiwic3BsaXRGaWx0ZXJUb09iamVjdCIsInN0YXJ0RGF0YSIsImRhdGFBcnIiLCJnZXRNYXRyaXgiLCJtMTEiLCJtMTIiLCJtMTMiLCJtMTQiLCJtMjEiLCJtMjIiLCJtMjMiLCJtMjQiLCJtMzEiLCJtMzIiLCJtMzMiLCJtMzQiLCJtNDEiLCJtNDIiLCJtNDMiLCJtNDQiLCJnZXRUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJfdHJhbnNmb3JtIiwidDEiLCJ0MiIsInQzIiwidG0iLCJhc2luIiwiUkFEMkRFRyIsIkRFRzJSQUQiLCJ0YW4iLCJjb3MiLCJzaW4iLCJhdGFuMiIsInNxcnQiLCJzdHlsZXNUb0NzcyIsIl92YWx1ZSIsImlzVW5pdGxlc3NOdW1iZXIiLCJ1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4IiwiZ2V0VW5pdCIsImN1cnJlbnRVbml0IiwiZ2V0VmFsdWVzIiwiZmluZFN0eWxlQnlOYW1lIiwiY3NzQXJyYXkiLCJfY25hbWUiLCJjTmFtZSIsInRyYW5zZm9ybUdyb3VwIiwibWVyZ2VTdHlsZSIsImN1cnJlbnQiLCJjaGFuZ2UiLCJfY3VycmVudCIsIl9jaGFuZ2UiLCJjaGFuZ2VPbmx5IiwiY2hhbmdlQXJyIiwiY2hhbmdlTmFtZSIsImN1cnJlbnRTYW1lIiwidW5zaGlmdCIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYm9yZGVySW1hZ2VPdXRzZXQiLCJib3JkZXJJbWFnZVNsaWNlIiwiYm9yZGVySW1hZ2VXaWR0aCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJncmlkUm93IiwiZ3JpZENvbHVtbiIsImZvbnRXZWlnaHQiLCJsaW5lQ2xhbXAiLCJsaW5lSGVpZ2h0Iiwib3BhY2l0eSIsIm9yZGVyIiwib3JwaGFucyIsInRhYlNpemUiLCJ3aWRvd3MiLCJ6SW5kZXgiLCJ6b29tIiwiZmlsbE9wYWNpdHkiLCJmbG9vZE9wYWNpdHkiLCJzdG9wT3BhY2l0eSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHJva2VNaXRlcmxpbWl0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwicHJlZml4ZXMiLCJJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImFxdWEiLCJsaW1lIiwic2lsdmVyIiwibWFyb29uIiwidGVhbCIsImJsdWUiLCJuYXZ5Iiwid2hpdGUiLCJmdWNoc2lhIiwib2xpdmUiLCJ5ZWxsb3ciLCJvcmFuZ2UiLCJncmF5IiwicHVycGxlIiwiZ3JlZW4iLCJyZWQiLCJwaW5rIiwiY3lhbiIsIm0xIiwibTIiLCJQSSIsInRyYW5zZm9ybXMzRCIsInNjYWxlIiwic2NhbGUzZCIsInJvdGF0ZTNkIiwiZmlsdGVyQ29udmVydCIsImdyYXlTY2FsZSIsImh1ZVJvdGF0ZSIsIjQyIiwiQnV0dG9uIiwiX3JhZGlvIiwiX3JhZGlvMiIsIl9ncm91cCIsIl9ncm91cDIiLCJfcmFkaW9CdXR0b24iLCJfcmFkaW9CdXR0b24yIiwiNDYiLCJfcmNEcm9wZG93biIsIl9yY0Ryb3Bkb3duMiIsIkRyb3Bkb3duIiwiZ2V0VHJhbnNpdGlvbk5hbWUiLCJfcHJvcHMkcGxhY2VtZW50IiwicGxhY2VtZW50IiwiZHJvcGRvd25UcmlnZ2VyIiwiY2xvbmVFbGVtZW50IiwibW91c2VFbnRlckRlbGF5IiwibW91c2VMZWF2ZURlbGF5IiwiNDciLCJSYWRpb0J1dHRvbiIsIjQ4IiwiX3JjVGFibGUiLCJfcmNUYWJsZTIiLCJfUmNUYWJsZSRDb2x1bW5Hcm91cCIsIjUxIiwiNTIiLCJaRVJPIiwiTklORSIsIk5VTVBBRF9aRVJPIiwiTlVNUEFEX05JTkUiLCJCQUNLU1BBQ0UiLCJERUxFVEUiLCJFTlRFUiIsIkFSUk9XX1VQIiwiQVJST1dfRE9XTiIsIjUzIiwiaXRlbXNfcGVyX3BhZ2UiLCJqdW1wX3RvIiwicGFnZSIsInByZXZfcGFnZSIsIm5leHRfcGFnZSIsInByZXZfNSIsIm5leHRfNSIsInByZXZfMyIsIm5leHRfMyIsIjU4IiwiZ2V0VG9kYXlUaW1lIiwidG9kYXkiLCJfbW9tZW50MiIsImdldFRpdGxlU3RyaW5nIiwiZ2V0VG9kYXlUaW1lU3RyIiwic3luY1RpbWUiLCJnZXRUaW1lQ29uZmlnIiwiZGlzYWJsZWRUaW1lIiwiZGlzYWJsZWRUaW1lQ29uZmlnIiwiZGVmYXVsdERpc2FibGVkVGltZSIsImlzVGltZVZhbGlkQnlDb25maWciLCJpbnZhbGlkVGltZSIsImRpc2FibGVkSG91cnMiLCJkaXNhYmxlZE1pbnV0ZXMiLCJkaXNhYmxlZFNlY29uZHMiLCJpc1RpbWVWYWxpZCIsImlzQWxsb3dlZERhdGUiLCJkaXNhYmxlZERhdGUiLCJfbW9tZW50IiwiNjAiLCJfVGFibGUiLCJfVGFibGUyIiwiNjEiLCI2NSIsIl9kZWZhdWx0cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIm5vb3AiLCJfZXh0ZW5kcyIsImFzc2lnbiIsIl9yZWFjdERvbSIsIl9yZWFjdERvbTIiLCJfdXRpbCIsIl9zdHlsZVV0aWxzIiwiX1RpbWVMaW5lIiwiX1RpbWVMaW5lMiIsIl9wbHVnaW5zIiwiX3BsdWdpbnMyIiwiX3RpY2tlciIsIl90aWNrZXIyIiwicGVyRnJhbWUiLCJUd2Vlbk9uZSIsIl9Db21wb25lbnQiLCJfdGhpcyIsInJlc3RhcnQiLCJzdGFydE1vbWVudCIsInRpbWVMaW5lIiwicHJvZ3Jlc3NUaW1lIiwic3RhcnRGcmFtZSIsImZyYW1lIiwicGxheSIsInN0YXJ0IiwiYW5pbWF0aW9uIiwiZG9tIiwiYXR0ciIsIndpbGxDaGFuZ2UiLCJyYWYiLCJjYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwYXVzZWQiLCJyYWZJRCIsInJlZ2lzdGVyIiwicmVnaXN0ZXJNb21lbnQiLCJyZXZlcnNlIiwidG90YWxUaW1lIiwicmVzZXREZWZhdWx0U3R5bGUiLCJvbkNoYW5nZSIsImNsZWFyIiwibmV3TW9tZW50QW5pbSIsImNvbXBvbmVudERpZE1vdW50IiwiZmluZERPTU5vZGUiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiX3RoaXMyIiwibmV3TW9tZW50IiwicmVzZXRBbmltRGF0YSIsInNldEF0dHJpYnV0ZSIsIm5ld0FuaW1hdGlvbiIsImN1cnJlbnRBbmltYXRpb24iLCJlcXVhbCIsInN0eWxlRXF1YWwiLCJyZXN0YXJ0QW5pbSIsInJlc2V0U3R5bGVCb29sIiwicmV2ZXJzZURlbGF5IiwidGltZW91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY29tcG9uZW50IiwiY29tcG9uZW50UmVwbGFjZSIsIm9iamVjdE9yQXJyYXkiLCJvbmVPZlR5cGUiLCJvYmplY3QiLCJwbHVnaW5zIiwiNjYiLCJfdHdlZW5GdW5jdGlvbnMiLCJfdHdlZW5GdW5jdGlvbnMyIiwiX3BhdGgiLCJfcGFyYW0iLCJwYXJhbSIsInBhdGhOb2RlIiwicGF0aExlbmd0aCIsImdldFRvdGFsTGVuZ3RoIiwicmVjdCIsImxlbmd0aFBpeGVsIiwicG9pbnRzIiwiZ2V0UG9pbnRBdExlbmd0aCIsIl9jIiwibGluZWFyIiwidGltZVBvaW50WCIsInBvaW50IiwiNzEiLCI3MiIsIjc0IiwiTUVOVSIsIkRFVEFJTCIsIkFERCIsIlVQREFURSIsIkNIRUNLIiwiVVBMT0FEIiwiNzYiLCJyb290IiwidmVuZG9ycyIsImNhZiIsImxhc3QiLCJpZCIsInF1ZXVlIiwiZnJhbWVEdXJhdGlvbiIsIl9ub3ciLCJzZXRUaW1lb3V0IiwiY3AiLCJjYW5jZWxsZWQiLCJoYW5kbGUiLCJjYW5jZWwiLCJwb2x5ZmlsbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiODIiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3RvQ29uc3VtYWJsZUFycmF5MyIsIl9pbmRleCIsIl9pbmRleDIiLCJDaGVja2JveEdyb3VwIiwidG9nZ2xlT3B0aW9uIiwib3B0aW9uIiwib3B0aW9uSW5kZXgiLCJzdGF0ZSIsInNldFN0YXRlIiwiZGVmYXVsdFZhbHVlIiwiZ2V0T3B0aW9ucyIsIm9wdGlvbnMiLCJpc1JlcXVpcmVkIiwiODMiLCJfYnV0dG9uIiwiX2J1dHRvbjIiLCJfaWNvbiIsIl9pY29uMiIsIl9kcm9wZG93biIsIl9kcm9wZG93bjIiLCJCdXR0b25Hcm91cCIsIkRyb3Bkb3duQnV0dG9uIiwib3ZlcmxheSIsInRyaWdnZXIiLCJhbGlnbiIsIm9uQ2xpY2siLCJ2aXNpYmxlIiwib25WaXNpYmxlQ2hhbmdlIiwiZHJvcGRvd25Qcm9wcyIsImFkanVzdFgiLCJhZGp1c3RZIiwidGFyZ2V0T2Zmc2V0IiwiODQiLCJfZHJvcGRvd25CdXR0b24iLCJfZHJvcGRvd25CdXR0b24yIiwiODUiLCI4OSIsIl9zZWxlY3QiLCJfc2VsZWN0MiIsIk1pbmlTZWxlY3QiLCI5MCIsIl9yY1BhZ2luYXRpb24iLCJfcmNQYWdpbmF0aW9uMiIsIl9NaW5pU2VsZWN0IiwiX01pbmlTZWxlY3QyIiwiX3poX0NOIiwiX3poX0NOMiIsIlBhZ2luYXRpb24iLCJzZWxlY3RDb21wb25lbnRDbGFzcyIsInNlbGVjdFByZWZpeENscyIsImNvbnRleHRUeXBlcyIsIjkxIiwiX1BhZ2luYXRpb24iLCJfUGFnaW5hdGlvbjIiLCI5MiIsIjkzIiwiZ2V0Q2hlY2tlZFZhbHVlIiwicmFkaW8iLCJfb2JqZWN0QXNzaWduIiwiX29iamVjdEFzc2lnbjIiLCJSYWRpb0dyb3VwIiwib25SYWRpb0NoYW5nZSIsImV2IiwibGFzdFZhbHVlIiwiY2hlY2tlZFZhbHVlIiwiX3Byb3BzJHByZWZpeENscyIsIjk0IiwiOTUiLCJfUmNUYWJsZSRDb2x1bW4iLCI5NiIsIjk3IiwiX2NoZWNrYm94IiwiX2NoZWNrYm94MiIsIlNlbGVjdGlvbkJveCIsImdldENoZWNrU3RhdGUiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInN0b3JlIiwiZGVmYXVsdFNlbGVjdGlvbiIsInJvd0luZGV4IiwiZ2V0U3RhdGUiLCJzZWxlY3Rpb25EaXJ0eSIsInNlbGVjdGVkUm93S2V5cyIsIjk4IiwiU2VsZWN0aW9uQ2hlY2tib3hBbGwiLCJnZXRJbmRldGVybWluYXRlU3RhdGUiLCJzZXRDaGVja1N0YXRlIiwiY2hlY2tTZWxlY3Rpb24iLCJieURlZmF1bHRDaGVja2VkIiwiZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSIsImdldFJlY29yZEtleSIsImRlZmF1bHRDaGVja2VkIiwiX3N0YXRlIiwiOTkiLCJzdG9wUHJvcGFnYXRpb24iLCJuYXRpdmVFdmVudCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl90eXBlb2YyIiwiX3R5cGVvZjMiLCJfZmlsdGVyRHJvcGRvd24iLCJfZmlsdGVyRHJvcGRvd24yIiwiX3BhZ2luYXRpb24iLCJfcGFnaW5hdGlvbjIiLCJfc3BpbiIsIl9zcGluMiIsIl93YXJuaW5nIiwiX3dhcm5pbmcyIiwiX2NyZWF0ZVN0b3JlIiwiX2NyZWF0ZVN0b3JlMiIsIl9TZWxlY3Rpb25Cb3giLCJfU2VsZWN0aW9uQm94MiIsIl9TZWxlY3Rpb25DaGVja2JveEFsbCIsIl9TZWxlY3Rpb25DaGVja2JveEFsbDIiLCJfQ29sdW1uIiwiX0NvbHVtbjIiLCJfQ29sdW1uR3JvdXAiLCJfQ29sdW1uR3JvdXAyIiwiX19hc3NpZ24iLCJkZWZhdWx0TG9jYWxlIiwiZmlsdGVyVGl0bGUiLCJmaWx0ZXJDb25maXJtIiwiZmlsdGVyUmVzZXQiLCJlbXB0eVRleHQiLCJkZWZhdWx0UGFnaW5hdGlvbiIsIm9uU2hvd1NpemVDaGFuZ2UiLCJfdGhpcyRwcm9wcyRyb3dTZWxlY3QiLCJyb3dTZWxlY3Rpb24iLCJnZXRDaGVja2JveFByb3BzIiwiQ2hlY2tib3hQcm9wc0NhY2hlIiwiaGFuZGxlRmlsdGVyIiwiY29sdW1uIiwibmV4dEZpbHRlcnMiLCJwYWdpbmF0aW9uIiwiZmlsdGVycyIsImdldENvbHVtbktleSIsImN1cnJlbnRDb2x1bW5LZXlzIiwidHJlZU1hcCIsImNvbHVtbnMiLCJjb2x1bW5LZXkiLCJuZXdTdGF0ZSIsImZpbHRlcnNUb1NldFN0YXRlIiwiZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMiLCJjb2wiLCJwcmVwYXJlUGFyYW1zQXJndW1lbnRzIiwiaGFuZGxlU2VsZWN0IiwicmVjb3JkIiwiZ2V0RGVmYXVsdFNlbGVjdGlvbiIsInNldFNlbGVjdGVkUm93S2V5cyIsInNlbGVjdFdheSIsImhhbmRsZVJhZGlvU2VsZWN0IiwiaGFuZGxlU2VsZWN0QWxsUm93IiwiZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSIsImNoYW5nYWJsZVJvd0tleXMiLCJjaGFuZ2VSb3dLZXlzIiwiaGFuZGxlUGFnZUNoYW5nZSIsIm90aGVyQXJndW1lbnRzIiwicmVuZGVyU2VsZWN0aW9uQm94IiwiXyIsImhhbmRsZUNoYW5nZSIsInJvd0tleSIsInJlY29yZEtleSIsImhhbmRsZVNob3dTaXplQ2hhbmdlIiwicGFnZVNpemUiLCJuZXh0UGFnaW5hdGlvbiIsIm5vcm1hbGl6ZUNvbHVtbnMiLCJnZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyIsImdldEZpbHRlcnNGcm9tQ29sdW1ucyIsImdldERlZmF1bHRQYWdpbmF0aW9uIiwiX3Byb3BzJHJvd1NlbGVjdGlvbiIsImdldEZsYXREYXRhIiwiaGFzUGFnaW5hdGlvbiIsImRlZmF1bHRDdXJyZW50IiwiZGVmYXVsdFBhZ2VTaXplIiwicHJldmlvdXNTdGF0ZSIsIm5ld1BhZ2luYXRpb24iLCJkYXRhU291cmNlIiwiZ2V0U29ydE9yZGVyQ29sdW1ucyIsInNvcnRTdGF0ZSIsInNvcnRDb2x1bW4iLCJzb3J0T3JkZXIiLCJmaWx0ZXJlZFZhbHVlQ29sdW1ucyIsImZpbHRlcnNGcm9tQ29sdW1ucyIsIm5ld0ZpbHRlcnMiLCJpc0ZpbHRlcnNDaGFuZ2VkIiwiX3JlZiIsIl90aGlzMyIsIl9wcm9wcyRyb3dTZWxlY3Rpb24yIiwic2VsZWN0ZWRSb3dzIiwicm93Iiwib25TZWxlY3QiLCJvblNlbGVjdEFsbCIsImNoYW5nZVJvd3MiLCJfdGhpczQiLCJmaWx0ZXJzQ2hhbmdlZCIsImZpbHRlcmVkVmFsdWUiLCJfdGhpczUiLCJzb3J0ZWRDb2x1bW4iLCJnZXRTb3J0ZXJGbiIsInNvcnRlciIsInRvZ2dsZVNvcnRPcmRlciIsIl9zdGF0ZTIiLCJpc1NvcnRDb2x1bW4iLCJyZW5kZXJSb3dTZWxlY3Rpb24iLCJfdGhpczYiLCJzZWxlY3Rpb25Db2x1bW4iLCJjaGVja2JveEFsbERpc2FibGVkIiwiZXZlcnkiLCJ0aXRsZSIsImRhdGFJbmRleCIsImdldE1heEN1cnJlbnQiLCJfc3RhdGUkcGFnaW5hdGlvbiIsInJlbmRlckNvbHVtbnNEcm9wZG93biIsIl90aGlzNyIsImRyb3Bkb3duUHJlZml4Q2xzIiwib3JpZ2luQ29sdW1uIiwiZmlsdGVyRHJvcGRvd24iLCJzb3J0QnV0dG9uIiwiY29sRmlsdGVycyIsImNvbmZpcm1GaWx0ZXIiLCJpc0FzY2VuZCIsImlzRGVzY2VuZCIsInJlbmRlclBhZ2luYXRpb24iLCJnZXRMb2NhbERhdGEiLCJmaW5kQ29sdW1uIiwibXlLZXkiLCJfdGhpczgiLCJnZXRDdXJyZW50UGFnZURhdGEiLCJNQVhfVkFMVUUiLCJmbGF0QXJyYXkiLCJyZWN1cnNpdmVTb3J0Iiwic29ydGVyRm4iLCJfdGhpczkiLCJfcHJvcHMkY2hpbGRyZW5Db2x1bW4iLCJjaGlsZHJlbkNvbHVtbk5hbWUiLCJfdGhpczEwIiwib25GaWx0ZXIiLCJfdGhpczExIiwic2hvd0hlYWRlciIsImxvYWRpbmciLCJleHBhbmRJY29uQXNDZWxsIiwiZXhwYW5kZWRSb3dSZW5kZXIiLCJib3JkZXJlZCIsIm5ld0NvbHVtbiIsImV4cGFuZEljb25Db2x1bW5JbmRleCIsInRhYmxlIiwicGFnaW5hdGlvblBhdGNoQ2xhc3MiLCJzcGlubmluZyIsInVzZUZpeGVkSGVhZGVyIiwiaW5kZW50U2l6ZSIsIjEwMCIsImNyZWF0ZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwicGFydGlhbCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiMTAxIiwiX3JjTWVudSIsIl9yY01lbnUyIiwiX2RvbUNsb3Nlc3QiLCJfZG9tQ2xvc2VzdDIiLCJfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciIsIl9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMiIsIkZpbHRlck1lbnUiLCJzZXRTZWxlY3RlZEtleXMiLCJoYW5kbGVDbGVhckZpbHRlcnMiLCJoYW5kbGVDb25maXJtIiwic2V0VmlzaWJsZSIsImhhbmRsZU1lbnVJdGVtQ2xpY2siLCJpbmZvIiwia2V5UGF0aCIsImtleVBhdGhPZlNlbGVjdGVkSXRlbSIsImZpbHRlckRyb3Bkb3duVmlzaWJsZSIsInJvb3ROb2RlIiwiZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5IiwibmV2ZXJTaG93biIsIm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlIiwicmVuZGVyTWVudUl0ZW0iLCJmaWx0ZXJNdWx0aXBsZSIsIkl0ZW0iLCJ0ZXh0IiwiaGFzU3ViTWVudSIsIl9wcm9wcyRjb2x1bW4kZmlsdGVycyIsInJlbmRlck1lbnVzIiwiaXRlbXMiLCJjb250YWluU2VsZWN0ZWQiLCJzdWJNZW51Q2xzIiwiU3ViTWVudSIsImRyb3Bkb3duTWVudUNsYXNzIiwibWVudXMiLCJvbkRlc2VsZWN0IiwiZHJvcGRvd25TZWxlY3RlZENsYXNzIiwiMTAyIiwiY2hpbGRyZW5OYW1lIiwibG9vcCIsIm5ld0l0ZW0iLCJ0cmVlIiwibWFwcGVyIiwibm9kZSIsImV4dHJhIiwiZWxlbWVudHMiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCIxMDUiLCJzZWxlY3RvciIsIjEwNiIsImVsZW0iLCJFbGVtZW50IiwibmF0aXZlTWF0Y2hlcyIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm5vZGVUeXBlIiwicGFyZW50RWxlbSIsIm5vZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsIjEwNyIsIjEwOCIsIjExMCIsIjExMSIsIjExMiIsIjExMyIsIjExNSIsInByb2Nlc3MiLCJnZXROYW5vU2Vjb25kcyIsImhydGltZSIsImxvYWRUaW1lIiwicGVyZm9ybWFuY2UiLCJociIsIjExNiIsIl9kZWZpbmVQcm9wZXJ0eSIsImhhbmRsZUZvY3VzIiwiZm9jdXMiLCJvbkZvY3VzIiwiaGFuZGxlQmx1ciIsIm9uQmx1ciIsInJlYWRPbmx5IiwidGFiSW5kZXgiLCIxMTciLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfcmNUcmlnZ2VyIiwiX3JjVHJpZ2dlcjIiLCJfcGxhY2VtZW50cyIsIl9wbGFjZW1lbnRzMiIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIiLCJvdmVybGF5Q2xhc3NOYW1lIiwib3ZlcmxheVN0eWxlIiwic2hvd0FjdGlvbiIsImhpZGVBY3Rpb24iLCJnZXRQb3B1cENvbnRhaW5lciIsImdldERlZmF1bHRQcm9wcyIsImRlZmF1bHRWaXNpYmxlIiwiZ2V0SW5pdGlhbFN0YXRlIiwib3ZlcmxheVByb3BzIiwiZ2V0TWVudUVsZW1lbnQiLCJnZXRQb3B1cERvbU5vZGUiLCJyZWZzIiwiYWZ0ZXJWaXNpYmxlQ2hhbmdlIiwib3ZlcmxheU5vZGUiLCJvZmZzZXRXaWR0aCIsIndpZHRoIiwib3RoZXJQcm9wcyIsInJlZiIsInBvcHVwQ2xhc3NOYW1lIiwicG9wdXBTdHlsZSIsImJ1aWx0aW5QbGFjZW1lbnRzIiwiYWN0aW9uIiwicG9wdXBQbGFjZW1lbnQiLCJwb3B1cEFsaWduIiwicG9wdXBUcmFuc2l0aW9uTmFtZSIsInBvcHVwQW5pbWF0aW9uIiwicG9wdXBWaXNpYmxlIiwiYWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2UiLCJwb3B1cCIsIm9uUG9wdXBWaXNpYmxlQ2hhbmdlIiwiMTE4IiwiX0Ryb3Bkb3duIiwiX0Ryb3Bkb3duMiIsIjExOSIsImF1dG9BZGp1c3RPdmVyZmxvdyIsInBsYWNlbWVudHMiLCJ0b3BMZWZ0IiwidG9wQ2VudGVyIiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiYm90dG9tQ2VudGVyIiwiYm90dG9tUmlnaHQiLCIxMjAiLCJSZWFjdCIsIktFWUNPREUiLCJPcHRpb25zIiwibWV0aG9kIiwiYmluZCIsIl9idWlsZE9wdGlvblRleHQiLCJfY2hhbmdlU2l6ZSIsImNoYW5nZVNpemUiLCJfaGFuZGxlQ2hhbmdlIiwiZXZ0IiwiX3ZhbCIsIl9nbyIsImtleUNvZGUiLCJxdWlja0dvIiwicm9vdFByZWZpeENscyIsImJ1aWxkT3B0aW9uVGV4dCIsImNoYW5nZVNlbGVjdCIsImdvSW5wdXQiLCJwYWdlU2l6ZU9wdGlvbnMiLCJvcHQiLCJkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGgiLCJvbktleVVwIiwiYXJyYXlPZiIsIjEyMSIsIlBhZ2VyIiwiYWN0aXZlIiwiMTIyIiwiTE9DQUxFIiwiaGFzT25DaGFuZ2UiLCJoYXNDdXJyZW50IiwibmV3Q3VycmVudCIsIl9jYWxjUGFnZSIsIl9oYW5kbGVLZXlEb3duIiwiX2hhbmRsZUtleVVwIiwiX2NoYW5nZVBhZ2VTaXplIiwiX3ByZXYiLCJfaGFzUHJldiIsIl9uZXh0IiwiX2hhc05leHQiLCJfanVtcFByZXYiLCJzaG93TGVzc0l0ZW1zIiwiX2p1bXBOZXh0IiwiYWxsUGFnZXMiLCJwYWdlckxpc3QiLCJqdW1wUHJldiIsImp1bXBOZXh0IiwiZmlyc3RQYWdlciIsImxhc3RQYWdlciIsInBhZ2VCdWZmZXJTaXplIiwic2ltcGxlIiwib25LZXlEb3duIiwibGVmdCIsInJpZ2h0IiwiX2FjdGl2ZSIsInRvdGFsVGV4dCIsInNob3dUb3RhbCIsInNob3dTaXplQ2hhbmdlciIsInNob3dRdWlja0p1bXBlciIsIjEyMyIsIjEyNCIsIjEyNSIsIjEyNiIsIl90b0FycmF5IiwiX3RvQXJyYXkyIiwiX2RvbVNjcm9sbEludG9WaWV3IiwiX2RvbVNjcm9sbEludG9WaWV3MiIsIkRyb3Bkb3duTWVudSIsImRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbiIsImRyb3Bkb3duTWVudVN0eWxlIiwib25Qb3B1cEZvY3VzIiwib25NZW51RGVTZWxlY3QiLCJvbk1lbnVTZWxlY3QiLCJpbnB1dFZhbHVlIiwiY29tcG9uZW50V2lsbE1vdW50IiwibGFzdElucHV0VmFsdWUiLCJzY3JvbGxBY3RpdmVJdGVtVG9WaWV3IiwibGFzdFZpc2libGUiLCJwcmV2UHJvcHMiLCJpdGVtQ29tcG9uZW50IiwiZmlyc3RBY3RpdmVJdGVtIiwibWVudSIsIm9ubHlTY3JvbGxJZk5lZWRlZCIsInJlbmRlck1lbnUiLCJfcmV0IiwibWVudVByb3BzIiwib25NZW51RGVzZWxlY3QiLCJhY3RpdmVLZXlQcm9wcyIsImNsb25lZE1lbnVJdGVtcyIsImFjdGl2ZUtleSIsImZvdW5kRmlyc3QiLCJkZWZhdWx0QWN0aXZlRmlyc3QiLCJmb2N1c2FibGUiLCJvbk1vdXNlRG93biIsIjEyNyIsImZpbHRlck9wdGlvbiIsInJlbmRlckZpbHRlck9wdGlvbnMiLCJyZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuIiwic2hvd05vdEZvdW5kIiwiaXYiLCJzZWwiLCJjaGlsZHJlbktleXMiLCJpc1NlbGVjdE9wdEdyb3VwIiwiaW5uZXJJdGVtcyIsIkl0ZW1Hcm91cCIsImlzU2VsZWN0T3B0aW9uIiwiY2hpbGRWYWx1ZSIsImF0dHJpYnV0ZSIsInNpbmdsZVZhbHVlIiwiU3RyaW5nIiwibm90RmluZElucHV0SXRlbSIsIjEyOCIsIjEyOSIsIjEzMCIsImZpbHRlckZuIiwib3B0aW9uRmlsdGVyUHJvcCIsInNhdmVSZWYiLCJfS2V5Q29kZSIsIl9LZXlDb2RlMiIsIl9jbGFzc25hbWVzMyIsIl9yY0FuaW1hdGUiLCJfcmNBbmltYXRlMiIsIl9jb21wb25lbnRDbGFzc2VzIiwiX2NvbXBvbmVudENsYXNzZXMyIiwiX1NlbGVjdFRyaWdnZXIiLCJfU2VsZWN0VHJpZ2dlcjIiLCJfRmlsdGVyTWl4aW4iLCJfRmlsdGVyTWl4aW4yIiwidmFsdWVPYmplY3RTaGFwZSIsInNoYXBlIiwiYWxsb3dDbGVhciIsInNob3dBcnJvdyIsIm9uU2VhcmNoIiwicGxhY2Vob2xkZXIiLCJsYWJlbEluVmFsdWUiLCJkcm9wZG93blN0eWxlIiwibWF4VGFnVGV4dExlbmd0aCIsInRva2VuU2VwYXJhdG9ycyIsImdldElucHV0RWxlbWVudCIsIm1peGlucyIsImRlZmF1bHRPcGVuIiwiYWRkTGFiZWxUb1ZhbHVlIiwiYWRkVGl0bGVUb1ZhbHVlIiwiZ2V0TGFiZWxGcm9tUHJvcHMiLCJzYXZlSW5wdXRSZWYiLCJzYXZlSW5wdXRNaXJyb3JSZWYiLCJvcGVuIiwiYWRqdXN0T3BlblN0YXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsIm5leHRTdGF0ZSIsImlucHV0Tm9kZSIsImdldElucHV0RE9NTm9kZSIsIm1pcnJvck5vZGUiLCJnZXRJbnB1dE1pcnJvckRPTU5vZGUiLCJjbGVhckJsdXJUaW1lIiwiY2xlYXJBZGp1c3RUaW1lciIsImRyb3Bkb3duQ29udGFpbmVyIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsInJlbW92ZUNoaWxkIiwib25JbnB1dENoYW5nZSIsImV2ZW50IiwibmV4dFZhbHVlIiwidG9rZW5pemUiLCJmaXJlQ2hhbmdlIiwic2V0T3BlblN0YXRlIiwic2V0SW5wdXRWYWx1ZSIsIm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlIiwib25JbnB1dEtleURvd24iLCJET1dOIiwicmVtb3ZlU2VsZWN0ZWQiLCJvcGVuSWZIYXNDaGlsZHJlbiIsIkVTQyIsImdldElubmVyTWVudSIsInNlbGVjdGVkVmFsdWUiLCJzZWxlY3RlZExhYmVsIiwiZ2V0TGFiZWxGcm9tT3B0aW9uIiwic2VsZWN0ZWRUaXRsZSIsInNraXBBZGp1c3RPcGVuIiwic2tpcEFkanVzdE9wZW5UaW1lciIsIl9yZWYyIiwiZG9tRXZlbnQiLCJvbkFycm93Q2xpY2siLCJvblBsYWNlaG9sZGVyQ2xpY2siLCJvbk91dGVyRm9jdXMiLCJfZm9jdXNlZCIsInVwZGF0ZUZvY3VzQ2xhc3NOYW1lIiwibWF5YmVGb2N1cyIsIm9uT3V0ZXJCbHVyIiwiYmx1clRpbWVyIiwiX29wdGlvbnMiLCJmaXJzdE9wdGlvbiIsImdldFZMRm9yT25DaGFuZ2UiLCJvbkNsZWFyU2VsZWN0aW9uIiwib25DaG9pY2VBbmltYXRpb25MZWF2ZSIsImZvcmNlUG9wdXBBbGlnbiIsImdldExhYmVsQnlTaW5nbGVWYWx1ZSIsIm1heWJlIiwiZ2V0VmFsdWVCeUxhYmVsIiwiZ2V0TGFiZWxCeVZhbHVlIiwidmxzXyIsInZscyIsInZsIiwiZ2V0RHJvcGRvd25Db250YWluZXIiLCJhcHBlbmRDaGlsZCIsImdldFBsYWNlaG9sZGVyRWxlbWVudCIsImhpZGRlbiIsImRpc3BsYXkiLCJpbnB1dEVsZW1lbnQiLCJpbnB1dENscyIsImlucHV0SW5zdGFuY2UiLCJpbnB1dE1pcnJvckluc3RhbmNlIiwiZ2V0UG9wdXBET01Ob2RlIiwiZ2V0UG9wdXBNZW51Q29tcG9uZW50IiwibmVlZEZvY3VzIiwiZmlyZVNlYXJjaCIsImNsZWFyVGltZW91dCIsInJlbW92ZSIsIl9kb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzZWxlY3Rpb24iLCJ2YWx1ZV8iLCJuZXh0VmFsdWVzIiwidmFsdWVJbmRleCIsInNlbGVjdGVkS2V5IiwiaXNDaGlsZERpc2FibGVkIiwiY2FuTXVsdGlwbGUiLCJjb3VudCIsInJlbmRlclRvcENvbnRyb2xOb2RlIiwiaW5uZXJOb2RlIiwic2hvd1NlbGVjdGVkVmFsdWUiLCJzZWxlY3RlZFZhbHVlTm9kZXMiLCJjb250ZW50IiwiY2hvaWNlQ2xhc3NOYW1lIiwib25MZWF2ZSIsIl9yb290Q2xzIiwiY3RybE5vZGUiLCJleHRyYVNlbGVjdGlvblByb3BzIiwicm9vdENscyIsImNsZWFyU3R5bGUiLCJkcm9wZG93bkFsaWduIiwiZHJvcGRvd25DbGFzc05hbWUiLCJyb2xlIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLWhhc3BvcHVwIiwiYXJpYS1leHBhbmRlZCIsIjEzMSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzIiwiX0Ryb3Bkb3duTWVudSIsIl9Ecm9wZG93bk1lbnUyIiwiQlVJTFRfSU5fUExBQ0VNRU5UUyIsIlNlbGVjdFRyaWdnZXIiLCJkcm9wZG93bkRPTU5vZGUiLCJ3aWR0aFByb3AiLCJwb3B1cE1lbnUiLCJnZXREcm9wZG93bkVsZW1lbnQiLCJuZXdQcm9wcyIsInNhdmVNZW51IiwiZ2V0RHJvcGRvd25QcmVmaXhDbHMiLCJnZXREcm9wZG93blRyYW5zaXRpb25OYW1lIiwiX3BvcHVwQ2xhc3NOYW1lIiwicG9wdXBFbGVtZW50IiwiMTMyIiwiX1NlbGVjdCIsIl9TZWxlY3QyIiwiX09wdGlvbiIsIl9PcHRpb24yIiwiX09wdEdyb3VwIiwiX09wdEdyb3VwMiIsIjEzMyIsIjEzNCIsImNvbFNwYW4iLCJvbkNlbGxDbGljayIsIjEzNSIsImlzVGFibGVDb2x1bW5Hcm91cCIsIjEzNiIsIl90b0NvbnN1bWFibGVBcnJheSIsImFycjIiLCJDb2x1bW5NYW5hZ2VyIiwiX2NhY2hlZCIsIm5vcm1hbGl6ZSIsImlzQW55Q29sdW1uc0ZpeGVkIiwiX2NhY2hlIiwiaXNBbnlDb2x1bW5zTGVmdEZpeGVkIiwiaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCIsImxlZnRDb2x1bW5zIiwiZ3JvdXBlZENvbHVtbnMiLCJyaWdodENvbHVtbnMiLCJsZWFmQ29sdW1ucyIsIl9sZWFmQ29sdW1ucyIsImxlZnRMZWFmQ29sdW1ucyIsInJpZ2h0TGVhZkNvbHVtbnMiLCJfZ3JvdXBDb2x1bW5zIiwiY3VycmVudFJvdyIsInBhcmVudENvbHVtbiIsInJvd3MiLCJncm91cGVkIiwic2V0Um93U3BhbiIsInJvd1NwYW4iLCJyZXNldCIsIjEzNyIsIl9zaGFsbG93ZXF1YWwiLCJfc2hhbGxvd2VxdWFsMiIsIkV4cGFuZEljb24iLCJleHBhbmRhYmxlIiwib25FeHBhbmQiLCJuZWVkSW5kZW50U3BhY2VkIiwiZXhwYW5kZWQiLCJleHBhbmRDbGFzc05hbWUiLCIxMzgiLCJfVGFibGVSb3ciLCJfVGFibGVSb3cyIiwiX1RhYmxlSGVhZGVyIiwiX1RhYmxlSGVhZGVyMiIsIl91dGlscyIsIl9hZGRFdmVudExpc3RlbmVyIiwiX2FkZEV2ZW50TGlzdGVuZXIyIiwiX0NvbHVtbk1hbmFnZXIiLCJfQ29sdW1uTWFuYWdlcjIiLCJvbkV4cGFuZGVkIiwiZmluZEV4cGFuZGVkUm93IiwiZXhwYW5kZWRSb3dzIiwiZ2V0RXhwYW5kZWRSb3dzIiwiZ2V0Um93S2V5Iiwib25FeHBhbmRlZFJvd3NDaGFuZ2UiLCJvblJvd0Rlc3Ryb3kiLCJoYW5kbGVXaW5kb3dSZXNpemUiLCJzeW5jRml4ZWRUYWJsZVJvd0hlaWdodCIsInNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lIiwidGFibGVSZWN0IiwidGFibGVOb2RlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGVpZ2h0IiwiaGVhZFJvd3MiLCJoZWFkVGFibGUiLCJib2R5VGFibGUiLCJib2R5Um93cyIsImZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0IiwiZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQiLCJkZXRlY3RTY3JvbGxUYXJnZXQiLCJzY3JvbGxUYXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiaGFuZGxlQm9keVNjcm9sbCIsIl90aGlzJHByb3BzJHNjcm9sbCIsInNjcm9sbCIsIl90aGlzJHJlZnMiLCJmaXhlZENvbHVtbnNCb2R5TGVmdCIsImZpeGVkQ29sdW1uc0JvZHlSaWdodCIsInNjcm9sbExlZnQiLCJsYXN0U2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImhhbmRsZVJvd0hvdmVyIiwiaXNIb3ZlciIsImN1cnJlbnRIb3ZlcktleSIsImV4cGFuZGVkUm93S2V5cyIsImNvbHVtbk1hbmFnZXIiLCJzZXRTY3JvbGxQb3NpdGlvbiIsImRlZmF1bHRFeHBhbmRBbGxSb3dzIiwiZGVmYXVsdEV4cGFuZGVkUm93S2V5cyIsImRlYm91bmNlZFdpbmRvd1Jlc2l6ZSIsImRlYm91bmNlIiwicmVzaXplRXZlbnQiLCJoYXNTY3JvbGxYIiwicmVzZXRTY3JvbGxYIiwid2FybmluZ09uY2UiLCJnZXRIZWFkZXIiLCJnZXRIZWFkZXJSb3dzIiwidHJTdHlsZSIsImdldEhlYWRlclJvd1N0eWxlIiwicm93U3R5bGUiLCJjZWxsIiwiZ2V0RXhwYW5kZWRSb3ciLCJjb2xDb3VudCIsImluZGVudCIsImdldFJvd3NCeURhdGEiLCJleHBhbmRSb3dCeUNsaWNrIiwicnN0Iiwicm93Q2xhc3NOYW1lIiwicm93UmVmIiwiZXhwYW5kZWRSb3dDbGFzc05hbWUiLCJvblJvd0NsaWNrIiwib25Sb3dEb3VibGVDbGljayIsImNoaWxkcmVuQ29sdW1uIiwiaXNSb3dFeHBhbmRlZCIsImV4cGFuZGVkUm93Q29udGVudCIsIm9uSG92ZXJQcm9wcyIsIm9uSG92ZXIiLCJvbkRlc3Ryb3kiLCJob3ZlcktleSIsInN1YlZpc2libGUiLCJnZXRSb3dzIiwiZ2V0Q29sR3JvdXAiLCJjb2xzIiwibWluV2lkdGgiLCJnZXRMZWZ0Rml4ZWRUYWJsZSIsImdldFRhYmxlIiwiZ2V0UmlnaHRGaXhlZFRhYmxlIiwiX3Byb3BzMyIsIl9wcm9wczMkc2Nyb2xsIiwiZ2V0Qm9keVdyYXBwZXIiLCJib2R5U3R5bGUiLCJoZWFkU3R5bGUiLCJ0YWJsZUNsYXNzTmFtZSIsIm92ZXJmbG93WCIsImlubmVyQm9keVN0eWxlIiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwic2Nyb2xsYmFyV2lkdGgiLCJtZWFzdXJlU2Nyb2xsYmFyIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsInJlbmRlclRhYmxlIiwiaGFzSGVhZCIsImhhc0JvZHkiLCJ0YWJsZVN0eWxlIiwidGFibGVMYXlvdXQiLCJ0YWJsZUJvZHkiLCJvbk1vdXNlT3ZlciIsIm9uVG91Y2hTdGFydCIsIm9uU2Nyb2xsIiwicmVmTmFtZSIsImdldFRpdGxlIiwiX3Byb3BzNCIsImdldEZvb3RlciIsIl9wcm9wczUiLCJmb290ZXIiLCJnZXRFbXB0eVRleHQiLCJfcHJvcHM2IiwiaGVhZGVySGVpZ2h0IiwicG9zaXRpb24iLCJzY3JvbGxQb3NpdGlvbiIsInNjcm9sbFRvTGVmdCIsInNjcm9sbFRvUmlnaHQiLCJfcHJvcHMkc2Nyb2xsIiwiaXNUYWJsZVNjcm9sbCIsInNjcm9sbFRhYmxlIiwiMTM5IiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwiVGFibGVDZWxsIiwiX3RlbXAiLCJoYW5kbGVDbGljayIsIl90aGlzJHByb3BzIiwiaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQiLCJleHBhbmRJY29uIiwiX2NvbHVtbiRjbGFzc05hbWUiLCJ0ZFByb3BzIiwiaW5kZW50VGV4dCIsInBhZGRpbmdMZWZ0IiwiMTQwIiwiVGFibGVIZWFkZXIiLCJjZWxsUHJvcHMiLCIxNDEiLCJfVGFibGVDZWxsIiwiX1RhYmxlQ2VsbDIiLCJfRXhwYW5kSWNvbiIsIl9FeHBhbmRJY29uMiIsIlRhYmxlUm93IiwiaG92ZXJlZCIsIl90aGlzJHByb3BzMiIsIl90aGlzJHByb3BzMyIsIl90aGlzJHByb3BzNCIsImNlbGxzIiwiaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiIsIm9uRG91YmxlQ2xpY2siLCIxNDIiLCIxNDMiLCJzY3JvbGxEaXYiLCJzY3JvbGxQcm9wIiwic2Nyb2xsYmFyTWVhc3VyZSIsIndhaXQiLCJpbW1lZGlhdGUiLCJkZWJvdW5jZUZ1bmMiLCJwZXJzaXN0IiwibGF0ZXIiLCJjYWxsTm93IiwiY29uZGl0aW9uIiwid2FybmVkIiwidG9wIiwiMTQ0IiwiMTQ1IiwiS2V5Q29kZSIsIk1BQ19FTlRFUiIsIlRBQiIsIk5VTV9DRU5URVIiLCJTSElGVCIsIkNUUkwiLCJBTFQiLCJQQVVTRSIsIkNBUFNfTE9DSyIsIlNQQUNFIiwiUEFHRV9VUCIsIlBBR0VfRE9XTiIsIkVORCIsIkhPTUUiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIlBSSU5UX1NDUkVFTiIsIklOU0VSVCIsIk9ORSIsIlRXTyIsIlRIUkVFIiwiRk9VUiIsIkZJVkUiLCJTSVgiLCJTRVZFTiIsIkVJR0hUIiwiUVVFU1RJT05fTUFSSyIsIkEiLCJCIiwiQyIsIkYiLCJHIiwiSCIsIkkiLCJKIiwiSyIsIk4iLCJPIiwiUCIsIlEiLCJSIiwiUyIsIlQiLCJVIiwiViIsIlgiLCJaIiwiTUVUQSIsIldJTl9LRVlfUklHSFQiLCJDT05URVhUX01FTlUiLCJOVU1fWkVSTyIsIk5VTV9PTkUiLCJOVU1fVFdPIiwiTlVNX1RIUkVFIiwiTlVNX0ZPVVIiLCJOVU1fRklWRSIsIk5VTV9TSVgiLCJOVU1fU0VWRU4iLCJOVU1fRUlHSFQiLCJOVU1fTklORSIsIk5VTV9NVUxUSVBMWSIsIk5VTV9QTFVTIiwiTlVNX01JTlVTIiwiTlVNX1BFUklPRCIsIk5VTV9ESVZJU0lPTiIsIkYxIiwiRjIiLCJGMyIsIkY0IiwiRjUiLCJGNiIsIkY3IiwiRjgiLCJGOSIsIkYxMCIsIkYxMSIsIkYxMiIsIk5VTUxPQ0siLCJTRU1JQ09MT04iLCJEQVNIIiwiRVFVQUxTIiwiQ09NTUEiLCJQRVJJT0QiLCJTTEFTSCIsIkFQT1NUUk9QSEUiLCJTSU5HTEVfUVVPVEUiLCJPUEVOX1NRVUFSRV9CUkFDS0VUIiwiQkFDS1NMQVNIIiwiQ0xPU0VfU1FVQVJFX0JSQUNLRVQiLCJXSU5fS0VZIiwiTUFDX0ZGX01FVEEiLCJXSU5fSU1FIiwiaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQiLCJhbHRLZXkiLCJjdHJsS2V5IiwibWV0YUtleSIsImlzQ2hhcmFjdGVyS2V5IiwibmF2aWdhdGlvbiIsIjE1MyIsIl9pbnB1dCIsIl9pbnB1dDIiLCJfU2VhcmNoIiwiX1NlYXJjaDIiLCJTZWFyY2giLCJoYW5kbGVTZWFyY2giLCJrZXl3b3JkIiwic2VhcmNoSW5wdXQiLCJzZWxlY3QiLCJzZWxlY3RWYWx1ZSIsImhhbmRsZUlucHV0Q2hhbmdlIiwiY2xlYXJWaXNpYmxlIiwiaGFuZGVsZVNlbGVjdENoYW5nZSIsImhhbmRsZUNsZWFySW5wdXQiLCJzZWxlY3RQcm9wcyIsInNlbGVjdE9wdGlvbnMiLCJjb21wYWN0Iiwic2VhcmNoIiwib25QcmVzc0VudGVyIiwiMTU0IiwiX3JjVHdlZW5PbmUiLCJfVGFibGVCb2R5V3JhcHBlciIsImVudGVyQW5pbSIsImJhY2tncm91bmRDb2xvciIsImRlbGF5IiwiZWFzZSIsIm9uQ29tcGxldGUiLCJsZWF2ZUFuaW0iLCJUYWJsZUJvZHlXcmFwcGVyIiwiX3JlZiRwYWdlIiwiVHdlZW5PbmVHcm91cCIsImVudGVyIiwibGVhdmUiLCJhcHBlYXIiLCIxNTgiLCJGYWtlTWFwIiwibWVtb2l6ZUNvbXBhcmUiLCJsZWZ0SGFuZE9wZXJhbmQiLCJyaWdodEhhbmRPcGVyYW5kIiwibWVtb2l6ZU1hcCIsImlzUHJpbWl0aXZlIiwibGVmdEhhbmRNYXAiLCJtZW1vaXplU2V0IiwiTWVtb2l6ZU1hcCIsImRlZXBFcXVhbCIsImNvbXBhcmF0b3IiLCJleHRlbnNpdmVEZWVwRXF1YWwiLCJzaW1wbGVSZXN1bHQiLCJzaW1wbGVFcXVhbCIsIm1lbW9pemUiLCJtZW1vaXplUmVzdWx0TGVmdCIsIm1lbW9pemVSZXN1bHRSaWdodCIsImNvbXBhcmF0b3JSZXN1bHQiLCJsZWZ0SGFuZFR5cGUiLCJleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUiLCJpdGVyYWJsZUVxdWFsIiwicmVnZXhwRXF1YWwiLCJnZW5lcmF0b3JFcXVhbCIsIlVpbnQ4QXJyYXkiLCJidWZmZXIiLCJlbnRyaWVzRXF1YWwiLCJsZWZ0SGFuZEl0ZW1zIiwicmlnaHRIYW5kSXRlbXMiLCJnZXRHZW5lcmF0b3JFbnRyaWVzIiwiaGFzSXRlcmF0b3JGdW5jdGlvbiIsImdldEl0ZXJhdG9yRW50cmllcyIsIml0ZXJhdG9yRXJyb3IiLCJnZW5lcmF0b3IiLCJnZW5lcmF0b3JSZXN1bHQiLCJhY2N1bXVsYXRvciIsImRvbmUiLCJnZXRFbnVtZXJhYmxlS2V5cyIsImtleXNFcXVhbCIsImxlZnRIYW5kS2V5cyIsInJpZ2h0SGFuZEtleXMiLCJsZWZ0SGFuZEVudHJpZXMiLCJyaWdodEhhbmRFbnRyaWVzIiwiZGVsZXRlIiwiV2Vha01hcCIsIjE1OSIsIjE2MCIsIjE2MyIsImRlZmF1bHREYXRhIiwiREVGQVVMVF9EVVJBVElPTiIsIkRFRkFVTFRfREVMQVkiLCJfZWFzaW5nMiIsIkRFRkFVTFRfRUFTSU5HIiwib25VcGRhdGUiLCJvblN0YXJ0Iiwib25SZXBlYXQiLCJyZXBlYXQiLCJyZXBlYXREZWxheSIsInlveW8iLCJpbml0VGltZSIsImFwcGVhclRvIiwiX2Vhc2luZyIsIl9TdHlsZVBsdWdpbiIsIl9TdHlsZVBsdWdpbjIiLCJ0b0RhdGEiLCJzdGFydERlZmF1bHREYXRhIiwiZ2V0QXR0cmlidXRlIiwiYmV6aWVyIiwidHdlZW4iLCJ0aW55TnVtIiwic2V0RGVmYXVsdERhdGEiLCJyZXBlYXRNYXgiLCJhcHBlYXJUb0Jvb2wiLCJhcHBlYXJUb1RpbWUiLCJ0d2VlbkRhdGEiLCJTVkdNb3JwaCIsImFwcGVhck5vdyIsIm1vZGUiLCJnZXRBbmltU3RhcnREYXRhIiwiZ2V0QW5pbVN0YXJ0Iiwic2V0QW5pbURhdGEiLCJzZXRSYXRpbyIsInJhdGlvIiwiZW5kRGF0YSIsImVuZFZhcnMiLCJzdGFydFZhcnMiLCJfZW5kRGF0YSIsInJlcGVhdE51bSIsImZyb21EZWxheSIsInN0IiwiY29tcFJhdGlvIiwiMTY0IiwiX1R3ZWVuT25lIiwiX1R3ZWVuT25lMiIsIl9pbml0aWFsaXNlUHJvcHMiLCJrZXlzVG9FbnRlciIsImtleXNUb0xlYXZlIiwib25FbnRlckJvb2wiLCJpc1R3ZWVuIiwibmV4dENoaWxkcmVuIiwiY3VycmVudENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJoYXNQcmV2IiwiaGFzTmV4dCIsImNoaWxkcmVuVG9SZW5kZXIiLCJnZXRDaGlsZHJlblRvUmVuZGVyIiwiY29tcG9uZW50UHJvcHMiLCJhbmltYXRpbmdDbGFzc05hbWUiLCJ0YWciLCJpc0VudGVyIiwiX29iaiIsIm9uRW5kIiwiZ2V0Q292ZXJBbmltYXRpb24iLCJvYmplY3RPckFycmF5T3JGdW5jIiwiMTY1IiwiZWFzaW5nIiwiMTY2IiwiX3N0eWxlVXRpbHMyIiwiU3R5bGVQbHVnaW4iLCJwcm9wc0RhdGEiLCJnZXRDb21wdXRlZFN0eWxlIiwiZGVmYXVsdFZpZXciLCJnZXRUd2VlbkRhdGEiLCJkYXRhVHlwZSIsImRhdGFDb3VudCIsImRhdGFTcGxpdFN0ciIsIl9pdGVtIiwiY29udmVydFRvTWFya3NBcnJheSIsInN0YXJ0VW5pdCIsImVuZFVuaXQiLCJ3aWxsQ2hhbmdlQm9vbCIsImNvbXB1dGVkU3R5bGUiLCJ3aWxsQ2hhbmdlQXJyYXkiLCJ3aWxsU3R5bGUiLCJ1c2VTdHlsZSIsImZpbHRlck5hbWUiLCJmaWx0ZXJPYmplY3QiLCJzZXRBcnJheVJhdGlvIiwic3RhcnRJbnNldCIsImVuZEluc2V0IiwiZXJyb3IiLCJzdGFydElzQWxwaGEiLCJfaXNUcmFuc2Zvcm0iLCJjc3MiLCJwTmFtZSIsInhTdGFydCIsInlTdGFydCIsIl90eXBlIiwic3R5bGVVbml0IiwiZmlsdGVyU3R5bGUiLCJmaWx0ZXJLZXkiLCIxNjciLCJfcmFmIiwiX3JhZjIiLCJUaWNrZXIiLCJ0aWNrRm5PYmplY3QiLCJ0d2VlbklkIiwiZWxhcHNlZCIsImxhc3RVcGRhdGUiLCJza2lwRnJhbWVNYXgiLCJ3YWtlIiwidGljayIsInNsZWVwIiwidGlja2VyIiwidGltZW91dElkTnVtYmVyIiwidGltZW91dElEIiwiaW50ZXJ2YWxJZE51bWJlciIsImludGVydmFsIiwiaW50ZXJ2YWxJRCIsInN0YXJGcmFtZSIsIjE3MiIsInR3ZWVuRnVuY3Rpb25zIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJlYXNlT3V0U2luZSIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsIjE3MyIsImdldFByb3RvdHlwZU9mRXhpc3RzIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm9taXNlRXhpc3RzIiwiUHJvbWlzZSIsImdsb2JhbE9iamVjdCIsImlzRG9tIiwiaHRtbEVsZW1lbnRFeGlzdHMiLCJIVE1MRWxlbWVudCIsImlzQXJyYXlFeGlzdHMiLCJzeW1ib2xFeGlzdHMiLCJtYXBFeGlzdHMiLCJNYXAiLCJzZXRFeGlzdHMiLCJTZXQiLCJ3ZWFrTWFwRXhpc3RzIiwid2Vha1NldEV4aXN0cyIsIldlYWtTZXQiLCJkYXRhVmlld0V4aXN0cyIsIkRhdGFWaWV3Iiwic3ltYm9sSXRlcmF0b3JFeGlzdHMiLCJzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyIsInRvU3RyaW5nVGFnIiwic2V0RW50cmllc0V4aXN0cyIsImVudHJpZXMiLCJtYXBFbnRyaWVzRXhpc3RzIiwic2V0SXRlcmF0b3JQcm90b3R5cGUiLCJtYXBJdGVyYXRvclByb3RvdHlwZSIsImFycmF5SXRlcmF0b3JFeGlzdHMiLCJhcnJheUl0ZXJhdG9yUHJvdG90eXBlIiwic3RyaW5nSXRlcmF0b3JFeGlzdHMiLCJzdHJpbmdJdGVyYXRvclByb3RvdHlwZSIsInRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoIiwidG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoIiwidHlwZW9mT2JqIiwibG9jYXRpb24iLCJtaW1lVHlwZXMiLCJ0YWdOYW1lIiwic3RyaW5nVGFnIiwib2JqUHJvdG90eXBlIiwidHlwZURldGVjdCIsIjE4NyIsImdldENvbXBvbmVudExvY2FsZSIsImNvbXBvbmVudE5hbWUiLCJnZXREZWZhdWx0TG9jYWxlIiwiZ2V0TG9jYWxlQ29kZSIsImxvY2FsZUNvZGUiLCJleGlzdCIsIjIwNyIsIl9lbl9VUyIsIl9lbl9VUzIiLCJvbk9rIiwib25DbGVhciIsInJlbmRlckZvb3RlciIsInJlbmRlclNpZGViYXIiLCJnZXRGb3JtYXQiLCJ0aW1lUGlja2VyIiwiZGF0ZVRpbWVGb3JtYXQiLCIyMDgiLCIyNTAiLCJfTW9udGhQYW5lbCIsIl9Nb250aFBhbmVsMiIsIl9DYWxlbmRhck1peGluIiwiX0NhbGVuZGFyTWl4aW4yIiwiX0NvbW1vbk1peGluIiwiX0NvbW1vbk1peGluMiIsIk1vbnRoQ2FsZW5kYXIiLCJtb250aENlbGxSZW5kZXIiLCJkYXRlQ2VsbFJlbmRlciIsInN0YXRlVmFsdWUiLCJzZXRWYWx1ZSIsImNlbGxSZW5kZXIiLCJjb250ZW50UmVuZGVyIiwibW9udGhDZWxsQ29udGVudFJlbmRlciIsInJlbmRlclJvb3QiLCIyNTEiLCJyZWZGbiIsIl9jcmVhdGVDaGFpbmVkRnVuY3Rpb24iLCJfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMiIsIlBpY2tlciIsIm9uT3BlbkNoYW5nZSIsImdldENhbGVuZGFyQ29udGFpbmVyIiwic2F2ZUNhbGVuZGFyUmVmIiwicHJldlN0YXRlIiwiZm9jdXNDYWxlbmRhciIsIm9uQ2FsZW5kYXJLZXlEb3duIiwiY2xvc2UiLCJvbkNhbGVuZGFyU2VsZWN0IiwiY2F1c2UiLCJvbkNhbGVuZGFyT2siLCJvbkNhbGVuZGFyQ2xlYXIiLCJzZXRPcGVuIiwiZ2V0Q2FsZW5kYXJFbGVtZW50IiwiY2FsZW5kYXJQcm9wcyIsImV4dHJhUHJvcHMiLCJjYWxlbmRhckluc3RhbmNlIiwiZGVzdHJveVBvcHVwT25IaWRlIiwiMjUyIiwiZ29Nb250aCIsIm9uVmFsdWVDaGFuZ2UiLCJnb1llYXIiLCJzaG93SWYiLCJlbCIsIl9ZZWFyUGFuZWwiLCJfWWVhclBhbmVsMiIsIl9tYXBTZWxmIiwiX21hcFNlbGYyIiwiQ2FsZW5kYXJIZWFkZXIiLCJlbmFibGVQcmV2IiwiZW5hYmxlTmV4dCIsInNob3dUaW1lUGlja2VyIiwibmV4dE1vbnRoIiwicHJldmlvdXNNb250aCIsIm5leHRZZWFyIiwicHJldmlvdXNZZWFyIiwic2hvd01vbnRoUGFuZWwiLCJzaG93WWVhclBhbmVsIiwibW9udGhZZWFyRWxlbWVudCIsIm1vbnRoQmVmb3JlWWVhciIsInNlbGVjdENsYXNzTmFtZSIsInllYXJTZWxlY3QiLCJ5ZWFyRm9ybWF0IiwibW9udGhTZWxlY3QiLCJtb250aEZvcm1hdCIsImRheUZvcm1hdCIsIm15IiwiUGFuZWxDbGFzcyIsInBhbmVsIiwiMjUzIiwiT2tCdXR0b24iLCJva0Rpc2FibGVkIiwib2siLCIyNTQiLCJUaW1lUGlja2VyQnV0dG9uIiwib25PcGVuVGltZVBpY2tlciIsIm9uQ2xvc2VUaW1lUGlja2VyIiwidGltZVBpY2tlckRpc2FibGVkIiwiZGF0ZVNlbGVjdCIsInRpbWVTZWxlY3QiLCIyNTUiLCJUb2RheUJ1dHRvbiIsIm9uVG9kYXkiLCJsb2NhbGVOb3ciLCJkaXNhYmxlZFRvZGF5IiwiaXNEaXNhYmxlZCIsImRpc2FibGVkVG9kYXlDbGFzcyIsIjI1NiIsIkRBVEVfUk9XX0NPVU5UIiwiREFURV9DT0xfQ09VTlQiLCIyNTciLCJEYXRlSW5wdXQiLCJzdHIiLCJwYXJzZWQiLCJvcmlnaW5hbFZhbHVlIiwiZ2V0Um9vdERPTU5vZGUiLCJkYXRlSW5wdXQiLCJpbnZhbGlkQ2xhc3MiLCJzaG93Q2xlYXIiLCIyNTgiLCJfRGF0ZVRIZWFkIiwiX0RhdGVUSGVhZDIiLCJfRGF0ZVRCb2R5IiwiX0RhdGVUQm9keTIiLCJEYXRlVGFibGUiLCJjZWxsU3BhY2luZyIsIjI1OSIsIl9DYWxlbmRhciIsIl9DYWxlbmRhcjIiLCIyNjAiLCJiYWNrVG9Ub2RheSIsImRlY2FkZVNlbGVjdCIsInByZXZpb3VzRGVjYWRlIiwibmV4dERlY2FkZSIsInByZXZpb3VzQ2VudHVyeSIsIm5leHRDZW50dXJ5IiwiMjYxIiwiZ2V0Tm93IiwiZ2V0Tm93QnlDdXJyZW50U3RhdGVWYWx1ZSIsIkNhbGVuZGFyTWl4aW4iLCJkZWZhdWx0U2VsZWN0ZWRWYWx1ZSIsInNldFNlbGVjdGVkVmFsdWUiLCJfY2xhc3NOYW1lIiwiMjYyIiwic2V0QW5kQ2hhbmdlVmFsdWUiLCJfTW9udGhUYWJsZSIsIl9Nb250aFRhYmxlMiIsIk1vbnRoUGFuZWwiLCJvblllYXJQYW5lbFNlbGVjdCIsInNldEFuZFNlbGVjdFZhbHVlIiwieWVhclBhbmVsIiwiMjYzIiwiY2hvb3NlWWVhciIsIl9EZWNhZGVQYW5lbCIsIl9EZWNhZGVQYW5lbDIiLCJST1ciLCJDT0wiLCJZZWFyUGFuZWwiLCJvbkRlY2FkZVBhbmVsU2VsZWN0Iiwic2hvd0RlY2FkZVBhbmVsIiwiY3VycmVudFllYXIiLCJzdGFydFllYXIiLCJjb2xJbmRleCIsImVuZFllYXIiLCJ5ZWFzRWxzIiwidGRzIiwieWVhckRhdGEiLCJfY2xhc3NOYW1lTWFwIiwiY2xhc3NOYW1lTWFwIiwiY2xpY2tIYW5kbGVyIiwiZGVjYWRlUGFuZWwiLCIyNjQiLCJtaXJyb3IiLCIzMTIiLCJfcmNDYWxlbmRhciIsIl9yY0NhbGVuZGFyMiIsIkNhbGVuZGFyIiwiMzEzIiwiX1JhbmdlQ2FsZW5kYXIiLCJfUmFuZ2VDYWxlbmRhcjIiLCJfUGlja2VyIiwiX1BpY2tlcjIiLCJfZ2V0TG9jYWxlIiwiUmFuZ2VQaWNrZXIiLCJjbGVhclNlbGVjdGlvbiIsInNob3dEYXRlIiwiaGFuZGxlT3BlbkNoYW5nZSIsImhhbmRsZVNob3dEYXRlQ2hhbmdlIiwicmFuZ2VzIiwib3BlcmF0aW9ucyIsInJhbmdlIiwic2hvd1RpbWUiLCJzaG93VG9kYXkiLCJjYWxlbmRhckNsYXNzTmFtZSIsInBpY2tlckNoYW5nZUhhbmRsZXIiLCJjYWxlbmRhckhhbmRsZXIiLCJjaGFuZ2VkVmFsdWUiLCJzdGFydFBsYWNlaG9sZGVyIiwicmFuZ2VQbGFjZWhvbGRlciIsImVuZFBsYWNlaG9sZGVyIiwiZGF0ZUlucHV0UGxhY2Vob2xkZXIiLCJkZWZhdWx0UGlja2VyVmFsdWUiLCJwaWNrZXJTdHlsZSIsImNsZWFySWNvbiIsImVuZCIsInBpY2tlcklucHV0Q2xhc3MiLCJwaWNrZXJDbGFzcyIsIjMxNCIsImNyZWF0ZVBpY2tlciIsIlRoZUNhbGVuZGFyIiwiQ2FsZW5kZXJXcmFwcGVyIiwidGVtcFZhbHVlIiwiaGFuZGxlVGVtcENoYW5nZSIsIl9vbWl0MiIsIl9Nb250aENhbGVuZGFyMiIsInBpY2tlclZhbHVlIiwiX01vbnRoQ2FsZW5kYXIiLCJfb21pdCIsIjMxNSIsIl9jcmVhdGVQaWNrZXIiLCJfY3JlYXRlUGlja2VyMiIsIl93cmFwUGlja2VyIiwiX3dyYXBQaWNrZXIyIiwiX1JhbmdlUGlja2VyIiwiX1JhbmdlUGlja2VyMiIsIkRhdGVQaWNrZXIiLCJNb250aFBpY2tlciIsIjMxNiIsIl96aF9DTjMiLCJfemhfQ040IiwidGltZVBpY2tlckxvY2FsZSIsIjMxNyIsIjMxOCIsImdldENvbHVtbnMiLCJzaG93SG91ciIsInNob3dNaW51dGUiLCJzaG93U2Vjb25kIiwid3JhcFBpY2tlciIsIlBpY2tlcldyYXBwZXIiLCJpbnB1dFByZWZpeENscyIsInRvZ2dsZU9wZW4iLCJfY2xhc3NOYW1lczMiLCJyY1RpbWVQaWNrZXJQcm9wcyIsInRpbWVQaWNrZXJDbHMiLCJfUGFuZWwyIiwiX1BhbmVsIiwiMzIxIiwiMzIyIiwiMzI3IiwiMzI4IiwiX2lzSXRlcmFibGUyIiwiX2lzSXRlcmFibGUzIiwiX2dldEl0ZXJhdG9yMiIsIl9nZXRJdGVyYXRvcjMiLCJzbGljZUl0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2UiLCJfcyIsImVyciIsIjMyOSIsIjM0NiIsImNsYXNzb2YiLCJJVEVSQVRPUiIsIkl0ZXJhdG9ycyIsImlzSXRlcmFibGUiLCJpdCIsIjM1NSIsIjM1NiIsIjM3MyIsInpoQ24iLCJsbCIsImxsbCIsImxsbGwiLCJobSIsInN0YXJ0T2ZXZWVrIiwiMzc0IiwiZ29TdGFydE1vbnRoIiwiZ29FbmRNb250aCIsImdvVGltZSIsImdvV2VlayIsImdvRGF5IiwiX0RhdGVUYWJsZSIsIl9EYXRlVGFibGUyIiwiX0NhbGVuZGFySGVhZGVyIiwiX0NhbGVuZGFySGVhZGVyMiIsIl9DYWxlbmRhckZvb3RlciIsIl9DYWxlbmRhckZvb3RlcjIiLCJfRGF0ZUlucHV0IiwiX0RhdGVJbnB1dDIiLCJzaG93V2Vla051bWJlciIsInNob3dEYXRlSW5wdXQiLCJzaG93T2siLCJub2RlTmFtZSIsIm9uRGF0ZUlucHV0Q2hhbmdlIiwib25EYXRlVGFibGVTZWxlY3QiLCJvcGVuVGltZVBpY2tlciIsImNsb3NlVGltZVBpY2tlciIsInRpbWVQaWNrZXJFbGUiLCJkZWZhdWx0T3BlblZhbHVlIiwiZGF0ZUlucHV0RWxlbWVudCIsImRhdGVSZW5kZXIiLCIzNzUiLCJmaXJlVmFsdWVDaGFuZ2UiLCJub3JtYWxpemVBbmNob3IiLCJpbml0IiwiZ2VuZXJhdGVPcHRpb25zIiwib25JbnB1dFNlbGVjdCIsImNvbXBhcmUiLCJmaXJlU2VsZWN0VmFsdWVDaGFuZ2UiLCJfc2xpY2VkVG9BcnJheTIiLCJfc2xpY2VkVG9BcnJheTMiLCJfQ2FsZW5kYXJQYXJ0IiwiX0NhbGVuZGFyUGFydDIiLCJfVG9kYXlCdXR0b24iLCJfVG9kYXlCdXR0b24yIiwiX09rQnV0dG9uIiwiX09rQnV0dG9uMiIsIl9UaW1lUGlja2VyQnV0dG9uIiwiX1RpbWVQaWNrZXJCdXR0b24yIiwiUmFuZ2VDYWxlbmRhciIsImhvdmVyVmFsdWUiLCJvbkRhdGVQYW5lbEVudGVyIiwiaGFzU2VsZWN0ZWRWYWx1ZSIsIm9uRGF0ZVBhbmVsTGVhdmUiLCJuZXh0U2VsZWN0ZWRWYWx1ZSIsImNoYW5nZWQiLCJlbmRWYWx1ZSIsInN0YXJ0VmFsdWUiLCJvbkRheUhvdmVyIiwiaXNBbGxvd2VkRGF0ZUFuZFRpbWUiLCJvblN0YXJ0SW5wdXRTZWxlY3QiLCJvYXJncyIsIm9uRW5kSW5wdXRTZWxlY3QiLCJfbGVuMiIsIl9rZXkyIiwib25TdGFydFZhbHVlQ2hhbmdlIiwiX2xlbjMiLCJfa2V5MyIsIm9uRW5kVmFsdWVDaGFuZ2UiLCJfbGVuNCIsIl9rZXk0IiwiZ2V0U3RhcnRWYWx1ZSIsImdldEVuZFZhbHVlIiwiZ2V0RW5kRGlzYWJsZVRpbWUiLCJfZGlzYWJsZWRIb3VycyIsIl9kaXNhYmxlZE1pbnV0ZXMiLCJfZGlzYWJsZWRTZWNvbmRzIiwiZGlzYWJsZWRTdGFydFRpbWUiLCJkaXNhYmxlZEVuZFRpbWUiLCJ2MSIsInYyIiwiZGlyZWN0IiwiY2xhc3NlcyIsInBsYWNlaG9sZGVyMSIsInBsYWNlaG9sZGVyMiIsIl9kYXRlSW5wdXRQbGFjZWhvbGRlciIsInNob3dPa0J1dHRvbiIsInRvZGF5VGltZSIsInRoaXNNb250aCIsInRoaXNZZWFyIiwiaXNUaGlzWWVhciIsImlzVG9kYXlJblZpZXciLCJ0aW1lUGlja2VyRGlzYWJsZWRUaW1lIiwiMzc2IiwiQ2FsZW5kYXJGb290ZXIiLCJmb290ZXJFbCIsImV4dHJhRm9vdGVyIiwiX2N4Iiwibm93RWwiLCJva0J0biIsInRpbWVQaWNrZXJCdG4iLCJmb290ZXJCdG4iLCIzNzciLCJpc1NhbWVEYXkiLCJvbmUiLCJ0d28iLCJiZWZvcmVDdXJyZW50TW9udGhZZWFyIiwiYWZ0ZXJDdXJyZW50TW9udGhZZWFyIiwiZ2V0SWRGcm9tRGF0ZSIsIl9EYXRlQ29uc3RhbnRzIiwiX0RhdGVDb25zdGFudHMyIiwiRGF0ZVRCb2R5IiwiaUluZGV4IiwiakluZGV4IiwiZGF0ZVRhYmxlIiwiY2VsbENsYXNzIiwid2Vla051bWJlckNlbGxDbGFzcyIsImRhdGVDbGFzcyIsInRvZGF5Q2xhc3MiLCJzZWxlY3RlZENsYXNzIiwic2VsZWN0ZWREYXRlQ2xhc3MiLCJpblJhbmdlQ2xhc3MiLCJsYXN0TW9udGhEYXlDbGFzcyIsIm5leHRNb250aERheUNsYXNzIiwiZGlzYWJsZWRDbGFzcyIsImZpcnN0RGlzYWJsZUNsYXNzIiwibGFzdERpc2FibGVDbGFzcyIsIm1vbnRoMSIsImxhc3RNb250aERpZmZEYXkiLCJsYXN0TW9udGgxIiwicGFzc2VkIiwidGFibGVIdG1sIiwiaXNDdXJyZW50V2VlayIsIndlZWtOdW1iZXJDZWxsIiwiZGF0ZUNlbGxzIiwic2VsZWN0ZWQiLCJpc0JlZm9yZUN1cnJlbnRNb250aFllYXIiLCJpc0FmdGVyQ3VycmVudE1vbnRoWWVhciIsInJhbmdlVmFsdWUiLCJkYXRlSHRtbCIsImFyaWEtc2VsZWN0ZWQiLCJhcmlhLWRpc2FibGVkIiwiMzc4IiwiRGF0ZVRIZWFkIiwidmVyeVNob3J0V2Vla2RheXMiLCJ3ZWVrRGF5cyIsInNob3dXZWVrTnVtYmVyRWwiLCJkYXRlQ29sSW5kZXgiLCJ3ZWVrRGF5c0VscyIsInhpbmRleCIsIjM3OSIsImNob29zZURlY2FkZSIsIkRlY2FkZVBhbmVsIiwicHJlWWVhciIsImRlY2FkZXMiLCJzdGFydERlY2FkZSIsImVuZERlY2FkZSIsImRlY2FkZXNFbHMiLCJkZWNhZGVJbmRleCIsImRlY2FkZURhdGEiLCJkU3RhcnREZWNhZGUiLCJkRW5kRGVjYWRlIiwiaXNMYXN0IiwiaXNOZXh0IiwiMzgwIiwiMzgxIiwiY2hvb3NlTW9udGgiLCJNb250aFRhYmxlIiwiY3VycmVudE1vbnRoIiwibW9udGhzRWxzIiwibW9udGhEYXRhIiwidGVzdFZhbHVlIiwiY2VsbEVsIiwiY3VycmVudFZhbHVlIiwiX2N1cnJlbnRWYWx1ZSIsIjM4MiIsIjM4MyIsIkNhbGVuZGFyUGFydCIsInJhbmdlQ2xhc3NOYW1lIiwib3V0bGluZSIsIjM4NCIsIjM4NSIsImZvcm1hdE9wdGlvbiIsImRpc2FibGVkT3B0aW9ucyIsIkNvbWJvYm94IiwiaG91ck9wdGlvbnMiLCJtaW51dGVPcHRpb25zIiwic2Vjb25kT3B0aW9ucyIsIm9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlIiwib25JdGVtQ2hhbmdlIiwib25FbnRlclNlbGVjdFBhbmVsIiwiZ2V0SG91clNlbGVjdCIsInNlbGVjdGVkSW5kZXgiLCJnZXRNaW51dGVTZWxlY3QiLCJnZXRTZWNvbmRTZWxlY3QiLCIzODYiLCJIZWFkZXIiLCJjbGVhclRleHQiLCJvbkVzYyIsImFsbG93RW1wdHkiLCJjdXJyZW50U2VsZWN0UGFuZWwiLCJnZXRQcm90b1ZhbHVlIiwiZGlzYWJsZWRIb3VyT3B0aW9ucyIsImRpc2FibGVkTWludXRlT3B0aW9ucyIsImRpc2FibGVkU2Vjb25kT3B0aW9ucyIsImdldENsZWFyQnV0dG9uIiwiZ2V0SW5wdXQiLCIzODciLCJoaWRlRGlzYWJsZWRPcHRpb25zIiwiX0hlYWRlciIsIl9IZWFkZXIyIiwiX0NvbWJvYm94IiwiX0NvbWJvYm94MiIsIlBhbmVsIiwiYWRkb24iLCJzZWxlY3Rpb25SYW5nZSIsIm5ld1ZhbHVlIiwiMzg4Iiwic2Nyb2xsVG8iLCJkaWZmZXJlbmNlIiwicGVyVGljayIsInNjcm9sbFRvU2VsZWN0ZWQiLCJvbmNsaWNrIiwibGlzdCIsInRvcE9wdGlvbiIsIm9mZnNldFRvcCIsIjY5NyIsIkxpc3QiLCJvblBhZ2VDaGFuZ2UiLCIxIiwiMiIsIjMiLCI0IiwiZ2V0Qm9keVdyYXBwZXJQcm9wcyIsInF1ZXJ5IiwiX1RhYmxlQm9keVdyYXBwZXIyIiwiX3RhYmxlMiIsIl9MaXN0MiIsIm9yZGVyX2lkIiwiX3RhYmxlIiwiX0xpc3QiLCI2OTgiLCJwaG9uZSIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsIl9yZWYkb3MiLCJvcyIsIl9yZWYkcGF5X3R5cGUiLCJwYXlfdHlwZSIsIl9yZWYkc3RhdHVzIiwic3RhdHVzIiwiX3JlZiRmb3JtIiwiZm9ybSIsImdldEZpZWxkRGVjb3JhdG9yIiwidmFsaWRhdGVGaWVsZHMiLCJzZWFyY2hHcm91cFByb3BzIiwiZ2V0RmllbGRzVmFsdWUiLCJlcnJvcnMiLCJfcm93MiIsIl9mb3JtMiIsImlubGluZSIsIkZvcm1JdGVtIiwibWFyZ2luUmlnaHQiLCJpbml0aWFsVmFsdWUiLCJmbG9hdCIsIl9yb3ciLCJfZGF0ZVBpY2tlciIsIl9kYXRlUGlja2VyMiIsIl9mb3JtIiwiNzA2IiwiX3JlZ2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yMiIsIl9yb3V0ZXIiLCJfbGlzdCIsIm5hbWVzcGFjZSIsInN1YnNjcmlwdGlvbnMiLCJzZXR1cCIsImRpc3BhdGNoIiwiaGlzdG9yeSIsImxpc3RlbiIsInBhdGhuYW1lIiwiY3VyUG93ZXJzIiwiZ2V0Q3VyUG93ZXJzIiwicGF5bG9hZCIsInJvdXRlclJlZHV4IiwiZWZmZWN0cyIsIm1hcmsiLCJfcmVmMyIsInBhdGhRdWVyeSIsInB1dCIsIndyYXAiLCJfY29udGV4dCIsIl9yZWY0Iiwicm91dGluZyIsImxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMiLCJzZW50Iiwic3VjY2VzcyIsInN0b3AiLCJyZWR1Y2VycyIsInF1ZXJ5U3VjY2VzcyIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCI3MTgiLCJPcmRlckxpc3QiLCJvcmRlckxpc3QiLCJfbG9jYXRpb24kcXVlcnkiLCJzZWFyY2hQcm9wcyIsImZpZWxkc1ZhbHVlIiwibGlzdFByb3BzIiwibWFwU3RhdGVUb1Byb3BzIiwiX2R2YSIsImNvbm5lY3QiLCI3MjUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfYXN5bmNUb0dlbmVyYXRvcjMiLCJfY2FsbGVlIiwicGFyYW1zIiwiYWJydXB0IiwicmVxdWVzdCIsIl94IiwiODczIiwid2FybmluZyIsImRhbmdlciIsIjEyMjAiLCJfX3dlYnBhY2tfbW9kdWxlX3RlbXBsYXRlX2FyZ3VtZW50XzBfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsR0FDQSxTQUFTQyxFQUFRQyxFQUFTQyxHQ0hoQyxZQStDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0E3QzdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFDLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQUUsRUFBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBRSxFQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUFFLEVBQUFuQixFQUFBLElBRUFvQixFQUFBbkIsRUFBQWtCLEdBRUFFLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFFLEVBQUF2QixFQUFBLElBRUF3QixFQUFBdkIsRUFBQXNCLEdBRUFFLEVBQUF6QixFQUFBLEdBRUEwQixFQUFBekIsRUFBQXdCLEdBRUFFLEVBQUEzQixFQUFBLElBRUE0QixFQUFBM0IsRUFBQTBCLEdBSUFFLEVBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxLQUNBLFFBQUFDLEtBQUFILEdBQ0F6QixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQU4sRUFBQUcsSUFBQUYsRUFBQU0sUUFBQUosR0FBQSxJQUFBRCxFQUFBQyxHQUFBSCxFQUFBRyxHQUNLLFVBQUFILEdBQUEsa0JBQUF6QixRQUFBaUMsc0JBQUEsT0FBQUMsR0FBQSxFQUFBTixFQUFBNUIsT0FBQWlDLHNCQUFBUixHQUF5SFMsRUFBQU4sRUFBQU8sT0FBY0QsSUFDNUlSLEVBQUFNLFFBQUFKLEVBQUFNLElBQUEsSUFBQVAsRUFBQUMsRUFBQU0sSUFBQVQsRUFBQUcsRUFBQU0sSUFDSyxPQUFBUCxJQUdMUyxFQUFBLFNBQUFDLEdBR0EsUUFBQUQsS0FFQSxPQURBLEVBQUEzQixFQUFBLFlBQUE2QixLQUFBRixJQUNBLEVBQUF6QixFQUFBLFlBQUEyQixLQUFBRCxFQUFBRSxNQUFBRCxLQUFBRSxZQW1DQSxPQXZDQSxFQUFBM0IsRUFBQSxZQUFBdUIsRUFBQUMsR0FPQUQsRUFBQVAsVUFBQVksc0JBQUEsV0FDQSxPQUFBQyxHQUFBRixVQUFBTCxPQUFBUSxFQUFBQyxNQUFBRixHQUFBRyxFQUFBLEVBQXVFQSxFQUFBSCxFQUFhRyxJQUNwRkYsRUFBQUUsR0FBQUwsVUFBQUssRUFHQSxPQUFBdEIsR0FBQSxXQUFBa0Isc0JBQUFGLE1BQUFELEtBQUFLLElBR0FQLEVBQUFQLFVBQUFpQixPQUFBLFdBQ0EsR0FBQUMsR0FBQVQsS0FBQVUsTUFDQUMsRUFBQUYsRUFBQUUsVUFDQUMsRUFBQUgsRUFBQUcsTUFDQUMsRUFBQUosRUFBQUksU0FDQUMsRUFBQUwsRUFBQUssVUFDQUMsRUFBQU4sRUFBQU0sY0FDQUMsRUFBQVAsRUFBQU8sYUFDQUMsRUFBQVIsRUFBQVEsYUFDQUMsRUFBQWhDLEVBQUF1QixHQUFBLDJGQUNBVSxHQUFBLEVBQUFwQyxFQUFBLFlBQUErQixHQUFBLEVBQUE3QyxFQUFBLGVBQXFHMEMsRUFBQSxnQkFDckdTLEdBQUEsRUFBQXJDLEVBQUEsZUFBQWQsRUFBQSxlQUE0RjBDLEVBQUEsaUJBQUFJLEdBQzVGLE9BQUFwQyxHQUFBLFdBQUEwQyxjQUNBLFNBQ2FQLFVBQUFLLEVBQUFQLFFBQUFJLGVBQUFDLGdCQUNidEMsRUFBQSxXQUFBMEMsY0FBQTVDLEVBQUEsY0FBQVYsRUFBQSxlQUFrR21ELEdBQWNQLFlBQUFHLFVBQUFNLEVBQUFQLFNBQUEsUUFDaEhoRCxTQUFBZ0QsRUFBQWxDLEVBQUEsV0FBQTBDLGNBQ0EsT0FDQSxLQUNBUixHQUNBLE9BSUFmLEdBQ0NuQixFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBMEMsRUFFQUEsRUFBQXlCLE1BQUExQyxFQUFBLFdBQ0FpQixFQUFBMEIsY0FDQWIsVUFBQSxlQUNBSSxlQUFBLEdBRUE1RCxFQUFBQyxVQUFBLFlEU01xRSxHQUNBLFNBQVN0RSxFQUFRQyxFQUFTQyxHRXRIaEMsWUF5QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFtRSxHQUFBQyxHQUNBLEdBQUFqQixHQUFBaUIsRUFBQWpCLEtBQ0EsYUFBQUEsR0FDQSxNQUFBQSxHQUFBOUMsS0FFQSxJQUFBK0QsRUFBQUMsSUFDQSxNQUFBRCxHQUFBQyxHQUVBLFVBQUFDLE9BQUEsdUJBQUFGLEdBR0EsUUFBQUcsR0FBQUgsRUFBQUksR0FDQSxnQkFBQUEsRUFDQUwsRUFBQUMsR0FFQUEsRUFBQWpCLE1BQUFxQixHQUdBLFFBQUFDLEdBQUF0QixHQUNBLE1BQUFBLEdBQUF1QixTQUdBLFFBQUFDLEdBQUF4QixHQUNBLE1BQUFBLEdBQUF5QixVQUFBekIsRUFBQTBCLEtBR0EsUUFBQUMsR0FBQTNCLEdBQ0EsTUFBQXdCLEdBQUF4QixJQUFBc0IsRUFBQXRCLEdBR0EsUUFBQTRCLEdBQUE1QixHQUNBLE9BQUEyQixFQUFBM0IsR0FHQSxRQUFBNkIsR0FBQTNFLEdBQ0EsR0FBQTRFLEdBQUE1RSxDQU1BLE9BTEFDLFVBQUFELEVBQ0E0RSxLQUNHbEMsTUFBQW1DLFFBQUE3RSxLQUNINEUsR0FBQTVFLElBRUE0RSxFQUdBLFFBQUFFLEdBQUF0RCxHQUNBQSxFQUFBdUQsaUJBR0EsUUFBQUMsR0FBQWhGLEVBQUFnRSxHQUVBLE9BREFpQixNQUNBakQsRUFBQSxFQUFpQkEsRUFBQWhDLEVBQUFpQyxPQUFrQkQsSUFDbkMsR0FBQWhDLEVBQUFnQyxHQUFBZ0MsUUFBQSxDQUNBaUIsRUFBQWpELENBQ0EsT0FHQSxNQUFBaUQsR0FHQSxRQUFBQyxHQUFBbEYsRUFBQW1GLEdBRUEsT0FEQUYsTUFDQWpELEVBQUEsRUFBaUJBLEVBQUFoQyxFQUFBaUMsT0FBa0JELElBQ25DLEdBQUEyQyxFQUFBM0UsRUFBQWdDLEdBQUFtRCxPQUFBQyxLQUFBLE1BQUFELEVBQUEsQ0FDQUYsRUFBQWpELENBQ0EsT0FHQSxNQUFBaUQsR0FHQSxRQUFBSSxHQUFBQyxFQUFBdEYsR0FDQSxVQUFBQSxHQUFBQyxTQUFBRCxFQUNBLFFBRUEsSUFBQXVGLEtBWUEsT0FYQXhFLEdBQUEsV0FBQXlFLFNBQUFDLFFBQUFILEVBQUEsU0FBQUksR0FDQSxHQUFBQSxFQUFBQyxLQUFBQyxnQkFDQUwsSUFBQU0sT0FBQVIsRUFBQUssRUFBQTVDLE1BQUFHLFNBQUFqRCxRQUNLLENBQ0wsR0FBQThGLEdBQUFoQyxFQUFBNEIsR0FDQUssRUFBQUwsRUFBQTFCLEdBQ0FnQixHQUFBaEYsRUFBQThGLFNBQUFDLEdBQ0FSLEVBQUFTLEtBQUFELE1BSUFSLEVBWUEsUUFBQVUsR0FBQWhELEdBQ0EsT0FBQWpCLEdBQUEsRUFBaUJBLEVBQUFpQixFQUFBaEIsT0FBcUJELElBQUEsQ0FDdEMsR0FBQStCLEdBQUFkLEVBQUFqQixFQUNBLElBQUErQixFQUFBNEIsS0FBQUMsZ0JBQUEsQ0FDQSxHQUFBTSxHQUFBRCxFQUFBbEMsRUFBQWpCLE1BQUFHLFNBQ0EsSUFBQWlELEVBQ0EsTUFBQUEsT0FFSyxLQUFBbkMsRUFBQWpCLE1BQUFxRCxTQUNMLE1BQUFwQyxHQUdBLFlBR0EsUUFBQXFDLEdBQUFDLEVBQUFDLEdBQ0EsT0FBQXRFLEdBQUEsRUFBaUJBLEVBQUFzRSxFQUFBckUsU0FBdUJELEVBQ3hDLEdBQUFxRSxFQUFBRSxZQUFBRCxFQUFBdEUsSUFBQSxFQUNBLFFBR0EsVUFHQSxRQUFBd0UsR0FBQUgsRUFBQUMsR0FDQSxHQUFBRyxHQUFBLEdBQUFDLFFBQUEsSUFBQUosRUFBQWxCLE9BQUEsS0FDQXVCLEVBQUFOLEVBQUFPLE1BQUFILEVBT0EsT0FOQSxLQUFBRSxFQUFBLElBQ0FBLEVBQUFFLFFBRUEsS0FBQUYsSUFBQTFFLE9BQUEsSUFDQTBFLEVBQUFHLE1BRUFILEVBNUpBN0csT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUF1SCx1QkFBQXZILEVBQUF3SCxtQkFBQS9HLE9BQ0FULEVBQUFzRSxvQkFDQXRFLEVBQUEwRSxlQUNBMUUsRUFBQTRFLGFBQ0E1RSxFQUFBOEUsbUJBQ0E5RSxFQUFBaUYsNkJBQ0FqRixFQUFBa0YsZUFDQWxGLEVBQUFtRixVQUNBbkYsRUFBQXNGLHNCQUNBdEYsRUFBQXdGLHdCQUNBeEYsRUFBQTBGLDBCQUNBMUYsRUFBQTZGLGdCQUNBN0YsRUFBQXlHLG9CQUNBekcsRUFBQTRHLHFCQUNBNUcsRUFBQWdILG1CQUVBLElBQUExRixHQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixFQTZGQXRCLEdBQUF3SCxvQkFDQUMsV0FBQSxPQUNBQyxpQkFBQSxRQUdBMUgsRUFBQXVILHdCQUNBSSxhQUFBLGlCRmlLTUMsR0FDQSxTQUFTN0gsRUFBUUMsRUFBU0MsR0c1UmhDLFlBMkJBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBMEgsR0FBQXBFLEdBQ0EsR0FBQTJCLEtBSUEsT0FIQTdELEdBQUEsV0FBQXlFLFNBQUFDLFFBQUF4QyxFQUFBLFNBQUFxRSxHQUNBMUMsRUFBQW9CLEtBQUFzQixLQUVBMUMsRUFHQSxRQUFBMkMsR0FBQUMsR0FDQSxNQUFBQSxJQUFBLElBQUFBLEVBR0E5RSxNQUFBbUMsUUFBQTJDLEdBQ0FBLEdBRUFBLE1BR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FDQSxHQUFBRCxJQUFBQyxJQUFBLEVBQUFDLEVBQUEsWUFBQUYsRUFBQUMsR0FDQSxRQUVBLEtBQUFELElBQUFDLEVBQ0EsUUFHQSxJQUFBRSxJQUFBLENBQ0EsSUFBQW5GLE1BQUFtQyxRQUFBNkMsSUFBQWhGLE1BQUFtQyxRQUFBOEMsR0FBQSxDQUNBLEdBQUFELEVBQUF6RixTQUFBMEYsRUFBQTFGLE9BQ0EsUUFFQSxRQUFBRCxHQUFBLEVBQW1CQSxFQUFBMEYsRUFBQXpGLE9BQWlCRCxJQUFBLENBQ3BDLEdBQUE4RixHQUFBSixFQUFBMUYsR0FDQStGLEVBQUFKLEVBQUEzRixFQUNBLFFBQUFOLEtBQUFvRyxHQUNBLEdBQUFBLEVBQUFwRyxLQUFBcUcsRUFBQXJHLEdBQ0EsY0FBQXNHLEVBQUFGLEVBQUFwRyxLQUFBLFdBQUFzRyxFQUFBRCxFQUFBckcsSUFDQW1HLEVBQUFKLEVBQUFLLEVBQUFwRyxHQUFBcUcsRUFBQXJHLFFBQ1csc0JBQUFvRyxHQUFBcEcsSUFBQSxrQkFBQXFHLEdBQUFyRyxHQU1YLE1BREFtRyxJQUFBLEdBQ0EsQ0FMQUMsR0FBQXBHLEdBQUF1RyxPQUFBRixFQUFBckcsR0FBQXVHLE9BQ0FKLEdBQUEsS0FXQSxHQUFBSyxHQUFBLFNBQUFDLEVBQUFDLEdBQ0F0SSxPQUFBdUksS0FBQUYsR0FBQTFDLFFBQUEsU0FBQXpCLEdBQ0FBLElBQUFvRSxLQUNBUCxHQUFBLEdBR0EsV0FBQUcsRUFBQUcsRUFBQW5FLEtBQUEsV0FBQWdFLEVBQUFJLEVBQUFwRSxJQUNBNkQsRUFBQUosRUFBQVUsRUFBQW5FLEdBQUFvRSxFQUFBcEUsSUFDTyxrQkFBQW1FLEdBQUFuRSxJQUFBLGtCQUFBb0UsR0FBQXBFLEdBQ1BtRSxFQUFBbkUsR0FBQWlFLE9BQUFHLEVBQUFwRSxHQUFBaUUsT0FDQUosR0FBQSxHQUVPTSxFQUFBbkUsS0FBQW9FLEVBQUFwRSxLQUNQNkQsR0FBQSxLQU9BLE9BRkFLLEdBQUFSLEVBQUFDLEdBQ0FPLEVBQUFQLEVBQUFELEdBQ0FHLEVBR0EsUUFBQVMsR0FBQXJGLEVBQUFlLEdBQ0EsR0FBQVksR0FBQSxJQVdBLE9BVkEzQixJQUNBQSxFQUFBd0MsUUFBQSxTQUFBNkIsSUFDQTFDLEdBQUEwQyxHQUdBQSxFQUFBdEQsVUFDQVksRUFBQTBDLEtBSUExQyxFQUdBLFFBQUEyRCxHQUFBQyxFQUFBQyxHQUNBLEdBQUE3RCxNQUdBOEQsS0FDQUMsS0FDQUMsRUFBQSxNQWdDQSxPQS9CQUosR0FBQS9DLFFBQUEsU0FBQTZCLEdBQ0FBLElBR0FnQixFQUFBRyxFQUFBbkIsRUFBQXRELE1BQ0EyRSxFQUFBMUcsU0FDQXlHLEVBQUFwQixFQUFBdEQsS0FBQTJFLEVBQ0FBLE1BRUFDLEVBQUF0QixFQUFBdEQsS0FDS3NELEVBQUF0RCxLQUNMMkUsRUFBQTNDLEtBQUFzQixNQUdBc0IsSUFDQWhFLElBQUFpQixPQUFBOEMsSUFHQUYsRUFBQWhELFFBQUEsU0FBQTZCLEdBQ0FBLElBR0FvQixFQUFBOUcsZUFBQTBGLEVBQUF0RCxPQUNBWSxJQUFBaUIsT0FBQTZDLEVBQUFwQixFQUFBdEQsT0FFQVksRUFBQW9CLEtBQUFzQixHQUNBQSxFQUFBdEQsTUFBQTRFLElBQ0FoRSxJQUFBaUIsT0FBQThDLE9BSUEvRCxFQUdBLFFBQUFpRSxHQUFBQyxFQUFBOUUsRUFBQWhDLEdBQ0EsR0FBQStHLEdBQUEsTUFTQSxPQVBBQSxHQURBLGtCQUFBRCxHQUNBQSxHQUNBOUUsTUFDQWlCLE1BQUFqRCxJQUdBOEcsRUFLQSxRQUFBRSxHQUFBbEcsR0FDQSxNQUFBQSxNQUFBRyxTQUdBLFFBQUFnRyxHQUFBQyxFQUFBbEcsRUFBQW1HLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQSwwQkFBQUMsS0FBQXpHLElBQUF1RyxFQUNBOUgsRUFBQXVCLEVBQUFsQixRQUFBLGVBQUFvSCxJQUFBUSxZQUFBQyxTQUFBQyxJQUNBbkksR0FBQTZILEVBQUFLLFNBQUFDLEtBQUFuSSxDQUNBLElBQUFvSSxHQUFBLE1Bc0JBLE9BbkJBQSxHQURBLE1BQUFULEVBQ0FVLFdBQUFYLEdBQUEsS0FBQUssRUFBQS9ILEVBQUFzSSxZQUFBdEksRUFBQXVJLGNBQ0csT0FBQVosRUFDSFUsV0FBQVgsR0FBQVEsU0FBQUMsS0FBQUcsWUFBQSxJQUNHLE9BQUFYLEVBQ0hVLFdBQUFYLEdBQUFRLFNBQUFDLEtBQUFJLGFBQUEsSUFDR1osS0FBQWEsTUFBQSxPQUNILEdBQUFILFdBQUFYLEdBRUFXLFdBQUFYLEdBRUEsTUFBQUUsRUFDQVEsRUFBQSxJQUFBQSxHQUFBTCxFQUFBL0gsRUFBQXNJLFlBQUF0SSxFQUFBdUksY0FDRyxPQUFBWCxFQUNIUSxFQUFBQyxXQUFBWCxHQUFBUSxTQUFBQyxLQUFBRyxZQUFBLElBQ0csT0FBQVYsRUFDSFEsRUFBQUMsV0FBQVgsR0FBQVEsU0FBQUMsS0FBQUksYUFBQSxJQUNHWCxLQUFBWSxNQUFBLFNBQ0hKLEVBQUFDLFdBQUFYLEdBQUEsSUFFQVUsRUFHQSxRQUFBSyxHQUFBQyxHQUNBLG1CQUFBQSxHQUFBLENBQ0EsR0FBQUEsRUFBQUMsT0FBQSxHQUFBSCxNQUFBLE9BQ0EsR0FBQUksR0FBQVYsU0FBQVcsZ0JBQUEsb0NBRUEsT0FEQUQsR0FBQUUsZUFBQSxTQUFBSixHQUNBRSxFQUVBLE1BQUFWLFVBQUFhLGNBQUFMLEdBQ0csR0FBQUEsRUFBQW5ILE1BQ0gsTUFBQW1ILEVBRUEsVUFBQWxHLE9BQUEsZ0NBR0EsUUFBQXdHLEdBQUFoSixFQUFBaUosR0FDQSxtQkFBQWpKLEdBQ0EsTUFBQUEsRUFFQSxJQUFBa0osR0FBQWxKLEVBQUFrSixZQUNBQyxFQUFBbkosRUFBQW9KLE9BQ0FDLEVBQUFySixFQUFBcUosUUFDQUMsRUFBQXRKLEVBQUFzSixRQUNBQyxFQUFBdkosRUFBQXdKLE9BQ0FDLEVBQUF6SixFQUFBMEosT0FDQUMsRUFBQTNKLEVBQUE0SixPQUNBQyxFQUFBN0osRUFBQThKLE1BQ0FDLEVBQUEvSixFQUFBZ0ssTUFDQUMsRUFBQWpLLEVBQUFpSyxVQUFBLEVBQ0FDLEVBQUFsSyxFQUFBa0ssVUFBQSxFQUNBQyxFQUFBRixFQUFBLEVBQUFqSyxFQUFBbUssV0FDQUMsRUFBQUYsRUFBQSxFQUFBbEssRUFBQW9LLFdBQ0FDLEVBQUFySyxFQUFBcUssWUFBQSxFQUNBQyxFQUFBTCxHQUFBQyxFQUFBLGNBQUFELEdBQUFFLEVBQUEsV0FBQUQsR0FBQUUsRUFBQSxhQUNBRyxFQUFBVixHQUFBRSxFQUFBLFFBQUFGLEVBQUEsT0FBQUUsRUFBQSxVQUNBUyxFQUFBckIsRUFBQSxVQUFBQSxFQUFBLFVBQ0FzQixFQUFBLE1BQ0EsS0FBQXZCLElBQUFHLElBQUFDLElBQUFlLEdBQUEsSUFBQVYsSUFBQVYsRUFBQSxDQUNBd0IsRUFBQSxJQUFBbEIsR0FBQSxJQUFBRSxFQUFBLFNBQUFGLEVBQUEsSUFBQUUsRUFBQSxNQUNBLElBQUFpQixHQUFBSixHQUFBLGFBQUFILEVBQUEsTUFBQUMsRUFBQSxLQUNBLE9BQUFNLEdBQUEsSUFBQUYsRUFBQSxJQUFBQyxFQUFBLElBQUFGLEVBRUFFLEVBQUEsSUFBQWxCLEdBQUEsSUFBQUUsR0FBQSxJQUFBRSxFQUFBLFdBQUFKLEVBQUEsSUFBQUUsRUFBQSxJQUFBRSxFQUFBLE1BQ0EsSUFBQWdCLEdBQUF0QixFQUFBLFdBQUFBLEVBQUEsVUFDQXVCLEVBQUF0QixFQUFBLFdBQUFBLEVBQUEsVUFDQXVCLEVBQUEzQixFQUFBLGVBQUFBLEVBQUEsU0FDQTRCLEVBQUFSLElBQUEsb0JBQUFELEVBQUEscUJBQUFGLEVBQUEsTUFBQUMsRUFBQSxNQUFBQyxFQUFBLEtBQ0EsT0FBQVEsR0FBQSxJQUFBQyxFQUFBLElBQUFMLEVBQUEsSUFBQUQsRUFBQSxJQUFBRyxFQUFBLElBQUFDLEVBQUEsSUFBQUwsRUF6UEFsTSxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBZ0ksR0FBQSxrQkFBQXdFLFNBQUEsZ0JBQUFBLFFBQUFDLFNBQUEsU0FBQTlNLEdBQW9HLGFBQUFBLElBQXFCLFNBQUFBLEdBQW1CLE1BQUFBLElBQUEsa0JBQUE2TSxTQUFBN00sRUFBQStNLGNBQUFGLFFBQUE3TSxJQUFBNk0sT0FBQTdLLFVBQUEsZUFBQWhDLEdBRTVJSCxHQUFBNkgsa0JBQ0E3SCxFQUFBK0gsY0FDQS9ILEVBQUFpSSxjQUNBakksRUFBQThJLDJCQUNBOUksRUFBQStJLGdCQUNBL0ksRUFBQXFKLHFCQUNBckosRUFBQXdKLHVCQUNBeEosRUFBQXlKLHdCQUNBekosRUFBQTBLLFlBQ0ExSyxFQUFBaUwsbUJBRUEsSUFBQTNKLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUE2TCxFQUFBbE4sRUFBQSxLQUVBbUksRUFBQWxJLEVBQUFpTixJSHFnQk1DLEdBQ0EsU0FBU3JOLEVBQVFDLEVBQVNDLEdJL2hCaEMsWUF1Q0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBckM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBQyxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFFLEVBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUsR0FFQUUsRUFBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBK0wsRUFBQXBOLEVBQUEsS0FFQXFOLEVBQUFwTixFQUFBbU4sR0FFQTNMLEVBQUF6QixFQUFBLEdBRUEwQixFQUFBekIsRUFBQXdCLEdBTUE2TCxFQUFBLFNBQUE1SyxHQUdBLFFBQUE0SyxLQUVBLE9BREEsRUFBQXhNLEVBQUEsWUFBQTZCLEtBQUEySyxJQUNBLEVBQUF0TSxFQUFBLFlBQUEyQixLQUFBRCxFQUFBRSxNQUFBRCxLQUFBRSxZQStCQSxPQW5DQSxFQUFBM0IsRUFBQSxZQUFBb00sRUFBQTVLLEdBT0E0SyxFQUFBcEwsVUFBQWlCLE9BQUEsV0FDQSxHQUFBb0ssR0FFQUMsRUFBQTdLLEtBQUFVLE1BQ0FDLEVBQUFrSyxFQUFBbEssVUFDQW1LLEVBQUFELEVBQUEvSixVQUNBQSxFQUFBakQsU0FBQWlOLEVBQUEsR0FBQUEsRUFDQUMsRUFBQUYsRUFBQUUsS0FDQTlJLEVBQUE0SSxFQUFBNUksU0FDQStJLEVBQUFoTCxLQUFBVSxNQUNBdUssRUFBQUQsRUFBQUUsZ0JBQ0FBLEVBQUFyTixTQUFBb04sRUFBQSxZQUFBQSxFQUNBRSxFQUFBSCxFQUFBRyxnQkFFQUMsR0FBQSxFQUFBck0sRUFBQSxhQUFBNkwsTUFBZ0UsRUFBQTNNLEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLGdCQUFBb0ssSUFBQSxFQUFBOU0sRUFBQSxZQUFBMk0sRUFBQWpLLEVBQUEsZ0JBQUFvSyxHQUFBSCxHQUFBOUosR0FDaEV1SyxFQUFBckwsS0FBQXNMLFFBQUFELFNBVUEsT0FSQUEsTUFBQVYsU0FDQU8sRUFBQSxtQkFBQWxMLE1BQUFVLE1BQUF3SyxFQUFBRyxFQUFBVixPQUFBTyxpQkFFQWpKLElBQ0FpSixFQUFBLEtBRUFDLEtBQUEsU0FFQXhNLEVBQUEsV0FBQTBDLGNBQUFxSixFQUFBLGNBQUEzTSxFQUFBLGVBQW1HaUMsS0FBQVUsT0FBZUksVUFBQXNLLEVBQUFELG1CQUFBLFdBQUFELHNCQUdsSFAsR0FDQ2hNLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUF1TixFQUVBQSxFQUFBWSxPQUFBZCxFQUFBYyxPQUNBWixFQUFBYSxTQUFBZixFQUFBZSxTQUNBYixFQUFBbkosY0FDQWIsVUFBQSxhQUNBOEssWUFBQSxFQUNBQyxlQUFBLFdBQ0FDLHFCQUFBLFFBRUFoQixFQUFBaUIsV0FDQWpMLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0FuRCxVQUFBcEMsRUFBQW1OLFVBQUE1SCxPQUNBOEcsS0FBQXJNLEVBQUFtTixVQUFBQyxPQUFBLDRCQUNBN0osU0FBQXZELEVBQUFtTixVQUFBRSxLQUNBYixnQkFBQXhNLEVBQUFtTixVQUFBRyxJQUNBUCxXQUFBL00sRUFBQW1OLFVBQUFFLEtBQ0FaLGdCQUFBek0sRUFBQW1OLFVBQUE1SCxPQUNBeUgsZUFBQWhOLEVBQUFtTixVQUFBNUgsT0FDQTBILHFCQUFBak4sRUFBQW1OLFVBQUE1SCxRQUVBOUcsRUFBQUMsVUFBQSxZSnFpQk02TyxHQUNBLFNBQVM5TyxFQUFRQyxJS3ZvQnRCLFNBQUE4TyxFQUFBQyxHQUNELGdCQUFBL08sSUFBQSxtQkFBQUQsS0FBQUMsUUFBQStPLElBQ0Esa0JBQUFDLGdCQUFBQyxJQUFBRCxPQUFBRCxHQUNBRCxFQUFBSSxPQUFBSCxLQUNDbk0sS0FBQSxXQUFxQixZQUl0QixTQUFBdU0sS0FDQSxNQUFBQyxJQUFBdk0sTUFBQSxLQUFBQyxXQUtBLFFBQUF1TSxHQUFBQyxHQUNBRixHQUFBRSxFQUdBLFFBQUFqSyxHQUFBa0ssR0FDQSxNQUFBQSxhQUFBck0sUUFBQSxtQkFBQTVDLE9BQUE2QixVQUFBcU4sU0FBQW5OLEtBQUFrTixHQUdBLFFBQUFFLEdBQUFGLEdBR0EsYUFBQUEsR0FBQSxvQkFBQWpQLE9BQUE2QixVQUFBcU4sU0FBQW5OLEtBQUFrTixHQUdBLFFBQUFHLEdBQUF2UCxHQUNBLEdBQUF3UCxFQUNBLEtBQUFBLElBQUF4UCxHQUVBLFFBRUEsVUFHQSxRQUFBeVAsR0FBQUwsR0FDQSxzQkFBQUEsSUFBQSxvQkFBQWpQLE9BQUE2QixVQUFBcU4sU0FBQW5OLEtBQUFrTixHQUdBLFFBQUFNLEdBQUFOLEdBQ0EsTUFBQUEsYUFBQU8sT0FBQSxrQkFBQXhQLE9BQUE2QixVQUFBcU4sU0FBQW5OLEtBQUFrTixHQUdBLFFBQUFRLEdBQUFDLEVBQUFDLEdBQ0EsR0FBQXpOLEdBQUEwTixJQUNBLEtBQUExTixFQUFBLEVBQWVBLEVBQUF3TixFQUFBdk4sU0FBZ0JELEVBQy9CME4sRUFBQTFKLEtBQUF5SixFQUFBRCxFQUFBeE4sTUFFQSxPQUFBME4sR0FHQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUNBLE1BQUEvUCxRQUFBNkIsVUFBQUMsZUFBQUMsS0FBQStOLEVBQUFDLEdBR0EsUUFBQUMsR0FBQUYsRUFBQUMsR0FDQSxPQUFBN04sS0FBQTZOLEdBQ0FGLEVBQUFFLEVBQUE3TixLQUNBNE4sRUFBQTVOLEdBQUE2TixFQUFBN04sR0FZQSxPQVJBMk4sR0FBQUUsRUFBQSxjQUNBRCxFQUFBWixTQUFBYSxFQUFBYixVQUdBVyxFQUFBRSxFQUFBLGFBQ0FELEVBQUFHLFFBQUFGLEVBQUFFLFNBR0FILEVBR0EsUUFBQUksR0FBQWpCLEVBQUFrQixFQUFBQyxFQUFBQyxHQUNBLE1BQUFDLElBQUFyQixFQUFBa0IsRUFBQUMsRUFBQUMsR0FBQSxHQUFBRSxNQUdBLFFBQUFDLEtBRUEsT0FDQUMsT0FBQSxFQUNBQyxnQkFDQUMsZUFDQUMsWUFDQUMsY0FBQSxFQUNBQyxXQUFBLEVBQ0FDLGFBQUEsS0FDQUMsZUFBQSxFQUNBQyxpQkFBQSxFQUNBQyxLQUFBLEVBQ0FDLG1CQUNBQyxTQUFBLE1BSUEsUUFBQUMsR0FBQUMsR0FJQSxNQUhBLE9BQUFBLEVBQUFDLE1BQ0FELEVBQUFDLElBQUFmLEtBRUFjLEVBQUFDLElBdUJBLFFBQUFDLEdBQUFGLEdBQ0EsU0FBQUEsRUFBQUcsU0FBQSxDQUNBLEdBQUFDLEdBQUFMLEVBQUFDLEdBQ0FLLEVBQUFDLEdBQUE3UCxLQUFBMlAsRUFBQVAsZ0JBQUEsU0FBQWpQLEdBQ0EsYUFBQUEsSUFFQTJQLEdBQUFDLE1BQUFSLEVBQUFTLEdBQUFDLFlBQ0FOLEVBQUFkLFNBQUEsSUFDQWMsRUFBQWpCLFFBQ0FpQixFQUFBWCxlQUNBVyxFQUFBTyxpQkFDQVAsRUFBQVosWUFDQVksRUFBQVYsZ0JBQ0FVLEVBQUFULG1CQUNBUyxFQUFBTixVQUFBTSxFQUFBTixVQUFBTyxFQVNBLElBUEFMLEVBQUFZLFVBQ0FMLEtBQ0EsSUFBQUgsRUFBQWIsZUFDQSxJQUFBYSxFQUFBaEIsYUFBQXZPLFFBQ0FoQyxTQUFBdVIsRUFBQVMsU0FHQSxNQUFBblMsT0FBQW9TLFVBQUFwUyxPQUFBb1MsU0FBQWQsR0FJQSxNQUFBTyxFQUhBUCxHQUFBRyxTQUFBSSxFQU1BLE1BQUFQLEdBQUFHLFNBR0EsUUFBQVksR0FBQVgsR0FDQSxHQUFBSixHQUFBcEIsRUFBQW9DLElBUUEsT0FQQSxPQUFBWixFQUNBMUIsRUFBQXFCLEVBQUFDLEdBQUFJLEdBR0FMLEVBQUFDLEdBQUFMLGlCQUFBLEVBR0FLLEVBR0EsUUFBQWlCLEdBQUF0RCxHQUNBLGdCQUFBQSxFQU9BLFFBQUF1RCxHQUFBQyxFQUFBQyxHQUNBLEdBQUF4USxHQUFBbUMsRUFBQXNPLENBaUNBLElBL0JBSixFQUFBRyxFQUFBRSxvQkFDQUgsRUFBQUcsaUJBQUFGLEVBQUFFLGtCQUVBTCxFQUFBRyxFQUFBRyxNQUNBSixFQUFBSSxHQUFBSCxFQUFBRyxJQUVBTixFQUFBRyxFQUFBSSxNQUNBTCxFQUFBSyxHQUFBSixFQUFBSSxJQUVBUCxFQUFBRyxFQUFBSyxNQUNBTixFQUFBTSxHQUFBTCxFQUFBSyxJQUVBUixFQUFBRyxFQUFBUixXQUNBTyxFQUFBUCxRQUFBUSxFQUFBUixTQUVBSyxFQUFBRyxFQUFBTSxRQUNBUCxFQUFBTyxLQUFBTixFQUFBTSxNQUVBVCxFQUFBRyxFQUFBTyxVQUNBUixFQUFBUSxPQUFBUCxFQUFBTyxRQUVBVixFQUFBRyxFQUFBUSxXQUNBVCxFQUFBUyxRQUFBUixFQUFBUSxTQUVBWCxFQUFBRyxFQUFBbkIsT0FDQWtCLEVBQUFsQixJQUFBRixFQUFBcUIsSUFFQUgsRUFBQUcsRUFBQVMsV0FDQVYsRUFBQVUsUUFBQVQsRUFBQVMsU0FHQUMsR0FBQWpSLE9BQUEsRUFDQSxJQUFBRCxJQUFBa1IsSUFDQS9PLEVBQUErTyxHQUFBbFIsR0FDQXlRLEVBQUFELEVBQUFyTyxHQUNBa08sRUFBQUksS0FDQUYsRUFBQXBPLEdBQUFzTyxFQUtBLE9BQUFGLEdBTUEsUUFBQVksR0FBQUMsR0FDQWQsRUFBQWxRLEtBQUFnUixHQUNBaFIsS0FBQXlQLEdBQUEsR0FBQXZDLE1BQUEsTUFBQThELEVBQUF2QixHQUFBdUIsRUFBQXZCLEdBQUFDLFVBQUFNLEtBQ0FoUSxLQUFBa1AsWUFDQWxQLEtBQUF5UCxHQUFBLEdBQUF2QyxNQUFBOEMsTUFJQWlCLE1BQUEsSUFDQUEsSUFBQSxFQUNBMUUsRUFBQTJFLGFBQUFsUixNQUNBaVIsSUFBQSxHQUlBLFFBQUFFLEdBQUE1VCxHQUNBLE1BQUFBLGFBQUF3VCxJQUFBLE1BQUF4VCxHQUFBLE1BQUFBLEVBQUErUyxpQkFHQSxRQUFBYyxHQUFBQyxHQUNBLE1BQUFBLEdBQUEsRUFFQUMsS0FBQUMsS0FBQUYsSUFBQSxFQUVBQyxLQUFBRSxNQUFBSCxHQUlBLFFBQUFJLEdBQUFDLEdBQ0EsR0FBQUMsSUFBQUQsRUFDQTlULEVBQUEsQ0FNQSxPQUpBLEtBQUErVCxHQUFBQyxTQUFBRCxLQUNBL1QsRUFBQXdULEVBQUFPLElBR0EvVCxFQUlBLFFBQUFpVSxHQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBR0FwUyxHQUhBcVMsRUFBQVgsS0FBQVksSUFBQUosRUFBQWpTLE9BQUFrUyxFQUFBbFMsUUFDQXNTLEVBQUFiLEtBQUFjLElBQUFOLEVBQUFqUyxPQUFBa1MsRUFBQWxTLFFBQ0F3UyxFQUFBLENBRUEsS0FBQXpTLEVBQUEsRUFBZUEsRUFBQXFTLEVBQVNyUyxLQUN4Qm9TLEdBQUFGLEVBQUFsUyxLQUFBbVMsRUFBQW5TLEtBQ0FvUyxHQUFBUCxFQUFBSyxFQUFBbFMsTUFBQTZSLEVBQUFNLEVBQUFuUyxNQUNBeVMsR0FHQSxPQUFBQSxHQUFBRixFQUdBLFFBQUFHLEdBQUFDLEdBQ0FoRyxFQUFBaUcsK0JBQUEsR0FDQSxtQkFBQUMsa0JBQUFILE1BQ0FHLFFBQUFILEtBQUEsd0JBQUFDLEdBSUEsUUFBQUcsR0FBQUgsRUFBQWxGLEdBQ0EsR0FBQXNGLElBQUEsQ0FFQSxPQUFBakYsR0FBQSxXQUlBLEdBSEEsTUFBQW5CLEVBQUFxRyxvQkFDQXJHLEVBQUFxRyxtQkFBQSxLQUFBTCxHQUVBSSxFQUFBLENBR0EsT0FEQWpNLEdBREFyRyxLQUVBVCxFQUFBLEVBQTJCQSxFQUFBTSxVQUFBTCxPQUFzQkQsSUFBQSxDQUVqRCxHQURBOEcsRUFBQSxHQUNBLGdCQUFBeEcsV0FBQU4sR0FBQSxDQUNBOEcsR0FBQSxNQUFBOUcsRUFBQSxJQUNBLFFBQUFnQyxLQUFBMUIsV0FBQSxHQUNBd0csR0FBQTlFLEVBQUEsS0FBQTFCLFVBQUEsR0FBQTBCLEdBQUEsSUFFQThFLEtBQUFtTSxNQUFBLFVBRUFuTSxHQUFBeEcsVUFBQU4sRUFFQVMsR0FBQXVELEtBQUE4QyxHQUVBNEwsRUFBQUMsRUFBQSxnQkFBQWpTLE1BQUFmLFVBQUFzVCxNQUFBcFQsS0FBQVksR0FBQTJDLEtBQUEsYUFBQW5CLFFBQUFpUixPQUNBSCxHQUFBLEVBRUEsTUFBQXRGLEdBQUFwTixNQUFBRCxLQUFBRSxZQUNLbU4sR0FLTCxRQUFBMEYsR0FBQWxOLEVBQUEwTSxHQUNBLE1BQUFoRyxFQUFBcUcsb0JBQ0FyRyxFQUFBcUcsbUJBQUEvTSxFQUFBME0sR0FFQVMsR0FBQW5OLEtBQ0F5TSxFQUFBQyxHQUNBUyxHQUFBbk4sSUFBQSxHQU9BLFFBQUFvTixHQUFBdEcsR0FDQSxNQUFBQSxhQUFBdUcsV0FBQSxzQkFBQXhWLE9BQUE2QixVQUFBcU4sU0FBQW5OLEtBQUFrTixHQUdBLFFBQUF3RyxHQUFBbkMsR0FDQSxHQUFBalAsR0FBQW5DLENBQ0EsS0FBQUEsSUFBQW9SLEdBQ0FqUCxFQUFBaVAsRUFBQXBSLEdBQ0FxVCxFQUFBbFIsR0FDQS9CLEtBQUFKLEdBQUFtQyxFQUVBL0IsS0FBQSxJQUFBSixHQUFBbUMsQ0FHQS9CLE1BQUFvVCxRQUFBcEMsRUFHQWhSLEtBQUFxVCxxQkFBQSxHQUFBL08sUUFBQXRFLEtBQUFzVCxjQUFBQyxPQUFBLGNBQXNGQSxRQUd0RixRQUFBQyxHQUFBQyxFQUFBQyxHQUNBLEdBQXVCM1IsR0FBdkJ1TCxFQUFBSSxLQUF1QitGLEVBQ3ZCLEtBQUExUixJQUFBMlIsR0FDQW5HLEVBQUFtRyxFQUFBM1IsS0FDQThLLEVBQUE0RyxFQUFBMVIsS0FBQThLLEVBQUE2RyxFQUFBM1IsS0FDQXVMLEVBQUF2TCxNQUNBMkwsRUFBQUosRUFBQXZMLEdBQUEwUixFQUFBMVIsSUFDQTJMLEVBQUFKLEVBQUF2TCxHQUFBMlIsRUFBQTNSLEtBQ2EsTUFBQTJSLEVBQUEzUixHQUNidUwsRUFBQXZMLEdBQUEyUixFQUFBM1IsU0FFQXVMLEdBQUF2TCxHQUlBLEtBQUFBLElBQUEwUixHQUNBbEcsRUFBQWtHLEVBQUExUixLQUNBd0wsRUFBQW1HLEVBQUEzUixJQUNBOEssRUFBQTRHLEVBQUExUixNQUVBdUwsRUFBQXZMLEdBQUEyTCxLQUFpQ0osRUFBQXZMLElBR2pDLE9BQUF1TCxHQUdBLFFBQUFxRyxHQUFBM0MsR0FDQSxNQUFBQSxHQUNBaFIsS0FBQW1ULElBQUFuQyxHQStCQSxRQUFBNEMsR0FBQWhTLEVBQUFpUyxFQUFBQyxHQUNBLEdBQUFDLEdBQUEvVCxLQUFBZ1UsVUFBQXBTLElBQUE1QixLQUFBZ1UsVUFBQSxRQUNBLE9BQUFmLEdBQUFjLEtBQUF0VSxLQUFBb1UsRUFBQUMsR0FBQUMsRUFZQSxRQUFBRSxHQUFBclMsR0FDQSxHQUFBaU0sR0FBQTdOLEtBQUFrVSxnQkFBQXRTLEdBQ0F1UyxFQUFBblUsS0FBQWtVLGdCQUFBdFMsRUFBQXdTLGNBRUEsT0FBQXZHLEtBQUFzRyxFQUNBdEcsR0FHQTdOLEtBQUFrVSxnQkFBQXRTLEdBQUF1UyxFQUFBRSxRQUFBLDRCQUFBaEUsR0FDQSxNQUFBQSxHQUFBd0MsTUFBQSxLQUdBN1MsS0FBQWtVLGdCQUFBdFMsSUFLQSxRQUFBMFMsS0FDQSxNQUFBdFUsTUFBQXVVLGFBTUEsUUFBQUMsR0FBQW5ELEdBQ0EsTUFBQXJSLE1BQUF5VSxTQUFBSixRQUFBLEtBQUFoRCxHQW1CQSxRQUFBcUQsR0FBQXJELEVBQUFzRCxFQUFBMVEsRUFBQTJRLEdBQ0EsR0FBQWIsR0FBQS9ULEtBQUE2VSxjQUFBNVEsRUFDQSxPQUFBZ1AsR0FBQWMsR0FDQUEsRUFBQTFDLEVBQUFzRCxFQUFBMVEsRUFBQTJRLEdBQ0FiLEVBQUFNLFFBQUEsTUFBQWhELEdBR0EsUUFBQXlELEdBQUFDLEVBQUFoQixHQUNBLEdBQUFsRyxHQUFBN04sS0FBQTZVLGNBQUFFLEVBQUEsa0JBQ0EsT0FBQTlCLEdBQUFwRixLQUFBa0csR0FBQWxHLEVBQUF3RyxRQUFBLE1BQUFOLEdBS0EsUUFBQWlCLEdBQUFoTyxFQUFBaU8sR0FDQSxHQUFBQyxHQUFBbE8sRUFBQW1PLGFBQ0FDLElBQUFGLEdBQUFFLEdBQUFGLEVBQUEsS0FBQUUsR0FBQUgsR0FBQWpPLEVBR0EsUUFBQXFPLEdBQUFDLEdBQ0Esc0JBQUFBLEdBQUFGLEdBQUFFLElBQUFGLEdBQUFFLEVBQUFILGVBQUF0WCxPQUdBLFFBQUEwWCxHQUFBQyxHQUNBLEdBQ0FDLEdBQ0ExVCxFQUZBMlQsSUFJQSxLQUFBM1QsSUFBQXlULEdBQ0FqSSxFQUFBaUksRUFBQXpULEtBQ0EwVCxFQUFBSixFQUFBdFQsR0FDQTBULElBQ0FDLEVBQUFELEdBQUFELEVBQUF6VCxJQUtBLE9BQUEyVCxHQUtBLFFBQUFDLEdBQUEzTyxFQUFBNE8sR0FDQUMsR0FBQTdPLEdBQUE0TyxFQUdBLFFBQUFFLEdBQUFDLEdBQ0EsR0FBQVQsS0FDQSxRQUFBVSxLQUFBRCxHQUNBVCxFQUFBMVIsTUFBb0JvRCxLQUFBZ1AsRUFBQUosU0FBQUMsR0FBQUcsSUFLcEIsT0FIQVYsR0FBQVcsS0FBQSxTQUFBekksRUFBQUMsR0FDQSxNQUFBRCxHQUFBb0ksU0FBQW5JLEVBQUFtSSxXQUVBTixFQUdBLFFBQUFZLEdBQUFsUCxFQUFBbVAsR0FDQSxnQkFBQXZZLEdBQ0EsYUFBQUEsR0FDQXdZLEVBQUFwVyxLQUFBZ0gsRUFBQXBKLEdBQ0EyTyxFQUFBMkUsYUFBQWxSLEtBQUFtVyxHQUNBblcsTUFFQXFXLEVBQUFyVyxLQUFBZ0gsSUFLQSxRQUFBcVAsR0FBQXhDLEVBQUE3TSxHQUNBLE1BQUE2TSxHQUFBM0UsVUFDQTJFLEVBQUFwRSxHQUFBLE9BQUFvRSxFQUFBbEQsT0FBQSxVQUFBM0osS0FBQWdKLElBR0EsUUFBQW9HLEdBQUF2QyxFQUFBN00sRUFBQXBKLEdBQ0FpVyxFQUFBM0UsV0FDQTJFLEVBQUFwRSxHQUFBLE9BQUFvRSxFQUFBbEQsT0FBQSxVQUFBM0osR0FBQXBKLEdBTUEsUUFBQTBZLEdBQUFoQixHQUVBLE1BREFBLEdBQUFELEVBQUFDLEdBQ0FyQyxFQUFBalQsS0FBQXNWLElBQ0F0VixLQUFBc1YsS0FFQXRWLEtBSUEsUUFBQXVXLEdBQUFqQixFQUFBMVgsR0FDQSxtQkFBQTBYLEdBQUEsQ0FDQUEsRUFBQUMsRUFBQUQsRUFFQSxRQURBa0IsR0FBQVYsRUFBQVIsR0FDQTFWLEVBQUEsRUFBdUJBLEVBQUE0VyxFQUFBM1csT0FBd0JELElBQy9DSSxLQUFBd1csRUFBQTVXLEdBQUFvSCxNQUFBc08sRUFBQWtCLEVBQUE1VyxHQUFBb0gsV0FJQSxJQURBc08sRUFBQUQsRUFBQUMsR0FDQXJDLEVBQUFqVCxLQUFBc1YsSUFDQSxNQUFBdFYsTUFBQXNWLEdBQUExWCxFQUdBLE9BQUFvQyxNQUdBLFFBQUF5VyxHQUFBcEYsRUFBQXFGLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQSxHQUFBdEYsS0FBQWMsSUFBQWYsR0FDQXdGLEVBQUFILEVBQUFFLEVBQUEvVyxPQUNBaVgsRUFBQXpGLEdBQUEsQ0FDQSxRQUFBeUYsRUFBQUgsRUFBQSxZQUNBckYsS0FBQXlGLElBQUEsR0FBQXpGLEtBQUEwRixJQUFBLEVBQUFILElBQUFqSyxXQUFBcUssT0FBQSxHQUFBTCxFQWVBLFFBQUFNLEdBQUFDLEVBQUFDLEVBQUE1QyxFQUFBOUgsR0FDQSxHQUFBMkssR0FBQTNLLENBQ0EsaUJBQUFBLEtBQ0EySyxFQUFBLFdBQ0EsTUFBQXJYLE1BQUEwTSxPQUdBeUssSUFDQUcsR0FBQUgsR0FBQUUsR0FFQUQsSUFDQUUsR0FBQUYsRUFBQSxlQUNBLE1BQUFYLEdBQUFZLEVBQUFwWCxNQUFBRCxLQUFBRSxXQUFBa1gsRUFBQSxHQUFBQSxFQUFBLE1BR0E1QyxJQUNBOEMsR0FBQTlDLEdBQUEsV0FDQSxNQUFBeFUsTUFBQXVYLGFBQUEvQyxRQUFBNkMsRUFBQXBYLE1BQUFELEtBQUFFLFdBQUFpWCxLQUtBLFFBQUFLLEdBQUE3SyxHQUNBLE1BQUFBLEdBQUE5RSxNQUFBLFlBQ0E4RSxFQUFBMEgsUUFBQSxlQUVBMUgsRUFBQTBILFFBQUEsVUFHQSxRQUFBb0QsR0FBQTVKLEdBQ0EsR0FBQWpPLEdBQUFDLEVBQUEwRSxFQUFBc0osRUFBQWhHLE1BQUE2UCxHQUVBLEtBQUE5WCxFQUFBLEVBQUFDLEVBQUEwRSxFQUFBMUUsT0FBc0NELEVBQUFDLEVBQVlELElBQ2xEMFgsR0FBQS9TLEVBQUEzRSxJQUNBMkUsRUFBQTNFLEdBQUEwWCxHQUFBL1MsRUFBQTNFLElBRUEyRSxFQUFBM0UsR0FBQTRYLEVBQUFqVCxFQUFBM0UsR0FJQSxpQkFBQWlVLEdBQ0EsR0FBQWpVLEdBQUFtVSxFQUFBLEVBQ0EsS0FBQW5VLEVBQUEsRUFBbUJBLEVBQUFDLEVBQVlELElBQy9CbVUsR0FBQXhQLEVBQUEzRSxZQUFBc1QsVUFBQTNPLEVBQUEzRSxHQUFBSCxLQUFBb1UsRUFBQWhHLEdBQUF0SixFQUFBM0UsRUFFQSxPQUFBbVUsSUFLQSxRQUFBNEQsR0FBQTNJLEVBQUFuQixHQUNBLE1BQUFtQixHQUFBRSxXQUlBckIsRUFBQStKLEVBQUEvSixFQUFBbUIsRUFBQXVJLGNBQ0FNLEdBQUFoSyxHQUFBZ0ssR0FBQWhLLElBQUE0SixFQUFBNUosR0FFQWdLLEdBQUFoSyxHQUFBbUIsSUFOQUEsRUFBQXVJLGFBQUFqRCxjQVNBLFFBQUFzRCxHQUFBL0osRUFBQUMsR0FHQSxRQUFBZ0ssR0FBQW5MLEdBQ0EsTUFBQW1CLEdBQUFtRyxlQUFBdEgsTUFIQSxHQUFBL00sR0FBQSxDQU9BLEtBREFtWSxHQUFBQyxVQUFBLEVBQ0FwWSxHQUFBLEdBQUFtWSxHQUFBMVEsS0FBQXdHLElBQ0FBLElBQUF3RyxRQUFBMEQsR0FBQUQsR0FDQUMsR0FBQUMsVUFBQSxFQUNBcFksR0FBQSxDQUdBLE9BQUFpTyxHQThCQSxRQUFBb0ssR0FBQWQsRUFBQWUsRUFBQUMsR0FDQUMsR0FBQWpCLEdBQUFsRSxFQUFBaUYsS0FBQSxTQUFBRyxFQUFBZCxHQUNBLE1BQUFjLElBQUFGLElBQUFELEdBSUEsUUFBQUksR0FBQW5CLEVBQUFuRyxHQUNBLE1BQUF6RCxHQUFBNkssR0FBQWpCLEdBSUFpQixHQUFBakIsR0FBQW5HLEVBQUFwQixRQUFBb0IsRUFBQUgsU0FIQSxHQUFBdk0sUUFBQWlVLEdBQUFwQixJQU9BLFFBQUFvQixJQUFBcFosR0FDQSxNQUFBcVosSUFBQXJaLEVBQUFrVixRQUFBLFNBQUFBLFFBQUEsK0NBQUFvRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLE1BQUFILElBQUFDLEdBQUFDLEdBQUFDLEtBSUEsUUFBQUwsSUFBQXJaLEdBQ0EsTUFBQUEsR0FBQWtWLFFBQUEseUJBQTBDLFFBSzFDLFFBQUF5RSxJQUFBM0IsRUFBQXpLLEdBQ0EsR0FBQTlNLEdBQUF5WCxFQUFBM0ssQ0FTQSxLQVJBLGdCQUFBeUssS0FDQUEsT0FFQW5LLEVBQUFOLEtBQ0EySyxFQUFBLFNBQUExSyxFQUFBcEksR0FDQUEsRUFBQW1JLEdBQUErRSxFQUFBOUUsS0FHQS9NLEVBQUEsRUFBZUEsRUFBQXVYLEVBQUF0WCxPQUFrQkQsSUFDakNtWixHQUFBNUIsRUFBQXZYLElBQUF5WCxFQUlBLFFBQUEyQixJQUFBN0IsRUFBQXpLLEdBQ0FvTSxHQUFBM0IsRUFBQSxTQUFBeEssRUFBQXBJLEVBQUF5TSxFQUFBbUcsR0FDQW5HLEVBQUFpSSxHQUFBakksRUFBQWlJLE9BQ0F2TSxFQUFBQyxFQUFBcUUsRUFBQWlJLEdBQUFqSSxFQUFBbUcsS0FJQSxRQUFBK0IsSUFBQS9CLEVBQUF4SyxFQUFBcUUsR0FDQSxNQUFBckUsR0FBQVksRUFBQXdMLEdBQUE1QixJQUNBNEIsR0FBQTVCLEdBQUF4SyxFQUFBcUUsRUFBQXZRLEdBQUF1USxFQUFBbUcsR0FpQ0EsUUFBQWdDLElBQUFDLEVBQUFDLEdBQ0EsVUFBQW5NLFdBQUFvTSxJQUFBRixFQUFBQyxFQUFBLE1BQUFFLGFBc0RBLFFBQUFDLElBQUF4SyxFQUFBbkIsR0FDQSxNQUFBbUIsR0FHQXZNLEVBQUF6QyxLQUFBeVosU0FBQXpaLEtBQUF5WixRQUFBekssRUFBQXFLLFNBQ0FyWixLQUFBeVosU0FBQXpaLEtBQUF5WixRQUFBQyxVQUFBQyxJQUFBdFMsS0FBQXdHLEdBQUEsdUJBQUFtQixFQUFBcUssU0FIQXJaLEtBQUF5WixRQU9BLFFBQUFHLElBQUE1SyxFQUFBbkIsR0FDQSxNQUFBbUIsR0FHQXZNLEVBQUF6QyxLQUFBNlosY0FBQTdaLEtBQUE2WixhQUFBN0ssRUFBQXFLLFNBQ0FyWixLQUFBNlosYUFBQUYsR0FBQXRTLEtBQUF3RyxHQUFBLHVCQUFBbUIsRUFBQXFLLFNBSEFyWixLQUFBNlosYUFNQSxRQUFBQyxJQUFBQyxFQUFBbE0sRUFBQUUsR0FDQSxHQUFBbk8sR0FBQW9hLEVBQUFuRyxFQUFBb0csRUFBQUYsRUFBQUcsbUJBQ0EsS0FBQWxhLEtBQUFtYSxhQUtBLElBSEFuYSxLQUFBbWEsZ0JBQ0FuYSxLQUFBb2Esb0JBQ0FwYSxLQUFBcWEscUJBQ0F6YSxFQUFBLEVBQW1CQSxFQUFBLEtBQVFBLEVBQzNCaVUsRUFBQWpHLEdBQUEsSUFBQWhPLElBQ0FJLEtBQUFxYSxrQkFBQXphLEdBQUFJLEtBQUFzYSxZQUFBekcsRUFBQSxJQUFBcUcsb0JBQ0FsYSxLQUFBb2EsaUJBQUF4YSxHQUFBSSxLQUFBdWEsT0FBQTFHLEVBQUEsSUFBQXFHLG1CQUlBLE9BQUFuTSxHQUNBLFFBQUFGLEdBQ0FtTSxFQUFBUSxHQUFBL2EsS0FBQU8sS0FBQXFhLGtCQUFBSixHQUNBRCxTQUFBLE9BRUFBLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBb2EsaUJBQUFILEdBQ0FELFNBQUEsTUFHQSxRQUFBbk0sR0FDQW1NLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBcWEsa0JBQUFKLEdBQ0FELE9BQ0FBLEdBRUFBLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBb2EsaUJBQUFILEdBQ0FELFNBQUEsUUFFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFvYSxpQkFBQUgsR0FDQUQsT0FDQUEsR0FFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFxYSxrQkFBQUosR0FDQUQsU0FBQSxPQUtBLFFBQUFTLElBQUFWLEVBQUFsTSxFQUFBRSxHQUNBLEdBQUFuTyxHQUFBaVUsRUFBQXFFLENBRUEsSUFBQWxZLEtBQUEwYSxrQkFDQSxNQUFBWixJQUFBcmEsS0FBQU8sS0FBQStaLEVBQUFsTSxFQUFBRSxFQVlBLEtBVEEvTixLQUFBbWEsZUFDQW5hLEtBQUFtYSxnQkFDQW5hLEtBQUFvYSxvQkFDQXBhLEtBQUFxYSxzQkFNQXphLEVBQUEsRUFBZUEsRUFBQSxHQUFRQSxJQUFBLENBWXZCLEdBVkFpVSxFQUFBakcsR0FBQSxJQUFBaE8sSUFDQW1PLElBQUEvTixLQUFBb2EsaUJBQUF4YSxLQUNBSSxLQUFBb2EsaUJBQUF4YSxHQUFBLEdBQUEwRSxRQUFBLElBQUF0RSxLQUFBdWEsT0FBQTFHLEVBQUEsSUFBQVEsUUFBQSxpQkFDQXJVLEtBQUFxYSxrQkFBQXphLEdBQUEsR0FBQTBFLFFBQUEsSUFBQXRFLEtBQUFzYSxZQUFBekcsRUFBQSxJQUFBUSxRQUFBLGtCQUVBdEcsR0FBQS9OLEtBQUFtYSxhQUFBdmEsS0FDQXNZLEVBQUEsSUFBQWxZLEtBQUF1YSxPQUFBMUcsRUFBQSxTQUFBN1QsS0FBQXNhLFlBQUF6RyxFQUFBLElBQ0E3VCxLQUFBbWEsYUFBQXZhLEdBQUEsR0FBQTBFLFFBQUE0VCxFQUFBN0QsUUFBQSxjQUdBdEcsR0FBQSxTQUFBRixHQUFBN04sS0FBQW9hLGlCQUFBeGEsR0FBQXlILEtBQUEwUyxHQUNBLE1BQUFuYSxFQUNTLElBQUFtTyxHQUFBLFFBQUFGLEdBQUE3TixLQUFBcWEsa0JBQUF6YSxHQUFBeUgsS0FBQTBTLEdBQ1QsTUFBQW5hLEVBQ1MsS0FBQW1PLEdBQUEvTixLQUFBbWEsYUFBQXZhLEdBQUF5SCxLQUFBMFMsR0FDVCxNQUFBbmEsSUFPQSxRQUFBK2EsSUFBQTlHLEVBQUFqVyxHQUNBLEdBQUFnZCxFQUVBLEtBQUEvRyxFQUFBM0UsVUFFQSxNQUFBMkUsRUFHQSxvQkFBQWpXLEdBQ0EsV0FBQXlKLEtBQUF6SixHQUNBQSxFQUFBNlQsRUFBQTdULE9BSUEsSUFGQUEsRUFBQWlXLEVBQUEwRCxhQUFBc0QsWUFBQWpkLElBRUFvUCxFQUFBcFAsR0FDQSxNQUFBaVcsRUFPQSxPQUZBK0csR0FBQXRKLEtBQUFZLElBQUEyQixFQUFBaUgsT0FBQTNCLEdBQUF0RixFQUFBdUYsT0FBQXhiLElBQ0FpVyxFQUFBcEUsR0FBQSxPQUFBb0UsRUFBQWxELE9BQUEsbUJBQUEvUyxFQUFBZ2QsR0FDQS9HLEVBR0EsUUFBQWtILElBQUFuZCxHQUNBLGFBQUFBLEdBQ0ErYyxHQUFBM2EsS0FBQXBDLEdBQ0EyTyxFQUFBMkUsYUFBQWxSLE1BQUEsR0FDQUEsTUFFQXFXLEVBQUFyVyxLQUFBLFNBSUEsUUFBQWdiLE1BQ0EsTUFBQTdCLElBQUFuWixLQUFBb1osT0FBQXBaLEtBQUFxWixTQUlBLFFBQUE0QixJQUFBNUMsR0FDQSxNQUFBclksTUFBQTBhLG1CQUNBbk4sRUFBQXZOLEtBQUEsaUJBQ0FrYixHQUFBemIsS0FBQU8sTUFFQXFZLEVBQ0FyWSxLQUFBbWIsd0JBRUFuYixLQUFBb2Isb0JBR0E3TixFQUFBdk4sS0FBQSx1QkFDQUEsS0FBQW9iLGtCQUFBQyxJQUVBcmIsS0FBQW1iLHlCQUFBOUMsRUFDQXJZLEtBQUFtYix3QkFBQW5iLEtBQUFvYixtQkFLQSxRQUFBRSxJQUFBakQsR0FDQSxNQUFBclksTUFBQTBhLG1CQUNBbk4sRUFBQXZOLEtBQUEsaUJBQ0FrYixHQUFBemIsS0FBQU8sTUFFQXFZLEVBQ0FyWSxLQUFBdWIsbUJBRUF2YixLQUFBd2IsZUFHQWpPLEVBQUF2TixLQUFBLGtCQUNBQSxLQUFBd2IsYUFBQUMsSUFFQXpiLEtBQUF1YixvQkFBQWxELEVBQ0FyWSxLQUFBdWIsbUJBQUF2YixLQUFBd2IsY0FJQSxRQUFBTixNQUNBLFFBQUFRLEdBQUFsTyxFQUFBQyxHQUNBLE1BQUFBLEdBQUE1TixPQUFBMk4sRUFBQTNOLE9BR0EsR0FDQUQsR0FBQWlVLEVBREE4SCxLQUFBQyxLQUFBQyxJQUVBLEtBQUFqYyxFQUFBLEVBQWVBLEVBQUEsR0FBUUEsSUFFdkJpVSxFQUFBakcsR0FBQSxJQUFBaE8sSUFDQStiLEVBQUEvWCxLQUFBNUQsS0FBQXNhLFlBQUF6RyxFQUFBLEtBQ0ErSCxFQUFBaFksS0FBQTVELEtBQUF1YSxPQUFBMUcsRUFBQSxLQUNBZ0ksRUFBQWpZLEtBQUE1RCxLQUFBdWEsT0FBQTFHLEVBQUEsS0FDQWdJLEVBQUFqWSxLQUFBNUQsS0FBQXNhLFlBQUF6RyxFQUFBLElBT0EsS0FIQThILEVBQUExRixLQUFBeUYsR0FDQUUsRUFBQTNGLEtBQUF5RixHQUNBRyxFQUFBNUYsS0FBQXlGLEdBQ0E5YixFQUFBLEVBQWVBLEVBQUEsR0FBUUEsSUFDdkIrYixFQUFBL2IsR0FBQTRZLEdBQUFtRCxFQUFBL2IsSUFDQWdjLEVBQUFoYyxHQUFBNFksR0FBQW9ELEVBQUFoYyxHQUVBLEtBQUFBLEVBQUEsRUFBZUEsRUFBQSxHQUFRQSxJQUN2QmljLEVBQUFqYyxHQUFBNFksR0FBQXFELEVBQUFqYyxHQUdBSSxNQUFBd2IsYUFBQSxHQUFBbFgsUUFBQSxLQUFBdVgsRUFBQTdZLEtBQUEsY0FDQWhELEtBQUFvYixrQkFBQXBiLEtBQUF3YixhQUNBeGIsS0FBQXViLG1CQUFBLEdBQUFqWCxRQUFBLEtBQUFzWCxFQUFBNVksS0FBQSxjQUNBaEQsS0FBQW1iLHdCQUFBLEdBQUE3VyxRQUFBLEtBQUFxWCxFQUFBM1ksS0FBQSxjQStDQSxRQUFBOFksSUFBQTFDLEdBQ0EsTUFBQTJDLElBQUEzQyxHQUFBLFFBR0EsUUFBQTJDLElBQUEzQyxHQUNBLE1BQUFBLEdBQUEsT0FBQUEsRUFBQSxTQUFBQSxFQUFBLFFBYUEsUUFBQTRDLE1BQ0EsTUFBQUQsSUFBQS9iLEtBQUFvWixRQUdBLFFBQUE2QyxJQUFBQyxFQUFBbE4sRUFBQW1OLEVBQUFDLEVBQUFDLEVBQUFsZCxFQUFBbWQsR0FHQSxHQUFBeEIsR0FBQSxHQUFBNU4sTUFBQWdQLEVBQUFsTixFQUFBbU4sRUFBQUMsRUFBQUMsRUFBQWxkLEVBQUFtZCxFQU1BLE9BSEFKLEdBQUEsS0FBQUEsR0FBQSxHQUFBdEssU0FBQWtKLEVBQUF5QixnQkFDQXpCLEVBQUEwQixZQUFBTixHQUVBcEIsRUFHQSxRQUFBMkIsSUFBQVAsR0FDQSxHQUFBcEIsR0FBQSxHQUFBNU4sV0FBQW9NLElBQUFyWixNQUFBLEtBQUFDLFdBTUEsT0FIQWdjLEdBQUEsS0FBQUEsR0FBQSxHQUFBdEssU0FBQWtKLEVBQUE0QixtQkFDQTVCLEVBQUE2QixlQUFBVCxHQUVBcEIsRUFJQSxRQUFBOEIsSUFBQXhELEVBQUF5RCxFQUFBQyxHQUNBLEdBQ0FDLEdBQUEsRUFBQUYsRUFBQUMsRUFFQUUsR0FBQSxFQUFBUCxHQUFBckQsRUFBQSxFQUFBMkQsR0FBQUUsWUFBQUosR0FBQSxDQUVBLFFBQUFHLEVBQUFELEVBQUEsRUFJQSxRQUFBRyxJQUFBOUQsRUFBQStELEVBQUFDLEVBQUFQLEVBQUFDLEdBQ0EsR0FHQU8sR0FBQUMsRUFIQUMsR0FBQSxFQUFBSCxFQUFBUCxHQUFBLEVBQ0FXLEVBQUFaLEdBQUF4RCxFQUFBeUQsRUFBQUMsR0FDQVcsRUFBQSxLQUFBTixFQUFBLEdBQUFJLEVBQUFDLENBY0EsT0FYQUMsSUFBQSxHQUNBSixFQUFBakUsRUFBQSxFQUNBa0UsRUFBQXhCLEdBQUF1QixHQUFBSSxHQUNLQSxFQUFBM0IsR0FBQTFDLElBQ0xpRSxFQUFBakUsRUFBQSxFQUNBa0UsRUFBQUcsRUFBQTNCLEdBQUExQyxLQUVBaUUsRUFBQWpFLEVBQ0FrRSxFQUFBRyxJQUlBckUsS0FBQWlFLEVBQ0FJLFVBQUFILEdBSUEsUUFBQUksSUFBQTdKLEVBQUFnSixFQUFBQyxHQUNBLEdBRUFhLEdBQUFOLEVBRkFHLEVBQUFaLEdBQUEvSSxFQUFBdUYsT0FBQXlELEVBQUFDLEdBQ0FLLEVBQUE3TCxLQUFBRSxPQUFBcUMsRUFBQTRKLFlBQUFELEVBQUEsT0FjQSxPQVhBTCxHQUFBLEdBQ0FFLEVBQUF4SixFQUFBdUYsT0FBQSxFQUNBdUUsRUFBQVIsRUFBQVMsR0FBQVAsRUFBQVIsRUFBQUMsSUFDS0ssRUFBQVMsR0FBQS9KLEVBQUF1RixPQUFBeUQsRUFBQUMsSUFDTGEsRUFBQVIsRUFBQVMsR0FBQS9KLEVBQUF1RixPQUFBeUQsRUFBQUMsR0FDQU8sRUFBQXhKLEVBQUF1RixPQUFBLElBRUFpRSxFQUFBeEosRUFBQXVGLE9BQ0F1RSxFQUFBUixJQUlBQSxLQUFBUSxFQUNBdkUsS0FBQWlFLEdBSUEsUUFBQU8sSUFBQXhFLEVBQUF5RCxFQUFBQyxHQUNBLEdBQUFVLEdBQUFaLEdBQUF4RCxFQUFBeUQsRUFBQUMsR0FDQWUsRUFBQWpCLEdBQUF4RCxFQUFBLEVBQUF5RCxFQUFBQyxFQUNBLFFBQUFoQixHQUFBMUMsR0FBQW9FLEVBQUFLLEdBQUEsRUFpQ0EsUUFBQUMsSUFBQWpLLEdBQ0EsTUFBQTZKLElBQUE3SixFQUFBN1QsS0FBQStkLE1BQUFsQixJQUFBN2MsS0FBQStkLE1BQUFqQixLQUFBSyxLQVFBLFFBQUFhLE1BQ0EsTUFBQWhlLE1BQUErZCxNQUFBbEIsSUFHQSxRQUFBb0IsTUFDQSxNQUFBamUsTUFBQStkLE1BQUFqQixJQUtBLFFBQUFvQixJQUFBdlIsR0FDQSxHQUFBd1EsR0FBQW5kLEtBQUF1WCxhQUFBNEYsS0FBQW5kLEtBQ0EsY0FBQTJNLEVBQUF3USxFQUFBbmQsS0FBQW1lLElBQUEsR0FBQXhSLEVBQUF3USxHQUFBLEtBR0EsUUFBQWlCLElBQUF6UixHQUNBLEdBQUF3USxHQUFBTyxHQUFBMWQsS0FBQSxLQUFBbWQsSUFDQSxjQUFBeFEsRUFBQXdRLEVBQUFuZCxLQUFBbWUsSUFBQSxHQUFBeFIsRUFBQXdRLEdBQUEsS0FnRUEsUUFBQWtCLElBQUExUixFQUFBbUIsR0FDQSxzQkFBQW5CLEdBQ0FBLEVBR0E2QyxNQUFBN0MsSUFJQUEsRUFBQW1CLEVBQUF3USxjQUFBM1IsR0FDQSxnQkFBQUEsR0FDQUEsRUFHQSxNQVJBNFIsU0FBQTVSLEVBQUEsSUFXQSxRQUFBNlIsSUFBQTdSLEVBQUFtQixHQUNBLHNCQUFBbkIsR0FDQW1CLEVBQUF3USxjQUFBM1IsR0FBQSxLQUVBNkMsTUFBQTdDLEdBQUEsS0FBQUEsRUFNQSxRQUFBOFIsSUFBQXpQLEVBQUFuQixHQUNBLE1BQUFtQixHQUdBdk0sRUFBQXpDLEtBQUEwZSxXQUFBMWUsS0FBQTBlLFVBQUExUCxFQUFBMlAsT0FDQTNlLEtBQUEwZSxVQUFBMWUsS0FBQTBlLFVBQUFoRixTQUFBclMsS0FBQXdHLEdBQUEsdUJBQUFtQixFQUFBMlAsT0FIQTNlLEtBQUEwZSxVQU9BLFFBQUFFLElBQUE1UCxHQUNBLFNBQUFoUCxLQUFBNmUsZUFBQTdQLEVBQUEyUCxPQUFBM2UsS0FBQTZlLGVBSUEsUUFBQUMsSUFBQTlQLEdBQ0EsU0FBQWhQLEtBQUErZSxhQUFBL1AsRUFBQTJQLE9BQUEzZSxLQUFBK2UsYUFHQSxRQUFBQyxJQUFBQyxFQUFBcFIsRUFBQUUsR0FDQSxHQUFBbk8sR0FBQW9hLEVBQUFuRyxFQUFBb0csRUFBQWdGLEVBQUEvRSxtQkFDQSxLQUFBbGEsS0FBQWtmLGVBS0EsSUFKQWxmLEtBQUFrZixrQkFDQWxmLEtBQUFtZix1QkFDQW5mLEtBQUFvZixxQkFFQXhmLEVBQUEsRUFBbUJBLEVBQUEsSUFBT0EsRUFDMUJpVSxFQUFBakcsR0FBQSxRQUFBK1EsSUFBQS9lLEdBQ0FJLEtBQUFvZixrQkFBQXhmLEdBQUFJLEtBQUFxZixZQUFBeEwsRUFBQSxJQUFBcUcsb0JBQ0FsYSxLQUFBbWYsb0JBQUF2ZixHQUFBSSxLQUFBc2YsY0FBQXpMLEVBQUEsSUFBQXFHLG9CQUNBbGEsS0FBQWtmLGVBQUF0ZixHQUFBSSxLQUFBdWYsU0FBQTFMLEVBQUEsSUFBQXFHLG1CQUlBLE9BQUFuTSxHQUNBLFNBQUFGLEdBQ0FtTSxFQUFBUSxHQUFBL2EsS0FBQU8sS0FBQWtmLGVBQUFqRixHQUNBRCxTQUFBLE1BQ1MsUUFBQW5NLEdBQ1RtTSxFQUFBUSxHQUFBL2EsS0FBQU8sS0FBQW1mLG9CQUFBbEYsR0FDQUQsU0FBQSxPQUVBQSxFQUFBUSxHQUFBL2EsS0FBQU8sS0FBQW9mLGtCQUFBbkYsR0FDQUQsU0FBQSxNQUdBLFNBQUFuTSxHQUNBbU0sRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFrZixlQUFBakYsR0FDQUQsT0FDQUEsR0FFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFtZixvQkFBQWxGLEdBQ0FELE9BQ0FBLEdBRUFBLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBb2Ysa0JBQUFuRixHQUNBRCxTQUFBLFFBQ1MsUUFBQW5NLEdBQ1RtTSxFQUFBUSxHQUFBL2EsS0FBQU8sS0FBQW1mLG9CQUFBbEYsR0FDQUQsT0FDQUEsR0FFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFrZixlQUFBakYsR0FDQUQsT0FDQUEsR0FFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFvZixrQkFBQW5GLEdBQ0FELFNBQUEsU0FFQUEsRUFBQVEsR0FBQS9hLEtBQUFPLEtBQUFvZixrQkFBQW5GLEdBQ0FELE9BQ0FBLEdBRUFBLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBa2YsZUFBQWpGLEdBQ0FELE9BQ0FBLEdBRUFBLEVBQUFRLEdBQUEvYSxLQUFBTyxLQUFBbWYsb0JBQUFsRixHQUNBRCxTQUFBLFFBS0EsUUFBQXdGLElBQUFQLEVBQUFwUixFQUFBRSxHQUNBLEdBQUFuTyxHQUFBaVUsRUFBQXFFLENBRUEsSUFBQWxZLEtBQUF5ZixvQkFDQSxNQUFBVCxJQUFBdmYsS0FBQU8sS0FBQWlmLEVBQUFwUixFQUFBRSxFQVVBLEtBUEEvTixLQUFBa2YsaUJBQ0FsZixLQUFBa2Ysa0JBQ0FsZixLQUFBb2YscUJBQ0FwZixLQUFBbWYsdUJBQ0FuZixLQUFBMGYsdUJBR0E5ZixFQUFBLEVBQWVBLEVBQUEsRUFBT0EsSUFBQSxDQWN0QixHQVhBaVUsRUFBQWpHLEdBQUEsUUFBQStRLElBQUEvZSxHQUNBbU8sSUFBQS9OLEtBQUEwZixtQkFBQTlmLEtBQ0FJLEtBQUEwZixtQkFBQTlmLEdBQUEsR0FBQTBFLFFBQUEsSUFBQXRFLEtBQUF1ZixTQUFBMUwsRUFBQSxJQUFBUSxRQUFBLG1CQUNBclUsS0FBQW1mLG9CQUFBdmYsR0FBQSxHQUFBMEUsUUFBQSxJQUFBdEUsS0FBQXNmLGNBQUF6TCxFQUFBLElBQUFRLFFBQUEsbUJBQ0FyVSxLQUFBb2Ysa0JBQUF4ZixHQUFBLEdBQUEwRSxRQUFBLElBQUF0RSxLQUFBcWYsWUFBQXhMLEVBQUEsSUFBQVEsUUFBQSxvQkFFQXJVLEtBQUFrZixlQUFBdGYsS0FDQXNZLEVBQUEsSUFBQWxZLEtBQUF1ZixTQUFBMUwsRUFBQSxTQUFBN1QsS0FBQXNmLGNBQUF6TCxFQUFBLFNBQUE3VCxLQUFBcWYsWUFBQXhMLEVBQUEsSUFDQTdULEtBQUFrZixlQUFBdGYsR0FBQSxHQUFBMEUsUUFBQTRULEVBQUE3RCxRQUFBLGNBR0F0RyxHQUFBLFNBQUFGLEdBQUE3TixLQUFBMGYsbUJBQUE5ZixHQUFBeUgsS0FBQTRYLEdBQ0EsTUFBQXJmLEVBQ1MsSUFBQW1PLEdBQUEsUUFBQUYsR0FBQTdOLEtBQUFtZixvQkFBQXZmLEdBQUF5SCxLQUFBNFgsR0FDVCxNQUFBcmYsRUFDUyxJQUFBbU8sR0FBQSxPQUFBRixHQUFBN04sS0FBQW9mLGtCQUFBeGYsR0FBQXlILEtBQUE0WCxHQUNULE1BQUFyZixFQUNTLEtBQUFtTyxHQUFBL04sS0FBQWtmLGVBQUF0ZixHQUFBeUgsS0FBQTRYLEdBQ1QsTUFBQXJmLElBT0EsUUFBQStmLElBQUFoVCxHQUNBLElBQUEzTSxLQUFBa1AsVUFDQSxhQUFBdkMsRUFBQTNNLEtBQUFnUSxHQUVBLElBQUEyTyxHQUFBM2UsS0FBQTJRLE9BQUEzUSxLQUFBeVAsR0FBQXdOLFlBQUFqZCxLQUFBeVAsR0FBQW1RLFFBQ0EsY0FBQWpULEdBQ0FBLEVBQUEwUixHQUFBMVIsRUFBQTNNLEtBQUF1WCxjQUNBdlgsS0FBQW1lLElBQUF4UixFQUFBZ1MsRUFBQSxNQUVBQSxFQUlBLFFBQUFrQixJQUFBbFQsR0FDQSxJQUFBM00sS0FBQWtQLFVBQ0EsYUFBQXZDLEVBQUEzTSxLQUFBZ1EsR0FFQSxJQUFBb04sSUFBQXBkLEtBQUEyZSxNQUFBLEVBQUEzZSxLQUFBdVgsYUFBQXdHLE1BQUFsQixLQUFBLENBQ0EsY0FBQWxRLEVBQUF5USxFQUFBcGQsS0FBQW1lLElBQUF4UixFQUFBeVEsRUFBQSxLQUdBLFFBQUEwQyxJQUFBblQsR0FDQSxJQUFBM00sS0FBQWtQLFVBQ0EsYUFBQXZDLEVBQUEzTSxLQUFBZ1EsR0FPQSxVQUFBckQsRUFBQSxDQUNBLEdBQUF5USxHQUFBb0IsR0FBQTdSLEVBQUEzTSxLQUFBdVgsYUFDQSxPQUFBdlgsTUFBQTJlLElBQUEzZSxLQUFBMmUsTUFBQSxFQUFBdkIsSUFBQSxHQUVBLE1BQUFwZCxNQUFBMmUsT0FBQSxFQUtBLFFBQUFvQixJQUFBMUgsR0FDQSxNQUFBclksTUFBQXlmLHFCQUNBbFMsRUFBQXZOLEtBQUEsbUJBQ0FnZ0IsR0FBQXZnQixLQUFBTyxNQUVBcVksRUFDQXJZLEtBQUFpZ0IscUJBRUFqZ0IsS0FBQWtnQixpQkFHQTNTLEVBQUF2TixLQUFBLG9CQUNBQSxLQUFBa2dCLGVBQUFDLElBRUFuZ0IsS0FBQWlnQixzQkFBQTVILEVBQ0FyWSxLQUFBaWdCLHFCQUFBamdCLEtBQUFrZ0IsZ0JBS0EsUUFBQUUsSUFBQS9ILEdBQ0EsTUFBQXJZLE1BQUF5ZixxQkFDQWxTLEVBQUF2TixLQUFBLG1CQUNBZ2dCLEdBQUF2Z0IsS0FBQU8sTUFFQXFZLEVBQ0FyWSxLQUFBcWdCLDBCQUVBcmdCLEtBQUFzZ0Isc0JBR0EvUyxFQUFBdk4sS0FBQSx5QkFDQUEsS0FBQXNnQixvQkFBQUMsSUFFQXZnQixLQUFBcWdCLDJCQUFBaEksRUFDQXJZLEtBQUFxZ0IsMEJBQUFyZ0IsS0FBQXNnQixxQkFLQSxRQUFBRSxJQUFBbkksR0FDQSxNQUFBclksTUFBQXlmLHFCQUNBbFMsRUFBQXZOLEtBQUEsbUJBQ0FnZ0IsR0FBQXZnQixLQUFBTyxNQUVBcVksRUFDQXJZLEtBQUF5Z0Isd0JBRUF6Z0IsS0FBQTBnQixvQkFHQW5ULEVBQUF2TixLQUFBLHVCQUNBQSxLQUFBMGdCLGtCQUFBQyxJQUVBM2dCLEtBQUF5Z0IseUJBQUFwSSxFQUNBclksS0FBQXlnQix3QkFBQXpnQixLQUFBMGdCLG1CQUtBLFFBQUFWLE1BQ0EsUUFBQXRFLEdBQUFsTyxFQUFBQyxHQUNBLE1BQUFBLEdBQUE1TixPQUFBMk4sRUFBQTNOLE9BR0EsR0FDQUQsR0FBQWlVLEVBQUErTSxFQUFBQyxFQUFBQyxFQURBQyxLQUFBcEYsS0FBQUMsS0FBQUMsSUFFQSxLQUFBamMsRUFBQSxFQUFlQSxFQUFBLEVBQU9BLElBRXRCaVUsRUFBQWpHLEdBQUEsUUFBQStRLElBQUEvZSxHQUNBZ2hCLEVBQUE1Z0IsS0FBQXFmLFlBQUF4TCxFQUFBLElBQ0FnTixFQUFBN2dCLEtBQUFzZixjQUFBekwsRUFBQSxJQUNBaU4sRUFBQTlnQixLQUFBdWYsU0FBQTFMLEVBQUEsSUFDQWtOLEVBQUFuZCxLQUFBZ2QsR0FDQWpGLEVBQUEvWCxLQUFBaWQsR0FDQWpGLEVBQUFoWSxLQUFBa2QsR0FDQWpGLEVBQUFqWSxLQUFBZ2QsR0FDQS9FLEVBQUFqWSxLQUFBaWQsR0FDQWhGLEVBQUFqWSxLQUFBa2QsRUFRQSxLQUpBQyxFQUFBOUssS0FBQXlGLEdBQ0FDLEVBQUExRixLQUFBeUYsR0FDQUUsRUFBQTNGLEtBQUF5RixHQUNBRyxFQUFBNUYsS0FBQXlGLEdBQ0E5YixFQUFBLEVBQWVBLEVBQUEsRUFBT0EsSUFDdEIrYixFQUFBL2IsR0FBQTRZLEdBQUFtRCxFQUFBL2IsSUFDQWdjLEVBQUFoYyxHQUFBNFksR0FBQW9ELEVBQUFoYyxJQUNBaWMsRUFBQWpjLEdBQUE0WSxHQUFBcUQsRUFBQWpjLEdBR0FJLE1BQUFrZ0IsZUFBQSxHQUFBNWIsUUFBQSxLQUFBdVgsRUFBQTdZLEtBQUEsY0FDQWhELEtBQUFzZ0Isb0JBQUF0Z0IsS0FBQWtnQixlQUNBbGdCLEtBQUEwZ0Isa0JBQUExZ0IsS0FBQWtnQixlQUVBbGdCLEtBQUFpZ0IscUJBQUEsR0FBQTNiLFFBQUEsS0FBQXNYLEVBQUE1WSxLQUFBLGNBQ0FoRCxLQUFBcWdCLDBCQUFBLEdBQUEvYixRQUFBLEtBQUFxWCxFQUFBM1ksS0FBQSxjQUNBaEQsS0FBQXlnQix3QkFBQSxHQUFBbmMsUUFBQSxLQUFBeWMsRUFBQS9kLEtBQUEsY0FLQSxRQUFBZ2UsTUFDQSxNQUFBaGhCLE1BQUFpaEIsUUFBQSxPQUdBLFFBQUFDLE1BQ0EsTUFBQWxoQixNQUFBaWhCLFNBQUEsR0F5QkEsUUFBQW5TLElBQUFxSSxFQUFBZ0ssR0FDQWpLLEVBQUFDLEVBQUEsZUFDQSxNQUFBblgsTUFBQXVYLGFBQUF6SSxTQUFBOU8sS0FBQWloQixRQUFBamhCLEtBQUFvaEIsVUFBQUQsS0FnQkEsUUFBQUUsSUFBQWhKLEVBQUF2SyxHQUNBLE1BQUFBLEdBQUF3VCxlQXFEQSxRQUFBQyxJQUFBNVUsR0FHQSxhQUFBQSxFQUFBLElBQUF3SSxjQUFBbk4sT0FBQSxHQUlBLFFBQUF3WixJQUFBUCxFQUFBRyxFQUFBSyxHQUNBLE1BQUFSLEdBQUEsR0FDQVEsRUFBQSxVQUVBQSxFQUFBLFVBMENBLFFBQUFDLElBQUE5ZixHQUNBLE1BQUFBLEtBQUF1VCxjQUFBZCxRQUFBLFNBQUF6UyxFQU1BLFFBQUErZixJQUFBQyxHQUdBLElBRkEsR0FBQUMsR0FBQXhiLEVBQUF5SCxFQUFBdEosRUFBQTVFLEVBQUEsRUFFQUEsRUFBQWdpQixFQUFBL2hCLFFBQUEsQ0FLQSxJQUpBMkUsRUFBQWtkLEdBQUFFLEVBQUFoaUIsSUFBQTRFLE1BQUEsS0FDQXFkLEVBQUFyZCxFQUFBM0UsT0FDQXdHLEVBQUFxYixHQUFBRSxFQUFBaGlCLEVBQUEsSUFDQXlHLE1BQUE3QixNQUFBLFVBQ0FxZCxFQUFBLElBRUEsR0FEQS9ULEVBQUFnVSxHQUFBdGQsRUFBQXFPLE1BQUEsRUFBQWdQLEdBQUE3ZSxLQUFBLE1BRUEsTUFBQThLLEVBRUEsSUFBQXpILEtBQUF4RyxRQUFBZ2lCLEdBQUFoUSxFQUFBck4sRUFBQTZCLEdBQUEsSUFBQXdiLEVBQUEsRUFFQSxLQUVBQSxLQUVBamlCLElBRUEsWUFHQSxRQUFBa2lCLElBQUFqYyxHQUNBLEdBQUFrYyxHQUFBLElBRUEsS0FBQUMsR0FBQW5jLElBQUEsbUJBQUExSSxJQUNBQSxLQUFBQyxRQUNBLElBQ0Eya0IsRUFBQUUsR0FBQUMsTUFDQUMsUUFBQSxZQUFBdGMsR0FHQXVjLEdBQUFMLEdBQ1MsTUFBQTNpQixJQUVULE1BQUE0aUIsSUFBQW5jLEdBTUEsUUFBQXVjLElBQUF4Z0IsRUFBQXlnQixHQUNBLEdBQUFDLEVBZUEsT0FkQTFnQixLQUVBMGdCLEVBREFyUyxFQUFBb1MsR0FDQUUsR0FBQTNnQixHQUdBNGdCLEdBQUE1Z0IsRUFBQXlnQixHQUdBQyxJQUVBTCxHQUFBSyxJQUlBTCxHQUFBQyxNQUdBLFFBQUFNLElBQUEzYyxFQUFBbUwsR0FDQSxVQUFBQSxFQUFBLENBQ0EsR0FBQXlDLEdBQUFnUCxFQUVBLElBREF6UixFQUFBMFIsS0FBQTdjLEVBQ0EsTUFBQW1jLEdBQUFuYyxHQUNBa04sRUFBQSx1QkFDQSwyT0FJQVUsRUFBQXVPLEdBQUFuYyxHQUFBdU4sWUFDUyxVQUFBcEMsRUFBQTJSLGFBQUEsQ0FDVCxTQUFBWCxHQUFBaFIsRUFBQTJSLGNBVUEsTUFQQUMsSUFBQTVSLEVBQUEyUixnQkFDQUMsR0FBQTVSLEVBQUEyUixrQkFFQUMsR0FBQTVSLEVBQUEyUixjQUFBL2UsTUFDQWlDLE9BQ0FtTCxXQUVBLElBVEF5QyxHQUFBdU8sR0FBQWhSLEVBQUEyUixjQUFBdlAsUUEwQkEsTUFkQTRPLElBQUFuYyxHQUFBLEdBQUE4TixHQUFBSCxFQUFBQyxFQUFBekMsSUFFQTRSLEdBQUEvYyxJQUNBK2MsR0FBQS9jLEdBQUF4QyxRQUFBLFNBQUF3ZixHQUNBTCxHQUFBSyxFQUFBaGQsS0FBQWdkLEVBQUE3UixVQU9Bb1IsR0FBQXZjLEdBR0FtYyxHQUFBbmMsR0FJQSxhQURBbWMsSUFBQW5jLEdBQ0EsS0FJQSxRQUFBaWQsSUFBQWpkLEVBQUFtTCxHQUNBLFNBQUFBLEVBQUEsQ0FDQSxHQUFBbEQsR0FBQTJGLEVBQUFnUCxFQUVBLE9BQUFULEdBQUFuYyxLQUNBNE4sRUFBQXVPLEdBQUFuYyxHQUFBdU4sU0FFQXBDLEVBQUF3QyxFQUFBQyxFQUFBekMsR0FDQWxELEVBQUEsR0FBQTZGLEdBQUEzQyxHQUNBbEQsRUFBQTZVLGFBQUFYLEdBQUFuYyxHQUNBbWMsR0FBQW5jLEdBQUFpSSxFQUdBc1UsR0FBQXZjLE9BR0EsT0FBQW1jLEdBQUFuYyxLQUNBLE1BQUFtYyxHQUFBbmMsR0FBQThjLGFBQ0FYLEdBQUFuYyxHQUFBbWMsR0FBQW5jLEdBQUE4YyxhQUNhLE1BQUFYLEdBQUFuYyxVQUNibWMsSUFBQW5jLEdBSUEsT0FBQW1jLElBQUFuYyxHQUlBLFFBQUEwYyxJQUFBM2dCLEdBQ0EsR0FBQWtNLEVBTUEsSUFKQWxNLEtBQUFpUCxTQUFBalAsRUFBQWlQLFFBQUFxUixRQUNBdGdCLElBQUFpUCxRQUFBcVIsUUFHQXRnQixFQUNBLE1BQUFxZ0IsR0FHQSxLQUFBeGYsRUFBQWIsR0FBQSxDQUdBLEdBREFrTSxFQUFBZ1UsR0FBQWxnQixHQUVBLE1BQUFrTSxFQUVBbE0sT0FHQSxNQUFBK2YsSUFBQS9mLEdBR0EsUUFBQW1oQixNQUNBLE1BQUFDLElBQUFoQixJQUdBLFFBQUFpQixJQUFBalUsR0FDQSxHQUFBVixHQUNBZCxFQUFBd0IsRUFBQXZPLEVBeUJBLE9BdkJBK00sSUFBQXVCLEVBQUFDLEdBQUFWLGdCQUNBQSxFQUNBZCxFQUFBMFYsSUFBQSxHQUFBMVYsRUFBQTBWLElBQUEsR0FBQUEsR0FDQTFWLEVBQUEyVixJQUFBLEdBQUEzVixFQUFBMlYsSUFBQWhLLEdBQUEzTCxFQUFBNFYsSUFBQTVWLEVBQUEwVixLQUFBQyxHQUNBM1YsRUFBQTZWLElBQUEsR0FBQTdWLEVBQUE2VixJQUFBLFNBQUE3VixFQUFBNlYsTUFBQSxJQUFBN1YsRUFBQThWLEtBQUEsSUFBQTlWLEVBQUErVixLQUFBLElBQUEvVixFQUFBZ1csS0FBQUgsR0FDQTdWLEVBQUE4VixJQUFBLEdBQUE5VixFQUFBOFYsSUFBQSxHQUFBQSxHQUNBOVYsRUFBQStWLElBQUEsR0FBQS9WLEVBQUErVixJQUFBLEdBQUFBLEdBQ0EvVixFQUFBZ1csSUFBQSxHQUFBaFcsRUFBQWdXLElBQUEsSUFBQUEsTUFHQXpVLEVBQUFDLEdBQUF5VSxxQkFBQW5WLEVBQUE4VSxJQUFBOVUsRUFBQTZVLE1BQ0E3VSxFQUFBNlUsSUFFQXBVLEVBQUFDLEdBQUEwVSxnQkFBQXBWLFNBQ0FBLEVBQUFxVixJQUVBNVUsRUFBQUMsR0FBQTRVLGtCQUFBdFYsU0FDQUEsRUFBQXVWLElBR0E5VSxFQUFBQyxHQUFBVixZQUdBVSxFQXlDQSxRQUFBOFUsSUFBQTlTLEdBQ0EsR0FBQXBSLEdBQUFta0IsRUFHQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFGQWxnQixFQUFBK00sRUFBQVQsR0FDQTFJLEVBQUF1YyxHQUFBQyxLQUFBcGdCLElBQUFxZ0IsR0FBQUQsS0FBQXBnQixFQUdBLElBQUE0RCxFQUFBLENBR0EsSUFGQWtILEVBQUFpQyxHQUFBcEMsS0FBQSxFQUVBaFAsRUFBQSxFQUFBbWtCLEVBQUFRLEdBQUExa0IsT0FBd0NELEVBQUFta0IsRUFBT25rQixJQUMvQyxHQUFBMmtCLEdBQUEza0IsR0FBQSxHQUFBeWtCLEtBQUF4YyxFQUFBLEtBQ0FvYyxFQUFBTSxHQUFBM2tCLEdBQUEsR0FDQW9rQixFQUFBTyxHQUFBM2tCLEdBQUEsT0FDQSxPQUdBLFNBQUFxa0IsRUFFQSxZQURBalQsRUFBQTdCLFVBQUEsRUFHQSxJQUFBdEgsRUFBQSxJQUNBLElBQUFqSSxFQUFBLEVBQUFta0IsRUFBQVMsR0FBQTNrQixPQUE0Q0QsRUFBQW1rQixFQUFPbmtCLElBQ25ELEdBQUE0a0IsR0FBQTVrQixHQUFBLEdBQUF5a0IsS0FBQXhjLEVBQUEsS0FFQXFjLEdBQUFyYyxFQUFBLFNBQUEyYyxHQUFBNWtCLEdBQUEsRUFDQSxPQUdBLFNBQUFza0IsRUFFQSxZQURBbFQsRUFBQTdCLFVBQUEsR0FJQSxJQUFBNlUsR0FBQSxNQUFBRSxFQUVBLFlBREFsVCxFQUFBN0IsVUFBQSxFQUdBLElBQUF0SCxFQUFBLElBQ0EsSUFBQTRjLEdBQUFKLEtBQUF4YyxFQUFBLElBSUEsWUFEQW1KLEVBQUE3QixVQUFBLEVBRkFnVixHQUFBLElBTUFuVCxFQUFBUixHQUFBeVQsR0FBQUMsR0FBQSxLQUFBQyxHQUFBLElBQ0FPLEdBQUExVCxPQUVBQSxHQUFBN0IsVUFBQSxFQUtBLFFBQUF3VixJQUFBM1QsR0FDQSxHQUFBeUgsR0FBQW1NLEdBQUFQLEtBQUFyVCxFQUFBVCxHQUVBLGVBQUFrSSxPQUNBekgsRUFBQXZCLEdBQUEsR0FBQXZDLFFBQUF1TCxFQUFBLE9BSUFxTCxHQUFBOVMsUUFDQUEsRUFBQTdCLFlBQUEsVUFDQTZCLEdBQUE3QixTQUNBNUMsRUFBQXNZLHdCQUFBN1QsTUFlQSxRQUFBOFQsSUFBQXRYLEVBQUFDLEVBQUF2SSxHQUNBLGFBQUFzSSxFQUNBQSxFQUVBLE1BQUFDLEVBQ0FBLEVBRUF2SSxFQUdBLFFBQUE2ZixJQUFBL1QsR0FFQSxHQUFBZ1UsR0FBQSxHQUFBOVgsTUFBQVgsRUFBQXVILE1BQ0EsT0FBQTlDLEdBQUFpVSxTQUNBRCxFQUFBdEksaUJBQUFzSSxFQUFBRSxjQUFBRixFQUFBekwsZUFFQXlMLEVBQUF6SSxjQUFBeUksRUFBQUcsV0FBQUgsRUFBQUksV0FPQSxRQUFBQyxJQUFBclUsR0FDQSxHQUFBcFIsR0FBQWtiLEVBQUF3SyxFQUFBQyxFQUFBNVksSUFFQSxLQUFBcUUsRUFBQXZCLEdBQUEsQ0E2QkEsSUF6QkE2VixFQUFBUCxHQUFBL1QsR0FHQUEsRUFBQWlJLElBQUEsTUFBQWpJLEVBQUF2USxHQUFBMGlCLEtBQUEsTUFBQW5TLEVBQUF2USxHQUFBeWlCLEtBQ0FzQyxHQUFBeFUsR0FJQUEsRUFBQXlVLGFBQ0FGLEVBQUFULEdBQUE5VCxFQUFBdlEsR0FBQTJpQixJQUFBa0MsRUFBQWxDLEtBRUFwUyxFQUFBeVUsV0FBQTNKLEdBQUF5SixLQUNBeFcsRUFBQWlDLEdBQUF5UyxvQkFBQSxHQUdBM0ksRUFBQTJCLEdBQUE4SSxFQUFBLEVBQUF2VSxFQUFBeVUsWUFDQXpVLEVBQUF2USxHQUFBeWlCLElBQUFwSSxFQUFBb0ssY0FDQWxVLEVBQUF2USxHQUFBMGlCLElBQUFySSxFQUFBdkIsY0FRQTNaLEVBQUEsRUFBZUEsRUFBQSxTQUFBb1IsRUFBQXZRLEdBQUFiLEtBQStCQSxFQUM5Q29SLEVBQUF2USxHQUFBYixHQUFBK00sRUFBQS9NLEdBQUEwbEIsRUFBQTFsQixFQUlBLE1BQVVBLEVBQUEsRUFBT0EsSUFDakJvUixFQUFBdlEsR0FBQWIsR0FBQStNLEVBQUEvTSxHQUFBLE1BQUFvUixFQUFBdlEsR0FBQWIsR0FBQSxJQUFBQSxFQUFBLElBQUFvUixFQUFBdlEsR0FBQWIsRUFJQSxNQUFBb1IsRUFBQXZRLEdBQUE0aUIsS0FDQSxJQUFBclMsRUFBQXZRLEdBQUE2aUIsS0FDQSxJQUFBdFMsRUFBQXZRLEdBQUE4aUIsS0FDQSxJQUFBdlMsRUFBQXZRLEdBQUEraUIsTUFDQXhTLEVBQUEwVSxVQUFBLEVBQ0ExVSxFQUFBdlEsR0FBQTRpQixJQUFBLEdBR0FyUyxFQUFBdkIsSUFBQXVCLEVBQUFpVSxRQUFBeEksR0FBQVIsSUFBQWhjLE1BQUEsS0FBQTBNLEdBR0EsTUFBQXFFLEVBQUFOLE1BQ0FNLEVBQUF2QixHQUFBa1csY0FBQTNVLEVBQUF2QixHQUFBbVcsZ0JBQUE1VSxFQUFBTixNQUdBTSxFQUFBMFUsV0FDQTFVLEVBQUF2USxHQUFBNGlCLElBQUEsS0FJQSxRQUFBbUMsSUFBQXhVLEdBQ0EsR0FBQTZVLEdBQUFDLEVBQUEzSSxFQUFBQyxFQUFBUCxFQUFBQyxFQUFBaUosRUFBQUMsQ0FHQSxJQURBSCxFQUFBN1UsRUFBQWlJLEdBQ0EsTUFBQTRNLEVBQUFJLElBQUEsTUFBQUosRUFBQUssR0FBQSxNQUFBTCxFQUFBTSxFQUNBdEosRUFBQSxFQUNBQyxFQUFBLEVBTUFnSixFQUFBaEIsR0FBQWUsRUFBQUksR0FBQWpWLEVBQUF2USxHQUFBMmlCLElBQUExRixHQUFBMEksS0FBQSxLQUFBaE4sTUFDQStELEVBQUEySCxHQUFBZSxFQUFBSyxFQUFBLEdBQ0E5SSxFQUFBMEgsR0FBQWUsRUFBQU0sRUFBQSxJQUNBL0ksRUFBQSxHQUFBQSxFQUFBLEtBQ0E0SSxHQUFBLE9BRUssQ0FDTG5KLEVBQUE3TCxFQUFBSCxRQUFBa04sTUFBQWxCLElBQ0FDLEVBQUE5TCxFQUFBSCxRQUFBa04sTUFBQWpCLEdBRUEsSUFBQXVKLEdBQUEzSSxHQUFBMEksS0FBQXZKLEVBQUFDLEVBRUFnSixHQUFBaEIsR0FBQWUsRUFBQVMsR0FBQXRWLEVBQUF2USxHQUFBMmlCLElBQUFpRCxFQUFBak4sTUFHQStELEVBQUEySCxHQUFBZSxJQUFBUSxFQUFBbEosTUFFQSxNQUFBMEksRUFBQTFKLEdBRUFpQixFQUFBeUksRUFBQTFKLEdBQ0FpQixFQUFBLEdBQUFBLEVBQUEsS0FDQTRJLEdBQUEsSUFFUyxNQUFBSCxFQUFBem1CLEdBRVRnZSxFQUFBeUksRUFBQXptQixFQUFBeWQsR0FDQWdKLEVBQUF6bUIsRUFBQSxHQUFBeW1CLEVBQUF6bUIsRUFBQSxLQUNBNG1CLEdBQUEsSUFJQTVJLEVBQUFQLEVBR0FNLEVBQUEsR0FBQUEsRUFBQVMsR0FBQWtJLEVBQUFqSixFQUFBQyxHQUNBL04sRUFBQWlDLEdBQUEwUyxnQkFBQSxFQUNLLE1BQUFzQyxFQUNMalgsRUFBQWlDLEdBQUE0UyxrQkFBQSxHQUVBbUMsRUFBQTdJLEdBQUE0SSxFQUFBM0ksRUFBQUMsRUFBQVAsRUFBQUMsR0FDQTlMLEVBQUF2USxHQUFBMmlCLElBQUEyQyxFQUFBM00sS0FDQXBJLEVBQUF5VSxXQUFBTSxFQUFBdEksV0FRQSxRQUFBaUgsSUFBQTFULEdBRUEsR0FBQUEsRUFBQVIsS0FBQWpFLEVBQUFnYSxTQUVBLFdBREF6QyxJQUFBOVMsRUFJQUEsR0FBQXZRLE1BQ0FzTyxFQUFBaUMsR0FBQTdDLE9BQUEsQ0FHQSxJQUNBdk8sR0FBQTRtQixFQUFBek4sRUFBQTVCLEVBQUFzUCxFQURBeGlCLEVBQUEsR0FBQStNLEVBQUFULEdBRUFtVyxFQUFBemlCLEVBQUFwRSxPQUNBOG1CLEVBQUEsQ0FJQSxLQUZBNU4sRUFBQW5CLEVBQUE1RyxFQUFBUixHQUFBUSxFQUFBSCxTQUFBaEosTUFBQTZQLFFBRUE5WCxFQUFBLEVBQWVBLEVBQUFtWixFQUFBbFosT0FBbUJELElBQ2xDdVgsRUFBQTRCLEVBQUFuWixHQUNBNG1CLEdBQUF2aUIsRUFBQTRELE1BQUF5USxFQUFBbkIsRUFBQW5HLFNBQUEsR0FHQXdWLElBQ0FDLEVBQUF4aUIsRUFBQWdULE9BQUEsRUFBQWhULEVBQUF2RSxRQUFBOG1CLElBQ0FDLEVBQUE1bUIsT0FBQSxHQUNBa1AsRUFBQWlDLEdBQUEzQyxZQUFBekssS0FBQTZpQixHQUVBeGlCLElBQUE0TyxNQUFBNU8sRUFBQXZFLFFBQUE4bUIsS0FBQTNtQixRQUNBOG1CLEdBQUFILEVBQUEzbUIsUUFHQXlYLEdBQUFILElBQ0FxUCxFQUNBelgsRUFBQWlDLEdBQUE3QyxPQUFBLEVBR0FZLEVBQUFpQyxHQUFBNUMsYUFBQXhLLEtBQUF1VCxHQUVBK0IsR0FBQS9CLEVBQUFxUCxFQUFBeFYsSUFFQUEsRUFBQXBCLFVBQUE0VyxHQUNBelgsRUFBQWlDLEdBQUE1QyxhQUFBeEssS0FBQXVULEVBS0FwSSxHQUFBaUMsR0FBQXpDLGNBQUFtWSxFQUFBQyxFQUNBMWlCLEVBQUFwRSxPQUFBLEdBQ0FrUCxFQUFBaUMsR0FBQTNDLFlBQUF6SyxLQUFBSyxHQUlBK00sRUFBQXZRLEdBQUE0aUIsS0FBQSxJQUNBdFUsRUFBQWlDLEdBQUFuQixXQUFBLEdBQ0FtQixFQUFBdlEsR0FBQTRpQixJQUFBLElBQ0F0VSxFQUFBaUMsR0FBQW5CLFFBQUFoUyxRQUdBa1IsRUFBQWlDLEdBQUFuQyxnQkFBQW1DLEVBQUF2USxHQUFBb1MsTUFBQSxHQUNBOUQsRUFBQWlDLEdBQUFsQyxTQUFBa0MsRUFBQTRWLFVBRUE1VixFQUFBdlEsR0FBQTRpQixJQUFBd0QsR0FBQTdWLEVBQUFILFFBQUFHLEVBQUF2USxHQUFBNGlCLElBQUFyUyxFQUFBNFYsV0FFQXZCLEdBQUFyVSxHQUNBaVMsR0FBQWpTLEdBSUEsUUFBQTZWLElBQUEvWSxFQUFBZ1osRUFBQWhZLEdBQ0EsR0FBQWlZLEVBRUEsY0FBQWpZLEVBRUFnWSxFQUVBLE1BQUFoWixFQUFBa1osYUFDQWxaLEVBQUFrWixhQUFBRixFQUFBaFksR0FDSyxNQUFBaEIsRUFBQW1aLE1BRUxGLEVBQUFqWixFQUFBbVosS0FBQW5ZLEdBQ0FpWSxHQUFBRCxFQUFBLEtBQ0FBLEdBQUEsSUFFQUMsR0FBQSxLQUFBRCxJQUNBQSxFQUFBLEdBRUFBLEdBR0FBLEVBS0EsUUFBQUksSUFBQWxXLEdBQ0EsR0FBQW1XLEdBQ0FDLEVBRUFDLEVBQ0F6bkIsRUFDQTBuQixDQUVBLFFBQUF0VyxFQUFBUixHQUFBM1EsT0FHQSxNQUZBa1AsR0FBQWlDLEdBQUF0QyxlQUFBLE9BQ0FzQyxFQUFBdkIsR0FBQSxHQUFBdkMsTUFBQThDLEtBSUEsS0FBQXBRLEVBQUEsRUFBZUEsRUFBQW9SLEVBQUFSLEdBQUEzUSxPQUFzQkQsSUFDckMwbkIsRUFBQSxFQUNBSCxFQUFBalgsS0FBa0NjLEdBQ2xDLE1BQUFBLEVBQUFpVSxVQUNBa0MsRUFBQWxDLFFBQUFqVSxFQUFBaVUsU0FFQWtDLEVBQUEzVyxHQUFBUSxFQUFBUixHQUFBNVEsR0FDQThrQixHQUFBeUMsR0FFQWpZLEVBQUFpWSxLQUtBRyxHQUFBdlksRUFBQW9ZLEdBQUE1WSxjQUdBK1ksR0FBQSxHQUFBdlksRUFBQW9ZLEdBQUEvWSxhQUFBdk8sT0FFQWtQLEVBQUFvWSxHQUFBSSxNQUFBRCxHQUVBLE1BQUFELEdBQUFDLEVBQUFELEtBQ0FBLEVBQUFDLEVBQ0FGLEVBQUFELEdBSUF6WixHQUFBc0QsRUFBQW9XLEdBQUFELEdBR0EsUUFBQUssSUFBQXhXLEdBQ0EsSUFBQUEsRUFBQXZCLEdBQUEsQ0FJQSxHQUFBN1AsR0FBQTJWLEVBQUF2RSxFQUFBVCxHQUNBUyxHQUFBdlEsR0FBQTBNLEdBQUF2TixFQUFBd1osS0FBQXhaLEVBQUF5WixNQUFBelosRUFBQStlLEtBQUEvZSxFQUFBa2IsS0FBQWxiLEVBQUFrbkIsS0FBQWxuQixFQUFBNm5CLE9BQUE3bkIsRUFBQThuQixPQUFBOW5CLEVBQUErbkIsYUFBQSxTQUFBcHFCLEdBQ0EsTUFBQUEsSUFBQWdoQixTQUFBaGhCLEVBQUEsTUFHQThuQixHQUFBclUsSUFHQSxRQUFBNFcsSUFBQTVXLEdBQ0EsR0FBQTFELEdBQUEsR0FBQXlELEdBQUFrUyxHQUFBNEUsR0FBQTdXLElBT0EsT0FOQTFELEdBQUFvWSxXQUVBcFksRUFBQTZRLElBQUEsT0FDQTdRLEVBQUFvWSxTQUFBN25CLFFBR0F5UCxFQUdBLFFBQUF1YSxJQUFBN1csR0FDQSxHQUFBckUsR0FBQXFFLEVBQUFULEdBQ0ExQyxFQUFBbUQsRUFBQVIsRUFJQSxPQUZBUSxHQUFBSCxRQUFBRyxFQUFBSCxTQUFBMFIsR0FBQXZSLEVBQUFQLElBRUEsT0FBQTlELEdBQUE5TyxTQUFBZ1EsR0FBQSxLQUFBbEIsRUFDQW9ELEdBQThCdkIsV0FBQSxLQUc5QixnQkFBQTdCLEtBQ0FxRSxFQUFBVCxHQUFBNUQsRUFBQXFFLEVBQUFILFFBQUFpWCxTQUFBbmIsSUFHQXdFLEVBQUF4RSxHQUNBLEdBQUFvRSxHQUFBa1MsR0FBQXRXLEtBQ0tNLEVBQUFOLEdBQ0xxRSxFQUFBdkIsR0FBQTlDLEVBQ0tsSyxFQUFBb0wsR0FDTHFaLEdBQUFsVyxHQUNLbkQsRUFDTDZXLEdBQUExVCxHQUVBK1csR0FBQS9XLEdBR0E5QixFQUFBOEIsS0FDQUEsRUFBQXZCLEdBQUEsTUFHQXVCLElBR0EsUUFBQStXLElBQUEvVyxHQUNBLEdBQUFyRSxHQUFBcUUsRUFBQVQsRUFDQTFTLFVBQUE4TyxFQUNBcUUsRUFBQXZCLEdBQUEsR0FBQXZDLE1BQUFYLEVBQUF1SCxPQUNLN0csRUFBQU4sR0FDTHFFLEVBQUF2QixHQUFBLEdBQUF2QyxNQUFBUCxFQUFBZ0IsV0FDSyxnQkFBQWhCLEdBQ0xnWSxHQUFBM1QsR0FDS3ZPLEVBQUFrSyxJQUNMcUUsRUFBQXZRLEdBQUEwTSxFQUFBUixFQUFBa0csTUFBQSxZQUFBdFYsR0FDQSxNQUFBZ2hCLFVBQUFoaEIsRUFBQSxNQUVBOG5CLEdBQUFyVSxJQUNLLG1CQUNMd1csR0FBQXhXLEdBQ0toRSxFQUFBTCxHQUVMcUUsRUFBQXZCLEdBQUEsR0FBQXZDLE1BQUFQLEdBRUFKLEVBQUFzWSx3QkFBQTdULEdBSUEsUUFBQWhELElBQUFyQixFQUFBa0IsRUFBQUMsRUFBQUMsRUFBQWlhLEdBQ0EsR0FBQTlpQixLQW9CQSxPQWxCQTRJLE1BQUEsR0FBQUEsS0FBQSxJQUNBQyxFQUFBRCxFQUNBQSxFQUFBalEsU0FHQWdQLEVBQUFGLElBQUFHLEVBQUFILElBQ0FsSyxFQUFBa0ssSUFBQSxJQUFBQSxFQUFBOU0sVUFDQThNLEVBQUE5TyxRQUlBcUgsRUFBQW9MLGtCQUFBLEVBQ0FwTCxFQUFBK2YsUUFBQS9mLEVBQUF5TCxPQUFBcVgsRUFDQTlpQixFQUFBdUwsR0FBQTNDLEVBQ0E1SSxFQUFBcUwsR0FBQTVELEVBQ0F6SCxFQUFBc0wsR0FBQTNDLEVBQ0EzSSxFQUFBMEssUUFBQTdCLEVBRUE2WixHQUFBMWlCLEdBR0EsUUFBQWtoQixJQUFBelosRUFBQWtCLEVBQUFDLEVBQUFDLEdBQ0EsTUFBQUMsSUFBQXJCLEVBQUFrQixFQUFBQyxFQUFBQyxHQUFBLEdBZ0NBLFFBQUFrYSxJQUFBNWEsRUFBQTZhLEdBQ0EsR0FBQTVhLEdBQUExTixDQUlBLElBSEEsSUFBQXNvQixFQUFBcm9CLFFBQUE0QyxFQUFBeWxCLEVBQUEsTUFDQUEsSUFBQSxLQUVBQSxFQUFBcm9CLE9BQ0EsTUFBQXVtQixLQUdBLEtBREE5WSxFQUFBNGEsRUFBQSxHQUNBdG9CLEVBQUEsRUFBZUEsRUFBQXNvQixFQUFBcm9CLFNBQW9CRCxFQUNuQ3NvQixFQUFBdG9CLEdBQUFzUCxZQUFBZ1osRUFBQXRvQixHQUFBeU4sR0FBQUMsS0FDQUEsRUFBQTRhLEVBQUF0b0IsR0FHQSxPQUFBME4sR0FJQSxRQUFBNEUsTUFDQSxHQUFBN1IsTUFBQXdTLE1BQUFwVCxLQUFBUyxVQUFBLEVBRUEsT0FBQStuQixJQUFBLFdBQUE1bkIsR0FHQSxRQUFBMlcsTUFDQSxHQUFBM1csTUFBQXdTLE1BQUFwVCxLQUFBUyxVQUFBLEVBRUEsT0FBQStuQixJQUFBLFVBQUE1bkIsR0FPQSxRQUFBOG5CLElBQUFDLEdBQ0EsR0FBQTFTLEdBQUFILEVBQUE2UyxHQUNBQyxFQUFBM1MsRUFBQTBELE1BQUEsRUFDQWtQLEVBQUE1UyxFQUFBNlMsU0FBQSxFQUNBaE8sRUFBQTdFLEVBQUEyRCxPQUFBLEVBQ0FtUCxFQUFBOVMsRUFBQXlILE1BQUEsRUFDQXNMLEVBQUEvUyxFQUFBaUosS0FBQSxFQUNBc0MsRUFBQXZMLEVBQUFvUixNQUFBLEVBQ0ExRixFQUFBMUwsRUFBQStSLFFBQUEsRUFDQWlCLEVBQUFoVCxFQUFBZ1MsUUFBQSxFQUNBaUIsRUFBQWpULEVBQUFpUyxhQUFBLENBR0EzbkIsTUFBQTRvQixlQUFBRCxFQUNBLElBQUFELEVBQ0EsSUFBQXRILEVBQ0EsSUFBQUgsRUFBQSxNQUdBamhCLEtBQUE2b0IsT0FBQUosRUFDQSxFQUFBRCxFQUlBeG9CLEtBQUF5WixTQUFBYyxFQUNBLEVBQUErTixFQUNBLEdBQUFELEVBRUFyb0IsS0FBQThvQixTQUVBOW9CLEtBQUE2USxRQUFBMFIsS0FFQXZpQixLQUFBK29CLFVBR0EsUUFBQUMsSUFBQXpyQixHQUNBLE1BQUFBLGFBQUE0cUIsSUFHQSxRQUFBYyxJQUFBNVgsR0FDQSxNQUFBQSxHQUFBLEVBQ0FDLEtBQUE0WCxTQUFBN1gsTUFFQUMsS0FBQTRYLE1BQUE3WCxHQU1BLFFBQUE4WCxJQUFBaFMsRUFBQWlTLEdBQ0FsUyxFQUFBQyxFQUFBLGVBQ0EsR0FBQWdTLEdBQUFucEIsS0FBQXFwQixZQUNBdlMsRUFBQSxHQUtBLE9BSkFxUyxHQUFBLElBQ0FBLEtBQ0FyUyxFQUFBLEtBRUFBLEVBQUFMLEtBQUEwUyxFQUFBLE9BQUFDLEVBQUEzUyxJQUFBLFVBdUJBLFFBQUE2UyxJQUFBQyxFQUFBdGxCLEdBQ0EsR0FBQXVsQixJQUFBdmxCLEdBQUEsSUFBQTRELE1BQUEwaEIsRUFFQSxXQUFBQyxFQUNBLFdBR0EsSUFBQUMsR0FBQUQsSUFBQTNwQixPQUFBLE9BQ0E2cEIsR0FBQUQsRUFBQSxJQUFBNWhCLE1BQUE4aEIsTUFBQSxTQUNBdkksSUFBQSxHQUFBc0ksRUFBQSxJQUFBalksRUFBQWlZLEVBQUEsR0FFQSxZQUFBdEksRUFDQSxFQUNBLE1BQUFzSSxFQUFBLEdBQUF0SSxLQUlBLFFBQUF3SSxJQUFBamQsRUFBQWtkLEdBQ0EsR0FBQXZjLEdBQUF5SCxDQUNBLE9BQUE4VSxHQUFBbFosUUFDQXJELEVBQUF1YyxFQUFBQyxRQUNBL1UsR0FBQTVELEVBQUF4RSxJQUFBTSxFQUFBTixLQUFBZ0IsVUFBQXlZLEdBQUF6WixHQUFBZ0IsV0FBQUwsRUFBQUssVUFFQUwsRUFBQW1DLEdBQUFzYSxRQUFBemMsRUFBQW1DLEdBQUE5QixVQUFBb0gsR0FDQXhJLEVBQUEyRSxhQUFBNUQsR0FBQSxHQUNBQSxHQUVBOFksR0FBQXpaLEdBQUFxZCxRQUlBLFFBQUFDLElBQUFqYixHQUdBLFdBQUFzQyxLQUFBNFgsTUFBQWxhLEVBQUFTLEdBQUF5YSxvQkFBQSxJQXFCQSxRQUFBQyxJQUFBeGQsRUFBQXlkLEdBQ0EsR0FDQUMsR0FEQWxCLEVBQUFucEIsS0FBQTRRLFNBQUEsQ0FFQSxLQUFBNVEsS0FBQWtQLFVBQ0EsYUFBQXZDLEVBQUEzTSxLQUFBZ1EsR0FFQSxVQUFBckQsRUFBQSxDQUNBLG1CQUFBQSxJQUVBLEdBREFBLEVBQUEyYyxHQUFBZ0IsR0FBQTNkLEdBQ0EsT0FBQUEsRUFDQSxNQUFBM00sVUFFU3NSLE1BQUFjLElBQUF6RixHQUFBLEtBQ1RBLEVBQUEsR0FBQUEsRUFtQkEsUUFqQkEzTSxLQUFBMlEsUUFBQXlaLElBQ0FDLEVBQUFKLEdBQUFqcUIsT0FFQUEsS0FBQTRRLFFBQUFqRSxFQUNBM00sS0FBQTJRLFFBQUEsRUFDQSxNQUFBMFosR0FDQXJxQixLQUFBbWUsSUFBQWtNLEVBQUEsS0FFQWxCLElBQUF4YyxLQUNBeWQsR0FBQXBxQixLQUFBdXFCLGtCQUNBQyxHQUFBeHFCLEtBQUF5cUIsR0FBQTlkLEVBQUF3YyxFQUFBLFdBQ2FucEIsS0FBQXVxQixvQkFDYnZxQixLQUFBdXFCLG1CQUFBO0FBQ0FoZSxFQUFBMkUsYUFBQWxSLE1BQUEsR0FDQUEsS0FBQXVxQixrQkFBQSxPQUdBdnFCLEtBRUEsTUFBQUEsTUFBQTJRLE9BQUF3WSxFQUFBYyxHQUFBanFCLE1BSUEsUUFBQTBxQixJQUFBL2QsRUFBQXlkLEdBQ0EsYUFBQXpkLEdBQ0EsZ0JBQUFBLEtBQ0FBLE1BR0EzTSxLQUFBcXBCLFVBQUExYyxFQUFBeWQsR0FFQXBxQixPQUVBQSxLQUFBcXBCLFlBSUEsUUFBQXNCLElBQUFQLEdBQ0EsTUFBQXBxQixNQUFBcXBCLFVBQUEsRUFBQWUsR0FHQSxRQUFBUSxJQUFBUixHQVNBLE1BUkFwcUIsTUFBQTJRLFNBQ0EzUSxLQUFBcXBCLFVBQUEsRUFBQWUsR0FDQXBxQixLQUFBMlEsUUFBQSxFQUVBeVosR0FDQXBxQixLQUFBNnFCLFNBQUFaLEdBQUFqcUIsTUFBQSxNQUdBQSxLQUdBLFFBQUE4cUIsTUFDQSxTQUFBOXFCLEtBQUEwUSxLQUNBMVEsS0FBQXFwQixVQUFBcnBCLEtBQUEwUSxVQUNLLG9CQUFBMVEsTUFBQXVRLEdBQUEsQ0FDTCxHQUFBd2EsR0FBQXpCLEdBQUEwQixHQUFBaHJCLEtBQUF1USxHQUNBLE9BQUF3YSxFQUNBL3FCLEtBQUFxcEIsVUFBQTBCLEdBR0EvcUIsS0FBQXFwQixVQUFBLE1BR0EsTUFBQXJwQixNQUdBLFFBQUFpckIsSUFBQXRlLEdBQ0EsUUFBQTNNLEtBQUFrUCxZQUdBdkMsSUFBQXlaLEdBQUF6WixHQUFBMGMsWUFBQSxHQUVBcnBCLEtBQUFxcEIsWUFBQTFjLEdBQUEsUUFHQSxRQUFBdWUsTUFDQSxNQUNBbHJCLE1BQUFxcEIsWUFBQXJwQixLQUFBOHBCLFFBQUF6USxNQUFBLEdBQUFnUSxhQUNBcnBCLEtBQUFxcEIsWUFBQXJwQixLQUFBOHBCLFFBQUF6USxNQUFBLEdBQUFnUSxZQUlBLFFBQUE4QixNQUNBLElBQUFsYixFQUFBalEsS0FBQW9yQixlQUNBLE1BQUFwckIsTUFBQW9yQixhQUdBLElBQUFsbUIsS0FLQSxJQUhBZ0wsRUFBQWhMLEVBQUFsRixNQUNBa0YsRUFBQTJpQixHQUFBM2lCLEdBRUFBLEVBQUF6RSxHQUFBLENBQ0EsR0FBQTRxQixHQUFBbm1CLEVBQUF5TCxPQUFBL0MsRUFBQTFJLEVBQUF6RSxJQUFBMmxCLEdBQUFsaEIsRUFBQXpFLEdBQ0FULE1BQUFvckIsY0FBQXByQixLQUFBa1AsV0FDQTJDLEVBQUEzTSxFQUFBekUsR0FBQTRxQixFQUFBOW9CLFdBQUEsTUFFQXZDLE1BQUFvckIsZUFBQSxDQUdBLE9BQUFwckIsTUFBQW9yQixjQUdBLFFBQUFFLE1BQ0EsUUFBQXRyQixLQUFBa1AsWUFBQWxQLEtBQUEyUSxPQUdBLFFBQUE0YSxNQUNBLFFBQUF2ckIsS0FBQWtQLFdBQUFsUCxLQUFBMlEsT0FHQSxRQUFBNmEsTUFDQSxRQUFBeHJCLEtBQUFrUCxZQUFBbFAsS0FBQTJRLFFBQUEsSUFBQTNRLEtBQUE0USxTQVdBLFFBQUE2WixJQUFBOWQsRUFBQS9LLEdBQ0EsR0FHQWtWLEdBQ0F0VSxFQUNBaXBCLEVBTEFyRCxFQUFBemIsRUFFQTlFLEVBQUEsSUF1REEsT0FsREFtaEIsSUFBQXJjLEdBQ0F5YixHQUNBOUwsR0FBQTNQLEVBQUFpYyxjQUNBek0sRUFBQXhQLEVBQUFrYyxNQUNBeE0sRUFBQTFQLEVBQUE4TSxTQUVLek0sRUFBQUwsSUFDTHliLEtBQ0F4bUIsRUFDQXdtQixFQUFBeG1CLEdBQUErSyxFQUVBeWIsRUFBQU8sYUFBQWhjLElBRUs5RSxFQUFBNmpCLEdBQUFySCxLQUFBMVgsS0FDTG1LLEVBQUEsTUFBQWpQLEVBQUEsUUFDQXVnQixHQUNBbE0sRUFBQSxFQUNBQyxFQUFBMUssRUFBQTVKLEVBQUFzYixLQUFBck0sRUFDQXNGLEVBQUEzSyxFQUFBNUosRUFBQXdiLEtBQUF2TSxFQUNBOUgsRUFBQXlDLEVBQUE1SixFQUFBeWIsS0FBQXhNLEVBQ0EzWCxFQUFBc1MsRUFBQTVKLEVBQUEwYixLQUFBek0sRUFDQXdGLEdBQUE3SyxFQUFBd1gsR0FBQSxJQUFBcGhCLEVBQUEyYixNQUFBMU0sS0FFS2pQLEVBQUE4akIsR0FBQXRILEtBQUExWCxLQUNMbUssRUFBQSxNQUFBalAsRUFBQSxRQUNBdWdCLEdBQ0FsTSxFQUFBMFAsR0FBQS9qQixFQUFBLEdBQUFpUCxHQUNBdUYsRUFBQXVQLEdBQUEvakIsRUFBQSxHQUFBaVAsR0FDQStPLEVBQUErRixHQUFBL2pCLEVBQUEsR0FBQWlQLEdBQ0FxRixFQUFBeVAsR0FBQS9qQixFQUFBLEdBQUFpUCxHQUNBc0YsRUFBQXdQLEdBQUEvakIsRUFBQSxHQUFBaVAsR0FDQTlILEVBQUE0YyxHQUFBL2pCLEVBQUEsR0FBQWlQLEdBQ0EzWCxFQUFBeXNCLEdBQUEvakIsRUFBQSxHQUFBaVAsS0FFSyxNQUFBc1IsRUFDTEEsS0FDSyxnQkFBQUEsS0FBQSxRQUFBQSxJQUFBLE1BQUFBLE1BQ0xxRCxFQUFBSSxHQUFBekYsR0FBQWdDLEVBQUFoWSxNQUFBZ1csR0FBQWdDLEVBQUFqWSxLQUVBaVksS0FDQUEsRUFBQTlMLEdBQUFtUCxFQUFBOUMsYUFDQVAsRUFBQS9MLEVBQUFvUCxFQUFBbFIsUUFHQS9YLEVBQUEsR0FBQTJsQixJQUFBQyxHQUVBWSxHQUFBcmMsSUFBQVksRUFBQVosRUFBQSxhQUNBbkssRUFBQXFPLFFBQUFsRSxFQUFBa0UsU0FHQXJPLEVBS0EsUUFBQW9wQixJQUFBRSxFQUFBaFYsR0FJQSxHQUFBeEosR0FBQXdlLEdBQUFwa0IsV0FBQW9rQixFQUFBelgsUUFBQSxTQUVBLFFBQUE3RSxNQUFBbEMsR0FBQSxFQUFBQSxHQUFBd0osRUFHQSxRQUFBaVYsSUFBQUMsRUFBQVgsR0FDQSxHQUFBL2QsSUFBZXFiLGFBQUEsRUFBQXBPLE9BQUEsRUFVZixPQVJBak4sR0FBQWlOLE9BQUE4USxFQUFBaFMsUUFBQTJTLEVBQUEzUyxRQUNBLElBQUFnUyxFQUFBalMsT0FBQTRTLEVBQUE1UyxRQUNBNFMsRUFBQWxDLFFBQUEzTCxJQUFBN1EsRUFBQWlOLE9BQUEsS0FBQTBSLFFBQUFaLE1BQ0EvZCxFQUFBaU4sT0FHQWpOLEVBQUFxYixjQUFBMEMsR0FBQVcsRUFBQWxDLFFBQUEzTCxJQUFBN1EsRUFBQWlOLE9BQUEsS0FFQWpOLEVBR0EsUUFBQXVlLElBQUFHLEVBQUFYLEdBQ0EsR0FBQS9kLEVBQ0EsT0FBQTBlLEdBQUE5YyxXQUFBbWMsRUFBQW5jLFdBSUFtYyxFQUFBekIsR0FBQXlCLEVBQUFXLEdBQ0FBLEVBQUFFLFNBQUFiLEdBQ0EvZCxFQUFBeWUsR0FBQUMsRUFBQVgsSUFFQS9kLEVBQUF5ZSxHQUFBVixFQUFBVyxHQUNBMWUsRUFBQXFiLGNBQUFyYixFQUFBcWIsYUFDQXJiLEVBQUFpTixRQUFBak4sRUFBQWlOLFFBR0FqTixJQVpnQnFiLGFBQUEsRUFBQXBPLE9BQUEsR0FnQmhCLFFBQUE0UixJQUFBQyxFQUFBdm1CLEdBQ0EsZ0JBQUF3SyxFQUFBZ2MsR0FDQSxHQUFBQyxHQUFBQyxDQVdBLE9BVEEsUUFBQUYsR0FBQTdjLE9BQUE2YyxLQUNBdFosRUFBQWxOLEVBQUEsWUFBQUEsRUFBQSx1REFBQUEsRUFBQSxrR0FFQTBtQixFQUFBbGMsRUFBc0JBLEVBQUFnYyxFQUFjQSxFQUFBRSxHQUdwQ2xjLEVBQUEsZ0JBQUFBLFFBQ0FpYyxFQUFBN0IsR0FBQXBhLEVBQUFnYyxHQUNBN0IsR0FBQXhxQixLQUFBc3NCLEVBQUFGLEdBQ0Fwc0IsTUFJQSxRQUFBd3FCLElBQUEzVyxFQUFBdVUsRUFBQW9FLEVBQUF0YixHQUNBLEdBQUF5WCxHQUFBUCxFQUFBUSxjQUNBSCxFQUFBUSxHQUFBYixFQUFBUyxPQUNBdE8sRUFBQTBPLEdBQUFiLEVBQUEzTyxRQUVBNUYsR0FBQTNFLFlBS0FnQyxFQUFBLE1BQUFBLEtBRUF5WCxHQUNBOVUsRUFBQXBFLEdBQUFzYSxRQUFBbFcsRUFBQXBFLEdBQUE5QixVQUFBZ2IsRUFBQTZELEdBRUEvRCxHQUNBclMsRUFBQXZDLEVBQUEsT0FBQXdDLEVBQUF4QyxFQUFBLFFBQUE0VSxFQUFBK0QsR0FFQWpTLEdBQ0FJLEdBQUE5RyxFQUFBd0MsRUFBQXhDLEVBQUEsU0FBQTBHLEVBQUFpUyxHQUVBdGIsR0FDQTNFLEVBQUEyRSxhQUFBMkMsRUFBQTRVLEdBQUFsTyxJQU9BLFFBQUFrUyxJQUFBQyxFQUFBNVksR0FDQSxHQUFBaUIsR0FBQTJYLEVBQUEzWCxLQUFBakIsRUFBQSxVQUNBLE9BQUFpQixNQUFBLFdBQ0FBLEtBQUEsV0FDQUEsRUFBQSxZQUNBQSxFQUFBLFlBQ0FBLEVBQUEsWUFDQUEsRUFBQSx3QkFHQSxRQUFBNFgsSUFBQUMsRUFBQUMsR0FHQSxHQUFBL1ksR0FBQThZLEdBQUF4RyxLQUNBMEcsRUFBQWxELEdBQUE5VixFQUFBOVQsTUFBQStzQixRQUFBLE9BQ0FsZixFQUFBdEIsRUFBQXlnQixlQUFBaHRCLEtBQUE4c0IsSUFBQSxXQUVBL1ksRUFBQThZLElBQUE1WixFQUFBNFosRUFBQWhmLElBQUFnZixFQUFBaGYsR0FBQXBPLEtBQUFPLEtBQUE4VCxHQUFBK1ksRUFBQWhmLEdBRUEsT0FBQTdOLE1BQUE2TixPQUFBa0csR0FBQS9ULEtBQUF1WCxhQUFBM0QsU0FBQS9GLEVBQUE3TixLQUFBb21CLEdBQUF0UyxLQUdBLFFBQUFnVyxNQUNBLFVBQUEvWSxHQUFBL1EsTUFHQSxRQUFBaXNCLElBQUF0ZixFQUFBMkksR0FDQSxHQUFBMlgsR0FBQTliLEVBQUF4RSxLQUFBeVosR0FBQXpaLEVBQ0EsVUFBQTNNLEtBQUFrUCxZQUFBK2QsRUFBQS9kLGFBR0FvRyxFQUFBRCxFQUFBcEYsRUFBQXFGLEdBQUEsY0FBQUEsR0FDQSxnQkFBQUEsRUFDQXRWLEtBQUEyTixVQUFBc2YsRUFBQXRmLFVBRUFzZixFQUFBdGYsVUFBQTNOLEtBQUE4cEIsUUFBQWlELFFBQUF6WCxHQUFBM0gsV0FJQSxRQUFBdWUsSUFBQXZmLEVBQUEySSxHQUNBLEdBQUEyWCxHQUFBOWIsRUFBQXhFLEtBQUF5WixHQUFBelosRUFDQSxVQUFBM00sS0FBQWtQLFlBQUErZCxFQUFBL2QsYUFHQW9HLEVBQUFELEVBQUFwRixFQUFBcUYsR0FBQSxjQUFBQSxHQUNBLGdCQUFBQSxFQUNBdFYsS0FBQTJOLFVBQUFzZixFQUFBdGYsVUFFQTNOLEtBQUE4cEIsUUFBQW9ELE1BQUE1WCxHQUFBM0gsVUFBQXNmLEVBQUF0ZixXQUlBLFFBQUF3ZixJQUFBL2MsRUFBQUQsRUFBQW1GLEVBQUE4WCxHQUVBLE1BREFBLE1BQUEsTUFDQSxNQUFBQSxFQUFBLEdBQUFwdEIsS0FBQWlzQixRQUFBN2IsRUFBQWtGLElBQUF0VixLQUFBa3NCLFNBQUE5YixFQUFBa0YsTUFDQSxNQUFBOFgsRUFBQSxHQUFBcHRCLEtBQUFrc0IsU0FBQS9iLEVBQUFtRixJQUFBdFYsS0FBQWlzQixRQUFBOWIsRUFBQW1GLElBR0EsUUFBQStYLElBQUExZ0IsRUFBQTJJLEdBQ0EsR0FDQWdZLEdBREFMLEVBQUE5YixFQUFBeEUsS0FBQXlaLEdBQUF6WixFQUVBLFVBQUEzTSxLQUFBa1AsWUFBQStkLEVBQUEvZCxhQUdBb0csRUFBQUQsRUFBQUMsR0FBQSxlQUNBLGdCQUFBQSxFQUNBdFYsS0FBQTJOLFlBQUFzZixFQUFBdGYsV0FFQTJmLEVBQUFMLEVBQUF0ZixVQUNBM04sS0FBQThwQixRQUFBaUQsUUFBQXpYLEdBQUEzSCxXQUFBMmYsTUFBQXR0QixLQUFBOHBCLFFBQUFvRCxNQUFBNVgsR0FBQTNILFlBSUEsUUFBQTRmLElBQUE1Z0IsRUFBQTJJLEdBQ0EsTUFBQXRWLE1BQUFxdEIsT0FBQTFnQixFQUFBMkksSUFBQXRWLEtBQUFpc0IsUUFBQXRmLEVBQUEySSxHQUdBLFFBQUFrWSxJQUFBN2dCLEVBQUEySSxHQUNBLE1BQUF0VixNQUFBcXRCLE9BQUExZ0IsRUFBQTJJLElBQUF0VixLQUFBa3NCLFNBQUF2ZixFQUFBMkksR0FHQSxRQUFBUCxJQUFBcEksRUFBQTJJLEVBQUFtWSxHQUNBLEdBQUFDLEdBQ0FDLEVBQ0FDLEVBQUE3WixDQUVBLE9BQUEvVCxNQUFBa1AsV0FJQXdlLEVBQUE5RCxHQUFBamQsRUFBQTNNLE1BRUEwdEIsRUFBQXhlLFdBSUF5ZSxFQUFBLEtBQUFELEVBQUFyRSxZQUFBcnBCLEtBQUFxcEIsYUFFQS9ULEVBQUFELEVBQUFDLEdBRUEsU0FBQUEsR0FBQSxVQUFBQSxHQUFBLFlBQUFBLEdBQ0F2QixFQUFBOFosR0FBQTd0QixLQUFBMHRCLEdBQ0EsWUFBQXBZLEVBQ0F2QixHQUFBLEVBQ1MsU0FBQXVCLElBQ1R2QixHQUFBLE1BR0E2WixFQUFBNXRCLEtBQUEwdEIsRUFDQTNaLEVBQUEsV0FBQXVCLEVBQUFzWSxFQUFBLElBQ0EsV0FBQXRZLEVBQUFzWSxFQUFBLElBQ0EsU0FBQXRZLEVBQUFzWSxFQUFBLEtBQ0EsUUFBQXRZLEdBQUFzWSxFQUFBRCxHQUFBLE1BQ0EsU0FBQXJZLEdBQUFzWSxFQUFBRCxHQUFBLE9BQ0FDLEdBRUFILEVBQUExWixFQUFBM0MsRUFBQTJDLElBdkJBL0QsS0FOQUEsSUFnQ0EsUUFBQTZkLElBQUFyZ0IsRUFBQUMsR0FFQSxHQUdBcWdCLEdBQUFDLEVBSEFDLEVBQUEsSUFBQXZnQixFQUFBMkwsT0FBQTVMLEVBQUE0TCxTQUFBM0wsRUFBQTRMLFFBQUE3TCxFQUFBNkwsU0FFQTRVLEVBQUF6Z0IsRUFBQXNjLFFBQUEzTCxJQUFBNlAsRUFBQSxTQWNBLE9BWEF2Z0IsR0FBQXdnQixFQUFBLEdBQ0FILEVBQUF0Z0IsRUFBQXNjLFFBQUEzTCxJQUFBNlAsRUFBQSxZQUVBRCxHQUFBdGdCLEVBQUF3Z0IsTUFBQUgsS0FFQUEsRUFBQXRnQixFQUFBc2MsUUFBQTNMLElBQUE2UCxFQUFBLFlBRUFELEdBQUF0Z0IsRUFBQXdnQixJQUFBSCxFQUFBRyxNQUlBRCxFQUFBRCxJQUFBLEVBTUEsUUFBQW5oQixNQUNBLE1BQUE1TSxNQUFBOHBCLFFBQUFoYyxPQUFBLE1BQUFELE9BQUEsb0NBR0EsUUFBQXFnQixNQUNBLEdBQUFsZixHQUFBaFAsS0FBQThwQixRQUFBN2IsS0FDQSxVQUFBZSxFQUFBb0ssUUFBQXBLLEVBQUFvSyxRQUFBLEtBQ0FuRyxFQUFBL0YsS0FBQTNOLFVBQUEydUIsYUFFQWx1QixLQUFBbXVCLFNBQUFELGNBRUF2VyxFQUFBM0ksRUFBQSxnQ0FHQTJJLEVBQUEzSSxFQUFBLGtDQVVBLFFBQUFvZixNQUNBLElBQUFwdUIsS0FBQWtQLFVBQ0EsMkJBQUFsUCxLQUFBdVEsR0FBQSxNQUVBLElBQUE4RyxHQUFBLFNBQ0FnWCxFQUFBLEVBQ0FydUIsTUFBQXNyQixZQUNBalUsRUFBQSxJQUFBclgsS0FBQXFwQixZQUFBLGdDQUNBZ0YsRUFBQSxJQUVBLElBQUFDLEdBQUEsSUFBQWpYLEVBQUEsTUFDQStCLEVBQUEsRUFBQXBaLEtBQUFvWixRQUFBcFosS0FBQW9aLFFBQUEscUJBQ0FtVixFQUFBLHdCQUNBQyxFQUFBSCxFQUFBLE1BRUEsT0FBQXJ1QixNQUFBNk4sT0FBQXlnQixFQUFBbFYsRUFBQW1WLEVBQUFDLEdBR0EsUUFBQTNnQixJQUFBNGdCLEdBQ0FBLElBQ0FBLEVBQUF6dUIsS0FBQXdyQixRQUFBamYsRUFBQW1pQixpQkFBQW5pQixFQUFBb2lCLGNBRUEsSUFBQTVhLEdBQUE0RCxFQUFBM1gsS0FBQXl1QixFQUNBLE9BQUF6dUIsTUFBQXVYLGFBQUFxWCxXQUFBN2EsR0FHQSxRQUFBM0QsSUFBQXdjLEVBQUFqWSxHQUNBLE1BQUEzVSxNQUFBa1AsWUFDQWlDLEVBQUF5YixNQUFBMWQsV0FDQWtYLEdBQUF3RyxHQUFBMWQsV0FDQXViLElBQStCdGEsR0FBQW5RLEtBQUFvUSxLQUFBd2MsSUFBcUI5ZSxPQUFBOU4sS0FBQThOLFVBQUErZ0IsVUFBQWxhLEdBRXBEM1UsS0FBQXVYLGFBQUFqRCxjQUlBLFFBQUF3YSxJQUFBbmEsR0FDQSxNQUFBM1UsTUFBQW9RLEtBQUFnVyxLQUFBelIsR0FHQSxRQUFBeEUsSUFBQXljLEVBQUFqWSxHQUNBLE1BQUEzVSxNQUFBa1AsWUFDQWlDLEVBQUF5YixNQUFBMWQsV0FDQWtYLEdBQUF3RyxHQUFBMWQsV0FDQXViLElBQStCcmEsS0FBQXBRLEtBQUFtUSxHQUFBeWMsSUFBcUI5ZSxPQUFBOU4sS0FBQThOLFVBQUErZ0IsVUFBQWxhLEdBRXBEM1UsS0FBQXVYLGFBQUFqRCxjQUlBLFFBQUF5YSxJQUFBcGEsR0FDQSxNQUFBM1UsTUFBQW1RLEdBQUFpVyxLQUFBelIsR0FNQSxRQUFBN0csSUFBQWxNLEdBQ0EsR0FBQW90QixFQUVBLE9BQUFueEIsVUFBQStELEVBQ0E1QixLQUFBNlEsUUFBQXFSLE9BRUE4TSxFQUFBek0sR0FBQTNnQixHQUNBLE1BQUFvdEIsSUFDQWh2QixLQUFBNlEsUUFBQW1lLEdBRUFodkIsTUFlQSxRQUFBdVgsTUFDQSxNQUFBdlgsTUFBQTZRLFFBR0EsUUFBQWtjLElBQUF6WCxHQUlBLE9BSEFBLEVBQUFELEVBQUFDLElBSUEsV0FDQXRWLEtBQUFxWixNQUFBLEVBRUEsZUFDQSxZQUNBclosS0FBQThhLEtBQUEsRUFFQSxZQUNBLGNBQ0EsVUFDQSxXQUNBOWEsS0FBQWloQixNQUFBLEVBRUEsWUFDQWpoQixLQUFBb2hCLFFBQUEsRUFFQSxjQUNBcGhCLEtBQUEwb0IsUUFBQSxFQUVBLGNBQ0Exb0IsS0FBQTJvQixhQUFBLEdBZ0JBLE1BWkEsU0FBQXJULEdBQ0F0VixLQUFBb2QsUUFBQSxHQUVBLFlBQUE5SCxHQUNBdFYsS0FBQWl2QixXQUFBLEdBSUEsWUFBQTNaLEdBQ0F0VixLQUFBcVosTUFBQSxFQUFBL0gsS0FBQUUsTUFBQXhSLEtBQUFxWixRQUFBLElBR0FyWixLQUdBLFFBQUFrdEIsSUFBQTVYLEdBRUEsTUFEQUEsR0FBQUQsRUFBQUMsR0FDQXpYLFNBQUF5WCxHQUFBLGdCQUFBQSxFQUNBdFYsTUFJQSxTQUFBc1YsSUFDQUEsRUFBQSxPQUdBdFYsS0FBQStzQixRQUFBelgsR0FBQTZJLElBQUEsY0FBQTdJLEVBQUEsT0FBQUEsR0FBQXVWLFNBQUEsU0FHQSxRQUFBbGQsTUFDQSxNQUFBM04sTUFBQXlQLEdBQUE5QixVQUFBLEtBQUEzTixLQUFBNFEsU0FBQSxHQUdBLFFBQUFzZSxNQUNBLE1BQUE1ZCxNQUFBRSxNQUFBeFIsS0FBQTJOLFVBQUEsS0FHQSxRQUFBd2dCLE1BQ0EsVUFBQWpoQixNQUFBbE4sS0FBQTJOLFdBR0EsUUFBQXBMLE1BQ0EsR0FBQXlNLEdBQUFoUCxJQUNBLFFBQUFnUCxFQUFBb0ssT0FBQXBLLEVBQUFxSyxRQUFBckssRUFBQThMLE9BQUE5TCxFQUFBOFgsT0FBQTlYLEVBQUF5WSxTQUFBelksRUFBQTBZLFNBQUExWSxFQUFBMlksZUFHQSxRQUFBd0gsTUFDQSxHQUFBbmdCLEdBQUFoUCxJQUNBLFFBQ0Fxb0IsTUFBQXJaLEVBQUFvSyxPQUNBbUIsT0FBQXZMLEVBQUFxSyxRQUNBeUIsS0FBQTlMLEVBQUE4TCxPQUNBbUcsTUFBQWpTLEVBQUFpUyxRQUNBRyxRQUFBcFMsRUFBQW9TLFVBQ0FzSCxRQUFBMVosRUFBQTBaLFVBQ0FDLGFBQUEzWixFQUFBMlosZ0JBSUEsUUFBQXlHLE1BRUEsTUFBQXB2QixNQUFBa1AsVUFBQWxQLEtBQUFrdUIsY0FBQSxLQUdBLFFBQUFtQixNQUNBLE1BQUFuZ0IsR0FBQWxQLE1BR0EsUUFBQXN2QixNQUNBLE1BQUE1aEIsTUFBb0JxQixFQUFBL08sT0FHcEIsUUFBQXV2QixNQUNBLE1BQUF4Z0IsR0FBQS9PLE1BQUFzTyxTQUdBLFFBQUFraEIsTUFDQSxPQUNBN2lCLE1BQUEzTSxLQUFBdVEsR0FDQTFDLE9BQUE3TixLQUFBd1EsR0FDQTFDLE9BQUE5TixLQUFBNlEsUUFDQW1YLE1BQUFob0IsS0FBQTJRLE9BQ0E1QyxPQUFBL04sS0FBQTRQLFNBY0EsUUFBQTZmLElBQUF0WSxFQUFBdVksR0FDQXhZLEVBQUEsR0FBQUMsSUFBQXRYLFFBQUEsRUFBQTZ2QixHQXdDQSxRQUFBQyxJQUFBaGpCLEdBQ0EsTUFBQWlqQixJQUFBbndCLEtBQUFPLEtBQ0EyTSxFQUNBM00sS0FBQW1kLE9BQ0FuZCxLQUFBb2QsVUFDQXBkLEtBQUF1WCxhQUFBd0csTUFBQWxCLElBQ0E3YyxLQUFBdVgsYUFBQXdHLE1BQUFqQixLQUdBLFFBQUErUyxJQUFBbGpCLEdBQ0EsTUFBQWlqQixJQUFBbndCLEtBQUFPLEtBQ0EyTSxFQUFBM00sS0FBQTh2QixVQUFBOXZCLEtBQUFpdkIsYUFBQSxLQUdBLFFBQUFjLE1BQ0EsTUFBQW5TLElBQUE1ZCxLQUFBb1osT0FBQSxLQUdBLFFBQUE0VyxNQUNBLEdBQUFDLEdBQUFqd0IsS0FBQXVYLGFBQUF3RyxLQUNBLE9BQUFILElBQUE1ZCxLQUFBb1osT0FBQTZXLEVBQUFwVCxJQUFBb1QsRUFBQW5ULEtBR0EsUUFBQThTLElBQUFqakIsRUFBQXdRLEVBQUFDLEVBQUFQLEVBQUFDLEdBQ0EsR0FBQW9ULEVBQ0EsY0FBQXZqQixFQUNBK1EsR0FBQTFkLEtBQUE2YyxFQUFBQyxHQUFBMUQsTUFFQThXLEVBQUF0UyxHQUFBalIsRUFBQWtRLEVBQUFDLEdBQ0FLLEVBQUErUyxJQUNBL1MsRUFBQStTLEdBRUFDLEdBQUExd0IsS0FBQU8sS0FBQTJNLEVBQUF3USxFQUFBQyxFQUFBUCxFQUFBQyxJQUlBLFFBQUFxVCxJQUFBckssRUFBQTNJLEVBQUFDLEVBQUFQLEVBQUFDLEdBQ0EsR0FBQXNULEdBQUFsVCxHQUFBNEksRUFBQTNJLEVBQUFDLEVBQUFQLEVBQUFDLEdBQ0FoQyxFQUFBMkIsR0FBQTJULEVBQUFoWCxLQUFBLEVBQUFnWCxFQUFBM1MsVUFLQSxPQUhBemQsTUFBQW9aLEtBQUEwQixFQUFBNEIsa0JBQ0ExYyxLQUFBcVosTUFBQXlCLEVBQUFvSyxlQUNBbGxCLEtBQUE4YSxPQUFBdkIsY0FDQXZaLEtBd0JBLFFBQUFxd0IsSUFBQTFqQixHQUNBLGFBQUFBLEVBQUEyRSxLQUFBQyxNQUFBdlIsS0FBQXFaLFFBQUEsTUFBQXJaLEtBQUFxWixNQUFBLEdBQUExTSxFQUFBLEdBQUEzTSxLQUFBcVosUUFBQSxHQXNEQSxRQUFBaVgsSUFBQTNqQixHQUNBLEdBQUE4USxHQUFBbk0sS0FBQTRYLE9BQUFscEIsS0FBQThwQixRQUFBaUQsUUFBQSxPQUFBL3NCLEtBQUE4cEIsUUFBQWlELFFBQUEsaUJBQ0EsY0FBQXBnQixFQUFBOFEsRUFBQXpkLEtBQUFtZSxJQUFBeFIsRUFBQThRLEVBQUEsS0FpR0EsUUFBQThTLElBQUE1akIsRUFBQXBJLEdBQ0FBLEVBQUFpZixJQUFBL1IsRUFBQSxVQUFBOUUsSUFpQkEsUUFBQTZqQixNQUNBLE1BQUF4d0IsTUFBQTJRLE9BQUEsU0FHQSxRQUFBOGYsTUFDQSxNQUFBendCLE1BQUEyUSxPQUFBLGdDQTJHQSxRQUFBK2YsSUFBQS9qQixHQUNBLE1BQUF5WixJQUFBLElBQUF6WixHQUdBLFFBQUFna0IsTUFDQSxNQUFBdkssSUFBQW5tQixNQUFBLEtBQUFDLFdBQUEwd0IsWUFHQSxRQUFBQyxJQUFBNXNCLEdBQ0EsTUFBQUEsR0F5Q0EsUUFBQTZzQixJQUFBampCLEVBQUFoTCxFQUFBa3VCLEVBQUFDLEdBQ0EsR0FBQWxqQixHQUFBeVUsS0FDQXRVLEVBQUFMLElBQUF1RixJQUFBNmQsRUFBQW51QixFQUNBLE9BQUFpTCxHQUFBaWpCLEdBQUE5aUIsRUFBQUosR0FHQSxRQUFBb2pCLElBQUFwakIsRUFBQWhMLEVBQUFrdUIsR0FRQSxHQVBBL2pCLEVBQUFhLEtBQ0FoTCxFQUFBZ0wsRUFDQUEsRUFBQWhRLFFBR0FnUSxLQUFBLEdBRUEsTUFBQWhMLEVBQ0EsTUFBQWl1QixJQUFBampCLEVBQUFoTCxFQUFBa3VCLEVBQUEsUUFHQSxJQUFBbnhCLEdBQ0FzeEIsSUFDQSxLQUFBdHhCLEVBQUEsRUFBZUEsRUFBQSxHQUFRQSxJQUN2QnN4QixFQUFBdHhCLEdBQUFreEIsR0FBQWpqQixFQUFBak8sRUFBQW14QixFQUFBLFFBRUEsT0FBQUcsR0FXQSxRQUFBQyxJQUFBQyxFQUFBdmpCLEVBQUFoTCxFQUFBa3VCLEdBQ0EsaUJBQUFLLElBQ0Fwa0IsRUFBQWEsS0FDQWhMLEVBQUFnTCxFQUNBQSxFQUFBaFEsUUFHQWdRLEtBQUEsS0FFQUEsRUFBQXVqQixFQUNBdnVCLEVBQUFnTCxFQUNBdWpCLEdBQUEsRUFFQXBrQixFQUFBYSxLQUNBaEwsRUFBQWdMLEVBQ0FBLEVBQUFoUSxRQUdBZ1EsS0FBQSxHQUdBLElBQUFDLEdBQUF5VSxLQUNBOWQsRUFBQTJzQixFQUFBdGpCLEVBQUFpUSxNQUFBbEIsSUFBQSxDQUVBLFVBQUFoYSxFQUNBLE1BQUFpdUIsSUFBQWpqQixHQUFBaEwsRUFBQTRCLEdBQUEsRUFBQXNzQixFQUFBLE1BR0EsSUFBQW54QixHQUNBc3hCLElBQ0EsS0FBQXR4QixFQUFBLEVBQWVBLEVBQUEsRUFBT0EsSUFDdEJzeEIsRUFBQXR4QixHQUFBa3hCLEdBQUFqakIsR0FBQWpPLEVBQUE2RSxHQUFBLEVBQUFzc0IsRUFBQSxNQUVBLE9BQUFHLEdBR0EsUUFBQUcsSUFBQXhqQixFQUFBaEwsR0FDQSxNQUFBb3VCLElBQUFwakIsRUFBQWhMLEVBQUEsVUFHQSxRQUFBeXVCLElBQUF6akIsRUFBQWhMLEdBQ0EsTUFBQW91QixJQUFBcGpCLEVBQUFoTCxFQUFBLGVBR0EsUUFBQTB1QixJQUFBSCxFQUFBdmpCLEVBQUFoTCxHQUNBLE1BQUFzdUIsSUFBQUMsRUFBQXZqQixFQUFBaEwsRUFBQSxZQUdBLFFBQUEydUIsSUFBQUosRUFBQXZqQixFQUFBaEwsR0FDQSxNQUFBc3VCLElBQUFDLEVBQUF2akIsRUFBQWhMLEVBQUEsaUJBR0EsUUFBQTR1QixJQUFBTCxFQUFBdmpCLEVBQUFoTCxHQUNBLE1BQUFzdUIsSUFBQUMsRUFBQXZqQixFQUFBaEwsRUFBQSxlQXFCQSxRQUFBdVAsTUFDQSxHQUFBa1EsR0FBQXRpQixLQUFBOG9CLEtBYUEsT0FYQTlvQixNQUFBNG9CLGNBQUE4SSxHQUFBMXhCLEtBQUE0b0IsZUFDQTVvQixLQUFBNm9CLE1BQUE2SSxHQUFBMXhCLEtBQUE2b0IsT0FDQTdvQixLQUFBeVosUUFBQWlZLEdBQUExeEIsS0FBQXlaLFNBRUE2SSxFQUFBcUcsYUFBQStJLEdBQUFwUCxFQUFBcUcsY0FDQXJHLEVBQUFvRyxRQUFBZ0osR0FBQXBQLEVBQUFvRyxTQUNBcEcsRUFBQWxCLFFBQUFzUSxHQUFBcFAsRUFBQWxCLFNBQ0FrQixFQUFBckIsTUFBQXlRLEdBQUFwUCxFQUFBckIsT0FDQXFCLEVBQUEvSCxPQUFBbVgsR0FBQXBQLEVBQUEvSCxRQUNBK0gsRUFBQStGLE1BQUFxSixHQUFBcFAsRUFBQStGLE9BRUFyb0IsS0FHQSxRQUFBMnhCLElBQUF2SixFQUFBemIsRUFBQS9PLEVBQUF3dUIsR0FDQSxHQUFBZixHQUFBWixHQUFBOWQsRUFBQS9PLEVBTUEsT0FKQXdxQixHQUFBUSxlQUFBd0QsRUFBQWYsRUFBQXpDLGNBQ0FSLEVBQUFTLE9BQUF1RCxFQUFBZixFQUFBeEMsTUFDQVQsRUFBQTNPLFNBQUEyUyxFQUFBZixFQUFBNVIsUUFFQTJPLEVBQUFXLFVBSUEsUUFBQTZJLElBQUFqbEIsRUFBQS9PLEdBQ0EsTUFBQSt6QixJQUFBM3hCLEtBQUEyTSxFQUFBL08sRUFBQSxHQUlBLFFBQUFpMEIsSUFBQWxsQixFQUFBL08sR0FDQSxNQUFBK3pCLElBQUEzeEIsS0FBQTJNLEVBQUEvTyxNQUdBLFFBQUFrMEIsSUFBQXpnQixHQUNBLE1BQUFBLEdBQUEsRUFDQUMsS0FBQUUsTUFBQUgsR0FFQUMsS0FBQUMsS0FBQUYsR0FJQSxRQUFBMGdCLE1BQ0EsR0FJQXJKLEdBQUF0SCxFQUFBSCxFQUFBb0gsRUFBQTJKLEVBSkFySixFQUFBM29CLEtBQUE0b0IsY0FDQUgsRUFBQXpvQixLQUFBNm9CLE1BQ0F0TyxFQUFBdmEsS0FBQXlaLFFBQ0E2SSxFQUFBdGlCLEtBQUE4b0IsS0F3Q0EsT0FuQ0FILElBQUEsR0FBQUYsR0FBQSxHQUFBbE8sR0FBQSxHQUNBb08sR0FBQSxHQUFBRixHQUFBLEdBQUFsTyxHQUFBLElBQ0FvTyxHQUFBLE1BQUFtSixHQUFBRyxHQUFBMVgsR0FBQWtPLEdBQ0FBLEVBQUEsRUFDQWxPLEVBQUEsR0FLQStILEVBQUFxRyxlQUFBLElBRUFELEVBQUF0WCxFQUFBdVgsRUFBQSxLQUNBckcsRUFBQW9HLFVBQUEsR0FFQXRILEVBQUFoUSxFQUFBc1gsRUFBQSxJQUNBcEcsRUFBQWxCLFVBQUEsR0FFQUgsRUFBQTdQLEVBQUFnUSxFQUFBLElBQ0FrQixFQUFBckIsUUFBQSxHQUVBd0gsR0FBQXJYLEVBQUE2UCxFQUFBLElBR0ErUSxFQUFBNWdCLEVBQUE4Z0IsR0FBQXpKLElBQ0FsTyxHQUFBeVgsRUFDQXZKLEdBQUFxSixHQUFBRyxHQUFBRCxJQUdBM0osRUFBQWpYLEVBQUFtSixFQUFBLElBQ0FBLEdBQUEsR0FFQStILEVBQUFtRyxPQUNBbkcsRUFBQS9ILFNBQ0ErSCxFQUFBK0YsUUFFQXJvQixLQUdBLFFBQUFreUIsSUFBQXpKLEdBR0EsWUFBQUEsRUFBQSxPQUdBLFFBQUF3SixJQUFBMVgsR0FFQSxjQUFBQSxFQUFBLEtBR0EsUUFBQTRYLElBQUE3YyxHQUNBLEdBQUFtVCxHQUNBbE8sRUFDQW9PLEVBQUEzb0IsS0FBQTRvQixhQUlBLElBRkF0VCxFQUFBRCxFQUFBQyxHQUVBLFVBQUFBLEdBQUEsU0FBQUEsRUFHQSxNQUZBbVQsR0FBQXpvQixLQUFBNm9CLE1BQUFGLEVBQUEsTUFDQXBPLEVBQUF2YSxLQUFBeVosUUFBQXlZLEdBQUF6SixHQUNBLFVBQUFuVCxFQUFBaUYsSUFBQSxFQUlBLFFBREFrTyxFQUFBem9CLEtBQUE2b0IsTUFBQXZYLEtBQUE0WCxNQUFBK0ksR0FBQWp5QixLQUFBeVosVUFDQW5FLEdBQ0EsaUJBQUFtVCxHQUFBLEVBQUFFLEVBQUEsTUFDQSxpQkFBQUYsR0FBQUUsRUFBQSxLQUNBLHNCQUFBRixFQUFBRSxFQUFBLElBQ0EsMEJBQUFGLEVBQUFFLEVBQUEsR0FDQSwyQkFBQUYsRUFBQUUsRUFBQSxHQUVBLHlCQUFBclgsTUFBQUUsTUFBQSxNQUFBaVgsR0FBQUUsQ0FDQSxrQkFBQTltQixPQUFBLGdCQUFBeVQsSUFNQSxRQUFBOGMsTUFDQSxNQUNBcHlCLE1BQUE0b0IsY0FDQSxNQUFBNW9CLEtBQUE2b0IsTUFDQTdvQixLQUFBeVosUUFBQSxVQUNBLFFBQUFoSSxFQUFBelIsS0FBQXlaLFFBQUEsSUFJQSxRQUFBNFksSUFBQUMsR0FDQSxrQkFDQSxNQUFBdHlCLE1BQUFteUIsR0FBQUcsSUFhQSxRQUFBQyxJQUFBamQsR0FFQSxNQURBQSxHQUFBRCxFQUFBQyxHQUNBdFYsS0FBQXNWLEVBQUEsT0FHQSxRQUFBa2QsSUFBQTNzQixHQUNBLGtCQUNBLE1BQUE3RixNQUFBOG9CLE1BQUFqakIsSUFZQSxRQUFBMmlCLE1BQ0EsTUFBQXBYLEdBQUFwUixLQUFBeW9CLE9BQUEsR0FhQSxRQUFBZ0ssSUFBQXh1QixFQUFBb04sRUFBQXNELEVBQUFDLEVBQUE5RyxHQUNBLE1BQUFBLEdBQUE0RyxhQUFBckQsR0FBQSxJQUFBc0QsRUFBQTFRLEVBQUEyUSxHQUdBLFFBQUE4ZCxJQUFBQyxFQUFBaGUsRUFBQTdHLEdBQ0EsR0FBQXNhLEdBQUFxQyxHQUFBa0ksR0FBQXZnQixNQUNBc1csRUFBQVEsR0FBQWQsRUFBQStKLEdBQUEsTUFDQS9RLEVBQUE4SCxHQUFBZCxFQUFBK0osR0FBQSxNQUNBbFIsRUFBQWlJLEdBQUFkLEVBQUErSixHQUFBLE1BQ0ExSixFQUFBUyxHQUFBZCxFQUFBK0osR0FBQSxNQUNBNVgsRUFBQTJPLEdBQUFkLEVBQUErSixHQUFBLE1BQ0E5SixFQUFBYSxHQUFBZCxFQUFBK0osR0FBQSxNQUVBM2tCLEVBQUFrYixFQUFBa0ssR0FBQXp6QixJQUFBLElBQUF1cEIsSUFDQXRILEdBQUEsVUFDQUEsRUFBQXdSLEdBQUE1akIsSUFBQSxLQUFBb1MsSUFDQUgsR0FBQSxVQUNBQSxFQUFBMlIsR0FBQXhXLElBQUEsS0FBQTZFLElBQ0F3SCxHQUFBLFVBQ0FBLEVBQUFtSyxHQUFBelcsSUFBQSxLQUFBc00sSUFDQWxPLEdBQUEsVUFDQUEsRUFBQXFZLEdBQUF2VyxJQUFBLEtBQUE5QixJQUNBOE4sR0FBQSxnQkFBQUEsRUFLQSxPQUhBN2EsR0FBQSxHQUFBbUgsRUFDQW5ILEVBQUEsSUFBQW1sQixFQUFBLEVBQ0FubEIsRUFBQSxHQUFBTSxFQUNBMmtCLEdBQUF4eUIsTUFBQSxLQUFBdU4sR0FJQSxRQUFBcWxCLElBQUFDLEdBQ0EsTUFBQWoxQixVQUFBaTFCLEVBQ0E1SixHQUVBLHVCQUNBQSxHQUFBNEosR0FDQSxHQU1BLFFBQUFDLElBQUFDLEVBQUFDLEdBQ0EsTUFBQXAxQixVQUFBKzBCLEdBQUFJLEtBR0FuMUIsU0FBQW8xQixFQUNBTCxHQUFBSSxJQUVBSixHQUFBSSxHQUFBQyxHQUNBLElBR0EsUUFBQXBFLElBQUFxRSxHQUNBLEdBQUFwbEIsR0FBQTlOLEtBQUF1WCxhQUNBeEQsRUFBQTJlLEdBQUExeUIsTUFBQWt6QixFQUFBcGxCLEVBTUEsT0FKQW9sQixLQUNBbmYsRUFBQWpHLEVBQUFnSCxZQUFBOVUsS0FBQStULElBR0FqRyxFQUFBOGdCLFdBQUE3YSxHQUtBLFFBQUFvZixNQVFBLEdBR0EvUixHQUFBSCxFQUFBb0gsRUFIQUssRUFBQTBLLEdBQUFwekIsS0FBQTRvQixlQUFBLElBQ0FILEVBQUEySyxHQUFBcHpCLEtBQUE2b0IsT0FDQXRPLEVBQUE2WSxHQUFBcHpCLEtBQUF5WixRQUlBMkgsR0FBQWhRLEVBQUFzWCxFQUFBLElBQ0F6SCxFQUFBN1AsRUFBQWdRLEVBQUEsSUFDQXNILEdBQUEsR0FDQXRILEdBQUEsR0FHQWlILEVBQUFqWCxFQUFBbUosRUFBQSxJQUNBQSxHQUFBLEVBSUEsSUFBQThZLEdBQUFoTCxFQUNBaE0sRUFBQTlCLEVBQ0ErWSxFQUFBN0ssRUFDQXJNLEVBQUE2RSxFQUNBalMsRUFBQW9TLEVBQ0FqaUIsRUFBQXVwQixFQUNBNkssRUFBQXZ6QixLQUFBd3pCLFdBRUEsT0FBQUQsSUFNQUEsRUFBQSxVQUNBLEtBQ0FGLElBQUEsU0FDQWhYLElBQUEsU0FDQWlYLElBQUEsU0FDQWxYLEdBQUFwTixHQUFBN1AsRUFBQSxTQUNBaWQsSUFBQSxTQUNBcE4sSUFBQSxTQUNBN1AsSUFBQSxRQVhBLE1BdmxJQSxHQUFBcU4sSUFrR0FpbkIsRUFFQUEsSUFEQW56QixNQUFBZixVQUFBazBCLEtBQ0FuekIsTUFBQWYsVUFBQWswQixLQUVBLFNBQUFDLEdBSUEsT0FIQXIwQixHQUFBM0IsT0FBQXNDLE1BQ0FpUyxFQUFBNVMsRUFBQVEsU0FBQSxFQUVBRCxFQUFBLEVBQXVCQSxFQUFBcVMsRUFBU3JTLElBQ2hDLEdBQUFBLElBQUFQLElBQUFxMEIsRUFBQWowQixLQUFBTyxLQUFBWCxFQUFBTyxLQUFBUCxHQUNBLFFBSUEsVUFJQSxJQUFBaVEsSUFBQW1rQixHQXFEQTNpQixHQUFBdkUsRUFBQXVFLG9CQWlEQUcsSUFBQSxFQThGQStCLEtBWUF6RyxHQUFBaUcsNkJBQUEsRUFDQWpHLEVBQUFxRyxtQkFBQSxJQXNEQSxJQUFBM00sR0FHQUEsSUFEQXZJLE9BQUF1SSxLQUNBdkksT0FBQXVJLEtBRUEsU0FBQTFJLEdBQ0EsR0FBQXFDLEdBQUEwTixJQUNBLEtBQUExTixJQUFBckMsR0FDQWdRLEVBQUFoUSxFQUFBcUMsSUFDQTBOLEVBQUExSixLQUFBaEUsRUFHQSxPQUFBME4sR0FJQSxJQThXQTVOLElBOVdBc2pCLEdBQUEvYyxHQUVBMHRCLElBQ0FDLFFBQUEsZ0JBQ0FDLFFBQUEsbUJBQ0FDLFNBQUEsZUFDQUMsUUFBQSxvQkFDQUMsU0FBQSxzQkFDQUMsU0FBQSxLQVFBQyxJQUNBQyxJQUFBLFlBQ0FDLEdBQUEsU0FDQUMsRUFBQSxhQUNBQyxHQUFBLGVBQ0FDLElBQUEsc0JBQ0FDLEtBQUEsNkJBa0JBQyxHQUFBLGVBTUFDLEdBQUEsS0FDQUMsR0FBQSxVQU1BQyxJQUNBQyxPQUFBLFFBQ0FDLEtBQUEsU0FDQTMxQixFQUFBLGdCQUNBNlAsRUFBQSxXQUNBK2xCLEdBQUEsYUFDQTNZLEVBQUEsVUFDQTRZLEdBQUEsV0FDQTdZLEVBQUEsUUFDQThZLEdBQUEsVUFDQTVZLEVBQUEsVUFDQTZZLEdBQUEsWUFDQWhaLEVBQUEsU0FDQWlaLEdBQUEsWUFlQS9mLE1BNEJBUyxNQTJFQTZCLEdBQUEsdUxBRUFLLEdBQUEsNkNBRUFGLE1BRUFQLE1Bb0ZBOGQsR0FBQSxLQUNBQyxHQUFBLE9BQ0FDLEdBQUEsUUFDQUMsR0FBQSxRQUNBQyxHQUFBLGFBQ0FDLEdBQUEsUUFDQUMsR0FBQSxZQUNBQyxHQUFBLGdCQUNBQyxHQUFBLFVBQ0FDLEdBQUEsVUFDQUMsR0FBQSxlQUVBQyxHQUFBLE1BQ0FDLEdBQUEsV0FFQWhMLEdBQUEscUJBQ0FWLEdBQUEsMEJBRUEyTCxHQUFBLHVCQUlBQyxHQUFBLG1IQUdBOWQsTUEyQkFXLE1BOEJBcUssR0FBQSxFQUNBRixHQUFBLEVBQ0FDLEdBQUEsRUFDQUUsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBRyxHQUFBLEVBQ0FFLEdBQUEsQ0FLQW5rQixJQURBWSxNQUFBZixVQUFBRyxRQUNBWSxNQUFBZixVQUFBRyxRQUVBLFNBQUF5MkIsR0FFQSxHQUFBdjJCLEVBQ0EsS0FBQUEsRUFBQSxFQUFtQkEsRUFBQUksS0FBQUgsU0FBaUJELEVBQ3BDLEdBQUFJLEtBQUFKLEtBQUF1MkIsRUFDQSxNQUFBdjJCLEVBR0EsVUFJQSxJQUFBNGEsSUFBQTlhLEVBUUF3WCxHQUFBLDZCQUNBLE1BQUFsWCxNQUFBcVosUUFBQSxJQUdBbkMsRUFBQSxtQkFBQXJKLEdBQ0EsTUFBQTdOLE1BQUF1WCxhQUFBK0MsWUFBQXRhLEtBQUE2TixLQUdBcUosRUFBQSxvQkFBQXJKLEdBQ0EsTUFBQTdOLE1BQUF1WCxhQUFBZ0QsT0FBQXZhLEtBQUE2TixLQUtBbUgsRUFBQSxhQUlBVyxFQUFBLFdBSUFzQyxFQUFBLElBQUF3ZCxJQUNBeGQsRUFBQSxLQUFBd2QsR0FBQUosSUFDQXBkLEVBQUEsZUFBQUksRUFBQXZLLEdBQ0EsTUFBQUEsR0FBQW1OLGlCQUFBNUMsS0FFQUosRUFBQSxnQkFBQUksRUFBQXZLLEdBQ0EsTUFBQUEsR0FBQXdOLFlBQUFqRCxLQUdBUyxJQUFBLG1CQUFBbk0sRUFBQXBJLEdBQ0FBLEVBQUEyZSxJQUFBelIsRUFBQTlFLEdBQUEsSUFHQW1NLElBQUEsdUJBQUFuTSxFQUFBcEksRUFBQXlNLEVBQUFtRyxHQUNBLEdBQUFrQyxHQUFBckksRUFBQUgsUUFBQWdLLFlBQUFsTyxFQUFBd0ssRUFBQW5HLEVBQUFwQixRQUVBLE9BQUF5SixFQUNBOVUsRUFBQTJlLElBQUE3SixFQUVBdEssRUFBQWlDLEdBQUF2QyxhQUFBOUIsR0FNQSxJQUFBZ04sSUFBQSxnQ0FDQXljLEdBQUEsd0ZBQUE1eEIsTUFBQSxLQVNBNnhCLEdBQUEsa0RBQUE3eEIsTUFBQSxLQWlJQTZXLEdBQUE2YSxHQW9CQXphLEdBQUF5YSxFQXdEQWhmLEdBQUEsbUJBQ0EsR0FBQWdGLEdBQUFsYyxLQUFBb1osTUFDQSxPQUFBOEMsSUFBQSxRQUFBQSxFQUFBLElBQUFBLElBR0FoRixFQUFBLHdCQUNBLE1BQUFsWCxNQUFBb1osT0FBQSxNQUdBbEMsRUFBQSx1QkFDQUEsRUFBQSx3QkFDQUEsRUFBQSw0QkFJQWxDLEVBQUEsWUFJQVcsRUFBQSxVQUlBc0MsRUFBQSxJQUFBK2QsSUFDQS9kLEVBQUEsS0FBQXdkLEdBQUFKLElBQ0FwZCxFQUFBLE9BQUE0ZCxHQUFBTixJQUNBdGQsRUFBQSxRQUFBNmQsR0FBQU4sSUFDQXZkLEVBQUEsU0FBQTZkLEdBQUFOLElBRUExYyxJQUFBLGtCQUFBc0ssSUFDQXRLLEdBQUEsZ0JBQUFuTSxFQUFBcEksR0FDQUEsRUFBQTZlLElBQUEsSUFBQXpXLEVBQUE5TSxPQUFBME0sRUFBQStwQixrQkFBQTNwQixHQUFBOEUsRUFBQTlFLEtBRUFtTSxHQUFBLGNBQUFuTSxFQUFBcEksR0FDQUEsRUFBQTZlLElBQUE3VyxFQUFBK3BCLGtCQUFBM3BCLEtBRUFtTSxHQUFBLGFBQUFuTSxFQUFBcEksR0FDQUEsRUFBQTZlLElBQUE3RSxTQUFBNVIsRUFBQSxNQWVBSixFQUFBK3BCLGtCQUFBLFNBQUEzcEIsR0FDQSxNQUFBOEUsR0FBQTlFLElBQUE4RSxFQUFBOUUsR0FBQSxhQUtBLElBQUE0cEIsSUFBQXJnQixFQUFBLGNBNEZBZ0IsR0FBQSwwQkFDQUEsRUFBQSw2QkFJQWxDLEVBQUEsWUFDQUEsRUFBQSxlQUlBVyxFQUFBLFVBQ0FBLEVBQUEsYUFJQXNDLEVBQUEsSUFBQXdkLElBQ0F4ZCxFQUFBLEtBQUF3ZCxHQUFBSixJQUNBcGQsRUFBQSxJQUFBd2QsSUFDQXhkLEVBQUEsS0FBQXdkLEdBQUFKLElBRUFyYyxJQUFBLDRCQUFBck0sRUFBQXdRLEVBQUFuTSxFQUFBbUcsR0FDQWdHLEVBQUFoRyxFQUFBRixPQUFBLE1BQUF4RixFQUFBOUUsSUFXQSxJQUFBNnBCLEtBQ0EzWixJQUFBLEVBQ0FDLElBQUEsRUF5QkE1RixHQUFBLGtCQUVBQSxFQUFBLGtCQUFBckosR0FDQSxNQUFBN04sTUFBQXVYLGFBQUE4SCxZQUFBcmYsS0FBQTZOLEtBR0FxSixFQUFBLG1CQUFBckosR0FDQSxNQUFBN04sTUFBQXVYLGFBQUErSCxjQUFBdGYsS0FBQTZOLEtBR0FxSixFQUFBLG9CQUFBckosR0FDQSxNQUFBN04sTUFBQXVYLGFBQUFnSSxTQUFBdmYsS0FBQTZOLEtBR0FxSixFQUFBLG1CQUNBQSxFQUFBLHNCQUlBbEMsRUFBQSxXQUNBQSxFQUFBLGVBQ0FBLEVBQUEsa0JBR0FXLEVBQUEsVUFDQUEsRUFBQSxjQUNBQSxFQUFBLGlCQUlBc0MsRUFBQSxJQUFBd2QsSUFDQXhkLEVBQUEsSUFBQXdkLElBQ0F4ZCxFQUFBLElBQUF3ZCxJQUNBeGQsRUFBQSxjQUFBSSxFQUFBdkssR0FDQSxNQUFBQSxHQUFBMFMsaUJBQUFuSSxLQUVBSixFQUFBLGVBQUFJLEVBQUF2SyxHQUNBLE1BQUFBLEdBQUFzUyxtQkFBQS9ILEtBRUFKLEVBQUEsZ0JBQUFJLEVBQUF2SyxHQUNBLE1BQUFBLEdBQUFpUyxjQUFBMUgsS0FHQVcsSUFBQSw0QkFBQXJNLEVBQUF3USxFQUFBbk0sRUFBQW1HLEdBQ0EsR0FBQWlHLEdBQUFwTSxFQUFBSCxRQUFBeU4sY0FBQTNSLEVBQUF3SyxFQUFBbkcsRUFBQXBCLFFBRUEsT0FBQXdOLEVBQ0FELEVBQUFoQixFQUFBaUIsRUFFQXJPLEVBQUFpQyxHQUFBckIsZUFBQWhELElBSUFxTSxJQUFBLHNCQUFBck0sRUFBQXdRLEVBQUFuTSxFQUFBbUcsR0FDQWdHLEVBQUFoRyxHQUFBMUYsRUFBQTlFLElBK0JBLElBQUE4cEIsSUFBQSwyREFBQWp5QixNQUFBLEtBU0FreUIsR0FBQSw4QkFBQWx5QixNQUFBLEtBS0FteUIsR0FBQSx1QkFBQW55QixNQUFBLEtBcUpBMmIsR0FBQStWLEdBb0JBM1YsR0FBQTJWLEdBb0JBdlYsR0FBQXVWLEVBd0VBaGYsR0FBQSx1QkFDQUEsRUFBQSxlQUFBOEosSUFDQTlKLEVBQUEsZUFBQWdLLElBRUFoSyxFQUFBLHFCQUNBLFNBQUE4SixHQUFBL2dCLE1BQUFELE1BQUF5VyxFQUFBelcsS0FBQW9oQixVQUFBLEtBR0FsSyxFQUFBLHVCQUNBLFNBQUE4SixHQUFBL2dCLE1BQUFELE1BQUF5VyxFQUFBelcsS0FBQW9oQixVQUFBLEdBQ0EzSyxFQUFBelcsS0FBQTBvQixVQUFBLEtBR0F4UixFQUFBLHFCQUNBLFNBQUFsWCxLQUFBaWhCLFFBQUF4SyxFQUFBelcsS0FBQW9oQixVQUFBLEtBR0FsSyxFQUFBLHVCQUNBLFNBQUFsWCxLQUFBaWhCLFFBQUF4SyxFQUFBelcsS0FBQW9oQixVQUFBLEdBQ0EzSyxFQUFBelcsS0FBQTBvQixVQUFBLEtBU0E1WixHQUFBLFFBQ0FBLEdBQUEsUUFJQWtHLEVBQUEsWUFHQVcsRUFBQSxXQVFBc0MsRUFBQSxJQUFBb0osSUFDQXBKLEVBQUEsSUFBQW9KLElBQ0FwSixFQUFBLElBQUF3ZCxJQUNBeGQsRUFBQSxJQUFBd2QsSUFDQXhkLEVBQUEsS0FBQXdkLEdBQUFKLElBQ0FwZCxFQUFBLEtBQUF3ZCxHQUFBSixJQUVBcGQsRUFBQSxNQUFBeWQsSUFDQXpkLEVBQUEsUUFBQTBkLElBQ0ExZCxFQUFBLE1BQUF5ZCxJQUNBemQsRUFBQSxRQUFBMGQsSUFFQTdjLElBQUEsVUFBQXVLLElBQ0F2SyxJQUFBLGtCQUFBbk0sRUFBQXBJLEVBQUF5TSxHQUNBQSxFQUFBNGxCLE1BQUE1bEIsRUFBQUgsUUFBQW9XLEtBQUF0YSxHQUNBcUUsRUFBQTRWLFVBQUFqYSxJQUVBbU0sSUFBQSxtQkFBQW5NLEVBQUFwSSxFQUFBeU0sR0FDQXpNLEVBQUE4ZSxJQUFBNVIsRUFBQTlFLEdBQ0FvQyxFQUFBaUMsR0FBQW5CLFNBQUEsSUFFQWlKLEdBQUEsZUFBQW5NLEVBQUFwSSxFQUFBeU0sR0FDQSxHQUFBNmxCLEdBQUFscUIsRUFBQTlNLE9BQUEsQ0FDQTBFLEdBQUE4ZSxJQUFBNVIsRUFBQTlFLEVBQUFzSyxPQUFBLEVBQUE0ZixJQUNBdHlCLEVBQUErZSxJQUFBN1IsRUFBQTlFLEVBQUFzSyxPQUFBNGYsSUFDQTluQixFQUFBaUMsR0FBQW5CLFNBQUEsSUFFQWlKLEdBQUEsaUJBQUFuTSxFQUFBcEksRUFBQXlNLEdBQ0EsR0FBQThsQixHQUFBbnFCLEVBQUE5TSxPQUFBLEVBQ0FrM0IsRUFBQXBxQixFQUFBOU0sT0FBQSxDQUNBMEUsR0FBQThlLElBQUE1UixFQUFBOUUsRUFBQXNLLE9BQUEsRUFBQTZmLElBQ0F2eUIsRUFBQStlLElBQUE3UixFQUFBOUUsRUFBQXNLLE9BQUE2ZixFQUFBLElBQ0F2eUIsRUFBQWdmLElBQUE5UixFQUFBOUUsRUFBQXNLLE9BQUE4ZixJQUNBaG9CLEVBQUFpQyxHQUFBbkIsU0FBQSxJQUVBaUosR0FBQSxlQUFBbk0sRUFBQXBJLEVBQUF5TSxHQUNBLEdBQUE2bEIsR0FBQWxxQixFQUFBOU0sT0FBQSxDQUNBMEUsR0FBQThlLElBQUE1UixFQUFBOUUsRUFBQXNLLE9BQUEsRUFBQTRmLElBQ0F0eUIsRUFBQStlLElBQUE3UixFQUFBOUUsRUFBQXNLLE9BQUE0ZixNQUVBL2QsR0FBQSxpQkFBQW5NLEVBQUFwSSxFQUFBeU0sR0FDQSxHQUFBOGxCLEdBQUFucUIsRUFBQTlNLE9BQUEsRUFDQWszQixFQUFBcHFCLEVBQUE5TSxPQUFBLENBQ0EwRSxHQUFBOGUsSUFBQTVSLEVBQUE5RSxFQUFBc0ssT0FBQSxFQUFBNmYsSUFDQXZ5QixFQUFBK2UsSUFBQTdSLEVBQUE5RSxFQUFBc0ssT0FBQTZmLEVBQUEsSUFDQXZ5QixFQUFBZ2YsSUFBQTlSLEVBQUE5RSxFQUFBc0ssT0FBQThmLEtBV0EsSUE2Q0E5VSxJQTdDQStVLEdBQUEsZ0JBZ0JBQyxHQUFBL2dCLEVBQUEsWUFNQXVNLElBQ0E3TyxTQUFBK2YsR0FDQTFmLGVBQUFpZ0IsR0FDQTVmLFlBQUFtZ0IsR0FDQWpnQixRQUFBa2dCLEdBQ0F3QyxhQUFBdkMsR0FDQWpnQixhQUFBa2dCLEdBRUFyYSxPQUFBNmIsR0FDQTliLFlBQUErYixHQUVBbFosS0FBQXFaLEdBRUFqWCxTQUFBa1gsR0FDQXBYLFlBQUFzWCxHQUNBclgsY0FBQW9YLEdBRUFTLGNBQUFILElBSUFoVixNQUNBWSxNQThNQXdCLEdBQUEsbUpBQ0FFLEdBQUEsOElBRUFHLEdBQUEsd0JBRUFGLEtBQ0EsdUNBQ0EsaUNBQ0Esa0NBQ0EsNEJBQXlCLElBQ3pCLDJCQUNBLHdCQUFzQixJQUN0Qiw0QkFDQSxxQkFFQSw2QkFDQSwyQkFBOEIsSUFDOUIsb0JBSUFDLEtBQ0Esd0NBQ0EsdUNBQ0EsOEJBQ0Esc0JBQ0Esb0NBQ0EsbUNBQ0EsMEJBQ0Esb0JBQ0EsY0FHQUksR0FBQSxxQkF1RUFyWSxHQUFBc1ksd0JBQUFuUyxFQUNBLDhUQUlBLFNBQUExQixHQUNBQSxFQUFBdkIsR0FBQSxHQUFBdkMsTUFBQThELEVBQUFULElBQUFTLEVBQUFpVSxRQUFBLGNBb0pBMVksRUFBQWdhLFNBQUEsWUEwUEEsSUFBQTZRLElBQUExa0IsRUFDQSxxR0FDQSxXQUNBLEdBQUEyWSxHQUFBakYsR0FBQW5tQixNQUFBLEtBQUFDLFVBQ0EsT0FBQUYsTUFBQWtQLFdBQUFtYyxFQUFBbmMsVUFDQW1jLEVBQUFyckIsVUFBQXFyQixFQUVBdGIsTUFLQXNuQixHQUFBM2tCLEVBQ0EscUdBQ0EsV0FDQSxHQUFBMlksR0FBQWpGLEdBQUFubUIsTUFBQSxLQUFBQyxVQUNBLE9BQUFGLE1BQUFrUCxXQUFBbWMsRUFBQW5jLFVBQ0FtYyxFQUFBcnJCLFVBQUFxckIsRUFFQXRiLE1Bd0NBK0QsR0FBQSxXQUNBLE1BQUE1RyxNQUFBNEcsSUFBQTVHLEtBQUE0RyxPQUFBLEdBQUE1RyxNQWdFQWljLElBQUEsU0FDQUEsR0FBQSxTQUlBbFIsRUFBQSxJQUFBcVMsSUFDQXJTLEVBQUEsS0FBQXFTLElBQ0F4UixJQUFBLG1CQUFBbk0sRUFBQXBJLEVBQUF5TSxHQUNBQSxFQUFBaVUsU0FBQSxFQUNBalUsRUFBQU4sS0FBQTRZLEdBQUFnQixHQUFBM2QsSUFRQSxJQUFBZ2QsSUFBQSxpQkEyQ0FwZCxHQUFBMkUsYUFBQSxZQW1KQSxJQUFBd2EsSUFBQSx3REFLQUMsR0FBQSw2SUErREFsQixJQUFBcGQsR0FBQThhLEdBQUE1b0IsU0F1RkEsSUFBQTRlLElBQUFnTyxHQUFBLFNBQ0F0QixHQUFBc0IsTUFBQSxXQThJQTVmLEdBQUFvaUIsY0FBQSx1QkFDQXBpQixFQUFBbWlCLGlCQUFBLHdCQWlHQSxJQUFBNEksSUFBQTVrQixFQUNBLGtKQUNBLFNBQUE5USxHQUNBLE1BQUEvRCxVQUFBK0QsRUFDQTVCLEtBQUF1WCxhQUVBdlgsS0FBQThOLE9BQUFsTSxJQThIQXNWLEdBQUEsd0JBQ0EsTUFBQWxYLE1BQUE4bEIsV0FBQSxNQUdBNU8sRUFBQSx3QkFDQSxNQUFBbFgsTUFBQXUzQixjQUFBLE1BT0E5SCxHQUFBLG1CQUNBQSxHQUFBLG9CQUNBQSxHQUFBLHNCQUNBQSxHQUFBLHVCQUlBemEsRUFBQSxpQkFDQUEsRUFBQSxvQkFJQVcsRUFBQSxjQUNBQSxFQUFBLGlCQUtBc0MsRUFBQSxJQUFBK2QsSUFDQS9kLEVBQUEsSUFBQStkLElBQ0EvZCxFQUFBLEtBQUF3ZCxHQUFBSixJQUNBcGQsRUFBQSxLQUFBd2QsR0FBQUosSUFDQXBkLEVBQUEsT0FBQTRkLEdBQUFOLElBQ0F0ZCxFQUFBLE9BQUE0ZCxHQUFBTixJQUNBdGQsRUFBQSxRQUFBNmQsR0FBQU4sSUFDQXZkLEVBQUEsUUFBQTZkLEdBQUFOLElBRUF4YyxJQUFBLHdDQUFBck0sRUFBQXdRLEVBQUFuTSxFQUFBbUcsR0FDQWdHLEVBQUFoRyxFQUFBRixPQUFBLE1BQUF4RixFQUFBOUUsS0FHQXFNLElBQUEsb0JBQUFyTSxFQUFBd1EsRUFBQW5NLEVBQUFtRyxHQUNBZ0csRUFBQWhHLEdBQUE1SyxFQUFBK3BCLGtCQUFBM3BCLEtBcURBdUssRUFBQSxzQkFJQWxDLEVBQUEsZUFJQVcsRUFBQSxhQUlBc0MsRUFBQSxJQUFBbWQsSUFDQXRjLEdBQUEsYUFBQW5NLEVBQUFwSSxHQUNBQSxFQUFBMmUsSUFBQSxHQUFBelIsRUFBQTlFLEdBQUEsS0FXQXVLLEVBQUEsMEJBSUFsQyxFQUFBLFlBR0FXLEVBQUEsVUFJQXNDLEVBQUEsSUFBQXdkLElBQ0F4ZCxFQUFBLEtBQUF3ZCxHQUFBSixJQUNBcGQsRUFBQSxjQUFBSSxFQUFBdkssR0FDQSxNQUFBdUssR0FBQXZLLEVBQUF3RixjQUFBeEYsRUFBQXVGLHVCQUdBeUYsSUFBQSxVQUFBcUssSUFDQXJLLEdBQUEsY0FBQW5NLEVBQUFwSSxHQUNBQSxFQUFBNGUsSUFBQTFSLEVBQUE5RSxFQUFBOUUsTUFBQTR0QixJQUFBLFFBS0EsSUFBQStCLElBQUF0aEIsRUFBQSxVQUlBZ0IsR0FBQSxxQ0FJQWxDLEVBQUEsbUJBR0FXLEVBQUEsZUFJQXNDLEVBQUEsTUFBQTJkLElBQ0EzZCxFQUFBLE9BQUFxZCxJQUNBeGMsSUFBQSx1QkFBQW5NLEVBQUFwSSxFQUFBeU0sR0FDQUEsRUFBQXlVLFdBQUFoVSxFQUFBOUUsS0FjQXVLLEVBQUEseUJBSUFsQyxFQUFBLGNBSUFXLEVBQUEsYUFJQXNDLEVBQUEsSUFBQXdkLElBQ0F4ZCxFQUFBLEtBQUF3ZCxHQUFBSixJQUNBdmMsSUFBQSxVQUFBd0ssR0FJQSxJQUFBbVUsSUFBQXZoQixFQUFBLGFBSUFnQixHQUFBLHlCQUlBbEMsRUFBQSxjQUlBVyxFQUFBLGFBSUFzQyxFQUFBLElBQUF3ZCxJQUNBeGQsRUFBQSxLQUFBd2QsR0FBQUosSUFDQXZjLElBQUEsVUFBQXlLLEdBSUEsSUFBQW1VLElBQUF4aEIsRUFBQSxhQUlBZ0IsR0FBQSxtQkFDQSxTQUFBbFgsS0FBQTJuQixjQUFBLE9BR0F6USxFQUFBLHdCQUNBLFNBQUFsWCxLQUFBMm5CLGNBQUEsTUFHQXpRLEVBQUEsNkJBQ0FBLEVBQUEsMEJBQ0EsVUFBQWxYLEtBQUEybkIsZ0JBRUF6USxFQUFBLDJCQUNBLFdBQUFsWCxLQUFBMm5CLGdCQUVBelEsRUFBQSw0QkFDQSxXQUFBbFgsS0FBQTJuQixnQkFFQXpRLEVBQUEsNkJBQ0EsV0FBQWxYLEtBQUEybkIsZ0JBRUF6USxFQUFBLDhCQUNBLFdBQUFsWCxLQUFBMm5CLGdCQUVBelEsRUFBQSwrQkFDQSxXQUFBbFgsS0FBQTJuQixnQkFNQTNTLEVBQUEsb0JBSUFXLEVBQUEsa0JBSUFzQyxFQUFBLElBQUEyZCxHQUFBUixJQUNBbmQsRUFBQSxLQUFBMmQsR0FBQVAsSUFDQXBkLEVBQUEsTUFBQTJkLEdBQUFOLEdBRUEsSUFBQW5lLEdBQ0EsS0FBQUEsR0FBQSxPQUFvQkEsR0FBQXRYLFFBQUEsRUFBbUJzWCxJQUFBLElBQ3ZDYyxFQUFBZCxHQUFBNGUsR0FPQSxLQUFBNWUsR0FBQSxJQUFpQkEsR0FBQXRYLFFBQUEsRUFBbUJzWCxJQUFBLElBQ3BDMkIsR0FBQTNCLEdBQUFvWixHQUlBLElBQUFvSCxJQUFBemhCLEVBQUEsa0JBSUFnQixHQUFBLG9CQUNBQSxFQUFBLG9CQVlBLElBQUEwZ0IsSUFBQTdtQixFQUFBeFIsU0FFQXE0QixJQUFBelosT0FDQXlaLEdBQUFoa0IsU0FBQStZLEdBQ0FpTCxHQUFBOU4sU0FDQThOLEdBQUE3aUIsUUFDQTZpQixHQUFBMUssU0FDQTBLLEdBQUEvcEIsVUFDQStwQixHQUFBeG5CLFFBQ0F3bkIsR0FBQTlJLFdBQ0E4SSxHQUFBem5CLE1BQ0F5bkIsR0FBQTdJLFNBQ0E2SSxHQUFBdmhCLElBQUFDLEVBQ0FzaEIsR0FBQXJJLGFBQ0FxSSxHQUFBM0wsV0FDQTJMLEdBQUExTCxZQUNBMEwsR0FBQXpLLGFBQ0F5SyxHQUFBdkssVUFDQXVLLEdBQUFySyxpQkFDQXFLLEdBQUFwSyxrQkFDQW9LLEdBQUExb0IsUUFBQW1nQixHQUNBdUksR0FBQU4sUUFDQU0sR0FBQTlwQixVQUNBOHBCLEdBQUFyZ0IsY0FDQXFnQixHQUFBNWdCLElBQUFxZ0IsR0FDQU8sR0FBQTFsQixJQUFBa2xCLEdBQ0FRLEdBQUF0SSxnQkFDQXNJLEdBQUF6a0IsSUFBQW9ELEVBQ0FxaEIsR0FBQTdLLFdBQ0E2SyxHQUFBL00sWUFDQStNLEdBQUFyMUIsV0FDQXExQixHQUFBekksWUFDQXlJLEdBQUF6SixVQUNBeUosR0FBQTFKLGVBQ0EwSixHQUFBeEosV0FDQXdKLEdBQUF4SSxVQUNBd0ksR0FBQWhyQixZQUNBZ3JCLEdBQUExSSxRQUNBMEksR0FBQWpxQixXQUNBaXFCLEdBQUFwSSxnQkFHQW9JLEdBQUF4ZSxLQUFBbWQsR0FDQXFCLEdBQUE3YixXQUFBQyxHQUdBNGIsR0FBQTlSLFNBQUE2SixHQUNBaUksR0FBQUwsWUFBQTFILEdBR0ErSCxHQUFBclAsUUFBQXFQLEdBQUF0UCxTQUFBK0gsR0FHQXVILEdBQUF2ZSxNQUFBMEIsR0FDQTZjLEdBQUF6ZSxZQUFBNkIsR0FHQTRjLEdBQUF6YSxLQUFBeWEsR0FBQXBQLE1BQUF0SyxHQUNBMFosR0FBQTlILFFBQUE4SCxHQUFBQyxTQUFBelosR0FDQXdaLEdBQUFoYSxZQUFBb1MsR0FDQTRILEdBQUFFLGVBQUEvSCxHQUdBNkgsR0FBQTljLEtBQUEwYyxHQUNBSSxHQUFBalosSUFBQWlaLEdBQUFuUCxLQUFBOUksR0FDQWlZLEdBQUF4YSxRQUFBeUMsR0FDQStYLEdBQUEzSSxXQUFBblAsR0FDQThYLEdBQUFuYSxVQUFBNlMsR0FHQXNILEdBQUE5USxLQUFBOFEsR0FBQTNXLE1BQUFnVyxHQUdBVyxHQUFBblEsT0FBQW1RLEdBQUF4VyxRQUFBcVcsR0FHQUcsR0FBQWxRLE9BQUFrUSxHQUFBbFAsUUFBQWdQLEdBR0FFLEdBQUFqUSxZQUFBaVEsR0FBQWpQLGFBQUFnUCxHQUdBQyxHQUFBdk8sVUFBQWMsR0FDQXlOLEdBQUEzcEIsSUFBQTBjLEdBQ0FpTixHQUFBNU4sTUFBQVksR0FDQWdOLEdBQUFoSCxVQUFBOUYsR0FDQThNLEdBQUEzTSx3QkFDQTJNLEdBQUFHLE1BQUE3TSxHQUNBME0sR0FBQXRNLFdBQ0FzTSxHQUFBck0sZUFDQXFNLEdBQUFwTSxTQUNBb00sR0FBQTVQLE1BQUF3RCxHQUdBb00sR0FBQUksU0FBQXhILEdBQ0FvSCxHQUFBSyxTQUFBeEgsR0FHQW1ILEdBQUFNLE1BQUF4bEIsRUFBQSxrREFBQThrQixJQUNBSSxHQUFBcmQsT0FBQTdILEVBQUEsbURBQUFxSSxJQUNBNmMsR0FBQXZQLE1BQUEzVixFQUFBLGlEQUFBNmpCLElBQ0FxQixHQUFBdkosS0FBQTNiLEVBQUEsMkdBQUFnWSxJQUNBa04sR0FBQU8sYUFBQXpsQixFQUFBLDBHQUFBeVksR0FjQSxJQUFBaU4sSUFBQXprQixFQUFBcFUsU0FFQTY0QixJQUFBeGtCLFdBQ0F3a0IsR0FBQW5rQixpQkFDQW1rQixHQUFBOWpCLGNBQ0E4akIsR0FBQTVqQixVQUNBNGpCLEdBQUF0USxTQUFBK0ksR0FDQXVILEdBQUF4SixXQUFBaUMsR0FDQXVILEdBQUExakIsZUFDQTBqQixHQUFBdGpCLGFBQ0FzakIsR0FBQWpsQixNQUdBaWxCLEdBQUE3ZCxPQUFBZixHQUNBNGUsR0FBQTlkLFlBQUFWLEdBQ0F3ZSxHQUFBdmQsWUFBQUosR0FDQTJkLEdBQUE5YyxlQUNBOGMsR0FBQW5kLG9CQUdBbWQsR0FBQWpiLEtBQUFXLEdBQ0FzYSxHQUFBQyxlQUFBcGEsR0FDQW1hLEdBQUFFLGVBQUF0YSxHQUdBb2EsR0FBQTdZLFNBQUFkLEdBQ0EyWixHQUFBL1ksWUFBQVAsR0FDQXNaLEdBQUE5WSxjQUFBVixHQUNBd1osR0FBQTlaLGNBQUFrQixHQUVBNFksR0FBQXJZLGlCQUNBcVksR0FBQWhZLHNCQUNBZ1ksR0FBQTVYLG9CQUdBNFgsR0FBQW5SLEtBQUExRixHQUNBNlcsR0FBQXRwQixTQUFBMFMsR0E0RkFZLEdBQUEsTUFDQThVLGFBQUEsdUJBQ0ExaUIsUUFBQSxTQUFBbkQsR0FDQSxHQUFBNUQsR0FBQTRELEVBQUEsR0FDQTBDLEVBQUEsSUFBQXRDLEVBQUFKLEVBQUEsYUFDQSxJQUFBNUQsRUFBQSxLQUNBLElBQUFBLEVBQUEsS0FDQSxJQUFBQSxFQUFBLFNBQ0EsT0FBQTRELEdBQUEwQyxLQUtBeEgsRUFBQStxQixLQUFBNWtCLEVBQUEsd0RBQUEwUCxJQUNBN1YsRUFBQWdzQixTQUFBN2xCLEVBQUEsZ0VBQUE2UCxHQUVBLElBQUFtUCxJQUFBcGdCLEtBQUFjLElBb0pBb21CLEdBQUFuRyxHQUFBLE1BQ0FtQixHQUFBbkIsR0FBQSxLQUNBb0csR0FBQXBHLEdBQUEsS0FDQXFHLEdBQUFyRyxHQUFBLEtBQ0FzRyxHQUFBdEcsR0FBQSxLQUNBdUcsR0FBQXZHLEdBQUEsS0FDQXdHLEdBQUF4RyxHQUFBLEtBQ0F5RyxHQUFBekcsR0FBQSxLQWFBMUosR0FBQTZKLEdBQUEsZ0JBQ0E5SixHQUFBOEosR0FBQSxXQUNBcFIsR0FBQW9SLEdBQUEsV0FDQXZSLEdBQUF1UixHQUFBLFNBQ0EvSixHQUFBK0osR0FBQSxRQUNBalksR0FBQWlZLEdBQUEsVUFDQW5LLEdBQUFtSyxHQUFBLFNBTUF0SixHQUFBNVgsS0FBQTRYLE1BQ0EwSixJQUNBenpCLEVBQUEsR0FDQTZQLEVBQUEsR0FDQW9OLEVBQUEsR0FDQUQsRUFBQSxHQUNBRSxFQUFBLElBcUVBK1csR0FBQTloQixLQUFBYyxJQW9EQTJtQixHQUFBNVEsR0FBQTVvQixTQXlGQSxPQXZGQXc1QixJQUFBM21CLE9BQ0EybUIsR0FBQTVhLElBQUF5VCxHQUNBbUgsR0FBQWxPLFNBQUFnSCxHQUNBa0gsR0FBQTVHLE1BQ0E0RyxHQUFBUCxrQkFDQU8sR0FBQXZGLGFBQ0F1RixHQUFBTixhQUNBTSxHQUFBTCxXQUNBSyxHQUFBSixVQUNBSSxHQUFBSCxXQUNBRyxHQUFBRixZQUNBRSxHQUFBRCxXQUNBQyxHQUFBcHJCLFFBQUF5a0IsR0FDQTJHLEdBQUFoUSxRQUFBZ0osR0FDQWdILEdBQUExaUIsSUFBQWtjLEdBQ0F3RyxHQUFBcFEsZ0JBQ0FvUSxHQUFBclEsV0FDQXFRLEdBQUEzWCxXQUNBMlgsR0FBQTlYLFNBQ0E4WCxHQUFBdFEsUUFDQXNRLEdBQUF2USxTQUNBdVEsR0FBQXhlLFVBQ0F3ZSxHQUFBMVEsU0FDQTBRLEdBQUFsSyxZQUNBa0ssR0FBQTdLLFlBQUFpRixHQUNBNEYsR0FBQW5zQixTQUFBdW1CLEdBQ0E0RixHQUFBM0osT0FBQStELEdBQ0E0RixHQUFBanJCLFVBQ0FpckIsR0FBQXhoQixjQUdBd2hCLEdBQUFDLFlBQUF0bUIsRUFBQSxzRkFBQXlnQixJQUNBNEYsR0FBQXpCLFFBTUFwZ0IsRUFBQSxnQkFDQUEsRUFBQSxtQkFJQWUsRUFBQSxJQUFBK2QsSUFDQS9kLEVBQUEsSUFBQWdlLElBQ0FuZCxHQUFBLGFBQUFuTSxFQUFBcEksRUFBQXlNLEdBQ0FBLEVBQUF2QixHQUFBLEdBQUF2QyxNQUFBLElBQUF4RixXQUFBaUYsRUFBQSxPQUVBbU0sR0FBQSxhQUFBbk0sRUFBQXBJLEVBQUF5TSxHQUNBQSxFQUFBdkIsR0FBQSxHQUFBdkMsTUFBQXVFLEVBQUE5RSxNQU1BSixFQUFBMHNCLFFBQUEsU0FFQXhzQixFQUFBMlosSUFFQTdaLEVBQUFjLEdBQUF1cUIsR0FDQXJyQixFQUFBMkYsT0FDQTNGLEVBQUF5SyxPQUNBekssRUFBQXVILE9BQ0F2SCxFQUFBMEIsSUFBQUwsRUFDQXJCLEVBQUEyaUIsS0FBQXdCLEdBQ0Fua0IsRUFBQWdPLE9BQUE4VyxHQUNBOWtCLEVBQUFVLFNBQ0FWLEVBQUF1QixPQUFBc1UsR0FDQTdWLEVBQUEyc0IsUUFBQW5wQixFQUNBeEQsRUFBQTZiLFNBQUFxQyxHQUNBbGUsRUFBQTRFLFdBQ0E1RSxFQUFBZ1QsU0FBQWdTLEdBQ0FobEIsRUFBQXFrQixVQUFBRCxHQUNBcGtCLEVBQUFnTCxXQUFBZ0wsR0FDQWhXLEVBQUF5YyxjQUNBemMsRUFBQStOLFlBQUFnWCxHQUNBL2tCLEVBQUE4UyxZQUFBb1MsR0FDQWxsQixFQUFBaVcsZ0JBQ0FqVyxFQUFBdVcsZ0JBQ0F2VyxFQUFBeVYsUUFBQWUsR0FDQXhXLEVBQUErUyxjQUFBa1MsR0FDQWpsQixFQUFBOEksaUJBQ0E5SSxFQUFBNHNCLHFCQUFBdEcsR0FDQXRtQixFQUFBNnNCLHNCQUFBckcsR0FDQXhtQixFQUFBeWdCLGVBQUFQLEdBQ0FsZ0IsRUFBQWhOLFVBQUFxNEIsR0FFQXJyQixLTHNwQk04c0IsR0FDQSxTQUFTbDhCLEVBQVFDLEVBQVNDLEdNajJKaEMsWUEyQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBekM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBQyxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFFLEVBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUsR0FFQUUsRUFBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBZzdCLEVBQUFqOEIsRUFBQSxLQUVBazhCLEVBQUFqOEIsRUFBQWc4QixHQUVBNTZCLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFJLEVBQUF6QixFQUFBLEdBRUEwQixFQUFBekIsRUFBQXdCLEdBRUFFLEVBQUEzQixFQUFBLElBRUE0QixFQUFBM0IsRUFBQTBCLEdBSUF3NkIsRUFBQSxTQUFBejVCLEdBR0EsUUFBQXk1QixLQUVBLE9BREEsRUFBQXI3QixFQUFBLFlBQUE2QixLQUFBdzVCLElBQ0EsRUFBQW43QixFQUFBLFlBQUEyQixLQUFBRCxFQUFBRSxNQUFBRCxLQUFBRSxZQXFDQSxPQXpDQSxFQUFBM0IsRUFBQSxZQUFBaTdCLEVBQUF6NUIsR0FPQXk1QixFQUFBajZCLFVBQUFZLHNCQUFBLFdBQ0EsT0FBQUMsR0FBQUYsVUFBQUwsT0FBQVEsRUFBQUMsTUFBQUYsR0FBQUcsRUFBQSxFQUF1RUEsRUFBQUgsRUFBYUcsSUFDcEZGLEVBQUFFLEdBQUFMLFVBQUFLLEVBR0EsT0FBQXRCLEdBQUEsV0FBQWtCLHNCQUFBRixNQUFBRCxLQUFBSyxJQUdBbTVCLEVBQUFqNkIsVUFBQWlCLE9BQUEsV0FDQSxHQUFBb0ssR0FBQTZ1QixFQUVBNXVCLEVBQUE3SyxLQUFBVSxNQUNBQyxFQUFBa0ssRUFBQWxLLFVBQ0FFLEVBQUFnSyxFQUFBaEssU0FDQTY0QixFQUFBN3VCLEVBQUE2dUIsUUFDQTMxQixFQUFBOEcsRUFBQTlHLFNBQ0ErRyxFQUFBRCxFQUFBL0osVUFDQUEsRUFBQWpELFNBQUFpTixFQUFBLEdBQUFBLEVBQ0FsSyxFQUFBaUssRUFBQWpLLE1BRUErNEIsR0FBQSxFQUFBNTZCLEVBQUEsYUFBQTZMLE1BQStFLEVBQUEzTSxFQUFBLFlBQUEyTSxFQUFBakssRUFBQSxrQkFBQTFDLEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLG1CQUFBKzRCLElBQUEsRUFBQXo3QixFQUFBLFlBQUEyTSxFQUFBakssRUFBQSxvQkFBQW9ELEdBQUE2RyxHQUFBOUosR0FDL0VLLEdBQUEsRUFBQXBDLEVBQUEsWUFBQTRCLEdBQUE4NEIsTUFBb0YsRUFBQXg3QixFQUFBLFlBQUF3N0IsRUFBQTk0QixFQUFBLFdBQUErNEIsSUFBQSxFQUFBejdCLEVBQUEsWUFBQXc3QixFQUFBOTRCLEVBQUEsWUFBQW9ELEdBQUEwMUIsR0FDcEYsT0FBQTk2QixHQUFBLFdBQUEwQyxjQUNBLFNBQ2FQLFVBQUE2NEIsRUFBQS80QixRQUFBSSxhQUFBaEIsS0FBQVUsTUFBQU0sYUFBQUMsYUFBQWpCLEtBQUFVLE1BQUFPLGNBQ2J0QyxFQUFBLFdBQUEwQyxjQUFBazRCLEVBQUEsY0FBQXg3QixFQUFBLGVBQStGaUMsS0FBQVUsT0FBZUksVUFBQUssRUFBQVAsTUFBQSxLQUFBQyxTQUFBLFFBQzlHaEQsU0FBQWdELEVBQUFsQyxFQUFBLFdBQUEwQyxjQUNBLE9BQ0EsS0FDQVIsR0FDQSxPQUlBMjRCLEdBQ0M3NkIsRUFBQSxXQUFBMkMsVUFFRGxFLEdBQUEsV0FBQW84QixFQUVBQSxFQUFBaDRCLGNBQ0FiLFVBQUEsYUFFQXhELEVBQUFDLFVBQUEsWU51MkpNdzhCLEdBQ0EsU0FBU3o4QixFQUFRQyxFQUFTQyxHT3Y4SmhDLFlBRUEsSUFBQXc4QixHQUFBeDhCLEVBQUEsS0FDQXk4QixFQUFBejhCLEVBQUEsS0FDQTA4QixFQUFBMThCLEVBQUEsSUFFQXc4QixHQUFBQyxTQUNBRCxFQUFBRSxjQUVBNThCLEVBQUFDLFFBQUF5OEIsR1A2OEpNRyxJQUNMLEtBQU0sS0FFREMsR0FDQSxTQUFTOThCLEVBQVFDLEdRMTlKdkIsWUFFQU0sUUFBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQXM4QixHQUFBLGFBQ0E1NkIsRUFBQTQ2QixFQUFBMzZCLFNBQ0FELEdBQUFzRSxLQUFBLFNBQUF1MkIsR0FDQW42QixLQUFBbTZCLEVBQUE1NkIsVUFBQXNHLE1BQUFzMEIsR0FFQS84QixFQUFBLGNBQUE4OEIsR0FDQS84QixFQUFBQyxVQUFBLFlSZytKTWc5QixHQUNBLFNBQVNqOUIsRUFBUUMsR1M3K0p2QixZQThEQSxTQUFBaTlCLEdBQUEvTCxFQUFBMXNCLEdBQ0EsTUFBQTBzQixHQUFBMXNCLEVBQUFvRyxPQUFBLEdBQUFvTSxjQUFBeFMsRUFBQTA0QixVQUFBLEdBbUVBLFFBQUFDLEdBQUF4ekIsRUFBQWxILEdBQ0EsR0FBQTI2QixHQUFBMzZCLEVBQUF5UixLQUFBeUYsSUFBQSxHQUFBbFgsR0FBQTQ2QixFQUNBQyxFQUFBLEVBQUEzekIsRUFDQTR6QixFQUFBNXpCLEVBQUEyekIsQ0FDQSxPQUFBQyxNQUFBSCxHQUFBenpCLEVBQUEsYUFBQXl6QixFQUFBRSxFQUFBM3pCLEVBR0EsUUFBQTZ6QixHQUFBaDZCLEdBQ0EsTUFBQWk2QixRQUFBQyxpQkFBQSxHQUFBRCxRQUFBQyxnQkFBQWw2QixJQUFBaTZCLE9BQUFFLGNBQUEsR0FBQUYsUUFBQUUsYUFBQW42QixJQUFBaTZCLE9BQUFHLFdBQUEsR0FBQUgsUUFBQUcsVUFBQXA2QixJQUFBaTZCLE9BQUFJLGFBQUEsR0FBQUosUUFBQUksWUFBQXI2QixJQUFBaTZCLE9BQUFLLFlBQUEsR0FBQUwsUUFBQUssV0FBQXQ2QixJQUFBaTZCLE9BQUFNLFdBQUEsR0FBQU4sUUFBQU0sVUFBQXY2QixJQUFBLEtBR0EsUUFBQXc2QixHQUFBOTdCLEdBQ0EsR0FBQWtPLElBQUEsNkJBQ0EsZUFBQWxPLE9BQUFpSSxVQUFBQyxLQUFBNUcsTUFDQSxNQUFBdEIsRUFFQSxJQUFBKzdCLEdBQUEvN0IsRUFBQTBJLE9BQUEsR0FBQW9NLGNBQUE5VSxFQUFBMlgsT0FBQSxHQUNBcWtCLEVBQUE5dEIsRUFBQSt0QixPQUFBLFNBQUEzNUIsR0FDQSxTQUFBQSxFQUFBeTVCLElBQUE5ekIsVUFBQUMsS0FBQTVHLE9BRUEsT0FBQTA2QixHQUFBLE1BQUFBLEVBQUEsR0FBQUQsRUFBQSxLQUdBLFFBQUFHLEdBQUFILEdBQ0EsR0FBQS83QixHQUFBKzdCLENBS0EsT0FKQS83QixHQUFBLE1BQUFBLEVBQUEsYUFBQUEsRUFDQUEsRUFBQSxNQUFBQSxFQUFBLGFBQUFBLEVBQ0FBLEVBQUEsTUFBQUEsRUFBQSxhQUFBQSxFQUtBLFFBQUFtOEIsR0FBQUMsR0FDQSxHQUFBbHVCLEdBQUEsT0FDQW11QixFQUFBLE9BQ0FDLEVBQUEsT0FDQW51QixFQUFBLE9BQ0EyTyxFQUFBLE9BQ0FqZCxFQUFBLE9BQ0E0a0IsRUFBQSxPQUNBOFgsRUFBQUgsRUFDQUksRUFBQSwyQkE2Q0EsT0E1Q0FELEdBRUcsZ0JBQUFBLEdBQ0hydUIsR0FBQXF1QixHQUFBLEdBQUFBLEdBQUEsVUFBQUEsSUFFQSxNQUFBQSxFQUFBN3pCLE9BQUE2ekIsRUFBQWg4QixPQUFBLEtBQ0FnOEIsSUFBQTVrQixPQUFBLEVBQUE0a0IsRUFBQWg4QixPQUFBLElBRUFrOEIsRUFBQUYsR0FDQXJ1QixFQUFBdXVCLEVBQUFGLEdBQ0ssTUFBQUEsRUFBQTd6QixPQUFBLElBRUwsSUFBQTZ6QixFQUFBaDhCLFNBQ0E4N0IsRUFBQUUsRUFBQTd6QixPQUFBLEdBQ0E0ekIsRUFBQUMsRUFBQTd6QixPQUFBLEdBQ0F5RixFQUFBb3VCLEVBQUE3ekIsT0FBQSxHQUNBNnpCLEVBQUEsSUFBQUYsSUFBQUMsSUFBQW51QixLQUVBb3VCLEVBQUF0ZCxTQUFBc2QsRUFBQTVrQixPQUFBLE9BQ0F6SixHQUFBcXVCLEdBQUEsR0FBQUEsR0FBQSxVQUFBQSxJQUNLLFFBQUFBLEVBQUE1a0IsT0FBQSxNQUNMekosRUFBQXF1QixFQUFBaDBCLE1BQUFpMEIsR0FDQTFmLEVBQUE0ZixPQUFBeHVCLEVBQUEsWUFDQXJPLEVBQUE2OEIsT0FBQXh1QixFQUFBLFFBQ0F1VyxFQUFBaVksT0FBQXh1QixFQUFBLFFBQ0FvdUIsRUFBQTdYLEdBQUEsR0FBQUEsR0FBQTVrQixFQUFBLEdBQUE0a0IsRUFBQTVrQixFQUFBNGtCLEVBQUE1a0IsRUFDQXc4QixFQUFBLEVBQUE1WCxFQUFBNlgsRUFDQXB1QixFQUFBM04sT0FBQSxJQUNBMk4sRUFBQSxHQUFBd3VCLE9BQUF4dUIsRUFBQSxLQUVBQSxFQUFBLEdBQUF5dUIsRUFBQTdmLEVBQUEsSUFBQXVmLEVBQUFDLEdBQ0FwdUIsRUFBQSxHQUFBeXVCLEVBQUE3ZixFQUFBdWYsRUFBQUMsR0FDQXB1QixFQUFBLEdBQUF5dUIsRUFBQTdmLEVBQUEsSUFBQXVmLEVBQUFDLElBRUFwdUIsRUFBQXF1QixFQUFBaDBCLE1BQUFpMEIsSUFBQUMsRUFBQUcsWUFFQTF1QixFQUFBLEdBQUF3dUIsT0FBQXh1QixFQUFBLElBQ0FBLEVBQUEsR0FBQXd1QixPQUFBeHVCLEVBQUEsSUFDQUEsRUFBQSxHQUFBd3VCLE9BQUF4dUIsRUFBQSxJQUVBQSxFQUFBM04sT0FBQSxJQUNBMk4sRUFBQSxHQUFBd3VCLE9BQUF4dUIsRUFBQSxNQXhDQUEsRUFBQXV1QixFQUFBSSxNQTJDQTN1QixFQUdBLFFBQUE0dUIsR0FBQVAsR0FDQSxJQUFBQSxFQUNBLHFCQUVBLElBQUFRLEdBQUEsTUFDQSxJQUFBUixFQUFBbjhCLFFBQUEsV0FDQSxHQUFBTCxHQUFBdzhCLEVBQUFoMEIsTUFBQSxzQkFDQTFJLEVBQUEwOEIsRUFBQXhuQixRQUFBaFYsRUFBQSxPQUFBaTlCLE9BQUE5M0IsTUFBQSxNQUNBNjNCLEdBQUFsOUIsRUFBQU8sUUFBQSxTQUNBMjhCLEdBQUEsR0FDQWw5QixFQUFBbzlCLE9BQUFGLEVBQUEsRUFFQSxJQUFBbjNCLEdBQUE3RixFQUFBLEdBQUFnVixRQUFBLFdBQUE3UCxNQUFBLElBSUEsT0FIQSxLQUFBVSxFQUFBckYsUUFDQXFGLEVBQUF0QixLQUFBLEdBRUF6RSxFQUFBc0UsT0FBQXlCLEVBQUFtM0IsR0FBQSxnQkFFQSxHQUFBRyxHQUFBWCxFQUFBcjNCLE1BQUEsTUFDQTYzQixHQUFBRyxFQUFBOThCLFFBQUEsU0FDQTI4QixHQUFBLEdBQ0FHLEVBQUFELE9BQUFGLEVBQUEsRUFFQSxJQUFBSSxHQUFBaEIsRUFBQWUsSUFBQTM4QixPQUFBLEdBR0EsT0FGQTQ4QixHQUFBLG1CQUFBQSxHQUFBLEdBQUFBLEVBQUEsS0FDQUQsSUFBQUQsT0FBQSxFQUFBQyxFQUFBMzhCLE9BQUEsR0FDQTI4QixFQUFBLzRCLE9BQUFnNUIsRUFBQUosR0FBQSxnQkFHQSxRQUFBSyxHQUFBYixHQUNBLEdBQUFjLEdBQUEsSUFBQWQsRUFBQWg4QixPQUFBLGFBQ0ErOEIsRUFBQWYsRUFBQTF1QixJQUFBLFNBQUFnUCxFQUFBdmMsR0FDQSxNQUFBQSxHQUFBLEVBQUEwUixLQUFBNFgsTUFBQS9NLE1BRUEsT0FBQXdnQixHQUFBLElBQUFDLEVBQUE1NUIsS0FBQSxTQUdBLFFBQUE2NUIsR0FBQXY5QixHQUNBLE1BQUF3OUIsR0FBQUMsT0FBQUMsZUFBQXQ5QixRQUFBSixJQUFBLGNBQUFBLEVBR0EsUUFBQTI5QixHQUFBMzlCLEdBQ0EsR0FBQTQ5QixHQUFBTCxFQUFBdjlCLEVBQ0EsT0FBQXc5QixHQUFBdkIsT0FBQTc3QixRQUFBdzlCLElBQUEsV0FBQUEsRUFHQSxRQUFBQyxHQUFBN2EsR0FDQSxZQUFBQSxPQUFBLEtBQUFBLEVBQ0EsV0FFQSxJQUFBaVosR0FBQWpaLEVBQUFqTyxRQUFBLFFBQUE3UCxNQUFBLEtBQUErMkIsT0FBQSxTQUFBajRCLEdBQ0EsTUFBQUEsS0FFQTg1QixJQUtBLE9BSkE3QixHQUFBbDRCLFFBQUEsU0FBQUMsR0FDQSxHQUFBKzVCLEdBQUEvNUIsRUFBQWtCLE1BQUEsSUFDQTQ0QixHQUFBQyxFQUFBLElBQUFBLEVBQUEsS0FFQUQsRUFHQSxRQUFBRSxHQUFBaitCLEdBQ0EsR0FBQStOLEdBQUEvTixFQUFBd0ksTUFBQSwyQkFDQW1ILElBeUJBLE9BeEJBLEtBQUE1QixFQUFBdk4sUUFDQW1QLEVBQUF1dUIsSUFBQTcxQixXQUFBMEYsRUFBQSxJQUNBNEIsRUFBQXd1QixJQUFBOTFCLFdBQUEwRixFQUFBLElBQ0E0QixFQUFBeXVCLElBQUEsRUFDQXp1QixFQUFBMHVCLElBQUEsRUFDQTF1QixFQUFBMnVCLElBQUFqMkIsV0FBQTBGLEVBQUEsSUFDQTRCLEVBQUE0dUIsSUFBQWwyQixXQUFBMEYsRUFBQSxJQUNBNEIsRUFBQTZ1QixJQUFBLEVBQ0E3dUIsRUFBQTh1QixJQUFBLEVBQ0E5dUIsRUFBQSt1QixJQUFBLEVBQ0EvdUIsRUFBQWd2QixJQUFBLEVBQ0FodkIsRUFBQWl2QixJQUFBLEVBQ0FqdkIsRUFBQWt2QixJQUFBLEVBQ0FsdkIsRUFBQW12QixJQUFBejJCLFdBQUEwRixFQUFBLElBQ0E0QixFQUFBb3ZCLElBQUExMkIsV0FBQTBGLEVBQUEsSUFDQTRCLEVBQUFxdkIsSUFBQSxFQUNBcnZCLEVBQUFzdkIsSUFBQSxHQUVBbHhCLEVBQUEvSixRQUFBLFNBQUFDLEVBQUExRCxHQUNBLEdBQUFvYSxHQUFBcGEsRUFBQSxJQUNBaWlCLEVBQUF2USxLQUFBRSxNQUFBNVIsRUFBQSxJQUNBb1AsR0FBQSxJQUFBNlMsRUFBQTdILEdBQUF0UyxXQUFBcEUsS0FHQTBMLEVBR0EsUUFBQXV2QixHQUFBQyxHQUNBLEdBQUFDLEdBQUEsU0FBQUQsR0FBQSxLQUFBQSxFQUFBLDJCQUFBQSxFQUNBeHZCLEVBQUFzdUIsRUFBQW1CLEdBQ0FsQixFQUFBdnVCLEVBQUF1dUIsSUFDQUMsRUFBQXh1QixFQUFBd3VCLElBQ0FDLEVBQUF6dUIsRUFBQXl1QixJQUNBQyxFQUFBMXVCLEVBQUEwdUIsSUFDQUMsRUFBQTN1QixFQUFBMnVCLElBQ0FDLEVBQUE1dUIsRUFBQTR1QixJQUNBQyxFQUFBN3VCLEVBQUE2dUIsSUFDQUMsRUFBQTl1QixFQUFBOHVCLElBQ0FDLEVBQUEvdUIsRUFBQSt1QixJQUNBQyxFQUFBaHZCLEVBQUFndkIsSUFDQUMsRUFBQWp2QixFQUFBaXZCLElBQ0FDLEVBQUFsdkIsRUFBQWt2QixJQUNBRyxFQUFBcnZCLEVBQUFxdkIsSUFDQUssRUFBQSxPQUNBQyxFQUFBLE9BQ0FDLEVBQUEsT0FDQUMsSUFDQUEsR0FBQXQyQixZQUFBMjFCLEVBQUEzRCxFQUFBMEQsR0FBQUMsRUFBQSxHQUFBQSxNQUFBLEVBQ0FXLEVBQUFuMkIsUUFBQTZ4QixFQUFBanBCLEtBQUF3dEIsS0FBQWpCLEdBQUFrQixFQUNBLElBQUF2MkIsR0FBQXEyQixFQUFBbjJCLFFBQUFzMkIsRUFDQTcxQixFQUFBbUksS0FBQTJ0QixJQUFBdEIsR0FDQXQwQixFQUFBaUksS0FBQTJ0QixJQUFBekIsR0FDQTBCLEVBQUFoQixFQUFBVyxFQUFBdDJCLFlBQ0E0MkIsRUFBQSxNQTJEQSxPQXpEQTMyQixLQUNBMDJCLEVBQUE1dEIsS0FBQTR0QixLQUFBMTJCLEdBQ0EyMkIsRUFBQTd0QixLQUFBNnRCLEtBQUEzMkIsR0FDQWsyQixFQUFBZixFQUFBdUIsRUFBQW5CLEVBQUFvQixFQUNBUixFQUFBZixFQUFBc0IsRUFBQWxCLEVBQUFtQixFQUNBUCxFQUFBZixFQUFBcUIsRUFBQWpCLEVBQUFrQixFQUNBcEIsRUFBQUosR0FBQXdCLEVBQUFwQixFQUFBbUIsRUFDQWxCLEVBQUFKLEdBQUF1QixFQUFBbkIsRUFBQWtCLEVBQ0FqQixFQUFBSixHQUFBc0IsRUFBQWxCLEVBQUFpQixFQUNBaEIsRUFBQUosR0FBQXFCLEVBQUFqQixFQUFBZ0IsRUFDQXZCLEVBQUFlLEVBQ0FkLEVBQUFlLEVBQ0FkLEVBQUFlLEdBR0FwMkIsRUFBQThJLEtBQUE4dEIsTUFBQXJCLEVBQUFFLEdBQ0FZLEVBQUFsMkIsUUFBQTR4QixFQUFBL3hCLEVBQUF1MkIsR0FDQXYyQixJQUNBMDJCLEVBQUE1dEIsS0FBQTR0QixLQUFBMTJCLEdBQ0EyMkIsRUFBQTd0QixLQUFBNnRCLEtBQUEzMkIsR0FDQWsyQixFQUFBbkIsRUFBQTJCLEVBQUFuQixFQUFBb0IsRUFDQVIsRUFBQW5CLEVBQUEwQixFQUFBbEIsRUFBQW1CLEVBQ0FQLEVBQUFuQixFQUFBeUIsRUFBQWpCLEVBQUFrQixFQUNBbkIsRUFBQVIsRUFBQTJCLEVBQUFuQixFQUFBa0IsRUFDQWpCLEVBQUFSLEVBQUEwQixFQUFBbEIsRUFBQWlCLEVBQ0FoQixFQUFBUixFQUFBeUIsRUFBQWpCLEVBQUFnQixFQUNBM0IsRUFBQW1CLEVBQ0FsQixFQUFBbUIsRUFDQWxCLEVBQUFtQixHQUdBcDJCLEVBQUE4SSxLQUFBOHRCLE1BQUE1QixFQUFBRCxHQUNBc0IsRUFBQXAyQixPQUFBOHhCLEVBQUEveEIsRUFBQXUyQixHQUNBdjJCLElBQ0EwMkIsRUFBQTV0QixLQUFBNHRCLEtBQUExMkIsR0FDQTIyQixFQUFBN3RCLEtBQUE2dEIsS0FBQTMyQixHQUNBKzBCLElBQUEyQixFQUFBdkIsRUFBQXdCLEVBQ0FSLEVBQUFuQixFQUFBMEIsRUFBQXRCLEVBQUF1QixFQUNBdkIsRUFBQUosR0FBQTJCLEVBQUF2QixFQUFBc0IsRUFDQXJCLEVBQUFKLEdBQUEwQixFQUFBdEIsRUFBQXFCLEVBQ0ExQixFQUFBbUIsR0FHQUUsRUFBQW4yQixTQUFBNEksS0FBQWMsSUFBQXlzQixFQUFBbjJCLFNBQUE0SSxLQUFBYyxJQUFBeXNCLEVBQUFwMkIsUUFBQSxRQUNBbzJCLEVBQUFuMkIsUUFBQW0yQixFQUFBcDJCLE9BQUEsRUFDQW8yQixFQUFBbDJCLFNBQUEsS0FFQWsyQixFQUFBaDJCLE9BQUEweEIsRUFBQWpwQixLQUFBK3RCLEtBQUE5QixJQUFBQyxNQUNBcUIsRUFBQTkxQixPQUFBd3hCLEVBQUFqcEIsS0FBQSt0QixLQUFBekIsSUFBQUksTUFDQWEsRUFBQTUxQixPQUFBc3hCLEVBQUFqcEIsS0FBQSt0QixLQUFBeEIsSUFBQUksTUFFQVksRUFBQTExQixXQUFBRSxFQUFBLEVBQUFGLEVBQ0EwMUIsRUFBQXgxQixXQUFBRixFQUFBLEVBQUFFLEVBQ0F3MUIsRUFBQXQyQixZQUFBMjFCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxLQUFBLEVBQ0FXLEVBQUFyMUIsV0FBQXdGLEVBQUFtdkIsSUFDQVUsRUFBQXAxQixXQUFBdUYsRUFBQW92QixJQUNBUyxFQUFBbjFCLFdBQUEyMEIsRUFDQVEsRUFHQSxRQUFBUyxHQUFBMTlCLEVBQUFoRSxHQUNBLEdBQUEyaEMsR0FBQSxNQU1BLE9BTEFDLEdBQUE1OUIsSUFBQSxnQkFBQWhFLEdBRUcsWUFBQWdFLEdBQUE2OUIsRUFBQXA0QixLQUFBekosS0FDSDJoQyxFQUFBLElBQUEzaEMsRUFBQXlXLFFBQUEsaUJBRkFrckIsRUFBQSxJQUFBM2hDLEVBQUEsS0FJQTJoQyxHQUFBM2hDLEVBR0EsUUFBQThoQyxHQUFBcGdDLEVBQUF1OEIsR0FDQSxHQUFBOEQsR0FBQTlELEtBQUFqdkIsV0FBQXlILFFBQUEsaUJBQ0FyTixFQUFBLEVBTUEsT0FMQTFILEdBQUFJLFFBQUEsaUJBQUFKLEVBQUFJLFFBQUEsbUJBQUFKLEVBQUFJLFFBQUEsV0FDQXNILEVBQUEsTUFDRzFILEVBQUFJLFFBQUEsWUFBQUosRUFBQUksUUFBQSxnQkFDSHNILEVBQUEsT0FFQTI0QixHQUFBMzRCLEVBR0EsUUFBQTQ0QixHQUFBdGdDLEVBQUE2YyxFQUFBbkcsR0FDQSxNQUFBMVcsR0FBQSxJQUFBNmMsR0FBQW5HLEdBQUEsUUFHQSxRQUFBNnBCLEdBQUFDLEVBQUFqNkIsR0FDQSxHQUFBckQsR0FBQSxJQWVBLE9BZEFzOUIsSUFDQUEsRUFBQXo4QixRQUFBLFNBQUEwOEIsR0FDQSxJQUFBdjlCLEVBQUEsQ0FHQSxHQUFBdzlCLEdBQUFELEVBQUF2N0IsTUFBQSxRQUNBZ0osRUFBQXd5QixJQUFBbEQsR0FBQW1ELGdCQUFBcDZCLEVBQUF5MEIsVUFBQSxFQUFBejBCLEVBQUFoRyxPQUFBLEdBQUFILFFBQUFzZ0MsSUFBQSxFQUNBdnlCLEVBQUE1SCxJQUFBaTNCLEdBQUFtRCxnQkFBQUQsRUFBQTFGLFVBQUEsRUFBQTBGLEVBQUFuZ0MsT0FBQSxHQUFBSCxRQUFBbUcsSUFBQSxFQUNBWCxFQUFBODZCLElBQUFsRCxHQUFBbUQsZ0JBQUFwNkIsSUFBQWkzQixHQUFBbUQsaUJBQUFELEVBQUExRixVQUFBLEVBQUEwRixFQUFBbmdDLE9BQUEsS0FBQWdHLEtBQUF5MEIsVUFBQSxFQUFBejBCLEVBQUFoRyxPQUFBLEtBQUFtZ0MsSUFDQUEsSUFBQW42QixHQUFBMkgsR0FBQUMsR0FBQXZJLEtBQ0ExQyxFQUFBdTlCLE1BSUF2OUIsRUFHQSxRQUFBMDlCLEdBQUFDLEVBQUFDLEdBQ0EsSUFBQUQsR0FBQSxLQUFBQSxFQUNBLE1BQUFDLEVBRUEsS0FBQUEsR0FBQSxLQUFBQSxFQUNBLE1BQUFELEVBRUEsSUFBQUUsR0FBQUYsRUFBQTlyQixRQUFBLFVBQUE3UCxNQUFBLEtBQUErMkIsT0FBQSxTQUFBajRCLEdBQ0EsV0FBQUEsT0FDRzZKLElBQUEsU0FBQTdKO0FBQ0gsTUFBQUEsR0FBQSxNQUVBZzlCLEVBQUFGLEVBQUEvckIsUUFBQSxVQUFBN1AsTUFBQSxLQUFBKzJCLE9BQUEsU0FBQWo0QixHQUNBLFdBQUFBLE1BbUJBLE9BakJBZzlCLEdBQUFqOUIsUUFBQSxTQUFBazlCLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQS83QixNQUFBLEtBQ0FpOEIsRUFBQUQsRUFBQSxHQUNBRSxFQUFBYixFQUFBUSxFQUFBSSxFQUNBLElBQUFDLEVBRUssQ0FDTCxHQUFBNzlCLEdBQUF3OUIsRUFBQTNnQyxRQUFBZ2hDLEVBQ0FMLEdBQUF4OUIsR0FBQTA5QixFQUFBLFFBSEFGLEdBQUF6OEIsS0FBQTI4QixFQUFBLE9BTUFGLEVBQUFoOUIsUUFBQSxTQUFBQyxFQUFBMUQsR0FDQTBELEVBQUE1RCxRQUFBLG1CQUFBRSxJQUNBeWdDLEVBQUE5RCxPQUFBMzhCLEVBQUEsR0FDQXlnQyxFQUFBTSxRQUFBcjlCLE1BR0ErOEIsRUFBQXI5QixLQUFBLEtBQUFzNUIsT0F4ZEE1K0IsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUFtOUIsVUFDQW45QixFQUFBdzlCLGVBQ0F4OUIsRUFBQWcrQixpQkFDQWgrQixFQUFBbytCLGNBQ0FwK0IsRUFBQXErQixhQUNBcitCLEVBQUFnL0IsY0FDQWgvQixFQUFBcy9CLFdBQ0F0L0IsRUFBQXkvQixjQUNBei9CLEVBQUE2L0IsWUFDQTcvQixFQUFBKy9CLHNCQUNBLy9CLEVBQUFrZ0MsWUFDQWxnQyxFQUFBbWhDLGVBQ0FuaEMsRUFBQWtpQyxjQUNBbGlDLEVBQUFzaUMsVUFDQXRpQyxFQUFBd2lDLFlBQ0F4aUMsRUFBQXlpQyxrQkFDQXppQyxFQUFBOGlDLFlBQ0EsSUFBQVYsSUFDQW9CLHlCQUFBLEVBQ0FDLG1CQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLFNBQUEsRUFDQUMsY0FBQSxFQUNBQyxpQkFBQSxFQUNBQyxhQUFBLEVBQ0FDLE1BQUEsRUFDQUMsVUFBQSxFQUNBQyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsY0FBQSxFQUNBQyxXQUFBLEVBQ0FDLFNBQUEsRUFDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsRUFDQUMsWUFBQSxFQUNBQyxTQUFBLEVBQ0FDLE9BQUEsRUFDQUMsU0FBQSxFQUNBQyxTQUFBLEVBQ0FDLFFBQUEsRUFDQUMsUUFBQSxFQUNBQyxNQUFBLEVBR0FDLGFBQUEsRUFDQUMsY0FBQSxFQUNBQyxhQUFBLEVBQ0FDLGlCQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLGtCQUFBLEVBQ0FDLGVBQUEsRUFDQUMsYUFBQSxHQUVBQyxHQUFBLHdCQU1BcGxDLFFBQUF1SSxLQUFBdTVCLEdBQUFuOEIsUUFBQSxTQUFBdEIsR0FDQStnQyxFQUFBei9CLFFBQUEsU0FBQWlyQixHQUNBa1IsRUFBQW5GLEVBQUEvTCxFQUFBdnNCLElBQUF5OUIsRUFBQXo5QixNQUlBLElBQUEwOUIsR0FBQSxvSEFFQXNELEVBQUEsV0FDQSx5QkFBQXg3QixjQUdBeTdCLHVCQUFBQyxVQUFBdmpDLFFBQUEsZUFBQXNqQyxVQUFBQyxVQUFBdmpDLFFBQUEsbUJBTUErNkIsRUFBQSxJQUVBc0IsR0FDQW1ILE1BQUEsV0FDQUMsTUFBQSxTQUNBQyxRQUFBLGFBQ0FqSCxPQUFBLE9BQ0FrSCxRQUFBLFNBQ0FDLE1BQUEsV0FDQUMsTUFBQSxTQUNBQyxNQUFBLFNBQ0FDLE9BQUEsYUFDQUMsU0FBQSxXQUNBQyxPQUFBLFdBQ0FDLFFBQUEsV0FDQUMsUUFBQSxXQUNBQyxNQUFBLGFBQ0FDLFFBQUEsV0FDQUMsT0FBQSxTQUNBQyxLQUFBLFNBQ0FDLE1BQUEsYUFDQUMsTUFBQSxXQUNBakksYUFBQSxnQkFFQUQsRUFBQSxTQUFBakgsRUFBQW9QLEVBQUFDLEdBQ0EsR0FBQWpvQixHQUFBNFksRUFBQSxFQUFBQSxFQUFBLEVBQUFBLENBQ0E1WSxHQUFBNFksRUFBQSxFQUFBQSxFQUFBLEVBQUE1WSxDQUNBLElBQUE1TyxHQUFBLEVBQUE0TyxFQUFBLEVBQUFnb0IsR0FBQUMsRUFBQUQsSUFBQSxJQUFBaG9CLEdBQUEsRUFBQWdvQixFQUNBMzJCLEVBQUEyTyxFQUFBLEdBQUFpb0IsRUFBQTcyQixFQUNBdEksRUFBQSxFQUFBa1gsRUFBQSxFQUFBZ29CLEdBQUFDLEVBQUFELEdBQUFob0IsRUFBQSxFQUFBM08sQ0FDQSxZQUFBdkksRUFBQSxNQUVBODVCLEVBQUExdEIsS0FBQWd6QixHQUFBLElBQ0F2RixFQUFBLElBQUF6dEIsS0FBQWd6QixHQUVBeEgsR0FDQUMsUUFDQUMsZ0JBQUEsb0dBQ0F1SCxjQUFBLHdFQUVBdEUsZ0JBQW1CbDJCLFVBQUEsRUFBQUksWUFBQSxFQUFBcTZCLE1BQUEsRUFBQUMsUUFBQSxFQUFBaDhCLE9BQUEsRUFBQWk4QixTQUFBLEdBQ25CbkosUUFBQSx5RUFDQW9KLGVBQWtCQyxVQUFBLFlBQUFDLFVBQUEsY0FFbEIvSCxHQUFBQyxPQUFBQyxlQUFBK0YsRUFBQWpHLEVBQUFDLE9BQUFDLGVBQUFGLEVBQUFDLE9BQUFDLGVBQUF2NUIsT0FBQXE1QixFQUFBQyxPQUFBd0gsY0E2VkFubkMsYUFBQTAvQixHVG8vSk1nSSxHQUNBLFNBQVMzbkMsRUFBUUMsRUFBU0MsR1VsOUtoQyxZQW1CQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FqQjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQW1FLE1BQUFuRSxFQUFBMm5DLE9BQUFsbkMsTUFFQSxJQUFBbW5DLEdBQUEzbkMsRUFBQSxJQUVBNG5DLEVBQUEzbkMsRUFBQTBuQyxHQUVBRSxFQUFBN25DLEVBQUEsSUFFQThuQyxFQUFBN25DLEVBQUE0bkMsR0FFQUUsRUFBQS9uQyxFQUFBLElBRUFnb0MsRUFBQS9uQyxFQUFBOG5DLEVBSUFILEdBQUEsV0FBQUYsT0FBQU0sRUFBQSxXQUNBSixFQUFBLFdBQUExakMsTUFBQTRqQyxFQUFBLFdBQ0EvbkMsRUFBQTJuQyxPQUFBTSxFQUFBLFdBQ0Fqb0MsRUFBQW1FLE1BQUE0akMsRUFBQSxXQUNBL25DLEVBQUEsV0FBQTZuQyxFQUFBLFlWdzlLTUssR0FDQSxTQUFTbm9DLEVBQVFDLEVBQVNDLEdXbC9LaEMsWUFtQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBakM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBQyxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFJLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQTZtQyxFQUFBbG9DLEVBQUEsS0FFQW1vQyxFQUFBbG9DLEVBQUFpb0MsR0FFQXptQyxFQUFBekIsRUFBQSxHQUVBMEIsRUFBQXpCLEVBQUF3QixHQUlBMm1DLEVBQUEsU0FBQTFsQyxHQUdBLFFBQUEwbEMsS0FFQSxPQURBLEVBQUF0bkMsRUFBQSxZQUFBNkIsS0FBQXlsQyxJQUNBLEVBQUFwbkMsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUE0QkEsT0FoQ0EsRUFBQTNCLEVBQUEsWUFBQWtuQyxFQUFBMWxDLEdBT0EwbEMsRUFBQWxtQyxVQUFBbW1DLGtCQUFBLFdBQ0EsR0FBQUMsR0FBQTNsQyxLQUFBVSxNQUFBa2xDLFVBQ0FBLEVBQUEvbkMsU0FBQThuQyxFQUFBLEdBQUFBLENBRUEsT0FBQUMsR0FBQWxtQyxRQUFBLFVBQ0EsYUFFQSxZQUdBK2xDLEVBQUFsbUMsVUFBQWlCLE9BQUEsV0FDQSxHQUFBcUssR0FBQTdLLEtBQUFVLE1BQ0FHLEVBQUFnSyxFQUFBaEssU0FDQUYsRUFBQWtLLEVBQUFsSyxVQUVBa2xDLEdBQUEsRUFBQW5uQyxFQUFBb25DLGNBQUFqbEMsR0FDQUMsV0FBQSxFQUFBL0IsRUFBQSxZQUFBOEIsRUFBQUgsTUFBQUksVUFBQUgsRUFBQSxhQUVBLE9BQUFoQyxHQUFBLFdBQUEwQyxjQUNBbWtDLEVBQUEsWUFDQSxFQUFBem5DLEVBQUEsYUFBdUMyTixlQUFBMUwsS0FBQTBsQyxxQkFBMkMxbEMsS0FBQVUsT0FDbEZtbEMsSUFJQUosR0FDQzltQyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBcW9DLEVBRUFBLEVBQUFqa0MsY0FDQWIsVUFBQSxlQUNBb2xDLGdCQUFBLElBQ0FDLGdCQUFBLEdBQ0FKLFVBQUEsY0FFQXpvQyxFQUFBQyxVQUFBLFlYdy9LTTZvQyxHQUNBLFNBQVM5b0MsRUFBUUMsRUFBU0MsR1kxa0xoQyxZQTJCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0F6QjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFLLEdBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXNtQyxFQUFBM25DLEVBQUEsSUFFQTRuQyxFQUFBM25DLEVBQUEwbkMsR0FJQWtCLEVBQUEsU0FBQW5tQyxHQUdBLFFBQUFtbUMsS0FFQSxPQURBLEVBQUEvbkMsRUFBQSxZQUFBNkIsS0FBQWttQyxJQUNBLEVBQUE3bkMsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUFPQSxPQVhBLEVBQUEzQixFQUFBLFlBQUEybkMsRUFBQW5tQyxHQU9BbW1DLEVBQUEzbUMsVUFBQWlCLE9BQUEsV0FDQSxNQUFBN0IsR0FBQSxXQUFBMEMsY0FBQTRqQyxFQUFBLFdBQUFqbEMsS0FBQVUsUUFHQXdsQyxHQUNDdm5DLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUE4b0MsRUFFQUEsRUFBQTFrQyxjQUNBYixVQUFBLG9CQUVBeEQsRUFBQUMsVUFBQSxZWmdsTE0rb0MsR0FDQSxTQUFTaHBDLEVBQVFDLEVBQVNDLEdhbG9MaEMsWUF1QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBckI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBSyxHQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUE4bkMsRUFBQS9vQyxFQUFBLElBRUFncEMsRUFBQS9vQyxFQUFBOG9DLEdBSUFyTSxFQUFBLFNBQUF1TSxHQUdBLFFBQUF2TSxLQUVBLE9BREEsRUFBQTU3QixFQUFBLFlBQUE2QixLQUFBKzVCLElBQ0EsRUFBQTE3QixFQUFBLFlBQUEyQixLQUFBc21DLEVBQUFybUMsTUFBQUQsS0FBQUUsWUFHQSxPQVBBLEVBQUEzQixFQUFBLFlBQUF3N0IsRUFBQXVNLEdBT0F2TSxHQUNDc00sRUFBQSxXQUFBdE0sWUFFRDM4QixHQUFBLFdBQUEyOEIsRUFDQTU4QixFQUFBQyxVQUFBLFlid29MTW1wQyxHQUNBLFNBQVNwcEMsRUFBUUMsRUFBU0MsR2M5cUxoQyxZQUVBRixHQUFBQyxRQUFBQyxFQUFBLE1kb3JMTW1wQyxHQUNBLFNBQVNycEMsRUFBUUMsR2V2ckx2QixZQUVBRCxHQUFBQyxTQUNBcXBDLEtBQUEsR0FDQUMsS0FBQSxHQUVBQyxZQUFBLEdBQ0FDLFlBQUEsSUFFQUMsVUFBQSxFQUNBQyxPQUFBLEdBQ0FDLE1BQUEsR0FFQUMsU0FBQSxHQUNBQyxXQUFBLEtmOHJMTUMsR0FDQSxTQUFTL3BDLEVBQVFDLEdnQjdzTHZCLFlBRUFNLFFBQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFlBRUErcEMsZUFBQSxnQkFDQUMsUUFBQSxlQUNBQyxLQUFBLFNBR0FDLFVBQUEscUJBQ0FDLFVBQUEscUJBQ0FDLE9BQUEsd0JBQ0FDLE9BQUEsd0JBQ0FDLE9BQUEsd0JBQ0FDLE9BQUEseUJBRUF4cUMsRUFBQUMsVUFBQSxZaEJtdExNd3FDLEdBQ0EsU0FBU3pxQyxFQUFRQyxFQUFTQyxHaUJ2dUxoQyxZQXVCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FjN0UsUUFBQXNxQyxHQUFBanFDLEdBQ0EsR0FBQWtxQyxJQUFBLEVBQUFDLEVBQUEsYUFFQSxPQURBRCxHQUFBaDZCLE9BQUFsUSxFQUFBa1EsVUFBQXViLFVBQUF6ckIsRUFBQXlyQixhQUNBeWUsRUFHQSxRQUFBRSxHQUFBcHFDLEdBQ0EsTUFBQUEsR0FBQXdiLE9BQUEsS0FBQXhiLEVBQUF5YixRQUFBLE9BQUF6YixFQUFBa2QsT0FHQSxRQUFBbXRCLEdBQUFycUMsR0FDQSxHQUFBa3FDLEdBQUFELEVBQUFqcUMsRUFDQSxPQUFBb3FDLEdBQUFGLEdBR0EsUUFBQUksR0FBQTkzQixFQUFBRCxHQUNBQSxFQUFBMlcsS0FBQTFXLEVBQUEwVyxRQUNBM1csRUFBQXNYLE9BQUFyWCxFQUFBcVgsVUFDQXRYLEVBQUF1WCxPQUFBdFgsRUFBQXNYLFVBR0EsUUFBQXlnQixHQUFBdnFDLEVBQUF3cUMsR0FDQSxHQUFBQyxHQUFBRCxJQUFBeHFDLEtBRUEsT0FEQXlxQyxJQUFBLEVBQUF0cUMsRUFBQSxlQUFtRHVxQyxFQUFBRCxHQUluRCxRQUFBRSxHQUFBM3FDLEVBQUF5cUMsR0FDQSxHQUFBRyxJQUFBLENBQ0EsSUFBQTVxQyxFQUFBLENBQ0EsR0FBQWtwQixHQUFBbHBCLEVBQUFrcEIsT0FDQTFGLEVBQUF4akIsRUFBQTZwQixTQUNBaUIsRUFBQTlxQixFQUFBOHBCLFNBQ0ErZ0IsRUFBQUosRUFBQUksZUFDQSxJQUFBQSxFQUFBL29DLFFBQUFvbkIsUUFBQSxDQUNBLEdBQUE0aEIsR0FBQUwsRUFBQUssZ0JBQUE1aEIsRUFDQSxJQUFBNGhCLEVBQUFocEMsUUFBQTBoQixRQUFBLENBQ0EsR0FBQXVuQixHQUFBTixFQUFBTSxnQkFBQTdoQixFQUFBMUYsRUFDQW9uQixHQUFBRyxFQUFBanBDLFFBQUFncEIsWUFFQThmLElBQUEsTUFHQUEsSUFBQSxFQUdBLE9BQUFBLEVBR0EsUUFBQUksR0FBQWhyQyxFQUFBd3FDLEdBQ0EsR0FBQUMsR0FBQUYsRUFBQXZxQyxFQUFBd3FDLEVBQ0EsT0FBQUcsR0FBQTNxQyxFQUFBeXFDLEdBR0EsUUFBQVEsR0FBQWpyQyxFQUFBa3JDLEVBQUFWLEdBQ0EsUUFBQVUsSUFDQUEsRUFBQWxyQyxPQUlBd3FDLElBQ0FRLEVBQUFockMsRUFBQXdxQyxJQWhHQTFxQyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBRSxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEVBRUFWLEdBQUF5cUMsZUFDQXpxQyxFQUFBNHFDLGlCQUNBNXFDLEVBQUE2cUMsa0JBQ0E3cUMsRUFBQThxQyxXQUNBOXFDLEVBQUErcUMsZ0JBQ0EvcUMsRUFBQW1yQyxzQkFDQW5yQyxFQUFBd3JDLGNBQ0F4ckMsRUFBQXlyQyxlQUVBLElBQUFFLEdBQUExckMsRUFBQSxJQUVBMHFDLEVBQUF6cUMsRUFBQXlyQyxHQUlBVCxHQUNBRyxjQUFBLFdBQ0EsVUFFQUMsZ0JBQUEsV0FDQSxVQUVBQyxnQkFBQSxXQUNBLFlqQm16TE1LLEdBQ0EsU0FBUzdyQyxFQUFRQyxFQUFTQyxHa0JyMUxoQyxZQVVBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQXFyQyxHQUFBNXJDLEVBQUEsSUFFQTZyQyxFQUFBNXJDLEVBQUEyckMsRUFJQTdyQyxHQUFBLFdBQUE4ckMsRUFBQSxXQUNBL3JDLEVBQUFDLFVBQUEsWWxCMjFMTStyQyxHQUNBLFNBQVNoc0MsRUFBUUMsRUFBU0MsR21CejJMaEMsWUFFQUEsR0FBQSxJQUVBQSxFQUFBLEtBRUFBLEVBQUEsSUFFQUEsRUFBQSxJQUVBQSxFQUFBLElBRUFBLEVBQUEsS0FFQUEsRUFBQSxLbkIrMkxNK3JDLEdBQ0EsU0FBU2pzQyxFQUFRQyxFQUFTQyxHb0I5M0xoQyxZQWdDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQThyQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBa3NDLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFDLEdBQUFDLEVBQUFycUMsR0FBaUQsSUFBQXFxQyxFQUFhLFNBQUFDLGdCQUFBLDREQUF5RixRQUFBdHFDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUFxcUMsRUFBQXJxQyxFQUV2SixRQUFBdXFDLEdBQUFDLEVBQUFDLEdBQTBDLHFCQUFBQSxJQUFBLE9BQUFBLEVBQStELFNBQUFOLFdBQUEsaUVBQUFNLEdBQXVHRCxHQUFBMXFDLFVBQUE3QixPQUFBeXNDLE9BQUFELEtBQUEzcUMsV0FBeUUrSyxhQUFlMU0sTUFBQXFzQyxFQUFBRyxZQUFBLEVBQUFDLFVBQUEsRUFBQWIsY0FBQSxLQUE2RVUsSUFBQXhzQyxPQUFBNHNDLGVBQUE1c0MsT0FBQTRzQyxlQUFBTCxFQUFBQyxHQUFBYixFQUFBWSxFQUFBQyxJQUVyWCxRQUFBSyxNQXhDQTdzQyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBNHNDLEdBQUE5c0MsT0FBQStzQyxRQUFBLFNBQUEzakMsR0FBbUQsT0FBQWxILEdBQUEsRUFBZ0JBLEVBQUFNLFVBQUFMLE9BQXNCRCxJQUFBLENBQU8sR0FBQTJULEdBQUFyVCxVQUFBTixFQUEyQixRQUFBZ0MsS0FBQTJSLEdBQTBCN1YsT0FBQTZCLFVBQUFDLGVBQUFDLEtBQUE4VCxFQUFBM1IsS0FBeURrRixFQUFBbEYsR0FBQTJSLEVBQUEzUixJQUFpQyxNQUFBa0YsSUFFL09wSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBZ3NDLEVBQUFydEMsRUFBQSxHQUVBc3RDLEVBQUFydEMsRUFBQW90QyxHQUVBRSxFQUFBdnRDLEVBQUEsSUFFQXd0QyxFQUFBeHRDLEVBQUEsSUFFQXl0QyxFQUFBenRDLEVBQUEsS0FFQTB0QyxFQUFBenRDLEVBQUF3dEMsR0FFQUUsRUFBQTN0QyxFQUFBLElBRUE0dEMsRUFBQTN0QyxFQUFBMHRDLEdBRUFFLEVBQUE3dEMsRUFBQSxLQUVBOHRDLEVBQUE3dEMsRUFBQTR0QyxHQWNBRSxFQUFBOTVCLEtBQUE0WCxNQUFBLFFBRUFtaUIsRUFBQSxTQUFBQyxHQUdBLFFBQUFELEtBQ0E1QixFQUFBenBDLEtBQUFxckMsRUFFQSxJQUFBRSxHQUFBMUIsRUFBQTdwQyxLQUFBc3JDLEVBQUFyckMsTUFBQUQsS0FBQUUsV0FtRUEsT0FqRUFxckMsR0FBQUMsUUFBQSxXQUNBRCxFQUFBRSxZQUFBRixFQUFBRyxTQUFBQyxhQUNBSixFQUFBSyxXQUFBVCxFQUFBLFdBQUFVLE1BQ0FOLEVBQUFPLFFBR0FQLEVBQUFRLE1BQUEsV0FDQSxHQUFBcnJDLEdBQUE2cUMsRUFBQTdxQyxLQUNBQSxHQUFBc3JDLFdBQUF0dUMsT0FBQXVJLEtBQUF2RixFQUFBc3JDLFdBQUFuc0MsU0FDQTByQyxFQUFBRyxTQUFBLEdBQUFYLEdBQUEsV0FBQVEsRUFBQVUsS0FBQSxFQUFBckIsRUFBQXpsQyxhQUFBekUsRUFBQXNyQyxZQUF3R0UsS0FBQXhyQyxFQUFBd3JDLEtBQUFDLFdBQUF6ckMsRUFBQXlyQyxhQUV4R1osRUFBQWEsSUFBQSxNQUVBYixFQUFBTyxTQUlBUCxFQUFBTyxLQUFBLFdBQ0FQLEVBQUFjLDhCQUNBZCxFQUFBZSxTQUdBZixFQUFBZ0IsTUFBQXBCLEVBQUEsV0FBQWh0QixJQUFBb3RCLEVBQUFhLE9BR0FiLEVBQUFNLE1BQUEsU0FBQS93QixFQUFBMHhCLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQTF4QixFQUFBLEVBQ0F4TyxHQUFBNitCLEVBQUEsV0FBQVUsTUFBQU4sRUFBQUssWUFBQVIsRUFBQXFCLEVBQUFsQixFQUFBRSxhQUNBZSxHQUFBbGdDLEVBQUE4K0IsR0FBQSxnQkFBQUcsR0FBQTdxQyxNQUFBNEwsU0FFQUEsRUFBQTgrQixHQUVBRyxFQUFBbUIsVUFDQXBnQyxHQUFBaS9CLEVBQUFFLGFBQUEsSUFBQU4sRUFBQSxXQUFBVSxNQUFBTixFQUFBSyxZQUFBUixHQUVBOStCLElBQUFpL0IsRUFBQUcsU0FBQWlCLFVBQUFwQixFQUFBRyxTQUFBaUIsVUFBQXJnQyxFQUNBQSxLQUFBLElBQUFBLEVBQ0FBLEVBQUFpL0IsRUFBQWovQixTQUFBaS9CLEVBQUFtQixTQUNBbkIsRUFBQUcsU0FBQWtCLG9CQUVBckIsRUFBQWovQixTQUNBaS9CLEVBQUFHLFNBQUFtQixTQUFBdEIsRUFBQXNCLFNBQ0F0QixFQUFBRyxTQUFBRyxNQUFBdi9CLElBR0FpL0IsRUFBQWEsSUFBQSxTQUFBdHhCLEVBQUEweEIsR0FFQSxHQURBakIsRUFBQU0sTUFBQS93QixFQUFBMHhCLEdBQ0FqQixFQUFBai9CLFFBQUFpL0IsRUFBQUcsU0FBQWlCLFlBQUFwQixFQUFBbUIsU0FBQW5CLEVBQUFlLFFBQUFmLEVBQUFtQixTQUFBLElBQUFuQixFQUFBai9CLE9BQ0EsTUFBQWkvQixHQUFBYywrQkFJQWQsRUFBQWMsNEJBQUEsV0FDQWxCLEVBQUEsV0FBQTJCLE1BQUF2QixFQUFBZ0IsT0FDQWhCLEVBQUFnQixVQUdBaEIsRUFBQWdCLFNBQ0FoQixFQUFBai9CLE9BQUFpL0IsRUFBQTdxQyxNQUFBNEwsUUFBQSxFQUNBaS9CLEVBQUFFLFlBQUFGLEVBQUE3cUMsTUFBQTRMLFFBQUEsRUFDQWkvQixFQUFBSyxXQUFBVCxFQUFBLFdBQUFVLE1BQ0FOLEVBQUFlLE9BQUFmLEVBQUE3cUMsTUFBQTRyQyxPQUNBZixFQUFBbUIsUUFBQW5CLEVBQUE3cUMsTUFBQWdzQyxRQUNBbkIsRUFBQXNCLFNBQUF0QixFQUFBN3FDLE1BQUFtc0MsU0FDQXRCLEVBQUF3QixlQUFBLEVBQ0F4QixFQTZHQSxNQXJMQXZCLEdBQUFxQixFQUFBQyxHQTJFQUQsRUFBQTlyQyxVQUFBeXRDLGtCQUFBLFdBQ0FodEMsS0FBQWlzQyxJQUFBdEIsRUFBQSxXQUFBc0MsWUFBQWp0QyxNQUNBQSxLQUFBK3JDLFNBR0FWLEVBQUE5ckMsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFwdEMsSUFFQUEsTUFBQTZzQyxTQUFBTSxFQUFBTixRQUVBLElBQUFRLEdBQUFGLEVBQUE3Z0MsTUFDQXRNLE1BQUErc0MsZUFBQSxFQUNBLGdCQUFBTSxRQUFBcnRDLEtBQUFzTSxTQUNBdE0sS0FBQXlyQyxZQUFBNEIsRUFDQXJ0QyxLQUFBNHJDLFdBQUFULEVBQUEsV0FBQVUsTUFDQTdyQyxLQUFBdXNDLFlBQUFZLEVBQUFiLE9BV0F0c0MsS0FBQStzQyxlQUFBLEdBVkEsV0FDQUssRUFBQTFCLFNBQUE0QixlQUNBLElBQUExc0MsR0FBQXVzQyxFQUFBdnNDLEtBQ0F3c0MsR0FBQW5CLElBQUFzQixhQUFBLFlBQ0E3dkMsT0FBQXVJLEtBQUFyRixHQUFBeUMsUUFBQSxTQUFBekIsR0FDQXdyQyxFQUFBbkIsSUFBQXJyQyxNQUFBZ0IsSUFBQSxFQUFBaXBDLEVBQUF2TCxhQUFBMTlCLEVBQUFoQixFQUFBZ0IsTUFFQXdyQyxFQUFBdEIsVUFPQSxJQUFBMEIsR0FBQUwsRUFBQW5CLFVBQ0F5QixFQUFBenRDLEtBQUFVLE1BQUFzckMsVUFDQTBCLEdBQUEsRUFBQTlDLEVBQUF2bEMsYUFBQW9vQyxFQUFBRCxHQUNBRyxHQUFBLEVBQUEvQyxFQUFBdmxDLGFBQUFyRixLQUFBVSxNQUFBRSxNQUFBdXNDLEVBQUF2c0MsTUFFQVosTUFBQTR0QyxhQUFBLEVBQ0FGLEVBU0tDLEdBRUwzdEMsS0FBQXVzQyxhQUNBdnNDLEtBQUFxc0MsOEJBQ0Fyc0MsS0FBQXlyQyxZQUFBenJDLEtBQUEwckMsU0FBQUMsYUFDQTNyQyxLQUFBNHJDLFdBQUFULEVBQUEsV0FBQVUsTUFDQTdyQyxLQUFBNHRDLGFBQUEsSUFkQTV0QyxLQUFBcXNDLDhCQUNBYyxFQUFBVSxnQkFBQTd0QyxLQUFBMHJDLFVBQ0ExckMsS0FBQTByQyxTQUFBa0Isb0JBRUE1c0MsS0FBQXlyQyxZQUFBLEVBQ0F6ckMsS0FBQTRyQyxXQUFBVCxFQUFBLFdBQUFVLE1BQ0E3ckMsS0FBQTR0QyxhQUFBLEdBYUE1dEMsS0FBQXNzQyxTQUFBYSxFQUFBYixRQUFBdHNDLEtBQUEwc0MsVUFBQVMsRUFBQVQsVUFDQTFzQyxLQUFBc3NDLE9BQUFhLEVBQUFiLE9BQ0F0c0MsS0FBQTBzQyxRQUFBUyxFQUFBVCxRQUNBMXNDLEtBQUFzc0MsT0FDQXRzQyxLQUFBcXNDLDhCQUVBcnNDLEtBQUEwc0MsU0FBQVMsRUFBQVcsY0FDQTl0QyxLQUFBcXNDLDhCQUNBbEIsRUFBQSxXQUFBNEMsUUFBQS90QyxLQUFBd3JDLFFBQUEyQixFQUFBVyxlQUVBOXRDLEtBQUF3ckMsWUFNQUgsRUFBQTlyQyxVQUFBeXVDLG1CQUFBLFdBRUFodUMsS0FBQTR0QyxhQUNBNXRDLEtBQUErckMsUUFFQS9yQyxLQUFBK3NDLGVBQ0Evc0MsS0FBQW9zQyxPQUlBZixFQUFBOXJDLFVBQUEwdUMscUJBQUEsV0FDQWp1QyxLQUFBcXNDLCtCQUdBaEIsRUFBQTlyQyxVQUFBaUIsT0FBQSxXQUNBLEdBQUFFLEdBQUE4cEMsS0FBMkJ4cUMsS0FBQVUsTUFnQjNCLFFBZkEseUdBQUEyQyxRQUFBLFNBQUF6QixHQUNBLGFBQUFsQixHQUFBa0IsS0FFQWxCLEVBQUFFLE1BQUE0cEMsS0FBNkJ4cUMsS0FBQVUsTUFBQUUsT0FDN0JsRCxPQUFBdUksS0FBQXZGLEVBQUFFLE9BQUF5QyxRQUFBLFNBQUEvRCxHQUNBQSxFQUFBdUksTUFBQSxhQUNBLDBCQUFBeEUsUUFBQSxTQUFBaXJCLEdBQ0EsTUFBQTV0QixHQUFBRSxNQUFBMHRCLEVBQUEsVUFBQTV0QixFQUFBRSxNQUFBdEIsT0FJQW9CLEVBQUF3dEMsVUFBQSxrQkFBQXh0QyxHQUFBd3RDLFVBQUFsdUMsS0FBQVUsTUFBQXl0QyxpQkFBQXp0QyxFQUFBd3RDLFVBQ0F4dEMsRUFBQXd0QyxpQkFDQXh0QyxHQUFBd3RDLFVBRUF2dkMsRUFBQSxXQUFBMEMsY0FBQXJCLEtBQUFVLE1BQUF3dEMsVUFBQXh0QyxJQUdBMnFDLEdBQ0Mzc0MsRUFBQTRDLFdBRUQ4c0MsRUFBQTF2QyxFQUFBbU4sVUFBQXdpQyxXQUFBM3ZDLEVBQUFtTixVQUFBeWlDLE9BQUE1dkMsRUFBQW1OLFVBQUF0SCxPQUVBOG1DLEdBQUF6L0IsV0FDQXNpQyxVQUFBeHZDLEVBQUFtTixVQUFBRyxJQUNBbWlDLGlCQUFBenZDLEVBQUFtTixVQUFBNUgsT0FDQStuQyxVQUFBb0MsRUFDQXZ0QyxTQUFBbkMsRUFBQW1OLFVBQUFHLElBQ0FwTCxNQUFBbEMsRUFBQW1OLFVBQUF5aUMsT0FDQWhDLE9BQUE1dEMsRUFBQW1OLFVBQUFFLEtBQ0EyZ0MsUUFBQWh1QyxFQUFBbU4sVUFBQUUsS0FDQStoQyxhQUFBcHZDLEVBQUFtTixVQUFBd0YsT0FDQS9FLE9BQUE1TixFQUFBbU4sVUFBQXdGLE9BQ0E2NkIsS0FBQXh0QyxFQUFBbU4sVUFBQTVILE9BQ0Frb0MsV0FBQXp0QyxFQUFBbU4sVUFBQUUsS0FDQThnQyxTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQXcyQixlQUFBbnZDLEVBQUFtTixVQUFBRSxNQUdBcy9CLEVBQUE3cEMsY0FDQTBzQyxVQUFBLE1BQ0FKLGFBQUEsRUFDQTVCLEtBQUEsUUFDQVcsU0FBQXRDLEVBQ0E0QixZQUFBLEdBRUFkLEVBQUFrRCxRQUFBdEQsRUFBQSxXQUNBN3RDLEVBQUEsV0FBQWl1QyxFQUNBbHVDLEVBQUFDLFVBQUEsWXBCbzRMTW94QyxHQUNBLFNBQVNyeEMsRUFBUUMsRUFBU0MsR3FCdm9NaEMsWUFZQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FWN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE2d0MsR0FBQXB4QyxFQUFBLEtBRUFxeEMsRUFBQXB4QyxFQUFBbXhDLEdBRUE3RCxFQUFBdnRDLEVBQUEsR0FJQXF4QyxHQUFBLFdBQUEzbUMsS0FBQSxTQUFBNG1DLEVBQUFDLEdBT0EsT0FOQUMsR0FBQUQsTUFDQUUsR0FBQSxFQUFBbEUsRUFBQTlpQyxXQUFBNm1DLEdBQ0FJLEVBQUFELEVBQUFFLGlCQUNBQyxFQUFBSixFQUFBSSxNQUFBLElBQ0FDLEVBQUFMLEVBQUFLLGFBQUEsS0FDQUMsS0FDQXZ2QyxFQUFBLEVBQWlCQSxFQUFBc3ZDLEVBQWlCdHZDLElBQ2xDdXZDLEVBQUF2ckMsS0FBQWtyQyxFQUFBTSxpQkFBQUwsRUFBQUcsRUFBQXR2QyxHQUVBLGlCQUFBUCxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQTdjLEdBQUFvdkMsRUFBQSxXQUFBWSxPQUFBandDLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQW96QixFQUFBTixFQUFBM3ZDLEVBRUFrd0MsRUFBQUwsRUFBQTVULE9BQUEsU0FBQWo0QixHQUNBLE1BQUFBLEdBQUF1ZixHQUFBMHNCLElBQ0ssSUFBQVQsRUFBQU0saUJBQUE5dkMsRUFBQXl2QyxFQUNMLFVBQUFTLEVBQUF0ekIsRUFBQSt5QixJQUlBN3hDLEVBQUEsV0FBQXN4QyxFQUFBLFdBQ0F2eEMsRUFBQUMsVUFBQSxZckI2b01NcXlDLElBQ0wsS0FBTSxLQUVEQyxJQUNMLEtBQU0sS0FFREMsR0FDQSxTQUFTeHlDLEVBQVFDLEdBRXRCLFlBRUFNLFFBQU9DLGVBQWVQLEVBQVMsY0FDN0JRLE9BQU8sR3NCN3JNR2d5QyxRQUFPLEVBQ1BDLFNBQVMsRUFDVEMsTUFBTSxFQUNOQyxTQUFTLEVBQ1RqSixTQUFTLEVBQ1RrSixRQUFRLEVBQ1JDLFNBQVMsR3RCbXNNaEJDLEdBQ0EsU0FBUy95QyxFQUFRQyxFQUFTQyxJdUIxc01oQyxTQUFBNk8sR0FPQSxPQVBBNEgsR0FBQXpXLEVBQUEsS0FDQTh5QyxFQUFBLG1CQUFBdFYsUUFBQTN1QixFQUFBMnVCLE9BQ0F1VixHQUFBLGdCQUNBNWhCLEVBQUEsaUJBQ0E0ZCxFQUFBK0QsRUFBQSxVQUFBM2hCLEdBQ0E2aEIsRUFBQUYsRUFBQSxTQUFBM2hCLElBQUEyaEIsRUFBQSxnQkFBQTNoQixHQUVBNXVCLEVBQUEsR0FBY3dzQyxHQUFBeHNDLEVBQUF3d0MsRUFBQXZ3QyxPQUE0QkQsSUFDMUN3c0MsRUFBQStELEVBQUFDLEVBQUF4d0MsR0FBQSxVQUFBNHVCLEdBQ0E2aEIsRUFBQUYsRUFBQUMsRUFBQXh3QyxHQUFBLFNBQUE0dUIsSUFDQTJoQixFQUFBQyxFQUFBeHdDLEdBQUEsZ0JBQUE0dUIsRUFJQSxLQUFBNGQsSUFBQWlFLEVBQUEsQ0FDQSxHQUFBQyxHQUFBLEVBQ0FDLEVBQUEsRUFDQUMsS0FDQUMsRUFBQSxNQUVBckUsR0FBQSxTQUFBMS9CLEdBQ0EsT0FBQThqQyxFQUFBM3dDLE9BQUEsQ0FDQSxHQUFBNndDLEdBQUE1OEIsSUFDQXpOLEVBQUFpTCxLQUFBMEYsSUFBQSxFQUFBeTVCLEdBQUFDLEVBQUFKLEdBQ0FBLEdBQUFqcUMsRUFBQXFxQyxFQUNBQyxXQUFBLFdBQ0EsR0FBQUMsR0FBQUosRUFBQTM5QixNQUFBLEVBSUEyOUIsR0FBQTN3QyxPQUFBLENBQ0EsUUFBQUQsR0FBQSxFQUFzQkEsRUFBQWd4QyxFQUFBL3dDLE9BQWVELElBQ3JDLElBQUFneEMsRUFBQWh4QyxHQUFBaXhDLFVBQ0EsSUFDQUQsRUFBQWh4QyxHQUFBOE0sU0FBQTRqQyxHQUNhLE1BQUFseEMsR0FDYnV4QyxXQUFBLFdBQXFDLEtBQUF2eEMsSUFBVSxLQUl4Q2tTLEtBQUE0WCxNQUFBN2lCLElBT1AsTUFMQW1xQyxHQUFBNXNDLE1BQ0FrdEMsU0FBQVAsRUFDQTdqQyxXQUNBbWtDLFdBQUEsSUFFQU4sR0FHQUYsRUFBQSxTQUFBUyxHQUNBLE9BQUFseEMsR0FBQSxFQUFrQkEsRUFBQTR3QyxFQUFBM3dDLE9BQWtCRCxJQUNwQzR3QyxFQUFBNXdDLEdBQUFreEMsYUFDQU4sRUFBQTV3QyxHQUFBaXhDLFdBQUEsSUFNQTF6QyxFQUFBQyxRQUFBLFNBQUFpUSxHQUlBLE1BQUErK0IsR0FBQTNzQyxLQUFBMHdDLEVBQUE5aUMsSUFFQWxRLEVBQUFDLFFBQUEyekMsT0FBQSxXQUNBVixFQUFBcHdDLE1BQUFrd0MsRUFBQWp3QyxZQUVBL0MsRUFBQUMsUUFBQTR6QyxTQUFBLFdBQ0FiLEVBQUFjLHNCQUFBN0UsRUFDQStELEVBQUFlLHFCQUFBYixLdkIrc004QjV3QyxLQUFLckMsRUFBVSxXQUFhLE1BQU80QyxXQUkzRG14QyxHQUNBLFNBQVNoMEMsRUFBUUMsRUFBU0MsR3dCMXhNaEMsWUF1Q0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBckM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBdXpDLEdBQUEvekMsRUFBQSxLQUVBZzBDLEVBQUEvekMsRUFBQTh6QyxHQUVBbHpDLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQUksRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQXd5QyxFQUFBajBDLEVBQUEsSUFFQWswQyxFQUFBajBDLEVBQUFnMEMsR0FFQXR5QyxFQUFBM0IsRUFBQSxJQUVBNEIsRUFBQTNCLEVBQUEwQixHQUlBd3lDLEVBQUEsU0FBQXp4QyxHQUdBLFFBQUF5eEMsR0FBQTl3QyxJQUNBLEVBQUF2QyxFQUFBLFlBQUE2QixLQUFBd3hDLEVBRUEsSUFBQWpHLElBQUEsRUFBQWx0QyxFQUFBLFlBQUEyQixLQUFBRCxFQUFBTixLQUFBTyxLQUFBVSxHQXFCQSxPQW5CQTZxQyxHQUFBa0csYUFBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFwRyxFQUFBcUcsTUFBQWgwQyxNQUFBOEIsUUFBQWd5QyxFQUFBOXpDLE9BQ0FBLEtBQUE2RixRQUFBLEVBQUE0dEMsRUFBQSxZQUFBOUYsRUFBQXFHLE1BQUFoMEMsT0FDQSt6QyxRQUNBL3pDLEVBQUFnRyxLQUFBOHRDLEVBQUE5ekMsT0FFQUEsRUFBQTIrQixPQUFBb1YsRUFBQSxHQUVBLFNBQUFwRyxHQUFBN3FDLE9BQ0E2cUMsRUFBQXNHLFVBQWdDajBDLFNBRWhDLElBQUFpdkMsR0FBQXRCLEVBQUE3cUMsTUFBQW1zQyxRQUNBQSxJQUNBQSxFQUFBanZDLElBR0EydEMsRUFBQXFHLE9BQ0FoMEMsTUFBQThDLEVBQUE5QyxPQUFBOEMsRUFBQW94QyxrQkFFQXZHLEVBMERBLE9BcEZBLEVBQUFodEMsRUFBQSxZQUFBaXpDLEVBQUF6eEMsR0E2QkF5eEMsRUFBQWp5QyxVQUFBMnRDLDBCQUFBLFNBQUFDLEdBQ0EsU0FBQUEsSUFDQW50QyxLQUFBNnhDLFVBQ0FqMEMsTUFBQXV2QyxFQUFBdnZDLGFBS0E0ekMsRUFBQWp5QyxVQUFBWSxzQkFBQSxXQUNBLE9BQUFDLEdBQUFGLFVBQUFMLE9BQUFRLEVBQUFDLE1BQUFGLEdBQUFHLEVBQUEsRUFBdUVBLEVBQUFILEVBQWFHLElBQ3BGRixFQUFBRSxHQUFBTCxVQUFBSyxFQUdBLE9BQUF0QixHQUFBLFdBQUFrQixzQkFBQUYsTUFBQUQsS0FBQUssSUFHQW14QyxFQUFBanlDLFVBQUF3eUMsV0FBQSxXQUNBLEdBQUFDLEdBQUFoeUMsS0FBQVUsTUFBQXN4QyxPQUdBLE9BQUFBLEdBQUE3a0MsSUFBQSxTQUFBdWtDLEdBQ0Esc0JBQUFBLElBRUEzdUMsTUFBQTJ1QyxFQUNBOXpDLE1BQUE4ekMsR0FHQUEsS0FJQUYsRUFBQWp5QyxVQUFBaUIsT0FBQSxXQUNBLEdBQUE0c0MsR0FBQXB0QyxLQUVBNkssRUFBQTdLLEtBQUFVLE1BQ0FDLEVBQUFrSyxFQUFBbEssVUFDQUcsRUFBQStKLEVBQUEvSixVQUVBa3hDLEVBQUFoeUMsS0FBQSt4QyxhQUFBNWtDLElBQUEsU0FBQXVrQyxHQUNBLE1BQUEveUMsR0FBQSxXQUFBMEMsY0FDQWt3QyxFQUFBLFlBQ2lCeHRDLFNBQUEsWUFBQTJ0QyxLQUFBM3RDLFNBQUFxcEMsRUFBQTFzQyxNQUFBcUQsU0FBQTIxQixRQUFBMFQsRUFBQXdFLE1BQUFoMEMsTUFBQThCLFFBQUFneUMsRUFBQTl6QyxZQUFBaXZDLFNBQUEsV0FDakIsTUFBQU8sR0FBQXFFLGFBQUFDLElBQ3FCNXdDLFVBQUFILEVBQUEsUUFBQWlCLElBQUE4dkMsRUFBQTl6QyxPQUNyQjh6QyxFQUFBM3VDLFNBR0E1QixHQUFBLEVBQUFwQyxFQUFBLFlBQUE0QixFQUFBRyxFQUNBLE9BQUFuQyxHQUFBLFdBQUEwQyxjQUNBLE9BQ2FQLFVBQUFLLEdBQ2I2d0MsSUFJQVIsR0FDQzd5QyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBbzBDLEVBRUFBLEVBQUFod0MsY0FDQXd3QyxXQUNBcnhDLFVBQUEsc0JBRUE2d0MsRUFBQTVsQyxXQUNBa21DLGFBQUFuekMsRUFBQSxXQUFBa04sVUFBQXRILE1BQ0EzRyxNQUFBZSxFQUFBLFdBQUFrTixVQUFBdEgsTUFDQXl0QyxRQUFBcnpDLEVBQUEsV0FBQWtOLFVBQUF0SCxNQUFBMHRDLFdBQ0FwRixTQUFBbHVDLEVBQUEsV0FBQWtOLFVBQUF3TCxNQUVBbGEsRUFBQUMsVUFBQSxZeEJneU1NODBDLEdBQ0EsU0FBUy8wQyxFQUFRQyxFQUFTQyxHeUI5Nk1oQyxZQTJDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0F6QzdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFDLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQUksRUFBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBeXpDLEVBQUE5MEMsRUFBQSxJQUVBKzBDLEVBQUE5MEMsRUFBQTYwQyxHQUVBRSxFQUFBaDFDLEVBQUEsSUFFQWkxQyxFQUFBaDFDLEVBQUErMEMsR0FFQUUsRUFBQWwxQyxFQUFBLElBRUFtMUMsRUFBQWwxQyxFQUFBaTFDLEdBRUF6ekMsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FJQUksRUFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEtBQ0EsUUFBQUMsS0FBQUgsR0FDQXpCLE9BQUE2QixVQUFBQyxlQUFBQyxLQUFBTixFQUFBRyxJQUFBRixFQUFBTSxRQUFBSixHQUFBLElBQUFELEVBQUFDLEdBQUFILEVBQUFHLEdBQ0ssVUFBQUgsR0FBQSxrQkFBQXpCLFFBQUFpQyxzQkFBQSxPQUFBQyxHQUFBLEVBQUFOLEVBQUE1QixPQUFBaUMsc0JBQUFSLEdBQXlIUyxFQUFBTixFQUFBTyxPQUFjRCxJQUM1SVIsRUFBQU0sUUFBQUosRUFBQU0sSUFBQSxJQUFBUCxFQUFBQyxFQUFBTSxJQUFBVCxFQUFBRyxFQUFBTSxJQUNLLE9BQUFQLElBR0xvekMsRUFBQUwsRUFBQSxXQUFBN3dDLE1BRUFteEMsRUFBQSxTQUFBM3lDLEdBR0EsUUFBQTJ5QyxLQUVBLE9BREEsRUFBQXYwQyxFQUFBLFlBQUE2QixLQUFBMHlDLElBQ0EsRUFBQXIwQyxFQUFBLFlBQUEyQixLQUFBRCxFQUFBRSxNQUFBRCxLQUFBRSxZQStDQSxPQW5EQSxFQUFBM0IsRUFBQSxZQUFBbTBDLEVBQUEzeUMsR0FPQTJ5QyxFQUFBbnpDLFVBQUFpQixPQUFBLFdBQ0EsR0FBQUMsR0FBQVQsS0FBQVUsTUFDQTZDLEVBQUE5QyxFQUFBOEMsS0FDQW92QyxFQUFBbHlDLEVBQUFreUMsUUFDQUMsRUFBQW55QyxFQUFBbXlDLFFBQ0FDLEVBQUFweUMsRUFBQW95QyxNQUNBaHlDLEVBQUFKLEVBQUFJLFNBQ0FDLEVBQUFMLEVBQUFLLFVBQ0FneUMsRUFBQXJ5QyxFQUFBcXlDLFFBQ0FueUMsRUFBQUYsRUFBQUUsVUFDQW9ELEVBQUF0RCxFQUFBc0QsU0FDQWd2QyxFQUFBdHlDLEVBQUFzeUMsUUFDQUMsRUFBQXZ5QyxFQUFBdXlDLGdCQUNBOXhDLEVBQUFoQyxFQUFBdUIsR0FBQSx5SEFDQTJLLEdBQUEsRUFBQXJNLEVBQUEsWUFBQTRCLEVBQUFHLEdBQ0FteUMsR0FDQUosUUFDQUYsVUFDQUMsUUFBQTd1QyxLQUFBNnVDLEVBQ0FJLGtCQUtBLE9BSEEsV0FBQWh6QyxNQUFBVSxRQUNBdXlDLEVBQUFGLFdBRUFwMEMsRUFBQSxXQUFBMEMsY0FDQW94QyxHQUNBLEVBQUExMEMsRUFBQSxlQUF3Q21ELEdBQWNKLFVBQUFzSyxJQUN0RHpNLEVBQUEsV0FBQTBDLGNBQ0Erd0MsRUFBQSxZQUNpQjd1QyxPQUFBdXZDLFVBQUEvdUMsWUFDakJsRCxHQUVBbEMsRUFBQSxXQUFBMEMsY0FDQW14QyxFQUFBLFdBQ0FTLEVBQ0F0MEMsRUFBQSxXQUFBMEMsY0FDQSt3QyxFQUFBLFlBQ3FCN3VDLE9BQUFRLFlBQ3JCcEYsRUFBQSxXQUFBMEMsY0FBQWl4QyxFQUFBLFlBQXlFL3VDLEtBQUEsYUFNekVtdkMsR0FDQy96QyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBczFDLEVBRUFBLEVBQUFseEMsY0FDQXF4QyxPQUNBMUQsUUFBQSxXQUNBd0QsU0FDQU8sUUFBQSxFQUNBQyxRQUFBLEdBRUFocUIsUUFBQSxLQUNBaXFCLGNBQUEsTUFFQTd2QyxLQUFBLFVBQ0E1QyxVQUFBLHVCQUVBeEQsRUFBQUMsVUFBQSxZekJvN01NaTJDLEdBQ0EsU0FBU2wyQyxFQUFRQyxFQUFTQyxHMEJuak5oQyxZQWNBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVo3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTIwQyxHQUFBbDFDLEVBQUEsSUFFQW0xQyxFQUFBbDFDLEVBQUFpMUMsR0FFQWUsRUFBQWoyQyxFQUFBLElBRUFrMkMsRUFBQWoyQyxFQUFBZzJDLEVBSUFkLEdBQUEsV0FBQXpOLE9BQUF3TyxFQUFBLFdBQ0FuMkMsRUFBQSxXQUFBbzFDLEVBQUEsV0FDQXIxQyxFQUFBQyxVQUFBLFkxQnlqTk1vMkMsR0FDQSxTQUFTcjJDLEVBQVFDLEVBQVNDLEcyQjVrTmhDLFlBRUFBLEdBQUEsSUFFQUEsRUFBQSxLQUVBQSxFQUFBLEszQmtsTk1vMkMsR0FDQSxTQUFTdDJDLEVBQVFDLEVBQVNDLEc0QnpsTmhDLFlBK0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQTdCN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFdBQUFTLE1BRUEsSUFBQUMsR0FBQVQsRUFBQSxHQUVBVSxFQUFBVCxFQUFBUSxHQUVBSSxFQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUFJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnMUMsRUFBQXIyQyxFQUFBLElBRUFzMkMsRUFBQXIyQyxFQUFBbzJDLEdBSUFFLEVBQUEsU0FBQTd6QyxHQUdBLFFBQUE2ekMsS0FFQSxPQURBLEVBQUF6MUMsRUFBQSxZQUFBNkIsS0FBQTR6QyxJQUNBLEVBQUF2MUMsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUFPQSxPQVhBLEVBQUEzQixFQUFBLFlBQUFxMUMsRUFBQTd6QyxHQU9BNnpDLEVBQUFyMEMsVUFBQWlCLE9BQUEsV0FDQSxNQUFBN0IsR0FBQSxXQUFBMEMsY0FBQXN5QyxFQUFBLGNBQUE1MUMsRUFBQSxhQUFnR2dOLEtBQUEsU0FBZ0IvSyxLQUFBVSxTQUdoSGt6QyxHQUNDajFDLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUF3MkMsRUFFQUEsRUFBQXJvQyxPQUFBb29DLEVBQUEsV0FBQXBvQyxPQUNBcE8sRUFBQUMsVUFBQSxZNUIrbE5NeTJDLEdBQ0EsU0FBUzEyQyxFQUFRQyxFQUFTQyxHNkJucE5oQyxZQTJDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0F6QzdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFDLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQUksRUFBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBbzFDLEVBQUF6MkMsRUFBQSxLQUVBMDJDLEVBQUF6MkMsRUFBQXcyQyxHQUVBSixFQUFBcjJDLEVBQUEsSUFFQXMyQyxFQUFBcjJDLEVBQUFvMkMsR0FFQU0sRUFBQTMyQyxFQUFBLElBRUE0MkMsRUFBQTMyQyxFQUFBMDJDLEdBRUFFLEVBQUE3MkMsRUFBQSxJQUVBODJDLEVBQUE3MkMsRUFBQTQyQyxHQUlBRSxFQUFBLFNBQUFyMEMsR0FHQSxRQUFBcTBDLEtBRUEsT0FEQSxFQUFBajJDLEVBQUEsWUFBQTZCLEtBQUFvMEMsSUFDQSxFQUFBLzFDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFFLE1BQUFELEtBQUFFLFlBbUJBLE9BdkJBLEVBQUEzQixFQUFBLFlBQUE2MUMsRUFBQXIwQyxHQU9BcTBDLEVBQUE3MEMsVUFBQWlCLE9BQUEsV0FDQSxHQUFBTSxHQUFBZCxLQUFBVSxNQUFBSSxVQUNBdXpDLEVBQUFWLEVBQUEsV0FDQTdsQyxFQUFBLE1BVUEsT0FSQUEsR0FEQTlOLEtBQUFzTCxRQUFBRCxXQUFBckwsS0FBQXNMLFFBQUFELFVBQUErb0MsV0FDQXAwQyxLQUFBc0wsUUFBQUQsVUFBQStvQyxXQUVBcDBDLEtBQUFVLE1BQUFvTixPQUVBLFVBQUE5TixLQUFBVSxNQUFBcUssT0FDQWpLLEdBQUEsUUFDQXV6QyxFQUFBSixFQUFBLFlBRUF0MUMsRUFBQSxXQUFBMEMsY0FBQTB5QyxFQUFBLGNBQUFoMkMsRUFBQSxhQUFzR3MyQyx1QkFBQUMsZ0JBQUF0MEMsS0FBQVUsTUFBQTR6QyxpQkFBMEZ0MEMsS0FBQVUsT0FBZW9OLFNBQUFoTixnQkFHL01zekMsR0FDQ3oxQyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBZzNDLEVBRUFBLEVBQUE1eUMsY0FDQXNNLE9BQUFxbUMsRUFBQSxXQUNBcnpDLFVBQUEsR0FDQUgsVUFBQSxpQkFDQTJ6QyxnQkFBQSxjQUVBRixFQUFBRyxjQUNBbHBDLFVBQUExTSxFQUFBLFdBQUFrTixVQUFBeWlDLFFBRUFueEMsRUFBQUMsVUFBQSxZN0J5cE5NbzNDLEdBQ0EsU0FBU3IzQyxFQUFRQyxFQUFTQyxHOEI3dU5oQyxZQVVBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTYyQyxHQUFBcDNDLEVBQUEsSUFFQXEzQyxFQUFBcDNDLEVBQUFtM0MsRUFJQXIzQyxHQUFBLFdBQUFzM0MsRUFBQSxXQUNBdjNDLEVBQUFDLFVBQUEsWTlCbXZOTXUzQyxHQUNBLFNBQVN4M0MsRUFBUUMsRUFBU0MsRytCandOaEMsWUFFQUEsR0FBQSxJQUVBQSxFQUFBLEtBRUFBLEVBQUEsSUFFQUEsRUFBQSxLL0J1d05NdTNDLEdBQ0EsU0FBU3ozQyxFQUFRQyxFQUFTQyxHZ0NoeE5oQyxZQStDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQXMzQyxHQUFBaDBDLEdBQ0EsR0FBQWpELEdBQUEsS0FDQTZhLEdBQUEsQ0FPQSxPQU5BOVosR0FBQSxXQUFBeUUsU0FBQUMsUUFBQXhDLEVBQUEsU0FBQWkwQyxHQUNBQSxLQUFBcDBDLE9BQUFvMEMsRUFBQXAwQyxNQUFBZzVCLFVBQ0E5N0IsRUFBQWszQyxFQUFBcDBDLE1BQUE5QyxNQUNBNmEsR0FBQSxLQUdBQSxHQUFzQjdhLFNBQWVDLE9BeERyQ0gsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBRyxHQUFBWCxFQUFBLEdBRUFZLEVBQUFYLEVBQUFVLEdBRUFFLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQUksRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQWttQyxFQUFBM25DLEVBQUEsSUFFQTRuQyxFQUFBM25DLEVBQUEwbkMsR0FFQUksRUFBQS9uQyxFQUFBLElBRUFnb0MsRUFBQS9uQyxFQUFBOG5DLEdBRUFwbUMsRUFBQTNCLEVBQUEsSUFFQTRCLEVBQUEzQixFQUFBMEIsR0FFQSsxQyxFQUFBMTNDLEVBQUEsR0FFQTIzQyxFQUFBMTNDLEVBQUF5M0MsR0FnQkFFLEVBQUEsU0FBQWwxQyxHQUdBLFFBQUFrMUMsR0FBQXYwQyxJQUNBLEVBQUF2QyxFQUFBLFlBQUE2QixLQUFBaTFDLEVBRUEsSUFBQTFKLElBQUEsRUFBQWx0QyxFQUFBLFlBQUEyQixLQUFBRCxFQUFBTixLQUFBTyxLQUFBVSxHQUVBNnFDLEdBQUEySixjQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQTdKLEVBQUFxRyxNQUFBaDBDLE1BQ0FBLEVBQUF1M0MsRUFBQXJ1QyxPQUFBbEosS0FFQSxVQUFBMnRDLEdBQUE3cUMsT0FDQTZxQyxFQUFBc0csVUFDQWowQyxTQUdBLElBQUFpdkMsR0FBQXRCLEVBQUE3cUMsTUFBQW1zQyxRQUNBQSxJQUFBanZDLElBQUF3M0MsR0FDQXZJLEVBQUFzSSxHQUdBLElBQUF2M0MsR0FBQSxNQUNBLGFBQUE4QyxHQUNBOUMsRUFBQThDLEVBQUE5QyxVQUNTLG9CQUFBOEMsR0FDVDlDLEVBQUE4QyxFQUFBb3hDLGlCQUNTLENBQ1QsR0FBQXVELEdBQUFSLEVBQUFuMEMsRUFBQUcsU0FDQWpELEdBQUF5M0MsS0FBQXozQyxNQUtBLE1BSEEydEMsR0FBQXFHLE9BQ0FoMEMsU0FFQTJ0QyxFQXFEQSxPQXRGQSxFQUFBaHRDLEVBQUEsWUFBQTAyQyxFQUFBbDFDLEdBb0NBazFDLEVBQUExMUMsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQUNBLFlBQUFBLEdBQ0FudEMsS0FBQTZ4QyxVQUNBajBDLE1BQUF1dkMsRUFBQXZ2QyxZQUVTLENBQ1QsR0FBQXkzQyxHQUFBUixFQUFBMUgsRUFBQXRzQyxTQUNBdzBDLElBQ0FyMUMsS0FBQTZ4QyxVQUNBajBDLE1BQUF5M0MsRUFBQXozQyxVQU1BcTNDLEVBQUExMUMsVUFBQVksc0JBQUEsV0FDQSxPQUFBQyxHQUFBRixVQUFBTCxPQUFBUSxFQUFBQyxNQUFBRixHQUFBRyxFQUFBLEVBQXVFQSxFQUFBSCxFQUFhRyxJQUNwRkYsRUFBQUUsR0FBQUwsVUFBQUssRUFHQSxPQUFBdEIsR0FBQSxXQUFBa0Isc0JBQUFGLE1BQUFELEtBQUFLLElBR0E0MEMsRUFBQTExQyxVQUFBaUIsT0FBQSxXQUNBLEdBQUE0c0MsR0FBQXB0QyxLQUVBVSxFQUFBVixLQUFBVSxNQUNBRyxFQUFBSCxFQUFBRyxTQUFBbEMsRUFBQSxXQUFBeUUsU0FBQStKLElBQUF6TSxFQUFBRyxTQUFBLFNBQUFpMEMsR0FDQSxNQUFBQSxPQUFBdnhDLE9BQUEwaEMsRUFBQSxZQUFBNlAsRUFBQXZ4QyxPQUFBOGhDLEVBQUEsYUFBQXlQLEVBQUFwMEMsTUFDQS9CLEVBQUEsV0FBQW1uQyxhQUFBZ1AsR0FBQSxFQUFBRSxFQUFBLGVBQStGRixFQUFBcDBDLE9BQy9GbXNDLFNBQUFPLEVBQUE4SCxjQUNBeGIsUUFBQTBULEVBQUF3RSxNQUFBaDBDLFFBQUFrM0MsRUFBQXAwQyxNQUFBOUMsTUFDQW1HLFNBQUErd0MsRUFBQXAwQyxNQUFBcUQsVUFBQXFwQyxFQUFBMXNDLE1BQUFxRCxZQUdBK3dDLE9BRUFRLEVBQUE1MEMsRUFBQUMsVUFDQUEsRUFBQTlDLFNBQUF5M0MsRUFBQSxrQkFBQUEsRUFDQXhxQyxFQUFBcEssRUFBQUksVUFDQUEsRUFBQWpELFNBQUFpTixFQUFBLEdBQUFBLEVBRUEzSixHQUFBLEVBQUFwQyxFQUFBLFlBQUE0QixHQUFBLEVBQUExQyxFQUFBLGVBQXFHMEMsRUFBQSxJQUFBRCxFQUFBcUssS0FBQXJLLEVBQUFxSyxNQUFBakssRUFDckcsT0FBQW5DLEdBQUEsV0FBQTBDLGNBQ0EsT0FDYVAsVUFBQUssRUFBQVAsTUFBQUYsRUFBQUUsTUFBQUksYUFBQU4sRUFBQU0sYUFBQUMsYUFBQVAsRUFBQU8sY0FDYkosSUFJQW8wQyxHQUNDdDJDLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUE2M0MsRUFFQUEsRUFBQXp6QyxjQUNBdUMsVUFBQSxHQUVBNUcsRUFBQUMsVUFBQSxZaENzeE5NbTRDLEdBQ0EsU0FBU3A0QyxFQUFRQyxFQUFTQyxHaUNuN05oQyxZQUVBQSxHQUFBLElBRUFBLEVBQUEsTWpDeTdOTW00QyxHQUNBLFNBQVNyNEMsRUFBUUMsRUFBU0MsR2tDOTdOaEMsWUF1QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBckI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBSyxHQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUE4bkMsRUFBQS9vQyxFQUFBLElBRUFncEMsRUFBQS9vQyxFQUFBOG9DLEdBSUF0TSxFQUFBLFNBQUEyYixHQUdBLFFBQUEzYixLQUVBLE9BREEsRUFBQTM3QixFQUFBLFlBQUE2QixLQUFBODVCLElBQ0EsRUFBQXo3QixFQUFBLFlBQUEyQixLQUFBeTFDLEVBQUF4MUMsTUFBQUQsS0FBQUUsWUFHQSxPQVBBLEVBQUEzQixFQUFBLFlBQUF1N0IsRUFBQTJiLEdBT0EzYixHQUNDdU0sRUFBQSxXQUFBdk0sT0FFRDE4QixHQUFBLFdBQUEwOEIsRUFDQTM4QixFQUFBQyxVQUFBLFlsQ284Tk1zNEMsR0FDQSxTQUFTdjRDLEVBQVFDLEVBQVNDLEdtQzErTmhDLFlBVUEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBUjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBYyxHQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixFQUlBdEIsR0FBQSxvQkFBQXNELEdBQ0EsTUFBQS9CLEdBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQUosRUFBQUksVUFBQWd5QyxRQUFBcHlDLEVBQUFveUMsU0FDVHB5QyxFQUFBRyxXQUlBMUQsRUFBQUMsVUFBQSxZbkNnL05NdTRDLEdBQ0EsU0FBU3g0QyxFQUFRQyxFQUFTQyxHb0NyZ09oQyxZQStCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0E3QjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFLLEdBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWszQyxFQUFBdjRDLEVBQUEsSUFFQXc0QyxFQUFBdjRDLEVBQUFzNEMsR0FFQTVRLEVBQUEzbkMsRUFBQSxJQUVBNG5DLEVBQUEzbkMsRUFBQTBuQyxHQUlBOFEsRUFBQSxTQUFBLzFDLEdBR0EsUUFBQSsxQyxHQUFBcDFDLElBQ0EsRUFBQXZDLEVBQUEsWUFBQTZCLEtBQUE4MUMsRUFFQSxJQUFBdkssSUFBQSxFQUFBbHRDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBS0EsT0FIQTZxQyxHQUFBcUcsT0FDQWxZLFFBQUE2UixFQUFBd0ssY0FBQXIxQyxJQUVBNnFDLEVBb0RBLE9BOURBLEVBQUFodEMsRUFBQSxZQUFBdTNDLEVBQUEvMUMsR0FhQSsxQyxFQUFBdjJDLFVBQUF5dEMsa0JBQUEsV0FDQWh0QyxLQUFBZzJDLGFBR0FGLEVBQUF2MkMsVUFBQTB1QyxxQkFBQSxXQUNBanVDLEtBQUFpMkMsYUFDQWoyQyxLQUFBaTJDLGVBSUFILEVBQUF2MkMsVUFBQXkyQyxVQUFBLFdBQ0EsR0FBQTVJLEdBQUFwdEMsS0FFQWsyQyxFQUFBbDJDLEtBQUFVLE1BQUF3MUMsS0FFQWwyQyxNQUFBaTJDLFlBQUFDLEVBQUFGLFVBQUEsV0FDQSxHQUFBdGMsR0FBQTBULEVBQUEySSxjQUFBM0ksRUFBQTFzQyxNQUNBMHNDLEdBQUF5RSxVQUE2Qm5ZLGVBSTdCb2MsRUFBQXYyQyxVQUFBdzJDLGNBQUEsU0FBQXIxQyxHQUNBLEdBQUF3MUMsR0FBQXgxQyxFQUFBdzFDLE1BQ0FDLEVBQUF6MUMsRUFBQXkxQyxpQkFDQUMsRUFBQTExQyxFQUFBMDFDLFNBRUExYyxHQUFBLENBTUEsT0FKQUEsR0FEQXdjLEVBQUFHLFdBQUFDLGVBQ0FKLEVBQUFHLFdBQUFFLGdCQUFBNzJDLFFBQUEwMkMsSUFBQSxFQUVBRixFQUFBRyxXQUFBRSxnQkFBQTcyQyxRQUFBMDJDLElBQUEsR0FBQUQsRUFBQXoyQyxRQUFBMDJDLElBQUEsR0FLQU4sRUFBQXYyQyxVQUFBaUIsT0FBQSxXQUNBLEdBQUFxSyxHQUFBN0ssS0FBQVUsTUFDQTZDLEVBQUFzSCxFQUFBdEgsS0FDQTZ5QyxFQUFBdnJDLEVBQUF1ckMsU0FDQXJ5QyxFQUFBOEcsRUFBQTlHLFNBQ0E4b0MsRUFBQWhpQyxFQUFBZ2lDLFNBQ0FuVCxFQUFBMTVCLEtBQUE0eEMsTUFBQWxZLE9BRUEsaUJBQUFuMkIsRUFDQTVFLEVBQUEsV0FBQTBDLGNBQUE0akMsRUFBQSxZQUF5RWxoQyxXQUFBOG9DLFdBQUFqdkMsTUFBQXc0QyxFQUFBMWMsWUFFekUvNkIsRUFBQSxXQUFBMEMsY0FBQXcwQyxFQUFBLFlBQXdFbmMsVUFBQTMxQixXQUFBOG9DLGNBR3hFaUosR0FDQ24zQyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBMDRDLEVBQ0EzNEMsRUFBQUMsVUFBQSxZcEMyZ09NbzVDLEdBQ0EsU0FBU3I1QyxFQUFRQyxFQUFTQyxHcUNobk9oQyxZQTJCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0F6QjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBUyxNQUVBLElBQUFLLEdBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWszQyxFQUFBdjRDLEVBQUEsSUFFQXc0QyxFQUFBdjRDLEVBQUFzNEMsR0FJQWEsRUFBQSxTQUFBMTJDLEdBR0EsUUFBQTAyQyxHQUFBLzFDLElBQ0EsRUFBQXZDLEVBQUEsWUFBQTZCLEtBQUF5MkMsRUFFQSxJQUFBbEwsSUFBQSxFQUFBbHRDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBTUEsT0FKQTZxQyxHQUFBcUcsT0FDQWxZLFFBQUE2UixFQUFBd0ssY0FBQXIxQyxHQUNBSyxjQUFBd3FDLEVBQUFtTCxzQkFBQWgyQyxJQUVBNnFDLEVBNEZBLE9BdkdBLEVBQUFodEMsRUFBQSxZQUFBazRDLEVBQUExMkMsR0FjQTAyQyxFQUFBbDNDLFVBQUF5dEMsa0JBQUEsV0FDQWh0QyxLQUFBZzJDLGFBR0FTLEVBQUFsM0MsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQUNBbnRDLEtBQUEyMkMsY0FBQXhKLElBR0FzSixFQUFBbDNDLFVBQUEwdUMscUJBQUEsV0FDQWp1QyxLQUFBaTJDLGFBQ0FqMkMsS0FBQWkyQyxlQUlBUSxFQUFBbDNDLFVBQUF5MkMsVUFBQSxXQUNBLEdBQUE1SSxHQUFBcHRDLEtBRUFrMkMsRUFBQWwyQyxLQUFBVSxNQUFBdzFDLEtBRUFsMkMsTUFBQWkyQyxZQUFBQyxFQUFBRixVQUFBLFdBQ0E1SSxFQUFBdUosY0FBQXZKLEVBQUExc0MsVUFJQSsxQyxFQUFBbDNDLFVBQUFxM0MsZUFBQSxTQUFBdDBCLEVBQUEvZSxFQUFBc3pDLEdBQ0EsR0FBQWhzQyxHQUFBN0ssS0FBQVUsTUFDQXcxQyxFQUFBcnJDLEVBQUFxckMsTUFDQVksRUFBQWpzQyxFQUFBaXNDLHVCQUNBQyxFQUFBbHNDLEVBQUFrc0MsWUFHQSxrQkFBQXh6QyxHQUFBLFNBQUFBLEtBQ0FzekMsRUFBQXYwQixFQUFBL2UsR0FBQSxTQUFBRCxFQUFBMUQsR0FDQSxNQUFBazNDLEdBQUF4ekMsRUFBQTFELEdBQUFvM0MsaUJBQ2ExMEIsRUFBQS9lLEdBQUEsU0FBQUQsRUFBQTFELEdBQ2IsTUFBQXMyQyxHQUFBRyxXQUFBRSxnQkFBQTcyQyxRQUFBcTNDLEVBQUF6ekMsRUFBQTFELEtBQUEsTUFNQTYyQyxFQUFBbDNDLFVBQUFvM0MsY0FBQSxTQUFBajJDLEdBQ0EsR0FBQWc1QixHQUFBMTVCLEtBQUErMUMsY0FBQXIxQyxHQUNBSyxFQUFBZixLQUFBMDJDLHNCQUFBaDJDLEVBQ0FnNUIsS0FBQTE1QixLQUFBNHhDLE1BQUFsWSxTQUNBMTVCLEtBQUE2eEMsVUFBMkJuWSxZQUUzQjM0QixJQUFBZixLQUFBNHhDLE1BQUE3d0MsZUFDQWYsS0FBQTZ4QyxVQUEyQjl3QyxtQkFJM0IwMUMsRUFBQWwzQyxVQUFBdzJDLGNBQUEsU0FBQXIxQyxHQUNBLEdBQUF3MUMsR0FBQXgxQyxFQUFBdzFDLE1BQ0E1ekIsRUFBQTVoQixFQUFBNGhCLEtBRUFvWCxFQUFBLE1BTUEsT0FGQUEsS0FIQXBYLEVBQUF6aUIsU0FHQXEyQyxFQUFBRyxXQUFBQyxlQUFBdDJDLEtBQUE0MkMsZUFBQXQwQixFQUFBLFlBQUF0aUIsS0FBQTQyQyxlQUFBdDBCLEVBQUEsYUFBQXRpQixLQUFBNDJDLGVBQUF0MEIsRUFBQSxjQUtBbTBCLEVBQUFsM0MsVUFBQW0zQyxzQkFBQSxTQUFBaDJDLEdBQ0EsR0FBQXcxQyxHQUFBeDFDLEVBQUF3MUMsTUFDQTV6QixFQUFBNWhCLEVBQUE0aEIsS0FFQXZoQixFQUFBLE1BTUEsT0FGQUEsS0FIQXVoQixFQUFBemlCLFNBR0FxMkMsRUFBQUcsV0FBQUMsZUFBQXQyQyxLQUFBNDJDLGVBQUF0MEIsRUFBQSxhQUFBdGlCLEtBQUE0MkMsZUFBQXQwQixFQUFBLFlBQUF0aUIsS0FBQTQyQyxlQUFBdDBCLEVBQUEsYUFBQXRpQixLQUFBNDJDLGVBQUF0MEIsRUFBQSxhQUFBdGlCLEtBQUE0MkMsZUFBQXQwQixFQUFBLGFBQUF0aUIsS0FBQTQyQyxlQUFBdDBCLEVBQUEsY0FLQW0wQixFQUFBbDNDLFVBQUFpQixPQUFBLFdBQ0EsR0FBQXdLLEdBQUFoTCxLQUFBVSxNQUNBcUQsRUFBQWlILEVBQUFqSCxTQUNBOG9DLEVBQUE3aEMsRUFBQTZoQyxTQUNBb0ssRUFBQWozQyxLQUFBNHhDLE1BQ0FsWSxFQUFBdWQsRUFBQXZkLFFBQ0EzNEIsRUFBQWsyQyxFQUFBbDJDLGFBRUEsT0FBQXBDLEdBQUEsV0FBQTBDLGNBQUF3MEMsRUFBQSxZQUF3RW5jLFVBQUEzNEIsZ0JBQUFnRCxXQUFBOG9DLGNBR3hFNEosR0FDQzkzQyxFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBcTVDLEVBQ0F0NUMsRUFBQUMsVUFBQSxZckNzbk9NODVDLEdBQ0EsU0FBUy81QyxFQUFRQyxFQUFTQyxHc0Nod09oQyxZQXlGQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FvQjdFLFFBQUFndEMsTUFDQSxRQUFBNE0sR0FBQS8zQyxHQUNBQSxFQUFBKzNDLGtCQUNBLzNDLEVBQUFnNEMsWUFBQUMsMEJBQ0FqNEMsRUFBQWc0QyxZQUFBQywyQkEvR0EzNUMsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQVMsTUFFQSxJQUFBQyxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUF3NUMsRUFBQWo2QyxFQUFBLElBRUFrNkMsRUFBQWo2QyxFQUFBZzZDLEdBRUF0NUMsRUFBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBRSxFQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUFJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUEwbkMsRUFBQS9vQyxFQUFBLElBRUFncEMsRUFBQS9vQyxFQUFBOG9DLEdBRUFvUixFQUFBbjZDLEVBQUEsS0FFQW82QyxFQUFBbjZDLEVBQUFrNkMsR0FFQUUsRUFBQXI2QyxFQUFBLElBRUFzNkMsRUFBQXI2QyxFQUFBbzZDLEdBRUFyRixFQUFBaDFDLEVBQUEsSUFFQWkxQyxFQUFBaDFDLEVBQUErMEMsR0FFQXVGLEVBQUF2NkMsRUFBQSxLQUVBdzZDLEVBQUF2NkMsRUFBQXM2QyxHQUVBOTRDLEVBQUF6QixFQUFBLEdBRUEwQixFQUFBekIsRUFBQXdCLEdBRUE4ckMsRUFBQXZ0QyxFQUFBLEtBRUEwM0MsRUFBQTEzQyxFQUFBLEdBRUEyM0MsRUFBQTEzQyxFQUFBeTNDLEdBRUErQyxFQUFBejZDLEVBQUEsSUFFQTA2QyxFQUFBejZDLEVBQUF3NkMsR0FFQUUsRUFBQTM2QyxFQUFBLEtBRUE0NkMsRUFBQTM2QyxFQUFBMDZDLEdBRUFFLEVBQUE3NkMsRUFBQSxJQUVBODZDLEVBQUE3NkMsRUFBQTQ2QyxHQUVBRSxFQUFBLzZDLEVBQUEsSUFFQWc3QyxFQUFBLzZDLEVBQUE4NkMsR0FFQUUsRUFBQWo3QyxFQUFBLElBRUFrN0MsRUFBQWo3QyxFQUFBZzdDLEdBRUFFLEVBQUFuN0MsRUFBQSxJQUVBbzdDLEVBQUFuN0MsRUFBQWs3QyxHQUlBRSxFQUFBaDdDLE9BQUErc0MsUUFBQSxTQUFBcHJDLEdBQ0EsT0FBQUYsR0FBQVMsRUFBQSxFQUFBODZCLEVBQUF4NkIsVUFBQUwsT0FBNENELEVBQUE4NkIsRUFBTzk2QixJQUFBLENBQ25EVCxFQUFBZSxVQUFBTixFQUNBLFFBQUFOLEtBQUFILEdBQ0F6QixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQU4sRUFBQUcsS0FBQUQsRUFBQUMsR0FBQUgsRUFBQUcsSUFHQSxNQUFBRCxJQUVBSCxFQUFBLFNBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsS0FDQSxRQUFBQyxLQUFBSCxHQUNBekIsT0FBQTZCLFVBQUFDLGVBQUFDLEtBQUFOLEVBQUFHLElBQUFGLEVBQUFNLFFBQUFKLEdBQUEsSUFBQUQsRUFBQUMsR0FBQUgsRUFBQUcsR0FDSyxVQUFBSCxHQUFBLGtCQUFBekIsUUFBQWlDLHNCQUFBLE9BQUFDLEdBQUEsRUFBQU4sRUFBQTVCLE9BQUFpQyxzQkFBQVIsR0FBeUhTLEVBQUFOLEVBQUFPLE9BQWNELElBQzVJUixFQUFBTSxRQUFBSixFQUFBTSxJQUFBLElBQUFQLEVBQUFDLEVBQUFNLElBQUFULEVBQUFHLEVBQUFNLElBQ0ssT0FBQVAsSUFVTHM1QyxHQUNBQyxZQUFBLGVBQ0FDLGNBQUEsZUFDQUMsWUFBQSxlQUNBQyxVQUFBcDZDLEVBQUEsV0FBQTBDLGNBQ0EsT0FDQSxLQUNBMUMsRUFBQSxXQUFBMEMsY0FBQWl4QyxFQUFBLFlBQTZEL3VDLEtBQUEsWUFDN0QsNkJBR0F5MUMsR0FDQW5NLFNBQUF0QyxFQUNBME8saUJBQUExTyxHQUdBMVEsRUFBQSxTQUFBOTVCLEdBR0EsUUFBQTg1QixHQUFBbjVCLElBQ0EsRUFBQXZDLEVBQUEsWUFBQTZCLEtBQUE2NUIsRUFFQSxJQUFBMFIsSUFBQSxFQUFBbHRDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBOE5BLE9BNU5BNnFDLEdBQUF1TCx1QkFBQSxTQUFBeHpDLEVBQUFULEdBQ0EsR0FBQXEyQyxHQUFBM04sRUFBQTdxQyxNQUFBeTRDLGFBQ0FBLEVBQUF0N0MsU0FBQXE3QyxLQUF1RUEsQ0FFdkUsS0FBQUMsRUFBQUMsaUJBQ0EsUUFFQSxJQUFBeDNDLEdBQUEycEMsRUFBQXdMLGFBQUF6ekMsRUFBQVQsRUFLQSxPQUhBMG9DLEdBQUE4TixtQkFBQXozQyxLQUNBMnBDLEVBQUE4TixtQkFBQXozQyxHQUFBdTNDLEVBQUFDLGlCQUFBOTFDLElBRUFpb0MsRUFBQThOLG1CQUFBejNDLElBRUEycEMsRUFBQStOLGFBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBOTRDLEdBQUE2cUMsRUFBQTdxQyxNQUNBKzRDLEdBQUEsRUFBQXpFLEVBQUEsZUFBOER6SixFQUFBcUcsTUFBQTZILFlBQzlEQyxHQUFBLEVBQUExRSxFQUFBLGVBQTJEekosRUFBQXFHLE1BQUE4SCxTQUFBLEVBQUF6N0MsRUFBQSxlQUEwRHN0QyxFQUFBb08sYUFBQUosR0FBQUMsSUFFckhJLE1BQ0EsRUFBQWhQLEVBQUFpUCxTQUFBdE8sRUFBQXVPLFFBQUEsU0FBQTUwQyxHQUNBQSxFQUFBckUsVUFDQSs0QyxFQUFBaDJDLEtBQUEybkMsRUFBQW9PLGFBQUF6MEMsTUFHQXhILE9BQUF1SSxLQUFBeXpDLEdBQUFyMkMsUUFBQSxTQUFBMDJDLEdBQ0FILEVBQUFsNkMsUUFBQXE2QyxHQUFBLFNBQ0FMLEdBQUFLLEtBR0FyNUMsRUFBQSs0QyxhQUVBQSxFQUFBdFosUUFBQSxFQUNBc1osRUFBQTVNLFNBQUE0TSxFQUFBdFosU0FFQSxJQUFBNlosSUFDQVAsYUFDQUMsWUFFQU8sR0FBQSxFQUFBakYsRUFBQSxlQUFxRTBFLEVBRXJFbk8sR0FBQTJPLDBCQUFBNzJDLFFBQUEsU0FBQTgyQyxHQUNBLEdBQUFKLEdBQUF4TyxFQUFBb08sYUFBQVEsRUFDQUosVUFDQUUsR0FBQUYsS0FHQXI4QyxPQUFBdUksS0FBQWcwQyxHQUFBcDZDLE9BQUEsSUFDQW02QyxFQUFBTixRQUFBTyxHQUdBLGNBQUExQyxFQUFBLFlBQUE3MkMsRUFBQSs0QyxhQUFBLFdBQUEvNEMsR0FBQSs0QyxhQUNBTyxFQUFBUCxZQUFBLEVBQUF6RSxFQUFBLGVBQXVFeUUsR0FDdkV0WixRQUFBb0wsRUFBQXFHLE1BQUE2SCxXQUFBdFosV0FHQW9MLEVBQUFzRyxTQUFBbUksRUFBQSxXQUNBek8sRUFBQTJLLE1BQUFyRSxVQUNBeUUsZ0JBQUEsR0FFQSxJQUFBekosR0FBQXRCLEVBQUE3cUMsTUFBQW1zQyxRQUNBQSxJQUNBQSxFQUFBNXNDLE1BQUEsS0FBQXNyQyxFQUFBNk8sd0JBQUEsRUFBQXBGLEVBQUEsZUFBdUd6SixFQUFBcUcsT0FDdkcwRSxnQkFBQSxFQUNBb0QsVUFDQUQsb0JBS0FsTyxFQUFBOE8sYUFBQSxTQUFBQyxFQUFBbEUsRUFBQWgzQyxHQUNBLEdBQUFzNkIsR0FBQXQ2QixFQUFBMEgsT0FBQTR5QixRQUNBeWMsRUFBQTVLLEVBQUEySyxNQUFBRyxXQUFBQyxrQkFBQS9LLEVBQUFnUCxzQkFDQWhFLEVBQUFoTCxFQUFBMkssTUFBQUcsV0FBQUUsZ0JBQUE5eUMsT0FBQTB5QyxHQUNBdjBDLEVBQUEycEMsRUFBQXdMLGFBQUF1RCxFQUFBbEUsRUFDQTFjLEdBQ0E2YyxFQUFBM3lDLEtBQUEybkMsRUFBQXdMLGFBQUF1RCxFQUFBbEUsSUFFQUcsSUFBQWhiLE9BQUEsU0FBQTM3QixHQUNBLE1BQUFnQyxLQUFBaEMsSUFHQTJyQyxFQUFBMkssTUFBQXJFLFVBQ0F5RSxnQkFBQSxJQUVBL0ssRUFBQWlQLG1CQUFBakUsR0FDQWtFLFVBQUEsV0FDQUgsU0FDQTVnQixhQUdBNlIsRUFBQW1QLGtCQUFBLFNBQUFKLEVBQUFsRSxFQUFBaDNDLEdBQ0EsR0FBQXM2QixHQUFBdDZCLEVBQUEwSCxPQUFBNHlCLFFBQ0F5YyxFQUFBNUssRUFBQTJLLE1BQUFHLFdBQUFDLGtCQUFBL0ssRUFBQWdQLHNCQUNBaEUsRUFBQWhMLEVBQUEySyxNQUFBRyxXQUFBRSxnQkFBQTl5QyxPQUFBMHlDLEdBQ0F2MEMsRUFBQTJwQyxFQUFBd0wsYUFBQXVELEVBQUFsRSxFQUNBRyxJQUFBMzBDLEdBQ0EycEMsRUFBQTJLLE1BQUFyRSxVQUNBeUUsZ0JBQUEsSUFFQS9LLEVBQUFpUCxtQkFBQWpFLEdBQ0FrRSxVQUFBLFdBQ0FILFNBQ0E1Z0IsYUFHQTZSLEVBQUFvUCxtQkFBQSxTQUFBdjdDLEdBQ0EsR0FBQXM2QixHQUFBdDZCLEVBQUEwSCxPQUFBNHlCLFFBQ0FwWCxFQUFBaXBCLEVBQUFxUCx5QkFDQXpFLEVBQUE1SyxFQUFBMkssTUFBQUcsV0FBQUMsa0JBQUEvSyxFQUFBZ1Asc0JBQ0FoRSxFQUFBaEwsRUFBQTJLLE1BQUFHLFdBQUFFLGdCQUFBOXlDLE9BQUEweUMsR0FDQTBFLEVBQUF2NEIsRUFBQWlaLE9BQUEsU0FBQWo0QixFQUFBMUQsR0FDQSxPQUFBMnJDLEVBQUF1TCx1QkFBQXh6QyxFQUFBMUQsR0FBQW1FLFdBQ2FvSixJQUFBLFNBQUE3SixFQUFBMUQsR0FDYixNQUFBMnJDLEdBQUF3TCxhQUFBenpDLEVBQUExRCxLQUdBazdDLElBQ0FwaEIsR0FDQW1oQixFQUFBeDNDLFFBQUEsU0FBQXpCLEdBQ0EyMEMsRUFBQTcyQyxRQUFBa0MsR0FBQSxJQUNBMjBDLEVBQUEzeUMsS0FBQWhDLEdBQ0FrNUMsRUFBQWwzQyxLQUFBaEMsTUFJQWk1QyxFQUFBeDNDLFFBQUEsU0FBQXpCLEdBQ0EyMEMsRUFBQTcyQyxRQUFBa0MsSUFBQSxJQUNBMjBDLEVBQUFoYSxPQUFBZ2EsRUFBQTcyQyxRQUFBa0MsR0FBQSxHQUNBazVDLEVBQUFsM0MsS0FBQWhDLE1BSUEycEMsRUFBQTJLLE1BQUFyRSxVQUNBeUUsZ0JBQUEsSUFFQS9LLEVBQUFpUCxtQkFBQWpFLEdBQ0FrRSxVQUFBLGNBQ0EvZ0IsVUFDQW9oQixtQkFHQXZQLEVBQUF3UCxpQkFBQSxTQUFBNWEsR0FDQSxPQUFBLy9CLEdBQUFGLFVBQUFMLE9BQUFtN0MsRUFBQTE2QyxNQUFBRixFQUFBLEVBQUFBLEVBQUEsS0FBQUcsRUFBQSxFQUF3R0EsRUFBQUgsRUFBYUcsSUFDckh5NkMsRUFBQXo2QyxFQUFBLEdBQUFMLFVBQUFLLEVBR0EsSUFBQUcsR0FBQTZxQyxFQUFBN3FDLE1BQ0ErNEMsR0FBQSxFQUFBekUsRUFBQSxlQUE4RHpKLEVBQUFxRyxNQUFBNkgsV0FDOUR0WixHQUNBc1osRUFBQXRaLFVBRUFzWixFQUFBdFosUUFBQXNaLEVBQUF0WixTQUFBLEVBRUFzWixFQUFBNU0sU0FBQTVzQyxNQUFBdzVDLEtBQUF0WixTQUFBMThCLE9BQUF1M0MsR0FDQSxJQUFBaEIsSUFDQVAsYUFHQSxlQUFBbEMsRUFBQSxZQUFBNzJDLEVBQUErNEMsYUFBQSxXQUFBLzRDLEdBQUErNEMsYUFDQU8sRUFBQVAsWUFBQSxFQUFBekUsRUFBQSxlQUF1RXlFLEdBQ3ZFdFosUUFBQW9MLEVBQUFxRyxNQUFBNkgsV0FBQXRaLFdBR0FvTCxFQUFBc0csU0FBQW1JLEdBQ0F6TyxFQUFBMkssTUFBQXJFLFVBQ0F5RSxnQkFBQSxHQUVBLElBQUF6SixHQUFBdEIsRUFBQTdxQyxNQUFBbXNDLFFBQ0FBLElBQ0FBLEVBQUE1c0MsTUFBQSxLQUFBc3JDLEVBQUE2Tyx3QkFBQSxFQUFBcEYsRUFBQSxlQUFtR3pKLEVBQUFxRyxPQUNuRzBFLGdCQUFBLEVBQ0FtRCxrQkFJQWxPLEVBQUEwUCxtQkFBQSxTQUFBMTNDLEdBQ0EsZ0JBQUEyM0MsRUFBQVosRUFBQXozQyxHQUNBLEdBQUF1ekMsR0FBQTdLLEVBQUF3TCxhQUFBdUQsRUFBQXozQyxHQUNBbkMsRUFBQTZxQyxFQUFBdUwsdUJBQUF3RCxFQUFBejNDLEdBQ0FzNEMsRUFBQSxTQUFBLzdDLEdBQ0EsVUFBQW1FLEVBQUFnb0MsRUFBQW1QLGtCQUFBSixFQUFBbEUsRUFBQWgzQyxHQUFBbXNDLEVBQUE4TyxhQUFBQyxFQUFBbEUsRUFBQWgzQyxHQUVBLE9BQUFULEdBQUEsV0FBQTBDLGNBQ0EsUUFDcUJ5eEMsUUFBQXFFLEdBQ3JCeDRDLEVBQUEsV0FBQTBDLGNBQUE4MkMsRUFBQSxZQUFpRjUwQyxPQUFBMnlDLE1BQUEzSyxFQUFBMkssTUFBQUUsV0FBQXJ5QyxTQUFBckQsRUFBQXFELFNBQUE4b0MsU0FBQXNPLEVBQUFoRixpQkFBQTVLLEVBQUFnUCwyQkFJakZoUCxFQUFBd0wsYUFBQSxTQUFBdUQsRUFBQXozQyxHQUNBLEdBQUF1NEMsR0FBQTdQLEVBQUE3cUMsTUFBQTA2QyxPQUNBQyxFQUFBLGtCQUFBRCxLQUFBZCxFQUFBejNDLEdBQUF5M0MsRUFBQWMsRUFFQSxRQURBLEVBQUFyRCxFQUFBLFlBQUFsNkMsU0FBQXc5QyxFQUFBLHdJQUNBeDlDLFNBQUF3OUMsRUFBQXg0QyxFQUFBdzRDLEdBRUE5UCxFQUFBK1AscUJBQUEsU0FBQW5iLEVBQUFvYixHQUNBLEdBQUE5QixHQUFBbE8sRUFBQXFHLE1BQUE2SCxVQUNBQSxHQUFBUixpQkFBQTlZLEVBQUFvYixFQUNBLElBQUFDLElBQUEsRUFBQXhHLEVBQUEsZUFBa0V5RSxHQUFlOEIsV0FBQXBiLFdBQ2pGb0wsR0FBQXNHLFVBQTRCNEgsV0FBQStCLEdBQzVCLElBQUEzTyxHQUFBdEIsRUFBQTdxQyxNQUFBbXNDLFFBQ0FBLElBQ0FBLEVBQUE1c0MsTUFBQSxLQUFBc3JDLEVBQUE2Tyx3QkFBQSxFQUFBcEYsRUFBQSxlQUFtR3pKLEVBQUFxRyxPQUNuRzZILFdBQUErQixRQUlBLEVBQUF6RCxFQUFBLGtDQUFBcjNDLElBQUEsbUJBQUFBLElBQUEsbUlBQ0E2cUMsRUFBQXVPLFFBQUFwNUMsRUFBQW81QyxVQUFBLEVBQUFsUCxFQUFBNlEsa0JBQUEvNkMsRUFBQUcsVUFDQTBxQyxFQUFBcUcsT0FBQSxFQUFBb0QsRUFBQSxlQUF1RHpKLEVBQUFtUSwyQkFFdkRoQyxRQUFBbk8sRUFBQW9RLHdCQUNBbEMsV0FBQWxPLEVBQUFxUSxxQkFBQWw3QyxLQUVBNnFDLEVBQUE4TixzQkFDQTlOLEVBQUEySyxPQUFBLEVBQUErQixFQUFBLGFBQ0ExQixpQkFBQTcxQyxFQUFBeTRDLGtCQUFzRDVDLG9CQUN0REQsZ0JBQUEsSUFFQS9LLEVBaWdCQSxPQXB1QkEsRUFBQWh0QyxFQUFBLFlBQUFzN0IsRUFBQTk1QixHQXNPQTg1QixFQUFBdDZCLFVBQUFnN0Msb0JBQUEsV0FDQSxHQUFBbk4sR0FBQXB0QyxLQUVBNjdDLEVBQUE3N0MsS0FBQVUsTUFBQXk0QyxhQUNBQSxFQUFBdDdDLFNBQUFnK0MsS0FBaUVBLENBRWpFLE9BQUExQyxHQUFBQyxpQkFHQXA1QyxLQUFBODdDLGNBQUF2Z0IsT0FBQSxTQUFBajRCLEVBQUE4eUMsR0FDQSxNQUFBaEosR0FBQTBKLHVCQUFBeHpDLEVBQUE4eUMsR0FBQVksaUJBQ1M3cEMsSUFBQSxTQUFBbXRDLEVBQUFsRSxHQUNULE1BQUFoSixHQUFBMkosYUFBQXVELEVBQUFsRSxTQUlBdmMsRUFBQXQ2QixVQUFBcThDLHFCQUFBLFNBQUFsN0MsR0FDQSxHQUFBKzRDLEdBQUEvNEMsRUFBQSs0QyxjQUNBLE9BQUF6NUMsTUFBQSs3QyxjQUFBcjdDLElBQUEsRUFBQXMwQyxFQUFBLGVBQTRFZ0UsRUFBQVMsR0FDNUV0WixRQUFBc1osRUFBQXVDLGdCQUFBdkMsRUFBQXRaLFNBQUEsRUFDQW9iLFNBQUE5QixFQUFBd0MsaUJBQUF4QyxFQUFBOEIsVUFBQSxTQUlBMWhCLEVBQUF0NkIsVUFBQWdqQixVQUFBLFdBQ0EsR0FBQXpVLEtBSUEsT0FIQTlOLE1BQUFzTCxRQUFBRCxXQUFBckwsS0FBQXNMLFFBQUFELFVBQUF3dUIsUUFDQS9yQixFQUFBOU4sS0FBQXNMLFFBQUFELFVBQUF3dUIsUUFFQSxFQUFBbWIsRUFBQSxlQUFnRDJELEVBQUE3cUMsRUFBQTlOLEtBQUFVLE1BQUFvTixTQUdoRCtyQixFQUFBdDZCLFVBQUEydEMsMEJBQUEsU0FBQUMsR0FVQSxHQVRBbnRDLEtBQUE4NUMsUUFBQTNNLEVBQUEyTSxVQUFBLEVBQUFsUCxFQUFBNlEsa0JBQUF0TyxFQUFBdHNDO0NBQ0EsY0FBQXNzQyxJQUFBLGNBQUFudEMsTUFBQVUsUUFDQVYsS0FBQTZ4QyxTQUFBLFNBQUFxSyxHQUNBLEdBQUFDLElBQUEsRUFBQW5ILEVBQUEsZUFBcUVnRSxFQUFBa0QsRUFBQXpDLFdBQUF0TSxFQUFBc00sV0FHckUsT0FGQTBDLEdBQUFoYyxRQUFBZ2MsRUFBQWhjLFNBQUEsRUFDQWdjLEVBQUFaLFNBQUFZLEVBQUFaLFVBQUEsSUFDd0I5QixXQUFBdE0sRUFBQXNNLGNBQUEsRUFBQTBDLFFBR3hCaFAsRUFBQWdNLGNBQUEsbUJBQUFoTSxHQUFBZ00sYUFBQSxDQUNBbjVDLEtBQUFrMkMsTUFBQXJFLFVBQ0EwRSxnQkFBQXBKLEVBQUFnTSxhQUFBNUMscUJBRUEsSUFBQTRDLEdBQUFuNUMsS0FBQVUsTUFBQXk0QyxZQUVBQSxJQUFBaE0sRUFBQWdNLGFBQUFDLG1CQUFBRCxFQUFBQyxtQkFDQXA1QyxLQUFBcTVDLHVCQVNBLEdBTkEsY0FBQWxNLE1BQUFpUCxhQUFBcDhDLEtBQUFVLE1BQUEwN0MsYUFDQXA4QyxLQUFBazJDLE1BQUFyRSxVQUNBeUUsZ0JBQUEsSUFFQXQyQyxLQUFBcTVDLHVCQUVBcjVDLEtBQUFxOEMsb0JBQUFyOEMsS0FBQTg1QyxTQUFBajZDLE9BQUEsR0FDQSxHQUFBeThDLEdBQUF0OEMsS0FBQTA3Qyx3QkFBQTE3QyxLQUFBODVDLFFBQ0F3QyxHQUFBQyxhQUFBdjhDLEtBQUE0eEMsTUFBQTJLLFlBQUFELEVBQUFFLFlBQUF4OEMsS0FBQTR4QyxNQUFBNEssV0FDQXg4QyxLQUFBNnhDLFNBQUF5SyxHQUdBLEdBQUFHLEdBQUF6OEMsS0FBQWs2Qyx3QkFBQWw2QyxLQUFBODVDLFFBQ0EsSUFBQTJDLEVBQUE1OEMsT0FBQSxHQUNBLEdBQUE2OEMsR0FBQTE4QyxLQUFBMjdDLHNCQUFBMzdDLEtBQUE4NUMsU0FDQTZDLEdBQUEsRUFBQTNILEVBQUEsZUFBOERoMUMsS0FBQTR4QyxNQUFBOEgsUUFDOURoOEMsUUFBQXVJLEtBQUF5MkMsR0FBQXI1QyxRQUFBLFNBQUF6QixHQUNBKzZDLEVBQUEvNkMsR0FBQTg2QyxFQUFBOTZDLEtBRUE1QixLQUFBNDhDLGlCQUFBRCxJQUNBMzhDLEtBQUE2eEMsVUFBK0I2SCxRQUFBaUQsTUFLL0I5aUIsRUFBQXQ2QixVQUFBaTdDLG1CQUFBLFNBQUFqRSxFQUFBc0csR0FDQSxHQUFBQyxHQUFBOThDLEtBRUF5NkMsRUFBQW9DLEVBQUFwQyxVQUNBSCxFQUFBdUMsRUFBQXZDLE9BQ0E1Z0IsRUFBQW1qQixFQUFBbmpCLFFBQ0FvaEIsRUFBQStCLEVBQUEvQixjQUNBaUMsRUFBQS84QyxLQUFBVSxNQUFBeTRDLGFBQ0FBLEVBQUF0N0MsU0FBQWsvQyxLQUFrRUEsR0FFbEU1RCxHQUFBLG1CQUFBQSxJQUNBbjVDLEtBQUFrMkMsTUFBQXJFLFVBQWlDMEUsbUJBRWpDLElBQUFqMEIsR0FBQXRpQixLQUFBODdDLGFBQ0EsSUFBQTNDLEVBQUF0TSxVQUFBc00sRUFBQXNCLEdBQUEsQ0FHQSxHQUFBdUMsR0FBQTE2QixFQUFBaVosT0FBQSxTQUFBMGhCLEVBQUFyOUMsR0FDQSxNQUFBMjJDLEdBQUE3MkMsUUFBQW85QyxFQUFBL0YsYUFBQWtHLEVBQUFyOUMsS0FBQSxHQUtBLElBSEF1NUMsRUFBQXRNLFVBQ0FzTSxFQUFBdE0sU0FBQTBKLEVBQUF5RyxHQUVBLGFBQUF2QyxHQUFBdEIsRUFBQStELFNBQ0EvRCxFQUFBK0QsU0FBQTVDLEVBQUE1Z0IsRUFBQXNqQixPQUNTLG9CQUFBdkMsR0FBQXRCLEVBQUFnRSxZQUFBLENBQ1QsR0FBQUMsR0FBQTk2QixFQUFBaVosT0FBQSxTQUFBMGhCLEVBQUFyOUMsR0FDQSxNQUFBazdDLEdBQUFwN0MsUUFBQW85QyxFQUFBL0YsYUFBQWtHLEVBQUFyOUMsS0FBQSxHQUVBdTVDLEdBQUFnRSxZQUFBempCLEVBQUFzakIsRUFBQUksTUFJQXZqQixFQUFBdDZCLFVBQUF3OEMsY0FBQSxTQUFBcjdDLEdBQ0EsT0FBQUEsR0FBQVYsS0FBQVUsT0FBQSs0QyxjQUFBLEdBR0E1ZixFQUFBdDZCLFVBQUFxOUMsaUJBQUEsU0FBQWxELEdBQ0EsR0FBQTJELEdBQUFyOUMsS0FFQXM5QyxHQUFBLENBVUEsT0FUQTUvQyxRQUFBdUksS0FBQXl6QyxHQUFBNzVDLFNBQUFuQyxPQUFBdUksS0FBQWpHLEtBQUE0eEMsTUFBQThILFNBQUE3NUMsT0FDQXk5QyxHQUFBLEVBRUE1L0MsT0FBQXVJLEtBQUF5ekMsR0FBQXIyQyxRQUFBLFNBQUEwMkMsR0FDQUwsRUFBQUssS0FBQXNELEVBQUF6TCxNQUFBOEgsUUFBQUssS0FDQXVELEdBQUEsS0FJQUEsR0FHQXpqQixFQUFBdDZCLFVBQUE4OEMsb0JBQUEsU0FBQXZDLEdBQ0EsT0FBQUEsR0FBQTk1QyxLQUFBODVDLGFBQUF2ZSxPQUFBLFNBQUFnZSxHQUNBLG1CQUFBQSxNQUlBMWYsRUFBQXQ2QixVQUFBMjZDLHdCQUFBLFNBQUFKLEdBQ0EsT0FBQUEsR0FBQTk1QyxLQUFBODVDLGFBQUF2ZSxPQUFBLFNBQUFnZSxHQUNBLHlCQUFBQSxHQUFBZ0UsaUJBSUExakIsRUFBQXQ2QixVQUFBbzhDLHNCQUFBLFNBQUE3QixHQUNBLEdBQUEwRCxHQUFBeDlDLEtBRUEwNUMsSUFJQSxPQUhBMTVDLE1BQUFrNkMsd0JBQUFKLEdBQUF6MkMsUUFBQSxTQUFBODJDLEdBQ0FULEVBQUE4RCxFQUFBN0QsYUFBQVEsTUFBQW9ELGdCQUVBN0QsR0FHQTdmLEVBQUF0NkIsVUFBQW04Qyx3QkFBQSxTQUFBNUIsR0FFQSxHQUFBMkQsR0FBQXo5QyxLQUFBcThDLG9CQUFBdkMsR0FBQXZlLE9BQUEsU0FBQTRlLEdBQ0EsTUFBQUEsR0FBQXFDLFlBQ1MsRUFDVCxPQUFBaUIsSUFFQWxCLFdBQUFrQixFQUNBakIsVUFBQWlCLEVBQUFqQixZQUlBRCxXQUFBLEtBQ0FDLFVBQUEsT0FJQTNpQixFQUFBdDZCLFVBQUFtK0MsWUFBQSxXQUNBLEdBQUF6RyxHQUFBajNDLEtBQUE0eEMsTUFDQTRLLEVBQUF2RixFQUFBdUYsVUFDQUQsRUFBQXRGLEVBQUFzRixVQUVBLElBQUFDLEdBQUFELEdBQUEsa0JBQUFBLEdBQUFvQixPQUdBLGdCQUFBbndDLEVBQUFDLEdBQ0EsR0FBQTlHLEdBQUE0MUMsRUFBQW9CLE9BQUFud0MsRUFBQUMsRUFDQSxZQUFBOUcsRUFDQSxZQUFBNjFDLEdBQUE3MUMsSUFFQSxJQUlBa3pCLEVBQUF0NkIsVUFBQXErQyxnQkFBQSxTQUFBNWIsRUFBQXVYLEdBQ0EsR0FBQXNFLEdBQUE3OUMsS0FBQTR4QyxNQUNBMkssRUFBQXNCLEVBQUF0QixXQUNBQyxFQUFBcUIsRUFBQXJCLFVBR0FzQixFQUFBOTlDLEtBQUE4OUMsYUFBQXZFLEVBQ0F1RSxHQUlBdEIsSUFBQXhhLEdBQ0F3YSxFQUFBLEdBQ0FELEVBQUEsTUFFQUMsRUFBQXhhLEdBUEF3YSxFQUFBeGEsRUFDQXVhLEVBQUFoRCxFQVNBLElBQUFTLElBQ0F3QyxZQUNBRCxhQUdBLEtBQUF2OEMsS0FBQXE4QyxzQkFBQXg4QyxRQUNBRyxLQUFBNnhDLFNBQUFtSSxFQUVBLElBQUFuTixHQUFBN3NDLEtBQUFVLE1BQUFtc0MsUUFDQUEsSUFDQUEsRUFBQTVzQyxNQUFBLEtBQUFELEtBQUFvNkMsd0JBQUEsRUFBQXBGLEVBQUEsZUFBOEZoMUMsS0FBQTR4QyxNQUFBb0ksTUFJOUZuZ0IsRUFBQXQ2QixVQUFBdytDLG1CQUFBLFdBQ0EsR0FBQUMsR0FBQWgrQyxLQUVBNkssRUFBQTdLLEtBQUFVLE1BQ0FDLEVBQUFrSyxFQUFBbEssVUFDQXc0QyxFQUFBdHVDLEVBQUFzdUMsYUFFQVcsRUFBQTk1QyxLQUFBODVDLFFBQUFyMkMsUUFDQSxJQUFBMDFDLEVBQUEsQ0FDQSxHQUFBNzJCLEdBQUF0aUIsS0FBQTQ2Qyx5QkFBQXJmLE9BQUEsU0FBQWo0QixFQUFBVCxHQUNBLE9BQUFzMkMsRUFBQUMsbUJBQ0E0RSxFQUFBbEgsdUJBQUF4ekMsRUFBQVQsR0FBQWtCLFdBSUFrNkMsR0FDQXI4QyxJQUFBLG1CQUNBcEIsT0FBQVIsS0FBQWk3QyxtQkFBQTlCLEVBQUE1MUMsTUFDQXpDLFVBQUFILEVBQUEsb0JBRUEsY0FBQXc0QyxFQUFBNTFDLEtBQUEsQ0FDQSxHQUFBMjZDLEdBQUE1N0IsRUFBQTY3QixNQUFBLFNBQUE3NkMsRUFBQVQsR0FDQSxNQUFBbTdDLEdBQUFsSCx1QkFBQXh6QyxFQUFBVCxHQUFBa0IsVUFFQWs2QyxHQUFBRyxNQUFBei9DLEVBQUEsV0FBQTBDLGNBQUFnM0MsRUFBQSxZQUE2R25DLE1BQUFsMkMsS0FBQWsyQyxNQUFBNXpCLE9BQUF3MEIsdUJBQUE5MkMsS0FBQTgyQyx1QkFBQUMsYUFBQS8yQyxLQUFBKzJDLGFBQUFoekMsU0FBQW02QyxFQUFBclIsU0FBQTdzQyxLQUFBMjZDLHFCQUU3R2IsRUFBQXJtQixLQUFBLFNBQUE4bEIsR0FDQSxlQUFBQSxFQUFBcnlDLE9BQUFxeUMsRUFBQXJ5QyxTQUFBLE1BRUErMkMsRUFBQS8yQyxNQUFBLFFBRUE0eUMsRUFBQSx5QkFBQUEsRUFBQSxHQUFBbDRDLElBQ0FrNEMsRUFBQSxHQUFBbUUsRUFFQW5FLEVBQUFuWixRQUFBc2QsR0FHQSxNQUFBbkUsSUFHQWpnQixFQUFBdDZCLFVBQUFvNkMsYUFBQSxTQUFBSixFQUFBMTJDLEdBQ0EsTUFBQTAyQyxHQUFBMzNDLEtBQUEyM0MsRUFBQThFLFdBQUF4N0MsR0FHQWczQixFQUFBdDZCLFVBQUErK0MsY0FBQSxTQUFBL3FCLEdBQ0EsR0FBQWdyQixHQUFBditDLEtBQUE0eEMsTUFBQTZILFdBQ0F0WixFQUFBb2UsRUFBQXBlLFFBQ0FvYixFQUFBZ0QsRUFBQWhELFFBRUEsUUFBQXBiLEVBQUEsR0FBQW9iLEdBQUFob0IsRUFDQTRNLEVBQUEsRUFFQUEsR0FHQXRHLEVBQUF0NkIsVUFBQXUrQyxhQUFBLFNBQUF2RSxHQUNBLEdBQUFnRCxHQUFBdjhDLEtBQUE0eEMsTUFBQTJLLFVBRUEsVUFBQWhELElBQUFnRCxJQUdBdjhDLEtBQUEyNUMsYUFBQTRDLEtBQUF2OEMsS0FBQTI1QyxhQUFBSixJQUdBMWYsRUFBQXQ2QixVQUFBaS9DLHNCQUFBLFNBQUExRSxHQUNBLEdBQUEyRSxHQUFBeitDLEtBRUFnTCxFQUFBaEwsS0FBQVUsTUFDQUMsRUFBQXFLLEVBQUFySyxVQUNBKzlDLEVBQUExekMsRUFBQTB6QyxrQkFDQWxDLEVBQUF4OEMsS0FBQTR4QyxNQUFBNEssVUFFQTF1QyxFQUFBOU4sS0FBQXVpQixXQUNBLFVBQUFxb0IsRUFBQWlQLFNBQUFDLEVBQUEsU0FBQTZFLEVBQUEvK0MsR0FDQSxHQUFBMjVDLElBQUEsRUFBQXZFLEVBQUEsZUFBMEQySixHQUMxRC84QyxFQUFBNjhDLEVBQUE5RSxhQUFBSixFQUFBMzVDLEdBQ0FnL0MsRUFBQSxPQUNBQyxFQUFBLE1BQ0EsSUFBQXRGLEVBQUFHLFNBQUFILEVBQUFHLFFBQUE3NUMsT0FBQSxHQUFBMDVDLEVBQUFxRixlQUFBLENBQ0EsR0FBQUUsR0FBQUwsRUFBQTdNLE1BQUE4SCxRQUFBOTNDLE1BQ0FnOUMsR0FBQWpnRCxFQUFBLFdBQUEwQyxjQUFBbzJDLEVBQUEsWUFBZ0czcEMsU0FBQXlyQyxTQUFBcDJDLGFBQUEyN0MsRUFBQUMsY0FBQU4sRUFBQW5GLGFBQUEzNEMsWUFBQSxVQUFBKzlDLHFCQUFBLGlCQUVoRyxHQUFBbkYsRUFBQW9FLE9BQUEsQ0FDQSxHQUFBRyxHQUFBVyxFQUFBWCxhQUFBdkUsRUFDQXVFLEtBQ0F2RSxFQUFBejRDLFVBQUF5NEMsRUFBQXo0QyxXQUFBLEdBQ0EwN0MsSUFDQWpELEVBQUF6NEMsV0FBQSxJQUFBSCxFQUFBLGdCQUdBLElBQUFxK0MsR0FBQWxCLEdBQUEsV0FBQXRCLEVBQ0F5QyxFQUFBbkIsR0FBQSxZQUFBdEIsQ0FDQXFDLEdBQUFsZ0QsRUFBQSxXQUFBMEMsY0FDQSxPQUNxQlAsVUFBQUgsRUFBQSxrQkFDckJoQyxFQUFBLFdBQUEwQyxjQUNBLFFBQ3lCUCxVQUFBSCxFQUFBLHNCQUFBcStDLEVBQUEsWUFBQVosTUFBQSxTQUFBdEwsUUFBQSxXQUN6QixNQUFBMkwsR0FBQWIsZ0JBQUEsU0FBQXJFLEtBRUE1NkMsRUFBQSxXQUFBMEMsY0FBQWl4QyxFQUFBLFlBQTZFL3VDLEtBQUEsY0FFN0U1RSxFQUFBLFdBQUEwQyxjQUNBLFFBQ3lCUCxVQUFBSCxFQUFBLHdCQUFBcytDLEVBQUEsWUFBQWIsTUFBQSxTQUFBdEwsUUFBQSxXQUN6QixNQUFBMkwsR0FBQWIsZ0JBQUEsVUFBQXJFLEtBRUE1NkMsRUFBQSxXQUFBMEMsY0FBQWl4QyxFQUFBLFlBQTZFL3VDLEtBQUEsaUJBVzdFLE1BUEFnMkMsR0FBQTZFLE1BQUF6L0MsRUFBQSxXQUFBMEMsY0FDQSxPQUNBLEtBQ0FrNEMsRUFBQTZFLE1BQ0FTLEVBQ0FELEdBRUFyRixLQUlBMWYsRUFBQXQ2QixVQUFBMi9DLGlCQUFBLFdBRUEsSUFBQWwvQyxLQUFBKzdDLGdCQUNBLFdBRUEsSUFBQWh4QyxHQUFBLFVBQ0EwdUMsRUFBQXo1QyxLQUFBNHhDLE1BQUE2SCxVQUVBQSxHQUFBMXVDLEtBQ0FBLEVBQUEwdUMsRUFBQTF1QyxLQUNTLFdBQUEvSyxLQUFBVSxNQUFBcUssTUFBQSxVQUFBL0ssS0FBQVUsTUFBQXFLLE9BQ1RBLEVBQUEsUUFFQSxJQUFBd29CLEdBQUFrbUIsRUFBQWxtQixPQUFBdnpCLEtBQUFtL0MsZUFBQXQvQyxNQUNBLE9BQUEwekIsR0FBQSxFQUFBNTBCLEVBQUEsV0FBQTBDLGNBQUFzMkMsRUFBQSxjQUFBNTVDLEVBQUEsYUFBZ0g2RCxJQUFBLGNBQW9CNjNDLEdBQWUzNEMsVUFBQWQsS0FBQVUsTUFBQUMsVUFBQSxjQUFBa3NDLFNBQUE3c0MsS0FBQSs2QyxpQkFBQXhuQixRQUFBeG9CLE9BQUFvMUIsUUFBQW5nQyxLQUFBcytDLGNBQUEvcUIsR0FBQTBsQixpQkFBQWo1QyxLQUFBczdDLHdCQUE4TCxNQUtqVnpoQixFQUFBdDZCLFVBQUE2NkMsdUJBQUEsU0FBQXhJLEdBQ0EsR0FBQTZILEdBQUFmLEtBQW9DOUcsRUFBQTZILGtCQUVwQ0EsR0FBQTVNLGVBQ0E0TSxHQUFBUixnQkFDQSxJQUFBUyxHQUFBOUgsRUFBQThILFFBQ0FpRSxJQU9BLE9BTkEvTCxHQUFBMkssWUFBQTNLLEVBQUE0SyxZQUNBbUIsRUFBQXBFLE9BQUEzSCxFQUFBMkssV0FDQW9CLEVBQUEzYixNQUFBNFAsRUFBQTRLLFVBQ0FtQixFQUFBNXNCLE1BQUE2Z0IsRUFBQTJLLFdBQUE4QixVQUNBVixFQUFBNUQsVUFBQS81QyxLQUFBMjVDLGFBQUEvSCxFQUFBMkssY0FFQTlDLEVBQUFDLEVBQUFpRSxJQUdBOWpCLEVBQUF0NkIsVUFBQTYvQyxXQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQXQvQyxLQUVBdTVDLEVBQUEsTUFNQSxRQUxBLEVBQUEzTyxFQUFBaVAsU0FBQTc1QyxLQUFBODVDLFFBQUEsU0FBQTUwQyxHQUNBbzZDLEVBQUEzRixhQUFBejBDLEtBQUFtNkMsSUFDQTlGLEVBQUFyMEMsS0FHQXEwQyxHQUdBMWYsRUFBQXQ2QixVQUFBZ2dELG1CQUFBLFdBQ0EsR0FBQWo5QixHQUFBdGlCLEtBQUFtL0MsZUFDQWhmLEVBQUEsT0FDQW9iLEVBQUEsT0FDQTNKLEVBQUE1eEMsS0FBQTR4QyxLQWtCQSxPQWhCQTV4QyxNQUFBKzdDLGlCQUlBUixFQUFBM0osRUFBQTZILFdBQUE4QixTQUNBcGIsRUFBQW5nQyxLQUFBcytDLGNBQUExTSxFQUFBNkgsV0FBQWxtQixPQUFBalIsRUFBQXppQixVQUpBMDdDLEVBQUF2ZixPQUFBd2pCLFVBQ0FyZixFQUFBLElBU0E3ZCxFQUFBemlCLE9BQUEwN0MsT0FBQXZmLE9BQUF3akIsYUFDQWw5QixJQUFBaVosT0FBQSxTQUFBMmYsRUFBQXQ3QyxHQUNBLE1BQUFBLEtBQUF1Z0MsRUFBQSxHQUFBb2IsR0FBQTM3QyxFQUFBdWdDLEVBQUFvYixLQUdBajVCLEdBR0F1WCxFQUFBdDZCLFVBQUF1OEMsWUFBQSxXQUNBLFNBQUFsUixFQUFBNlUsV0FBQXovQyxLQUFBbS9DLGlCQUdBdGxCLEVBQUF0NkIsVUFBQXE3Qyx1QkFBQSxXQUNBLFNBQUFoUSxFQUFBNlUsV0FBQXovQyxLQUFBdS9DLHVCQUdBMWxCLEVBQUF0NkIsVUFBQW1nRCxjQUFBLFNBQUFwOUIsRUFBQXE5QixHQUNBLEdBQUFDLEdBQUE1L0MsS0FFQTYvQyxFQUFBNy9DLEtBQUFVLE1BQUFvL0MsbUJBQ0FBLEVBQUFqaUQsU0FBQWdpRCxFQUFBLFdBQUFBLENBRUEsT0FBQXY5QixHQUFBck0sS0FBQTBwQyxHQUFBeHlDLElBQUEsU0FBQTdKLEdBQ0EsTUFBQUEsR0FBQXc4QyxJQUFBLEVBQUE5SyxFQUFBLGVBQStFMXhDLEdBQUEsRUFBQXJGLEVBQUEsZUFBMkM2aEQsRUFBQUYsRUFBQUYsY0FBQXA4QyxFQUFBdzhDLEdBQUFILEtBQUFyOEMsS0FJMUh1MkIsRUFBQXQ2QixVQUFBNC9DLGFBQUEsV0FDQSxHQUFBWSxHQUFBLy9DLEtBRUE0eEMsRUFBQTV4QyxLQUFBNHhDLE1BQ0F3SyxFQUFBcDhDLEtBQUFVLE1BQUEwN0MsV0FFQTk1QixFQUFBODVCLEtBRUE5NUIsS0FBQXpQLE1BQUEsRUFDQSxJQUFBOHNDLEdBQUEzL0MsS0FBQTA5QyxhQXVCQSxPQXRCQWlDLEtBQ0FyOUIsRUFBQXRpQixLQUFBMC9DLGNBQUFwOUIsRUFBQXE5QixJQUdBL04sRUFBQThILFNBQ0FoOEMsT0FBQXVJLEtBQUEyckMsRUFBQThILFNBQUFyMkMsUUFBQSxTQUFBMDJDLEdBQ0EsR0FBQUksR0FBQTRGLEVBQUFYLFdBQUFyRixFQUNBLElBQUFJLEVBQUEsQ0FHQSxHQUFBOTNCLEdBQUF1dkIsRUFBQThILFFBQUFLLE1BQ0EsUUFBQTEzQixFQUFBeGlCLE9BQUEsQ0FHQSxHQUFBbWdELEdBQUE3RixFQUFBNkYsUUFDQTE5QixHQUFBMDlCLEVBQUExOUIsRUFBQWlaLE9BQUEsU0FBQStlLEdBQ0EsTUFBQWo0QixHQUFBb1IsS0FBQSxTQUFBb0ksR0FDQSxNQUFBbWtCLEdBQUFua0IsRUFBQXllLE9BRWlCaDRCLE1BR2pCQSxHQUdBdVgsRUFBQXQ2QixVQUFBaUIsT0FBQSxXQUNBLEdBQUFvSyxHQUNBcTFDLEVBQUFqZ0QsS0FFQVMsRUFBQVQsS0FBQVUsTUFDQUUsRUFBQUgsRUFBQUcsTUFDQUUsRUFBQUwsRUFBQUssVUFDQUgsRUFBQUYsRUFBQUUsVUFDQXUvQyxFQUFBei9DLEVBQUF5L0MsV0FDQUMsRUFBQTEvQyxFQUFBMC9DLFFBQ0FqL0MsRUFBQWhDLEVBQUF1QixHQUFBLHlEQUNBNmhCLEVBQUF0aUIsS0FBQXUvQyxxQkFDQXpGLEVBQUE5NUMsS0FBQSs5QyxxQkFDQXFDLEVBQUFwZ0QsS0FBQVUsTUFBQTIvQyxtQkFBQXJnRCxLQUFBVSxNQUFBMC9DLG9CQUFBLEVBQ0F0eUMsRUFBQTlOLEtBQUF1aUIsWUFDQXBoQixHQUFBLEVBQUFwQyxFQUFBLGFBQUE2TCxNQUF3RSxFQUFBM00sRUFBQSxZQUFBMk0sRUFBQWpLLEVBQUEsSUFBQVgsS0FBQVUsTUFBQXFLLE1BQUEsTUFBQTlNLEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLFlBQUFYLEtBQUFVLE1BQUE0L0MsV0FBQSxFQUFBcmlELEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLFVBQUEyaEIsRUFBQXppQixTQUFBLEVBQUE1QixFQUFBLFlBQUEyTSxFQUFBakssRUFBQSwwQkFBQXUvQyxHQUFBdDFDLEdBQ3hFa3ZDLEdBQUE5NUMsS0FBQXcrQyxzQkFBQTFFLEdBQ0FBLElBQUEzc0MsSUFBQSxTQUFBb3NDLEVBQUEzNUMsR0FDQSxHQUFBMmdELElBQUEsRUFBQXZMLEVBQUEsZUFBNkR1RSxFQUU3RCxPQURBZ0gsR0FBQTMrQyxJQUFBcStDLEVBQUF0RyxhQUFBNEcsRUFBQTNnRCxHQUNBMmdELEdBRUEsSUFBQUMsR0FBQTFHLEVBQUEseUJBQUFBLEVBQUEsR0FBQWw0QyxJQUFBLEdBQ0EsMEJBQUFWLEtBQ0FzL0MsRUFBQXQvQyxFQUFBcy9DLHNCQUVBLElBQUFDLEdBQUE5aEQsRUFBQSxXQUFBMEMsY0FBQWdsQyxFQUFBLGNBQUF0b0MsRUFBQSxhQUFzRzZELElBQUEsU0FBZVYsR0FBY1AsWUFBQTJoQixPQUFBdzNCLFVBQUFvRyxhQUFBcC9DLFVBQUFLLEVBQUFxL0Msd0JBQUFKLG1CQUFBckgsVUFBQSxXQUNuSSxNQUFBanJDLEdBQUFpckMsY0FJQTJILEVBQUExZ0QsS0FBQSs3QyxpQkFBQXo1QixHQUFBLElBQUFBLEVBQUF6aUIsT0FBQWMsRUFBQSxtQkFBQUEsRUFBQSxxQkFDQSxPQUFBaEMsR0FBQSxXQUFBMEMsY0FDQSxPQUNhUCxXQUFBLEVBQUEvQixFQUFBLFlBQUE0QixFQUFBLFdBQUFHLEdBQUFGLFNBQ2JqQyxFQUFBLFdBQUEwQyxjQUNBdzJDLEVBQUEsWUFDaUI4SSxTQUFBUixFQUFBci9DLFVBQUFxL0MsRUFBQU8sRUFBQSxJQUFBLy9DLEVBQUEsbUJBQ2pCOC9DLEVBQ0F6Z0QsS0FBQWsvQyxzQkFLQXJsQixHQUNDbDdCLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUF5OEIsRUFFQUEsRUFBQUMsT0FBQXllLEVBQUEsV0FDQTFlLEVBQUFFLFlBQUEwZSxFQUFBLFdBQ0E1ZSxFQUFBanVCLFdBQ0F3d0MsV0FBQXo5QyxFQUFBLFdBQUFrTixVQUFBdEgsTUFDQXUxQyxRQUFBbjdDLEVBQUEsV0FBQWtOLFVBQUF0SCxNQUNBNUQsVUFBQWhDLEVBQUEsV0FBQWtOLFVBQUE1SCxPQUNBMjhDLGVBQUFqaUQsRUFBQSxXQUFBa04sVUFBQUUsS0FDQW90QyxhQUFBeDZDLEVBQUEsV0FBQWtOLFVBQUF5aUMsT0FDQXh0QyxVQUFBbkMsRUFBQSxXQUFBa04sVUFBQTVILE9BQ0E4RyxLQUFBcE0sRUFBQSxXQUFBa04sVUFBQTVILE9BQ0FrOEMsUUFBQXhoRCxFQUFBLFdBQUFrTixVQUFBRSxLQUNBdTBDLFNBQUEzaEQsRUFBQSxXQUFBa04sVUFBQUUsS0FDQThnQyxTQUFBbHVDLEVBQUEsV0FBQWtOLFVBQUF3TCxLQUNBdkosT0FBQW5QLEVBQUEsV0FBQWtOLFVBQUF5aUMsT0FDQW9RLGtCQUFBLy9DLEVBQUEsV0FBQWtOLFVBQUE1SCxRQUVBNDFCLEVBQUFyNEIsY0FDQTQ2QyxjQUNBejdDLFVBQUEsWUFDQWlnRCxnQkFBQSxFQUNBekgsYUFBQSxLQUNBcjRDLFVBQUEsR0FDQWlLLEtBQUEsUUFDQW8xQyxTQUFBLEVBQ0FHLFVBQUEsRUFDQU8sV0FBQSxHQUNBL3lDLFVBQ0FzdEMsT0FBQSxNQUNBOEUsWUFBQSxHQUVBcm1CLEVBQUEwYSxjQUNBbHBDLFVBQUExTSxFQUFBLFdBQUFrTixVQUFBeWlDLFFBRUFueEMsRUFBQUMsVUFBQSxZdENzd09NMGpELElBQ0EsU0FBUzNqRCxFQUFRQyxFQUFTQyxHdUN0cFFoQyxZQVdBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBd2pELEdBQUFDLEdBR0EsUUFBQW5QLEdBQUFvUCxHQUNBclAsR0FBQSxFQUFBb0QsRUFBQSxlQUFpRHBELEVBQUFxUCxFQUNqRCxRQUFBcmhELEdBQUEsRUFBdUJBLEVBQUFzaEQsRUFBQXJoRCxPQUFzQkQsSUFDN0NzaEQsRUFBQXRoRCxLQUdBLFFBQUF5MkMsS0FDQSxNQUFBekUsR0FFQSxRQUFBb0UsR0FBQW1MLEdBRUEsTUFEQUQsR0FBQXQ5QyxLQUFBdTlDLEdBQ0EsV0FDQSxHQUFBdCtDLEdBQUFxK0MsRUFBQXhoRCxRQUFBeWhELEVBQ0FELEdBQUEza0IsT0FBQTE1QixFQUFBLElBZkEsR0FBQSt1QyxHQUFBb1AsRUFDQUUsSUFpQkEsUUFDQXJQLFdBQ0F3RSxXQUNBTCxhQWpDQXQ0QyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBMmpELENBRUEsSUFBQWhNLEdBQUExM0MsRUFBQSxHQUVBMjNDLEVBQUExM0MsRUFBQXkzQyxFQTZCQTUzQyxHQUFBQyxVQUFBLFl2QzRwUU1na0QsSUFDQSxTQUFTamtELEVBQVFDLEVBQVNDLEd3Q25zUWhDLFlBK0RBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQTdEN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFdBQUFTLE1BRUEsSUFBQUcsR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBRSxFQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUFJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnc0MsRUFBQXJ0QyxFQUFBLEdBRUFzdEMsRUFBQXJ0QyxFQUFBb3RDLEdBRUEyVyxFQUFBaGtELEVBQUEsSUFFQWlrRCxFQUFBaGtELEVBQUErakQsR0FFQUUsRUFBQWxrRCxFQUFBLEtBRUFta0QsRUFBQWxrRCxFQUFBaWtELEdBRUF6aUQsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQXl6QyxFQUFBbDFDLEVBQUEsSUFFQW0xQyxFQUFBbDFDLEVBQUFpMUMsR0FFQUYsRUFBQWgxQyxFQUFBLElBRUFpMUMsRUFBQWgxQyxFQUFBKzBDLEdBRUF1RCxFQUFBdjRDLEVBQUEsSUFFQXc0QyxFQUFBdjRDLEVBQUFzNEMsR0FFQTVRLEVBQUEzbkMsRUFBQSxJQUVBNG5DLEVBQUEzbkMsRUFBQTBuQyxHQUVBeWMsRUFBQXBrRCxFQUFBLElBRUFxa0QsRUFBQXBrRCxFQUFBbWtELEdBSUFFLEVBQUEsU0FBQTVoRCxHQUdBLFFBQUE0aEQsR0FBQWpoRCxJQUNBLEVBQUF2QyxFQUFBLFlBQUE2QixLQUFBMmhELEVBRUEsSUFBQXBXLElBQUEsRUFBQWx0QyxFQUFBLFlBQUEyQixLQUFBRCxFQUFBTixLQUFBTyxLQUFBVSxHQUVBNnFDLEdBQUFxVyxnQkFBQSxTQUFBL0UsR0FDQSxHQUFBMTVDLEdBQUEwNUMsRUFBQTE1QyxZQUVBb29DLEdBQUFzRyxVQUE0QjF1QyxrQkFFNUJvb0MsRUFBQXNXLG1CQUFBLFdBQ0F0VyxFQUFBc0csVUFDQTF1QyxpQkFDYW9vQyxFQUFBdVcsZ0JBRWJ2VyxFQUFBdVcsY0FBQSxXQUNBdlcsRUFBQXdXLFlBQUEsR0FDQXhXLEVBQUF3VCxpQkFFQXhULEVBQUF5SCxnQkFBQSxTQUFBRCxHQUNBeEgsRUFBQXdXLFdBQUFoUCxHQUNBQSxHQUNBeEgsRUFBQXdULGlCQUdBeFQsRUFBQXlXLG9CQUFBLFNBQUFDLEdBQ0EsS0FBQUEsRUFBQUMsUUFBQXJpRCxRQUFBLElBR0EsR0FBQXNpRCxHQUFBNVcsRUFBQXFHLE1BQUF1USxxQkFDQTVXLEdBQUFxRyxNQUFBenVDLGFBQUF6RCxRQUFBdWlELEVBQUFyZ0QsTUFBQSxRQUVBdWdELEdBQUFGLEVBQUFyZ0QsS0FHQXVnRCxFQUFBRixFQUFBcmdELEtBQUFxZ0QsRUFBQUMsUUFFQTNXLEVBQUFzRyxVQUE0QnNRLDJCQUU1QixJQUFBcFAsR0FBQSx5QkFBQXJ5QyxHQUFBNjRDLFFBQUE3NEMsRUFBQTY0QyxPQUFBNkkscUJBTUEsT0FMQTdXLEdBQUFxRyxPQUNBenVDLGFBQUF6QyxFQUFBeUMsYUFDQWcvQyx5QkFDQXBQLFdBRUF4SCxFQTRJQSxPQTNMQSxFQUFBaHRDLEVBQUEsWUFBQW9qRCxFQUFBNWhELEdBa0RBNGhELEVBQUFwaUQsVUFBQXl0QyxrQkFBQSxXQUNBLEdBQUF1TSxHQUFBdjVDLEtBQUFVLE1BQUE2NEMsT0FFQThJLEVBQUExWCxFQUFBLFdBQUFzQyxZQUFBanRDLE1BQ0FzaUQsS0FBQSxFQUFBZCxFQUFBLFlBQUFhLEVBQUEsb0JBQ0FDLElBQUEvSSxFQUFBcnlDLFFBSUFsSCxLQUFBdWlELFlBQUEsSUFJQVosRUFBQXBpRCxVQUFBMnRDLDBCQUFBLFNBQUFDLEdBQ0EsR0FBQW9NLEdBQUFwTSxFQUFBb00sT0FFQVMsSUFDQSxpQkFBQTdNLEtBQ0E2TSxFQUFBNzJDLGFBQUFncUMsRUFBQWhxQyxjQUVBLHlCQUFBbzJDLEtBQ0FTLEVBQUFqSCxRQUFBd0csRUFBQTZJLHVCQUVBMWtELE9BQUF1SSxLQUFBK3pDLEdBQUFuNkMsT0FBQSxHQUNBRyxLQUFBNnhDLFNBQUFtSSxJQUlBMkgsRUFBQXBpRCxVQUFBd2lELFdBQUEsU0FBQWhQLEdBQ0EsR0FBQXdHLEdBQUF2NUMsS0FBQVUsTUFBQTY0QyxNQUVBLDBCQUFBQSxJQUNBdjVDLEtBQUE2eEMsVUFBMkJrQixZQUUzQndHLEVBQUFpSiwrQkFDQWpKLEVBQUFpSiw4QkFBQXpQLElBSUE0TyxFQUFBcGlELFVBQUF3L0MsY0FBQSxXQUNBLytDLEtBQUE0eEMsTUFBQXp1QyxlQUFBbkQsS0FBQVUsTUFBQXlDLGNBQ0FuRCxLQUFBVSxNQUFBcStDLGNBQUEvK0MsS0FBQVUsTUFBQTY0QyxPQUFBdjVDLEtBQUE0eEMsTUFBQXp1QyxlQUlBdytDLEVBQUFwaUQsVUFBQWtqRCxlQUFBLFNBQUFuL0MsR0FDQSxHQUFBaTJDLEdBQUF2NUMsS0FBQVUsTUFBQTY0QyxPQUVBcDNDLElBQUEsa0JBQUFvM0MsT0FBQW1KLGVBQ0EvMUMsRUFBQXhLLEVBQUF4RCxFQUFBLFdBQUEwQyxjQUFBdzBDLEVBQUEsWUFBd0ZuYyxRQUFBMTVCLEtBQUE0eEMsTUFBQXp1QyxhQUFBekQsUUFBQTRELEVBQUExRixNQUFBZ1AsYUFBQSxJQUF1RWpPLEVBQUEsV0FBQTBDLGNBQUE0akMsRUFBQSxZQUEwRHZMLFFBQUExNUIsS0FBQTR4QyxNQUFBenVDLGFBQUF6RCxRQUFBNEQsRUFBQTFGLE1BQUFnUCxhQUFBLEdBQ3pOLE9BQUFqTyxHQUFBLFdBQUEwQyxjQUNBZ2dELEVBQUFzQixNQUNhL2dELElBQUEwQixFQUFBMUYsT0FDYitPLEVBQ0FoTyxFQUFBLFdBQUEwQyxjQUNBLE9BQ0EsS0FDQWlDLEVBQUFzL0MsUUFLQWpCLEVBQUFwaUQsVUFBQXNqRCxXQUFBLFdBQ0EsR0FBQUMsR0FBQTlpRCxLQUFBVSxNQUFBNjRDLE9BQUFHLFFBQ0FBLEVBQUE3N0MsU0FBQWlsRCxNQUVBLE9BQUFwSixHQUFBam1CLEtBQUEsU0FBQW53QixHQUNBLFNBQUFBLEVBQUF6QyxVQUFBeUMsRUFBQXpDLFNBQUFoQixPQUFBLE1BSUE4aEQsRUFBQXBpRCxVQUFBd2pELFlBQUEsU0FBQUMsR0FDQSxHQUFBNVYsR0FBQXB0QyxJQUVBLE9BQUFnakQsR0FBQTcxQyxJQUFBLFNBQUE3SixHQUNBLEdBQUFBLEVBQUF6QyxVQUFBeUMsRUFBQXpDLFNBQUFoQixPQUFBLEdBQ0EsR0FBQXNpRCxHQUFBL1UsRUFBQXdFLE1BQUF1USxzQkFFQWMsRUFBQXZsRCxPQUFBdUksS0FBQWs4QyxHQUFBMXVCLEtBQUEsU0FBQTd4QixHQUNBLE1BQUF1Z0QsR0FBQXZnRCxHQUFBbEMsUUFBQTRELEVBQUExRixRQUFBLElBRUFzbEQsRUFBQUQsRUFBQTdWLEVBQUExc0MsTUFBQWcrQyxrQkFBQSw4QkFDQSxPQUFBLy9DLEdBQUEsV0FBQTBDLGNBQ0FnZ0QsRUFBQThCLFNBQ3FCL0UsTUFBQTk2QyxFQUFBcy9DLEtBQUE5aEQsVUFBQW9pRCxFQUFBdGhELElBQUEwQixFQUFBMUYsTUFBQWdQLFlBQ3JCd2dDLEVBQUEyVixZQUFBei9DLEVBQUF6QyxXQUdBLE1BQUF1c0MsR0FBQXFWLGVBQUFuL0MsTUFJQXErQyxFQUFBcGlELFVBQUFpQixPQUFBLFdBQ0EsR0FBQXFLLEdBQUE3SyxLQUFBVSxNQUNBNjRDLEVBQUExdUMsRUFBQTB1QyxPQUNBenJDLEVBQUFqRCxFQUFBaUQsT0FDQW5OLEVBQUFrSyxFQUFBbEssVUFDQSs5QyxFQUFBN3pDLEVBQUE2ekMsa0JBR0F2OEMsSUFBQSxrQkFBQW8zQyxPQUFBbUosZUFDQVUsR0FBQSxFQUFBcmtELEVBQUEsZUFBQWQsRUFBQSxlQUFnR3lnRCxFQUFBLHlCQUFBMStDLEtBQUE2aUQsZUFDaEdRLEVBQUE5SixFQUFBcUYsZUFBQWpnRCxFQUFBLFdBQUEwQyxjQUNBcWdELEVBQUEsV0FDQSxLQUNBbkksRUFBQXFGLGdCQUNBamdELEVBQUEsV0FBQTBDLGNBQ0FxZ0QsRUFBQSxZQUNhNWdELFVBQUFILEVBQUEsYUFDYmhDLEVBQUEsV0FBQTBDLGNBQ0FpZ0QsRUFBQSxZQUNpQm4vQyxXQUFBMndDLFFBQUE5eUMsS0FBQWdpRCxvQkFBQXJoRCxVQUFBKzlDLEVBQUEsUUFBQTU5QyxVQUFBc2lELEVBQUFsRyxTQUFBbDlDLEtBQUE0aEQsZ0JBQUEwQixXQUFBdGpELEtBQUE0aEQsZ0JBQUF6K0MsYUFBQW5ELEtBQUE0eEMsTUFBQXp1QyxjQUNqQm5ELEtBQUEraUQsWUFBQXhKLEVBQUFHLFVBRUEvNkMsRUFBQSxXQUFBMEMsY0FDQSxPQUNpQlAsVUFBQUgsRUFBQSxrQkFDakJoQyxFQUFBLFdBQUEwQyxjQUNBLEtBQ3FCUCxVQUFBSCxFQUFBLHlCQUFBbXlDLFFBQUE5eUMsS0FBQThoRCxlQUNyQmgwQyxFQUFBK3FDLGVBRUFsNkMsRUFBQSxXQUFBMEMsY0FDQSxLQUNxQlAsVUFBQUgsRUFBQSx1QkFBQW15QyxRQUFBOXlDLEtBQUE2aEQsb0JBQ3JCL3pDLEVBQUFnckMsZUFJQXlLLEVBQUF2akQsS0FBQVUsTUFBQXlDLGFBQUF0RCxPQUFBLEVBQUFjLEVBQUEsY0FDQSxPQUFBaEMsR0FBQSxXQUFBMEMsY0FDQW14QyxFQUFBLFlBQ2FJLFNBQUEsU0FBQUQsUUFBQTBRLEVBQUF0USxTQUFBL3lDLEtBQUF1aUQsWUFBQXZpRCxLQUFBNHhDLE1BQUFtQixRQUFBQyxnQkFBQWh6QyxLQUFBZ3pDLGlCQUNicjBDLEVBQUEsV0FBQTBDLGNBQUFpeEMsRUFBQSxZQUFpRThMLE1BQUF0d0MsRUFBQThxQyxZQUFBcjFDLEtBQUEsU0FBQXpDLFVBQUF5aUQsTUFJakU1QixHQUNDaGpELEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUF1a0QsRUFFQUEsRUFBQW5nRCxjQUNBODNDLGFBQUEsYUFFQUMsV0FFQXA4QyxFQUFBQyxVQUFBLFl4Q3lzUU1vbUQsSUFDQSxTQUFTcm1ELEVBQVFDLEVBQVNDLEd5Q2o5UWhDLFlBcUJBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBa2lELEtBQ0EsR0FBQW45QixHQUFBcGlCLFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsTUFDQXVqRCxFQUFBdmpELFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsY0FFQXlHLEtBQ0ErOEMsRUFBQSxRQUFBQSxHQUFBbi9DLEdBQ0FBLEVBQUFsQixRQUFBLFNBQUFDLEdBQ0EsR0FBQXFnRCxJQUFBLEVBQUEzTyxFQUFBLGVBQTJEMXhDLFNBQzNEcWdELEdBQUFGLEdBQ0E5OEMsRUFBQS9DLEtBQUErL0MsR0FDQXJnRCxFQUFBbWdELElBQUFuZ0QsRUFBQW1nRCxHQUFBNWpELE9BQUEsR0FDQTZqRCxFQUFBcGdELEVBQUFtZ0QsTUFLQSxPQURBQyxHQUFBcGhDLEdBQ0EzYixFQUVBLFFBQUFrekMsR0FBQStKLEVBQUFDLEdBQ0EsR0FBQUosR0FBQXZqRCxVQUFBTCxPQUFBLEdBQUFoQyxTQUFBcUMsVUFBQSxHQUFBQSxVQUFBLGFBRUEsT0FBQTBqRCxHQUFBejJDLElBQUEsU0FBQTIyQyxFQUFBamhELEdBQ0EsR0FBQWtoRCxLQUlBLE9BSEFELEdBQUFMLEtBQ0FNLEVBQUFOLEdBQUE1SixFQUFBaUssRUFBQUwsR0FBQUksRUFBQUosS0FFQSxFQUFBek8sRUFBQSxlQUFnRDZPLEVBQUFDLEVBQUFqaEQsR0FBQWtoRCxLQUdoRCxRQUFBdEksR0FBQXVJLEdBQ0EsR0FBQWxLLEtBY0EsT0FiQW43QyxHQUFBLFdBQUF5RSxTQUFBQyxRQUFBMmdELEVBQUEsU0FBQUMsR0FDQSxHQUFBdGxELEVBQUEsV0FBQXVsRCxlQUFBRCxHQUFBLENBR0EsR0FBQTFLLElBQUEsRUFBQXZFLEVBQUEsZUFBc0RpUCxFQUFBdmpELE1BQ3REdWpELEdBQUFyaUQsTUFDQTIzQyxFQUFBMzNDLElBQUFxaUQsRUFBQXJpRCxLQUVBcWlELEVBQUExZ0QsT0FBQWsxQyxFQUFBLGFBQ0FjLEVBQUExNEMsU0FBQTQ2QyxFQUFBbEMsRUFBQTE0QyxXQUVBaTVDLEVBQUFsMkMsS0FBQTIxQyxNQUVBTyxFQWpFQXA4QyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQXFpRCxZQUNBcmlELEVBQUF5OEMsVUFDQXo4QyxFQUFBcStDLGtCQUVBLElBQUEvOEMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXEyQyxFQUFBMTNDLEVBQUEsR0FFQTIzQyxFQUFBMTNDLEVBQUF5M0MsR0FFQXlELEVBQUFuN0MsRUFBQSxJQUVBbzdDLEVBQUFuN0MsRUFBQWs3QyxJekN3Z1JNMkwsSUFDQSxTQUFTaG5ELEVBQVFDLEVBQVNDLEcwQ3hoUmhDLEdBQUFtc0IsR0FBQW5zQixFQUFBLElBUUFGLEdBQUFDLFFBQUEsU0FBQTZtRCxFQUFBRyxFQUFBOTRDLEdBS0EsSUFKQUEsS0FBQS9ELFNBRUEwOEMsR0FBYTM4QyxXQUFBMjhDLElBRWJBLElBQUEzOEMsYUFBQTI4QyxJQUFBMzRDLEdBQ0EsR0FBQWtlLEVBQUF5NkIsRUFBQUcsR0FDQSxNQUFBSCxLMUNzaVJNSSxJQUNBLFNBQVNsbkQsRUFBUUMsRzJDMWpSdkIsWUFXQSxTQUFBb3NCLEdBQUE4NkIsRUFBQUYsR0FFQSxHQUFBeHNCLEdBQUFpRCxPQUFBMHBCLFFBQUFobEQsVUFDQWlsRCxFQUFBNXNCLEVBQUFwTyxTQUNBb08sRUFBQTZzQixvQkFDQTdzQixFQUFBOHNCLG1CQUNBOXNCLEVBQUErc0Isa0JBQ0Evc0IsRUFBQWd0QixxQkFFQSxLQUFBTixHQUFBLElBQUFBLEVBQUFPLFNBQ0EsUUFHQSxJQUFBQyxHQUFBUixFQUFBaDlDLFVBR0EsSUFBQWs5QyxFQUNBLE1BQUFBLEdBQUEva0QsS0FBQTZrRCxFQUFBRixFQU9BLFFBSEFXLEdBQUFELEVBQUFFLGlCQUFBWixHQUNBbnlDLEVBQUE4eUMsRUFBQWxsRCxPQUVBRCxFQUFBLEVBQWlCQSxFQUFBcVMsRUFBU3JTLElBQzFCLEdBQUFtbEQsRUFBQW5sRCxLQUFBMGtELEVBQ0EsUUFJQSxVQU9Bbm5ELEVBQUFDLFFBQUFvc0IsRzNDaWtSTXk3QixJQUNOLEdBRU1DLElBQ04sR0FFTUMsSUFDTixHQUVNQyxJQUNOLEdBRU1DLElBQ04sR0FFTUMsSUFDTixHQUVNQyxJQUNBLFNBQVNwb0QsRUFBUUMsRUFBU0MsSTRDcG9SaEMsU0FBQW1vRCxJQUNBLFdBQ0EsR0FBQUMsR0FBQUMsRUFBQUMsQ0FFQSxvQkFBQUMsY0FBQSxPQUFBQSx5QkFBQTl4QyxJQUNBM1csRUFBQUMsUUFBQSxXQUNBLE1BQUF3b0QsYUFBQTl4QyxPQUVHLG1CQUFBMHhDLElBQUEsT0FBQUEsS0FBQUUsUUFDSHZvRCxFQUFBQyxRQUFBLFdBQ0EsT0FBQXFvRCxJQUFBRSxHQUFBLEtBRUFELEVBQUFGLEVBQUFFLE9BQ0FELEVBQUEsV0FDQSxHQUFBSSxFQUVBLE9BREFBLEdBQUFILElBQ0EsSUFBQUcsRUFBQSxHQUFBQSxFQUFBLElBRUFGLEVBQUFGLEtBQ0d2NEMsS0FBQTRHLEtBQ0gzVyxFQUFBQyxRQUFBLFdBQ0EsTUFBQThQLE1BQUE0RyxNQUFBNnhDLEdBRUFBLEVBQUF6NEMsS0FBQTRHLFFBRUEzVyxFQUFBQyxRQUFBLFdBQ0EsVUFBQThQLE9BQUF3QyxVQUFBaTJDLEdBRUFBLEdBQUEsR0FBQXo0QyxPQUFBd0MsYUFHQ2pRLEtBQUFPLFE1Q3dvUjZCUCxLQUFLckMsRUFBU0MsRUFBb0IsT0FJMUR5b0QsSUFDQSxTQUFTM29ELEVBQVFDLEVBQVNDLEc2QzVxUmhDLFlBb0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBOHJDLEdBQUE5ckMsRUFBQXVuQixHQUFvRixPQUFqRDdlLEdBQUF2SSxPQUFBNHJDLG9CQUFBeGtCLEdBQWlEbGxCLEVBQUEsRUFBZ0JBLEVBQUFxRyxFQUFBcEcsT0FBaUJELElBQUEsQ0FBTyxHQUFBZ0MsR0FBQXFFLEVBQUFyRyxHQUFtQmhDLEVBQUFGLE9BQUE2ckMseUJBQUF6a0IsRUFBQWxqQixFQUE0RGhFLE1BQUE0ckMsY0FBQTNyQyxTQUFBTixFQUFBcUUsSUFBNkRsRSxPQUFBQyxlQUFBSixFQUFBcUUsRUFBQWhFLEdBQTRDLE1BQUFMLEdBRXBULFFBQUF3b0QsR0FBQXhvRCxFQUFBcUUsRUFBQWhFLEdBQW1NLE1BQXhKZ0UsS0FBQXJFLEdBQWtCRyxPQUFBQyxlQUFBSixFQUFBcUUsR0FBa0NoRSxRQUFBd3NDLFlBQUEsRUFBQVosY0FBQSxFQUFBYSxVQUFBLElBQWdGOXNDLEVBQUFxRSxHQUFBaEUsRUFBb0JMLEVBRW5NLFFBQUFrc0MsR0FBQUMsRUFBQUMsR0FBaUQsS0FBQUQsWUFBQUMsSUFBMEMsU0FBQUMsV0FBQSxxQ0FFM0YsUUFBQUMsR0FBQUMsRUFBQXJxQyxHQUFpRCxJQUFBcXFDLEVBQWEsU0FBQUMsZ0JBQUEsNERBQXlGLFFBQUF0cUMsR0FBQSxnQkFBQUEsSUFBQSxrQkFBQUEsR0FBQXFxQyxFQUFBcnFDLEVBRXZKLFFBQUF1cUMsR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQU4sV0FBQSxpRUFBQU0sR0FBdUdELEdBQUExcUMsVUFBQTdCLE9BQUF5c0MsT0FBQUQsS0FBQTNxQyxXQUF5RStLLGFBQWUxTSxNQUFBcXNDLEVBQUFHLFlBQUEsRUFBQUMsVUFBQSxFQUFBYixjQUFBLEtBQTZFVSxJQUFBeHNDLE9BQUE0c0MsZUFBQTVzQyxPQUFBNHNDLGVBQUFMLEVBQUFDLEdBQUFiLEVBQUFZLEVBQUFDLElBNUJyWHhzQyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBNHNDLEdBQUE5c0MsT0FBQStzQyxRQUFBLFNBQUEzakMsR0FBbUQsT0FBQWxILEdBQUEsRUFBZ0JBLEVBQUFNLFVBQUFMLE9BQXNCRCxJQUFBLENBQU8sR0FBQTJULEdBQUFyVCxVQUFBTixFQUEyQixRQUFBZ0MsS0FBQTJSLEdBQTBCN1YsT0FBQTZCLFVBQUFDLGVBQUFDLEtBQUE4VCxFQUFBM1IsS0FBeURrRixFQUFBbEYsR0FBQTJSLEVBQUEzUixJQUFpQyxNQUFBa0YsSUFFL09wSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBTSxFQUFBM0IsRUFBQSxJQUVBNEIsRUFBQTNCLEVBQUEwQixHQUVBRixFQUFBekIsRUFBQSxHQUVBMEIsRUFBQXpCLEVBQUF3QixHQWNBZ0IsRUFBQSxTQUFBQyxHQUdBLFFBQUFELEdBQUFZLEdBQ0Erb0MsRUFBQXpwQyxLQUFBRixFQUVBLElBQUF5ckMsR0FBQTFCLEVBQUE3cEMsS0FBQUQsRUFBQU4sS0FBQU8sS0FBQVUsR0FFQTZxQyxHQUFBeWEsWUFBQSxTQUFBNW1ELEdBQ0Ftc0MsRUFBQXNHLFVBQXNCb1UsT0FBQSxJQUN0QjFhLEVBQUE3cUMsTUFBQXdsRCxRQUFBOW1ELElBR0Ftc0MsRUFBQTRhLFdBQUEsU0FBQS9tRCxHQUNBbXNDLEVBQUFzRyxVQUFzQm9VLE9BQUEsSUFDdEIxYSxFQUFBN3FDLE1BQUEwbEQsT0FBQWhuRCxJQUdBbXNDLEVBQUE0UCxhQUFBLFNBQUEvN0MsR0FDQW1zQyxFQUFBN3FDLE1BQUFxRCxXQUdBLFdBQUF3bkMsR0FBQTdxQyxPQUNBNnFDLEVBQUFzRyxVQUNBblksUUFBQXQ2QixFQUFBMEgsT0FBQTR5QixVQUdBNlIsRUFBQTdxQyxNQUFBbXNDLFVBQ0EvbEMsT0FBQTBqQyxLQUEyQmUsRUFBQTdxQyxPQUMzQmc1QixRQUFBdDZCLEVBQUEwSCxPQUFBNHlCLFVBRUF5ZCxnQkFBQSxXQUNBLzNDLEVBQUErM0MsbUJBRUF4MEMsZUFBQSxXQUNBdkQsRUFBQXVELHFCQUtBLElBQUErMkIsSUFBQSxDQVVBLE9BUkFBLEdBREEsV0FBQWg1QixHQUNBQSxFQUFBZzVCLFFBRUFoNUIsRUFBQXMyQyxlQUVBekwsRUFBQXFHLE9BQ0FsWSxVQUNBdXNCLE9BQUEsR0FFQTFhLEVBMERBLE1BM0dBdkIsR0FBQWxxQyxFQUFBQyxHQW9EQUQsRUFBQVAsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQUNBLFdBQUFBLElBQ0FudEMsS0FBQTZ4QyxVQUNBblksUUFBQXlULEVBQUF6VCxXQUtBNTVCLEVBQUFQLFVBQUFZLHNCQUFBLFdBQ0EsT0FBQUMsR0FBQUYsVUFBQUwsT0FBQVEsRUFBQUMsTUFBQUYsR0FBQUcsRUFBQSxFQUFtRUEsRUFBQUgsRUFBYUcsSUFDaEZGLEVBQUFFLEdBQUFMLFVBQUFLLEVBR0EsT0FBQXRCLEdBQUEsV0FBQWtCLHNCQUFBRixNQUFBRCxLQUFBSyxJQUdBUCxFQUFBUCxVQUFBaUIsT0FBQSxXQUNBLEdBQUFvSyxHQUVBbEssRUFBQThwQyxLQUEyQnhxQyxLQUFBVSxhQUkzQkEsR0FBQXMyQyxjQUVBLElBQUFwRixHQUFBNXhDLEtBQUE0eEMsTUFDQWp4QyxFQUFBRCxFQUFBQyxVQUNBKzRCLEVBQUFrWSxFQUFBbFksT0FDQSxrQkFBQUEsS0FDQUEsSUFBQSxJQUVBLElBQUE1NEIsSUFBQSxFQUFBL0IsRUFBQSxhQUFBNkwsS0FBa0VtN0MsRUFBQW43QyxFQUFBbEssRUFBQUksWUFBQUosRUFBQUksV0FBQWlsRCxFQUFBbjdDLEVBQUFqSyxFQUFBLEdBQUFvbEQsRUFBQW43QyxFQUFBakssRUFBQSxXQUFBKzRCLEdBQUFxc0IsRUFBQW43QyxFQUFBakssRUFBQSxZQUFBKzRCLE9BQUFxc0IsRUFBQW43QyxFQUFBakssRUFBQSxXQUFBaXhDLEVBQUFxVSxPQUFBRixFQUFBbjdDLEVBQUFqSyxFQUFBLFlBQUFELEVBQUFxRCxVQUFBNkcsR0FDbEUsT0FBQWpNLEdBQUEsV0FBQTBDLGNBQ0EsUUFFQVAsWUFDQUYsTUFBQUYsRUFBQUUsT0FFQWpDLEVBQUEsV0FBQTBDLGNBQUEsUUFBZ0RQLFVBQUFILEVBQUEsV0FDaERoQyxFQUFBLFdBQUEwQyxjQUFBLFNBQ0F3RSxLQUFBbkYsRUFBQW1GLEtBQ0F0QyxLQUFBN0MsRUFBQTZDLEtBQ0E4aUQsU0FBQTNsRCxFQUFBMmxELFNBQ0F0aUQsU0FBQXJELEVBQUFxRCxTQUNBdWlELFNBQUE1bEQsRUFBQTRsRCxTQUNBeGxELFVBQUFILEVBQUEsU0FDQSs0QixZQUNBb1osUUFBQTl5QyxLQUFBVSxNQUFBb3lDLFFBQ0FvVCxRQUFBbG1ELEtBQUFnbUQsWUFDQUksT0FBQXBtRCxLQUFBbW1ELFdBQ0F0WixTQUFBN3NDLEtBQUFtN0MsaUJBS0FyN0MsR0FDQ25CLEVBQUEsV0FBQTJDLFVBRUR4QixHQUFBOEwsV0FDQS9GLEtBQUFsSCxFQUFBLFdBQUFrTixVQUFBNUgsT0FDQXRELFVBQUFoQyxFQUFBLFdBQUFrTixVQUFBNUgsT0FDQXJELE1BQUFqQyxFQUFBLFdBQUFrTixVQUFBeWlDLE9BQ0EvcUMsS0FBQTVFLEVBQUEsV0FBQWtOLFVBQUE1SCxPQUNBbkQsVUFBQW5DLEVBQUEsV0FBQWtOLFVBQUE1SCxPQUNBK3lDLGVBQUFyNEMsRUFBQSxXQUFBa04sVUFBQXdpQyxXQUFBMXZDLEVBQUEsV0FBQWtOLFVBQUF3RixPQUFBMVMsRUFBQSxXQUFBa04sVUFBQUUsT0FDQWhJLFNBQUFwRixFQUFBLFdBQUFrTixVQUFBRSxLQUNBMnRCLFFBQUEvNkIsRUFBQSxXQUFBa04sVUFBQXdpQyxXQUFBMXZDLEVBQUEsV0FBQWtOLFVBQUF3RixPQUFBMVMsRUFBQSxXQUFBa04sVUFBQUUsT0FDQW02QyxRQUFBdm5ELEVBQUEsV0FBQWtOLFVBQUF3TCxLQUNBK3VDLE9BQUF6bkQsRUFBQSxXQUFBa04sVUFBQXdMLEtBQ0F3MUIsU0FBQWx1QyxFQUFBLFdBQUFrTixVQUFBd0wsS0FDQXk3QixRQUFBbjBDLEVBQUEsV0FBQWtOLFVBQUF3TCxNQUVBdlgsRUFBQTBCLGNBQ0FiLFVBQUEsY0FDQUMsU0FDQTJDLEtBQUEsV0FDQXpDLFVBQUEsR0FDQWsyQyxnQkFBQSxFQUNBa1AsUUFBQSxhQUNBRSxPQUFBLGFBQ0F2WixTQUFBLGNBRUF6dkMsRUFBQSxXQUFBMEMsRUFDQTNDLEVBQUFDLFVBQUEsWTdDa3JSTW1wRCxJQUNBLFNBQVNwcEQsRUFBUUMsRUFBU0MsRzhDMzFSaEMsWUF3QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFpcEQsR0FBQWpwRCxFQUFBMEksR0FBOEMsR0FBQWEsS0FBaUIsUUFBQWxILEtBQUFyQyxHQUFxQjBJLEVBQUF2RyxRQUFBRSxJQUFBLEdBQW9DbEMsT0FBQTZCLFVBQUFDLGVBQUFDLEtBQUFsQyxFQUFBcUMsS0FBNkRrSCxFQUFBbEgsR0FBQXJDLEVBQUFxQyxHQUFzQixPQUFBa0gsR0F4QjNNcEosT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTRzQyxHQUFBOXNDLE9BQUErc0MsUUFBQSxTQUFBM2pDLEdBQW1ELE9BQUFsSCxHQUFBLEVBQWdCQSxFQUFBTSxVQUFBTCxPQUFzQkQsSUFBQSxDQUFPLEdBQUEyVCxHQUFBclQsVUFBQU4sRUFBMkIsUUFBQWdDLEtBQUEyUixHQUEwQjdWLE9BQUE2QixVQUFBQyxlQUFBQyxLQUFBOFQsRUFBQTNSLEtBQXlEa0YsRUFBQWxGLEdBQUEyUixFQUFBM1IsSUFBaUMsTUFBQWtGLElBRS9PcEksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWdzQyxFQUFBcnRDLEVBQUEsR0FFQXN0QyxFQUFBcnRDLEVBQUFvdEMsR0FFQStiLEVBQUFwcEQsRUFBQSxJQUVBcXBELEVBQUFwcEQsRUFBQW1wRCxHQUVBRSxFQUFBdHBELEVBQUEsS0FFQXVwRCxFQUFBdHBELEVBQUFxcEQsR0FnQkFsaEIsRUFBQTltQyxFQUFBLFdBQUFrb0QsYUFDQUMsWUFBQSxXQUVBbDdDLFdBQ0FtN0MsNEJBQUFyb0QsRUFBQW1OLFVBQUFFLEtBQ0FpbkMsZ0JBQUF0MEMsRUFBQW1OLFVBQUF3TCxLQUNBMVcsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQXBELFNBQUFuQyxFQUFBbU4sVUFBQUcsSUFDQU4sZUFBQWhOLEVBQUFtTixVQUFBNUgsT0FDQStpRCxpQkFBQXRvRCxFQUFBbU4sVUFBQTVILE9BQ0ErbkMsVUFBQXR0QyxFQUFBbU4sVUFBQUcsSUFDQTZtQyxNQUFBbjBDLEVBQUFtTixVQUFBeWlDLE9BQ0EyWSxhQUFBdm9ELEVBQUFtTixVQUFBeWlDLE9BQ0ExSSxVQUFBbG5DLEVBQUFtTixVQUFBNUgsT0FDQTJ1QyxRQUFBbDBDLEVBQUFtTixVQUFBdEgsTUFDQTJpRCxXQUFBeG9ELEVBQUFtTixVQUFBdEgsTUFDQTRpRCxXQUFBem9ELEVBQUFtTixVQUFBdEgsTUFDQTZpRCxrQkFBQTFvRCxFQUFBbU4sVUFBQXdMLE1BR0Fnd0MsZ0JBQUEsV0FDQSxPQUNBTiw2QkFBQSxFQUNBcG1ELFVBQUEsY0FDQWl5QyxTQUFBLFNBQ0FzVSxjQUNBQyxjQUNBSCxpQkFBQSxHQUNBQyxnQkFDQUssZ0JBQUEsRUFDQXRVLGdCQUFBLGFBRUFwTixVQUFBLGVBR0EyaEIsZ0JBQUEsV0FDQSxHQUFBN21ELEdBQUFWLEtBQUFVLEtBQ0Esa0JBQUFBLElBRUFxeUMsUUFBQXJ5QyxFQUFBcXlDLFVBSUFBLFFBQUFyeUMsRUFBQTRtRCxpQkFHQXBhLDBCQUFBLFNBQUEyUCxHQUNBLEdBQUE5SixHQUFBOEosRUFBQTlKLE9BRUFsMUMsVUFBQWsxQyxHQUNBL3lDLEtBQUE2eEMsVUFDQWtCLGFBSUFELFFBQUEsU0FBQTF6QyxHQUNBLEdBQUFzQixHQUFBVixLQUFBVSxNQUNBOG1ELEVBQUE5bUQsRUFBQWl5QyxRQUFBanlDLEtBRUEsWUFBQUEsSUFDQVYsS0FBQTZ4QyxVQUNBa0IsU0FBQSxJQUdBeVUsRUFBQTFVLFNBQ0EwVSxFQUFBMVUsUUFBQTF6QyxJQUdBNHpDLGdCQUFBLFNBQUFELEdBQ0EsR0FBQXJ5QyxHQUFBVixLQUFBVSxLQUNBLFlBQUFBLElBQ0FWLEtBQUE2eEMsVUFDQWtCLFlBR0FyeUMsRUFBQXN5QyxnQkFBQUQsSUFFQTBVLGVBQUEsV0FDQSxHQUFBL21ELEdBQUFWLEtBQUFVLEtBQ0EsT0FBQS9CLEdBQUEsV0FBQW1uQyxhQUFBcGxDLEVBQUFpeUMsU0FDQWh5QyxVQUFBRCxFQUFBQyxVQUFBLFFBQ0FteUMsUUFBQTl5QyxLQUFBOHlDLFdBR0E0VSxnQkFBQSxXQUNBLE1BQUExbkQsTUFBQTJuRCxLQUFBL1UsUUFBQThVLG1CQUVBRSxtQkFBQSxTQUFBN1UsR0FDQSxHQUFBQSxHQUFBL3lDLEtBQUFVLE1BQUFxbUQsNEJBQUEsQ0FDQSxHQUFBYyxHQUFBN25ELEtBQUEwbkQsa0JBQ0FyRixFQUFBMVgsRUFBQSxXQUFBc0MsWUFBQWp0QyxLQUNBcWlELEdBQUF5RixZQUFBRCxFQUFBQyxjQUNBRCxFQUFBam5ELE1BQUFtbkQsTUFBQTFGLEVBQUF5RixZQUFBLFFBSUF0bkQsT0FBQSxXQUNBLEdBQUFxSyxHQUFBN0ssS0FBQVUsTUFDQUMsRUFBQWtLLEVBQUFsSyxVQUNBRSxFQUFBZ0ssRUFBQWhLLFNBQ0E2SyxFQUFBYixFQUFBYSxlQUNBc2dDLEVBQUFuaEMsRUFBQW1oQyxVQUNBNkcsRUFBQWhvQyxFQUFBZ29DLE1BQ0FqTixFQUFBLzZCLEVBQUErNkIsVUFDQXdoQixFQUFBdjhDLEVBQUF1OEMsa0JBQ0FGLEVBQUFyOEMsRUFBQXE4QyxXQUNBQyxFQUFBdDhDLEVBQUFzOEMsV0FDQUgsRUFBQW44QyxFQUFBbThDLGlCQUNBQyxFQUFBcDhDLEVBQUFvOEMsYUFDQXJVLEVBQUEvbkMsRUFBQStuQyxRQUVBb1YsRUFBQXhCLEVBQUEzN0MsR0FBQSxtS0FFQSxPQUFBbE0sR0FBQSxXQUFBMEMsY0FDQXFsRCxFQUFBLFdBQ0FsYyxLQUFpQndkLEdBQ2pCcm5ELFlBQ0FzbkQsSUFBQSxVQUNBQyxlQUFBbEIsRUFDQW1CLFdBQUFsQixFQUNBbUIsa0JBQUF4QixFQUFBLFdBQ0F5QixPQUFBelYsRUFDQXNVLGFBQ0FDLGFBQ0FtQixlQUFBMWlCLEVBQ0EyaUIsV0FBQTFWLEVBQ0EyVixvQkFBQTk4QyxFQUNBKzhDLGVBQUF6YyxFQUNBMGMsYUFBQTFvRCxLQUFBNHhDLE1BQUFtQixRQUNBNFYsd0JBQUEzb0QsS0FBQTRuRCxtQkFDQWdCLE1BQUE1b0QsS0FBQXluRCxpQkFDQW9CLHFCQUFBN29ELEtBQUFnekMsZ0JBQ0FvVSxzQkFFQXZtRCxLQUtBekQsR0FBQSxXQUFBcW9DLEVBQ0F0b0MsRUFBQUMsVUFBQSxZOUNpMlJNMHJELElBQ0EsU0FBUzNyRCxFQUFRQyxFQUFTQyxHK0NwaFNoQyxZQVVBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQW1yRCxHQUFBMXJELEVBQUEsS0FFQTJyRCxFQUFBMXJELEVBQUF5ckQsRUFJQTNyRCxHQUFBLFdBQUE0ckQsRUFBQSxXQUNBN3JELEVBQUFDLFVBQUEsWS9DMGhTTTZyRCxJQUNBLFNBQVM5ckQsRUFBUUMsR2dEeGlTdkIsWUFFQU0sUUFBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBRUEsSUFBQXNyRCxJQUNBaFcsUUFBQSxFQUNBQyxRQUFBLEdBR0FDLEdBQUEsS0FFQStWLEVBQUEvckQsRUFBQStyRCxZQUNBQyxTQUNBamEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLE1BQ0FpcUIsZ0JBRUFpVyxXQUNBbGEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLE1BQ0FpcUIsZ0JBRUFrVyxVQUNBbmEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLE1BQ0FpcUIsZ0JBRUFtVyxZQUNBcGEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLEtBQ0FpcUIsZ0JBRUFvVyxjQUNBcmEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLEtBQ0FpcUIsZ0JBRUFxVyxhQUNBdGEsUUFBQSxXQUNBN2dDLFNBQUE0NkMsRUFDQS8vQixRQUFBLEtBQ0FpcUIsZ0JBSUFoMkMsR0FBQSxXQUFBK3JELEdoRDhpU01PLElBQ0EsU0FBU3ZzRCxFQUFRQyxFQUFTQyxHaURsbVNoQyxZQUVBLFNBQUFnc0MsR0FBQTlyQyxFQUFBdW5CLEdBQW9GLE9BQWpEN2UsR0FBQXZJLE9BQUE0ckMsb0JBQUF4a0IsR0FBaURsbEIsRUFBQSxFQUFnQkEsRUFBQXFHLEVBQUFwRyxPQUFpQkQsSUFBQSxDQUFPLEdBQUFnQyxHQUFBcUUsRUFBQXJHLEdBQW1CaEMsRUFBQUYsT0FBQTZyQyx5QkFBQXprQixFQUFBbGpCLEVBQTREaEUsTUFBQTRyQyxjQUFBM3JDLFNBQUFOLEVBQUFxRSxJQUE2RGxFLE9BQUFDLGVBQUFKLEVBQUFxRSxFQUFBaEUsR0FBNEMsTUFBQUwsR0FFcFQsUUFBQWtzQyxHQUFBQyxFQUFBQyxHQUFpRCxLQUFBRCxZQUFBQyxJQUEwQyxTQUFBQyxXQUFBLHFDQUUzRixRQUFBQyxHQUFBQyxFQUFBcnFDLEdBQWlELElBQUFxcUMsRUFBYSxTQUFBQyxnQkFBQSw0REFBeUYsUUFBQXRxQyxHQUFBLGdCQUFBQSxJQUFBLGtCQUFBQSxHQUFBcXFDLEVBQUFycUMsRUFFdkosUUFBQXVxQyxHQUFBQyxFQUFBQyxHQUEwQyxxQkFBQUEsSUFBQSxPQUFBQSxFQUErRCxTQUFBTixXQUFBLGlFQUFBTSxHQUF1R0QsR0FBQTFxQyxVQUFBN0IsT0FBQXlzQyxPQUFBRCxLQUFBM3FDLFdBQXlFK0ssYUFBZTFNLE1BQUFxc0MsRUFBQUcsWUFBQSxFQUFBQyxVQUFBLEVBQUFiLGNBQUEsS0FBNkVVLElBQUF4c0MsT0FBQTRzQyxlQUFBNXNDLE9BQUE0c0MsZUFBQUwsRUFBQUMsR0FBQWIsRUFBQVksRUFBQUMsSUFFclgsR0FBQXlmLEdBQUF0c0QsRUFBQSxHQUNBdXNELEVBQUF2c0QsRUFBQSxJQUVBd3NELEVBQUEsU0FBQTlwRCxHQUdBLFFBQUE4cEQsR0FBQW5wRCxHQUNBK29DLEVBQUF6cEMsS0FBQTZwRCxFQUVBLElBQUF0ZSxHQUFBMUIsRUFBQTdwQyxLQUFBRCxFQUFBTixLQUFBTyxLQUFBVSxHQVVBLE9BUkE2cUMsR0FBQXFHLE9BQ0F6UixRQUFBei9CLEVBQUF5L0IsUUFDQUUsU0FBQTMvQixFQUFBeS9CLFVBR0Esd0RBQUE5OEIsUUFBQSxTQUFBeW1ELEdBQ0EsTUFBQXZlLEdBQUF1ZSxHQUFBdmUsRUFBQXVlLEdBQUFDLEtBQUF4ZSxLQUVBQSxFQTBHQSxNQXpIQXZCLEdBQUE2ZixFQUFBOXBELEdBa0JBOHBELEVBQUF0cUQsVUFBQXlxRCxpQkFBQSxTQUFBcHNELEdBQ0EsTUFBQUEsR0FBQSxJQUFBb0MsS0FBQVUsTUFBQW9OLE9BQUFxNUIsZ0JBR0EwaUIsRUFBQXRxRCxVQUFBMHFELFlBQUEsU0FBQXJzRCxHQUNBb0MsS0FBQVUsTUFBQXdwRCxXQUFBbHVCLE9BQUFwK0IsS0FHQWlzRCxFQUFBdHFELFVBQUE0cUQsY0FBQSxTQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUF0akQsT0FBQWxKLEtBRUFvQyxNQUFBNnhDLFVBQ0F4UixTQUFBZ3FCLEtBSUFSLEVBQUF0cUQsVUFBQStxRCxJQUFBLFNBQUFsckQsR0FDQSxHQUFBaXJELEdBQUFqckQsRUFBQTBILE9BQUFsSixLQUNBLFNBQUF5c0QsRUFBQSxDQUdBLEdBQUFoNkMsR0FBQTJyQixPQUFBaDhCLEtBQUE0eEMsTUFBQXZSLFNBSUEsSUFIQTd3QixNQUFBYSxLQUNBQSxFQUFBclEsS0FBQTR4QyxNQUFBelIsU0FFQS9nQyxFQUFBbXJELFVBQUFYLEVBQUE3aUIsTUFBQSxDQUNBLEdBQUE3aEMsR0FBQWxGLEtBQUFVLE1BQUE4cEQsUUFBQW42QyxFQUNBclEsTUFBQTZ4QyxVQUNBeFIsU0FBQW43QixFQUNBaTdCLFFBQUFqN0IsT0FLQTJrRCxFQUFBdHFELFVBQUFpQixPQUFBLFdBQ0EsR0FBQTRzQyxHQUFBcHRDLEtBRUFVLEVBQUFWLEtBQUFVLE1BQ0FreEMsRUFBQTV4QyxLQUFBNHhDLE1BQ0E5akMsRUFBQXBOLEVBQUFvTixPQUNBbk4sRUFBQUQsRUFBQStwRCxjQUFBLFdBQ0FQLEVBQUF4cEQsRUFBQXdwRCxXQUNBTSxFQUFBOXBELEVBQUE4cEQsUUFDQUUsRUFBQWhxRCxFQUFBZ3FELGlCQUFBMXFELEtBQUFncUQsaUJBQ0FyL0MsRUFBQWpLLEVBQUEyekMscUJBQ0FzVyxFQUFBLEtBQ0FDLEVBQUEsSUFFQSxPQUFBVixJQUFBTSxHQUlBTixHQUFBdi9DLElBQ0EsV0FDQSxHQUFBWSxHQUFBWixFQUFBWSxPQUNBZ3dDLEVBQUE3NkMsRUFBQTY2QyxVQUFBNzZDLEVBQUFtcUQsZ0JBQUEsR0FDQTdZLEVBQUF0eEMsRUFBQW1xRCxnQkFBQTE5QyxJQUFBLFNBQUEyOUMsRUFBQWxyRCxHQUNBLE1BQUErcEQsR0FBQXRvRCxjQUNBa0ssR0FDYTNKLElBQUFoQyxFQUFBaEMsTUFBQWt0RCxHQUNiSixFQUFBSSxLQUlBSCxHQUFBaEIsRUFBQXRvRCxjQUNBc0osR0FFQWhLLFVBQUFELEVBQUE0ekMsZ0JBQ0E3b0MsWUFBQSxFQUNBM0ssVUFBQUgsRUFBQSxnQkFDQXdLLGdCQUFBLFdBQ0E0L0MsMEJBQUEsRUFDQW50RCxNQUFBMjlDLEVBQUEzdUMsV0FDQWlnQyxTQUFBTyxFQUFBNmMsYUFFQWpZLE1BS0F3WSxJQUNBSSxFQUFBakIsRUFBQXRvRCxjQUNBLE9BQ1NQLFVBQUFILEVBQUEsaUJBQ1RtTixFQUFBczVCLFFBQ0F1aUIsRUFBQXRvRCxjQUFBLFNBQ0FrQyxLQUFBLE9BQ0EzRixNQUFBZzBDLEVBQUF2UixTQUNBd00sU0FBQTdzQyxLQUFBbXFELGNBQ0FhLFFBQUFockQsS0FBQXNxRCxNQUVBeDhDLEVBQUF1NUIsT0FJQXNpQixFQUFBdG9ELGNBQ0EsT0FDT1AsVUFBQSxHQUFBSCxHQUNQZ3FELEVBQ0FDLElBbERBLE1Bc0RBZixHQUNDRixFQUFBcm9ELFVBRUR1b0QsR0FBQWorQyxXQUNBcytDLFdBQUFQLEVBQUE5OUMsVUFBQXdMLEtBQ0FtekMsUUFBQWIsRUFBQTk5QyxVQUFBd0wsS0FDQWc5QixxQkFBQXNWLEVBQUE5OUMsVUFBQXdMLEtBQ0E4b0IsUUFBQXdwQixFQUFBOTlDLFVBQUF3RixPQUNBdzVDLGdCQUFBbEIsRUFBQTk5QyxVQUFBby9DLFFBQUF0QixFQUFBOTlDLFVBQUE1SCxRQUNBczNDLFNBQUFvTyxFQUFBOTlDLFVBQUF3RixPQUNBcTVDLGdCQUFBZixFQUFBOTlDLFVBQUF3TCxLQUNBdkosT0FBQTY3QyxFQUFBOTlDLFVBQUF5aUMsUUFHQXViLEVBQUFyb0QsY0FDQXFwRCxpQkFBQSxzQkFHQTF0RCxFQUFBQyxRQUFBeXNELEdqRHdtU01xQixJQUNBLFNBQVMvdEQsRUFBUUMsRUFBU0MsR2tEbHdTaEMsWUFFQSxTQUFBZ3NDLEdBQUE5ckMsRUFBQXVuQixHQUFvRixPQUFqRDdlLEdBQUF2SSxPQUFBNHJDLG9CQUFBeGtCLEdBQWlEbGxCLEVBQUEsRUFBZ0JBLEVBQUFxRyxFQUFBcEcsT0FBaUJELElBQUEsQ0FBTyxHQUFBZ0MsR0FBQXFFLEVBQUFyRyxHQUFtQmhDLEVBQUFGLE9BQUE2ckMseUJBQUF6a0IsRUFBQWxqQixFQUE0RGhFLE1BQUE0ckMsY0FBQTNyQyxTQUFBTixFQUFBcUUsSUFBNkRsRSxPQUFBQyxlQUFBSixFQUFBcUUsRUFBQWhFLEdBQTRDLE1BQUFMLEdBRXBULFFBQUFrc0MsR0FBQUMsRUFBQUMsR0FBaUQsS0FBQUQsWUFBQUMsSUFBMEMsU0FBQUMsV0FBQSxxQ0FFM0YsUUFBQUMsR0FBQUMsRUFBQXJxQyxHQUFpRCxJQUFBcXFDLEVBQWEsU0FBQUMsZ0JBQUEsNERBQXlGLFFBQUF0cUMsR0FBQSxnQkFBQUEsSUFBQSxrQkFBQUEsR0FBQXFxQyxFQUFBcnFDLEVBRXZKLFFBQUF1cUMsR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQU4sV0FBQSxpRUFBQU0sR0FBdUdELEdBQUExcUMsVUFBQTdCLE9BQUF5c0MsT0FBQUQsS0FBQTNxQyxXQUF5RStLLGFBQWUxTSxNQUFBcXNDLEVBQUFHLFlBQUEsRUFBQUMsVUFBQSxFQUFBYixjQUFBLEtBQTZFVSxJQUFBeHNDLE9BQUE0c0MsZUFBQTVzQyxPQUFBNHNDLGVBQUFMLEVBQUFDLEdBQUFiLEVBQUFZLEVBQUFDLElBRXJYLEdBQUF5ZixHQUFBdHNELEVBQUEsR0FFQTh0RCxFQUFBLFNBQUFwckQsR0FHQSxRQUFBb3JELEtBR0EsTUFGQTFoQixHQUFBenBDLEtBQUFtckQsR0FFQXRoQixFQUFBN3BDLEtBQUFELEVBQUFFLE1BQUFELEtBQUFFLFlBMkJBLE1BaENBOHBDLEdBQUFtaEIsRUFBQXByRCxHQVFBb3JELEVBQUE1ckQsVUFBQWlCLE9BQUEsV0FDQSxHQUFBRSxHQUFBVixLQUFBVSxNQUNBQyxFQUFBRCxFQUFBK3BELGNBQUEsUUFDQXIvQyxFQUFBekssRUFBQSxJQUFBQSxFQUFBLElBQUFELEVBQUEybUMsSUFVQSxPQVJBM21DLEdBQUEwcUQsU0FDQWhnRCxJQUFBLElBQUF6SyxFQUFBLFdBR0FELEVBQUFJLFlBQ0FzSyxJQUFBLElBQUExSyxFQUFBSSxXQUdBNm9ELEVBQUF0b0QsY0FDQSxNQUNPKzhDLE1BQUExOUMsRUFBQTJtQyxLQUFBdm1DLFVBQUFzSyxFQUFBMG5DLFFBQUFweUMsRUFBQW95QyxTQUNQNlcsRUFBQXRvRCxjQUNBLElBQ0EsS0FDQVgsRUFBQTJtQyxRQUtBOGpCLEdBQ0N4QixFQUFBcm9ELFVBRUQ2cEQsR0FBQXYvQyxXQUNBeTdCLEtBQUFzaUIsRUFBQTk5QyxVQUFBd0YsT0FDQSs1QyxPQUFBekIsRUFBQTk5QyxVQUFBRSxLQUNBdWtDLEtBQUFxWixFQUFBOTlDLFVBQUFFLEtBQ0ErQixPQUFBNjdDLEVBQUE5OUMsVUFBQXlpQyxPQUNBeHRDLFVBQUE2b0QsRUFBQTk5QyxVQUFBNUgsUUFHQTlHLEVBQUFDLFFBQUErdEQsR2xEd3dTTUUsSUFDQSxTQUFTbHVELEVBQVFDLEVBQVNDLEdtRGowU2hDLFlBRUEsU0FBQWdzQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBa3NDLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFDLEdBQUFDLEVBQUFycUMsR0FBaUQsSUFBQXFxQyxFQUFhLFNBQUFDLGdCQUFBLDREQUF5RixRQUFBdHFDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUFxcUMsRUFBQXJxQyxFQUV2SixRQUFBdXFDLEdBQUFDLEVBQUFDLEdBQTBDLHFCQUFBQSxJQUFBLE9BQUFBLEVBQStELFNBQUFOLFdBQUEsaUVBQUFNLEdBQXVHRCxHQUFBMXFDLFVBQUE3QixPQUFBeXNDLE9BQUFELEtBQUEzcUMsV0FBeUUrSyxhQUFlMU0sTUFBQXFzQyxFQUFBRyxZQUFBLEVBQUFDLFVBQUEsRUFBQWIsY0FBQSxLQUE2RVUsSUFBQXhzQyxPQUFBNHNDLGVBQUE1c0MsT0FBQTRzQyxlQUFBTCxFQUFBQyxHQUFBYixFQUFBWSxFQUFBQyxJQVFyWCxRQUFBSyxNQU5BLEdBQUFvZixHQUFBdHNELEVBQUEsR0FDQTh0RCxFQUFBOXRELEVBQUEsS0FDQXdzRCxFQUFBeHNELEVBQUEsS0FDQXVzRCxFQUFBdnNELEVBQUEsSUFDQWl1RCxFQUFBanVELEVBQUEsSUFJQSsyQyxFQUFBLFNBQUFyMEMsR0FHQSxRQUFBcTBDLEdBQUExekMsR0FDQStvQyxFQUFBenBDLEtBQUFvMEMsRUFFQSxJQUFBN0ksR0FBQTFCLEVBQUE3cEMsS0FBQUQsRUFBQU4sS0FBQU8sS0FBQVUsSUFFQTZxRCxFQUFBN3FELEVBQUFtc0MsV0FBQXRDLEVBQ0FpaEIsRUFBQSxXQUFBOXFELEVBQ0E4cUQsS0FBQUQsR0FDQTk0QyxRQUFBSCxLQUFBLDBJQUdBLElBQUE2dEIsR0FBQXovQixFQUFBczdDLGNBQ0EsWUFBQXQ3QyxLQUNBeS9CLEVBQUF6L0IsRUFBQXkvQixRQUdBLElBQUFvYixHQUFBNzZDLEVBQUF1N0MsZUFjQSxPQWJBLFlBQUF2N0MsS0FDQTY2QyxFQUFBNzZDLEVBQUE2NkMsVUFHQWhRLEVBQUFxRyxPQUNBelIsVUFDQUUsU0FBQUYsRUFDQW9iLGFBR0EscUpBQUFsNEMsUUFBQSxTQUFBeW1ELEdBQ0EsTUFBQXZlLEdBQUF1ZSxHQUFBdmUsRUFBQXVlLEdBQUFDLEtBQUF4ZSxLQUVBQSxFQTJWQSxNQTNYQXZCLEdBQUFvSyxFQUFBcjBDLEdBbUNBcTBDLEVBQUE3MEMsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQVFBLEdBUEEsV0FBQUEsSUFDQW50QyxLQUFBNnhDLFVBQ0ExUixRQUFBZ04sRUFBQWhOLFFBQ0FFLFNBQUE4TSxFQUFBaE4sVUFJQSxZQUFBZ04sR0FBQSxDQUNBLEdBQUE2TSxNQUNBN1osRUFBQW5nQyxLQUFBNHhDLE1BQUF6UixRQUNBc3JCLEVBQUF6ckQsS0FBQTByRCxVQUFBdmUsRUFBQW9PLFNBQ0FwYixLQUFBc3JCLElBQUF0ckIsRUFDQSxXQUFBZ04sS0FDQTZNLEVBQUE3WixVQUNBNlosRUFBQTNaLFNBQUFGLEdBRUE2WixFQUFBdUIsU0FBQXBPLEVBQUFvTyxTQUNBdjdDLEtBQUE2eEMsU0FBQW1JLEtBTUE1RixFQUFBNzBDLFVBQUFtc0QsVUFBQSxTQUFBcHNELEdBQ0EsR0FBQWk4QyxHQUFBajhDLENBSUEsT0FIQSxtQkFBQWk4QyxLQUNBQSxFQUFBdjdDLEtBQUE0eEMsTUFBQTJKLFVBRUFqcUMsS0FBQUUsT0FBQXhSLEtBQUFVLE1BQUE2eUIsTUFBQSxHQUFBZ29CLEdBQUEsR0FHQW5ILEVBQUE3MEMsVUFBQTRQLFNBQUEsU0FBQWs0QixHQUNBLHNCQUFBQSxPQUFBLEdBQUFBLElBQUFybkMsS0FBQTR4QyxNQUFBelIsU0FHQWlVLEVBQUE3MEMsVUFBQW9zRCxlQUFBLFNBQUF2QixHQUNBQSxFQUFBRyxVQUFBWCxFQUFBNWlCLFVBQUFvakIsRUFBQUcsVUFBQVgsRUFBQTNpQixZQUNBbWpCLEVBQUF6bkQsa0JBSUF5eEMsRUFBQTcwQyxVQUFBcXNELGFBQUEsU0FBQXhCLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQXRqRCxPQUFBbEosTUFDQXlTLEVBQUEsTUFHQUEsR0FEQSxLQUFBZzZDLEVBQ0FBLEVBQ0s3NkMsTUFBQXdzQixPQUFBcXVCLElBQ0xycUQsS0FBQTR4QyxNQUFBdlIsU0FFQXJFLE9BQUFxdUIsR0FHQXJxRCxLQUFBNnhDLFVBQ0F4UixTQUFBaHdCLElBR0ErNUMsRUFBQUcsVUFBQVgsRUFBQTdpQixNQUNBL21DLEtBQUFtcUQsY0FBQTk1QyxHQUNLKzVDLEVBQUFHLFVBQUFYLEVBQUE1aUIsU0FDTGhuQyxLQUFBbXFELGNBQUE5NUMsRUFBQSxHQUNLKzVDLEVBQUFHLFVBQUFYLEVBQUEzaUIsWUFDTGpuQyxLQUFBbXFELGNBQUE5NUMsRUFBQSxJQUlBK2pDLEVBQUE3MEMsVUFBQXNzRCxnQkFBQSxTQUFBOWdELEdBQ0EsR0FBQW8xQixHQUFBbmdDLEtBQUE0eEMsTUFBQXpSLFFBQ0FzckIsRUFBQXpyRCxLQUFBMHJELFVBQUEzZ0QsRUFDQW8xQixLQUFBc3JCLElBQUF0ckIsRUFDQSxnQkFBQXAxQixLQUNBLFlBQUEvSyxNQUFBVSxPQUNBVixLQUFBNnhDLFVBQ0EwSixTQUFBeHdDLElBR0EsV0FBQS9LLE1BQUFVLE9BQ0FWLEtBQUE2eEMsVUFDQTFSLFVBQ0FFLFNBQUFGLEtBSUFuZ0MsS0FBQVUsTUFBQXU0QyxpQkFBQTlZLEVBQUFwMUIsSUFHQXFwQyxFQUFBNzBDLFVBQUE0cUQsY0FBQSxTQUFBN3FELEdBQ0EsR0FBQStuQyxHQUFBL25DLENBQ0EsSUFBQVUsS0FBQW1QLFNBQUFrNEIsR0FBQSxDQUNBQSxFQUFBcm5DLEtBQUEwckQsY0FDQXJrQixFQUFBcm5DLEtBQUEwckQsYUFHQSxXQUFBMXJELE1BQUFVLE9BQ0FWLEtBQUE2eEMsVUFDQTFSLFFBQUFrSCxFQUNBaEgsU0FBQWdILEdBSUEsSUFBQWtVLEdBQUF2N0MsS0FBQTR4QyxNQUFBMkosUUFHQSxPQUZBdjdDLE1BQUFVLE1BQUFtc0MsU0FBQXhGLEVBQUFrVSxHQUVBbFUsRUFHQSxNQUFBcm5DLE1BQUE0eEMsTUFBQXpSLFNBR0FpVSxFQUFBNzBDLFVBQUF1c0QsTUFBQSxXQUNBOXJELEtBQUErckQsWUFDQS9yRCxLQUFBbXFELGNBQUFucUQsS0FBQTR4QyxNQUFBelIsUUFBQSxJQUlBaVUsRUFBQTcwQyxVQUFBeXNELE1BQUEsV0FDQWhzRCxLQUFBaXNELFlBQ0Fqc0QsS0FBQW1xRCxjQUFBbnFELEtBQUE0eEMsTUFBQXpSLFFBQUEsSUFJQWlVLEVBQUE3MEMsVUFBQTJzRCxVQUFBLFdBQ0Fsc0QsS0FBQW1xRCxjQUFBNzRDLEtBQUEwRixJQUFBLEVBQUFoWCxLQUFBNHhDLE1BQUF6UixTQUFBbmdDLEtBQUFVLE1BQUF5ckQsY0FBQSxRQUdBL1gsRUFBQTcwQyxVQUFBNnNELFVBQUEsV0FDQXBzRCxLQUFBbXFELGNBQUE3NEMsS0FBQVksSUFBQWxTLEtBQUEwckQsWUFBQTFyRCxLQUFBNHhDLE1BQUF6UixTQUFBbmdDLEtBQUFVLE1BQUF5ckQsY0FBQSxRQUdBL1gsRUFBQTcwQyxVQUFBd3NELFNBQUEsV0FDQSxNQUFBL3JELE1BQUE0eEMsTUFBQXpSLFFBQUEsR0FHQWlVLEVBQUE3MEMsVUFBQTBzRCxTQUFBLFdBQ0EsTUFBQWpzRCxNQUFBNHhDLE1BQUF6UixRQUFBbmdDLEtBQUEwckQsYUFHQXRYLEVBQUE3MEMsVUFBQWlCLE9BQUEsV0FDQSxHQUFBRSxHQUFBVixLQUFBVSxNQUNBb04sRUFBQXBOLEVBQUFvTixPQUVBbk4sRUFBQUQsRUFBQUMsVUFDQTByRCxFQUFBcnNELEtBQUEwckQsWUFDQVksS0FDQUMsRUFBQSxLQUNBQyxFQUFBLEtBQ0FDLEVBQUEsS0FDQUMsRUFBQSxLQUVBQyxFQUFBanNELEVBQUF5ckQsY0FBQSxJQUNBbFYsRUFBQWozQyxLQUFBNHhDLE1BQ0F6UixFQUFBOFcsRUFBQTlXLFFBQ0FvYixFQUFBdEUsRUFBQXNFLFFBR0EsSUFBQTc2QyxFQUFBa3NELE9BQ0EsTUFBQWpELEdBQUF0b0QsY0FDQSxNQUNTUCxVQUFBSCxFQUFBLElBQUFBLEVBQUEsV0FBQUQsRUFBQUksV0FDVDZvRCxFQUFBdG9ELGNBQ0EsTUFFQSs4QyxNQUFBdHdDLEVBQUF3NUIsVUFDQXdMLFFBQUE5eUMsS0FBQThyRCxNQUNBaHJELFdBQUFkLEtBQUErckQsV0FBQSxHQUFBcHJELEVBQUEsaUJBQUFBLEVBQUEsU0FFQWdwRCxFQUFBdG9ELGNBQUEsV0FFQXNvRCxFQUFBdG9ELGNBQ0EsTUFDVys4QyxNQUFBcCtDLEtBQUE0eEMsTUFBQXpSLFFBQUEsSUFBQWtzQixFQUFBdnJELFVBQUFILEVBQUEsaUJBQ1hncEQsRUFBQXRvRCxjQUFBLFNBQ0FrQyxLQUFBLE9BQ0EzRixNQUFBb0MsS0FBQTR4QyxNQUFBdlIsU0FDQXdzQixVQUFBN3NELEtBQUEyckQsZUFDQVgsUUFBQWhyRCxLQUFBNHJELGFBQ0EvZSxTQUFBN3NDLEtBQUE0ckQsZUFFQWpDLEVBQUF0b0QsY0FDQSxRQUNhUCxVQUFBSCxFQUFBLFVBQ2IsVUFFQTByRCxHQUVBMUMsRUFBQXRvRCxjQUNBLE1BRUErOEMsTUFBQXR3QyxFQUFBeTVCLFVBQ0F1TCxRQUFBOXlDLEtBQUFnc0QsTUFDQWxyRCxXQUFBZCxLQUFBaXNELFdBQUEsR0FBQXRyRCxFQUFBLGlCQUFBQSxFQUFBLFNBRUFncEQsRUFBQXRvRCxjQUFBLFdBS0EsSUFBQWdyRCxHQUFBLElBQUFNLEVBQ0EsT0FBQS9zRCxHQUFBLEVBQXFCQSxHQUFBeXNELEVBQWV6c0QsSUFBQSxDQUNwQyxHQUFBd3JELEdBQUFwckQsS0FBQTR4QyxNQUFBelIsVUFBQXZnQyxDQUNBMHNELEdBQUExb0QsS0FBQStsRCxFQUFBdG9ELGNBQUE4cEQsR0FDQXI5QyxTQUNBMjhDLGNBQUE5cEQsRUFDQW15QyxRQUFBOXlDLEtBQUFtcUQsY0FBQUosS0FBQS9wRCxLQUFBSjtBQUNBZ0MsSUFBQWhDLEVBQ0F5bkMsS0FBQXpuQyxFQUNBd3JELGdCQUdLLENBQ0xtQixFQUFBNUMsRUFBQXRvRCxjQUNBLE1BRUErOEMsTUFBQTE5QyxFQUFBeXJELGNBQUFyK0MsRUFBQTQ1QixPQUFBNTVCLEVBQUEwNUIsT0FDQTVsQyxJQUFBLE9BQ0FreEMsUUFBQTl5QyxLQUFBa3NELFVBQ0FwckQsVUFBQUgsRUFBQSxjQUVBZ3BELEVBQUF0b0QsY0FBQSxXQUVBbXJELEVBQUE3QyxFQUFBdG9ELGNBQ0EsTUFFQSs4QyxNQUFBMTlDLEVBQUF5ckQsY0FBQXIrQyxFQUFBNjVCLE9BQUE3NUIsRUFBQTI1QixPQUNBN2xDLElBQUEsT0FDQWt4QyxRQUFBOXlDLEtBQUFvc0QsVUFDQXRyRCxVQUFBSCxFQUFBLGNBRUFncEQsRUFBQXRvRCxjQUFBLFdBRUFxckQsRUFBQS9DLEVBQUF0b0QsY0FBQThwRCxHQUNBcjlDLE9BQUFwTixFQUFBb04sT0FDQXdpQyxNQUFBLEVBQ0FtYSxjQUFBOXBELEVBQ0FteUMsUUFBQTl5QyxLQUFBbXFELGNBQUFKLEtBQUEvcEQsS0FBQXFzRCxHQUNBenFELElBQUF5cUQsRUFDQWhsQixLQUFBZ2xCLEVBQ0FqQixRQUFBLElBRUFxQixFQUFBOUMsRUFBQXRvRCxjQUFBOHBELEdBQ0FyOUMsT0FBQXBOLEVBQUFvTixPQUNBMjhDLGNBQUE5cEQsRUFDQW15QyxRQUFBOXlDLEtBQUFtcUQsY0FBQUosS0FBQS9wRCxLQUFBLEdBQ0E0QixJQUFBLEVBQ0F5bEMsS0FBQSxFQUNBK2pCLFFBQUEsR0FHQSxJQUFBMEIsR0FBQXg3QyxLQUFBMEYsSUFBQSxFQUFBbXBCLEVBQUF3c0IsR0FDQUksRUFBQXo3QyxLQUFBWSxJQUFBaXVCLEVBQUF3c0IsRUFBQU4sRUFFQWxzQixHQUFBLEdBQUF3c0IsSUFDQUksRUFBQSxJQUFBSixHQUdBTixFQUFBbHNCLEdBQUF3c0IsSUFDQUcsRUFBQVQsRUFBQSxFQUFBTSxFQUdBLFFBQUFwOEMsR0FBQXU4QyxFQUF5QnY4QyxHQUFBdzhDLEVBQWF4OEMsSUFBQSxDQUN0QyxHQUFBeThDLEdBQUE3c0IsSUFBQTV2QixDQUNBKzdDLEdBQUExb0QsS0FBQStsRCxFQUFBdG9ELGNBQUE4cEQsR0FDQXI5QyxPQUFBcE4sRUFBQW9OLE9BQ0EyOEMsY0FBQTlwRCxFQUNBbXlDLFFBQUE5eUMsS0FBQW1xRCxjQUFBSixLQUFBL3BELEtBQUF1USxHQUNBM08sSUFBQTJPLEVBQ0E4MkIsS0FBQTkyQixFQUNBNjZDLE9BQUE0QixLQUlBN3NCLEVBQUEsS0FBQXdzQixHQUFBLElBQUF4c0IsSUFDQW1zQixFQUFBLEdBQUEzQyxFQUFBN2pCLGFBQUF3bUIsRUFBQSxJQUNBeHJELFVBQUFILEVBQUEsMEJBRUEyckQsRUFBQTNyQixRQUFBNHJCLElBRUFGLEVBQUFsc0IsR0FBQSxFQUFBd3NCLEdBQUF4c0IsSUFBQWtzQixFQUFBLElBQ0FDLElBQUF6c0QsT0FBQSxHQUFBOHBELEVBQUE3akIsYUFBQXdtQixJQUFBenNELE9BQUEsSUFDQWlCLFVBQUFILEVBQUEsMkJBRUEyckQsRUFBQTFvRCxLQUFBNG9ELElBR0EsSUFBQU0sR0FDQVIsRUFBQTNyQixRQUFBOHJCLEdBRUFNLElBQUFWLEdBQ0FDLEVBQUExb0QsS0FBQThvRCxHQUlBLEdBQUFPLEdBQUEsSUFVQSxPQVJBdnNELEdBQUF3c0QsWUFDQUQsRUFBQXRELEVBQUF0b0QsY0FDQSxRQUNTUCxVQUFBSCxFQUFBLGVBQ1RELEVBQUF3c0QsVUFBQXhzRCxFQUFBNnlCLFFBQUE0TSxFQUFBLEdBQUFvYixFQUFBLEVBQUFwYixFQUFBb2IsRUFBQTc2QyxFQUFBNnlCLE1BQUE3eUIsRUFBQTZ5QixNQUFBNE0sRUFBQW9iLE1BSUFvTyxFQUFBdG9ELGNBQ0EsTUFFQVAsVUFBQUgsRUFBQSxJQUFBRCxFQUFBSSxVQUNBRixNQUFBRixFQUFBRSxNQUNBbUUsYUFBQSxnQkFFQWtvRCxFQUNBdEQsRUFBQXRvRCxjQUNBLE1BRUErOEMsTUFBQXR3QyxFQUFBdzVCLFVBQ0F3TCxRQUFBOXlDLEtBQUE4ckQsTUFDQWhyRCxXQUFBZCxLQUFBK3JELFdBQUEsR0FBQXByRCxFQUFBLGlCQUFBQSxFQUFBLFNBRUFncEQsRUFBQXRvRCxjQUFBLFdBRUFpckQsRUFDQTNDLEVBQUF0b0QsY0FDQSxNQUVBKzhDLE1BQUF0d0MsRUFBQXk1QixVQUNBdUwsUUFBQTl5QyxLQUFBZ3NELE1BQ0FsckQsV0FBQWQsS0FBQWlzRCxXQUFBLEdBQUF0ckQsRUFBQSxpQkFBQUEsRUFBQSxTQUVBZ3BELEVBQUF0b0QsY0FBQSxXQUVBc29ELEVBQUF0b0QsY0FBQXdvRCxHQUNBLzdDLE9BQUFwTixFQUFBb04sT0FDQTI4QyxjQUFBOXBELEVBQ0EwekMscUJBQUEzekMsRUFBQTJ6QyxxQkFDQUMsZ0JBQUE1ekMsRUFBQTR6QyxnQkFDQTRWLFdBQUFscUQsS0FBQVUsTUFBQXlzRCxnQkFBQW50RCxLQUFBNnJELGdCQUFBOUIsS0FBQS9wRCxNQUFBLEtBQ0FtZ0MsUUFBQW5nQyxLQUFBNHhDLE1BQUF6UixRQUNBb2IsU0FBQXY3QyxLQUFBNHhDLE1BQUEySixTQUNBc1AsZ0JBQUE3cUQsS0FBQVUsTUFBQW1xRCxnQkFDQUwsUUFBQXhxRCxLQUFBVSxNQUFBMHNELGdCQUFBcHRELEtBQUFtcUQsY0FBQUosS0FBQS9wRCxNQUFBLFNBS0FvMEMsR0FDQ3VWLEVBQUFyb0QsVUFFRDh5QyxHQUFBeG9DLFdBQ0F1MEIsUUFBQXdwQixFQUFBOTlDLFVBQUF3RixPQUNBMnFDLGVBQUEyTixFQUFBOTlDLFVBQUF3RixPQUNBa2lCLE1BQUFvMkIsRUFBQTk5QyxVQUFBd0YsT0FDQWtxQyxTQUFBb08sRUFBQTk5QyxVQUFBd0YsT0FDQTRxQyxnQkFBQTBOLEVBQUE5OUMsVUFBQXdGLE9BQ0F3N0IsU0FBQThjLEVBQUE5OUMsVUFBQXdMLEtBQ0E4MUMsZ0JBQUF4RCxFQUFBOTlDLFVBQUFFLEtBQ0FvZ0QsY0FBQXhDLEVBQUE5OUMsVUFBQUUsS0FDQWt0QyxpQkFBQTBRLEVBQUE5OUMsVUFBQXdMLEtBQ0FnOUIscUJBQUFzVixFQUFBOTlDLFVBQUF3TCxLQUNBKzFDLGdCQUFBekQsRUFBQTk5QyxVQUFBRSxLQUNBOCtDLGdCQUFBbEIsRUFBQTk5QyxVQUFBby9DLFFBQUF0QixFQUFBOTlDLFVBQUE1SCxRQUNBaXBELFVBQUF2RCxFQUFBOTlDLFVBQUF3TCxLQUNBdkosT0FBQTY3QyxFQUFBOTlDLFVBQUF5aUMsT0FDQTF0QyxNQUFBK29ELEVBQUE5OUMsVUFBQXlpQyxRQUdBOEYsRUFBQTV5QyxjQUNBdzZDLGVBQUEsRUFDQXpvQixNQUFBLEVBQ0Ewb0IsZ0JBQUEsR0FDQXBQLFNBQUF0QyxFQUNBenBDLFVBQUEsR0FDQXd6QyxnQkFBQSxZQUNBM3pDLFVBQUEsZ0JBQ0EwekMscUJBQUEsS0FDQStZLGlCQUFBLEVBQ0FELGlCQUFBLEVBQ0FoQixlQUFBLEVBQ0FsVCxpQkFBQTFPLEVBQ0F6OEIsT0FBQXc5QyxFQUNBMXFELFVBR0F6RCxFQUFBQyxRQUFBZzNDLEduRHUwU01pWixJQUNBLFNBQVNsd0QsRUFBUUMsRUFBU0MsR29ENXZUaEMsWUFHQUYsR0FBQUMsUUFBQUMsRUFBQSxNcERrd1RNaXdELElBQ0EsU0FBU253RCxFQUFRQyxFQUFTQyxHcUR0d1RoQyxZQUVBLElBQUFtdEMsR0FBQTlzQyxPQUFBK3NDLFFBQUEsU0FBQTNqQyxHQUFtRCxPQUFBbEgsR0FBQSxFQUFnQkEsRUFBQU0sVUFBQUwsT0FBc0JELElBQUEsQ0FBTyxHQUFBMlQsR0FBQXJULFVBQUFOLEVBQTJCLFFBQUFnQyxLQUFBMlIsR0FBMEI3VixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQThULEVBQUEzUixLQUF5RGtGLEVBQUFsRixHQUFBMlIsRUFBQTNSLElBQWlDLE1BQUFrRixJQUUvTzZpRCxFQUFBdHNELEVBQUEsR0FDQXlDLEVBQUF6QyxFQUFBLElBRUFtOEIsRUFBQW13QixFQUFBOUMsYUFDQUMsWUFBQSxRQUVBTyxnQkFBQSxXQUNBLE9BQ0ExbUQsVUFBQSxXQUNBNEMsS0FBQSxVQUlBL0MsT0FBQSxXQUNBLE1BQUFtcEQsR0FBQXRvRCxjQUFBdkIsRUFBQTBxQyxLQUFvRHhxQyxLQUFBVSxPQUFldW5ELElBQUEsZ0JBSW5FOXFELEdBQUFDLFFBQUFvOEIsR3JENHdUTSt6QixJQUNBLFNBQVNwd0QsRUFBUUMsRUFBU0MsR3NEbnlUaEMsWUFFQUYsR0FBQUMsUUFBQUMsRUFBQSxNdER5eVRNbXdELElBQ0EsU0FBU3J3RCxFQUFRQyxFQUFTQyxHdUQ1eVRoQyxZQWtDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FoQzdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBMDVDLEdBQUFqNkMsRUFBQSxJQUVBazZDLEVBQUFqNkMsRUFBQWc2QyxHQUVBeDVDLEVBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQVksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWdzQyxFQUFBcnRDLEVBQUEsR0FFQW93RCxFQUFBcHdELEVBQUEsS0FFQXF3RCxFQUFBcHdELEVBQUFtd0QsR0FFQXBNLEVBQUFoa0QsRUFBQSxJQUVBaWtELEVBQUFoa0QsRUFBQStqRCxHQUVBc00sRUFBQXR3RCxFQUFBLEtBRUF1d0QsRUFBQXR3RCxFQUFBcXdELEdBRUEvaUIsRUFBQXZ0QyxFQUFBLElBSUF3d0QsRUFBQWx2RCxFQUFBLFdBQUFrb0QsYUFDQUMsWUFBQSxlQUVBbDdDLFdBQ0FraUQseUJBQUFwdkQsRUFBQW1OLFVBQUFFLEtBQ0FuTyxNQUFBYyxFQUFBbU4sVUFBQUcsSUFDQStoRCxrQkFBQXJ2RCxFQUFBbU4sVUFBQXlpQyxPQUNBbnNDLFNBQUF6RCxFQUFBbU4sVUFBQUUsS0FDQWlpRCxhQUFBdHZELEVBQUFtTixVQUFBd0wsS0FDQTQyQyxlQUFBdnZELEVBQUFtTixVQUFBd0wsS0FDQTYyQyxhQUFBeHZELEVBQUFtTixVQUFBd0wsS0FDQTFXLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0FmLFVBQUF4RSxFQUFBbU4sVUFBQUcsSUFDQW1pRCxXQUFBenZELEVBQUFtTixVQUFBNUgsT0FDQTh1QyxRQUFBcjBDLEVBQUFtTixVQUFBRSxNQUdBcWlELG1CQUFBLFdBQ0FwdUQsS0FBQXF1RCxlQUFBcnVELEtBQUFVLE1BQUF5dEQsWUFFQW5oQixrQkFBQSxXQUNBaHRDLEtBQUFzdUQseUJBQ0F0dUQsS0FBQXV1RCxZQUFBdnVELEtBQUFVLE1BQUFxeUMsU0FFQTV5QyxzQkFBQSxTQUFBZ3RDLEdBS0EsTUFKQUEsR0FBQTRGLFVBQ0EveUMsS0FBQXV1RCxhQUFBLEdBR0FwaEIsRUFBQTRGLFNBRUEvRSxtQkFBQSxTQUFBd2dCLEdBQ0EsR0FBQTl0RCxHQUFBVixLQUFBVSxPQUNBOHRELEVBQUF6YixTQUFBcnlDLEVBQUFxeUMsU0FDQS95QyxLQUFBc3VELHlCQUVBdHVELEtBQUF1dUQsWUFBQTd0RCxFQUFBcXlDLFFBQ0EveUMsS0FBQXF1RCxlQUFBM3RELEVBQUF5dEQsWUFFQUcsdUJBQUEsV0FFQSxHQUFBRyxJQUFBLEVBQUEvakIsRUFBQXVDLGFBQUFqdEMsS0FBQTB1RCxnQkFDQUQsS0FDQSxFQUFBYixFQUFBLFlBQUFhLEdBQUEsRUFBQS9qQixFQUFBdUMsYUFBQWp0QyxLQUFBMm5ELEtBQUFnSCxPQUNBQyxvQkFBQSxLQUlBQyxXQUFBLFdBQ0EsR0FBQXRqQixHQUFBdnJDLEtBRUFVLEVBQUFWLEtBQUFVLE1BQ0F3QyxFQUFBeEMsRUFBQXdDLFVBQ0E0cUQsRUFBQXB0RCxFQUFBb3RELHlCQUNBbHdELEVBQUE4QyxFQUFBOUMsTUFDQStDLEVBQUFELEVBQUFDLFVBQ0F3QixFQUFBekIsRUFBQXlCLFNBQ0ErckQsRUFBQXh0RCxFQUFBd3RELGFBQ0FDLEVBQUF6dEQsRUFBQXl0RCxVQUVBLElBQUFqckQsS0FBQXJELE9BQUEsQ0FDQSxHQUFBaXZELEdBQUEsV0FDQSxHQUFBQyxLQUNBNXNELElBQ0E0c0QsRUFBQXpMLFdBQUE1aUQsRUFBQXN1RCxlQUNBRCxFQUFBN1IsU0FBQWdSLEdBRUFhLEVBQUFqYyxRQUFBb2IsQ0FHQSxJQUFBL3FELElBQUEsRUFBQXluQyxFQUFBM25DLGVBQUFDLEVBQUF0RixHQUNBcXhELEtBRUFDLEVBQUFoc0QsQ0FvQ0EsT0FuQ0FDLEdBQUF0RCxTQUNBLFdBQ0FhLEVBQUFxeUMsVUFBQXhILEVBQUFnakIsY0FDQVUsRUFBQUUsVUFBQWhzRCxFQUFBLEdBRUEsSUFBQWlzRCxJQUFBLEVBR0F0bEMsRUFBQSxTQUFBeG1CLEdBQ0EsTUFBQThyRCxJQUFBanNELEVBQUF6RCxRQUFBNEQsRUFBQTFCLFVBUUEwQixHQVBBOHJELEdBQUEsR0FDQSxFQUFBMXdELEVBQUFvbkMsY0FBQXhpQyxHQUNBMmtELElBQUEsU0FBQXBMLEdBQ0F0UixFQUFBbWpCLGdCQUFBN1IsTUFPQXFTLEdBQUFoc0QsRUFBQWlLLElBQUEsU0FBQTdKLEdBQ0EsR0FBQUEsRUFBQUMsS0FBQUMsZ0JBQUEsQ0FDQSxHQUFBM0MsSUFBQSxFQUFBNnNELEVBQUEsWUFBQXBxRCxFQUFBNUMsTUFBQUcsVUFBQXNNLElBQUEyYyxFQUNBLFVBQUFwckIsRUFBQW9uQyxjQUFBeGlDLEtBQXdEekMsR0FFeEQsTUFBQWlwQixHQUFBeG1CLFFBTUE2cUQsSUFBQTVpQixFQUFBOGlCLGlCQUNBWSxFQUFBRSxVQUFBLEtBSUF0ekIsRUFBQWw5QixFQUFBLFdBQUEwQyxjQUNBaWdELEVBQUEsWUFDQSxFQUFBdmpELEVBQUEsYUFDQWtxRCxJQUFBLE9BQ0FybkQsTUFBQTJxQyxFQUFBN3FDLE1BQUFxdEQsa0JBQ0FzQixtQkFBQXZCLEdBQ2FtQixHQUNiOXNELFdBQ0FtdEQsV0FBQSxHQUNhUCxHQUNiNXJELGVBQ0F4QyxZQUFBLFVBRUF1dUQsTUFLQSxtQ0FBQUosR0FBQSxlQUFBdlgsRUFBQSxZQUFBdVgsSUFBQSxNQUFBQSxHQUFBanpCLEVBRUEsYUFFQXI3QixPQUFBLFdBQ0EsR0FBQXF1RCxHQUFBN3VELEtBQUE2dUQsWUFDQSxPQUFBQSxHQUFBbHdELEVBQUEsV0FBQTBDLGNBQ0EsT0FFQVQsT0FBZ0IwTixTQUFBLFFBQ2hCNDNDLFFBQUFsbUQsS0FBQVUsTUFBQXN0RCxhQUNBdUIsWUFBQTNrQixFQUFBbG9DLHFCQUVBbXNELEdBQ0EsT0FJQXp4RCxHQUFBLFdBQUF5d0QsRUFDQTF3RCxFQUFBQyxVQUFBLFl2RGt6VE1veUQsSUFDQSxTQUFTcnlELEVBQVFDLEVBQVNDLEd3RDErVGhDLFlBc0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQXBCN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFFLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQVksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWtzQyxFQUFBdnRDLEVBQUEsSUFFQWdrRCxFQUFBaGtELEVBQUEsSUFFQXk2QyxFQUFBejZDLEVBQUEsS0FFQTA2QyxFQUFBejZDLEVBQUF3NkMsRUFJQTE2QyxHQUFBLFlBQ0FxeUQsYUFBQSxRQUFBQSxHQUFBOWlELEVBQUFoTCxHQUNBLElBQUFnTCxFQUNBLFFBRUEsSUFBQThpRCxHQUFBenZELEtBQUFVLE1BQUErdUQsWUFDQSxRQUFBQSxJQUdBOXRELEVBQUFqQixNQUFBcUQsVUFHQTByRCxFQUFBaHdELEtBQUFPLEtBQUEyTSxFQUFBaEwsSUFFQSt0RCxvQkFBQSxTQUFBdkIsR0FDQSxNQUFBbnVELE1BQUEydkQsZ0NBQUEzdkQsS0FBQVUsTUFBQUcsVUFBQSxFQUFBc3RELElBRUF3QixnQ0FBQSxTQUFBOXVELEVBQUErdUQsRUFBQUMsR0FDQSxHQUFBdGtCLEdBQUF2ckMsS0FFQTh2RCxLQUNBcHZELEVBQUFWLEtBQUFVLE1BQ0F5dEQsRUFBQXR3RCxTQUFBZ3lELEVBQUE3dkQsS0FBQTR4QyxNQUFBdWMsV0FBQTBCLEVBQ0FFLEtBQ0EzdEQsRUFBQTFCLEVBQUEwQixJQW9DQSxJQW5DQXpELEVBQUEsV0FBQXlFLFNBQUFDLFFBQUF4QyxFQUFBLFNBQUFjLEdBQ0EsR0FBQUEsRUFBQTRCLEtBQUF5c0QsaUJBQUEsQ0FDQSxHQUFBQyxHQUFBMWtCLEVBQUFva0IsZ0NBQUFodUQsRUFBQWpCLE1BQUFHLFVBQUEsRUFDQSxJQUFBb3ZELEVBQUFwd0QsT0FBQSxDQUNBLEdBQUFrRCxHQUFBcEIsRUFBQWpCLE1BQUFxQyxNQUNBbkIsRUFBQUQsRUFBQUMsR0FDQUEsSUFBQSxnQkFBQW1CLElBRVdBLEdBQUFuQixJQUNYbUIsRUFBQW5CLEdBRkFBLEVBQUFtQixFQUlBK3NELEVBQUFsc0QsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQ0FnZ0QsRUFBQTZPLFdBQ2F0dUQsTUFBQXc4QyxNQUFBcjdDLEdBQ2JrdEQsU0FiQSxFQW1CQSxFQUFBbFksRUFBQSxZQUFBcDJDLEVBQUE0QixLQUFBNHNELGVBQUEsNkZBQUF4dUQsRUFBQTRCLEtBQUFzQyxNQUFBbEUsRUFBQTRCLEtBQUF1akQsYUFBQW5sRCxFQUFBNEIsTUFBQSxNQUVBLElBQUE2c0QsSUFBQSxFQUFBeGxCLEVBQUFscEMsbUJBQUFDLEVBQ0E0cEMsR0FBQWtrQixhQUFBdEIsRUFBQXhzRCxJQUNBbXVELEVBQUFsc0QsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQUFnZ0QsRUFBQXNCLE1BQUEsRUFBQTVrRCxFQUFBLGFBQ0E2QyxNQUFBZ3FDLEVBQUFobUMsbUJBQ0F5ckQsVUFBQXpsQixFQUFBam1DLHVCQUNBL0csTUFBQXd5RCxFQUNBeHVELElBQUF3dUQsR0FDU3p1RCxFQUFBakIsU0FFVDBCLElBQUFULEVBQUFqQixNQUFBcUQsVUFDQWdzRCxFQUFBbnNELEtBQUF3c0QsTUFHQWh1RCxFQUFBLENBRUEsR0FBQXhFLEdBQUFvQyxLQUFBNHhDLE1BQUFoMEMsU0FpQkEsSUFoQkFBLElBQUEyOUIsT0FBQSxTQUFBKzBCLEdBQ0EsTUFBQVAsR0FBQXJ3RCxRQUFBNHdELEVBQUExdUQsYUFBQXVzRCxHQUFBb0MsT0FBQUQsRUFBQTF1RCxLQUFBbEMsUUFBQTZ3RCxPQUFBcEMsVUFFQTJCLElBQUFyc0QsT0FBQTdGLEVBQUF1UCxJQUFBLFNBQUFtakQsR0FDQSxHQUFBMXVELEdBQUEwdUQsRUFBQTF1RCxHQUNBLE9BQUFqRCxHQUFBLFdBQUEwQyxjQUNBZ2dELEVBQUFzQixNQUVBL2hELE1BQUFncUMsRUFBQWhtQyxtQkFDQXlyRCxVQUFBemxCLEVBQUFqbUMsdUJBQ0EvRyxNQUFBZ0UsRUFDQUEsT0FFQUEsTUFHQXVzRCxFQUFBLENBQ0EsR0FBQXFDLEdBQUFWLEVBQUEzUixNQUFBLFNBQUF6TSxHQUNBLFNBQUE5RyxFQUFBbHBDLG1CQUFBZ3dDLEtBQUF5YyxHQUVBcUMsSUFDQVYsRUFBQW52QixRQUFBaGlDLEVBQUEsV0FBQTBDLGNBQ0FnZ0QsRUFBQXNCLE1BRUEvaEQsTUFBQWdxQyxFQUFBaG1DLG1CQUNBeXJELFVBQUF6bEIsRUFBQWptQyx1QkFDQS9HLE1BQUF1d0QsRUFDQXZzRCxJQUFBdXNELEdBRUFBLEtBa0JBLE9BYkEyQixFQUFBandELFFBQUErdkQsR0FBQWx2RCxFQUFBd0ssa0JBQ0E0a0QsR0FBQW54RCxFQUFBLFdBQUEwQyxjQUNBZ2dELEVBQUFzQixNQUVBL2hELE1BQUFncUMsRUFBQWhtQyxtQkFDQXlyRCxVQUFBemxCLEVBQUFqbUMsdUJBQ0FaLFVBQUEsRUFDQW5HLE1BQUEsWUFDQWdFLElBQUEsYUFFQWxCLEVBQUF3SyxtQkFHQTRrRCxJQUdBM3lELEVBQUFDLFVBQUEsWXhEZy9UTXF6RCxJQUNBLFNBQVN0ekQsRUFBUUMsRUFBU0MsR3lEMW5VaEMsWUFzQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBcEI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQU0sR0FBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUlBOE0sRUFBQSxTQUFBekwsR0FHQSxRQUFBeUwsS0FFQSxPQURBLEVBQUFyTixFQUFBLFlBQUE2QixLQUFBd0wsSUFDQSxFQUFBbk4sRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUFHQSxPQVBBLEVBQUEzQixFQUFBLFlBQUFpTixFQUFBekwsR0FPQXlMLEdBQ0M3TSxFQUFBLFdBQUEyQyxVQUVEa0ssR0FBQXdrRCxrQkFBQSxFQUNBNXlELEVBQUEsV0FBQW9PLEVBQ0FyTyxFQUFBQyxVQUFBLFl6RGdvVU1zekQsSUFDQSxTQUFTdnpELEVBQVFDLEVBQVNDLEcwRHRxVWhDLFlBc0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQXBCN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFNLEdBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FJQTZNLEVBQUEsU0FBQXhMLEdBR0EsUUFBQXdMLEtBRUEsT0FEQSxFQUFBcE4sRUFBQSxZQUFBNkIsS0FBQXVMLElBQ0EsRUFBQWxOLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFFLE1BQUFELEtBQUFFLFlBR0EsT0FQQSxFQUFBM0IsRUFBQSxZQUFBZ04sRUFBQXhMLEdBT0F3TCxHQUNDNU0sRUFBQSxXQUFBMkMsVUFFRGlLLEdBQUFLLFdBQ0FoTyxNQUFBZSxFQUFBLFdBQUFrTixVQUFBNUgsUUFFQXNILEVBQUE0a0QsZ0JBQUEsRUFDQS95RCxFQUFBLFdBQUFtTyxFQUNBcE8sRUFBQUMsVUFBQSxZMUQ0cVVNdXpELElBQ0EsU0FBU3h6RCxFQUFRQyxFQUFTQyxHMkRydFVoQyxZQWdEQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQWd0QyxNQUVBLFFBQUFxbUIsR0FBQWprRCxFQUFBaEwsR0FDQSxNQUFBNHVELFNBQUEsRUFBQTNsQixFQUFBOW9DLGNBQUFILEVBQUEzQixLQUFBVSxNQUFBbXdELG1CQUFBbnhELFFBQUFpTixNQUdBLFFBQUFta0QsR0FBQWpyRCxFQUFBcW9DLEdBQ0FsdUMsS0FBQTZGLEdBQUFxb0MsRUF2REF4d0MsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBRixFQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFZLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnc0MsRUFBQXJ0QyxFQUFBLEdBRUFzdEMsRUFBQXJ0QyxFQUFBb3RDLEdBRUFxbUIsRUFBQTF6RCxFQUFBLEtBRUEyekQsRUFBQTF6RCxFQUFBeXpELEdBRUFoeUQsRUFBQTFCLEVBQUEsR0FFQTR6RCxFQUFBM3pELEVBQUF5QixHQUVBbXlELEVBQUE3ekQsRUFBQSxJQUVBOHpELEVBQUE3ekQsRUFBQTR6RCxHQUVBRSxFQUFBL3pELEVBQUEsSUFFQWcwRCxFQUFBL3pELEVBQUE4ekQsR0FFQXhtQixFQUFBdnRDLEVBQUEsSUFFQWkwRCxFQUFBajBELEVBQUEsS0FFQWswRCxFQUFBajBELEVBQUFnMEQsR0FFQUUsRUFBQW4wRCxFQUFBLEtBRUFvMEQsRUFBQW4wRCxFQUFBazBELEdBY0FFLEVBQUEsTUFFQWh6RCxHQUFBbU4sWUFDQTZsRCxFQUFBaHpELEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUE1SCxPQUFBdkYsRUFBQW1OLFVBQUE4bEQsT0FDQS92RCxJQUFBbEQsRUFBQW1OLFVBQUE1SCxPQUNBbEIsTUFBQXJFLEVBQUFtTixVQUFBaTRDLFNBSUEsSUFBQW41QyxHQUFBaE0sRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsU0FFQWw3QyxXQUNBa2lELHlCQUFBcHZELEVBQUFtTixVQUFBRSxLQUNBNUosU0FBQXpELEVBQUFtTixVQUFBRSxLQUNBMGpELGFBQUEvd0QsRUFBQW1OLFVBQUFHLElBQ0FuTCxTQUFBbkMsRUFBQW1OLFVBQUFHLElBQ0FQLFdBQUEvTSxFQUFBbU4sVUFBQUUsS0FDQWhJLFNBQUFyRixFQUFBbU4sVUFBQUUsS0FDQTZsRCxXQUFBbHpELEVBQUFtTixVQUFBRSxLQUNBOGxELFVBQUFuekQsRUFBQW1OLFVBQUFFLEtBQ0EzSixLQUFBMUQsRUFBQW1OLFVBQUFFLEtBQ0FwTCxVQUFBakMsRUFBQW1OLFVBQUE1SCxPQUNBbkQsVUFBQXBDLEVBQUFtTixVQUFBNUgsT0FDQXlILGVBQUFoTixFQUFBbU4sVUFBQTVILE9BQ0FrSCxnQkFBQXpNLEVBQUFtTixVQUFBNUgsT0FDQTRzRCxpQkFBQW55RCxFQUFBbU4sVUFBQTVILE9BQ0ErbkMsVUFBQXR0QyxFQUFBbU4sVUFBQTVILE9BQ0EwSCxxQkFBQWpOLEVBQUFtTixVQUFBNUgsT0FDQTRvQyxTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQSt1QyxPQUFBMW5ELEVBQUFtTixVQUFBd0wsS0FDQTZ1QyxRQUFBeG5ELEVBQUFtTixVQUFBd0wsS0FDQTZsQyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsS0FDQXk2QyxTQUFBcHpELEVBQUFtTixVQUFBd0wsS0FDQTA2QyxZQUFBcnpELEVBQUFtTixVQUFBRyxJQUNBczNDLFdBQUE1a0QsRUFBQW1OLFVBQUF3TCxLQUNBMjZDLGFBQUF0ekQsRUFBQW1OLFVBQUFFLEtBQ0FuTyxNQUFBYyxFQUFBbU4sVUFBQXdpQyxXQUFBcWpCLEVBQUFoekQsRUFBQW1OLFVBQUFvL0MsUUFBQXlHLEtBQ0E1ZixhQUFBcHpDLEVBQUFtTixVQUFBd2lDLFdBQUFxakIsRUFBQWh6RCxFQUFBbU4sVUFBQW8vQyxRQUFBeUcsS0FDQU8sY0FBQXZ6RCxFQUFBbU4sVUFBQXlpQyxPQUNBNGpCLGlCQUFBeHpELEVBQUFtTixVQUFBd0YsT0FDQThnRCxnQkFBQXp6RCxFQUFBbU4sVUFBQW8vQyxRQUFBdnNELEVBQUFtTixVQUFBNUgsUUFDQW11RCxnQkFBQTF6RCxFQUFBbU4sVUFBQXdMLE1BR0FnN0MsUUFBQVosRUFBQSxZQUVBcEssZ0JBQUEsV0FDQSxPQUNBMW1ELFVBQUEsWUFDQTh1RCxhQUFBbUIsRUFDQTBCLGFBQUEsRUFDQU4sY0FBQSxFQUNBbEUsMEJBQUEsRUFDQXJpRCxZQUFBLEVBQ0FtbUQsWUFBQSxFQUNBRyxZQUFBLEdBQ0FqZ0IsZ0JBQ0FqRixTQUFBdEMsRUFDQTJiLFFBQUEzYixFQUNBNmIsT0FBQTdiLEVBQ0EyUyxTQUFBM1MsRUFDQXVuQixTQUFBdm5CLEVBQ0ErWSxXQUFBL1ksRUFDQXNuQixXQUFBLEVBQ0E5RywwQkFBQSxFQUNBa0gsaUJBQ0FsRSxxQkFDQThDLGlCQUFBLFFBQ0ExbEQsZ0JBQUEsUUFDQUQsZ0JBQUEsY0FHQXE4QyxnQkFBQSxXQUNBLEdBQUE3bUQsR0FBQVYsS0FBQVUsTUFDQTlDLElBRUFBLEdBREEsU0FBQThDLElBQ0EsRUFBQWtxQyxFQUFBcm9DLFNBQUE3QixFQUFBOUMsUUFFQSxFQUFBZ3RDLEVBQUFyb0MsU0FBQTdCLEVBQUFveEMsY0FFQWwwQyxFQUFBb0MsS0FBQXV5RCxnQkFBQTd4RCxFQUFBOUMsR0FDQUEsRUFBQW9DLEtBQUF3eUQsZ0JBQUE5eEQsRUFBQTlDLEVBQ0EsSUFBQXV3RCxHQUFBLEVBQ0F6dEQsR0FBQXVCLFdBQ0Frc0QsRUFBQXZ3RCxFQUFBaUMsT0FBQUcsS0FBQXl5RCxrQkFBQS94RCxFQUFBOUMsRUFBQSxHQUFBZ0UsS0FBQSxJQUVBNUIsS0FBQTB5RCxhQUFBNUIsRUFBQS9HLEtBQUEvcEQsS0FBQSxpQkFDQUEsS0FBQTJ5RCxtQkFBQTdCLEVBQUEvRyxLQUFBL3BELEtBQUEsc0JBQ0EsSUFBQTR5RCxHQUFBbHlELEVBQUFreUQsSUFJQSxPQUhBLzBELFVBQUErMEQsSUFDQUEsRUFBQWx5RCxFQUFBNHhELGNBR0ExMEQsUUFDQXV3RCxhQUNBeUUsU0FHQXhFLG1CQUFBLFdBQ0FwdUQsS0FBQTZ5RCxtQkFFQTNsQiwwQkFBQSxTQUFBQyxHQUNBLFlBQUFBLEdBQUEsQ0FDQSxHQUFBdnZDLElBQUEsRUFBQWd0QyxFQUFBcm9DLFNBQUE0cUMsRUFBQXZ2QyxNQUNBQSxHQUFBb0MsS0FBQXV5RCxnQkFBQXBsQixFQUFBdnZDLEdBQ0FBLEVBQUFvQyxLQUFBd3lELGdCQUFBcmxCLEVBQUF2dkMsR0FDQW9DLEtBQUE2eEMsVUFDQWowQyxVQUVBdXZDLEVBQUFsckMsVUFDQWpDLEtBQUE2eEMsVUFDQXNjLFdBQUF2d0QsRUFBQWlDLE9BQUFHLEtBQUF5eUQsa0JBQUF0bEIsRUFBQXZ2QyxFQUFBLEdBQUFnRSxLQUFBLE9BS0FreEQsb0JBQUEsU0FBQTNsQixFQUFBNGxCLEdBQ0EveUQsS0FBQVUsTUFBQXlzQyxFQUNBbnRDLEtBQUE0eEMsTUFBQW1oQixFQUNBL3lELEtBQUE2eUQsbUJBRUE3a0IsbUJBQUEsV0FDQSxNQUFBcEQsRUFBQTFvQyxrQkFBQWxDLEtBQUFVLE9BQUEsQ0FDQSxHQUFBc3lELEdBQUFoekQsS0FBQWl6RCxrQkFDQUMsRUFBQWx6RCxLQUFBbXpELHVCQUNBSCxHQUFBcDFELE9BQ0FvMUQsRUFBQXB5RCxNQUFBbW5ELE1BQUEsR0FDQWlMLEVBQUFweUQsTUFBQW1uRCxNQUFBbUwsRUFBQXZyRCxZQUFBLE1BRUFxckQsRUFBQXB5RCxNQUFBbW5ELE1BQUEsS0FJQTlaLHFCQUFBLFdBQ0FqdUMsS0FBQW96RCxnQkFDQXB6RCxLQUFBcXpELG1CQUNBcnpELEtBQUFzekQsb0JBQ0Ezb0IsRUFBQSxXQUFBNG9CLHVCQUFBdnpELEtBQUFzekQsbUJBQ0EvckQsU0FBQUMsS0FBQWdzRCxZQUFBeHpELEtBQUFzekQsbUJBQ0F0ekQsS0FBQXN6RCxrQkFBQSxPQUdBRyxjQUFBLFNBQUFDLEdBQ0EsR0FBQXZCLEdBQUFueUQsS0FBQVUsTUFBQXl4RCxnQkFFQTloRCxFQUFBcWpELEVBQUE1c0QsT0FBQWxKLEtBQ0EsT0FBQWd0QyxFQUFBMW9DLGtCQUFBbEMsS0FBQVUsUUFBQXl4RCxJQUFBLEVBQUF2bkIsRUFBQTVtQyxvQkFBQXFNLEVBQUE4aEQsR0FBQSxDQUNBLEdBQUF3QixHQUFBM3pELEtBQUE0ekQsU0FBQXZqRCxFQUlBLE9BSEFyUSxNQUFBNnpELFdBQUFGLEdBQ0EzekQsS0FBQTh6RCxjQUFBLFVBQ0E5ekQsTUFBQSt6RCxjQUFBLE9BR0EvekQsS0FBQSt6RCxjQUFBMWpELEdBQ0FyUSxLQUFBNnhDLFVBQ0ErZ0IsTUFBQSxLQUVBLEVBQUFob0IsRUFBQTVvQyxZQUFBaEMsS0FBQVUsUUFDQVYsS0FBQTZ6RCxhQUNBanlELElBQUF5TyxNQUlBMmpELHdCQUFBLFNBQUFwQixHQUNBNXlELEtBQUE4ekQsYUFBQWxCLElBS0EvRixVQUFBLFNBQUE2RyxHQUNBLEdBQUFoekQsR0FBQVYsS0FBQVUsS0FDQSxLQUFBQSxFQUFBcUQsU0FBQSxDQUdBLEdBQUF3bUQsR0FBQW1KLEVBQUFuSixPQUNBdnFELE1BQUE0eEMsTUFBQWdoQixPQUFBNXlELEtBQUFpekQsa0JBQ0FqekQsS0FBQWkwRCxlQUFBUCxHQUNLbkosSUFBQXlHLEVBQUEsV0FBQWpxQixPQUFBd2pCLElBQUF5RyxFQUFBLFdBQUFrRCxPQUNMbDBELEtBQUE4ekQsY0FBQSxHQUNBSixFQUFBL3dELG9CQUdBc3hELGVBQUEsU0FBQVAsR0FDQSxHQUFBaHpELEdBQUFWLEtBQUFVLEtBQ0EsS0FBQUEsRUFBQXFELFNBQUEsQ0FHQSxHQUFBNnRDLEdBQUE1eEMsS0FBQTR4QyxNQUNBMlksRUFBQW1KLEVBQUFuSixPQUNBLE9BQUEzZixFQUFBMW9DLGtCQUFBeEIsS0FBQWd6RCxFQUFBNXNELE9BQUFsSixPQUFBMnNELElBQUF5RyxFQUFBLFdBQUFucUIsVUFBQSxDQUNBNnNCLEVBQUEvd0QsZ0JBQ0EsSUFBQS9FLEdBQUFnMEMsRUFBQWgwQyxLQUtBLGFBSEFBLEVBQUFpQyxRQUNBRyxLQUFBbTBELGVBQUF2MkQsSUFBQWlDLE9BQUEsR0FBQStCLE1BSUEsR0FBQTJvRCxJQUFBeUcsRUFBQSxXQUFBa0QsTUFDQSxJQUFBdGlCLEVBQUFnaEIsS0FJQSxNQUhBNXlELE1BQUFvMEQsb0JBQ0FWLEVBQUEvd0QscUJBQ0Erd0QsR0FBQXZjLHNCQUdLLElBQUFvVCxJQUFBeUcsRUFBQSxXQUFBcUQsSUFNTCxZQUxBemlCLEVBQUFnaEIsT0FDQTV5RCxLQUFBOHpELGNBQUEsR0FDQUosRUFBQS93RCxpQkFDQSt3RCxFQUFBdmMsbUJBS0EsSUFBQXZGLEVBQUFnaEIsS0FBQSxDQUNBLEdBQUFqRSxHQUFBM3VELEtBQUEybkQsS0FBQS9VLFFBQUEwaEIsY0FDQTNGLE1BQUE5QixVQUFBNkcsS0FDQUEsRUFBQS93RCxpQkFDQSt3RCxFQUFBdmMsc0JBSUErVyxhQUFBLFNBQUFyUixHQUNBLEdBQUF0UixHQUFBdnJDLEtBRUFzRCxFQUFBdTVDLEVBQUF2NUMsS0FFQTFGLEVBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFDQThDLEVBQUFWLEtBQUFVLE1BQ0E2ekQsR0FBQSxFQUFBM3BCLEVBQUFscEMsbUJBQUE0QixHQUNBa3hELEVBQUF4MEQsS0FBQXkwRCxtQkFBQW54RCxHQUNBb3dELEVBQUFhLENBQ0E3ekQsR0FBQXN4RCxlQUNBMEIsR0FDQTl4RCxJQUFBOHhELEVBQ0Ezd0QsTUFBQXl4RCxJQUdBOXpELEVBQUF3OEMsU0FBQXdXLEVBQUFwd0QsRUFDQSxJQUFBb3hELEdBQUFweEQsRUFBQTVDLE1BQUEwOUMsS0FDQSxPQUFBeFQsRUFBQTFvQyxrQkFBQXhCLEdBQUEsQ0FDQSxNQUFBa3FDLEVBQUFob0MsdUJBQUFoRixFQUFBMjJELFFBQ0EsTUFFQTMyRCxLQUFBNkYsU0FDQTdCLElBQUEyeUQsRUFDQXh4RCxNQUFBeXhELEVBQ0FwVyxNQUFBc1csU0FFSyxDQVFMLElBUEEsRUFBQTlwQixFQUFBNW9DLFlBQUF0QixLQUNBVixLQUFBMjBELGdCQUFBLEVBQ0EzMEQsS0FBQXF6RCxtQkFDQXJ6RCxLQUFBNDBELG9CQUFBamtCLFdBQUEsV0FDQXBGLEVBQUFvcEIsZ0JBQUEsR0FDUyxJQUVULzJELEVBQUFpQyxRQUFBakMsRUFBQSxHQUFBZ0UsTUFBQTJ5RCxFQUVBLFdBREF2MEQsTUFBQTh6RCxjQUFBLEtBR0FsMkQsS0FDQWdFLElBQUEyeUQsRUFDQXh4RCxNQUFBeXhELEVBQ0FwVyxNQUFBc1csSUFFQTEwRCxLQUFBOHpELGNBQUEsTUFFQTl6RCxLQUFBNnpELFdBQUFqMkQsRUFDQSxJQUFBdXdELEdBQUEsTUFFQUEsSUFEQSxFQUFBdmpCLEVBQUE1b0MsWUFBQXRCLElBQ0EsRUFBQWtxQyxFQUFBOW9DLGNBQUF3QixFQUFBNUMsRUFBQXlLLGlCQUVBLEdBRUFuTCxLQUFBK3pELGNBQUE1RixHQUFBLElBRUFhLGVBQUEsU0FBQTZGLEdBQ0EsR0FBQXZ4RCxHQUFBdXhELEVBQUF2eEQsS0FDQXd4RCxFQUFBRCxFQUFBQyxRQUVBLFdBQUFBLEVBQUF2eEQsTUFDQXZELEtBQUFtMEQsZ0JBQUEsRUFBQXZwQixFQUFBbHBDLG1CQUFBNEIsSUFFQXRELEtBQUErekQsY0FBQSxRQUVBZ0IsYUFBQSxTQUFBMzFELEdBQ0FBLEVBQUErM0Msa0JBQ0FuM0MsS0FBQVUsTUFBQXFELFVBQ0EvRCxLQUFBOHpELGNBQUE5ekQsS0FBQTR4QyxNQUFBZ2hCLE1BQUE1eUQsS0FBQTR4QyxNQUFBZ2hCLE9BR0FvQyxtQkFBQSxXQUNBaDFELEtBQUFpekQsbUJBQ0FqekQsS0FBQWl6RCxrQkFBQWhOLFNBR0FnUCxhQUFBLFNBQUE3MUQsS0FDQSxFQUFBd3JDLEVBQUF2b0MsNEJBQUFyQyxLQUFBVSxRQUFBdEIsRUFBQTBILFNBQUE5RyxLQUFBaXpELHFCQUdBanpELEtBQUFvekQsZ0JBQ0FwekQsS0FBQWsxRCxVQUFBLEVBQ0FsMUQsS0FBQW0xRCx1QkFDQW4xRCxLQUFBVSxNQUFBd2xELFlBRUE4SCxhQUFBLFdBRUFodUQsS0FBQW8xRCxZQUFBLE9BRUFDLFlBQUEsV0FDQSxHQUFBam9CLEdBQUFwdEMsSUFFQUEsTUFBQXMxRCxVQUFBM2tCLFdBQUEsV0FDQXZELEVBQUE4bkIsVUFBQSxFQUNBOW5CLEVBQUErbkIsc0JBQ0EsSUFBQXowRCxHQUFBMHNDLEVBQUExc0MsTUFDQTlDLEVBQUF3dkMsRUFBQXdFLE1BQUFoMEMsTUFDQXV3RCxFQUFBL2dCLEVBQUF3RSxNQUFBdWMsVUFFQSxPQUFBdmpCLEVBQUF0b0MsY0FBQTVCLE1BQUErSyxZQUFBMGlELEdBQUF6dEQsRUFBQW90RCx5QkFBQSxDQUNBLEdBQUE5YixHQUFBNUUsRUFBQW1vQixZQUNBLElBQUF2akIsRUFBQW55QyxPQUFBLENBQ0EsR0FBQTIxRCxJQUFBLEVBQUE1cUIsRUFBQS9tQyxtQkFBQW11QyxFQUNBd2pCLEtBQ0E1M0QsSUFDQWdFLElBQUE0ekQsRUFBQTV6RCxJQUNBbUIsTUFBQXFxQyxFQUFBcW5CLG1CQUFBZSxLQUVBcG9CLEVBQUF5bUIsV0FBQWoyRCxVQUdPLEVBQUFndEMsRUFBQTFvQyxrQkFBQXhCLElBQUF5dEQsSUFFUC9nQixFQUFBd0UsTUFBQXVjLFdBQUEvZ0IsRUFBQTZsQixrQkFBQXIxRCxNQUFBLEdBRUE4QyxHQUFBMGxELE9BQUFoWixFQUFBcW9CLGlCQUFBNzNELEtBQ0ssS0FFTDgzRCxpQkFBQSxTQUFBaEMsR0FDQSxHQUFBaHpELEdBQUFWLEtBQUFVLE1BQ0FreEMsRUFBQTV4QyxLQUFBNHhDLEtBQ0EsS0FBQWx4QyxFQUFBcUQsU0FBQSxDQUdBLEdBQUFvcUQsR0FBQXZjLEVBQUF1YyxXQUNBdndELEVBQUFnMEMsRUFBQWgwQyxLQUVBODFELEdBQUF2YyxtQkFDQWdYLEdBQUF2d0QsRUFBQWlDLFVBQ0FqQyxFQUFBaUMsUUFDQUcsS0FBQTZ6RCxlQUVBN3pELEtBQUE4ekQsY0FBQSxNQUNBM0YsR0FDQW51RCxLQUFBK3pELGNBQUEsT0FJQTRCLHVCQUFBLFdBQ0EzMUQsS0FBQTJuRCxLQUFBL1UsUUFBQStVLEtBQUEvVSxRQUFBZ2pCLG1CQUVBQyxzQkFBQSxTQUFBaDFELEVBQUFqRCxHQUNBLEdBQUFrL0MsR0FBQTk4QyxJQUVBLElBQUFuQyxTQUFBRCxFQUNBLFdBRUEsSUFBQW1GLEdBQUEsSUFXQSxPQVZBcEUsR0FBQSxXQUFBeUUsU0FBQUMsUUFBQXhDLEVBQUEsU0FBQWMsR0FDQSxHQUFBQSxFQUFBNEIsS0FBQXlzRCxpQkFBQSxDQUNBLEdBQUE4RixHQUFBaFosRUFBQStZLHNCQUFBbDBELEVBQUFqQixNQUFBRyxTQUFBakQsRUFDQSxRQUFBazRELElBQ0EveUQsRUFBQSt5RCxRQUVPLEVBQUFsckIsRUFBQWxwQyxtQkFBQUMsS0FBQS9ELElBQ1BtRixFQUFBKzVDLEVBQUEyWCxtQkFBQTl5RCxNQUdBb0IsR0FFQWd6RCxnQkFBQSxTQUFBbDFELEVBQUFrQyxHQUNBLEdBQUFzNkMsR0FBQXI5QyxJQUVBLElBQUFuQyxTQUFBa0YsRUFDQSxXQUVBLElBQUFuRixHQUFBLElBV0EsT0FWQWUsR0FBQSxXQUFBeUUsU0FBQUMsUUFBQXhDLEVBQUEsU0FBQWMsR0FDQSxHQUFBQSxFQUFBNEIsS0FBQXlzRCxpQkFBQSxDQUNBLEdBQUE4RixHQUFBelksRUFBQTBZLGdCQUFBcDBELEVBQUFqQixNQUFBRyxTQUFBa0MsRUFDQSxRQUFBK3lELElBQ0FsNEQsRUFBQWs0RCxRQUVPLEVBQUFsckIsRUFBQXJvQyxTQUFBODZDLEVBQUFvWCxtQkFBQTl5RCxJQUFBcUIsS0FBQSxNQUFBRCxJQUNQbkYsR0FBQSxFQUFBZ3RDLEVBQUFscEMsbUJBQUFDLE1BR0EvRCxHQUVBNjJELG1CQUFBLFNBQUE5eUQsR0FDQSxTQUFBaXBDLEVBQUE5b0MsY0FBQUgsRUFBQTNCLEtBQUFVLE1BQUF5SyxrQkFFQXNuRCxrQkFBQSxTQUFBL3hELEVBQUE5QyxHQUNBLE1BQUFvQyxNQUFBZzJELGdCQUFBdDFELEVBQUFHLFNBQUFqRCxJQUVBNjNELGlCQUFBLFNBQUFRLEdBQ0EsR0FBQUMsR0FBQUQsQ0FDQSxPQUFBcDRELFVBQUFxNEQsR0FNQUEsRUFMQWwyRCxLQUFBVSxNQUFBc3hELGFBS0FrRSxFQUFBL29ELElBQUEsU0FBQWdwRCxHQUNBLE9BQWtCdjBELElBQUF1MEQsRUFBQXYwRCxJQUFBbUIsTUFBQW96RCxFQUFBcHpELFNBTGxCbXpELEVBQUEvb0QsSUFBQSxTQUFBMHVCLEdBQ0EsTUFBQUEsR0FBQWo2QixPQU9BLEVBQUFncEMsRUFBQTFvQyxrQkFBQWxDLEtBQUFVLE9BQUF3MUQsSUFBQSxJQUVBQSxHQUVBRixnQkFBQSxTQUFBbjFELEVBQUFqRCxHQUNBLEdBQUFtRixHQUFBL0MsS0FBQTYxRCxzQkFBQWgxRCxFQUFBakQsRUFDQSxlQUFBbUYsRUFDQW5GLEVBRUFtRixHQUVBcXpELHFCQUFBLFdBS0EsTUFKQXAyRCxNQUFBc3pELG9CQUNBdHpELEtBQUFzekQsa0JBQUEvckQsU0FBQWxHLGNBQUEsT0FDQWtHLFNBQUFDLEtBQUE2dUQsWUFBQXIyRCxLQUFBc3pELG9CQUVBdHpELEtBQUFzekQsbUJBRUFnRCxzQkFBQSxXQUNBLEdBQUE1MUQsR0FBQVYsS0FBQVUsTUFDQWt4QyxFQUFBNXhDLEtBQUE0eEMsTUFFQTJrQixHQUFBLENBQ0Eza0IsR0FBQXVjLGFBQ0FvSSxHQUFBLEdBRUEza0IsRUFBQWgwQyxNQUFBaUMsU0FDQTAyRCxHQUFBLElBRUEsRUFBQTNyQixFQUFBNW9DLFlBQUF0QixJQUFBLElBQUFreEMsRUFBQWgwQyxNQUFBaUMsU0FBQSt4QyxFQUFBaDBDLE1BQUEsR0FBQWdFLE1BQ0EyMEQsR0FBQSxFQUVBLElBQUF4RSxHQUFBcnhELEVBQUFxeEQsV0FDQSxPQUFBQSxHQUNBcHpELEVBQUEsV0FBQTBDLGNBQ0EsT0FDQSxFQUFBdEQsRUFBQSxhQUNBd3hELFlBQUEza0IsRUFBQWxvQyxvQkFDQTlCLE9BQUEsRUFBQTdDLEVBQUEsYUFDQXk0RCxRQUFBRCxFQUFBLGdCQUNXM3JCLEVBQUFobUMscUJBQ0ZnbUMsRUFBQWptQyx3QkFDVG11QyxRQUFBOXlDLEtBQUFnMUQsbUJBQ0FsMEQsVUFBQUosRUFBQUMsVUFBQSw0QkFFQW94RCxHQUdBLE1BRUFLLGdCQUFBLFdBQ0EsR0FBQTF4RCxHQUFBVixLQUFBVSxNQUNBKzFELEVBQUEvMUQsRUFBQTB4RCxnQkFBQTF4RCxFQUFBMHhELGtCQUFBenpELEVBQUEsV0FBQTBDLGNBQUEsY0FDQXExRCxHQUFBLEVBQUF6RixFQUFBLFlBQUF3RixFQUFBLzFELE1BQUFJLFdBQUEsRUFBQTdDLEVBQUEsZUFBaUh5QyxFQUFBQyxVQUFBLHFCQUNqSCxPQUFBaEMsR0FBQSxXQUFBMEMsY0FDQSxPQUNPUCxVQUFBSixFQUFBQyxVQUFBLHdCQUNQaEMsRUFBQSxXQUFBbW5DLGFBQUEyd0IsR0FDQXhPLElBQUFqb0QsS0FBQTB5RCxhQUNBN2xCLFNBQUE3c0MsS0FBQXl6RCxjQUNBNUcsVUFBQTdzRCxLQUFBaTBELGVBQ0FyMkQsTUFBQW9DLEtBQUE0eEMsTUFBQXVjLFdBQ0FwcUQsU0FBQXJELEVBQUFxRCxTQUNBakQsVUFBQTQxRCxJQUVBLzNELEVBQUEsV0FBQTBDLGNBQ0EsUUFFQTRtRCxJQUFBam9ELEtBQUEyeUQsbUJBQ0E3eEQsVUFBQUosRUFBQUMsVUFBQSwwQkFFQVgsS0FBQTR4QyxNQUFBdWMsY0FJQThFLGdCQUFBLFdBQ0EsTUFBQWp6RCxNQUFBMjJELGVBRUF4RCxzQkFBQSxXQUNBLE1BQUFuekQsTUFBQTQyRCxxQkFFQUMsZ0JBQUEsV0FDQSxNQUFBNzJELE1BQUEybkQsS0FBQS9VLFFBQUFpa0IsbUJBRUFDLHNCQUFBLFdBQ0EsTUFBQTkyRCxNQUFBMm5ELEtBQUEvVSxRQUFBMGhCLGdCQUVBUixhQUFBLFNBQUFsQixFQUFBbUUsR0FDQSxHQUFBdlosR0FBQXg5QyxLQUVBVSxFQUFBVixLQUFBVSxNQUNBa3hDLEVBQUE1eEMsS0FBQTR4QyxLQUVBLElBQUFBLEVBQUFnaEIsU0FFQSxXQURBNXlELE1BQUFvMUQsV0FBQXhDLEVBQUFtRSxFQUdBLElBQUFoRSxJQUNBSCxTQUdBQSxJQUFBLEVBQUFob0IsRUFBQXRvQyxjQUFBNUIsTUFBQStLLFlBQ0F6TCxLQUFBK3pELGNBQUEsSUFFQW5CLEdBQ0E1eUQsS0FBQW8xRCxXQUFBeEMsRUFBQW1FLEdBRUEvMkQsS0FBQTZ4QyxTQUFBa2hCLEVBQUEsV0FDQUgsR0FDQXBWLEVBQUE0WCxXQUFBeEMsRUFBQW1FLE1BSUFoRCxjQUFBLFNBQUE1RixHQUNBLEdBQUE2SSxLQUFBOTJELFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEtBQUFBLFVBQUEsRUFFQUYsTUFBQTZ4QyxVQUNBc2MsZUFFQTZJLEdBQ0FoM0QsS0FBQVUsTUFBQW94RCxTQUFBM0QsSUFHQWlGLGNBQUEsV0FDQXB6RCxLQUFBczFELFlBQ0EyQixhQUFBajNELEtBQUFzMUQsV0FDQXQxRCxLQUFBczFELFVBQUEsT0FHQWpDLGlCQUFBLFdBQ0FyekQsS0FBQTQwRCxzQkFDQXFDLGFBQUFqM0QsS0FBQTQwRCxxQkFDQTUwRCxLQUFBNDBELG9CQUFBLE9BR0FPLHFCQUFBLFdBQ0EsR0FBQXhOLEdBQUEzbkQsS0FBQTJuRCxLQUNBam5ELEVBQUFWLEtBQUFVLEtBR0FWLE1BQUFrMUQsVUFDQSxFQUFBN0QsRUFBQSxZQUFBMUosRUFBQXhYLE1BQUFoeUIsSUFBQXpkLEVBQUFDLFVBQUEsYUFFQSxFQUFBMHdELEVBQUEsWUFBQTFKLEVBQUF4WCxNQUFBK21CLE9BQUF4MkQsRUFBQUMsVUFBQSxhQUdBeTBELFdBQUEsU0FBQXhDLEVBQUFtRSxHQUNBLEdBQUFBLEdBQUFuRSxFQUFBLENBQ0EsR0FBQWptRCxHQUFBM00sS0FBQWl6RCxrQkFDQWtFLEVBQUE1dkQsU0FDQTZ2RCxFQUFBRCxFQUFBQyxhQUVBLElBQUF6cUQsSUFBQWltRCxJQUFBLEVBQUFob0IsRUFBQXZvQyw0QkFBQXJDLEtBQUFVLFFBQ0EwMkQsSUFBQXpxRCxHQUNBQSxFQUFBczVDLFlBRU8sQ0FDUCxHQUFBb1IsR0FBQXIzRCxLQUFBMm5ELEtBQUEwUCxTQUNBRCxLQUFBQyxHQUNBQSxFQUFBcFIsV0FLQXNNLGdCQUFBLFNBQUE3eEQsRUFBQTQyRCxHQUNBLEdBQUF0WixHQUFBaCtDLEtBRUFwQyxFQUFBMDVELENBYUEsT0FaQTUyRCxHQUFBc3hELGFBQ0FwMEQsRUFBQXlGLFFBQUEsU0FBQXc0QixHQUNBQSxFQUFBOTRCLE1BQUE4NEIsRUFBQTk0QixPQUFBaTdDLEVBQUF5VSxrQkFBQS94RCxFQUFBbTdCLEVBQUFqNkIsT0FHQWhFLElBQUF1UCxJQUFBLFNBQUEwdUIsR0FDQSxPQUNBajZCLElBQUFpNkIsRUFDQTk0QixNQUFBaTdDLEVBQUF5VSxrQkFBQS94RCxFQUFBbTdCLE1BSUFqK0IsR0FFQTQwRCxnQkFBQSxTQUFBOXhELEVBQUEyaEIsR0FDQSxHQUFBbzhCLEdBQUF6K0MsS0FFQXUzRCxFQUFBbDFDLEVBQ0FwYyxFQUFBb2MsRUFBQWxWLElBQUEsU0FBQTB1QixHQUNBLE1BQUFBLEdBQUFqNkIsS0FhQSxPQVhBakQsR0FBQSxXQUFBeUUsU0FBQUMsUUFBQTNDLEVBQUFHLFNBQUEsU0FBQWMsR0FDQSxHQUFBQSxFQUFBNEIsS0FBQXlzRCxpQkFDQXVILEVBQUE5WSxFQUFBK1QsZ0JBQUE3d0QsRUFBQWpCLE1BQUE2MkQsT0FDTyxDQUNQLEdBQUEzNUQsSUFBQSxFQUFBZ3RDLEVBQUFscEMsbUJBQUFDLEdBQ0E2MUQsRUFBQXZ4RCxFQUFBdkcsUUFBQTlCLEVBQ0E0NUQsUUFDQUQsRUFBQUMsR0FBQXBaLE1BQUF6OEMsRUFBQWpCLE1BQUEwOUMsVUFJQW1aLEdBRUFwRCxlQUFBLFNBQUFzRCxHQUNBLEdBQUEvMkQsR0FBQVYsS0FBQVUsS0FDQSxLQUFBQSxFQUFBcUQsV0FBQS9ELEtBQUEwM0QsZ0JBQUFELEdBQUEsQ0FHQSxHQUFBMTBELEdBQUEsT0FDQW5GLEVBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFBQTI5QixPQUFBLFNBQUErMEIsR0FJQSxNQUhBQSxHQUFBMXVELE1BQUE2MUQsSUFDQTEwRCxFQUFBdXRELEVBQUF2dEQsT0FFQXV0RCxFQUFBMXVELE1BQUE2MUQsSUFFQUUsR0FBQSxFQUFBL3NCLEVBQUExb0Msa0JBQUF4QixFQUVBLElBQUFpM0QsRUFBQSxDQUNBLEdBQUFqRSxHQUFBK0QsQ0FDQS8yRCxHQUFBc3hELGVBQ0EwQixHQUNBOXhELElBQUE2MUQsRUFDQTEwRCxVQUdBckMsRUFBQTRpRCxXQUFBb1EsR0FFQTF6RCxLQUFBNnpELFdBQUFqMkQsS0FFQXcyRCxrQkFBQSxXQUNBLEdBQUExekQsR0FBQVYsS0FBQVUsT0FDQS9CLEVBQUEsV0FBQXlFLFNBQUF3MEQsTUFBQWwzRCxFQUFBRyxZQUFBLEVBQUErcEMsRUFBQXRvQyxjQUFBNUIsS0FDQVYsS0FBQTh6RCxjQUFBLElBR0FELFdBQUEsU0FBQWoyRCxHQUNBLEdBQUE4QyxHQUFBVixLQUFBVSxLQUNBLFVBQUFBLElBQ0FWLEtBQUE2eEMsVUFDQWowQyxVQUdBOEMsRUFBQW1zQyxTQUFBN3NDLEtBQUF5MUQsaUJBQUE3M0QsS0FFQTg1RCxnQkFBQSxTQUFBOTFELEdBQ0EsU0FBQWdwQyxFQUFBcm9DLFNBQUF2QyxLQUFBVSxNQUFBRyxVQUFBNHlCLEtBQUEsU0FBQTl4QixHQUNBLEdBQUF5dUQsSUFBQSxFQUFBeGxCLEVBQUFscEMsbUJBQUFDLEVBQ0EsT0FBQXl1RCxLQUFBeHVELEdBQUFELEVBQUFqQixPQUFBaUIsRUFBQWpCLE1BQUFxRCxZQUdBNnZELFNBQUEsU0FBQTN2RCxHQUNBLEdBQUFxN0MsR0FBQXQvQyxLQUVBNkssRUFBQTdLLEtBQUFVLE1BQ0F5QixFQUFBMEksRUFBQTFJLFNBQ0Fnd0QsRUFBQXRuRCxFQUFBc25ELGdCQUNBdHhELEVBQUFnSyxFQUFBaEssU0FFQTh5RCxFQUFBM3pELEtBQUE0eEMsTUFBQWgwQyxLQWVBLFFBZEEsRUFBQWd0QyxFQUFBeG1DLG1CQUFBSCxFQUFBa3VELEdBQUE5dUQsUUFBQSxTQUFBTixHQUNBLEdBQUF3eEQsSUFBMkIzeUQsSUFBQW1CLFVBQzNCLE9BQUE2bkMsRUFBQTluQyx5QkFBQTZ3RCxFQUFBNXdELFFBQ0EsR0FBQVosRUFBQSxDQUNBLEdBQUF2RSxHQUFBMGhELEVBQUF5VyxnQkFBQWwxRCxFQUFBa0MsRUFDQW5GLEtBQ0EyMkQsRUFBQTN5RCxJQUFBaEUsRUFDQSsxRCxJQUFBbHdELE9BQUE4d0QsUUFHQVosS0FBQWx3RCxPQUFBOHdELEtBSUFaLEdBRUFkLGdCQUFBLFdBQ0EsSUFBQTd5RCxLQUFBMjBELGVBQUEsQ0FHQSxHQUFBL0IsR0FBQTV5RCxLQUFBNHhDLE1BQUFnaEIsSUFFQSxvQkFBQXJyRCxXQUFBdkgsS0FBQWl6RCxtQkFBQTFyRCxTQUFBNnZELGdCQUFBcDNELEtBQUFpekQsb0JBQ0FMLEdBQUEsRUFFQSxJQUFBNWdCLEtBQ0E0Z0IsS0FDQTVnQixFQUFBaHlDLEtBQUEwdkQsdUJBRUExdkQsS0FBQXUxRCxTQUFBdmpCLEdBQ0E0Z0IsS0FBQSxFQUFBaG9CLEVBQUF2b0MsNEJBQUFyQyxLQUFBVSxRQUFBVixLQUFBVSxNQUFBK0ssWUFBQXVtQyxFQUFBbnlDLFNBQ0EreUQsR0FBQSxHQUVBNXlELEtBQUE0eEMsTUFBQWdoQixTQUVBaUYscUJBQUEsV0FDQSxHQUFBalksR0FBQTUvQyxLQUVBaTNDLEVBQUFqM0MsS0FBQTR4QyxNQUNBaDBDLEVBQUFxNUMsRUFBQXI1QyxNQUNBZzFELEVBQUEzYixFQUFBMmIsS0FDQXpFLEVBQUFsWCxFQUFBa1gsV0FFQXp0RCxFQUFBVixLQUFBVSxNQUNBaUwsRUFBQWpMLEVBQUFpTCxxQkFDQWhMLEVBQUFELEVBQUFDLFVBQ0F1eEQsRUFBQXh4RCxFQUFBd3hELGlCQUNBem1ELEVBQUEvSyxFQUFBK0ssV0FFQTNLLEVBQUFILEVBQUEsdUJBRUFtM0QsRUFBQSxJQUNBLE9BQUFsdEIsRUFBQXRvQyxjQUFBNUIsR0FBQSxDQUNBLEdBQUE2ekQsR0FBQSxJQUNBLElBQUEzMkQsRUFBQWlDLE9BQUEsQ0FDQSxHQUFBazRELElBQUEsRUFDQWgyQixFQUFBLENBQ0F0MkIsSUFHQW1uRCxHQUNBbUYsR0FBQTVKLEVBQ0E0SixJQUNBaDJCLEVBQUEsS0FMQWcyQixHQUFBLENBV0EsSUFBQXpILEdBQUExeUQsRUFBQSxFQUNBMjJELEdBQUE1MUQsRUFBQSxXQUFBMEMsY0FDQSxPQUVBTyxJQUFBLFFBQ0FkLFVBQUFILEVBQUEsNEJBQ0F5OUMsTUFBQWtTLEVBQUFsUyxPQUFBa1MsRUFBQXZ0RCxNQUNBbkMsT0FDQTQxRCxRQUFBdUIsRUFBQSxlQUNBaDJCLFlBR0Fua0MsRUFBQSxHQUFBbUYsT0FNQSswRCxFQUhBcnNELEdBR0E4b0QsRUFBQTUxRCxFQUFBLFdBQUEwQyxjQUNBLE9BRUFQLFVBQUFILEVBQUEsV0FBQUEsRUFBQSxrQkFDQWlCLElBQUEsUUFDQWhCLE9BQ0E0MUQsUUFBQTVELEVBQUEsaUJBR0E1eUQsS0FBQW95RCxxQkFYQW1DLE9BY0ssQ0FDTCxHQUFBeUQsT0FDQSxFQUFBcHRCLEVBQUExb0Msa0JBQUF4QixLQUNBczNELEVBQUFwNkQsRUFBQXVQLElBQUEsU0FBQW1qRCxHQUNBLEdBQUEySCxHQUFBM0gsRUFBQXZ0RCxNQUNBcTdDLEVBQUFrUyxFQUFBbFMsT0FBQTZaLENBQ0EvRixJQUFBLGdCQUFBK0YsTUFBQXA0RCxPQUFBcXlELElBQ0ErRixJQUFBcGxELE1BQUEsRUFBQXEvQyxHQUFBLE1BRUEsSUFBQW51RCxHQUFBNjdDLEVBQUE4WCxnQkFBQXBILEVBQUExdUQsS0FDQXMyRCxFQUFBbjBELEVBQUFwRCxFQUFBLHNCQUFBQSxFQUFBLCtCQUFBQSxFQUFBLG9CQUNBLE9BQUFoQyxHQUFBLFdBQUEwQyxjQUNBLE1BQ0EsRUFBQXRELEVBQUEsYUFDQTZDLE1BQUFncUMsRUFBQWhtQyxvQkFDYWdtQyxFQUFBam1DLHdCQUNiNHFELFlBQUEza0IsRUFBQWxvQyxvQkFDQTVCLFVBQUFvM0QsRUFDQXQyRCxJQUFBMHVELEVBQUExdUQsSUFDQXc4QyxVQUVBei9DLEVBQUEsV0FBQTBDLGNBQ0EsT0FDZVAsVUFBQUgsRUFBQSwrQkFDZnMzRCxHQUVBbDBELEVBQUEsS0FBQXBGLEVBQUEsV0FBQTBDLGNBQUEsUUFDQVAsVUFBQUgsRUFBQSw2QkFDQW15QyxRQUFBOE0sRUFBQXVVLGVBQUFwSyxLQUFBbkssRUFBQTBRLEVBQUExdUQsV0FLQW8yRCxFQUFBcDBELEtBQUFqRixFQUFBLFdBQUEwQyxjQUNBLE1BRUFQLFVBQUFILEVBQUEsV0FBQUEsRUFBQSxrQkFDQWlCLElBQUEsV0FFQTVCLEtBQUFveUQsb0JBSUEwRixHQURBLEVBQUFsdEIsRUFBQTFvQyxrQkFBQXhCLElBQUFpTCxFQUNBaE4sRUFBQSxXQUFBMEMsY0FDQTh2RCxFQUFBLFlBRUFnSCxRQUFBbjRELEtBQUEyMUQsdUJBQ0F6bkIsVUFBQSxLQUNBeGlDLGVBQUFDLEdBRUFxc0QsR0FHQXI1RCxFQUFBLFdBQUEwQyxjQUNBLEtBQ0EsS0FDQTIyRCxHQUlBLE1BQUFyNUQsR0FBQSxXQUFBMEMsY0FDQSxPQUNPUCxhQUNQZCxLQUFBczJELHdCQUNBd0IsSUFHQXQzRCxPQUFBLFdBQ0EsR0FBQTQzRCxHQUVBMTNELEVBQUFWLEtBQUFVLE1BQ0F5QixHQUFBLEVBQUF5b0MsRUFBQTFvQyxrQkFBQXhCLEdBQ0FreEMsRUFBQTV4QyxLQUFBNHhDLE1BQ0E5d0MsRUFBQUosRUFBQUksVUFDQWlELEVBQUFyRCxFQUFBcUQsU0FDQTZ0RCxFQUFBbHhELEVBQUFreEQsV0FDQWp4RCxFQUFBRCxFQUFBQyxVQUVBMDNELEVBQUFyNEQsS0FBQTYzRCx1QkFDQVMsS0FDQTFGLEVBQUE1eUQsS0FBQTR4QyxNQUFBZ2hCLEtBRUE1Z0IsRUFBQWh5QyxLQUFBdTFELFVBQ0EsRUFBQTNxQixFQUFBdm9DLDRCQUFBM0IsS0FDQTQzRCxHQUNBekwsVUFBQTdzRCxLQUFBNnNELFVBQ0F2RyxTQUFBLEdBR0EsSUFBQWlTLElBQUFILE1BQWdDLEVBQUFuNkQsRUFBQSxZQUFBbTZELEVBQUF0M0QsUUFBQSxFQUFBN0MsRUFBQSxZQUFBbTZELEVBQUF6M0QsRUFBQSxNQUFBMUMsRUFBQSxZQUFBbTZELEVBQUF6M0QsRUFBQSxRQUFBaXlELElBQUEsRUFBQTMwRCxFQUFBLFlBQUFtNkQsRUFBQXozRCxFQUFBLFdBQUFpeUQsS0FBQTV5RCxLQUFBazFELFdBQUEsRUFBQWozRCxFQUFBLFlBQUFtNkQsRUFBQXozRCxFQUFBLGVBQUFpcUMsRUFBQTVvQyxZQUFBdEIsS0FBQSxFQUFBekMsRUFBQSxZQUFBbTZELEVBQUF6M0QsRUFBQSxZQUFBb0QsSUFBQSxFQUFBOUYsRUFBQSxZQUFBbTZELEVBQUF6M0QsRUFBQSxZQUFBb0QsSUFBQSxFQUFBOUYsRUFBQSxZQUFBbTZELEVBQUF6M0QsRUFBQSxpQkFBQUQsRUFBQWt4RCxZQUFBd0csR0FDaENJLEdBQUEsRUFBQXo2RCxFQUFBLGVBQWlENnNDLEVBQUFobUMsb0JBQ2pENHhELFFBQUEsVUFFQTVrQixFQUFBdWMsWUFBQXZjLEVBQUFoMEMsTUFBQWlDLFVBQ0EyNEQsRUFBQWhDLFFBQUEsUUFFQSxJQUFBMXBCLEdBQUFudUMsRUFBQSxXQUFBMEMsY0FBQSxVQUFBdEQsRUFBQSxhQUNBNkQsSUFBQSxRQUNBMnRELFlBQUEza0IsRUFBQWxvQyxvQkFDQTlCLE1BQUE0M0QsR0FDSzV0QixFQUFBam1DLHdCQUNMN0QsVUFBQUgsRUFBQSxvQkFDQW15QyxRQUFBOXlDLEtBQUEwMUQsbUJBRUEsT0FBQS8yRCxHQUFBLFdBQUEwQyxjQUNBa3dELEVBQUEsWUFFQXZELGFBQUFodUQsS0FBQWd1RCxhQUNBeUssY0FBQS8zRCxFQUFBKzNELGNBQ0FDLGtCQUFBaDRELEVBQUFnNEQsa0JBQ0EzTix5QkFBQXJxRCxFQUFBcXFELHlCQUNBK0MseUJBQUFwdEQsRUFBQW90RCx5QkFDQUMsa0JBQUFydEQsRUFBQXF0RCxrQkFDQXJpRCxlQUFBaEwsRUFBQWdMLGVBQ0FzZ0MsVUFBQXRyQyxFQUFBc3JDLFVBQ0FyckMsVUFBQUQsRUFBQUMsVUFDQXN4RCxjQUFBdnhELEVBQUF1eEQsY0FDQWh3RCxTQUFBdkIsRUFBQXVCLFNBQ0F3SixXQUFBL0ssRUFBQStLLFdBQ0F1bUMsVUFDQTd2QyxXQUNBNEIsV0FDQWd2QyxRQUFBNmYsRUFDQXpFLFdBQUF2YyxFQUFBdWMsV0FDQXZ3RCxNQUFBZzBDLEVBQUFoMEMsTUFDQW8yRCx3QkFBQWgwRCxLQUFBZzBELHdCQUNBNU0sa0JBQUExbUQsRUFBQTBtRCxrQkFDQThHLGFBQUFsdUQsS0FBQWt1RCxhQUNBYyxlQUFBaHZELEtBQUFndkQsZUFDQS9HLElBQUEsV0FFQXRwRCxFQUFBLFdBQUEwQyxjQUNBLE9BRUFULE1BQUFGLEVBQUFFLE1BQ0FxbkQsSUFBQSxPQUNBN0IsT0FBQXBtRCxLQUFBcTFELFlBQ0FuUCxRQUFBbG1ELEtBQUFpMUQsYUFDQW4wRCxXQUFBLEVBQUFtd0QsRUFBQSxZQUFBc0gsSUFFQTU1RCxFQUFBLFdBQUEwQyxjQUNBLE9BQ0EsRUFBQXRELEVBQUEsYUFDQWtxRCxJQUFBLFlBQ0FybUQsSUFBQSxZQUNBZCxVQUFBSCxFQUFBLDJCQUFBQSxFQUFBLGdCQUFBd0IsRUFBQSxxQkFDQXcyRCxLQUFBLFdBQ0FDLG9CQUFBLE9BQ0FDLGdCQUFBLE9BQ0FDLGdCQUFBbEcsR0FDVzBGLEdBQ1hELEVBQ0F6RyxJQUFBenZELEVBQUEycUMsRUFBQSxLQUNBM3FDLElBQUF6QixFQUFBbXhELFVBQUEsS0FBQWx6RCxFQUFBLFdBQUEwQyxjQUNBLFFBQ0EsRUFBQXRELEVBQUEsYUFDQTZELElBQUEsUUFDQWQsVUFBQUgsRUFBQSxTQUNBQyxNQUFBZ3FDLEVBQUFobUMsb0JBQ2FnbUMsRUFBQWptQyx3QkFDYm11QyxRQUFBOXlDLEtBQUErMEQsZUFFQXAyRCxFQUFBLFdBQUEwQyxjQUFBLGdCQVFBakUsR0FBQSxXQUFBdU4sRUFDQXhOLEVBQUFDLFVBQUEsWTNEMnRVTTI3RCxJQUNBLFNBQVM1N0QsRUFBUUMsRUFBU0MsRzREM3NXaEMsWUF3Q0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBdEM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBZzdELEVBQUEzN0QsRUFBQSxLQUVBNDdELEVBQUEzN0QsRUFBQTA3RCxHQUVBbDdELEVBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQTJvRCxFQUFBcHBELEVBQUEsSUFFQXFwRCxFQUFBcHBELEVBQUFtcEQsR0FFQS9uRCxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBSSxFQUFBekIsRUFBQSxHQUVBMEIsRUFBQXpCLEVBQUF3QixHQUVBbzZELEVBQUE3N0QsRUFBQSxLQUVBODdELEVBQUE3N0QsRUFBQTQ3RCxHQUVBeHVCLEVBQUFydEMsRUFBQSxHQUVBc3RDLEVBQUFydEMsRUFBQW90QyxHQUVBRSxFQUFBdnRDLEVBQUEsSUFJQSs3RCxHQUNBN1AsWUFDQXBhLFFBQUEsV0FDQWhtQixRQUFBLEtBQ0E3YSxVQUNBNGtDLFFBQUEsRUFDQUMsUUFBQSxJQUdBaVcsU0FDQWphLFFBQUEsV0FDQWhtQixRQUFBLE1BQ0E3YSxVQUNBNGtDLFFBQUEsRUFDQUMsUUFBQSxLQUtBa21CLEVBQUExNkQsRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsZ0JBRUFsN0MsV0FDQW9pRCxhQUFBdHZELEVBQUFtTixVQUFBd0wsS0FDQTB6Qyx5QkFBQXJzRCxFQUFBbU4sVUFBQUUsS0FDQTBzRCxjQUFBLzVELEVBQUFtTixVQUFBeWlDLE9BQ0F5RSxRQUFBcjBDLEVBQUFtTixVQUFBRSxLQUNBaEksU0FBQXJGLEVBQUFtTixVQUFBRSxLQUNBTixXQUFBL00sRUFBQW1OLFVBQUFFLEtBQ0Eyc0Qsa0JBQUFoNkQsRUFBQW1OLFVBQUE1SCxPQUNBOUIsU0FBQXpELEVBQUFtTixVQUFBRSxLQUNBb2lELFdBQUF6dkQsRUFBQW1OLFVBQUE1SCxPQUNBd3JELGFBQUEvd0QsRUFBQW1OLFVBQUFHLElBQ0FnbUMsUUFBQXR6QyxFQUFBbU4sVUFBQUcsSUFDQXJMLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0Fpa0QsZUFBQXhwRCxFQUFBbU4sVUFBQTVILE9BQ0FwRCxTQUFBbkMsRUFBQW1OLFVBQUFHLEtBR0FnaUMsbUJBQUEsV0FDQSxHQUFBbmpDLEdBQUE3SyxLQUFBVSxNQUNBcXlDLEVBQUFsb0MsRUFBQWtvQyxRQUNBZ1ksRUFBQWxnRCxFQUFBa2dELHdCQUVBLElBQUFoWSxFQUFBLENBQ0EsR0FBQXVtQixHQUFBdDVELEtBQUE2MkQsaUJBQ0EsSUFBQXlDLEVBQUEsQ0FDQSxHQUFBQyxHQUFBeE8sRUFBQSxrQkFDQXVPLEdBQUExNEQsTUFBQTI0RCxHQUFBNXVCLEVBQUEsV0FBQXNDLFlBQUFqdEMsTUFBQThuRCxZQUFBLFFBSUF3TSxhQUFBLFdBQ0EsTUFBQXQwRCxNQUFBdzVELFdBQUF4NUQsS0FBQXc1RCxVQUFBN1IsS0FBQWdILE1BRUFrSSxnQkFBQSxXQUNBLE1BQUE3MkQsTUFBQTJuRCxLQUFBL1UsUUFBQThVLG1CQUVBK1IsbUJBQUEsU0FBQUMsR0FDQSxHQUFBaDVELEdBQUFWLEtBQUFVLEtBQ0EsT0FBQS9CLEdBQUEsV0FBQTBDLGNBQUE4M0QsRUFBQSxjQUFBcDdELEVBQUEsYUFDQWtxRCxJQUFBam9ELEtBQUEyNUQsVUFDS0QsR0FDTC80RCxVQUFBWCxLQUFBNDVELHVCQUNBMUwsYUFBQXh0RCxFQUFBd3RELGFBQ0FjLGVBQUF0dUQsRUFBQXN1RCxlQUNBcHhELE1BQUE4QyxFQUFBOUMsTUFDQWt3RCx5QkFBQXB0RCxFQUFBb3RELHlCQUNBQyxrQkFBQXJ0RCxFQUFBcXRELHNCQUdBOEwsMEJBQUEsV0FDQSxHQUFBbjVELEdBQUFWLEtBQUFVLE1BQ0FnTCxFQUFBaEwsRUFBQWdMLGNBSUEsUUFIQUEsR0FBQWhMLEVBQUFzckMsWUFDQXRnQyxFQUFBMUwsS0FBQTQ1RCx1QkFBQSxJQUFBbDVELEVBQUFzckMsV0FFQXRnQyxHQUVBa3VELHFCQUFBLFdBQ0EsTUFBQTU1RCxNQUFBVSxNQUFBQyxVQUFBLGFBRUFnNUQsU0FBQSxTQUFBaEwsR0FDQTN1RCxLQUFBdzVELFVBQUE3SyxHQUVBbnVELE9BQUEsV0FDQSxHQUFBczVELEdBRUE5dUQsRUFBQWhMLEtBQUFVLE1BQ0FzdEQsRUFBQWhqRCxFQUFBZ2pELGFBQ0F0dEQsR0FBQSxFQUFBdTRELEVBQUEsWUFBQWp1RCxHQUFBLGlCQUNBN0ksRUFBQXpCLEVBQUF5QixTQUNBNHdDLEVBQUFyeUMsRUFBQXF5QyxRQUNBb2IsRUFBQXp0RCxFQUFBeXRELFdBQ0FzSyxFQUFBLzNELEVBQUErM0QsY0FDQTEwRCxFQUFBckQsRUFBQXFELFNBQ0EwSCxFQUFBL0ssRUFBQStLLFdBQ0FpdEQsRUFBQWg0RCxFQUFBZzRELGtCQUVBaGEsRUFBQTErQyxLQUFBNDVELHVCQUNBMVIsR0FBQTRSLE1BQThDLEVBQUE3N0QsRUFBQSxZQUFBNjdELEVBQUFwQixRQUFBLEVBQUF6NkQsRUFBQSxZQUFBNjdELEVBQUFwYixFQUFBLE1BQUF2OEMsRUFBQSx3QkFBQTIzRCxHQUM5Q0MsRUFBQS81RCxLQUFBeTVELG9CQUNBdjJELFVBQUF4QyxFQUFBc3hDLFFBQ0FnYyxlQUNBN3JELFdBQ0Fnc0QsYUFDQXBiLFlBRUFvVSxFQUFBLE1BUUEsT0FOQUEsR0FEQXBqRCxNQUVLLEVBQUE2bUMsRUFBQXRvQyxjQUFBNUIsS0FBQStLLEdBQ0wsVUFFQSxRQUVBOU0sRUFBQSxXQUFBMEMsY0FDQXFsRCxFQUFBLFlBQ0EsRUFBQTNvRCxFQUFBLGVBQWtDMkMsR0FDbEN3bUQsV0FBQW5qRCxNQUFBLFNBQ0FvakQsYUFDQWMsSUFBQSxVQUNBSyxlQUFBLGFBQ0FGLGtCQUFBZ1IsRUFDQXo0RCxVQUFBKzlDLEVBQ0E4SixvQkFBQXhvRCxLQUFBNjVELDRCQUNBaFIscUJBQUFub0QsRUFBQXN6RCx3QkFDQXBMLE1BQUFtUixFQUNBeFIsV0FBQWtRLEVBQ0EvUCxhQUFBM1YsRUFDQXFVLGtCQUFBMW1ELEVBQUEwbUQsa0JBQ0FjLGdCQUFBLEVBQUFucEQsRUFBQSxZQUFBbXBELEdBQ0FDLFdBQUF6bkQsRUFBQXV4RCxnQkFFQXZ4RCxFQUFBRyxZQUtBekQsR0FBQSxXQUFBaThELEVBQ0FsOEQsRUFBQUMsVUFBQSxZNURpdFdNNDhELElBQ0EsU0FBUzc4RCxFQUFRQyxFQUFTQyxHNkR4NFdoQyxZQW1CQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FqQjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQW9PLFNBQUFwTyxFQUFBbU8sT0FBQTFOLE1BRUEsSUFBQW84RCxHQUFBNThELEVBQUEsS0FFQTY4RCxFQUFBNThELEVBQUEyOEQsR0FFQUUsRUFBQTk4RCxFQUFBLEtBRUErOEQsRUFBQTk4RCxFQUFBNjhELEdBRUFFLEVBQUFoOUQsRUFBQSxLQUVBaTlELEVBQUFoOUQsRUFBQSs4RCxFQUlBSCxHQUFBLFdBQUEzdUQsT0FBQTZ1RCxFQUFBLFdBQ0FGLEVBQUEsV0FBQTF1RCxTQUFBOHVELEVBQUEsV0FDQWw5RCxFQUFBbU8sT0FBQTZ1RCxFQUFBLFdBQ0FoOUQsRUFBQW9PLFNBQUE4dUQsRUFBQSxXQUNBbDlELEVBQUEsV0FBQTg4RCxFQUFBLFk3RDg0V01LLElBQ04sR0FFTUMsSUFDQSxTQUFTcjlELEVBQVFDLEVBQVNDLEc4RDM2V2hDLFlBUUEsU0FBQWdzQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBa3NDLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFDLEdBQUFDLEVBQUFycUMsR0FBaUQsSUFBQXFxQyxFQUFhLFNBQUFDLGdCQUFBLDREQUF5RixRQUFBdHFDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUFxcUMsRUFBQXJxQyxFQUV2SixRQUFBdXFDLEdBQUFDLEVBQUFDLEdBQTBDLHFCQUFBQSxJQUFBLE9BQUFBLEVBQStELFNBQUFOLFdBQUEsaUVBQUFNLEdBQXVHRCxHQUFBMXFDLFVBQUE3QixPQUFBeXNDLE9BQUFELEtBQUEzcUMsV0FBeUUrSyxhQUFlMU0sTUFBQXFzQyxFQUFBRyxZQUFBLEVBQUFDLFVBQUEsRUFBQWIsY0FBQSxLQUE2RVUsSUFBQXhzQyxPQUFBNHNDLGVBQUE1c0MsT0FBQTRzQyxlQUFBTCxFQUFBQyxHQUFBYixFQUFBWSxFQUFBQyxJQVpyWHhzQyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBYyxHQUFBckIsRUFBQSxHQVVBeThCLEVBQUEsU0FBQXdSLEdBR0EsUUFBQXhSLEtBR0EsTUFGQTJQLEdBQUF6cEMsS0FBQTg1QixHQUVBK1AsRUFBQTdwQyxLQUFBc3JDLEVBQUFyckMsTUFBQUQsS0FBQUUsWUFHQSxNQVJBOHBDLEdBQUFsUSxFQUFBd1IsR0FRQXhSLEdBQ0NwN0IsRUFBQTRDLFVBRUR3NEIsR0FBQWx1QixXQUNBOUssVUFBQXBDLEVBQUFtTixVQUFBNUgsT0FDQXcyRCxRQUFBLzdELEVBQUFtTixVQUFBd0YsT0FDQStzQyxNQUFBMS9DLEVBQUFtTixVQUFBaTRDLEtBQ0F6RixVQUFBMy9DLEVBQUFtTixVQUFBNUgsT0FDQThqRCxNQUFBcnBELEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUF3RixPQUFBM1MsRUFBQW1OLFVBQUE1SCxTQUNBaUQsTUFBQXhJLEVBQUFtTixVQUFBQyxRQUFBLG1CQUNBdEwsT0FBQTlCLEVBQUFtTixVQUFBd0wsS0FDQXFqRCxZQUFBaDhELEVBQUFtTixVQUFBd0wsTUFFQWphLEVBQUEsV0FBQTA4QixFQUNBMzhCLEVBQUFDLFVBQUEsWTlEaTdXTXU5RCxJQUNBLFNBQVN4OUQsRUFBUUMsRUFBU0MsRytEejlXaEMsWUFRQSxTQUFBZ3NDLEdBQUE5ckMsRUFBQXVuQixHQUFvRixPQUFqRDdlLEdBQUF2SSxPQUFBNHJDLG9CQUFBeGtCLEdBQWlEbGxCLEVBQUEsRUFBZ0JBLEVBQUFxRyxFQUFBcEcsT0FBaUJELElBQUEsQ0FBTyxHQUFBZ0MsR0FBQXFFLEVBQUFyRyxHQUFtQmhDLEVBQUFGLE9BQUE2ckMseUJBQUF6a0IsRUFBQWxqQixFQUE0RGhFLE1BQUE0ckMsY0FBQTNyQyxTQUFBTixFQUFBcUUsSUFBNkRsRSxPQUFBQyxlQUFBSixFQUFBcUUsRUFBQWhFLEdBQTRDLE1BQUFMLEdBRXBULFFBQUFrc0MsR0FBQUMsRUFBQUMsR0FBaUQsS0FBQUQsWUFBQUMsSUFBMEMsU0FBQUMsV0FBQSxxQ0FFM0YsUUFBQUMsR0FBQUMsRUFBQXJxQyxHQUFpRCxJQUFBcXFDLEVBQWEsU0FBQUMsZ0JBQUEsNERBQXlGLFFBQUF0cUMsR0FBQSxnQkFBQUEsSUFBQSxrQkFBQUEsR0FBQXFxQyxFQUFBcnFDLEVBRXZKLFFBQUF1cUMsR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQU4sV0FBQSxpRUFBQU0sR0FBdUdELEdBQUExcUMsVUFBQTdCLE9BQUF5c0MsT0FBQUQsS0FBQTNxQyxXQUF5RStLLGFBQWUxTSxNQUFBcXNDLEVBQUFHLFlBQUEsRUFBQUMsVUFBQSxFQUFBYixjQUFBLEtBQTZFVSxJQUFBeHNDLE9BQUE0c0MsZUFBQTVzQyxPQUFBNHNDLGVBQUFMLEVBQUFDLEdBQUFiLEVBQUFZLEVBQUFDLElBWnJYeHNDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFjLEdBQUFyQixFQUFBLEdBVUEwOEIsRUFBQSxTQUFBdVIsR0FHQSxRQUFBdlIsS0FHQSxNQUZBMFAsR0FBQXpwQyxLQUFBKzVCLEdBRUE4UCxFQUFBN3BDLEtBQUFzckMsRUFBQXJyQyxNQUFBRCxLQUFBRSxZQUdBLE1BUkE4cEMsR0FBQWpRLEVBQUF1UixHQVFBdlIsR0FDQ3I3QixFQUFBNEMsVUFFRHk0QixHQUFBbnVCLFdBQ0F3eUMsTUFBQTEvQyxFQUFBbU4sVUFBQWk0QyxNQUVBL3BCLEVBQUE2Z0Msb0JBQUEsRUFDQXg5RCxFQUFBLFdBQUEyOEIsRUFDQTU4QixFQUFBQyxVQUFBLFkvRCs5V015OUQsSUFDQSxTQUFTMTlELEVBQVFDLEVBQVNDLEdnRWpnWGhDLFlBWUEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUF1OUQsR0FBQTF0RCxHQUFrQyxHQUFBOU0sTUFBQW1DLFFBQUEySyxHQUFBLENBQTBCLE9BQUF4TixHQUFBLEVBQUFtN0QsRUFBQXo2RCxNQUFBOE0sRUFBQXZOLFFBQTBDRCxFQUFBd04sRUFBQXZOLE9BQWdCRCxJQUFPbTdELEVBQUFuN0QsR0FBQXdOLEVBQUF4TixFQUFvQixPQUFBbTdELEdBQXNCLE1BQUF6NkQsT0FBQThQLEtBQUFoRCxHQUV2SyxRQUFBcThCLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBZDNGbHNDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE0c0MsR0FBQTlzQyxPQUFBK3NDLFFBQUEsU0FBQTNqQyxHQUFtRCxPQUFBbEgsR0FBQSxFQUFnQkEsRUFBQU0sVUFBQUwsT0FBc0JELElBQUEsQ0FBTyxHQUFBMlQsR0FBQXJULFVBQUFOLEVBQTJCLFFBQUFnQyxLQUFBMlIsR0FBMEI3VixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQThULEVBQUEzUixLQUF5RGtGLEVBQUFsRixHQUFBMlIsRUFBQTNSLElBQWlDLE1BQUFrRixJQUUvT3BJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBUUFzOEQsRUFBQSxXQUNBLFFBQUFBLEdBQUFsaEIsRUFBQWtLLEdBQ0F2YSxFQUFBenBDLEtBQUFnN0QsR0FFQWg3RCxLQUFBaTdELFdBRUFqN0QsS0FBQTg1QyxXQUFBOTVDLEtBQUFrN0QsVUFBQWxYLEdBNEtBLE1BektBZ1gsR0FBQXo3RCxVQUFBNDdELGtCQUFBLFdBQ0EsR0FBQTV2QixHQUFBdnJDLElBRUEsT0FBQUEsTUFBQW83RCxPQUFBLCtCQUNBLE1BQUE3dkIsR0FBQXVPLFFBQUFybUIsS0FBQSxTQUFBOGxCLEdBQ0EsUUFBQUEsRUFBQXJ5QyxXQUtBOHpELEVBQUF6N0QsVUFBQTg3RCxzQkFBQSxXQUNBLEdBQUFqdUIsR0FBQXB0QyxJQUVBLE9BQUFBLE1BQUFvN0QsT0FBQSxtQ0FDQSxNQUFBaHVCLEdBQUEwTSxRQUFBcm1CLEtBQUEsU0FBQThsQixHQUNBLGVBQUFBLEVBQUFyeUMsT0FBQXF5QyxFQUFBcnlDLFNBQUEsT0FLQTh6RCxFQUFBejdELFVBQUErN0QsdUJBQUEsV0FDQSxHQUFBeGUsR0FBQTk4QyxJQUVBLE9BQUFBLE1BQUFvN0QsT0FBQSxvQ0FDQSxNQUFBdGUsR0FBQWhELFFBQUFybUIsS0FBQSxTQUFBOGxCLEdBQ0EsZ0JBQUFBLEVBQUFyeUMsV0FLQTh6RCxFQUFBejdELFVBQUFnOEQsWUFBQSxXQUNBLEdBQUFsZSxHQUFBcjlDLElBRUEsT0FBQUEsTUFBQW83RCxPQUFBLHlCQUNBLE1BQUEvZCxHQUFBbWUsaUJBQUFqZ0MsT0FBQSxTQUFBZ2UsR0FDQSxlQUFBQSxFQUFBcnlDLE9BQUFxeUMsRUFBQXJ5QyxTQUFBLE9BS0E4ekQsRUFBQXo3RCxVQUFBazhELGFBQUEsV0FDQSxHQUFBamUsR0FBQXg5QyxJQUVBLE9BQUFBLE1BQUFvN0QsT0FBQSwwQkFDQSxNQUFBNWQsR0FBQWdlLGlCQUFBamdDLE9BQUEsU0FBQWdlLEdBQ0EsZ0JBQUFBLEVBQUFyeUMsV0FLQTh6RCxFQUFBejdELFVBQUFtOEQsWUFBQSxXQUNBLEdBQUExZCxHQUFBaCtDLElBRUEsT0FBQUEsTUFBQW83RCxPQUFBLHlCQUNBLE1BQUFwZCxHQUFBMmQsYUFBQTNkLEVBQUFsRSxZQUlBa2hCLEVBQUF6N0QsVUFBQXE4RCxnQkFBQSxXQUNBLEdBQUFuZCxHQUFBeitDLElBRUEsT0FBQUEsTUFBQW83RCxPQUFBLDZCQUNBLE1BQUEzYyxHQUFBa2QsYUFBQWxkLEVBQUE4YztJQUlBUCxFQUFBejdELFVBQUFzOEQsaUJBQUEsV0FDQSxHQUFBdmMsR0FBQXQvQyxJQUVBLE9BQUFBLE1BQUFvN0QsT0FBQSw4QkFDQSxNQUFBOWIsR0FBQXFjLGFBQUFyYyxFQUFBbWMsbUJBT0FULEVBQUF6N0QsVUFBQWk4RCxlQUFBLFdBQ0EsR0FBQTViLEdBQUE1L0MsSUFFQSxPQUFBQSxNQUFBbzdELE9BQUEsNEJBQ0EsR0FBQVUsR0FBQSxRQUFBQSxHQUFBaGlCLEdBQ0EsR0FBQWlpQixHQUFBNzdELFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsS0FDQTg3RCxFQUFBOTdELFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsTUFDQSs3RCxFQUFBLzdELFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsS0FHQSs3RCxHQUFBRixHQUFBRSxFQUFBRixNQUNBLElBQUFHLE1BQ0FDLEVBQUEsU0FBQTVpQixHQUNBLEdBQUE2aUIsR0FBQUgsRUFBQXA4RCxPQUFBazhELENBQ0F4aUIsT0FBQTE0QyxVQUNBdTdELEVBQUEsS0FBQTdpQixFQUFBNmlCLFNBQUE3aUIsRUFBQTZpQixhQUNBN2lCLEVBQUE2aUIsV0F1QkEsT0FwQkF0aUIsR0FBQXoyQyxRQUFBLFNBQUFrMkMsRUFBQTEyQyxHQUNBLEdBQUEwOUMsR0FBQS9WLEtBQXFDK08sRUFDckMwaUIsR0FBQUYsR0FBQW40RCxLQUFBMjhDLEdBQ0F5YixFQUFBdkIsUUFBQXVCLEVBQUF2QixTQUFBLEVBQ0FsYSxFQUFBMS9DLFVBQUEwL0MsRUFBQTEvQyxTQUFBaEIsT0FBQSxHQUNBMGdELEVBQUExL0MsU0FBQWk3RCxFQUFBdmIsRUFBQTEvQyxTQUFBazdELEVBQUEsRUFBQXhiLEVBQUEwYixHQUNBRCxFQUFBdkIsUUFBQXVCLEVBQUF2QixRQUFBbGEsRUFBQWthLFNBRUF1QixFQUFBdkIsU0FHQSxRQUFBNzZELEdBQUEsRUFBeUJBLEVBQUFxOEQsRUFBQUYsR0FBQWw4RCxPQUFBLElBQWlDRCxFQUMxRHU4RCxFQUFBRixFQUFBRixHQUFBbjhELEdBR0FpRCxHQUFBLElBQUFpM0MsRUFBQWo2QyxRQUNBczhELEVBQUE1YixHQUVBMmIsRUFBQXQ0RCxLQUFBMjhDLEtBRUEyYixFQUVBLE9BQUFKLEdBQUFsYyxFQUFBOUYsWUFJQWtoQixFQUFBejdELFVBQUEyN0QsVUFBQSxTQUFBbFgsR0FDQSxHQUFBakUsR0FBQS8vQyxLQUVBODVDLElBY0EsT0FiQW43QyxHQUFBLFdBQUF5RSxTQUFBQyxRQUFBMmdELEVBQUEsU0FBQUMsR0FDQSxHQUFBdGxELEVBQUEsV0FBQXVsRCxlQUFBRCxHQUFBLENBR0EsR0FBQTFLLEdBQUEvTyxLQUE4QnlaLEVBQUF2akQsTUFDOUJ1akQsR0FBQXJpRCxNQUNBMjNDLEVBQUEzM0MsSUFBQXFpRCxFQUFBcmlELEtBRUFxaUQsRUFBQTFnRCxLQUFBcTNELHFCQUNBcmhCLEVBQUExNEMsU0FBQWsvQyxFQUFBbWIsVUFBQTNoQixFQUFBMTRDLFdBRUFpNUMsRUFBQWwyQyxLQUFBMjFDLE1BRUFPLEdBR0FraEIsRUFBQXo3RCxVQUFBODhELE1BQUEsU0FBQXZpQixFQUFBa0ssR0FDQWhrRCxLQUFBODVDLFdBQUE5NUMsS0FBQWs3RCxVQUFBbFgsR0FDQWhrRCxLQUFBaTdELFlBR0FELEVBQUF6N0QsVUFBQTY3RCxPQUFBLFNBQUF2MUQsRUFBQXdILEdBQ0EsTUFBQXhILEtBQUE3RixNQUFBaTdELFFBQ0FqN0QsS0FBQWk3RCxRQUFBcDFELElBRUE3RixLQUFBaTdELFFBQUFwMUQsR0FBQXdILElBQ0FyTixLQUFBaTdELFFBQUFwMUQsS0FHQW0xRCxFQUFBejdELFVBQUFvOEQsYUFBQSxTQUFBN2hCLEdBQ0EsR0FBQW1HLEdBQUFqZ0QsS0FFQTA3RCxJQVFBLE9BUEE1aEIsR0FBQXoyQyxRQUFBLFNBQUFrMkMsR0FDQUEsRUFBQTE0QyxTQUdBNjZELEVBQUE5M0QsS0FBQTNELE1BQUF5N0QsRUFBQVosRUFBQTdhLEVBQUEwYixhQUFBcGlCLEVBQUExNEMsWUFGQTY2RCxFQUFBOTNELEtBQUEyMUMsS0FLQW1pQixHQUdBVixJQUdBNTlELEdBQUEsV0FBQTQ5RCxFQUNBNzlELEVBQUFDLFVBQUEsWWhFdWdYTWsvRCxJQUNBLFNBQVNuL0QsRUFBUUMsRUFBU0MsR2lFaHRYaEMsWUFjQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQThyQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBa3NDLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFDLEdBQUFDLEVBQUFycUMsR0FBaUQsSUFBQXFxQyxFQUFhLFNBQUFDLGdCQUFBLDREQUF5RixRQUFBdHFDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUFxcUMsRUFBQXJxQyxFQUV2SixRQUFBdXFDLEdBQUFDLEVBQUFDLEdBQTBDLHFCQUFBQSxJQUFBLE9BQUFBLEVBQStELFNBQUFOLFdBQUEsaUVBQUFNLEdBQXVHRCxHQUFBMXFDLFVBQUE3QixPQUFBeXNDLE9BQUFELEtBQUEzcUMsV0FBeUUrSyxhQUFlMU0sTUFBQXFzQyxFQUFBRyxZQUFBLEVBQUFDLFVBQUEsRUFBQWIsY0FBQSxLQUE2RVUsSUFBQXhzQyxPQUFBNHNDLGVBQUE1c0MsT0FBQTRzQyxlQUFBTCxFQUFBQyxHQUFBYixFQUFBWSxFQUFBQyxJQXBCclh4c0MsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQTY5RCxFQUFBbC9ELEVBQUEsSUFFQW0vRCxFQUFBbC9ELEVBQUFpL0QsR0FZQUUsRUFBQSxTQUFBMThELEdBR0EsUUFBQTA4RCxLQUdBLE1BRkFoekIsR0FBQXpwQyxLQUFBeThELEdBRUE1eUIsRUFBQTdwQyxLQUFBRCxFQUFBRSxNQUFBRCxLQUFBRSxZQThCQSxNQW5DQThwQyxHQUFBeXlCLEVBQUExOEQsR0FRQTA4RCxFQUFBbDlELFVBQUFZLHNCQUFBLFNBQUFndEMsR0FDQSxVQUFBcXZCLEVBQUEsWUFBQXJ2QixFQUFBbnRDLEtBQUFVLFFBR0ErN0QsRUFBQWw5RCxVQUFBaUIsT0FBQSxXQUNBLEdBQUFxSyxHQUFBN0ssS0FBQVUsTUFDQWc4RCxFQUFBN3hELEVBQUE2eEQsV0FDQS83RCxFQUFBa0ssRUFBQWxLLFVBQ0FnOEQsRUFBQTl4RCxFQUFBOHhELFNBQ0FDLEVBQUEveEQsRUFBQSt4RCxpQkFDQUMsRUFBQWh5RCxFQUFBZ3lELFNBQ0F2aUIsRUFBQXp2QyxFQUFBeXZDLE1BRUEsSUFBQW9pQixFQUFBLENBQ0EsR0FBQUksR0FBQUQsRUFBQSxzQkFDQSxPQUFBbCtELEdBQUEsV0FBQTBDLGNBQUEsUUFDQVAsVUFBQUgsRUFBQSxnQkFBQUEsRUFBQSxJQUFBbThELEVBQ0FocUIsUUFBQSxTQUFBMXpDLEdBQ0EsTUFBQXU5RCxJQUFBRSxFQUFBdmlCLEVBQUFsN0MsTUFHSyxNQUFBdzlELEdBQ0xqK0QsRUFBQSxXQUFBMEMsY0FBQSxRQUF1RFAsVUFBQUgsRUFBQSxnQkFBQUEsRUFBQSxZQUV2RCxNQUdBODdELEdBQ0M5OUQsRUFBQSxXQUFBMkMsVUFFRG03RCxHQUFBN3dELFdBQ0EwdUMsT0FBQTU3QyxFQUFBbU4sVUFBQXlpQyxPQUNBM3RDLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0F5NEQsV0FBQWgrRCxFQUFBbU4sVUFBQUcsSUFDQTZ3RCxTQUFBbitELEVBQUFtTixVQUFBRSxLQUNBNndELGlCQUFBbCtELEVBQUFtTixVQUFBRSxLQUNBNHdELFNBQUFqK0QsRUFBQW1OLFVBQUF3TCxNQUVBamEsRUFBQSxXQUFBcS9ELEVBQ0F0L0QsRUFBQUMsVUFBQSxZakVzdFhNMi9ELElBQ0EsU0FBUzUvRCxFQUFRQyxFQUFTQyxHa0UveFhoQyxZQTBDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQThyQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBdTlELEdBQUExdEQsR0FBa0MsR0FBQTlNLE1BQUFtQyxRQUFBMkssR0FBQSxDQUEwQixPQUFBeE4sR0FBQSxFQUFBbTdELEVBQUF6NkQsTUFBQThNLEVBQUF2TixRQUEwQ0QsRUFBQXdOLEVBQUF2TixPQUFnQkQsSUFBT203RCxFQUFBbjdELEdBQUF3TixFQUFBeE4sRUFBb0IsT0FBQW03RCxHQUFzQixNQUFBejZELE9BQUE4UCxLQUFBaEQsR0FFdkssUUFBQXE4QixHQUFBQyxFQUFBQyxHQUFpRCxLQUFBRCxZQUFBQyxJQUEwQyxTQUFBQyxXQUFBLHFDQUUzRixRQUFBQyxHQUFBQyxFQUFBcnFDLEdBQWlELElBQUFxcUMsRUFBYSxTQUFBQyxnQkFBQSw0REFBeUYsUUFBQXRxQyxHQUFBLGdCQUFBQSxJQUFBLGtCQUFBQSxHQUFBcXFDLEVBQUFycUMsRUFFdkosUUFBQXVxQyxHQUFBQyxFQUFBQyxHQUEwQyxxQkFBQUEsSUFBQSxPQUFBQSxFQUErRCxTQUFBTixXQUFBLGlFQUFBTSxHQUF1R0QsR0FBQTFxQyxVQUFBN0IsT0FBQXlzQyxPQUFBRCxLQUFBM3FDLFdBQXlFK0ssYUFBZTFNLE1BQUFxc0MsRUFBQUcsWUFBQSxFQUFBQyxVQUFBLEVBQUFiLGNBQUEsS0FBNkVVLElBQUF4c0MsT0FBQTRzQyxlQUFBNXNDLE9BQUE0c0MsZUFBQUwsRUFBQUMsR0FBQWIsRUFBQVksRUFBQUMsSUFsRHJYeHNDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE0c0MsR0FBQTlzQyxPQUFBK3NDLFFBQUEsU0FBQTNqQyxHQUFtRCxPQUFBbEgsR0FBQSxFQUFnQkEsRUFBQU0sVUFBQUwsT0FBc0JELElBQUEsQ0FBTyxHQUFBMlQsR0FBQXJULFVBQUFOLEVBQTJCLFFBQUFnQyxLQUFBMlIsR0FBMEI3VixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQThULEVBQUEzUixLQUF5RGtGLEVBQUFsRixHQUFBMlIsRUFBQTNSLElBQWlDLE1BQUFrRixJQUUvT3BJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFzK0QsRUFBQTMvRCxFQUFBLEtBRUE0L0QsRUFBQTMvRCxFQUFBMC9ELEdBRUFFLEVBQUE3L0QsRUFBQSxLQUVBOC9ELEVBQUE3L0QsRUFBQTQvRCxHQUVBRSxFQUFBLy9ELEVBQUEsS0FFQWsvRCxFQUFBbC9ELEVBQUEsSUFFQW0vRCxFQUFBbC9ELEVBQUFpL0QsR0FFQWMsRUFBQWhnRSxFQUFBLElBRUFpZ0UsRUFBQWhnRSxFQUFBKy9ELEdBRUFFLEVBQUFsZ0UsRUFBQSxLQUVBbWdFLEVBQUFsZ0UsRUFBQWlnRSxHQUVBdmxCLEVBQUEzNkMsRUFBQSxLQUVBNDZDLEVBQUEzNkMsRUFBQTA2QyxHQUVBb1osRUFBQS96RCxFQUFBLElBRUFnMEQsRUFBQS96RCxFQUFBOHpELEdBY0F2M0IsRUFBQSxTQUFBOTVCLEdBR0EsUUFBQTg1QixHQUFBbjVCLEdBQ0Erb0MsRUFBQXpwQyxLQUFBNjVCLEVBRUEsSUFBQTBSLEdBQUExQixFQUFBN3BDLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBRUE2cUMsR0FBQWt5QixXQUFBLFNBQUFaLEVBQUF2aUIsRUFBQWw3QyxFQUFBeUQsR0FDQXpELElBQ0FBLEVBQUF1RCxpQkFDQXZELEVBQUErM0Msa0JBRUEsSUFBQThLLEdBQUExVyxFQUFBbXlCLGdCQUFBcGpCLEVBQ0EsdUJBQUEySCxJQUFBNGEsR0FFTyxJQUFBNWEsR0FBQTRhLEVBQUEsQ0FDUCxHQUFBYyxHQUFBcHlCLEVBQUFxeUIsa0JBQUFuNkQsUUFDQWs2RCxHQUFBLzVELEtBQUEybkMsRUFBQXN5QixVQUFBdmpCLEVBQUF6M0MsSUFDQTBvQyxFQUFBdXlCLHFCQUFBSCxRQUpBcHlCLEdBQUF3eUIsYUFBQXpqQixFQUFBejNDLEVBTUEwb0MsR0FBQTdxQyxNQUFBaThELFNBQUFFLEVBQUF2aUIsSUFHQS9PLEVBQUF3eUIsYUFBQSxTQUFBempCLEVBQUFsRSxHQUNBLEdBQUF1bkIsR0FBQXB5QixFQUFBcXlCLGtCQUFBbjZELFNBQ0EyM0MsRUFBQTdQLEVBQUFzeUIsVUFBQXZqQixFQUFBbEUsR0FDQXZ6QyxJQUNBODZELEdBQUF0NkQsUUFBQSxTQUFBczRCLEVBQUEvN0IsR0FDQSs3QixJQUFBeWYsSUFDQXY0QyxFQUFBakQsS0FHQWlELFFBQ0E4NkQsRUFBQXBoQyxPQUFBMTVCLEVBQUEsR0FFQTBvQyxFQUFBdXlCLHFCQUFBSCxJQUdBcHlCLEVBQUF5eUIsbUJBQUEsV0FDQXp5QixFQUFBMHlCLDBCQUNBMXlCLEVBQUEyeUIsOEJBR0EzeUIsRUFBQTB5Qix3QkFBQSxXQUNBLEdBQUFFLEdBQUE1eUIsRUFBQTZ5QixVQUFBQyx1QkFHQSxNQUFBeGdFLFNBQUFzZ0UsRUFBQUcsUUFBQUgsRUFBQUcsUUFBQSxJQUdBLEdBQUEzOUQsR0FBQTRxQyxFQUFBN3FDLE1BQUFDLFVBRUE0OUQsRUFBQWh6QixFQUFBb2MsS0FBQTZXLFVBQUFqekIsRUFBQW9jLEtBQUE2VyxVQUFBeFosaUJBQUEsU0FBQXpaLEVBQUFvYyxLQUFBOFcsVUFBQXpaLGlCQUFBLFNBQ0EwWixFQUFBbnpCLEVBQUFvYyxLQUFBOFcsVUFBQXpaLGlCQUFBLElBQUFya0QsRUFBQSxZQUNBZytELEtBQUF4eEQsSUFBQTFOLEtBQUE4K0QsRUFBQSxTQUFBdGhCLEdBQ0EsTUFBQUEsR0FBQW9oQix3QkFBQUMsUUFBQSxTQUVBTSxLQUFBenhELElBQUExTixLQUFBaS9ELEVBQUEsU0FBQXpoQixHQUNBLE1BQUFBLEdBQUFvaEIsd0JBQUFDLFFBQUEsVUFFQSxFQUFBOUIsRUFBQSxZQUFBanhCLEVBQUFxRyxNQUFBK3NCLGdDQUFBLEVBQUFuQyxFQUFBLFlBQUFqeEIsRUFBQXFHLE1BQUFndEIsK0JBR0FyekIsRUFBQXNHLFVBQ0E4c0IsNkJBQ0FDLGlDQUlBcnpCLEVBQUFzekIsbUJBQUEsU0FBQXovRCxHQUNBbXNDLEVBQUF1ekIsZUFBQTEvRCxFQUFBMi9ELGdCQUNBeHpCLEVBQUF1ekIsYUFBQTEvRCxFQUFBMi9ELGdCQUlBeHpCLEVBQUF5ekIsaUJBQUEsU0FBQTUvRCxHQUdBLEdBQUFBLEVBQUEwSCxTQUFBeWtDLEVBQUF1ekIsYUFBQSxDQUdBLEdBQUFHLEdBQUExekIsRUFBQTdxQyxNQUFBdytELE9BQ0FBLEVBQUFyaEUsU0FBQW9oRSxLQUF3REEsRUFDeERFLEVBQUE1ekIsRUFBQW9jLEtBQ0E2VyxFQUFBVyxFQUFBWCxVQUNBQyxFQUFBVSxFQUFBVixVQUNBVyxFQUFBRCxFQUFBQyxxQkFDQUMsRUFBQUYsRUFBQUUscUJBRUFILEdBQUFyOEMsR0FBQXpqQixFQUFBMEgsT0FBQXc0RCxhQUFBL3pCLEVBQUFnMEIsaUJBQ0FuZ0UsRUFBQTBILFNBQUEyM0QsR0FBQUQsRUFDQUEsRUFBQWMsV0FBQWxnRSxFQUFBMEgsT0FBQXc0RCxXQUNTbGdFLEVBQUEwSCxTQUFBMDNELEdBQUFDLElBQ1RBLEVBQUFhLFdBQUFsZ0UsRUFBQTBILE9BQUF3NEQsWUFFQS96QixFQUFBMnlCLDJCQUFBOStELEVBQUEwSCxTQUVBbzRELEVBQUFoakQsSUFDQWtqRCxHQUFBaGdFLEVBQUEwSCxTQUFBczRELElBQ0FBLEVBQUFJLFVBQUFwZ0UsRUFBQTBILE9BQUEwNEQsV0FFQUgsR0FBQWpnRSxFQUFBMEgsU0FBQXU0RCxJQUNBQSxFQUFBRyxVQUFBcGdFLEVBQUEwSCxPQUFBMDRELFdBRUFmLEdBQUFyL0QsRUFBQTBILFNBQUEyM0QsSUFDQUEsRUFBQWUsVUFBQXBnRSxFQUFBMEgsT0FBQTA0RCxZQUlBajBCLEVBQUFnMEIsZUFBQW5nRSxFQUFBMEgsT0FBQXc0RCxhQUdBL3pCLEVBQUFrMEIsZUFBQSxTQUFBQyxFQUFBOTlELEdBQ0EycEMsRUFBQTJLLE1BQUFyRSxVQUNBOHRCLGdCQUFBRCxFQUFBOTlELEVBQUEsT0FJQSxJQUFBZytELE1BQ0EzRCxLQUFBeDRELE9BQUFxM0QsRUFBQXA2RCxFQUFBNGhCLE1BS0EsSUFKQWlwQixFQUFBczBCLGNBQUEsR0FBQXJDLEdBQUEsV0FBQTk4RCxFQUFBbzVDLFFBQUFwNUMsRUFBQUcsVUFDQTBxQyxFQUFBMkssT0FBQSxFQUFBK0IsRUFBQSxhQUFpRDBuQixnQkFBQSxPQUNqRHAwQixFQUFBdTBCLGtCQUFBLFFBRUFwL0QsRUFBQXEvRCxxQkFDQSxPQUFBbmdFLEdBQUEsRUFBcUJBLEVBQUFxOEQsRUFBQXA4RCxPQUFpQkQsSUFBQSxDQUN0QyxHQUFBcTlDLEdBQUFnZixFQUFBcjhELEVBQ0FnZ0UsR0FBQWg4RCxLQUFBMm5DLEVBQUFzeUIsVUFBQTVnQixFQUFBcjlDLElBQ0FxOEQsSUFBQXg0RCxPQUFBdzVDLEVBQUF2OEMsRUFBQW8vQyw2QkFHQThmLEdBQUFsL0QsRUFBQWsvRCxpQkFBQWwvRCxFQUFBcy9ELHNCQVFBLE9BTkF6MEIsR0FBQXFHLE9BQ0FndUIsa0JBQ0FELGdCQUFBLEtBQ0FoQiw4QkFDQUMsK0JBRUFyekIsRUFtbEJBLE1BOXRCQXZCLEdBQUFuUSxFQUFBOTVCLEdBOElBODVCLEVBQUF0NkIsVUFBQXl0QyxrQkFBQSxXQUNBaHRDLEtBQUE2L0QsY0FBQTFFLHNCQUNBbjdELEtBQUFnK0QscUJBQ0FoK0QsS0FBQWlnRSx1QkFBQSxFQUFBN0MsRUFBQThDLFVBQUFsZ0UsS0FBQWcrRCxtQkFBQSxLQUNBaCtELEtBQUFtZ0UsYUFBQSxFQUFBN0MsRUFBQSxZQUFBemlDLE9BQUEsU0FBQTc2QixLQUFBaWdFLHlCQUlBcG1DLEVBQUF0NkIsVUFBQTJ0QywwQkFBQSxTQUFBQyxHQUNBLG1CQUFBQSxJQUNBbnRDLEtBQUE2eEMsVUFDQSt0QixnQkFBQXp5QixFQUFBeXlCLGtCQUdBenlCLEVBQUEyTSxTQUFBM00sRUFBQTJNLFVBQUE5NUMsS0FBQVUsTUFBQW81QyxRQUNBOTVDLEtBQUE2L0QsY0FBQXhELE1BQUFsdkIsRUFBQTJNLFNBQ0szTSxFQUFBdHNDLFdBQUFiLEtBQUFVLE1BQUFHLFVBQ0xiLEtBQUE2L0QsY0FBQXhELE1BQUEsS0FBQWx2QixFQUFBdHNDLFdBSUFnNUIsRUFBQXQ2QixVQUFBeXVDLG1CQUFBLFNBQUF3Z0IsR0FDQXh1RCxLQUFBNi9ELGNBQUExRSxxQkFDQW43RCxLQUFBZytELHFCQUdBeFAsRUFBQWxzQyxLQUFBemlCLE9BQUEsT0FBQUcsS0FBQVUsTUFBQTRoQixLQUFBemlCLFFBQUFHLEtBQUFvZ0UsY0FDQXBnRSxLQUFBcWdFLGdCQUlBeG1DLEVBQUF0NkIsVUFBQTB1QyxxQkFBQSxXQUNBanVDLEtBQUFtZ0UsYUFDQW5nRSxLQUFBbWdFLFlBQUFqSixTQUVBbDNELEtBQUFpZ0UsdUJBQ0FqZ0UsS0FBQWlnRSxzQkFBQWx2QixVQUlBbFgsRUFBQXQ2QixVQUFBdStELHFCQUFBLFNBQUE4QixHQUNBNS9ELEtBQUFVLE1BQUFrL0QsaUJBQ0E1L0QsS0FBQTZ4QyxVQUFxQit0QixvQkFFckI1L0QsS0FBQVUsTUFBQW85RCxxQkFBQThCLElBR0EvbEMsRUFBQXQ2QixVQUFBcytELFVBQUEsU0FBQXZqQixFQUFBejNDLEdBQ0EsR0FBQXU0QyxHQUFBcDdDLEtBQUFVLE1BQUEwNkMsT0FDQXg1QyxFQUFBLGtCQUFBdzVDLEtBQUFkLEVBQUF6M0MsR0FBQXkzQyxFQUFBYyxFQUVBLFFBREEsRUFBQWdpQixFQUFBa0QsYUFBQXppRSxTQUFBK0QsRUFBQSxrR0FDQS9ELFNBQUErRCxFQUFBaUIsRUFBQWpCLEdBR0FpNEIsRUFBQXQ2QixVQUFBcStELGdCQUFBLFdBQ0EsTUFBQTU5RCxNQUFBVSxNQUFBay9ELGlCQUFBNS9ELEtBQUE0eEMsTUFBQWd1QixpQkFHQS9sQyxFQUFBdDZCLFVBQUFnaEUsVUFBQSxTQUFBem1CLEVBQUE1eUMsR0FDQSxHQUFBMkQsR0FBQTdLLEtBQUFVLE1BQ0F3L0MsRUFBQXIxQyxFQUFBcTFDLFdBQ0FFLEVBQUF2MUMsRUFBQXUxQyxpQkFDQXovQyxFQUFBa0ssRUFBQWxLLFVBRUFzN0QsRUFBQWo4RCxLQUFBd2dFLGNBQUExbUIsRUFFQXNHLElBQUEsVUFBQWw1QyxHQUNBKzBELEVBQUEsR0FBQXQ3QixTQUNBLytCLElBQUEsNEJBQ0FkLFVBQUFILEVBQUEsa0JBQ0F5OUMsTUFBQSxHQUNBZ2UsUUFBQUgsRUFBQXA4RCxRQUlBLElBQUE0Z0UsR0FBQXY1RCxFQUFBbEgsS0FBQTBnRSxrQkFBQTVtQixFQUFBbWlCLEdBQUEsSUFFQSxPQUFBL2IsR0FBQXZoRCxFQUFBLFdBQUEwQyxjQUFBODdELEVBQUEsWUFDQXg4RCxZQUNBczdELE9BQ0EwRSxTQUFBRixJQUNLLE1BR0w1bUMsRUFBQXQ2QixVQUFBaWhFLGNBQUEsU0FBQTFtQixHQUNBLEdBQUExTSxHQUFBcHRDLEtBRUErN0QsRUFBQTc3RCxVQUFBTCxPQUFBLEdBQUFoQyxTQUFBcUMsVUFBQSxHQUFBQSxVQUFBLEtBQ0ErN0QsRUFBQS83RCxVQUFBLEVBNkJBLE9BM0JBKzdELFNBQ0FBLEVBQUFGLEdBQUFFLEVBQUFGLE9BRUFqaUIsRUFBQXoyQyxRQUFBLFNBQUFrMkMsR0FDQSxHQUFBQSxFQUFBNmlCLFNBQUFILEVBQUFwOEQsT0FBQTA1QyxFQUFBNmlCLFFBQ0EsS0FBQUgsRUFBQXA4RCxPQUFBMDVDLEVBQUE2aUIsU0FDQUgsRUFBQXI0RCxRQUdBLElBQUFnOUQsSUFDQWgvRCxJQUFBMjNDLEVBQUEzM0MsSUFDQWQsVUFBQXk0QyxFQUFBejRDLFdBQUEsR0FDQUQsU0FBQTA0QyxFQUFBNkUsTUFFQTdFLEdBQUExNEMsVUFDQXVzQyxFQUFBb3pCLGNBQUFqbkIsRUFBQTE0QyxTQUFBazdELEVBQUEsRUFBQUUsR0FFQSxXQUFBMWlCLEtBQ0FxbkIsRUFBQW5HLFFBQUFsaEIsRUFBQWtoQixTQUVBLFdBQUFsaEIsS0FDQXFuQixFQUFBeEUsUUFBQTdpQixFQUFBNmlCLFNBRUEsSUFBQXdFLEVBQUFuRyxTQUNBd0IsRUFBQUYsR0FBQW40RCxLQUFBZzlELEtBR0EzRSxFQUFBMWdDLE9BQUEsU0FBQTBoQixHQUNBLE1BQUFBLEdBQUFwOUMsT0FBQSxLQUlBZzZCLEVBQUF0NkIsVUFBQXNoRSxlQUFBLFNBQUFqL0QsRUFBQXEyRCxFQUFBbGxCLEVBQUFqeUMsRUFBQW9HLEdBQ0EsR0FBQThELEdBQUFoTCxLQUFBVSxNQUNBQyxFQUFBcUssRUFBQXJLLFVBQ0F5L0MsRUFBQXAxQyxFQUFBbzFDLGlCQUVBMGdCLEVBQUEsTUFFQUEsR0FEQSxTQUFBNTVELEVBQ0FsSCxLQUFBNi9ELGNBQUFqRSxrQkFBQS83RCxPQUNLLFVBQUFxSCxFQUNMbEgsS0FBQTYvRCxjQUFBaEUsbUJBQUFoOEQsT0FFQUcsS0FBQTYvRCxjQUFBbkUsY0FBQTc3RCxNQUVBLElBQUFpNkMsS0FDQWw0QyxJQUFBLFlBQ0FwQixPQUFBLFdBQ0EsT0FDQUUsT0FDQSs1RCxRQUFBcUcsR0FFQWpnRSxTQUFBLFVBQUFxRyxFQUFBK3dELEVBQUEsWUFZQSxPQVJBN1gsSUFBQSxVQUFBbDVDLEdBQ0E0eUMsRUFBQW5aLFNBQ0EvK0IsSUFBQSwwQkFDQXBCLE9BQUEsV0FDQSxlQUlBN0IsRUFBQSxXQUFBMEMsY0FBQTQ3RCxFQUFBLFlBQ0FuakIsVUFDQS9HLFVBQ0FqeUMsWUFDQWMsTUFBQSxhQUNBakIsWUFBQSxnQkFDQW9nRSxPQUFBLEVBQ0FyRSxZQUFBLEVBQ0F4bUIsTUFBQWwyQyxLQUFBazJDLFNBSUFyYyxFQUFBdDZCLFVBQUF5aEUsY0FBQSxTQUFBMStDLEVBQUF5d0IsRUFBQWd1QixFQUFBam5CLEVBQUE1eUMsR0FvQkEsT0FuQkF4RyxHQUFBVixLQUFBVSxNQUNBby9DLEVBQUFwL0MsRUFBQW8vQyxtQkFDQU8sRUFBQTMvQyxFQUFBMi9DLGtCQUNBNGdCLEVBQUF2Z0UsRUFBQXVnRSxpQkFDQXJDLEVBQUE1K0QsS0FBQTR4QyxNQUFBZ3RCLDJCQUVBc0MsS0FDQUMsRUFBQXpnRSxFQUFBeWdFLGFBQ0FDLEVBQUExZ0UsRUFBQTBnRSxPQUNBQyxFQUFBM2dFLEVBQUEyZ0UscUJBQ0F6RSxFQUFBbDhELEVBQUE0aEIsS0FBQW1SLEtBQUEsU0FBQTZtQixHQUNBLE1BQUFBLEdBQUF3RixLQUVBd2hCLEVBQUE1Z0UsRUFBQTRnRSxXQUNBQyxFQUFBN2dFLEVBQUE2Z0UsaUJBRUFuaEIsRUFBQSxVQUFBbDVDLEdBQUF4RyxFQUFBMC9DLGlCQUNBSSxFQUFBLFVBQUF0NUMsRUFBQXhHLEVBQUE4L0MseUJBRUE1Z0QsRUFBQSxFQUFtQkEsRUFBQTBpQixFQUFBemlCLE9BQWlCRCxJQUFBLENBQ3BDLEdBQUEwNkMsR0FBQWg0QixFQUFBMWlCLEdBQ0FnQyxFQUFBNUIsS0FBQTY5RCxVQUFBdmpCLEVBQUExNkMsR0FDQTRoRSxFQUFBbG5CLEVBQUF3RixHQUNBMmhCLEVBQUF6aEUsS0FBQXloRSxjQUFBbm5CLEVBQUExNkMsR0FDQThoRSxFQUFBLE1BQ0FyaEIsSUFBQW9oQixJQUNBQyxFQUFBcmhCLEVBQUEvRixFQUFBMTZDLEVBQUFtaEUsR0FFQSxJQUFBamdFLEdBQUFxZ0UsRUFBQTdtQixFQUFBMTZDLEVBQUFtaEUsR0FFQVksSUFDQTNoRSxNQUFBNi9ELGNBQUExRSxzQkFDQXdHLEVBQUFDLFFBQUE1aEUsS0FBQXkvRCxlQUdBLElBQUFuQixHQUFBcDNELEdBQUEwM0QsRUFBQWgvRCxHQUFBZy9ELEVBQUFoL0QsR0FBQSxLQUVBODdELEVBQUEsTUFFQUEsR0FEQSxTQUFBeDBELEVBQ0FsSCxLQUFBNi9ELGNBQUFqRSxrQkFDTyxVQUFBMTBELEVBQ1BsSCxLQUFBNi9ELGNBQUFoRSxtQkFFQTc3RCxLQUFBNi9ELGNBQUFuRSxjQUdBd0YsRUFBQXQ5RCxLQUFBakYsRUFBQSxXQUFBMEMsY0FBQTQ3RCxFQUFBLFdBQUF6eUIsR0FDQXUyQixTQUNBbGdCLFdBQUFuZ0QsRUFBQW1nRCxXQUNBK2IsbUJBQ0E5N0QsWUFDQXc1QyxTQUNBOEYsbUJBQ0F5aEIsVUFBQTdoRSxLQUFBKzlELGFBQ0FsN0QsTUFBQWpELEVBQ0FtekMsVUFDQWt1QixtQkFDQXRFLFNBQUEzOEQsS0FBQXk5RCxXQUNBZixXQUFBOEUsR0FBQW5oQixFQUNBd2MsU0FBQTRFLEVBQ0E5Z0UsVUFBQUQsRUFBQUMsVUFBQSxPQUNBbS9DLHFCQUNBaEcsUUFBQTRoQixFQUNBbGIsd0JBQ0E4Z0IsYUFDQUMsbUJBQ0FqRCxVQUNPcUQsR0FDUC8vRCxNQUNBa2dFLFNBQUFsZ0UsRUFDQXFtRCxJQUFBbVosRUFBQTltQixFQUFBMTZDLEVBQUFtaEUsR0FDQTdxQixNQUFBbDJDLEtBQUFrMkMsU0FHQSxJQUFBNnJCLEdBQUFodkIsR0FBQTB1QixDQUVBQyxJQUFBRCxHQUNBUCxFQUFBdDlELEtBQUE1RCxLQUFBNmdFLGVBQUFqL0QsRUFBQTgvRCxFQUFBSyxFQUFBVixFQUFBL21CLEVBQUExNkMsRUFBQW1oRSxHQUFBNzVELElBRUFzNkQsSUFDQU4sSUFBQXo5RCxPQUFBekQsS0FBQWdoRSxjQUFBUSxFQUFBTyxFQUFBaEIsRUFBQSxFQUFBam5CLEVBQUE1eUMsS0FHQSxNQUFBZzZELElBR0FybkMsRUFBQXQ2QixVQUFBeWlFLFFBQUEsU0FBQWxvQixFQUFBNXlDLEdBQ0EsTUFBQWxILE1BQUFnaEUsY0FBQWhoRSxLQUFBVSxNQUFBNGhCLE1BQUEsSUFBQXczQixFQUFBNXlDLElBR0EyeUIsRUFBQXQ2QixVQUFBMGlFLFlBQUEsU0FBQW5vQixFQUFBNXlDLEdBQ0EsR0FBQWc3RCxLQUNBbGlFLE1BQUFVLE1BQUEwL0Msa0JBQUEsVUFBQWw1QyxHQUNBZzdELEVBQUF0K0QsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQUEsT0FDQVAsVUFBQWQsS0FBQVUsTUFBQUMsVUFBQSxtQkFDQWlCLElBQUEsNkJBR0EsSUFBQTg1RCxHQUFBLE1BV0EsT0FUQUEsR0FEQSxTQUFBeDBELEVBQ0FsSCxLQUFBNi9ELGNBQUFqRSxrQkFDSyxVQUFBMTBELEVBQ0xsSCxLQUFBNi9ELGNBQUFoRSxtQkFFQTc3RCxLQUFBNi9ELGNBQUFuRSxjQUVBd0csSUFBQXorRCxPQUFBaTRELEVBQUF2dUQsSUFBQSxTQUFBakksR0FDQSxNQUFBdkcsR0FBQSxXQUFBMEMsY0FBQSxPQUFzRE8sSUFBQXNELEVBQUF0RCxJQUFBaEIsT0FBcUJtbkQsTUFBQTdpRCxFQUFBNmlELE1BQUFvYSxTQUFBajlELEVBQUE2aUQsWUFFM0VwcEQsRUFBQSxXQUFBMEMsY0FDQSxXQUNBLEtBQ0E2Z0UsSUFJQXJvQyxFQUFBdDZCLFVBQUE2aUUsa0JBQUEsV0FDQSxNQUFBcGlFLE1BQUFxaUUsVUFDQXZvQixRQUFBOTVDLEtBQUE2L0QsY0FBQXRFLGNBQ0FyMEQsTUFBQSxVQUlBMnlCLEVBQUF0NkIsVUFBQStpRSxtQkFBQSxXQUNBLE1BQUF0aUUsTUFBQXFpRSxVQUNBdm9CLFFBQUE5NUMsS0FBQTYvRCxjQUFBcEUsZUFDQXYwRCxNQUFBLFdBSUEyeUIsRUFBQXQ2QixVQUFBOGlFLFNBQUEsV0FDQSxHQUFBdmxCLEdBQUE5OEMsS0FFQWd5QyxFQUFBOXhDLFVBQUFMLE9BQUEsR0FBQWhDLFNBQUFxQyxVQUFBLEdBQUFBLFVBQUEsTUFDQTQ1QyxFQUFBOUgsRUFBQThILFFBQ0E1eUMsRUFBQThxQyxFQUFBOXFDLE1BQ0FxN0QsRUFBQXZpRSxLQUFBVSxNQUNBQyxFQUFBNGhFLEVBQUE1aEUsVUFDQTZoRSxFQUFBRCxFQUFBckQsT0FDQUEsRUFBQXJoRSxTQUFBMmtFLEtBQWtEQSxFQUNsREMsRUFBQUYsRUFBQUUsZUFDQTdoQixFQUFBNWdELEtBQUFVLE1BQUFrZ0QsZUFFQThoQixFQUFBbDRCLEtBQStCeHFDLEtBQUFVLE1BQUFnaUUsV0FDL0JDLEtBRUFDLEVBQUEsSUFDQTFELEVBQUFyOEMsR0FBQTNiLEtBQ0EwN0QsRUFBQWppRSxFQUFBLFNBQ0EraEUsRUFBQUcsVUFBQUgsRUFBQUcsV0FBQSxPQUdBLElBQUFDLEtBQ0EsSUFBQTVELEVBQUFoakQsRUFBQSxDQUdBaFYsR0FDQTQ3RCxFQUFBQyxVQUFBTCxFQUFBSyxXQUFBN0QsRUFBQWhqRCxFQUNBNG1ELEVBQUFFLFVBQUFOLEVBQUFNLFdBQUEsVUFFQU4sRUFBQUssVUFBQUwsRUFBQUssV0FBQTdELEVBQUFoakQsRUFFQXdtRCxFQUFBTSxVQUFBTixFQUFBTSxXQUFBLFNBQ0FwaUIsR0FBQSxDQUdBLElBQUFxaUIsSUFBQSxFQUFBN0YsRUFBQThGLG1CQUNBRCxHQUFBLEtBQ0EvN0QsRUFBQXc3RCxFQUFBQyxHQUFBUSxhQUFBLElBQUFGLEVBQUEsTUFDQS83RCxFQUFBdzdELEVBQUFDLEdBQUFTLGNBQUEsT0FJQSxHQUFBQyxHQUFBLFdBQ0EsR0FBQUMsS0FBQXBqRSxVQUFBTCxPQUFBLEdBQUFoQyxTQUFBcUMsVUFBQSxLQUFBQSxVQUFBLEdBQ0FxakUsSUFBQXJqRSxVQUFBTCxPQUFBLEdBQUFoQyxTQUFBcUMsVUFBQSxLQUFBQSxVQUFBLEdBRUFzakUsTUFDQXQ4RCxHQUFBZzRELEVBQUFyOEMsSUFFQXE4QyxFQUFBcjhDLEtBQUEsRUFDQTJnRCxFQUFBQyxZQUFBLFFBRUFELEVBQUF6YixNQUFBbVgsRUFBQXI4QyxFQUdBLElBQUE2Z0QsR0FBQUgsRUFBQWQsRUFBQTlqRSxFQUFBLFdBQUEwQyxjQUNBLFNBQ1NQLFVBQUFILEVBQUEsVUFDVG04QyxFQUFBa2xCLFFBQUFsb0IsRUFBQTV5QyxLQUNBLElBQ0EsT0FBQXZJLEdBQUEsV0FBQTBDLGNBQ0EsU0FDU1AsVUFBQThoRSxFQUFBaGlFLE1BQUE0aUUsRUFBQTVoRSxJQUFBLFNBQ1RrN0MsRUFBQW1sQixZQUFBbm9CLEVBQUE1eUMsR0FDQW84RCxFQUFBeG1CLEVBQUF5akIsVUFBQXptQixFQUFBNXlDLEdBQUEsS0FDQXc4RCxJQUlBbEYsRUFBQSxNQUVBNWQsS0FDQTRkLEVBQUE3L0QsRUFBQSxXQUFBMEMsY0FDQSxPQUVBTyxJQUFBLFlBQ0FkLFVBQUFILEVBQUEsVUFDQXNuRCxJQUFBL2dELEVBQUEsaUJBQ0F0RyxNQUFBK2hFLEVBQ0FnQixZQUFBM2pFLEtBQUE2K0QsbUJBQ0ErRSxhQUFBNWpFLEtBQUE2K0QsbUJBQ0FnRixTQUFBN2pFLEtBQUFnL0Qsa0JBRUFxRSxHQUFBLE9BSUEsSUFBQTVFLEdBQUE5L0QsRUFBQSxXQUFBMEMsY0FDQSxPQUVBTyxJQUFBLFlBQ0FkLFVBQUFILEVBQUEsUUFDQUMsTUFBQThoRSxFQUNBemEsSUFBQSxZQUNBMGIsWUFBQTNqRSxLQUFBNitELG1CQUNBK0UsYUFBQTVqRSxLQUFBNitELG1CQUNBZ0YsU0FBQTdqRSxLQUFBZy9ELGtCQUVBcUUsR0FBQXppQixHQUdBLElBQUExNUMsR0FBQTR5QyxFQUFBajZDLE9BQUEsQ0FDQSxHQUFBaWtFLEdBQUEsTUFDQSxVQUFBaHFCLEVBQUEsR0FBQTV5QyxPQUFBNHlDLEVBQUEsR0FBQTV5QyxTQUFBLEVBQ0E0OEQsRUFBQSx1QkFDTyxVQUFBaHFCLEVBQUEsR0FBQTV5QyxRQUNQNDhELEVBQUEsK0JBRUFwQixHQUFBRyxnQkFDQUgsR0FBQU0sVUFDQXZFLEVBQUE5L0QsRUFBQSxXQUFBMEMsY0FDQSxPQUVBTyxJQUFBLFlBQ0FkLFVBQUFILEVBQUEsY0FDQUMsTUFBQTRwQyxLQUE0Qms0QixJQUU1Qi9qRSxFQUFBLFdBQUEwQyxjQUNBLE9BRUFQLFVBQUFILEVBQUEsY0FDQUMsTUFBQWtpRSxFQUNBN2EsSUFBQTZiLEVBQ0FILFlBQUEzakUsS0FBQTYrRCxtQkFDQStFLGFBQUE1akUsS0FBQTYrRCxtQkFDQWdGLFNBQUE3akUsS0FBQWcvRCxrQkFFQXFFLEdBQUF6aUIsS0FJQSxPQUFBNGQsRUFBQUMsSUFHQTVrQyxFQUFBdDZCLFVBQUF3a0UsU0FBQSxXQUNBLEdBQUFDLEdBQUFoa0UsS0FBQVUsTUFDQTA5QyxFQUFBNGxCLEVBQUE1bEIsTUFDQXo5QyxFQUFBcWpFLEVBQUFyakUsU0FFQSxPQUFBeTlDLEdBQUF6L0MsRUFBQSxXQUFBMEMsY0FDQSxPQUNPUCxVQUFBSCxFQUFBLFNBQUFpQixJQUFBLFNBQ1B3OEMsRUFBQXArQyxLQUFBVSxNQUFBNGhCLE9BQ0EsTUFHQXVYLEVBQUF0NkIsVUFBQTBrRSxVQUFBLFdBQ0EsR0FBQUMsR0FBQWxrRSxLQUFBVSxNQUNBeWpFLEVBQUFELEVBQUFDLE9BQ0F4akUsRUFBQXVqRSxFQUFBdmpFLFNBRUEsT0FBQXdqRSxHQUFBeGxFLEVBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQUgsRUFBQSxVQUFBaUIsSUFBQSxVQUNQdWlFLEVBQUFua0UsS0FBQVUsTUFBQTRoQixPQUNBLE1BR0F1WCxFQUFBdDZCLFVBQUE2a0UsYUFBQSxXQUNBLEdBQUFDLEdBQUFya0UsS0FBQVUsTUFDQXE0QyxFQUFBc3JCLEVBQUF0ckIsVUFDQXA0QyxFQUFBMGpFLEVBQUExakUsVUFDQTJoQixFQUFBK2hELEVBQUEvaEQsSUFFQSxPQUFBQSxHQUFBemlCLE9BSUEsS0FKQWxCLEVBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQUgsRUFBQSxlQUFBaUIsSUFBQSxhQUNQbTNDLE1BSUFsZixFQUFBdDZCLFVBQUFtaEUsa0JBQUEsU0FBQTVtQixFQUFBbWlCLEdBQ0EsR0FBQTBDLEdBQUEzK0QsS0FBQTR4QyxNQUFBK3NCLDJCQUVBMkYsRUFBQTNGLEVBQUEsRUFDQSxPQUFBMkYsSUFBQXhxQixFQUNBLFNBQUF3cUIsR0FDZ0JoRyxPQUFBLFNBRUZBLE9BQUFnRyxFQUFBckksRUFBQXA4RCxRQUVkLE1BR0FnNkIsRUFBQXQ2QixVQUFBdWdFLGtCQUFBLFNBQUF5RSxHQUVBLEdBREF2a0UsS0FBQXdrRSxlQUFBRCxFQUNBdmtFLEtBQUFvK0QsVUFBQSxDQUNBLEdBQUF6OUQsR0FBQVgsS0FBQVUsTUFBQUMsU0FFQSxVQUFBNGpFLEdBQ0EsRUFBQWxULEVBQUEsWUFBQXJ4RCxLQUFBbytELFdBQUFsSCxPQUFBLEdBQUE1eUQsUUFBQSxJQUFBM0QsRUFBQSx5QkFBQXdkLElBQUF4ZCxFQUFBLHlCQUFBd2QsSUFBQXhkLEVBQUEsMkJBRUEsRUFBQTB3RCxFQUFBLFlBQUFyeEQsS0FBQW8rRCxXQUFBbEgsT0FBQSxHQUFBNXlELFFBQUEsSUFBQTNELEVBQUEseUJBQUF3ZCxJQUFBeGQsRUFBQSxvQkFBQTRqRSxLQUtBMXFDLEVBQUF0NkIsVUFBQTIrRCwyQkFBQSxTQUFBcDNELEdBQ0EsR0FBQWc5QyxHQUFBaDlDLEdBQUE5RyxLQUFBMm5ELEtBQUE4VyxVQUNBZ0csRUFBQSxJQUFBM2dCLEVBQUF3YixXQUNBb0YsRUFBQTVnQixFQUFBd2IsV0FBQSxHQUFBeGIsRUFBQWpqRCxTQUFBLEdBQUF3OUQsd0JBQUF0VyxNQUFBakUsRUFBQXVhLHdCQUFBdFcsS0FDQTBjLElBQUFDLEVBQ0Exa0UsS0FBQTgvRCxrQkFBQSxRQUNLMkUsRUFDTHprRSxLQUFBOC9ELGtCQUFBLFFBQ0s0RSxFQUNMMWtFLEtBQUE4L0Qsa0JBQUEsU0FDSyxXQUFBOS9ELEtBQUF3a0UsZ0JBQ0x4a0UsS0FBQTgvRCxrQkFBQSxXQUlBam1DLEVBQUF0NkIsVUFBQThnRSxhQUFBLFdBQ0FyZ0UsS0FBQTJuRCxLQUFBNlcsWUFDQXgrRCxLQUFBMm5ELEtBQUE2VyxVQUFBYyxXQUFBLEdBRUF0L0QsS0FBQTJuRCxLQUFBOFcsWUFDQXorRCxLQUFBMm5ELEtBQUE4VyxVQUFBYSxXQUFBLElBSUF6bEMsRUFBQXQ2QixVQUFBbStELGdCQUFBLFNBQUFwakIsRUFBQXozQyxHQUNBLEdBQUF3NkMsR0FBQXI5QyxLQUVBaThELEVBQUFqOEQsS0FBQTQ5RCxrQkFBQXJpQyxPQUFBLFNBQUEzN0IsR0FDQSxNQUFBQSxLQUFBeTlDLEVBQUF3Z0IsVUFBQXZqQixFQUFBejNDLElBRUEsT0FBQW81RCxHQUFBLElBR0FwaUMsRUFBQXQ2QixVQUFBa2lFLGNBQUEsU0FBQW5uQixFQUFBejNDLEdBQ0EseUJBQUE3QyxNQUFBMDlELGdCQUFBcGpCLEVBQUF6M0MsSUFHQWczQixFQUFBdDZCLFVBQUE2Z0UsV0FBQSxXQUNBLEdBQUF1RSxHQUFBM2tFLEtBQUFVLE1BQUF3K0QsT0FDQUEsRUFBQXJoRSxTQUFBOG1FLEtBQWlEQSxDQUVqRCxZQUFBekYsSUFHQXJsQyxFQUFBdDZCLFVBQUFpQixPQUFBLFdBQ0EsR0FBQWc5QyxHQUFBeDlDLEtBRUFVLEVBQUFWLEtBQUFVLE1BQ0FDLEVBQUFELEVBQUFDLFVBRUFHLEVBQUFKLEVBQUFDLFNBQ0FELEdBQUFJLFlBQ0FBLEdBQUEsSUFBQUosRUFBQUksWUFFQUosRUFBQWtnRCxnQkFBQWxnRCxFQUFBdytELFFBQUF4K0QsRUFBQXcrRCxPQUFBaGpELEtBQ0FwYixHQUFBLElBQUFILEVBQUEsaUJBR0FHLEdBREEsU0FBQWQsS0FBQXdrRSxlQUNBLElBQUE3akUsRUFBQSx5QkFBQUEsRUFBQSx5QkFFQSxJQUFBQSxFQUFBLG9CQUFBWCxLQUFBd2tFLGNBR0EsSUFBQUksR0FBQTVrRSxLQUFBNi9ELGNBQUExRSxxQkFBQXo2RCxFQUFBdytELE9BQUFyOEMsR0FBQW5pQixFQUFBdytELE9BQUFoakQsRUFFQSs3QyxHQUFBajRELEtBQUFxaUUsVUFBa0N2b0IsUUFBQTk1QyxLQUFBNi9ELGNBQUFyRSxtQkFBK0N4N0QsS0FBQW9rRSxlQUFBcGtFLEtBQUFpa0UsYUFFakZZLEVBQUFELEVBQUFqbUUsRUFBQSxXQUFBMEMsY0FDQSxPQUNPUCxVQUFBSCxFQUFBLFdBQ1BzM0QsR0FDQUEsQ0FFQSxPQUFBdDVELEdBQUEsV0FBQTBDLGNBQ0EsT0FDTzRtRCxJQUFBLFNBQUFuRSxHQUNQLE1BQUF0RyxHQUFBNGdCLFVBQUF0YSxHQUNTaGpELFlBQUFGLE1BQUFGLEVBQUFFLE9BQ1RaLEtBQUErakUsV0FDQXBsRSxFQUFBLFdBQUEwQyxjQUNBLE9BQ1NQLFVBQUFILEVBQUEsWUFDVGtrRSxFQUNBN2tFLEtBQUE2L0QsY0FBQXhFLHlCQUFBMThELEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQUgsRUFBQSxlQUNYWCxLQUFBb2lFLHFCQUVBcGlFLEtBQUE2L0QsY0FBQXZFLDBCQUFBMzhELEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQUgsRUFBQSxnQkFDWFgsS0FBQXNpRSx5QkFNQXpvQyxHQUNDbDdCLEVBQUEsV0FBQTJDLFVBRUR1NEIsR0FBQWp1QixXQUNBMFcsS0FBQTVqQixFQUFBbU4sVUFBQXRILE1BQ0E2N0MsaUJBQUExaEQsRUFBQW1OLFVBQUFFLEtBQ0FnMEQscUJBQUFyaEUsRUFBQW1OLFVBQUFFLEtBQ0E2ekQsZ0JBQUFsaEUsRUFBQW1OLFVBQUF0SCxNQUNBeTdELHVCQUFBdGhFLEVBQUFtTixVQUFBdEgsTUFDQXE4QyxlQUFBbGlELEVBQUFtTixVQUFBRSxLQUNBK3RDLFFBQUFwN0MsRUFBQW1OLFVBQUF0SCxNQUNBNUQsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQXkrRCxVQUFBaGtFLEVBQUFtTixVQUFBeWlDLE9BQ0ExdEMsTUFBQWxDLEVBQUFtTixVQUFBeWlDLE9BQ0E4TSxPQUFBMThDLEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUE1SCxPQUFBdkYsRUFBQW1OLFVBQUF3TCxPQUNBOHBELGFBQUF6aUUsRUFBQW1OLFVBQUF3TCxLQUNBZ3FELHFCQUFBM2lFLEVBQUFtTixVQUFBd0wsS0FDQXlvQyxtQkFBQXBoRCxFQUFBbU4sVUFBQTVILE9BQ0EwNEQsU0FBQWorRCxFQUFBbU4sVUFBQXdMLEtBQ0F5bUQscUJBQUFwL0QsRUFBQW1OLFVBQUF3TCxLQUNBd3BDLFdBQUFuaUQsRUFBQW1OLFVBQUF3RixPQUNBaXdELFdBQUE1aUUsRUFBQW1OLFVBQUF3TCxLQUNBa3FELGlCQUFBN2lFLEVBQUFtTixVQUFBd0wsS0FDQW1wQyxzQkFBQTloRCxFQUFBbU4sVUFBQXdGLE9BQ0E2dUMsV0FBQXhoRCxFQUFBbU4sVUFBQUUsS0FDQXF5QyxNQUFBMS9DLEVBQUFtTixVQUFBd0wsS0FDQThzRCxPQUFBemxFLEVBQUFtTixVQUFBd0wsS0FDQTBoQyxVQUFBcjZDLEVBQUFtTixVQUFBd0wsS0FDQTZuRCxPQUFBeGdFLEVBQUFtTixVQUFBeWlDLE9BQ0E4eUIsT0FBQTFpRSxFQUFBbU4sVUFBQXdMLEtBQ0FvckQsZUFBQS9qRSxFQUFBbU4sVUFBQXdMLEtBQ0F4VyxTQUFBbkMsRUFBQW1OLFVBQUFpNEMsTUFFQWpxQixFQUFBcjRCLGNBQ0E4Z0IsUUFDQXMrQixnQkFBQSxFQUNBUixrQkFBQSxFQUNBMmYsc0JBQUEsRUFDQUMsMEJBQ0E1a0IsT0FBQSxNQUNBK2xCLGFBQUEsV0FDQSxVQUVBRSxxQkFBQSxXQUNBLFVBRUExRSxTQUFBLGFBQ0FtQixxQkFBQSxhQUNBd0QsV0FBQSxhQUNBQyxpQkFBQSxhQUVBNWdFLFVBQUEsV0FDQStoRSxhQUNBOWhFLFNBQ0FrL0MsbUJBQUEsV0FDQWUsV0FBQSxHQUNBTCxzQkFBQSxFQUNBTixZQUFBLEVBQ0FnZixVQUNBa0MsT0FBQSxXQUNBLGFBRUFxQixlQUFBLFNBQUFqN0QsR0FDQSxNQUFBQSxJQUVBdXhDLFVBQUEsV0FDQSxrQkFHQTM3QyxFQUFBLFdBQUF5OEIsRUFDQTE4QixFQUFBQyxVQUFBLFlsRXF5WE0wbkUsSUFDQSxTQUFTM25FLEVBQVFDLEVBQVNDLEdtRWpvWmhDLFlBY0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUE4ckMsR0FBQTlyQyxFQUFBdW5CLEdBQW9GLE9BQWpEN2UsR0FBQXZJLE9BQUE0ckMsb0JBQUF4a0IsR0FBaURsbEIsRUFBQSxFQUFnQkEsRUFBQXFHLEVBQUFwRyxPQUFpQkQsSUFBQSxDQUFPLEdBQUFnQyxHQUFBcUUsRUFBQXJHLEdBQW1CaEMsRUFBQUYsT0FBQTZyQyx5QkFBQXprQixFQUFBbGpCLEVBQTREaEUsTUFBQTRyQyxjQUFBM3JDLFNBQUFOLEVBQUFxRSxJQUE2RGxFLE9BQUFDLGVBQUFKLEVBQUFxRSxFQUFBaEUsR0FBNEMsTUFBQUwsR0FFcFQsUUFBQWtzQyxHQUFBQyxFQUFBQyxHQUFpRCxLQUFBRCxZQUFBQyxJQUEwQyxTQUFBQyxXQUFBLHFDQUUzRixRQUFBQyxHQUFBQyxFQUFBcnFDLEdBQWlELElBQUFxcUMsRUFBYSxTQUFBQyxnQkFBQSw0REFBeUYsUUFBQXRxQyxHQUFBLGdCQUFBQSxJQUFBLGtCQUFBQSxHQUFBcXFDLEVBQUFycUMsRUFFdkosUUFBQXVxQyxHQUFBQyxFQUFBQyxHQUEwQyxxQkFBQUEsSUFBQSxPQUFBQSxFQUErRCxTQUFBTixXQUFBLGlFQUFBTSxHQUF1R0QsR0FBQTFxQyxVQUFBN0IsT0FBQXlzQyxPQUFBRCxLQUFBM3FDLFdBQXlFK0ssYUFBZTFNLE1BQUFxc0MsRUFBQUcsWUFBQSxFQUFBQyxVQUFBLEVBQUFiLGNBQUEsS0FBNkVVLElBQUF4c0MsT0FBQTRzQyxlQUFBNXNDLE9BQUE0c0MsZUFBQUwsRUFBQUMsR0FBQWIsRUFBQVksRUFBQUMsSUFwQnJYeHNDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFjLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFxbUUsRUFBQTFuRSxFQUFBLEtBRUEybkUsRUFBQTFuRSxFQUFBeW5FLEdBWUFFLEVBQUEsU0FBQWxsRSxHQUdBLFFBQUFrbEUsS0FDQSxHQUFBQyxHQUFBMzVCLEVBQUF1akIsQ0FFQXJsQixHQUFBenBDLEtBQUFpbEUsRUFFQSxRQUFBN2tFLEdBQUFGLFVBQUFMLE9BQUFRLEVBQUFDLE1BQUFGLEdBQUFHLEVBQUEsRUFBbUVBLEVBQUFILEVBQWFHLElBQ2hGRixFQUFBRSxHQUFBTCxVQUFBSyxFQUdBLE9BQUEya0UsR0FBQTM1QixFQUFBMUIsRUFBQTdwQyxLQUFBRCxFQUFBTixLQUFBUSxNQUFBRixHQUFBQyxNQUFBeUQsT0FBQXBELEtBQUFrckMsRUFBQTQ1QixZQUFBLFNBQUEvbEUsR0FDQSxHQUFBZ21FLEdBQUE3NUIsRUFBQTdxQyxNQUNBNDVDLEVBQUE4cUIsRUFBQTlxQixPQUNBb2dCLEVBQUEwSyxFQUFBN3JCLE9BQUFtaEIsV0FFQUEsSUFDQUEsRUFBQXBnQixFQUFBbDdDLElBTkEwdkQsRUFRS29XLEVBQUFyN0IsRUFBQTBCLEVBQUF1akIsR0F5RUwsTUE1RkE5a0IsR0FBQWk3QixFQUFBbGxFLEdBc0JBa2xFLEVBQUExbEUsVUFBQThsRSx3QkFBQSxTQUFBemlCLEdBQ0EsTUFBQUEsS0FBQWprRCxFQUFBLFdBQUF1bEQsZUFBQXRCLElBQUEsb0JBQUFsbEQsT0FBQTZCLFVBQUFxTixTQUFBbk4sS0FBQW1qRCxJQUdBcWlCLEVBQUExbEUsVUFBQWlCLE9BQUEsUUFBQUEsS0FDQSxHQUFBcUssR0FBQTdLLEtBQUFVLE1BQ0E0NUMsRUFBQXp2QyxFQUFBeXZDLE9BQ0F1RyxFQUFBaDJDLEVBQUFnMkMsV0FDQWxnRCxFQUFBa0ssRUFBQWxLLFVBQ0FvZ0UsRUFBQWwyRCxFQUFBazJELE9BQ0FsK0QsRUFBQWdJLEVBQUFoSSxNQUNBeWlFLEVBQUF6NkQsRUFBQXk2RCxXQUNBL3JCLEVBQUExdUMsRUFBQTB1QyxPQUNBOEUsRUFBQTlFLEVBQUE4RSxVQUNBNzlDLEVBQUErNEMsRUFBQS80QyxPQUNBK2tFLEVBQUFoc0IsRUFBQXo0QyxVQUNBQSxFQUFBakQsU0FBQTBuRSxFQUFBLEdBQUFBLEVBS0EzaUIsRUFBQSxNQUVBQSxHQURBLGdCQUFBdkUsSUFDQSxFQUFBMm1CLEVBQUEsWUFBQTFxQixFQUFBK0QsR0FDS0EsR0FBQSxJQUFBQSxFQUFBeCtDLFFBR0wsRUFBQW1sRSxFQUFBLFlBQUExcUIsRUFBQStELEdBRkEvRCxDQUlBLElBQUFrckIsR0FBQSxPQUNBL0ssRUFBQSxPQUNBMkIsRUFBQSxNQUVBNTdELEtBQ0FvaUQsRUFBQXBpRCxFQUFBb2lELEVBQUF0SSxFQUFBejNDLEdBQ0E3QyxLQUFBcWxFLHdCQUFBemlCLEtBQ0E0aUIsRUFBQTVpQixFQUFBbGlELFVBQ0EwN0QsRUFBQW9KLEVBQUFwSixRQUNBM0IsRUFBQStLLEVBQUEvSyxRQUNBN1gsSUFBQS9oRCxXQUtBYixLQUFBcWxFLHdCQUFBemlCLEtBQ0FBLEVBQUEsS0FHQSxJQUFBNmlCLEdBQUFILEVBQUEzbUUsRUFBQSxXQUFBMEMsY0FBQSxRQUNBVCxPQUFjOGtFLFlBQUE3a0IsRUFBQWtnQixFQUFBLE1BQ2RqZ0UsVUFBQUgsRUFBQSx3QkFBQW9nRSxJQUNLLElBRUwsWUFBQTNFLEdBQUEsSUFBQTNCLEVBQ0EsS0FFQTk3RCxFQUFBLFdBQUEwQyxjQUNBLE1BRUFvNUQsVUFDQTJCLFVBQ0F0N0QsWUFDQWd5QyxRQUFBOXlDLEtBQUFtbEUsYUFFQU0sRUFDQUgsRUFDQTFpQixJQUlBcWlCLEdBQ0N0bUUsRUFBQSxXQUFBMkMsVUFFRDJqRSxHQUFBcjVELFdBQ0EwdUMsT0FBQTU3QyxFQUFBbU4sVUFBQXlpQyxPQUNBM3RDLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0FwQixNQUFBbkUsRUFBQW1OLFVBQUF3RixPQUNBMHZELE9BQUFyaUUsRUFBQW1OLFVBQUF3RixPQUNBd3ZDLFdBQUFuaUQsRUFBQW1OLFVBQUF3RixPQUNBa29DLE9BQUE3NkMsRUFBQW1OLFVBQUF5aUMsT0FDQWczQixXQUFBNW1FLEVBQUFtTixVQUFBaTRDLE1BRUExbUQsRUFBQSxXQUFBNm5FLEVBQ0E5bkUsRUFBQUMsVUFBQSxZbkV1b1pNdW9FLElBQ0EsU0FBU3hvRSxFQUFRQyxFQUFTQyxHb0Uxd1poQyxZQWdCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQThyQyxHQUFBOXJDLEVBQUF1bkIsR0FBb0YsT0FBakQ3ZSxHQUFBdkksT0FBQTRyQyxvQkFBQXhrQixHQUFpRGxsQixFQUFBLEVBQWdCQSxFQUFBcUcsRUFBQXBHLE9BQWlCRCxJQUFBLENBQU8sR0FBQWdDLEdBQUFxRSxFQUFBckcsR0FBbUJoQyxFQUFBRixPQUFBNnJDLHlCQUFBemtCLEVBQUFsakIsRUFBNERoRSxNQUFBNHJDLGNBQUEzckMsU0FBQU4sRUFBQXFFLElBQTZEbEUsT0FBQUMsZUFBQUosRUFBQXFFLEVBQUFoRSxHQUE0QyxNQUFBTCxHQUVwVCxRQUFBa3NDLEdBQUFDLEVBQUFDLEdBQWlELEtBQUFELFlBQUFDLElBQTBDLFNBQUFDLFdBQUEscUNBRTNGLFFBQUFDLEdBQUFDLEVBQUFycUMsR0FBaUQsSUFBQXFxQyxFQUFhLFNBQUFDLGdCQUFBLDREQUF5RixRQUFBdHFDLEdBQUEsZ0JBQUFBLElBQUEsa0JBQUFBLEdBQUFxcUMsRUFBQXJxQyxFQUV2SixRQUFBdXFDLEdBQUFDLEVBQUFDLEdBQTBDLHFCQUFBQSxJQUFBLE9BQUFBLEVBQStELFNBQUFOLFdBQUEsaUVBQUFNLEdBQXVHRCxHQUFBMXFDLFVBQUE3QixPQUFBeXNDLE9BQUFELEtBQUEzcUMsV0FBeUUrSyxhQUFlMU0sTUFBQXFzQyxFQUFBRyxZQUFBLEVBQUFDLFVBQUEsRUFBQWIsY0FBQSxLQUE2RVUsSUFBQXhzQyxPQUFBNHNDLGVBQUE1c0MsT0FBQTRzQyxlQUFBTCxFQUFBQyxHQUFBYixFQUFBWSxFQUFBQyxJQXRCclh4c0MsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTRzQyxHQUFBOXNDLE9BQUErc0MsUUFBQSxTQUFBM2pDLEdBQW1ELE9BQUFsSCxHQUFBLEVBQWdCQSxFQUFBTSxVQUFBTCxPQUFzQkQsSUFBQSxDQUFPLEdBQUEyVCxHQUFBclQsVUFBQU4sRUFBMkIsUUFBQWdDLEtBQUEyUixHQUEwQjdWLE9BQUE2QixVQUFBQyxlQUFBQyxLQUFBOFQsRUFBQTNSLEtBQXlEa0YsRUFBQWxGLEdBQUEyUixFQUFBM1IsSUFBaUMsTUFBQWtGLElBRS9PcEksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQTY5RCxFQUFBbC9ELEVBQUEsSUFFQW0vRCxFQUFBbC9ELEVBQUFpL0QsR0FZQXFKLEVBQUEsU0FBQTdsRSxHQUdBLFFBQUE2bEUsS0FHQSxNQUZBbjhCLEdBQUF6cEMsS0FBQTRsRSxHQUVBLzdCLEVBQUE3cEMsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUE0QkEsTUFqQ0E4cEMsR0FBQTQ3QixFQUFBN2xFLEdBUUE2bEUsRUFBQXJtRSxVQUFBWSxzQkFBQSxTQUFBZ3RDLEdBQ0EsVUFBQXF2QixFQUFBLFlBQUFydkIsRUFBQW50QyxLQUFBVSxRQUdBa2xFLEVBQUFybUUsVUFBQWlCLE9BQUEsV0FDQSxHQUFBcUssR0FBQTdLLEtBQUFVLE1BQ0FDLEVBQUFrSyxFQUFBbEssVUFDQWdnRSxFQUFBOTFELEVBQUE4MUQsU0FDQTFFLEVBQUFweEQsRUFBQW94RCxJQUVBLE9BQUF0OUQsR0FBQSxXQUFBMEMsY0FDQSxTQUNPUCxVQUFBSCxFQUFBLFVBQ1BzN0QsRUFBQTl1RCxJQUFBLFNBQUE4dkMsRUFBQXA2QyxHQUNBLE1BQUFsRSxHQUFBLFdBQUEwQyxjQUNBLE1BQ1dPLElBQUFpQixFQUFBakMsTUFBQSsvRCxHQUNYMWpCLEVBQUE5dkMsSUFBQSxTQUFBMDRELEVBQUFqbUUsR0FDQSxNQUFBakIsR0FBQSxXQUFBMEMsY0FBQSxLQUFBbXBDLEtBQXFFcTdCLEdBQWNqa0UsSUFBQWhDLFlBT25GZ21FLEdBQ0NqbkUsRUFBQSxXQUFBMkMsVUFFRHNrRSxHQUFBaDZELFdBQ0FqTCxVQUFBakMsRUFBQW1OLFVBQUE1SCxPQUNBMDhELFNBQUFqaUUsRUFBQW1OLFVBQUF5aUMsT0FDQTJ0QixLQUFBdjlELEVBQUFtTixVQUFBdEgsT0FFQW5ILEVBQUEsV0FBQXdvRSxFQUNBem9FLEVBQUFDLFVBQUEsWXBFZ3haTTBvRSxJQUNBLFNBQVMzb0UsRUFBUUMsRUFBU0MsR3FFdDFaaEMsWUFrQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUE4ckMsR0FBQTlyQyxFQUFBdW5CLEdBQW9GLE9BQWpEN2UsR0FBQXZJLE9BQUE0ckMsb0JBQUF4a0IsR0FBaURsbEIsRUFBQSxFQUFnQkEsRUFBQXFHLEVBQUFwRyxPQUFpQkQsSUFBQSxDQUFPLEdBQUFnQyxHQUFBcUUsRUFBQXJHLEdBQW1CaEMsRUFBQUYsT0FBQTZyQyx5QkFBQXprQixFQUFBbGpCLEVBQTREaEUsTUFBQTRyQyxjQUFBM3JDLFNBQUFOLEVBQUFxRSxJQUE2RGxFLE9BQUFDLGVBQUFKLEVBQUFxRSxFQUFBaEUsR0FBNEMsTUFBQUwsR0FFcFQsUUFBQWtzQyxHQUFBQyxFQUFBQyxHQUFpRCxLQUFBRCxZQUFBQyxJQUEwQyxTQUFBQyxXQUFBLHFDQUUzRixRQUFBQyxHQUFBQyxFQUFBcnFDLEdBQWlELElBQUFxcUMsRUFBYSxTQUFBQyxnQkFBQSw0REFBeUYsUUFBQXRxQyxHQUFBLGdCQUFBQSxJQUFBLGtCQUFBQSxHQUFBcXFDLEVBQUFycUMsRUFFdkosUUFBQXVxQyxHQUFBQyxFQUFBQyxHQUEwQyxxQkFBQUEsSUFBQSxPQUFBQSxFQUErRCxTQUFBTixXQUFBLGlFQUFBTSxHQUF1R0QsR0FBQTFxQyxVQUFBN0IsT0FBQXlzQyxPQUFBRCxLQUFBM3FDLFdBQXlFK0ssYUFBZTFNLE1BQUFxc0MsRUFBQUcsWUFBQSxFQUFBQyxVQUFBLEVBQUFiLGNBQUEsS0FBNkVVLElBQUF4c0MsT0FBQTRzQyxlQUFBNXNDLE9BQUE0c0MsZUFBQUwsRUFBQUMsR0FBQWIsRUFBQVksRUFBQUMsSUF4QnJYeHNDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFjLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFxbkUsRUFBQTFvRSxFQUFBLEtBRUEyb0UsRUFBQTFvRSxFQUFBeW9FLEdBRUFFLEVBQUE1b0UsRUFBQSxLQUVBNm9FLEVBQUE1b0UsRUFBQTJvRSxHQVlBRSxFQUFBLFNBQUFwbUUsR0FHQSxRQUFBb21FLEtBQ0EsR0FBQWpCLEdBQUEzNUIsRUFBQXVqQixDQUVBcmxCLEdBQUF6cEMsS0FBQW1tRSxFQUVBLFFBQUEvbEUsR0FBQUYsVUFBQUwsT0FBQVEsRUFBQUMsTUFBQUYsR0FBQUcsRUFBQSxFQUFtRUEsRUFBQUgsRUFBYUcsSUFDaEZGLEVBQUFFLEdBQUFMLFVBQUFLLEVBR0EsT0FBQTJrRSxHQUFBMzVCLEVBQUExQixFQUFBN3BDLEtBQUFELEVBQUFOLEtBQUFRLE1BQUFGLEdBQUFDLE1BQUF5RCxPQUFBcEQsS0FBQWtyQyxFQUFBcUcsT0FDQXcwQixTQUFBLEdBQ0s3NkIsRUFBQSsxQixXQUFBLFNBQUE1TixHQUNMLEdBQUEwUixHQUFBNzVCLEVBQUE3cUMsTUFDQTQ1QyxFQUFBOHFCLEVBQUE5cUIsT0FDQXozQyxFQUFBdWlFLEVBQUF2aUUsTUFDQXkrRCxFQUFBOEQsRUFBQTlELFdBQ0E1RSxFQUFBMEksRUFBQTFJLFdBQ0F1RSxFQUFBbUUsRUFBQW5FLGlCQUNBcEUsRUFBQXVJLEVBQUF2SSxTQUNBRixFQUFBeUksRUFBQXpJLFFBRUFELElBQUF1RSxHQUNBdEUsR0FBQUUsRUFBQXZpQixFQUFBb1osRUFBQTd3RCxHQUVBeStELEVBQUFobkIsRUFBQXozQyxFQUFBNndELElBQ0tub0IsRUFBQWcyQixpQkFBQSxTQUFBN04sR0FDTCxHQUFBMlMsR0FBQTk2QixFQUFBN3FDLE1BQ0E0NUMsRUFBQStyQixFQUFBL3JCLE9BQ0F6M0MsRUFBQXdqRSxFQUFBeGpFLE1BQ0EwK0QsRUFBQThFLEVBQUE5RSxnQkFFQUEsR0FBQWpuQixFQUFBejNDLEVBQUE2d0QsSUFDS25vQixFQUFBdnFDLGFBQUEsV0FDTCxHQUFBc2xFLEdBQUEvNkIsRUFBQTdxQyxNQUNBa2hFLEVBQUEwRSxFQUFBMUUsUUFDQUUsRUFBQXdFLEVBQUF4RSxRQUVBRixJQUFBLEVBQUFFLElBQ0t2MkIsRUFBQXRxQyxhQUFBLFdBQ0wsR0FBQXNsRSxHQUFBaDdCLEVBQUE3cUMsTUFDQWtoRSxFQUFBMkUsRUFBQTNFLFFBQ0FFLEVBQUF5RSxFQUFBekUsUUFFQUYsSUFBQSxFQUFBRSxJQWxDQWhULEVBbUNLb1csRUFBQXI3QixFQUFBMEIsRUFBQXVqQixHQTRHTCxNQTFKQTlrQixHQUFBbThCLEVBQUFwbUUsR0FpREFvbUUsRUFBQTVtRSxVQUFBeXRDLGtCQUFBLFdBQ0EsR0FBQUksR0FBQXB0QyxLQUVBNkssRUFBQTdLLEtBQUFVLE1BQ0F3MUMsRUFBQXJyQyxFQUFBcXJDLE1BQ0E0ckIsRUFBQWozRCxFQUFBaTNELFFBRUE5aEUsTUFBQWkyQyxZQUFBQyxFQUFBRixVQUFBLFdBQ0FFLEVBQUFHLFdBQUFzcEIsa0JBQUFtQyxFQUNBMTBCLEVBQUF5RSxVQUF5QnUwQixTQUFBLElBQ2xCaDVCLEVBQUF3RSxNQUFBdzBCLFdBQUEsR0FDUGg1QixFQUFBeUUsVUFBeUJ1MEIsU0FBQSxPQUt6QkQsRUFBQTVtRSxVQUFBMHVDLHFCQUFBLFdBQ0EsR0FBQWpqQyxHQUFBaEwsS0FBQVUsTUFDQTQ1QyxFQUFBdHZDLEVBQUFzdkMsT0FDQXVuQixFQUFBNzJELEVBQUE2MkQsVUFDQWgvRCxFQUFBbUksRUFBQW5JLEtBRUFnL0QsR0FBQXZuQixFQUFBejNDLEdBQ0E3QyxLQUFBaTJDLGFBQ0FqMkMsS0FBQWkyQyxlQUlBa3dCLEVBQUE1bUUsVUFBQWlCLE9BQUEsV0FDQSxHQUFBK2hFLEdBQUF2aUUsS0FBQVUsTUFDQUMsRUFBQTRoRSxFQUFBNWhFLFVBQ0FtNUMsRUFBQXlvQixFQUFBem9CLFFBQ0FRLEVBQUFpb0IsRUFBQWpvQixPQUNBZ2tCLEVBQUFpRSxFQUFBakUsT0FDQXZyQixFQUFBd3ZCLEVBQUF4dkIsUUFDQWx3QyxFQUFBMC9ELEVBQUExL0QsTUFDQTI5QyxFQUFBK2hCLEVBQUEvaEIsc0JBQ0FKLEVBQUFtaUIsRUFBQW5pQixpQkFDQXljLEVBQUEwRixFQUFBMUYsU0FDQW9FLEVBQUFzQixFQUFBdEIsaUJBQ0F2RSxFQUFBNkYsRUFBQTdGLFdBQ0FDLEVBQUE0RixFQUFBNUYsU0FDQUMsRUFBQTJGLEVBQUEzRixpQkFDQW1FLEVBQUF3QixFQUFBeEIsT0FDQWxnQixFQUFBMGhCLEVBQUExaEIsV0FDQS8vQyxFQUFBZCxLQUFBVSxNQUFBSSxTQUdBZCxNQUFBNHhDLE1BQUF3MEIsVUFDQXRsRSxHQUFBLElBQUFILEVBQUEsU0FjQSxRQVhBNmxFLE1BRUFsQixFQUFBM21FLEVBQUEsV0FBQTBDLGNBQUE2a0UsRUFBQSxZQUNBeEosYUFDQS83RCxZQUNBZzhELFdBQ0FDLG1CQUNBQyxXQUNBdmlCLFdBR0ExNkMsRUFBQSxFQUFtQkEsRUFBQWs2QyxFQUFBajZDLE9BQW9CRCxJQUFBLENBQ3ZDd2dELEdBQUEsSUFBQXhnRCxHQUNBNG1FLEVBQUE1aUUsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQ0EsTUFFQVAsVUFBQUgsRUFBQSxvQkFDQWlCLElBQUEsNkJBRUEwakUsR0FHQSxJQUFBbUIsSUFBQXJtQixJQUFBNmdCLEdBQUFyaEUsSUFBQTRnRCxDQUNBZ21CLEdBQUE1aUUsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQUEya0UsRUFBQSxZQUNBcmxFLFlBQ0EyNUMsU0FDQXVHLGFBQ0FrZ0IsU0FDQWwrRCxRQUNBMDJDLE9BQUFPLEVBQUFsNkMsR0FDQWdDLElBQUFrNEMsRUFBQWw2QyxHQUFBZ0MsSUFDQTBqRSxXQUFBbUIsRUFBQW5CLEVBQUEsUUFHQSxHQUFBMWtFLElBQWlCMDlELFNBS2pCLE9BSkF2ckIsS0FDQW55QyxFQUFBNDFELFFBQUEsUUFHQTczRCxFQUFBLFdBQUEwQyxjQUNBLE1BRUF5eEMsUUFBQTl5QyxLQUFBc2hFLFdBQ0FvRixjQUFBMW1FLEtBQUF1aEUsaUJBQ0F2Z0UsYUFBQWhCLEtBQUFnQixhQUNBQyxhQUFBakIsS0FBQWlCLGFBQ0FILFVBQUFILEVBQUEsSUFBQUcsRUFBQSxJQUFBSCxFQUFBLFVBQUFvZ0UsRUFDQW5nRSxTQUVBNGxFLElBSUFMLEdBQ0N4bkUsRUFBQSxXQUFBMkMsVUFFRDZrRSxHQUFBdjZELFdBQ0FpMkQsVUFBQW5qRSxFQUFBbU4sVUFBQXdMLEtBQ0FpcUQsV0FBQTVpRSxFQUFBbU4sVUFBQXdMLEtBQ0FrcUQsaUJBQUE3aUUsRUFBQW1OLFVBQUF3TCxLQUNBaWpDLE9BQUE1N0MsRUFBQW1OLFVBQUF5aUMsT0FDQTN0QyxVQUFBakMsRUFBQW1OLFVBQUE1SCxPQUNBdThDLHNCQUFBOWhELEVBQUFtTixVQUFBd0YsT0FDQXV3RCxRQUFBbGpFLEVBQUFtTixVQUFBd0wsS0FDQXlpQyxRQUFBcDdDLEVBQUFtTixVQUFBdEgsTUFDQSs1RCxPQUFBNS9ELEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUE1SCxPQUFBdkYsRUFBQW1OLFVBQUF3RixTQUNBMGhDLFFBQUFyMEMsRUFBQW1OLFVBQUFFLEtBQ0FsSixNQUFBbkUsRUFBQW1OLFVBQUF3RixPQUNBeXdELFNBQUFwakUsRUFBQW1OLFVBQUFHLElBQ0E2d0QsU0FBQW4rRCxFQUFBbU4sVUFBQUUsS0FDQTJ3RCxXQUFBaCtELEVBQUFtTixVQUFBRyxJQUNBMndELFNBQUFqK0QsRUFBQW1OLFVBQUF3TCxLQUNBdWxELGlCQUFBbCtELEVBQUFtTixVQUFBRSxLQUNBakwsVUFBQXBDLEVBQUFtTixVQUFBNUgsT0FDQTg4RCxPQUFBcmlFLEVBQUFtTixVQUFBd0YsT0FDQXd2QyxXQUFBbmlELEVBQUFtTixVQUFBd0YsT0FDQSt1QyxpQkFBQTFoRCxFQUFBbU4sVUFBQUUsS0FDQWsxRCxpQkFBQXZpRSxFQUFBbU4sVUFBQUUsS0FDQW1xQyxNQUFBeDNDLEVBQUFtTixVQUFBeWlDLE9BQUEyRCxZQUVBazBCLEVBQUEza0UsY0FDQTgvRCxXQUFBLGFBQ0FDLGlCQUFBLGFBQ0FNLFVBQUEsYUFFQXJoQixzQkFBQSxFQUNBeWdCLGtCQUFBLEVBQ0FXLFFBQUEsY0FFQXhrRSxFQUFBLFdBQUErb0UsRUFDQWhwRSxFQUFBQyxVQUFBLFlyRTQxWk11cEUsSUFDQSxTQUFTeHBFLEVBQVFDLEdzRXpqYXZCLFlBU0EsU0FBQTJqRCxHQUFBQyxHQUlBLFFBQUFuUCxHQUFBb1AsR0FDQXJQLEVBQUFwSCxLQUF1Qm9ILEVBQUFxUCxFQUN2QixRQUFBcmhELEdBQUEsRUFBbUJBLEVBQUFzaEQsRUFBQXJoRCxPQUFzQkQsSUFDekNzaEQsRUFBQXRoRCxLQUlBLFFBQUF5MkMsS0FDQSxNQUFBekUsR0FHQSxRQUFBb0UsR0FBQW1MLEdBR0EsTUFGQUQsR0FBQXQ5QyxLQUFBdTlDLEdBRUEsV0FDQSxHQUFBdCtDLEdBQUFxK0MsRUFBQXhoRCxRQUFBeWhELEVBQ0FELEdBQUEza0IsT0FBQTE1QixFQUFBLElBbkJBLEdBQUErdUMsR0FBQW9QLEVBQ0FFLElBc0JBLFFBQ0FyUCxXQUNBd0UsV0FDQUwsYUFsQ0F0NEMsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTRzQyxHQUFBOXNDLE9BQUErc0MsUUFBQSxTQUFBM2pDLEdBQW1ELE9BQUFsSCxHQUFBLEVBQWdCQSxFQUFBTSxVQUFBTCxPQUFzQkQsSUFBQSxDQUFPLEdBQUEyVCxHQUFBclQsVUFBQU4sRUFBMkIsUUFBQWdDLEtBQUEyUixHQUEwQjdWLE9BQUE2QixVQUFBQyxlQUFBQyxLQUFBOFQsRUFBQTNSLEtBQXlEa0YsRUFBQWxGLEdBQUEyUixFQUFBM1IsSUFBaUMsTUFBQWtGLEdBRS9PMUosR0FBQSxXQUFBMmpELEVBK0JBNWpELEVBQUFDLFVBQUEsWXRFK2phTXdwRSxJQUNBLFNBQVN6cEUsRUFBUUMsRUFBU0MsR3VFdm1haEMsWUFhQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FhN0UsUUFBQTJsRSxLQUNBLHNCQUFBMzdELFdBQUEsbUJBQUFzekIsUUFDQSxRQUVBLElBQUFvb0MsRUFDQSxNQUFBQSxFQUVBLElBQUE0RCxHQUFBdC9ELFNBQUFsRyxjQUFBLE1BQ0EsUUFBQXlsRSxLQUFBQyxHQUNBQSxFQUFBdm5FLGVBQUFzbkUsS0FDQUQsRUFBQWptRSxNQUFBa21FLEdBQUFDLEVBQUFELEdBR0F2L0QsVUFBQUMsS0FBQTZ1RCxZQUFBd1EsRUFDQSxJQUFBOWUsR0FBQThlLEVBQUEvZSxZQUFBK2UsRUFBQWwvRCxXQUdBLE9BRkFKLFVBQUFDLEtBQUFnc0QsWUFBQXFULEdBQ0E1RCxFQUFBbGIsRUFJQSxRQUFBbVksR0FBQTdvRCxFQUFBMnZELEVBQUFDLEdBRUEsUUFBQUMsS0FDQSxHQUFBNTdELEdBQUF0TCxLQUNBSyxFQUFBSCxTQUVBRyxHQUFBLElBQUFBLEVBQUEsR0FBQThtRSxTQUNBOW1FLEVBQUEsR0FBQThtRSxTQUVBLElBQUFDLEdBQUEsV0FDQXI1QixFQUFBLEtBQ0FrNUIsR0FDQTV2RCxFQUFBcFgsTUFBQXFMLEVBQUFqTCxJQUdBZ25FLEVBQUFKLElBQUFsNUIsQ0FDQWtwQixjQUFBbHBCLEdBQ0FBLEVBQUE0QyxXQUFBeTJCLEVBQUFKLEdBQ0FLLEdBQ0Fod0QsRUFBQXBYLE1BQUFxTCxFQUFBakwsR0FsQkEsR0FBQTB0QyxHQUFBLE1BMkJBLE9BTkFtNUIsR0FBQW4yQixPQUFBLFdBQ0FoRCxJQUNBa3BCLGFBQUFscEIsR0FDQUEsRUFBQSxPQUdBbTVCLEVBSUEsUUFBQTVHLEdBQUFnSCxFQUFBejVELEVBQUF4TixHQUNBa25FLEVBQUExNUQsTUFDQSxFQUFBa3FDLEVBQUEsWUFBQXV2QixFQUFBejVELEVBQUF4TixHQUNBa25FLEVBQUExNUQsSUFBQXk1RCxHQS9FQTVwRSxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQThsRSxtQkFDQTlsRSxFQUFBOGlFLFdBQ0E5aUUsRUFBQWtqRSxhQUVBLElBQUF4b0IsR0FBQXo2QyxFQUFBLElBRUEwNkMsRUFBQXo2QyxFQUFBdzZDLEdBSUFtckIsRUFBQSxPQUdBOEQsR0FDQXhDLFNBQUEsV0FDQWlELElBQUEsVUFDQXpmLE1BQUEsT0FDQXVXLE9BQUEsT0FDQWh3RCxTQUFBLFVBc0RBaTVELE12RW1uYU1FLElBQ0EsU0FBU3RxRSxFQUFRQyxFQUFTQyxHd0Vqc2FoQyxZQVdBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBZ0YsR0FBQTFCLEdBQ0EsR0FBQTJCLEtBSUEsT0FIQTdELEdBQUEsV0FBQXlFLFNBQUFDLFFBQUF4QyxFQUFBLFNBQUFxRSxHQUNBMUMsRUFBQW9CLEtBQUFzQixLQUVBMUMsRUFoQkE5RSxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsSUFFQVIsRUFBQSxXQUFBbUYsQ0FFQSxJQUFBN0QsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsRUFXQXZCLEdBQUFDLFVBQUEsWXhFdXNhTXNxRSxJQUNBLFNBQVN2cUUsRUFBUUMsR3lFNXRhdkIsWUFFQU0sUUFBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBUUEsSUFBQStwRSxJQUlBQyxVQUFBLEVBSUEvZ0MsVUFBQSxFQUlBZ2hDLElBQUEsRUFJQUMsV0FBQSxHQUlBL2dDLE1BQUEsR0FJQWdoQyxNQUFBLEdBSUFDLEtBQUEsR0FJQUMsSUFBQSxHQUlBQyxNQUFBLEdBSUFDLFVBQUEsR0FJQTlULElBQUEsR0FJQStULE1BQUEsR0FJQUMsUUFBQSxHQUlBQyxVQUFBLEdBSUFDLElBQUEsR0FJQUMsS0FBQSxHQUlBQyxLQUFBLEdBSUFDLEdBQUEsR0FJQUMsTUFBQSxHQUlBelUsS0FBQSxHQUlBMFUsYUFBQSxHQUlBQyxPQUFBLEdBSUEvaEMsT0FBQSxHQUlBTCxLQUFBLEdBSUFxaUMsSUFBQSxHQUlBQyxJQUFBLEdBSUFDLE1BQUEsR0FJQUMsS0FBQSxHQUlBQyxLQUFBLEdBSUFDLElBQUEsR0FJQUMsTUFBQSxHQUlBQyxNQUFBLEdBSUEzaUMsS0FBQSxHQUlBNGlDLGNBQUEsR0FJQUMsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQW4yQyxFQUFBLEdBSUFuTixFQUFBLEdBSUF1akQsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQUMsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQTExQyxFQUFBLEdBSUFoWSxFQUFBLEdBSUEydEQsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQUMsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQUMsRUFBQSxHQUlBQyxFQUFBLEdBSUFDLEVBQUEsR0FJQXRrRCxFQUFBLEdBSUF1a0QsRUFBQSxHQUlBcDNDLEVBQUEsR0FJQXEzQyxFQUFBLEdBSUFDLEtBQUEsR0FJQUMsY0FBQSxHQUlBQyxhQUFBLEdBSUFDLFNBQUEsR0FJQUMsUUFBQSxHQUlBQyxRQUFBLEdBSUFDLFVBQUEsR0FJQUMsU0FBQSxJQUlBQyxTQUFBLElBSUFDLFFBQUEsSUFJQUMsVUFBQSxJQUlBQyxVQUFBLElBSUFDLFNBQUEsSUFJQUMsYUFBQSxJQUlBQyxTQUFBLElBSUFDLFVBQUEsSUFJQUMsV0FBQSxJQUlBQyxhQUFBLElBSUFDLEdBQUEsSUFJQUMsR0FBQSxJQUlBQyxHQUFBLElBSUFDLEdBQUEsSUFJQUMsR0FBQSxJQUlBQyxHQUFBLElBSUFDLEdBQUEsSUFJQUMsR0FBQSxJQUlBQyxHQUFBLElBSUFDLElBQUEsSUFJQUMsSUFBQSxJQUlBQyxJQUFBLElBSUFDLFFBQUEsSUFJQUMsVUFBQSxJQUlBQyxLQUFBLElBSUFDLE9BQUEsSUFJQUMsTUFBQSxJQUlBQyxPQUFBLElBSUFDLE1BQUEsSUFJQUMsV0FBQSxJQUlBQyxhQUFBLElBSUFDLG9CQUFBLElBSUFDLFVBQUEsSUFJQUMscUJBQUEsSUFJQUMsUUFBQSxJQUlBQyxZQUFBLElBSUFDLFFBQUEsSUFNQTVGLEdBQUE2Rix3QkFBQSxTQUFBcHVFLEdBQ0EsR0FBQW1yRCxHQUFBbnJELEVBQUFtckQsT0FDQSxJQUFBbnJELEVBQUFxdUUsU0FBQXJ1RSxFQUFBc3VFLFNBQUF0dUUsRUFBQXV1RSxTQUVBcGpCLEdBQUFvZCxFQUFBa0UsSUFBQXRoQixHQUFBb2QsRUFBQTZFLElBQ0EsUUFLQSxRQUFBamlCLEdBQ0EsSUFBQW9kLEdBQUFNLElBQ0EsSUFBQU4sR0FBQVEsVUFDQSxJQUFBUixHQUFBa0QsYUFDQSxJQUFBbEQsR0FBQUssS0FDQSxJQUFBTCxHQUFBelQsS0FDQSxJQUFBeVQsR0FBQVksSUFDQSxJQUFBWixHQUFBdFQsSUFDQSxJQUFBc1QsR0FBQWEsS0FDQSxJQUFBYixHQUFBa0IsT0FDQSxJQUFBbEIsR0FBQWMsS0FDQSxJQUFBZCxHQUFBMkYsWUFDQSxJQUFBM0YsR0FBQWdELEtBQ0EsSUFBQWhELEdBQUE4RSxRQUNBLElBQUE5RSxHQUFBRyxXQUNBLElBQUFILEdBQUFXLFVBQ0EsSUFBQVgsR0FBQVUsUUFDQSxJQUFBVixHQUFBTyxNQUNBLElBQUFQLEdBQUFpQixhQUNBLElBQUFqQixHQUFBZ0IsTUFDQSxJQUFBaEIsR0FBQUksTUFDQSxJQUFBSixHQUFBZSxHQUNBLElBQUFmLEdBQUEwRixRQUNBLElBQUExRixHQUFBaUQsY0FDQSxRQUNBLFNBQ0EsV0FPQWpELEVBQUFpRyxlQUFBLFNBQUFyakIsR0FDQSxHQUFBQSxHQUFBb2QsRUFBQWxoQyxNQUFBOGpCLEdBQUFvZCxFQUFBamhDLEtBQ0EsUUFHQSxJQUFBNmpCLEdBQUFvZCxFQUFBbUQsVUFBQXZnQixHQUFBb2QsRUFBQTZELGFBQ0EsUUFHQSxJQUFBamhCLEdBQUFvZCxFQUFBNEIsR0FBQWhmLEdBQUFvZCxFQUFBK0MsRUFDQSxRQUlBLElBQUE3dkMsT0FBQWd6QyxXQUFBNXFDLFVBQUF2akMsUUFBQSxvQkFBQTZxRCxFQUNBLFFBR0EsUUFBQUEsR0FDQSxJQUFBb2QsR0FBQVMsTUFDQSxJQUFBVCxHQUFBMkIsY0FDQSxJQUFBM0IsR0FBQThELFNBQ0EsSUFBQTlELEdBQUErRCxVQUNBLElBQUEvRCxHQUFBZ0UsV0FDQSxJQUFBaEUsR0FBQWlFLGFBQ0EsSUFBQWpFLEdBQUErRSxVQUNBLElBQUEvRSxHQUFBZ0YsS0FDQSxJQUFBaEYsR0FBQWlGLE9BQ0EsSUFBQWpGLEdBQUFrRixNQUNBLElBQUFsRixHQUFBbUYsT0FDQSxJQUFBbkYsR0FBQW9GLE1BQ0EsSUFBQXBGLEdBQUFxRixXQUNBLElBQUFyRixHQUFBc0YsYUFDQSxJQUFBdEYsR0FBQXVGLG9CQUNBLElBQUF2RixHQUFBd0YsVUFDQSxJQUFBeEYsR0FBQXlGLHFCQUNBLFFBQ0EsU0FDQSxXQUlBaHdFLEVBQUEsV0FBQXVxRSxFQUNBeHFFLEVBQUFDLFVBQUEsWXpFa3VhTTB3RSxJQUNBLFNBQVMzd0UsRUFBUUMsRUFBU0MsR0FFL0IsWUEwREEsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0F4RHZGRyxPQUFPQyxlQUFlUCxFQUFTLGNBQzdCUSxPQUFPLEdBR1QsSUFFSXUwQyxJQUZVOTBDLEVBQW9CLElBRXBCQSxFQUFvQixLQUU5QiswQyxFQUFXOTBDLEVBQXVCNjBDLEdBSWxDRSxHQUZVaDFDLEVBQW9CLElBRXRCQSxFQUFvQixLQUU1QmkxQyxFQUFTaDFDLEVBQXVCKzBDLEdBSWhDMDdCLEdBRlUxd0UsRUFBb0IsSUFFckJBLEVBQW9CLE1BRTdCMndFLEVBQVUxd0UsRUFBdUJ5d0UsR0FJakNyNkIsR0FGVXIyQyxFQUFvQixJQUVwQkEsRUFBb0IsS0FFOUJzMkMsRUFBV3IyQyxFQUF1Qm8yQyxHQUVsQzUxQyxFQUFZVCxFQUFvQixHQUVoQ1UsRUFBWVQsRUFBdUJRLEdBRW5DSSxFQUFtQmIsRUFBb0IsR0FFdkNjLEVBQW1CYixFQUF1QlksR0FFMUNFLEVBQThCZixFQUFvQixHQUVsRGdCLEVBQThCZixFQUF1QmMsR0FFckRFLEVBQWFqQixFQUFvQixHQUVqQ2tCLEVBQWFqQixFQUF1QmdCLEcwRTV4YnpDSSxFQUFBckIsRUFBQSxHMUVneWJLc0IsRUFBVXJCLEVBQXVCb0IsRzBFL3hidENnc0MsRUFBQXJ0QyxFQUFBLEcxRW15YktzdEMsRUFBYXJ0QyxFQUF1Qm90QyxHMEVseWJ6Q3VqQyxFQUFBNXdFLEVBQUEsSzFFc3liSzZ3RSxFQUFXNXdFLEVBQXVCMndFLEcwRW55YmpDRSxFMUV1eWJRLFNBQVVwdUUsRzBFcnlidEIsUUFBQW91RSxHQUFZenRFLElBQU8sRUFBQXZDLGNBQUE2QixLQUFBbXVFLEVBQUEsSUFBQTVpQyxJQUFBLEVBQUFsdEMsY0FBQTJCLEtBQ2ZELEVBQUFOLEtBQUFPLEtBQU1VLEdBRFM2cUMsR0FXbkI2aUMsYUFBZSxXQUNiLEdBQU05ckQsSUFDSityRCxRQUFTMWpDLGFBQVNzQyxZQUFZMUIsRUFBS29jLEtBQUsybUIsYUFBYTF3RSxNQUVuRDJ0QyxHQUFLN3FDLE1BQU02dEUsU0FDYmpzRCxFQUFLeU8sTUFBUXdhLEVBQUtxRyxNQUFNNDhCLGFBRTFCampDLEVBQUs3cUMsTUFBTW94RCxVQUFZdm1CLEVBQUs3cUMsTUFBTW94RCxTQUFTeHZDLElBbEIxQmlwQixFQW9CbkJrakMsa0JBQW9CLFNBQUFydkUsR0FDbEJtc0MsRUFBS3NHLFVBQUwsRUFBQTl6QyxpQkFDS3d0QyxFQUFLcUcsT0FDUjg4QixhQUFpQyxLQUFuQnR2RSxFQUFFMEgsT0FBT2xKLFVBdkJSMnRDLEVBMEJuQm9qQyxvQkFBc0IsU0FBQS93RSxHQUNwQjJ0QyxFQUFLc0csVUFBTCxFQUFBOXpDLGlCQUNLd3RDLEVBQUtxRyxPQUNSNDhCLFlBQWE1d0UsTUE3QkUydEMsRUFnQ25CcWpDLGlCQUFtQixXQUNqQmprQyxhQUFTc0MsWUFBWTFCLEVBQUtvYyxLQUFLMm1CLGFBQWExd0UsTUFBUSxHQUNwRDJ0QyxFQUFLc0csVUFDSDY4QixjQUFjLElBRWhCbmpDLEVBQUs2aUMsZUFyQ1ksSUFBQWhKLEdBRWlCNzVCLEVBQUs3cUMsTUFBN0I2dEUsRUFGT25KLEVBRVBtSixPQUFRTSxFQUZEekosRUFFQ3lKLFdBRkQsT0FHZnRqQyxHQUFLcUcsT0FDSDg4QixjQUFjLEVBQ2RGLFlBQWFELEdBQVVNLEVBQWNBLEVBQVkvOEIsYUFBZSxJQUxuRHZHLEUxRXkzYmxCLE9BbkZBLEVBQUlodEMsY0FBb0I0dkUsRUFBUXB1RSxHQWdEaENvdUUsRUFBTzV1RSxVMEUveWJSaUIsTzFFK3liMkIsVzBFL3liakIsR0FBQXFLLEdBQzJEN0ssS0FBS1UsTUFBakVxSyxFQURDRixFQUNERSxLQUFNd2pFLEVBREwxakUsRUFDSzBqRSxPQUFRTyxFQURiamtFLEVBQ2Fpa0UsY0FBZUQsRUFENUJoa0UsRUFDNEJna0UsWUFBYWp1RSxFQUR6Q2lLLEVBQ3lDakssTUFBT3l0RSxFQURoRHhqRSxFQUNnRHdqRSxRQUNqREssRUFBZ0IxdUUsS0FBSzR4QyxNQUFyQjg4QixZQUNQLE9BQ0UvdkUsY0FBQTBDLGNBQUEyc0UsYUFBT3pzRSxPQUFNd3RFLFNBQUEsRUFBUWhrRSxLQUFNQSxFQUFNakssVUFBV290RSxhQUFPYyxPQUFRcHVFLE1BQU9BLEdBQy9EMnRFLEdBQVU1dkUsYUFBQTBDLGNBQUFzeUMsY0FBQSxFQUFBNTFDLGVBQVFrcUQsSUFBSSxlQUFlcGIsU0FBVTdzQyxLQUFLMnVFLG9CQUFxQjVqRSxLQUFNQSxHQUFVOGpFLEdBQ3ZGQyxHQUFpQkEsRUFBYzNoRSxJQUFJLFNBQUM3SixFQUFNMUIsR0FBUCxNQUFlakQsY0FBQTBDLGNBQUFzeUMsYUFBUXBvQyxRQUFPM04sTUFBTzBGLEVBQUsxRixNQUFPZ0UsSUFBS0EsR0FBTTBCLEVBQUt1QyxNQUFRdkMsRUFBSzFGLFVBRXBIZSxhQUFBMEMsY0FBQTJzRSxjQUFPL2xCLElBQUksY0FBY2w5QyxLQUFNQSxFQUFNOGhDLFNBQVU3c0MsS0FBS3l1RSxrQkFBbUJRLGFBQWNqdkUsS0FBS291RSxhQUFjdDhCLGFBQWN1OEIsSUFDdEgxdkUsYUFBQTBDLGNBQUErd0M7QUFBUXJuQyxLQUFNQSxFQUFNeEgsS0FBSyxVQUFVdXZDLFFBQVM5eUMsS0FBS291RSxjQUFjenZFLGFBQUEwQyxjQUFBaXhDLGNBQU0vdUMsS0FBSyxXQUExRSxnQkFDQ21yRSxHQUFnQi92RSxhQUFBMEMsY0FBQWl4QyxjQUFNL3VDLEtBQUssUUFBUXV2QyxRQUFTOXlDLEtBQUs0dUUscUIxRXcwYmhEVCxHMEUzM2JXeHZFLGFBQU0yQyxVMUU4M2IxQmxFLGMwRXIwYmMrd0UsRTFFczBiZGh4RSxFQUFPQyxRQUFVQSxFQUFRLFlBSXBCOHhFLElBQ0EsU0FBUy94RSxFQUFRQyxFQUFTQyxHQUUvQixZQWdCQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQWR2RkcsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxHMkU5NGJWLElBQUFjLEdBQUFyQixFQUFBLEczRW01YktzQixFQUFVckIsRUFBdUJvQixHMkVsNWJ0Q3l3RSxFQUFBOXhFLEVBQUEsS0FDQSt4RSxFQUFBL3hFLEVBQUEsS0FFTWd5RSxHM0VxNWJvQi94RSxFQUF1Qjh4RSxLMkVuNWI3Q3J0QyxRQUFTLEVBQ1RsZixFQUFHLEdBQ0h5c0QsZ0JBQWlCLFVBQ2pCbG5ELFNBQVUsSUFFVmsyQyxPQUFRLEVBQ1JsMkMsU0FBVSxJQUNWN2tCLEtBQU0sT0FDTmdzRSxNQUFPLElBQ1BDLEtBQU0sY0FDTkMsV0FBWSxTQUFDcndFLEdBQ1hBLEVBQUUwSCxPQUFPbEcsTUFBTTA5RCxPQUFTLFVBRzFCdjhCLFFBQVMsRUFDVGxmLEVBQUcsRUFDSHVGLFNBQVUsSUFDVm9uRCxLQUFNLGdCQUVORCxNQUFPLElBQ1BELGdCQUFpQixVQUlmSSxJQUVGdG5ELFNBQVUsSUFDVnZGLE1BQ0FrZixRQUFTLElBRVR1OEIsT0FBUSxFQUNSbDJDLFNBQVUsSUFDVm9uRCxLQUFNLGdCQUlKRyxFQUFtQixTQUFBOXlCLEdBQWlDLEdBQTlCcjFDLEdBQThCcTFDLEVBQTlCcjFDLEtBQThCb29FLEVBQUEveUIsRUFBeEJ4VixPQUF3QnhwQyxTQUFBK3hFLEVBQWpCLEVBQWlCQSxFQUFkenZDLEVBQWMwYyxFQUFkMWMsT0FHMUMsT0FBR0EsS0FBWWtILEVBQ043L0IsRUFJUDdJLGFBQUEwQyxjQUFBOHRFLEVBQUFVLGVBQ0EzaEMsVUFBVSxRQUNWcHRDLFVBQVcwRyxFQUFLOUcsTUFBTUksVUFDdEJndkUsTUFBT1QsRUFDUFUsTUFBT0wsRUFDUE0sUUFBUSxHQUNMeG9FLEVBQUs5RyxNQUFNRyxVQUtsQjh1RSxHQUFpQi9qRSxXQUNmeTdCLEtBQU0zb0MsRUFBQW1OLFVBQVVHLElBQ2hCbTBCLFFBQVN6aEMsRUFBQW1OLFVBQVV3RixPQUFPNGdDLFkzRTY1YjNCNzBDLGEyRTE1YmN1eUUsRTNFMjViZHh5RSxFQUFPQyxRQUFVQSxFQUFRLFlBSXBCNnlFLElBQ0EsU0FBUzl5RSxFQUFRQyxFQUFTQyxHNEVsK2JoQyxZQWFBLFNBQUE2eUUsS0FDQWx3RSxLQUFBOHNDOzs7Ozs7OztBQThDQSxRQUFBcWpDLEdBQUFDLEVBQUFDLEVBQUFDLEdBRUEsSUFBQUEsR0FBQUMsRUFBQUgsSUFBQUcsRUFBQUYsR0FDQSxXQUVBLElBQUFHLEdBQUFGLEVBQUFqNkQsSUFBQSs1RCxFQUNBLElBQUFJLEVBQUEsQ0FDQSxHQUFBN3BFLEdBQUE2cEUsRUFBQW42RCxJQUFBZzZELEVBQ0EscUJBQUExcEUsR0FDQSxNQUFBQSxHQUdBOzs7Ozs7OztBQVdBLFFBQUE4cEUsR0FBQUwsRUFBQUMsRUFBQUMsRUFBQTNwRSxHQUVBLEdBQUEycEUsSUFBQUMsRUFBQUgsS0FBQUcsRUFBQUYsR0FBQSxDQUdBLEdBQUFHLEdBQUFGLEVBQUFqNkQsSUFBQSs1RCxFQUNBSSxHQUNBQSxFQUFBcjlELElBQUFrOUQsRUFBQTFwRSxJQUVBNnBFLEVBQUEsR0FBQUUsR0FDQUYsRUFBQXI5RCxJQUFBazlELEVBQUExcEUsR0FDQTJwRSxFQUFBbjlELElBQUFpOUQsRUFBQUksS0F1QkEsUUFBQUcsR0FBQVAsRUFBQUMsRUFBQXIrQixHQUVBLEdBQUFBLEtBQUE0K0IsV0FDQSxNQUFBQyxHQUFBVCxFQUFBQyxFQUFBcitCLEVBR0EsSUFBQTgrQixHQUFBQyxFQUFBWCxFQUFBQyxFQUNBLGVBQUFTLEVBQ0FBLEVBSUFELEVBQUFULEVBQUFDLEVBQUFyK0IsR0FTQSxRQUFBKytCLEdBQUFYLEVBQUFDLEdBRUEsTUFBQUQsS0FBQUMsRUFFQSxJQUFBRCxHQUFBLEVBQUFBLElBQUEsRUFBQUMsRUFLQUQsT0FDQUMsUUFPQUUsRUFBQUgsS0FBQUcsRUFBQUYsSUFJQTs7Ozs7Ozs7Ozs7O0FBZUEsUUFBQVEsR0FBQVQsRUFBQUMsRUFBQXIrQixHQUNBQSxRQUNBQSxFQUFBZy9CLFFBQUFoL0IsRUFBQWcvQixXQUFBLElBQUFoL0IsRUFBQWcvQixTQUFBLEdBQUFOLEdBQ0EsSUFBQUUsR0FBQTUrQixLQUFBNCtCLFdBR0FLLEVBQUFkLEVBQUFDLEVBQUFDLEVBQUFyK0IsRUFBQWcvQixRQUNBLFdBQUFDLEVBQ0EsTUFBQUEsRUFFQSxJQUFBQyxHQUFBZixFQUFBRSxFQUFBRCxFQUFBcCtCLEVBQUFnL0IsUUFDQSxXQUFBRSxFQUNBLE1BQUFBLEVBSUEsSUFBQU4sRUFBQSxDQUNBLEdBQUFPLEdBQUFQLEVBQUFSLEVBQUFDLEVBRUEsSUFBQWMsS0FBQSxHQUFBQSxLQUFBLEVBRUEsTUFEQVYsR0FBQUwsRUFBQUMsRUFBQXIrQixFQUFBZy9CLFFBQUFHLEdBQ0FBLENBSUEsSUFBQUwsR0FBQUMsRUFBQVgsRUFBQUMsRUFDQSxXQUFBUyxFQUVBLE1BQUFBLEdBSUEsR0FBQU0sR0FBQTd0RSxFQUFBNnNFLEVBQ0EsSUFBQWdCLElBQUE3dEUsRUFBQThzRSxHQUVBLE1BREFJLEdBQUFMLEVBQUFDLEVBQUFyK0IsRUFBQWcvQixTQUFBLElBQ0EsQ0FJQVAsR0FBQUwsRUFBQUMsRUFBQXIrQixFQUFBZy9CLFNBQUEsRUFFQSxJQUFBcnFFLEdBQUEwcUUsRUFBQWpCLEVBQUFDLEVBQUFlLEVBQUFwL0IsRUFFQSxPQURBeStCLEdBQUFMLEVBQUFDLEVBQUFyK0IsRUFBQWcvQixRQUFBcnFFLEdBQ0FBLEVBR0EsUUFBQTBxRSxHQUFBakIsRUFBQUMsRUFBQWUsRUFBQXAvQixHQUNBLE9BQUFvL0IsR0FDQSxhQUNBLGFBQ0EsY0FDQSxXQUVBLE1BQUFULEdBQUFQLEVBQUF6aUUsVUFBQTBpRSxFQUFBMWlFLFVBQ0EsZUFDQSxhQUNBLGVBQ0EsY0FDQSxjQUNBLFlBQ0EsTUFBQXlpRSxLQUFBQyxDQUNBLGlCQUNBLGdCQUNBLGlCQUNBLHdCQUNBLGlCQUNBLGtCQUNBLGlCQUNBLGtCQUNBLG1CQUNBLG1CQUNBLFlBQ0EsTUFBQWlCLEdBQUFsQixFQUFBQyxFQUFBcitCLEVBQ0EsY0FDQSxNQUFBdS9CLEdBQUFuQixFQUFBQyxFQUNBLGlCQUNBLE1BQUFtQixHQUFBcEIsRUFBQUMsRUFBQXIrQixFQUNBLGdCQUNBLE1BQUFzL0IsR0FBQSxHQUFBRyxZQUFBckIsRUFBQXNCLFFBQUEsR0FBQUQsWUFBQXBCLEVBQUFxQixRQUFBMS9CLEVBQ0EsbUJBQ0EsTUFBQXMvQixHQUFBLEdBQUFHLFlBQUFyQixHQUFBLEdBQUFxQixZQUFBcEIsR0FBQXIrQixFQUNBLFdBQ0EsTUFBQTIvQixHQUFBdkIsRUFBQUMsRUFBQXIrQixFQUNBLFdBQ0EsTUFBQTIvQixHQUFBdkIsRUFBQUMsRUFBQXIrQixFQUNBLFNBQ0EsTUFBQTNzQyxHQUFBK3FFLEVBQUFDLEVBQUFyK0I7Ozs7Ozs7QUFZQSxRQUFBdS9CLEdBQUFuQixFQUFBQyxHQUNBLE1BQUFELEdBQUF4akUsYUFBQXlqRSxFQUFBempFOzs7Ozs7OztBQVlBLFFBQUEra0UsR0FBQXZCLEVBQUFDLEVBQUFyK0IsR0FFQSxHQUFBbytCLEVBQUFybEUsT0FBQXNsRSxFQUFBdGxFLEtBQ0EsUUFFQSxRQUFBcWxFLEVBQUFybEUsS0FDQSxRQUVBLElBQUE2bUUsTUFDQUMsSUFPQSxPQU5BekIsR0FBQS9zRSxRQUFBLFNBQUF6QixFQUFBaEUsR0FDQWcwRSxFQUFBaHVFLE1BQUFoQyxFQUFBaEUsTUFFQXl5RSxFQUFBaHRFLFFBQUEsU0FBQXpCLEVBQUFoRSxHQUNBaTBFLEVBQUFqdUUsTUFBQWhDLEVBQUFoRSxNQUVBMHpFLEVBQUFNLEVBQUEzN0QsT0FBQTQ3RCxFQUFBNTdELE9BQUErN0I7Ozs7Ozs7O0FBWUEsUUFBQXMvQixHQUFBbEIsRUFBQUMsRUFBQXIrQixHQUNBLEdBQUFueUMsR0FBQXV3RSxFQUFBdndFLE1BQ0EsSUFBQUEsSUFBQXd3RSxFQUFBeHdFLE9BQ0EsUUFFQSxRQUFBQSxFQUNBLFFBR0EsS0FEQSxHQUFBZ0QsUUFDQUEsRUFBQWhELEdBQ0EsR0FBQTh3RSxFQUFBUCxFQUFBdnRFLEdBQUF3dEUsRUFBQXh0RSxHQUFBbXZDLE1BQUEsRUFDQSxRQUdBOzs7Ozs7OztBQVlBLFFBQUF3L0IsR0FBQXBCLEVBQUFDLEVBQUFyK0IsR0FDQSxNQUFBcy9CLEdBQUFRLEVBQUExQixHQUFBMEIsRUFBQXpCLEdBQUFyK0I7Ozs7OztBQVNBLFFBQUErL0IsR0FBQWpyRSxHQUNBLHlCQUFBc0QsU0FDQSxnQkFBQXRELElBQ0EsbUJBQUFzRCxRQUFBQyxVQUNBLGtCQUFBdkQsR0FBQXNELE9BQUFDOzs7Ozs7O0FBVUEsUUFBQTJuRSxHQUFBbHJFLEdBQ0EsR0FBQWlyRSxFQUFBanJFLEdBQ0EsSUFDQSxNQUFBZ3JFLEdBQUFockUsRUFBQXNELE9BQUFDLGFBQ0ssTUFBQTRuRSxHQUNMLFNBR0E7Ozs7OztBQVNBLFFBQUFILEdBQUFJLEdBR0EsSUFGQSxHQUFBQyxHQUFBRCxFQUFBN3JFLE9BQ0ErckUsR0FBQUQsRUFBQXYwRSxPQUNBdTBFLEVBQUFFLFFBQUEsR0FDQUYsRUFBQUQsRUFBQTdyRSxPQUNBK3JFLEVBQUF4dUUsS0FBQXV1RSxFQUFBdjBFLE1BRUEsT0FBQXcwRTs7Ozs7O0FBU0EsUUFBQUUsR0FBQXhyRSxHQUNBLEdBQUFiLEtBQ0EsUUFBQXJFLEtBQUFrRixHQUNBYixFQUFBckMsS0FBQWhDLEVBRUEsT0FBQXFFOzs7Ozs7Ozs7O0FBYUEsUUFBQXNzRSxHQUFBbkMsRUFBQUMsRUFBQXBxRSxFQUFBK3JDLEdBQ0EsR0FBQW55QyxHQUFBb0csRUFBQXBHLE1BQ0EsUUFBQUEsRUFDQSxRQUVBLFFBQUFELEdBQUEsRUFBaUJBLEVBQUFDLEVBQVlELEdBQUEsRUFDN0IsR0FBQSt3RSxFQUFBUCxFQUFBbnFFLEVBQUFyRyxJQUFBeXdFLEVBQUFwcUUsRUFBQXJHLElBQUFveUMsTUFBQSxFQUNBLFFBR0E7Ozs7Ozs7OztBQWFBLFFBQUEzc0MsR0FBQStxRSxFQUFBQyxFQUFBcitCLEdBQ0EsR0FBQXdnQyxHQUFBRixFQUFBbEMsR0FDQXFDLEVBQUFILEVBQUFqQyxFQUNBLElBQUFtQyxFQUFBM3lFLFFBQUEyeUUsRUFBQTN5RSxTQUFBNHlFLEVBQUE1eUUsT0FHQSxNQUZBMnlFLEdBQUF2OEQsT0FDQXc4RCxFQUFBeDhELE9BQ0FxN0QsRUFBQWtCLEVBQUFDLE1BQUEsR0FHQUYsRUFBQW5DLEVBQUFDLEVBQUFtQyxFQUFBeGdDLEVBR0EsSUFBQTBnQyxHQUFBVixFQUFBNUIsR0FDQXVDLEVBQUFYLEVBQUEzQixFQUNBLE9BQUFxQyxHQUFBN3lFLFFBQUE2eUUsRUFBQTd5RSxTQUFBOHlFLEVBQUE5eUUsUUFDQTZ5RSxFQUFBejhELE9BQ0EwOEQsRUFBQTE4RCxPQUNBcTdELEVBQUFvQixFQUFBQyxFQUFBM2dDLElBR0EsSUFBQXdnQyxFQUFBM3lFLFFBQ0EsSUFBQTZ5RSxFQUFBN3lFLFFBQ0EsSUFBQTR5RSxFQUFBNXlFLFFBQ0EsSUFBQTh5RSxFQUFBOXlFOzs7Ozs7Ozs7QUFnQkEsUUFBQTB3RSxHQUFBM3lFLEdBQ0EsY0FBQUEsR0FBQSxnQkFBQUE7Ozs7Ozs7O0FBamRBLEdBQUEyRixHQUFBbEcsRUFBQSxJQUlBNnlFLEdBQUEzd0UsV0FDQXV0QyxNQUFBLFdBR0EsTUFGQTlzQyxNQUFBaUcsUUFDQWpHLEtBQUFxaUIsVUFDQXJpQixNQUVBbVQsSUFBQSxTQUFBdlIsRUFBQWhFLEdBQ0EsR0FBQWlGLEdBQUE3QyxLQUFBaUcsS0FBQXZHLFFBQUFrQyxFQU9BLE9BTkFpQixJQUFBLEVBQ0E3QyxLQUFBcWlCLE9BQUF4ZixHQUFBakYsR0FFQW9DLEtBQUFpRyxLQUFBckMsS0FBQWhDLEdBQ0E1QixLQUFBcWlCLE9BQUF6ZSxLQUFBaEcsSUFFQW9DLE1BRUFxVyxJQUFBLFNBQUF6VSxHQUNBLE1BQUE1QixNQUFBcWlCLE9BQUFyaUIsS0FBQWlHLEtBQUF2RyxRQUFBa0MsS0FFQWd4RSxTQUFBLFNBQUFoeEUsR0FDQSxHQUFBaUIsR0FBQTdDLEtBQUFpRyxLQUFBdkcsUUFBQWtDLEVBS0EsT0FKQWlCLElBQUEsSUFDQTdDLEtBQUFxaUIsT0FBQXJpQixLQUFBcWlCLE9BQUF4UCxNQUFBLEVBQUFoUSxHQUFBWSxPQUFBekQsS0FBQXFpQixPQUFBeFAsTUFBQWhRLEVBQUEsSUFDQTdDLEtBQUFpRyxLQUFBakcsS0FBQWlHLEtBQUE0TSxNQUFBLEVBQUFoUSxHQUFBWSxPQUFBekQsS0FBQWlHLEtBQUE0TSxNQUFBaFEsRUFBQSxLQUVBN0MsTUFJQSxJQUFBMHdFLEdBQUEsSUFFQUEsR0FEQSxrQkFBQW1DLFNBQ0FBLFFBRUEzQzs7O0FBcURBL3lFLEVBQUFDLFFBQUF1ekUsRUFDQXh6RSxFQUFBQyxRQUFBc3pFLGM1RWcyY01vQyxJQUNBLFNBQVMzMUUsRUFBUUMsRzZFdjhjdkJELEVBQUFDLFNBQWtCNHhFLE9BQUEsbUI3RTg4Y1orRCxJQUNOLEdBRU1DLElBQ0EsU0FBUzcxRSxFQUFRQyxFQUFTQyxHOEVuOWNoQyxZQTRCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FLN0UsUUFBQWd0QyxNQUdBLFFBQUEwb0MsR0FBQTd0RSxFQUFBME8sR0FDQSxPQUNBc1UsU0FBQWhqQixFQUFBZ2pCLFVBQUEsSUFBQWhqQixFQUFBZ2pCLFNBQUFoakIsRUFBQWdqQixTQUFBOHFELEVBQ0EzRCxNQUFBbnFFLEVBQUFtcUUsT0FBQTRELEVBQ0EzRCxLQUFBLGtCQUFBcHFFLEdBQUFvcUUsS0FBQXBxRSxFQUFBb3FFLEtBQUE0RCxFQUFBLFdBQUFodUUsRUFBQW9xRSxNQUFBNkQsR0FDQUMsU0FBQWx1RSxFQUFBa3VFLFVBQUEvb0MsRUFDQWtsQyxXQUFBcnFFLEVBQUFxcUUsWUFBQWxsQyxFQUNBZ3BDLFFBQUFudUUsRUFBQW11RSxTQUFBaHBDLEVBQ0FpcEMsU0FBQXB1RSxFQUFBb3VFLFVBQUFqcEMsRUFDQWtwQyxPQUFBcnVFLEVBQUFxdUUsUUFBQSxFQUNBQyxZQUFBdHVFLEVBQUFzdUUsYUFBQSxFQUNBQyxLQUFBdnVFLEVBQUF1dUUsT0FBQSxFQUNBcHdFLEtBQUE2QixFQUFBN0IsTUFBQSxLQUNBcXdFLFNBQUE5L0QsRUFDQSsvRCxTQUFBLGdCQUFBenVFLEdBQUF5dUUsU0FBQXp1RSxFQUFBeXVFLFNBQUEsTUFoREFuMkUsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQTRzQyxHQUFBOXNDLE9BQUErc0MsUUFBQSxTQUFBM2pDLEdBQW1ELE9BQUFsSCxHQUFBLEVBQWdCQSxFQUFBTSxVQUFBTCxPQUFzQkQsSUFBQSxDQUFPLEdBQUEyVCxHQUFBclQsVUFBQU4sRUFBMkIsUUFBQWdDLEtBQUEyUixHQUEwQjdWLE9BQUE2QixVQUFBQyxlQUFBQyxLQUFBOFQsRUFBQTNSLEtBQXlEa0YsRUFBQWxGLEdBQUEyUixFQUFBM1IsSUFBaUMsTUFBQWtGLElBTS9PZ3RFLEVBQUF6MkUsRUFBQSxJQUVBKzFFLEVBQUE5MUUsRUFBQXcyRSxHQUVBOW9DLEVBQUEzdEMsRUFBQSxJQUVBNHRDLEVBQUEzdEMsRUFBQTB0QyxHQUVBK29DLEVBQUExMkUsRUFBQSxLQUVBMjJFLEVBQUExMkUsRUFBQXkyRSxHQUVBbHBDLEVBQUF4dEMsRUFBQSxJQUVBdXRDLEVBQUF2dEMsRUFBQSxJQUlBZzJFLEVBQUEsZ0JBQ0FILEVBQUEsSUFDQUMsRUFBQSxDQUVBbG9DLEdBQUEsV0FBQXJuQyxLQUFBb3dFLEVBQUEsV0FvQkEsSUFBQXRvQyxHQUFBLFNBQUE1a0MsRUFBQW10RSxFQUFBdnpFLEdBQ0EsR0FBQTZxQyxHQUFBdnJDLElBRUFBLE1BQUE4RyxTQUNBOUcsS0FBQWtzQyxLQUFBeHJDLEVBQUF3ckMsTUFBQSxRQUNBbHNDLEtBQUFtc0MsV0FBQXpyQyxFQUFBeXJDLFdBRUFuc0MsS0FBQTJzQyxVQUFBLEVBRUEzc0MsS0FBQTJyQyxhQUFBLEVBRUEzckMsS0FBQWl6RSxlQUVBanpFLEtBQUErckMsU0FFQS9yQyxLQUFBdXpFLFdBRUF2ekUsS0FBQWswRSxtQkFDQSxJQUFBNXhELEtBQ0EyeEQsR0FBQTV3RSxRQUFBLFNBQUE4WSxFQUFBdmMsR0FDQSxHQUFBNlAsR0FBQSs2QixLQUF3QnJ1QixFQUN4QixXQUFBb3ZCLEVBQUFXLE1BQ0E1cEIsRUFBQTFpQixNQUNBbEMsT0FBQXVJLEtBQUF3SixHQUFBcE0sUUFBQSxTQUFBekIsR0FDQUEsSUFBQXF4RSxNQUFpQyxLQUNqQzN3RCxFQUFBMWlCLEdBQUFnQyxHQUFBNk4sRUFBQTdOLFNBQ0E2TixHQUFBN04sTUFHQTBnQixFQUFBMWlCLEdBQUFnQixNQUFBNk8sRUFDQTg3QixFQUFBMm9DLGlCQUFBdHpFLE1BQUEycUMsRUFBQXprQyxPQUFBcXRFLGFBQUEsVUFDSyxTQUFBNW9DLEVBQUFXLE9BQ0x4dUMsT0FBQXVJLEtBQUF3SixHQUFBcE0sUUFBQSxTQUFBekIsR0FDQSxhQUFBQSxHQUFBdEIsTUFBQW1DLFFBQUEwWixFQUFBdmEsSUFDQSxTQUFBQyxPQUFBLDhCQUVBLFlBQUFELEdBQ0E2TixFQUFBN08sTUFBQTRwQyxLQUFnQy82QixFQUFBN08sT0FBYXd6RSxPQUFBM2tFLEVBQUE3TixXQUM3QzZOLEdBQUE3TixHQUNBMnBDLEVBQUEyb0MsaUJBQUF0ekUsTUFBQTJxQyxFQUFBemtDLE9BQUFxdEUsYUFBQSxVQUVBNW9DLEVBQUEyb0MsaUJBQUF0eUUsR0FBQTJwQyxFQUFBemtDLE9BQUFxdEUsYUFBQXZ5RSxLQUdBMGdCLEVBQUExaUIsR0FBQTZQLEtBSUF6UCxLQUFBcTBFLFNBRUFyMEUsS0FBQW9yQyxTQUFBOTVCLEtBQUE0WCxNQUFBLFFBRUFscEIsS0FBQXdzQyxVQUFBLEVBRUF4c0MsS0FBQXMwRSxRQUFBLE1BRUF0MEUsS0FBQXUwRSxlQUFBanlELElBRUFoakIsRUFBQW9zQyxFQUFBbnNDLFNBRUFELEdBQUFpMUUsZUFBQSxTQUFBMzNDLEdBQ0EsR0FBQXdRLEdBQUFwdEMsS0FFQThULEVBQUEsRUFDQTBnRSxHQUFBLEVBQ0FseUQsRUFBQXNhLEVBQUF6dkIsSUFBQSxTQUFBN0osR0FDQSxHQUFBbXhFLEdBQUEsZ0JBQUFueEUsR0FBQXV3RSxRQUdBWSxLQUNBM2dFLEdBQUF4USxFQUFBaXNFLE9BQUEsRUFFQSxJQUFBbUYsSUFBQXB4RSxFQUFBdXdFLFVBQUEsSUFBQXZ3RSxFQUFBaXNFLE9BQUEsR0FFQW9GLEVBQUExQixFQUFBM3ZFLEVBQUFteEUsRUFBQUMsRUFBQTVnRSxFQUNBNmdFLEdBQUF2dkUsUUFDQTFILE9BQUF1SSxLQUFBM0MsR0FBQUQsUUFBQSxTQUFBOUMsR0FDQSxLQUFBQSxJQUFBbzBFLElBQUEsQ0FDQSxHQUFBN3JELEdBQUF4bEIsRUFBQS9DLEVBQ0EsSUFBQUEsSUFBQTBxQyxHQUFBLFdBQ0EwcEMsRUFBQXZ2RSxLQUFBN0UsR0FBQSxHQUFBMHFDLEdBQUEsV0FBQTFxQyxHQUFBNnNDLEVBQUF0bUMsT0FBQWdpQixFQUFBNnJELEVBQUFweEUsVUFDUyxJQUFBaEQsRUFBQXNILE1BQUEsc0JBQUF0SCxHQUFBLFNBQUFBLEVBQ1RvMEUsRUFBQXZ2RSxLQUFBN0UsSUFBa0NnRCxLQUFBLFFBQUE2QixNQUFBLEVBQUF5bEMsRUFBQXBQLFlBQUEzUyxRQUN6QixvQkFBQUEsTUFBQXRrQixNQUFBLFdBQUEzRSxRQUFBLEdBQ1QsR0FBQXVGLEdBQUFzQyxXQUFBb2hCLEdBQ0E5aEIsRUFBQThoQixFQUFBbGMsV0FBQXlILFFBQUEsZ0JBQ0F1akQsRUFBQTl1QyxFQUFBbGMsV0FBQXlILFFBQUEsZUFDQXNnRSxHQUFBdnZFLEtBQUE3RSxJQUFrQ3lHLE9BQUE1QixPQUFBd3lELGNBQ3pCLE1BQUFyM0QsR0FBQSxXQUFBQSxJQUFBLFlBQUEwcUMsR0FBQSxhQUNUMHBDLEVBQUF2dkUsS0FBQTdFLEdBQUEsR0FBQTBxQyxHQUFBLFdBQUEycEMsU0FBQXhuQyxFQUFBdG1DLE9BQUFnaUIsRUFBQXZvQixPQUlBbzBFLEVBQUFoQixPQUFBZ0IsRUFBQWxCLFFBQ0FoaEUsUUFBQUgsS0FBQSxvREFFQXFpRSxFQUFBbEIsY0FDQWUsR0FBQSxFQUVBLElBQUFmLEdBQUFrQixFQUFBbEIsWUFBQSxFQUFBa0IsRUFBQWxCLE1BQ0EsSUFBQWdCLEVBQUEsQ0FFQSxHQUFBSSxHQUFBdnhFLEVBQUF1d0UsVUFBQXZ3RSxFQUFBaXNFLE9BQUEsR0FBQW9GLEVBQUF2c0QsVUFBQXFyRCxFQUFBLEdBQUFrQixFQUFBakIsWUFBQUQsQ0FDQTMvRCxHQUFBK2dFLEdBQUEvZ0UsRUFBQStnRSxFQUFBL2dFLE1BRUE2Z0UsR0FBQXBGLE9BQUFvRixFQUFBdnNELFNBRUF0VSxHQUFBNmdFLEVBQUFwRixNQUdBejdELEdBQUE2Z0UsRUFBQXZzRCxVQUFBcXJELEVBQUEsR0FBQWtCLEVBQUFqQixZQUFBRCxDQUlBLE9BREFrQixHQUFBRyxLQUFBLEdBQ0FILEdBRUEzMEUsTUFBQTJzQyxVQUFBNm5DLEVBQUF4NEMsT0FBQXdqQixVQUFBMXJDLEVBQ0E5VCxLQUFBaXpFLFlBQUEzd0QsR0FFQWhqQixFQUFBeTFFLGlCQUFBLFNBQUF6eEUsR0FDQSxHQUFBdzVDLEdBQUE5OEMsS0FFQStyQyxJQXVCQSxPQXRCQXJ1QyxRQUFBdUksS0FBQTNDLEdBQUFELFFBQUEsU0FBQTlDLEdBQ0EsR0FBQUEsSUFBQTBxQyxHQUFBLHFCQUFBNlIsRUFBQTVRLE9BQUEsTUFBQTNyQyxHQUFBLFdBQUFBLEdBRUEsWUFEQXdyQyxFQUFBeHJDLEdBQUErQyxFQUFBL0MsR0FBQXkwRSxhQUFBbDRCLEVBQUEzUSxZQUdBLGFBQUEyUSxFQUFBNVEsS0FlQUgsRUFBQXhyQyxHQUFBdThDLEVBQUFoMkMsT0FBQXZHLElBQUEsTUFmQSxDQUVBLEdBQUE4dkQsR0FBQXZULEVBQUFoMkMsT0FBQXF0RSxhQUFBNXpFLEdBQ0EraEIsRUFBQSxTQUFBK3RDLE9BQUEsQ0FDQSxJQUFBOXZELEVBQUFzSCxNQUFBLHNCQUFBdEgsR0FBQSxTQUFBQSxFQUNBK2hCLEtBQUEsV0FBQS9oQixFQUFBK2hCLEVBQUEseUJBQ0FBLEdBQUEsRUFBQXVvQixFQUFBcFAsWUFBQW5aLEdBQ0F5cEIsRUFBQXhyQyxHQUFBK2hCLE1BQ08sSUFBQTVhLFdBQUE0YSxJQUFBLElBQUE1YSxXQUFBNGEsSUFBQSxJQUFBQSxFQUFBLENBQ1AsR0FBQXRiLEdBQUFzYixFQUFBMVYsV0FBQXlILFFBQUEsZUFDQTAzQixHQUFBeHJDLEdBQUF5RyxJQUFBMUQsRUFBQS9DLEdBQUF5RyxNQUFBLEVBQUE0akMsRUFBQS9qQyx1QkFBQWkyQyxFQUFBaDJDLE9BQUF2RyxFQUFBbUgsV0FBQTRhLEdBQUF0YixFQUFBMUQsRUFBQS9DLEdBQUF5RyxNQUFBVSxXQUFBNGEsT0FPQXlwQixHQUVBenNDLEVBQUEyMUUsWUFBQSxTQUFBM3lELEdBQ0EsR0FBQSs2QixHQUFBcjlDLElBRUF0QyxRQUFBdUksS0FBQXFjLEdBQUFqZixRQUFBLFNBQUF6QixHQUNBQSxJQUFBcXBDLEdBQUEscUJBQUFvUyxFQUFBblIsT0FBQSxNQUFBdHFDLEdBQUEsV0FBQUEsS0FHQXk3QyxFQUFBdjJDLE9BQUFsRixHQUFBMGdCLEVBQUExZ0IsT0FHQXRDLEVBQUE0MUUsU0FBQSxTQUFBQyxFQUFBQyxFQUFBeDFFLEdBQ0EsR0FBQTQ5QyxHQUFBeDlDLElBRUF0QyxRQUFBdUksS0FBQW12RSxFQUFBaHdFLE1BQUEvQixRQUFBLFNBQUE5QyxHQUNBLEdBQUFBLElBQUEwcUMsR0FBQSxxQkFBQXVTLEVBQUF0UixPQUFBLE1BQUEzckMsR0FBQSxXQUFBQSxHQUVBLFdBREE2MEUsR0FBQWh3RSxLQUFBN0UsR0FBQTIwRSxTQUFBQyxFQUFBMzNCLEVBQUE2MkIsTUFHQSxJQUFBZ0IsR0FBQUQsRUFBQWh3RSxLQUFBN0UsR0FDQSswRSxFQUFBOTNCLEVBQUF6UixNQUFBbnNDLEdBQUFXLEdBQ0EraEIsRUFBQSxNQUNBLFVBQUFrN0IsRUFBQXRSLE9BRUFtcEMsRUFBQTl4RSxLQUdPLFVBQUE4eEUsRUFBQTl4RSxPQUNQLElBQUE4eEUsRUFBQWp3RSxLQUFBdkYsUUFBQSxJQUFBeTFFLEVBQUF6MUUsU0FDQXcxRSxFQUFBandFLEtBQUEsTUFFQWtkLEVBQUEreUQsRUFBQWp3RSxLQUFBK0gsSUFBQSxTQUFBb29FLEVBQUFobEUsR0FDQSxHQUFBNnNCLEdBQUFrNEMsRUFBQS9rRSxJQUFBLENBQ0EsUUFBQWdsRSxFQUFBbjRDLEdBQUErM0MsRUFBQS8zQyxJQUVBb2dCLEVBQUExMkMsT0FBQXltQyxhQUFBaHRDLEdBQUEsRUFBQXNxQyxFQUFBbk8sVUFBQXBhLE1BVkFBLEVBQUEsTUFBQSt5RCxFQUFBcnVFLEtBQUFnQixPQUFBLEdBQUFzdEUsRUFBQUQsRUFBQWp3RSxLQUFBK3ZFLEVBQUFFLEVBQUFydUUsTUFBQXF1RSxFQUFBandFLEtBQUFrd0UsR0FBQUgsRUFBQUcsRUFBQUQsRUFBQXJ1RSxLQUNBdzJDLEVBQUExMkMsT0FBQXltQyxhQUFBaHRDLEVBQUEraEIsT0FhQXRpQixLQUFBaTFFLFlBQUFqMUUsS0FBQXEwRSxRQUVBLzBFLEVBQUFrQixPQUFBLFdBQ0EsR0FBQXc5QyxHQUFBaCtDLElBRUFBLE1BQUFpekUsWUFBQTV2RSxRQUFBLFNBQUFDLEVBQUExRCxHQUNBLEdBQUFnMEUsR0FBQXR3RSxFQUFBc3dFLFNBQ0F4ckQsR0FBQSxFQUFBeWlCLEVBQUF0USxTQUFBajNCLEVBQUE4a0IsVUFFQW90RCxFQUFBbGtFLEtBQUFDLE1BQUF5c0MsRUFBQXJTLGFBQUFpb0MsSUFBQXhyRCxFQUFBOWtCLEVBQUFvd0UsY0FBQSxDQUdBLElBRkE4QixJQUFBLElBQUFBLEVBRUFseUUsRUFBQW13RSxPQUFBLENBQ0EsR0FBQW53RSxFQUFBbXdFLE9BQUErQixHQUFBbHlFLEVBQUFtd0UsWUFDQSxRQUVBbndFLEVBQUFtd0UsUUFBQW53RSxFQUFBbXdFLFFBQUErQixLQUNBNUIsR0FBQTRCLEdBQUFwdEQsRUFBQTlrQixFQUFBb3dFLGNBR0EsR0FBQXQyQyxHQUFBOTVCLEVBQUFxd0UsTUFBQTZCLEVBQUEsWUFBQWx5RSxFQUFBQyxLQUFBLElBQ0E2eEUsRUFBQTl4RSxFQUFBcXdFLE1BQUE2QixFQUFBLFlBQUFseUUsRUFBQUMsS0FBQSxJQUVBb29DLEdBQUEsRUFBQWQsRUFBQXRRLFNBQUF5akIsRUFBQXJTLGFBQUFpb0MsR0FFQXJFLEVBQUFqc0UsRUFBQWlzRSxPQUFBLEVBQUFqc0UsRUFBQWlzRSxPQUFBanNFLEVBQUFpc0UsTUFDQWtHLEVBQUEsU0FBQW55RSxFQUFBQyxLQUFBZ3NFLEVBQUEsQ0FDQSxJQUFBNWpDLEVBQUE4cEMsR0FBQXozQixFQUFBNVMsV0FBQTRTLEVBQUFqUyxNQUFBbnNDLEtBQ0FvK0MsRUFBQWpTLE1BQUFuc0MsR0FBQW8rQyxFQUFBKzJCLGlCQUFBenhFLEVBQUE4QixPQUNBNDRDLEVBQUF4UixVQUFBYixHQUFBcVMsRUFBQTVTLFVBQUEsQ0FDQTRTLEVBQUF4UixVQUFBLENBR0EsSUFBQXJ0QyxHQUFBb3dFLEVBQUEsRUFBQWpzRSxFQUFBa3NFLEtBQUF4eEIsRUFBQXMyQixRQUFBbDNDLEVBQUFnNEMsRUFBQXAzQixFQUFBczJCLFNBQ0F4cUUsRUFBQXNlLEVBQUE5a0IsRUFBQWtzRSxLQUFBN2pDLEVBQUEsSUFBQUEsRUFBQXZPLEVBQUFnNEMsRUFBQWh0RCxHQUFBanBCLEVBQ0F1MkUsRUFBQS9wQyxHQUFBdmpCLEVBQUFxdEQsR0FBQSxJQUFBM3JFLENBQ0FrMEMsR0FBQWszQixTQUFBUSxFQUFBcHlFLEVBQUExRCxHQUdBLEdBQUFSLElBQ0F5RCxNQUFBakQsRUFDQWtILE9BQUFrM0MsRUFBQWwzQyxPQVFBLElBSkF4RCxFQUFBbXdFLFFBQUErQixFQUFBLEdBQUE3cEMsRUFBQThwQyxHQUFBLEdBQUE5cEMsRUFBQXFTLEVBQUE1UyxVQUVBOW5DLEVBQUFrd0UsU0FBQXAwRSxHQUVBdXNDLEVBQUEsR0FBQUEsRUFBQThwQyxHQUFBejNCLEVBQUE1UyxTQUNBNFMsRUFBQWszQixTQUFBLFNBQUE1eEUsRUFBQUMsS0FBQSxJQUFBRCxFQUFBMUQsT0FDSyxJQUFBK3JDLEdBQUF2akIsR0FBQSxlQUFBOWtCLEVBQUF3eEUsS0FBQSxDQUNMLEdBQUFhLEdBQUF2dEQsRUFBQTlrQixFQUFBa3NFLEtBQUFwbkQsRUFBQWdWLEVBQUFnNEMsRUFBQWh0RCxHQUFBOWtCLEVBQUFrc0UsS0FBQXh4QixFQUFBczJCLFFBQUFsM0MsRUFBQWc0QyxFQUFBcDNCLEVBQUFzMkIsUUFDQXQyQixHQUFBazNCLFNBQUFTLEVBQUFyeUUsRUFBQTFELEdBQ0EsVUFBQTBELEVBQUF3eEUsTUFDQXh4RSxFQUFBbXNFLFdBQUFyd0UsR0FFQWtFLEVBQUF3eEUsS0FBQSxpQkFDSyxJQUFBbnBDLEdBQUEsR0FBQUEsRUFBQXZqQixFQUFBLENBQ0w5a0IsRUFBQXd4RSxLQUFBbnBDLEVBQUFxUyxFQUFBNVMsV0FBQTRTLEVBQUF1MUIsUUFBQTN6RSxHQUFBLHFCQUNBK3JDLElBQUEsSUFBQUEsRUFDQUEsSUFBQXZqQixJQUFBdWpCLENBQ0EsSUFBQXdwQyxHQUFBN3hFLEVBQUFrc0UsS0FBQTdqQyxFQUFBdk8sRUFBQWc0QyxFQUFBaHRELEVBQ0E0MUIsR0FBQWszQixTQUFBQyxFQUFBN3hFLEVBQUExRCxHQUNBbytDLEVBQUF1MUIsUUFBQTN6RSxJQUFBLEVBQ0ErckMsR0FBQXFTLEVBQUE1UyxTQUNBOW5DLEVBQUFpd0UsUUFBQW4wRSxHQUVBa0UsRUFBQWd3RSxTQUFBOW9DLEdBQWdDMnFDLFNBQWUvMUUsSUFJL0N1c0MsR0FBQSxHQUFBQSxFQUFBdmpCLEVBQUE0MUIsRUFBQTVTLFVBQ0E0UyxFQUFBblIsU0FBQXJDLEdBQ0FsK0IsT0FBQTB4QyxFQUFBclMsYUFDQW1wQyxLQUFBeHhFLEVBQUF3eEUsTUFDTzExRSxPQUtQRSxFQUFBdXNDLE1BQUEsU0FBQXYvQixHQUNBdE0sS0FBQTJyQyxhQUFBci9CLEVBQ0F0TSxLQUFBUSxVQUVBbEIsRUFBQWd1QyxjQUFBLFdBQ0F0dEMsS0FBQXEwRSxTQUNBcjBFLEtBQUErckMsU0FDQS9yQyxLQUFBdXpFLFlBR0FqMEUsRUFBQXN0QyxrQkFBQSxXQUNBLEdBQUE2UixHQUFBeitDLElBRUFBLE1BQUFxMEUsU0FDQXIwRSxLQUFBaXpFLFlBQUFqekUsS0FBQWl6RSxZQUFBOWxFLElBQUEsU0FBQTdKLEdBRUEsTUFEQUEsR0FBQXd4RSxLQUFBLFFBQ0F4eEUsSUFFQTVGLE9BQUF1SSxLQUFBakcsS0FBQWswRSxrQkFBQTd3RSxRQUFBLFNBQUF6QixHQUNBQSxJQUFBcXhFLE1BQStCLElBQy9CeDBCLEVBQUEzM0MsT0FBQXltQyxhQUFBM3JDLEVBQUE2OEMsRUFBQXkxQixpQkFBQXR5RSxPQUtBdEMsRUFBQXV0QyxTQUFBdEMsRUFDQW50QyxFQUFBLFdBQUFzdUMsRUFDQXZ1QyxFQUFBQyxVQUFBLFk5RXk5Y013NEUsSUFDQSxTQUFTejRFLEVBQVFDLEVBQVNDLEcrRXJ6ZGhDLFlBa0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBOHJDLEdBQUE5ckMsRUFBQXVuQixHQUFvRixPQUFqRDdlLEdBQUF2SSxPQUFBNHJDLG9CQUFBeGtCLEdBQWlEbGxCLEVBQUEsRUFBZ0JBLEVBQUFxRyxFQUFBcEcsT0FBaUJELElBQUEsQ0FBTyxHQUFBZ0MsR0FBQXFFLEVBQUFyRyxHQUFtQmhDLEVBQUFGLE9BQUE2ckMseUJBQUF6a0IsRUFBQWxqQixFQUE0RGhFLE1BQUE0ckMsY0FBQTNyQyxTQUFBTixFQUFBcUUsSUFBNkRsRSxPQUFBQyxlQUFBSixFQUFBcUUsRUFBQWhFLEdBQTRDLE1BQUFMLEdBRXBULFFBQUFrc0MsR0FBQUMsRUFBQUMsR0FBaUQsS0FBQUQsWUFBQUMsSUFBMEMsU0FBQUMsV0FBQSxxQ0FFM0YsUUFBQUMsR0FBQUMsRUFBQXJxQyxHQUFpRCxJQUFBcXFDLEVBQWEsU0FBQUMsZ0JBQUEsNERBQXlGLFFBQUF0cUMsR0FBQSxnQkFBQUEsSUFBQSxrQkFBQUEsR0FBQXFxQyxFQUFBcnFDLEVBRXZKLFFBQUF1cUMsR0FBQUMsRUFBQUMsR0FBMEMscUJBQUFBLElBQUEsT0FBQUEsRUFBK0QsU0FBQU4sV0FBQSxpRUFBQU0sR0FBdUdELEdBQUExcUMsVUFBQTdCLE9BQUF5c0MsT0FBQUQsS0FBQTNxQyxXQUF5RStLLGFBQWUxTSxNQUFBcXNDLEVBQUFHLFlBQUEsRUFBQUMsVUFBQSxFQUFBYixjQUFBLEtBQTZFVSxJQUFBeHNDLE9BQUE0c0MsZUFBQTVzQyxPQUFBNHNDLGVBQUFMLEVBQUFDLEdBQUFiLEVBQUFZLEVBQUFDLElBRXJYLFFBQUFLLE1BMUJBN3NDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE0c0MsR0FBQTlzQyxPQUFBK3NDLFFBQUEsU0FBQTNqQyxHQUFtRCxPQUFBbEgsR0FBQSxFQUFnQkEsRUFBQU0sVUFBQUwsT0FBc0JELElBQUEsQ0FBTyxHQUFBMlQsR0FBQXJULFVBQUFOLEVBQTJCLFFBQUFnQyxLQUFBMlIsR0FBMEI3VixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQThULEVBQUEzUixLQUF5RGtGLEVBQUFsRixHQUFBMlIsRUFBQTNSLElBQWlDLE1BQUFrRixJQUUvT3BJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFtM0UsRUFBQXg0RSxFQUFBLElBRUF5NEUsRUFBQXg0RSxFQUFBdTRFLEdBRUFqckMsRUFBQXZ0QyxFQUFBLElBY0F3eUUsRUFBQSxTQUFBdmtDLEdBR0EsUUFBQXVrQyxLQUNBcG1DLEVBQUF6cEMsS0FBQTZ2RSxFQUVBLElBQUF0a0MsR0FBQTFCLEVBQUE3cEMsS0FBQXNyQyxFQUFBcnJDLE1BQUFELEtBQUFFLFdBRUE2MUUsR0FBQXQyRSxLQUFBOHJDLEdBRUFBLEVBQUF5cUMsZUFDQXpxQyxFQUFBMHFDLGVBQ0ExcUMsRUFBQTJxQyxhQUFBLEVBQ0EzcUMsRUFBQTRxQyxVQUVBLElBQUF0MUUsSUFBQSxFQUFBK3BDLEVBQUEzbEMsa0JBQUEsRUFBQTJsQyxFQUFBaGtDLHNCQUFBMmtDLEVBQUE3cUMsT0FJQSxPQUhBNnFDLEdBQUFxRyxPQUNBL3dDLFlBRUEwcUMsRUFzREEsTUF4RUF2QixHQUFBNmxDLEVBQUF2a0MsR0FxQkF1a0MsRUFBQXR3RSxVQUFBeXRDLGtCQUFBLFdBQ0FodEMsS0FBQWsyRSxhQUFBLEdBR0FyRyxFQUFBdHdFLFVBQUEydEMsMEJBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBcHRDLEtBRUFvMkUsR0FBQSxFQUFBeHJDLEVBQUEzbEMsaUJBQUFrb0MsRUFBQXRzQyxVQUNBdzFFLEdBQUEsRUFBQXpyQyxFQUFBM2xDLGlCQUFBakYsS0FBQTR4QyxNQUFBL3dDLFVBQ0F5MUUsR0FBQSxFQUFBMXJDLEVBQUF6a0MsZUFBQWt3RSxFQUFBRCxFQUVBcDJFLE1BQUFnMkUsZUFDQWgyRSxLQUFBaTJFLGVBQ0FHLEVBQUEveUUsUUFBQSxTQUFBNkIsR0FDQSxHQUFBQSxFQUFBLENBR0EsR0FBQXRELEdBQUFzRCxFQUFBdEQsSUFDQTIwRSxHQUFBLEVBQUEzckMsRUFBQTFrQywwQkFBQW13RSxFQUFBejBFLElBQ0EyMEUsR0FBQTMwRSxHQUNBd3JDLEVBQUE0b0MsWUFBQXB5RSxLQUFBaEMsTUFJQXkwRSxFQUFBaHpFLFFBQUEsU0FBQTZCLEdBQ0EsR0FBQUEsRUFBQSxDQUdBLEdBQUF0RCxHQUFBc0QsRUFBQXRELElBQ0E0MEUsR0FBQSxFQUFBNXJDLEVBQUExa0MsMEJBQUFrd0UsRUFBQXgwRSxJQUNBNDBFLEdBQUE1MEUsR0FDQXdyQyxFQUFBNm9DLFlBQUFyeUUsS0FBQWhDLE1BR0E1QixLQUFBNnhDLFVBQ0FoeEMsU0FBQXkxRSxLQUlBekcsRUFBQXR3RSxVQUFBaUIsT0FBQSxXQUNBLEdBQUFpMkUsR0FBQXoyRSxLQUFBMDJFLG9CQUFBMTJFLEtBQUE0eEMsTUFBQS93QyxTQUNBLEtBQUFiLEtBQUFVLE1BQUF3dEMsVUFDQSxNQUFBdW9DLEdBQUEsUUFFQSxJQUFBRSxHQUFBbnNDLEtBQW9DeHFDLEtBQUFVLE1BSXBDLFFBSEEsaUdBQUEyQyxRQUFBLFNBQUF6QixHQUNBLGFBQUErMEUsR0FBQS8wRSxNQUVBLEVBQUFsRCxFQUFBMkMsZUFBQXJCLEtBQUFVLE1BQUF3dEMsVUFBQXlvQyxFQUFBRixJQUdBNUcsR0FDQ254RSxFQUFBNEMsV0FFRHkwRSxFQUFBLFdBQ0EsR0FBQWo1QixHQUFBOThDLElBRUFBLE1BQUE2c0MsU0FBQSxTQUFBYixFQUFBcHFDLEVBQUEyQixFQUFBaEcsR0FDQSxHQUFBc0MsSUFBQSxFQUFBK3FDLEVBQUF6bEMsYUFBQTZtQyxHQUFBbnNDLE9BQ0ErMkUsRUFBQTk1QixFQUFBcDhDLE1BQUFrMkUsbUJBQ0FDLEVBQUF0NUUsRUFBQXVKLE9BQ0Fnd0UsRUFBQSxVQUFBdnpFLEdBQUEsV0FBQUEsQ0FDQSxnQkFBQWhHLEVBQUF1M0UsS0FDQStCLEVBQUEvMUUsVUFBQSsxRSxFQUFBLzFFLFVBQUF1VCxRQUFBdWlFLEVBQUFFLEVBQUEsU0FBQXg2QyxPQUNBdTZDLEVBQUEvMUUsVUFBQXBCLFFBQUFrM0UsRUFBQUUsRUFBQSxhQUNBRCxFQUFBLzFFLFdBQUErMUUsRUFBQS8xRSxVQUFBLElBQUE4MUUsRUFBQUUsRUFBQSxNQUFBeDZDLFlBRUssSUFBQS8rQixFQUFBc0YsUUFBQWhELEVBQUEsa0JBQUF0QyxFQUFBdTNFLEtBQUEsQ0FDTCxHQUFBajBFLEdBQUFpOEMsRUFBQWxMLE1BQUEvd0MsUUFDQSxXQUFBMEMsRUFDQXU1QyxFQUFBazVCLFlBQUF6NUMsT0FBQXVnQixFQUFBazVCLFlBQUF0MkUsUUFBQWtDLEdBQUEsR0FDTyxVQUFBMkIsSUFDUDFDLEVBQUFpOEMsRUFBQWxMLE1BQUEvd0MsU0FBQTA2QixPQUFBLFNBQUE1NUIsR0FDQSxNQUFBQyxLQUFBRCxFQUFBQyxNQUVBazdDLEVBQUFtNUIsWUFBQTE1QyxPQUFBdWdCLEVBQUFtNUIsWUFBQXYyRSxRQUFBa0MsR0FBQSxJQUVBaTFFLEVBQUEvMUUsVUFBQSsxRSxFQUFBLzFFLFVBQUF1VCxRQUFBdWlFLEVBQUFFLEVBQUEsU0FBQXg2QyxhQUNBd2dCLEdBQUFxNUIsUUFBQXYwRSxHQUNBazdDLEVBQUFqTCxVQUNBaHhDLFlBRUEsSUFBQWsyRSxJQUFrQm4xRSxNQUFBMkIsT0FDbEJ1NUMsR0FBQXA4QyxNQUFBczJFLE1BQUFELEtBSUEvMkUsS0FBQWkzRSxrQkFBQSxTQUFBdDFFLEVBQUEvQixFQUFBMkQsR0FDQSxHQUFBeW9DLEdBQUEsT0FDQWEsRUFBQSxNQUVBLElBREFiLEVBQUEsVUFBQXpvQyxFQUFBdTVDLEVBQUFwOEMsTUFBQXF2RSxNQUFBanpCLEVBQUFwOEMsTUFBQW92RSxNQUNBLFdBQUF2c0UsRUFBQSxDQUNBLEdBQUF5c0UsSUFBQSxFQUFBcGxDLEVBQUFua0Msb0JBQUFxMkMsRUFBQXA4QyxNQUFBc3ZFLE9BQUFydUUsRUFBQUMsSUFBQWhDLEVBQ0Fvc0MsR0FBQWdrQyxHQUFBbHpCLEVBQUFwOEMsTUFBQW92RSxPQUFBLEtBRUFqakMsRUFBQWlRLEVBQUFqUSxTQUFBa2QsS0FBQWpOLEVBQUE5USxFQUFBcnFDLEVBQUFDLElBQUEyQixFQUNBLElBQUExQyxHQUFBbEMsRUFBQSxXQUFBMEMsY0FBQXkwRSxFQUFBLFdBQUF0ckMsS0FBc0Y3b0MsRUFBQWpCLE9BQ3RGeXJDLFdBQUEyUSxFQUFBcDhDLE1BQUF5ckMsV0FDQXZxQyxJQUFBRCxFQUFBQyxJQUNBc3NDLFVBQUF2c0MsRUFBQTRCLEtBQ0F5b0MsV0FBQSxFQUFBcEIsRUFBQW5rQyxvQkFBQXVsQyxFQUFBcnFDLEVBQUFDLElBQUFoQyxHQUNBaXRDLFdBQ0FnQixlQUFBaVAsRUFBQXA4QyxNQUFBbXRDLGlCQUtBLFFBSEFpUCxFQUFBazVCLFlBQUF2eUUsT0FBQXE1QyxFQUFBbTVCLGFBQUF2MkUsUUFBQWlDLEVBQUFDLE1BQUEsSUFBQWs3QyxFQUFBbzVCLGFBQUFscUMsS0FDQThRLEVBQUFxNUIsUUFBQXgwRSxFQUFBQyxLQUFBMkIsR0FFQTFDLEdBR0FiLEtBQUEwMkUsb0JBQUEsU0FBQTcxRSxHQUNBLE1BQUFBLEdBQUFzTSxJQUFBLFNBQUF4TCxFQUFBL0IsR0FDQSxJQUFBK0IsTUFBQUMsSUFDQSxNQUFBRCxFQUVBLElBQUFDLEdBQUFELEVBQUFDLEdBQ0EsT0FBQWs3QyxHQUFBbTVCLFlBQUF2MkUsUUFBQWtDLElBQUEsRUFDQWs3QyxFQUFBbTZCLGtCQUFBdDFFLEVBQUEvQixFQUFBLFNBQ09rOUMsRUFBQWs1QixZQUFBdDJFLFFBQUFrQyxJQUFBLEdBQUFrN0MsRUFBQXE1QixRQUFBeDBFLEVBQUFDLE1BQUFrN0MsRUFBQW01QixZQUFBdjJFLFFBQUFrQyxRQUNQazdDLEVBQUFtNkIsa0JBQUF0MUUsRUFBQS9CLEVBQUEsU0FDT2s5QyxFQUFBbzVCLFlBR1BwNUIsRUFBQXE1QixRQUFBeDBFLEVBQUFDLE1BQUFrN0MsRUFBQW02QixrQkFBQXQxRSxFQUFBL0IsRUFBQWs5QyxFQUFBcTVCLFFBQUF4MEUsRUFBQUMsT0FBQWpELEVBQUEsV0FBQTBDLGNBQUF5MEUsRUFBQSxXQUFBdHJDLEtBQThLN29DLEVBQUFqQixPQUFnQnd0QyxVQUFBdnNDLEVBQUE0QixLQUFBM0IsSUFBQUQsRUFBQUMsT0FGOUxrN0MsRUFBQW02QixrQkFBQXQxRSxFQUFBL0IsRUFBQSxjQU9Bd3VDLEVBQUExdkMsRUFBQW1OLFVBQUF3aUMsV0FBQTN2QyxFQUFBbU4sVUFBQXlpQyxPQUFBNXZDLEVBQUFtTixVQUFBdEgsUUFDQTJ5RSxFQUFBeDRFLEVBQUFtTixVQUFBd2lDLFdBQUFELEVBQUExdkMsRUFBQW1OLFVBQUF3TCxNQUVBdzRELEdBQUFqa0UsV0FDQXNpQyxVQUFBeHZDLEVBQUFtTixVQUFBRyxJQUNBbkwsU0FBQW5DLEVBQUFtTixVQUFBRyxJQUNBcEwsTUFBQWxDLEVBQUFtTixVQUFBeWlDLE9BQ0EwaEMsT0FBQXR4RSxFQUFBbU4sVUFBQUUsS0FDQStqRSxNQUFBb0gsRUFDQW5ILE1BQUFtSCxFQUNBTixtQkFBQWw0RSxFQUFBbU4sVUFBQXRILE1BQ0F5eUUsTUFBQXQ0RSxFQUFBbU4sVUFBQXdMLEtBQ0E4MEIsV0FBQXp0QyxFQUFBbU4sVUFBQUUsS0FDQThoQyxlQUFBbnZDLEVBQUFtTixVQUFBRSxNQUdBOGpFLEVBQUFydUUsY0FDQTBzQyxVQUFBLE1BQ0E4aEMsUUFBQSxFQUNBNEcsb0JBQUEsMENBQ0E5RyxPQUFVanRELEVBQUEsR0FBQWtmLFFBQUEsRUFBQXgrQixLQUFBLFFBQ1Z3c0UsT0FBVWx0RCxNQUFBa2YsUUFBQSxHQUNWaTFDLE1BQUF6c0MsRUFDQTRCLFlBQUEsRUFDQTBCLGdCQUFBLEdBRUF6d0MsRUFBQSxXQUFBeXlFLEVBQ0ExeUUsRUFBQUMsVUFBQSxZL0UyemRNKzVFLElBQ0EsU0FBU2g2RSxFQUFRQyxFQUFTQyxHZ0YzZ2VoQyxZQUVBLElBQUFndUMsR0FBQWh1QyxFQUFBLEdBQ0FndUMsR0FBQXdrQyxjQUFBeHlFLEVBQUEsS0FDQWd1QyxFQUFBK3JDLE9BQUEvNUUsRUFBQSxJQUNBRixFQUFBQyxRQUFBaXVDLEdoRmloZU1nc0MsSUFDQSxTQUFTbDZFLEVBQVFDLEVBQVNDLEdpRnZoZWhDLFlBbUJBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQWpCN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE0c0MsR0FBQTlzQyxPQUFBK3NDLFFBQUEsU0FBQTNqQyxHQUFtRCxPQUFBbEgsR0FBQSxFQUFnQkEsRUFBQU0sVUFBQUwsT0FBc0JELElBQUEsQ0FBTyxHQUFBMlQsR0FBQXJULFVBQUFOLEVBQTJCLFFBQUFnQyxLQUFBMlIsR0FBMEI3VixPQUFBNkIsVUFBQUMsZUFBQUMsS0FBQThULEVBQUEzUixLQUF5RGtGLEVBQUFsRixHQUFBMlIsRUFBQTNSLElBQWlDLE1BQUFrRixJQUcvTytqQyxFQUFBeHRDLEVBQUEsSUFFQWk2RSxFQUFBaDZFLEVBQUF1dEMsR0FFQUQsRUFBQXZ0QyxFQUFBLElBRUEydEMsRUFBQTN0QyxFQUFBLElBRUE0dEMsRUFBQTN0QyxFQUFBMHRDLEdBSUF1c0MsRUFBQSxTQUFBendFLEVBQUExQixFQUFBN0IsR0FDQXZELEtBQUE4RyxTQUNBOUcsS0FBQW9GLE9BQ0FwRixLQUFBdUQsT0FDQXZELEtBQUF3M0UsYUFDQXgzRSxLQUFBdTBFLGtCQUVBajFFLEVBQUFpNEUsRUFBQWg0RSxXQUNBc0csS0FBQSxRQUVBdkcsR0FBQW00RSxpQkFBQSxXQUNBLE1BQUFsd0UsVUFBQW13RSxZQUFBbndFLFNBQUFtd0UsWUFBQUQsaUJBQUF6M0UsS0FBQThHLFlBRUF4SCxFQUFBcTRFLGFBQUEsU0FBQS8xRSxFQUFBd0QsR0FDQSxHQUFBa2QsSUFDQUEsUUFDQXMxRCxZQUNBM3dFLFlBQ0E0d0UsYUFDQUMsZ0JBZ0JBLElBZEFsMkUsRUFBQWlHLE1BQUEsdUJBQ0F5YSxPQUFBMWdCLElBQUEsRUFBQWlwQyxFQUFBcFAsWUFBQXIyQixHQUNBa2QsRUFBQXMxRCxTQUFBaDJFLEdBQUEsU0FDR0EsRUFBQWlHLE1BQUEsWUFDSHlhLE9BQUExZ0IsSUFBQSxFQUFBaXBDLEVBQUF6TyxhQUFBaDNCLEdBQ0FrZCxFQUFBczFELFNBQUFoMkUsR0FBQSxVQUNHLGdCQUFBd0QsTUFBQVosTUFBQSxVQUFBM0UsT0FBQSxHQUNIeWlCLE9BQUExZ0IsR0FBQXdELEVBQUFaLE1BQUEsVUFDQThkLEVBQUF3MUQsYUFBQWwyRSxHQUFBd0QsRUFBQWlQLFFBQUEsZUFDQWlPLEVBQUFzMUQsU0FBQWgyRSxHQUFBLFdBRUEwZ0IsT0FBQTFnQixHQUFBd0QsRUFDQWtkLEVBQUFzMUQsU0FBQWgyRSxHQUFBLFNBRUF0QixNQUFBbUMsUUFBQTZmLE9BQUExZ0IsSUFDQTBnQixFQUFBcmIsU0FBQXJGLEdBQUEwZ0IsT0FBQTFnQixHQUFBdUwsSUFBQSxTQUFBNHFFLEdBQ0EsTUFBQUEsR0FBQW5yRSxXQUFBeUgsUUFBQSxrQkFFQWlPLEVBQUF1MUQsVUFBQWoyRSxHQUFBMGdCLE9BQUExZ0IsR0FBQXVMLElBQUEsU0FBQTRxRSxHQUNBLE1BQUFBLEdBQUFuckUsV0FBQXlILFFBQUEsa0JBR0FpTyxPQUFBMWdCLEdBQUEwZ0IsT0FBQTFnQixHQUFBdUwsSUFBQSxTQUFBNHFFLEdBQ0EsTUFBQXJ3RSxZQUFBcXdFLElBQUEsSUFBQXJ3RSxXQUFBcXdFLEdBQUFyd0UsV0FBQXF3RSxXQUVHLENBQ0h6MUQsRUFBQXJiLFNBQUFyRixHQUFBMGdCLE9BQUExZ0IsR0FBQWdMLFdBQUF5SCxRQUFBLGdCQUNBaU8sRUFBQXUxRCxVQUFBajJFLEdBQUEwZ0IsT0FBQTFnQixHQUFBZ0wsV0FBQXlILFFBQUEsZUFDQSxJQUFBOEgsR0FBQXpVLFdBQUE0YSxPQUFBMWdCLEdBQUFnTCxXQUFBeUgsUUFBQSxpQkFDQWlPLFFBQUExZ0IsR0FBQXVhLEdBQUEsSUFBQUEsSUFBQW1HLE9BQUExZ0IsR0FFQSxNQUFBMGdCLElBRUFoakIsRUFBQWkxRSxlQUFBLFdBQ0EsR0FBQWhwQyxHQUFBdnJDLElBRUFBLE1BQUF3M0UsVUFBQWwxRCxRQUNBdGlCLEtBQUF3M0UsVUFBQUksWUFDQTUzRSxLQUFBdzNFLFVBQUF2d0UsWUFDQWpILEtBQUF3M0UsVUFBQUssYUFDQTczRSxLQUFBdzNFLFVBQUFNLGdCQUNBcDZFLE9BQUF1SSxLQUFBakcsS0FBQW9GLE1BQUEvQixRQUFBLFNBQUE5QyxHQUNBLEdBQUFBLElBQUEwcUMsR0FBQSxXQUVBLFlBREFNLEVBQUFpc0MsVUFBQWwxRCxLQUFBL2hCLEdBQUEsR0FBQTBxQyxHQUFBLFdBQUExcUMsR0FBQWdyQyxFQUFBemtDLE9BQUF5a0MsRUFBQW5tQyxLQUFBN0UsSUFHQSxJQUFBcUIsSUFBQSxFQUFBaXBDLEVBQUFyUCxhQUFBajdCLEdBQ0F1b0IsRUFBQXlpQixFQUFBb3NDLGFBQUEvMUUsRUFBQTJwQyxFQUFBbm1DLEtBQUE3RSxHQUNBZ3JDLEdBQUFpc0MsVUFBQWwxRCxLQUFBMWdCLEdBQUFrbkIsRUFBQXhHLEtBQUExZ0IsR0FDQTJwQyxFQUFBaXNDLFVBQUFJLFNBQUFoMkUsR0FBQWtuQixFQUFBOHVELFNBQUFoMkUsR0FDQTJwQyxFQUFBaXNDLFVBQUF2d0UsU0FBQXJGLEdBQUFrbkIsRUFBQTdoQixTQUFBckYsR0FDQTJwQyxFQUFBaXNDLFVBQUFLLFVBQUFqMkUsR0FBQWtuQixFQUFBK3VELFVBQUFqMkUsR0FDQWtuQixFQUFBZ3ZELGFBQUFsMkUsS0FDQTJwQyxFQUFBaXNDLFVBQUFNLGFBQUFsMkUsR0FBQWtuQixFQUFBZ3ZELGFBQUFsMkUsT0FJQXRDLEVBQUEwNEUsb0JBQUEsU0FBQWh4RSxFQUFBcEYsRUFBQTBnQixFQUFBMWlCLEdBQ0EsR0FBQXE0RSxHQUFBMzFELEVBQUExVixXQUFBeUgsUUFBQSxnQkFDQTZqRSxFQUFBbHhFLEVBQUFwSCxFQUNBLE9BQUFxNEUsS0FBQUMsRUFDQXh3RSxXQUFBNGEsR0FDRzVhLFdBQUE0YSxJQUFBLElBQUE1YSxXQUFBNGEsSUFHSCxFQUFBc29CLEVBQUEvakMsdUJBQUE3RyxLQUFBOEcsT0FBQWxGLEVBQUEwZ0IsRUFBQTIxRCxFQUFBQyxFQUFBLHlCQUFBdDJFLElBQUFoQyxHQUZBMGlCLEdBSUFoakIsRUFBQTAxRSxhQUFBLFNBQUFtRCxHQUNBLEdBQUEvcUMsR0FBQXB0QyxLQUVBbzRFLEVBQUFwNEUsS0FBQXkzRSxtQkFDQTcyRSxJQUNBWixNQUFBc0ksWUFBQSxFQUFBdWlDLEVBQUF6UCxnQkFBQSxjQUNBLElBQUFpOUMsR0FBQSxNQThFQSxPQTdFQUYsS0FDQW40RSxLQUFBbXNDLFdBQUEsU0FBQWlzQyxFQUFBanNDLFlBQUFpc0MsRUFBQWpzQyxZQUFBLFNBQUFpc0MsRUFBQWpzQyxXQUFBaXNDLEVBQUFqc0MsV0FBQSxHQUNBa3NDLEVBQUFyNEUsS0FBQW1zQyxXQUFBM25DLE1BQUEsS0FBQSsyQixPQUFBLFNBQUF4dUIsR0FDQSxNQUFBQSxNQUdBclAsT0FBQXVJLEtBQUFqRyxLQUFBdzNFLFVBQUFsMUQsTUFBQWpmLFFBQUEsU0FBQXpCLEdBQ0EsR0FBQXM3QixJQUFBLEVBQUEyTixFQUFBNU4sV0FBQXI3QixFQUNBLElBQUF1MkUsRUFBQSxDQUNBLEdBQUFHLEdBQUExMkUsSUFBQXFwQyxHQUFBLFdBQUFtQyxFQUFBb3FDLFVBQUFsMUQsS0FBQTFnQixHQUFBMjJFLFVBQUFyN0MsR0FDQW83QyxHQUFBLG9CQUFBQSxFQUFBLG1CQUFBQSxFQUNBRCxFQUFBMzRFLFFBQUE0NEUsY0FBQUYsSUFBQXgyRSxJQUFBcXBDLEdBQUEsYUFDQW90QyxFQUFBejBFLEtBQUEwMEUsR0FFQWxyQyxFQUFBakIsV0FBQWtzQyxFQUFBcjFFLEtBQUEsS0FFQSxHQUFBbzZCLEdBQUFnN0MsRUFBQWw3QyxHQUNBaDJCLEVBQUEsVUFBQWt4RSxFQUFBN1QsUUFDQW5uQyxJQUFBLFNBQUFBLEdBQUEsU0FBQUEsSUFDQUEsRUFBQSxHQUVBLElBQUFvQixHQUFBLE9BQ0EwNUMsRUFBQSxPQUNBRCxFQUFBLE1BQ0EsSUFBQXIyRSxJQUFBcXBDLEdBQUEsV0FDQSxXQUFBcnBDLElBQ0F3ckMsRUFBQTVPLFdBQUEsRUFBQXFNLEVBQUF6UCxnQkFBQSxhQUNBZ0MsRUFBQWc3QyxFQUFBaHJDLEVBQUE1TyxXQUNBNTlCLEVBQUE0OUIsVUFBQTU5QixFQUFBNDlCLFlBQUEsRUFBQXFNLEVBQUF0TSxjQUFBbkIsSUFFQWdRLEVBQUFvcUMsVUFBQWwxRCxLQUFBMWdCLEdBQUFvekUsbUJBQ0ssa0JBQUE5M0MsRUFBQSxDQUtMLEdBSkFrUSxFQUFBNU8sV0FBQSxFQUFBcU0sRUFBQXpQLGdCQUFBLGFBQ0FnQyxFQUFBZzdDLEVBQUFockMsRUFBQTVPLFdBQ0EwNUMsRUFBQTlxQyxFQUFBb3FDLFVBQUF2d0UsU0FBQXJGLEdBQ0E0OEIsRUFBQTU5QixFQUFBNDlCLFlBQUEsRUFBQXFNLEVBQUF0TSxjQUFBbkIsR0FDQTg2QyxLQUFBcndFLE1BQUEsb0JBQ0EsR0FBQThCLEdBQUEsZUFBQS9ILEVBQUEscUJBQ0E0OEIsR0FBQTcwQixJQUFBLEVBQUFpaEMsRUFBQS9qQyx1QkFBQXVtQyxFQUFBdG1DLE9BQUFsRixFQUFBNDhCLEVBQUE1OEIsR0FBQSxLQUFBczJFLEdBQ0ExNUMsRUFBQTU4QixHQUFBLEVBRUFoQixFQUFBNDlCLGdCQUNLLFdBQUF0QixHQUNMa1EsRUFBQW9yQyxZQUFBLEVBQUEzdEMsRUFBQXpQLGdCQUFBLG9CQUNBZ0MsRUFBQWc3QyxFQUFBaHJDLEVBQUFvckMsWUFDQXByQyxFQUFBcXJDLGFBQUFqdUMsS0FBdUM0QyxFQUFBcXJDLGNBQUEsRUFBQTV0QyxFQUFBMU4scUJBQUFDLElBQ3ZDQSxFQUFBZ1EsRUFBQXFyQyxhQUFBNzJFLElBQUEsRUFDQXEyRSxFQUFBNzZDLEVBQUF4d0IsV0FBQXlILFFBQUEsZ0JBQ0E2akUsRUFBQTlxQyxFQUFBb3FDLFVBQUF2d0UsU0FBQXJGLEdBQ0FzMkUsSUFBQUQsSUFDQTc2QyxHQUFBLEVBQUF3TixFQUFBL2pDLHVCQUFBdW1DLEVBQUF0bUMsT0FBQW8yQixFQUFBeDFCLFdBQUEwMUIsR0FBQTY2QyxFQUFBQyxFQUFBaHhFLElBRUF0RyxFQUFBZ0IsR0FBQThGLFdBQUEwMUIsSUFDS3g3QixFQUFBaUcsTUFBQSwyQkFBQWpHLEdBQ0x3N0IsS0FBQSxXQUFBeDdCLEVBQUF3N0IsRUFBQSx5QkFDQXg4QixFQUFBczhCLElBQUEsRUFBQTJOLEVBQUFwUCxZQUFBMkIsSUFDS3g3QixFQUFBaUcsTUFBQSxZQUNMdTFCLEdBQUEsRUFBQXlOLEVBQUF6TyxhQUFBZ0IsR0FDQTg2QyxFQUFBOXFDLEVBQUFvcUMsVUFBQXZ3RSxTQUFBckYsR0FDQXc3QixJQUFBandCLElBQUFpZ0MsRUFBQTRxQyxvQkFBQWp1QixLQUFBM2MsRUFBQThxQyxFQUFBdDJFLElBQ0FoQixFQUFBczhCLEdBQUFFLEdBQ0s5OEIsTUFBQW1DLFFBQUEycUMsRUFBQW9xQyxVQUFBbDFELEtBQUExZ0IsS0FDTHc3QixJQUFBNTRCLE1BQUEsVUFDQTB6RSxFQUFBOXFDLEVBQUFvcUMsVUFBQXZ3RSxTQUFBckYsR0FDQXc3QixJQUFBandCLElBQUFpZ0MsRUFBQTRxQyxvQkFBQWp1QixLQUFBM2MsRUFBQThxQyxFQUFBdDJFLElBQ0FoQixFQUFBczhCLEdBQUFFLElBR0E4NkMsRUFBQTlxQyxFQUFBb3FDLFVBQUF2d0UsU0FBQWkyQixHQUNBKzZDLEVBQUE3NkMsRUFBQXh3QixXQUFBeUgsUUFBQSxnQkFDQTZqRSxJQUFBRCxJQUNBNzZDLEdBQUEsRUFBQXdOLEVBQUEvakMsdUJBQUF1bUMsRUFBQXRtQyxPQUFBbzJCLEVBQUF4MUIsV0FBQTAxQixHQUFBNjZDLEVBQUFDLEVBQUFoeEUsSUFFQXRHLEVBQUFzOEIsR0FBQXgxQixXQUFBMDFCLEdBQUEsTUFHQXA5QixLQUFBK3JDLE1BQUFuckMsRUFDQUEsR0FFQXRCLEVBQUFvNUUsY0FBQSxTQUFBdkQsRUFBQXBwQyxFQUFBM21DLEVBQUE0QixFQUFBekQsR0FDQSxVQUFBQSxHQUFBLElBQUF3b0MsRUFBQWxzQyxRQUFBLElBQUF1RixFQUFBdkYsU0FDQXVGLEVBQUEsS0FFQSxJQUFBdXpFLEdBQUE1c0MsRUFBQXJzQyxRQUFBLFlBQ0FrNUUsRUFBQXh6RSxFQUFBMUYsUUFBQSxXQUNBLElBQUFpNUUsSUFBQUMsT0FBQUQsRUFDQSxLQUFBbG1FLFNBQUFvbUUsTUFBQSwwQ0FFQSxJQUFBaDVFLEdBQUErNEUsRUFBQSxHQUNBN3NDLEdBQUFsc0MsWUFBQXVGLEVBQUF2RixXQUFBLEdBQ0F1RixFQUFBbTNCLE9BQUEsT0FDQXYxQixFQUFBdTFCLE9BQUEsU0FDR24zQixFQUFBdkYsWUFBQWtzQyxFQUFBbHNDLFdBQUEsR0FDSGtzQyxFQUFBeFAsT0FBQSxNQUVBLElBQUFLLEdBQUF4M0IsRUFBQStILElBQUEsU0FBQWlvRSxFQUFBeDFFLEdBQ0EsR0FBQWs1RSxHQUFBLFVBQUF2MUUsR0FBQSxJQUFBM0QsR0FBQW1zQyxFQUFBbnNDLEdBQUEsSUFDQXc5QixFQUFBLGdCQUFBMk8sR0FBQW5zQyxHQUFBbXNDLEVBQUFuc0MsR0FBQWs1RSxDQUNBLHVCQUFBMUQsR0FDQUEsR0FFQUEsRUFBQWg0QyxHQUFBKzNDLEVBQUEvM0MsR0FBQXAyQixFQUFBcEgsSUFBQSxJQUVBLGNBQUEyRCxFQUNBLFNBQUFzbkMsRUFBQW5PLFVBQUFFLEVBQ0csZUFBQXI1QixFQUFBLENBQ0gsR0FBQXdnQixHQUFBNlksRUFBQS84QixXQUFBLElBQ0FWLEVBQUF5OUIsRUFBQS9wQixNQUFBLEVBQUFrUixHQUFBNVcsSUFBQSxTQUFBN0osR0FDQSxzQkFBQUEsR0FDQUEsRUFBQSxLQUVBQSxJQUVBNEIsRUFBQTAzQixFQUFBL3BCLE1BQUFrUixFQUFBNjBELEVBQUFoOEMsRUFBQS84QixPQUFBLEVBQUErOEIsRUFBQS84QixRQUNBNDhCLEdBQUEsRUFBQW9PLEVBQUFuTyxVQUFBeDNCLEVBQ0EsUUFBQS9GLEVBQUE2RCxLQUFBLFNBQUF5NUIsRUFBQSxLQUFBbThDLEVBQUEsYUFBQXQ4QyxPQUVBLE1BQUFNLElBR0F0OUIsRUFBQTQxRSxTQUFBLFNBQUFDLEVBQUFkLEdBQ0EsR0FBQXYzQixHQUFBOThDLElBRUFxMEUsR0FBQXp6RSxNQUFBeXpFLEVBQUF6ekUsVUFDQVosS0FBQStyQyxNQUFBdk4sWUFDQTYxQyxFQUFBenpFLE1BQUE0OUIsVUFBQTYxQyxFQUFBenpFLE1BQUE0OUIsV0FBQWdNLEtBQWdFeHFDLEtBQUErckMsTUFBQXZOLFdBRWhFLElBQUE1OUIsR0FBQVosS0FBQThHLE9BQUFsRyxLQUNBWixNQUFBbXNDLGFBQ0FncEMsS0FBQSxTQUFBbjFFLEtBQUF1RCxLQUFBLEtBQ0EzQyxFQUFBdXJDLFdBQUEsS0FFQXZyQyxFQUFBdXJDLFdBQUFuc0MsS0FBQW1zQyxZQUdBenVDLE9BQUF1SSxLQUFBakcsS0FBQXczRSxVQUFBbDFELE1BQUFqZixRQUFBLFNBQUF6QixHQUNBLEdBQUFtM0UsR0FBQSxpQkFBQWx1QyxFQUFBaE8sYUFBQWo3QixHQUNBMHpFLEVBQUF5RCxFQUFBajhCLEVBQUEvUSxNQUFBdk4sVUFBQTU4QixHQUFBazdDLEVBQUEvUSxNQUFBbnFDLEdBQ0F5ekUsRUFBQXY0QixFQUFBMDZCLFVBQUFsMUQsS0FBQTFnQixHQUNBb0YsRUFBQTgxQyxFQUFBMDZCLFVBQUF2d0UsU0FBQXJGLEdBQ0FnMkQsRUFBQTlhLEVBQUEwNkIsVUFBQUssVUFBQWoyRSxFQUNBLElBQUFBLElBQUFxcEMsR0FBQSxXQVNBLE1BUkE2UixHQUFBMDZCLFVBQUFsMUQsS0FBQTFnQixHQUFBc3pFLFNBQUFDLEVBQUFkLFFBQ0EsV0FBQXp5RSxFQUNBaEIsRUFBQWs4QyxFQUFBdGUsWUFBQSxFQUFBb00sRUFBQXZpQyxtQkFBQWdzRSxFQUFBenpFLE1BQUE0OUIsVUFBQXNlLEVBQUF4MEMsWUFFQTVLLE9BQUF1SSxLQUFBb3VFLEVBQUF6ekUsT0FBQXlDLFFBQUEsU0FBQTIxRSxHQUNBLE1BQUFwNEUsR0FBQW80RSxHQUFBM0UsRUFBQXp6RSxNQUFBbzRFLEtBSUssSUFBQUQsRUFBQSxDQUNMLEdBQUEveEUsS0FBQWEsTUFBQSxvQkFDQSxHQUFBb3hFLEdBQUEsZUFBQXIzRSxFQUFBLHFCQUNBMHpFLEdBQUF4NEIsRUFBQS9RLE1BQUF2TixVQUFBeTZDLEdBQ0EsTUFBQXJoQixFQUFBNXZELE9BQUEsR0FDQXFzRSxFQUFBenpFLE1BQUE0OUIsVUFBQXk2QyxHQUFBM0QsRUFBQUQsRUFBQUYsRUFBQW51RSxFQUVBcXRFLEVBQUF6ekUsTUFBQTQ5QixVQUFBeTZDLElBQUE1RCxFQUFBQyxHQUFBSCxFQUFBRyxFQUFBdHVFLE1BRU8sY0FBQXBGLEVBQUEsQ0FDUCxHQUFBczNFLEdBQUFwOEIsRUFBQS9RLE1BQUF2TixVQUFBMzFCLE9BQ0Fzd0UsRUFBQXI4QixFQUFBL1EsTUFBQXZOLFVBQUF6MUIsTUFDQSxPQUFBNnVELEVBQUE1dkQsT0FBQSxJQUNBcXNFLEVBQUF6ekUsTUFBQTQ5QixVQUFBMzFCLE9BQUFxd0UsRUFBQTdELEVBQUFGLEVBQ0FkLEVBQUF6ekUsTUFBQTQ5QixVQUFBejFCLE9BQUFvd0UsRUFBQTlELEVBQUFGLElBRUFkLEVBQUF6ekUsTUFBQTQ5QixVQUFBMzFCLFFBQUF3c0UsRUFBQTZELEdBQUEvRCxFQUFBK0QsRUFDQTdFLEVBQUF6ekUsTUFBQTQ5QixVQUFBejFCLFFBQUFzc0UsRUFBQThELEdBQUFoRSxFQUFBZ0UsR0FTQSxNQU5BLE1BQUF2aEIsRUFBQTV2RCxPQUFBLEdBQ0Fxc0UsRUFBQXp6RSxNQUFBNDlCLFVBQUE1OEIsR0FBQTB6RSxFQUFBRCxFQUFBRixFQUVBZCxFQUFBenpFLE1BQUE0OUIsVUFBQTU4QixJQUFBeXpFLEVBQUFDLEdBQUFILEVBQUFHLE9BRUExMEUsRUFBQWs4QyxFQUFBdGUsWUFBQSxFQUFBb00sRUFBQXZpQyxtQkFBQWdzRSxFQUFBenpFLE1BQUE0OUIsVUFBQXNlLEVBQUF4MEMsYUFFSyxHQUFBaEksTUFBQW1DLFFBQUE0eUUsR0FBQSxDQUNMLEdBQUErRCxHQUFBdDhCLEVBQUEwNkIsVUFBQUksU0FBQWgyRSxFQUNBeXlFLEdBQUF6ekUsTUFBQWdCLEdBQUFrN0MsRUFBQTQ3QixjQUFBdkQsRUFBQUcsRUFBQUQsRUFBQXJ1RSxFQUFBb3lFLEdBQ0EsV0FBQUEsSUFDQS9FLEVBQUF6ekUsTUFBQWdCLEdBQUF5eUUsRUFBQXp6RSxNQUFBZ0IsR0FBQW9CLEtBQUE4NUMsRUFBQTA2QixVQUFBTSxhQUFBbDJFLFNBRUssQ0FDTCxHQUFBeTNFLElBQUEsRUFBQXh1QyxFQUFBdkwsYUFBQTE5QixFQUFBLEVBQ0F5M0UsR0FBQSxnQkFBQUEsR0FBQSxHQUFBQSxFQUFBaGxFLFFBQUEsZ0JBQ0FyTixNQUFBc3dFLEVBQUEsV0FBQS83QyxPQUFBNzdCLFFBQUFrQyxJQUFBLEtBQUF5M0UsR0FDQSxnQkFBQWhFLEdBQ0FoQixFQUFBenpFLE1BQUFnQixHQUFBeXpFLEVBRUEsTUFBQXpkLEVBQUE1dkQsT0FBQSxHQUNBcXNFLEVBQUF6ekUsTUFBQWdCLEdBQUEwekUsRUFBQUQsRUFBQUYsRUFBQW51RSxFQUVBcXRFLEVBQUF6ekUsTUFBQWdCLElBQUF5ekUsRUFBQUMsR0FBQUgsRUFBQUcsRUFBQXR1RSxFQUlBLEdBQUFzd0UsRUFBQSxXQUFBLzdDLE9BQUE3N0IsUUFBQWtDLElBQUEsR0FDQSxJQUFBazdDLEVBQUEyN0IsYUFDQSxNQUVBMzdCLEdBQUEyN0IsYUFBQTcyRSxHQUFBeXlFLEVBQUF6ekUsTUFBQWdCLEVBQ0EsSUFBQTAzRSxHQUFBLEVBS0EsT0FKQTU3RSxRQUFBdUksS0FBQTYyQyxFQUFBMjdCLGNBQUFwMUUsUUFBQSxTQUFBazJFLEdBQ0FELEdBQUEsSUFBQUMsRUFBQSxJQUFBejhCLEVBQUEyN0IsYUFBQWMsR0FBQSxXQUVBMzRFLEVBQUFrOEMsRUFBQTA3QixZQUFBYyxFQUFBaDlDLFFBR0ExN0IsRUFBQWdCLEdBQUF5eUUsRUFBQXp6RSxNQUFBZ0IsTUFHQXhFLEVBQUEsV0FBQW02RSxFQUNBcDZFLEVBQUFDLFVBQUEsWWpGNmhlTW84RSxJQUNBLFNBQVNyOEUsRUFBUUMsRUFBU0MsR2tGeDJlaEMsWUFVQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FSN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUE2N0UsR0FBQXA4RSxFQUFBLElBRUFxOEUsRUFBQXA4RSxFQUFBbThFLEdBSUFFLEVBQUEsYUFHQXI2RSxFQUFBcTZFLEVBQUFwNkUsV0FDQXE2RSxnQkFDQXJwQyxNQUNBc3BDLFFBQUEsRUFDQWh1QyxNQUFBLEVBQ0FULFNBQUE5NUIsS0FBQTRYLE1BQUEsUUFDQXhaLFFBQUF4QyxLQUFBNEcsS0FBQSxXQUNBLFVBQUE1RyxPQUFBd0MsV0FFQW9xRSxRQUFBLEVBQ0FDLFdBQUEsRUFDQUMsYUFBQSxJQUVBMTZFLEdBQUE2ZSxJQUFBLFNBQUE5USxHQUNBLEdBQUF6TCxHQUFBLFdBQUE1QixLQUFBNjVFLE9BR0EsT0FGQTc1RSxNQUFBNjVFLFVBQ0E3NUUsS0FBQWk2RSxLQUFBcjRFLEVBQUF5TCxHQUNBekwsR0FFQXRDLEVBQUEyNkUsS0FBQSxTQUFBcjRFLEVBQUF5TCxHQUNBck4sS0FBQTQ1RSxhQUFBaDRFLEdBQUF5TCxFQUNBck4sS0FBQXV3QyxVQUNBdndDLEtBQUF1d0MsSUFBQSxFQUFBbXBDLEVBQUEsWUFBQTE1RSxLQUFBazZFLFFBR0E1NkUsRUFBQXd0QyxNQUFBLFNBQUFsckMsU0FDQTVCLE1BQUE0NUUsYUFBQWg0RSxJQUVBdEMsRUFBQTY2RSxNQUFBLFdBQ0FULEVBQUEsV0FBQTNvQyxPQUFBL3dDLEtBQUF1d0MsSUFDQXZ3QyxLQUFBdXdDLE1BQ0F2d0MsS0FBQTZyQyxNQUFBLEVBRUEsSUFBQXV1QyxHQUFBLEdBQUFULEVBQ0FyNkUsR0FBQTQ2RSxLQUFBLFNBQUExc0UsR0FDQTRzRSxFQUFBTixRQUFBTSxFQUFBTCxXQUFBSyxFQUFBMXFFLFVBQUEwcUUsRUFBQUwsV0FBQSxFQUNBSyxFQUFBTCxXQUFBSyxFQUFBTCxXQUFBSyxFQUFBTCxXQUFBSyxFQUFBTixRQUFBTSxFQUFBMXFFLFVBQUEwcUUsRUFBQU4sT0FDQSxJQUFBdjhFLEdBQUE2OEUsRUFBQVIsWUFPQSxPQU5BbDhFLFFBQUF1SSxLQUFBMUksR0FBQThGLFFBQUEsU0FBQXpCLEdBQ0FyRSxFQUFBcUUsSUFDQXJFLEVBQUFxRSxHQUFBNEwsS0FJQTlQLE9BQUF1SSxLQUFBMUksR0FBQXNDLFFBSUF1NkUsRUFBQU4sUUFBQU0sRUFBQUosZUFBQUksRUFBQXZ1QyxNQUNBdXVDLEVBQUF2dUMsUUFFQXV1QyxFQUFBdnVDLE9BQUF2NkIsS0FBQTRYLE1BQUFreEQsRUFBQU4sUUFBQU0sRUFBQWh2QyxlQUVBZ3ZDLEVBQUE3cEMsSUFBQSxFQUFBbXBDLEVBQUEsWUFBQVUsRUFBQUYsWUFSQUUsR0FBQUQsUUFVQSxJQUFBRSxHQUFBLENBQ0EvNkUsR0FBQXl1QyxRQUFBLFNBQUExZ0MsRUFBQXVmLEdBQ0EsR0FBQTJlLEdBQUF2ckMsSUFFQSxzQkFBQXFOLEdBQ0EsTUFBQW9GLFNBQUFILEtBQUEsaUJBRUEsSUFBQWdvRSxHQUFBLFVBQUFwdEUsS0FBQTRHLE1BQUEsSUFBQXVtRSxFQUNBenVDLEVBQUE1ckMsS0FBQTZyQyxLQVNBLE9BUkE3ckMsTUFBQWk2RSxLQUFBSyxFQUFBLFdBQ0EsR0FBQWh1RSxJQUFBaS9CLEVBQUFNLE1BQUFELEdBQUFMLEVBQUFILFFBQ0E5K0IsS0FBQXNnQixHQUFBLEtBQ0EyZSxFQUFBdUIsTUFBQXd0QyxHQUNBanRFLE9BR0FndEUsSUFDQUMsRUFFQSxJQUFBQyxHQUFBLENBQ0FqN0UsR0FBQWs3RSxTQUFBLFNBQUFudEUsRUFBQXVmLEdBQ0EsR0FBQXdnQixHQUFBcHRDLElBRUEsc0JBQUFxTixHQUVBLE1BREFvRixTQUFBSCxLQUFBLGtCQUNBLElBRUEsSUFBQW1vRSxHQUFBLFdBQUF2dEUsS0FBQTRHLE1BQUEsSUFBQXltRSxFQUNBRyxFQUFBMTZFLEtBQUE2ckMsS0FTQSxPQVJBN3JDLE1BQUFpNkUsS0FBQVEsRUFBQSxXQUNBLEdBQUFudUUsSUFBQThnQyxFQUFBdkIsTUFBQTZ1QyxHQUFBdHRDLEVBQUFoQyxRQUNBOStCLEtBQUFzZ0IsR0FBQSxLQUNBOHRELEVBQUF0dEMsRUFBQXZCLE1BQ0F4K0IsT0FHQWt0RSxJQUNBRSxHQUVBcjlFLEVBQUEsV0FBQWc5RSxFQUNBajlFLEVBQUFDLFVBQUEsWWxGODJlTXU5RSxJQUNBLFNBQVN4OUUsRUFBUUMsR21GNzlldkIsWUFHQSxJQUFBdzlFLElBQ0F0ckMsT0FBQSxTQUFBandDLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXZJLEdBQUE3RixFQUFBOGMsRUFBQTFPLEdBRUFvdEUsV0FBQSxTQUFBeDdFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXZJLElBQUE3RixHQUFBOGMsR0FBQTljLEVBQUFvTyxHQUVBcXRFLFlBQUEsU0FBQXo3RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUF2SSxHQUFBN0YsR0FBQThjLElBQUE5YyxFQUFBLEdBQUFvTyxHQUVBc3RFLGNBQUEsU0FBQTE3RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUFwTyxHQUFBOGMsRUFBQSxLQUNBalgsRUFBQSxFQUFBN0YsSUFBQW9PLEdBRUF2SSxFQUFBLEtBQUE3RixLQUFBLE1BQUFvTyxHQUdBdXRFLFlBQUEsU0FBQTM3RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLE9BQUF2SSxJQUFBN0YsR0FBQThjLEdBQUE5YyxJQUFBb08sR0FFQXd0RSxhQUFBLFNBQUE1N0UsRUFBQW9PLEVBQUE0aEMsRUFBQWx6QixHQUNBLEdBQUFqWCxHQUFBbXFDLEVBQUE1aEMsQ0FDQSxPQUFBdkksS0FBQTdGLElBQUE4YyxFQUFBLEdBQUE5YyxJQUFBLEdBQUFvTyxHQUVBeXRFLGVBQUEsU0FBQTc3RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUFwTyxHQUFBOGMsRUFBQSxLQUNBalgsRUFBQSxFQUFBN0YsTUFBQW9PLEVBRUF2SSxFQUFBLElBQUE3RixHQUFBLEdBQUFBLElBQUEsR0FBQW9PLEdBR0EwdEUsWUFBQSxTQUFBOTdFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXZJLElBQUE3RixHQUFBOGMsR0FBQTljLE1BQUFvTyxHQUVBMnRFLGFBQUEsU0FBQS83RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUF2SSxJQUFBN0YsSUFBQThjLEVBQUEsR0FBQTljLE1BQUEsR0FBQW9PLEdBRUE0dEUsZUFBQSxTQUFBaDhFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsUUFBQXBPLEdBQUE4YyxFQUFBLEtBQ0FqWCxFQUFBLEVBQUE3RixRQUFBb08sR0FFQXZJLEVBQUEsSUFBQTdGLEdBQUEsR0FBQUEsTUFBQSxHQUFBb08sR0FHQTZ0RSxZQUFBLFNBQUFqOEUsRUFBQW9PLEVBQUE0aEMsRUFBQWx6QixHQUNBLEdBQUFqWCxHQUFBbXFDLEVBQUE1aEMsQ0FDQSxPQUFBdkksSUFBQTdGLEdBQUE4YyxHQUFBOWMsUUFBQW9PLEdBRUE4dEUsYUFBQSxTQUFBbDhFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXZJLEtBQUE3RixJQUFBOGMsRUFBQSxHQUFBOWMsUUFBQSxHQUFBb08sR0FFQSt0RSxlQUFBLFNBQUFuOEUsRUFBQW9PLEVBQUE0aEMsRUFBQWx6QixHQUNBLEdBQUFqWCxHQUFBbXFDLEVBQUE1aEMsQ0FDQSxRQUFBcE8sR0FBQThjLEVBQUEsS0FDQWpYLEVBQUEsRUFBQTdGLFVBQUFvTyxFQUVBdkksRUFBQSxJQUFBN0YsR0FBQSxHQUFBQSxRQUFBLEdBQUFvTyxHQUdBZ3VFLFdBQUEsU0FBQXA4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUF2SSxFQUFBb00sS0FBQTR0QixJQUFBNy9CLEVBQUE4YyxHQUFBN0ssS0FBQWd6QixHQUFBLElBQUFwL0IsRUFBQXVJLEdBRUFpdUUsWUFBQSxTQUFBcjhFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXZJLEdBQUFvTSxLQUFBNnRCLElBQUE5L0IsRUFBQThjLEdBQUE3SyxLQUFBZ3pCLEdBQUEsSUFBQTcyQixHQUVBa3VFLGNBQUEsU0FBQXQ4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUF2SSxFQUFBLEdBQUFvTSxLQUFBNHRCLElBQUE1dEIsS0FBQWd6QixHQUFBamxDLEVBQUE4YyxHQUFBLEdBQUExTyxHQUVBbXVFLFdBQUEsU0FBQXY4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFdBQUFwTyxFQUFBb08sRUFBQXZJLEVBQUFvTSxLQUFBeUYsSUFBQSxNQUFBMVgsRUFBQThjLEVBQUEsSUFBQTFPLEdBRUFvdUUsWUFBQSxTQUFBeDhFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsT0FBQXBPLElBQUE4YyxFQUFBMU8sRUFBQXZJLE1BQUFvTSxLQUFBeUYsSUFBQSxNQUFBMVgsRUFBQThjLEdBQUEsR0FBQTFPLEdBRUFxdUUsY0FBQSxTQUFBejhFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsWUFBQXBPLEVBQ0FvTyxFQUVBcE8sSUFBQThjLEVBQ0ExTyxFQUFBdkksR0FFQTdGLEdBQUE4YyxFQUFBLEtBQ0FqWCxFQUFBLEVBQUFvTSxLQUFBeUYsSUFBQSxNQUFBMVgsRUFBQSxJQUFBb08sRUFFQXZJLEVBQUEsSUFBQW9NLEtBQUF5RixJQUFBLFFBQUExWCxHQUFBLEdBQUFvTyxHQUdBc3VFLFdBQUEsU0FBQTE4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUF2SSxHQUFBb00sS0FBQSt0QixLQUFBLEdBQUFoZ0MsR0FBQThjLEdBQUE5YyxHQUFBLEdBQUFvTyxHQUVBdXVFLFlBQUEsU0FBQTM4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLE9BQUF2SSxHQUFBb00sS0FBQSt0QixLQUFBLEdBQUFoZ0MsSUFBQThjLEVBQUEsR0FBQTljLEdBQUFvTyxHQUVBd3VFLGNBQUEsU0FBQTU4RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FBQWpYLEdBQUFtcUMsRUFBQTVoQyxDQUNBLFFBQUFwTyxHQUFBOGMsRUFBQSxNQUNBalgsRUFBQSxHQUFBb00sS0FBQSt0QixLQUFBLEVBQUFoZ0MsS0FBQSxHQUFBb08sRUFFQXZJLEVBQUEsR0FBQW9NLEtBQUErdEIsS0FBQSxHQUFBaGdDLEdBQUEsR0FBQUEsR0FBQSxHQUFBb08sR0FHQXl1RSxjQUFBLFNBQUE3OEUsRUFBQW9PLEVBQUE0aEMsRUFBQWx6QixHQUNBLEdBQ0EzTyxHQUFBbE8sRUFBQUgsRUFEQStGLEVBQUFtcUMsRUFBQTVoQyxDQUtBLE9BSEF0TyxHQUFBLFFBQ0FHLEVBQUEsRUFDQWtPLEVBQUF0SSxFQUNBLElBQUE3RixFQUNBb08sRUFDSyxLQUFBcE8sR0FBQThjLEdBQ0wxTyxFQUFBdkksR0FFQTVGLElBQ0FBLEVBQUEsR0FBQTZjLEdBRUEzTyxFQUFBOEQsS0FBQWMsSUFBQWxOLElBQ0FzSSxFQUFBdEksRUFDQS9GLEVBQUFHLEVBQUEsR0FFQUgsRUFBQUcsR0FBQSxFQUFBZ1MsS0FBQWd6QixJQUFBaHpCLEtBQUF3dEIsS0FBQTU1QixFQUFBc0ksS0FFQUEsRUFBQThELEtBQUF5RixJQUFBLE1BQUExWCxHQUFBLElBQUFpUyxLQUFBNnRCLEtBQUE5L0IsRUFBQThjLEVBQUFoZCxJQUFBLEVBQUFtUyxLQUFBZ3pCLElBQUFobEMsSUFBQW1PLElBRUEwdUUsZUFBQSxTQUFBOThFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUNBM08sR0FBQWxPLEVBQUFILEVBREErRixFQUFBbXFDLEVBQUE1aEMsQ0FLQSxPQUhBdE8sR0FBQSxRQUNBRyxFQUFBLEVBQ0FrTyxFQUFBdEksRUFDQSxJQUFBN0YsRUFDQW9PLEVBQ0ssS0FBQXBPLEdBQUE4YyxHQUNMMU8sRUFBQXZJLEdBRUE1RixJQUNBQSxFQUFBLEdBQUE2YyxHQUVBM08sRUFBQThELEtBQUFjLElBQUFsTixJQUNBc0ksRUFBQXRJLEVBQ0EvRixFQUFBRyxFQUFBLEdBRUFILEVBQUFHLEdBQUEsRUFBQWdTLEtBQUFnekIsSUFBQWh6QixLQUFBd3RCLEtBQUE1NUIsRUFBQXNJLEdBRUFBLEVBQUE4RCxLQUFBeUYsSUFBQSxNQUFBMVgsR0FBQWlTLEtBQUE2dEIsS0FBQTkvQixFQUFBOGMsRUFBQWhkLElBQUEsRUFBQW1TLEtBQUFnekIsSUFBQWhsQyxHQUFBNEYsRUFBQXVJLElBRUEydUUsaUJBQUEsU0FBQS84RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEdBQ0EsR0FDQTNPLEdBQUFsTyxFQUFBSCxFQURBK0YsRUFBQW1xQyxFQUFBNWhDLENBS0EsT0FIQXRPLEdBQUEsUUFDQUcsRUFBQSxFQUNBa08sRUFBQXRJLEVBQ0EsSUFBQTdGLEVBQ0FvTyxFQUNLLEtBQUFwTyxHQUFBOGMsRUFBQSxHQUNMMU8sRUFBQXZJLEdBRUE1RixJQUNBQSxFQUFBNmMsR0FBQSxTQUVBM08sRUFBQThELEtBQUFjLElBQUFsTixJQUNBc0ksRUFBQXRJLEVBQ0EvRixFQUFBRyxFQUFBLEdBRUFILEVBQUFHLEdBQUEsRUFBQWdTLEtBQUFnekIsSUFBQWh6QixLQUFBd3RCLEtBQUE1NUIsRUFBQXNJLEdBRUFuTyxFQUFBLE9BQ0FtTyxFQUFBOEQsS0FBQXlGLElBQUEsTUFBQTFYLEdBQUEsSUFBQWlTLEtBQUE2dEIsS0FBQTkvQixFQUFBOGMsRUFBQWhkLElBQUEsRUFBQW1TLEtBQUFnekIsSUFBQWhsQyxJQUFBbU8sRUFFQUQsRUFBQThELEtBQUF5RixJQUFBLE9BQUExWCxHQUFBLElBQUFpUyxLQUFBNnRCLEtBQUE5L0IsRUFBQThjLEVBQUFoZCxJQUFBLEVBQUFtUyxLQUFBZ3pCLElBQUFobEMsR0FBQSxHQUFBNEYsRUFBQXVJLElBR0E0dUUsV0FBQSxTQUFBaDlFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsRUFBQWhkLEdBQ0EsR0FBQStGLEdBQUFtcUMsRUFBQTVoQyxDQUlBLE9BSEEsVUFBQXRPLElBQ0FBLEVBQUEsU0FFQStGLEdBQUE3RixHQUFBOGMsR0FBQTljLElBQUFGLEVBQUEsR0FBQUUsRUFBQUYsR0FBQXNPLEdBRUE2dUUsWUFBQSxTQUFBajlFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsRUFBQWhkLEdBQ0EsR0FBQStGLEdBQUFtcUMsRUFBQTVoQyxDQUlBLE9BSEEsVUFBQXRPLElBQ0FBLEVBQUEsU0FFQStGLElBQUE3RixJQUFBOGMsRUFBQSxHQUFBOWMsSUFBQUYsRUFBQSxHQUFBRSxFQUFBRixHQUFBLEdBQUFzTyxHQUVBOHVFLGNBQUEsU0FBQWw5RSxFQUFBb08sRUFBQTRoQyxFQUFBbHpCLEVBQUFoZCxHQUNBLEdBQUErRixHQUFBbXFDLEVBQUE1aEMsQ0FJQSxPQUhBLFVBQUF0TyxJQUNBQSxFQUFBLFVBRUFFLEdBQUE4YyxFQUFBLEtBQ0FqWCxFQUFBLEdBQUE3RixPQUFBRixHQUFBLFVBQUFFLEVBQUFGLElBQUFzTyxFQUVBdkksRUFBQSxJQUFBN0YsR0FBQSxHQUFBQSxLQUFBRixHQUFBLFVBQUFFLEVBQUFGLEdBQUEsR0FBQXNPLEdBR0ErdUUsYUFBQSxTQUFBbjlFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUNBMGYsR0FEQTMyQixFQUFBbXFDLEVBQUE1aEMsQ0FHQSxPQURBb3VCLEdBQUErK0MsRUFBQTZCLGNBQUF0Z0UsRUFBQTljLEVBQUEsRUFBQTZGLEVBQUFpWCxHQUNBalgsRUFBQTIyQixFQUFBcHVCLEdBRUFndkUsY0FBQSxTQUFBcDlFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUFBalgsR0FBQW1xQyxFQUFBNWhDLENBQ0EsUUFBQXBPLEdBQUE4YyxHQUFBLE9BQ0FqWCxHQUFBLE9BQUE3RixLQUFBb08sRUFDS3BPLEVBQUEsT0FDTDZGLEdBQUEsUUFBQTdGLEdBQUEsVUFBQUEsRUFBQSxLQUFBb08sRUFDS3BPLEVBQUEsU0FDTDZGLEdBQUEsUUFBQTdGLEdBQUEsV0FBQUEsRUFBQSxPQUFBb08sRUFFQXZJLEdBQUEsUUFBQTdGLEdBQUEsWUFBQUEsRUFBQSxTQUFBb08sR0FHQWl2RSxnQkFBQSxTQUFBcjlFLEVBQUFvTyxFQUFBNGhDLEVBQUFsekIsR0FDQSxHQUNBMGYsR0FEQTMyQixFQUFBbXFDLEVBQUE1aEMsQ0FFQSxPQUFBcE8sR0FBQThjLEVBQUEsR0FDQTBmLEVBQUErK0MsRUFBQTRCLGFBQUEsRUFBQW45RSxFQUFBLEVBQUE2RixFQUFBaVgsR0FDQSxHQUFBMGYsRUFBQXB1QixJQUVBb3VCLEVBQUErK0MsRUFBQTZCLGNBQUEsRUFBQXA5RSxFQUFBOGMsRUFBQSxFQUFBalgsRUFBQWlYLEdBQ0EsR0FBQTBmLEVBQUEsR0FBQTMyQixFQUFBdUksSUFLQXRRLEdBQUFDLFFBQUF3OUUsR25GbytlTStCLElBQ0EsU0FBU3gvRSxFQUFRQyxJb0Y3dGZ2QixTQUFBOE8sR0FBQSxZQU1BLElBQUEwd0UsR0FBQSxrQkFBQWwvRSxRQUFBbS9FLGVBQ0FDLEVBQUEsa0JBQUFDLFNBQ0FDLEVBQUEsbUJBQUFuaUQsZUFBQSxtQkFBQTN1QixLQUFBNDlCLEtBQ0FtekMsRUFBQSxZQUFBRCxJQUFBLFlBQUFBLEdBQ0FFLEVBQUEsbUJBQUFDLGFBQ0FDLEVBQUEsa0JBQUE5OEUsT0FBQW1DLFFBQ0E0NkUsRUFBQSxtQkFBQWp6RSxRQUNBa3pFLEVBQUEsbUJBQUFDLEtBQ0FDLEVBQUEsbUJBQUFDLEtBQ0FDLEVBQUEsbUJBQUE3SyxTQUNBOEssRUFBQSxtQkFBQUMsU0FDQUMsRUFBQSxtQkFBQUMsVUFDQUMsRUFBQVYsR0FBQSxtQkFBQWp6RSxRQUFBQyxTQUNBMnpFLEVBQUFYLEdBQUEsbUJBQUFqekUsUUFBQTZ6RSxZQUNBQyxFQUFBVixHQUFBLGtCQUFBQyxLQUFBbCtFLFVBQUE0K0UsUUFDQUMsRUFBQWQsR0FBQSxrQkFBQUMsS0FBQWgrRSxVQUFBNCtFLFFBQ0FFLEVBQUF6QixHQUFBc0IsR0FBQXhnRixPQUFBbS9FLGdCQUFBLEdBQUFZLE1BQUFVLFdBQ0FHLEVBQUExQixHQUFBd0IsR0FBQTFnRixPQUFBbS9FLGdCQUFBLEdBQUFVLE1BQUFZLFdBQ0FJLEVBQUFSLEdBQUEsa0JBQUF6OUUsT0FBQWYsVUFBQTZLLE9BQUFDLFVBQ0FtMEUsRUFBQUQsR0FBQTdnRixPQUFBbS9FLGtCQUFBenlFLE9BQUFDLGFBQ0FvMEUsRUFBQVYsR0FBQSxrQkFBQXo5RSxPQUFBZixVQUFBNkssT0FBQUMsVUFDQXEwRSxFQUFBRCxHQUFBL2dGLE9BQUFtL0UsZUFBQSxHQUFBenlFLE9BQUFDLGFBQ0FzMEUsRUFBQSxFQUNBQyxJQVdBemhGLEdBQUFDLFFBQUEsU0FBQUcsR0FlQSxHQUFBc2hGLFNBQUF0aEYsRUFDQSxlQUFBc2hGLEVBQ0EsTUFBQUEsRUFTQSxXQUFBdGhGLEVBQ0EsWUFtQkEsSUFBQUEsSUFBQXkvRSxFQUNBLGNBU0EsSUFBQUksR0FBQTk4RSxNQUFBbUMsUUFBQWxGLEdBQ0EsYUFHQSxJQUFBMC9FLEVBQUEsQ0FRQSxHQUFBMS9FLElBQUF5L0UsRUFBQThCLFNBQ0EsZ0JBc0JBLElBQUF2aEYsSUFBQXkvRSxFQUFBejFFLFNBQ0EsZ0JBU0EsSUFBQWhLLEtBQUF5L0UsRUFBQWg2QyxlQUE2Qys3QyxVQUM3QyxxQkFTQSxJQUFBeGhGLEtBQUF5L0UsRUFBQWg2QyxlQUE2Q3VMLFFBQzdDLG1CQVNBLElBQUEydUMsR0FBQTMvRSxZQUFBNC9FLGNBQUEsZUFBQTUvRSxFQUFBeWhGLFFBQ0Esd0JBZUEsSUFBQTlCLEdBQUEzL0UsWUFBQTQvRSxjQUFBLE9BQUE1L0UsRUFBQXloRixRQUNBLGdDQWVBLElBQUE5QixHQUFBMy9FLFlBQUE0L0UsY0FBQSxPQUFBNS9FLEVBQUF5aEYsUUFDQSxtQ0EwQkEsR0FBQUMsR0FBQWpCLEdBQUF6Z0YsRUFBQTZNLE9BQUE2ekUsWUFDQSxvQkFBQWdCLEdBQ0EsTUFBQUEsRUFHQSxJQUFBckMsRUFBQSxDQUNBLEdBQUFzQyxHQUFBeGhGLE9BQUFtL0UsZUFBQXQvRSxFQVNBLElBQUEyaEYsSUFBQTU2RSxPQUFBL0UsVUFDQSxjQVNBLElBQUEyL0UsSUFBQWh5RSxLQUFBM04sVUFDQSxZQVlBLElBQUF1OUUsR0FBQW9DLElBQUFuQyxRQUFBeDlFLFVBQ0EsZUFTQSxJQUFBaStFLEdBQUEwQixJQUFBekIsSUFBQWwrRSxVQUNBLFdBU0EsSUFBQSs5RSxHQUFBNEIsSUFBQTNCLElBQUFoK0UsVUFDQSxXQVNBLElBQUFvK0UsR0FBQXVCLElBQUF0QixRQUFBcitFLFVBQ0EsZUFTQSxJQUFBbStFLEdBQUF3QixJQUFBck0sUUFBQXR6RSxVQUNBLGVBU0EsSUFBQXMrRSxHQUFBcUIsSUFBQXBCLFNBQUF2K0UsVUFDQSxnQkFTQSxJQUFBKzlFLEdBQUE0QixJQUFBWixFQUNBLG9CQVNBLElBQUFkLEdBQUEwQixJQUFBYixFQUNBLG9CQVNBLElBQUFFLEdBQUFXLElBQUFWLEVBQ0Esc0JBU0EsSUFBQUMsR0FBQVMsSUFBQVIsRUFDQSx1QkFTQSxXQUFBUSxFQUNBLGVBSUEsTUFBQXhoRixRQUNBNkIsVUFDQXFOLFNBQ0FuTixLQUFBbEMsR0FDQXNWLE1BQUE4ckUsRUFBQUMsSUFHQXpoRixFQUFBQyxRQUFBK2hGLFdBQUFoaUYsRUFBQUMsVXBGaXVmOEJxQyxLQUFLckMsRUFBVSxXQUFhLE1BQU80QyxXQUkzRG8vRSxJQUNBLFNBQVNqaUYsRUFBUUMsRUFBU0MsR3FGeGxnQmhDLFlBWUEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUE4aEYsR0FBQTMrRSxFQUFBNEssRUFBQWcwRSxFQUFBQyxHQUNBLEdBQUF6eEUsR0FBQXhDLEtBQUFELFdBQUFDLEVBQUFELFVBQUFpMEUsR0FBQWgwRSxFQUFBRCxVQUFBaTBFLEdBQUFDLElBQ0E1NEUsR0FBQSxFQUFBcXVDLEVBQUEsZUFBa0RsbkMsRUFBQXBOLEVBQUFvTixPQUVsRCxPQURBbkgsR0FBQTJ3QixNQUFBLEVBQUEwZCxFQUFBLGVBQW1EbG5DLEVBQUF3cEIsS0FBQTUyQixFQUFBb04sT0FBQXdwQixNQUNuRDN3QixFQUVBLFFBQUE2NEUsR0FBQWwwRSxHQUNBLEdBQUFtMEUsR0FBQW4wRSxFQUFBRCxXQUFBQyxFQUFBRCxVQUFBeUMsTUFFQSxPQUFBeEMsR0FBQUQsV0FBQUMsRUFBQUQsVUFBQXEwRSxRQUFBRCxFQUNBLFFBRUFBLEVBeEJBL2hGLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBaWlGLHFCQUNBamlGLEVBQUFvaUYsZUFFQSxJQUFBenFDLEdBQUExM0MsRUFBQSxHQUVBMjNDLEVBQUExM0MsRUFBQXkzQyxJckYrbWdCTTRxQyxJQUNBLFNBQVN4aUYsRUFBUUMsRUFBU0MsR3NGMW5nQmhDLFlBWUEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFndEMsTUFaQTdzQyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBYyxHQUFBckIsRUFBQSxHQUVBdWlGLEVBQUF2aUYsRUFBQSxLQUVBd2lGLEVBQUF2aUYsRUFBQXNpRixFQU1BeGlGLEdBQUEsWUFDQXdPLFdBQ0E5SyxVQUFBcEMsRUFBQW1OLFVBQUE1SCxPQUNBNkosT0FBQXBQLEVBQUFtTixVQUFBeWlDLE9BQ0ExdEMsTUFBQWxDLEVBQUFtTixVQUFBeWlDLE9BQ0F5RSxRQUFBcjBDLEVBQUFtTixVQUFBRSxLQUNBbXhDLFNBQUF4K0MsRUFBQW1OLFVBQUF3TCxLQUNBMVcsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQTRvQyxTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQXlvRSxLQUFBcGhGLEVBQUFtTixVQUFBd0wsTUFHQWd3QyxnQkFBQSxXQUNBLE9BQ0F2NUMsT0FBQSt4RSxFQUFBLFdBQ0FqL0UsU0FDQW15QyxTQUFBLEVBQ0FweUMsVUFBQSxjQUNBRyxVQUFBLEdBQ0FvOEMsU0FBQTNTLEVBQ0FzQyxTQUFBdEMsRUFDQXcxQyxRQUFBeDFDLEVBQ0F5MUMsYUFBQSxXQUNBLGFBRUFDLGNBQUEsV0FDQSxlQUlBOS9FLHNCQUFBLFNBQUFndEMsR0FDQSxNQUFBbnRDLE1BQUFVLE1BQUFxeUMsU0FBQTVGLEVBQUE0RixTQUVBbXRDLFVBQUEsV0FDQSxHQUFBcnlFLEdBQUE3TixLQUFBVSxNQUFBbU4sT0FDQWhELEVBQUE3SyxLQUFBVSxNQUNBb04sRUFBQWpELEVBQUFpRCxPQUNBcXlFLEVBQUF0MUUsRUFBQXMxRSxVQVNBLE9BUEF0eUUsS0FFQUEsRUFEQXN5RSxFQUNBcnlFLEVBQUFzeUUsZUFFQXR5RSxFQUFBbVcsWUFHQXBXLEdBRUFvNEMsTUFBQSxXQUNBam1ELEtBQUEybkQsS0FBQXhYLE1BQ0Fud0MsS0FBQTJuRCxLQUFBeFgsS0FBQThWLFVBSUE5b0QsRUFBQUMsVUFBQSxZdEZnb2dCTWlqRixJQUNOLElBRU1DLElBQ0EsU0FBU25qRixFQUFRQyxFQUFTQyxHdUYxc2dCaEMsWUEwQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBeEI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQTZoRixFQUFBbGpGLEVBQUEsS0FFQW1qRixFQUFBbGpGLEVBQUFpakYsR0FFQUUsRUFBQXBqRixFQUFBLEtBRUFxakYsRUFBQXBqRixFQUFBbWpGLEdBRUFFLEVBQUF0akYsRUFBQSxLQUVBdWpGLEVBQUF0akYsRUFBQXFqRixHQUVBNXZCLEVBQUExekQsRUFBQSxLQUVBMnpELEVBQUExekQsRUFBQXl6RCxHQUlBOHZCLEVBQUFsaUYsRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsZ0JBRUFsN0MsV0FDQWsxRSxnQkFBQXBpRixFQUFBbU4sVUFBQXdMLEtBQ0EwcEUsZUFBQXJpRixFQUFBbU4sVUFBQXdMLE1BRUFnN0MsUUFBQXV1QixFQUFBLFdBQUFGLEVBQUEsWUFFQTd6QixVQUFBLFNBQUE2RyxHQUNBLEdBQUFuSixHQUFBbUosRUFBQW5KLFFBQ0FtakIsRUFBQWhhLEVBQUFnYSxTQUFBaGEsRUFBQWlhLFFBQ0FxVCxFQUFBaGhGLEtBQUE0eEMsTUFBQWgwQyxNQUNBQSxFQUFBb2pGLENBQ0EsUUFBQXoyQixHQUNBLElBQUF5RyxHQUFBLFdBQUFrRCxLQUNBdDJELEVBQUFvakYsRUFBQWwzRCxRQUNBbHNCLEVBQUF1Z0IsSUFBQSxXQUNBLE1BQ0EsS0FBQTZ5QyxHQUFBLFdBQUEwWCxHQUNBOXFFLEVBQUFvakYsRUFBQWwzRCxRQUNBbHNCLEVBQUF1Z0IsT0FBQSxTQUNBLE1BQ0EsS0FBQTZ5QyxHQUFBLFdBQUF5WCxLQUNBN3FFLEVBQUFvakYsRUFBQWwzRCxRQUNBNGpELEVBQ0E5dkUsRUFBQXVnQixPQUFBLFNBRUF2Z0IsRUFBQXVnQixPQUFBLFNBRUEsTUFDQSxLQUFBNnlDLEdBQUEsV0FBQTJYLE1BQ0EvcUUsRUFBQW9qRixFQUFBbDNELFFBQ0E0akQsRUFDQTl2RSxFQUFBdWdCLElBQUEsV0FFQXZnQixFQUFBdWdCLElBQUEsV0FFQSxNQUNBLEtBQUE2eUMsR0FBQSxXQUFBanFCLE1BR0EsTUFGQS9tQyxNQUFBazlDLFNBQUE4akMsR0FDQXR0QixFQUFBL3dELGlCQUNBLENBQ0EsU0FDQSxPQUVBLEdBQUEvRSxJQUFBb2pGLEVBR0EsTUFGQWhoRixNQUFBaWhGLFNBQUFyakYsR0FDQTgxRCxFQUFBL3dELGlCQUNBLEdBR0FuQyxPQUFBLFdBQ0EsR0FBQUUsR0FBQVYsS0FBQVUsTUFDQUcsRUFBQWxDLEVBQUEsV0FBQTBDLGNBQUFtL0UsRUFBQSxZQUNBMXlFLE9BQUFwTixFQUFBb04sT0FDQWc3QixhQUFBcG9DLEVBQUFvb0MsYUFDQWxvQyxPQUFjMmpFLFNBQUEsWUFDZDNtRSxNQUFBb0MsS0FBQTR4QyxNQUFBaDBDLE1BQ0FzakYsV0FBQXhnRixFQUFBb2dGLGdCQUNBSyxjQUFBemdGLEVBQUEwZ0YsdUJBQ0EzMkIsY0FBQS9wRCxFQUFBQyxVQUNBa3NDLFNBQUE3c0MsS0FBQWloRixTQUNBL2pDLFNBQUFsOUMsS0FBQWs5QyxVQUVBLE9BQUFsOUMsTUFBQXFoRixZQUNBeGdGLGVBS0F6RCxHQUFBLFdBQUF5akYsRUFDQTFqRixFQUFBQyxVQUFBLFl2Rmd0Z0JNa2tGLElBQ0EsU0FBU25rRixFQUFRQyxFQUFTQyxHd0ZyemdCaEMsWUE4QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFndEMsTUFFQSxRQUFBZzNDLEdBQUF4d0QsRUFBQW1kLEdBQ0FsdUMsS0FBQSt3QixHQUFBbWQsRUFqQ0F4d0MsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWdzQyxFQUFBcnRDLEVBQUEsR0FFQXN0QyxFQUFBcnRDLEVBQUFvdEMsR0FFQTgyQyxFQUFBbmtGLEVBQUEsS0FFQW9rRixFQUFBbmtGLEVBQUFra0YsR0FFQXp3QixFQUFBMXpELEVBQUEsS0FFQTJ6RCxFQUFBMXpELEVBQUF5ekQsR0FFQXBLLEVBQUF0cEQsRUFBQSxLQUVBdXBELEVBQUF0cEQsRUFBQXFwRCxHQUVBRixFQUFBcHBELEVBQUEsSUFFQXFwRCxFQUFBcHBELEVBQUFtcEQsR0FVQWk3QixFQUFBL2lGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLFNBRUFsN0MsV0FDQW9nQyxVQUFBdHRDLEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUF3TCxLQUFBM1ksRUFBQW1OLFVBQUE1SCxTQUNBRixTQUFBckYsRUFBQW1OLFVBQUFFLEtBQ0FMLGVBQUFoTixFQUFBbU4sVUFBQTVILE9BQ0E0b0MsU0FBQW51QyxFQUFBbU4sVUFBQXdMLEtBQ0FzcUUsYUFBQWpqRixFQUFBbU4sVUFBQXdMLEtBQ0F4VyxTQUFBbkMsRUFBQW1OLFVBQUF3TCxLQUNBdXFFLHFCQUFBbGpGLEVBQUFtTixVQUFBd0wsS0FDQXpELFNBQUFsVixFQUFBbU4sVUFBQW80QyxRQUNBcmpELE1BQUFsQyxFQUFBbU4sVUFBQXlpQyxPQUNBc2tCLEtBQUFsMEQsRUFBQW1OLFVBQUFFLEtBQ0F1bUQsWUFBQTV6RCxFQUFBbU4sVUFBQUUsS0FDQXBMLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0EyaEMsVUFBQWxuQyxFQUFBbU4sVUFBQUcsSUFDQXBPLE1BQUFjLEVBQUFtTixVQUFBd2lDLFdBQUEzdkMsRUFBQW1OLFVBQUF5aUMsT0FBQTV2QyxFQUFBbU4sVUFBQXRILFFBQ0F1dEMsYUFBQXB6QyxFQUFBbU4sVUFBQXdpQyxXQUFBM3ZDLEVBQUFtTixVQUFBeWlDLE9BQUE1dkMsRUFBQW1OLFVBQUF0SCxRQUNBc3VDLE1BQUFuMEMsRUFBQW1OLFVBQUF5aUMsUUFHQStZLGdCQUFBLFdBQ0EsT0FDQTFtRCxVQUFBLHFCQUNBQyxTQUNBaXlDLFNBQ0FqTixVQUFBLGFBQ0Ewc0IsYUFBQSxFQUNBemxCLFNBQUF0QyxFQUNBbzNDLGFBQUFwM0MsSUFHQWdkLGdCQUFBLFdBQ0EsR0FBQTdtRCxHQUFBVixLQUFBVSxNQUNBa3lELEVBQUEsTUFFQUEsR0FEQSxRQUFBbHlELEdBQ0FBLEVBQUFreUQsS0FFQWx5RCxFQUFBNHhELFdBRUEsSUFBQTEwRCxHQUFBOEMsRUFBQTlDLE9BQUE4QyxFQUFBb3hDLFlBRUEsT0FEQTl4QyxNQUFBNmhGLGdCQUFBTixFQUFBeDNCLEtBQUEvcEQsS0FBQSxxQkFFQTR5RCxPQUNBaDFELFVBR0FzdkMsMEJBQUEsU0FBQUMsR0FDQSxHQUFBdnZDLEdBQUF1dkMsRUFBQXZ2QyxNQUNBZzFELEVBQUF6bEIsRUFBQXlsQixJQUVBLFVBQUF6bEIsSUFDQW50QyxLQUFBNnhDLFVBQ0FqMEMsVUFHQUMsU0FBQSswRCxHQUNBNXlELEtBQUE2eEMsVUFDQStnQixVQUlBNWtCLG1CQUFBLFNBQUFrTixFQUFBNG1DLElBQ0FBLEVBQUFsdkIsTUFBQTV5RCxLQUFBNHhDLE1BQUFnaEIsTUFDQTV5RCxLQUFBK2hGLGlCQUdBQyxrQkFBQSxTQUFBdHVCLEdBQ0FBLEVBQUFuSixVQUFBeUcsRUFBQSxXQUFBcUQsTUFDQVgsRUFBQXZjLGtCQUNBbjNDLEtBQUFpaUYsTUFBQWppRixLQUFBaW1ELFNBR0FpOEIsaUJBQUEsU0FBQXRrRixHQUNBLEdBQUF1a0YsR0FBQWppRixVQUFBTCxPQUFBLEdBQUFoQyxTQUFBcUMsVUFBQSxHQUFBQSxVQUFBLE1BRUFRLEVBQUFWLEtBQUFVLEtBQ0EsVUFBQUEsSUFDQVYsS0FBQTZ4QyxVQUNBajBDLFdBR0EsYUFBQXVrRixFQUFBNXVFLFNBQUE3UyxFQUFBa1QsU0FBQWxULE1BQUF5L0UsWUFBQSxjQUFBZ0MsRUFBQTV1RSxRQUFBLGdCQUFBNHVFLEVBQUE1dUUsU0FDQXZULEtBQUFpaUYsTUFBQWppRixLQUFBaW1ELE9BRUF2bEQsRUFBQW1zQyxTQUFBanZDLElBRUFpdkQsVUFBQSxTQUFBNkcsR0FDQUEsRUFBQW5KLFVBQUF5RyxFQUFBLFdBQUFrRCxNQUFBbDBELEtBQUE0eEMsTUFBQWdoQixPQUNBNXlELEtBQUE0eUQsT0FDQWMsRUFBQS93RCxtQkFHQXkvRSxhQUFBLFdBQ0FwaUYsS0FBQWlpRixNQUFBamlGLEtBQUFpbUQsUUFFQW84QixnQkFBQSxXQUNBcmlGLEtBQUFpaUYsTUFBQWppRixLQUFBaW1ELFFBRUFqVCxnQkFBQSxTQUFBNGYsR0FDQTV5RCxLQUFBc2lGLFFBQUExdkIsSUFFQTJ2QixtQkFBQSxXQUNBLEdBQUE3aEYsR0FBQVYsS0FBQVUsTUFDQWt4QyxFQUFBNXhDLEtBQUE0eEMsTUFDQTR3QyxFQUFBOWhGLEVBQUFrVCxTQUFBbFQsTUFDQTlDLEVBQUFnMEMsRUFBQWgwQyxNQUVBazBDLEVBQUEsTUFHQUEsR0FEQXh4QyxNQUFBbUMsUUFBQTdFLEdBQ0FBLEVBQUEsR0FFQUEsQ0FFQSxJQUFBNmtGLElBQ0F4NkIsSUFBQWpvRCxLQUFBNmhGLGdCQUNBL3ZDLGdCQUFBMHdDLEVBQUExd0MsYUFDQXlpQixjQUFBMzJELEVBQ0FpdkQsVUFBQTdzRCxLQUFBZ2lGLGtCQUNBbEMsTUFBQSxFQUFBMkIsRUFBQSxZQUFBZSxFQUFBMUMsS0FBQTkvRSxLQUFBb2lGLGNBQ0FsbEMsVUFBQSxFQUFBdWtDLEVBQUEsWUFBQWUsRUFBQXRsQyxTQUFBbDlDLEtBQUFraUYsa0JBQ0FuQyxTQUFBLEVBQUEwQixFQUFBLFlBQUFlLEVBQUF6QyxRQUFBLy9FLEtBQUFxaUYsaUJBR0EsT0FBQTFqRixHQUFBLFdBQUFtbkMsYUFBQXBsQyxFQUFBa1QsU0FBQTZ1RSxJQUVBSCxRQUFBLFNBQUExdkIsRUFBQWxtRCxHQUNBLEdBQUFpMUUsR0FBQTNoRixLQUFBVSxNQUFBaWhGLFlBRUEzaEYsTUFBQTR4QyxNQUFBZ2hCLFdBQ0EsUUFBQTV5RCxNQUFBVSxPQUNBVixLQUFBNnhDLFVBQ0ErZ0IsUUFDU2xtRCxHQUVUaTFFLEVBQUEvdUIsS0FHQUEsS0FBQSxTQUFBbG1ELEdBQ0ExTSxLQUFBc2lGLFNBQUEsRUFBQTUxRSxJQUVBdTFFLE1BQUEsU0FBQXYxRSxHQUNBMU0sS0FBQXNpRixTQUFBLEVBQUE1MUUsSUFFQXU1QyxNQUFBLFdBQ0FqbUQsS0FBQTR4QyxNQUFBZ2hCLE1BQ0Fqb0IsRUFBQSxXQUFBc0MsWUFBQWp0QyxNQUFBaW1ELFNBR0E4N0IsY0FBQSxXQUNBL2hGLEtBQUE0eEMsTUFBQWdoQixNQUFBLE9BQUE1eUQsS0FBQTBpRixrQkFDQTFpRixLQUFBMGlGLGlCQUFBejhCLFNBR0F6bEQsT0FBQSxXQUNBLEdBQUFFLEdBQUFWLEtBQUFVLE1BQ0FDLEVBQUFELEVBQUFDLFVBQ0FpbEMsRUFBQWxsQyxFQUFBa2xDLFVBQ0FobEMsRUFBQUYsRUFBQUUsTUFDQWdoRixFQUFBbGhGLEVBQUFraEYscUJBQ0EvdUMsRUFBQW55QyxFQUFBbXlDLE1BQ0E3RyxFQUFBdHJDLEVBQUFzckMsVUFDQWpvQyxFQUFBckQsRUFBQXFELFNBQ0EySCxFQUFBaEwsRUFBQWdMLGVBQ0E3SyxFQUFBSCxFQUFBRyxTQUVBK3dDLEVBQUE1eEMsS0FBQTR4QyxLQUNBLE9BQUFqekMsR0FBQSxXQUFBMEMsY0FDQXFsRCxFQUFBLFlBRUFrQyxNQUFBNW9ELEtBQUF1aUYscUJBQ0FoNkIsV0FBQTFWLEVBQ0F1VixrQkFBQXhCLEVBQUEsV0FDQTBCLGVBQUExaUIsRUFDQXlpQixPQUFBdGtELElBQUE2dEMsRUFBQWdoQixTQUFBLFNBQ0ErdkIsb0JBQUEsRUFDQXY3QixrQkFBQXc2QixFQUNBejVCLFdBQUF2bkQsRUFDQTZuRCxlQUFBemMsRUFDQXdjLG9CQUFBOThDLEVBQ0FnOUMsYUFBQTlXLEVBQUFnaEIsS0FDQS9KLHFCQUFBN29ELEtBQUFnekMsZ0JBQ0FyeUMsYUFFQWhDLEVBQUEsV0FBQW1uQyxhQUFBamxDLEVBQUErd0MsRUFBQWx4QyxJQUErRG1zRCxVQUFBN3NELEtBQUE2c0QsZUFLL0R6dkQsR0FBQSxXQUFBc2tGLEVBQ0F2a0YsRUFBQUMsVUFBQSxZeEYyemdCTXdsRixJQUNBLFNBQVN6bEYsRUFBUUMsRUFBU0MsR3lGbGloQmhDLFlBc0JBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBc2xGLEdBQUF6MkQsR0FDQSxHQUFBL2xCLEdBQUFyRyxLQUFBVSxNQUFBOUMsTUFBQWtzQixPQUNBempCLEdBQUE4WCxJQUFBaU8sRUFBQSxVQUNBcHNCLEtBQUFVLE1BQUFvaUYsY0FBQXo4RSxHQUdBLFFBQUEwOEUsR0FBQTMyRCxHQUNBLEdBQUEvbEIsR0FBQXJHLEtBQUFVLE1BQUE5QyxNQUFBa3NCLE9BQ0F6akIsR0FBQThYLElBQUFpTyxFQUFBLFNBQ0Fwc0IsS0FBQVUsTUFBQW9pRixjQUFBejhFLEdBR0EsUUFBQTI4RSxHQUFBMWIsRUFBQTJiLEdBQ0EsTUFBQTNiLEdBQUEyYixFQUFBLEtBbkNBdmxGLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFjLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUE2aEYsRUFBQWxqRixFQUFBLEtBRUFtakYsRUFBQWxqRixFQUFBaWpGLEdBRUEyQyxFQUFBN2xGLEVBQUEsS0FFQThsRixFQUFBN2xGLEVBQUE0bEYsR0FFQUUsRUFBQS9sRixFQUFBLEtBRUFnbUYsRUFBQS9sRixFQUFBOGxGLEdBb0JBRSxFQUFBM2tGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLGlCQUVBbDdDLFdBQ0EyM0UsV0FBQTdrRixFQUFBbU4sVUFBQUcsSUFDQXczRSxXQUFBOWtGLEVBQUFtTixVQUFBRyxJQUNBckwsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQXcvRSxlQUFBL2tGLEVBQUFtTixVQUFBRSxLQUNBK0IsT0FBQXBQLEVBQUFtTixVQUFBeWlDLE9BQ0Exd0MsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQXcwQyxjQUFBcGtGLEVBQUFtTixVQUFBd0wsTUFHQWd3QyxnQkFBQSxXQUNBLE9BQ0FtOEIsV0FBQSxFQUNBRCxXQUFBLElBR0FoOEIsZ0JBQUEsV0FLQSxNQUpBdm5ELE1BQUEwakYsVUFBQWIsRUFBQTk0QixLQUFBL3BELEtBQUEsR0FDQUEsS0FBQTJqRixjQUFBZCxFQUFBOTRCLEtBQUEvcEQsU0FDQUEsS0FBQTRqRixTQUFBYixFQUFBaDVCLEtBQUEvcEQsS0FBQSxHQUNBQSxLQUFBNmpGLGFBQUFkLEVBQUFoNUIsS0FBQS9wRDtJQUdBazlDLFNBQUEsU0FBQXQvQyxHQUNBb0MsS0FBQTZ4QyxVQUNBaXlDLGVBQUEsRUFDQUMsY0FBQSxJQUVBL2pGLEtBQUFVLE1BQUFvaUYsY0FBQWxsRixJQUVBb21GLGlCQUFBLFNBQUFQLEdBQ0EsR0FBQS9pRixHQUFBVixLQUFBVSxNQUNBQyxFQUFBRCxFQUFBQyxVQUNBbU4sRUFBQXBOLEVBQUFvTixPQUNBbFEsRUFBQThDLEVBQUE5QyxNQUNBcW1GLEVBQUFuMkUsRUFBQW0yRSxnQkFDQUMsRUFBQXZqRixFQUFBLEtBQUFzakYsRUFBQSx5QkFDQTdxRSxFQUFBemEsRUFBQSxXQUFBMEMsY0FDQSxLQUVBUCxVQUFBSCxFQUFBLGVBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUEyd0MsRUFBQSxLQUFBempGLEtBQUErakYsY0FDQTNsQyxNQUFBdHdDLEVBQUFxMkUsWUFFQXZtRixFQUFBaVEsT0FBQUMsRUFBQXMyRSxhQUVBL3FFLEVBQUExYSxFQUFBLFdBQUEwQyxjQUNBLEtBRUFQLFVBQUFILEVBQUEsZ0JBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUEyd0MsRUFBQSxLQUFBempGLEtBQUE4akYsZUFDQTFsQyxNQUFBdHdDLEVBQUF1MkUsYUFFQXptRixFQUFBaVEsT0FBQUMsRUFBQXcyRSxjQUVBM2xFLEVBQUEsTUFDQThrRSxLQUNBOWtFLEVBQUFoZ0IsRUFBQSxXQUFBMEMsY0FDQSxLQUVBUCxVQUFBSCxFQUFBLGNBQ0FnNEQsS0FBQSxVQUVBLzZELEVBQUFpUSxPQUFBQyxFQUFBeTJFLFlBR0EsSUFBQUMsS0FNQSxPQUpBQSxHQURBUCxHQUNBNXFFLEVBQUFzRixFQUFBdkYsSUFFQUEsRUFBQUMsRUFBQXNGLEdBRUFoZ0IsRUFBQSxXQUFBMEMsY0FDQSxRQUNPUCxVQUFBb2pGLElBQ1AsRUFBQWIsRUFBQSxZQUFBbUIsS0FHQVYsZUFBQSxXQUNBOWpGLEtBQUE2eEMsVUFDQWl5QyxlQUFBLEVBQ0FDLGNBQUEsS0FHQUEsY0FBQSxXQUNBL2pGLEtBQUE2eEMsVUFDQWl5QyxlQUFBLEVBQ0FDLGNBQUEsS0FHQXZqRixPQUFBLFdBQ0EsR0FBQUUsR0FBQVYsS0FBQVUsTUFDQThpRixFQUFBOWlGLEVBQUE4aUYsV0FDQUQsRUFBQTdpRixFQUFBNmlGLFdBQ0E1aUYsRUFBQUQsRUFBQUMsVUFDQW1OLEVBQUFwTixFQUFBb04sT0FDQWxRLEVBQUE4QyxFQUFBOUMsTUFDQTZsRixFQUFBL2lGLEVBQUEraUYsZUFFQTd4QyxFQUFBNXhDLEtBQUE0eEMsTUFDQTZ5QyxFQUFBLElBQ0E3eUMsR0FBQWt5QyxlQUNBVyxFQUFBakUsRUFBQSxXQUNLNXVDLEVBQUFteUMsZ0JBQ0xVLEVBQUF0QixFQUFBLFdBRUEsSUFBQXVCLEdBQUEsTUFTQSxPQVJBRCxLQUNBQyxFQUFBL2xGLEVBQUEsV0FBQTBDLGNBQUFvakYsR0FDQTMyRSxTQUNBZ2tDLGFBQUFsMEMsRUFDQTZzRCxjQUFBOXBELEVBQ0F1OEMsU0FBQWw5QyxLQUFBazlDLFlBR0F2K0MsRUFBQSxXQUFBMEMsY0FDQSxPQUNPUCxVQUFBSCxFQUFBLFdBQ1BoQyxFQUFBLFdBQUEwQyxjQUNBLE9BQ1NULE9BQVMyakUsU0FBQSxhQUNsQnllLEVBQUFPLElBQUFFLEVBQUE5a0YsRUFBQSxXQUFBMEMsY0FBQSxLQUNBUCxVQUFBSCxFQUFBLGlCQUNBZzRELEtBQUEsU0FDQTdsQixRQUFBOXlDLEtBQUE2akYsYUFDQXpsQyxNQUFBdHdDLEVBQUErMUUsZ0JBRUFiLEVBQUFPLElBQUFFLEVBQUE5a0YsRUFBQSxXQUFBMEMsY0FBQSxLQUNBUCxVQUFBSCxFQUFBLGtCQUNBZzRELEtBQUEsU0FDQTdsQixRQUFBOXlDLEtBQUEyakYsY0FDQXZsQyxNQUFBdHdDLEVBQUE2MUUsaUJBRUEzakYsS0FBQWdrRixpQkFBQVAsR0FDQVQsRUFBQVEsSUFBQUMsRUFBQTlrRixFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsa0JBQ0FteUMsUUFBQTl5QyxLQUFBMGpGLFVBQ0F0bEMsTUFBQXR3QyxFQUFBNDFFLGFBRUFWLEVBQUFRLElBQUFDLEVBQUE5a0YsRUFBQSxXQUFBMEMsY0FBQSxLQUNBUCxVQUFBSCxFQUFBLGlCQUNBbXlDLFFBQUE5eUMsS0FBQTRqRixTQUNBeGxDLE1BQUF0d0MsRUFBQTgxRSxhQUdBYyxLQUtBdG5GLEdBQUEsV0FBQWttRixFQUNBbm1GLEVBQUFDLFVBQUEsWXpGd2loQk11bkYsSUFDQSxTQUFTeG5GLEVBQVFDLEVBQVNDLEcwRjd1aEJoQyxZQVdBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBcW5GLEdBQUEvbkMsR0FDQSxHQUFBbDhDLEdBQUFrOEMsRUFBQWw4QyxVQUNBbU4sRUFBQSt1QyxFQUFBL3VDLE9BQ0ErMkUsRUFBQWhvQyxFQUFBZ29DLFdBQ0EvRSxFQUFBampDLEVBQUFpakMsS0FFQWgvRSxFQUFBSCxFQUFBLFNBSUEsT0FIQWtrRixLQUNBL2pGLEdBQUEsSUFBQUgsRUFBQSxvQkFFQWhDLEVBQUEsV0FBQTBDLGNBQ0EsS0FFQVAsWUFDQTYzRCxLQUFBLFNBQ0E3bEIsUUFBQSt4QyxFQUFBLEtBQUEvRSxHQUVBaHlFLEVBQUFnM0UsSUE1QkFwbkYsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsV0FBQXduRixDQUVBLElBQUFsbUYsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsRUF3QkF2QixHQUFBQyxVQUFBLFkxRm12aEJNMm5GLElBQ0EsU0FBUzVuRixFQUFRQyxFQUFTQyxHMkZyeGhCaEMsWUFvQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUF5bkYsR0FBQW5vQyxHQUNBLEdBQUEvOUMsR0FFQTZCLEVBQUFrOEMsRUFBQWw4QyxVQUNBbU4sRUFBQSt1QyxFQUFBL3VDLE9BQ0EyMUUsRUFBQTVtQyxFQUFBNG1DLGVBQ0F3QixFQUFBcG9DLEVBQUFvb0MsaUJBQ0FDLEVBQUFyb0MsRUFBQXFvQyxrQkFDQUMsRUFBQXRvQyxFQUFBc29DLG1CQUVBcmtGLEdBQUEsRUFBQW13RCxFQUFBLGFBQUFueUQsTUFBZ0UsRUFBQWIsRUFBQSxZQUFBYSxFQUFBNkIsRUFBQSwwQkFBQTFDLEVBQUEsWUFBQWEsRUFBQTZCLEVBQUEsNEJBQUF3a0YsR0FBQXJtRixJQUNoRWcwQyxFQUFBLElBSUEsT0FIQXF5QyxLQUNBcnlDLEVBQUEyd0MsRUFBQXlCLEVBQUFELEdBRUF0bUYsRUFBQSxXQUFBMEMsY0FDQSxLQUVBUCxZQUNBNjNELEtBQUEsU0FDQTdsQixXQUVBMndDLEVBQUEzMUUsRUFBQXMzRSxXQUFBdDNFLEVBQUF1M0UsWUExQ0EzbkYsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxFQUVBWixHQUFBLFdBQUE0bkYsQ0FFQSxJQUFBdG1GLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFLLEVBQUExQixFQUFBLEdBRUE0ekQsRUFBQTN6RCxFQUFBeUIsRUE2QkE1QixHQUFBQyxVQUFBLFkzRjJ4aEJNa29GLElBQ0EsU0FBU25vRixFQUFRQyxFQUFTQyxHNEYzMGhCaEMsWUFhQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQWdvRixHQUFBMW9DLEdBQ0EsR0FBQWw4QyxHQUFBazhDLEVBQUFsOEMsVUFDQW1OLEVBQUErdUMsRUFBQS91QyxPQUNBbFEsRUFBQWkvQyxFQUFBai9DLE1BQ0F1aUYsRUFBQXRqQyxFQUFBc2pDLFdBQ0FwOEUsRUFBQTg0QyxFQUFBOTRDLFNBQ0Era0MsRUFBQStULEVBQUEvVCxhQUNBMDhDLEVBQUEzb0MsRUFBQTJvQyxRQUNBNWlDLEVBQUEvRixFQUFBK0YsS0FFQTZpQyxJQUFBN2lDLEdBQUF1OUIsRUFBQXJ5RSxFQUFBZ0csSUFBQTh1QyxJQUFBOTBDLEVBQUFnNkIsTUFDQTQ5QyxFQUFBNThDLEtBQUEsRUFBQThCLEVBQUEvQixnQkFBQSxFQUFBK0IsRUFBQS9DLGNBQUFqcUMsR0FBQWtyQyxHQUNBNjhDLEVBQUFELEdBQUEzaEYsRUFDQTZoRixFQUFBRCxFQUFBaGxGLEVBQUEsd0JBQ0EsT0FBQWhDLEdBQUEsV0FBQTBDLGNBQ0EsS0FFQVAsVUFBQUgsRUFBQSxjQUFBaWxGLEVBQ0FqdEIsS0FBQSxTQUNBN2xCLFFBQUE2eUMsRUFBQSxLQUFBSCxFQUNBcG5DLE9BQUEsRUFBQXhULEVBQUEzQyxpQkFBQXJxQyxJQUVBNm5GLEdBbkNBL25GLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFdBQUFtb0YsQ0FFQSxJQUFBN21GLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFrc0MsRUFBQXZ0QyxFQUFBLEdBNkJBRixHQUFBQyxVQUFBLFk1RmkxaEJNeW9GLElBQ0EsU0FBUzFvRixFQUFRQyxHNkYxM2hCdkIsWUFFQU0sUUFBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLElBRUFSLEVBQUEsWUFDQTBvRixlQUFBLEVBQ0FDLGVBQUEsR0FFQTVvRixFQUFBQyxVQUFBLFk3Rmc0aEJNNG9GLElBQ0EsU0FBUzdvRixFQUFRQyxFQUFTQyxHOEYxNGhCaEMsWUFrQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBaEI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQWdzQyxFQUFBcnRDLEVBQUEsR0FFQXN0QyxFQUFBcnRDLEVBQUFvdEMsR0FFQTNCLEVBQUExckMsRUFBQSxJQUVBMHFDLEVBQUF6cUMsRUFBQXlyQyxHQUlBazlDLEVBQUF0bkYsRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsWUFFQWw3QyxXQUNBakwsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQWs4RSxXQUFBemhGLEVBQUFtTixVQUFBeWlDLE9BQ0Exd0MsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQWxHLGFBQUExcEMsRUFBQW1OLFVBQUFHLElBQ0E2QixPQUFBblAsRUFBQW1OLFVBQUE1SCxPQUNBNkosT0FBQXBQLEVBQUFtTixVQUFBeWlDLE9BQ0F4RixhQUFBcHFDLEVBQUFtTixVQUFBd0wsS0FDQXcxQixTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQTBvRSxRQUFBcmhGLEVBQUFtTixVQUFBd0wsS0FDQTA2QyxZQUFBcnpELEVBQUFtTixVQUFBNUgsT0FDQWk1QyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsS0FDQWs5QyxjQUFBNzFELEVBQUFtTixVQUFBeWlDLFFBR0FpWixnQkFBQSxXQUNBLEdBQUFnTixHQUFBdjBELEtBQUFVLE1BQUE2ekQsYUFDQSxRQUNBMnhCLElBQUEzeEIsS0FBQTFtRCxPQUFBN04sS0FBQVUsTUFBQW1OLFNBQUEsR0FDQXFyQixTQUFBLElBR0FnVSwwQkFBQSxTQUFBQyxHQUVBLEdBQUFvbkIsR0FBQXBuQixFQUFBb25CLGFBQ0F2MEQsTUFBQTZ4QyxVQUNBcTBDLElBQUEzeEIsS0FBQTFtRCxPQUFBcy9CLEVBQUF0L0IsU0FBQSxHQUNBcXJCLFNBQUEsS0FHQXU2QixjQUFBLFNBQUFDLEdBQ0EsR0FBQXd5QixHQUFBeHlCLEVBQUE1c0QsT0FBQWxKLEtBQ0FvQyxNQUFBNnhDLFVBQ0FxMEMsT0FFQSxJQUFBdG9GLEdBQUEsT0FDQWlOLEVBQUE3SyxLQUFBVSxNQUNBb29DLEVBQUFqK0IsRUFBQWkrQixhQUNBajdCLEVBQUFoRCxFQUFBZ0QsT0FDQWcvQixFQUFBaGlDLEVBQUFnaUMsUUFFQSxJQUFBcTVDLEVBQUEsQ0FDQSxHQUFBQyxJQUFBLEVBQUFwK0MsRUFBQSxZQUFBbStDLEVBQUFyNEUsR0FBQSxFQUNBLEtBQUFzNEUsRUFBQWozRSxVQUlBLFdBSEFsUCxNQUFBNnhDLFVBQ0EzWSxTQUFBLEdBT0EsSUFIQXQ3QixFQUFBb0MsS0FBQVUsTUFBQTlDLE1BQUFrc0IsUUFDQWxzQixFQUFBd2IsS0FBQStzRSxFQUFBL3NFLFFBQUFDLE1BQUE4c0UsRUFBQTlzRSxTQUFBeUIsS0FBQXFyRSxFQUFBcnJFLFFBQUFnTSxLQUFBcS9ELEVBQUFyL0QsUUFBQVcsT0FBQTArRCxFQUFBMStELFVBQUFDLE9BQUF5K0QsRUFBQXorRCxXQUVBOXBCLEdBQUFrckMsS0FBQWxyQyxHQWFBLFdBSEFvQyxNQUFBNnhDLFVBQ0EzWSxTQUFBLEdBVkEsSUFBQWt0RCxHQUFBcG1GLEtBQUFVLE1BQUE2ekQsYUFDQTZ4QixJQUFBeG9GLEVBQ0F3b0YsRUFBQS80RCxPQUFBenZCLElBQ0FpdkMsRUFBQWp2QyxHQUVTd29GLElBQUF4b0YsR0FDVGl2QyxFQUFBanZDLE9BU0FpdkMsR0FBQSxLQUVBN3NDLE1BQUE2eEMsVUFDQTNZLFNBQUEsS0FHQTZtRCxRQUFBLFdBQ0EvL0UsS0FBQTZ4QyxVQUNBcTBDLElBQUEsS0FFQWxtRixLQUFBVSxNQUFBcS9FLFFBQUEsT0FFQXNHLGVBQUEsV0FDQSxNQUFBMTdDLEdBQUEsV0FBQXNDLFlBQUFqdEMsT0FFQWltRCxNQUFBLFdBQ0FqbUQsS0FBQTJuRCxLQUFBMitCLFVBQUFyZ0MsU0FFQXpsRCxPQUFBLFdBQ0EsR0FBQUUsR0FBQVYsS0FBQVUsTUFDQXUyQyxFQUFBajNDLEtBQUE0eEMsTUFDQTFZLEVBQUErZCxFQUFBL2QsUUFDQWd0RCxFQUFBanZDLEVBQUFpdkMsSUFDQXA0RSxFQUFBcE4sRUFBQW9OLE9BQ0FuTixFQUFBRCxFQUFBQyxVQUNBb3hELEVBQUFyeEQsRUFBQXF4RCxZQUVBdzBCLEVBQUFydEQsRUFBQXY0QixFQUFBLG1CQUNBLE9BQUFoQyxHQUFBLFdBQUEwQyxjQUNBLE9BQ09QLFVBQUFILEVBQUEsZUFDUGhDLEVBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQUgsRUFBQSxvQkFDVGhDLEVBQUEsV0FBQTBDLGNBQUEsU0FDQTRtRCxJQUFBLFlBQ0FubkQsVUFBQUgsRUFBQSxVQUFBNGxGLEVBQ0Ezb0YsTUFBQXNvRixFQUNBbmlGLFNBQUFyRCxFQUFBcUQsU0FDQWd1RCxjQUNBbGxCLFNBQUE3c0MsS0FBQXl6RCxpQkFHQS95RCxFQUFBOGxGLFVBQUE3bkYsRUFBQSxXQUFBMEMsY0FBQSxLQUNBUCxVQUFBSCxFQUFBLGFBQ0FnNEQsS0FBQSxTQUNBdmEsTUFBQXR3QyxFQUFBZy9CLE1BQ0FnRyxRQUFBOXlDLEtBQUErL0UsVUFDTyxRQUtQM2lGLEdBQUEsV0FBQTZvRixFQUNBOW9GLEVBQUFDLFVBQUEsWTlGZzVoQk1xcEYsSUFDQSxTQUFTdHBGLEVBQVFDLEVBQVNDLEcrRmxpaUJoQyxZQThCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0E1QjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBTSxHQUFBYixFQUFBLEdBRUFjLEVBQUFiLEVBQUFZLEdBRUFFLEVBQUFmLEVBQUEsR0FFQWdCLEVBQUFmLEVBQUFjLEdBRUFFLEVBQUFqQixFQUFBLEdBRUFrQixFQUFBakIsRUFBQWdCLEdBRUFJLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnb0YsRUFBQXJwRixFQUFBLEtBRUFzcEYsRUFBQXJwRixFQUFBb3BGLEdBRUFFLEVBQUF2cEYsRUFBQSxLQUVBd3BGLEVBQUF2cEYsRUFBQXNwRixHQUlBRSxFQUFBLFNBQUEvbUYsR0FHQSxRQUFBK21GLEtBRUEsT0FEQSxFQUFBM29GLEVBQUEsWUFBQTZCLEtBQUE4bUYsSUFDQSxFQUFBem9GLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFFLE1BQUFELEtBQUFFLFlBY0EsT0FsQkEsRUFBQTNCLEVBQUEsWUFBQXVvRixFQUFBL21GLEdBT0ErbUYsRUFBQXZuRixVQUFBaUIsT0FBQSxXQUNBLEdBQUFFLEdBQUFWLEtBQUFVLE1BQ0FDLEVBQUFELEVBQUFDLFNBQ0EsT0FBQWhDLEdBQUEsV0FBQTBDLGNBQ0EsU0FDT1AsVUFBQUgsRUFBQSxTQUFBb21GLFlBQUEsSUFBQXB1QixLQUFBLFFBQ1BoNkQsRUFBQSxXQUFBMEMsY0FBQXNsRixFQUFBLFdBQUFqbUYsR0FDQS9CLEVBQUEsV0FBQTBDLGNBQUF3bEYsRUFBQSxXQUFBbm1GLEtBSUFvbUYsR0FDQ25vRixFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBMHBGLEVBQ0EzcEYsRUFBQUMsVUFBQSxZL0Z3aWlCTTRwRixJQUNBLFNBQVM3cEYsRUFBUUMsRUFBU0MsR2dHaG1pQmhDLFlBVUEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBUjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBcXBGLEdBQUE1cEYsRUFBQSxLQUVBNnBGLEVBQUE1cEYsRUFBQTJwRixFQUlBN3BGLEdBQUEsV0FBQThwRixFQUFBLFdBQ0EvcEYsRUFBQUMsVUFBQSxZaEdzbWlCTStwRixJQUNBLFNBQVNocUYsRUFBUUMsR2lHcG5pQnZCLFlBRUFNLFFBQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFlBQ0EwcUMsTUFBQSxlQUNBaDBCLElBQUEsZUFDQXN6RSxZQUFBLDJCQUNBdEMsR0FBQSxlQUNBTyxXQUFBLDJCQUNBRCxXQUFBLDJCQUNBdDRDLE1BQUEsZUFDQXp6QixNQUFBLFNBQ0FELEtBQUEsU0FDQXVxRSxjQUFBLGdEQUNBRCxVQUFBLGdEQUNBVyxZQUFBLDJCQUNBRixXQUFBLDJCQUNBa0QsYUFBQSwyQkFDQWpELFdBQUEsYUFDQUUsWUFBQSxVQUNBQyxVQUFBLFVBQ0F0Z0UsV0FBQSwyQkFDQW04RCxlQUFBLG9EQUNBeUQsYUFBQSxtRUFDQUQsU0FBQSxtRUFDQTBELGVBQUEsMkJBQ0FDLFdBQUEsMkJBQ0FDLGdCQUFBLDJCQUNBQyxZQUFBLDRCQUVBdHFGLEVBQUFDLFVBQUEsWWpHMG5pQk1zcUYsSUFDQSxTQUFTdnFGLEVBQVFDLEVBQVNDLEdrRzNwaUJoQyxZQXdCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQWd0QyxNQUVBLFFBQUFvOUMsS0FDQSxTQUFBNS9DLEVBQUEsY0FHQSxRQUFBNi9DLEdBQUFocUYsR0FDQSxHQUFBNEUsR0FBQSxNQU1BLE9BSkFBLEdBREE1RSxHQUNBLEVBQUEwekMsRUFBQXpKLGNBQUFqcUMsR0FFQStwRixJQW5DQWpxRixPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBSSxHQUFBWCxFQUFBLEdBRUFZLEVBQUFYLEVBQUFVLEdBRUFVLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFJLEVBQUF6QixFQUFBLEdBRUEwQixFQUFBekIsRUFBQXdCLEdBRUFpcUMsRUFBQTFyQyxFQUFBLElBRUEwcUMsRUFBQXpxQyxFQUFBeXJDLEdBRUF1SSxFQUFBajBDLEVBQUEsSUFvQkF3cUYsR0FDQWo4RSxXQUNBaE8sTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQXdELGFBQUFwekMsRUFBQW1OLFVBQUF5aUMsT0FDQXVlLFVBQUFudUQsRUFBQW1OLFVBQUF3TCxNQUdBZ3dDLGdCQUFBLFdBQ0EsT0FDQXdGLFVBQUF0aUIsSUFHQWdkLGdCQUFBLFdBQ0EsR0FBQTdtRCxHQUFBVixLQUFBVSxNQUNBOUMsRUFBQThDLEVBQUE5QyxPQUFBOEMsRUFBQW94QyxjQUFBNjFDLEdBQ0EsUUFDQS9wRixRQUNBMjJELGNBQUE3ekQsRUFBQTZ6RCxlQUFBN3pELEVBQUFvbkYsdUJBR0E1NkMsMEJBQUEsU0FBQUMsR0FDQSxHQUFBdnZDLEdBQUF1dkMsRUFBQXZ2QyxNQUNBMjJELEVBQUFwbkIsRUFBQW9uQixhQUVBLFVBQUFwbkIsS0FDQXZ2QyxLQUFBdXZDLEVBQUEyRSxjQUFBODFDLEVBQUE1bkYsS0FBQTR4QyxNQUFBaDBDLE9BQ0FvQyxLQUFBNnhDLFVBQ0FqMEMsV0FHQSxpQkFBQXV2QyxJQUNBbnRDLEtBQUE2eEMsVUFDQTBpQixtQkFJQXJYLFNBQUEsU0FBQXQvQyxFQUFBdWtGLEdBQ0F2a0YsR0FDQW9DLEtBQUFpaEYsU0FBQXJqRixHQUVBb0MsS0FBQStuRixpQkFBQW5xRixFQUFBdWtGLElBRUFkLFdBQUEsU0FBQTNuQixHQUNBLEdBQUFzdUIsR0FFQXRuRixFQUFBVixLQUFBVSxNQUNBQyxFQUFBRCxFQUFBQyxVQUVBRyxHQUFBa25GLE1BQW9DLEVBQUEvcEYsRUFBQSxZQUFBK3BGLEVBQUFybkYsRUFBQSxNQUFBMUMsRUFBQSxZQUFBK3BGLEVBQUFybkYsRUFBQSxXQUFBRCxFQUFBcXlDLFVBQUEsRUFBQTkwQyxFQUFBLFlBQUErcEYsRUFBQXRuRixFQUFBSSxZQUFBSixFQUFBSSxZQUFBLEVBQUE3QyxFQUFBLFlBQUErcEYsRUFBQXR1QixFQUFBNTRELFlBQUE0NEQsRUFBQTU0RCxXQUFBa25GLEVBRXBDLE9BQUFycEYsR0FBQSxXQUFBMEMsY0FDQSxPQUVBNG1ELElBQUEsT0FDQW5uRCxVQUFBLE1BQUEvQixFQUFBLFlBQUErQixHQUNBRixNQUFBWixLQUFBVSxNQUFBRSxNQUNBMGxELFNBQUEsSUFDQXVHLFVBQUE3c0QsS0FBQTZzRCxXQUVBNk0sRUFBQTc0RCxXQUdBa25GLGlCQUFBLFNBQUF4ekIsRUFBQTR0QixHQUVBLGlCQUFBbmlGLE1BQUFVLE9BQ0FWLEtBQUE2eEMsVUFDQTBpQixrQkFHQXYwRCxLQUFBVSxNQUFBdzhDLFNBQUFxWCxFQUFBNHRCLElBR0FsQixTQUFBLFNBQUFyakYsR0FDQSxHQUFBd29GLEdBQUFwbUYsS0FBQTR4QyxNQUFBaDBDLEtBQ0EsVUFBQW9DLE1BQUFVLE9BQ0FWLEtBQUE2eEMsVUFDQWowQyxXQUdBd29GLEdBQUF4b0YsSUFBQXdvRixFQUFBLzRELE9BQUF6dkIsS0FBQXdvRixHQUFBeG9GLEdBQUF3b0YsSUFBQXhvRixJQUNBb0MsS0FBQVUsTUFBQW1zQyxTQUFBanZDLElBR0FpckMsY0FBQSxTQUFBanJDLEdBQ0EsR0FBQWtyQyxHQUFBOW9DLEtBQUFVLE1BQUFvb0MsYUFDQVYsRUFBQXBvQyxLQUFBVSxNQUFBMG5DLFlBQ0EsVUFBQWtKLEVBQUF6SSxlQUFBanJDLEVBQUFrckMsRUFBQVYsSUFJQWhyQyxHQUFBLFdBQUF5cUYsRUFDQTFxRixFQUFBQyxVQUFBLFlsR2lxaUJNNnFGLElBQ0EsU0FBUzlxRixFQUFRQyxFQUFTQyxHbUd2eWlCaEMsWUFrQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUF3bEYsR0FBQTMyRCxHQUNBLEdBQUEvbEIsR0FBQXJHLEtBQUE0eEMsTUFBQWgwQyxNQUFBa3NCLE9BQ0F6akIsR0FBQThYLElBQUFpTyxFQUFBLFFBQ0Fwc0IsS0FBQWtvRixrQkFBQTdoRixHQUdBLFFBQUFra0MsTUF4QkE3c0MsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXdrRixFQUFBN2xGLEVBQUEsS0FFQThsRixFQUFBN2xGLEVBQUE0bEYsR0FFQWlGLEVBQUE5cUYsRUFBQSxLQUVBK3FGLEVBQUE5cUYsRUFBQTZxRixHQVlBRSxFQUFBMXBGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLGFBRUFsN0MsV0FDQWloQyxTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQXl4QixhQUFBcHFDLEVBQUFtTixVQUFBd0wsS0FDQTZsQyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsTUFHQWd3QyxnQkFBQSxXQUNBLE9BQ0F4YSxTQUFBdEMsRUFDQTJTLFNBQUEzUyxJQUdBZ2QsZ0JBQUEsV0FDQSxHQUFBN21ELEdBQUFWLEtBQUFVLEtBS0EsT0FIQVYsTUFBQTRqRixTQUFBYixFQUFBaDVCLEtBQUEvcEQsS0FBQSxHQUNBQSxLQUFBNmpGLGFBQUFkLEVBQUFoNUIsS0FBQS9wRCxTQUNBQSxLQUFBVyxVQUFBRCxFQUFBK3BELGNBQUEsZ0JBRUE3c0QsTUFBQThDLEVBQUE5QyxPQUFBOEMsRUFBQW94QyxlQUdBNUUsMEJBQUEsU0FBQUMsR0FDQSxTQUFBQSxJQUNBbnRDLEtBQUE2eEMsVUFDQWowQyxNQUFBdXZDLEVBQUF2dkMsU0FJQTBxRixrQkFBQSxTQUFBbm9ELEdBQ0FuZ0MsS0FBQTZ4QyxVQUNBa3lDLGNBQUEsSUFFQS9qRixLQUFBa29GLGtCQUFBL25ELElBRUErbkQsa0JBQUEsU0FBQXRxRixHQUNBb0MsS0FBQWloRixTQUFBcmpGLEdBQ0FvQyxLQUFBVSxNQUFBbXNDLFNBQUFqdkMsSUFFQTJxRixrQkFBQSxTQUFBM3FGLEdBQ0FvQyxLQUFBaWhGLFNBQUFyakYsR0FDQW9DLEtBQUFVLE1BQUF3OEMsU0FBQXQvQyxJQUVBcWpGLFNBQUEsU0FBQXJqRixHQUNBLFNBQUFvQyxNQUFBVSxPQUNBVixLQUFBNnhDLFVBQ0FqMEMsV0FJQW1tRixjQUFBLFdBQ0EvakYsS0FBQTZ4QyxVQUNBa3lDLGNBQUEsS0FHQXZqRixPQUFBLFdBQ0EsR0FBQUUsR0FBQVYsS0FBQVUsTUFDQTlDLEVBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFDQXNqRixFQUFBeGdGLEVBQUF3Z0YsV0FDQUMsRUFBQXpnRixFQUFBeWdGLGNBQ0FyekUsRUFBQXBOLEVBQUFvTixPQUNBc0wsRUFBQXhiLEVBQUF3YixPQUNBelksRUFBQVgsS0FBQVcsVUFDQTZuRixFQUFBLE1BU0EsT0FSQXhvRixNQUFBNHhDLE1BQUFteUMsZ0JBQ0F5RSxFQUFBN3BGLEVBQUEsV0FBQTBDLGNBQUE4aEYsRUFBQSxZQUNBcjFFLFNBQ0FsUSxRQUNBNnNELGNBQUEvcEQsRUFBQStwRCxjQUNBdk4sU0FBQWw5QyxLQUFBc29GLHFCQUdBM3BGLEVBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQUgsRUFBQUMsTUFBQUYsRUFBQUUsT0FDUGpDLEVBQUEsV0FBQTBDLGNBQ0EsTUFDQSxLQUNBMUMsRUFBQSxXQUFBMEMsY0FDQSxPQUNXUCxVQUFBSCxFQUFBLFdBQ1hoQyxFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsaUJBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUE5eUMsS0FBQTZqRixhQUNBemxDLE1BQUF0d0MsRUFBQSsxRSxlQUVBbGxGLEVBQUEsV0FBQTBDLGNBQ0EsS0FFQVAsVUFBQUgsRUFBQSxlQUNBZzRELEtBQUEsU0FDQTdsQixRQUFBOXlDLEtBQUErakYsY0FDQTNsQyxNQUFBdHdDLEVBQUFxMkUsWUFFQXhsRixFQUFBLFdBQUEwQyxjQUNBLFFBQ2VQLFVBQUFILEVBQUEsd0JBQ2Z5WSxHQUVBemEsRUFBQSxXQUFBMEMsY0FDQSxRQUNlUCxVQUFBSCxFQUFBLHNCQUNmLE1BR0FoQyxFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsaUJBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUE5eUMsS0FBQTRqRixTQUNBeGxDLE1BQUF0d0MsRUFBQTgxRSxZQUdBamxGLEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQUgsRUFBQSxTQUNYaEMsRUFBQSxXQUFBMEMsY0FBQSttRixFQUFBLFlBQ0F0L0MsYUFBQXBvQyxFQUFBb29DLGFBQ0FvVSxTQUFBbDlDLEtBQUF1b0Ysa0JBQ0F6NkUsU0FDQWxRLFFBQ0FzakYsYUFDQUMsZ0JBQ0F4Z0YsZ0JBSUE2bkYsS0FLQXByRixHQUFBLFdBQUFpckYsRUFDQWxyRixFQUFBQyxVQUFBLFluRzZ5aUJNcXJGLElBQ0EsU0FBU3RyRixFQUFRQyxFQUFTQyxHb0dsOWlCaEMsWUFrQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBSzdFLFFBQUF3bEYsR0FBQTMyRCxHQUNBLEdBQUF4dUIsR0FBQW9DLEtBQUE0eEMsTUFBQWgwQyxNQUFBa3NCLE9BQ0Fsc0IsR0FBQXVnQixJQUFBaU8sRUFBQSxRQUNBcHNCLEtBQUE2eEMsVUFDQWowQyxVQUlBLFFBQUE4cUYsR0FBQXR2RSxHQUNBLEdBQUF4YixHQUFBb0MsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQWxzQixHQUFBd2IsUUFDQXhiLEVBQUF5YixNQUFBclosS0FBQTR4QyxNQUFBaDBDLE1BQUF5YixTQUNBclosS0FBQVUsTUFBQXc4QyxTQUFBdC9DLEdBakRBRixPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBSSxHQUFBWCxFQUFBLEdBRUFZLEVBQUFYLEVBQUFVLEdBRUFFLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQUksRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQTZwRixFQUFBdHJGLEVBQUEsS0FFQXVyRixFQUFBdHJGLEVBQUFxckYsR0FJQUUsRUFBQSxFQUNBQyxFQUFBLEVBaUJBQyxFQUFBLFNBQUFocEYsR0FHQSxRQUFBZ3BGLEdBQUFyb0YsSUFDQSxFQUFBdkMsRUFBQSxZQUFBNkIsS0FBQStvRixFQUVBLElBQUF4OUMsSUFBQSxFQUFBbHRDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBV0EsT0FUQTZxQyxHQUFBNXFDLFVBQUFELEVBQUErcEQsY0FBQSxjQUNBbGYsRUFBQXFHLE9BQ0FoMEMsTUFBQThDLEVBQUE5QyxPQUFBOEMsRUFBQW94QyxjQUVBdkcsRUFBQWc4QyxXQUFBeEUsRUFBQWg1QixLQUFBeGUsRUFBQSxJQUNBQSxFQUFBKzdDLGVBQUF2RSxFQUFBaDVCLEtBQUF4ZSxRQUNBLHlDQUFBbG9DLFFBQUEsU0FBQXltRCxHQUNBdmUsRUFBQXVlLEdBQUF2ZSxFQUFBdWUsR0FBQUMsS0FBQXhlLEtBRUFBLEVBZ0tBLE9BaExBLEVBQUFodEMsRUFBQSxZQUFBd3FGLEVBQUFocEYsR0FtQkFncEYsRUFBQXhwRixVQUFBeXBGLG9CQUFBLFNBQUE3b0QsR0FDQW5nQyxLQUFBNnhDLFVBQ0FqMEMsTUFBQXVpQyxFQUNBOG9ELGdCQUFBLEtBSUFGLEVBQUF4cEYsVUFBQThvQixNQUFBLFFBQUFBLEtBT0EsT0FOQXpxQixHQUFBb0MsS0FBQTR4QyxNQUFBaDBDLE1BQ0FzckYsRUFBQXRyRixFQUFBd2IsT0FDQSt2RSxFQUFBLEdBQUE1cUUsU0FBQTJxRSxFQUFBLE9BQ0FyRixFQUFBc0YsRUFBQSxFQUNBOWdFLEtBQ0F4bEIsRUFBQSxFQUNBdXpDLEVBQUEsRUFBMEJBLEVBQUF5eUMsRUFBZ0J6eUMsSUFBQSxDQUMxQy90QixFQUFBK3RCLEtBQ0EsUUFBQWd6QyxHQUFBLEVBQTRCQSxFQUFBTixFQUFnQk0sSUFBQSxDQUM1QyxHQUFBaHdFLEdBQUF5cUUsRUFBQWhoRixFQUNBbzFELEVBQUExSCxPQUFBbjNDLEVBQ0FpUCxHQUFBK3RCLEdBQUFnekMsSUFDQW54QixVQUNBNytDLE9BQ0FnbEMsTUFBQTZaLEdBRUFwMUQsS0FHQSxNQUFBd2xCLElBR0EwZ0UsRUFBQXhwRixVQUFBMHBGLGdCQUFBLFdBQ0FqcEYsS0FBQTZ4QyxVQUNBbzNDLGdCQUFBLEtBSUFGLEVBQUF4cEYsVUFBQWlCLE9BQUEsV0FDQSxHQUFBNHNDLEdBQUFwdEMsS0FFQVUsRUFBQVYsS0FBQVUsTUFDQTlDLEVBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFDQWtRLEVBQUFwTixFQUFBb04sT0FDQXVhLEVBQUFyb0IsS0FBQXFvQixRQUNBNmdFLEVBQUF0ckYsRUFBQXdiLE9BQ0ErdkUsRUFBQSxHQUFBNXFFLFNBQUEycUUsRUFBQSxPQUNBRyxFQUFBRixFQUFBLEVBQ0F4b0YsRUFBQVgsS0FBQVcsVUFFQTJvRixFQUFBamhFLEVBQUFsYixJQUFBLFNBQUE4dkMsRUFBQXA2QyxHQUNBLEdBQUEwbUYsR0FBQXRzQyxFQUFBOXZDLElBQUEsU0FBQXE4RSxHQUNBLEdBQUFDLEdBRUFDLEdBQUFELE1BQThDLEVBQUF4ckYsRUFBQSxZQUFBd3JGLEVBQUE5b0YsRUFBQSxjQUFBMUMsRUFBQSxZQUFBd3JGLEVBQUE5b0YsRUFBQSxpQkFBQTZvRixFQUFBcHdFLE9BQUE4dkUsSUFBQSxFQUFBanJGLEVBQUEsWUFBQXdyRixFQUFBOW9GLEVBQUEsb0JBQUE2b0YsRUFBQXB3RSxLQUFBK3ZFLElBQUEsRUFBQWxyRixFQUFBLFlBQUF3ckYsRUFBQTlvRixFQUFBLG9CQUFBNm9GLEVBQUFwd0UsS0FBQWl3RSxHQUFBSSxHQUM5Q0UsRUFBQSxNQVFBLE9BTkFBLEdBREFILEVBQUFwd0UsS0FBQSt2RSxFQUNBLzdDLEVBQUFrNkMsZUFDU2tDLEVBQUFwd0UsS0FBQWl3RSxFQUNUajhDLEVBQUFtNkMsV0FFQW1CLEVBQUEzK0IsS0FBQTNjLEVBQUFvOEMsRUFBQXB3RSxNQUVBemEsRUFBQSxXQUFBMEMsY0FDQSxNQUVBczNELEtBQUEsV0FDQXZhLE1BQUFvckMsRUFBQXByQyxNQUNBeDhDLElBQUE0bkYsRUFBQXZ4QixRQUNBbmxCLFFBQUE2MkMsRUFDQTdvRixXQUFBLEVBQUEvQixFQUFBLFlBQUEycUYsSUFFQS9xRixFQUFBLFdBQUEwQyxjQUNBLEtBRUFQLFVBQUFILEVBQUEsU0FFQTZvRixFQUFBdnhCLFdBSUEsT0FBQXQ1RCxHQUFBLFdBQUEwQyxjQUNBLE1BQ1NPLElBQUFpQixFQUFBODFELEtBQUEsT0FDVDR3QixLQUlBSyxFQUFBLE1BVUEsT0FUQTVwRixNQUFBNHhDLE1BQUFxM0Msa0JBQ0FXLEVBQUFqckYsRUFBQSxXQUFBMEMsY0FBQXVuRixFQUFBLFlBQ0E5NkUsU0FDQWxRLFFBQ0E2c0QsY0FBQS9wRCxFQUFBK3BELGNBQ0F2TixTQUFBbDlDLEtBQUFncEYsdUJBSUFycUYsRUFBQSxXQUFBMEMsY0FDQSxPQUNPUCxVQUFBZCxLQUFBVyxXQUNQaEMsRUFBQSxXQUFBMEMsY0FDQSxNQUNBLEtBQ0ExQyxFQUFBLFdBQUEwQyxjQUNBLE9BQ1dQLFVBQUFILEVBQUEsV0FDWGhDLEVBQUEsV0FBQTBDLGNBQUEsS0FDQVAsVUFBQUgsRUFBQSxtQkFDQWc0RCxLQUFBLFNBQ0E3bEIsUUFBQTl5QyxLQUFBc25GLGVBQ0FscEMsTUFBQXR3QyxFQUFBdzVFLGlCQUVBM29GLEVBQUEsV0FBQTBDLGNBQ0EsS0FFQVAsVUFBQUgsRUFBQSxpQkFDQWc0RCxLQUFBLFNBQ0E3bEIsUUFBQTl5QyxLQUFBaXBGLGdCQUNBN3FDLE1BQUF0d0MsRUFBQXU1RSxjQUVBMW9GLEVBQUEsV0FBQTBDLGNBQ0EsUUFDZVAsVUFBQUgsRUFBQSwwQkFDZndvRixFQUNBLElBQ0FFLEdBRUExcUYsRUFBQSxXQUFBMEMsY0FDQSxRQUNlUCxVQUFBSCxFQUFBLHdCQUNmLE1BR0FoQyxFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsbUJBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUE5eUMsS0FBQXVuRixXQUNBbnBDLE1BQUF0d0MsRUFBQXk1RSxjQUdBNW9GLEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQUgsRUFBQSxTQUNYaEMsRUFBQSxXQUFBMEMsY0FDQSxTQUNhUCxVQUFBSCxFQUFBLFNBQUFvbUYsWUFBQSxJQUFBcHVCLEtBQUEsUUFDYmg2RCxFQUFBLFdBQUEwQyxjQUNBLFNBQ2VQLFVBQUFILEVBQUEsVUFDZjJvRixNQUtBTSxJQUlBYixHQUNDcHFGLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUEyckYsRUFHQUEsRUFBQW45RSxXQUNBNitDLGNBQUEvckQsRUFBQW1OLFVBQUE1SCxPQUNBckcsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQXdELGFBQUFwekMsRUFBQW1OLFVBQUF5aUMsUUFHQXk2QyxFQUFBdm5GLGNBQ0EwN0MsU0FBQSxjQUVBLy9DLEVBQUFDLFVBQUEsWXBHdzlpQk15c0YsSUFDQSxTQUFTMXNGLEVBQVFDLEVBQVNDLEdxRy9zakJoQyxZQUlBLFNBQUF5c0YsR0FBQTN6RCxHQUNBLE1BQUFBLEdBSEEsR0FBQXd6QixHQUFBdHNELEVBQUEsRUFNQUYsR0FBQUMsUUFBQSxTQUFBeUQsR0FFQSxNQUFBOG9ELEdBQUF2bUQsU0FBQStKLElBQUF0TSxFQUFBaXBGLEtyR3N0akJNQyxJQUNBLFNBQVM1c0YsRUFBUUMsRUFBU0MsR3NHanVqQmhDLFlBbUNBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQWpDN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFdBQUFTLE1BRUEsSUFBQUssR0FBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBdzFDLEVBQUE3MkMsRUFBQSxLQUVBODJDLEVBQUE3MkMsRUFBQTQyQyxHQUVBODFDLEVBQUEzc0YsRUFBQSxLQUVBNHNGLEVBQUEzc0YsRUFBQTBzRixHQUVBbHlDLEVBQUF6NkMsRUFBQSxJQUVBMDZDLEVBQUF6NkMsRUFBQXc2QyxHQUlBb3lDLEVBQUEsU0FBQW5xRixHQUdBLFFBQUFtcUYsS0FFQSxPQURBLEVBQUEvckYsRUFBQSxZQUFBNkIsS0FBQWtxRixJQUNBLEVBQUE3ckYsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUFRQSxPQVpBLEVBQUEzQixFQUFBLFlBQUEyckYsRUFBQW5xRixHQU9BbXFGLEVBQUEzcUYsVUFBQWlCLE9BQUEsV0FFQSxPQURBLEVBQUF1M0MsRUFBQSwyRUFDQXA1QyxFQUFBLFdBQUEwQyxjQUFBNG9GLEVBQUEsV0FBQWpxRixLQUFBVSxRQUdBd3BGLEdBQ0N2ckYsRUFBQSxXQUFBMkMsVUFFRGxFLEdBQUEsV0FBQThzRixFQUVBQSxFQUFBMW9GLGNBQ0FzTSxPQUFBcW1DLEVBQUEsV0FDQXh6QyxVQUFBLGdCQUVBeEQsRUFBQUMsVUFBQSxZdEd1dWpCTStzRixJQUNBLFNBQVNodEYsRUFBUUMsRUFBU0MsR3VHbnlqQmhDLFlBeURBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQXZEN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFdBQUFTLE1BRUEsSUFBQUMsR0FBQVQsRUFBQSxHQUVBVSxFQUFBVCxFQUFBUSxHQUVBRSxFQUFBWCxFQUFBLEdBRUFZLEVBQUFYLEVBQUFVLEdBRUFFLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXFxQyxFQUFBMXJDLEVBQUEsSUFFQTBxQyxFQUFBenFDLEVBQUF5ckMsR0FFQXFoRCxFQUFBL3NGLEVBQUEsS0FFQWd0RixFQUFBL3NGLEVBQUE4c0YsR0FFQUUsRUFBQWp0RixFQUFBLEtBRUFrdEYsRUFBQWp0RixFQUFBZ3RGLEdBRUF4ckYsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQWkyQyxFQUFBMTNDLEVBQUEsR0FFQTIzQyxFQUFBMTNDLEVBQUF5M0MsR0FFQTFDLEVBQUFoMUMsRUFBQSxJQUVBaTFDLEVBQUFoMUMsRUFBQSswQyxHQUVBbTRDLEVBQUFudEYsRUFBQSxLQUlBb3RGLEVBQUEsU0FBQTFxRixHQUdBLFFBQUEwcUYsR0FBQS9wRixJQUNBLEVBQUF2QyxFQUFBLFlBQUE2QixLQUFBeXFGLEVBRUEsSUFBQWwvQyxJQUFBLEVBQUFsdEMsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQU4sS0FBQU8sS0FBQVUsR0FFQTZxQyxHQUFBbS9DLGVBQUEsU0FBQXRyRixHQUNBQSxFQUFBdUQsaUJBQ0F2RCxFQUFBKzNDLGtCQUNBNUwsRUFBQXNHLFVBQTRCajBDLFdBQzVCMnRDLEVBQUE0UCxrQkFFQTVQLEVBQUE0UCxhQUFBLFNBQUF2OUMsR0FDQSxHQUFBOEMsR0FBQTZxQyxFQUFBN3FDLEtBQ0EsVUFBQUEsSUFDQTZxQyxFQUFBc0csVUFBZ0NqMEMsUUFBQStzRixTQUFBL3NGLEVBQUEsS0FFaEM4QyxFQUFBbXNDLFNBQUFqdkMsS0FBQSxJQUFBQSxFQUFBLEdBQUFpUSxPQUFBbk4sRUFBQW1OLFNBQUEsR0FBQWpRLEVBQUEsSUFBQUEsRUFBQSxHQUFBaVEsT0FBQW5OLEVBQUFtTixTQUFBLE1BRUEwOUIsRUFBQXEvQyxpQkFBQSxTQUFBaDRCLEdBQ0FybkIsRUFBQXNHLFVBQTRCK2dCLFFBQzVCLElBQUErdUIsR0FBQXAyQyxFQUFBN3FDLE1BQUFpaEYsWUFFQUEsSUFDQUEsRUFBQS91QixJQUdBcm5CLEVBQUFzL0MscUJBQUEsU0FBQUYsR0FDQSxNQUFBcC9DLEdBQUFzRyxVQUFtQzg0QyxjQUVuQ3AvQyxFQUFBeTBDLGFBQUEsV0FDQSxHQUFBNWEsR0FBQTc1QixFQUFBN3FDLE1BQ0FDLEVBQUF5a0UsRUFBQXprRSxVQUNBbXFGLEVBQUExbEIsRUFBQTBsQixNQUVBLEtBQUFBLEVBQ0EsV0FFQSxJQUFBQyxHQUFBcnRGLE9BQUF1SSxLQUFBNmtGLEdBQUEzOUUsSUFBQSxTQUFBNjlFLEdBQ0EsR0FBQXB0RixHQUFBa3RGLEVBQUFFLEVBQ0EsT0FBQXJzRixHQUFBLFdBQUEwQyxjQUNBLEtBQ3FCTyxJQUFBb3BGLEVBQUFsNEMsUUFBQSxXQUNyQixNQUFBdkgsR0FBQTAxQyxTQUFBcmpGLEtBRUFvdEYsSUFHQSxPQUFBcnNGLEdBQUEsV0FBQTBDLGNBQ0EsT0FDaUJQLFVBQUFILEVBQUEseUJBQ2pCb3FGLEdBR0EsSUFBQW50RixHQUFBOEMsRUFBQTlDLE9BQUE4QyxFQUFBb3hDLGdCQUNBLElBQUFsMEMsRUFBQSxLQUFBbXFDLEVBQUEsV0FBQTUyQixTQUFBdlQsRUFBQSxLQUFBQSxFQUFBLEtBQUFtcUMsRUFBQSxXQUFBNTJCLFNBQUF2VCxFQUFBLElBQ0EsU0FBQWlFLE9BQUEsbUlBTUEsT0FKQTBwQyxHQUFBcUcsT0FDQWgwQyxRQUNBZzFELEtBQUFseUQsRUFBQWt5RCxNQUVBcm5CLEVBNkdBLE9BNUtBLEVBQUFodEMsRUFBQSxZQUFBa3NGLEVBQUExcUYsR0FrRUEwcUYsRUFBQWxyRixVQUFBMnRDLDBCQUFBLFNBQUFDLEdBQ0EsWUFBQUEsR0FBQSxDQUNBLEdBQUF2dkMsR0FBQXV2QyxFQUFBdnZDLFVBQ0Erc0YsRUFBQS9zRixFQUFBLEVBQ0FvQyxNQUFBNnhDLFVBQTJCajBDLFFBQUErc0YsYUFFM0IsUUFBQXg5QyxJQUNBbnRDLEtBQUE2eEMsVUFDQStnQixLQUFBemxCLEVBQUF5bEIsUUFLQTYzQixFQUFBbHJGLFVBQUEwaEYsU0FBQSxTQUFBcmpGLEdBQ0FvQyxLQUFBbTdDLGFBQUF2OUMsR0FDQW9DLEtBQUFVLE1BQUF1cUYsVUFDQWpyRixLQUFBNnhDLFVBQTJCK2dCLE1BQUEsS0FJM0I2M0IsRUFBQWxyRixVQUFBaUIsT0FBQSxXQUNBLEdBQUFvSyxHQUNBd2lDLEVBQUFwdEMsS0FFQTR4QyxFQUFBNXhDLEtBQUE0eEMsTUFDQWx4QyxFQUFBVixLQUFBVSxNQUNBNEssRUFBQXRMLEtBQUFzTCxRQUNBMU4sRUFBQWcwQyxFQUFBaDBDLE1BQ0Erc0YsRUFBQS80QyxFQUFBKzRDLFNBQ0EvM0IsRUFBQWhoQixFQUFBZ2hCLEtBRUE2c0IsR0FBQSxFQUFBK0ssRUFBQWhMLGVBQUFsMEUsRUFDQTFOLElBQUE2aEYsSUFDQTdoRixFQUFBLElBQ0FBLEVBQUEsR0FBQWtRLE9BQUEyeEUsR0FFQTdoRixFQUFBLElBQ0FBLEVBQUEsR0FBQWtRLE9BQUEyeEUsR0FHQSxJQUFBMzJDLEdBQUFwb0MsRUFBQW9vQyxhQUNBVixFQUFBMW5DLEVBQUEwbkMsYUFDQTZpRCxFQUFBdnFGLEVBQUF1cUYsU0FDQUMsRUFBQXhxRixFQUFBd3FGLFVBQ0FKLEVBQUFwcUYsRUFBQW9xRixPQUNBbnFGLEVBQUFELEVBQUFDLFVBQ0F3bkQsRUFBQXpuRCxFQUFBeW5ELFdBQ0F2bkQsRUFBQUYsRUFBQUUsTUFDQWsvRSxFQUFBcC9FLEVBQUFvL0UsS0FDQWh5RSxFQUFBcE4sRUFBQW9OLE9BQ0FELEVBQUFuTixFQUFBbU4sT0FFQXM5RSxHQUFBLEVBQUFwc0YsRUFBQSxhQUFBNkwsTUFBOEUsRUFBQTNNLEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLFFBQUFzcUYsSUFBQSxFQUFBaHRGLEVBQUEsWUFBQTJNLEVBQUFqSyxFQUFBLHFCQUFBbXFGLEdBQUFsZ0YsSUFFOUV3Z0YsR0FDQXYrQyxTQUFBN3NDLEtBQUFtN0MsY0FFQWt3QyxHQUNBdkwsS0FBQTkvRSxLQUFBbTdDLGFBRUF6NkMsR0FBQXkvRSxXQUNBaUwsRUFBQXYrQyxTQUFBLFNBQUF5K0MsR0FDQSxNQUFBbCtDLEdBQUErTixhQUFBbXdDLElBR0FELElBRUEsSUFBQUUsR0FBQSxlQUFBN3FGLEtBQUFxeEQsWUFBQSxHQUFBamtELEVBQUF3cEIsS0FBQWswRCxpQkFBQSxHQUNBQyxFQUFBLGVBQUEvcUYsS0FBQXF4RCxZQUFBLEdBQUFqa0QsRUFBQXdwQixLQUFBazBELGlCQUFBLEdBQ0E1M0UsRUFBQWpWLEVBQUEsV0FBQTBDLGNBQUFncEYsRUFBQSxjQUFBdHNGLEVBQUEsZUFBZ0hzdEYsR0FBb0J4OUUsU0FBQWxOLFlBQUFHLFVBQUFxcUYsRUFBQW5MLGFBQUFoZ0YsS0FBQWdnRixhQUFBRyxXQUFBei9FLEVBQUF5L0UsV0FBQXIzQyxlQUFBVixlQUFBc2pELHNCQUFBSCxFQUFBRSxHQUFBMzlFLFNBQUF3cEIsS0FBQXdvRCxPQUFBbGlGLE1BQUErc0YsR0FBQWpxRixFQUFBaXJGLHFCQUFBLEVBQUE1akQsRUFBQSxjQUFBKzZDLGNBQUE5aUYsS0FBQTZxRixxQkFBQUssZUFFcElVLElBQ0FsckYsR0FBQXVxRixXQUNBVyxFQUFBN2pDLE1BQUFubkQsS0FBQW1uRCxPQUFBLElBRUEsSUFBQThqQyxJQUFBbnJGLEVBQUFxRCxVQUFBckQsRUFBQWt4RCxZQUFBaDBELE1BQUEsSUFBQUEsRUFBQSxJQUFBZSxFQUFBLFdBQUEwQyxjQUFBaXhDLEVBQUEsWUFBc0ovdUMsS0FBQSxlQUFBekMsVUFBQUgsRUFBQSxnQkFBQW15QyxRQUFBOXlDLEtBQUEwcUYsaUJBQTZGLEtBQ25QLzlFLEVBQUEsU0FBQWt3QyxHQUNBLEdBQUFzUixHQUFBdFIsRUFBQWovQyxNQUVBbXVDLEVBQUFvaUIsRUFBQSxHQUNBMjlCLEVBQUEzOUIsRUFBQSxFQUNBLE9BQUF4dkQsR0FBQSxXQUFBMEMsY0FDQSxRQUNpQlAsVUFBQUosRUFBQXFyRixpQkFBQWhvRixTQUFBckQsRUFBQXFELFVBQ2pCcEYsRUFBQSxXQUFBMEMsY0FBQSxTQUEyRDBDLFNBQUFyRCxFQUFBcUQsU0FBQXNpRCxVQUFBLEVBQUF6b0QsTUFBQW11QyxLQUFBbCtCLE9BQUFuTixFQUFBbU4sU0FBQSxHQUFBa2tELFlBQUF3NUIsRUFBQXpxRixVQUFBSCxFQUFBLHdCQUMzRGhDLEVBQUEsV0FBQTBDLGNBQ0EsUUFDcUJQLFVBQUFILEVBQUEsMkJBQ3JCLE9BRUFoQyxFQUFBLFdBQUEwQyxjQUFBLFNBQTJEMEMsU0FBQXJELEVBQUFxRCxTQUFBc2lELFVBQUEsRUFBQXpvRCxNQUFBa3VGLEtBQUFqK0UsT0FBQW5OLEVBQUFtTixTQUFBLEdBQUFra0QsWUFBQTA1QixFQUFBM3FGLFVBQUFILEVBQUEsd0JBQzNEa3JGLEVBQ0FsdEYsRUFBQSxXQUFBMEMsY0FBQSxRQUEwRFAsVUFBQUgsRUFBQSxrQkFHMUQsT0FBQWhDLEdBQUEsV0FBQTBDLGNBQ0EsUUFDYVAsVUFBQUosRUFBQXNyRixZQUFBcHJGLE9BQUEsRUFBQW8wQyxFQUFBLGVBQXVFcDBDLEVBQUFnckYsSUFDcEZqdEYsRUFBQSxXQUFBMEMsY0FDQWtwRixFQUFBLFlBQ0EsRUFBQXhzRixFQUFBLGVBQTRDMkMsRUFBQTBxRixHQUErQngzRSxXQUFBaFcsUUFBQWcxRCxPQUFBK3VCLGFBQUEzaEYsS0FBQTRxRixpQkFBQWpxRixZQUFBLG9CQUFBQyxNQUFBdW5ELElBQzNFeDdDLEtBS0E4OUUsR0FDQzlyRixFQUFBLFdBQUEyQyxVQUVEbEUsR0FBQSxXQUFBcXRGLEVBRUFBLEVBQUFsMkMsY0FDQWxwQyxVQUFBMU0sRUFBQSxXQUFBa04sVUFBQXlpQyxRQUVBbThDLEVBQUFqcEYsY0FDQWIsVUFBQSxlQUNBaXhELFlBQUEsRUFDQXM1QixXQUFBLEdBRUEvdEYsRUFBQUMsVUFBQSxZdkd5eWpCTTZ1RixJQUNBLFNBQVM5dUYsRUFBUUMsRUFBU0MsR3dHL2hrQmhDLFlBa0RBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQUU3RSxRQUFBMnVGLEdBQUFDLEdBRUEsR0FBQUMsR0FBQXp0RixFQUFBLFdBQUFrb0QsYUFDQUMsWUFBQSxrQkFFQXZTLGNBQ0FscEMsVUFBQTFNLEVBQUEsV0FBQWtOLFVBQUF5aUMsUUFFQStZLGdCQUFBLFdBQ0EsT0FDQTFtRCxVQUFBLGVBQ0FpeEQsWUFBQSxFQUNBczVCLFdBQUEsSUFHQTNqQyxnQkFBQSxXQUNBLEdBQUE3bUQsR0FBQVYsS0FBQVUsTUFDQTlDLEVBQUE4QyxFQUFBOUMsT0FBQThDLEVBQUFveEMsWUFDQSxJQUFBbDBDLElBQUFtcUMsRUFBQSxXQUFBNTJCLFNBQUF2VCxHQUNBLFNBQUFpRSxPQUFBLDJJQUVBLFFBQ0FqRSxRQUNBeXVGLFVBQUF4dUYsU0FHQXF2QywwQkFBQSxTQUFBQyxHQUNBLFNBQUFBLElBQ0FudEMsS0FBQTZ4QyxVQUNBajBDLE1BQUF1dkMsRUFBQXZ2QyxNQUNBeXVGLFVBQUFsL0MsRUFBQXZ2QyxTQUlBOHNGLGVBQUEsU0FBQXRyRixHQUNBQSxFQUFBdUQsaUJBQ0F2RCxFQUFBKzNDLGtCQUNBbjNDLEtBQUFtN0MsYUFBQSxPQUVBQSxhQUFBLFNBQUF2OUMsR0FDQSxHQUFBOEMsR0FBQVYsS0FBQVUsS0FDQSxVQUFBQSxJQUNBVixLQUFBNnhDLFVBQStCajBDLFVBRS9COEMsRUFBQW1zQyxTQUFBanZDLE9BQUFpUSxPQUFBbk4sRUFBQW1OLFNBQUEsS0FFQXkrRSxpQkFBQSxTQUFBRCxHQUNBcnNGLEtBQUE2eEMsVUFBMkJ3NkMsZUFJM0J6QixpQkFBQSxTQUFBaDRCLEdBQ0EsR0FBQS9uRCxHQUFBN0ssS0FBQVUsTUFDQXVxRixFQUFBcGdGLEVBQUFvZ0YsU0FDQXRKLEVBQUE5MkUsRUFBQTgyRSxhQUNBOTBDLEVBQUFoaUMsRUFBQWdpQyxTQUNBaC9CLEVBQUFoRCxFQUFBZ0QsTUFFQSxLQUFBK2tELEVBQUEsQ0FHQSxHQUFBeTVCLEdBQUEsTUFDQXJzRixNQUFBNnhDLFNBQUEsU0FBQWl3QyxHQUNBdUssRUFBQXZLLEVBQUF1SyxTQUNBLElBQUF0NUIsSUFBcUNzNUIsVUFBQXh1RixPQUtyQyxPQUpBb3RGLElBQUFvQixJQUNBdDVCLEVBQUFuMUQsTUFBQXl1RixFQUNBeC9DLEVBQUF3L0MsT0FBQXgrRSxXQUFBLEtBRUFrbEQsSUFHQTR1QixHQUNBQSxFQUFBL3VCLElBR0FweUQsT0FBQSxXQUNBLEdBQUFvSyxHQUNBMmdDLEVBQUF2ckMsS0FFQWkzQyxFQUFBajNDLEtBQUE0eEMsTUFDQWgwQyxFQUFBcTVDLEVBQUFyNUMsTUFDQXl1RixFQUFBcDFDLEVBQUFvMUMsVUFFQTNyRixHQUFBLEVBQUE2ckYsRUFBQSxZQUFBdnNGLEtBQUFVLE9BQUEsYUFDQUMsRUFBQUQsRUFBQUMsVUFDQW1OLEVBQUFwTixFQUFBb04sT0FFQWlrRCxFQUFBLGVBQUFyeEQsS0FBQXF4RCxZQUFBamtELEVBQUF3cEIsS0FBQXk2QixZQUNBM3BCLEVBQUExbkMsRUFBQXVxRixTQUFBdnFGLEVBQUEwbkMsYUFBQSxLQUNBK2lELEdBQUEsRUFBQXBzRixFQUFBLGFBQUE2TCxNQUFrRixFQUFBM00sRUFBQSxZQUFBMk0sRUFBQWpLLEVBQUEsUUFBQUQsRUFBQXVxRixXQUFBLEVBQUFodEYsRUFBQSxZQUFBMk0sRUFBQWpLLEVBQUEsU0FBQTZyRixFQUFBLGFBQUFMLEdBQUF2aEYsSUFFbEZ3Z0YsS0FDQUMsSUFDQTNxRixHQUFBdXFGLFNBQ0FJLEdBRUFudUMsU0FBQSxTQUFBcVgsR0FDQWhwQixFQUFBK2dELGlCQUFBLzNCLEtBSUE2MkIsR0FDQXYrQyxTQUFBN3NDLEtBQUFtN0MsYUFHQSxJQUFBdm5DLEdBQUFqVixFQUFBLFdBQUEwQyxjQUFBOHFGLEdBQUEsRUFBQXB1RixFQUFBLGVBQXFHc3RGLEdBQW9CdmlELGFBQUFwb0MsRUFBQW9vQyxhQUFBVixlQUFBdDZCLFNBQUF3cEIsS0FBQTZvRCxXQUFBei9FLEVBQUF5L0UsV0FBQXJ1QyxhQUFBcHhDLEVBQUFpckYscUJBQUEsRUFBQTVqRCxFQUFBLGNBQUEyakQscUJBQUEzNUIsRUFBQXB4RCxZQUFBRyxVQUFBcXFGLEVBQUFyTCxLQUFBcC9FLEVBQUFvL0UsS0FBQWp5RSxPQUFBbk4sRUFBQW1OLE9BQUFxOUUsVUFBQXhxRixFQUFBd3FGLFVBQUE5Six1QkFBQTFnRixFQUFBMGdGLDBCQUV6SHdLLElBQ0FsckYsR0FBQXVxRixXQUNBVyxFQUFBN2pDLE1BQUFybkQsRUFBQUUsT0FBQUYsRUFBQUUsTUFBQW1uRCxPQUFBLElBRUEsSUFBQThqQyxJQUFBbnJGLEVBQUFxRCxVQUFBckQsRUFBQWt4RCxZQUFBaDBELEVBQUFlLEVBQUEsV0FBQTBDLGNBQUFpeEMsRUFBQSxZQUFnSS91QyxLQUFBLGVBQUF6QyxVQUFBSCxFQUFBLGdCQUFBbXlDLFFBQUE5eUMsS0FBQTBxRixpQkFBNkYsS0FDN04vOUUsRUFBQSxTQUFBa3dDLEdBQ0EsR0FBQXNSLEdBQUF0UixFQUFBai9DLEtBQ0EsT0FBQWUsR0FBQSxXQUFBMEMsY0FDQSxPQUNBLEtBQ0ExQyxFQUFBLFdBQUEwQyxjQUFBLFNBQStEMEMsU0FBQXJELEVBQUFxRCxTQUFBc2lELFVBQUEsRUFBQXpvRCxNQUFBdXdELEtBQUF0Z0QsT0FBQW5OLEVBQUFtTixTQUFBLEdBQUFra0QsY0FBQWp4RCxVQUFBSixFQUFBcXJGLG1CQUMvREYsRUFDQWx0RixFQUFBLFdBQUEwQyxjQUFBLFFBQThEUCxVQUFBSCxFQUFBLG1CQUc5RDhyRixFQUFBSixHQUFBenVGLEVBQ0E2aEYsR0FBQSxFQUFBK0ssRUFBQWhMLGVBQUF4L0UsS0FBQXNMLFFBSUEsT0FIQW1oRixJQUFBaE4sR0FDQWdOLEVBQUEzK0UsT0FBQTJ4RSxHQUVBOWdGLEVBQUEsV0FBQTBDLGNBQ0EsUUFDaUJQLFVBQUFKLEVBQUFzckYsWUFBQXByRixPQUFBLEVBQUFvMEMsRUFBQSxlQUF1RXQwQyxFQUFBRSxNQUFBZ3JGLElBQ3hGanRGLEVBQUEsV0FBQTBDLGNBQ0FrcEYsRUFBQSxZQUNBLEVBQUF4c0YsRUFBQSxlQUFnRDJDLEVBQUEwcUYsR0FBK0J6SixhQUFBM2hGLEtBQUE0cUYsaUJBQUFoM0UsV0FBQWhXLE1BQUE2dUYsRUFBQTlyRixZQUFBLG9CQUFBQyxNQUFBRixFQUFBeW5ELGFBQy9FeDdDLE1BS0EsT0FBQXkvRSxHQTdMQTF1RixPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBRSxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFFLEVBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUsRUFFQVosR0FBQSxXQUFBOHVGLENBRUEsSUFBQXh0RixHQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBcXFDLEVBQUExckMsRUFBQSxJQUVBMHFDLEVBQUF6cUMsRUFBQXlyQyxHQUVBMmpELEVBQUFydkYsRUFBQSxLQUVBbXZGLEVBQUFsdkYsRUFBQW92RixHQUVBcEMsRUFBQWp0RixFQUFBLEtBRUFrdEYsRUFBQWp0RixFQUFBZ3RGLEdBRUF4ckYsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQTZ0RixFQUFBdHZGLEVBQUEsS0FFQWt2RixFQUFBanZGLEVBQUFxdkYsR0FFQTUzQyxFQUFBMTNDLEVBQUEsR0FFQTIzQyxFQUFBMTNDLEVBQUF5M0MsR0FFQTFDLEVBQUFoMUMsRUFBQSxJQUVBaTFDLEVBQUFoMUMsRUFBQSswQyxHQUVBbTRDLEVBQUFudEYsRUFBQSxJQWlKQUYsR0FBQUMsVUFBQSxZeEdxaWtCTXd2RixJQUNBLFNBQVN6dkYsRUFBUUMsRUFBU0MsR3lHdnVrQmhDLFlBa0NBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQWhDN0VHLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFtM0MsR0FBQTEzQyxFQUFBLEdBRUEyM0MsRUFBQTEzQyxFQUFBeTNDLEdBRUFpMUMsRUFBQTNzRixFQUFBLEtBRUE0c0YsRUFBQTNzRixFQUFBMHNGLEdBRUEwQyxFQUFBcnZGLEVBQUEsS0FFQW12RixFQUFBbHZGLEVBQUFvdkYsR0FFQUcsRUFBQXh2RixFQUFBLEtBRUF5dkYsRUFBQXh2RixFQUFBdXZGLEdBRUFFLEVBQUExdkYsRUFBQSxLQUVBMnZGLEVBQUExdkYsRUFBQXl2RixHQUVBRSxFQUFBNXZGLEVBQUEsS0FFQTZ2RixFQUFBNXZGLEVBQUEydkYsR0FFQWhHLEVBQUE1cEYsRUFBQSxLQUVBNnBGLEVBQUE1cEYsRUFBQTJwRixHQUlBa0csR0FBQSxFQUFBSCxFQUFBLGVBQUFGLEVBQUEsWUFBQTdDLEVBQUEsYUFDQW1ELEdBQUEsRUFBQUosRUFBQSxlQUFBRixFQUFBLFlBQUFOLEVBQUEsd0JBQ0EsRUFBQXgzQyxFQUFBLFlBQUFtNEMsR0FDQTFDLGFBQUEsRUFBQXVDLEVBQUEsWUFBQUUsRUFBQSxZQUNBaEQsU0FBQWhELEVBQUEsV0FDQWtHLGdCQUVBaHdGLEVBQUEsV0FBQSt2RixFQUNBaHdGLEVBQUFDLFVBQUEsWXpHNnVrQk1pd0YsSUFDQSxTQUFTbHdGLEVBQVFDLEVBQVNDLEcwRzF4a0JoQyxZQXdCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0F0QjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBczJDLEdBQUE3MkMsRUFBQSxLQUVBODJDLEVBQUE3MkMsRUFBQTQyQyxHQUVBbzVDLEVBQUFqd0YsRUFBQSxLQUVBa3dGLEVBQUFqd0YsRUFBQWd3RixHQUVBdjRDLEVBQUExM0MsRUFBQSxHQUVBMjNDLEVBQUExM0MsRUFBQXkzQyxHQUVBaE0sRUFBQTFyQyxFQUFBLElBRUEwcUMsRUFBQXpxQyxFQUFBeXJDLEVBRUExckMsR0FBQSxLQVFBMHFDLEVBQUEsV0FBQWo2QixPQUFBLFFBRUEsSUFBQUEsSUFDQXdwQixNQUFBLEVBQUEwZCxFQUFBLGFBQ0ErYyxZQUFBLGlDQUNBeTVCLGtCQUFBLHdEQUNLcjNDLEVBQUEsWUFDTHE1QyxrQkFBQSxFQUFBeDRDLEVBQUEsZUFBdUR1NEMsRUFBQSxZQUd2RHovRSxHQUFBd3BCLEtBQUF3dEQsR0FBQSxnQkFHQTFuRixFQUFBLFdBQUEwUSxFQUNBM1EsRUFBQUMsVUFBQSxZMUdneWtCTXF3RixJQUNBLFNBQVN0d0YsRUFBUUMsRUFBU0MsRzJHNzBrQmhDLFlBRUFBLEdBQUEsSUFFQUEsRUFBQSxLQUVBQSxFQUFBLElBRUFBLEVBQUEsTTNHbTFrQk1xd0YsSUFDQSxTQUFTdndGLEVBQVFDLEVBQVNDLEc0RzUxa0JoQyxZQWtDQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQW93RixHQUFBOXdDLEdBQ0EsR0FBQSt3QyxHQUFBL3dDLEVBQUErd0MsU0FDQUMsRUFBQWh4QyxFQUFBZ3hDLFdBQ0FDLEVBQUFqeEMsRUFBQWl4QyxXQUVBdjBDLEVBQUEsQ0FVQSxPQVRBcTBDLEtBQ0FyMEMsR0FBQSxHQUVBczBDLElBQ0F0MEMsR0FBQSxHQUVBdTBDLElBQ0F2MEMsR0FBQSxHQUVBQSxFQUVBLFFBQUF3MEMsR0FBQXJNLEVBQUEveUQsR0FDQSxHQUFBcS9ELEdBQUFydkYsRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsZ0JBRUF2UyxjQUNBbHBDLFVBQUEzTSxFQUFBbU4sVUFBQXlpQyxRQUVBK1ksZ0JBQUEsV0FDQSxPQUNBeDVDLE9BQUE4Z0IsR0FBQSxhQUNBampCLGVBQUEsV0FDQXk4QyxjQUNBdGIsU0FBQSxhQUNBaXpDLEtBQUEsYUFDQTZCLGFBQUEsYUFFQTd6RSxVQUNBK2tDLE9BQ0ExcEIsUUFBQSxPQUVBeG9CLFVBQUEsZUFDQXN0RixlQUFBLGNBR0FyRCxpQkFBQSxTQUFBaDRCLEdBQ0EsR0FBQS9uRCxHQUFBN0ssS0FBQVUsTUFDQWloRixFQUFBOTJFLEVBQUE4MkUsYUFDQXVNLEVBQUFyakYsRUFBQXFqRixVQUVBdk0sR0FBQS91QixHQUNBczdCLEtBQ0EsRUFBQW4yQyxFQUFBLHVLQUNBbTJDLEdBQTRCdDdCLFdBRzVCcHlELE9BQUEsV0FDQSxHQUFBaTVCLEdBQUEwMEQsRUFFQXp0RixFQUFBVixLQUFBVSxNQUNBQyxFQUFBRCxFQUFBQyxVQUNBc3RGLEVBQUF2dEYsRUFBQXV0RixlQUVBakMsR0FBQSxFQUFBanRGLEVBQUEsZUFBQWQsRUFBQSxlQUE4RjBDLEVBQUEsZUFDOUZvckYsR0FBQSxFQUFBaHRGLEVBQUEsYUFBQTA2QixNQUFrRixFQUFBeDdCLEVBQUEsWUFBQXc3QixFQUFBOTRCLEVBQUEsdUJBQUExQyxFQUFBLFlBQUF3N0IsRUFBQXcwRCxHQUFBLE1BQUFod0YsRUFBQSxZQUFBdzdCLEVBQUF3MEQsRUFBQSxnQkFBQXZ0RixFQUFBcUssT0FBQSxFQUFBOU0sRUFBQSxZQUFBdzdCLEVBQUF3MEQsRUFBQSxnQkFBQXZ0RixFQUFBcUssTUFBQTB1QixJQUNsRjNyQixHQUFBLEVBQUEwOEUsRUFBQW5MLG9CQUFBMytFLEVBQUFWLEtBQUFzTCxRQUFBLHdCQUNBLE1BQUFqTyxHQUFBLE9BRUE2bUIsRUFBQXhqQixFQUFBdXFGLFVBQUF2cUYsRUFBQXVxRixTQUFBcDlFLFFBQUEsV0FDQXVnRixHQUNBdmdGLE9BQUFxVyxFQUNBNHBFLFdBQUE1cEUsRUFBQXhrQixRQUFBLFNBQ0FtdUYsV0FBQTNwRSxFQUFBeGtCLFFBQUEsU0FDQWt1RixTQUFBMXBFLEVBQUF4a0IsUUFBQSxVQUVBbzZDLEVBQUE2ekMsRUFBQVMsR0FDQUMsR0FBQSxFQUFBdHZGLEVBQUEsYUFBQW92RixNQUErRSxFQUFBbHdGLEVBQUEsWUFBQWt3RixFQUFBeHRGLEVBQUEsNEJBQUFtNUMsSUFBQSxFQUFBNzdDLEVBQUEsWUFBQWt3RixFQUFBeHRGLEVBQUEsNkJBQUFtNUMsR0FBQXEwQyxJQUMvRWhPLEVBQUF6L0UsRUFBQXVxRixTQUFBdHNGLEVBQUEsV0FBQTBDLGNBQUFpdEYsRUFBQSxjQUFBdndGLEVBQUEsZUFBK0hxd0YsRUFBQTF0RixFQUFBdXFGLFVBQXNDdHFGLFlBQUEsZUFBQUcsVUFBQXV0RixFQUFBdDhCLFlBQUFqa0QsRUFBQTAvRSxpQkFBQXo3QixZQUFBcm1ELGVBQUEsY0FBZ0osSUFDclQsT0FBQS9NLEdBQUEsV0FBQTBDLGNBQUFxZ0YsR0FBQSxFQUFBM2pGLEVBQUEsZUFBd0YyQyxHQUFVc3JGLGNBQUFELG1CQUFBaitFLFNBQUFxeUUsYUFBQXdCLGFBQUEzaEYsS0FBQTRxRixzQkFHbEcsT0FBQW9ELEdBL0dBdHdGLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFFLEdBQUFULEVBQUEsR0FFQVUsRUFBQVQsRUFBQVEsR0FFQUUsRUFBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxFQUVBWixHQUFBLFdBQUEyd0YsQ0FFQSxJQUFBcnZGLEdBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUE2dkYsRUFBQWx4RixFQUFBLEtBRUFpeEYsRUFBQWh4RixFQUFBaXhGLEdBRUF6dkYsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQWc1QyxFQUFBejZDLEVBQUEsSUFFQTA2QyxFQUFBejZDLEVBQUF3NkMsR0FFQTB5QyxFQUFBbnRGLEVBQUEsSUFtRkFGLEdBQUFDLFVBQUEsWTVHazJrQk1veEYsSUFDQSxTQUFTcnhGLEVBQVFDLEc2R3Q5a0J2QixZQUVBTSxRQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FFQSxJQUFBa1EsSUFDQWlrRCxZQUFBLGlDQUVBMzBELEdBQUEsV0FBQTBRLEVBQ0EzUSxFQUFBQyxVQUFBLFk3RzQ5a0JNcXhGLEtBQ0wsS0FBTSxLQUVEQyxJQUNBLFNBQVN2eEYsRUFBUUMsRUFBU0MsRzhHeitrQmhDRixFQUFBQyxTQUFrQkssVUFBQUosRUFBQSxLQUFBRyxZQUFBLEk5Rysra0JabXhGLElBQ0EsU0FBU3h4RixFQUFRQyxFQUFTQyxHK0doL2tCaEMsWUFZQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FWN0VILEVBQUFJLFlBQUEsQ0FFQSxJQUFBb3hGLEdBQUF2eEYsRUFBQSxLQUVBd3hGLEVBQUF2eEYsRUFBQXN4RixHQUVBRSxFQUFBenhGLEVBQUEsS0FFQTB4RixFQUFBenhGLEVBQUF3eEYsRUFJQTF4RixjQUFBLFdBQ0EsUUFBQTR4RixHQUFBNWhGLEVBQUF4TixHQUNBLEdBQUFxdkYsTUFDQUMsR0FBQSxFQUNBei9FLEdBQUEsRUFDQTAvRSxFQUFBdHhGLE1BRUEsS0FDQSxPQUFBdXhGLEdBQUE3K0UsR0FBQSxFQUFBdytFLGNBQUEzaEYsS0FBd0Q4aEYsR0FBQUUsRUFBQTcrRSxFQUFBbEssUUFBQWdzRSxRQUN4RDRjLEVBQUFyckYsS0FBQXdyRixFQUFBeHhGLFFBRUFnQyxHQUFBcXZGLEVBQUFwdkYsU0FBQUQsR0FIdUZzdkYsR0FBQSxJQUtsRixNQUFBRyxHQUNMNS9FLEdBQUEsRUFDQTAvRSxFQUFBRSxFQUNLLFFBQ0wsS0FDQUgsR0FBQTMrRSxFQUFBLFdBQUFBLEVBQUEsWUFDTyxRQUNQLEdBQUFkLEVBQUEsS0FBQTAvRSxJQUlBLE1BQUFGLEdBR0EsZ0JBQUE3aEYsRUFBQXhOLEdBQ0EsR0FBQVUsTUFBQW1DLFFBQUEySyxHQUNBLE1BQUFBLEVBQ0ssT0FBQXloRixjQUFBbnhGLE9BQUEwUCxJQUNMLE1BQUE0aEYsR0FBQTVoRixFQUFBeE4sRUFFQSxVQUFBZ3FDLFdBQUEsNkQvR3kva0JNMGxELElBQ0EsU0FBU255RixFQUFRQyxFQUFTQyxHZ0h6aWxCaENBLEVBQUEsS0FDQUEsRUFBQSxLQUNBRixFQUFBQyxRQUFBQyxFQUFBLE1oSCtpbEJNa3lGLElBQ0EsU0FBU3B5RixFQUFRQyxFQUFTQyxHaUhsamxCaEMsR0FBQW15RixHQUFBbnlGLEVBQUEsS0FDQW95RixFQUFBcHlGLEVBQUEsZ0JBQ0FxeUYsRUFBQXJ5RixFQUFBLElBQ0FGLEdBQUFDLFFBQUFDLEVBQUEsSUFBQXN5RixXQUFBLFNBQUFDLEdBQ0EsR0FBQTNsQixHQUFBdnNFLE9BQUFreUYsRUFDQSxPQUFBL3hGLFVBQUFvc0UsRUFBQXdsQixJQUNBLGNBQUF4bEIsSUFDQXlsQixFQUFBbHdGLGVBQUFnd0YsRUFBQXZsQixNakh5amxCTTRsQixJQUNOLEdBRU1DLElBQ04sR0FFTUMsSUFDQSxTQUFTNXlGLEVBQVFDLEVBQVNDLElrSGxrbEIvQixTQUFBNk8sRUFBQUMsR0FFREEsRUFBQTlPLEVBQUEsTUFHQzJDLEtBQUEsU0FBQXNNLEdBQTJCLFlBRzVCLElBQUEwakYsR0FBQTFqRixFQUFBa1csYUFBQSxTQUNBakksT0FBQSwwS0FBQS9WLE1BQUEsS0FDQThWLFlBQUEscUdBQUE5VixNQUFBLEtBQ0ErYSxTQUFBLHVJQUFBL2EsTUFBQSxLQUNBOGEsY0FBQSw2RkFBQTlhLE1BQUEsS0FDQTZhLFlBQUEsbURBQUE3YSxNQUFBLEtBQ0F5UCxnQkFDQW1nQixHQUFBLG1CQUNBRCxJQUFBLHlCQUNBRSxFQUFBLGFBQ0FDLEdBQUEsdUJBQ0FDLElBQUEsdUNBQ0FDLEtBQUEsMkNBQ0F6USxFQUFBLGFBQ0Frc0UsR0FBQSx1QkFDQUMsSUFBQSx1Q0FDQUMsS0FBQSw0Q0FFQWg1RCxjQUFBLGdGQUNBblEsYUFBQSxTQUFBRixFQUFBaFksR0FJQSxNQUhBLE1BQUFnWSxJQUNBQSxFQUFBLEdBRUEsaUJBQUFoWSxHQUFBLGlCQUFBQSxHQUNBLGlCQUFBQSxFQUNBZ1ksRUFDUyxpQkFBQWhZLEdBQUEsaUJBQUFBLEVBQ1RnWSxFQUFBLEdBR0FBLEdBQUEsR0FBQUEsSUFBQSxJQUdBaFksU0FBQSxTQUFBZ1ksRUFBQVcsRUFBQWhHLEdBQ0EsR0FBQTJ1RSxHQUFBLElBQUF0cEUsRUFBQVcsQ0FDQSxPQUFBMm9FLEdBQUEsSUFDQSxlQUNTQSxFQUFBLElBQ1QsZUFDU0EsRUFBQSxLQUNULGVBQ1NBLEVBQUEsS0FDVCxlQUNTQSxFQUFBLEtBQ1QsZUFFQSxnQkFHQXg4RSxVQUNBZ2dCLFFBQUEsV0FDQSxXQUFBNXpCLEtBQUFvaEIsVUFBQSxxREFFQXlTLFFBQUEsV0FDQSxXQUFBN3pCLEtBQUFvaEIsVUFBQSxxREFFQTJTLFFBQUEsV0FDQSxXQUFBL3pCLEtBQUFvaEIsVUFBQSxxREFFQTBTLFNBQUEsV0FDQSxHQUFBdThELEdBQUEvaEUsQ0FHQSxPQUZBK2hFLEdBQUEvakYsSUFBQXlnQixRQUFBLFFBQ0F1QixFQUFBdHVCLEtBQUErVSxLQUFBczdFLEVBQUEsaUNBQ0EsSUFBQXJ3RixLQUFBb2hCLFVBQUFrTixFQUFBLG9CQUFBQSxFQUFBLGlCQUVBMEYsU0FBQSxXQUNBLEdBQUFxOEQsR0FBQS9oRSxDQUdBLE9BRkEraEUsR0FBQS9qRixJQUFBeWdCLFFBQUEsUUFDQXVCLEVBQUF0dUIsS0FBQWt2QixPQUFBbWhFLEVBQUFuaEUsT0FBQSxzQkFDQSxJQUFBbHZCLEtBQUFvaEIsVUFBQWtOLEVBQUEsb0JBQUFBLEVBQUEsaUJBRUEyRixTQUFBLE1BRUFpRCxhQUFBLGdDQUNBMWlCLFFBQUEsU0FBQW5ELEVBQUFnYixHQUNBLE9BQUFBLEdBQ0EsUUFDQSxRQUNBLFVBQ0EsTUFBQWhiLEdBQUEsUUFDQSxTQUNBLE1BQUFBLEdBQUEsUUFDQSxTQUNBLFFBQ0EsTUFBQUEsR0FBQSxRQUNBLFNBQ0EsTUFBQUEsS0FHQXFELGNBQ0FtZ0IsT0FBQSxXQUNBQyxLQUFBLFdBQ0EzMUIsRUFBQSxlQUNBNlAsRUFBQSxpQkFDQStsQixHQUFBLGtCQUNBM1ksRUFBQSxpQkFDQTRZLEdBQUEsa0JBQ0E3WSxFQUFBLFdBQ0E4WSxHQUFBLFlBQ0E1WSxFQUFBLGlCQUNBNlksR0FBQSxrQkFDQWhaLEVBQUEsV0FDQWlaLEdBQUEsYUFFQWhZLE1BRUFOLElBQUEsRUFDQUMsSUFBQSxJQUlBLE9BQUFrekUsTWxIK2tsQk1NLElBQ0EsU0FBU256RixFQUFRQyxFQUFTQyxHbUg1c2xCaEMsWUFnREEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFndEMsTUFFQSxRQUFBZ21ELEtBQ0EsR0FBQWxxRixHQUFBckcsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQXpqQixHQUFBMG1CLFFBQUEsU0FDQS9zQixLQUFBaWhGLFNBQUE1NkUsR0FHQSxRQUFBbXFGLEtBQ0EsR0FBQW5xRixHQUFBckcsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQXpqQixHQUFBNm1CLE1BQUEsU0FDQWx0QixLQUFBaWhGLFNBQUE1NkUsR0FHQSxRQUFBb3FGLEdBQUFya0UsRUFBQXBsQixHQUNBLEdBQUFYLEdBQUFyRyxLQUFBNHhDLE1BQUFoMEMsTUFBQWtzQixPQUNBempCLEdBQUE4WCxJQUFBaU8sRUFBQXBsQixHQUNBaEgsS0FBQWloRixTQUFBNTZFLEdBR0EsUUFBQXc4RSxHQUFBejJELEdBQ0EsTUFBQXFrRSxHQUFBaHhGLEtBQUFPLEtBQUFvc0IsRUFBQSxVQUdBLFFBQUEyMkQsR0FBQTMyRCxHQUNBLE1BQUFxa0UsR0FBQWh4RixLQUFBTyxLQUFBb3NCLEVBQUEsU0FHQSxRQUFBc2tFLEdBQUF0a0UsR0FDQSxNQUFBcWtFLEdBQUFoeEYsS0FBQU8sS0FBQW9zQixFQUFBLFNBR0EsUUFBQXVrRSxHQUFBdmtFLEdBQ0EsTUFBQXFrRSxHQUFBaHhGLEtBQUFPLEtBQUFvc0IsRUFBQSxRQWpGQTF1QixPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBRSxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFZLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnc0MsRUFBQXJ0QyxFQUFBLEdBRUFzdEMsRUFBQXJ0QyxFQUFBb3RDLEdBRUFxbUIsRUFBQTF6RCxFQUFBLEtBRUEyekQsRUFBQTF6RCxFQUFBeXpELEdBRUE2L0IsRUFBQXZ6RixFQUFBLEtBRUF3ekYsRUFBQXZ6RixFQUFBc3pGLEdBRUFFLEVBQUF6ekYsRUFBQSxLQUVBMHpGLEVBQUF6ekYsRUFBQXd6RixHQUVBRSxFQUFBM3pGLEVBQUEsS0FFQTR6RixFQUFBM3pGLEVBQUEwekYsR0FFQXZRLEVBQUFwakYsRUFBQSxLQUVBcWpGLEVBQUFwakYsRUFBQW1qRixHQUVBRSxFQUFBdGpGLEVBQUEsS0FFQXVqRixFQUFBdGpGLEVBQUFxakYsR0FFQXVRLEVBQUE3ekYsRUFBQSxLQUVBOHpGLEVBQUE3ekYsRUFBQTR6RixHQUVBNS9DLEVBQUFqMEMsRUFBQSxJQXdDQTZzRixFQUFBdnJGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLFdBRUFsN0MsV0FDQWs5QixhQUFBcHFDLEVBQUFtTixVQUFBd0wsS0FDQSt3QixhQUFBMXBDLEVBQUFtTixVQUFBRyxJQUNBcE8sTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQWltQixjQUFBNzFELEVBQUFtTixVQUFBeWlDLE9BQ0F3RCxhQUFBcHpDLEVBQUFtTixVQUFBeWlDLE9BQ0F4dEMsVUFBQXBDLEVBQUFtTixVQUFBNUgsT0FDQTZKLE9BQUFwUCxFQUFBbU4sVUFBQXlpQyxPQUNBOGlELGVBQUExeUYsRUFBQW1OLFVBQUFFLEtBQ0FuTCxNQUFBbEMsRUFBQW1OLFVBQUF5aUMsT0FDQTQ4QyxVQUFBeHNGLEVBQUFtTixVQUFBRSxLQUNBc2xGLGNBQUEzeUYsRUFBQW1OLFVBQUFFLEtBQ0FnbkMsUUFBQXIwQyxFQUFBbU4sVUFBQUUsS0FDQW14QyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsS0FDQXlvRSxLQUFBcGhGLEVBQUFtTixVQUFBd0wsS0FDQWk2RSxPQUFBNXlGLEVBQUFtTixVQUFBRSxLQUNBcEwsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQTRvRCxVQUFBbnVELEVBQUFtTixVQUFBd0wsS0FDQThvRSxXQUFBemhGLEVBQUFtTixVQUFBbzRDLFFBQ0F5bkMscUJBQUFodEYsRUFBQW1OLFVBQUFHLElBQ0ErekUsUUFBQXJoRixFQUFBbU4sVUFBQXdMLEtBQ0F3MUIsU0FBQW51QyxFQUFBbU4sVUFBQXdMLEtBQ0Eyb0UsYUFBQXRoRixFQUFBbU4sVUFBQXdMLEtBQ0E0b0UsY0FBQXZoRixFQUFBbU4sVUFBQXdMLE1BR0FnN0MsUUFBQXV1QixFQUFBLFdBQUFGLEVBQUEsWUFFQXI1QixnQkFBQSxXQUNBLE9BQ0E2akMsV0FBQSxFQUNBbUcsZUFBQSxFQUNBbFIsV0FBQSxLQUNBTCxLQUFBdjFDLElBR0FnZCxnQkFBQSxXQUNBLE9BQ0FrOEIsZ0JBQUEsSUFHQTUyQixVQUFBLFNBQUE2RyxHQUNBLGFBQUFBLEVBQUE1c0QsT0FBQXlxRixTQUFBcDhFLGNBQUEsQ0FHQSxHQUFBbzFDLEdBQUFtSixFQUFBbkosUUFFQW1qQixFQUFBaGEsRUFBQWdhLFNBQUFoYSxFQUFBaWEsT0FDQSxRQUFBcGpCLEdBQ0EsSUFBQXlHLEdBQUEsV0FBQWtELEtBR0EsTUFGQXc4QixHQUFBanhGLEtBQUFPLEtBQUEsR0FDQTB6RCxFQUFBL3dELGlCQUNBLENBQ0EsS0FBQXF1RCxHQUFBLFdBQUEwWCxHQUdBLE1BRkFnb0IsR0FBQWp4RixLQUFBTyxTQUNBMHpELEVBQUEvd0QsaUJBQ0EsQ0FDQSxLQUFBcXVELEdBQUEsV0FBQXlYLEtBT0EsTUFOQWlGLEdBQ0FxVixFQUFBdGpGLEtBQUFPLFNBRUEyd0YsRUFBQWx4RixLQUFBTyxTQUVBMHpELEVBQUEvd0QsaUJBQ0EsQ0FDQSxLQUFBcXVELEdBQUEsV0FBQTJYLE1BT0EsTUFOQStFLEdBQ0FxVixFQUFBdGpGLEtBQUFPLEtBQUEsR0FFQTJ3RixFQUFBbHhGLEtBQUFPLEtBQUEsR0FFQTB6RCxFQUFBL3dELGlCQUNBLENBQ0EsS0FBQXF1RCxHQUFBLFdBQUF3WCxLQUdBLE1BRkErbkIsR0FBQTl3RixLQUFBTyxNQUNBMHpELEVBQUEvd0QsaUJBQ0EsQ0FDQSxLQUFBcXVELEdBQUEsV0FBQXVYLElBR0EsTUFGQWlvQixHQUFBL3dGLEtBQUFPLE1BQ0EwekQsRUFBQS93RCxpQkFDQSxDQUNBLEtBQUFxdUQsR0FBQSxXQUFBc1g7QUFHQSxNQUZBdWEsR0FBQXBqRixLQUFBTyxLQUFBLEdBQ0EwekQsRUFBQS93RCxpQkFDQSxDQUNBLEtBQUFxdUQsR0FBQSxXQUFBcVgsUUFHQSxNQUZBd2EsR0FBQXBqRixLQUFBTyxTQUNBMHpELEVBQUEvd0QsaUJBQ0EsQ0FDQSxLQUFBcXVELEdBQUEsV0FBQWpxQixNQUtBLE1BSkEvbUMsTUFBQWs5QyxTQUFBbDlDLEtBQUE0eEMsTUFBQWgwQyxPQUNBMlYsT0FBQSxhQUVBbWdELEVBQUEvd0QsaUJBQ0EsQ0FDQSxTQUVBLE1BREEzQyxNQUFBVSxNQUFBbXNELFVBQUE2RyxHQUNBLEtBR0Fxc0IsUUFBQSxXQUNBLy9FLEtBQUFrOUMsU0FBQSxNQUNBbDlDLEtBQUFVLE1BQUFxL0UsV0FFQUQsS0FBQSxXQUNBLEdBQUF2ckIsR0FBQXYwRCxLQUFBNHhDLE1BQUEyaUIsYUFFQXYwRCxNQUFBNm9DLGNBQUEwckIsSUFDQXYwRCxLQUFBVSxNQUFBby9FLEtBQUF2ckIsSUFHQWk5QixrQkFBQSxTQUFBNXpGLEdBQ0FvQyxLQUFBazlDLFNBQUF0L0MsR0FDQTJWLE9BQUEsZUFHQWsrRSxrQkFBQSxTQUFBN3pGLEdBQ0FvQyxLQUFBazlDLFNBQUF0L0MsSUFFQTRuRixRQUFBLFdBQ0EsR0FBQTVuRixHQUFBb0MsS0FBQTR4QyxNQUFBaDBDLE1BRUFrVyxHQUFBLEVBQUF3OUIsRUFBQXpKLGNBQUFqcUMsRUFDQW9DLE1BQUFrOUMsU0FBQXBwQyxHQUNBUCxPQUFBLGlCQUdBOHlFLGVBQUEsV0FDQSxNQUFBMTdDLEdBQUEsV0FBQXNDLFlBQUFqdEMsT0FFQTB4RixlQUFBLFdBQ0ExeEYsS0FBQTZ4QyxVQUNBNHhDLGdCQUFBLEtBR0FrTyxnQkFBQSxXQUNBM3hGLEtBQUE2eEMsVUFDQTR4QyxnQkFBQSxLQUdBampGLE9BQUEsV0FDQSxHQUFBRSxHQUFBVixLQUFBVSxNQUNBb04sRUFBQXBOLEVBQUFvTixPQUNBbk4sRUFBQUQsRUFBQUMsVUFDQW1vQyxFQUFBcG9DLEVBQUFvb0MsYUFDQTRpRCxFQUFBaHJGLEVBQUFnckYscUJBQ0F2TCxFQUFBei9FLEVBQUF5L0UsV0FDQS8zQyxFQUFBMW5DLEVBQUEwbkMsYUFFQXdKLEVBQUE1eEMsS0FBQTR4QyxNQUNBaDBDLEVBQUFnMEMsRUFBQWgwQyxNQUNBMjJELEVBQUEzaUIsRUFBQTJpQixjQUNBa3ZCLEVBQUE3eEMsRUFBQTZ4QyxlQUVBcDdDLEVBQUFvN0MsR0FBQXI3QyxHQUFBKzNDLEdBQUEsRUFBQTd1QyxFQUFBbkosZUFBQW9zQixFQUFBbnNCLEdBQUEsS0FFQXdwRCxFQUFBelIsR0FBQXNELEVBQUE5a0YsRUFBQSxXQUFBbW5DLGFBQUFxNkMsR0FBQSxFQUFBcGlGLEVBQUEsYUFDQTZ2RixVQUFBLEVBQ0FFLFlBQUEsRUFDQUQsWUFBQSxHQUNLMU4sRUFBQXovRSxNQUFBMm5DLEdBQ0x3RSxTQUFBN3NDLEtBQUF3eEYsa0JBQ0FLLGlCQUFBajBGLEVBQ0FBLE1BQUEyMkQsRUFDQW5zQixrQkFDSyxLQUNMMHBELEVBQUFweEYsRUFBQTJ3RixjQUFBMXlGLEVBQUEsV0FBQTBDLGNBQUE4dkYsRUFBQSxZQUNBbHBDLElBQUEsWUFDQXA2QyxPQUFBN04sS0FBQWtnRixZQUNBdCtFLElBQUEsYUFDQWhFLFFBQ0FrUSxTQUNBaWtELFlBQUEyNUIsRUFDQWxGLFdBQUEsRUFDQXArQyxlQUNBVSxlQUNBaTNDLFFBQUEvL0UsS0FBQSsvRSxRQUNBcC9FLFlBQ0E0ekQsZ0JBQ0ExbkIsU0FBQTdzQyxLQUFBd3hGLG9CQUNLLEtBQ0wzd0YsR0FBQUgsRUFBQXUvRSxnQkFBQXRoRixFQUFBLFdBQUEwQyxjQUNBLE9BQ09QLFVBQUFILEVBQUEsU0FBQWlCLElBQUEsU0FDUGt3RixFQUNBbnpGLEVBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQUgsRUFBQSxlQUNUaEMsRUFBQSxXQUFBMEMsY0FBQTB2RixFQUFBLFlBQ0FqakYsU0FDQWcxRSxjQUFBOWlGLEtBQUFpaEYsU0FDQXJqRixRQUNBNmxGLGlCQUNBOWlGLGNBRUF3L0UsR0FBQXNELEVBQUE5a0YsRUFBQSxXQUFBMEMsY0FDQSxPQUNXUCxVQUFBSCxFQUFBLGdCQUNYaEMsRUFBQSxXQUFBMEMsY0FDQSxPQUNhUCxVQUFBSCxFQUFBLHNCQUNiaXhGLElBRUEsS0FDQWp6RixFQUFBLFdBQUEwQyxjQUNBLE9BQ1dQLFVBQUFILEVBQUEsU0FDWGhDLEVBQUEsV0FBQTBDLGNBQUF3dkYsRUFBQSxZQUNBL2lGLFNBQ0FsUSxRQUNBMjJELGdCQUNBNXpELFlBQ0FveEYsV0FBQXJ4RixFQUFBcXhGLFdBQ0E3MEMsU0FBQWw5QyxLQUFBeXhGLGtCQUNBM29ELGVBQ0Fzb0QsZUFBQTF3RixFQUFBMHdGLGtCQUdBenlGLEVBQUEsV0FBQTBDLGNBQUE0dkYsRUFBQSxZQUNBSyxPQUFBNXdGLEVBQUE0d0YsT0FDQXRSLGFBQUF0L0UsRUFBQXMvRSxhQUNBbHlFLFNBQ0FuTixZQUNBdXFGLFVBQUF4cUYsRUFBQXdxRixVQUNBOWlELGVBQ0FxN0MsaUJBQ0E0TixjQUFBM3dGLEVBQUEyd0YsY0FDQWxSLGFBQ0E1ckIsZ0JBQ0EzMkQsUUFDQWtyQyxlQUNBKzdDLFlBQUE3a0YsS0FBQTZvQyxjQUFBMHJCLEdBQ0F1ckIsS0FBQTkvRSxLQUFBOC9FLEtBQ0E1aUMsU0FBQWw5QyxLQUFBazlDLFNBQ0Fzb0MsUUFBQXhsRixLQUFBd2xGLFFBQ0FQLGlCQUFBamxGLEtBQUEweEYsZUFDQXhNLGtCQUFBbGxGLEtBQUEyeEYsb0JBS0EsT0FBQTN4RixNQUFBcWhGLFlBQ0F4Z0YsV0FDQUMsVUFBQUosRUFBQTB3RixlQUFBendGLEVBQUEsc0JBS0F2RCxHQUFBLFdBQUE4c0YsRUFDQS9zRixFQUFBQyxVQUFBLFluSGt0bEJNNDBGLElBQ0EsU0FBUzcwRixFQUFRQyxFQUFTQyxHb0hyaW1CaEMsWUFvREEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFndEMsTUFFQSxRQUFBbzlDLEtBQ0EsU0FBQTUvQyxFQUFBLGNBR0EsUUFBQSs2QyxHQUFBMTJELEVBQUErVCxHQUNBLEdBQUF2aUMsR0FBQSxNQUNBQSxHQUFBdWlDLEVBQ0EsVUFBQS9ULEdBQ0F4dUIsRUFBQXVnQixPQUFBLFVBRUFuZSxLQUFBaXlGLGdCQUFBcjBGLEdBR0EsUUFBQXMwRixHQUFBeHhGLEVBQUF5eEYsR0FDQSxHQUFBNTlCLEdBQUE3ekQsRUFBQTZ6RCxlQUFBNDlCLEdBQUF6eEYsRUFBQW9uRix5QkFDQWxxRixFQUFBOEMsRUFBQTlDLEtBQ0EwQyxPQUFBbUMsUUFBQTdFLEtBQ0FBLElBQUEsR0FFQSxJQUFBazBDLEdBQUFweEMsRUFBQW94QyxZQUlBLE9BSEF4eEMsT0FBQW1DLFFBQUFxdkMsS0FDQUEsSUFBQSxJQUVBbDBDLEdBQUF1MEYsR0FBQXJnRCxHQUFBeWlCLEVBQUEsSUFBQTQ5QixHQUFBeEssSUFHQSxRQUFBeUssR0FBQXZ5RixHQUVBLE9BREF1TixNQUNBeFAsRUFBQSxFQUFxQkEsRUFBQWlDLEVBQWdCakMsSUFDckN3UCxFQUFBeEosS0FBQWhHLEVBRUEsT0FBQXdQLEdBR0EsUUFBQWlsRixHQUFBam1FLEVBQUF4dUIsR0FDQSxHQUFBQSxFQUFBLENBR0EsR0FBQXdvRixHQUFBcG1GLEtBQUE0eEMsTUFBQTJpQixjQUNBQSxFQUFBNnhCLEVBQUEzaUYsU0FDQVosRUFBQSxTQUFBdXBCLEVBQUEsR0FDQW1vQyxHQUFBMXhELEdBQUFqRixFQUNBMjJELEVBQUEsSUFBQXYwRCxLQUFBc3lGLFFBQUEvOUIsRUFBQSxHQUFBQSxFQUFBLFFBQ0FBLEVBQUEsRUFBQTF4RCxHQUFBN0MsS0FBQTR4QyxNQUFBNnhDLGVBQUFsdkIsRUFBQTF4RCxHQUFBaEYsUUFFQW1DLEtBQUF1eUYsc0JBQUFoK0IsSUFuR0E3MkQsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUUsR0FBQVQsRUFBQSxHQUVBVSxFQUFBVCxFQUFBUSxHQUVBMDBGLEVBQUFuMUYsRUFBQSxLQUVBbzFGLEVBQUFuMUYsRUFBQWsxRixHQUVBeDBGLEVBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUsR0FFQVUsRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXFxQyxFQUFBMXJDLEVBQUEsSUFFQTBxQyxFQUFBenFDLEVBQUF5ckMsR0FFQWhxQyxFQUFBMUIsRUFBQSxHQUVBNHpELEVBQUEzekQsRUFBQXlCLEdBRUEyekYsRUFBQXIxRixFQUFBLEtBRUFzMUYsRUFBQXIxRixFQUFBbzFGLEdBRUE5bkQsRUFBQXZ0QyxFQUFBLElBRUF1MUYsRUFBQXYxRixFQUFBLEtBRUF3MUYsRUFBQXYxRixFQUFBczFGLEdBRUFFLEVBQUF6MUYsRUFBQSxLQUVBMDFGLEVBQUF6MUYsRUFBQXcxRixHQUVBRSxFQUFBMzFGLEVBQUEsS0FFQTQxRixFQUFBMzFGLEVBQUEwMUYsR0FFQXJTLEVBQUF0akYsRUFBQSxLQUVBdWpGLEVBQUF0akYsRUFBQXFqRixHQXNEQXVTLEVBQUF2MEYsRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsZ0JBRUFsN0MsV0FDQWpMLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0F5bkYscUJBQUFodEYsRUFBQW1OLFVBQUFHLElBQ0E4bEMsYUFBQXB6QyxFQUFBbU4sVUFBQUcsSUFDQW0wRSxXQUFBemhGLEVBQUFtTixVQUFBRyxJQUNBcE8sTUFBQWMsRUFBQW1OLFVBQUFHLElBQ0FzbEYsT0FBQTV5RixFQUFBbU4sVUFBQUUsS0FDQW0vRSxVQUFBeHNGLEVBQUFtTixVQUFBRSxLQUNBd29ELGNBQUE3MUQsRUFBQW1OLFVBQUF0SCxNQUNBdWpGLHFCQUFBcHBGLEVBQUFtTixVQUFBdEgsTUFDQXU3RSxLQUFBcGhGLEVBQUFtTixVQUFBd0wsS0FDQW12RSxVQUFBOW5GLEVBQUFtTixVQUFBRSxLQUNBK0IsT0FBQXBQLEVBQUFtTixVQUFBeWlDLE9BQ0F6QixTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQTZsQyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsS0FDQXlyRSxjQUFBcGtGLEVBQUFtTixVQUFBd0wsS0FDQXl4QixhQUFBcHFDLEVBQUFtTixVQUFBd0wsS0FDQXhKLE9BQUFuUCxFQUFBbU4sVUFBQXdpQyxXQUFBM3ZDLEVBQUFtTixVQUFBeWlDLE9BQUE1dkMsRUFBQW1OLFVBQUE1SCxTQUNBODdFLFFBQUFyaEYsRUFBQW1OLFVBQUF3TCxLQUNBOVQsS0FBQTdFLEVBQUFtTixVQUFBRyxJQUNBbzhCLGFBQUExcEMsRUFBQW1OLFVBQUF3TCxNQUdBZzdDLFFBQUF1dUIsRUFBQSxZQUVBdjVCLGdCQUFBLFdBQ0EsT0FDQTlqRCxLQUFBLE9BQ0F1a0Ysd0JBQ0FoRixjQUFBdjRDLEVBQ0FuQyxhQUFBbUMsRUFDQTJnRCxXQUFBLElBR0EzakMsZ0JBQUEsV0FDQSxHQUFBN21ELEdBQUFWLEtBQUFVLE1BQ0E2ekQsRUFBQTd6RCxFQUFBNnpELGVBQUE3ekQsRUFBQW9uRixxQkFDQWxxRixFQUFBczBGLEVBQUF4eEYsRUFBQSxFQUNBLFFBQ0E2ekQsZ0JBQ0E0K0IsY0FDQXYxRixRQUNBNmxGLGdCQUFBLElBR0F2MkMsMEJBQUEsU0FBQUMsR0FDQSxHQUFBNk0sS0FDQSxVQUFBN00sS0FDQUEsRUFBQXZ2QyxNQUNBbzhDLEVBQUFwOEMsTUFBQXV2QyxFQUFBdnZDLE1BRUFvOEMsRUFBQXA4QyxNQUFBczBGLEVBQUEva0QsRUFBQSxHQUVBbnRDLEtBQUE2eEMsU0FBQW1JLElBRUEsaUJBQUE3TSxLQUNBNk0sRUFBQXVhLGNBQUFwbkIsRUFBQW9uQixjQUNBdjBELEtBQUE2eEMsU0FBQW1JLEtBR0FvNUMsaUJBQUEsV0FDQXB6RixLQUFBcXpGLG9CQUNBcnpGLEtBQUE2eEMsVUFDQXNoRCxXQUFBbnpGLEtBQUE0eEMsTUFBQTJpQixjQUFBOXdELFlBSUE2dkYsaUJBQUEsV0FDQXR6RixLQUFBcXpGLG9CQUNBcnpGLEtBQUE2eEMsVUFDQXNoRCxpQkFJQWoyQyxTQUFBLFNBQUF0L0MsR0FDQSxHQUFBcTVDLEdBQUFqM0MsS0FBQTR4QyxNQUNBdWhELEVBQUFsOEMsRUFBQWs4QyxXQUNBNStCLEVBQUF0ZCxFQUFBc2QsY0FFQWcvQixFQUFBLE9BQ0Fod0YsRUFBQXZELEtBQUFVLE1BQUE2QyxLQUVBaXdGLEdBQUEsQ0FDQSxJQUFBTCxFQUFBLElBQUFBLEVBQUEsYUFBQTV2RixFQUdLLGFBQUFBLEVBQUEsQ0FDTCxHQUFBa3dGLEdBQUFsL0IsRUFBQSxFQUVBZy9CLElBREFFLEdBQUF6ekYsS0FBQXN5RixRQUFBbUIsRUFBQTcxRixHQUFBLEdBQ0FBLElBRUFBLEVBQUE2MUYsR0FFQUQsR0FBQSxNQUNLLENBQ0wsR0FBQUUsR0FBQSxNQUNBQSxHQUFBLFFBQUFud0YsRUFBQWd4RCxFQUFBLEdBQUE0K0IsRUFBQSxHQUNBTyxHQUFBMXpGLEtBQUFzeUYsUUFBQW9CLEVBQUE5MUYsSUFBQSxHQUNBMjFGLEdBQUFHLEVBQUE5MUYsR0FDQTQxRixHQUFBLElBRUFELEdBQUEzMUYsR0FDQTQxRixHQUFBLE9BbEJBRCxJQUFBMzFGLEdBQ0E0MUYsR0FBQSxDQXFCQUEsSUFDQXh6RixLQUFBdXlGLHNCQUFBZ0IsSUFHQUksV0FBQSxTQUFBLzFGLEdBQ0EsR0FBQXUxRixHQUFBbnpGLEtBQUE0eEMsTUFBQXVoRCxXQUNBNStCLEVBQUF2MEQsS0FBQTR4QyxNQUFBMmlCLGNBQ0FoeEQsRUFBQXZELEtBQUFVLE1BQUE2QyxJQUVBLGNBQUFBLEdBQUFneEQsRUFBQSxHQUVBNCtCLEVBREFuekYsS0FBQXN5RixRQUFBMTBGLEVBQUEyMkQsRUFBQSxPQUNBMzJELEVBQUEyMkQsRUFBQSxLQUVBMzJELEdBRUFvQyxLQUFBNnhDLFVBQ0FzaEQsbUJBRUssWUFBQTV2RixHQUFBZ3hELEVBQUEsR0FFTDQrQixFQURBbnpGLEtBQUFzeUYsUUFBQTEwRixFQUFBMjJELEVBQUEsT0FDQUEsRUFBQSxHQUFBMzJELE1BSUFvQyxLQUFBNnhDLFVBQ0FzaEQsbUJBRUssQ0FDTCxJQUFBQSxFQUFBLElBQUFuekYsS0FBQXN5RixRQUFBMTBGLEVBQUF1MUYsRUFBQSxNQUNBLE1BRUFBLEdBQUEsR0FBQXYxRixFQUNBb0MsS0FBQTZ4QyxVQUNBc2hELGlCQUlBM04sUUFBQSxXQUNBeGxGLEtBQUE2eEMsVUFDQWowQyxPQUFBLEVBQUFndEMsRUFBQS9DLGNBQUE3bkMsS0FBQTR4QyxNQUFBaDBDLFVBR0FxbkYsaUJBQUEsV0FDQWpsRixLQUFBNnhDLFVBQ0E0eEMsZ0JBQUEsS0FHQXlCLGtCQUFBLFdBQ0FsbEYsS0FBQTZ4QyxVQUNBNHhDLGdCQUFBLEtBR0EzRCxLQUFBLFdBQ0EsR0FBQXZyQixHQUFBdjBELEtBQUE0eEMsTUFBQTJpQixhQUVBdjBELE1BQUE0ekYscUJBQUFyL0IsSUFDQXYwRCxLQUFBVSxNQUFBby9FLEtBQUE5L0UsS0FBQTR4QyxNQUFBMmlCLGdCQUdBcy9CLG1CQUFBLFdBQ0EsT0FBQXp6RixHQUFBRixVQUFBTCxPQUFBaTBGLEVBQUF4ekYsTUFBQUYsR0FBQUcsRUFBQSxFQUFvRUEsRUFBQUgsRUFBYUcsSUFDakZ1ekYsRUFBQXZ6RixHQUFBTCxVQUFBSyxFQUdBLElBQUFGLElBQUEsUUFBQW9ELE9BQUFxd0YsRUFDQSxPQUFBekIsR0FBQXB5RixNQUFBRCxLQUFBSyxJQUVBMHpGLGlCQUFBLFdBQ0EsT0FBQUMsR0FBQTl6RixVQUFBTCxPQUFBaTBGLEVBQUF4ekYsTUFBQTB6RixHQUFBQyxFQUFBLEVBQXVFQSxFQUFBRCxFQUFlQyxJQUN0RkgsRUFBQUcsR0FBQS96RixVQUFBK3pGLEVBR0EsSUFBQTV6RixJQUFBLFNBQUFvRCxPQUFBcXdGLEVBQ0EsT0FBQXpCLEdBQUFweUYsTUFBQUQsS0FBQUssSUFFQTZ6RixtQkFBQSxXQUNBLE9BQUFDLEdBQUFqMEYsVUFBQUwsT0FBQWkwRixFQUFBeHpGLE1BQUE2ekYsR0FBQUMsRUFBQSxFQUF1RUEsRUFBQUQsRUFBZUMsSUFDdEZOLEVBQUFNLEdBQUFsMEYsVUFBQWswRixFQUdBLElBQUEvekYsSUFBQSxRQUFBb0QsT0FBQXF3RixFQUNBLE9BQUFoUixHQUFBN2lGLE1BQUFELEtBQUFLLElBRUFnMEYsaUJBQUEsV0FDQSxPQUFBQyxHQUFBcDBGLFVBQUFMLE9BQUFpMEYsRUFBQXh6RixNQUFBZzBGLEdBQUFDLEVBQUEsRUFBdUVBLEVBQUFELEVBQWVDLElBQ3RGVCxFQUFBUyxHQUFBcjBGLFVBQUFxMEYsRUFHQSxJQUFBbDBGLElBQUEsU0FBQW9ELE9BQUFxd0YsRUFDQSxPQUFBaFIsR0FBQTdpRixNQUFBRCxLQUFBSyxJQUVBbTBGLGNBQUEsV0FDQSxHQUFBNTJGLEdBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFDQTIyRCxFQUFBdjBELEtBQUE0eEMsTUFBQTJpQixhQU1BLE9BSkFBLEdBQUEsSUFBQXYwRCxLQUFBVSxNQUFBeS9FLGFBQ0F2aUYsSUFBQWtzQixTQUNBLEVBQUE4Z0IsRUFBQTFDLFVBQUFxc0IsRUFBQSxHQUFBMzJELElBRUFvQyxLQUFBNHhDLE1BQUE2eEMsZ0JBQUFsdkIsRUFBQSxHQUNBQSxFQUFBLEdBRUEzMkQsR0FFQTYyRixZQUFBLFdBQ0EsR0FBQWhCLEdBQUF6ekYsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQTJwRSxHQUFBdDFFLElBQUEsV0FDQSxJQUFBbzJDLEdBQUF2MEQsS0FBQTR4QyxNQUFBMmlCLGFBS0EsT0FIQUEsR0FBQSxJQUFBdjBELEtBQUFVLE1BQUF5L0UsYUFDQSxFQUFBdjFDLEVBQUExQyxVQUFBcXNCLEVBQUEsR0FBQWsvQixHQUVBenpGLEtBQUE0eEMsTUFBQTZ4QyxlQUNBbHZCLEVBQUEsR0FBQUEsRUFBQSxHQUFBdjBELEtBQUF3MEYsZ0JBRUFmLEdBSUFpQixrQkFBQSxXQUNBLEdBQUE3MkMsR0FBQTc5QyxLQUFBNHhDLE1BQ0EyaUIsRUFBQTFXLEVBQUEwVyxjQUNBMzJELEVBQUFpZ0QsRUFBQWpnRCxNQUVBODFGLEVBQUFuL0IsS0FBQSxJQUFBMzJELEVBQUFrc0IsT0FHQSxLQUFBeXFDLEVBQUEsSUFBQW0vQixFQUFBcm1FLE9BQUFrbkMsRUFBQSxXQUNBLEdBQUF0ekMsR0FBQXl5RSxFQUFBNXNFLE9BQ0ExRixFQUFBc3lFLEVBQUFqc0UsU0FDQUMsRUFBQWdzRSxFQUFBaHNFLFNBQ0FpdEUsRUFBQXZDLEVBQUFueEUsR0FDQTJ6RSxFQUFBeEMsRUFBQWh4RSxHQUNBeXpFLEVBQUF6QyxFQUFBMXFFLEVBQ0EsUUFDQStnQixjQUFBLFdBQ0EsTUFBQWtzRCxJQUVBanNELGdCQUFBLFNBQUE1aEIsR0FDQSxNQUFBQSxLQUFBN0YsRUFDQTJ6RSxNQUlBanNELGdCQUFBLFNBQUE3aEIsRUFBQVcsR0FDQSxNQUFBWCxLQUFBN0YsR0FBQXdHLElBQUFyRyxFQUNBeXpFLE9BTUEsYUFFQWpCLHFCQUFBLFNBQUFyL0IsR0FDQSxTQUFBM3BCLEVBQUEvQixlQUFBMHJCLEVBQUEsR0FBQXYwRCxLQUFBVSxNQUFBb29DLGFBQUE5b0MsS0FBQTgwRixxQkFBQSxFQUFBbHFELEVBQUEvQixlQUFBMHJCLEVBQUEsR0FBQXYwRCxLQUFBVSxNQUFBb29DLGFBQUE5b0MsS0FBQSswRixrQkFFQTFCLGlCQUFBLFdBQ0EsR0FBQTkrQixHQUFBdjBELEtBQUE0eEMsTUFBQTJpQixhQUVBLFNBQUFBLEVBQUEsTUFBQUEsRUFBQSxJQUVBKzlCLFFBQUEsU0FBQTBDLEVBQUFDLEdBQ0EsTUFBQWoxRixNQUFBVSxNQUFBeS9FLFdBQ0E2VSxFQUFBamdGLEtBQUFrZ0YsR0FFQUQsRUFBQWpnRixLQUFBa2dGLEVBQUEsU0FFQTFDLHNCQUFBLFNBQUFoK0IsRUFBQTJnQyxHQUNBLGlCQUFBbDFGLE1BQUFVLE9BQ0FWLEtBQUE2eEMsVUFDQTBpQixrQkFLQXYwRCxLQUFBNHhDLE1BQUEyaUIsY0FBQSxJQUFBdjBELEtBQUE0eEMsTUFBQTJpQixjQUFBLElBQ0F2MEQsS0FBQTZ4QyxVQUNBMGlCLGdCQUNBMzJELE1BQUEyMkQsRUFBQSxJQUFBb3pCLE1BSUFwekIsRUFBQSxLQUFBQSxFQUFBLElBQ0F2MEQsS0FBQTZ4QyxVQUNBc2hELFdBQUE1K0IsRUFBQTl3RCxXQUdBekQsS0FBQVUsTUFBQW1zQyxTQUFBMG5CLElBQ0EyZ0MsR0FBQTNnQyxFQUFBLElBQUFBLEVBQUEsTUFDQXYwRCxLQUFBNnhDLFVBQ0FzaEQsZ0JBRUFuekYsS0FBQVUsTUFBQXc4QyxTQUFBcVgsS0FHQTA5QixnQkFBQSxTQUFBcjBGLEdBQ0EsR0FBQThDLEdBQUFWLEtBQUFVLEtBQ0EsVUFBQUEsSUFDQVYsS0FBQTZ4QyxVQUNBajBDLFVBR0E4QyxFQUFBb2lGLGNBQUFsbEYsSUFFQWt2QyxNQUFBLFdBQ0E5c0MsS0FBQXV5RiwwQkFBQSxHQUNBdnlGLEtBQUFVLE1BQUFxL0UsV0FFQStVLGtCQUFBLFNBQUFsb0UsR0FDQSxNQUFBNXNCLE1BQUFVLE1BQUEwbkMsYUFBQXhiLEVBQUEsVUFFQW1vRSxnQkFBQSxTQUFBbm9FLEdBQ0EsTUFBQTVzQixNQUFBVSxNQUFBMG5DLGFBQUF4YixFQUFBLFFBRUFwc0IsT0FBQSxXQUNBLEdBQUF3bkYsR0FBQWxwRixFQUVBNEIsRUFBQVYsS0FBQVUsTUFDQWt4QyxFQUFBNXhDLEtBQUE0eEMsTUFDQTZ4QyxFQUFBN3hDLEVBQUE2eEMsZUFDQTlpRixFQUFBRCxFQUFBQyxVQUNBK3FGLEVBQUFockYsRUFBQWdyRixxQkFDQXZMLEVBQUF6L0UsRUFBQXkvRSxXQUNBbVIsRUFBQTV3RixFQUFBNHdGLE9BQ0F4akYsRUFBQXBOLEVBQUFvTixPQUNBMDRFLEVBQUE5bEYsRUFBQThsRixVQUNBMEUsRUFBQXhxRixFQUFBd3FGLFVBQ0EzbkYsRUFBQTdDLEVBQUE2QyxLQUNBNHZGLEVBQUF2aEQsRUFBQXVoRCxXQUNBNStCLEVBQUEzaUIsRUFBQTJpQixjQUVBenpELEdBQUFrbkYsTUFBb0MsRUFBQS9wRixFQUFBLFlBQUErcEYsRUFBQXRuRixFQUFBSSxZQUFBSixFQUFBSSxZQUFBLEVBQUE3QyxFQUFBLFlBQUErcEYsRUFBQXJuRixFQUFBLE1BQUExQyxFQUFBLFlBQUErcEYsRUFBQXJuRixFQUFBLFdBQUFELEVBQUFxeUMsVUFBQSxFQUFBOTBDLEVBQUEsWUFBQStwRixFQUFBcm5GLEVBQUEsZUFBQTFDLEVBQUEsWUFBQStwRixFQUFBcm5GLEVBQUEsb0JBQUE4aUYsSUFBQSxFQUFBeGxGLEVBQUEsWUFBQStwRixFQUFBcm5GLEVBQUEsZUFBQUQsRUFBQTB3RixnQkFBQXBKLEdBQ3BDbU4sR0FBQSxFQUFBbGtDLEVBQUEsWUFBQW53RCxHQUNBNDRELEdBQ0FuRixjQUFBM2lCLEVBQUEyaUIsY0FDQXJYLFNBQUFsOUMsS0FBQWs5QyxTQUNBeTJDLFdBQUEsVUFBQXB3RixHQUFBZ3hELEVBQUEsWUFBQWh4RCxHQUFBZ3hELEVBQUEsSUFBQTQrQixFQUFBdHpGLE9BQUFHLEtBQUEyekYsV0FBQTkxRixRQUdBdTNGLEVBQUEsT0FDQUMsRUFBQSxNQUVBLElBQUEzSixFQUNBLEdBQUFwckYsTUFBQW1DLFFBQUFpcEYsR0FBQSxDQUNBLEdBQUE0SixJQUFBLEVBQUE3QyxFQUFBLFlBQUEvRyxFQUFBLEVBRUEwSixHQUFBRSxFQUFBLEdBQ0FELEVBQUFDLEVBQUEsT0FFQUYsR0FBQUMsRUFBQTNKLENBR0EsSUFBQTZKLEdBQUFqRSxLQUFBLEdBQUFBLEtBQUEsS0FBQW5SLEVBQ0EvMEUsR0FBQSxFQUFBNmxELEVBQUEsYUFBQW55RCxNQUE0RCxFQUFBYixFQUFBLFlBQUFhLEVBQUE2QixFQUFBLGlCQUFBMUMsRUFBQSxZQUFBYSxFQUFBNkIsRUFBQSx1QkFBQTFDLEVBQUEsWUFBQWEsRUFBQTZCLEVBQUEsa0JBQUE0MEYsR0FBQXoyRixJQUU1RDQwRixFQUFBMXpGLEtBQUF3MEYsZ0JBQ0FmLEVBQUF6ekYsS0FBQXkwRixjQUNBZSxHQUFBLEVBQUE1cUQsRUFBQS9DLGNBQUE2ckQsR0FDQStCLEVBQUFELEVBQUFuOEUsUUFDQXE4RSxFQUFBRixFQUFBcDhFLE9BQ0F1OEUsRUFBQUQsSUFBQWhDLEVBQUF0NkUsUUFBQXBaLEtBQUFvWixPQUFBcTZFLEVBQUFyNkUsT0FDQXc4RSxFQUFBRCxJQUFBRixJQUFBL0IsRUFBQXI2RSxTQUFBbzhFLElBQUFoQyxFQUFBcDZFLFFBRUEsT0FBQTFhLEdBQUEsV0FBQTBDLGNBQ0EsT0FFQTRtRCxJQUFBLE9BQ0FubkQsVUFBQXEwRixFQUNBdjBGLE1BQUFGLEVBQUFFLE1BQ0EwbEQsU0FBQSxLQUVBNWxELEVBQUF1L0UsZ0JBQ0F0aEYsRUFBQSxXQUFBMEMsY0FDQSxPQUNTUCxVQUFBSCxFQUFBLFVBQ1Q2bEYsR0FBQWp5QixFQUFBLElBQUFBLEVBQUEsR0FBQTUxRCxFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsYUFDQWc0RCxLQUFBLFNBQ0F2YSxNQUFBdHdDLEVBQUFnL0IsTUFDQWdHLFFBQUE5eUMsS0FBQThzQyxRQUNTLEtBQ1RudUMsRUFBQSxXQUFBMEMsY0FDQSxPQUVBUCxVQUFBSCxFQUFBLGNBQ0FNLGFBQUEsU0FBQXNDLEVBQUF2RCxLQUFBc3pGLGlCQUFBejFGLE9BQ0FtRCxhQUFBLFNBQUF1QyxFQUFBdkQsS0FBQW96RixpQkFBQXYxRixRQUVBYyxFQUFBLFdBQUEwQyxjQUFBc3hGLEVBQUEsY0FBQTUwRixFQUFBLGVBQWtHMkMsRUFBQWc1RCxHQUNsR3k1QixhQUNBL21FLFVBQUEsT0FDQWdjLGFBQUFwb0MsS0FBQTgwRixrQkFDQWpuRixPQUFBN04sS0FBQWtnRixZQUNBdGlGLE1BQUE4MUYsRUFDQTNoQyxZQUFBcWpDLEVBQ0EvQyxjQUFBcnlGLEtBQUE2ekYsbUJBQ0EvUSxjQUFBOWlGLEtBQUFrMEYsbUJBQ0EvVCxhQUNBc0Qsb0JBRUE5a0YsRUFBQSxXQUFBMEMsY0FDQSxRQUNhUCxVQUFBSCxFQUFBLGlCQUNiLEtBRUFoQyxFQUFBLFdBQUEwQyxjQUFBc3hGLEVBQUEsY0FBQTUwRixFQUFBLGVBQWtHMkMsRUFBQWc1RCxHQUNsR3k1QixhQUNBL21FLFVBQUEsUUFDQXZlLE9BQUE3TixLQUFBa2dGLFlBQ0EyVix1QkFBQTcxRixLQUFBMDBGLG9CQUNBM2lDLFlBQUFzakMsRUFDQXozRixNQUFBNjFGLEVBQ0FwQixjQUFBcnlGLEtBQUErekYsaUJBQ0FqUixjQUFBOWlGLEtBQUFxMEYsaUJBQ0FsVSxhQUNBc0QsaUJBQ0FyN0MsYUFBQXBvQyxLQUFBKzBGLG9CQUdBcDJGLEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQXNLLEdBQ1gxSyxFQUFBcy9FLGVBQ0FrTCxHQUFBeHFGLEVBQUF5L0UsWUFBQW9WLEVBQUE1MkYsRUFBQSxXQUFBMEMsY0FDQSxPQUNhUCxVQUFBSCxFQUFBLGVBQ2J1cUYsRUFBQXZzRixFQUFBLFdBQUEwQyxjQUFBd3hGLEVBQUEsY0FBQTkwRixFQUFBLGVBQStHMkMsR0FDL0dxRCxTQUFBNnhGLEVBQ0FoNEYsTUFBQWcwQyxFQUFBaDBDLE1BQ0E0bkYsUUFBQXhsRixLQUFBd2xGLFFBQ0E1aUMsS0FBQTkwQyxFQUFBczVFLGVBQ2EsS0FDYjFtRixFQUFBeS9FLFdBQUF4aEYsRUFBQSxXQUFBMEMsY0FBQTR4RixFQUFBLGNBQUFsMUYsRUFBQSxlQUEySDJDLEdBQzNIK2lGLGlCQUNBd0IsaUJBQUFqbEYsS0FBQWlsRixpQkFDQUMsa0JBQUFsbEYsS0FBQWtsRixrQkFDQUMsb0JBQUFubEYsS0FBQXF6RixvQkFBQUYsRUFBQXR6RixVQUNhLEtBQ2IwMUYsRUFBQTUyRixFQUFBLFdBQUEwQyxjQUFBMHhGLEVBQUEsY0FBQWgxRixFQUFBLGVBQStHMkMsR0FDL0c5QyxNQUFBZzBDLEVBQUFoMEMsTUFDQWtpRixLQUFBOS9FLEtBQUE4L0UsS0FDQStFLFlBQUE3a0YsS0FBQTR6RixxQkFBQXIvQixLQUFBdjBELEtBQUFxekYsb0JBQUFGLEVBQUF0ekYsVUFDYSxNQUNiLFVBT0F6QyxHQUFBLFdBQUE4MUYsRUFDQS8xRixFQUFBQyxVQUFBLFlwSDJpbUJNMDRGLElBQ0EsU0FBUzM0RixFQUFRQyxFQUFTQyxHcUhqbW5CaEMsWUEwQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBeEM3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBRixFQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFZLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFnc0MsRUFBQXJ0QyxFQUFBLEdBRUFzdEMsRUFBQXJ0QyxFQUFBb3RDLEdBRUEwNEMsRUFBQS9sRixFQUFBLEtBRUFnbUYsRUFBQS9sRixFQUFBOGxGLEdBRUF0a0YsRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FFQTh6RixFQUFBdjFGLEVBQUEsS0FFQXcxRixFQUFBdjFGLEVBQUFzMUYsR0FFQUUsRUFBQXoxRixFQUFBLEtBRUEwMUYsRUFBQXoxRixFQUFBdzFGLEdBRUFFLEVBQUEzMUYsRUFBQSxLQUVBNDFGLEVBQUEzMUYsRUFBQTAxRixHQUlBK0MsRUFBQXAzRixFQUFBLFdBQUFrb0QsYUFDQUMsWUFBQSxpQkFFQWw3QyxXQUNBakwsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQW90RixjQUFBM3lGLEVBQUFtTixVQUFBRSxLQUNBcThCLGFBQUExcEMsRUFBQW1OLFVBQUFHLElBQ0FtMEUsV0FBQXpoRixFQUFBbU4sVUFBQW80QyxRQUNBc1EsY0FBQTcxRCxFQUFBbU4sVUFBQUcsSUFDQXNsRixPQUFBNXlGLEVBQUFtTixVQUFBRSxLQUNBbXhDLFNBQUF4K0MsRUFBQW1OLFVBQUF3TCxLQUNBelosTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQTB4QyxhQUFBdGhGLEVBQUFtTixVQUFBd0wsS0FDQXk2QixhQUFBcHpDLEVBQUFtTixVQUFBeWlDLFFBR0E0TyxTQUFBLFNBQUF0L0MsR0FDQW9DLEtBQUFVLE1BQUF3OEMsU0FBQXQvQyxJQUVBeW9GLGVBQUEsV0FDQSxNQUFBMTdDLEdBQUEsV0FBQXNDLFlBQUFqdEMsT0FFQVEsT0FBQSxXQUNBLEdBQUFFLEdBQUFWLEtBQUFVLE1BQ0E5QyxFQUFBOEMsRUFBQTlDLE1BQ0ErQyxFQUFBRCxFQUFBQyxVQUNBMndGLEVBQUE1d0YsRUFBQTR3RixPQUNBblIsRUFBQXovRSxFQUFBeS9FLFdBQ0FILEVBQUF0L0UsRUFBQXMvRSxhQUVBZ1csRUFBQSxLQUNBQyxFQUFBalcsR0FDQSxJQUFBdC9FLEVBQUF3cUYsV0FBQS9LLEdBQUE4VixFQUFBLENBQ0EsR0FBQUMsR0FFQUMsRUFBQSxNQUNBejFGLEdBQUF3cUYsWUFDQWlMLEVBQUF4M0YsRUFBQSxXQUFBMEMsY0FBQXd4RixFQUFBLGNBQUE5MEYsRUFBQSxlQUF1RzJDLEdBQVU5QyxXQUVqSCxJQUFBdzRGLEdBQUEsUUFDQTlFLEtBQUEsR0FBQUEsS0FBQSxHQUFBNXdGLEVBQUF5L0UsY0FDQWlXLEVBQUF6M0YsRUFBQSxXQUFBMEMsY0FBQTB4RixFQUFBLFdBQUFyeUYsR0FFQSxJQUFBMjFGLEdBQUEsTUFDQTMxRixHQUFBeS9FLGFBQ0FrVyxFQUFBMTNGLEVBQUEsV0FBQTBDLGNBQUE0eEYsRUFBQSxXQUFBdnlGLEdBR0EsSUFBQTQxRixHQUFBLFFBQ0FILEdBQUFDLEtBQ0FFLEVBQUEzM0YsRUFBQSxXQUFBMEMsY0FDQSxRQUNXUCxVQUFBSCxFQUFBLGdCQUNYLEVBQUEwaUYsRUFBQSxhQUFBOFMsRUFBQUUsRUFBQUQsS0FHQSxJQUFBaHJGLElBQUEsRUFBQXJNLEVBQUEsYUFBQW0zRixNQUFzRCxFQUFBajRGLEVBQUEsWUFBQWk0RixFQUFBdjFGLEVBQUEsaUJBQUExQyxFQUFBLFlBQUFpNEYsRUFBQXYxRixFQUFBLGtCQUFBeTFGLEdBQUFGLEdBQ3RERixHQUFBcjNGLEVBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQXNLLEdBQ1Q2cUYsRUFDQUssR0FHQSxNQUFBTixLQUlBNTRGLEdBQUEsV0FBQTI0RixFQUNBNTRGLEVBQUFDLFVBQUEsWXJIdW1uQk1tNUYsSUFDQSxTQUFTcDVGLEVBQVFDLEVBQVNDLEdzSHp0bkJoQyxZQWdCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0FFN0UsUUFBQWk1RixHQUFBQyxFQUFBQyxHQUNBLE1BQUFELElBQUFDLEdBQUFELEVBQUFwcEUsT0FBQXFwRSxFQUFBLE9BR0EsUUFBQUMsR0FBQXgyRCxFQUFBMkgsR0FDQSxNQUFBM0gsR0FBQS9tQixPQUFBMHVCLEVBQUExdUIsT0FDQSxFQUVBK21CLEVBQUEvbUIsU0FBQTB1QixFQUFBMXVCLFFBQUErbUIsRUFBQTltQixRQUFBeXVCLEVBQUF6dUIsUUFHQSxRQUFBdTlFLEdBQUF6MkQsRUFBQTJILEdBQ0EsTUFBQTNILEdBQUEvbUIsT0FBQTB1QixFQUFBMXVCLE9BQ0EsRUFFQSttQixFQUFBL21CLFNBQUEwdUIsRUFBQTF1QixRQUFBK21CLEVBQUE5bUIsUUFBQXl1QixFQUFBenVCLFFBR0EsUUFBQXc5RSxHQUFBLzdFLEdBQ0EscUJBQUFBLEVBQUExQixPQUFBLElBQUEwQixFQUFBekIsUUFBQSxJQUFBeUIsU0FuQ0FwZCxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBYyxHQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBbzRGLEVBQUF6NUYsRUFBQSxLQUVBMDVGLEVBQUF6NUYsRUFBQXc1RixHQUVBbHNELEVBQUF2dEMsRUFBQSxJQTBCQTI1RixFQUFBcjRGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLFlBRUFsN0MsV0FDQXUxRSxjQUFBemlGLEVBQUFtTixVQUFBd0wsS0FDQTA2RSxXQUFBcnpGLEVBQUFtTixVQUFBd0wsS0FDQXl4QixhQUFBcHFDLEVBQUFtTixVQUFBd0wsS0FDQTFXLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0Fzd0QsY0FBQTcxRCxFQUFBbU4sVUFBQXdpQyxXQUFBM3ZDLEVBQUFtTixVQUFBeWlDLE9BQUE1dkMsRUFBQW1OLFVBQUFvL0MsUUFBQXZzRCxFQUFBbU4sVUFBQXlpQyxVQUNBMXdDLE1BQUFjLEVBQUFtTixVQUFBeWlDLE9BQ0E2a0QsV0FBQXowRixFQUFBbU4sVUFBQUcsSUFDQW9sRixlQUFBMXlGLEVBQUFtTixVQUFBRSxNQUdBczdDLGdCQUFBLFdBQ0EsT0FDQThyQyxnQkFHQTN5RixPQUFBLFdBQ0EsR0FBQUUsR0FBQVYsS0FBQVUsTUFDQXlnRixFQUFBemdGLEVBQUF5Z0YsY0FDQXhnRixFQUFBRCxFQUFBQyxVQUNBNHpELEVBQUE3ekQsRUFBQTZ6RCxjQUNBMzJELEVBQUE4QyxFQUFBOUMsTUFDQXd6RixFQUFBMXdGLEVBQUEwd0YsZUFDQVcsRUFBQXJ4RixFQUFBcXhGLFdBQ0FqcEQsRUFBQXBvQyxFQUFBb29DLGFBQ0FxcUQsRUFBQXp5RixFQUFBeXlGLFdBRUE4RCxFQUFBLE9BQ0FDLEVBQUEsT0FDQS8yRCxFQUFBLE9BQ0FnM0QsS0FDQXJ2RCxHQUFBLEVBQUE4QyxFQUFBL0MsY0FBQWpxQyxHQUNBdzVGLEVBQUF6MkYsRUFBQSxRQUNBMDJGLEVBQUExMkYsRUFBQSxvQkFDQTIyRixFQUFBMzJGLEVBQUEsUUFDQTQyRixFQUFBNTJGLEVBQUEsU0FDQTYyRixFQUFBNzJGLEVBQUEsZ0JBQ0E4MkYsRUFBQTkyRixFQUFBLGlCQUNBKzJGLEVBQUEvMkYsRUFBQSxpQkFDQWczRixFQUFBaDNGLEVBQUEsbUJBQ0FpM0YsRUFBQWozRixFQUFBLHNCQUNBazNGLEVBQUFsM0YsRUFBQSxpQkFDQW0zRixFQUFBbjNGLEVBQUEsOEJBQ0FvM0YsRUFBQXAzRixFQUFBLDZCQUNBcTNGLEVBQUFwNkYsRUFBQWtzQixPQUNBa3VFLEdBQUFsOUUsS0FBQSxFQUNBLElBQUE2RCxHQUFBcTVFLEVBQUFyNUUsTUFDQXM1RSxHQUFBdDVFLEVBQUEsRUFBQS9nQixFQUFBMlosYUFBQStnQixrQkFBQSxFQUVBNC9ELEVBQUFGLEVBQUFsdUUsT0FDQW91RSxHQUFBLzVFLElBQUEsRUFBQTg1RSxFQUFBLE9BQ0EsSUFBQUUsR0FBQSxDQUNBLEtBQUFsQixFQUFBLEVBQW9CQSxFQUFBRixFQUFBLFdBQUFqUixlQUFvRG1SLElBQ3hFLElBQUFDLEVBQUEsRUFBc0JBLEVBQUFILEVBQUEsV0FBQWhSLGVBQW9EbVIsSUFDMUUvMkQsRUFBQSszRCxFQUNBQyxJQUNBaDRELElBQUFyVyxRQUNBcVcsRUFBQWhpQixJQUFBZzZFLEVBQUEsU0FFQWhCLEVBQUF2ekYsS0FBQXU4QixHQUNBZzRELEdBR0EsSUFBQUMsS0FHQSxLQUZBRCxFQUFBLEVBRUFsQixFQUFBLEVBQW9CQSxFQUFBRixFQUFBLFdBQUFqUixlQUFvRG1SLElBQUEsQ0FDeEUsR0FBQW9CLEdBQUEsT0FDQUMsRUFBQSxPQUNBQyxJQVlBLEtBWEFuSCxJQUNBa0gsRUFBQTM1RixFQUFBLFdBQUEwQyxjQUNBLE1BRUFPLElBQUF1MUYsRUFBQWdCLEdBQUFoN0UsT0FDQXc3QyxLQUFBLFdBQ0E3M0QsVUFBQXUyRixHQUVBRixFQUFBZ0IsR0FBQWg3RSxTQUdBKzVFLEVBQUEsRUFBc0JBLEVBQUFILEVBQUEsV0FBQWhSLGVBQW9EbVIsSUFBQSxDQUMxRSxHQUFBN3dGLEdBQUEsS0FDQWlxQyxFQUFBLElBQ0FuUSxHQUFBZzNELEVBQUFnQixHQUNBakIsRUFBQUgsRUFBQSxXQUFBaFIsZUFBQSxJQUNBMS9FLEVBQUE4d0YsRUFBQWdCLEVBQUEsSUFFQWpCLEVBQUEsSUFDQTVtRCxFQUFBNm1ELEVBQUFnQixFQUFBLEdBRUEsSUFBQS9zRixHQUFBZ3NGLEVBQ0FyekYsR0FBQSxFQUNBeTBGLEdBQUEsQ0FFQWhDLEdBQUFyMkQsRUFBQTJILEtBQ0ExOEIsR0FBQSxJQUFBbXNGLEVBQ0FjLEdBQUEsRUFHQSxJQUFBSSxHQUFBOUIsRUFBQXgyRCxFQUFBdmlDLEdBQ0E4NkYsRUFBQTlCLEVBQUF6MkQsRUFBQXZpQyxFQUVBLElBQUEyMkQsR0FBQWowRCxNQUFBbUMsUUFBQTh4RCxHQUFBLENBQ0EsR0FBQW9rQyxHQUFBeEYsRUFBQXR6RixPQUFBc3pGLEVBQUE1K0IsQ0FDQSxLQUFBa2tDLElBQUFDLEVBQUEsQ0FDQSxHQUFBaEYsR0FBQWlGLEVBQUEsR0FDQWxGLEVBQUFrRixFQUFBLEVBQ0FqRixJQUNBOEMsRUFBQXIyRCxFQUFBdXpELEtBQ0E4RSxHQUFBLEdBR0E5RSxHQUFBRCxJQUNBK0MsRUFBQXIyRCxFQUFBc3pELEdBQ0ErRSxHQUFBLEVBQ2VyNEQsRUFBQWxVLFFBQUF5bkUsRUFBQSxRQUFBdnpELEVBQUFqVSxTQUFBdW5FLEVBQUEsU0FDZnJvRixHQUFBLElBQUFzc0YsU0FJU2xCLEdBQUFyMkQsRUFBQXZpQyxLQUVUNDZGLEdBQUEsRUFHQWhDLEdBQUFyMkQsRUFBQW8wQixLQUNBbnBELEdBQUEsSUFBQXFzRixHQUdBZ0IsSUFDQXJ0RixHQUFBLElBQUF1c0YsR0FFQWUsSUFDQXR0RixHQUFBLElBQUF3c0YsR0FHQTl1RCxHQUNBQSxFQUFBM0ksRUFBQXZpQyxLQUNBbUcsR0FBQSxFQUVBdXNDLEdBQUF4SCxFQUFBd0gsRUFBQTF5QyxLQUNBd04sR0FBQSxJQUFBMHNGLEdBR0F6eEYsR0FBQXlpQyxFQUFBemlDLEVBQUF6SSxLQUNBd04sR0FBQSxJQUFBMnNGLElBS0FTLElBQ0FwdEYsR0FBQSxJQUFBb3NGLEdBR0F6ekYsSUFDQXFILEdBQUEsSUFBQXlzRixFQUdBLElBQUFlLEdBQUEsTUFDQSxJQUFBN0csRUFDQTZHLEVBQUE3RyxFQUFBNXhELEVBQUF2aUMsT0FDUyxDQUNULEdBQUFxNkQsR0FBQWtwQixJQUFBaGhELEVBQUF2aUMsR0FBQXVpQyxFQUFBcmxCLE1BQ0E4OUUsR0FBQWo2RixFQUFBLFdBQUEwQyxjQUNBLE9BRUFPLElBQUFpMUYsRUFBQTEyRCxHQUNBci9CLFVBQUF3MkYsRUFDQXVCLGdCQUFBTCxFQUNBTSxnQkFBQS8wRixHQUVBazBELEdBSUFzZ0MsRUFBQTMwRixLQUFBakYsRUFBQSxXQUFBMEMsY0FDQSxNQUVBTyxJQUFBdTJGLEVBQ0FybEQsUUFBQS91QyxFQUFBbEcsT0FBQTZDLEVBQUF3OEMsU0FBQTZNLEtBQUEsS0FBQTVwQixHQUNBbi9CLGFBQUErQyxFQUFBbEcsT0FBQTZDLEVBQUFpekYsWUFBQWp6RixFQUFBaXpGLFdBQUE1cEMsS0FBQSxLQUFBNXBCLElBQUF0aUMsT0FDQTg2RCxLQUFBLFdBQ0F2YSxPQUFBLEVBQUF4VCxFQUFBNUMsZ0JBQUE3SCxHQUFBci9CLFVBQUFzSyxHQUVBd3RGLElBR0FULElBRUFDLEVBQUF4MEYsS0FBQWpGLEVBQUEsV0FBQTBDLGNBQ0EsTUFFQU8sSUFBQXExRixFQUNBdCtCLEtBQUEsTUFDQTczRCxVQUFBdTNGLEdBQUExM0YsRUFBQSxpQkFFQTIzRixFQUNBQyxJQUdBLE1BQUE1NUYsR0FBQSxXQUFBMEMsY0FDQSxTQUNPUCxVQUFBSCxFQUFBLFVBQ1B5M0YsS0FLQWg3RixHQUFBLFdBQUE0NUYsRUFDQTc1RixFQUFBQyxVQUFBLFl0SCt0bkJNMjdGLElBQ0EsU0FBUzU3RixFQUFRQyxFQUFTQyxHdUg3OW5CaEMsWUE4QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBNUI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQU0sR0FBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBbzRGLEVBQUF6NUYsRUFBQSxLQUVBMDVGLEVBQUF6NUYsRUFBQXc1RixHQUVBL3RELEVBQUExckMsRUFBQSxJQUVBMHFDLEVBQUF6cUMsRUFBQXlyQyxHQUlBaXdELEVBQUEsU0FBQWo1RixHQUdBLFFBQUFpNUYsS0FFQSxPQURBLEVBQUE3NkYsRUFBQSxZQUFBNkIsS0FBQWc1RixJQUNBLEVBQUEzNkYsRUFBQSxZQUFBMkIsS0FBQUQsRUFBQUUsTUFBQUQsS0FBQUUsWUE4REEsT0FsRUEsRUFBQTNCLEVBQUEsWUFBQXk2RixFQUFBajVGLEdBT0FpNUYsRUFBQXo1RixVQUFBaUIsT0FBQSxXQVVBLE9BVEFFLEdBQUFWLEtBQUFVLE1BQ0E5QyxFQUFBOEMsRUFBQTlDLE1BQ0EyWixFQUFBM1osRUFBQTJaLGFBQ0E1VyxFQUFBRCxFQUFBQyxVQUNBczRGLEtBQ0FDLEtBQ0E1Z0UsRUFBQS9nQixFQUFBK2dCLGlCQUNBNmdFLEVBQUEsT0FDQXJsRixHQUFBLEVBQUFpMEIsRUFBQSxjQUNBcXhELEVBQUEsRUFBOEJBLEVBQUFyQyxFQUFBLFdBQUFoUixlQUEwRHFULElBQUEsQ0FDeEYsR0FBQXYyRixJQUFBeTFCLEVBQUE4Z0UsR0FBQXJDLEVBQUEsV0FBQWhSLGNBQ0FqeUUsR0FBQTZLLElBQUE5YixHQUNBbzJGLEVBQUFHLEdBQUE3aEYsRUFBQThILFlBQUF2TCxHQUNBb2xGLEVBQUFFLEdBQUE3aEYsRUFBQStILGNBQUF4TCxHQUdBcFQsRUFBQTB3RixpQkFDQStILEVBQUF4NkYsRUFBQSxXQUFBMEMsY0FDQSxNQUVBczNELEtBQUEsZUFDQTczRCxVQUFBSCxFQUFBLGtCQUFBQSxFQUFBLHVCQUVBaEMsRUFBQSxXQUFBMEMsY0FDQSxRQUNXUCxVQUFBSCxFQUFBLHdCQUNYLE1BSUEsSUFBQTA0RixHQUFBSCxFQUFBL3JGLElBQUEsU0FBQXdSLEVBQUEyNkUsR0FDQSxNQUFBMzZGLEdBQUEsV0FBQTBDLGNBQ0EsTUFFQU8sSUFBQTAzRixFQUNBM2dDLEtBQUEsZUFDQXZhLE1BQUF6L0IsRUFDQTdkLFVBQUFILEVBQUEsa0JBRUFoQyxFQUFBLFdBQUEwQyxjQUNBLFFBQ1dQLFVBQUFILEVBQUEsd0JBQ1hzNEYsRUFBQUssTUFJQSxPQUFBMzZGLEdBQUEsV0FBQTBDLGNBQ0EsUUFDQSxLQUNBMUMsRUFBQSxXQUFBMEMsY0FDQSxNQUNTczNELEtBQUEsT0FDVHdnQyxFQUNBRSxLQUtBTCxHQUNDcjZGLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUE0N0YsRUFDQTc3RixFQUFBQyxVQUFBLFl2SG0rbkJNbThGLElBQ0EsU0FBU3A4RixFQUFRQyxFQUFTQyxHd0gza29CaEMsWUE4QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBTTdFLFFBQUF3bEYsR0FBQTMyRCxHQUNBLEdBQUEvbEIsR0FBQXJHLEtBQUE0eEMsTUFBQWgwQyxNQUFBa3NCLE9BQ0F6akIsR0FBQThYLElBQUFpTyxFQUFBLFNBQ0Fwc0IsS0FBQTZ4QyxVQUNBajBDLE1BQUF5SSxJQUlBLFFBQUFtekYsR0FBQXBnRixFQUFBczZDLEdBQ0EsR0FBQXJ0RCxHQUFBckcsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQXpqQixHQUFBK1MsUUFDQS9TLEVBQUFnVCxNQUFBclosS0FBQTR4QyxNQUFBaDBDLE1BQUF5YixTQUNBclosS0FBQVUsTUFBQXc4QyxTQUFBNzJDLEdBQ0FxdEQsRUFBQS93RCxpQkEvQ0FqRixPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBSSxHQUFBWCxFQUFBLEdBRUFZLEVBQUFYLEVBQUFVLEdBRUFFLEVBQUFiLEVBQUEsR0FFQWMsRUFBQWIsRUFBQVksR0FFQUUsRUFBQWYsRUFBQSxHQUVBZ0IsRUFBQWYsRUFBQWMsR0FFQUUsRUFBQWpCLEVBQUEsR0FFQWtCLEVBQUFqQixFQUFBZ0IsR0FFQUksRUFBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQUksRUFBQXpCLEVBQUEsR0FFQTBCLEVBQUF6QixFQUFBd0IsR0FJQStwRixFQUFBLEVBQ0FDLEVBQUEsRUFtQkEyUSxFQUFBLFNBQUExNUYsR0FHQSxRQUFBMDVGLEdBQUEvNEYsSUFDQSxFQUFBdkMsRUFBQSxZQUFBNkIsS0FBQXk1RixFQUVBLElBQUFsdUQsSUFBQSxFQUFBbHRDLEVBQUEsWUFBQTJCLEtBQUFELEVBQUFOLEtBQUFPLEtBQUFVLEdBVUEsT0FSQTZxQyxHQUFBcUcsT0FDQWgwQyxNQUFBOEMsRUFBQTlDLE9BQUE4QyxFQUFBb3hDLGNBSUF2RyxFQUFBNXFDLFVBQUFELEVBQUErcEQsY0FBQSxnQkFDQWxmLEVBQUFrOEMsWUFBQTFFLEVBQUFoNUIsS0FBQXhlLEVBQUEsS0FDQUEsRUFBQWk4QyxnQkFBQXpFLEVBQUFoNUIsS0FBQXhlLFFBQ0FBLEVBaUhBLE9BaElBLEVBQUFodEMsRUFBQSxZQUFBazdGLEVBQUExNUYsR0FrQkEwNUYsRUFBQWw2RixVQUFBaUIsT0FBQSxXQWFBLE9BWkE0c0MsR0FBQXB0QyxLQUVBcEMsRUFBQW9DLEtBQUE0eEMsTUFBQWgwQyxNQUNBa1EsRUFBQTlOLEtBQUFVLE1BQUFvTixPQUNBbzdFLEVBQUF0ckYsRUFBQXdiLE9BQ0ErdkUsRUFBQSxJQUFBNXFFLFNBQUEycUUsRUFBQSxRQUNBd1EsRUFBQXZRLEVBQUEsR0FDQUUsRUFBQUYsRUFBQSxHQUNBd1EsS0FDQTkyRixFQUFBLEVBQ0FsQyxFQUFBWCxLQUFBVyxVQUVBeTFDLEVBQUEsRUFBMEJBLEVBQUF5eUMsRUFBZ0J6eUMsSUFBQSxDQUMxQ3VqRCxFQUFBdmpELEtBQ0EsUUFBQWd6QyxHQUFBLEVBQTRCQSxFQUFBTixFQUFnQk0sSUFBQSxDQUM1QyxHQUFBd1EsR0FBQUYsRUFBQSxHQUFBNzJGLEVBQ0FnM0YsRUFBQUgsRUFBQSxHQUFBNzJGLEVBQUEsQ0FDQTgyRixHQUFBdmpELEdBQUFnekMsSUFDQXdRLGNBQ0FDLGFBRUFoM0YsS0FJQSxHQUFBaTNGLEdBQUFILEVBQUF4c0YsSUFBQSxTQUFBOHZDLEVBQUE4OEMsR0FDQSxHQUFBeFEsR0FBQXRzQyxFQUFBOXZDLElBQUEsU0FBQTZzRixHQUNBLEdBQUF2USxHQUVBd1EsRUFBQUQsRUFBQUosWUFDQU0sRUFBQUYsRUFBQUgsVUFDQU0sRUFBQUYsRUFBQTlRLEVBQ0FpUixFQUFBRixFQUFBN1EsRUFDQUssR0FBQUQsTUFBOEMsRUFBQXhyRixFQUFBLFlBQUF3ckYsRUFBQTlvRixFQUFBLGNBQUExQyxFQUFBLFlBQUF3ckYsRUFBQTlvRixFQUFBLGlCQUFBczVGLEdBQUEvUSxNQUFBZ1IsSUFBQSxFQUFBajhGLEVBQUEsWUFBQXdyRixFQUFBOW9GLEVBQUEscUJBQUF3NUYsSUFBQSxFQUFBbDhGLEVBQUEsWUFBQXdyRixFQUFBOW9GLEVBQUEscUJBQUF5NUYsR0FBQTNRLEdBQzlDeHhCLEVBQUFnaUMsRUFBQSxJQUFBQyxFQUNBdlEsRUFBQSxNQVFBLE9BTkFBLEdBREF3USxFQUNBL3NELEVBQUFvNkMsZ0JBQ1M0UyxFQUNUaHRELEVBQUFxNkMsWUFFQStSLEVBQUF6dkMsS0FBQTNjLEVBQUE2c0QsR0FFQXQ3RixFQUFBLFdBQUEwQyxjQUNBLE1BRUFPLElBQUFxNEYsRUFDQW5uRCxRQUFBNjJDLEVBQ0FoeEIsS0FBQSxXQUNBNzNELFdBQUEsRUFBQS9CLEVBQUEsWUFBQTJxRixJQUVBL3FGLEVBQUEsV0FBQTBDLGNBQ0EsS0FFQVAsVUFBQUgsRUFBQSxXQUVBczNELEtBSUEsT0FBQXQ1RCxHQUFBLFdBQUEwQyxjQUNBLE1BQ1NPLElBQUFtNEYsRUFBQXBoQyxLQUFBLE9BQ1Q0d0IsSUFJQSxPQUFBNXFGLEdBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQWQsS0FBQVcsV0FDUGhDLEVBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQUgsRUFBQSxXQUNUaEMsRUFBQSxXQUFBMEMsY0FBQSxLQUNBUCxVQUFBSCxFQUFBLG9CQUNBZzRELEtBQUEsU0FDQTdsQixRQUFBOXlDLEtBQUF3bkYsZ0JBQ0FwcEMsTUFBQXR3QyxFQUFBMDVFLGtCQUVBN29GLEVBQUEsV0FBQTBDLGNBQ0EsT0FDV1AsVUFBQUgsRUFBQSxZQUNYd29GLEVBQ0EsSUFDQUUsR0FFQTFxRixFQUFBLFdBQUEwQyxjQUFBLEtBQ0FQLFVBQUFILEVBQUEsb0JBQ0FnNEQsS0FBQSxTQUNBN2xCLFFBQUE5eUMsS0FBQXluRixZQUNBcnBDLE1BQUF0d0MsRUFBQTI1RSxlQUdBOW9GLEVBQUEsV0FBQTBDLGNBQ0EsT0FDU1AsVUFBQUgsRUFBQSxTQUNUaEMsRUFBQSxXQUFBMEMsY0FDQSxTQUNXUCxVQUFBSCxFQUFBLFNBQUFvbUYsWUFBQSxJQUFBcHVCLEtBQUEsUUFDWGg2RCxFQUFBLFdBQUEwQyxjQUNBLFNBQ2FQLFVBQUFILEVBQUEsVUFDYm01RixPQU9BTCxHQUNDOTZGLEVBQUEsV0FBQTJDLFVBRURsRSxHQUFBLFdBQUFxOEYsRUFHQUEsRUFBQTd0RixXQUNBa0MsT0FBQXBQLEVBQUFtTixVQUFBeWlDLE9BQ0Exd0MsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQXdELGFBQUFwekMsRUFBQW1OLFVBQUF5aUMsT0FDQW1jLGNBQUEvckQsRUFBQW1OLFVBQUE1SCxRQUdBdzFGLEVBQUFqNEYsY0FDQTA3QyxTQUFBLGNBRUEvL0MsRUFBQUMsVUFBQSxZeEhpbG9CTWk5RixJQUNBLFNBQVNsOUYsRUFBUUMsR3lIdnhvQnZCLFlBRUFNLFFBQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxJQUVBUixFQUFBLFlBQ0EwcUMsTUFBQSxRQUNBaDBCLElBQUEsTUFDQXN6RSxZQUFBLGdCQUNBdEMsR0FBQSxLQUNBaDRDLE1BQUEsUUFDQXp6QixNQUFBLFFBQ0FELEtBQUEsT0FDQWlzRSxXQUFBLGNBQ0FELFdBQUEsY0FDQWYsWUFBQSxpQkFDQUYsV0FBQSxnQkFDQWtELGFBQUEsa0JBQ0FqRCxXQUFBLE9BQ0FuZ0UsV0FBQSxXQUNBc2dFLFVBQUEsSUFDQW5FLGVBQUEsb0JBQ0FrRSxZQUFBLE9BQ0FMLGlCQUFBLEVBQ0FOLGNBQUEsMEJBQ0FELFVBQUEsd0JBQ0FHLGFBQUEsNkJBQ0FELFNBQUEsOEJBQ0EwRCxlQUFBLGNBQ0FDLFdBQUEsY0FDQUMsZ0JBQUEsZUFDQUMsWUFBQSxnQkFFQXRxRixFQUFBQyxVQUFBLFl6SDZ4b0JNazlGLElBQ0EsU0FBU245RixFQUFRQyxFQUFTQyxHMEgvem9CaEMsWUFnQ0EsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBSzdFLFFBQUFnOUYsR0FBQWxoRixHQUNBLEdBQUFoVCxHQUFBckcsS0FBQTR4QyxNQUFBaDBDLE1BQUFrc0IsT0FDQXpqQixHQUFBZ1QsU0FDQXJaLEtBQUF1b0Ysa0JBQUFsaUYsR0FHQSxRQUFBa2tDLE1BekNBN3NDLE9BQUFDLGVBQUFQLEVBQUEsY0FDQVEsT0FBQSxHQUdBLElBQUFJLEdBQUFYLEVBQUEsR0FFQVksRUFBQVgsRUFBQVUsR0FFQUUsRUFBQWIsRUFBQSxHQUVBYyxFQUFBYixFQUFBWSxHQUVBRSxFQUFBZixFQUFBLEdBRUFnQixFQUFBZixFQUFBYyxHQUVBRSxFQUFBakIsRUFBQSxHQUVBa0IsRUFBQWpCLEVBQUFnQixHQUVBSSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBSSxFQUFBekIsRUFBQSxHQUVBMEIsRUFBQXpCLEVBQUF3QixHQUVBd3lDLEVBQUFqMEMsRUFBQSxJQUlBd3JGLEVBQUEsRUFDQUMsRUFBQSxFQVVBMFIsRUFBQSxTQUFBbHZELEdBR0EsUUFBQWt2RCxHQUFBOTVGLElBQ0EsRUFBQXZDLEVBQUEsWUFBQTZCLEtBQUF3NkYsRUFFQSxJQUFBanZELElBQUEsRUFBQWx0QyxFQUFBLFlBQUEyQixLQUFBc3JDLEVBQUE3ckMsS0FBQU8sS0FBQVUsR0FLQSxPQUhBNnFDLEdBQUFxRyxPQUNBaDBDLE1BQUE4QyxFQUFBOUMsT0FFQTJ0QyxFQWtIQSxPQTVIQSxFQUFBaHRDLEVBQUEsWUFBQWk4RixFQUFBbHZELEdBYUFrdkQsRUFBQWo3RixVQUFBMnRDLDBCQUFBLFNBQUFDLEdBQ0EsU0FBQUEsSUFDQW50QyxLQUFBNnhDLFVBQ0FqMEMsTUFBQXV2QyxFQUFBdnZDLFNBS0E0OEYsRUFBQWo3RixVQUFBZ3BGLGtCQUFBLFNBQUEzcUYsR0FDQW9DLEtBQUE2eEMsVUFDQWowQyxVQUVBb0MsS0FBQVUsTUFBQXc4QyxTQUFBdC9DLElBR0E0OEYsRUFBQWo3RixVQUFBZ2IsT0FBQSxRQUFBQSxLQU1BLE9BTEEzYyxHQUFBb0MsS0FBQTR4QyxNQUFBaDBDLE1BQ0F1aUMsRUFBQXZpQyxFQUFBa3NCLFFBQ0F2UCxLQUNBaEQsRUFBQTNaLEVBQUEyWixhQUNBMVUsRUFBQSxFQUNBdXpDLEVBQUEsRUFBMEJBLEVBQUF5eUMsRUFBZ0J6eUMsSUFBQSxDQUMxQzc3QixFQUFBNjdCLEtBQ0EsUUFBQWd6QyxHQUFBLEVBQTRCQSxFQUFBTixFQUFnQk0sSUFBQSxDQUM1Q2pwRCxFQUFBOW1CLE1BQUF4VyxFQUNBLElBQUFvMUQsR0FBQTFnRCxFQUFBK0MsWUFBQTZsQixFQUNBNWxCLEdBQUE2N0IsR0FBQWd6QyxJQUNBeHJGLE1BQUFpRixFQUNBbzFELFVBQ0E3WixNQUFBNlosR0FFQXAxRCxLQUdBLE1BQUEwWCxJQUdBaWdGLEVBQUFqN0YsVUFBQWlCLE9BQUEsV0FDQSxHQUFBNHNDLEdBQUFwdEMsS0FFQVUsRUFBQVYsS0FBQVUsTUFDQTlDLEVBQUFvQyxLQUFBNHhDLE1BQUFoMEMsTUFDQWtxQyxHQUFBLEVBQUF3SixFQUFBekosY0FBQWpxQyxHQUNBMmMsRUFBQXZhLEtBQUF1YSxTQUNBa2dGLEVBQUE3OEYsRUFBQXliLFFBQ0ExWSxFQUFBRCxFQUFBQyxVQUNBbU4sRUFBQXBOLEVBQUFvTixPQUNBcXpFLEVBQUF6Z0YsRUFBQXlnRixjQUNBRCxFQUFBeGdGLEVBQUF3Z0YsV0FFQXdaLEVBQUFuZ0YsRUFBQXBOLElBQUEsU0FBQWtNLEVBQUF4VyxHQUNBLEdBQUEwbUYsR0FBQWx3RSxFQUFBbE0sSUFBQSxTQUFBd3RGLEdBQ0EsR0FBQWxSLEdBRUExbEYsR0FBQSxDQUNBLElBQUFyRCxFQUFBb29DLGFBQUEsQ0FDQSxHQUFBOHhELEdBQUFoOUYsRUFBQWtzQixPQUNBOHdFLEdBQUF2aEYsTUFBQXNoRixFQUFBLzhGLE9BQ0FtRyxFQUFBckQsRUFBQW9vQyxhQUFBOHhELEdBRUEsR0FBQWxSLElBQUFELE1BQThDLEVBQUF4ckYsRUFBQSxZQUFBd3JGLEVBQUE5b0YsRUFBQSxjQUFBMUMsRUFBQSxZQUFBd3JGLEVBQUE5b0YsRUFBQSxpQkFBQW9ELElBQUEsRUFBQTlGLEVBQUEsWUFBQXdyRixFQUFBOW9GLEVBQUEsaUJBQUFnNkYsRUFBQS84RixRQUFBNjhGLElBQUEsRUFBQXg4RixFQUFBLFlBQUF3ckYsRUFBQTlvRixFQUFBLGdCQUFBbW5DLEVBQUExdUIsU0FBQXhiLEVBQUF3YixRQUFBdWhGLEVBQUEvOEYsUUFBQWtxQyxFQUFBenVCLFNBQUFvd0UsR0FDOUNvUixFQUFBLE1BQ0EsSUFBQTNaLEVBQUEsQ0FDQSxHQUFBNFosR0FBQWw5RixFQUFBa3NCLE9BQ0FneEUsR0FBQXpoRixNQUFBc2hGLEVBQUEvOEYsT0FDQWk5RixFQUFBM1osRUFBQTRaLEVBQUFodEYsT0FDUyxDQUNULEdBQUFtcUQsR0FBQSxNQUNBLElBQUFrcEIsRUFBQSxDQUNBLEdBQUE0WixHQUFBbjlGLEVBQUFrc0IsT0FDQWl4RSxHQUFBMWhGLE1BQUFzaEYsRUFBQS84RixPQUNBcTZELEVBQUFrcEIsRUFBQTRaLEVBQUFqdEYsT0FFQW1xRCxHQUFBMGlDLEVBQUExaUMsT0FFQTRpQyxHQUFBbDhGLEVBQUEsV0FBQTBDLGNBQ0EsS0FDYVAsVUFBQUgsRUFBQSxVQUNiczNELEdBR0EsTUFBQXQ1RCxHQUFBLFdBQUEwQyxjQUNBLE1BRUFzM0QsS0FBQSxXQUNBLzJELElBQUErNEYsRUFBQS84RixNQUNBazFDLFFBQUEvdUMsRUFBQSxLQUFBdzJGLEVBQUF4d0MsS0FBQTNjLEVBQUF1dEQsRUFBQS84RixPQUNBd2dELE1BQUF1OEMsRUFBQXY4QyxNQUNBdDlDLFdBQUEsRUFBQS9CLEVBQUEsWUFBQTJxRixJQUVBbVIsSUFHQSxPQUFBbDhGLEdBQUEsV0FBQTBDLGNBQ0EsTUFDU08sSUFBQWlCLEVBQUE4MUQsS0FBQSxPQUNUNHdCLElBSUEsT0FBQTVxRixHQUFBLFdBQUEwQyxjQUNBLFNBQ09QLFVBQUFILEVBQUEsU0FBQW9tRixZQUFBLElBQUFwdUIsS0FBQSxRQUNQaDZELEVBQUEsV0FBQTBDLGNBQ0EsU0FDU1AsVUFBQUgsRUFBQSxVQUNUKzVGLEtBS0FGLEdBQ0M5N0YsRUFBQTRDLFVBRURrNUYsR0FBQWg1RixjQUNBMDdDLFNBQUEzUyxHQUVBaXdELEVBQUE1dUYsV0FDQXN4QyxTQUFBeCtDLEVBQUFtTixVQUFBd0wsS0FDQTZwRSxXQUFBeGlGLEVBQUFtTixVQUFBd0wsS0FDQTFXLFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0FyRyxNQUFBYyxFQUFBbU4sVUFBQXlpQyxRQUVBbHhDLEVBQUEsV0FBQW85RixFQUNBcjlGLEVBQUFDLFVBQUEsWTFIcTBvQk00OUYsSUFDQSxTQUFTNzlGLEVBQVFDLEcySDcvb0J2QixZQUVBTSxRQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FFQSxJQUFBc3JELElBQ0FoVyxRQUFBLEVBQ0FDLFFBQUEsR0FHQUMsR0FBQSxLQUVBK1YsR0FDQUksWUFDQXBhLFFBQUEsV0FDQTdnQyxTQUFBNDZDLEVBQ0EvL0IsUUFBQSxNQUNBaXFCLGdCQUVBcVcsYUFDQXRhLFFBQUEsV0FDQTdnQyxTQUFBNDZDLEVBQ0EvL0IsUUFBQSxNQUNBaXFCLGdCQUVBa1csVUFDQW5hLFFBQUEsV0FDQTdnQyxTQUFBNDZDLEVBQ0EvL0IsUUFBQSxLQUNBaXFCLGdCQUVBZ1csU0FDQWphLFFBQUEsV0FDQTdnQyxTQUFBNDZDLEVBQ0EvL0IsUUFBQSxLQUNBaXFCLGdCQUlBaDJDLEdBQUEsV0FBQStyRCxFQUNBaHNELEVBQUFDLFVBQUEsWTNIbWdwQk02OUYsSUFDQSxTQUFTOTlGLEVBQVFDLEVBQVNDLEc0SDVpcEJoQyxZQTRCQSxTQUFBQyxHQUFBQyxHQUFzQyxNQUFBQSxNQUFBQyxXQUFBRCxHQUF1Q0UsVUFBQUYsR0ExQjdFRyxPQUFBQyxlQUFBUCxFQUFBLGNBQ0FRLE9BQUEsR0FHQSxJQUFBRSxHQUFBVCxFQUFBLEdBRUFVLEVBQUFULEVBQUFRLEdBRUFZLEVBQUFyQixFQUFBLEdBRUFzQixFQUFBckIsRUFBQW9CLEdBRUFveUYsRUFBQXp6RixFQUFBLEtBRUEwekYsRUFBQXp6RixFQUFBd3pGLEdBRUFGLEVBQUF2ekYsRUFBQSxLQUVBd3pGLEVBQUF2ekYsRUFBQXN6RixHQUVBTSxFQUFBN3pGLEVBQUEsS0FFQTh6RixFQUFBN3pGLEVBQUE0ekYsR0FFQTUvQyxFQUFBajBDLEVBQUEsSUFJQTY5RixFQUFBdjhGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLGVBRUFsN0MsV0FDQWhPLE1BQUFjLEVBQUFtTixVQUFBRyxJQUNBb2dCLFVBQUExdEIsRUFBQW1OLFVBQUFHLElBQ0FyTCxVQUFBakMsRUFBQW1OLFVBQUFHLElBQ0E4QixPQUFBcFAsRUFBQW1OLFVBQUFHLElBQ0F1b0QsY0FBQTcxRCxFQUFBbU4sVUFBQUcsSUFDQW1uRixXQUFBejBGLEVBQUFtTixVQUFBRyxJQUNBeTNFLGVBQUEva0YsRUFBQW1OLFVBQUFFLEtBQ0E4QixPQUFBblAsRUFBQW1OLFVBQUFHLElBQ0ErbEQsWUFBQXJ6RCxFQUFBbU4sVUFBQUcsSUFDQTg4QixhQUFBcHFDLEVBQUFtTixVQUFBRyxJQUNBbTBFLFdBQUF6aEYsRUFBQW1OLFVBQUFHLElBQ0FvOEIsYUFBQTFwQyxFQUFBbU4sVUFBQUcsSUFDQXFtRixjQUFBM3pGLEVBQUFtTixVQUFBd0wsS0FDQXcrRSx1QkFBQW4zRixFQUFBbU4sVUFBQXlpQyxRQUVBOXRDLE9BQUEsV0FDQSxHQUFBRSxHQUFBVixLQUFBVSxNQUNBOUMsRUFBQThDLEVBQUE5QyxNQUNBd3VCLEVBQUExckIsRUFBQTByQixVQUNBenJCLEVBQUFELEVBQUFDLFVBQ0FtTixFQUFBcE4sRUFBQW9OLE9BQ0F5bUQsRUFBQTd6RCxFQUFBNnpELGNBQ0ExbUQsRUFBQW5OLEVBQUFtTixPQUNBa2tELEVBQUFyeEQsRUFBQXF4RCxZQUNBanBCLEVBQUFwb0MsRUFBQW9vQyxhQUNBcTNDLEVBQUF6L0UsRUFBQXkvRSxXQUNBLzNDLEVBQUExbkMsRUFBQTBuQyxhQUNBeXRELEVBQUFuMUYsRUFBQW0xRix1QkFDQXBTLEVBQUEvaUYsRUFBQStpRixlQUNBMFAsRUFBQXp5RixFQUFBeXlGLFdBQ0FkLEVBQUEzeEYsRUFBQTJ4RixjQUVBaHFELEVBQUFvN0MsR0FBQXI3QyxHQUFBKzNDLEdBQUEsRUFBQTd1QyxFQUFBbkosZUFBQW9zQixFQUFBbnNCLEdBQUEsS0FDQSt5RCxFQUFBeDZGLEVBQUEsU0FDQSs0RCxHQUNBNXJELFNBQ0FsUSxRQUNBK0MsWUFDQThpRixrQkFFQTVnRixFQUFBLFNBQUF1cEIsRUFBQSxJQUNBd2xFLEVBQUFuTyxHQUFBdEQsR0FBQXhoRixFQUFBLFdBQUFtbkMsYUFBQXE2QyxHQUFBLEVBQUFwaUYsRUFBQSxhQUNBNnZGLFVBQUEsRUFDQUMsWUFBQSxFQUNBQyxZQUFBLEdBQ0szTixFQUFBei9FLE1BQUEybkMsRUFBQXd0RCxHQUNMaHBELFNBQUF3bEQsRUFDQVIsaUJBQUFqMEYsRUFDQUEsTUFBQTIyRCxFQUFBMXhELEtBRUEsT0FBQWxFLEdBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQXE2RixFQUFBLFNBQUFBLEVBQUEsSUFBQS91RSxHQUNQenRCLEVBQUEsV0FBQTBDLGNBQUE4dkYsRUFBQSxZQUNBdGpGLFNBQ0FDLFNBQ0FuTixZQUNBdy9FLGFBQ0FyM0MsZUFDQWlwQixjQUNBM3BCLGVBQ0F4cUMsUUFDQTRvRixXQUFBLEVBQ0FqeUIsZ0JBQUExeEQsR0FDQWdxQyxTQUFBd2xELElBRUExekYsRUFBQSxXQUFBMEMsY0FDQSxPQUNTVCxPQUFTdzZGLFFBQUEsU0FDbEJ6OEYsRUFBQSxXQUFBMEMsY0FBQTB2RixFQUFBLGNBQUFoekYsRUFBQSxlQUFrRzI3RCxHQUNsRzhwQixXQUFBLFVBQUFwM0QsRUFDQW0zRCxXQUFBLFNBQUFuM0QsRUFDQTAyRCxjQUFBcGlGLEVBQUFvaUYsaUJBRUFXLEVBQUE5a0YsRUFBQSxXQUFBMEMsY0FDQSxPQUNXUCxVQUFBSCxFQUFBLGdCQUNYaEMsRUFBQSxXQUFBMEMsY0FDQSxPQUNhUCxVQUFBSCxFQUFBLHNCQUNiaXhGLElBRUEsS0FDQWp6RixFQUFBLFdBQUEwQyxjQUNBLE9BQ1dQLFVBQUFILEVBQUEsU0FDWGhDLEVBQUEsV0FBQTBDLGNBQUF3dkYsRUFBQSxjQUFBOXlGLEVBQUEsZUFBK0YyN0QsR0FDL0Z5NUIsYUFDQTUrQixnQkFDQXc5QixXQUFBcnhGLEVBQUFxeEYsV0FDQTcwQyxTQUFBeDhDLEVBQUF3OEMsU0FDQXkyQyxXQUFBanpGLEVBQUFpekYsV0FDQTdxRCxlQUNBc29ELGVBQUExd0YsRUFBQTB3Rix1QkFRQWgwRixHQUFBLFdBQUE4OUYsRUFDQS85RixFQUFBQyxVQUFBLFk1SGtqcEJNaStGLElBQ04sS0FFTUMsSUFDQSxTQUFTbitGLEVBQVFDLEVBQVNDLEc2SDlycEJoQyxZQWNBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVo3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXU3RCxFQUFBNThELEVBQUEsS0FFQTY4RCxFQUFBNThELEVBQUEyOEQsR0FJQXNoQyxFQUFBLFNBQUE3cEQsRUFBQThwRCxHQUNBLEdBQUE1OUYsR0FBQSxHQUFBOHpDLENBQ0FBLEdBQUEsS0FDQTl6QyxFQUFBLElBQUE4ekMsRUFHQSxJQUFBM3RDLElBQUEsQ0FLQSxPQUpBeTNGLE1BQUE5N0YsUUFBQWd5QyxJQUFBLElBQ0EzdEMsR0FBQSxJQUlBbkcsUUFDQW1HLGFBSUEwM0YsRUFBQTk4RixFQUFBLFdBQUFrb0QsYUFDQUMsWUFBQSxXQUVBbDdDLFdBQ0FpQyxPQUFBblAsRUFBQW1OLFVBQUE1SCxPQUNBNHRGLGlCQUFBbnpGLEVBQUFtTixVQUFBeWlDLE9BQ0EzdEMsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQXJHLE1BQUFjLEVBQUFtTixVQUFBeWlDLE9BQ0F6QixTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQXUyRSxTQUFBbHZGLEVBQUFtTixVQUFBRSxLQUNBOGhGLFdBQUFudkYsRUFBQW1OLFVBQUFFLEtBQ0EraEYsV0FBQXB2RixFQUFBbU4sVUFBQUUsS0FDQTJ2RixZQUFBaDlGLEVBQUFtTixVQUFBdEgsTUFDQW8zRixjQUFBajlGLEVBQUFtTixVQUFBdEgsTUFDQXEzRixjQUFBbDlGLEVBQUFtTixVQUFBdEgsTUFDQWtrQyxjQUFBL3BDLEVBQUFtTixVQUFBd0wsS0FDQXF4QixnQkFBQWhxQyxFQUFBbU4sVUFBQXdMLEtBQ0FzeEIsZ0JBQUFqcUMsRUFBQW1OLFVBQUF3TCxLQUNBd2tGLDJCQUFBbjlGLEVBQUFtTixVQUFBd0wsTUFHQXlrRixhQUFBLFNBQUF2NEYsRUFBQUcsR0FDQSxHQUFBbUgsR0FBQTdLLEtBQUFVLE1BQ0Ftc0MsRUFBQWhpQyxFQUFBZ2lDLFNBQ0FnbEQsRUFBQWhuRixFQUFBZ25GLGlCQUVBajBGLEdBQUFvQyxLQUFBVSxNQUFBOUMsT0FBQWkwRixHQUFBL25FLE9BQ0EsVUFBQXZtQixFQUNBM0YsRUFBQWtwQixLQUFBcGpCLEdBQ0ssV0FBQUgsRUFDTDNGLEVBQUE2cEIsT0FBQS9qQixHQUVBOUYsRUFBQThwQixPQUFBaGtCLEdBRUFtcEMsRUFBQWp2QyxJQUVBbStGLG1CQUFBLFNBQUEvUSxHQUNBaHJGLEtBQUFVLE1BQUFtN0YsMkJBQUE3USxJQUVBZ1IsY0FBQSxTQUFBbDFFLEdBQ0EsR0FBQTliLEdBQUFoTCxLQUFBVSxNQUNBQyxFQUFBcUssRUFBQXJLLFVBQ0ErNkYsRUFBQTF3RixFQUFBMHdGLFlBQ0FqekQsRUFBQXo5QixFQUFBeTlCLGNBQ0FtbEQsRUFBQTVpRixFQUFBNGlGLFFBRUEsS0FBQUEsRUFDQSxXQUVBLElBQUE0TixHQUFBL3lELEdBRUEsT0FBQTlwQyxHQUFBLFdBQUEwQyxjQUFBNjRELEVBQUEsWUFDQXY1RCxZQUNBcXhDLFFBQUEwcEQsRUFBQXZ1RixJQUFBLFNBQUF1a0MsR0FDQSxNQUFBNnBELEdBQUE3cEQsRUFBQThwRCxLQUVBUyxjQUFBUCxFQUFBaDhGLFFBQUFvbkIsR0FDQXZqQixLQUFBLE9BQ0EyNUMsU0FBQWw5QyxLQUFBODdGLGFBQ0E5NkYsYUFBQWhCLEtBQUErN0YsbUJBQUFoeUMsS0FBQS9wRCxLQUFBLFdBR0FrOEYsZ0JBQUEsU0FBQXowRSxHQUNBLEdBQUE4NkMsR0FBQXZpRSxLQUFBVSxNQUNBQyxFQUFBNGhFLEVBQUE1aEUsVUFDQWc3RixFQUFBcDVCLEVBQUFvNUIsY0FDQWp6RCxFQUFBNjVCLEVBQUE3NUIsZ0JBQ0FtcEQsRUFBQXR2QixFQUFBc3ZCLGlCQUNBaEUsRUFBQXRyQixFQUFBc3JCLFVBRUEsS0FBQUEsRUFDQSxXQUVBLElBQUFqd0YsR0FBQW9DLEtBQUFVLE1BQUE5QyxPQUFBaTBGLEVBQ0EySixFQUFBOXlELEVBQUE5cUMsRUFBQWtwQixPQUVBLE9BQUFub0IsR0FBQSxXQUFBMEMsY0FBQTY0RCxFQUFBLFlBQ0F2NUQsWUFDQXF4QyxRQUFBMnBELEVBQUF4dUYsSUFBQSxTQUFBdWtDLEdBQ0EsTUFBQTZwRCxHQUFBN3BELEVBQUE4cEQsS0FFQVMsY0FBQU4sRUFBQWo4RixRQUFBK25CLEdBQ0Fsa0IsS0FBQSxTQUNBMjVDLFNBQUFsOUMsS0FBQTg3RixhQUNBOTZGLGFBQUFoQixLQUFBKzdGLG1CQUFBaHlDLEtBQUEvcEQsS0FBQSxhQUdBbThGLGdCQUFBLFNBQUF6MEUsR0FDQSxHQUFBczhDLEdBQUFoa0UsS0FBQVUsTUFDQUMsRUFBQXFqRSxFQUFBcmpFLFVBQ0FpN0YsRUFBQTUzQixFQUFBNDNCLGNBQ0FqekQsRUFBQXE3QixFQUFBcjdCLGdCQUNBbWxELEVBQUE5cEIsRUFBQThwQixXQUNBK0QsRUFBQTd0QixFQUFBNnRCLGdCQUVBLEtBQUEvRCxFQUNBLFdBRUEsSUFBQWx3RixHQUFBb0MsS0FBQVUsTUFBQTlDLE9BQUFpMEYsRUFDQTJKLEVBQUE3eUQsRUFBQS9xQyxFQUFBa3BCLE9BQUFscEIsRUFBQTZwQixTQUVBLE9BQUE5b0IsR0FBQSxXQUFBMEMsY0FBQTY0RCxFQUFBLFlBQ0F2NUQsWUFDQXF4QyxRQUFBNHBELEVBQUF6dUYsSUFBQSxTQUFBdWtDLEdBQ0EsTUFBQTZwRCxHQUFBN3BELEVBQUE4cEQsS0FFQVMsY0FBQUwsRUFBQWw4RixRQUFBZ29CLEdBQ0Fua0IsS0FBQSxTQUNBMjVDLFNBQUFsOUMsS0FBQTg3RixhQUNBOTZGLGFBQUFoQixLQUFBKzdGLG1CQUFBaHlDLEtBQUEvcEQsS0FBQSxhQUdBUSxPQUFBLFdBQ0EsR0FBQTBqRSxHQUFBbGtFLEtBQUFVLE1BQ0FDLEVBQUF1akUsRUFBQXZqRSxVQUNBa3hGLEVBQUEzdEIsRUFBQTJ0QixpQkFFQWowRixFQUFBb0MsS0FBQVUsTUFBQTlDLE9BQUFpMEYsQ0FDQSxPQUFBbHpGLEdBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQUgsRUFBQSxhQUNQWCxLQUFBZzhGLGNBQUFwK0YsRUFBQWtwQixRQUNBOW1CLEtBQUFrOEYsZ0JBQUF0K0YsRUFBQTZwQixVQUNBem5CLEtBQUFtOEYsZ0JBQUF2K0YsRUFBQThwQixhQUtBdHFCLEdBQUEsV0FBQXErRixFQUNBdCtGLEVBQUFDLFVBQUEsWTdIb3NwQk1nL0YsSUFDQSxTQUFTai9GLEVBQVFDLEVBQVNDLEc4SHYycEJoQyxZQWNBLFNBQUFDLEdBQUFDLEdBQXNDLE1BQUFBLE1BQUFDLFdBQUFELEdBQXVDRSxVQUFBRixHQVo3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQWMsR0FBQXJCLEVBQUEsR0FFQXNCLEVBQUFyQixFQUFBb0IsR0FFQXFxQyxFQUFBMXJDLEVBQUEsSUFFQTBxQyxFQUFBenFDLEVBQUF5ckMsR0FJQXN6RCxFQUFBMTlGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLFNBRUFsN0MsV0FDQWlDLE9BQUFuUCxFQUFBbU4sVUFBQTVILE9BQ0F0RCxVQUFBakMsRUFBQW1OLFVBQUE1SCxPQUNBNmtDLGFBQUFwcUMsRUFBQW1OLFVBQUF3TCxLQUNBMDZDLFlBQUFyekQsRUFBQW1OLFVBQUE1SCxPQUNBcTRGLFVBQUE1OUYsRUFBQW1OLFVBQUE1SCxPQUNBckcsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQW90RCxZQUFBaDlGLEVBQUFtTixVQUFBdEgsTUFDQW8zRixjQUFBajlGLEVBQUFtTixVQUFBdEgsTUFDQXEzRixjQUFBbDlGLEVBQUFtTixVQUFBdEgsTUFDQWtrQyxjQUFBL3BDLEVBQUFtTixVQUFBd0wsS0FDQXF4QixnQkFBQWhxQyxFQUFBbU4sVUFBQXdMLEtBQ0FzeEIsZ0JBQUFqcUMsRUFBQW1OLFVBQUF3TCxLQUNBdzFCLFNBQUFudUMsRUFBQW1OLFVBQUF3TCxLQUNBMG9FLFFBQUFyaEYsRUFBQW1OLFVBQUF3TCxLQUNBa2xGLE1BQUE3OUYsRUFBQW1OLFVBQUF3TCxLQUNBbWxGLFdBQUE5OUYsRUFBQW1OLFVBQUFFLEtBQ0E4bEYsaUJBQUFuekYsRUFBQW1OLFVBQUF5aUMsT0FDQW11RCxtQkFBQS85RixFQUFBbU4sVUFBQTVILFFBR0FzakQsZ0JBQUEsV0FDQSxHQUFBMThDLEdBQUE3SyxLQUFBVSxNQUNBOUMsRUFBQWlOLEVBQUFqTixNQUNBaVEsRUFBQWhELEVBQUFnRCxNQUVBLFFBQ0FxNEUsSUFBQXRvRixLQUFBaVEsV0FBQSxHQUNBcXJCLFNBQUEsSUFHQWdVLDBCQUFBLFNBQUFDLEdBQ0EsR0FBQXZ2QyxHQUFBdXZDLEVBQUF2dkMsTUFDQWlRLEVBQUFzL0IsRUFBQXQvQixNQUVBN04sTUFBQTZ4QyxVQUNBcTBDLElBQUF0b0YsS0FBQWlRLFdBQUEsR0FDQXFyQixTQUFBLEtBR0F1NkIsY0FBQSxTQUFBQyxHQUNBLEdBQUF3eUIsR0FBQXh5QixFQUFBNXNELE9BQUFsSixLQUNBb0MsTUFBQTZ4QyxVQUNBcTBDLE9BRUEsSUFBQWw3RSxHQUFBaEwsS0FBQVUsTUFDQW1OLEVBQUE3QyxFQUFBNkMsT0FDQTZ0RixFQUFBMXdGLEVBQUEwd0YsWUFDQUMsRUFBQTN3RixFQUFBMndGLGNBQ0FDLEVBQUE1d0YsRUFBQTR3RixjQUNBbnpELEVBQUF6OUIsRUFBQXk5QixjQUNBQyxFQUFBMTlCLEVBQUEwOUIsZ0JBQ0FDLEVBQUEzOUIsRUFBQTI5QixnQkFDQWtFLEVBQUE3aEMsRUFBQTZoQyxTQUNBMnZELEVBQUF4eEYsRUFBQXd4RixVQUdBLElBQUF0VyxFQUFBLENBQ0EsR0FBQUUsR0FBQXBtRixLQUFBVSxNQUFBOUMsTUFDQUEsRUFBQW9DLEtBQUEwOEYsZ0JBQUE1eUUsUUFDQXE4RCxHQUFBLEVBQUFwK0MsRUFBQSxZQUFBbStDLEVBQUFyNEUsR0FBQSxFQUNBLEtBQUFzNEUsRUFBQWozRSxVQUlBLFdBSEFsUCxNQUFBNnhDLFVBQ0EzWSxTQUFBLEdBT0EsSUFIQXQ3QixFQUFBa3BCLEtBQUFxL0QsRUFBQXIvRCxRQUFBVyxPQUFBMCtELEVBQUExK0QsVUFBQUMsT0FBQXkrRCxFQUFBeitELFVBR0FnMEUsRUFBQWg4RixRQUFBOUIsRUFBQWtwQixRQUFBLEdBQUE2MEUsRUFBQWo4RixRQUFBOUIsRUFBQTZwQixVQUFBLEdBQUFtMEUsRUFBQWw4RixRQUFBOUIsRUFBQThwQixVQUFBLEVBSUEsV0FIQTFuQixNQUFBNnhDLFVBQ0EzWSxTQUFBLEdBTUEsSUFBQXlqRSxHQUFBbDBELElBQ0FtMEQsRUFBQWwwRCxFQUFBOXFDLEVBQUFrcEIsUUFDQSsxRSxFQUFBbDBELEVBQUEvcUMsRUFBQWtwQixPQUFBbHBCLEVBQUE2cEIsU0FDQSxJQUFBazFFLEtBQUFqOUYsUUFBQTlCLEVBQUFrcEIsU0FBQSxHQUFBODFFLEtBQUFsOUYsUUFBQTlCLEVBQUE2cEIsV0FBQSxHQUFBbzFFLEtBQUFuOUYsUUFBQTlCLEVBQUE4cEIsV0FBQSxFQUlBLFdBSEExbkIsTUFBQTZ4QyxVQUNBM1ksU0FBQSxHQUtBLElBQUFrdEQsR0FDQSxHQUFBQSxFQUFBdC9ELFNBQUFscEIsRUFBQWtwQixRQUFBcy9ELEVBQUEzK0QsV0FBQTdwQixFQUFBNnBCLFVBQUEyK0QsRUFBQTErRCxXQUFBOXBCLEVBQUE4cEIsU0FBQSxDQUVBLEdBQUE0akUsR0FBQWxGLEVBQUF0OEQsT0FDQXdoRSxHQUFBeGtFLEtBQUFscEIsRUFBQWtwQixRQUNBd2tFLEVBQUE3akUsT0FBQTdwQixFQUFBNnBCLFVBQ0E2akUsRUFBQTVqRSxPQUFBOXBCLEVBQUE4cEIsVUFDQW1sQixFQUFBeStDLFFBRU9sRixLQUFBeG9GLEdBQ1BpdkMsRUFBQWp2QyxPQUVLLEtBQUE0K0YsRUFNTCxXQUhBeDhGLE1BQUE2eEMsVUFDQTNZLFNBQUEsR0FIQTJULEdBQUEsTUFRQTdzQyxLQUFBNnhDLFVBQ0EzWSxTQUFBLEtBR0EyekIsVUFBQSxTQUFBenRELEdBQ0EsS0FBQUEsRUFBQW1yRCxTQUNBdnFELEtBQUFVLE1BQUE2N0YsU0FHQXhjLFFBQUEsV0FDQS8vRSxLQUFBNnhDLFVBQW1CcTBDLElBQUEsS0FDbkJsbUYsS0FBQVUsTUFBQXEvRSxXQUVBK2MsZUFBQSxXQUNBLEdBQUF2NkIsR0FBQXZpRSxLQUFBVSxNQUNBQyxFQUFBNGhFLEVBQUE1aEUsVUFDQTY3RixFQUFBajZCLEVBQUFpNkIsVUFFQSxPQUFBQSxHQUdBNzlGLEVBQUEsV0FBQTBDLGNBQUEsS0FDQVAsVUFBQUgsRUFBQSxhQUNBZzRELEtBQUEsU0FDQXZhLE1BQUFwK0MsS0FBQVUsTUFBQTQ3RixVQUNBL3NDLFlBQUF2dkQsS0FBQSsvRSxVQU5BLE1BU0EyYyxjQUFBLFdBQ0EsTUFBQTE4RixNQUFBVSxNQUFBOUMsT0FBQW9DLEtBQUFVLE1BQUFteEYsa0JBRUFrTCxTQUFBLFdBQ0EsR0FBQS80QixHQUFBaGtFLEtBQUFVLE1BQ0FDLEVBQUFxakUsRUFBQXJqRSxVQUNBb3hELEVBQUFpUyxFQUFBalMsWUFDQTlhLEVBQUFqM0MsS0FBQTR4QyxNQUNBMVksRUFBQStkLEVBQUEvZCxRQUNBZ3RELEVBQUFqdkMsRUFBQWl2QyxJQUVBSyxFQUFBcnRELEVBQUF2NEIsRUFBQSxtQkFDQSxPQUFBaEMsR0FBQSxXQUFBMEMsY0FBQSxTQUNBUCxVQUFBSCxFQUFBLFdBQUE0bEYsRUFDQXQrQixJQUFBLFFBQ0E0RSxVQUFBN3NELEtBQUE2c0QsVUFDQWp2RCxNQUFBc29GLEVBQ0FuMEIsY0FDQWxsQixTQUFBN3NDLEtBQUF5ekQsaUJBR0FqekQsT0FBQSxXQUNBLEdBQUFHLEdBQUFYLEtBQUFVLE1BQUFDLFNBRUEsT0FBQWhDLEdBQUEsV0FBQTBDLGNBQ0EsT0FDT1AsVUFBQUgsRUFBQSxlQUNQWCxLQUFBKzhGLFdBQ0EvOEYsS0FBQTg4RixvQkFLQTEvRixHQUFBLFdBQUFpL0YsRUFDQWwvRixFQUFBQyxVQUFBLFk5SDYycEJNNC9GLElBQ0EsU0FBUzcvRixFQUFRQyxFQUFTQyxHK0g1aXFCaEMsWUE4QkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBRTdFLFFBQUFndEMsTUFFQSxRQUFBNm5ELEdBQUF2eUYsRUFBQTI3RixFQUFBeUIsR0FFQSxPQURBN3ZGLE1BQ0F4UCxFQUFBLEVBQXFCQSxFQUFBaUMsRUFBZ0JqQyxNQUNyQzQ5RixLQUFBOTdGLFFBQUE5QixHQUFBLElBQUFxL0YsSUFDQTd2RixFQUFBeEosS0FBQWhHLEVBR0EsT0FBQXdQLEdBdkNBMVAsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBVSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBdytGLEVBQUE3L0YsRUFBQSxLQUVBOC9GLEVBQUE3L0YsRUFBQTQvRixHQUVBRSxFQUFBLy9GLEVBQUEsS0FFQWdnRyxFQUFBLy9GLEVBQUE4L0YsR0FFQXIwRCxFQUFBMXJDLEVBQUEsSUFFQTBxQyxFQUFBenFDLEVBQUF5ckMsR0FFQWpxQyxFQUFBekIsRUFBQSxHQUVBMEIsRUFBQXpCLEVBQUF3QixHQWdCQXcrRixFQUFBMytGLEVBQUEsV0FBQWtvRCxhQUNBQyxZQUFBLFFBRUFsN0MsV0FDQTB3RixVQUFBNTlGLEVBQUFtTixVQUFBNUgsT0FDQXRELFVBQUFqQyxFQUFBbU4sVUFBQTVILE9BQ0FuRCxVQUFBcEMsRUFBQW1OLFVBQUE1SCxPQUNBNHRGLGlCQUFBbnpGLEVBQUFtTixVQUFBeWlDLE9BQ0Exd0MsTUFBQWMsRUFBQW1OLFVBQUF5aUMsT0FDQXlqQixZQUFBcnpELEVBQUFtTixVQUFBNUgsT0FDQTRKLE9BQUFuUCxFQUFBbU4sVUFBQTVILE9BQ0F3a0MsY0FBQS9wQyxFQUFBbU4sVUFBQXdMLEtBQ0FxeEIsZ0JBQUFocUMsRUFBQW1OLFVBQUF3TCxLQUNBc3hCLGdCQUFBanFDLEVBQUFtTixVQUFBd0wsS0FDQTRsRixvQkFBQXYrRixFQUFBbU4sVUFBQUUsS0FDQThnQyxTQUFBbnVDLEVBQUFtTixVQUFBd0wsS0FDQWtsRixNQUFBNzlGLEVBQUFtTixVQUFBd0wsS0FDQW1sRixXQUFBOTlGLEVBQUFtTixVQUFBRSxLQUNBNmhGLFNBQUFsdkYsRUFBQW1OLFVBQUFFLEtBQ0E4aEYsV0FBQW52RixFQUFBbU4sVUFBQUUsS0FDQStoRixXQUFBcHZGLEVBQUFtTixVQUFBRSxLQUNBZzBFLFFBQUFyaEYsRUFBQW1OLFVBQUF3TCxLQUNBa21GLE1BQUE3K0YsRUFBQW1OLFVBQUF3TCxNQUdBZ3dDLGdCQUFBLFdBQ0EsT0FDQTFtRCxVQUFBLHVCQUNBa3NDLFNBQUF0QyxFQUNBdzFDLFFBQUF4MUMsRUFDQTlCLGNBQUE4QixFQUNBN0IsZ0JBQUE2QixFQUNBNUIsZ0JBQUE0QixFQUNBc25ELGtCQUFBLEVBQUE5cEQsRUFBQSxjQUNBdzFELE1BQUFoekQsSUFHQWdkLGdCQUFBLFdBQ0EsT0FDQTNwRCxNQUFBb0MsS0FBQVUsTUFBQTlDLE1BQ0E0L0Ysb0JBR0F0d0QsMEJBQUEsU0FBQUMsR0FDQSxHQUFBdnZDLEdBQUF1dkMsRUFBQXZ2QyxLQUNBQSxJQUNBb0MsS0FBQTZ4QyxVQUNBajBDLFdBSUFpdkMsU0FBQSxTQUFBNHdELEdBQ0F6OUYsS0FBQTZ4QyxVQUFtQmowQyxNQUFBNi9GLElBQ25CejlGLEtBQUFVLE1BQUFtc0MsU0FBQTR3RCxJQUVBMWQsUUFBQSxXQUNBLy9FLEtBQUFVLE1BQUFxL0UsV0FFQThiLDJCQUFBLFNBQUFZLEdBQ0F6OEYsS0FBQTZ4QyxVQUFtQjRxRCx3QkFFbkJ4YSxNQUFBLFdBQ0FqaUYsS0FBQVUsTUFBQTY3RixTQUVBLzdGLE9BQUEsV0FDQSxHQUFBb0ssR0FFQUMsRUFBQTdLLEtBQUFVLE1BQ0FDLEVBQUFrSyxFQUFBbEssVUFDQUcsRUFBQStKLEVBQUEvSixVQUNBaXhELEVBQUFsbkQsRUFBQWtuRCxZQUNBdHBCLEVBQUE1OUIsRUFBQTQ5QixjQUNBQyxFQUFBNzlCLEVBQUE2OUIsZ0JBQ0FDLEVBQUE5OUIsRUFBQTg5QixnQkFDQXMwRCxFQUFBcHlGLEVBQUFveUYsb0JBQ0FULEVBQUEzeEYsRUFBQTJ4RixXQUNBNU8sRUFBQS9pRixFQUFBK2lGLFNBQ0FDLEVBQUFoakYsRUFBQWdqRixXQUNBQyxFQUFBampGLEVBQUFpakYsV0FDQWpnRixFQUFBaEQsRUFBQWdELE9BQ0Fna0YsRUFBQWhuRixFQUFBZ25GLGlCQUNBeUssRUFBQXp4RixFQUFBeXhGLFVBQ0FDLEVBQUExeEYsRUFBQTB4RixNQUNBZ0IsRUFBQTF5RixFQUFBMHlGLE1BQ0F0bUQsRUFBQWozQyxLQUFBNHhDLE1BQ0FoMEMsRUFBQXE1QyxFQUFBcjVDLE1BQ0E2K0YsRUFBQXhsRCxFQUFBd2xELG1CQUVBRSxFQUFBbDBELElBQ0FtMEQsRUFBQWwwRCxFQUFBOXFDLElBQUFrcEIsT0FBQSxNQUNBKzFFLEVBQUFsMEQsRUFBQS9xQyxJQUFBa3BCLE9BQUEsS0FBQWxwQixJQUFBNnBCLFNBQUEsTUFDQWkwRSxFQUFBdEosRUFBQSxHQUFBdUssRUFBQU0sR0FDQXRCLEVBQUF2SixFQUFBLEdBQUF3SyxFQUFBSyxHQUNBckIsRUFBQXhKLEVBQUEsR0FBQXlLLEVBQUFJO0FBRUEsTUFBQXQrRixHQUFBLFdBQUEwQyxjQUNBLE9BQ09QLFdBQUEsRUFBQS9CLEVBQUEsYUFBQTZMLE1BQTBELEVBQUEzTSxFQUFBLFlBQUEyTSxFQUFBakssRUFBQSxnQkFBQTFDLEVBQUEsWUFBQTJNLEVBQUE5SixPQUFBOEosS0FDakVqTSxFQUFBLFdBQUEwQyxjQUFBODdGLEVBQUEsWUFDQWIsWUFDQTM3RixZQUNBa3hGLG1CQUNBajBGLFFBQ0E2K0YscUJBQ0FGLFFBQ0ExdUYsU0FDQWtrRCxjQUNBMnBDLGNBQ0FDLGdCQUNBQyxnQkFDQW56RCxnQkFDQUMsa0JBQ0FDLGtCQUNBa0UsU0FBQTdzQyxLQUFBNnNDLFNBQ0FrekMsUUFBQS8vRSxLQUFBKy9FLFFBQ0F5YyxlQUVBNzlGLEVBQUEsV0FBQTBDLGNBQUFnOEYsRUFBQSxZQUNBMThGLFlBQ0EvQyxRQUNBaTBGLG1CQUNBaGtGLFNBQ0FnL0IsU0FBQTdzQyxLQUFBNnNDLFNBQ0ErZ0QsV0FDQUMsYUFDQUMsYUFDQTROLGNBQ0FDLGdCQUNBQyxnQkFDQW56RCxnQkFDQUMsa0JBQ0FDLGtCQUNBa3pELDJCQUFBNzdGLEtBQUE2N0YsNkJBRUEwQixFQUFBdjlGLFNBS0E1QyxHQUFBLFdBQUFrZ0csRUFDQW5nRyxFQUFBQyxVQUFBLFkvSGtqcUJNc2dHLElBQ0EsU0FBU3ZnRyxFQUFRQyxFQUFTQyxHZ0kzdXFCaEMsWUFzQkEsU0FBQUMsR0FBQUMsR0FBc0MsTUFBQUEsTUFBQUMsV0FBQUQsR0FBdUNFLFVBQUFGLEdBcEI3RUcsT0FBQUMsZUFBQVAsRUFBQSxjQUNBUSxPQUFBLEdBR0EsSUFBQUksR0FBQVgsRUFBQSxHQUVBWSxFQUFBWCxFQUFBVSxHQUVBVSxFQUFBckIsRUFBQSxHQUVBc0IsRUFBQXJCLEVBQUFvQixHQUVBZ3NDLEVBQUFydEMsRUFBQSxHQUVBc3RDLEVBQUFydEMsRUFBQW90QyxHQUVBM3JDLEVBQUExQixFQUFBLEdBRUE0ekQsRUFBQTN6RCxFQUFBeUIsR0FJQTQrRixFQUFBLFFBQUFBLEdBQUExNUMsRUFBQTl6QyxFQUFBaVksR0FDQSxHQUFBNm9CLEdBQUFwVyxPQUFBb1csdUJBQUEsV0FDQSxNQUFBTixZQUFBendDLFVBQUEsT0FHQSxJQUFBa29CLEdBQUEsRUFFQSxZQURBNjdCLEVBQUF1YixVQUFBcnZELEVBR0EsSUFBQXl0RixHQUFBenRGLEVBQUE4ekMsRUFBQXViLFVBQ0FxK0IsRUFBQUQsRUFBQXgxRSxFQUFBLEVBRUE2b0IsR0FBQSxXQUNBZ1QsRUFBQXViLFVBQUF2YixFQUFBdWIsVUFBQXErQixFQUNBNTVDLEVBQUF1YixZQUFBcnZELEdBQ0F3dEYsRUFBQTE1QyxFQUFBOXpDLEVBQUFpWSxFQUFBLE9BSUF6ZCxFQUFBaE0sRUFBQSxXQUFBa29ELGFBQ0FDLFlBQUEsU0FFQWw3QyxXQUNBakwsVUFBQWpDLEVBQUFtTixVQUFBNUgsT0FDQSt0QyxRQUFBdHpDLEVBQUFtTixVQUFBdEgsTUFDQTAzRixjQUFBdjlGLEVBQUFtTixVQUFBd0YsT0FDQTlOLEtBQUE3RSxFQUFBbU4sVUFBQTVILE9BQ0FpNUMsU0FBQXgrQyxFQUFBbU4sVUFBQXdMLEtBQ0FyVyxhQUFBdEMsRUFBQW1OLFVBQUF3TCxNQUdBMjFCLGtCQUFBLFdBRUFodEMsS0FBQTg5RixpQkFBQSxJQUVBOXZELG1CQUFBLFNBQUF3Z0IsR0FFQUEsRUFBQXl0QyxnQkFBQWo4RixLQUFBVSxNQUFBdTdGLGVBQ0FqOEYsS0FBQTg5RixpQkFBQSxNQUdBNWdELFNBQUEsUUFBQUEsR0FBQXQvQyxHQUNBLEdBQUFpTixHQUFBN0ssS0FBQVUsTUFDQXc4QyxFQUFBcnlDLEVBQUFxeUMsU0FDQTM1QyxFQUFBc0gsRUFBQXRILElBRUEyNUMsR0FBQTM1QyxFQUFBM0YsSUFFQW0wQyxXQUFBLFdBQ0EsR0FBQXhHLEdBQUF2ckMsS0FFQWdMLEVBQUFoTCxLQUFBVSxNQUNBc3hDLEVBQUFobkMsRUFBQWduQyxRQUNBaXFELEVBQUFqeEYsRUFBQWl4RixjQUNBdDdGLEVBQUFxSyxFQUFBckssU0FFQSxPQUFBcXhDLEdBQUE3a0MsSUFBQSxTQUFBN0osRUFBQVQsR0FDQSxHQUFBL0QsR0FFQXNNLEdBQUEsRUFBQTZsRCxFQUFBLGFBQUFueUQsTUFBOEQsRUFBQWIsRUFBQSxZQUFBYSxFQUFBNkIsRUFBQSwwQkFBQXM3RixJQUFBcDVGLElBQUEsRUFBQTVFLEVBQUEsWUFBQWEsRUFBQTZCLEVBQUEsMEJBQUEyQyxFQUFBUyxVQUFBakYsSUFDOURpL0YsRUFBQSxJQUlBLE9BSEF6NkYsR0FBQVMsV0FDQWc2RixFQUFBeHlELEVBQUEyUixTQUFBNk0sS0FBQXhlLEdBQUFqb0MsRUFBQTFGLFFBRUFlLEVBQUEsV0FBQTBDLGNBQ0EsTUFFQVAsVUFBQXNLLEVBQ0F4SixJQUFBaUIsRUFDQWl3QyxRQUFBaXJELEVBQ0FoNkYsU0FBQVQsRUFBQVMsVUFFQVQsRUFBQTFGLFVBSUFrZ0csaUJBQUEsU0FBQTExRSxHQUVBLEdBQUFtbUQsR0FBQTVqQyxFQUFBLFdBQUFzQyxZQUFBanRDLE1BQ0FnK0YsRUFBQXJ6RCxFQUFBLFdBQUFzQyxZQUFBanRDLEtBQUEybkQsS0FBQXEyQyxLQUNBLElBQUFBLEVBQUEsQ0FHQSxHQUFBbjdGLEdBQUE3QyxLQUFBVSxNQUFBdTdGLGFBQ0FwNUYsR0FBQSxJQUNBQSxFQUFBLEVBRUEsSUFBQW83RixHQUFBRCxFQUFBbjlGLFNBQUFnQyxHQUNBc04sRUFBQTh0RixFQUFBQyxTQUNBUCxHQUFBcHZCLEVBQUFwK0QsRUFBQWlZLEtBRUE1bkIsT0FBQSxXQUNBLE9BQUFSLEtBQUFVLE1BQUFzeEMsUUFBQW55QyxPQUNBLFdBR0EsSUFBQWMsR0FBQVgsS0FBQVUsTUFBQUMsU0FHQSxPQUFBaEMsR0FBQSxXQUFBMEMsY0FDQSxPQUVBUCxVQUFBSCxFQUFBLFVBQ0FLLGFBQUFoQixLQUFBVSxNQUFBTSxjQUVBckMsRUFBQSxXQUFBMEMsY0FDQSxNQUNTNG1ELElBQUEsUUFDVGpvRCxLQUFBK3hDLGlCQU1BMzBDLEdBQUEsV0FBQXVOLEVBQ0F4TixFQUFBQyxVQUFBLFloSWl2cUJNK2dHLElBQ0EsU0FBU2hoRyxFQUFRQyxFQUFTQyxHQUUvQixZQWtDQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHaUk1NXFCeEYsUUFBUzZnRyxHQUFUdmhELEdBTUcsR0FMRGlpQyxHQUtDamlDLEVBTERpaUMsU0FDQTMrQixFQUlDdEQsRUFKRHNELFFBQ0EvRCxFQUdDUyxFQUhEVCxXQUNBM0MsRUFFQ29ELEVBRkRwRCxXQUNBNGtELEVBQ0N4aEQsRUFERHdoRCxhQUVNdmtELElBRUZzRSxNQUFPLHFCQUNQQyxVQUFXLFdBQ1h6OEMsSUFBSyxhQUVMdzhDLE1BQU8sMkJBQ1BDLFVBQVcsUUFDWHo4QyxJQUFLLFVBRUx3OEMsTUFBTywyQkFDUEMsVUFBVyxZQUNYejhDLElBQUssY0FFTHc4QyxNQUFPLDJCQUNQQyxVQUFXLFdBQ1h6OEMsSUFBSyxhQUVMdzhDLE1BQU8sMkJBQ1BDLFVBQVcsUUFDWHo4QyxJQUFLLFVBRUx3OEMsTUFBTywyQkFDUEMsVUFBVyxXQUNYejhDLElBQUssYUFFTHc4QyxNQUFPLDJCQUNQQyxVQUFXLFNBQ1h6OEMsSUFBSyxTQUNMcEIsT0FBUSxTQUFDNUMsR0FBRCxNQUFXZSxjQUFBMEMsY0FBQSxhQUVmaTlGLEVBQUcscUJBQ0hDLEVBQUcscUJBQ0hDLEVBQUcscUJBQ0hDLEVBQUcsc0JBQ0g3Z0csT0FHSndnRCxNQUFPLDJCQUNQQyxVQUFXLEtBQ1h6OEMsSUFBSyxLQUNMcEIsT0FBUSxTQUFDb2lELEdBQUQsTUFBVWprRCxjQUFBMEMsY0FBQSxZQUFlLEtBQVJ1aEQsRUFDakJqa0QsYUFBQTBDLGNBQUEsWUFBTTFDLGFBQUEwQyxjQUFBaXhDLGNBQU0vdUMsS0FBSyxVQUFVM0MsT0FBUzY3QixNQUFPLHdCQUEzQyxRQUNBOTlCLGFBQUEwQyxjQUFBLFlBQU0xQyxhQUFBMEMsY0FBQWl4QyxjQUFNL3VDLEtBQUssVUFBVTNDLE9BQVM2N0IsTUFBTyxzQkFBM0MsZ0JBRVIyaEIsTUFBTywyQkFDUEMsVUFBVyxZQUNYejhDLElBQUssY0FFTHc4QyxNQUFPLDJCQUNQQyxVQUFXLGFBQ1h6OEMsSUFBSyxlQUVMdzhDLE1BQU8sMkJBQ1BDLFVBQVcsVUFDWHo4QyxJQUFLLFlBRUx3OEMsTUFBTywyQkFDUEMsVUFBVyxhQUNYejhDLElBQUssZUFJSDg4RixHQUNKcjNELEtBQU15M0MsRUFBUzZmLE1BQU10M0QsS0FDckJsSCxRQUFTc1osRUFBV3RaLFNBR2hCc2lDLEVBQWlCLFNBQUNqN0QsR0FBRCxNQUFXN0ksY0FBQTBDLGNBQUF1OUYsY0FBQSxFQUFBN2dHLGlCQUFzQjJnRyxHQUFxQmwzRixLQUFNQSxLQUVuRixPQUNFN0ksY0FBQTBDLGNBQUF3OUYsY0FDRS85RixVQUFXZytGLGFBQU9yK0MsTUFDbEJILFVBQUEsRUFDQTRlLFFBQVVyOEMsRUFBRyxNQUNiaTNCLFFBQVNBLEVBQ1RzQyxXQUFZQSxFQUNaK0QsUUFBU0EsRUFDVHRULFNBQVV3eEQsRUFDVjVrRCxZQUFBLEVBQUExN0MsaUJBQWdCMDdDLEdBQVkwVCxpQkFBaUIsRUFBTUMsaUJBQWlCLEVBQU1GLFVBQVcsU0FBQTM1QixHQUFBLGdCQUFjQSxFQUFkLGFBQ3JGcTVCLFFBQUEsRUFDQXhSLE9BQVEsU0FBQWQsR0FBQSxNQUFVQSxHQUFPeWtELFVBQ3pCdDhCLGVBQWdCQSxJaklteXFCckIva0UsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxHQUdULElBRUlvaEcsSUFGVTNoRyxFQUFvQixJQUVyQkEsRUFBb0IsS0FFN0J3aEcsRUFBVXZoRyxFQUF1QjBoRyxHQUVqQ2xoRyxFQUFZVCxFQUFvQixHQUVoQ1UsRUFBWVQsRUFBdUJRLEdBSW5DdTBDLEdBRlVoMUMsRUFBb0IsSUFFdEJBLEVBQW9CLEtBRTVCaTFDLEVBQVNoMUMsRUFBdUIrMEMsR2lJbjVxQnJDM3pDLEVBQUFyQixFQUFBLEdqSXU1cUJLc0IsRUFBVXJCLEVBQXVCb0IsR2lJcjVxQnRDdWdHLEVBQUE1aEcsRUFBQSxLakl5NXFCS3loRyxFQUFTeGhHLEVBQXVCMmhHLEdpSXg1cUJyQzd2QixFQUFBL3hFLEVBQUEsS2pJNDVxQkt1aEcsRUFBcUJ0aEcsRUFBdUI4eEUsRWlJNXpxQmpEZ3ZCLEdBQUt4eUYsV0FDSHl5RixhQUFjMy9GLEVBQUFtTixVQUFVd0wsS0FDeEIra0MsV0FBWTE5QyxFQUFBbU4sVUFBVXRILE1BQ3RCNDdDLFFBQVN6aEQsRUFBQW1OLFVBQVVHLElBQ25CeXRDLFdBQVkvNkMsRUFBQW1OLFVBQVVHLEtqSXE3cUJ2QjVPLGFpSWw3cUJjZ2hHLEVqSW03cUJkamhHLEVBQU9DLFFBQVVBLEVBQVEsWUFJcEI4aEcsSUFDQSxTQUFTL2hHLEVBQVFDLEVBQVNDLEdBRS9CLFlBZ0RBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdrSTNrckJ4RixRQUFTNHdFLEdBQVR0eEIsR0FRRyxHQVBEc2lELEdBT0N0aUQsRUFQRHNpRCxNQUFPQyxFQU9OdmlELEVBUE11aUQsV0FBWUMsRUFPbEJ4aUQsRUFQa0J3aUQsU0FPbEJDLEVBQUF6aUQsRUFQNEIwaUQsS0FPNUIxaEcsU0FBQXloRyxFQVBpQyxHQU9qQ0EsRUFBQUUsRUFBQTNpRCxFQVBxQzRpRCxXQU9yQzVoRyxTQUFBMmhHLEVBUGdELEdBT2hEQSxFQUFBRSxFQUFBN2lELEVBUG9EOGlELFNBT3BEOWhHLFNBQUE2aEcsRUFQNkQsR0FPN0RBLEVBTkQ1dEMsRUFNQ2pWLEVBTkRpVixTQU1DOHRDLEVBQUEvaUQsRUFMRGdqRCxLQUNFQyxFQUlERixFQUpDRSxrQkFDQUMsRUFHREgsRUFIQ0csZUFJSUMsR0FETEosRUFGQ0ssZ0JBSUFsdkUsTUFBTyxRQUNQczlDLFFBQVM4d0IsRUFDVHAwRixLQUFNLFFBQ053akUsUUFBUSxFQUNSTyxnQkFBa0JseEUsTUFBTyxRQUFTaUksS0FBTSx1QkFDeENncEUsYUFDRS84QixhQUFjLFNBRWhCZ2dCLFNBQVUsU0FBQ2wwRCxHQUNUbWlHLEVBQWUsU0FBQ0csRUFBUTc5RSxHQUN0QixJQUFJNjlFLEVBQUosQ0FHQSxHQUFNdkgsR0FBYXQyRSxFQUFBLEtBRWZDLElBQ0NxMkUsR0FBVzk0RixTQUNkeWlCLEVBQUs4OEUsV0FBYXpHLEVBQVcsR0FBRzlxRixPQUFPLGNBQ3ZDeVUsRUFBSys4RSxTQUFXMUcsRUFBVyxHQUFHOXFGLE9BQU8sZUFFbEN3VSxFQUFPazlFLEtBQ1ZqOUUsRUFBS2k5RSxHQUFLbDlFLEVBQU9rOUUsSUFFZGw5RSxFQUFPbzlFLFdBQ1ZuOUUsRUFBS205RSxTQUFXcDlFLEVBQU9vOUUsVUFFcEJwOUUsRUFBT3M5RSxTQUNWcjlFLEVBQUtxOUUsT0FBU3Q5RSxFQUFPczlFLFFBRWxCL2hHLEVBQU15d0UsVUFHVC9yRCxFQUFLMWtCLEVBQU1tekIsT0FBU256QixFQUFNeXdFLFNBRTVCdmMsRUFBU3h2QyxRQUtmLE9BQ0UzakIsY0FBQTBDLGNBQUE4K0YsYUFBQSxLQUNFeGhHLGFBQUEwQyxjQUFBKytGLGNBQU1DLFFBQUEsR0FDSjFoRyxhQUFBMEMsY0FBQ2kvRixHQUFTdjlGLE1BQU0sMkJBQU9uQyxPQUFRdWlFLGFBQWMsR0FBSW85QixZQUFhLEtBQzNEVCxFQUFrQixRQUNqQlUsYUFBY3BCLEdBQWNDLElBQVksRUFBQXQzRCxjQUFPcTNELElBQWEsRUFBQXIzRCxjQUFPczNELElBQWEsS0FDL0UxZ0csYUFBQTBDLGNBQUNvcEYsR0FBWTdwRixPQUFRbW5ELE1BQU8sU0FFakNwcEQsYUFBQTBDLGNBQUNpL0YsR0FBU3Y5RixNQUFNLDJCQUFPbkMsT0FBUXVpRSxhQUFjLEdBQUlvOUIsWUFBYSxLQUMzRFQsRUFBa0IsTUFDakJVLGFBQWNqQixJQUViNWdHLGFBQUEwQyxjQUFBc3lDLGNBQVEveUMsT0FBUW1uRCxNQUFPLEtBQ3RCcHBELGFBQUEwQyxjQUFDa0ssR0FBTzNOLE1BQU0sSUFBZCxnQkFDQWUsYUFBQTBDLGNBQUNrSyxHQUFPM04sTUFBTSxLQUFJZSxhQUFBMEMsY0FBQWl4QyxjQUFNL3VDLEtBQUssVUFBVTNDLE9BQVM2N0IsTUFBTyx3QkFBdkQsUUFDQTk5QixhQUFBMEMsY0FBQ2tLLEdBQU8zTixNQUFNLEtBQUllLGFBQUEwQyxjQUFBaXhDLGNBQU0vdUMsS0FBSyxVQUFVM0MsT0FBUzY3QixNQUFPLHNCQUF2RCxlQUlOOTlCLGFBQUEwQyxjQUFDaS9GLEdBQVN2OUYsTUFBTSwyQkFBT25DLE9BQVF1aUUsYUFBYyxHQUFJbzlCLFlBQWEsS0FDM0RULEVBQWtCLFlBQ2pCVSxhQUFjZixJQUViOWdHLGFBQUEwQyxjQUFBc3lDLGNBQVEveUMsT0FBUW1uRCxNQUFPLEtBQ3RCcHBELGFBQUEwQyxjQUFDa0ssR0FBTzNOLE1BQU0sSUFBZCxnQkFDQWUsYUFBQTBDLGNBQUNrSyxHQUFPM04sTUFBTSxNQUFkLE1BQ0FlLGFBQUEwQyxjQUFDa0ssR0FBTzNOLE1BQU0sTUFBZCxNQUNBZSxhQUFBMEMsY0FBQ2tLLEdBQU8zTixNQUFNLFVBQWQsVUFDQWUsYUFBQTBDLGNBQUNrSyxHQUFPM04sTUFBTSxPQUFkLE9BQ0FlLGFBQUEwQyxjQUFDa0ssR0FBTzNOLE1BQU0sY0FBZCxpQkFJTmUsYUFBQTBDLGNBQUNpL0YsR0FBU3Y5RixNQUFNLDJCQUFPbkMsT0FBUXVpRSxhQUFjLEdBQUlvOUIsWUFBYSxLQUMzRFQsRUFBa0IsVUFDakJVLGFBQWNiLElBRWJoaEcsYUFBQTBDLGNBQUFzeUMsY0FBUS95QyxPQUFRbW5ELE1BQU8sS0FDdEJwcEQsYUFBQTBDLGNBQUNrSyxHQUFPM04sTUFBTSxJQUFkLGdCQUNBZSxhQUFBMEMsY0FBQ2tLLEdBQU8zTixNQUFNLEtBQWQsc0JBQ0FlLGFBQUEwQyxjQUFDa0ssR0FBTzNOLE1BQU0sS0FBZCxzQkFDQWUsYUFBQTBDLGNBQUNrSyxHQUFPM04sTUFBTSxLQUFkLHNCQUNBZSxhQUFBMEMsY0FBQ2tLLEdBQU8zTixNQUFNLEtBQWQseUJBSU5lLGFBQUEwQyxjQUFDaS9GLEdBQVMxL0YsT0FBUXVpRSxhQUFjLEdBQUlzOUIsUUFBTyxRQUFTRixZQUFhLElBQy9ENWhHLGFBQUEwQyxjQUFBNnNFLGFBQWlCOHhCLE1sSTY3cUIxQnRpRyxPQUFPQyxlQUFlUCxFQUFTLGNBQzdCUSxPQUFPLEdBR1QsSUFFSThpRyxJQUZVcmpHLEVBQW9CLElBRXZCQSxFQUFvQixNQUUzQjhpRyxFQUFRN2lHLEVBQXVCb2pHLEdBSS9CcnVELEdBRlVoMUMsRUFBb0IsSUFFdEJBLEVBQW9CLEtBRTVCaTFDLEVBQVNoMUMsRUFBdUIrMEMsR0FJaENxQixHQUZVcjJDLEVBQW9CLElBRXBCQSxFQUFvQixLQUU5QnMyQyxFQUFXcjJDLEVBQXVCbzJDLEdBSWxDaXRELEdBRlV0akcsRUFBb0IsS0FFaEJBLEVBQW9CLE1BRWxDdWpHLEVBQWV0akcsRUFBdUJxakcsR0FJdENFLEdBRld4akcsRUFBb0IsSUFFdkJBLEVBQW9CLEtBRTVCK2lHLEVBQVM5aUcsRUFBdUJ1akcsR2tJdGtyQnJDbmlHLEVBQUFyQixFQUFBLEdsSTBrckJLc0IsRUFBVXJCLEVBQXVCb0IsR2tJeGtyQnRDcXFDLEVBQUExckMsRUFBQSxJbEk0a3JCSzBxQyxFQUFXenFDLEVBQXVCeXJDLEdrSTNrckJ2Q2tsQyxFQUFBNXdFLEVBQUEsS2xJK2tyQks2d0UsRUFBVzV3RSxFQUF1QjJ3RSxHa0k3a3JCakNxeUIsRUFBV0YsYUFBS3o5QyxLQUNoQjhuQyxFQUFjbVcsYUFBV25XLFlBQ3pCbC9FLEVBQVNvb0MsYUFBT3BvQyxNQXlHdEI0aUUsR0FBT3ZpRSxXQUNMaTBGLEtBQU1uaEcsRUFBQW1OLFVBQVV5aUMsT0FBTzJELFdBQ3ZCNmYsU0FBVXB6RCxFQUFBbU4sVUFBVXdMLEtBQ3BCMFosTUFBT3J5QixFQUFBbU4sVUFBVTVILE9BQ2pCb3FFLFFBQVMzdkUsRUFBQW1OLFVBQVU1SCxRbElpcXJCcEI3Ryxha0k5cHJCY2dqRyxhQUFLajJELFNBQVNna0MsR2xJK3ByQjVCaHhFLEVBQU9DLFFBQVVBLEVBQVEsWUFJcEIwakcsSUFDQSxTQUFTM2pHLEVBQVFDLEVBQVNDLEdBRS9CLFlBc0JBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBcEJ2RkcsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxHQUdULElBQUlFLEdBQVlULEVBQW9CLEdBRWhDVSxFQUFZVCxFQUF1QlEsR0FFbkNpakcsRUFBZTFqRyxFQUFvQixJQUVuQzJqRyxFQUFnQjFqRyxFQUF1QnlqRyxHbUl2eXJCNUNFLEdBRkE1akcsRUFBQSxJQUVBQSxFQUFBLEtBQ0E2akcsRUFBQTdqRyxFQUFBLEtBQ0ErL0QsRUFBQS8vRCxFQUFBLEduSWl6ckJDRCxlbUk5eXJCQytqRyxVQUFXLFlBQ1h2dkQsT0FDRW9zRCxRQUNBNzlDLFNBQVMsRUFDVDFHLFlBQ0V0WixRQUFTLEVBQ1RvYixTQUFVLEdBQ1Zob0IsTUFBTyxPQUlYNnRFLGVBQ0VDLE1BRGEsU0FBQXhrRCxHQUNpQixHQUFyQnlrRCxHQUFxQnprRCxFQUFyQnlrRCxTQUFVQyxFQUFXMWtELEVBQVgwa0QsT0FDakJBLEdBQVFDLE9BQU8sU0FBQTFpQixHQUNiLEdBQU0yaUIsR0FBVzNpQixFQUFTMmlCLFFBQzFCLElBQWlCLGdCQUFiQSxFQUE0QixDQUM5QixHQUFNQyxJQUFZLEVBQUF0a0MsRUFBQXVrQyxjQUFhRixFQUM1QkMsSUFDREosR0FBVy85RixLQUFNLHNCQUF1QnErRixTQUFXRixlQUNuREosR0FBVy85RixLQUFNLFdBRWpCKzlGLEVBQVNMLEVBQUFZLFlBQVlqK0YsTUFBTzY5RixTQUFVLG9CQU9oREssU0FDR25ELE1BRE1xQyxhQUFBZSxLQUFBLFFBQUFwRCxHQUFBOXBDLEVBQUFtdEMsR0FBQSxHQUFBQyxHQUFBMy9FLEVBQ2dCaXNELEdBRGhCMVosRUFDRytzQyxRQURISSxFQUNnQnp6QixRQUFROXVFLEVBRHhCdWlHLEVBQ3dCdmlHLEtBQU15aUcsRUFEOUJGLEVBQzhCRSxHQUQ5QixPQUFBbEIsY0FBQW1CLEtBQUEsU0FBQUMsR0FBQSxjQUFBQSxFQUFBaDhGLEtBQUFnOEYsRUFBQS83RixNQUFBLGFBQUErN0YsR0FBQS83RixLQUFBLEVBRUM2N0YsR0FBTTMrRixLQUFNLGVBRmIsY0FBQTYrRixHQUFBLzdGLEtBQUEsRUFHbUJrb0UsRUFBTyxTQUFBOHpCLEdBQUEsR0FBR0MsR0FBSEQsRUFBR0MsT0FBSCxPQUFpQkEsR0FBUUMsMEJBQTBCNUQsT0FIN0UsY0FHQ3NELEdBSERHLEVBQUFJLEtBQUFKLEVBQUEvN0YsS0FBQSxFQUljNUcsVUFBWXdpRyxFQUoxQixXQUlDMy9FLEVBSkQ4L0UsRUFBQUksTUFLRGxnRixJQUFRQSxFQUFLbWdGLFFBTFosQ0FBQUwsRUFBQS83RixLQUFBLGVBQUErN0YsR0FBQS83RixLQUFBLEdBTUc2N0YsR0FDSjMrRixLQUFNLGVBQ05xK0YsU0FDRTVELEtBQU0xN0UsRUFBSzA3RSxLQUNYdmtELFdBQVluM0IsRUFBSytrQixPQVZsQixlQUFBKzZELEdBQUEvN0YsS0FBQSxHQWNDNjdGLEdBQU0zK0YsS0FBTSxlQWRiLHlCQUFBNitGLEdBQUFNLFNBQUEvRCxFQUFBMytGLFNBa0JUMmlHLFVBQ0VDLGFBRFEsU0FDTWh4RCxFQUFPeVcsR0FDbkIsU0FBQXRxRCxpQkFBWTZ6QyxFQUFVeVcsRUFBT3U1QyxVQUUvQmlCLFlBSlEsU0FJS2p4RCxHQUNYLFNBQUE3ekMsaUJBQVk2ekMsR0FBT3VPLFNBQVMsS0FFOUIyaUQsWUFQUSxTQU9LbHhELEdBQ1gsU0FBQTd6QyxpQkFBWTZ6QyxHQUFPdU8sU0FBUyxPbkk2MXJCakNoakQsRUFBT0MsUUFBVUEsRUFBUSxZQUlwQjJsRyxJQUNBLFNBQVM1bEcsRUFBUUMsRUFBU0MsR0FFL0IsWUE4QkEsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR29JdjdyQnhGLFFBQVN5bEcsR0FBVG5tRCxHQUFpRSxHQUE1Q2lpQyxHQUE0Q2ppQyxFQUE1Q2lpQyxTQUFxQndpQixHQUF1QnprRCxFQUFsQzZrRCxVQUFrQzdrRCxFQUF2QnlrRCxVQUFVMkIsRUFBYXBtRCxFQUFib21ELFVBRTFDakYsRUFBOEJpRixFQUE5QmpGLEtBQU12a0QsRUFBd0J3cEQsRUFBeEJ4cEQsV0FBWTBHLEVBQVk4aUQsRUFBWjlpRCxRQUZxQytpRCxFQUlEcGtCLEVBQVM2ZixNQUEvRFEsRUFKdUQrRCxFQUl2RC9ELE1BQU9DLEVBSmdEOEQsRUFJaEQ5RCxXQUFZQyxFQUpvQzZELEVBSXBDN0QsU0FBVUUsRUFKMEIyRCxFQUkxQjNELEdBQUlFLEVBSnNCeUQsRUFJdEJ6RCxTQUFVRSxFQUpZdUQsRUFJWnZELE9BRTdDd0QsR0FDSmhFLFFBQU9DLGFBQVlDLFdBQVVFLEtBQUlFLFdBQVVFLFNBQzNDN3RDLFNBRmtCLFNBRVRzeEMsR0FDUDlCLEVBQVNMLEVBQUFZLFlBQVlqK0YsTUFDbkI2OUYsU0FBVTNpQixFQUFTMmlCLFNBQ25COUMsMEJBQ0t5RSxRQU1MQyxHQUNKdmtCLFdBQ0ExaUMsV0FBWTRoRCxFQUNaNzlDLFVBQ0ExRyxXQUFZQSxFQUNaNGtELGFBTGdCLFNBS0hoM0QsR0FBTSxHQUNWczNELEdBQW1CN2YsRUFBbkI2ZixNQUFPOEMsRUFBWTNpQixFQUFaMmlCLFFBQ2RILEdBQVNMLEVBQUFZLFlBQVlqK0YsTUFDbkI2OUYsU0FBVUEsRUFDVjlDLDBCQUNLQSxHQUNIdDNELEtBQU1BLEVBQUtsSCxRQUNYb2IsU0FBVWxVLEVBQUtrVSxlQU12QixPQUNFNThDLGNBQUEwQyxjQUFBLE9BQUtQLFVBQVUsaUJBQ2JuQyxhQUFBMEMsY0FBQTZzRSxhQUFZaTFCLEdBQ1p4a0csYUFBQTBDLGNBQUF5OUYsYUFBVXVFLElBV2hCLFFBQVNDLEdBQVR6dUMsR0FBd0MsR0FBYm91QyxHQUFhcHVDLEVBQWJvdUMsU0FDekIsUUFBU0EsYXBJdzJyQlZ2bEcsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxHQUdULElBQUlFLEdBQVlULEVBQW9CLEdBRWhDVSxFQUFZVCxFQUF1QlEsR29JejZyQnhDWSxFQUFBckIsRUFBQSxHcEk2NnJCS3NCLEVBQVVyQixFQUF1Qm9CLEdvSTU2ckJ0Q3VpRyxFQUFBNWpHLEVBQUEsSUFDQWttRyxFQUFBbG1HLEVBQUEsSUFDQTRoRyxFQUFBNWhHLEVBQUEsS3BJazdyQkt5aEcsRUFBU3hoRyxFQUF1QjJoRyxHb0lqN3JCckNoeEIsRUFBQTV3RSxFQUFBLEtwSXE3ckJLNndFLEVBQVc1d0UsRUFBdUIyd0UsRW9JcDdyQnZDNXdFLEdBQUEsSUFDQUEsRUFBQSxHQThDQTJsRyxHQUFVcDNGLFdBQ1JxM0YsVUFBV3ZrRyxFQUFBbU4sVUFBVXlpQyxPQUNyQnd3QyxTQUFVcGdGLEVBQUFtTixVQUFVeWlDLE9BQ3BCZ3pELFNBQVU1aUcsRUFBQW1OLFVBQVV3TCxNcEk0OHJCckJqYSxjb0lyOHJCYyxFQUFBbW1HLEVBQUFDLFNBQVFGLEdBQWlCTixHcElzOHJCdkM3bEcsRUFBT0MsUUFBVUEsRUFBUSxZQUlwQnFtRyxJQUNBLFNBQVN0bUcsRUFBUUMsRUFBU0MsR0FFL0IsWUF5Q0EsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0F2Q3ZGRyxPQUFPQyxlQUFlUCxFQUFTLGNBQzdCUSxPQUFPLElBRVRSLEVBQVF1aEcsTUFBUTlnRyxNQUVoQixJQUFJa2pHLEdBQWUxakcsRUFBb0IsSUFFbkMyakcsRUFBZ0IxakcsRUFBdUJ5akcsR0FFdkMyQyxFQUFxQnJtRyxFQUFvQixLQUV6Q3NtRyxFQUFxQnJtRyxFQUF1Qm9tRyxHcUl4aHNCakR0bUMsR3JJMGhzQmFoZ0UsRUFBUXVoRyxNQUFRLFdBQzFCLEdBQUk5aEQsSUFBTyxFQUFJOG1ELGNBQTRCM0MsYUFBc0JlLEtxSXpoc0I3RCxRQUFBNkIsR0FBc0JDLEdBQXRCLE1BQUE3QyxjQUFBbUIsS0FBQSxTQUFBQyxHQUFBLGNBQUFBLEVBQUFoOEYsS0FBQWc4RixFQUFBLzdGLE1BQUEsYUFBQSs3RixHQUFBMEIsT0FBQSxVQUNFLEVBQUExbUMsRUFBQTJtQyxTQUFRLHlCQUNiajZDLE9BQVEsTUFDUnhuQyxLQUFNdWhGLElBSEgsd0JBQUF6QixHQUFBTSxTQUFBa0IsRUFBQTVqRyxRckkyaXNCSixPQUFPLFVBQWVna0csR0FDcEIsTUFBT25uRCxHQUFLNThDLE1BQU1ELEtBQU1FLGVxSTlpc0I3QjdDLEVBQUEsTXJJd2pzQk00bUcsSUFDQSxTQUFTOW1HLEVBQVFDLEdzSXhqc0J2QkQsRUFBQUMsU0FBa0JxakQsTUFBQSxnQkFBQXlqRCxRQUFBLGtCQUFBQyxPQUFBLG1CdEkranNCWkMsS0FDQSxTQUFTam5HLEVBQVFDLEVBQVNDLEVBQXFCZ25HLEd1SWprc0JyRCxZQUVBaG5HLEdBQUEsSUFFQUEsRUFBQWduRyxHQUVBaG5HLEVBQUEiLCJmaWxlIjoib3JkZXItbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMl0se1xuXG4vKioqLyAxODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yY0NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdFxuXHR2YXIgX3JjQ2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNDaGVja2JveCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Hcm91cCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ2hlY2tib3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIENoZWNrYm94KCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ2hlY2tib3gpO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgQ2hlY2tib3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IF9hLmluZGV0ZXJtaW5hdGUsXG5cdCAgICAgICAgICAgIG9uTW91c2VFbnRlciA9IF9hLm9uTW91c2VFbnRlcixcblx0ICAgICAgICAgICAgb25Nb3VzZUxlYXZlID0gX2Eub25Nb3VzZUxlYXZlLFxuXHQgICAgICAgICAgICByZXN0UHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByZWZpeENsc1wiLCBcInN0eWxlXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJpbmRldGVybWluYXRlXCIsIFwib25Nb3VzZUVudGVyXCIsIFwib25Nb3VzZUxlYXZlXCJdKTtcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBwcmVmaXhDbHMgKyAnLXdyYXBwZXInLCB0cnVlKSk7XG5cdCAgICAgICAgdmFyIGNoZWNrYm94Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy1pbmRldGVybWluYXRlJywgaW5kZXRlcm1pbmF0ZSkpO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnbGFiZWwnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjQ2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2hlY2tib3hDbGFzcywgY2hpbGRyZW46IG51bGwgfSkpLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICApIDogbnVsbFxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBDaGVja2JveDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDaGVja2JveDtcblx0XG5cdENoZWNrYm94Lkdyb3VwID0gX0dyb3VwMltcImRlZmF1bHRcIl07XG5cdENoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1jaGVja2JveCcsXG5cdCAgICBpbmRldGVybWluYXRlOiBmYWxzZVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5VTlNFTEVDVEFCTEVfQVRUUklCVVRFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfU1RZTEUgPSB1bmRlZmluZWQ7XG5cdGV4cG9ydHMuZ2V0VmFsdWVQcm9wVmFsdWUgPSBnZXRWYWx1ZVByb3BWYWx1ZTtcblx0ZXhwb3J0cy5nZXRQcm9wVmFsdWUgPSBnZXRQcm9wVmFsdWU7XG5cdGV4cG9ydHMuaXNDb21ib2JveCA9IGlzQ29tYm9ib3g7XG5cdGV4cG9ydHMuaXNNdWx0aXBsZU9yVGFncyA9IGlzTXVsdGlwbGVPclRhZ3M7XG5cdGV4cG9ydHMuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3ggPSBpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveDtcblx0ZXhwb3J0cy5pc1NpbmdsZU1vZGUgPSBpc1NpbmdsZU1vZGU7XG5cdGV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XG5cdGV4cG9ydHMucHJldmVudERlZmF1bHRFdmVudCA9IHByZXZlbnREZWZhdWx0RXZlbnQ7XG5cdGV4cG9ydHMuZmluZEluZGV4SW5WYWx1ZUJ5S2V5ID0gZmluZEluZGV4SW5WYWx1ZUJ5S2V5O1xuXHRleHBvcnRzLmZpbmRJbmRleEluVmFsdWVCeUxhYmVsID0gZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWw7XG5cdGV4cG9ydHMuZ2V0U2VsZWN0S2V5cyA9IGdldFNlbGVjdEtleXM7XG5cdGV4cG9ydHMuZmluZEZpcnN0TWVudUl0ZW0gPSBmaW5kRmlyc3RNZW51SXRlbTtcblx0ZXhwb3J0cy5pbmNsdWRlc1NlcGFyYXRvcnMgPSBpbmNsdWRlc1NlcGFyYXRvcnM7XG5cdGV4cG9ydHMuc3BsaXRCeVNlcGFyYXRvcnMgPSBzcGxpdEJ5U2VwYXJhdG9ycztcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGdldFZhbHVlUHJvcFZhbHVlKGNoaWxkKSB7XG5cdCAgdmFyIHByb3BzID0gY2hpbGQucHJvcHM7XG5cdCAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcblx0ICAgIHJldHVybiBwcm9wcy52YWx1ZTtcblx0ICB9XG5cdCAgaWYgKGNoaWxkLmtleSkge1xuXHQgICAgcmV0dXJuIGNoaWxkLmtleTtcblx0ICB9XG5cdCAgdGhyb3cgbmV3IEVycm9yKCdubyBrZXkgb3IgdmFsdWUgZm9yICcgKyBjaGlsZCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFByb3BWYWx1ZShjaGlsZCwgcHJvcCkge1xuXHQgIGlmIChwcm9wID09PSAndmFsdWUnKSB7XG5cdCAgICByZXR1cm4gZ2V0VmFsdWVQcm9wVmFsdWUoY2hpbGQpO1xuXHQgIH1cblx0ICByZXR1cm4gY2hpbGQucHJvcHNbcHJvcF07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzQ29tYm9ib3gocHJvcHMpIHtcblx0ICByZXR1cm4gcHJvcHMuY29tYm9ib3g7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTXVsdGlwbGVPclRhZ3MocHJvcHMpIHtcblx0ICByZXR1cm4gcHJvcHMubXVsdGlwbGUgfHwgcHJvcHMudGFncztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gocHJvcHMpIHtcblx0ICByZXR1cm4gaXNNdWx0aXBsZU9yVGFncyhwcm9wcykgfHwgaXNDb21ib2JveChwcm9wcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2luZ2xlTW9kZShwcm9wcykge1xuXHQgIHJldHVybiAhaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gocHJvcHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG5cdCAgdmFyIHJldCA9IHZhbHVlO1xuXHQgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICByZXQgPSBbXTtcblx0ICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgcmV0ID0gW3ZhbHVlXTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJldmVudERlZmF1bHRFdmVudChlKSB7XG5cdCAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGtleSkge1xuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmICh2YWx1ZVtpXS5rZXkgPT09IGtleSkge1xuXHQgICAgICBpbmRleCA9IGk7XG5cdCAgICAgIGJyZWFrO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gaW5kZXg7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZpbmRJbmRleEluVmFsdWVCeUxhYmVsKHZhbHVlLCBsYWJlbCkge1xuXHQgIHZhciBpbmRleCA9IC0xO1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcblx0ICAgIGlmICh0b0FycmF5KHZhbHVlW2ldLmxhYmVsKS5qb2luKCcnKSA9PT0gbGFiZWwpIHtcblx0ICAgICAgaW5kZXggPSBpO1xuXHQgICAgICBicmVhaztcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGluZGV4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZWxlY3RLZXlzKG1lbnVJdGVtcywgdmFsdWUpIHtcblx0ICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHQgIH1cblx0ICB2YXIgc2VsZWN0ZWRLZXlzID0gW107XG5cdCAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChtZW51SXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuXHQgICAgICBzZWxlY3RlZEtleXMgPSBzZWxlY3RlZEtleXMuY29uY2F0KGdldFNlbGVjdEtleXMoaXRlbS5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBpdGVtVmFsdWUgPSBnZXRWYWx1ZVByb3BWYWx1ZShpdGVtKTtcblx0ICAgICAgdmFyIGl0ZW1LZXkgPSBpdGVtLmtleTtcblx0ICAgICAgaWYgKGZpbmRJbmRleEluVmFsdWVCeUtleSh2YWx1ZSwgaXRlbVZhbHVlKSAhPT0gLTEgJiYgaXRlbUtleSkge1xuXHQgICAgICAgIHNlbGVjdGVkS2V5cy5wdXNoKGl0ZW1LZXkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHNlbGVjdGVkS2V5cztcblx0fVxuXHRcblx0dmFyIFVOU0VMRUNUQUJMRV9TVFlMRSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX1NUWUxFID0ge1xuXHQgIHVzZXJTZWxlY3Q6ICdub25lJyxcblx0ICBXZWJraXRVc2VyU2VsZWN0OiAnbm9uZSdcblx0fTtcblx0XG5cdHZhciBVTlNFTEVDVEFCTEVfQVRUUklCVVRFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfQVRUUklCVVRFID0ge1xuXHQgIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGZpbmRGaXJzdE1lbnVJdGVtKGNoaWxkcmVuKSB7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cdCAgICBpZiAoY2hpbGQudHlwZS5pc01lbnVJdGVtR3JvdXApIHtcblx0ICAgICAgdmFyIGZvdW5kID0gZmluZEZpcnN0TWVudUl0ZW0oY2hpbGQucHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICBpZiAoZm91bmQpIHtcblx0ICAgICAgICByZXR1cm4gZm91bmQ7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSBpZiAoIWNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybiBjaGlsZDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGluY2x1ZGVzU2VwYXJhdG9ycyhzdHJpbmcsIHNlcGFyYXRvcnMpIHtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyArK2kpIHtcblx0ICAgIGlmIChzdHJpbmcubGFzdEluZGV4T2Yoc2VwYXJhdG9yc1tpXSkgPiAwKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNwbGl0QnlTZXBhcmF0b3JzKHN0cmluZywgc2VwYXJhdG9ycykge1xuXHQgIHZhciByZWcgPSBuZXcgUmVnRXhwKCdbJyArIHNlcGFyYXRvcnMuam9pbigpICsgJ10nKTtcblx0ICB2YXIgYXJyYXkgPSBzdHJpbmcuc3BsaXQocmVnKTtcblx0ICBpZiAoYXJyYXlbMF0gPT09ICcnKSB7XG5cdCAgICBhcnJheS5zaGlmdCgpO1xuXHQgIH1cblx0ICBpZiAoYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG5cdCAgICBhcnJheS5wb3AoKTtcblx0ICB9XG5cdCAgcmV0dXJuIGFycmF5O1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDIyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRleHBvcnRzLnRvQXJyYXlDaGlsZHJlbiA9IHRvQXJyYXlDaGlsZHJlbjtcblx0ZXhwb3J0cy5kYXRhVG9BcnJheSA9IGRhdGFUb0FycmF5O1xuXHRleHBvcnRzLm9iamVjdEVxdWFsID0gb2JqZWN0RXF1YWw7XG5cdGV4cG9ydHMuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5ID0gZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5O1xuXHRleHBvcnRzLm1lcmdlQ2hpbGRyZW4gPSBtZXJnZUNoaWxkcmVuO1xuXHRleHBvcnRzLnRyYW5zZm9ybUFyZ3VtZW50cyA9IHRyYW5zZm9ybUFyZ3VtZW50cztcblx0ZXhwb3J0cy5nZXRDaGlsZHJlbkZyb21Qcm9wcyA9IGdldENoaWxkcmVuRnJvbVByb3BzO1xuXHRleHBvcnRzLnN0YXJ0Q29udmVydFRvRW5kVW5pdCA9IHN0YXJ0Q29udmVydFRvRW5kVW5pdDtcblx0ZXhwb3J0cy5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG5cdGV4cG9ydHMuZ2V0VHJhbnNmb3JtVmFsdWUgPSBnZXRUcmFuc2Zvcm1WYWx1ZTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2RlZXBFcWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1OCk7XG5cdFxuXHR2YXIgX2RlZXBFcWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcEVxbCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIHRvQXJyYXlDaGlsZHJlbihjaGlsZHJlbikge1xuXHQgIHZhciByZXQgPSBbXTtcblx0ICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuXHQgICAgcmV0LnB1c2goYyk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGF0YVRvQXJyYXkodmFycykge1xuXHQgIGlmICghdmFycyAmJiB2YXJzICE9PSAwKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfVxuXHQgIGlmIChBcnJheS5pc0FycmF5KHZhcnMpKSB7XG5cdCAgICByZXR1cm4gdmFycztcblx0ICB9XG5cdCAgcmV0dXJuIFt2YXJzXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gb2JqZWN0RXF1YWwob2JqMSwgb2JqMikge1xuXHQgIGlmIChvYmoxID09PSBvYmoyIHx8ICgwLCBfZGVlcEVxbDJbXCJkZWZhdWx0XCJdKShvYmoxLCBvYmoyKSkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIGlmICghb2JqMSB8fCAhb2JqMikge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICAvLyBhbmltYXRpb24g5YaZ5Zyo5qCH562+5LiK55qE6L+b6KGM5Yik5pat5piv5ZCm55u4562J77yMIOWIpOaWreavj+S4quWPguaVsOacieayoeaciSBmdW5jdGlvbjtcblx0ICB2YXIgZXF1YWxCb29sID0gdHJ1ZTtcblx0ICBpZiAoQXJyYXkuaXNBcnJheShvYmoxKSAmJiBBcnJheS5pc0FycmF5KG9iajIpKSB7XG5cdCAgICBpZiAob2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgY3VycmVudE9iaiA9IG9iajFbaV07XG5cdCAgICAgIHZhciBuZXh0T2JqID0gb2JqMltpXTtcblx0ICAgICAgZm9yICh2YXIgcCBpbiBjdXJyZW50T2JqKSB7XG5cdCAgICAgICAgaWYgKGN1cnJlbnRPYmpbcF0gIT09IG5leHRPYmpbcF0pIHtcblx0ICAgICAgICAgIGlmIChfdHlwZW9mKGN1cnJlbnRPYmpbcF0pID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG5leHRPYmpbcF0pID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChjdXJyZW50T2JqW3BdLCBuZXh0T2JqW3BdKTtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRPYmpbcF0gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG5leHRPYmpbcF0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmpbcF0ubmFtZSAhPT0gbmV4dE9ialtwXS5uYW1lKSB7XG5cdCAgICAgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICB2YXIgc2V0RXF1YWxCb29sID0gZnVuY3Rpb24gc2V0RXF1YWxCb29sKG9iakEsIG9iakIpIHtcblx0ICAgIE9iamVjdC5rZXlzKG9iakEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICBpZiAoIShrZXkgaW4gb2JqQikpIHtcblx0ICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKF90eXBlb2Yob2JqQVtrZXldKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihvYmpCW2tleV0pID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgIGVxdWFsQm9vbCA9IG9iamVjdEVxdWFsKG9iakFba2V5XSwgb2JqQltrZXldKTtcblx0ICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqQVtrZXldID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmpCW2tleV0gPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICBpZiAob2JqQVtrZXldLm5hbWUgIT09IG9iakJba2V5XS5uYW1lKSB7XG5cdCAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSBpZiAob2JqQVtrZXldICE9PSBvYmpCW2tleV0pIHtcblx0ICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgc2V0RXF1YWxCb29sKG9iajEsIG9iajIpO1xuXHQgIHNldEVxdWFsQm9vbChvYmoyLCBvYmoxKTtcblx0ICByZXR1cm4gZXF1YWxCb29sO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY2hpbGRyZW4sIGtleSkge1xuXHQgIHZhciByZXQgPSBudWxsO1xuXHQgIGlmIChjaGlsZHJlbikge1xuXHQgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgICBpZiAocmV0IHx8ICFjKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChjLmtleSA9PT0ga2V5KSB7XG5cdCAgICAgICAgcmV0ID0gYztcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfVxuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1lcmdlQ2hpbGRyZW4ocHJldiwgbmV4dCkge1xuXHQgIHZhciByZXQgPSBbXTtcblx0ICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cblx0ICAvLyB0aGUgY29tYmluZWQgbGlzdFxuXHQgIHZhciBuZXh0Q2hpbGRyZW5QZW5kaW5nID0ge307XG5cdCAgdmFyIHBlbmRpbmdDaGlsZHJlbiA9IFtdO1xuXHQgIHZhciBmb2xsb3dDaGlsZHJlbktleSA9IHZvaWQgMDtcblx0ICBwcmV2LmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgIGlmICghYykge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBpZiAoZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KG5leHQsIGMua2V5KSkge1xuXHQgICAgICBpZiAocGVuZGluZ0NoaWxkcmVuLmxlbmd0aCkge1xuXHQgICAgICAgIG5leHRDaGlsZHJlblBlbmRpbmdbYy5rZXldID0gcGVuZGluZ0NoaWxkcmVuO1xuXHQgICAgICAgIHBlbmRpbmdDaGlsZHJlbiA9IFtdO1xuXHQgICAgICB9XG5cdCAgICAgIGZvbGxvd0NoaWxkcmVuS2V5ID0gYy5rZXk7XG5cdCAgICB9IGVsc2UgaWYgKGMua2V5KSB7XG5cdCAgICAgIHBlbmRpbmdDaGlsZHJlbi5wdXNoKGMpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGlmICghZm9sbG93Q2hpbGRyZW5LZXkpIHtcblx0ICAgIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcblx0ICB9XG5cdFxuXHQgIG5leHQuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuXHQgICAgaWYgKCFjKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChuZXh0Q2hpbGRyZW5QZW5kaW5nLmhhc093blByb3BlcnR5KGMua2V5KSkge1xuXHQgICAgICByZXQgPSByZXQuY29uY2F0KG5leHRDaGlsZHJlblBlbmRpbmdbYy5rZXldKTtcblx0ICAgIH1cblx0ICAgIHJldC5wdXNoKGMpO1xuXHQgICAgaWYgKGMua2V5ID09PSBmb2xsb3dDaGlsZHJlbktleSkge1xuXHQgICAgICByZXQgPSByZXQuY29uY2F0KHBlbmRpbmdDaGlsZHJlbik7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiByZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRyYW5zZm9ybUFyZ3VtZW50cyhhcmcsIGtleSwgaSkge1xuXHQgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cdCAgaWYgKHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJlc3VsdCA9IGFyZyh7XG5cdCAgICAgIGtleToga2V5LFxuXHQgICAgICBpbmRleDogaVxuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJlc3VsdCA9IGFyZztcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMocHJvcHMpIHtcblx0ICByZXR1cm4gcHJvcHMgJiYgcHJvcHMuY2hpbGRyZW47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0YXJ0Q29udmVydFRvRW5kVW5pdCh0YXJnZXQsIHN0eWxlLCBudW0sIHVuaXQsIGRhdGFVbml0LCBmaXhlZCwgaXNPcmlnaW5XaWR0aCkge1xuXHQgIHZhciBob3JpeiA9IC8oPzpMZWZ0fFJpZ2h0fFdpZHRofFgpL2kudGVzdChzdHlsZSkgfHwgaXNPcmlnaW5XaWR0aDtcblx0ICB2YXIgdCA9IHN0eWxlLmluZGV4T2YoJ2JvcmRlcicpICE9PSAtMSA/IHRhcmdldCA6IHRhcmdldC5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHk7XG5cdCAgdCA9IGZpeGVkID8gZG9jdW1lbnQuYm9keSA6IHQ7XG5cdCAgdmFyIHBpeCA9IHZvaWQgMDtcblx0XG5cdCAgaWYgKHVuaXQgPT09ICclJykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gMTAwICogKGhvcml6ID8gdC5jbGllbnRXaWR0aCA6IHQuY2xpZW50SGVpZ2h0KTtcblx0ICB9IGVsc2UgaWYgKHVuaXQgPT09ICd2dycpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggLyAxMDA7XG5cdCAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnKSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgKiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAvIDEwMDtcblx0ICB9IGVsc2UgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvZW0vaSkpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIDE2O1xuXHQgIH0gZWxzZSB7XG5cdCAgICBwaXggPSBwYXJzZUZsb2F0KG51bSk7XG5cdCAgfVxuXHQgIGlmIChkYXRhVW5pdCA9PT0gJyUnKSB7XG5cdCAgICBwaXggPSBwaXggKiAxMDAgLyAoaG9yaXogPyB0LmNsaWVudFdpZHRoIDogdC5jbGllbnRIZWlnaHQpO1xuXHQgIH0gZWxzZSBpZiAoZGF0YVVuaXQgPT09ICd2dycpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKiAxMDA7XG5cdCAgfSBlbHNlIGlmIChkYXRhVW5pdCA9PT0gJ3ZoJykge1xuXHQgICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAxMDA7XG5cdCAgfSBlbHNlIGlmIChkYXRhVW5pdCAmJiBkYXRhVW5pdC5tYXRjaCgvZW0vaSkpIHtcblx0ICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAvIDE2O1xuXHQgIH1cblx0ICByZXR1cm4gcGl4O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuXHQgIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcblx0ICAgIGlmIChwYXRoLmNoYXJBdCgwKS5tYXRjaCgvbS9pKSkge1xuXHQgICAgICB2YXIgZG9tUGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuXHQgICAgICBkb21QYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgcGF0aCk7XG5cdCAgICAgIHJldHVybiBkb21QYXRoO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGF0aCk7XG5cdCAgfSBlbHNlIGlmIChwYXRoLnN0eWxlKSB7XG5cdCAgICByZXR1cm4gcGF0aDtcblx0ICB9XG5cdCAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB3aGlsZSBwYXJzaW5nIHRoZSBwYXRoJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKHQsIHN1cHBvcnRzM0QpIHtcblx0ICBpZiAodHlwZW9mIHQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICByZXR1cm4gdDtcblx0ICB9XG5cdCAgdmFyIHBlcnNwZWN0aXZlID0gdC5wZXJzcGVjdGl2ZTtcblx0ICB2YXIgYW5nbGUgPSB0LnJvdGF0ZTtcblx0ICB2YXIgcm90YXRlWCA9IHQucm90YXRlWDtcblx0ICB2YXIgcm90YXRlWSA9IHQucm90YXRlWTtcblx0ICB2YXIgc3ggPSB0LnNjYWxlWDtcblx0ICB2YXIgc3kgPSB0LnNjYWxlWTtcblx0ICB2YXIgc3ogPSB0LnNjYWxlWjtcblx0ICB2YXIgc2t4ID0gdC5za2V3WDtcblx0ICB2YXIgc2t5ID0gdC5za2V3WTtcblx0ICB2YXIgeFBlcmNlbnQgPSB0LnhQZXJjZW50IHx8IDA7XG5cdCAgdmFyIHlQZXJjZW50ID0gdC55UGVyY2VudCB8fCAwO1xuXHQgIHZhciB0cmFuc2xhdGVYID0geFBlcmNlbnQgPyAwIDogdC50cmFuc2xhdGVYO1xuXHQgIHZhciB0cmFuc2xhdGVZID0geVBlcmNlbnQgPyAwIDogdC50cmFuc2xhdGVZO1xuXHQgIHZhciB0cmFuc2xhdGVaID0gdC50cmFuc2xhdGVaIHx8IDA7XG5cdCAgdmFyIHBlcmNlbnQgPSB4UGVyY2VudCB8fCB5UGVyY2VudCA/ICd0cmFuc2xhdGUoJyArICh4UGVyY2VudCB8fCB0cmFuc2xhdGVYICsgJ3B4JykgKyAnLCcgKyAoeVBlcmNlbnQgfHwgdHJhbnNsYXRlWSArICdweCcpICsgJyknIDogJyc7XG5cdCAgdmFyIHNrID0gc2t4IHx8IHNreSA/ICdza2V3KCcgKyBza3ggKyAnZGVnLCcgKyBza3kgKyAnZGVnKScgOiAnJztcblx0ICB2YXIgYW4gPSBhbmdsZSA/ICdyb3RhdGUoJyArIGFuZ2xlICsgJ2RlZyknIDogJyc7XG5cdCAgdmFyIHNzID0gdm9pZCAwO1xuXHQgIGlmICghcGVyc3BlY3RpdmUgJiYgIXJvdGF0ZVggJiYgIXJvdGF0ZVkgJiYgIXRyYW5zbGF0ZVogJiYgc3ogPT09IDEgfHwgIXN1cHBvcnRzM0QpIHtcblx0ICAgIHNzID0gc3ggIT09IDEgfHwgc3kgIT09IDEgPyAnc2NhbGUoJyArIHN4ICsgJywnICsgc3kgKyAnKScgOiAnJztcblx0ICAgIHZhciB0cmFuc2xhdGUgPSBwZXJjZW50IHx8ICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgpJztcblx0ICAgIHJldHVybiB0cmFuc2xhdGUgKyAnICcgKyBhbiArICcgJyArIHNzICsgJyAnICsgc2s7XG5cdCAgfVxuXHQgIHNzID0gc3ggIT09IDEgfHwgc3kgIT09IDEgfHwgc3ogIT09IDEgPyAnc2NhbGUzZCgnICsgc3ggKyAnLCcgKyBzeSArICcsJyArIHN6ICsgJyknIDogJyc7XG5cdCAgdmFyIHJYID0gcm90YXRlWCA/ICdyb3RhdGVYKCcgKyByb3RhdGVYICsgJ2RlZyknIDogJyc7XG5cdCAgdmFyIHJZID0gcm90YXRlWSA/ICdyb3RhdGVZKCcgKyByb3RhdGVZICsgJ2RlZyknIDogJyc7XG5cdCAgdmFyIHBlciA9IHBlcnNwZWN0aXZlID8gJ3BlcnNwZWN0aXZlKCcgKyBwZXJzcGVjdGl2ZSArICdweCknIDogJyc7XG5cdCAgdmFyIHRyYW5zbGF0ZTNkID0gcGVyY2VudCA/IHBlcmNlbnQgKyAnIHRyYW5zbGF0ZTNkKDAsMCwnICsgdHJhbnNsYXRlWiArICdweCknIDogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGVYICsgJ3B4LCcgKyB0cmFuc2xhdGVZICsgJ3B4LCcgKyB0cmFuc2xhdGVaICsgJ3B4KSc7XG5cdCAgcmV0dXJuIHBlciArICcgJyArIHRyYW5zbGF0ZTNkICsgJyAnICsgc3MgKyAnICcgKyBhbiArICcgJyArIHJYICsgJyAnICsgclkgKyAnICcgKyBzaztcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAyNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNTZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMik7XG5cdFxuXHR2YXIgX3JjU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjU2VsZWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdC8vID0+IEl0IGlzIG5lZWRsZXNzIHRvIGV4cG9ydCB0aGUgZGVjbGFyYXRpb24gb2YgYmVsb3cgdHdvIGlubmVyIGNvbXBvbmVudHMuXG5cdC8vIGV4cG9ydCB7IE9wdGlvbiwgT3B0R3JvdXAgfTtcblx0dmFyIFNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU2VsZWN0KCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgU2VsZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuXHQgICAgICAgICAgICBjb21ib2JveCA9IF9wcm9wcy5jb21ib2JveDtcblx0ICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIF9wcm9wczIkbm90Rm91bmRDb250ZSA9IF9wcm9wczIubm90Rm91bmRDb250ZW50LFxuXHQgICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSBfcHJvcHMyJG5vdEZvdW5kQ29udGUgPT09IHVuZGVmaW5lZCA/ICdOb3QgRm91bmQnIDogX3Byb3BzMiRub3RGb3VuZENvbnRlLFxuXHQgICAgICAgICAgICBvcHRpb25MYWJlbFByb3AgPSBfcHJvcHMyLm9wdGlvbkxhYmVsUHJvcDtcblx0XG5cdCAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1sZycsIHNpemUgPT09ICdsYXJnZScpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXNtJywgc2l6ZSA9PT0gJ3NtYWxsJyksIF9jbGFzc05hbWVzKSwgY2xhc3NOYW1lKTtcblx0ICAgICAgICB2YXIgYW50TG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZTtcblx0XG5cdCAgICAgICAgaWYgKGFudExvY2FsZSAmJiBhbnRMb2NhbGUuU2VsZWN0KSB7XG5cdCAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9ICdub3RGb3VuZENvbnRlbnQnIGluIHRoaXMucHJvcHMgPyBub3RGb3VuZENvbnRlbnQgOiBhbnRMb2NhbGUuU2VsZWN0Lm5vdEZvdW5kQ29udGVudDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGNvbWJvYm94KSB7XG5cdCAgICAgICAgICAgIG5vdEZvdW5kQ29udGVudCA9IG51bGw7XG5cdCAgICAgICAgICAgIC8vIGNoaWxkcmVuIOW4piBkb20g57uT5p6E5pe277yM5peg5rOV5aGr5YWl6L6T5YWl5qGGXG5cdCAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcCA9IG9wdGlvbkxhYmVsUHJvcCB8fCAndmFsdWUnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNTZWxlY3QyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnByb3BzLCB7IGNsYXNzTmFtZTogY2xzLCBvcHRpb25MYWJlbFByb3A6IG9wdGlvbkxhYmVsUHJvcCB8fCAnY2hpbGRyZW4nLCBub3RGb3VuZENvbnRlbnQ6IG5vdEZvdW5kQ29udGVudCB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBTZWxlY3Q7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0O1xuXHRcblx0U2VsZWN0Lk9wdGlvbiA9IF9yY1NlbGVjdC5PcHRpb247XG5cdFNlbGVjdC5PcHRHcm91cCA9IF9yY1NlbGVjdC5PcHRHcm91cDtcblx0U2VsZWN0LmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1zZWxlY3QnLFxuXHQgICAgc2hvd1NlYXJjaDogZmFsc2UsXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogJ3NsaWRlLXVwJyxcblx0ICAgIGNob2ljZVRyYW5zaXRpb25OYW1lOiAnem9vbSdcblx0fTtcblx0U2VsZWN0LnByb3BUeXBlcyA9IHtcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc2l6ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnbGFyZ2UnLCAnc21hbGwnXSksXG5cdCAgICBjb21ib2JveDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgbm90Rm91bmRDb250ZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9wdGlvbkxhYmVsUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8hIG1vbWVudC5qc1xuXHQvLyEgdmVyc2lvbiA6IDIuMTcuMVxuXHQvLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuXHQvLyEgbGljZW5zZSA6IE1JVFxuXHQvLyEgbW9tZW50anMuY29tXG5cdFxuXHQ7KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0ICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0ICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdCAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG5cdH0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIGhvb2tDYWxsYmFjaztcblx0XG5cdGZ1bmN0aW9uIGhvb2tzICgpIHtcblx0ICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0fVxuXHRcblx0Ly8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcblx0Ly8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5cdGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcblx0ICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuXHQgICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG5cdCAgICAvLyBpbnB1dCAhPSBudWxsXG5cdCAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcblx0ICAgIHZhciBrO1xuXHQgICAgZm9yIChrIGluIG9iaikge1xuXHQgICAgICAgIC8vIGV2ZW4gaWYgaXRzIG5vdCBvd24gcHJvcGVydHkgSSdkIHN0aWxsIGNhbGwgaXQgbm9uLWVtcHR5XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcblx0ICAgIHZhciByZXMgPSBbXSwgaTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuXHQgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcblx0ICAgIGZvciAodmFyIGkgaW4gYikge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG5cdCAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuXHQgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcblx0ICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcblx0ICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG5cdCAgICAgICAgdW51c2VkVG9rZW5zICAgIDogW10sXG5cdCAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG5cdCAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG5cdCAgICAgICAgY2hhcnNMZWZ0T3ZlciAgIDogMCxcblx0ICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcblx0ICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuXHQgICAgICAgIGludmFsaWRGb3JtYXQgICA6IGZhbHNlLFxuXHQgICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuXHQgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuXHQgICAgICAgIHBhcnNlZERhdGVQYXJ0cyA6IFtdLFxuXHQgICAgICAgIG1lcmlkaWVtICAgICAgICA6IG51bGxcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG5cdCAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuXHQgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG0uX3BmO1xuXHR9XG5cdFxuXHR2YXIgc29tZTtcblx0aWYgKEFycmF5LnByb3RvdHlwZS5zb21lKSB7XG5cdCAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG5cdH0gZWxzZSB7XG5cdCAgICBzb21lID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuXHQgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblx0XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHQgICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIHNvbWUkMSA9IHNvbWU7XG5cdFxuXHRmdW5jdGlvbiBpc1ZhbGlkKG0pIHtcblx0ICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcblx0ICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG5cdCAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuXHQgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG5cdCAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcblx0ICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG5cdCAgICAgICAgICAgICFmbGFncy5udWxsSW5wdXQgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcblx0ICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuXHQgICAgICAgICAgICAoIWZsYWdzLm1lcmlkaWVtIHx8IChmbGFncy5tZXJpZGllbSAmJiBwYXJzZWRQYXJ0cykpO1xuXHRcblx0ICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG5cdCAgICAgICAgICAgIGlzTm93VmFsaWQgPSBpc05vd1ZhbGlkICYmXG5cdCAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG5cdCAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG5cdCAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoT2JqZWN0LmlzRnJvemVuID09IG51bGwgfHwgIU9iamVjdC5pc0Zyb3plbihtKSkge1xuXHQgICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBtLl9pc1ZhbGlkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuXHQgICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcblx0ICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG5cdCAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuXHQgICAgfVxuXHQgICAgZWxzZSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG5cdCAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcblx0fVxuXHRcblx0Ly8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuXHQvLyBzbyB3ZSBjYW4gcHJvcGVybHkgY2xvbmUgb3Vyc2VsdmVzLlxuXHR2YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblx0XG5cdGZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcblx0ICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cdFxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc0FNb21lbnRPYmplY3QpKSB7XG5cdCAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faSkpIHtcblx0ICAgICAgICB0by5faSA9IGZyb20uX2k7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2YpKSB7XG5cdCAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sKSkge1xuXHQgICAgICAgIHRvLl9sID0gZnJvbS5fbDtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fc3RyaWN0KSkge1xuXHQgICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3R6bSkpIHtcblx0ICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuXHQgICAgfVxuXHQgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pc1VUQykpIHtcblx0ICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fb2Zmc2V0KSkge1xuXHQgICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG5cdCAgICB9XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3BmKSkge1xuXHQgICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcblx0ICAgIH1cblx0ICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbG9jYWxlKSkge1xuXHQgICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGZvciAoaSBpbiBtb21lbnRQcm9wZXJ0aWVzKSB7XG5cdCAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xuXHQgICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuXHQgICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcblx0ICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0bztcblx0fVxuXHRcblx0dmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XG5cdC8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5cdGZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcblx0ICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcblx0ICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShOYU4pO1xuXHQgICAgfVxuXHQgICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuXHQgICAgLy8gb2JqZWN0cy5cblx0ICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuXHQgICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuXHQgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzKTtcblx0ICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTW9tZW50IChvYmopIHtcblx0ICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG5cdCAgICBpZiAobnVtYmVyIDwgMCkge1xuXHQgICAgICAgIC8vIC0wIC0+IDBcblx0ICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcikgfHwgMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xuXHQgICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcblx0ICAgICAgICB2YWx1ZSA9IDA7XG5cdFxuXHQgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcblx0ICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0fVxuXHRcblx0Ly8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuXHRmdW5jdGlvbiBjb21wYXJlQXJyYXlzKGFycmF5MSwgYXJyYXkyLCBkb250Q29udmVydCkge1xuXHQgICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuXHQgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG5cdCAgICAgICAgZGlmZnMgPSAwLFxuXHQgICAgICAgIGk7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICBpZiAoKGRvbnRDb252ZXJ0ICYmIGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKSB8fFxuXHQgICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG5cdCAgICAgICAgICAgIGRpZmZzKys7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gd2Fybihtc2cpIHtcblx0ICAgIGlmIChob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPT09IGZhbHNlICYmXG5cdCAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkZXByZWNhdGUobXNnLCBmbikge1xuXHQgICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cdFxuXHQgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG5cdCAgICAgICAgICAgIHZhciBhcmdzID0gW107XG5cdCAgICAgICAgICAgIHZhciBhcmc7XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBhcmcgPSAnJztcblx0ICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzW2ldID09PSAnb2JqZWN0Jykge1xuXHQgICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcblx0ICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSBrZXkgKyAnOiAnICsgYXJndW1lbnRzWzBdW2tleV0gKyAnLCAnO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcblx0ICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfSwgZm4pO1xuXHR9XG5cdFxuXHR2YXIgZGVwcmVjYXRpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG5cdCAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcblx0ICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcblx0ICAgIH1cblx0ICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG5cdCAgICAgICAgd2Fybihtc2cpO1xuXHQgICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG5cdCAgICB9XG5cdH1cblx0XG5cdGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZhbHNlO1xuXHRob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXHRcblx0ZnVuY3Rpb24gaXNGdW5jdGlvbihpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0IChjb25maWcpIHtcblx0ICAgIHZhciBwcm9wLCBpO1xuXHQgICAgZm9yIChpIGluIGNvbmZpZykge1xuXHQgICAgICAgIHByb3AgPSBjb25maWdbaV07XG5cdCAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcblx0ICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuXHQgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG5cdCAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LlxuXHQgICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuXHQgICAgdmFyIHJlcyA9IGV4dGVuZCh7fSwgcGFyZW50Q29uZmlnKSwgcHJvcDtcblx0ICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuXHQgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuXHQgICAgICAgICAgICBpZiAoaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSAmJiBpc09iamVjdChjaGlsZENvbmZpZ1twcm9wXSkpIHtcblx0ICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuXHQgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcblx0ICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIGNoaWxkQ29uZmlnW3Byb3BdKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AocGFyZW50Q29uZmlnLCBwcm9wKSAmJlxuXHQgICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG5cdCAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG5cdCAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgZG9uJ3QgbW9kaWZ5IHBhcmVudCBjb25maWdcblx0ICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcblx0ICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuXHQgICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBrZXlzO1xuXHRcblx0aWYgKE9iamVjdC5rZXlzKSB7XG5cdCAgICBrZXlzID0gT2JqZWN0LmtleXM7XG5cdH0gZWxzZSB7XG5cdCAgICBrZXlzID0gZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgIHZhciBpLCByZXMgPSBbXTtcblx0ICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG5cdCAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKG9iaiwgaSkpIHtcblx0ICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXM7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHR2YXIga2V5cyQxID0ga2V5cztcblx0XG5cdHZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG5cdCAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuXHQgICAgbmV4dERheSA6ICdbVG9tb3Jyb3cgYXRdIExUJyxcblx0ICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG5cdCAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcblx0ICAgIGxhc3RXZWVrIDogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuXHQgICAgc2FtZUVsc2UgOiAnTCdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG5cdCAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcblx0ICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG5cdCAgICBMVFMgIDogJ2g6bW06c3MgQScsXG5cdCAgICBMVCAgIDogJ2g6bW0gQScsXG5cdCAgICBMICAgIDogJ01NL0REL1lZWVknLFxuXHQgICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuXHQgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcblx0ICAgIExMTEwgOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSdcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGxvbmdEYXRlRm9ybWF0IChrZXkpIHtcblx0ICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuXHQgICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXHRcblx0ICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdDtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICByZXR1cm4gdmFsLnNsaWNlKDEpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV07XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblx0XG5cdGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJztcblx0dmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXHRcblx0ZnVuY3Rpb24gb3JkaW5hbCAobnVtYmVyKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuXHQgICAgZnV0dXJlIDogJ2luICVzJyxcblx0ICAgIHBhc3QgICA6ICclcyBhZ28nLFxuXHQgICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG5cdCAgICBtICA6ICdhIG1pbnV0ZScsXG5cdCAgICBtbSA6ICclZCBtaW51dGVzJyxcblx0ICAgIGggIDogJ2FuIGhvdXInLFxuXHQgICAgaGggOiAnJWQgaG91cnMnLFxuXHQgICAgZCAgOiAnYSBkYXknLFxuXHQgICAgZGQgOiAnJWQgZGF5cycsXG5cdCAgICBNICA6ICdhIG1vbnRoJyxcblx0ICAgIE1NIDogJyVkIG1vbnRocycsXG5cdCAgICB5ICA6ICdhIHllYXInLFxuXHQgICAgeXkgOiAnJWQgeWVhcnMnXG5cdH07XG5cdFxuXHRmdW5jdGlvbiByZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuXHQgICAgdmFyIG91dHB1dCA9IHRoaXMuX3JlbGF0aXZlVGltZVtzdHJpbmddO1xuXHQgICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cblx0ICAgICAgICBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSA6XG5cdCAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhc3RGdXR1cmUgKGRpZmYsIG91dHB1dCkge1xuXHQgICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcblx0ICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xuXHR9XG5cdFxuXHR2YXIgYWxpYXNlcyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcblx0ICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG5cdCAgICBhbGlhc2VzW2xvd2VyQ2FzZV0gPSBhbGlhc2VzW2xvd2VyQ2FzZSArICdzJ10gPSBhbGlhc2VzW3Nob3J0aGFuZF0gPSB1bml0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVVbml0cyh1bml0cykge1xuXHQgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuXHQgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuXHQgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuXHQgICAgICAgIHByb3A7XG5cdFxuXHQgICAgZm9yIChwcm9wIGluIGlucHV0T2JqZWN0KSB7XG5cdCAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG5cdCAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG5cdCAgICAgICAgICAgIGlmIChub3JtYWxpemVkUHJvcCkge1xuXHQgICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBub3JtYWxpemVkSW5wdXQ7XG5cdH1cblx0XG5cdHZhciBwcmlvcml0aWVzID0ge307XG5cdFxuXHRmdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcblx0ICAgIHByaW9yaXRpZXNbdW5pdF0gPSBwcmlvcml0eTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0c09iaikge1xuXHQgICAgdmFyIHVuaXRzID0gW107XG5cdCAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG5cdCAgICAgICAgdW5pdHMucHVzaCh7dW5pdDogdSwgcHJpb3JpdHk6IHByaW9yaXRpZXNbdV19KTtcblx0ICAgIH1cblx0ICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiB1bml0cztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUdldFNldCAodW5pdCwga2VlcFRpbWUpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG5cdCAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0IChtb20sIHVuaXQpIHtcblx0ICAgIHJldHVybiBtb20uaXNWYWxpZCgpID9cblx0ICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcblx0ICAgIGlmIChtb20uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gc3RyaW5nR2V0ICh1bml0cykge1xuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpc1t1bml0c10oKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gc3RyaW5nU2V0ICh1bml0cywgdmFsdWUpIHtcblx0ICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG5cdCAgICAgICAgdmFyIHByaW9yaXRpemVkID0gZ2V0UHJpb3JpdGl6ZWRVbml0cyh1bml0cyk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICB0aGlzW3ByaW9yaXRpemVkW2ldLnVuaXRdKHVuaXRzW3ByaW9yaXRpemVkW2ldLnVuaXRdKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG5cdCAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuXHQgICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcblx0ICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG5cdCAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG5cdCAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgKyBhYnNOdW1iZXI7XG5cdH1cblx0XG5cdHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblx0XG5cdHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXHRcblx0dmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXHRcblx0dmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cdFxuXHQvLyB0b2tlbjogICAgJ00nXG5cdC8vIHBhZGRlZDogICBbJ01NJywgMl1cblx0Ly8gb3JkaW5hbDogICdNbydcblx0Ly8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5cdGZ1bmN0aW9uIGFkZEZvcm1hdFRva2VuICh0b2tlbiwgcGFkZGVkLCBvcmRpbmFsLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcblx0ICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgZnVuYyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGlmICh0b2tlbikge1xuXHQgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG5cdCAgICB9XG5cdCAgICBpZiAocGFkZGVkKSB7XG5cdCAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHplcm9GaWxsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgcGFkZGVkWzFdLCBwYWRkZWRbMl0pO1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBpZiAob3JkaW5hbCkge1xuXHQgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG5cdCAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuXHQgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cdFxuXHQgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dKSB7XG5cdCAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGFycmF5W2ldID0gcmVtb3ZlRm9ybWF0dGluZ1Rva2VucyhhcnJheVtpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG5cdCAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHQgICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBvdXRwdXQ7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3Rcblx0ZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuXHQgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcblx0ICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cdFxuXHQgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcblx0ICAgIHZhciBpID0gNTtcblx0XG5cdCAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcblx0ICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcblx0ICAgIH1cblx0XG5cdCAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcblx0ICAgIHdoaWxlIChpID49IDAgJiYgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLnRlc3QoZm9ybWF0KSkge1xuXHQgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcblx0ICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcblx0ICAgICAgICBpIC09IDE7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZvcm1hdDtcblx0fVxuXHRcblx0dmFyIG1hdGNoMSAgICAgICAgID0gL1xcZC87ICAgICAgICAgICAgLy8gICAgICAgMCAtIDlcblx0dmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxuXHR2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG5cdHZhciBtYXRjaDQgICAgICAgICA9IC9cXGR7NH0vOyAgICAgICAgIC8vICAgIDAwMDAgLSA5OTk5XG5cdHZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcblx0dmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxuXHR2YXIgbWF0Y2gzdG80ICAgICAgPSAvXFxkXFxkXFxkXFxkPy87ICAgICAvLyAgICAgOTk5IC0gOTk5OVxuXHR2YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcblx0dmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxuXHR2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuXHR2YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cdFxuXHR2YXIgbWF0Y2hVbnNpZ25lZCAgPSAvXFxkKy87ICAgICAgICAgICAvLyAgICAgICAwIC0gaW5mXG5cdHZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblx0XG5cdHZhciBtYXRjaE9mZnNldCAgICA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naTsgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cdHZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cdFxuXHR2YXIgbWF0Y2hUaW1lc3RhbXAgPSAvWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vOyAvLyAxMjM0NTY3ODkgMTIzNDU2Nzg5LjEyM1xuXHRcblx0Ly8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG5cdC8vIGluY2x1ZGVzIHNjb3R0aXNoIGdhZWxpYyB0d28gd29yZCBhbmQgaHlwaGVuYXRlZCBtb250aHNcblx0dmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXHRcblx0XG5cdHZhciByZWdleGVzID0ge307XG5cdFxuXHRmdW5jdGlvbiBhZGRSZWdleFRva2VuICh0b2tlbiwgcmVnZXgsIHN0cmljdFJlZ2V4KSB7XG5cdCAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcblx0ICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcblx0ICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuXHR9XG5cdFxuXHQvLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5cdGZ1bmN0aW9uIHVuZXNjYXBlRm9ybWF0KHMpIHtcblx0ICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcblx0ICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG5cdCAgICB9KSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlZ2V4RXNjYXBlKHMpIHtcblx0ICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuXHR9XG5cdFxuXHR2YXIgdG9rZW5zID0ge307XG5cdFxuXHRmdW5jdGlvbiBhZGRQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcblx0ICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG5cdCAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHRva2VuID0gW3Rva2VuXTtcblx0ICAgIH1cblx0ICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcblx0ICAgICAgICBmdW5jID0gZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRXZWVrUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG5cdCAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG5cdCAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuXHQgICAgICAgIGNhbGxiYWNrKGlucHV0LCBjb25maWcuX3csIGNvbmZpZywgdG9rZW4pO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG5cdCAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIFlFQVIgPSAwO1xuXHR2YXIgTU9OVEggPSAxO1xuXHR2YXIgREFURSA9IDI7XG5cdHZhciBIT1VSID0gMztcblx0dmFyIE1JTlVURSA9IDQ7XG5cdHZhciBTRUNPTkQgPSA1O1xuXHR2YXIgTUlMTElTRUNPTkQgPSA2O1xuXHR2YXIgV0VFSyA9IDc7XG5cdHZhciBXRUVLREFZID0gODtcblx0XG5cdHZhciBpbmRleE9mO1xuXHRcblx0aWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG5cdCAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG5cdH0gZWxzZSB7XG5cdCAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcblx0ICAgICAgICAvLyBJIGtub3dcblx0ICAgICAgICB2YXIgaTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfTtcblx0fVxuXHRcblx0dmFyIGluZGV4T2YkMSA9IGluZGV4T2Y7XG5cdFxuXHRmdW5jdGlvbiBkYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuXHQgICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoICsgMSwgMCkpLmdldFVUQ0RhdGUoKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ21vbnRoJywgOCk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignTU1NJywgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0YWRkUmVnZXhUb2tlbignTU1NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xuXHR9KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcblx0ICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuXHQgICAgaWYgKG1vbnRoICE9IG51bGwpIHtcblx0ICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0dmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG5cdHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG5cdGZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG5cdCAgICBpZiAoIW0pIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcblx0ICAgICAgICB0aGlzLl9tb250aHNbKHRoaXMuX21vbnRocy5pc0Zvcm1hdCB8fCBNT05USFNfSU5fRk9STUFUKS50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuXHQgICAgaWYgKCFtKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG5cdCAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuXHQgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuXHQgICAgICAgIC8vIHRoaXMgaXMgbm90IHVzZWRcblx0ICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcblx0ICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuXHQgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN0cmljdCkge1xuXHQgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXHRcblx0ICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG5cdCAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlLmNhbGwodGhpcywgbW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuXHQgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG5cdCAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG5cdCAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG5cdCAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2Vcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdCAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG5cdCAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcblx0ICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcblx0ICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcblx0ICAgIHZhciBkYXlPZk1vbnRoO1xuXHRcblx0ICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIC8vIE5vIG9wXG5cdCAgICAgICAgcmV0dXJuIG1vbTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuXHQgICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuXHQgICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcblx0ICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG5cdCAgICByZXR1cm4gbW9tO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuXHQgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0RGF5c0luTW9udGggKCkge1xuXHQgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG5cdCAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpc1N0cmljdCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuXHQgICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG5cdGZ1bmN0aW9uIG1vbnRoc1JlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG5cdCAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzUmVnZXg7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG5cdCAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuXHQgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG5cdCAgICAgICAgaSwgbW9tO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0ICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcblx0ICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuXHQgICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcblx0ICAgIH1cblx0ICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcblx0ICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cblx0ICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0ICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcblx0ICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG5cdCAgICB9XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuXHQgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuXHQgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xuXHQgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcblx0ICAgIHJldHVybiB5IDw9IDk5OTkgPyAnJyArIHkgOiAnKycgKyB5O1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVlZJywgNiwgdHJ1ZV0sIDAsICd5ZWFyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXHRcblx0Ly8gUFJJT1JJVElFU1xuXHRcblx0YWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuXHRhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydZWVlZWScsICdZWVlZWVknXSwgWUVBUik7XG5cdGFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdGZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuXHQgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuXHQgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xuXHR9XG5cdFxuXHQvLyBIT09LU1xuXHRcblx0aG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcblx0ICAgIHJldHVybiB0b0ludChpbnB1dCkgKyAodG9JbnQoaW5wdXQpID4gNjggPyAxOTAwIDogMjAwMCk7XG5cdH07XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cdFxuXHRmdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcblx0ICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcblx0ICAgIC8vY2FuJ3QganVzdCBhcHBseSgpIHRvIGNyZWF0ZSBhIGRhdGU6XG5cdCAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuXHQgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cdFxuXHQgICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcblx0ICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG5cdCAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBkYXRlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG5cdCAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuXHRcblx0ICAgIC8vdGhlIERhdGUuVVRDIGZ1bmN0aW9uIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuXHQgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcblx0ICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGRhdGU7XG5cdH1cblx0XG5cdC8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG5cdGZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuXHQgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuXHQgICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG5cdCAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuXHQgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblx0XG5cdCAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcblx0fVxuXHRcblx0Ly9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5cdGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuXHQgICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuXHQgICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuXHQgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG5cdCAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXHRcblx0ICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuXHQgICAgICAgIHJlc1llYXIgPSB5ZWFyIC0gMTtcblx0ICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuXHQgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG5cdCAgICAgICAgcmVzWWVhciA9IHllYXIgKyAxO1xuXHQgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc1llYXIgPSB5ZWFyO1xuXHQgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHllYXI6IHJlc1llYXIsXG5cdCAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuXHQgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuXHQgICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG5cdCAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblx0XG5cdCAgICBpZiAod2VlayA8IDEpIHtcblx0ICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG5cdCAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG5cdCAgICB9IGVsc2UgaWYgKHdlZWsgPiB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSkpIHtcblx0ICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcblx0ICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuXHQgICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgd2VlazogcmVzV2Vlayxcblx0ICAgICAgICB5ZWFyOiByZXNZZWFyXG5cdCAgICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuXHQgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuXHQgICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG5cdCAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5cdGFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcblx0YWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblx0XG5cdC8vIFBSSU9SSVRJRVNcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWsnLCA1KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdFxuXHRhZGRXZWVrUGFyc2VUb2tlbihbJ3cnLCAnd3cnLCAnVycsICdXVyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHQvLyBMT0NBTEVTXG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcblx0ICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWsgPSB7XG5cdCAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cblx0ICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cblx0fTtcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xuXHR9XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuXHQgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuXHQgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2RkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcblx0ICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG5cdCAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG5cdGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcblx0YWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTtcblx0YWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdGFkZFVuaXRQcmlvcml0eSgnZGF5JywgMTEpO1xuXHRhZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5cdGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignRScsICAgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuXHQgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcblx0fSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xuXHR9KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG5cdCAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcblx0ICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcblx0ICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuXHQgICAgfVxuXHR9KTtcblx0XG5cdGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuXSA9IHRvSW50KGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHRmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuXHQgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQ7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFpc05hTihpbnB1dCkpIHtcblx0ICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dCA9IGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KTtcblx0ICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgcmV0dXJuIGlucHV0O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuXHQgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpICUgNyB8fCA3O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcblx0fVxuXHRcblx0Ly8gTE9DQUxFU1xuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0sIGZvcm1hdCkge1xuXHQgICAgaWYgKCFtKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fd2Vla2RheXMpID8gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV0gOlxuXHQgICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcblx0ZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkge1xuXHQgICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluID0gJ1N1X01vX1R1X1dlX1RoX0ZyX1NhJy5zcGxpdCgnXycpO1xuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuXHQgICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG5cdCAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuXHQgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cdFxuXHQgICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcblx0ICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuXHQgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHN0cmljdCkge1xuXHQgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcblx0ICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpaTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuXHQgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG5cdCAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcblx0ICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXHRcblx0ICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcblx0ICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG5cdCAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcblx0ICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblx0XG5cdCAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuXHQgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldKSB7XG5cdCAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuXHQgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcblx0ICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG5cdCAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcblx0ICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZCcgJiYgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0RGF5T2ZXZWVrIChpbnB1dCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0ICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuXHQgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcblx0ICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGRheTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcblx0ICAgIH1cblx0ICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWtkYXkgOiB0aGlzLmFkZChpbnB1dCAtIHdlZWtkYXksICdkJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuXHQgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcblx0ICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblx0XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcblx0ZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4ID0gbWF0Y2hXb3JkO1xuXHRmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuXHQgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuXHQgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuXHQgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoaXNTdHJpY3QpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcblx0ICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG5cdCAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuXHQgICAgfVxuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UgKCkge1xuXHQgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcblx0ICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcblx0ICAgICAgICBpLCBtb20sIG1pbnAsIHNob3J0cCwgbG9uZ3A7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG5cdCAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cdCAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuXHQgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuXHQgICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcblx0ICAgICAgICBsb25ncCA9IHRoaXMud2Vla2RheXMobW9tLCAnJyk7XG5cdCAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG5cdCAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuXHQgICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcblx0ICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG5cdCAgICB9XG5cdCAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcblx0ICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cblx0ICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG5cdCAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcblx0ICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG5cdCAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0ICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cdCAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblx0XG5cdCAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG5cdCAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0ZnVuY3Rpb24gaEZvcm1hdCgpIHtcblx0ICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcblx0fVxuXHRcblx0ZnVuY3Rpb24ga0Zvcm1hdCgpIHtcblx0ICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG5cdH1cblx0XG5cdGFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuXHRhZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5cdGFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuXHQgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuXHR9KTtcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG5cdCAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG5cdCAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xuXHQgICAgfSk7XG5cdH1cblx0XG5cdG1lcmlkaWVtKCdhJywgdHJ1ZSk7XG5cdG1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdGFkZFVuaXRQcmlvcml0eSgnaG91cicsIDEzKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG5cdH1cblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcblx0YWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdFxuXHRhZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xuXHRhZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcblx0XG5cdGFkZFBhcnNlVG9rZW4oWydIJywgJ0hIJ10sIEhPVVIpO1xuXHRhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG5cdCAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuXHQgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG5cdH0pO1xuXHRhZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuXHQgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuXHQgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG5cdCAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuXHR9KTtcblx0YWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcblx0ICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuXHQgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ0htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG5cdCAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG5cdCAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG5cdCAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcblx0ICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuXHR9KTtcblx0XG5cdC8vIExPQ0FMRVNcblx0XG5cdGZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG5cdCAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG5cdCAgICAvLyBVc2luZyBjaGFyQXQgc2hvdWxkIGJlIG1vcmUgY29tcGF0aWJsZS5cblx0ICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xuXHR9XG5cdFxuXHR2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcblx0ZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG5cdCAgICBpZiAoaG91cnMgPiAxMSkge1xuXHQgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ2FtJyA6ICdBTSc7XG5cdCAgICB9XG5cdH1cblx0XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHQvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcblx0Ly8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgaGUgd2FudHMuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuXHQvLyBhIG5ldyB0aW1lem9uZSkgbWFrZXMgc2Vuc2UuIEFkZGluZy9zdWJ0cmFjdGluZyBob3VycyBkb2VzIG5vdCBmb2xsb3dcblx0Ly8gdGhpcyBydWxlLlxuXHR2YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cdFxuXHQvLyBtb250aHNcblx0Ly8gd2Vla1xuXHQvLyB3ZWVrZGF5c1xuXHQvLyBtZXJpZGllbVxuXHR2YXIgYmFzZUNvbmZpZyA9IHtcblx0ICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG5cdCAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuXHQgICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcblx0ICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuXHQgICAgb3JkaW5hbFBhcnNlOiBkZWZhdWx0T3JkaW5hbFBhcnNlLFxuXHQgICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXHRcblx0ICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcblx0ICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cdFxuXHQgICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cdFxuXHQgICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcblx0ICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG5cdCAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblx0XG5cdCAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxuXHR9O1xuXHRcblx0Ly8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xuXHR2YXIgbG9jYWxlcyA9IHt9O1xuXHR2YXIgbG9jYWxlRmFtaWxpZXMgPSB7fTtcblx0dmFyIGdsb2JhbExvY2FsZTtcblx0XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcblx0ICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcblx0fVxuXHRcblx0Ly8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG5cdC8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG5cdC8vIHN1YnN0cmluZyBmcm9tIG1vc3Qgc3BlY2lmaWMgdG8gbGVhc3QsIGJ1dCBtb3ZlIHRvIHRoZSBuZXh0IGFycmF5IGl0ZW0gaWYgaXQncyBhIG1vcmUgc3BlY2lmaWMgdmFyaWFudCB0aGFuIHRoZSBjdXJyZW50IHJvb3Rcblx0ZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG5cdCAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cdFxuXHQgICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcblx0ICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcblx0ICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuXHQgICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcblx0ICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG5cdCAgICAgICAgd2hpbGUgKGogPiAwKSB7XG5cdCAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcblx0ICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG5cdCAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBqLS07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGkrKztcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcblx0ICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuXHQgICAgLy8gVE9ETzogRmluZCBhIGJldHRlciB3YXkgdG8gcmVnaXN0ZXIgYW5kIGxvYWQgYWxsIHRoZSBsb2NhbGVzIGluIE5vZGVcblx0ICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG5cdCAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcblx0ICAgICAgICAgICAgcmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuXHQgICAgICAgICAgICAvLyBiZWNhdXNlIGRlZmluZUxvY2FsZSBjdXJyZW50bHkgYWxzbyBzZXRzIHRoZSBnbG9iYWwgbG9jYWxlLCB3ZVxuXHQgICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuXHQgICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7IH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuXHR9XG5cdFxuXHQvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcblx0Ly8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcblx0Ly8gbG9jYWxlIGtleS5cblx0ZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuXHQgICAgdmFyIGRhdGE7XG5cdCAgICBpZiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcblx0ICAgICAgICAgICAgZGF0YSA9IGdldExvY2FsZShrZXkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZGF0YSkge1xuXHQgICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcblx0ICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGdsb2JhbExvY2FsZS5fYWJicjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcblx0ICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcblx0ICAgICAgICB2YXIgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcblx0ICAgICAgICBjb25maWcuYWJiciA9IG5hbWU7XG5cdCAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcblx0ICAgICAgICAgICAgICAgICAgICAndXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcblx0ICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uJyk7XG5cdCAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcblx0ICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBpZiAobG9jYWxlc1tjb25maWcucGFyZW50TG9jYWxlXSAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLnB1c2goe1xuXHQgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cdFxuXHQgICAgICAgIGlmIChsb2NhbGVGYW1pbGllc1tuYW1lXSkge1xuXHQgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG5cdCAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG5cdCAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuXHQgICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuXHQgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblx0XG5cdFxuXHQgICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3Rpbmdcblx0ICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuXHQgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG5cdCAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcblx0ICAgICAgICAvLyBNRVJHRVxuXHQgICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBjb25maWcgPSBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpO1xuXHQgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcblx0ICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcblx0ICAgICAgICBsb2NhbGVzW25hbWVdID0gbG9jYWxlO1xuXHRcblx0ICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcblx0ICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG5cdCAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcblx0fVxuXHRcblx0Ly8gcmV0dXJucyBsb2NhbGUgZGF0YVxuXHRmdW5jdGlvbiBnZXRMb2NhbGUgKGtleSkge1xuXHQgICAgdmFyIGxvY2FsZTtcblx0XG5cdCAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG5cdCAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCFrZXkpIHtcblx0ICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmICghaXNBcnJheShrZXkpKSB7XG5cdCAgICAgICAgLy9zaG9ydC1jaXJjdWl0IGV2ZXJ5dGhpbmcgZWxzZVxuXHQgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcblx0ICAgICAgICBpZiAobG9jYWxlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGtleSA9IFtrZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG5cdCAgICByZXR1cm4ga2V5cyQxKGxvY2FsZXMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaGVja092ZXJmbG93IChtKSB7XG5cdCAgICB2YXIgb3ZlcmZsb3c7XG5cdCAgICB2YXIgYSA9IG0uX2E7XG5cdFxuXHQgICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuXHQgICAgICAgIG92ZXJmbG93ID1cblx0ICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuXHQgICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcblx0ICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcblx0ICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcblx0ICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcblx0ICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuXHQgICAgICAgICAgICAtMTtcblx0XG5cdCAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG5cdCAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG5cdCAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFS0RBWTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9IG92ZXJmbG93O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBtO1xuXHR9XG5cdFxuXHQvLyBpc28gODYwMSByZWdleFxuXHQvLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcblx0dmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cdHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblx0XG5cdHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXHRcblx0dmFyIGlzb0RhdGVzID0gW1xuXHQgICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG5cdCAgICBbJ1lZWVktTU0tREQnLCAvXFxkezR9LVxcZFxcZC1cXGRcXGQvXSxcblx0ICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuXHQgICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuXHQgICAgWydZWVlZLURERCcsIC9cXGR7NH0tXFxkezN9L10sXG5cdCAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcblx0ICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuXHQgICAgWydZWVlZTU1ERCcsIC9cXGR7OH0vXSxcblx0ICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcblx0ICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG5cdCAgICBbJ0dHR0dbV11XVycsIC9cXGR7NH1XXFxkezJ9LywgZmFsc2VdLFxuXHQgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG5cdF07XG5cdFxuXHQvLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG5cdHZhciBpc29UaW1lcyA9IFtcblx0ICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcblx0ICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG5cdCAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG5cdCAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcblx0ICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuXHQgICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuXHQgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG5cdCAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG5cdCAgICBbJ0hIJywgL1xcZFxcZC9dXG5cdF07XG5cdFxuXHR2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblx0XG5cdC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG5cdCAgICB2YXIgaSwgbCxcblx0ICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG5cdCAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcblx0ICAgICAgICBhbGxvd1RpbWUsIGRhdGVGb3JtYXQsIHRpbWVGb3JtYXQsIHR6Rm9ybWF0O1xuXHRcblx0ICAgIGlmIChtYXRjaCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cdFxuXHQgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0ICAgICAgICAgICAgaWYgKGlzb0RhdGVzW2ldWzFdLmV4ZWMobWF0Y2hbMV0pKSB7XG5cdCAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG5cdCAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBudWxsKSB7XG5cdCAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChtYXRjaFszXSkge1xuXHQgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNvVGltZXNbaV1bMV0uZXhlYyhtYXRjaFszXSkpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG5cdCAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRpbWVGb3JtYXQgPT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChtYXRjaFs0XSkge1xuXHQgICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuXHQgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuXHRmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuXHQgICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXHRcblx0ICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG5cdCAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuXHQgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG5cdCAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0aG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG5cdCAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcblx0ICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBJU08gZGF0ZSBmb3JtYXRzIGFyZSAnICtcblx0ICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcblx0ICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcblx0ICAgIGZ1bmN0aW9uIChjb25maWcpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuXHQgICAgfVxuXHQpO1xuXHRcblx0Ly8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuXHRmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG5cdCAgICBpZiAoYSAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGE7XG5cdCAgICB9XG5cdCAgICBpZiAoYiAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcblx0ICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG5cdCAgICB2YXIgbm93VmFsdWUgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG5cdCAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcblx0ICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG5cdH1cblx0XG5cdC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuXHQvLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuXHQvLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cblx0Ly8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5cdGZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheSAoY29uZmlnKSB7XG5cdCAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIHllYXJUb1VzZTtcblx0XG5cdCAgICBpZiAoY29uZmlnLl9kKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXHRcblx0ICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcblx0ICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG5cdCAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG5cdCAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcblx0ICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblx0XG5cdCAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpKSB7XG5cdCAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd0RheU9mWWVhciA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcblx0ICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuXHQgICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuXHQgICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxuXHQgICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcblx0ICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG5cdCAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcblx0ICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuXHQgICAgZm9yICg7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG5cdCAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuXHQgICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuXHQgICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuXHQgICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG5cdCAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcblx0ICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuXHQgICAgfVxuXHRcblx0ICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG5cdCAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcblx0ICAgIC8vIHdpdGggcGFyc2Vab25lLlxuXHQgICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcblx0ICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjb25maWcuX25leHREYXkpIHtcblx0ICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuXHQgICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXHRcblx0ICAgIHcgPSBjb25maWcuX3c7XG5cdCAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7XG5cdCAgICAgICAgZG93ID0gMTtcblx0ICAgICAgICBkb3kgPSA0O1xuXHRcblx0ICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIHRha2UgdGhlIGN1cnJlbnQgaXNvV2Vla1llYXIsIGJ1dCB0aGF0IGRlcGVuZHMgb25cblx0ICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG5cdCAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcblx0ICAgICAgICAvLyBjcmVhdGUgbm93KS5cblx0ICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcblx0ICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcblx0ICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcblx0ICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcblx0ICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcblx0ICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cdFxuXHQgICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cdFxuXHQgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXHRcblx0ICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgd2Vlay5cblx0ICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXHRcblx0ICAgICAgICBpZiAody5kICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG5cdCAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG5cdCAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMCB8fCB3ZWVrZGF5ID4gNikge1xuXHQgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAody5lICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG5cdCAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG5cdCAgICAgICAgICAgIGlmICh3LmUgPCAwIHx8IHcuZSA+IDYpIHtcblx0ICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcblx0ICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrcyA9IHRydWU7XG5cdCAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcblx0ICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG5cdCAgICAgICAgY29uZmlnLl9kYXlPZlllYXIgPSB0ZW1wLmRheU9mWWVhcjtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuXHRob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcblx0Ly8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuXHRmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuXHQgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcblx0ICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLklTT184NjAxKSB7XG5cdCAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBjb25maWcuX2EgPSBbXTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblx0XG5cdCAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuXHQgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuXHQgICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuXHQgICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdCAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cdFxuXHQgICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblx0ICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG5cdCAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuXHQgICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcblx0ICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcblx0ICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcblx0ICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcblx0ICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cblx0ICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG5cdCAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuXHQgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuXHQgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuXHQgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG5cdCAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG5cdCAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuXHQgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHRcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcblx0ICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcblx0ICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuXHQgICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pO1xuXHRcblx0ICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuXHQgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG5cdCAgICB2YXIgaXNQbTtcblx0XG5cdCAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuXHQgICAgICAgIC8vIG5vdGhpbmcgdG8gZG9cblx0ICAgICAgICByZXR1cm4gaG91cjtcblx0ICAgIH1cblx0ICAgIGlmIChsb2NhbGUubWVyaWRpZW1Ib3VyICE9IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG5cdCAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcblx0ICAgICAgICAvLyBGYWxsYmFja1xuXHQgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG5cdCAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG5cdCAgICAgICAgICAgIGhvdXIgKz0gMTI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuXHQgICAgICAgICAgICBob3VyID0gMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuXHQgICAgICAgIHJldHVybiBob3VyO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuXHRmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG5cdCAgICB2YXIgdGVtcENvbmZpZyxcblx0ICAgICAgICBiZXN0TW9tZW50LFxuXHRcblx0ICAgICAgICBzY29yZVRvQmVhdCxcblx0ICAgICAgICBpLFxuXHQgICAgICAgIGN1cnJlbnRTY29yZTtcblx0XG5cdCAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuXHQgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuXHQgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cdFxuXHQgICAgICAgIGlmICghaXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG5cdCAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXHRcblx0ICAgICAgICAvL29yIHRva2Vuc1xuXHQgICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXHRcblx0ICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cdFxuXHQgICAgICAgIGlmIChzY29yZVRvQmVhdCA9PSBudWxsIHx8IGN1cnJlbnRTY29yZSA8IHNjb3JlVG9CZWF0KSB7XG5cdCAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuXHQgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcblx0ICAgIGlmIChjb25maWcuX2QpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuXHQgICAgY29uZmlnLl9hID0gbWFwKFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdLCBmdW5jdGlvbiAob2JqKSB7XG5cdCAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHtcblx0ICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG5cdCAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG5cdCAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG5cdCAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuXHQgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcblx0ICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcblx0ICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cdFxuXHQgICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblx0XG5cdCAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQoY2hlY2tPdmVyZmxvdyhpbnB1dCkpO1xuXHQgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG5cdCAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG5cdCAgICB9IGVsc2UgaWYgKGlzQXJyYXkoZm9ybWF0KSkge1xuXHQgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuXHQgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcblx0ICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG5cdCAgICB9ICBlbHNlIHtcblx0ICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGNvbmZpZztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY29uZmlnRnJvbUlucHV0KGNvbmZpZykge1xuXHQgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuXHQgICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG5cdCAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcblx0ICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuXHQgICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuXHQgICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuXHQgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG5cdCAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7XG5cdCAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuXHQgICAgfSBlbHNlIGlmIChpc051bWJlcihpbnB1dCkpIHtcblx0ICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuXHQgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG5cdCAgICB2YXIgYyA9IHt9O1xuXHRcblx0ICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuXHQgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcblx0ICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG5cdCAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG5cdCAgICAgICAgaW5wdXQgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cblx0ICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDIzXG5cdCAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuXHQgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcblx0ICAgIGMuX2wgPSBsb2NhbGU7XG5cdCAgICBjLl9pID0gaW5wdXQ7XG5cdCAgICBjLl9mID0gZm9ybWF0O1xuXHQgICAgYy5fc3RyaWN0ID0gc3RyaWN0O1xuXHRcblx0ICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcblx0ICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG5cdH1cblx0XG5cdHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG5cdCAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuXHQgICAgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQpO1xuXHRcblx0dmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcblx0ICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG5cdCAgICBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcblx0ICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCk7XG5cdFxuXHQvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuXHQvLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG5cdC8vXG5cdC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2Vcblx0Ly8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cblx0ZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG5cdCAgICB2YXIgcmVzLCBpO1xuXHQgICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcblx0ICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcblx0ICAgIH1cblx0ICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcblx0ICAgIH1cblx0ICAgIHJlcyA9IG1vbWVudHNbMF07XG5cdCAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuXHQgICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdC8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG5cdGZ1bmN0aW9uIG1pbiAoKSB7XG5cdCAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblx0XG5cdCAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYXggKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cdFxuXHQgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuXHR9XG5cdFxuXHR2YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIERhdGUubm93ID8gRGF0ZS5ub3coKSA6ICsobmV3IERhdGUoKSk7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcblx0ICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG5cdCAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuXHQgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcblx0ICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcblx0ICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IDAsXG5cdCAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcblx0ICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG5cdCAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcblx0ICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuXHQgICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXHRcblx0ICAgIC8vIHJlcHJlc2VudGF0aW9uIGZvciBkYXRlQWRkUmVtb3ZlXG5cdCAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcblx0ICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuXHQgICAgICAgIG1pbnV0ZXMgKiA2ZTQgKyAvLyAxMDAwICogNjBcblx0ICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5Nzhcblx0ICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuXHQgICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseVxuXHQgICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcblx0ICAgICAgICB3ZWVrcyAqIDc7XG5cdCAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuXHQgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcblx0ICAgIC8vIGl0IHNlcGFyYXRlbHkuXG5cdCAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICtcblx0ICAgICAgICBxdWFydGVycyAqIDMgK1xuXHQgICAgICAgIHllYXJzICogMTI7XG5cdFxuXHQgICAgdGhpcy5fZGF0YSA9IHt9O1xuXHRcblx0ICAgIHRoaXMuX2xvY2FsZSA9IGdldExvY2FsZSgpO1xuXHRcblx0ICAgIHRoaXMuX2J1YmJsZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0R1cmF0aW9uIChvYmopIHtcblx0ICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuXHQgICAgaWYgKG51bWJlciA8IDApIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0ZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG5cdCAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuXHQgICAgICAgIHZhciBzaWduID0gJysnO1xuXHQgICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG5cdCAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG5cdCAgICAgICAgICAgIHNpZ24gPSAnLSc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0b2Zmc2V0KCdaJywgJzonKTtcblx0b2Zmc2V0KCdaWicsICcnKTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5cdGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuXHQgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuXHQgICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcblx0fSk7XG5cdFxuXHQvLyBIRUxQRVJTXG5cdFxuXHQvLyB0aW1lem9uZSBjaHVua2VyXG5cdC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuXHQvLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cblx0dmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXHRcblx0ZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcblx0ICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cdFxuXHQgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2h1bmsgICA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXSB8fCBbXTtcblx0ICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcblx0ICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblx0XG5cdCAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG5cdCAgICAgIDAgOlxuXHQgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuXHR9XG5cdFxuXHQvLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuXHRmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG5cdCAgICB2YXIgcmVzLCBkaWZmO1xuXHQgICAgaWYgKG1vZGVsLl9pc1VUQykge1xuXHQgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG5cdCAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcblx0ICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG5cdCAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuXHQgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcblx0ICAgICAgICByZXR1cm4gcmVzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcblx0ICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG5cdCAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcblx0ICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcblx0fVxuXHRcblx0Ly8gSE9PS1Ncblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cblx0Ly8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG5cdGhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0Ly8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG5cdC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG5cdC8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcblx0Ly8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuXHQvL1xuXHQvLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcblx0Ly8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG5cdC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cblx0Ly8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG5cdC8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG5cdGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcblx0ICAgICAgICBsb2NhbEFkanVzdDtcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG5cdCAgICB9XG5cdCAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG5cdCAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGlucHV0KSA8IDE2KSB7XG5cdCAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCF0aGlzLl9pc1VUQyAmJiBrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdGhpcy5fb2Zmc2V0ID0gaW5wdXQ7XG5cdCAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuXHQgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHRoaXMuYWRkKGxvY2FsQWRqdXN0LCAnbScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuXHQgICAgICAgICAgICBpZiAoIWtlZXBMb2NhbFRpbWUgfHwgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuXHQgICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcblx0ICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG5cdCAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcblx0ICAgIGlmICh0aGlzLl9pc1VUQykge1xuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuXHQgICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cdFxuXHQgICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuXHQgICAgaWYgKHRoaXMuX3R6bSAhPSBudWxsKSB7XG5cdCAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgdmFyIHRab25lID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSk7XG5cdCAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGlucHV0ID0gaW5wdXQgPyBjcmVhdGVMb2NhbChpbnB1dCkudXRjT2Zmc2V0KCkgOiAwO1xuXHRcblx0ICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG5cdCAgICByZXR1cm4gKFxuXHQgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcblx0ICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG5cdCAgICApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQgKCkge1xuXHQgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYyA9IHt9O1xuXHRcblx0ICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG5cdCAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblx0XG5cdCAgICBpZiAoYy5fYSkge1xuXHQgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG5cdCAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gdGhpcy5pc1ZhbGlkKCkgJiZcblx0ICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNMb2NhbCAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVdGMgKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG5cdH1cblx0XG5cdC8vIEFTUC5ORVQganNvbiBkYXRlIGZvcm1hdCByZWdleFxuXHR2YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXHRcblx0Ly8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcblx0Ly8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuXHQvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG5cdHZhciBpc29SZWdleCA9IC9eKC0pP1AoPzooLT9bMC05LC5dKilZKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilXKT8oPzooLT9bMC05LC5dKilEKT8oPzpUKD86KC0/WzAtOSwuXSopSCk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopUyk/KT8kLztcblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG5cdCAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcblx0ICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuXHQgICAgICAgIG1hdGNoID0gbnVsbCxcblx0ICAgICAgICBzaWduLFxuXHQgICAgICAgIHJldCxcblx0ICAgICAgICBkaWZmUmVzO1xuXHRcblx0ICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuXHQgICAgICAgIGR1cmF0aW9uID0ge1xuXHQgICAgICAgICAgICBtcyA6IGlucHV0Ll9taWxsaXNlY29uZHMsXG5cdCAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG5cdCAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuXHQgICAgICAgIH07XG5cdCAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuXHQgICAgICAgIGR1cmF0aW9uID0ge307XG5cdCAgICAgICAgaWYgKGtleSkge1xuXHQgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuXHQgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG5cdCAgICAgICAgZHVyYXRpb24gPSB7XG5cdCAgICAgICAgICAgIHkgIDogMCxcblx0ICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG5cdCAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcblx0ICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuXHQgICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBpc29SZWdleC5leGVjKGlucHV0KSkpIHtcblx0ICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuXHQgICAgICAgIGR1cmF0aW9uID0ge1xuXHQgICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuXHQgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuXHQgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuXHQgICAgICAgICAgICBkIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuXHQgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuXHQgICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuXHQgICAgICAgICAgICBzIDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG5cdCAgICAgICAgfTtcblx0ICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcblx0ICAgICAgICBkdXJhdGlvbiA9IHt9O1xuXHQgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcblx0ICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cdFxuXHQgICAgICAgIGR1cmF0aW9uID0ge307XG5cdCAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcblx0ICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblx0XG5cdCAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuXHQgICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHRjcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblx0XG5cdGZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcblx0ICAgIC8vIFdlJ2Qgbm9ybWFsbHkgdXNlIH5+aW5wIGZvciB0aGlzLCBidXQgdW5mb3J0dW5hdGVseSBpdCBhbHNvXG5cdCAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cblx0ICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cblx0ICAgIHZhciByZXMgPSBpbnAgJiYgcGFyc2VGbG9hdChpbnAucmVwbGFjZSgnLCcsICcuJykpO1xuXHQgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuXHQgICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG5cdCAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblx0XG5cdCAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG5cdCAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuXHQgICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuXHQgICAgICAgIC0tcmVzLm1vbnRocztcblx0ICAgIH1cblx0XG5cdCAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXHRcblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG5cdCAgICB2YXIgcmVzO1xuXHQgICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXHQgICAgfVxuXHRcblx0ICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcblx0ICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuXHQgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcblx0ICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gLXJlcy5taWxsaXNlY29uZHM7XG5cdCAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXM7XG5cdH1cblx0XG5cdC8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcblx0ZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG5cdCAgICAgICAgdmFyIGR1ciwgdG1wO1xuXHQgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuXHQgICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG5cdCAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCAnbW9tZW50KCkuJyArIG5hbWUgICsgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICsgbmFtZSArICcobnVtYmVyLCBwZXJpb2QpLiAnICtcblx0ICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcblx0ICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gK3ZhbCA6IHZhbDtcblx0ICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG5cdCAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcblx0ICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLFxuXHQgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG5cdCAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cdFxuXHQgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgLy8gTm8gb3Bcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXHRcblx0ICAgIGlmIChtaWxsaXNlY29uZHMpIHtcblx0ICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuXHQgICAgfVxuXHQgICAgaWYgKGRheXMpIHtcblx0ICAgICAgICBzZXQkMShtb20sICdEYXRlJywgZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG5cdCAgICB9XG5cdCAgICBpZiAobW9udGhzKSB7XG5cdCAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcblx0ICAgIH1cblx0ICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcblx0ICAgICAgICBob29rcy51cGRhdGVPZmZzZXQobW9tLCBkYXlzIHx8IG1vbnRocyk7XG5cdCAgICB9XG5cdH1cblx0XG5cdHZhciBhZGQgICAgICA9IGNyZWF0ZUFkZGVyKDEsICdhZGQnKTtcblx0dmFyIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXHRcblx0ZnVuY3Rpb24gZ2V0Q2FsZW5kYXJGb3JtYXQobXlNb21lbnQsIG5vdykge1xuXHQgICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcblx0ICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcblx0ICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcblx0ICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuXHQgICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XG5cdCAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcblx0ICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG5cdCAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cblx0ICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG5cdCAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG5cdCAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXHRcblx0ICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblx0XG5cdCAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjbG9uZSAoKSB7XG5cdCAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuXHQgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcblx0ICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA+IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0JlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG5cdCAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuXHQgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcblx0ICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcblx0ICAgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG5cdCAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG5cdCAgICByZXR1cm4gKGluY2x1c2l2aXR5WzBdID09PSAnKCcgPyB0aGlzLmlzQWZ0ZXIoZnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUoZnJvbSwgdW5pdHMpKSAmJlxuXHQgICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG5cdCAgICAgICAgaW5wdXRNcztcblx0ICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG5cdCAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPT09IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKS52YWx1ZU9mKCkgPD0gaW5wdXRNcyAmJiBpbnB1dE1zIDw9IHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcblx0ICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNCZWZvcmUoaW5wdXQsdW5pdHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkaWZmIChpbnB1dCwgdW5pdHMsIGFzRmxvYXQpIHtcblx0ICAgIHZhciB0aGF0LFxuXHQgICAgICAgIHpvbmVEZWx0YSxcblx0ICAgICAgICBkZWx0YSwgb3V0cHV0O1xuXHRcblx0ICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gTmFOO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoYXQgPSBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIHRoaXMpO1xuXHRcblx0ICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcblx0ICAgICAgICByZXR1cm4gTmFOO1xuXHQgICAgfVxuXHRcblx0ICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cdFxuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdFxuXHQgICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuXHQgICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcblx0ICAgICAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuXHQgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuXHQgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAxMjtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRlbHRhID0gdGhpcyAtIHRoYXQ7XG5cdCAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG5cdCAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG5cdCAgICAgICAgICAgIHVuaXRzID09PSAnaG91cicgPyBkZWx0YSAvIDM2ZTUgOiAvLyAxMDAwICogNjAgKiA2MFxuXHQgICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG5cdCAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3Rcblx0ICAgICAgICAgICAgZGVsdGE7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuXHQgICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcblx0ICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcblx0ICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuXHQgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcblx0ICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cdFxuXHQgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG5cdCAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG5cdCAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcblx0ICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuXHQgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG5cdCAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cblx0ICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xuXHR9XG5cdFxuXHRob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcblx0aG9va3MuZGVmYXVsdEZvcm1hdFV0YyA9ICdZWVlZLU1NLUREVEhIOm1tOnNzW1pdJztcblx0XG5cdGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcblx0ICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9JU09TdHJpbmcgKCkge1xuXHQgICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG5cdCAgICBpZiAoMCA8IG0ueWVhcigpICYmIG0ueWVhcigpIDw9IDk5OTkpIHtcblx0ICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcblx0ICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcblx0ICAgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFJldHVybiBhIGh1bWFuIHJlYWRhYmxlIHJlcHJlc2VudGF0aW9uIG9mIGEgbW9tZW50IHRoYXQgY2FuXG5cdCAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcblx0ICpcblx0ICogQGxpbmsgaHR0cHM6Ly9ub2RlanMub3JnL2Rpc3QvbGF0ZXN0L2RvY3MvYXBpL3V0aWwuaHRtbCN1dGlsX2N1c3RvbV9pbnNwZWN0X2Z1bmN0aW9uX29uX29iamVjdHNcblx0ICovXG5cdGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuXHQgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuXHQgICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG5cdCAgICB9XG5cdCAgICB2YXIgZnVuYyA9ICdtb21lbnQnO1xuXHQgICAgdmFyIHpvbmUgPSAnJztcblx0ICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcblx0ICAgICAgICBmdW5jID0gdGhpcy51dGNPZmZzZXQoKSA9PT0gMCA/ICdtb21lbnQudXRjJyA6ICdtb21lbnQucGFyc2Vab25lJztcblx0ICAgICAgICB6b25lID0gJ1onO1xuXHQgICAgfVxuXHQgICAgdmFyIHByZWZpeCA9ICdbJyArIGZ1bmMgKyAnKFwiXSc7XG5cdCAgICB2YXIgeWVhciA9ICgwIDwgdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcblx0ICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuXHQgICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXHRcblx0ICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XG5cdCAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG5cdCAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcblx0ICAgIH1cblx0ICAgIHZhciBvdXRwdXQgPSBmb3JtYXRNb21lbnQodGhpcywgaW5wdXRTdHJpbmcpO1xuXHQgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuXHQgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG5cdCAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG5cdCAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG5cdCAgICByZXR1cm4gdGhpcy5mcm9tKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuXHQgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG5cdCAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG5cdCAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG5cdCAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuXHQgICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG5cdH1cblx0XG5cdC8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcblx0Ly8gaW5zdGFuY2UuICBPdGhlcndpc2UsIGl0IHdpbGwgcmV0dXJuIHRoZSBsb2NhbGUgY29uZmlndXJhdGlvblxuXHQvLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5cdGZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG5cdCAgICB2YXIgbmV3TG9jYWxlRGF0YTtcblx0XG5cdCAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG5cdCAgICAgICAgaWYgKG5ld0xvY2FsZURhdGEgIT0gbnVsbCkge1xuXHQgICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0fVxuXHRcblx0dmFyIGxhbmcgPSBkZXByZWNhdGUoXG5cdCAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuXHQgICAgZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQpO1xuXHRcblx0ZnVuY3Rpb24gbG9jYWxlRGF0YSAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICAvLyB0aGUgZm9sbG93aW5nIHN3aXRjaCBpbnRlbnRpb25hbGx5IG9taXRzIGJyZWFrIGtleXdvcmRzXG5cdCAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG5cdCAgICBzd2l0Y2ggKHVuaXRzKSB7XG5cdCAgICAgICAgY2FzZSAneWVhcic6XG5cdCAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdxdWFydGVyJzpcblx0ICAgICAgICBjYXNlICdtb250aCc6XG5cdCAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcblx0ICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXHQgICAgICAgIGNhc2UgJ3dlZWsnOlxuXHQgICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuXHQgICAgICAgIGNhc2UgJ2RheSc6XG5cdCAgICAgICAgY2FzZSAnZGF0ZSc6XG5cdCAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG5cdCAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblx0ICAgICAgICBjYXNlICdob3VyJzpcblx0ICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnbWludXRlJzpcblx0ICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuXHQgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG5cdCAgICAgICAgY2FzZSAnc2Vjb25kJzpcblx0ICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG5cdCAgICBpZiAodW5pdHMgPT09ICd3ZWVrJykge1xuXHQgICAgICAgIHRoaXMud2Vla2RheSgwKTtcblx0ICAgIH1cblx0ICAgIGlmICh1bml0cyA9PT0gJ2lzb1dlZWsnKSB7XG5cdCAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcblx0ICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG5cdCAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGVuZE9mICh1bml0cykge1xuXHQgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cdCAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vICdkYXRlJyBpcyBhbiBhbGlhcyBmb3IgJ2RheScsIHNvIGl0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHN1Y2guXG5cdCAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuXHQgICAgICAgIHVuaXRzID0gJ2RheSc7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdmFsdWVPZiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdW5peCAoKSB7XG5cdCAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0b0RhdGUgKCkge1xuXHQgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9BcnJheSAoKSB7XG5cdCAgICB2YXIgbSA9IHRoaXM7XG5cdCAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuXHQgICAgdmFyIG0gPSB0aGlzO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICB5ZWFyczogbS55ZWFyKCksXG5cdCAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG5cdCAgICAgICAgZGF0ZTogbS5kYXRlKCksXG5cdCAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcblx0ICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcblx0ICAgICAgICBzZWNvbmRzOiBtLnNlY29uZHMoKSxcblx0ICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcblx0ICAgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG5cdCAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG5cdCAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1ZhbGlkJDEgKCkge1xuXHQgICAgcmV0dXJuIGlzVmFsaWQodGhpcyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG5cdCAgICByZXR1cm4gZXh0ZW5kKHt9LCBnZXRQYXJzaW5nRmxhZ3ModGhpcykpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xuXHQgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBpbnB1dDogdGhpcy5faSxcblx0ICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG5cdCAgICAgICAgbG9jYWxlOiB0aGlzLl9sb2NhbGUsXG5cdCAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuXHQgICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG5cdCAgICB9O1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4gKHRva2VuLCBnZXR0ZXIpIHtcblx0ICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcblx0fVxuXHRcblx0YWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcblx0YWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcblx0YWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcblx0YWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcblx0YWRkVW5pdEFsaWFzKCdpc29XZWVrWWVhcicsICdHRycpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcblx0YWRkVW5pdFByaW9yaXR5KCdpc29XZWVrWWVhcicsIDEpO1xuXHRcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcblx0YWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuXHRhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG5cdGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblx0YWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG5cdCAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG5cdH0pO1xuXHRcblx0YWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcblx0ICAgIHdlZWtbdG9rZW5dID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcblx0ICAgICAgICAgICAgaW5wdXQsXG5cdCAgICAgICAgICAgIHRoaXMud2VlaygpLFxuXHQgICAgICAgICAgICB0aGlzLndlZWtkYXkoKSxcblx0ICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuXHQgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcblx0ICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG5cdCAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG5cdCAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG5cdCAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlaztcblx0ICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcblx0ICAgIHZhciB3ZWVrc1RhcmdldDtcblx0ICAgIGlmIChpbnB1dCA9PSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHdlZWtzVGFyZ2V0ID0gd2Vla3NJblllYXIoaW5wdXQsIGRvdywgZG95KTtcblx0ICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG5cdCAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRXZWVrQWxsKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuXHQgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcblx0ICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblx0XG5cdCAgICB0aGlzLnllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpKTtcblx0ICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcblx0ICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAnUW8nLCAncXVhcnRlcicpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdFxuXHRhZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblx0XG5cdC8vIFBBUlNJTkdcblx0XG5cdGFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuXHRhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuXHQgICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcblx0fSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHRmdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuXHR9XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbignRCcsIFsnREQnLCAyXSwgJ0RvJywgJ2RhdGUnKTtcblx0XG5cdC8vIEFMSUFTRVNcblx0XG5cdGFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cdFxuXHQvLyBQUklPUk9JVFlcblx0YWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG5cdCAgICByZXR1cm4gaXNTdHJpY3QgPyBsb2NhbGUuX29yZGluYWxQYXJzZSA6IGxvY2FsZS5fb3JkaW5hbFBhcnNlTGVuaWVudDtcblx0fSk7XG5cdFxuXHRhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcblx0YWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG5cdCAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTtcblx0fSk7XG5cdFxuXHQvLyBNT01FTlRTXG5cdFxuXHR2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblx0XG5cdC8vIFBSSU9SSVRZXG5cdGFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcblx0YWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5cdGFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xuXHR9KTtcblx0XG5cdC8vIEhFTFBFUlNcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcblx0ICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG5cdCAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKChpbnB1dCAtIGRheU9mWWVhciksICdkJyk7XG5cdH1cblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cdFxuXHQvLyBBTElBU0VTXG5cdFxuXHRhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cdFxuXHQvLyBQUklPUklUWVxuXHRcblx0YWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG5cdGFkZFJlZ2V4VG9rZW4oJ21tJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXHRhZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXHRcblx0Ly8gTU9NRU5UU1xuXHRcblx0dmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cdFxuXHQvLyBGT1JNQVRUSU5HXG5cdFxuXHRhZGRGb3JtYXRUb2tlbigncycsIFsnc3MnLCAyXSwgMCwgJ3NlY29uZCcpO1xuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXHRcblx0Ly8gUEFSU0lOR1xuXHRcblx0YWRkUmVnZXhUb2tlbigncycsICBtYXRjaDF0bzIpO1xuXHRhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblx0YWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRTZWNvbmQgPSBtYWtlR2V0U2V0KCdTZWNvbmRzJywgZmFsc2UpO1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcblx0fSk7XG5cdFxuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB+fih0aGlzLm1pbGxpc2Vjb25kKCkgLyAxMCk7XG5cdH0pO1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oMCwgWydTU1MnLCAzXSwgMCwgJ21pbGxpc2Vjb25kJyk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcblx0fSk7XG5cdGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG5cdH0pO1xuXHRhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcblx0fSk7XG5cdFxuXHRcblx0Ly8gQUxJQVNFU1xuXHRcblx0YWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXHRcblx0Ly8gUFJJT1JJVFlcblx0XG5cdGFkZFVuaXRQcmlvcml0eSgnbWlsbGlzZWNvbmQnLCAxNik7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuXHRhZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuXHRhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXHRcblx0dmFyIHRva2VuO1xuXHRmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG5cdCAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcblx0ICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG5cdH1cblx0XG5cdGZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcblx0ICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuXHR9XG5cdC8vIE1PTUVOVFNcblx0XG5cdHZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblx0XG5cdC8vIEZPUk1BVFRJTkdcblx0XG5cdGFkZEZvcm1hdFRva2VuKCd6JywgIDAsIDAsICd6b25lQWJicicpO1xuXHRhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblx0XG5cdC8vIE1PTUVOVFNcblx0XG5cdGZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldFpvbmVOYW1lICgpIHtcblx0ICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcblx0fVxuXHRcblx0dmFyIHByb3RvID0gTW9tZW50LnByb3RvdHlwZTtcblx0XG5cdHByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xuXHRwcm90by5jYWxlbmRhciAgICAgICAgICA9IGNhbGVuZGFyJDE7XG5cdHByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5cdHByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcblx0cHJvdG8uZW5kT2YgICAgICAgICAgICAgPSBlbmRPZjtcblx0cHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5cdHByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcblx0cHJvdG8uZnJvbU5vdyAgICAgICAgICAgPSBmcm9tTm93O1xuXHRwcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xuXHRwcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xuXHRwcm90by5nZXQgICAgICAgICAgICAgICA9IHN0cmluZ0dldDtcblx0cHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5cdHByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcblx0cHJvdG8uaXNCZWZvcmUgICAgICAgICAgPSBpc0JlZm9yZTtcblx0cHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5cdHByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xuXHRwcm90by5pc1NhbWVPckFmdGVyICAgICA9IGlzU2FtZU9yQWZ0ZXI7XG5cdHByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5cdHByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQxO1xuXHRwcm90by5sYW5nICAgICAgICAgICAgICA9IGxhbmc7XG5cdHByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xuXHRwcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG5cdHByb3RvLm1heCAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWF4O1xuXHRwcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcblx0cHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG5cdHByb3RvLnNldCAgICAgICAgICAgICAgID0gc3RyaW5nU2V0O1xuXHRwcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5cdHByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG5cdHByb3RvLnRvQXJyYXkgICAgICAgICAgID0gdG9BcnJheTtcblx0cHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcblx0cHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG5cdHByb3RvLnRvSVNPU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmc7XG5cdHByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcblx0cHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG5cdHByb3RvLnRvU3RyaW5nICAgICAgICAgID0gdG9TdHJpbmc7XG5cdHByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcblx0cHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xuXHRwcm90by5jcmVhdGlvbkRhdGEgICAgICA9IGNyZWF0aW9uRGF0YTtcblx0XG5cdC8vIFllYXJcblx0cHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG5cdHByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXHRcblx0Ly8gV2VlayBZZWFyXG5cdHByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5cdHByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5cdFxuXHQvLyBRdWFydGVyXG5cdHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG5cdFxuXHQvLyBNb250aFxuXHRwcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xuXHRwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuXHRcblx0Ly8gV2Vla1xuXHRwcm90by53ZWVrICAgICAgICAgICA9IHByb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG5cdHByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2Vlaztcblx0cHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcblx0cHJvdG8uaXNvV2Vla3NJblllYXIgPSBnZXRJU09XZWVrc0luWWVhcjtcblx0XG5cdC8vIERheVxuXHRwcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcblx0cHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5cdHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5cdHByb3RvLmlzb1dlZWtkYXkgPSBnZXRTZXRJU09EYXlPZldlZWs7XG5cdHByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cdFxuXHQvLyBIb3VyXG5cdHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cdFxuXHQvLyBNaW51dGVcblx0cHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblx0XG5cdC8vIFNlY29uZFxuXHRwcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXHRcblx0Ly8gTWlsbGlzZWNvbmRcblx0cHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblx0XG5cdC8vIE9mZnNldFxuXHRwcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcblx0cHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcblx0cHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuXHRwcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xuXHRwcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xuXHRwcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuXHRwcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5cdHByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG5cdHByb3RvLmlzVXRjICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cdHByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cdFxuXHQvLyBUaW1lem9uZVxuXHRwcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xuXHRwcm90by56b25lTmFtZSA9IGdldFpvbmVOYW1lO1xuXHRcblx0Ly8gRGVwcmVjYXRpb25zXG5cdHByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcblx0cHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG5cdHByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xuXHRwcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XG5cdHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0ICogMTAwMCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUluWm9uZSAoKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcblx0ICAgIHJldHVybiBzdHJpbmc7XG5cdH1cblx0XG5cdHZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblx0XG5cdHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5cdHByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG5cdHByb3RvJDEuaW52YWxpZERhdGUgICAgID0gaW52YWxpZERhdGU7XG5cdHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcblx0cHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5cdHByb3RvJDEucG9zdGZvcm1hdCAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuXHRwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcblx0cHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xuXHRwcm90byQxLnNldCAgICAgICAgICAgICA9IHNldDtcblx0XG5cdC8vIE1vbnRoXG5cdHByb3RvJDEubW9udGhzICAgICAgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzO1xuXHRwcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuXHRwcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xuXHRwcm90byQxLm1vbnRoc1JlZ2V4ICAgICAgID0gbW9udGhzUmVnZXg7XG5cdHByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXHRcblx0Ly8gV2Vla1xuXHRwcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xuXHRwcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5cdHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2Vlaztcblx0XG5cdC8vIERheSBvZiBXZWVrXG5cdHByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG5cdHByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5cdHByb3RvJDEud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDtcblx0cHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXHRcblx0cHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG5cdHByb3RvJDEud2Vla2RheXNTaG9ydFJlZ2V4ICA9ICAgICAgICB3ZWVrZGF5c1Nob3J0UmVnZXg7XG5cdHByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXHRcblx0Ly8gSG91cnNcblx0cHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcblx0cHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXHRcblx0ZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcblx0ICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcblx0ICAgIHZhciB1dGMgPSBjcmVhdGVVVEMoKS5zZXQoc2V0dGVyLCBpbmRleCk7XG5cdCAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuXHQgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcblx0ICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXHRcblx0ICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBvdXQgPSBbXTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG5cdCAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9XG5cdFxuXHQvLyAoKVxuXHQvLyAoNSlcblx0Ly8gKGZtdCwgNSlcblx0Ly8gKGZtdClcblx0Ly8gKHRydWUpXG5cdC8vICh0cnVlLCA1KVxuXHQvLyAodHJ1ZSwgZm10LCA1KVxuXHQvLyAodHJ1ZSwgZm10KVxuXHRmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG5cdCAgICBpZiAodHlwZW9mIGxvY2FsZVNvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdCAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcblx0ICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG5cdCAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuXHQgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuXHQgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXHRcblx0ICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuXHQgICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcblx0ICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcblx0ICAgICAgICBzaGlmdCA9IGxvY2FsZVNvcnRlZCA/IGxvY2FsZS5fd2Vlay5kb3cgOiAwO1xuXHRcblx0ICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG5cdCAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaTtcblx0ICAgIHZhciBvdXQgPSBbXTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcblx0ICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIChpICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBvdXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNTaG9ydCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuXHQgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcblx0fVxuXHRcblx0Z2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcblx0ICAgIG9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sXG5cdCAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuXHQgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG5cdCAgICAgICAgICAgIG91dHB1dCA9ICh0b0ludChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6XG5cdCAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuXHQgICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcblx0ICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7XG5cdCAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcblx0ICAgIH1cblx0fSk7XG5cdFxuXHQvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cdGhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcblx0aG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4nLCBnZXRMb2NhbGUpO1xuXHRcblx0dmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblx0XG5cdGZ1bmN0aW9uIGFicyAoKSB7XG5cdCAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXHRcblx0ICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcblx0ICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG5cdCAgICB0aGlzLl9tb250aHMgICAgICAgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7XG5cdFxuXHQgICAgZGF0YS5taWxsaXNlY29uZHMgID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG5cdCAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG5cdCAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG5cdCAgICBkYXRhLmhvdXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuXHQgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG5cdCAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRTdWJ0cmFjdCQxIChkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcblx0ICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cdFxuXHQgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuXHQgICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcblx0ICAgIGR1cmF0aW9uLl9tb250aHMgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblx0XG5cdCAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xuXHR9XG5cdFxuXHQvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5cdGZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcblx0ICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XG5cdH1cblx0XG5cdC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG5cdGZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAtMSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuXHQgICAgaWYgKG51bWJlciA8IDApIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG5cdCAgICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG5cdCAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuXHQgICAgdmFyIGRheXMgICAgICAgICA9IHRoaXMuX2RheXM7XG5cdCAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuXHQgICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG5cdCAgICB2YXIgc2Vjb25kcywgbWludXRlcywgaG91cnMsIHllYXJzLCBtb250aHNGcm9tRGF5cztcblx0XG5cdCAgICAvLyBpZiB3ZSBoYXZlIGEgbWl4IG9mIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB2YWx1ZXMsIGJ1YmJsZSBkb3duIGZpcnN0XG5cdCAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcblx0ICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG5cdCAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPD0gMCAmJiBkYXlzIDw9IDAgJiYgbW9udGhzIDw9IDApKSkge1xuXHQgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcblx0ICAgICAgICBkYXlzID0gMDtcblx0ICAgICAgICBtb250aHMgPSAwO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3Jcblx0ICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cblx0ICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblx0XG5cdCAgICBzZWNvbmRzICAgICAgICAgICA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuXHQgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cdFxuXHQgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuXHQgICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cdFxuXHQgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuXHQgICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXHRcblx0ICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XG5cdFxuXHQgICAgLy8gY29udmVydCBkYXlzIHRvIG1vbnRoc1xuXHQgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuXHQgICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuXHQgICAgZGF5cyAtPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHNGcm9tRGF5cykpO1xuXHRcblx0ICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcblx0ICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuXHQgICAgbW9udGhzICU9IDEyO1xuXHRcblx0ICAgIGRhdGEuZGF5cyAgID0gZGF5cztcblx0ICAgIGRhdGEubW9udGhzID0gbW9udGhzO1xuXHQgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblx0XG5cdCAgICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGF5c1RvTW9udGhzIChkYXlzKSB7XG5cdCAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG5cdCAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcblx0ICAgIHJldHVybiBkYXlzICogNDgwMCAvIDE0NjA5Nztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW9udGhzVG9EYXlzIChtb250aHMpIHtcblx0ICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuXHQgICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFzICh1bml0cykge1xuXHQgICAgdmFyIGRheXM7XG5cdCAgICB2YXIgbW9udGhzO1xuXHQgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblx0XG5cdCAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblx0XG5cdCAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICd5ZWFyJykge1xuXHQgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuXHQgICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcblx0ICAgICAgICByZXR1cm4gdW5pdHMgPT09ICdtb250aCcgPyBtb250aHMgOiBtb250aHMgLyAxMjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuXHQgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XG5cdCAgICAgICAgc3dpdGNoICh1bml0cykge1xuXHQgICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcblx0ICAgICAgICAgICAgY2FzZSAnZGF5JyAgICA6IHJldHVybiBkYXlzICAgICAgICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcblx0ICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuXHQgICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcblx0ICAgICAgICAgICAgY2FzZSAnc2Vjb25kJyA6IHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xuXHQgICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcblx0ICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuXHQgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHRcblx0Ly8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG5cdGZ1bmN0aW9uIHZhbHVlT2YkMSAoKSB7XG5cdCAgICByZXR1cm4gKFxuXHQgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG5cdCAgICAgICAgdGhpcy5fZGF5cyAqIDg2NGU1ICtcblx0ICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcblx0ICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG5cdCAgICApO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcblx0dmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG5cdHZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xuXHR2YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcblx0dmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG5cdHZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xuXHR2YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcblx0dmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cdFxuXHRmdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcblx0ICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXHQgICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcblx0ICAgIH07XG5cdH1cblx0XG5cdHZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcblx0dmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcblx0dmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcblx0dmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG5cdHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG5cdHZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcblx0dmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cdFxuXHRmdW5jdGlvbiB3ZWVrcyAoKSB7XG5cdCAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcblx0fVxuXHRcblx0dmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblx0dmFyIHRocmVzaG9sZHMgPSB7XG5cdCAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG5cdCAgICBtOiA0NSwgIC8vIG1pbnV0ZXMgdG8gaG91clxuXHQgICAgaDogMjIsICAvLyBob3VycyB0byBkYXlcblx0ICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuXHQgICAgTTogMTEgICAvLyBtb250aHMgdG8geWVhclxuXHR9O1xuXHRcblx0Ly8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcblx0ZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcblx0ICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuXHQgICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xuXHQgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG5cdCAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcblx0ICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xuXHQgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG5cdCAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcblx0ICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xuXHRcblx0ICAgIHZhciBhID0gc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcblx0ICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcblx0ICAgICAgICAgICAgbWludXRlcyA8IHRocmVzaG9sZHMubSAmJiBbJ21tJywgbWludXRlc10gfHxcblx0ICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcblx0ICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcblx0ICAgICAgICAgICAgZGF5cyAgICA8PSAxICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcblx0ICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10gICAgfHxcblx0ICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcblx0ICAgICAgICAgICAgbW9udGhzICA8IHRocmVzaG9sZHMuTSAmJiBbJ01NJywgbW9udGhzXSAgfHxcblx0ICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblx0XG5cdCAgICBhWzJdID0gd2l0aG91dFN1ZmZpeDtcblx0ICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuXHQgICAgYVs0XSA9IGxvY2FsZTtcblx0ICAgIHJldHVybiBzdWJzdGl0dXRlVGltZUFnby5hcHBseShudWxsLCBhKTtcblx0fVxuXHRcblx0Ly8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCB0aGUgcm91bmRpbmcgZnVuY3Rpb24gZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuXHRmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuXHQgICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiByb3VuZDtcblx0ICAgIH1cblx0ICAgIGlmICh0eXBlb2Yocm91bmRpbmdGdW5jdGlvbikgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICByb3VuZCA9IHJvdW5kaW5nRnVuY3Rpb247XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuXHRmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcblx0ICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcblx0ICAgIH1cblx0ICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG5cdCAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG5cdCAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cdFxuXHQgICAgaWYgKHdpdGhTdWZmaXgpIHtcblx0ICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcblx0fVxuXHRcblx0dmFyIGFicyQxID0gTWF0aC5hYnM7XG5cdFxuXHRmdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuXHQgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcblx0ICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcblx0ICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcblx0ICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcblx0ICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG5cdCAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcblx0ICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG5cdCAgICB2YXIgc2Vjb25kcyA9IGFicyQxKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuXHQgICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuXHQgICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG5cdCAgICB2YXIgbWludXRlcywgaG91cnMsIHllYXJzO1xuXHRcblx0ICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuXHQgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuXHQgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuXHQgICAgc2Vjb25kcyAlPSA2MDtcblx0ICAgIG1pbnV0ZXMgJT0gNjA7XG5cdFxuXHQgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuXHQgICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuXHQgICAgbW9udGhzICU9IDEyO1xuXHRcblx0XG5cdCAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuXHQgICAgdmFyIFkgPSB5ZWFycztcblx0ICAgIHZhciBNID0gbW9udGhzO1xuXHQgICAgdmFyIEQgPSBkYXlzO1xuXHQgICAgdmFyIGggPSBob3Vycztcblx0ICAgIHZhciBtID0gbWludXRlcztcblx0ICAgIHZhciBzID0gc2Vjb25kcztcblx0ICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cdFxuXHQgICAgaWYgKCF0b3RhbCkge1xuXHQgICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cblx0ICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG5cdCAgICAgICAgcmV0dXJuICdQMEQnO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAodG90YWwgPCAwID8gJy0nIDogJycpICtcblx0ICAgICAgICAnUCcgK1xuXHQgICAgICAgIChZID8gWSArICdZJyA6ICcnKSArXG5cdCAgICAgICAgKE0gPyBNICsgJ00nIDogJycpICtcblx0ICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuXHQgICAgICAgICgoaCB8fCBtIHx8IHMpID8gJ1QnIDogJycpICtcblx0ICAgICAgICAoaCA/IGggKyAnSCcgOiAnJykgK1xuXHQgICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG5cdCAgICAgICAgKHMgPyBzICsgJ1MnIDogJycpO1xuXHR9XG5cdFxuXHR2YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblx0XG5cdHByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XG5cdHByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcblx0cHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5cdHByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcblx0cHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xuXHRwcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xuXHRwcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xuXHRwcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3Vycztcblx0cHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcblx0cHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG5cdHByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcblx0cHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5cdHByb3RvJDIudmFsdWVPZiAgICAgICAgPSB2YWx1ZU9mJDE7XG5cdHByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG5cdHByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcblx0cHJvdG8kMi5taWxsaXNlY29uZHMgICA9IG1pbGxpc2Vjb25kcztcblx0cHJvdG8kMi5zZWNvbmRzICAgICAgICA9IHNlY29uZHM7XG5cdHByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuXHRwcm90byQyLmhvdXJzICAgICAgICAgID0gaG91cnM7XG5cdHByb3RvJDIuZGF5cyAgICAgICAgICAgPSBkYXlzO1xuXHRwcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5cdHByb3RvJDIubW9udGhzICAgICAgICAgPSBtb250aHM7XG5cdHByb3RvJDIueWVhcnMgICAgICAgICAgPSB5ZWFycztcblx0cHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuXHRwcm90byQyLnRvSVNPU3RyaW5nICAgID0gdG9JU09TdHJpbmckMTtcblx0cHJvdG8kMi50b1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5cdHByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuXHRwcm90byQyLmxvY2FsZSAgICAgICAgID0gbG9jYWxlO1xuXHRwcm90byQyLmxvY2FsZURhdGEgICAgID0gbG9jYWxlRGF0YTtcblx0XG5cdC8vIERlcHJlY2F0aW9uc1xuXHRwcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIHRvSVNPU3RyaW5nJDEpO1xuXHRwcm90byQyLmxhbmcgPSBsYW5nO1xuXHRcblx0Ly8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXHRcblx0Ly8gRk9STUFUVElOR1xuXHRcblx0YWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuXHRhZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cdFxuXHQvLyBQQVJTSU5HXG5cdFxuXHRhZGRSZWdleFRva2VuKCd4JywgbWF0Y2hTaWduZWQpO1xuXHRhZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuXHRhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG5cdCAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShwYXJzZUZsb2F0KGlucHV0LCAxMCkgKiAxMDAwKTtcblx0fSk7XG5cdGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcblx0ICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHRvSW50KGlucHV0KSk7XG5cdH0pO1xuXHRcblx0Ly8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXHRcblx0XG5cdGhvb2tzLnZlcnNpb24gPSAnMi4xNy4xJztcblx0XG5cdHNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cdFxuXHRob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcblx0aG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuXHRob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG5cdGhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcblx0aG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuXHRob29rcy51bml4ICAgICAgICAgICAgICAgICAgPSBjcmVhdGVVbml4O1xuXHRob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuXHRob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG5cdGhvb2tzLmxvY2FsZSAgICAgICAgICAgICAgICA9IGdldFNldEdsb2JhbExvY2FsZTtcblx0aG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcblx0aG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG5cdGhvb2tzLmlzTW9tZW50ICAgICAgICAgICAgICA9IGlzTW9tZW50O1xuXHRob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5cdGhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcblx0aG9va3MubG9jYWxlRGF0YSAgICAgICAgICAgID0gZ2V0TG9jYWxlO1xuXHRob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuXHRob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG5cdGhvb2tzLndlZWtkYXlzTWluICAgICAgICAgICA9IGxpc3RXZWVrZGF5c01pbjtcblx0aG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuXHRob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG5cdGhvb2tzLmxvY2FsZXMgICAgICAgICAgICAgICA9IGxpc3RMb2NhbGVzO1xuXHRob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcblx0aG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG5cdGhvb2tzLnJlbGF0aXZlVGltZVJvdW5kaW5nID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG5cdGhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcblx0aG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG5cdGhvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IHByb3RvO1xuXHRcblx0cmV0dXJuIGhvb2tzO1xuXHRcblx0fSkpKTtcblxuXG4vKioqLyB9LFxuXG4vKioqLyAzMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yY1JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO1xuXHRcblx0dmFyIF9yY1JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUmFkaW8pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFJhZGlvID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW8sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFJhZGlvKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW8pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBSYWRpby5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuXHQgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gX1B1cmVSZW5kZXJNaXhpbjJbXCJkZWZhdWx0XCJdLnNob3VsZENvbXBvbmVudFVwZGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgUmFkaW8ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZXMsIF9jbGFzc05hbWVzMjtcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuXHQgICAgICAgICAgICBjaGVja2VkID0gX3Byb3BzLmNoZWNrZWQsXG5cdCAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuXHQgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lLFxuXHQgICAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcblx0XG5cdCAgICAgICAgdmFyIHdyYXBwZXJDbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13cmFwcGVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1jaGVja2VkJywgY2hlY2tlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlci1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMyKSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdsYWJlbCcsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiB0aGlzLnByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiB0aGlzLnByb3BzLm9uTW91c2VMZWF2ZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1JhZGlvMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogbnVsbCwgY2hpbGRyZW46IG51bGwgfSkpLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiAhPT0gdW5kZWZpbmVkID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICApIDogbnVsbFxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYWRpbztcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpbztcblx0XG5cdFJhZGlvLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1yYWRpbydcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIFRhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzgpO1xuXHR2YXIgQ29sdW1uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHR2YXIgQ29sdW1uR3JvdXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSk7XG5cdFxuXHRUYWJsZS5Db2x1bW4gPSBDb2x1bW47XG5cdFRhYmxlLkNvbHVtbkdyb3VwID0gQ29sdW1uR3JvdXA7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFRhYmxlO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNTpcblsxMjIwLCAxMTJdLFxuXG4vKioqLyAzOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMgKi9cblx0dmFyIFBsdWdpbnMgPSBmdW5jdGlvbiBQbHVnaW5zKCkge307XG5cdHZhciBwID0gUGx1Z2lucy5wcm90b3R5cGU7XG5cdHAucHVzaCA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcblx0ICB0aGlzW3BsdWdpbi5wcm90b3R5cGUubmFtZV0gPSBwbHVnaW47XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbmV3IFBsdWdpbnMoKTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDQxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMudG9GaXhlZCA9IHRvRml4ZWQ7XG5cdGV4cG9ydHMuY3JlYXRlTWF0cml4ID0gY3JlYXRlTWF0cml4O1xuXHRleHBvcnRzLmNoZWNrU3R5bGVOYW1lID0gY2hlY2tTdHlsZU5hbWU7XG5cdGV4cG9ydHMuZ2V0R3NhcFR5cGUgPSBnZXRHc2FwVHlwZTtcblx0ZXhwb3J0cy5wYXJzZUNvbG9yID0gcGFyc2VDb2xvcjtcblx0ZXhwb3J0cy5wYXJzZVNoYWRvdyA9IHBhcnNlU2hhZG93O1xuXHRleHBvcnRzLmdldENvbG9yID0gZ2V0Q29sb3I7XG5cdGV4cG9ydHMuaXNUcmFuc2Zvcm0gPSBpc1RyYW5zZm9ybTtcblx0ZXhwb3J0cy5pc0NvbnZlcnQgPSBpc0NvbnZlcnQ7XG5cdGV4cG9ydHMuc3BsaXRGaWx0ZXJUb09iamVjdCA9IHNwbGl0RmlsdGVyVG9PYmplY3Q7XG5cdGV4cG9ydHMuZ2V0TWF0cml4ID0gZ2V0TWF0cml4O1xuXHRleHBvcnRzLmdldFRyYW5zZm9ybSA9IGdldFRyYW5zZm9ybTtcblx0ZXhwb3J0cy5zdHlsZXNUb0NzcyA9IHN0eWxlc1RvQ3NzO1xuXHRleHBvcnRzLmdldFVuaXQgPSBnZXRVbml0O1xuXHRleHBvcnRzLmdldFZhbHVlcyA9IGdldFZhbHVlcztcblx0ZXhwb3J0cy5maW5kU3R5bGVCeU5hbWUgPSBmaW5kU3R5bGVCeU5hbWU7XG5cdGV4cG9ydHMubWVyZ2VTdHlsZSA9IG1lcmdlU3R5bGU7XG5cdHZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuXHQgIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuXHQgIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuXHQgIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG5cdCAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcblx0ICBib3hGbGV4OiB0cnVlLFxuXHQgIGJveEZsZXhHcm91cDogdHJ1ZSxcblx0ICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG5cdCAgY29sdW1uQ291bnQ6IHRydWUsXG5cdCAgZmxleDogdHJ1ZSxcblx0ICBmbGV4R3JvdzogdHJ1ZSxcblx0ICBmbGV4UG9zaXRpdmU6IHRydWUsXG5cdCAgZmxleFNocmluazogdHJ1ZSxcblx0ICBmbGV4TmVnYXRpdmU6IHRydWUsXG5cdCAgZmxleE9yZGVyOiB0cnVlLFxuXHQgIGdyaWRSb3c6IHRydWUsXG5cdCAgZ3JpZENvbHVtbjogdHJ1ZSxcblx0ICBmb250V2VpZ2h0OiB0cnVlLFxuXHQgIGxpbmVDbGFtcDogdHJ1ZSxcblx0ICBsaW5lSGVpZ2h0OiB0cnVlLFxuXHQgIG9wYWNpdHk6IHRydWUsXG5cdCAgb3JkZXI6IHRydWUsXG5cdCAgb3JwaGFuczogdHJ1ZSxcblx0ICB0YWJTaXplOiB0cnVlLFxuXHQgIHdpZG93czogdHJ1ZSxcblx0ICB6SW5kZXg6IHRydWUsXG5cdCAgem9vbTogdHJ1ZSxcblx0XG5cdCAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuXHQgIGZpbGxPcGFjaXR5OiB0cnVlLFxuXHQgIGZsb29kT3BhY2l0eTogdHJ1ZSxcblx0ICBzdG9wT3BhY2l0eTogdHJ1ZSxcblx0ICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG5cdCAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcblx0ICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuXHQgIHN0cm9rZU9wYWNpdHk6IHRydWUsXG5cdCAgc3Ryb2tlV2lkdGg6IHRydWVcblx0fTtcblx0dmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcblx0XG5cdGZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuXHQgIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xuXHR9XG5cdFxuXHRPYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG5cdCAgcHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG5cdCAgICBpc1VuaXRsZXNzTnVtYmVyW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGlzVW5pdGxlc3NOdW1iZXJbcHJvcF07XG5cdCAgfSk7XG5cdH0pO1xuXHRcblx0dmFyIHVucXVvdGVkQ29udGVudFZhbHVlUmVnZXggPSAvXihub3JtYWx8bm9uZXwoXFxiKHVybFxcKFteKV0qXFwpfGNoYXB0ZXJfY291bnRlcnxhdHRyXFwoW14pXSpcXCl8KG5vLSk/KG9wZW58Y2xvc2UpLXF1b3RlfGluaGVyaXQpKChcXGJcXHMqKXwkfFxccyspKSspJC87XG5cdFxuXHR2YXIgSUUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKG5hdmlnYXRvciAmJiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4LjBcIikgPiAwIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOS4wXCIpID4gMCkpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICByZXR1cm4gZmFsc2U7XG5cdH0oKTtcblx0XG5cdHZhciBybmQgPSAxMDAwMDA7XG5cdFxuXHR2YXIgY29sb3JMb29rdXAgPSB7XG5cdCAgYXF1YTogWzAsIDI1NSwgMjU1XSxcblx0ICBsaW1lOiBbMCwgMjU1LCAwXSxcblx0ICBzaWx2ZXI6IFsxOTIsIDE5MiwgMTkyXSxcblx0ICBibGFjazogWzAsIDAsIDBdLFxuXHQgIG1hcm9vbjogWzEyOCwgMCwgMF0sXG5cdCAgdGVhbDogWzAsIDEyOCwgMTI4XSxcblx0ICBibHVlOiBbMCwgMCwgMjU1XSxcblx0ICBuYXZ5OiBbMCwgMCwgMTI4XSxcblx0ICB3aGl0ZTogWzI1NSwgMjU1LCAyNTVdLFxuXHQgIGZ1Y2hzaWE6IFsyNTUsIDAsIDI1NV0sXG5cdCAgb2xpdmU6IFsxMjgsIDEyOCwgMF0sXG5cdCAgeWVsbG93OiBbMjU1LCAyNTUsIDBdLFxuXHQgIG9yYW5nZTogWzI1NSwgMTY1LCAwXSxcblx0ICBncmF5OiBbMTI4LCAxMjgsIDEyOF0sXG5cdCAgcHVycGxlOiBbMTI4LCAwLCAxMjhdLFxuXHQgIGdyZWVuOiBbMCwgMTI4LCAwXSxcblx0ICByZWQ6IFsyNTUsIDAsIDBdLFxuXHQgIHBpbms6IFsyNTUsIDE5MiwgMjAzXSxcblx0ICBjeWFuOiBbMCwgMjU1LCAyNTVdLFxuXHQgIHRyYW5zcGFyZW50OiBbMjU1LCAyNTUsIDI1NSwgMF1cblx0fTtcblx0dmFyIF9odWUgPSBmdW5jdGlvbiBfaHVlKGhoLCBtMSwgbTIpIHtcblx0ICB2YXIgaCA9IGhoID4gMSA/IGhoIC0gMSA6IGhoO1xuXHQgIGggPSBoaCA8IDAgPyBoaCArIDEgOiBoO1xuXHQgIHZhciBhID0gaCAqIDMgPCAyID8gbTEgKyAobTIgLSBtMSkgKiAoMiAvIDMgLSBoKSAqIDYgOiBtMTtcblx0ICB2YXIgYiA9IGggPCAwLjUgPyBtMiA6IGE7XG5cdCAgdmFyIGMgPSBoICogNiA8IDEgPyBtMSArIChtMiAtIG0xKSAqIGggKiA2IDogYjtcblx0ICByZXR1cm4gYyAqIDI1NSArIDAuNSB8IDA7XG5cdH07XG5cdHZhciBERUcyUkFEID0gTWF0aC5QSSAvIDE4MDtcblx0dmFyIFJBRDJERUcgPSAxODAgLyBNYXRoLlBJO1xuXHRcblx0dmFyIGNzc0xpc3QgPSB7XG5cdCAgX2xpc3RzOiB7XG5cdCAgICB0cmFuc2Zvcm1zQmFzZTogWyd0cmFuc2xhdGUnLCAndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJywgJ3NjYWxlJywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAncm90YXRlWicsICdyb3RhdGUnXSxcblx0ICAgIHRyYW5zZm9ybXMzRDogWyd0cmFuc2xhdGUzZCcsICd0cmFuc2xhdGVaJywgJ3NjYWxlWicsICdyb3RhdGVYJywgJ3JvdGF0ZVknLCAncGVyc3BlY3RpdmUnXVxuXHQgIH0sXG5cdCAgdHJhbnNmb3JtR3JvdXA6IHsgdHJhbnNsYXRlOiAxLCB0cmFuc2xhdGUzZDogMSwgc2NhbGU6IDEsIHNjYWxlM2Q6IDEsIHJvdGF0ZTogMSwgcm90YXRlM2Q6IDEgfSxcblx0ICBmaWx0ZXI6IFsnZ3JheVNjYWxlJywgJ3NlcGlhJywgJ2h1ZVJvdGF0ZScsICdpbnZlcnQnLCAnYnJpZ2h0bmVzcycsICdjb250cmFzdCcsICdibHVyJ10sXG5cdCAgZmlsdGVyQ29udmVydDogeyBncmF5U2NhbGU6ICdncmF5c2NhbGUnLCBodWVSb3RhdGU6ICdodWUtcm90YXRlJyB9XG5cdH07XG5cdGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlID0gIUlFID8gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuY29uY2F0KGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXMzRCkgOiBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZTtcblx0XG5cdGZ1bmN0aW9uIHRvRml4ZWQobnVtLCBsZW5ndGgpIHtcblx0ICB2YXIgX3JuZCA9IGxlbmd0aCA/IE1hdGgucG93KDEwLCBsZW5ndGgpIDogcm5kO1xuXHQgIHZhciBuID0gbnVtIHwgMDtcblx0ICB2YXIgZGVjID0gbnVtIC0gbjtcblx0ICByZXR1cm4gZGVjID8gKGRlYyAqIF9ybmQgKyAobnVtIDwgMCA/IC0wLjUgOiAwLjUpIHwgMCkgLyBfcm5kICsgbiA6IG51bTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTWF0cml4KHN0eWxlKSB7XG5cdCAgcmV0dXJuIHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nb3pDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nb3pDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5ET01NYXRyaXggJiYgbmV3IHdpbmRvdy5ET01NYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nc0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk1zQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuT0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk9DU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5DU1NNYXRyaXgoc3R5bGUpIHx8IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNoZWNrU3R5bGVOYW1lKHApIHtcblx0ICB2YXIgYSA9IFsnTycsICdNb3onLCAnbXMnLCAnTXMnLCAnV2Via2l0J107XG5cdCAgaWYgKHAgIT09ICdmaWx0ZXInICYmIHAgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSkge1xuXHQgICAgcmV0dXJuIHA7XG5cdCAgfVxuXHQgIHZhciBfcCA9IHAuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwLnN1YnN0cigxKTtcblx0ICB2YXIgcHJlZml4Q3NzID0gYS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgcmV0dXJuICcnICsga2V5ICsgX3AgaW4gZG9jdW1lbnQuYm9keS5zdHlsZTtcblx0ICB9KTtcblx0ICByZXR1cm4gcHJlZml4Q3NzWzBdID8gJycgKyBwcmVmaXhDc3NbMF0gKyBfcCA6IG51bGw7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldEdzYXBUeXBlKF9wKSB7XG5cdCAgdmFyIHAgPSBfcDtcblx0ICBwID0gcCA9PT0gJ3gnID8gJ3RyYW5zbGF0ZVgnIDogcDtcblx0ICBwID0gcCA9PT0gJ3knID8gJ3RyYW5zbGF0ZVknIDogcDtcblx0ICBwID0gcCA9PT0gJ3onID8gJ3RyYW5zbGF0ZVonIDogcDtcblx0ICAvLyBwID0gcCA9PT0gJ3InID8gJ3JvdGF0ZScgOiBwO1xuXHQgIHJldHVybiBwO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUNvbG9yKF92KSB7XG5cdCAgdmFyIGEgPSB2b2lkIDA7XG5cdCAgdmFyIHIgPSB2b2lkIDA7XG5cdCAgdmFyIGcgPSB2b2lkIDA7XG5cdCAgdmFyIGIgPSB2b2lkIDA7XG5cdCAgdmFyIGggPSB2b2lkIDA7XG5cdCAgdmFyIHMgPSB2b2lkIDA7XG5cdCAgdmFyIGwgPSB2b2lkIDA7XG5cdCAgdmFyIHYgPSBfdjtcblx0ICB2YXIgX251bUV4cCA9IC8oPzpcXGR8XFwtXFxkfFxcLlxcZHxcXC1cXC5cXGQpKy9nO1xuXHQgIGlmICghdikge1xuXHQgICAgYSA9IGNvbG9yTG9va3VwLmJsYWNrO1xuXHQgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG5cdCAgICBhID0gW3YgPj4gMTYsIHYgPj4gOCAmIDI1NSwgdiAmIDI1NV07XG5cdCAgfSBlbHNlIHtcblx0ICAgIGlmICh2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpID09PSAnLCcpIHtcblx0ICAgICAgdiA9IHYuc3Vic3RyKDAsIHYubGVuZ3RoIC0gMSk7XG5cdCAgICB9XG5cdCAgICBpZiAoY29sb3JMb29rdXBbdl0pIHtcblx0ICAgICAgYSA9IGNvbG9yTG9va3VwW3ZdO1xuXHQgICAgfSBlbHNlIGlmICh2LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG5cdCAgICAgIC8vIGlzICNGRkZcblx0ICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG5cdCAgICAgICAgciA9IHYuY2hhckF0KDEpO1xuXHQgICAgICAgIGcgPSB2LmNoYXJBdCgyKTtcblx0ICAgICAgICBiID0gdi5jaGFyQXQoMyk7XG5cdCAgICAgICAgdiA9ICcjJyArIHIgKyByICsgZyArIGcgKyBiICsgYjtcblx0ICAgICAgfVxuXHQgICAgICB2ID0gcGFyc2VJbnQodi5zdWJzdHIoMSksIDE2KTtcblx0ICAgICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuXHQgICAgfSBlbHNlIGlmICh2LnN1YnN0cigwLCAzKSA9PT0gJ2hzbCcpIHtcblx0ICAgICAgYSA9IHYubWF0Y2goX251bUV4cCk7XG5cdCAgICAgIGggPSBOdW1iZXIoYVswXSkgJSAzNjAgLyAzNjA7XG5cdCAgICAgIHMgPSBOdW1iZXIoYVsxXSkgLyAxMDA7XG5cdCAgICAgIGwgPSBOdW1iZXIoYVsyXSkgLyAxMDA7XG5cdCAgICAgIGcgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcblx0ICAgICAgciA9IGwgKiAyIC0gZztcblx0ICAgICAgaWYgKGEubGVuZ3RoID4gMykge1xuXHQgICAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG5cdCAgICAgIH1cblx0ICAgICAgYVswXSA9IF9odWUoaCArIDEgLyAzLCByLCBnKTtcblx0ICAgICAgYVsxXSA9IF9odWUoaCwgciwgZyk7XG5cdCAgICAgIGFbMl0gPSBfaHVlKGggLSAxIC8gMywgciwgZyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBhID0gdi5tYXRjaChfbnVtRXhwKSB8fCBjb2xvckxvb2t1cC50cmFuc3BhcmVudDtcblx0ICAgIH1cblx0ICAgIGFbMF0gPSBOdW1iZXIoYVswXSk7XG5cdCAgICBhWzFdID0gTnVtYmVyKGFbMV0pO1xuXHQgICAgYVsyXSA9IE51bWJlcihhWzJdKTtcblx0XG5cdCAgICBpZiAoYS5sZW5ndGggPiAzKSB7XG5cdCAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZVNoYWRvdyh2KSB7XG5cdCAgaWYgKCF2KSB7XG5cdCAgICByZXR1cm4gWzAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuXHQgIH1cblx0ICB2YXIgaW5zZXQgPSB2b2lkIDA7XG5cdCAgaWYgKHYuaW5kZXhPZigncmdiJykgPj0gMCkge1xuXHQgICAgdmFyIHQgPSB2Lm1hdGNoKC9yZ2IrKD86YSk/XFwoKC4qKVxcKS8pO1xuXHQgICAgdmFyIHMgPSB2LnJlcGxhY2UodFswXSwgJycpLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuXHQgICAgaW5zZXQgPSBzLmluZGV4T2YoJ2luc2V0Jyk7XG5cdCAgICBpZiAoaW5zZXQgPj0gMCkge1xuXHQgICAgICBzLnNwbGljZShpbnNldCwgMSk7XG5cdCAgICB9XG5cdCAgICB2YXIgYyA9IHRbMV0ucmVwbGFjZSgvXFxzKy9nLCAnJykuc3BsaXQoJywnKTtcblx0ICAgIGlmIChjLmxlbmd0aCA9PT0gMykge1xuXHQgICAgICBjLnB1c2goMSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcy5jb25jYXQoYywgaW5zZXQgPj0gMCA/IFsnaW5zZXQnXSA6IFtdKTtcblx0ICB9XG5cdCAgdmFyIHZBcnIgPSB2LnNwbGl0KC9cXHMrLyk7XG5cdCAgaW5zZXQgPSB2QXJyLmluZGV4T2YoJ2luc2V0Jyk7XG5cdCAgaWYgKGluc2V0ID49IDApIHtcblx0ICAgIHZBcnIuc3BsaWNlKGluc2V0LCAxKTtcblx0ICB9XG5cdCAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcih2QXJyW3ZBcnIubGVuZ3RoIC0gMV0pO1xuXHQgIGNvbG9yWzNdID0gdHlwZW9mIGNvbG9yWzNdID09PSAnbnVtYmVyJyA/IGNvbG9yWzNdIDogMTtcblx0ICB2QXJyID0gdkFyci5zcGxpY2UoMCwgdkFyci5sZW5ndGggLSAxKTtcblx0ICByZXR1cm4gdkFyci5jb25jYXQoY29sb3IsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldENvbG9yKHYpIHtcblx0ICB2YXIgcmdiYSA9IHYubGVuZ3RoID09PSA0ID8gJ3JnYmEnIDogJ3JnYic7XG5cdCAgdmFyIF92YXJzID0gdi5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcblx0ICAgIHJldHVybiBpIDwgMyA/IE1hdGgucm91bmQoZCkgOiBkO1xuXHQgIH0pO1xuXHQgIHJldHVybiByZ2JhICsgJygnICsgX3ZhcnMuam9pbignLCcpICsgJyknO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc1RyYW5zZm9ybShwKSB7XG5cdCAgcmV0dXJuIGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlLmluZGV4T2YocCkgPj0gMCA/ICd0cmFuc2Zvcm0nIDogcDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNDb252ZXJ0KHApIHtcblx0ICB2YXIgY3NzTmFtZSA9IGlzVHJhbnNmb3JtKHApO1xuXHQgIHJldHVybiBjc3NMaXN0LmZpbHRlci5pbmRleE9mKGNzc05hbWUpID49IDAgPyAnZmlsdGVyJyA6IGNzc05hbWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNwbGl0RmlsdGVyVG9PYmplY3QoZGF0YSkge1xuXHQgIGlmIChkYXRhID09PSAnbm9uZScgfHwgIWRhdGEgfHwgZGF0YSA9PT0gJycpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0ICB2YXIgZmlsdGVyID0gZGF0YS5yZXBsYWNlKCcgJywgJycpLnNwbGl0KCcpJykuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICByZXR1cm4gaXRlbTtcblx0ICB9KTtcblx0ICB2YXIgc3RhcnREYXRhID0ge307XG5cdCAgZmlsdGVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHZhciBkYXRhQXJyID0gaXRlbS5zcGxpdCgnKCcpO1xuXHQgICAgc3RhcnREYXRhW2RhdGFBcnJbMF1dID0gZGF0YUFyclsxXTtcblx0ICB9KTtcblx0ICByZXR1cm4gc3RhcnREYXRhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRNYXRyaXgodCkge1xuXHQgIHZhciBhcnIgPSB0Lm1hdGNoKC8oPzpcXC18XFxiKVtcXGRcXC1cXC5lXStcXGIvZ2kpO1xuXHQgIHZhciBtID0ge307XG5cdCAgaWYgKGFyci5sZW5ndGggPT09IDYpIHtcblx0ICAgIG0ubTExID0gcGFyc2VGbG9hdChhcnJbMF0pO1xuXHQgICAgbS5tMTIgPSBwYXJzZUZsb2F0KGFyclsxXSk7XG5cdCAgICBtLm0xMyA9IDA7XG5cdCAgICBtLm0xNCA9IDA7XG5cdCAgICBtLm0yMSA9IHBhcnNlRmxvYXQoYXJyWzJdKTtcblx0ICAgIG0ubTIyID0gcGFyc2VGbG9hdChhcnJbM10pO1xuXHQgICAgbS5tMjMgPSAwO1xuXHQgICAgbS5tMjQgPSAwO1xuXHQgICAgbS5tMzEgPSAwO1xuXHQgICAgbS5tMzIgPSAwO1xuXHQgICAgbS5tMzMgPSAxO1xuXHQgICAgbS5tMzQgPSAwO1xuXHQgICAgbS5tNDEgPSBwYXJzZUZsb2F0KGFycls0XSk7XG5cdCAgICBtLm00MiA9IHBhcnNlRmxvYXQoYXJyWzVdKTtcblx0ICAgIG0ubTQzID0gMDtcblx0ICAgIG0ubTQ0ID0gMDtcblx0ICB9IGVsc2Uge1xuXHQgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgICAgdmFyIGlpID0gaSAlIDQgKyAxO1xuXHQgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoaSAvIDQpICsgMTtcblx0ICAgICAgbVsnbScgKyBqICsgaWldID0gcGFyc2VGbG9hdChpdGVtKTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICByZXR1cm4gbTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuXHQgIHZhciBfdHJhbnNmb3JtID0gdHJhbnNmb3JtID09PSAnbm9uZScgfHwgdHJhbnNmb3JtID09PSAnJyA/ICdtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCknIDogdHJhbnNmb3JtO1xuXHQgIHZhciBtID0gZ2V0TWF0cml4KF90cmFuc2Zvcm0pO1xuXHQgIHZhciBtMTEgPSBtLm0xMTtcblx0ICB2YXIgbTEyID0gbS5tMTI7XG5cdCAgdmFyIG0xMyA9IG0ubTEzO1xuXHQgIHZhciBtMTQgPSBtLm0xNDtcblx0ICB2YXIgbTIxID0gbS5tMjE7XG5cdCAgdmFyIG0yMiA9IG0ubTIyO1xuXHQgIHZhciBtMjMgPSBtLm0yMztcblx0ICB2YXIgbTI0ID0gbS5tMjQ7XG5cdCAgdmFyIG0zMSA9IG0ubTMxO1xuXHQgIHZhciBtMzIgPSBtLm0zMjtcblx0ICB2YXIgbTMzID0gbS5tMzM7XG5cdCAgdmFyIG0zNCA9IG0ubTM0O1xuXHQgIHZhciBtNDMgPSBtLm00Mztcblx0ICB2YXIgdDEgPSB2b2lkIDA7XG5cdCAgdmFyIHQyID0gdm9pZCAwO1xuXHQgIHZhciB0MyA9IHZvaWQgMDtcblx0ICB2YXIgdG0gPSB7fTtcblx0ICB0bS5wZXJzcGVjdGl2ZSA9IG0zNCA/IHRvRml4ZWQobTMzIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSkgOiAwO1xuXHQgIHRtLnJvdGF0ZVggPSB0b0ZpeGVkKE1hdGguYXNpbihtMjMpICogUkFEMkRFRyk7XG5cdCAgdmFyIGFuZ2xlID0gdG0ucm90YXRlWCAqIERFRzJSQUQ7XG5cdCAgdmFyIHNrZXdYID0gTWF0aC50YW4obTIxKTtcblx0ICB2YXIgc2tld1kgPSBNYXRoLnRhbihtMTIpO1xuXHQgIHZhciBjb3MgPSBtMzQgKiB0bS5wZXJzcGVjdGl2ZTtcblx0ICB2YXIgc2luID0gdm9pZCAwO1xuXHQgIC8vIHJvdGF0ZVhcblx0ICBpZiAoYW5nbGUpIHtcblx0ICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG5cdCAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuXHQgICAgdDEgPSBtMjEgKiBjb3MgKyBtMzEgKiBzaW47XG5cdCAgICB0MiA9IG0yMiAqIGNvcyArIG0zMiAqIHNpbjtcblx0ICAgIHQzID0gbTIzICogY29zICsgbTMzICogc2luO1xuXHQgICAgbTMxID0gbTIxICogLXNpbiArIG0zMSAqIGNvcztcblx0ICAgIG0zMiA9IG0yMiAqIC1zaW4gKyBtMzIgKiBjb3M7XG5cdCAgICBtMzMgPSBtMjMgKiAtc2luICsgbTMzICogY29zO1xuXHQgICAgbTM0ID0gbTI0ICogLXNpbiArIG0zNCAqIGNvcztcblx0ICAgIG0yMSA9IHQxO1xuXHQgICAgbTIyID0gdDI7XG5cdCAgICBtMjMgPSB0Mztcblx0ICB9XG5cdCAgLy8gcm90YXRlWVxuXHQgIGFuZ2xlID0gTWF0aC5hdGFuMihtMzEsIG0zMyk7XG5cdCAgdG0ucm90YXRlWSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcblx0ICBpZiAoYW5nbGUpIHtcblx0ICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG5cdCAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuXHQgICAgdDEgPSBtMTEgKiBjb3MgLSBtMzEgKiBzaW47XG5cdCAgICB0MiA9IG0xMiAqIGNvcyAtIG0zMiAqIHNpbjtcblx0ICAgIHQzID0gbTEzICogY29zIC0gbTMzICogc2luO1xuXHQgICAgbTMyID0gbTEyICogc2luICsgbTMyICogY29zO1xuXHQgICAgbTMzID0gbTEzICogc2luICsgbTMzICogY29zO1xuXHQgICAgbTM0ID0gbTE0ICogc2luICsgbTM0ICogY29zO1xuXHQgICAgbTExID0gdDE7XG5cdCAgICBtMTIgPSB0Mjtcblx0ICAgIG0xMyA9IHQzO1xuXHQgIH1cblx0ICAvLyByb3RhdGVaXG5cdCAgYW5nbGUgPSBNYXRoLmF0YW4yKG0xMiwgbTExKTtcblx0ICB0bS5yb3RhdGUgPSB0b0ZpeGVkKGFuZ2xlICogUkFEMkRFRyk7XG5cdCAgaWYgKGFuZ2xlKSB7XG5cdCAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuXHQgICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcblx0ICAgIG0xMSA9IG0xMSAqIGNvcyArIG0yMSAqIHNpbjtcblx0ICAgIHQyID0gbTEyICogY29zICsgbTIyICogc2luO1xuXHQgICAgbTIyID0gbTEyICogLXNpbiArIG0yMiAqIGNvcztcblx0ICAgIG0yMyA9IG0xMyAqIC1zaW4gKyBtMjMgKiBjb3M7XG5cdCAgICBtMTIgPSB0Mjtcblx0ICB9XG5cdFxuXHQgIGlmICh0bS5yb3RhdGVYICYmIE1hdGguYWJzKHRtLnJvdGF0ZVgpICsgTWF0aC5hYnModG0ucm90YXRlKSA+IDM1OS45KSB7XG5cdCAgICB0bS5yb3RhdGVYID0gdG0ucm90YXRlID0gMDtcblx0ICAgIHRtLnJvdGF0ZVkgKz0gMTgwO1xuXHQgIH1cblx0ICB0bS5zY2FsZVggPSB0b0ZpeGVkKE1hdGguc3FydChtMTEgKiBtMTEgKyBtMTIgKiBtMTIpKTtcblx0ICB0bS5zY2FsZVkgPSB0b0ZpeGVkKE1hdGguc3FydChtMjIgKiBtMjIgKyBtMzIgKiBtMzIpKTtcblx0ICB0bS5zY2FsZVogPSB0b0ZpeGVkKE1hdGguc3FydChtMjMgKiBtMjMgKyBtMzMgKiBtMzMpKTtcblx0ICAvLyDkuI3nrqEgc2tld1ggc2tld1nkuobvvJtcblx0ICB0bS5za2V3WCA9IHNrZXdYID09PSAtc2tld1kgPyAwIDogc2tld1g7XG5cdCAgdG0uc2tld1kgPSBza2V3WSA9PT0gLXNrZXdYID8gMCA6IHNrZXdZO1xuXHQgIHRtLnBlcnNwZWN0aXZlID0gbTM0ID8gMSAvIChtMzQgPCAwID8gLW0zNCA6IG0zNCkgOiAwO1xuXHQgIHRtLnRyYW5zbGF0ZVggPSBtLm00MTtcblx0ICB0bS50cmFuc2xhdGVZID0gbS5tNDI7XG5cdCAgdG0udHJhbnNsYXRlWiA9IG00Mztcblx0ICByZXR1cm4gdG07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN0eWxlc1RvQ3NzKGtleSwgdmFsdWUpIHtcblx0ICB2YXIgX3ZhbHVlID0gdm9pZCAwO1xuXHQgIGlmICghaXNVbml0bGVzc051bWJlcltrZXldICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcblx0ICAgIF92YWx1ZSA9ICcgJyArIHZhbHVlICsgJ3B4Jztcblx0ICB9IGVsc2UgaWYgKGtleSA9PT0gJ2NvbnRlbnQnICYmICF1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4LnRlc3QodmFsdWUpKSB7XG5cdCAgICBfdmFsdWUgPSAnXFwnJyArIHZhbHVlLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSArICdcXCcnO1xuXHQgIH1cblx0ICByZXR1cm4gX3ZhbHVlIHx8IHZhbHVlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRVbml0KHAsIHYpIHtcblx0ICB2YXIgY3VycmVudFVuaXQgPSB2ICYmIHYudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9pZywgJycpO1xuXHQgIHZhciB1bml0ID0gJyc7XG5cdCAgaWYgKHAuaW5kZXhPZigndHJhbnNsYXRlJykgPj0gMCB8fCBwLmluZGV4T2YoJ3BlcnNwZWN0aXZlJykgPj0gMCB8fCBwLmluZGV4T2YoJ2JsdXInKSA+PSAwKSB7XG5cdCAgICB1bml0ID0gJ3B4Jztcblx0ICB9IGVsc2UgaWYgKHAuaW5kZXhPZignc2tldycpID49IDAgfHwgcC5pbmRleE9mKCdyb3RhdGUnKSA+PSAwKSB7XG5cdCAgICB1bml0ID0gJ2RlZyc7XG5cdCAgfVxuXHQgIHJldHVybiBjdXJyZW50VW5pdCB8fCB1bml0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRWYWx1ZXMocCwgZCwgdSkge1xuXHQgIHJldHVybiBwICsgJygnICsgZCArICh1IHx8ICcnKSArICcpJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gZmluZFN0eWxlQnlOYW1lKGNzc0FycmF5LCBuYW1lKSB7XG5cdCAgdmFyIHJldCA9IG51bGw7XG5cdCAgaWYgKGNzc0FycmF5KSB7XG5cdCAgICBjc3NBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChfY25hbWUpIHtcblx0ICAgICAgaWYgKHJldCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY05hbWUgPSBfY25hbWUuc3BsaXQoJygnKVswXTtcblx0ICAgICAgdmFyIGEgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSkuaW5kZXhPZihjTmFtZSkgPj0gMDtcblx0ICAgICAgdmFyIGIgPSBuYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDEpLmluZGV4T2YobmFtZSkgPj0gMDtcblx0ICAgICAgdmFyIGMgPSBjTmFtZSBpbiBjc3NMaXN0LnRyYW5zZm9ybUdyb3VwICYmIG5hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiAoY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDIpID09PSBuYW1lIHx8IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMikgPT09IGNOYW1lKTtcblx0ICAgICAgaWYgKGNOYW1lID09PSBuYW1lIHx8IGEgfHwgYiB8fCBjKSB7XG5cdCAgICAgICAgcmV0ID0gX2NuYW1lO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWVyZ2VTdHlsZShjdXJyZW50LCBjaGFuZ2UpIHtcblx0ICBpZiAoIWN1cnJlbnQgfHwgY3VycmVudCA9PT0gJycpIHtcblx0ICAgIHJldHVybiBjaGFuZ2U7XG5cdCAgfVxuXHQgIGlmICghY2hhbmdlIHx8IGNoYW5nZSA9PT0gJycpIHtcblx0ICAgIHJldHVybiBjdXJyZW50O1xuXHQgIH1cblx0ICB2YXIgX2N1cnJlbnQgPSBjdXJyZW50LnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiBpdGVtO1xuXHQgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW0gKyAnKSc7XG5cdCAgfSk7XG5cdCAgdmFyIF9jaGFuZ2UgPSBjaGFuZ2UucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgcmV0dXJuIGl0ZW0gIT09ICcnICYmIGl0ZW07XG5cdCAgfSk7XG5cdCAgX2NoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2VPbmx5KSB7XG5cdCAgICB2YXIgY2hhbmdlQXJyID0gY2hhbmdlT25seS5zcGxpdCgnKCcpO1xuXHQgICAgdmFyIGNoYW5nZU5hbWUgPSBjaGFuZ2VBcnJbMF07XG5cdCAgICB2YXIgY3VycmVudFNhbWUgPSBmaW5kU3R5bGVCeU5hbWUoX2N1cnJlbnQsIGNoYW5nZU5hbWUpO1xuXHQgICAgaWYgKCFjdXJyZW50U2FtZSkge1xuXHQgICAgICBfY3VycmVudC5wdXNoKGNoYW5nZU9ubHkgKyAnKScpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdmFyIGluZGV4ID0gX2N1cnJlbnQuaW5kZXhPZihjdXJyZW50U2FtZSk7XG5cdCAgICAgIF9jdXJyZW50W2luZGV4XSA9IGNoYW5nZU9ubHkgKyAnKSc7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgX2N1cnJlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgaWYgKGl0ZW0uaW5kZXhPZigncGVyc3BlY3RpdmUnKSA+PSAwICYmIGkpIHtcblx0ICAgICAgX2N1cnJlbnQuc3BsaWNlKGksIDEpO1xuXHQgICAgICBfY3VycmVudC51bnNoaWZ0KGl0ZW0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBfY3VycmVudC5qb2luKCcgJykudHJpbSgpO1xuXHR9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBjc3NMaXN0O1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDQyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuR3JvdXAgPSBleHBvcnRzLkJ1dHRvbiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0dmFyIF9ncm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF9ncm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ncm91cCk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cdFxuXHR2YXIgX3JhZGlvQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvQnV0dG9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0X3JhZGlvMltcImRlZmF1bHRcIl0uQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5cdF9yYWRpbzJbXCJkZWZhdWx0XCJdLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5cdGV4cG9ydHMuR3JvdXAgPSBfZ3JvdXAyW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfcmFkaW8yW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JjRHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCk7XG5cdFxuXHR2YXIgX3JjRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNEcm9wZG93bik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEcm9wZG93biwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRHJvcGRvd24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBEcm9wZG93bik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIERyb3Bkb3duLnByb3RvdHlwZS5nZXRUcmFuc2l0aW9uTmFtZSA9IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMkcGxhY2VtZW50ID0gdGhpcy5wcm9wcy5wbGFjZW1lbnQsXG5cdCAgICAgICAgICAgIHBsYWNlbWVudCA9IF9wcm9wcyRwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJHBsYWNlbWVudDtcblx0XG5cdCAgICAgICAgaWYgKHBsYWNlbWVudC5pbmRleE9mKCd0b3AnKSA+PSAwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnc2xpZGUtZG93bic7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAnc2xpZGUtdXAnO1xuXHQgICAgfTtcblx0XG5cdCAgICBEcm9wZG93bi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblx0XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duVHJpZ2dlciA9ICgwLCBfcmVhY3QuY2xvbmVFbGVtZW50KShjaGlsZHJlbiwge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjaGlsZHJlbi5wcm9wcy5jbGFzc05hbWUsIHByZWZpeENscyArICctdHJpZ2dlcicpXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY0Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHRyYW5zaXRpb25OYW1lOiB0aGlzLmdldFRyYW5zaXRpb25OYW1lKCkgfSwgdGhpcy5wcm9wcyksXG5cdCAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlclxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBEcm9wZG93bjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bjtcblx0XG5cdERyb3Bkb3duLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIHByZWZpeENsczogJ2FudC1kcm9wZG93bicsXG5cdCAgICBtb3VzZUVudGVyRGVsYXk6IDAuMTUsXG5cdCAgICBtb3VzZUxlYXZlRGVsYXk6IDAuMSxcblx0ICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA0Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUmFkaW9CdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpb0J1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUmFkaW9CdXR0b24oKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpb0J1dHRvbik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHRoaXMucHJvcHMpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUmFkaW9CdXR0b247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9CdXR0b247XG5cdFxuXHRSYWRpb0J1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtcmFkaW8tYnV0dG9uJ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JjVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9SY1RhYmxlJENvbHVtbkdyb3VwKSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDb2x1bW5Hcm91cCwgX1JjVGFibGUkQ29sdW1uR3JvdXApO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgQ29sdW1uR3JvdXApO1xuXHQgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW5Hcm91cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBDb2x1bW5Hcm91cDtcblx0fShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbkdyb3VwKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uR3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTYpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgWkVSTzogNDgsXG5cdCAgTklORTogNTcsXG5cdFxuXHQgIE5VTVBBRF9aRVJPOiA5Nixcblx0ICBOVU1QQURfTklORTogMTA1LFxuXHRcblx0ICBCQUNLU1BBQ0U6IDgsXG5cdCAgREVMRVRFOiA0Nixcblx0ICBFTlRFUjogMTMsXG5cdFxuXHQgIEFSUk9XX1VQOiAzOCxcblx0ICBBUlJPV19ET1dOOiA0MFxuXHR9O1xuXG4vKioqLyB9LFxuXG4vKioqLyA1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICAvLyBPcHRpb25zLmpzeFxuXHQgIGl0ZW1zX3Blcl9wYWdlOiAn5p2hL+mhtScsXG5cdCAganVtcF90bzogJ+i3s+iHsycsXG5cdCAgcGFnZTogJ+mhtScsXG5cdFxuXHQgIC8vIFBhZ2luYXRpb24uanN4XG5cdCAgcHJldl9wYWdlOiAn5LiK5LiA6aG1Jyxcblx0ICBuZXh0X3BhZ2U6ICfkuIvkuIDpobUnLFxuXHQgIHByZXZfNTogJ+WQkeWJjSA1IOmhtScsXG5cdCAgbmV4dF81OiAn5ZCR5ZCOIDUg6aG1Jyxcblx0ICBwcmV2XzM6ICflkJHliY0gMyDpobUnLFxuXHQgIG5leHRfMzogJ+WQkeWQjiAzIOmhtSdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDU4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHRleHBvcnRzLmdldFRvZGF5VGltZSA9IGdldFRvZGF5VGltZTtcblx0ZXhwb3J0cy5nZXRUaXRsZVN0cmluZyA9IGdldFRpdGxlU3RyaW5nO1xuXHRleHBvcnRzLmdldFRvZGF5VGltZVN0ciA9IGdldFRvZGF5VGltZVN0cjtcblx0ZXhwb3J0cy5zeW5jVGltZSA9IHN5bmNUaW1lO1xuXHRleHBvcnRzLmdldFRpbWVDb25maWcgPSBnZXRUaW1lQ29uZmlnO1xuXHRleHBvcnRzLmlzVGltZVZhbGlkQnlDb25maWcgPSBpc1RpbWVWYWxpZEJ5Q29uZmlnO1xuXHRleHBvcnRzLmlzVGltZVZhbGlkID0gaXNUaW1lVmFsaWQ7XG5cdGV4cG9ydHMuaXNBbGxvd2VkRGF0ZSA9IGlzQWxsb3dlZERhdGU7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIGRlZmF1bHREaXNhYmxlZFRpbWUgPSB7XG5cdCAgZGlzYWJsZWRIb3VyczogZnVuY3Rpb24gZGlzYWJsZWRIb3VycygpIHtcblx0ICAgIHJldHVybiBbXTtcblx0ICB9LFxuXHQgIGRpc2FibGVkTWludXRlczogZnVuY3Rpb24gZGlzYWJsZWRNaW51dGVzKCkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHQgIH0sXG5cdCAgZGlzYWJsZWRTZWNvbmRzOiBmdW5jdGlvbiBkaXNhYmxlZFNlY29uZHMoKSB7XG5cdCAgICByZXR1cm4gW107XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZ2V0VG9kYXlUaW1lKHZhbHVlKSB7XG5cdCAgdmFyIHRvZGF5ID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcblx0ICB0b2RheS5sb2NhbGUodmFsdWUubG9jYWxlKCkpLnV0Y09mZnNldCh2YWx1ZS51dGNPZmZzZXQoKSk7XG5cdCAgcmV0dXJuIHRvZGF5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUaXRsZVN0cmluZyh2YWx1ZSkge1xuXHQgIHJldHVybiB2YWx1ZS55ZWFyKCkgKyAnLScgKyAodmFsdWUubW9udGgoKSArIDEpICsgJy0nICsgdmFsdWUuZGF0ZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRUb2RheVRpbWVTdHIodmFsdWUpIHtcblx0ICB2YXIgdG9kYXkgPSBnZXRUb2RheVRpbWUodmFsdWUpO1xuXHQgIHJldHVybiBnZXRUaXRsZVN0cmluZyh0b2RheSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHN5bmNUaW1lKGZyb20sIHRvKSB7XG5cdCAgdG8uaG91cihmcm9tLmhvdXIoKSk7XG5cdCAgdG8ubWludXRlKGZyb20ubWludXRlKCkpO1xuXHQgIHRvLnNlY29uZChmcm9tLnNlY29uZCgpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0VGltZUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lKSB7XG5cdCAgdmFyIGRpc2FibGVkVGltZUNvbmZpZyA9IGRpc2FibGVkVGltZSA/IGRpc2FibGVkVGltZSh2YWx1ZSkgOiB7fTtcblx0ICBkaXNhYmxlZFRpbWVDb25maWcgPSAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHREaXNhYmxlZFRpbWUsIGRpc2FibGVkVGltZUNvbmZpZyk7XG5cdCAgcmV0dXJuIGRpc2FibGVkVGltZUNvbmZpZztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNUaW1lVmFsaWRCeUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lQ29uZmlnKSB7XG5cdCAgdmFyIGludmFsaWRUaW1lID0gZmFsc2U7XG5cdCAgaWYgKHZhbHVlKSB7XG5cdCAgICB2YXIgaG91ciA9IHZhbHVlLmhvdXIoKTtcblx0ICAgIHZhciBtaW51dGVzID0gdmFsdWUubWludXRlKCk7XG5cdCAgICB2YXIgc2Vjb25kcyA9IHZhbHVlLnNlY29uZCgpO1xuXHQgICAgdmFyIGRpc2FibGVkSG91cnMgPSBkaXNhYmxlZFRpbWVDb25maWcuZGlzYWJsZWRIb3VycygpO1xuXHQgICAgaWYgKGRpc2FibGVkSG91cnMuaW5kZXhPZihob3VyKSA9PT0gLTEpIHtcblx0ICAgICAgdmFyIGRpc2FibGVkTWludXRlcyA9IGRpc2FibGVkVGltZUNvbmZpZy5kaXNhYmxlZE1pbnV0ZXMoaG91cik7XG5cdCAgICAgIGlmIChkaXNhYmxlZE1pbnV0ZXMuaW5kZXhPZihtaW51dGVzKSA9PT0gLTEpIHtcblx0ICAgICAgICB2YXIgZGlzYWJsZWRTZWNvbmRzID0gZGlzYWJsZWRUaW1lQ29uZmlnLmRpc2FibGVkU2Vjb25kcyhob3VyLCBtaW51dGVzKTtcblx0ICAgICAgICBpbnZhbGlkVGltZSA9IGRpc2FibGVkU2Vjb25kcy5pbmRleE9mKHNlY29uZHMpICE9PSAtMTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbnZhbGlkVGltZSA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGludmFsaWRUaW1lID0gdHJ1ZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuICFpbnZhbGlkVGltZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNUaW1lVmFsaWQodmFsdWUsIGRpc2FibGVkVGltZSkge1xuXHQgIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBnZXRUaW1lQ29uZmlnKHZhbHVlLCBkaXNhYmxlZFRpbWUpO1xuXHQgIHJldHVybiBpc1RpbWVWYWxpZEJ5Q29uZmlnKHZhbHVlLCBkaXNhYmxlZFRpbWVDb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0FsbG93ZWREYXRlKHZhbHVlLCBkaXNhYmxlZERhdGUsIGRpc2FibGVkVGltZSkge1xuXHQgIGlmIChkaXNhYmxlZERhdGUpIHtcblx0ICAgIGlmIChkaXNhYmxlZERhdGUodmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgaWYgKGRpc2FibGVkVGltZSkge1xuXHQgICAgaWYgKCFpc1RpbWVWYWxpZCh2YWx1ZSwgZGlzYWJsZWRUaW1lKSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1RhYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7XG5cdFxuXHR2YXIgX1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfVGFibGUyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExMyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNzEpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX1RpbWVMaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO1xuXHRcblx0dmFyIF9UaW1lTGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UaW1lTGluZSk7XG5cdFxuXHR2YXIgX3BsdWdpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTtcblx0XG5cdHZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblx0XG5cdHZhciBfdGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjcpO1xuXHRcblx0dmFyIF90aWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGlja2VyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHZhciBwZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcblx0XG5cdHZhciBUd2Vlbk9uZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFR3ZWVuT25lLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVHdlZW5PbmUoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdlZW5PbmUpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgX3RoaXMucmVzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG5cdCAgICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICAgIF90aGlzLnBsYXkoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuXHQgICAgICBpZiAocHJvcHMuYW5pbWF0aW9uICYmIE9iamVjdC5rZXlzKHByb3BzLmFuaW1hdGlvbikubGVuZ3RoKSB7XG5cdCAgICAgICAgX3RoaXMudGltZUxpbmUgPSBuZXcgX1RpbWVMaW5lMltcImRlZmF1bHRcIl0oX3RoaXMuZG9tLCAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKHByb3BzLmFuaW1hdGlvbiksIHsgYXR0cjogcHJvcHMuYXR0ciwgd2lsbENoYW5nZTogcHJvcHMud2lsbENoYW5nZSB9KTtcblx0ICAgICAgICAvLyDpooTlhYjms6jlhowgcmFmLCDliJ3lp4vliqjnlLvmlbDlgLzjgIJcblx0ICAgICAgICBfdGhpcy5yYWYoMCwgdHJ1ZSk7XG5cdCAgICAgICAgLy8g5byA5aeL5Yqo55S7XG5cdCAgICAgICAgX3RoaXMucGxheSgpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICBpZiAoX3RoaXMucGF1c2VkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnJhZklEID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmFkZChfdGhpcy5yYWYpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5mcmFtZSA9IGZ1bmN0aW9uIChkYXRlLCByZWdpc3Rlcikge1xuXHQgICAgICB2YXIgcmVnaXN0ZXJNb21lbnQgPSByZWdpc3RlciA/IGRhdGUgOiAwO1xuXHQgICAgICB2YXIgbW9tZW50ID0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWUgKyByZWdpc3Rlck1vbWVudCArIF90aGlzLnN0YXJ0TW9tZW50O1xuXHQgICAgICBpZiAoIXJlZ2lzdGVyICYmIG1vbWVudCA8IHBlckZyYW1lICYmIHR5cGVvZiBfdGhpcy5wcm9wcy5tb21lbnQgIT09ICdudW1iZXInKSB7XG5cdCAgICAgICAgLy8g5rOo5YaM5a6M5ZCO77yM56ys5LiA5bin6aKE5YWI6LeR5Yqo77yMIOm8oOagh+i3n+maj1xuXHQgICAgICAgIG1vbWVudCA9IHBlckZyYW1lO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChfdGhpcy5yZXZlcnNlKSB7XG5cdCAgICAgICAgbW9tZW50ID0gKF90aGlzLnN0YXJ0TW9tZW50IHx8IDApIC0gKF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZSAtIF90aGlzLnN0YXJ0RnJhbWUpICogcGVyRnJhbWU7XG5cdCAgICAgIH1cblx0ICAgICAgbW9tZW50ID0gbW9tZW50ID4gX3RoaXMudGltZUxpbmUudG90YWxUaW1lID8gX3RoaXMudGltZUxpbmUudG90YWxUaW1lIDogbW9tZW50O1xuXHQgICAgICBtb21lbnQgPSBtb21lbnQgPD0gMCA/IDAgOiBtb21lbnQ7XG5cdCAgICAgIGlmIChtb21lbnQgPCBfdGhpcy5tb21lbnQgJiYgIV90aGlzLnJldmVyc2UpIHtcblx0ICAgICAgICBfdGhpcy50aW1lTGluZS5yZXNldERlZmF1bHRTdHlsZSgpO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLm1vbWVudCA9IG1vbWVudDtcblx0ICAgICAgX3RoaXMudGltZUxpbmUub25DaGFuZ2UgPSBfdGhpcy5vbkNoYW5nZTtcblx0ICAgICAgX3RoaXMudGltZUxpbmUuZnJhbWUobW9tZW50KTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMucmFmID0gZnVuY3Rpb24gKGRhdGUsIHJlZ2lzdGVyKSB7XG5cdCAgICAgIF90aGlzLmZyYW1lKGRhdGUsIHJlZ2lzdGVyKTtcblx0ICAgICAgaWYgKF90aGlzLm1vbWVudCA+PSBfdGhpcy50aW1lTGluZS50b3RhbFRpbWUgJiYgIV90aGlzLnJldmVyc2UgfHwgX3RoaXMucGF1c2VkIHx8IF90aGlzLnJldmVyc2UgJiYgX3RoaXMubW9tZW50ID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmNsZWFyKF90aGlzLnJhZklEKTtcblx0ICAgICAgX3RoaXMucmFmSUQgPSAtMTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMucmFmSUQgPSAtMTtcblx0ICAgIF90aGlzLm1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuXHQgICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy5wcm9wcy5tb21lbnQgfHwgMDtcblx0ICAgIF90aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG5cdCAgICBfdGhpcy5wYXVzZWQgPSBfdGhpcy5wcm9wcy5wYXVzZWQ7XG5cdCAgICBfdGhpcy5yZXZlcnNlID0gX3RoaXMucHJvcHMucmV2ZXJzZTtcblx0ICAgIF90aGlzLm9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICBfdGhpcy5uZXdNb21lbnRBbmltID0gZmFsc2U7XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHRoaXMuZG9tID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG5cdCAgICB0aGlzLnN0YXJ0KCk7XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5vbkNoYW5nZSA9IG5leHRQcm9wcy5vbkNoYW5nZTtcblx0ICAgIC8vIOi3s+W4p+S6i+S7tiBtb21lbnQ7XG5cdCAgICB2YXIgbmV3TW9tZW50ID0gbmV4dFByb3BzLm1vbWVudDtcblx0ICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuXHQgICAgaWYgKHR5cGVvZiBuZXdNb21lbnQgPT09ICdudW1iZXInICYmIG5ld01vbWVudCAhPT0gdGhpcy5tb21lbnQpIHtcblx0ICAgICAgdGhpcy5zdGFydE1vbWVudCA9IG5ld01vbWVudDtcblx0ICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICBpZiAodGhpcy5yYWZJRCA9PT0gLTEgJiYgIW5leHRQcm9wcy5wYXVzZWQpIHtcblx0ICAgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgX3RoaXMyLnRpbWVMaW5lLnJlc2V0QW5pbURhdGEoKTtcblx0ICAgICAgICAgIHZhciBzdHlsZSA9IG5leHRQcm9wcy5zdHlsZTtcblx0ICAgICAgICAgIF90aGlzMi5kb20uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcblx0ICAgICAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgX3RoaXMyLmRvbS5zdHlsZVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIHN0eWxlW2tleV0pO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgICBfdGhpczIucGxheSgpO1xuXHQgICAgICAgIH0pKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5uZXdNb21lbnRBbmltID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy8g5Yqo55S75aSE55CGXG5cdCAgICB2YXIgbmV3QW5pbWF0aW9uID0gbmV4dFByb3BzLmFuaW1hdGlvbjtcblx0ICAgIHZhciBjdXJyZW50QW5pbWF0aW9uID0gdGhpcy5wcm9wcy5hbmltYXRpb247XG5cdCAgICB2YXIgZXF1YWwgPSAoMCwgX3V0aWwub2JqZWN0RXF1YWwpKGN1cnJlbnRBbmltYXRpb24sIG5ld0FuaW1hdGlvbik7XG5cdCAgICB2YXIgc3R5bGVFcXVhbCA9ICgwLCBfdXRpbC5vYmplY3RFcXVhbCkodGhpcy5wcm9wcy5zdHlsZSwgbmV4dFByb3BzLnN0eWxlKTtcblx0ICAgIC8vIOWmguaenCBhbmltYXRpb24g5LiN5ZCM77yMIOmHjeaWsOWKqOeUu1xuXHQgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IGZhbHNlO1xuXHQgICAgaWYgKCFlcXVhbCkge1xuXHQgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICBpZiAobmV4dFByb3BzLnJlc2V0U3R5bGVCb29sICYmIHRoaXMudGltZUxpbmUpIHtcblx0ICAgICAgICB0aGlzLnRpbWVMaW5lLnJlc2V0RGVmYXVsdFN0eWxlKCk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5zdGFydE1vbWVudCA9IDA7XG5cdCAgICAgIHRoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcblx0ICAgICAgdGhpcy5yZXN0YXJ0QW5pbSA9IHRydWU7XG5cdCAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcblx0ICAgIH0gZWxzZSBpZiAoIXN0eWxlRXF1YWwpIHtcblx0ICAgICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDnm7jlkIzvvIzvvIxzdHlsZSDkuI3lkIzvvIzku47lvZPliY3ml7bpl7TlvIDmlL7jgIJcblx0ICAgICAgaWYgKHRoaXMucmFmSUQgIT09IC0xKSB7XG5cdCAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG5cdCAgICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuXHQgICAgICAgIHRoaXMucmVzdGFydEFuaW0gPSB0cnVlO1xuXHQgICAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgLy8g5pqC5YGc5YCS5pS+XG5cdCAgICBpZiAodGhpcy5wYXVzZWQgIT09IG5leHRQcm9wcy5wYXVzZWQgfHwgdGhpcy5yZXZlcnNlICE9PSBuZXh0UHJvcHMucmV2ZXJzZSkge1xuXHQgICAgICB0aGlzLnBhdXNlZCA9IG5leHRQcm9wcy5wYXVzZWQ7XG5cdCAgICAgIHRoaXMucmV2ZXJzZSA9IG5leHRQcm9wcy5yZXZlcnNlO1xuXHQgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcblx0ICAgICAgICB0aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSgpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlmICh0aGlzLnJldmVyc2UgJiYgbmV4dFByb3BzLnJldmVyc2VEZWxheSkge1xuXHQgICAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcblx0ICAgICAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS50aW1lb3V0KHRoaXMucmVzdGFydCwgbmV4dFByb3BzLnJldmVyc2VEZWxheSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHRoaXMucmVzdGFydCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cdCAgICAvLyDmoLflvI/mm7TmlrDkuoblkI7lho3miafooYzliqjnlLvvvJtcblx0ICAgIGlmICh0aGlzLnJlc3RhcnRBbmltKSB7XG5cdCAgICAgIHRoaXMuc3RhcnQoKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLm5ld01vbWVudEFuaW0pIHtcblx0ICAgICAgdGhpcy5yYWYoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG5cdCAgfTtcblx0XG5cdCAgVHdlZW5PbmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgIFsnYW5pbWF0aW9uJywgJ2NvbXBvbmVudCcsICdyZXZlcnNlRGVsYXknLCAnYXR0cicsICdwYXVzZWQnLCAncmV2ZXJzZScsICdtb21lbnQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICByZXR1cm4gZGVsZXRlIHByb3BzW2tleV07XG5cdCAgICB9KTtcblx0ICAgIHByb3BzLnN0eWxlID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMuc3R5bGUpO1xuXHQgICAgT2JqZWN0LmtleXMocHJvcHMuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcblx0ICAgICAgaWYgKHAubWF0Y2goL2ZpbHRlci9pKSkge1xuXHQgICAgICAgIFsnV2Via2l0JywgJ01veicsICdNcycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuXHQgICAgICAgICAgcmV0dXJuIHByb3BzLnN0eWxlW3ByZWZpeCArICdGaWx0ZXInXSA9IHByb3BzLnN0eWxlW3BdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHByb3BzLmNvbXBvbmVudCA9IHR5cGVvZiBwcm9wcy5jb21wb25lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3BzLmNvbXBvbmVudFJlcGxhY2UgOiBwcm9wcy5jb21wb25lbnQ7XG5cdCAgICBpZiAoIXByb3BzLmNvbXBvbmVudCkge1xuXHQgICAgICBkZWxldGUgcHJvcHMuY29tcG9uZW50O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQodGhpcy5wcm9wcy5jb21wb25lbnQsIHByb3BzKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVHdlZW5PbmU7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXHRcblx0VHdlZW5PbmUucHJvcFR5cGVzID0ge1xuXHQgIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY29tcG9uZW50UmVwbGFjZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgYW5pbWF0aW9uOiBvYmplY3RPckFycmF5LFxuXHQgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcGF1c2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcmV2ZXJzZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIHJldmVyc2VEZWxheTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgbW9tZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBhdHRyOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICByZXNldFN0eWxlQm9vbDogX3JlYWN0LlByb3BUeXBlcy5ib29sXG5cdH07XG5cdFxuXHRUd2Vlbk9uZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgY29tcG9uZW50OiAnZGl2Jyxcblx0ICByZXZlcnNlRGVsYXk6IDAsXG5cdCAgYXR0cjogJ3N0eWxlJyxcblx0ICBvbkNoYW5nZTogbm9vcCxcblx0ICB3aWxsQ2hhbmdlOiB0cnVlXG5cdH07XG5cdFR3ZWVuT25lLnBsdWdpbnMgPSBfcGx1Z2luczJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFR3ZWVuT25lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gNjY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfdHdlZW5GdW5jdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cdFxuXHR2YXIgX3R3ZWVuRnVuY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R3ZWVuRnVuY3Rpb25zKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5wYXRoID0gZnVuY3Rpb24gKF9wYXRoLCBfcGFyYW0pIHtcblx0ICB2YXIgcGFyYW0gPSBfcGFyYW0gfHwge307XG5cdCAgdmFyIHBhdGhOb2RlID0gKDAsIF91dGlsLnBhcnNlUGF0aCkoX3BhdGgpO1xuXHQgIHZhciBwYXRoTGVuZ3RoID0gcGF0aE5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcblx0ICB2YXIgcmVjdCA9IHBhcmFtLnJlY3QgfHwgMTAwOyAvLyBwYXRoIOeahOWkp+Wwj++8jDEwMCAqIDEwMO+8jFxuXHQgIHZhciBsZW5ndGhQaXhlbCA9IHBhcmFtLmxlbmd0aFBpeGVsIHx8IDE1MDA7IC8vIOe6v+S4iuWPlueCueWDj+e0oO+8jOm7mOiupOWIhuS4uiAxNTAwIOauteOAguOAglxuXHQgIHZhciBwb2ludHMgPSBbXTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aFBpeGVsOyBpKyspIHtcblx0ICAgIHBvaW50cy5wdXNoKHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocGF0aExlbmd0aCAvIGxlbmd0aFBpeGVsICogaSkpO1xuXHQgIH1cblx0ICByZXR1cm4gZnVuY3Rpb24gcGF0aCh0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIHAgPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5saW5lYXIodCwgYiwgX2MsIGQpO1xuXHQgICAgdmFyIHRpbWVQb2ludFggPSByZWN0ICogcDsgLy8gWCDovbTnmoTnmb7liIbmr5Q7XG5cdCAgICAvLyDlj5blh7ogeCDovbTnmb7liIbmr5TkuIrnmoTngrk7XG5cdCAgICB2YXIgcG9pbnQgPSBwb2ludHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIHJldHVybiBpdGVtLnggPj0gdGltZVBvaW50WDtcblx0ICAgIH0pWzBdIHx8IHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocCAqIHBhdGhMZW5ndGgpO1xuXHQgICAgcmV0dXJuIDEgLSBwb2ludC55IC8gcmVjdDtcblx0ICB9O1xuXHR9O1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcxOlxuWzEyMTYsIDEwN10sXG5cbi8qKiovIDcyOlxuWzEyMTYsIDExMV0sXG5cbi8qKiovIDc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIE1FTlUgPSBleHBvcnRzLk1FTlUgPSAxO1xuXHR2YXIgREVUQUlMID0gZXhwb3J0cy5ERVRBSUwgPSAyO1xuXHR2YXIgQUREID0gZXhwb3J0cy5BREQgPSAzO1xuXHR2YXIgVVBEQVRFID0gZXhwb3J0cy5VUERBVEUgPSA0O1xuXHR2YXIgREVMRVRFID0gZXhwb3J0cy5ERUxFVEUgPSA1O1xuXHR2YXIgQ0hFQ0sgPSBleHBvcnRzLkNIRUNLID0gNjtcblx0dmFyIFVQTE9BRCA9IGV4cG9ydHMuVVBMT0FEID0gNztcblxuLyoqKi8gfSxcblxuLyoqKi8gNzY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7dmFyIG5vdyA9IF9fd2VicGFja19yZXF1aXJlX18oMTE1KVxuXHQgICwgcm9vdCA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XG5cdCAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cblx0ICAsIHN1ZmZpeCA9ICdBbmltYXRpb25GcmFtZSdcblx0ICAsIHJhZiA9IHJvb3RbJ3JlcXVlc3QnICsgc3VmZml4XVxuXHQgICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cdFxuXHRmb3IodmFyIGkgPSAwOyAhcmFmICYmIGkgPCB2ZW5kb3JzLmxlbmd0aDsgaSsrKSB7XG5cdCAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuXHQgIGNhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWwnICsgc3VmZml4XVxuXHQgICAgICB8fCByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cdH1cblx0XG5cdC8vIFNvbWUgdmVyc2lvbnMgb2YgRkYgaGF2ZSByQUYgYnV0IG5vdCBjQUZcblx0aWYoIXJhZiB8fCAhY2FmKSB7XG5cdCAgdmFyIGxhc3QgPSAwXG5cdCAgICAsIGlkID0gMFxuXHQgICAgLCBxdWV1ZSA9IFtdXG5cdCAgICAsIGZyYW1lRHVyYXRpb24gPSAxMDAwIC8gNjBcblx0XG5cdCAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0ICAgIGlmKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICB2YXIgX25vdyA9IG5vdygpXG5cdCAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG5cdCAgICAgIGxhc3QgPSBuZXh0ICsgX25vd1xuXHQgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG5cdCAgICAgICAgLy8gQ2xlYXIgcXVldWUgaGVyZSB0byBwcmV2ZW50XG5cdCAgICAgICAgLy8gY2FsbGJhY2tzIGZyb20gYXBwZW5kaW5nIGxpc3RlbmVyc1xuXHQgICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcblx0ICAgICAgICBxdWV1ZS5sZW5ndGggPSAwXG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG5cdCAgICAgICAgICAgIHRyeXtcblx0ICAgICAgICAgICAgICBjcFtpXS5jYWxsYmFjayhsYXN0KVxuXHQgICAgICAgICAgICB9IGNhdGNoKGUpIHtcblx0ICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0aHJvdyBlIH0sIDApXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0sIE1hdGgucm91bmQobmV4dCkpXG5cdCAgICB9XG5cdCAgICBxdWV1ZS5wdXNoKHtcblx0ICAgICAgaGFuZGxlOiArK2lkLFxuXHQgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG5cdCAgICAgIGNhbmNlbGxlZDogZmFsc2Vcblx0ICAgIH0pXG5cdCAgICByZXR1cm4gaWRcblx0ICB9XG5cdFxuXHQgIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuXHQgICAgZm9yKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmKHF1ZXVlW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG5cdCAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG5cdCAgLy8gV3JhcCBpbiBhIG5ldyBmdW5jdGlvbiB0byBwcmV2ZW50XG5cdCAgLy8gYGNhbmNlbGAgcG90ZW50aWFsbHkgYmVpbmcgYXNzaWduZWRcblx0ICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuXHQgIHJldHVybiByYWYuY2FsbChyb290LCBmbilcblx0fVxuXHRtb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcblx0ICBjYWYuYXBwbHkocm9vdCwgYXJndW1lbnRzKVxuXHR9XG5cdG1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgcm9vdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSByYWZcblx0ICByb290LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2FmXG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gODI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuXHRcblx0dmFyIF90b0NvbnN1bWFibGVBcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0NvbnN1bWFibGVBcnJheTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblx0XG5cdHZhciBfUHVyZVJlbmRlck1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ2hlY2tib3hHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIENoZWNrYm94R3JvdXAocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94R3JvdXApO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnRvZ2dsZU9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gX3RoaXMuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTNbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS52YWx1ZSkpO1xuXHQgICAgICAgICAgICBpZiAob3B0aW9uSW5kZXggPT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZS5wdXNoKG9wdGlvbi52YWx1ZSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZS5zcGxpY2Uob3B0aW9uSW5kZXgsIDEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlIHx8IFtdXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgQ2hlY2tib3hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSB8fCBbXVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zO1xuXHQgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzk2MFxuXHRcblx0ICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG9wdGlvbixcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uXG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiBvcHRpb247XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cdFxuXHQgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zKCkubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICBfaW5kZXgyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgZGlzYWJsZWQ6ICdkaXNhYmxlZCcgaW4gb3B0aW9uID8gb3B0aW9uLmRpc2FibGVkIDogX3RoaXMyLnByb3BzLmRpc2FibGVkLCBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUuaW5kZXhPZihvcHRpb24udmFsdWUpICE9PSAtMSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnRvZ2dsZU9wdGlvbihvcHRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtJywga2V5OiBvcHRpb24udmFsdWUgfSxcblx0ICAgICAgICAgICAgICAgIG9wdGlvbi5sYWJlbFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcgfSxcblx0ICAgICAgICAgICAgb3B0aW9uc1xuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBDaGVja2JveEdyb3VwO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94R3JvdXA7XG5cdFxuXHRDaGVja2JveEdyb3VwLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIG9wdGlvbnM6IFtdLFxuXHQgICAgcHJlZml4Q2xzOiAnYW50LWNoZWNrYm94LWdyb3VwJ1xuXHR9O1xuXHRDaGVja2JveEdyb3VwLnByb3BUeXBlcyA9IHtcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcblx0ICAgIG9wdGlvbnM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfYnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cdFxuXHR2YXIgX2J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9idXR0b24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdFxuXHR2YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuXHQgICAgdmFyIHQgPSB7fTtcblx0ICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG5cdCAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuXHQgICAgfXJldHVybiB0O1xuXHR9O1xuXHRcblx0dmFyIEJ1dHRvbkdyb3VwID0gX2J1dHRvbjJbXCJkZWZhdWx0XCJdLkdyb3VwO1xuXHRcblx0dmFyIERyb3Bkb3duQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRHJvcGRvd25CdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIERyb3Bkb3duQnV0dG9uKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRHJvcGRvd25CdXR0b24pO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBEcm9wZG93bkJ1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuXHQgICAgICAgICAgICBvdmVybGF5ID0gX2Eub3ZlcmxheSxcblx0ICAgICAgICAgICAgdHJpZ2dlciA9IF9hLnRyaWdnZXIsXG5cdCAgICAgICAgICAgIGFsaWduID0gX2EuYWxpZ24sXG5cdCAgICAgICAgICAgIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgb25DbGljayA9IF9hLm9uQ2xpY2ssXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgdmlzaWJsZSA9IF9hLnZpc2libGUsXG5cdCAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZSA9IF9hLm9uVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJ0eXBlXCIsIFwib3ZlcmxheVwiLCBcInRyaWdnZXJcIiwgXCJhbGlnblwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwib25DbGlja1wiLCBcInByZWZpeENsc1wiLCBcImRpc2FibGVkXCIsIFwidmlzaWJsZVwiLCBcIm9uVmlzaWJsZUNoYW5nZVwiXSk7XG5cdCAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duUHJvcHMgPSB7XG5cdCAgICAgICAgICAgIGFsaWduOiBhbGlnbixcblx0ICAgICAgICAgICAgb3ZlcmxheTogb3ZlcmxheSxcblx0ICAgICAgICAgICAgdHJpZ2dlcjogZGlzYWJsZWQgPyBbXSA6IHRyaWdnZXIsXG5cdCAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZTogb25WaXNpYmxlQ2hhbmdlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpZiAoJ3Zpc2libGUnIGluIHRoaXMucHJvcHMpIHtcblx0ICAgICAgICAgICAgZHJvcGRvd25Qcm9wcy52aXNpYmxlID0gdmlzaWJsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIEJ1dHRvbkdyb3VwLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJlc3RQcm9wcywgeyBjbGFzc05hbWU6IGNscyB9KSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgdHlwZTogdHlwZSwgb25DbGljazogb25DbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkIH0sXG5cdCAgICAgICAgICAgICAgICBjaGlsZHJlblxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX2Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICBkcm9wZG93blByb3BzLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBfYnV0dG9uMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdHlwZTogJ2Rvd24nIH0pXG5cdCAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRHJvcGRvd25CdXR0b247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25CdXR0b247XG5cdFxuXHREcm9wZG93bkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBhbGlnbjoge1xuXHQgICAgICAgIHBvaW50czogWyd0cicsICdiciddLFxuXHQgICAgICAgIG92ZXJsYXk6IHtcblx0ICAgICAgICAgICAgYWRqdXN0WDogMSxcblx0ICAgICAgICAgICAgYWRqdXN0WTogMVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICAgICAgdGFyZ2V0T2Zmc2V0OiBbMCwgMF1cblx0ICAgIH0sXG5cdCAgICB0eXBlOiAnZGVmYXVsdCcsXG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtZHJvcGRvd24tYnV0dG9uJ1xuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0XG5cdHZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXHRcblx0dmFyIF9kcm9wZG93bkJ1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oODMpO1xuXHRcblx0dmFyIF9kcm9wZG93bkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bkJ1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdLkJ1dHRvbiA9IF9kcm9wZG93bkJ1dHRvbjJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9kcm9wZG93bjJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gODU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA4OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHR2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgTWluaVNlbGVjdCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE1pbmlTZWxlY3QsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE1pbmlTZWxlY3QoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBNaW5pU2VsZWN0KTtcblx0ICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgTWluaVNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9zZWxlY3QyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgc2l6ZTogJ3NtYWxsJyB9LCB0aGlzLnByb3BzKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBNaW5pU2VsZWN0O1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1pbmlTZWxlY3Q7XG5cdFxuXHRNaW5pU2VsZWN0Lk9wdGlvbiA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNQYWdpbmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpO1xuXHRcblx0dmFyIF9yY1BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNQYWdpbmF0aW9uKTtcblx0XG5cdHZhciBfc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdFxuXHR2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXHRcblx0dmFyIF9NaW5pU2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7XG5cdFxuXHR2YXIgX01pbmlTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWluaVNlbGVjdCk7XG5cdFxuXHR2YXIgX3poX0NOID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHR2YXIgX3poX0NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFBhZ2luYXRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBQYWdpbmF0aW9uKCkge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUGFnaW5hdGlvbik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIFBhZ2luYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG5cdCAgICAgICAgdmFyIHNlbGVjdENvbXBvbmVudENsYXNzID0gX3NlbGVjdDJbXCJkZWZhdWx0XCJdO1xuXHQgICAgICAgIHZhciBsb2NhbGUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5QYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSB0aGlzLnByb3BzLmxvY2FsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKHRoaXMucHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJykge1xuXHQgICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBtaW5pJztcblx0ICAgICAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3MgPSBfTWluaVNlbGVjdDJbXCJkZWZhdWx0XCJdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNQYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNlbGVjdENvbXBvbmVudENsYXNzOiBzZWxlY3RDb21wb25lbnRDbGFzcywgc2VsZWN0UHJlZml4Q2xzOiB0aGlzLnByb3BzLnNlbGVjdFByZWZpeENscyB9LCB0aGlzLnByb3BzLCB7IGxvY2FsZTogbG9jYWxlLCBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBQYWdpbmF0aW9uO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBhZ2luYXRpb247XG5cdFxuXHRQYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcblx0ICAgIGxvY2FsZTogX3poX0NOMltcImRlZmF1bHRcIl0sXG5cdCAgICBjbGFzc05hbWU6ICcnLFxuXHQgICAgcHJlZml4Q2xzOiAnYW50LXBhZ2luYXRpb24nLFxuXHQgICAgc2VsZWN0UHJlZml4Q2xzOiAnYW50LXNlbGVjdCdcblx0fTtcblx0UGFnaW5hdGlvbi5jb250ZXh0VHlwZXMgPSB7XG5cdCAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDkxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1BhZ2luYXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtcblx0XG5cdHZhciBfUGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYWdpbmF0aW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDkzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0dmFyIF9yYWRpb0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHRcblx0dmFyIF9yYWRpb0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpb0J1dHRvbik7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGdldENoZWNrZWRWYWx1ZShjaGlsZHJlbikge1xuXHQgICAgdmFyIHZhbHVlID0gbnVsbDtcblx0ICAgIHZhciBtYXRjaGVkID0gZmFsc2U7XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAocmFkaW8pIHtcblx0ICAgICAgICBpZiAocmFkaW8gJiYgcmFkaW8ucHJvcHMgJiYgcmFkaW8ucHJvcHMuY2hlY2tlZCkge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IHJhZGlvLnByb3BzLnZhbHVlO1xuXHQgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBtYXRjaGVkID8geyB2YWx1ZTogdmFsdWUgfSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0dmFyIFJhZGlvR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpb0dyb3VwLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBSYWRpb0dyb3VwKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpb0dyb3VwKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5vblJhZGlvQ2hhbmdlID0gZnVuY3Rpb24gKGV2KSB7XG5cdCAgICAgICAgICAgIHZhciBsYXN0VmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgICAgICAgICAgdmFyIHZhbHVlID0gZXYudGFyZ2V0LnZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICBpZiAob25DaGFuZ2UgJiYgdmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2UoZXYpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gcHJvcHMpIHtcblx0ICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblx0ICAgICAgICB9IGVsc2UgaWYgKCdkZWZhdWx0VmFsdWUnIGluIHByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBnZXRDaGVja2VkVmFsdWUocHJvcHMuY2hpbGRyZW4pO1xuXHQgICAgICAgICAgICB2YWx1ZSA9IGNoZWNrZWRWYWx1ZSAmJiBjaGVja2VkVmFsdWUudmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkVmFsdWUgPSBnZXRDaGVja2VkVmFsdWUobmV4dFByb3BzLmNoaWxkcmVuKTtcblx0ICAgICAgICAgICAgaWYgKGNoZWNrZWRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoZWNrZWRWYWx1ZS52YWx1ZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpIHtcblx0ICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICB2YXIgY2hpbGRyZW4gPSAhcHJvcHMuY2hpbGRyZW4gPyBbXSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLm1hcChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKHJhZGlvKSB7XG5cdCAgICAgICAgICAgIGlmIChyYWRpbyAmJiAocmFkaW8udHlwZSA9PT0gX3JhZGlvMltcImRlZmF1bHRcIl0gfHwgcmFkaW8udHlwZSA9PT0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl0pICYmIHJhZGlvLnByb3BzKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHJhZGlvLCAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcmFkaW8ucHJvcHMsIHtcblx0ICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogX3RoaXMyLm9uUmFkaW9DaGFuZ2UsXG5cdCAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogX3RoaXMyLnN0YXRlLnZhbHVlID09PSByYWRpby5wcm9wcy52YWx1ZSxcblx0ICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogcmFkaW8ucHJvcHMuZGlzYWJsZWQgfHwgX3RoaXMyLnByb3BzLmRpc2FibGVkXG5cdCAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHJhZGlvO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBfcHJvcHMkcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB1bmRlZmluZWQgPyAnYW50LXJhZGlvLWdyb3VwJyA6IF9wcm9wcyRwcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIF9wcm9wcyRjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZTtcblx0XG5cdCAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy0nICsgcHJvcHMuc2l6ZSwgcHJvcHMuc2l6ZSksIGNsYXNzTmFtZSk7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBwcm9wcy5zdHlsZSwgb25Nb3VzZUVudGVyOiBwcm9wcy5vbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogcHJvcHMub25Nb3VzZUxlYXZlIH0sXG5cdCAgICAgICAgICAgIGNoaWxkcmVuXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFJhZGlvR3JvdXA7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9Hcm91cDtcblx0XG5cdFJhZGlvR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgZGlzYWJsZWQ6IGZhbHNlXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxMDkpO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmNUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9SY1RhYmxlJENvbHVtbikge1xuXHQgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ29sdW1uLCBfUmNUYWJsZSRDb2x1bW4pO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW4oKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENvbHVtbik7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SY1RhYmxlJENvbHVtbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBDb2x1bW47XG5cdH0oX3JjVGFibGUyW1wiZGVmYXVsdFwiXS5Db2x1bW4pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA5Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGZ1bmN0aW9uIChwcm9wcykge1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSwgb25DbGljazogcHJvcHMub25DbGljayB9LFxuXHQgICAgICAgIHByb3BzLmNoaWxkcmVuXG5cdCAgICApO1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jaGVja2JveCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9jaGVja2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja2JveCk7XG5cdFxuXHR2YXIgX3JhZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7XG5cdFxuXHR2YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFNlbGVjdGlvbkJveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkJveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU2VsZWN0aW9uQm94KHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3Rpb25Cb3gpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcblx0ICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cdFxuXHQgICAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IF90aGlzMi5nZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG5cdCAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcblx0ICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcblx0ICAgICAgICAgICAgZGVmYXVsdFNlbGVjdGlvbiA9IHByb3BzLmRlZmF1bHRTZWxlY3Rpb24sXG5cdCAgICAgICAgICAgIHJvd0luZGV4ID0gcHJvcHMucm93SW5kZXg7XG5cdFxuXHQgICAgICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cdCAgICAgICAgaWYgKHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkpIHtcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yocm93SW5kZXgpID49IDAgfHwgZGVmYXVsdFNlbGVjdGlvbi5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY2hlY2tlZDtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcblx0ICAgICAgICAgICAgcm93SW5kZXggPSBfcHJvcHMucm93SW5kZXgsXG5cdCAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuXHQgICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZTtcblx0ICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuc3RhdGUuY2hlY2tlZDtcblx0XG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JhZGlvMltcImRlZmF1bHRcIl0sIHsgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiByb3dJbmRleCwgY2hlY2tlZDogY2hlY2tlZCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogY2hlY2tlZCwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBTZWxlY3Rpb25Cb3g7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQm94O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gOTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIFNlbGVjdGlvbkNoZWNrYm94QWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoU2VsZWN0aW9uQ2hlY2tib3hBbGwsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkNoZWNrYm94QWxsKHByb3BzKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBTZWxlY3Rpb25DaGVja2JveEFsbCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLmdldENoZWNrU3RhdGUocHJvcHMpLFxuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlOiBfdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgICAgIHRoaXMuc2V0Q2hlY2tTdGF0ZShuZXh0UHJvcHMpO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuXHQgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgc3RvcmUgPSB0aGlzLnByb3BzLnN0b3JlO1xuXHRcblx0ICAgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgX3RoaXMyLnNldENoZWNrU3RhdGUoX3RoaXMyLnByb3BzKTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNoZWNrU2VsZWN0aW9uID0gZnVuY3Rpb24gY2hlY2tTZWxlY3Rpb24oZGF0YSwgdHlwZSwgYnlEZWZhdWx0Q2hlY2tlZCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBzdG9yZSA9IF9wcm9wcy5zdG9yZSxcblx0ICAgICAgICAgICAgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IF9wcm9wcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLFxuXHQgICAgICAgICAgICBnZXRSZWNvcmRLZXkgPSBfcHJvcHMuZ2V0UmVjb3JkS2V5O1xuXHQgICAgICAgIC8vIHR5cGUgc2hvdWxkIGJlICdldmVyeScgfCAnc29tZSdcblx0XG5cdCAgICAgICAgaWYgKHR5cGUgPT09ICdldmVyeScgfHwgdHlwZSA9PT0gJ3NvbWUnKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBieURlZmF1bHRDaGVja2VkID8gZGF0YVt0eXBlXShmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaSkuZGVmYXVsdENoZWNrZWQ7XG5cdCAgICAgICAgICAgIH0pIDogZGF0YVt0eXBlXShmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2YoZ2V0UmVjb3JkS2V5KGl0ZW0sIGkpKSA+PSAwO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuc2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIHNldENoZWNrU3RhdGUocHJvcHMpIHtcblx0ICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcyk7XG5cdCAgICAgICAgdmFyIGluZGV0ZXJtaW5hdGUgPSB0aGlzLmdldEluZGV0ZXJtaW5hdGVTdGF0ZShwcm9wcyk7XG5cdCAgICAgICAgaWYgKGNoZWNrZWQgIT09IHRoaXMuc3RhdGUuY2hlY2tlZCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogY2hlY2tlZCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGluZGV0ZXJtaW5hdGUgIT09IHRoaXMuc3RhdGUuaW5kZXRlcm1pbmF0ZSkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5nZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuXHQgICAgICAgIHZhciBzdG9yZSA9IHByb3BzLnN0b3JlLFxuXHQgICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblx0XG5cdCAgICAgICAgdmFyIGNoZWNrZWQgPSB2b2lkIDA7XG5cdCAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBjaGVja2VkID0gZmFsc2U7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgdHJ1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBjaGVja2VkO1xuXHQgICAgfTtcblx0XG5cdCAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlID0gZnVuY3Rpb24gZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG5cdCAgICAgICAgICAgIGRhdGEgPSBwcm9wcy5kYXRhO1xuXHRcblx0ICAgICAgICB2YXIgaW5kZXRlcm1pbmF0ZSA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpbmRldGVybWluYXRlID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIDogdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIGZhbHNlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCBmYWxzZSkgfHwgdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnc29tZScsIHRydWUpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIHRydWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gaW5kZXRlcm1pbmF0ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzMi5kaXNhYmxlZCxcblx0ICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMyLm9uQ2hhbmdlO1xuXHQgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgICBjaGVja2VkID0gX3N0YXRlLmNoZWNrZWQsXG5cdCAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfc3RhdGUuaW5kZXRlcm1pbmF0ZTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogY2hlY2tlZCwgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBTZWxlY3Rpb25DaGVja2JveEFsbDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Rpb25DaGVja2JveEFsbDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDk5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3R5cGVvZjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtcblx0XG5cdHZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpO1xuXHRcblx0dmFyIF9yY1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVGFibGUpO1xuXHRcblx0dmFyIF9maWx0ZXJEcm9wZG93biA9IF9fd2VicGFja19yZXF1aXJlX18oMTAxKTtcblx0XG5cdHZhciBfZmlsdGVyRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyRHJvcGRvd24pO1xuXHRcblx0dmFyIF9wYWdpbmF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cdFxuXHR2YXIgX3BhZ2luYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFnaW5hdGlvbik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfc3BpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTc0KTtcblx0XG5cdHZhciBfc3BpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zcGluKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OCk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHR2YXIgX2NyZWF0ZVN0b3JlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDApO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cdFxuXHR2YXIgX1NlbGVjdGlvbkJveCA9IF9fd2VicGFja19yZXF1aXJlX18oOTcpO1xuXHRcblx0dmFyIF9TZWxlY3Rpb25Cb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aW9uQm94KTtcblx0XG5cdHZhciBfU2VsZWN0aW9uQ2hlY2tib3hBbGwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcblx0XG5cdHZhciBfU2VsZWN0aW9uQ2hlY2tib3hBbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXHRcblx0dmFyIF9Db2x1bW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk1KTtcblx0XG5cdHZhciBfQ29sdW1uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbik7XG5cdFxuXHR2YXIgX0NvbHVtbkdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdFxuXHR2YXIgX0NvbHVtbkdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbkdyb3VwKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG5cdCAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0ICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdDtcblx0fTtcblx0dmFyIF9fcmVzdCA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG5cdCAgICB2YXIgdCA9IHt9O1xuXHQgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcblx0ICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG5cdCAgICB9cmV0dXJuIHQ7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0ZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcblx0ICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICBpZiAoZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcblx0ICAgICAgICBlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHQgICAgfVxuXHR9XG5cdHZhciBkZWZhdWx0TG9jYWxlID0ge1xuXHQgICAgZmlsdGVyVGl0bGU6ICfnrZvpgIknLFxuXHQgICAgZmlsdGVyQ29uZmlybTogJ+ehruWumicsXG5cdCAgICBmaWx0ZXJSZXNldDogJ+mHjee9ricsXG5cdCAgICBlbXB0eVRleHQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdmcm93bi1vJyB9KSxcblx0ICAgICAgICAnXFx1NjY4MlxcdTY1RTBcXHU2NTcwXFx1NjM2RSdcblx0ICAgIClcblx0fTtcblx0dmFyIGRlZmF1bHRQYWdpbmF0aW9uID0ge1xuXHQgICAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgICBvblNob3dTaXplQ2hhbmdlOiBub29wXG5cdH07XG5cdFxuXHR2YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFRhYmxlKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyRyb3dTZWxlY3QgPSBfdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG5cdCAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfdGhpcyRwcm9wcyRyb3dTZWxlY3QgPT09IHVuZGVmaW5lZCA/IHt9IDogX3RoaXMkcHJvcHMkcm93U2VsZWN0O1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkoaXRlbSwgaW5kZXgpO1xuXHQgICAgICAgICAgICAvLyBDYWNoZSBjaGVja2JveFByb3BzXG5cdCAgICAgICAgICAgIGlmICghX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV0pIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldID0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMoaXRlbSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlRmlsdGVyID0gZnVuY3Rpb24gKGNvbHVtbiwgbmV4dEZpbHRlcnMpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLnBhZ2luYXRpb24pO1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVycyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5maWx0ZXJzLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5nZXRDb2x1bW5LZXkoY29sdW1uKSwgbmV4dEZpbHRlcnMpKTtcblx0ICAgICAgICAgICAgLy8gUmVtb3ZlIGZpbHRlcnMgbm90IGluIGN1cnJlbnQgY29sdW1uc1xuXHQgICAgICAgICAgICB2YXIgY3VycmVudENvbHVtbktleXMgPSBbXTtcblx0ICAgICAgICAgICAgKDAsIF91dGlsLnRyZWVNYXApKF90aGlzLmNvbHVtbnMsIGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIWMuY2hpbGRyZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sdW1uS2V5cy5wdXNoKF90aGlzLmdldENvbHVtbktleShjKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29sdW1uS2V5cy5pbmRleE9mKGNvbHVtbktleSkgPCAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbY29sdW1uS2V5XTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIGlmIChwcm9wcy5wYWdpbmF0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAvLyBSZXNldCBjdXJyZW50IHByb3Bcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IDE7XG5cdCAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlKHBhZ2luYXRpb24uY3VycmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbixcblx0ICAgICAgICAgICAgICAgIGZpbHRlcnM6IHt9XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJzVG9TZXRTdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBmaWx0ZXJzKTtcblx0ICAgICAgICAgICAgLy8gUmVtb3ZlIGZpbHRlcnMgd2hpY2ggaXMgY29udHJvbGxlZFxuXHQgICAgICAgICAgICBfdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucygpLmZvckVhY2goZnVuY3Rpb24gKGNvbCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNvbHVtbktleSA9IF90aGlzLmdldENvbHVtbktleShjb2wpO1xuXHQgICAgICAgICAgICAgICAgaWYgKGNvbHVtbktleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzVG9TZXRTdGF0ZVtjb2x1bW5LZXldO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGZpbHRlcnNUb1NldFN0YXRlKS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdTdGF0ZS5maWx0ZXJzID0gZmlsdGVyc1RvU2V0U3RhdGU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gQ29udHJvbGxlZCBjdXJyZW50IHByb3Agd2lsbCBub3QgcmVzcG9uZCB1c2VyIGludGVyYWN0aW9uXG5cdCAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIG5ld1N0YXRlLnBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwge1xuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IF90aGlzLnN0YXRlLnBhZ2luYXRpb24uY3VycmVudFxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cblx0ICAgICAgICAgICAgICAgICAgICB9KSkpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4LCBlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcblx0ICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG5cdCAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMucHVzaChfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09IGk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRSb3dLZXlzKHNlbGVjdGVkUm93S2V5cywge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3QnLFxuXHQgICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmQsXG5cdCAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlUmFkaW9TZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuXHQgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuXHQgICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuXHQgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSBba2V5XTtcblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0Jyxcblx0ICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuXHQgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZVNlbGVjdEFsbFJvdyA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSBfdGhpcy5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCk7XG5cdCAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuXHQgICAgICAgICAgICB2YXIgY2hhbmdhYmxlUm93S2V5cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gIV90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaSkuZGlzYWJsZWQ7XG5cdCAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFJlY29yZEtleShpdGVtLCBpKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIC8vIOiusOW9leWPmOWMlueahOWIl1xuXHQgICAgICAgICAgICB2YXIgY2hhbmdlUm93S2V5cyA9IFtdO1xuXHQgICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuXHQgICAgICAgICAgICAgICAgY2hhbmdhYmxlUm93S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA8IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goa2V5KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5cy5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpID49IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnNwbGljZShzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihrZXkpLCAxKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5cy5wdXNoKGtleSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IHRydWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdFdheTogJ29uU2VsZWN0QWxsJyxcblx0ICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG5cdCAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzOiBjaGFuZ2VSb3dLZXlzXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlUGFnZUNoYW5nZSA9IGZ1bmN0aW9uIChjdXJyZW50KSB7XG5cdCAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvdGhlckFyZ3VtZW50cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgICAgICAgICAgIG90aGVyQXJndW1lbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLnBhZ2luYXRpb24pO1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuXHQgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gY3VycmVudDtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb24uY3VycmVudCA9IHBhZ2luYXRpb24uY3VycmVudCB8fCAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHBhZ2luYXRpb24ub25DaGFuZ2UuYXBwbHkocGFnaW5hdGlvbiwgW3BhZ2luYXRpb24uY3VycmVudF0uY29uY2F0KG90aGVyQXJndW1lbnRzKSk7XG5cdCAgICAgICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcblx0ICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgLy8gQ29udHJvbGxlZCBjdXJyZW50IHByb3Agd2lsbCBub3QgcmVzcG9uZCB1c2VyIGludGVyYWN0aW9uXG5cdCAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcblx0ICAgICAgICAgICAgICAgIG5ld1N0YXRlLnBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwge1xuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IF90aGlzLnN0YXRlLnBhZ2luYXRpb24uY3VycmVudFxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2Vcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuXHQgICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuXHQgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cblx0ICAgICAgICAgICAgICAgIH0pKSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLnJlbmRlclNlbGVjdGlvbkJveCA9IGZ1bmN0aW9uICh0eXBlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoXywgcmVjb3JkLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIHJvd0luZGV4ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgaW5kZXgpOyAvLyDku44gMSDlvIDlp4tcblx0ICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IF90aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0ocmVjb3JkLCBpbmRleCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0eXBlID09PSAncmFkaW8nID8gX3RoaXMuaGFuZGxlUmFkaW9TZWxlY3QocmVjb3JkLCByb3dJbmRleCwgZSkgOiBfdGhpcy5oYW5kbGVTZWxlY3QocmVjb3JkLCByb3dJbmRleCwgZSk7XG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogc3RvcFByb3BhZ2F0aW9uIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQm94MltcImRlZmF1bHRcIl0sIHsgdHlwZTogdHlwZSwgc3RvcmU6IF90aGlzLnN0b3JlLCByb3dJbmRleDogcm93SW5kZXgsIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgZGVmYXVsdFNlbGVjdGlvbjogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpIH0pXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuZ2V0UmVjb3JkS2V5ID0gZnVuY3Rpb24gKHJlY29yZCwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIHJvd0tleSA9IF90aGlzLnByb3BzLnJvd0tleTtcblx0ICAgICAgICAgICAgdmFyIHJlY29yZEtleSA9IHR5cGVvZiByb3dLZXkgPT09ICdmdW5jdGlvbicgPyByb3dLZXkocmVjb3JkLCBpbmRleCkgOiByZWNvcmRbcm93S2V5XTtcblx0ICAgICAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKHJlY29yZEtleSAhPT0gdW5kZWZpbmVkLCAnRWFjaCByZWNvcmQgaW4gdGFibGUgc2hvdWxkIGhhdmUgYSB1bmlxdWUgYGtleWAgcHJvcCwgb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleSwnICsgJ3NlZSBodHRwOi8vdS5hbnQuZGVzaWduL3RhYmxlLXJvdy1rZXknKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHJlY29yZEtleSA9PT0gdW5kZWZpbmVkID8gaW5kZXggOiByZWNvcmRLZXk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSA9IGZ1bmN0aW9uIChjdXJyZW50LCBwYWdlU2l6ZSkge1xuXHQgICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IF90aGlzLnN0YXRlLnBhZ2luYXRpb247XG5cdCAgICAgICAgICAgIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBwYWdlU2l6ZSk7XG5cdCAgICAgICAgICAgIHZhciBuZXh0UGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBwYWdpbmF0aW9uLCB7IHBhZ2VTaXplOiBwYWdlU2l6ZSwgY3VycmVudDogY3VycmVudCB9KTtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBwYWdpbmF0aW9uOiBuZXh0UGFnaW5hdGlvbiB9KTtcblx0ICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcblx0ICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBuZXh0UGFnaW5hdGlvblxuXHQgICAgICAgICAgICAgICAgfSkpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKCEoJ2NvbHVtbnNQYWdlUmFuZ2UnIGluIHByb3BzIHx8ICdjb2x1bW5zUGFnZVNpemUnIGluIHByb3BzKSwgJ2Bjb2x1bW5zUGFnZVJhbmdlYCBhbmQgYGNvbHVtbnNQYWdlU2l6ZWAgYXJlIHJlbW92ZWQsIHBsZWFzZSB1c2UgJyArICdmaXhlZCBjb2x1bW5zIGluc3RlYWQsIHNlZTogaHR0cDovL3UuYW50LmRlc2lnbi9maXhlZC1jb2x1bW5zLicpO1xuXHQgICAgICAgIF90aGlzLmNvbHVtbnMgPSBwcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShwcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMoKSwge1xuXHQgICAgICAgICAgICAvLyDlh4/lsJHnirbmgIFcblx0ICAgICAgICAgICAgZmlsdGVyczogX3RoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKCksXG5cdCAgICAgICAgICAgIHBhZ2luYXRpb246IF90aGlzLmdldERlZmF1bHRQYWdpbmF0aW9uKHByb3BzKVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuXHQgICAgICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogKHByb3BzLnJvd1NlbGVjdGlvbiB8fCB7fSkuc2VsZWN0ZWRSb3dLZXlzIHx8IFtdLFxuXHQgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldERlZmF1bHRTZWxlY3Rpb24gPSBmdW5jdGlvbiBnZXREZWZhdWx0U2VsZWN0aW9uKCkge1xuXHQgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzJHJvd1NlbGVjdGlvbiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMkcm93U2VsZWN0aW9uID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRyb3dTZWxlY3Rpb247XG5cdFxuXHQgICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcy5nZXRGbGF0RGF0YSgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcm93SW5kZXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIHJvd0luZGV4KS5kZWZhdWx0Q2hlY2tlZDtcblx0ICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0UGFnaW5hdGlvbiA9IGZ1bmN0aW9uIGdldERlZmF1bHRQYWdpbmF0aW9uKHByb3BzKSB7XG5cdCAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBwcm9wcy5wYWdpbmF0aW9uIHx8IHt9O1xuXHQgICAgICAgIHJldHVybiB0aGlzLmhhc1BhZ2luYXRpb24ocHJvcHMpID8gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwYWdpbmF0aW9uLCB7XG5cdCAgICAgICAgICAgIGN1cnJlbnQ6IHBhZ2luYXRpb24uZGVmYXVsdEN1cnJlbnQgfHwgcGFnaW5hdGlvbi5jdXJyZW50IHx8IDEsXG5cdCAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdpbmF0aW9uLmRlZmF1bHRQYWdlU2l6ZSB8fCBwYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwXG5cdCAgICAgICAgfSkgOiB7fTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldExvY2FsZSA9IGZ1bmN0aW9uIGdldExvY2FsZSgpIHtcblx0ICAgICAgICB2YXIgbG9jYWxlID0ge307XG5cdCAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZSkge1xuXHQgICAgICAgICAgICBsb2NhbGUgPSB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlRhYmxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUsIGxvY2FsZSwgdGhpcy5wcm9wcy5sb2NhbGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgdGhpcy5jb2x1bW5zID0gbmV4dFByb3BzLmNvbHVtbnMgfHwgKDAsIF91dGlsLm5vcm1hbGl6ZUNvbHVtbnMpKG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICAgICAgaWYgKCdwYWdpbmF0aW9uJyBpbiBuZXh0UHJvcHMgfHwgJ3BhZ2luYXRpb24nIGluIHRoaXMucHJvcHMpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldmlvdXNTdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgdmFyIG5ld1BhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgZGVmYXVsdFBhZ2luYXRpb24sIHByZXZpb3VzU3RhdGUucGFnaW5hdGlvbiwgbmV4dFByb3BzLnBhZ2luYXRpb24pO1xuXHQgICAgICAgICAgICAgICAgbmV3UGFnaW5hdGlvbi5jdXJyZW50ID0gbmV3UGFnaW5hdGlvbi5jdXJyZW50IHx8IDE7XG5cdCAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLnBhZ2VTaXplID0gbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMDtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7IHBhZ2luYXRpb246IG5leHRQcm9wcy5wYWdpbmF0aW9uICE9PSBmYWxzZSA/IG5ld1BhZ2luYXRpb24gOiB7fSB9O1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKG5leHRQcm9wcy5yb3dTZWxlY3Rpb24gJiYgJ3NlbGVjdGVkUm93S2V5cycgaW4gbmV4dFByb3BzLnJvd1NlbGVjdGlvbikge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogbmV4dFByb3BzLnJvd1NlbGVjdGlvbi5zZWxlY3RlZFJvd0tleXMgfHwgW11cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHZhciByb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbjtcblx0XG5cdCAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24gJiYgbmV4dFByb3BzLnJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzICE9PSByb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5DaGVja2JveFByb3BzQ2FjaGUgPSB7fTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoJ2RhdGFTb3VyY2UnIGluIG5leHRQcm9wcyAmJiBuZXh0UHJvcHMuZGF0YVNvdXJjZSAhPT0gdGhpcy5wcm9wcy5kYXRhU291cmNlKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKHRoaXMuY29sdW1ucykubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB2YXIgc29ydFN0YXRlID0gdGhpcy5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuXHQgICAgICAgICAgICBpZiAoc29ydFN0YXRlLnNvcnRDb2x1bW4gIT09IHRoaXMuc3RhdGUuc29ydENvbHVtbiB8fCBzb3J0U3RhdGUuc29ydE9yZGVyICE9PSB0aGlzLnN0YXRlLnNvcnRPcmRlcikge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShzb3J0U3RhdGUpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBmaWx0ZXJlZFZhbHVlQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnModGhpcy5jb2x1bW5zKTtcblx0ICAgICAgICBpZiAoZmlsdGVyZWRWYWx1ZUNvbHVtbnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgICB2YXIgZmlsdGVyc0Zyb21Db2x1bW5zID0gdGhpcy5nZXRGaWx0ZXJzRnJvbUNvbHVtbnModGhpcy5jb2x1bW5zKTtcblx0ICAgICAgICAgICAgdmFyIG5ld0ZpbHRlcnMgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5zdGF0ZS5maWx0ZXJzKTtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVyc0Zyb21Db2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgIG5ld0ZpbHRlcnNba2V5XSA9IGZpbHRlcnNGcm9tQ29sdW1uc1trZXldO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuaXNGaWx0ZXJzQ2hhbmdlZChuZXdGaWx0ZXJzKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpbHRlcnM6IG5ld0ZpbHRlcnMgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZFJvd0tleXMgPSBmdW5jdGlvbiBzZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCBfcmVmKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBzZWxlY3RXYXkgPSBfcmVmLnNlbGVjdFdheSxcblx0ICAgICAgICAgICAgcmVjb3JkID0gX3JlZi5yZWNvcmQsXG5cdCAgICAgICAgICAgIGNoZWNrZWQgPSBfcmVmLmNoZWNrZWQsXG5cdCAgICAgICAgICAgIGNoYW5nZVJvd0tleXMgPSBfcmVmLmNoYW5nZVJvd0tleXM7XG5cdCAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24yID0gdGhpcy5wcm9wcy5yb3dTZWxlY3Rpb24sXG5cdCAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcyRyb3dTZWxlY3Rpb24yID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRyb3dTZWxlY3Rpb24yO1xuXHRcblx0ICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmICEoJ3NlbGVjdGVkUm93S2V5cycgaW4gcm93U2VsZWN0aW9uKSkge1xuXHQgICAgICAgICAgICB0aGlzLnN0b3JlLnNldFN0YXRlKHsgc2VsZWN0ZWRSb3dLZXlzOiBzZWxlY3RlZFJvd0tleXMgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRGbGF0RGF0YSgpO1xuXHQgICAgICAgIGlmICghcm93U2VsZWN0aW9uLm9uQ2hhbmdlICYmICFyb3dTZWxlY3Rpb25bc2VsZWN0V2F5XSkge1xuXHQgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAocm93LCBpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihfdGhpczMuZ2V0UmVjb3JkS2V5KHJvdywgaSkpID49IDA7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgaWYgKHJvd1NlbGVjdGlvbi5vbkNoYW5nZSkge1xuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24ub25DaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoc2VsZWN0V2F5ID09PSAnb25TZWxlY3QnICYmIHJvd1NlbGVjdGlvbi5vblNlbGVjdCkge1xuXHQgICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3QocmVjb3JkLCBjaGVja2VkLCBzZWxlY3RlZFJvd3MpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0V2F5ID09PSAnb25TZWxlY3RBbGwnICYmIHJvd1NlbGVjdGlvbi5vblNlbGVjdEFsbCkge1xuXHQgICAgICAgICAgICB2YXIgY2hhbmdlUm93cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGkpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uLm9uU2VsZWN0QWxsKGNoZWNrZWQsIHNlbGVjdGVkUm93cywgY2hhbmdlUm93cyk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuaGFzUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIGhhc1BhZ2luYXRpb24ocHJvcHMpIHtcblx0ICAgICAgICByZXR1cm4gKHByb3BzIHx8IHRoaXMucHJvcHMpLnBhZ2luYXRpb24gIT09IGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuaXNGaWx0ZXJzQ2hhbmdlZCA9IGZ1bmN0aW9uIGlzRmlsdGVyc0NoYW5nZWQoZmlsdGVycykge1xuXHQgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgZmlsdGVyc0NoYW5nZWQgPSBmYWxzZTtcblx0ICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVycykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmZpbHRlcnMpLmxlbmd0aCkge1xuXHQgICAgICAgICAgICBmaWx0ZXJzQ2hhbmdlZCA9IHRydWU7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tjb2x1bW5LZXldICE9PSBfdGhpczQuc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgZmlsdGVyc0NoYW5nZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIGZpbHRlcnNDaGFuZ2VkO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydE9yZGVyQ29sdW1ucyA9IGZ1bmN0aW9uIGdldFNvcnRPcmRlckNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgICAgIHJldHVybiAoY29sdW1ucyB8fCB0aGlzLmNvbHVtbnMgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnc29ydE9yZGVyJyBpbiBjb2x1bW47XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyA9IGZ1bmN0aW9uIGdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuXHQgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGNvbHVtbi5maWx0ZXJlZFZhbHVlICE9PSAndW5kZWZpbmVkJztcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEZpbHRlcnNGcm9tQ29sdW1ucyA9IGZ1bmN0aW9uIGdldEZpbHRlcnNGcm9tQ29sdW1ucyhjb2x1bW5zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBmaWx0ZXJzID0ge307XG5cdCAgICAgICAgdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcblx0ICAgICAgICAgICAgZmlsdGVyc1tfdGhpczUuZ2V0Q29sdW1uS2V5KGNvbCldID0gY29sLmZpbHRlcmVkVmFsdWU7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGZpbHRlcnM7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyA9IGZ1bmN0aW9uIGdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICAvLyByZXR1cm4gZmlzcnQgY29sdW1uIHdoaWNoIHNvcnRPcmRlciBpcyBub3QgZmFsc3lcblx0ICAgICAgICB2YXIgc29ydGVkQ29sdW1uID0gdGhpcy5nZXRTb3J0T3JkZXJDb2x1bW5zKGNvbHVtbnMpLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBjb2wuc29ydE9yZGVyO1xuXHQgICAgICAgIH0pWzBdO1xuXHQgICAgICAgIGlmIChzb3J0ZWRDb2x1bW4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIHNvcnRDb2x1bW46IHNvcnRlZENvbHVtbixcblx0ICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydGVkQ29sdW1uLnNvcnRPcmRlclxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICBzb3J0Q29sdW1uOiBudWxsLFxuXHQgICAgICAgICAgICBzb3J0T3JkZXI6IG51bGxcblx0ICAgICAgICB9O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0U29ydGVyRm4gPSBmdW5jdGlvbiBnZXRTb3J0ZXJGbigpIHtcblx0ICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgc29ydE9yZGVyID0gX3N0YXRlLnNvcnRPcmRlcixcblx0ICAgICAgICAgICAgc29ydENvbHVtbiA9IF9zdGF0ZS5zb3J0Q29sdW1uO1xuXHRcblx0ICAgICAgICBpZiAoIXNvcnRPcmRlciB8fCAhc29ydENvbHVtbiB8fCB0eXBlb2Ygc29ydENvbHVtbi5zb3J0ZXIgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHNvcnRDb2x1bW4uc29ydGVyKGEsIGIpO1xuXHQgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSAwKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc29ydE9yZGVyID09PSAnZGVzY2VuZCcgPyAtcmVzdWx0IDogcmVzdWx0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiAwO1xuXHQgICAgICAgIH07XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS50b2dnbGVTb3J0T3JkZXIgPSBmdW5jdGlvbiB0b2dnbGVTb3J0T3JkZXIob3JkZXIsIGNvbHVtbikge1xuXHQgICAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgc29ydENvbHVtbiA9IF9zdGF0ZTIuc29ydENvbHVtbixcblx0ICAgICAgICAgICAgc29ydE9yZGVyID0gX3N0YXRlMi5zb3J0T3JkZXI7XG5cdCAgICAgICAgLy8g5Y+q5ZCM5pe25YWB6K645LiA5YiX6L+b6KGM5o6S5bqP77yM5ZCm5YiZ5Lya5a+86Ie05o6S5bqP6aG65bqP55qE6YC76L6R6Zeu6aKYXG5cdFxuXHQgICAgICAgIHZhciBpc1NvcnRDb2x1bW4gPSB0aGlzLmlzU29ydENvbHVtbihjb2x1bW4pO1xuXHQgICAgICAgIGlmICghaXNTb3J0Q29sdW1uKSB7XG5cdCAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuXHQgICAgICAgICAgICBzb3J0Q29sdW1uID0gY29sdW1uO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChzb3J0T3JkZXIgPT09IG9yZGVyKSB7XG5cdCAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSAnJztcblx0ICAgICAgICAgICAgICAgIHNvcnRDb2x1bW4gPSBudWxsO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgc29ydE9yZGVyID0gb3JkZXI7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuXHQgICAgICAgICAgICBzb3J0T3JkZXI6IHNvcnRPcmRlcixcblx0ICAgICAgICAgICAgc29ydENvbHVtbjogc29ydENvbHVtblxuXHQgICAgICAgIH07XG5cdCAgICAgICAgLy8gQ29udHJvbGxlZFxuXHQgICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoKS5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBvbkNoYW5nZSA9IHRoaXMucHJvcHMub25DaGFuZ2U7XG5cdCAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIHRoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5zdGF0ZSwgbmV3U3RhdGUpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUm93U2VsZWN0aW9uID0gZnVuY3Rpb24gcmVuZGVyUm93U2VsZWN0aW9uKCkge1xuXHQgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzLnJvd1NlbGVjdGlvbjtcblx0XG5cdCAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLmNvbHVtbnMuY29uY2F0KCk7XG5cdCAgICAgICAgaWYgKHJvd1NlbGVjdGlvbikge1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcykge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiAhX3RoaXM2LmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaW5kZXgpLmRpc2FibGVkO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0aW9uQ29sdW1uID0ge1xuXHQgICAgICAgICAgICAgICAga2V5OiAnc2VsZWN0aW9uLWNvbHVtbicsXG5cdCAgICAgICAgICAgICAgICByZW5kZXI6IHRoaXMucmVuZGVyU2VsZWN0aW9uQm94KHJvd1NlbGVjdGlvbi50eXBlKSxcblx0ICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tY29sdW1uJ1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLnR5cGUgIT09ICdyYWRpbycpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjaGVja2JveEFsbERpc2FibGVkID0gZGF0YS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaW5kZXgpLmRpc2FibGVkO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3Rpb25DaGVja2JveEFsbDJbXCJkZWZhdWx0XCJdLCB7IHN0b3JlOiB0aGlzLnN0b3JlLCBkYXRhOiBkYXRhLCBnZXRDaGVja2JveFByb3BzQnlJdGVtOiB0aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0sIGdldFJlY29yZEtleTogdGhpcy5nZXRSZWNvcmRLZXksIGRpc2FibGVkOiBjaGVja2JveEFsbERpc2FibGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKGNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuXHQgICAgICAgICAgICB9KSkge1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uLmZpeGVkID0gJ2xlZnQnO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChjb2x1bW5zWzBdICYmIGNvbHVtbnNbMF0ua2V5ID09PSAnc2VsZWN0aW9uLWNvbHVtbicpIHtcblx0ICAgICAgICAgICAgICAgIGNvbHVtbnNbMF0gPSBzZWxlY3Rpb25Db2x1bW47XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBjb2x1bW5zLnVuc2hpZnQoc2VsZWN0aW9uQ29sdW1uKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY29sdW1ucztcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldENvbHVtbktleSA9IGZ1bmN0aW9uIGdldENvbHVtbktleShjb2x1bW4sIGluZGV4KSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5rZXkgfHwgY29sdW1uLmRhdGFJbmRleCB8fCBpbmRleDtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldE1heEN1cnJlbnQgPSBmdW5jdGlvbiBnZXRNYXhDdXJyZW50KHRvdGFsKSB7XG5cdCAgICAgICAgdmFyIF9zdGF0ZSRwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLFxuXHQgICAgICAgICAgICBjdXJyZW50ID0gX3N0YXRlJHBhZ2luYXRpb24uY3VycmVudCxcblx0ICAgICAgICAgICAgcGFnZVNpemUgPSBfc3RhdGUkcGFnaW5hdGlvbi5wYWdlU2l6ZTtcblx0XG5cdCAgICAgICAgaWYgKChjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSA+PSB0b3RhbCkge1xuXHQgICAgICAgICAgICByZXR1cm4gY3VycmVudCAtIDE7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBjdXJyZW50O1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuaXNTb3J0Q29sdW1uID0gZnVuY3Rpb24gaXNTb3J0Q29sdW1uKGNvbHVtbikge1xuXHQgICAgICAgIHZhciBzb3J0Q29sdW1uID0gdGhpcy5zdGF0ZS5zb3J0Q29sdW1uO1xuXHRcblx0ICAgICAgICBpZiAoIWNvbHVtbiB8fCAhc29ydENvbHVtbikge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzLmdldENvbHVtbktleShzb3J0Q29sdW1uKSA9PT0gdGhpcy5nZXRDb2x1bW5LZXkoY29sdW1uKTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLnJlbmRlckNvbHVtbnNEcm9wZG93biA9IGZ1bmN0aW9uIHJlbmRlckNvbHVtbnNEcm9wZG93bihjb2x1bW5zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMi5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGRyb3Bkb3duUHJlZml4Q2xzID0gX3Byb3BzMi5kcm9wZG93blByZWZpeENscztcblx0ICAgICAgICB2YXIgc29ydE9yZGVyID0gdGhpcy5zdGF0ZS5zb3J0T3JkZXI7XG5cdFxuXHQgICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmdldExvY2FsZSgpO1xuXHQgICAgICAgIHJldHVybiAoMCwgX3V0aWwudHJlZU1hcCkoY29sdW1ucywgZnVuY3Rpb24gKG9yaWdpbkNvbHVtbiwgaSkge1xuXHQgICAgICAgICAgICB2YXIgY29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIG9yaWdpbkNvbHVtbik7XG5cdCAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpczcuZ2V0Q29sdW1uS2V5KGNvbHVtbiwgaSk7XG5cdCAgICAgICAgICAgIHZhciBmaWx0ZXJEcm9wZG93biA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgdmFyIHNvcnRCdXR0b24gPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIGlmIChjb2x1bW4uZmlsdGVycyAmJiBjb2x1bW4uZmlsdGVycy5sZW5ndGggPiAwIHx8IGNvbHVtbi5maWx0ZXJEcm9wZG93bikge1xuXHQgICAgICAgICAgICAgICAgdmFyIGNvbEZpbHRlcnMgPSBfdGhpczcuc3RhdGUuZmlsdGVyc1trZXldIHx8IFtdO1xuXHQgICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9maWx0ZXJEcm9wZG93bjJbXCJkZWZhdWx0XCJdLCB7IGxvY2FsZTogbG9jYWxlLCBjb2x1bW46IGNvbHVtbiwgc2VsZWN0ZWRLZXlzOiBjb2xGaWx0ZXJzLCBjb25maXJtRmlsdGVyOiBfdGhpczcuaGFuZGxlRmlsdGVyLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctZmlsdGVyJywgZHJvcGRvd25QcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzIHx8ICdhbnQtZHJvcGRvd24nIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChjb2x1bW4uc29ydGVyKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gX3RoaXM3LmlzU29ydENvbHVtbihjb2x1bW4pO1xuXHQgICAgICAgICAgICAgICAgaWYgKGlzU29ydENvbHVtbikge1xuXHQgICAgICAgICAgICAgICAgICAgIGNvbHVtbi5jbGFzc05hbWUgPSBjb2x1bW4uY2xhc3NOYW1lIHx8ICcnO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0T3JkZXIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0Jztcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB2YXIgaXNBc2NlbmQgPSBpc1NvcnRDb2x1bW4gJiYgc29ydE9yZGVyID09PSAnYXNjZW5kJztcblx0ICAgICAgICAgICAgICAgIHZhciBpc0Rlc2NlbmQgPSBpc1NvcnRDb2x1bW4gJiYgc29ydE9yZGVyID09PSAnZGVzY2VuZCc7XG5cdCAgICAgICAgICAgICAgICBzb3J0QnV0dG9uID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlci11cCAnICsgKGlzQXNjZW5kID8gJ29uJyA6ICdvZmYnKSwgdGl0bGU6ICdcXHUyMTkxJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnRvZ2dsZVNvcnRPcmRlcignYXNjZW5kJywgY29sdW1uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjYXJldC11cCcgfSlcblx0ICAgICAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlci1kb3duICcgKyAoaXNEZXNjZW5kID8gJ29uJyA6ICdvZmYnKSwgdGl0bGU6ICdcXHUyMTkzJywgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnRvZ2dsZVNvcnRPcmRlcignZGVzY2VuZCcsIGNvbHVtbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtZG93bicgfSlcblx0ICAgICAgICAgICAgICAgICAgICApXG5cdCAgICAgICAgICAgICAgICApO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGNvbHVtbi50aXRsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgY29sdW1uLnRpdGxlLFxuXHQgICAgICAgICAgICAgICAgc29ydEJ1dHRvbixcblx0ICAgICAgICAgICAgICAgIGZpbHRlckRyb3Bkb3duXG5cdCAgICAgICAgICAgICk7XG5cdCAgICAgICAgICAgIHJldHVybiBjb2x1bW47XG5cdCAgICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJQYWdpbmF0aW9uID0gZnVuY3Rpb24gcmVuZGVyUGFnaW5hdGlvbigpIHtcblx0ICAgICAgICAvLyDlvLrliLbkuI3pnIDopoHliIbpobVcblx0ICAgICAgICBpZiAoIXRoaXMuaGFzUGFnaW5hdGlvbigpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc2l6ZSA9ICdkZWZhdWx0Jztcblx0ICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHRoaXMuc3RhdGUucGFnaW5hdGlvbjtcblx0XG5cdCAgICAgICAgaWYgKHBhZ2luYXRpb24uc2l6ZSkge1xuXHQgICAgICAgICAgICBzaXplID0gcGFnaW5hdGlvbi5zaXplO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaXplID09PSAnbWlkZGxlJyB8fCB0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcblx0ICAgICAgICAgICAgc2l6ZSA9ICdzbWFsbCc7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciB0b3RhbCA9IHBhZ2luYXRpb24udG90YWwgfHwgdGhpcy5nZXRMb2NhbERhdGEoKS5sZW5ndGg7XG5cdCAgICAgICAgcmV0dXJuIHRvdGFsID4gMCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsga2V5OiAncGFnaW5hdGlvbicgfSwgcGFnaW5hdGlvbiwgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1wYWdpbmF0aW9uJywgb25DaGFuZ2U6IHRoaXMuaGFuZGxlUGFnZUNoYW5nZSwgdG90YWw6IHRvdGFsLCBzaXplOiBzaXplLCBjdXJyZW50OiB0aGlzLmdldE1heEN1cnJlbnQodG90YWwpLCBvblNob3dTaXplQ2hhbmdlOiB0aGlzLmhhbmRsZVNob3dTaXplQ2hhbmdlIH0pKSA6IG51bGw7XG5cdCAgICB9O1xuXHQgICAgLy8gR2V0IHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlclxuXHRcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucHJlcGFyZVBhcmFtc0FyZ3VtZW50cyA9IGZ1bmN0aW9uIHByZXBhcmVQYXJhbXNBcmd1bWVudHMoc3RhdGUpIHtcblx0ICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IF9fYXNzaWduKHt9LCBzdGF0ZS5wYWdpbmF0aW9uKTtcblx0ICAgICAgICAvLyByZW1vdmUgdXNlbGVzcyBoYW5kbGUgZnVuY3Rpb24gaW4gVGFibGUub25DaGFuZ2Vcblx0ICAgICAgICBkZWxldGUgcGFnaW5hdGlvbi5vbkNoYW5nZTtcblx0ICAgICAgICBkZWxldGUgcGFnaW5hdGlvbi5vblNob3dTaXplQ2hhbmdlO1xuXHQgICAgICAgIHZhciBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcblx0ICAgICAgICB2YXIgc29ydGVyID0ge307XG5cdCAgICAgICAgaWYgKHN0YXRlLnNvcnRDb2x1bW4gJiYgc3RhdGUuc29ydE9yZGVyKSB7XG5cdCAgICAgICAgICAgIHNvcnRlci5jb2x1bW4gPSBzdGF0ZS5zb3J0Q29sdW1uO1xuXHQgICAgICAgICAgICBzb3J0ZXIub3JkZXIgPSBzdGF0ZS5zb3J0T3JkZXI7XG5cdCAgICAgICAgICAgIHNvcnRlci5maWVsZCA9IHN0YXRlLnNvcnRDb2x1bW4uZGF0YUluZGV4O1xuXHQgICAgICAgICAgICBzb3J0ZXIuY29sdW1uS2V5ID0gdGhpcy5nZXRDb2x1bW5LZXkoc3RhdGUuc29ydENvbHVtbik7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBbcGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyXTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmZpbmRDb2x1bW4gPSBmdW5jdGlvbiBmaW5kQ29sdW1uKG15S2V5KSB7XG5cdCAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBjb2x1bW4gPSB2b2lkIDA7XG5cdCAgICAgICAgKDAsIF91dGlsLnRyZWVNYXApKHRoaXMuY29sdW1ucywgZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgICAgICAgaWYgKF90aGlzOC5nZXRDb2x1bW5LZXkoYykgPT09IG15S2V5KSB7XG5cdCAgICAgICAgICAgICAgICBjb2x1bW4gPSBjO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbjtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldEN1cnJlbnRQYWdlRGF0YSA9IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlRGF0YSgpIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0TG9jYWxEYXRhKCk7XG5cdCAgICAgICAgdmFyIGN1cnJlbnQgPSB2b2lkIDA7XG5cdCAgICAgICAgdmFyIHBhZ2VTaXplID0gdm9pZCAwO1xuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5YiG6aG155qE6K+d77yM6buY6K6k5YWo6YOo5bGV56S6XG5cdCAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuXHQgICAgICAgICAgICBwYWdlU2l6ZSA9IE51bWJlci5NQVhfVkFMVUU7XG5cdCAgICAgICAgICAgIGN1cnJlbnQgPSAxO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHBhZ2VTaXplID0gc3RhdGUucGFnaW5hdGlvbi5wYWdlU2l6ZTtcblx0ICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZ2V0TWF4Q3VycmVudChzdGF0ZS5wYWdpbmF0aW9uLnRvdGFsIHx8IGRhdGEubGVuZ3RoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8g5YiG6aG1XG5cdCAgICAgICAgLy8gLS0tXG5cdCAgICAgICAgLy8g5b2T5pWw5o2u6YeP5bCR5LqO562J5LqO5q+P6aG15pWw6YeP5pe277yM55u05o6l6K6+572u5pWw5o2uXG5cdCAgICAgICAgLy8g5ZCm5YiZ6L+b6KGM6K+75Y+W5YiG6aG15pWw5o2uXG5cdCAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gcGFnZVNpemUgfHwgcGFnZVNpemUgPT09IE51bWJlci5NQVhfVkFMVUUpIHtcblx0ICAgICAgICAgICAgZGF0YSA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChfLCBpKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gaSA+PSAoY3VycmVudCAtIDEpICogcGFnZVNpemUgJiYgaSA8IGN1cnJlbnQgKiBwYWdlU2l6ZTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmxhdERhdGEgPSBmdW5jdGlvbiBnZXRGbGF0RGF0YSgpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF91dGlsLmZsYXRBcnJheSkodGhpcy5nZXRMb2NhbERhdGEoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpIHtcblx0ICAgICAgICByZXR1cm4gKDAsIF91dGlsLmZsYXRBcnJheSkodGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFRhYmxlLnByb3RvdHlwZS5yZWN1cnNpdmVTb3J0ID0gZnVuY3Rpb24gcmVjdXJzaXZlU29ydChkYXRhLCBzb3J0ZXJGbikge1xuXHQgICAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgICAgICB2YXIgX3Byb3BzJGNoaWxkcmVuQ29sdW1uID0gdGhpcy5wcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWUsXG5cdCAgICAgICAgICAgIGNoaWxkcmVuQ29sdW1uTmFtZSA9IF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9PT0gdW5kZWZpbmVkID8gJ2NoaWxkcmVuJyA6IF9wcm9wcyRjaGlsZHJlbkNvbHVtbjtcblx0XG5cdCAgICAgICAgcmV0dXJuIGRhdGEuc29ydChzb3J0ZXJGbikubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBpdGVtW2NoaWxkcmVuQ29sdW1uTmFtZV0gPyAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgaXRlbSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgY2hpbGRyZW5Db2x1bW5OYW1lLCBfdGhpczkucmVjdXJzaXZlU29ydChpdGVtW2NoaWxkcmVuQ29sdW1uTmFtZV0sIHNvcnRlckZuKSkpIDogaXRlbTtcblx0ICAgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgVGFibGUucHJvdG90eXBlLmdldExvY2FsRGF0YSA9IGZ1bmN0aW9uIGdldExvY2FsRGF0YSgpIHtcblx0ICAgICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICAgICAgdmFyIGRhdGFTb3VyY2UgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2U7XG5cdFxuXHQgICAgICAgIHZhciBkYXRhID0gZGF0YVNvdXJjZSB8fCBbXTtcblx0ICAgICAgICAvLyDkvJjljJbmnKzlnLDmjpLluo9cblx0ICAgICAgICBkYXRhID0gZGF0YS5zbGljZSgwKTtcblx0ICAgICAgICB2YXIgc29ydGVyRm4gPSB0aGlzLmdldFNvcnRlckZuKCk7XG5cdCAgICAgICAgaWYgKHNvcnRlckZuKSB7XG5cdCAgICAgICAgICAgIGRhdGEgPSB0aGlzLnJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyDnrZvpgIlcblx0ICAgICAgICBpZiAoc3RhdGUuZmlsdGVycykge1xuXHQgICAgICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZS5maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBjb2wgPSBfdGhpczEwLmZpbmRDb2x1bW4oY29sdW1uS2V5KTtcblx0ICAgICAgICAgICAgICAgIGlmICghY29sKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHN0YXRlLmZpbHRlcnNbY29sdW1uS2V5XSB8fCBbXTtcblx0ICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgdmFyIG9uRmlsdGVyID0gY29sLm9uRmlsdGVyO1xuXHQgICAgICAgICAgICAgICAgZGF0YSA9IG9uRmlsdGVyID8gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJlY29yZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuc29tZShmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GaWx0ZXIodiwgcmVjb3JkKTtcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0pIDogZGF0YTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBkYXRhO1xuXHQgICAgfTtcblx0XG5cdCAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfY2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAgX3RoaXMxMSA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcblx0ICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBzaG93SGVhZGVyID0gX2Euc2hvd0hlYWRlcixcblx0ICAgICAgICAgICAgbG9hZGluZyA9IF9hLmxvYWRpbmcsXG5cdCAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJwcmVmaXhDbHNcIiwgXCJzaG93SGVhZGVyXCIsIFwibG9hZGluZ1wiXSk7XG5cdCAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldEN1cnJlbnRQYWdlRGF0YSgpO1xuXHQgICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5yZW5kZXJSb3dTZWxlY3Rpb24oKTtcblx0ICAgICAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IHRoaXMucHJvcHMuZXhwYW5kZWRSb3dSZW5kZXIgJiYgdGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICE9PSBmYWxzZTtcblx0ICAgICAgICB2YXIgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUoKTtcblx0ICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHRoaXMucHJvcHMuc2l6ZSwgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctYm9yZGVyZWQnLCB0aGlzLnByb3BzLmJvcmRlcmVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1lbXB0eScsICFkYXRhLmxlbmd0aCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd2l0aG91dC1jb2x1bW4taGVhZGVyJywgIXNob3dIZWFkZXIpLCBfY2xhc3NOYW1lcykpO1xuXHQgICAgICAgIGNvbHVtbnMgPSB0aGlzLnJlbmRlckNvbHVtbnNEcm9wZG93bihjb2x1bW5zKTtcblx0ICAgICAgICBjb2x1bW5zID0gY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgaSkge1xuXHQgICAgICAgICAgICB2YXIgbmV3Q29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGNvbHVtbik7XG5cdCAgICAgICAgICAgIG5ld0NvbHVtbi5rZXkgPSBfdGhpczExLmdldENvbHVtbktleShuZXdDb2x1bW4sIGkpO1xuXHQgICAgICAgICAgICByZXR1cm4gbmV3Q29sdW1uO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBjb2x1bW5zWzBdICYmIGNvbHVtbnNbMF0ua2V5ID09PSAnc2VsZWN0aW9uLWNvbHVtbicgPyAxIDogMDtcblx0ICAgICAgICBpZiAoJ2V4cGFuZEljb25Db2x1bW5JbmRleCcgaW4gcmVzdFByb3BzKSB7XG5cdCAgICAgICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleCA9IHJlc3RQcm9wcy5leHBhbmRJY29uQ29sdW1uSW5kZXg7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciB0YWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX3JjVGFibGUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsga2V5OiAndGFibGUnIH0sIHJlc3RQcm9wcywgeyBwcmVmaXhDbHM6IHByZWZpeENscywgZGF0YTogZGF0YSwgY29sdW1uczogY29sdW1ucywgc2hvd0hlYWRlcjogc2hvd0hlYWRlciwgY2xhc3NOYW1lOiBjbGFzc1N0cmluZywgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBleHBhbmRJY29uQ29sdW1uSW5kZXgsIGV4cGFuZEljb25Bc0NlbGw6IGV4cGFuZEljb25Bc0NlbGwsIGVtcHR5VGV4dDogZnVuY3Rpb24gZW1wdHlUZXh0KCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5lbXB0eVRleHQ7XG5cdCAgICAgICAgICAgIH0gfSkpO1xuXHQgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHBhZ2luYXRpb24gb3Igbm8gZGF0YSxcblx0ICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHNwaW4gc2hvdWxkIGRlY3JlYXNlIGJ5IGhhbGYgb2YgcGFnaW5hdGlvblxuXHQgICAgICAgIHZhciBwYWdpbmF0aW9uUGF0Y2hDbGFzcyA9IHRoaXMuaGFzUGFnaW5hdGlvbigpICYmIGRhdGEgJiYgZGF0YS5sZW5ndGggIT09IDAgPyBwcmVmaXhDbHMgKyAnLXdpdGgtcGFnaW5hdGlvbicgOiBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtcGFnaW5hdGlvbic7XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscyArICctd3JhcHBlcicsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgX3NwaW4yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgc3Bpbm5pbmc6IGxvYWRpbmcsIGNsYXNzTmFtZTogbG9hZGluZyA/IHBhZ2luYXRpb25QYXRjaENsYXNzICsgJyAnICsgcHJlZml4Q2xzICsgJy1zcGluLWhvbGRlcicgOiAnJyB9LFxuXHQgICAgICAgICAgICAgICAgdGFibGUsXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2luYXRpb24oKVxuXHQgICAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFRhYmxlO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlO1xuXHRcblx0VGFibGUuQ29sdW1uID0gX0NvbHVtbjJbXCJkZWZhdWx0XCJdO1xuXHRUYWJsZS5Db2x1bW5Hcm91cCA9IF9Db2x1bW5Hcm91cDJbXCJkZWZhdWx0XCJdO1xuXHRUYWJsZS5wcm9wVHlwZXMgPSB7XG5cdCAgICBkYXRhU291cmNlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBjb2x1bW5zOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICByb3dTZWxlY3Rpb246IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBzaXplOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbG9hZGluZzogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBib3JkZXJlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBsb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBkcm9wZG93blByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBkYXRhU291cmNlOiBbXSxcblx0ICAgIHByZWZpeENsczogJ2FudC10YWJsZScsXG5cdCAgICB1c2VGaXhlZEhlYWRlcjogZmFsc2UsXG5cdCAgICByb3dTZWxlY3Rpb246IG51bGwsXG5cdCAgICBjbGFzc05hbWU6ICcnLFxuXHQgICAgc2l6ZTogJ2xhcmdlJyxcblx0ICAgIGxvYWRpbmc6IGZhbHNlLFxuXHQgICAgYm9yZGVyZWQ6IGZhbHNlLFxuXHQgICAgaW5kZW50U2l6ZTogMjAsXG5cdCAgICBsb2NhbGU6IHt9LFxuXHQgICAgcm93S2V5OiAna2V5Jyxcblx0ICAgIHNob3dIZWFkZXI6IHRydWVcblx0fTtcblx0VGFibGUuY29udGV4dFR5cGVzID0ge1xuXHQgICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVN0b3JlO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG5cdCAgICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG5cdCAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cdCAgICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG5cdCAgICAgICAgc3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgc3RhdGUsIHBhcnRpYWwpO1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuXHQgICAgICAgIHJldHVybiBzdGF0ZTtcblx0ICAgIH1cblx0ICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuXHQgICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgICAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgc2V0U3RhdGU6IHNldFN0YXRlLFxuXHQgICAgICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcblx0ICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZVxuXHQgICAgfTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTAxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfcmNNZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3JjTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY01lbnUpO1xuXHRcblx0dmFyIF9kb21DbG9zZXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO1xuXHRcblx0dmFyIF9kb21DbG9zZXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbUNsb3Nlc3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfZHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTtcblx0XG5cdHZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2NoZWNrYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblx0XG5cdHZhciBfcmFkaW8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTtcblx0XG5cdHZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXHRcblx0dmFyIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBGaWx0ZXJNZW51ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRmlsdGVyTWVudSwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRmlsdGVyTWVudShwcm9wcykge1xuXHQgICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRmlsdGVyTWVudSk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRLZXlzID0gZnVuY3Rpb24gKF9yZWYpIHtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9IF9yZWYuc2VsZWN0ZWRLZXlzO1xuXHRcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUNsZWFyRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBbXVxuXHQgICAgICAgICAgICB9LCBfdGhpcy5oYW5kbGVDb25maXJtKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuXHQgICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5vblZpc2libGVDaGFuZ2UgPSBmdW5jdGlvbiAodmlzaWJsZSkge1xuXHQgICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKHZpc2libGUpO1xuXHQgICAgICAgICAgICBpZiAoIXZpc2libGUpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzLmNvbmZpcm1GaWx0ZXIoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlTWVudUl0ZW1DbGljayA9IGZ1bmN0aW9uIChpbmZvKSB7XG5cdCAgICAgICAgICAgIGlmIChpbmZvLmtleVBhdGgubGVuZ3RoIDw9IDEpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIga2V5UGF0aE9mU2VsZWN0ZWRJdGVtID0gX3RoaXMuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuXHQgICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaW5mby5rZXkpID49IDApIHtcblx0ICAgICAgICAgICAgICAgIC8vIGRlc2VsZWN0IFN1Yk1lbnUgY2hpbGRcblx0ICAgICAgICAgICAgICAgIGRlbGV0ZSBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gc2VsZWN0IFN1Yk1lbnUgY2hpbGRcblx0ICAgICAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtpbmZvLmtleV0gPSBpbmZvLmtleVBhdGg7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW06IGtleVBhdGhPZlNlbGVjdGVkSXRlbSB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciB2aXNpYmxlID0gJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gcHJvcHMuY29sdW1uID8gcHJvcHMuY29sdW1uLmZpbHRlckRyb3Bkb3duVmlzaWJsZSA6IGZhbHNlO1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzZWxlY3RlZEtleXM6IHByb3BzLnNlbGVjdGVkS2V5cyxcblx0ICAgICAgICAgICAga2V5UGF0aE9mU2VsZWN0ZWRJdGVtOiB7fSxcblx0ICAgICAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXHRcblx0ICAgICAgICB2YXIgcm9vdE5vZGUgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgICAgICB2YXIgZmlsdGVyQmVsb25nVG9TY3JvbGxCb2R5ID0gISEoMCwgX2RvbUNsb3Nlc3QyW1wiZGVmYXVsdFwiXSkocm9vdE5vZGUsICcuYW50LXRhYmxlLXNjcm9sbCcpO1xuXHQgICAgICAgIGlmIChmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgJiYgY29sdW1uLmZpeGVkKSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gZml4ZWQgY29sdW1uIGhhdmUgZmlsdGVycywgdGhlcmUgd2lsbCBiZSB0d28gZHJvcGRvd24gbWVudXNcblx0ICAgICAgICAgICAgLy8gRmlsdGVyIGRyb3Bkb3duIG1lbnUgaW5zaWRlIHNjcm9sbCBib2R5IHNob3VsZCBuZXZlciBiZSBzaG93blxuXHQgICAgICAgICAgICAvLyBUbyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNTAxMFxuXHQgICAgICAgICAgICB0aGlzLm5ldmVyU2hvd24gPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9IG5leHRQcm9wcy5jb2x1bW47XG5cdFxuXHQgICAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuXHQgICAgICAgIGlmICgnc2VsZWN0ZWRLZXlzJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgbmV3U3RhdGUuc2VsZWN0ZWRLZXlzID0gbmV4dFByb3BzLnNlbGVjdGVkS2V5cztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikge1xuXHQgICAgICAgICAgICBuZXdTdGF0ZS52aXNpYmxlID0gY29sdW1uLmZpbHRlckRyb3Bkb3duVmlzaWJsZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlKS5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uIHNldFZpc2libGUodmlzaWJsZSkge1xuXHQgICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblx0XG5cdCAgICAgICAgaWYgKCEoJ2ZpbHRlckRyb3Bkb3duVmlzaWJsZScgaW4gY29sdW1uKSkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdmlzaWJsZSB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGNvbHVtbi5vbkZpbHRlckRyb3Bkb3duVmlzaWJsZUNoYW5nZSkge1xuXHQgICAgICAgICAgICBjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb25maXJtRmlsdGVyID0gZnVuY3Rpb24gY29uZmlybUZpbHRlcigpIHtcblx0ICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWRLZXlzKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlybUZpbHRlcih0aGlzLnByb3BzLmNvbHVtbiwgdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRmlsdGVyTWVudS5wcm90b3R5cGUucmVuZGVyTWVudUl0ZW0gPSBmdW5jdGlvbiByZW5kZXJNZW51SXRlbShpdGVtKSB7XG5cdCAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMucHJvcHMuY29sdW1uO1xuXHRcblx0ICAgICAgICB2YXIgbXVsdGlwbGUgPSAnZmlsdGVyTXVsdGlwbGUnIGluIGNvbHVtbiA/IGNvbHVtbi5maWx0ZXJNdWx0aXBsZSA6IHRydWU7XG5cdCAgICAgICAgdmFyIGlucHV0ID0gbXVsdGlwbGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9jaGVja2JveDJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS52YWx1ZS50b1N0cmluZygpKSA+PSAwIH0pIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgPj0gMCB9KTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjTWVudS5JdGVtLFxuXHQgICAgICAgICAgICB7IGtleTogaXRlbS52YWx1ZSB9LFxuXHQgICAgICAgICAgICBpbnB1dCxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgICAgICBpdGVtLnRleHRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmhhc1N1Yk1lbnUgPSBmdW5jdGlvbiBoYXNTdWJNZW51KCkge1xuXHQgICAgICAgIHZhciBfcHJvcHMkY29sdW1uJGZpbHRlcnMgPSB0aGlzLnByb3BzLmNvbHVtbi5maWx0ZXJzLFxuXHQgICAgICAgICAgICBmaWx0ZXJzID0gX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID09PSB1bmRlZmluZWQgPyBbXSA6IF9wcm9wcyRjb2x1bW4kZmlsdGVycztcblx0XG5cdCAgICAgICAgcmV0dXJuIGZpbHRlcnMuc29tZShmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICByZXR1cm4gISEoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51cyA9IGZ1bmN0aW9uIHJlbmRlck1lbnVzKGl0ZW1zKSB7XG5cdCAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIga2V5UGF0aE9mU2VsZWN0ZWRJdGVtID0gX3RoaXMyLnN0YXRlLmtleVBhdGhPZlNlbGVjdGVkSXRlbTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgY29udGFpblNlbGVjdGVkID0gT2JqZWN0LmtleXMoa2V5UGF0aE9mU2VsZWN0ZWRJdGVtKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5UGF0aE9mU2VsZWN0ZWRJdGVtW2tleV0uaW5kZXhPZihpdGVtLnZhbHVlKSA+PSAwO1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc3ViTWVudUNscyA9IGNvbnRhaW5TZWxlY3RlZCA/IF90aGlzMi5wcm9wcy5kcm9wZG93blByZWZpeENscyArICctc3VibWVudS1jb250YWluLXNlbGVjdGVkJyA6ICcnO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgX3JjTWVudS5TdWJNZW51LFxuXHQgICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6IGl0ZW0udGV4dCwgY2xhc3NOYW1lOiBzdWJNZW51Q2xzLCBrZXk6IGl0ZW0udmFsdWUudG9TdHJpbmcoKSB9LFxuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZW5kZXJNZW51cyhpdGVtLmNoaWxkcmVuKVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnJlbmRlck1lbnVJdGVtKGl0ZW0pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgICAgIGNvbHVtbiA9IF9wcm9wcy5jb2x1bW4sXG5cdCAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIGRyb3Bkb3duUHJlZml4Q2xzID0gX3Byb3BzLmRyb3Bkb3duUHJlZml4Q2xzO1xuXHQgICAgICAgIC8vIGRlZmF1bHQgbXVsdGlwbGUgc2VsZWN0aW9uIGluIGZpbHRlciBkcm9wZG93blxuXHRcblx0ICAgICAgICB2YXIgbXVsdGlwbGUgPSAnZmlsdGVyTXVsdGlwbGUnIGluIGNvbHVtbiA/IGNvbHVtbi5maWx0ZXJNdWx0aXBsZSA6IHRydWU7XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duTWVudUNsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51LXdpdGhvdXQtc3VibWVudScsICF0aGlzLmhhc1N1Yk1lbnUoKSkpO1xuXHQgICAgICAgIHZhciBtZW51cyA9IGNvbHVtbi5maWx0ZXJEcm9wZG93biA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9GaWx0ZXJEcm9wZG93bk1lbnVXcmFwcGVyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICAgIGNvbHVtbi5maWx0ZXJEcm9wZG93blxuXHQgICAgICAgICkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bicgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgIHsgbXVsdGlwbGU6IG11bHRpcGxlLCBvbkNsaWNrOiB0aGlzLmhhbmRsZU1lbnVJdGVtQ2xpY2ssIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMgKyAnLW1lbnUnLCBjbGFzc05hbWU6IGRyb3Bkb3duTWVudUNsYXNzLCBvblNlbGVjdDogdGhpcy5zZXRTZWxlY3RlZEtleXMsIG9uRGVzZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBzZWxlY3RlZEtleXM6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzIH0sXG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1lbnVzKGNvbHVtbi5maWx0ZXJzKVxuXHQgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1idG5zJyB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjb25maXJtJywgb25DbGljazogdGhpcy5oYW5kbGVDb25maXJtIH0sXG5cdCAgICAgICAgICAgICAgICAgICAgbG9jYWxlLmZpbHRlckNvbmZpcm1cblx0ICAgICAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1saW5rIGNsZWFyJywgb25DbGljazogdGhpcy5oYW5kbGVDbGVhckZpbHRlcnMgfSxcblx0ICAgICAgICAgICAgICAgICAgICBsb2NhbGUuZmlsdGVyUmVzZXRcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICAgICAgdmFyIGRyb3Bkb3duU2VsZWN0ZWRDbGFzcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA+IDAgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkJyA6ICcnO1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgeyB0cmlnZ2VyOiBbJ2NsaWNrJ10sIG92ZXJsYXk6IG1lbnVzLCB2aXNpYmxlOiB0aGlzLm5ldmVyU2hvd24gPyBmYWxzZSA6IHRoaXMuc3RhdGUudmlzaWJsZSwgb25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9pY29uMltcImRlZmF1bHRcIl0sIHsgdGl0bGU6IGxvY2FsZS5maWx0ZXJUaXRsZSwgdHlwZTogJ2ZpbHRlcicsIGNsYXNzTmFtZTogZHJvcGRvd25TZWxlY3RlZENsYXNzIH0pXG5cdCAgICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIEZpbHRlck1lbnU7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRmlsdGVyTWVudTtcblx0XG5cdEZpbHRlck1lbnUuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7fSxcblx0XG5cdCAgICBjb2x1bW46IHt9XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmZsYXRBcnJheSA9IGZsYXRBcnJheTtcblx0ZXhwb3J0cy50cmVlTWFwID0gdHJlZU1hcDtcblx0ZXhwb3J0cy5ub3JtYWxpemVDb2x1bW5zID0gbm9ybWFsaXplQ29sdW1ucztcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpO1xuXHRcblx0dmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGZsYXRBcnJheSgpIHtcblx0ICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblx0ICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjaGlsZHJlbic7XG5cdFxuXHQgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiBsb29wKGFycmF5KSB7XG5cdCAgICAgICAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICB2YXIgbmV3SXRlbSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBpdGVtKTtcblx0ICAgICAgICAgICAgZGVsZXRlIG5ld0l0ZW1bY2hpbGRyZW5OYW1lXTtcblx0ICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3SXRlbSk7XG5cdCAgICAgICAgICAgIGlmIChpdGVtW2NoaWxkcmVuTmFtZV0gJiYgaXRlbVtjaGlsZHJlbk5hbWVdLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICAgIGxvb3AoaXRlbVtjaGlsZHJlbk5hbWVdKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfTtcblx0ICAgIGxvb3AoZGF0YSk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGZ1bmN0aW9uIHRyZWVNYXAodHJlZSwgbWFwcGVyKSB7XG5cdCAgICB2YXIgY2hpbGRyZW5OYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnY2hpbGRyZW4nO1xuXHRcblx0ICAgIHJldHVybiB0cmVlLm1hcChmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcblx0ICAgICAgICB2YXIgZXh0cmEgPSB7fTtcblx0ICAgICAgICBpZiAobm9kZVtjaGlsZHJlbk5hbWVdKSB7XG5cdCAgICAgICAgICAgIGV4dHJhW2NoaWxkcmVuTmFtZV0gPSB0cmVlTWFwKG5vZGVbY2hpbGRyZW5OYW1lXSwgbWFwcGVyLCBjaGlsZHJlbk5hbWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIG1hcHBlcihub2RlLCBpbmRleCksIGV4dHJhKTtcblx0ICAgIH0pO1xuXHR9XG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbHVtbnMoZWxlbWVudHMpIHtcblx0ICAgIHZhciBjb2x1bW5zID0gW107XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHQgICAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGVsZW1lbnQucHJvcHMpO1xuXHQgICAgICAgIGlmIChlbGVtZW50LmtleSkge1xuXHQgICAgICAgICAgICBjb2x1bW4ua2V5ID0gZWxlbWVudC5rZXk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09IF9Db2x1bW5Hcm91cDJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IG5vcm1hbGl6ZUNvbHVtbnMoY29sdW1uLmNoaWxkcmVuKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgY29sdW1ucy5wdXNoKGNvbHVtbik7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBjb2x1bW5zO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDEwNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBNb2R1bGUgZGVwZW5kZW5jaWVzXG5cdCAqL1xuXHRcblx0dmFyIG1hdGNoZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7XG5cdFxuXHQvKipcblx0ICogQHBhcmFtIGVsZW1lbnQge0VsZW1lbnR9XG5cdCAqIEBwYXJhbSBzZWxlY3RvciB7U3RyaW5nfVxuXHQgKiBAcGFyYW0gY29udGV4dCB7RWxlbWVudH1cblx0ICogQHJldHVybiB7RWxlbWVudH1cblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yLCBjb250ZXh0KSB7XG5cdCAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cdCAgLy8gZ3VhcmQgYWdhaW5zdCBvcnBoYW5zXG5cdCAgZWxlbWVudCA9IHsgcGFyZW50Tm9kZTogZWxlbWVudCB9O1xuXHRcblx0ICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpICYmIGVsZW1lbnQgIT09IGNvbnRleHQpIHtcblx0ICAgIGlmIChtYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSkge1xuXHQgICAgICByZXR1cm4gZWxlbWVudDtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMTA2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0LyoqXG5cdCAqIERldGVybWluZSBpZiBhIERPTSBlbGVtZW50IG1hdGNoZXMgYSBDU1Mgc2VsZWN0b3Jcblx0ICpcblx0ICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIG1hdGNoZXMoZWxlbSwgc2VsZWN0b3IpIHtcblx0ICAvLyBWZW5kb3Itc3BlY2lmaWMgaW1wbGVtZW50YXRpb25zIG9mIGBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKClgLlxuXHQgIHZhciBwcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTtcblx0ICB2YXIgbmF0aXZlTWF0Y2hlcyA9IHByb3RvLm1hdGNoZXMgfHxcblx0ICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdCAgICAgIHByb3RvLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdCAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0ICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXHRcblx0ICBpZiAoIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSAhPT0gMSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgdmFyIHBhcmVudEVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG5cdFxuXHQgIC8vIHVzZSBuYXRpdmUgJ21hdGNoZXMnXG5cdCAgaWYgKG5hdGl2ZU1hdGNoZXMpIHtcblx0ICAgIHJldHVybiBuYXRpdmVNYXRjaGVzLmNhbGwoZWxlbSwgc2VsZWN0b3IpO1xuXHQgIH1cblx0XG5cdCAgLy8gbmF0aXZlIHN1cHBvcnQgZm9yIGBtYXRjaGVzYCBpcyBtaXNzaW5nIGFuZCBhIGZhbGxiYWNrIGlzIHJlcXVpcmVkXG5cdCAgdmFyIG5vZGVzID0gcGFyZW50RWxlbS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblx0ICB2YXIgbGVuID0gbm9kZXMubGVuZ3RoO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICBpZiAobm9kZXNbaV0gPT09IGVsZW0pIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFeHBvc2UgYG1hdGNoZXNgXG5cdCAqL1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBtYXRjaGVzO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDEwNzpcbjEwLFxuXG4vKioqLyAxMDg6XG4xMCxcblxuLyoqKi8gMTEwOlxuMTAsXG5cbi8qKiovIDExMTpcbjEwLFxuXG4vKioqLyAxMTI6XG4xMCxcblxuLyoqKi8gMTEzOlxuMTAsXG5cbi8qKiovIDExNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzKSB7Ly8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjcuMVxuXHQoZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lO1xuXHRcblx0ICBpZiAoKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCkgJiYgcGVyZm9ybWFuY2Uubm93KSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG5cdCAgICB9O1xuXHQgIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gKGdldE5hbm9TZWNvbmRzKCkgLSBsb2FkVGltZSkgLyAxZTY7XG5cdCAgICB9O1xuXHQgICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG5cdCAgICBnZXROYW5vU2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaHI7XG5cdCAgICAgIGhyID0gaHJ0aW1lKCk7XG5cdCAgICAgIHJldHVybiBoclswXSAqIDFlOSArIGhyWzFdO1xuXHQgICAgfTtcblx0ICAgIGxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcblx0ICB9IGVsc2UgaWYgKERhdGUubm93KSB7XG5cdCAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuXHQgICAgfTtcblx0ICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG5cdCAgICB9O1xuXHQgICAgbG9hZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICB9XG5cdFxuXHR9KS5jYWxsKHRoaXMpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMTE0KSkpXG5cbi8qKiovIH0sXG5cbi8qKiovIDExNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1B1cmVSZW5kZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0dmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKENoZWNrYm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGVja2JveCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiB0cnVlIH0pO1xuXHQgICAgICBfdGhpcy5wcm9wcy5vbkZvY3VzKGUpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVCbHVyID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgX3RoaXMuc2V0U3RhdGUoeyBmb2N1czogZmFsc2UgfSk7XG5cdCAgICAgIF90aGlzLnByb3BzLm9uQmx1cihlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgaWYgKF90aGlzLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghKCdjaGVja2VkJyBpbiBfdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xuXHQgICAgICAgIHRhcmdldDogX2V4dGVuZHMoe30sIF90aGlzLnByb3BzLCB7XG5cdCAgICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG5cdCAgICAgICAgfSksXG5cdCAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XG5cdCAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuXHQgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cdCAgICBpZiAoJ2NoZWNrZWQnIGluIHByb3BzKSB7XG5cdCAgICAgIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY2hlY2tlZCA9IHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXHQgICAgfVxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG5cdCAgICAgIGZvY3VzOiBmYWxzZVxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIENoZWNrYm94LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIGlmICgnY2hlY2tlZCcgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGNoZWNrZWQ6IG5leHRQcm9wcy5jaGVja2VkXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIENoZWNrYm94LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgIH07XG5cdFxuXHQgIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuXHQgICAgLy8gUmVtb3ZlIFJlYWN0IHdhcm5pbmcuXG5cdCAgICAvLyBXYXJuaW5nOiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZFxuXHQgICAgLy8gKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuXG5cdCAgICBkZWxldGUgcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG5cdFxuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cdCAgICB2YXIgY2hlY2tlZCA9IHN0YXRlLmNoZWNrZWQ7XG5cdCAgICBpZiAodHlwZW9mIGNoZWNrZWQgPT09ICdib29sZWFuJykge1xuXHQgICAgICBjaGVja2VkID0gY2hlY2tlZCA/IDEgOiAwO1xuXHQgICAgfVxuXHQgICAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIDEpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZC0nICsgY2hlY2tlZCwgISFjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBzdGF0ZS5mb2N1cyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIHByb3BzLmRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnc3BhbicsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGVcblx0ICAgICAgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlubmVyJyB9KSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcblx0ICAgICAgICB0eXBlOiBwcm9wcy50eXBlLFxuXHQgICAgICAgIHJlYWRPbmx5OiBwcm9wcy5yZWFkT25seSxcblx0ICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgdGFiSW5kZXg6IHByb3BzLnRhYkluZGV4LFxuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCcsXG5cdCAgICAgICAgY2hlY2tlZDogISFjaGVja2VkLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJvcHMub25DbGljayxcblx0ICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUZvY3VzLFxuXHQgICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuXHQgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuXHQgICAgICB9KVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gQ2hlY2tib3g7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdENoZWNrYm94LnByb3BUeXBlcyA9IHtcblx0ICBuYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBzdHlsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcblx0ICB0eXBlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGNsYXNzTmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcblx0ICBkZWZhdWx0Q2hlY2tlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2xdKSxcblx0ICBkaXNhYmxlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG5cdCAgY2hlY2tlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2xdKSxcblx0ICBvbkZvY3VzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkJsdXI6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkNsaWNrOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuY1xuXHR9O1xuXHRDaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgcHJlZml4Q2xzOiAncmMtY2hlY2tib3gnLFxuXHQgIHN0eWxlOiB7fSxcblx0ICB0eXBlOiAnY2hlY2tib3gnLFxuXHQgIGNsYXNzTmFtZTogJycsXG5cdCAgZGVmYXVsdENoZWNrZWQ6IGZhbHNlLFxuXHQgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7fSxcblx0ICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHt9LFxuXHQgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXHRcblx0dmFyIF9wbGFjZW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcblx0dmFyIF9wbGFjZW1lbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYWNlbWVudHMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cdFxuXHQvKlxuXHQgdmFyIE1lbnVJdGVtID0gTWVudS5JdGVtO1xuXHRcblx0IHZhciBtZW51ID0gPE1lbnU+PE1lbnVJdGVtPjE8L01lbnVJdGVtPjwvTWVudT47XG5cdFxuXHQgPERyb3BEb3duIHRyaWdnZXI9XCJjbGlja1wiIGFuaW1hdGlvbk5hbWU9XCJcIiBvdmVybGF5PXs8Pn0gb25TZWxlY3Q9e30+XG5cdCA8YnV0dG9uPm9wZW48L2J1dHRvbj5cblx0IDwvRHJvcERvd24+XG5cdCovXG5cdFxuXHR2YXIgRHJvcGRvd24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdEcm9wZG93bicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgbWluT3ZlcmxheVdpZHRoTWF0Y2hUcmlnZ2VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblZpc2libGVDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvdmVybGF5Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGFuaW1hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBhbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBvdmVybGF5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgcGxhY2VtZW50OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHRyaWdnZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBzaG93QWN0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgaGlkZUFjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGdldFBvcHVwQ29udGFpbmVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogdHJ1ZSxcblx0ICAgICAgcHJlZml4Q2xzOiAncmMtZHJvcGRvd24nLFxuXHQgICAgICB0cmlnZ2VyOiBbJ2hvdmVyJ10sXG5cdCAgICAgIHNob3dBY3Rpb246IFtdLFxuXHQgICAgICBoaWRlQWN0aW9uOiBbXSxcblx0ICAgICAgb3ZlcmxheUNsYXNzTmFtZTogJycsXG5cdCAgICAgIG92ZXJsYXlTdHlsZToge30sXG5cdCAgICAgIGRlZmF1bHRWaXNpYmxlOiBmYWxzZSxcblx0ICAgICAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UoKSB7fSxcblx0XG5cdCAgICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCd2aXNpYmxlJyBpbiBwcm9wcykge1xuXHQgICAgICByZXR1cm4ge1xuXHQgICAgICAgIHZpc2libGU6IHByb3BzLnZpc2libGVcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHZpc2libGU6IHByb3BzLmRlZmF1bHRWaXNpYmxlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhfcmVmKSB7XG5cdCAgICB2YXIgdmlzaWJsZSA9IF9yZWYudmlzaWJsZTtcblx0XG5cdCAgICBpZiAodmlzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZpc2libGU6IHZpc2libGVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgb3ZlcmxheVByb3BzID0gcHJvcHMub3ZlcmxheS5wcm9wcztcblx0ICAgIC8vIGRvIG5vIGNhbGwgb25WaXNpYmxlQ2hhbmdlLCBpZiB5b3UgbmVlZCBjbGljayB0byBoaWRlLCB1c2Ugb25DbGljayBhbmQgY29udHJvbCB2aXNpYmxlXG5cdCAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZpc2libGU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKG92ZXJsYXlQcm9wcy5vbkNsaWNrKSB7XG5cdCAgICAgIG92ZXJsYXlQcm9wcy5vbkNsaWNrKGUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UodmlzaWJsZSkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmICghKCd2aXNpYmxlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHByb3BzLm9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcblx0ICB9LFxuXHQgIGdldE1lbnVFbGVtZW50OiBmdW5jdGlvbiBnZXRNZW51RWxlbWVudCgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHByb3BzLm92ZXJsYXksIHtcblx0ICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMgKyAnLW1lbnUnLFxuXHQgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2tcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgZ2V0UG9wdXBEb21Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERvbU5vZGUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0UG9wdXBEb21Ob2RlKCk7XG5cdCAgfSxcblx0ICBhZnRlclZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIGFmdGVyVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG5cdCAgICBpZiAodmlzaWJsZSAmJiB0aGlzLnByb3BzLm1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcikge1xuXHQgICAgICB2YXIgb3ZlcmxheU5vZGUgPSB0aGlzLmdldFBvcHVwRG9tTm9kZSgpO1xuXHQgICAgICB2YXIgcm9vdE5vZGUgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICAgICAgaWYgKHJvb3ROb2RlLm9mZnNldFdpZHRoID4gb3ZlcmxheU5vZGUub2Zmc2V0V2lkdGgpIHtcblx0ICAgICAgICBvdmVybGF5Tm9kZS5zdHlsZS53aWR0aCA9IHJvb3ROb2RlLm9mZnNldFdpZHRoICsgJ3B4Jztcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXHQgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gX3Byb3BzLnRyYW5zaXRpb25OYW1lO1xuXHQgICAgdmFyIGFuaW1hdGlvbiA9IF9wcm9wcy5hbmltYXRpb247XG5cdCAgICB2YXIgYWxpZ24gPSBfcHJvcHMuYWxpZ247XG5cdCAgICB2YXIgcGxhY2VtZW50ID0gX3Byb3BzLnBsYWNlbWVudDtcblx0ICAgIHZhciBnZXRQb3B1cENvbnRhaW5lciA9IF9wcm9wcy5nZXRQb3B1cENvbnRhaW5lcjtcblx0ICAgIHZhciBzaG93QWN0aW9uID0gX3Byb3BzLnNob3dBY3Rpb247XG5cdCAgICB2YXIgaGlkZUFjdGlvbiA9IF9wcm9wcy5oaWRlQWN0aW9uO1xuXHQgICAgdmFyIG92ZXJsYXlDbGFzc05hbWUgPSBfcHJvcHMub3ZlcmxheUNsYXNzTmFtZTtcblx0ICAgIHZhciBvdmVybGF5U3R5bGUgPSBfcHJvcHMub3ZlcmxheVN0eWxlO1xuXHQgICAgdmFyIHRyaWdnZXIgPSBfcHJvcHMudHJpZ2dlcjtcblx0XG5cdCAgICB2YXIgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsncHJlZml4Q2xzJywgJ2NoaWxkcmVuJywgJ3RyYW5zaXRpb25OYW1lJywgJ2FuaW1hdGlvbicsICdhbGlnbicsICdwbGFjZW1lbnQnLCAnZ2V0UG9wdXBDb250YWluZXInLCAnc2hvd0FjdGlvbicsICdoaWRlQWN0aW9uJywgJ292ZXJsYXlDbGFzc05hbWUnLCAnb3ZlcmxheVN0eWxlJywgJ3RyaWdnZXInXSk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHtcblx0ICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICByZWY6ICd0cmlnZ2VyJyxcblx0ICAgICAgICBwb3B1cENsYXNzTmFtZTogb3ZlcmxheUNsYXNzTmFtZSxcblx0ICAgICAgICBwb3B1cFN0eWxlOiBvdmVybGF5U3R5bGUsXG5cdCAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IF9wbGFjZW1lbnRzMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgYWN0aW9uOiB0cmlnZ2VyLFxuXHQgICAgICAgIHNob3dBY3Rpb246IHNob3dBY3Rpb24sXG5cdCAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcblx0ICAgICAgICBwb3B1cFBsYWNlbWVudDogcGxhY2VtZW50LFxuXHQgICAgICAgIHBvcHVwQWxpZ246IGFsaWduLFxuXHQgICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLFxuXHQgICAgICAgIHBvcHVwQW5pbWF0aW9uOiBhbmltYXRpb24sXG5cdCAgICAgICAgcG9wdXBWaXNpYmxlOiB0aGlzLnN0YXRlLnZpc2libGUsXG5cdCAgICAgICAgYWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMuYWZ0ZXJWaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIHBvcHVwOiB0aGlzLmdldE1lbnVFbGVtZW50KCksXG5cdCAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBnZXRQb3B1cENvbnRhaW5lclxuXHQgICAgICB9KSxcblx0ICAgICAgY2hpbGRyZW5cblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfRHJvcGRvd24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExNyk7XG5cdFxuXHR2YXIgX0Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfRHJvcGRvd24yW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDExOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuXHQgIGFkanVzdFg6IDEsXG5cdCAgYWRqdXN0WTogMVxuXHR9O1xuXHRcblx0dmFyIHRhcmdldE9mZnNldCA9IFswLCAwXTtcblx0XG5cdHZhciBwbGFjZW1lbnRzID0gZXhwb3J0cy5wbGFjZW1lbnRzID0ge1xuXHQgIHRvcExlZnQ6IHtcblx0ICAgIHBvaW50czogWydibCcsICd0bCddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICB0b3BDZW50ZXI6IHtcblx0ICAgIHBvaW50czogWydiYycsICd0YyddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIC00XSxcblx0ICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG5cdCAgfSxcblx0ICB0b3BSaWdodDoge1xuXHQgICAgcG9pbnRzOiBbJ2JyJywgJ3RyJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgLTRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIGJvdHRvbUxlZnQ6IHtcblx0ICAgIHBvaW50czogWyd0bCcsICdibCddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIGJvdHRvbUNlbnRlcjoge1xuXHQgICAgcG9pbnRzOiBbJ3RjJywgJ2JjJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgNF0sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgYm90dG9tUmlnaHQ6IHtcblx0ICAgIHBvaW50czogWyd0cicsICdiciddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDRdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHBsYWNlbWVudHM7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFJlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIEtFWUNPREUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0XG5cdHZhciBPcHRpb25zID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoT3B0aW9ucywgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIE9wdGlvbnMocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPcHRpb25zKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY3VycmVudDogcHJvcHMuY3VycmVudCxcblx0ICAgICAgX2N1cnJlbnQ6IHByb3BzLmN1cnJlbnRcblx0ICAgIH07XG5cdFxuXHQgICAgWydfaGFuZGxlQ2hhbmdlJywgJ19jaGFuZ2VTaXplJywgJ19nbycsICdfYnVpbGRPcHRpb25UZXh0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgIHJldHVybiBfdGhpc1ttZXRob2RdID0gX3RoaXNbbWV0aG9kXS5iaW5kKF90aGlzKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUuX2J1aWxkT3B0aW9uVGV4dCA9IGZ1bmN0aW9uIF9idWlsZE9wdGlvblRleHQodmFsdWUpIHtcblx0ICAgIHJldHVybiB2YWx1ZSArICcgJyArIHRoaXMucHJvcHMubG9jYWxlLml0ZW1zX3Blcl9wYWdlO1xuXHQgIH07XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLl9jaGFuZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVNpemUodmFsdWUpIHtcblx0ICAgIHRoaXMucHJvcHMuY2hhbmdlU2l6ZShOdW1iZXIodmFsdWUpKTtcblx0ICB9O1xuXHRcblx0ICBPcHRpb25zLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldnQpIHtcblx0ICAgIHZhciBfdmFsID0gZXZ0LnRhcmdldC52YWx1ZTtcblx0XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgX2N1cnJlbnQ6IF92YWxcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIE9wdGlvbnMucHJvdG90eXBlLl9nbyA9IGZ1bmN0aW9uIF9nbyhlKSB7XG5cdCAgICB2YXIgX3ZhbCA9IGUudGFyZ2V0LnZhbHVlO1xuXHQgICAgaWYgKF92YWwgPT09ICcnKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHZhciB2YWwgPSBOdW1iZXIodGhpcy5zdGF0ZS5fY3VycmVudCk7XG5cdCAgICBpZiAoaXNOYU4odmFsKSkge1xuXHQgICAgICB2YWwgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgICB9XG5cdCAgICBpZiAoZS5rZXlDb2RlID09PSBLRVlDT0RFLkVOVEVSKSB7XG5cdCAgICAgIHZhciBjID0gdGhpcy5wcm9wcy5xdWlja0dvKHZhbCk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIF9jdXJyZW50OiBjLFxuXHQgICAgICAgIGN1cnJlbnQ6IGNcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgT3B0aW9ucy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLW9wdGlvbnMnO1xuXHQgICAgdmFyIGNoYW5nZVNpemUgPSBwcm9wcy5jaGFuZ2VTaXplO1xuXHQgICAgdmFyIHF1aWNrR28gPSBwcm9wcy5xdWlja0dvO1xuXHQgICAgdmFyIGJ1aWxkT3B0aW9uVGV4dCA9IHByb3BzLmJ1aWxkT3B0aW9uVGV4dCB8fCB0aGlzLl9idWlsZE9wdGlvblRleHQ7XG5cdCAgICB2YXIgU2VsZWN0ID0gcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3M7XG5cdCAgICB2YXIgY2hhbmdlU2VsZWN0ID0gbnVsbDtcblx0ICAgIHZhciBnb0lucHV0ID0gbnVsbDtcblx0XG5cdCAgICBpZiAoIShjaGFuZ2VTaXplIHx8IHF1aWNrR28pKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChjaGFuZ2VTaXplICYmIFNlbGVjdCkge1xuXHQgICAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBPcHRpb24gPSBTZWxlY3QuT3B0aW9uO1xuXHQgICAgICAgIHZhciBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplIHx8IHByb3BzLnBhZ2VTaXplT3B0aW9uc1swXTtcblx0ICAgICAgICB2YXIgb3B0aW9ucyA9IHByb3BzLnBhZ2VTaXplT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCwgaSkge1xuXHQgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyBrZXk6IGksIHZhbHVlOiBvcHQgfSxcblx0ICAgICAgICAgICAgYnVpbGRPcHRpb25UZXh0KG9wdClcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgIGNoYW5nZVNlbGVjdCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBTZWxlY3QsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIHByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuXHQgICAgICAgICAgICBzaG93U2VhcmNoOiBmYWxzZSxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpemUtY2hhbmdlcicsXG5cdCAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ2NoaWxkcmVuJyxcblx0ICAgICAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBmYWxzZSxcblx0ICAgICAgICAgICAgdmFsdWU6IHBhZ2VTaXplLnRvU3RyaW5nKCksXG5cdCAgICAgICAgICAgIG9uQ2hhbmdlOiBfdGhpczIuX2NoYW5nZVNpemVcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBvcHRpb25zXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSkoKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAocXVpY2tHbykge1xuXHQgICAgICBnb0lucHV0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1xdWljay1qdW1wZXInIH0sXG5cdCAgICAgICAgbG9jYWxlLmp1bXBfdG8sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgICB0eXBlOiAndGV4dCcsXG5cdCAgICAgICAgICB2YWx1ZTogc3RhdGUuX2N1cnJlbnQsXG5cdCAgICAgICAgICBvbkNoYW5nZTogdGhpcy5faGFuZGxlQ2hhbmdlLFxuXHQgICAgICAgICAgb25LZXlVcDogdGhpcy5fZ29cblx0ICAgICAgICB9KSxcblx0ICAgICAgICBsb2NhbGUucGFnZVxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6ICcnICsgcHJlZml4Q2xzIH0sXG5cdCAgICAgIGNoYW5nZVNlbGVjdCxcblx0ICAgICAgZ29JbnB1dFxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gT3B0aW9ucztcblx0fShSZWFjdC5Db21wb25lbnQpO1xuXHRcblx0T3B0aW9ucy5wcm9wVHlwZXMgPSB7XG5cdCAgY2hhbmdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgcXVpY2tHbzogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgcGFnZVNpemVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICBwYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBidWlsZE9wdGlvblRleHQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRcblx0T3B0aW9ucy5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgcGFnZVNpemVPcHRpb25zOiBbJzEwJywgJzIwJywgJzMwJywgJzQwJ11cblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT3B0aW9ucztcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIFBhZ2VyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoUGFnZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBQYWdlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlcik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBQYWdlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1pdGVtJztcblx0ICAgIHZhciBjbHMgPSBwcmVmaXhDbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLScgKyBwcm9wcy5wYWdlO1xuXHRcblx0ICAgIGlmIChwcm9wcy5hY3RpdmUpIHtcblx0ICAgICAgY2xzID0gY2xzICsgJyAnICsgcHJlZml4Q2xzICsgJy1hY3RpdmUnO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcblx0ICAgICAgY2xzID0gY2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnbGknLFxuXHQgICAgICB7IHRpdGxlOiBwcm9wcy5wYWdlLCBjbGFzc05hbWU6IGNscywgb25DbGljazogcHJvcHMub25DbGljayB9LFxuXHQgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdhJyxcblx0ICAgICAgICBudWxsLFxuXHQgICAgICAgIHByb3BzLnBhZ2Vcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gUGFnZXI7XG5cdH0oUmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdFBhZ2VyLnByb3BUeXBlcyA9IHtcblx0ICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGFjdGl2ZTogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgbGFzdDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGNsYXNzTmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHR9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBQYWdlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgUGFnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG5cdHZhciBPcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjApO1xuXHR2YXIgS0VZQ09ERSA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHR2YXIgTE9DQUxFID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoUGFnaW5hdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFBhZ2luYXRpb24ocHJvcHMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0aW9uKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICB2YXIgaGFzT25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSAhPT0gbm9vcDtcblx0ICAgIHZhciBoYXNDdXJyZW50ID0gJ2N1cnJlbnQnIGluIHByb3BzO1xuXHQgICAgaWYgKGhhc0N1cnJlbnQgJiYgIWhhc09uQ2hhbmdlKSB7XG5cdCAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogWW91IHByb3ZpZGVkIGEgYGN1cnJlbnRgIHByb3AgdG8gYSBQYWdpbmF0aW9uIGNvbXBvbmVudCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBjb21wb25lbnQuJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY3VycmVudCA9IHByb3BzLmRlZmF1bHRDdXJyZW50O1xuXHQgICAgaWYgKCdjdXJyZW50JyBpbiBwcm9wcykge1xuXHQgICAgICBjdXJyZW50ID0gcHJvcHMuY3VycmVudDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcGFnZVNpemUgPSBwcm9wcy5kZWZhdWx0UGFnZVNpemU7XG5cdCAgICBpZiAoJ3BhZ2VTaXplJyBpbiBwcm9wcykge1xuXHQgICAgICBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplO1xuXHQgICAgfVxuXHRcblx0ICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICBjdXJyZW50OiBjdXJyZW50LFxuXHQgICAgICBfY3VycmVudDogY3VycmVudCxcblx0ICAgICAgcGFnZVNpemU6IHBhZ2VTaXplXG5cdCAgICB9O1xuXHRcblx0ICAgIFsncmVuZGVyJywgJ19oYW5kbGVDaGFuZ2UnLCAnX2hhbmRsZUtleVVwJywgJ19oYW5kbGVLZXlEb3duJywgJ19jaGFuZ2VQYWdlU2l6ZScsICdfaXNWYWxpZCcsICdfcHJldicsICdfbmV4dCcsICdfaGFzUHJldicsICdfaGFzTmV4dCcsICdfanVtcFByZXYnLCAnX2p1bXBOZXh0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG5cdCAgICAgIHJldHVybiBfdGhpc1ttZXRob2RdID0gX3RoaXNbbWV0aG9kXS5iaW5kKF90aGlzKTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudCxcblx0ICAgICAgICBfY3VycmVudDogbmV4dFByb3BzLmN1cnJlbnRcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKCdwYWdlU2l6ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuXHQgICAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcblx0ICAgICAgdmFyIG5ld0N1cnJlbnQgPSB0aGlzLl9jYWxjUGFnZShuZXh0UHJvcHMucGFnZVNpemUpO1xuXHQgICAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcblx0ICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIG5leHRQcm9wcykpIHtcblx0ICAgICAgICBuZXdTdGF0ZS5jdXJyZW50ID0gY3VycmVudDtcblx0ICAgICAgICBuZXdTdGF0ZS5fY3VycmVudCA9IGN1cnJlbnQ7XG5cdCAgICAgIH1cblx0ICAgICAgbmV3U3RhdGUucGFnZVNpemUgPSBuZXh0UHJvcHMucGFnZVNpemU7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIC8vIHByaXZhdGUgbWV0aG9kc1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fY2FsY1BhZ2UgPSBmdW5jdGlvbiBfY2FsY1BhZ2UocCkge1xuXHQgICAgdmFyIHBhZ2VTaXplID0gcDtcblx0ICAgIGlmICh0eXBlb2YgcGFnZVNpemUgPT09ICd1bmRlZmluZWQnKSB7XG5cdCAgICAgIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLnByb3BzLnRvdGFsIC0gMSkgLyBwYWdlU2l6ZSkgKyAxO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9pc1ZhbGlkID0gZnVuY3Rpb24gX2lzVmFsaWQocGFnZSkge1xuXHQgICAgcmV0dXJuIHR5cGVvZiBwYWdlID09PSAnbnVtYmVyJyAmJiBwYWdlID49IDEgJiYgcGFnZSAhPT0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gX2hhbmRsZUtleURvd24oZXZ0KSB7XG5cdCAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVAgfHwgZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfRE9XTikge1xuXHQgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5VXAgPSBmdW5jdGlvbiBfaGFuZGxlS2V5VXAoZXZ0KSB7XG5cdCAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG5cdCAgICB2YXIgdmFsID0gdm9pZCAwO1xuXHRcblx0ICAgIGlmIChfdmFsID09PSAnJykge1xuXHQgICAgICB2YWwgPSBfdmFsO1xuXHQgICAgfSBlbHNlIGlmIChpc05hTihOdW1iZXIoX3ZhbCkpKSB7XG5cdCAgICAgIHZhbCA9IHRoaXMuc3RhdGUuX2N1cnJlbnQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWwgPSBOdW1iZXIoX3ZhbCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIF9jdXJyZW50OiB2YWxcblx0ICAgIH0pO1xuXHRcblx0ICAgIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5FTlRFUikge1xuXHQgICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodmFsKTtcblx0ICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVApIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHZhbCAtIDEpO1xuXHQgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gS0VZQ09ERS5BUlJPV19ET1dOKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgKyAxKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fY2hhbmdlUGFnZVNpemUgPSBmdW5jdGlvbiBfY2hhbmdlUGFnZVNpemUoc2l6ZSkge1xuXHQgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKHNpemUpO1xuXHQgICAgY3VycmVudCA9IGN1cnJlbnQgPiBuZXdDdXJyZW50ID8gbmV3Q3VycmVudCA6IGN1cnJlbnQ7XG5cdCAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG5cdCAgICAgIGlmICghKCdwYWdlU2l6ZScgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIHBhZ2VTaXplOiBzaXplXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LFxuXHQgICAgICAgICAgX2N1cnJlbnQ6IGN1cnJlbnRcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdGhpcy5wcm9wcy5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHNpemUpO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKHApIHtcblx0ICAgIHZhciBwYWdlID0gcDtcblx0ICAgIGlmICh0aGlzLl9pc1ZhbGlkKHBhZ2UpKSB7XG5cdCAgICAgIGlmIChwYWdlID4gdGhpcy5fY2FsY1BhZ2UoKSkge1xuXHQgICAgICAgIHBhZ2UgPSB0aGlzLl9jYWxjUGFnZSgpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgIGN1cnJlbnQ6IHBhZ2UsXG5cdCAgICAgICAgICBfY3VycmVudDogcGFnZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgcGFnZVNpemUgPSB0aGlzLnN0YXRlLnBhZ2VTaXplO1xuXHQgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHBhZ2UsIHBhZ2VTaXplKTtcblx0XG5cdCAgICAgIHJldHVybiBwYWdlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQ7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX3ByZXYgPSBmdW5jdGlvbiBfcHJldigpIHtcblx0ICAgIGlmICh0aGlzLl9oYXNQcmV2KCkpIHtcblx0ICAgICAgdGhpcy5faGFuZGxlQ2hhbmdlKHRoaXMuc3RhdGUuY3VycmVudCAtIDEpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gX25leHQoKSB7XG5cdCAgICBpZiAodGhpcy5faGFzTmV4dCgpKSB7XG5cdCAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgKyAxKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fanVtcFByZXYgPSBmdW5jdGlvbiBfanVtcFByZXYoKSB7XG5cdCAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5tYXgoMSwgdGhpcy5zdGF0ZS5jdXJyZW50IC0gKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wTmV4dCA9IGZ1bmN0aW9uIF9qdW1wTmV4dCgpIHtcblx0ICAgIHRoaXMuX2hhbmRsZUNoYW5nZShNYXRoLm1pbih0aGlzLl9jYWxjUGFnZSgpLCB0aGlzLnN0YXRlLmN1cnJlbnQgKyAodGhpcy5wcm9wcy5zaG93TGVzc0l0ZW1zID8gMyA6IDUpKSk7XG5cdCAgfTtcblx0XG5cdCAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhc1ByZXYgPSBmdW5jdGlvbiBfaGFzUHJldigpIHtcblx0ICAgIHJldHVybiB0aGlzLnN0YXRlLmN1cnJlbnQgPiAxO1xuXHQgIH07XG5cdFxuXHQgIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNOZXh0ID0gZnVuY3Rpb24gX2hhc05leHQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50IDwgdGhpcy5fY2FsY1BhZ2UoKTtcblx0ICB9O1xuXHRcblx0ICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblx0XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgdmFyIGFsbFBhZ2VzID0gdGhpcy5fY2FsY1BhZ2UoKTtcblx0ICAgIHZhciBwYWdlckxpc3QgPSBbXTtcblx0ICAgIHZhciBqdW1wUHJldiA9IG51bGw7XG5cdCAgICB2YXIganVtcE5leHQgPSBudWxsO1xuXHQgICAgdmFyIGZpcnN0UGFnZXIgPSBudWxsO1xuXHQgICAgdmFyIGxhc3RQYWdlciA9IG51bGw7XG5cdFxuXHQgICAgdmFyIHBhZ2VCdWZmZXJTaXplID0gcHJvcHMuc2hvd0xlc3NJdGVtcyA/IDEgOiAyO1xuXHQgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgY3VycmVudCA9IF9zdGF0ZS5jdXJyZW50LFxuXHQgICAgICAgIHBhZ2VTaXplID0gX3N0YXRlLnBhZ2VTaXplO1xuXHRcblx0XG5cdCAgICBpZiAocHJvcHMuc2ltcGxlKSB7XG5cdCAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd1bCcsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctc2ltcGxlICcgKyBwcm9wcy5jbGFzc05hbWUgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2xpJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2X3BhZ2UsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX3ByZXYsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc1ByZXYoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1wcmV2J1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICB7IHRpdGxlOiB0aGlzLnN0YXRlLmN1cnJlbnQgKyAnLycgKyBhbGxQYWdlcywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpbXBsZS1wYWdlcicgfSxcblx0ICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuXHQgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG5cdCAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLl9jdXJyZW50LFxuXHQgICAgICAgICAgICBvbktleURvd246IHRoaXMuX2hhbmRsZUtleURvd24sXG5cdCAgICAgICAgICAgIG9uS2V5VXA6IHRoaXMuX2hhbmRsZUtleVVwLFxuXHQgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5faGFuZGxlS2V5VXBcblx0ICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zbGFzaCcgfSxcblx0ICAgICAgICAgICAgJ1xcdUZGMEYnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgYWxsUGFnZXNcblx0ICAgICAgICApLFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnbGknLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5fbmV4dCxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzTmV4dCgpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLW5leHQnXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChhbGxQYWdlcyA8PSA1ICsgcGFnZUJ1ZmZlclNpemUgKiAyKSB7XG5cdCAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGFsbFBhZ2VzOyBpKyspIHtcblx0ICAgICAgICB2YXIgYWN0aXZlID0gdGhpcy5zdGF0ZS5jdXJyZW50ID09PSBpO1xuXHQgICAgICAgIHBhZ2VyTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcblx0ICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgaSksXG5cdCAgICAgICAgICBrZXk6IGksXG5cdCAgICAgICAgICBwYWdlOiBpLFxuXHQgICAgICAgICAgYWN0aXZlOiBhY3RpdmVcblx0ICAgICAgICB9KSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGp1bXBQcmV2ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHRpdGxlOiBwcm9wcy5zaG93TGVzc0l0ZW1zID8gbG9jYWxlLnByZXZfMyA6IGxvY2FsZS5wcmV2XzUsXG5cdCAgICAgICAgICBrZXk6ICdwcmV2Jyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2p1bXBQcmV2LFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWp1bXAtcHJldidcblx0ICAgICAgICB9LFxuXHQgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuXHQgICAgICApO1xuXHQgICAgICBqdW1wTmV4dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5uZXh0XzMgOiBsb2NhbGUubmV4dF81LFxuXHQgICAgICAgICAga2V5OiAnbmV4dCcsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9qdW1wTmV4dCxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLW5leHQnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdhJywgbnVsbClcblx0ICAgICAgKTtcblx0ICAgICAgbGFzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuXHQgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIGxhc3Q6IHRydWUsXG5cdCAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIGFsbFBhZ2VzKSxcblx0ICAgICAgICBrZXk6IGFsbFBhZ2VzLFxuXHQgICAgICAgIHBhZ2U6IGFsbFBhZ2VzLFxuXHQgICAgICAgIGFjdGl2ZTogZmFsc2Vcblx0ICAgICAgfSk7XG5cdCAgICAgIGZpcnN0UGFnZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG5cdCAgICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIDEpLFxuXHQgICAgICAgIGtleTogMSxcblx0ICAgICAgICBwYWdlOiAxLFxuXHQgICAgICAgIGFjdGl2ZTogZmFsc2Vcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDEsIGN1cnJlbnQgLSBwYWdlQnVmZmVyU2l6ZSk7XG5cdCAgICAgIHZhciByaWdodCA9IE1hdGgubWluKGN1cnJlbnQgKyBwYWdlQnVmZmVyU2l6ZSwgYWxsUGFnZXMpO1xuXHRcblx0ICAgICAgaWYgKGN1cnJlbnQgLSAxIDw9IHBhZ2VCdWZmZXJTaXplKSB7XG5cdCAgICAgICAgcmlnaHQgPSAxICsgcGFnZUJ1ZmZlclNpemUgKiAyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAoYWxsUGFnZXMgLSBjdXJyZW50IDw9IHBhZ2VCdWZmZXJTaXplKSB7XG5cdCAgICAgICAgbGVmdCA9IGFsbFBhZ2VzIC0gcGFnZUJ1ZmZlclNpemUgKiAyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBmb3IgKHZhciBfaSA9IGxlZnQ7IF9pIDw9IHJpZ2h0OyBfaSsrKSB7XG5cdCAgICAgICAgdmFyIF9hY3RpdmUgPSBjdXJyZW50ID09PSBfaTtcblx0ICAgICAgICBwYWdlckxpc3QucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG5cdCAgICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIF9pKSxcblx0ICAgICAgICAgIGtleTogX2ksXG5cdCAgICAgICAgICBwYWdlOiBfaSxcblx0ICAgICAgICAgIGFjdGl2ZTogX2FjdGl2ZVxuXHQgICAgICAgIH0pKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGN1cnJlbnQgLSAxID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSAxICsgMikge1xuXHQgICAgICAgIHBhZ2VyTGlzdFswXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbMF0sIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWFmdGVyLWp1bXAtcHJldidcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBwYWdlckxpc3QudW5zaGlmdChqdW1wUHJldik7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA+PSBwYWdlQnVmZmVyU2l6ZSAqIDIgJiYgY3VycmVudCAhPT0gYWxsUGFnZXMgLSAyKSB7XG5cdCAgICAgICAgcGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1iZWZvcmUtanVtcC1uZXh0J1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHBhZ2VyTGlzdC5wdXNoKGp1bXBOZXh0KTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgaWYgKGxlZnQgIT09IDEpIHtcblx0ICAgICAgICBwYWdlckxpc3QudW5zaGlmdChmaXJzdFBhZ2VyKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAocmlnaHQgIT09IGFsbFBhZ2VzKSB7XG5cdCAgICAgICAgcGFnZXJMaXN0LnB1c2gobGFzdFBhZ2VyKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciB0b3RhbFRleHQgPSBudWxsO1xuXHRcblx0ICAgIGlmIChwcm9wcy5zaG93VG90YWwpIHtcblx0ICAgICAgdG90YWxUZXh0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdG90YWwtdGV4dCcgfSxcblx0ICAgICAgICBwcm9wcy5zaG93VG90YWwocHJvcHMudG90YWwsIFsoY3VycmVudCAtIDEpICogcGFnZVNpemUgKyAxLCBjdXJyZW50ICogcGFnZVNpemUgPiBwcm9wcy50b3RhbCA/IHByb3BzLnRvdGFsIDogY3VycmVudCAqIHBhZ2VTaXplXSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3VsJyxcblx0ICAgICAge1xuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lLFxuXHQgICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcblx0ICAgICAgICB1bnNlbGVjdGFibGU6ICd1bnNlbGVjdGFibGUnXG5cdCAgICAgIH0sXG5cdCAgICAgIHRvdGFsVGV4dCxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcblx0ICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc1ByZXYoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1wcmV2J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICksXG5cdCAgICAgIHBhZ2VyTGlzdCxcblx0ICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnbGknLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dF9wYWdlLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5fbmV4dCxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc05leHQoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1uZXh0J1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG5cdCAgICAgICksXG5cdCAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9ucywge1xuXHQgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICBzZWxlY3RDb21wb25lbnRDbGFzczogcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3MsXG5cdCAgICAgICAgc2VsZWN0UHJlZml4Q2xzOiBwcm9wcy5zZWxlY3RQcmVmaXhDbHMsXG5cdCAgICAgICAgY2hhbmdlU2l6ZTogdGhpcy5wcm9wcy5zaG93U2l6ZUNoYW5nZXIgPyB0aGlzLl9jaGFuZ2VQYWdlU2l6ZS5iaW5kKHRoaXMpIDogbnVsbCxcblx0ICAgICAgICBjdXJyZW50OiB0aGlzLnN0YXRlLmN1cnJlbnQsXG5cdCAgICAgICAgcGFnZVNpemU6IHRoaXMuc3RhdGUucGFnZVNpemUsXG5cdCAgICAgICAgcGFnZVNpemVPcHRpb25zOiB0aGlzLnByb3BzLnBhZ2VTaXplT3B0aW9ucyxcblx0ICAgICAgICBxdWlja0dvOiB0aGlzLnByb3BzLnNob3dRdWlja0p1bXBlciA/IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMpIDogbnVsbFxuXHQgICAgICB9KVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gUGFnaW5hdGlvbjtcblx0fShSZWFjdC5Db21wb25lbnQpO1xuXHRcblx0UGFnaW5hdGlvbi5wcm9wVHlwZXMgPSB7XG5cdCAgY3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBkZWZhdWx0Q3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICB0b3RhbDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBwYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBkZWZhdWx0UGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgb25DaGFuZ2U6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNob3dTaXplQ2hhbmdlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgc2hvd0xlc3NJdGVtczogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgb25TaG93U2l6ZUNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIHNob3dRdWlja0p1bXBlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcGFnZVNpemVPcHRpb25zOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nKSxcblx0ICBzaG93VG90YWw6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGxvY2FsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBzdHlsZTogUmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRcblx0UGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgZGVmYXVsdEN1cnJlbnQ6IDEsXG5cdCAgdG90YWw6IDAsXG5cdCAgZGVmYXVsdFBhZ2VTaXplOiAxMCxcblx0ICBvbkNoYW5nZTogbm9vcCxcblx0ICBjbGFzc05hbWU6ICcnLFxuXHQgIHNlbGVjdFByZWZpeENsczogJ3JjLXNlbGVjdCcsXG5cdCAgcHJlZml4Q2xzOiAncmMtcGFnaW5hdGlvbicsXG5cdCAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IG51bGwsXG5cdCAgc2hvd1F1aWNrSnVtcGVyOiBmYWxzZSxcblx0ICBzaG93U2l6ZUNoYW5nZXI6IGZhbHNlLFxuXHQgIHNob3dMZXNzSXRlbXM6IGZhbHNlLFxuXHQgIG9uU2hvd1NpemVDaGFuZ2U6IG5vb3AsXG5cdCAgbG9jYWxlOiBMT0NBTEUsXG5cdCAgc3R5bGU6IHt9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBhZ2luYXRpb247XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIGV4cG9ydCB0aGlzIHBhY2thZ2UncyBhcGlcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgUmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgQ2hlY2tib3ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0XG5cdHZhciBSYWRpbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1JhZGlvJyxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1yYWRpbycsXG5cdCAgICAgIHR5cGU6ICdyYWRpbydcblx0ICAgIH07XG5cdCAgfSxcblx0XG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnY2hlY2tib3gnIH0pKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSYWRpbztcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDEyNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF90eXBlb2YyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7XG5cdFxuXHR2YXIgX3R5cGVvZjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlb2YyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfdG9BcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ0KTtcblx0XG5cdHZhciBfdG9BcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0FycmF5KTtcblx0XG5cdHZhciBfcmNNZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3JjTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY01lbnUpO1xuXHRcblx0dmFyIF9kb21TY3JvbGxJbnRvVmlldyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcblx0XG5cdHZhciBfZG9tU2Nyb2xsSW50b1ZpZXcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZG9tU2Nyb2xsSW50b1ZpZXcpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBEcm9wZG93bk1lbnUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdEcm9wZG93bk1lbnUnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgZHJvcGRvd25NZW51U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uUG9wdXBGb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25NZW51RGVTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uTWVudVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG1lbnVJdGVtczogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBpbnB1dFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHQgIH0sXG5cdFxuXHQgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgdGhpcy5sYXN0SW5wdXRWYWx1ZSA9IHRoaXMucHJvcHMuaW5wdXRWYWx1ZTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHRoaXMuc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpO1xuXHQgICAgdGhpcy5sYXN0VmlzaWJsZSA9IHRoaXMucHJvcHMudmlzaWJsZTtcblx0ICB9LFxuXHQgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCFuZXh0UHJvcHMudmlzaWJsZSkge1xuXHQgICAgICB0aGlzLmxhc3RWaXNpYmxlID0gZmFsc2U7XG5cdCAgICB9XG5cdCAgICAvLyBmcmVlemUgd2hlbiBoaWRlXG5cdCAgICByZXR1cm4gbmV4dFByb3BzLnZpc2libGU7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoIXByZXZQcm9wcy52aXNpYmxlICYmIHByb3BzLnZpc2libGUpIHtcblx0ICAgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmxhc3RWaXNpYmxlID0gcHJvcHMudmlzaWJsZTtcblx0ICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuXHQgIH0sXG5cdCAgc2Nyb2xsQWN0aXZlSXRlbVRvVmlldzogZnVuY3Rpb24gc2Nyb2xsQWN0aXZlSXRlbVRvVmlldygpIHtcblx0ICAgIC8vIHNjcm9sbCBpbnRvIHZpZXdcblx0ICAgIHZhciBpdGVtQ29tcG9uZW50ID0gKDAsIF9yZWFjdERvbS5maW5kRE9NTm9kZSkodGhpcy5maXJzdEFjdGl2ZUl0ZW0pO1xuXHQgICAgaWYgKGl0ZW1Db21wb25lbnQpIHtcblx0ICAgICAgKDAsIF9kb21TY3JvbGxJbnRvVmlldzJbXCJkZWZhdWx0XCJdKShpdGVtQ29tcG9uZW50LCAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzLnJlZnMubWVudSksIHtcblx0ICAgICAgICBvbmx5U2Nyb2xsSWZOZWVkZWQ6IHRydWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW5kZXJNZW51OiBmdW5jdGlvbiByZW5kZXJNZW51KCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIG1lbnVJdGVtcyA9IHByb3BzLm1lbnVJdGVtcyxcblx0ICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24gPSBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24sXG5cdCAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbXVsdGlwbGUgPSBwcm9wcy5tdWx0aXBsZSxcblx0ICAgICAgICBvbk1lbnVTZWxlY3QgPSBwcm9wcy5vbk1lbnVTZWxlY3QsXG5cdCAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWU7XG5cdFxuXHQgICAgaWYgKG1lbnVJdGVtcyAmJiBtZW51SXRlbXMubGVuZ3RoKSB7XG5cdCAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBtZW51UHJvcHMgPSB7fTtcblx0ICAgICAgICBpZiAobXVsdGlwbGUpIHtcblx0ICAgICAgICAgIG1lbnVQcm9wcy5vbkRlc2VsZWN0ID0gcHJvcHMub25NZW51RGVzZWxlY3Q7XG5cdCAgICAgICAgICBtZW51UHJvcHMub25TZWxlY3QgPSBvbk1lbnVTZWxlY3Q7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIG1lbnVQcm9wcy5vbkNsaWNrID0gb25NZW51U2VsZWN0O1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9ICgwLCBfdXRpbC5nZXRTZWxlY3RLZXlzKShtZW51SXRlbXMsIHZhbHVlKTtcblx0ICAgICAgICB2YXIgYWN0aXZlS2V5UHJvcHMgPSB7fTtcblx0XG5cdCAgICAgICAgdmFyIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcztcblx0ICAgICAgICBpZiAoc2VsZWN0ZWRLZXlzLmxlbmd0aCkge1xuXHQgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgaWYgKHByb3BzLnZpc2libGUgJiYgIV90aGlzLmxhc3RWaXNpYmxlKSB7XG5cdCAgICAgICAgICAgICAgYWN0aXZlS2V5UHJvcHMuYWN0aXZlS2V5ID0gc2VsZWN0ZWRLZXlzWzBdO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBmb3VuZEZpcnN0ID0gZmFsc2U7XG5cdCAgICAgICAgICAgIC8vIHNldCBmaXJzdEFjdGl2ZUl0ZW0gdmlhIGNsb25pbmcgbWVudXNcblx0ICAgICAgICAgICAgLy8gZm9yIHNjcm9sbCBpbnRvIHZpZXdcblx0ICAgICAgICAgICAgdmFyIGNsb25lID0gZnVuY3Rpb24gY2xvbmUoaXRlbSkge1xuXHQgICAgICAgICAgICAgIGlmICghZm91bmRGaXJzdCAmJiBzZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLmtleSkgIT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBmb3VuZEZpcnN0ID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge1xuXHQgICAgICAgICAgICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmlyc3RBY3RpdmVJdGVtID0gX3JlZjtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuXHQgICAgICAgICAgICB9O1xuXHRcblx0ICAgICAgICAgICAgY2xvbmVkTWVudUl0ZW1zID0gbWVudUl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUuaXNNZW51SXRlbUdyb3VwKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3RvQXJyYXkyW1wiZGVmYXVsdFwiXSkoaXRlbS5wcm9wcy5jaGlsZHJlbikubWFwKGNsb25lKTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge30sIGNoaWxkcmVuKTtcblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgcmV0dXJuIGNsb25lKGl0ZW0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBjbGVhciBhY3RpdmVLZXkgd2hlbiBpbnB1dFZhbHVlIGNoYW5nZVxuXHQgICAgICAgIGlmIChpbnB1dFZhbHVlICE9PSBfdGhpcy5sYXN0SW5wdXRWYWx1ZSkge1xuXHQgICAgICAgICAgYWN0aXZlS2V5UHJvcHMuYWN0aXZlS2V5ID0gJyc7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgdjogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgX3JjTWVudTJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICAgIHJlZjogJ21lbnUnLFxuXHQgICAgICAgICAgICAgIHN0eWxlOiBfdGhpcy5wcm9wcy5kcm9wZG93bk1lbnVTdHlsZSxcblx0ICAgICAgICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3Q6IGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvblxuXHQgICAgICAgICAgICB9LCBhY3RpdmVLZXlQcm9wcywge1xuXHQgICAgICAgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcblx0ICAgICAgICAgICAgICBmb2N1c2FibGU6IGZhbHNlXG5cdCAgICAgICAgICAgIH0sIG1lbnVQcm9wcywge1xuXHQgICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogc2VsZWN0ZWRLZXlzLFxuXHQgICAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1tZW51J1xuXHQgICAgICAgICAgICB9KSxcblx0ICAgICAgICAgICAgY2xvbmVkTWVudUl0ZW1zXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgfTtcblx0ICAgICAgfSgpO1xuXHRcblx0ICAgICAgaWYgKCh0eXBlb2YgX3JldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6ICgwLCBfdHlwZW9mM1tcImRlZmF1bHRcIl0pKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgcmV0dXJuIF9yZXQudjtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcmVuZGVyTWVudSA9IHRoaXMucmVuZGVyTWVudSgpO1xuXHQgICAgcmV0dXJuIHJlbmRlck1lbnUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAge1xuXHQgICAgICAgIHN0eWxlOiB7IG92ZXJmbG93OiAnYXV0bycgfSxcblx0ICAgICAgICBvbkZvY3VzOiB0aGlzLnByb3BzLm9uUG9wdXBGb2N1cyxcblx0ICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudFxuXHQgICAgICB9LFxuXHQgICAgICByZW5kZXJNZW51XG5cdCAgICApIDogbnVsbDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bk1lbnU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdHZhciBfcmNNZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMyk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIGZpbHRlck9wdGlvbjogZnVuY3Rpb24gZmlsdGVyT3B0aW9uKGlucHV0LCBjaGlsZCkge1xuXHQgICAgaWYgKCFpbnB1dCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHZhciBmaWx0ZXJPcHRpb24gPSB0aGlzLnByb3BzLmZpbHRlck9wdGlvbjtcblx0ICAgIGlmICghZmlsdGVyT3B0aW9uKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgaWYgKGNoaWxkLnByb3BzLmRpc2FibGVkKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmaWx0ZXJPcHRpb24uY2FsbCh0aGlzLCBpbnB1dCwgY2hpbGQpO1xuXHQgIH0sXG5cdCAgcmVuZGVyRmlsdGVyT3B0aW9uczogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9ucyhpbnB1dFZhbHVlKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZW5kZXJGaWx0ZXJPcHRpb25zRnJvbUNoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4sIHRydWUsIGlucHV0VmFsdWUpO1xuXHQgIH0sXG5cdCAgcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbjogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbihjaGlsZHJlbiwgc2hvd05vdEZvdW5kLCBpdikge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgc2VsID0gW107XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGlucHV0VmFsdWUgPSBpdiA9PT0gdW5kZWZpbmVkID8gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlIDogaXY7XG5cdCAgICB2YXIgY2hpbGRyZW5LZXlzID0gW107XG5cdCAgICB2YXIgdGFncyA9IHByb3BzLnRhZ3M7XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuXHQgICAgICAgIHZhciBpbm5lckl0ZW1zID0gX3RoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbihjaGlsZC5wcm9wcy5jaGlsZHJlbiwgZmFsc2UpO1xuXHQgICAgICAgIGlmIChpbm5lckl0ZW1zLmxlbmd0aCkge1xuXHQgICAgICAgICAgdmFyIGxhYmVsID0gY2hpbGQucHJvcHMubGFiZWw7XG5cdCAgICAgICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuXHQgICAgICAgICAgaWYgKCFrZXkgJiYgdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgICAgICBrZXkgPSBsYWJlbDtcblx0ICAgICAgICAgIH0gZWxzZSBpZiAoIWxhYmVsICYmIGtleSkge1xuXHQgICAgICAgICAgICBsYWJlbCA9IGtleTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHNlbC5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIF9yY01lbnUuSXRlbUdyb3VwLFxuXHQgICAgICAgICAgICB7IGtleToga2V5LCB0aXRsZTogbGFiZWwgfSxcblx0ICAgICAgICAgICAgaW5uZXJJdGVtc1xuXHQgICAgICAgICAgKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRpb24sICd0aGUgY2hpbGRyZW4gb2YgYFNlbGVjdGAgc2hvdWxkIGJlIGBTZWxlY3QuT3B0aW9uYCBvciBgU2VsZWN0Lk9wdEdyb3VwYCwgJyArICgnaW5zdGVhZCBvZiBgJyArIChjaGlsZC50eXBlLm5hbWUgfHwgY2hpbGQudHlwZS5kaXNwbGF5TmFtZSB8fCBjaGlsZC50eXBlKSArICdgLicpKTtcblx0XG5cdCAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG5cdCAgICAgIGlmIChfdGhpcy5maWx0ZXJPcHRpb24oaW5wdXRWYWx1ZSwgY2hpbGQpKSB7XG5cdCAgICAgICAgc2VsLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNNZW51Lkl0ZW0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuXHQgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuXHQgICAgICAgICAgdmFsdWU6IGNoaWxkVmFsdWUsXG5cdCAgICAgICAgICBrZXk6IGNoaWxkVmFsdWVcblx0ICAgICAgICB9LCBjaGlsZC5wcm9wcykpKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAodGFncyAmJiAhY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgICBjaGlsZHJlbktleXMucHVzaChjaGlsZFZhbHVlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICBpZiAodGFncykge1xuXHQgICAgICAvLyB0YWdzIHZhbHVlIG11c3QgYmUgc3RyaW5nXG5cdCAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUgfHwgW107XG5cdCAgICAgIHZhbHVlID0gdmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuXHQgICAgICAgIHJldHVybiBjaGlsZHJlbktleXMuaW5kZXhPZihzaW5nbGVWYWx1ZS5rZXkpID09PSAtMSAmJiAoIWlucHV0VmFsdWUgfHwgU3RyaW5nKHNpbmdsZVZhbHVlLmtleSkuaW5kZXhPZihTdHJpbmcoaW5wdXRWYWx1ZSkpID4gLTEpO1xuXHQgICAgICB9KTtcblx0ICAgICAgc2VsID0gc2VsLmNvbmNhdCh2YWx1ZS5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG5cdCAgICAgICAgdmFyIGtleSA9IHNpbmdsZVZhbHVlLmtleTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9yY01lbnUuSXRlbSxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuXHQgICAgICAgICAgICB2YWx1ZToga2V5LFxuXHQgICAgICAgICAgICBrZXk6IGtleVxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGtleVxuXHQgICAgICAgICk7XG5cdCAgICAgIH0pKTtcblx0ICAgICAgaWYgKGlucHV0VmFsdWUpIHtcblx0ICAgICAgICB2YXIgbm90RmluZElucHV0SXRlbSA9IHNlbC5ldmVyeShmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICByZXR1cm4gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShvcHRpb24pICE9PSBpbnB1dFZhbHVlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGlmIChub3RGaW5kSW5wdXRJdGVtKSB7XG5cdCAgICAgICAgICBzZWwudW5zaGlmdChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuXHQgICAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcblx0ICAgICAgICAgICAgICBrZXk6IGlucHV0VmFsdWVcblx0ICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgaW5wdXRWYWx1ZVxuXHQgICAgICAgICAgKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoIXNlbC5sZW5ndGggJiYgc2hvd05vdEZvdW5kICYmIHByb3BzLm5vdEZvdW5kQ29udGVudCkge1xuXHQgICAgICBzZWwgPSBbX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBfcmNNZW51Lkl0ZW0sXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcblx0ICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcblx0ICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuXHQgICAgICAgICAgdmFsdWU6ICdOT1RfRk9VTkQnLFxuXHQgICAgICAgICAga2V5OiAnTk9UX0ZPVU5EJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcHJvcHMubm90Rm91bmRDb250ZW50XG5cdCAgICAgICldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHNlbDtcblx0ICB9XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMjg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBPcHRHcm91cCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRHcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIE9wdEdyb3VwKCkge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBPcHRHcm91cCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gT3B0R3JvdXA7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdE9wdEdyb3VwLmlzU2VsZWN0T3B0R3JvdXAgPSB0cnVlO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9wdEdyb3VwO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTI5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgT3B0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE9wdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIE9wdGlvbigpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0aW9uKTtcblx0ICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBPcHRpb247XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdE9wdGlvbi5wcm9wVHlwZXMgPSB7XG5cdCAgdmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0T3B0aW9uLmlzU2VsZWN0T3B0aW9uID0gdHJ1ZTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBPcHRpb247XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9LZXlDb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHRcblx0dmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXHRcblx0dmFyIF9yY0FuaW1hdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0XG5cdHZhciBfcmNBbmltYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQW5pbWF0ZSk7XG5cdFxuXHR2YXIgX2NvbXBvbmVudENsYXNzZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTtcblx0XG5cdHZhciBfY29tcG9uZW50Q2xhc3NlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb25lbnRDbGFzc2VzKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0dmFyIF9TZWxlY3RUcmlnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xuXHRcblx0dmFyIF9TZWxlY3RUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdFRyaWdnZXIpO1xuXHRcblx0dmFyIF9GaWx0ZXJNaXhpbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI3KTtcblx0XG5cdHZhciBfRmlsdGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyTWl4aW4pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIGZpbHRlckZuKGlucHV0LCBjaGlsZCkge1xuXHQgIHJldHVybiBTdHJpbmcoKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uRmlsdGVyUHJvcCkpLmluZGV4T2YoaW5wdXQpID4gLTE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNhdmVSZWYobmFtZSwgY29tcG9uZW50KSB7XG5cdCAgdGhpc1tuYW1lXSA9IGNvbXBvbmVudDtcblx0fVxuXHRcblx0dmFyIHZhbHVlT2JqZWN0U2hhcGUgPSB2b2lkIDA7XG5cdFxuXHRpZiAoX3JlYWN0LlByb3BUeXBlcykge1xuXHQgIHZhbHVlT2JqZWN0U2hhcGUgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMuc2hhcGUoe1xuXHQgICAga2V5OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxhYmVsOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcblx0ICB9KV0pO1xuXHR9XG5cdFxuXHR2YXIgU2VsZWN0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnU2VsZWN0Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBmaWx0ZXJPcHRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGFsbG93Q2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dBcnJvdzogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgdGFnczogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvcHRpb25MYWJlbFByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3B0aW9uRmlsdGVyUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgY2hvaWNlVHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uQmx1cjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25Gb2N1czogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBvbkRlc2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBsYWJlbEluVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbdmFsdWVPYmplY3RTaGFwZSwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKHZhbHVlT2JqZWN0U2hhcGUpXSksXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcblx0ICAgIGRyb3Bkb3duU3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgbWF4VGFnVGV4dExlbmd0aDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgICB0b2tlblNlcGFyYXRvcnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG5cdCAgICBnZXRJbnB1dEVsZW1lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIG1peGluczogW19GaWx0ZXJNaXhpbjJbXCJkZWZhdWx0XCJdXSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1zZWxlY3QnLFxuXHQgICAgICBmaWx0ZXJPcHRpb246IGZpbHRlckZuLFxuXHQgICAgICBkZWZhdWx0T3BlbjogZmFsc2UsXG5cdCAgICAgIGxhYmVsSW5WYWx1ZTogZmFsc2UsXG5cdCAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogdHJ1ZSxcblx0ICAgICAgc2hvd1NlYXJjaDogdHJ1ZSxcblx0ICAgICAgYWxsb3dDbGVhcjogZmFsc2UsXG5cdCAgICAgIHBsYWNlaG9sZGVyOiAnJyxcblx0ICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcblx0ICAgICAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgICAgIG9uRm9jdXM6IG5vb3AsXG5cdCAgICAgIG9uQmx1cjogbm9vcCxcblx0ICAgICAgb25TZWxlY3Q6IG5vb3AsXG5cdCAgICAgIG9uU2VhcmNoOiBub29wLFxuXHQgICAgICBvbkRlc2VsZWN0OiBub29wLFxuXHQgICAgICBzaG93QXJyb3c6IHRydWUsXG5cdCAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogdHJ1ZSxcblx0ICAgICAgZHJvcGRvd25TdHlsZToge30sXG5cdCAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiB7fSxcblx0ICAgICAgb3B0aW9uRmlsdGVyUHJvcDogJ3ZhbHVlJyxcblx0ICAgICAgb3B0aW9uTGFiZWxQcm9wOiAndmFsdWUnLFxuXHQgICAgICBub3RGb3VuZENvbnRlbnQ6ICdOb3QgRm91bmQnXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gW107XG5cdCAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuXHQgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShwcm9wcy52YWx1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShwcm9wcy5kZWZhdWx0VmFsdWUpO1xuXHQgICAgfVxuXHQgICAgdmFsdWUgPSB0aGlzLmFkZExhYmVsVG9WYWx1ZShwcm9wcywgdmFsdWUpO1xuXHQgICAgdmFsdWUgPSB0aGlzLmFkZFRpdGxlVG9WYWx1ZShwcm9wcywgdmFsdWUpO1xuXHQgICAgdmFyIGlucHV0VmFsdWUgPSAnJztcblx0ICAgIGlmIChwcm9wcy5jb21ib2JveCkge1xuXHQgICAgICBpbnB1dFZhbHVlID0gdmFsdWUubGVuZ3RoID8gdGhpcy5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdmFsdWVbMF0ua2V5KSA6ICcnO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zYXZlSW5wdXRSZWYgPSBzYXZlUmVmLmJpbmQodGhpcywgJ2lucHV0SW5zdGFuY2UnKTtcblx0ICAgIHRoaXMuc2F2ZUlucHV0TWlycm9yUmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dE1pcnJvckluc3RhbmNlJyk7XG5cdCAgICB2YXIgb3BlbiA9IHByb3BzLm9wZW47XG5cdCAgICBpZiAob3BlbiA9PT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIG9wZW4gPSBwcm9wcy5kZWZhdWx0T3Blbjtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcblx0ICAgICAgb3Blbjogb3BlblxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuXHQgICAgdGhpcy5hZGp1c3RPcGVuU3RhdGUoKTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKG5leHRQcm9wcy52YWx1ZSk7XG5cdCAgICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUobmV4dFByb3BzLCB2YWx1ZSk7XG5cdCAgICAgIHZhbHVlID0gdGhpcy5hZGRUaXRsZVRvVmFsdWUobmV4dFByb3BzLCB2YWx1ZSk7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgICB9KTtcblx0ICAgICAgaWYgKG5leHRQcm9wcy5jb21ib2JveCkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW5wdXRWYWx1ZTogdmFsdWUubGVuZ3RoID8gdGhpcy5nZXRMYWJlbEZyb21Qcm9wcyhuZXh0UHJvcHMsIHZhbHVlWzBdLmtleSkgOiAnJ1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdCAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xuXHQgICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcblx0ICAgIHRoaXMuYWRqdXN0T3BlblN0YXRlKCk7XG5cdCAgfSxcblx0ICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykpIHtcblx0ICAgICAgdmFyIGlucHV0Tm9kZSA9IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCk7XG5cdCAgICAgIHZhciBtaXJyb3JOb2RlID0gdGhpcy5nZXRJbnB1dE1pcnJvckRPTU5vZGUoKTtcblx0ICAgICAgaWYgKGlucHV0Tm9kZS52YWx1ZSkge1xuXHQgICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9ICcnO1xuXHQgICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9IG1pcnJvck5vZGUuY2xpZW50V2lkdGggKyAncHgnO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9ICcnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICB0aGlzLmNsZWFyQmx1clRpbWUoKTtcblx0ICAgIHRoaXMuY2xlYXJBZGp1c3RUaW1lcigpO1xuXHQgICAgaWYgKHRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcblx0ICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRyb3Bkb3duQ29udGFpbmVyKTtcblx0ICAgICAgdGhpcy5kcm9wZG93bkNvbnRhaW5lciA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbklucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG5cdCAgICB2YXIgdG9rZW5TZXBhcmF0b3JzID0gdGhpcy5wcm9wcy50b2tlblNlcGFyYXRvcnM7XG5cdFxuXHQgICAgdmFyIHZhbCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykodGhpcy5wcm9wcykgJiYgdG9rZW5TZXBhcmF0b3JzICYmICgwLCBfdXRpbC5pbmNsdWRlc1NlcGFyYXRvcnMpKHZhbCwgdG9rZW5TZXBhcmF0b3JzKSkge1xuXHQgICAgICB2YXIgbmV4dFZhbHVlID0gdGhpcy50b2tlbml6ZSh2YWwpO1xuXHQgICAgICB0aGlzLmZpcmVDaGFuZ2UobmV4dFZhbHVlKTtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuXHQgICAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHZhbCk7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgb3BlbjogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuZmlyZUNoYW5nZShbe1xuXHQgICAgICAgIGtleTogdmFsXG5cdCAgICAgIH1dKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZShvcGVuKSB7XG5cdCAgICB0aGlzLnNldE9wZW5TdGF0ZShvcGVuKTtcblx0ICB9LFxuXHRcblx0XG5cdCAgLy8gY29tYm9ib3ggaWdub3JlXG5cdCAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuXHQgICAgaWYgKHRoaXMuc3RhdGUub3BlbiAmJiAhdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuXHQgICAgICB0aGlzLm9uSW5wdXRLZXlEb3duKGV2ZW50KTtcblx0ICAgIH0gZWxzZSBpZiAoa2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUiB8fCBrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04pIHtcblx0ICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG5cdCAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbklucHV0S2V5RG93bjogZnVuY3Rpb24gb25JbnB1dEtleURvd24oZXZlbnQpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmICFldmVudC50YXJnZXQudmFsdWUgJiYga2V5Q29kZSA9PT0gX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5CQUNLU1BBQ0UpIHtcblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cdFxuXHQgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5yZW1vdmVTZWxlY3RlZCh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXS5rZXkpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04pIHtcblx0ICAgICAgaWYgKCFzdGF0ZS5vcGVuKSB7XG5cdCAgICAgICAgdGhpcy5vcGVuSWZIYXNDaGlsZHJlbigpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG5cdCAgICAgIGlmIChzdGF0ZS5vcGVuKSB7XG5cdCAgICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzdGF0ZS5vcGVuKSB7XG5cdCAgICAgIHZhciBtZW51ID0gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0SW5uZXJNZW51KCk7XG5cdCAgICAgIGlmIChtZW51ICYmIG1lbnUub25LZXlEb3duKGV2ZW50KSkge1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uTWVudVNlbGVjdDogZnVuY3Rpb24gb25NZW51U2VsZWN0KF9yZWYpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIGl0ZW0gPSBfcmVmLml0ZW07XG5cdFxuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSk7XG5cdCAgICB2YXIgc2VsZWN0ZWRMYWJlbCA9IHRoaXMuZ2V0TGFiZWxGcm9tT3B0aW9uKGl0ZW0pO1xuXHQgICAgdmFyIGV2ZW50ID0gc2VsZWN0ZWRWYWx1ZTtcblx0ICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcblx0ICAgICAgZXZlbnQgPSB7XG5cdCAgICAgICAga2V5OiBldmVudCxcblx0ICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbFxuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25TZWxlY3QoZXZlbnQsIGl0ZW0pO1xuXHQgICAgdmFyIHNlbGVjdGVkVGl0bGUgPSBpdGVtLnByb3BzLnRpdGxlO1xuXHQgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykpIHtcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlLZXkpKHZhbHVlLCBzZWxlY3RlZFZhbHVlKSAhPT0gLTEpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5jb25jYXQoW3tcblx0ICAgICAgICBrZXk6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWwsXG5cdCAgICAgICAgdGl0bGU6IHNlbGVjdGVkVGl0bGVcblx0ICAgICAgfV0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcblx0ICAgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuID0gdHJ1ZTtcblx0ICAgICAgICB0aGlzLmNsZWFyQWRqdXN0VGltZXIoKTtcblx0ICAgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgIF90aGlzLnNraXBBZGp1c3RPcGVuID0gZmFsc2U7XG5cdCAgICAgICAgfSwgMCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHZhbHVlLmxlbmd0aCAmJiB2YWx1ZVswXS5rZXkgPT09IHNlbGVjdGVkVmFsdWUpIHtcblx0ICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gW3tcblx0ICAgICAgICBrZXk6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgbGFiZWw6IHNlbGVjdGVkTGFiZWwsXG5cdCAgICAgICAgdGl0bGU6IHNlbGVjdGVkVGl0bGVcblx0ICAgICAgfV07XG5cdCAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG5cdCAgICB2YXIgaW5wdXRWYWx1ZSA9IHZvaWQgMDtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSB7XG5cdCAgICAgIGlucHV0VmFsdWUgPSAoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShpdGVtLCBwcm9wcy5vcHRpb25MYWJlbFByb3ApO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaW5wdXRWYWx1ZSA9ICcnO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRJbnB1dFZhbHVlKGlucHV0VmFsdWUsIGZhbHNlKTtcblx0ICB9LFxuXHQgIG9uTWVudURlc2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVEZXNlbGVjdChfcmVmMikge1xuXHQgICAgdmFyIGl0ZW0gPSBfcmVmMi5pdGVtLFxuXHQgICAgICAgIGRvbUV2ZW50ID0gX3JlZjIuZG9tRXZlbnQ7XG5cdFxuXHQgICAgaWYgKGRvbUV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcblx0ICAgICAgdGhpcy5yZW1vdmVTZWxlY3RlZCgoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGl0ZW0pKTtcblx0ICAgIH1cblx0ICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJywgZmFsc2UpO1xuXHQgIH0sXG5cdCAgb25BcnJvd0NsaWNrOiBmdW5jdGlvbiBvbkFycm93Q2xpY2soZSkge1xuXHQgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIGlmICghdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZSghdGhpcy5zdGF0ZS5vcGVuLCAhdGhpcy5zdGF0ZS5vcGVuKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uUGxhY2Vob2xkZXJDbGljazogZnVuY3Rpb24gb25QbGFjZWhvbGRlckNsaWNrKCkge1xuXHQgICAgaWYgKHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcblx0ICAgICAgdGhpcy5nZXRJbnB1dERPTU5vZGUoKS5mb2N1cygpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25PdXRlckZvY3VzOiBmdW5jdGlvbiBvbk91dGVyRm9jdXMoZSkge1xuXHQgICAgaWYgKCEoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpICYmIGUudGFyZ2V0ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMuY2xlYXJCbHVyVGltZSgpO1xuXHQgICAgdGhpcy5fZm9jdXNlZCA9IHRydWU7XG5cdCAgICB0aGlzLnVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCk7XG5cdCAgICB0aGlzLnByb3BzLm9uRm9jdXMoKTtcblx0ICB9LFxuXHQgIG9uUG9wdXBGb2N1czogZnVuY3Rpb24gb25Qb3B1cEZvY3VzKCkge1xuXHQgICAgLy8gZml4IGllIHNjcm9sbGJhciwgZm9jdXMgZWxlbWVudCBhZ2FpblxuXHQgICAgdGhpcy5tYXliZUZvY3VzKHRydWUsIHRydWUpO1xuXHQgIH0sXG5cdCAgb25PdXRlckJsdXI6IGZ1bmN0aW9uIG9uT3V0ZXJCbHVyKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdGhpcy5ibHVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3RoaXMyLl9mb2N1c2VkID0gZmFsc2U7XG5cdCAgICAgIF90aGlzMi51cGRhdGVGb2N1c0NsYXNzTmFtZSgpO1xuXHQgICAgICB2YXIgcHJvcHMgPSBfdGhpczIucHJvcHM7XG5cdCAgICAgIHZhciB2YWx1ZSA9IF90aGlzMi5zdGF0ZS52YWx1ZTtcblx0ICAgICAgdmFyIGlucHV0VmFsdWUgPSBfdGhpczIuc3RhdGUuaW5wdXRWYWx1ZTtcblx0XG5cdCAgICAgIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykgJiYgcHJvcHMuc2hvd1NlYXJjaCAmJiBpbnB1dFZhbHVlICYmIHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbikge1xuXHQgICAgICAgIHZhciBvcHRpb25zID0gX3RoaXMyLl9vcHRpb25zIHx8IFtdO1xuXHQgICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCkge1xuXHQgICAgICAgICAgdmFyIGZpcnN0T3B0aW9uID0gKDAsIF91dGlsLmZpbmRGaXJzdE1lbnVJdGVtKShvcHRpb25zKTtcblx0ICAgICAgICAgIGlmIChmaXJzdE9wdGlvbikge1xuXHQgICAgICAgICAgICB2YWx1ZSA9IFt7XG5cdCAgICAgICAgICAgICAga2V5OiBmaXJzdE9wdGlvbi5rZXksXG5cdCAgICAgICAgICAgICAgbGFiZWw6IF90aGlzMi5nZXRMYWJlbEZyb21PcHRpb24oZmlyc3RPcHRpb24pXG5cdCAgICAgICAgICAgIH1dO1xuXHQgICAgICAgICAgICBfdGhpczIuZmlyZUNoYW5nZSh2YWx1ZSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgaW5wdXRWYWx1ZSkge1xuXHQgICAgICAgIC8vIHdoeSBub3QgdXNlIHNldFN0YXRlP1xuXHQgICAgICAgIF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlID0gX3RoaXMyLmdldElucHV0RE9NTm9kZSgpLnZhbHVlID0gJyc7XG5cdCAgICAgIH1cblx0ICAgICAgcHJvcHMub25CbHVyKF90aGlzMi5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG5cdCAgICB9LCAxMCk7XG5cdCAgfSxcblx0ICBvbkNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBvbkNsZWFyU2VsZWN0aW9uKGV2ZW50KSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgaW5wdXRWYWx1ZSA9IHN0YXRlLmlucHV0VmFsdWUsXG5cdCAgICAgICAgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcblx0XG5cdCAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIGlmIChpbnB1dFZhbHVlIHx8IHZhbHVlLmxlbmd0aCkge1xuXHQgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgdGhpcy5maXJlQ2hhbmdlKFtdKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG5cdCAgICAgIGlmIChpbnB1dFZhbHVlKSB7XG5cdCAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DaG9pY2VBbmltYXRpb25MZWF2ZTogZnVuY3Rpb24gb25DaG9pY2VBbmltYXRpb25MZWF2ZSgpIHtcblx0ICAgIHRoaXMucmVmcy50cmlnZ2VyLnJlZnMudHJpZ2dlci5mb3JjZVBvcHVwQWxpZ24oKTtcblx0ICB9LFxuXHQgIGdldExhYmVsQnlTaW5nbGVWYWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgbGFiZWwgPSBudWxsO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICB2YXIgbWF5YmUgPSBfdGhpczMuZ2V0TGFiZWxCeVNpbmdsZVZhbHVlKGNoaWxkLnByb3BzLmNoaWxkcmVuLCB2YWx1ZSk7XG5cdCAgICAgICAgaWYgKG1heWJlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICBsYWJlbCA9IG1heWJlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKSA9PT0gdmFsdWUpIHtcblx0ICAgICAgICBsYWJlbCA9IF90aGlzMy5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBsYWJlbDtcblx0ICB9LFxuXHQgIGdldFZhbHVlQnlMYWJlbDogZnVuY3Rpb24gZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCkge1xuXHQgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgaWYgKGxhYmVsID09PSB1bmRlZmluZWQpIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgdmFsdWUgPSBudWxsO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcblx0ICAgICAgICB2YXIgbWF5YmUgPSBfdGhpczQuZ2V0VmFsdWVCeUxhYmVsKGNoaWxkLnByb3BzLmNoaWxkcmVuLCBsYWJlbCk7XG5cdCAgICAgICAgaWYgKG1heWJlICE9PSBudWxsKSB7XG5cdCAgICAgICAgICB2YWx1ZSA9IG1heWJlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwudG9BcnJheSkoX3RoaXM0LmdldExhYmVsRnJvbU9wdGlvbihjaGlsZCkpLmpvaW4oJycpID09PSBsYWJlbCkge1xuXHQgICAgICAgIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHQgIH0sXG5cdCAgZ2V0TGFiZWxGcm9tT3B0aW9uOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpIHtcblx0ICAgIHJldHVybiAoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShjaGlsZCwgdGhpcy5wcm9wcy5vcHRpb25MYWJlbFByb3ApO1xuXHQgIH0sXG5cdCAgZ2V0TGFiZWxGcm9tUHJvcHM6IGZ1bmN0aW9uIGdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZSkge1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0TGFiZWxCeVZhbHVlKHByb3BzLmNoaWxkcmVuLCB2YWx1ZSk7XG5cdCAgfSxcblx0ICBnZXRWTEZvck9uQ2hhbmdlOiBmdW5jdGlvbiBnZXRWTEZvck9uQ2hhbmdlKHZsc18pIHtcblx0ICAgIHZhciB2bHMgPSB2bHNfO1xuXHQgICAgaWYgKHZscyAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGlmICghdGhpcy5wcm9wcy5sYWJlbEluVmFsdWUpIHtcblx0ICAgICAgICB2bHMgPSB2bHMubWFwKGZ1bmN0aW9uICh2KSB7XG5cdCAgICAgICAgICByZXR1cm4gdi5rZXk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodmwpIHtcblx0ICAgICAgICAgIHJldHVybiB7IGtleTogdmwua2V5LCBsYWJlbDogdmwubGFiZWwgfTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpID8gdmxzIDogdmxzWzBdO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZscztcblx0ICB9LFxuXHQgIGdldExhYmVsQnlWYWx1ZTogZnVuY3Rpb24gZ2V0TGFiZWxCeVZhbHVlKGNoaWxkcmVuLCB2YWx1ZSkge1xuXHQgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbEJ5U2luZ2xlVmFsdWUoY2hpbGRyZW4sIHZhbHVlKTtcblx0ICAgIGlmIChsYWJlbCA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbGFiZWw7XG5cdCAgfSxcblx0ICBnZXREcm9wZG93bkNvbnRhaW5lcjogZnVuY3Rpb24gZ2V0RHJvcGRvd25Db250YWluZXIoKSB7XG5cdCAgICBpZiAoIXRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcblx0ICAgICAgdGhpcy5kcm9wZG93bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXMuZHJvcGRvd25Db250YWluZXI7XG5cdCAgfSxcblx0ICBnZXRQbGFjZWhvbGRlckVsZW1lbnQ6IGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyRWxlbWVudCgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcblx0ICAgIHZhciBoaWRkZW4gPSBmYWxzZTtcblx0ICAgIGlmIChzdGF0ZS5pbnB1dFZhbHVlKSB7XG5cdCAgICAgIGhpZGRlbiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoc3RhdGUudmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgIGhpZGRlbiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSAmJiBzdGF0ZS52YWx1ZS5sZW5ndGggPT09IDEgJiYgIXN0YXRlLnZhbHVlWzBdLmtleSkge1xuXHQgICAgICBoaWRkZW4gPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHZhciBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyO1xuXHQgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudCxcblx0ICAgICAgICAgIHN0eWxlOiAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICAgICAgICBkaXNwbGF5OiBoaWRkZW4gPyAnbm9uZScgOiAnYmxvY2snXG5cdCAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfU1RZTEUpXG5cdCAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICAgICAgb25DbGljazogdGhpcy5vblBsYWNlaG9sZGVyQ2xpY2ssXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VsZWN0aW9uX19wbGFjZWhvbGRlcidcblx0ICAgICAgICB9KSxcblx0ICAgICAgICBwbGFjZWhvbGRlclxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfSxcblx0ICBnZXRJbnB1dEVsZW1lbnQ6IGZ1bmN0aW9uIGdldElucHV0RWxlbWVudCgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgaW5wdXRFbGVtZW50ID0gcHJvcHMuZ2V0SW5wdXRFbGVtZW50ID8gcHJvcHMuZ2V0SW5wdXRFbGVtZW50KCkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIG51bGwpO1xuXHQgICAgdmFyIGlucHV0Q2xzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKGlucHV0RWxlbWVudC5wcm9wcy5jbGFzc05hbWUsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZCcsIHRydWUpKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnByZWZpeENscyArICctc2VhcmNoX19maWVsZF9fd3JhcCcgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGlucHV0RWxlbWVudCwge1xuXHQgICAgICAgIHJlZjogdGhpcy5zYXZlSW5wdXRSZWYsXG5cdCAgICAgICAgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZSxcblx0ICAgICAgICBvbktleURvd246IHRoaXMub25JbnB1dEtleURvd24sXG5cdCAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuaW5wdXRWYWx1ZSxcblx0ICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBpbnB1dENsc1xuXHQgICAgICB9KSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgcmVmOiB0aGlzLnNhdmVJbnB1dE1pcnJvclJlZixcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX19taXJyb3InXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0aGlzLnN0YXRlLmlucHV0VmFsdWVcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9LFxuXHQgIGdldElucHV0RE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRET01Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaW5wdXRJbnN0YW5jZTtcblx0ICB9LFxuXHQgIGdldElucHV0TWlycm9yRE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuaW5wdXRNaXJyb3JJbnN0YW5jZTtcblx0ICB9LFxuXHQgIGdldFBvcHVwRE9NTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBET01Ob2RlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRE9NTm9kZSgpO1xuXHQgIH0sXG5cdCAgZ2V0UG9wdXBNZW51Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRQb3B1cE1lbnVDb21wb25lbnQoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5yZWZzLnRyaWdnZXIuZ2V0SW5uZXJNZW51KCk7XG5cdCAgfSxcblx0ICBzZXRPcGVuU3RhdGU6IGZ1bmN0aW9uIHNldE9wZW5TdGF0ZShvcGVuLCBuZWVkRm9jdXMpIHtcblx0ICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHRcblx0ICAgIGlmIChzdGF0ZS5vcGVuID09PSBvcGVuKSB7XG5cdCAgICAgIHRoaXMubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgbmV4dFN0YXRlID0ge1xuXHQgICAgICBvcGVuOiBvcGVuXG5cdCAgICB9O1xuXHQgICAgLy8gY2xlYXIgc2VhcmNoIGlucHV0IHZhbHVlIHdoZW4gb3BlbiBpcyBmYWxzZSBpbiBzaW5nbGVNb2RlLlxuXHQgICAgaWYgKCFvcGVuICYmICgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSAmJiBwcm9wcy5zaG93U2VhcmNoKSB7XG5cdCAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG5cdCAgICB9XG5cdCAgICBpZiAoIW9wZW4pIHtcblx0ICAgICAgdGhpcy5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBpZiAob3Blbikge1xuXHQgICAgICAgIF90aGlzNS5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlKSB7XG5cdCAgICB2YXIgZmlyZVNlYXJjaCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblx0XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVxuXHQgICAgfSk7XG5cdCAgICBpZiAoZmlyZVNlYXJjaCkge1xuXHQgICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGlucHV0VmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY2xlYXJCbHVyVGltZTogZnVuY3Rpb24gY2xlYXJCbHVyVGltZSgpIHtcblx0ICAgIGlmICh0aGlzLmJsdXJUaW1lcikge1xuXHQgICAgICBjbGVhclRpbWVvdXQodGhpcy5ibHVyVGltZXIpO1xuXHQgICAgICB0aGlzLmJsdXJUaW1lciA9IG51bGw7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjbGVhckFkanVzdFRpbWVyOiBmdW5jdGlvbiBjbGVhckFkanVzdFRpbWVyKCkge1xuXHQgICAgaWYgKHRoaXMuc2tpcEFkanVzdE9wZW5UaW1lcikge1xuXHQgICAgICBjbGVhclRpbWVvdXQodGhpcy5za2lwQWRqdXN0T3BlblRpbWVyKTtcblx0ICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHVwZGF0ZUZvY3VzQ2xhc3NOYW1lOiBmdW5jdGlvbiB1cGRhdGVGb2N1c0NsYXNzTmFtZSgpIHtcblx0ICAgIHZhciByZWZzID0gdGhpcy5yZWZzLFxuXHQgICAgICAgIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIC8vIGF2b2lkIHNldFN0YXRlIGFuZCBpdHMgc2lkZSBlZmZlY3Rcblx0XG5cdCAgICBpZiAodGhpcy5fZm9jdXNlZCkge1xuXHQgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkocmVmcy5yb290KS5hZGQocHJvcHMucHJlZml4Q2xzICsgJy1mb2N1c2VkJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkocmVmcy5yb290KS5yZW1vdmUocHJvcHMucHJlZml4Q2xzICsgJy1mb2N1c2VkJyk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBtYXliZUZvY3VzOiBmdW5jdGlvbiBtYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cykge1xuXHQgICAgaWYgKG5lZWRGb2N1cyB8fCBvcGVuKSB7XG5cdCAgICAgIHZhciBpbnB1dCA9IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCk7XG5cdCAgICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudCxcblx0ICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblx0XG5cdCAgICAgIGlmIChpbnB1dCAmJiAob3BlbiB8fCAoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpKSkge1xuXHQgICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBpbnB1dCkge1xuXHQgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMucmVmcy5zZWxlY3Rpb247XG5cdCAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IHNlbGVjdGlvbikge1xuXHQgICAgICAgICAgc2VsZWN0aW9uLmZvY3VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBhZGRMYWJlbFRvVmFsdWU6IGZ1bmN0aW9uIGFkZExhYmVsVG9WYWx1ZShwcm9wcywgdmFsdWVfKSB7XG5cdCAgICB2YXIgX3RoaXM2ID0gdGhpcztcblx0XG5cdCAgICB2YXIgdmFsdWUgPSB2YWx1ZV87XG5cdCAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG5cdCAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICB2LmxhYmVsID0gdi5sYWJlbCB8fCBfdGhpczYuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHYua2V5KTtcblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZSA9IHZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICBrZXk6IHYsXG5cdCAgICAgICAgICBsYWJlbDogX3RoaXM2LmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2KVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZhbHVlO1xuXHQgIH0sXG5cdCAgYWRkVGl0bGVUb1ZhbHVlOiBmdW5jdGlvbiBhZGRUaXRsZVRvVmFsdWUocHJvcHMsIHZhbHVlcykge1xuXHQgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG5leHRWYWx1ZXMgPSB2YWx1ZXM7XG5cdCAgICB2YXIga2V5cyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgcmV0dXJuIHYua2V5O1xuXHQgICAgfSk7XG5cdCAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcblx0ICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuXHQgICAgICAgIG5leHRWYWx1ZXMgPSBfdGhpczcuYWRkVGl0bGVUb1ZhbHVlKGNoaWxkLnByb3BzLCBuZXh0VmFsdWVzKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgdmFsdWUgPSAoMCwgX3V0aWwuZ2V0VmFsdWVQcm9wVmFsdWUpKGNoaWxkKTtcblx0ICAgICAgICB2YXIgdmFsdWVJbmRleCA9IGtleXMuaW5kZXhPZih2YWx1ZSk7XG5cdCAgICAgICAgaWYgKHZhbHVlSW5kZXggPiAtMSkge1xuXHQgICAgICAgICAgbmV4dFZhbHVlc1t2YWx1ZUluZGV4XS50aXRsZSA9IGNoaWxkLnByb3BzLnRpdGxlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbmV4dFZhbHVlcztcblx0ICB9LFxuXHQgIHJlbW92ZVNlbGVjdGVkOiBmdW5jdGlvbiByZW1vdmVTZWxlY3RlZChzZWxlY3RlZEtleSkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCB0aGlzLmlzQ2hpbGREaXNhYmxlZChzZWxlY3RlZEtleSkpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGxhYmVsID0gdm9pZCAwO1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG5cdCAgICAgIGlmIChzaW5nbGVWYWx1ZS5rZXkgPT09IHNlbGVjdGVkS2V5KSB7XG5cdCAgICAgICAgbGFiZWwgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gc2luZ2xlVmFsdWUua2V5ICE9PSBzZWxlY3RlZEtleTtcblx0ICAgIH0pO1xuXHQgICAgdmFyIGNhbk11bHRpcGxlID0gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKTtcblx0XG5cdCAgICBpZiAoY2FuTXVsdGlwbGUpIHtcblx0ICAgICAgdmFyIGV2ZW50ID0gc2VsZWN0ZWRLZXk7XG5cdCAgICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcblx0ICAgICAgICBldmVudCA9IHtcblx0ICAgICAgICAgIGtleTogc2VsZWN0ZWRLZXksXG5cdCAgICAgICAgICBsYWJlbDogbGFiZWxcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICAgIHByb3BzLm9uRGVzZWxlY3QoZXZlbnQpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5maXJlQ2hhbmdlKHZhbHVlKTtcblx0ICB9LFxuXHQgIG9wZW5JZkhhc0NoaWxkcmVuOiBmdW5jdGlvbiBvcGVuSWZIYXNDaGlsZHJlbigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uY291bnQocHJvcHMuY2hpbGRyZW4pIHx8ICgwLCBfdXRpbC5pc1NpbmdsZU1vZGUpKHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGZpcmVDaGFuZ2U6IGZ1bmN0aW9uIGZpcmVDaGFuZ2UodmFsdWUpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBwcm9wcy5vbkNoYW5nZSh0aGlzLmdldFZMRm9yT25DaGFuZ2UodmFsdWUpKTtcblx0ICB9LFxuXHQgIGlzQ2hpbGREaXNhYmxlZDogZnVuY3Rpb24gaXNDaGlsZERpc2FibGVkKGtleSkge1xuXHQgICAgcmV0dXJuICgwLCBfdXRpbC50b0FycmF5KSh0aGlzLnByb3BzLmNoaWxkcmVuKS5zb21lKGZ1bmN0aW9uIChjaGlsZCkge1xuXHQgICAgICB2YXIgY2hpbGRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuXHQgICAgICByZXR1cm4gY2hpbGRWYWx1ZSA9PT0ga2V5ICYmIGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmRpc2FibGVkO1xuXHQgICAgfSk7XG5cdCAgfSxcblx0ICB0b2tlbml6ZTogZnVuY3Rpb24gdG9rZW5pemUoc3RyaW5nKSB7XG5cdCAgICB2YXIgX3RoaXM4ID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBtdWx0aXBsZSA9IF9wcm9wcy5tdWx0aXBsZSxcblx0ICAgICAgICB0b2tlblNlcGFyYXRvcnMgPSBfcHJvcHMudG9rZW5TZXBhcmF0b3JzLFxuXHQgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXHRcblx0ICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgKDAsIF91dGlsLnNwbGl0QnlTZXBhcmF0b3JzKShzdHJpbmcsIHRva2VuU2VwYXJhdG9ycykuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcblx0ICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB7IGtleTogbGFiZWwsIGxhYmVsOiBsYWJlbCB9O1xuXHQgICAgICBpZiAoKDAsIF91dGlsLmZpbmRJbmRleEluVmFsdWVCeUxhYmVsKShuZXh0VmFsdWUsIGxhYmVsKSA9PT0gLTEpIHtcblx0ICAgICAgICBpZiAobXVsdGlwbGUpIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZSA9IF90aGlzOC5nZXRWYWx1ZUJ5TGFiZWwoY2hpbGRyZW4sIGxhYmVsKTtcblx0ICAgICAgICAgIGlmICh2YWx1ZSkge1xuXHQgICAgICAgICAgICBzZWxlY3RlZFZhbHVlLmtleSA9IHZhbHVlO1xuXHQgICAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUuY29uY2F0KHNlbGVjdGVkVmFsdWUpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBuZXh0VmFsdWUgPSBuZXh0VmFsdWUuY29uY2F0KHNlbGVjdGVkVmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbmV4dFZhbHVlO1xuXHQgIH0sXG5cdCAgYWRqdXN0T3BlblN0YXRlOiBmdW5jdGlvbiBhZGp1c3RPcGVuU3RhdGUoKSB7XG5cdCAgICBpZiAodGhpcy5za2lwQWRqdXN0T3Blbikge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3Blbjtcblx0XG5cdCAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmdldElucHV0RE9NTm9kZSgpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuZ2V0SW5wdXRET01Ob2RlKCkpIHtcblx0ICAgICAgb3BlbiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICB2YXIgb3B0aW9ucyA9IFtdO1xuXHQgICAgaWYgKG9wZW4pIHtcblx0ICAgICAgb3B0aW9ucyA9IHRoaXMucmVuZGVyRmlsdGVyT3B0aW9ucygpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdCAgICBpZiAob3BlbiAmJiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSB8fCAhdGhpcy5wcm9wcy5zaG93U2VhcmNoKSAmJiAhb3B0aW9ucy5sZW5ndGgpIHtcblx0ICAgICAgb3BlbiA9IGZhbHNlO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zdGF0ZS5vcGVuID0gb3Blbjtcblx0ICB9LFxuXHQgIHJlbmRlclRvcENvbnRyb2xOb2RlOiBmdW5jdGlvbiByZW5kZXJUb3BDb250cm9sTm9kZSgpIHtcblx0ICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuXHQgICAgICAgIG9wZW4gPSBfc3RhdGUub3Blbixcblx0ICAgICAgICBpbnB1dFZhbHVlID0gX3N0YXRlLmlucHV0VmFsdWU7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjaG9pY2VUcmFuc2l0aW9uTmFtZSA9IHByb3BzLmNob2ljZVRyYW5zaXRpb25OYW1lLFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBtYXhUYWdUZXh0TGVuZ3RoID0gcHJvcHMubWF4VGFnVGV4dExlbmd0aCxcblx0ICAgICAgICBzaG93U2VhcmNoID0gcHJvcHMuc2hvd1NlYXJjaDtcblx0XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX3JlbmRlcmVkJztcblx0ICAgIC8vIHNlYXJjaCBpbnB1dCBpcyBpbnNpZGUgdG9wQ29udHJvbE5vZGUgaW4gc2luZ2xlLCBtdWx0aXBsZSAmIGNvbWJvYm94LiAyMDE2LzA0LzEzXG5cdCAgICB2YXIgaW5uZXJOb2RlID0gbnVsbDtcblx0ICAgIGlmICgoMCwgX3V0aWwuaXNTaW5nbGVNb2RlKShwcm9wcykpIHtcblx0ICAgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBudWxsO1xuXHQgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG5cdCAgICAgICAgdmFyIHNob3dTZWxlY3RlZFZhbHVlID0gZmFsc2U7XG5cdCAgICAgICAgdmFyIG9wYWNpdHkgPSAxO1xuXHQgICAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuXHQgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSB0cnVlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBpZiAob3Blbikge1xuXHQgICAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9ICFpbnB1dFZhbHVlO1xuXHQgICAgICAgICAgICBpZiAoc2hvd1NlbGVjdGVkVmFsdWUpIHtcblx0ICAgICAgICAgICAgICBvcGFjaXR5ID0gMC40O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBzaW5nbGVWYWx1ZSA9IHZhbHVlWzBdO1xuXHQgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGtleTogJ3ZhbHVlJyxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi1zZWxlY3RlZC12YWx1ZScsXG5cdCAgICAgICAgICAgIHRpdGxlOiBzaW5nbGVWYWx1ZS50aXRsZSB8fCBzaW5nbGVWYWx1ZS5sYWJlbCxcblx0ICAgICAgICAgICAgc3R5bGU6IHtcblx0ICAgICAgICAgICAgICBkaXNwbGF5OiBzaG93U2VsZWN0ZWRWYWx1ZSA/ICdibG9jaycgOiAnbm9uZScsXG5cdCAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgdmFsdWVbMF0ubGFiZWxcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuXHQgICAgICAgIGlubmVyTm9kZSA9IFtzZWxlY3RlZFZhbHVlXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcblx0ICAgICAgICAgICAga2V5OiAnaW5wdXQnLFxuXHQgICAgICAgICAgICBzdHlsZToge1xuXHQgICAgICAgICAgICAgIGRpc3BsYXk6IG9wZW4gPyAnYmxvY2snIDogJ25vbmUnXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG5cdCAgICAgICAgKV07XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBzZWxlY3RlZFZhbHVlTm9kZXMgPSBbXTtcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykpIHtcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG5cdCAgICAgICAgICB2YXIgY29udGVudCA9IHNpbmdsZVZhbHVlLmxhYmVsO1xuXHQgICAgICAgICAgdmFyIHRpdGxlID0gc2luZ2xlVmFsdWUudGl0bGUgfHwgY29udGVudDtcblx0ICAgICAgICAgIGlmIChtYXhUYWdUZXh0TGVuZ3RoICYmIHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyAmJiBjb250ZW50Lmxlbmd0aCA+IG1heFRhZ1RleHRMZW5ndGgpIHtcblx0ICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMCwgbWF4VGFnVGV4dExlbmd0aCkgKyAnLi4uJztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzOS5pc0NoaWxkRGlzYWJsZWQoc2luZ2xlVmFsdWUua2V5KTtcblx0ICAgICAgICAgIHZhciBjaG9pY2VDbGFzc05hbWUgPSBkaXNhYmxlZCA/IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2UgJyArIHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX2Rpc2FibGVkJyA6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2UnO1xuXHQgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdsaScsXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRVxuXHQgICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG5cdCAgICAgICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjaG9pY2VDbGFzc05hbWUsXG5cdCAgICAgICAgICAgICAga2V5OiBzaW5nbGVWYWx1ZS5rZXksXG5cdCAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG5cdCAgICAgICAgICAgIH0pLFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgIGNvbnRlbnRcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgZGlzYWJsZWQgPyBudWxsIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX3JlbW92ZScsXG5cdCAgICAgICAgICAgICAgb25DbGljazogX3RoaXM5LnJlbW92ZVNlbGVjdGVkLmJpbmQoX3RoaXM5LCBzaW5nbGVWYWx1ZS5rZXkpXG5cdCAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICApO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlcy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2xpJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcblx0ICAgICAgICAgIGtleTogJ19faW5wdXQnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG5cdCAgICAgICkpO1xuXHRcblx0ICAgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgY2hvaWNlVHJhbnNpdGlvbk5hbWUpIHtcblx0ICAgICAgICBpbm5lck5vZGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3JjQW5pbWF0ZTJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBvbkxlYXZlOiB0aGlzLm9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUsXG5cdCAgICAgICAgICAgIGNvbXBvbmVudDogJ3VsJyxcblx0ICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6IGNob2ljZVRyYW5zaXRpb25OYW1lXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgc2VsZWN0ZWRWYWx1ZU5vZGVzXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpbm5lck5vZGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3VsJyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXNcblx0ICAgICAgICApO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcblx0ICAgICAgdGhpcy5nZXRQbGFjZWhvbGRlckVsZW1lbnQoKSxcblx0ICAgICAgaW5uZXJOb2RlXG5cdCAgICApO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3Jvb3RDbHM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBtdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcblx0ICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIGFsbG93Q2xlYXIgPSBwcm9wcy5hbGxvd0NsZWFyLFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0XG5cdCAgICB2YXIgY3RybE5vZGUgPSB0aGlzLnJlbmRlclRvcENvbnRyb2xOb2RlKCk7XG5cdCAgICB2YXIgZXh0cmFTZWxlY3Rpb25Qcm9wcyA9IHt9O1xuXHQgICAgdmFyIG9wZW4gPSB0aGlzLnN0YXRlLm9wZW47XG5cdFxuXHQgICAgdmFyIG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zO1xuXHQgICAgaWYgKCEoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHByb3BzKSkge1xuXHQgICAgICBleHRyYVNlbGVjdGlvblByb3BzID0ge1xuXHQgICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG5cdCAgICAgICAgdGFiSW5kZXg6IDBcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHZhciByb290Q2xzID0gKF9yb290Q2xzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIGNsYXNzTmFtZSwgISFjbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLW9wZW4nLCBvcGVuKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1mb2N1c2VkJywgb3BlbiB8fCAhIXRoaXMuX2ZvY3VzZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWNvbWJvYm94JywgKDAsIF91dGlsLmlzQ29tYm9ib3gpKHByb3BzKSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZGlzYWJsZWQnLCBkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctZW5hYmxlZCcsICFkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctYWxsb3ctY2xlYXInLCAhIXByb3BzLmFsbG93Q2xlYXIpLCBfcm9vdENscyk7XG5cdCAgICB2YXIgY2xlYXJTdHlsZSA9ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLCB7XG5cdCAgICAgIGRpc3BsYXk6ICdub25lJ1xuXHQgICAgfSk7XG5cdCAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSB8fCBzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgY2xlYXJTdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0ICAgIH1cblx0ICAgIHZhciBjbGVhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICBrZXk6ICdjbGVhcicsXG5cdCAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuXHQgICAgICBzdHlsZTogY2xlYXJTdHlsZVxuXHQgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSwge1xuXHQgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jbGVhcicsXG5cdCAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGVhclNlbGVjdGlvblxuXHQgICAgfSkpO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9TZWxlY3RUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgIHtcblx0ICAgICAgICBvblBvcHVwRm9jdXM6IHRoaXMub25Qb3B1cEZvY3VzLFxuXHQgICAgICAgIGRyb3Bkb3duQWxpZ246IHByb3BzLmRyb3Bkb3duQWxpZ24sXG5cdCAgICAgICAgZHJvcGRvd25DbGFzc05hbWU6IHByb3BzLmRyb3Bkb3duQ2xhc3NOYW1lLFxuXHQgICAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogcHJvcHMuZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoLFxuXHQgICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuXHQgICAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiBwcm9wcy5kcm9wZG93bk1lbnVTdHlsZSxcblx0ICAgICAgICB0cmFuc2l0aW9uTmFtZTogcHJvcHMudHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgYW5pbWF0aW9uOiBwcm9wcy5hbmltYXRpb24sXG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgZHJvcGRvd25TdHlsZTogcHJvcHMuZHJvcGRvd25TdHlsZSxcblx0ICAgICAgICBjb21ib2JveDogcHJvcHMuY29tYm9ib3gsXG5cdCAgICAgICAgc2hvd1NlYXJjaDogcHJvcHMuc2hvd1NlYXJjaCxcblx0ICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuXHQgICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcblx0ICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG5cdCAgICAgICAgdmlzaWJsZTogb3Blbixcblx0ICAgICAgICBpbnB1dFZhbHVlOiBzdGF0ZS5pbnB1dFZhbHVlLFxuXHQgICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZSxcblx0ICAgICAgICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZTogdGhpcy5vbkRyb3Bkb3duVmlzaWJsZUNoYW5nZSxcblx0ICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG5cdCAgICAgICAgb25NZW51U2VsZWN0OiB0aGlzLm9uTWVudVNlbGVjdCxcblx0ICAgICAgICBvbk1lbnVEZXNlbGVjdDogdGhpcy5vbk1lbnVEZXNlbGVjdCxcblx0ICAgICAgICByZWY6ICd0cmlnZ2VyJ1xuXHQgICAgICB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcblx0ICAgICAgICAgIHJlZjogJ3Jvb3QnLFxuXHQgICAgICAgICAgb25CbHVyOiB0aGlzLm9uT3V0ZXJCbHVyLFxuXHQgICAgICAgICAgb25Gb2N1czogdGhpcy5vbk91dGVyRm9jdXMsXG5cdCAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShyb290Q2xzKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICAgICAgcmVmOiAnc2VsZWN0aW9uJyxcblx0ICAgICAgICAgICAga2V5OiAnc2VsZWN0aW9uJyxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvblxcbiAgICAgICAgICAgICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbi0tJyArIChtdWx0aXBsZSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJyksXG5cdCAgICAgICAgICAgIHJvbGU6ICdjb21ib2JveCcsXG5cdCAgICAgICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0Jyxcblx0ICAgICAgICAgICAgJ2FyaWEtaGFzcG9wdXAnOiAndHJ1ZScsXG5cdCAgICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogb3BlblxuXHQgICAgICAgICAgfSwgZXh0cmFTZWxlY3Rpb25Qcm9wcyksXG5cdCAgICAgICAgICBjdHJsTm9kZSxcblx0ICAgICAgICAgIGFsbG93Q2xlYXIgJiYgIW11bHRpcGxlID8gY2xlYXIgOiBudWxsLFxuXHQgICAgICAgICAgbXVsdGlwbGUgfHwgIXByb3BzLnNob3dBcnJvdyA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgICAgICAgICAga2V5OiAnYXJyb3cnLFxuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1hcnJvdycsXG5cdCAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRVxuXHQgICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG5cdCAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkFycm93Q2xpY2tcblx0ICAgICAgICAgICAgfSksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2InLCBudWxsKVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTUpO1xuXHRcblx0dmFyIF9vYmplY3RXaXRob3V0UHJvcGVydGllczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RXaXRob3V0UHJvcGVydGllczIpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yY1RyaWdnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU5KTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVHJpZ2dlcik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfRHJvcGRvd25NZW51ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjYpO1xuXHRcblx0dmFyIF9Ecm9wZG93bk1lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRHJvcGRvd25NZW51KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIEJVSUxUX0lOX1BMQUNFTUVOVFMgPSB7XG5cdCAgYm90dG9tTGVmdDoge1xuXHQgICAgcG9pbnRzOiBbJ3RsJywgJ2JsJ10sXG5cdCAgICBvZmZzZXQ6IFswLCA0XSxcblx0ICAgIG92ZXJmbG93OiB7XG5cdCAgICAgIGFkanVzdFg6IDAsXG5cdCAgICAgIGFkanVzdFk6IDFcblx0ICAgIH1cblx0ICB9LFxuXHQgIHRvcExlZnQ6IHtcblx0ICAgIHBvaW50czogWydibCcsICd0bCddLFxuXHQgICAgb2Zmc2V0OiBbMCwgLTRdLFxuXHQgICAgb3ZlcmZsb3c6IHtcblx0ICAgICAgYWRqdXN0WDogMCxcblx0ICAgICAgYWRqdXN0WTogMVxuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdHZhciBTZWxlY3RUcmlnZ2VyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnU2VsZWN0VHJpZ2dlcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgb25Qb3B1cEZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRyb3Bkb3duQWxpZ246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBpbnB1dFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGZpbHRlck9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBvcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBwb3B1cENsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnlcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHZpc2libGUgPSBfcHJvcHMudmlzaWJsZSxcblx0ICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPSBfcHJvcHMuZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoO1xuXHRcblx0ICAgIGlmICh2aXNpYmxlKSB7XG5cdCAgICAgIHZhciBkcm9wZG93bkRPTU5vZGUgPSB0aGlzLmdldFBvcHVwRE9NTm9kZSgpO1xuXHQgICAgICBpZiAoZHJvcGRvd25ET01Ob2RlKSB7XG5cdCAgICAgICAgdmFyIHdpZHRoUHJvcCA9IGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aCA/ICd3aWR0aCcgOiAnbWluV2lkdGgnO1xuXHQgICAgICAgIGRyb3Bkb3duRE9NTm9kZS5zdHlsZVt3aWR0aFByb3BdID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykub2Zmc2V0V2lkdGggKyAncHgnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblx0ICBnZXRJbm5lck1lbnU6IGZ1bmN0aW9uIGdldElubmVyTWVudSgpIHtcblx0ICAgIHJldHVybiB0aGlzLnBvcHVwTWVudSAmJiB0aGlzLnBvcHVwTWVudS5yZWZzLm1lbnU7XG5cdCAgfSxcblx0ICBnZXRQb3B1cERPTU5vZGU6IGZ1bmN0aW9uIGdldFBvcHVwRE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERvbU5vZGUoKTtcblx0ICB9LFxuXHQgIGdldERyb3Bkb3duRWxlbWVudDogZnVuY3Rpb24gZ2V0RHJvcGRvd25FbGVtZW50KG5ld1Byb3BzKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0Ryb3Bkb3duTWVudTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuXHQgICAgICByZWY6IHRoaXMuc2F2ZU1lbnVcblx0ICAgIH0sIG5ld1Byb3BzLCB7XG5cdCAgICAgIHByZWZpeENsczogdGhpcy5nZXREcm9wZG93blByZWZpeENscygpLFxuXHQgICAgICBvbk1lbnVTZWxlY3Q6IHByb3BzLm9uTWVudVNlbGVjdCxcblx0ICAgICAgb25NZW51RGVzZWxlY3Q6IHByb3BzLm9uTWVudURlc2VsZWN0LFxuXHQgICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG5cdCAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuXHQgICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGVcblx0ICAgIH0pKTtcblx0ICB9LFxuXHQgIGdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWU6IGZ1bmN0aW9uIGdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWU7XG5cdCAgICBpZiAoIXRyYW5zaXRpb25OYW1lICYmIHByb3BzLmFuaW1hdGlvbikge1xuXHQgICAgICB0cmFuc2l0aW9uTmFtZSA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSArICctJyArIHByb3BzLmFuaW1hdGlvbjtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZTtcblx0ICB9LFxuXHQgIGdldERyb3Bkb3duUHJlZml4Q2xzOiBmdW5jdGlvbiBnZXREcm9wZG93blByZWZpeENscygpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLnByZWZpeENscyArICctZHJvcGRvd24nO1xuXHQgIH0sXG5cdCAgc2F2ZU1lbnU6IGZ1bmN0aW9uIHNhdmVNZW51KG1lbnUpIHtcblx0ICAgIHRoaXMucG9wdXBNZW51ID0gbWVudTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wb3B1cENsYXNzTmFtZTtcblx0XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgb25Qb3B1cEZvY3VzID0gX3Byb3BzMi5vblBvcHVwRm9jdXMsXG5cdCAgICAgICAgcHJvcHMgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzM1tcImRlZmF1bHRcIl0pKF9wcm9wczIsIFsnb25Qb3B1cEZvY3VzJ10pO1xuXHQgICAgdmFyIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG5cdCAgICAgICAgdmlzaWJsZSA9IHByb3BzLnZpc2libGUsXG5cdCAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWUsXG5cdCAgICAgICAgZHJvcGRvd25BbGlnbiA9IHByb3BzLmRyb3Bkb3duQWxpZ24sXG5cdCAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcblx0ICAgICAgICBzaG93U2VhcmNoID0gcHJvcHMuc2hvd1NlYXJjaCxcblx0ICAgICAgICBkcm9wZG93bkNsYXNzTmFtZSA9IHByb3BzLmRyb3Bkb3duQ2xhc3NOYW1lO1xuXHRcblx0ICAgIHZhciBkcm9wZG93blByZWZpeENscyA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKTtcblx0ICAgIHZhciBwb3B1cENsYXNzTmFtZSA9IChfcG9wdXBDbGFzc05hbWUgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcG9wdXBDbGFzc05hbWUsIGRyb3Bkb3duQ2xhc3NOYW1lLCAhIWRyb3Bkb3duQ2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcG9wdXBDbGFzc05hbWUsIGRyb3Bkb3duUHJlZml4Q2xzICsgJy0tJyArIChtdWx0aXBsZSA/ICdtdWx0aXBsZScgOiAnc2luZ2xlJyksIDEpLCBfcG9wdXBDbGFzc05hbWUpO1xuXHQgICAgdmFyIHBvcHVwRWxlbWVudCA9IHRoaXMuZ2V0RHJvcGRvd25FbGVtZW50KHtcblx0ICAgICAgbWVudUl0ZW1zOiBwcm9wcy5vcHRpb25zLFxuXHQgICAgICBvblBvcHVwRm9jdXM6IG9uUG9wdXBGb2N1cyxcblx0ICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuXHQgICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuXHQgICAgICB2aXNpYmxlOiB2aXNpYmxlXG5cdCAgICB9KTtcblx0ICAgIHZhciBoaWRlQWN0aW9uID0gdm9pZCAwO1xuXHQgICAgaWYgKGRpc2FibGVkKSB7XG5cdCAgICAgIGhpZGVBY3Rpb24gPSBbXTtcblx0ICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmICFzaG93U2VhcmNoKSB7XG5cdCAgICAgIGhpZGVBY3Rpb24gPSBbJ2NsaWNrJ107XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBoaWRlQWN0aW9uID0gWydibHVyJ107XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgX3JjVHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7XG5cdCAgICAgICAgc2hvd0FjdGlvbjogZGlzYWJsZWQgPyBbXSA6IFsnY2xpY2snXSxcblx0ICAgICAgICBoaWRlQWN0aW9uOiBoaWRlQWN0aW9uLFxuXHQgICAgICAgIHJlZjogJ3RyaWdnZXInLFxuXHQgICAgICAgIHBvcHVwUGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG5cdCAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IEJVSUxUX0lOX1BMQUNFTUVOVFMsXG5cdCAgICAgICAgcHJlZml4Q2xzOiBkcm9wZG93blByZWZpeENscyxcblx0ICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0aGlzLmdldERyb3Bkb3duVHJhbnNpdGlvbk5hbWUoKSxcblx0ICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogcHJvcHMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG5cdCAgICAgICAgcG9wdXA6IHBvcHVwRWxlbWVudCxcblx0ICAgICAgICBwb3B1cEFsaWduOiBkcm9wZG93bkFsaWduLFxuXHQgICAgICAgIHBvcHVwVmlzaWJsZTogdmlzaWJsZSxcblx0ICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG5cdCAgICAgICAgcG9wdXBDbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwb3B1cENsYXNzTmFtZSksXG5cdCAgICAgICAgcG9wdXBTdHlsZTogcHJvcHMuZHJvcGRvd25TdHlsZVxuXHQgICAgICB9KSxcblx0ICAgICAgcHJvcHMuY2hpbGRyZW5cblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0VHJpZ2dlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLk9wdEdyb3VwID0gZXhwb3J0cy5PcHRpb24gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcblx0XG5cdHZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cdFxuXHR2YXIgX09wdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KTtcblx0XG5cdHZhciBfT3B0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdGlvbik7XG5cdFxuXHR2YXIgX09wdEdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMjgpO1xuXHRcblx0dmFyIF9PcHRHcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRHcm91cCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdF9TZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5cdF9TZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRHcm91cCA9IF9PcHRHcm91cDJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzLk9wdGlvbiA9IF9PcHRpb24yW1wiZGVmYXVsdFwiXTtcblx0ZXhwb3J0cy5PcHRHcm91cCA9IF9PcHRHcm91cDJbXCJkZWZhdWx0XCJdO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9TZWxlY3QyW1wiZGVmYXVsdFwiXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTMzOlxuODEsXG5cbi8qKiovIDEzNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBDb2x1bW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhDb2x1bW4sIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBDb2x1bW4oKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBDb2x1bW47XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRDb2x1bW4ucHJvcFR5cGVzID0ge1xuXHQgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgY29sU3BhbjogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0ICBkYXRhSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG5cdCAgZml4ZWQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2YoW3RydWUsICdsZWZ0JywgJ3JpZ2h0J10pLFxuXHQgIHJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uQ2VsbENsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0ZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgQ29sdW1uR3JvdXAgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhDb2x1bW5Hcm91cCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIENvbHVtbkdyb3VwKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbkdyb3VwKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBDb2x1bW5Hcm91cDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdENvbHVtbkdyb3VwLnByb3BUeXBlcyA9IHtcblx0ICB0aXRsZTogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG5cdH07XG5cdENvbHVtbkdyb3VwLmlzVGFibGVDb2x1bW5Hcm91cCA9IHRydWU7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uR3JvdXA7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxMzY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHR2YXIgQ29sdW1uTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDb2x1bW5NYW5hZ2VyKGNvbHVtbnMsIGVsZW1lbnRzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uTWFuYWdlcik7XG5cdFxuXHQgICAgdGhpcy5fY2FjaGVkID0ge307XG5cdFxuXHQgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG5cdCAgfVxuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNGaXhlZCA9IGZ1bmN0aW9uIGlzQW55Q29sdW1uc0ZpeGVkKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2lzQW55Q29sdW1uc0ZpeGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICByZXR1cm4gISFjb2x1bW4uZml4ZWQ7XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zTGVmdEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNMZWZ0Rml4ZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczIuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc1JpZ2h0Rml4ZWQgPSBmdW5jdGlvbiBpc0FueUNvbHVtbnNSaWdodEZpeGVkKCkge1xuXHQgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNSaWdodEZpeGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXMzLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ3JpZ2h0Jztcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWZ0Q29sdW1ucyA9IGZ1bmN0aW9uIGxlZnRDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWZ0Q29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzNC5ncm91cGVkQ29sdW1ucygpLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ2xlZnQnIHx8IGNvbHVtbi5maXhlZCA9PT0gdHJ1ZTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodENvbHVtbnMgPSBmdW5jdGlvbiByaWdodENvbHVtbnMoKSB7XG5cdCAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0Q29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzNS5ncm91cGVkQ29sdW1ucygpLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG5cdCAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ3JpZ2h0Jztcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5sZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIGxlYWZDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWFmQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIF90aGlzNi5fbGVhZkNvbHVtbnMoX3RoaXM2LmNvbHVtbnMpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdExlYWZDb2x1bW5zID0gZnVuY3Rpb24gbGVmdExlYWZDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWZ0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiBfdGhpczcuX2xlYWZDb2x1bW5zKF90aGlzNy5sZWZ0Q29sdW1ucygpKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLnJpZ2h0TGVhZkNvbHVtbnMgPSBmdW5jdGlvbiByaWdodExlYWZDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdyaWdodExlYWZDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gX3RoaXM4Ll9sZWFmQ29sdW1ucyhfdGhpczgucmlnaHRDb2x1bW5zKCkpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgLy8gYWRkIGFwcHJvcHJpYXRlIHJvd3NwYW4gYW5kIGNvbHNwYW4gdG8gY29sdW1uXG5cdFxuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5ncm91cGVkQ29sdW1ucyA9IGZ1bmN0aW9uIGdyb3VwZWRDb2x1bW5zKCkge1xuXHQgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdncm91cGVkQ29sdW1ucycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIF9ncm91cENvbHVtbnMgPSBmdW5jdGlvbiBfZ3JvdXBDb2x1bW5zKGNvbHVtbnMpIHtcblx0ICAgICAgICB2YXIgY3VycmVudFJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblx0ICAgICAgICB2YXIgcGFyZW50Q29sdW1uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblx0ICAgICAgICB2YXIgcm93cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogW107XG5cdFxuXHQgICAgICAgIC8vIHRyYWNrIGhvdyBtYW55IHJvd3Mgd2UgZ290XG5cdCAgICAgICAgcm93c1tjdXJyZW50Um93XSA9IHJvd3NbY3VycmVudFJvd10gfHwgW107XG5cdCAgICAgICAgdmFyIGdyb3VwZWQgPSBbXTtcblx0ICAgICAgICB2YXIgc2V0Um93U3BhbiA9IGZ1bmN0aW9uIHNldFJvd1NwYW4oY29sdW1uKSB7XG5cdCAgICAgICAgICB2YXIgcm93U3BhbiA9IHJvd3MubGVuZ3RoIC0gY3VycmVudFJvdztcblx0ICAgICAgICAgIGlmIChjb2x1bW4gJiYgIWNvbHVtbi5jaGlsZHJlbiAmJiAvLyBwYXJlbnQgY29sdW1ucyBhcmUgc3VwcG9zZWQgdG8gYmUgb25lIHJvd1xuXHQgICAgICAgICAgcm93U3BhbiA+IDEgJiYgKCFjb2x1bW4ucm93U3BhbiB8fCBjb2x1bW4ucm93U3BhbiA8IHJvd1NwYW4pKSB7XG5cdCAgICAgICAgICAgIGNvbHVtbi5yb3dTcGFuID0gcm93U3Bhbjtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xuXHQgICAgICAgICAgdmFyIG5ld0NvbHVtbiA9IF9leHRlbmRzKHt9LCBjb2x1bW4pO1xuXHQgICAgICAgICAgcm93c1tjdXJyZW50Um93XS5wdXNoKG5ld0NvbHVtbik7XG5cdCAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbiA9IHBhcmVudENvbHVtbi5jb2xTcGFuIHx8IDA7XG5cdCAgICAgICAgICBpZiAobmV3Q29sdW1uLmNoaWxkcmVuICYmIG5ld0NvbHVtbi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG5cdCAgICAgICAgICAgIG5ld0NvbHVtbi5jaGlsZHJlbiA9IF9ncm91cENvbHVtbnMobmV3Q29sdW1uLmNoaWxkcmVuLCBjdXJyZW50Um93ICsgMSwgbmV3Q29sdW1uLCByb3dzKTtcblx0ICAgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4gPSBwYXJlbnRDb2x1bW4uY29sU3BhbiArIG5ld0NvbHVtbi5jb2xTcGFuO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcGFyZW50Q29sdW1uLmNvbFNwYW4rKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIC8vIHVwZGF0ZSByb3dzcGFuIHRvIGFsbCBzYW1lIHJvdyBjb2x1bW5zXG5cdCAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3NbY3VycmVudFJvd10ubGVuZ3RoIC0gMTsgKytpKSB7XG5cdCAgICAgICAgICAgIHNldFJvd1NwYW4ocm93c1tjdXJyZW50Um93XVtpXSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICAvLyBsYXN0IGNvbHVtbiwgdXBkYXRlIHJvd3NwYW4gaW1tZWRpYXRlbHlcblx0ICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGNvbHVtbnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHNldFJvd1NwYW4obmV3Q29sdW1uKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGdyb3VwZWQucHVzaChuZXdDb2x1bW4pO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybiBncm91cGVkO1xuXHQgICAgICB9O1xuXHQgICAgICByZXR1cm4gX2dyb3VwQ29sdW1ucyhfdGhpczkuY29sdW1ucyk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoZWxlbWVudHMpIHtcblx0ICAgIHZhciBfdGhpczEwID0gdGhpcztcblx0XG5cdCAgICB2YXIgY29sdW1ucyA9IFtdO1xuXHQgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChlbGVtZW50cywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0ICAgICAgaWYgKCFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY29sdW1uID0gX2V4dGVuZHMoe30sIGVsZW1lbnQucHJvcHMpO1xuXHQgICAgICBpZiAoZWxlbWVudC5rZXkpIHtcblx0ICAgICAgICBjb2x1bW4ua2V5ID0gZWxlbWVudC5rZXk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGVsZW1lbnQudHlwZS5pc1RhYmxlQ29sdW1uR3JvdXApIHtcblx0ICAgICAgICBjb2x1bW4uY2hpbGRyZW4gPSBfdGhpczEwLm5vcm1hbGl6ZShjb2x1bW4uY2hpbGRyZW4pO1xuXHQgICAgICB9XG5cdCAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gY29sdW1ucztcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KGNvbHVtbnMsIGVsZW1lbnRzKSB7XG5cdCAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMubm9ybWFsaXplKGVsZW1lbnRzKTtcblx0ICAgIHRoaXMuX2NhY2hlZCA9IHt9O1xuXHQgIH07XG5cdFxuXHQgIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLl9jYWNoZSA9IGZ1bmN0aW9uIF9jYWNoZShuYW1lLCBmbikge1xuXHQgICAgaWYgKG5hbWUgaW4gdGhpcy5fY2FjaGVkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG5cdCAgICB9XG5cdCAgICB0aGlzLl9jYWNoZWRbbmFtZV0gPSBmbigpO1xuXHQgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFtuYW1lXTtcblx0ICB9O1xuXHRcblx0ICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5fbGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBfbGVhZkNvbHVtbnMoY29sdW1ucykge1xuXHQgICAgdmFyIF90aGlzMTEgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBsZWFmQ29sdW1ucyA9IFtdO1xuXHQgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgaWYgKCFjb2x1bW4uY2hpbGRyZW4pIHtcblx0ICAgICAgICBsZWFmQ29sdW1ucy5wdXNoKGNvbHVtbik7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMucHVzaC5hcHBseShsZWFmQ29sdW1ucywgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMTEuX2xlYWZDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbikpKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gbGVhZkNvbHVtbnM7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIENvbHVtbk1hbmFnZXI7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uTWFuYWdlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDEzNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBFeHBhbmRJY29uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoRXhwYW5kSWNvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIEV4cGFuZEljb24oKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwYW5kSWNvbik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBFeHBhbmRJY29uLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG5cdCAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG5cdCAgfTtcblx0XG5cdCAgRXhwYW5kSWNvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wcy5leHBhbmRhYmxlLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgb25FeHBhbmQgPSBfcHJvcHMub25FeHBhbmQsXG5cdCAgICAgICAgbmVlZEluZGVudFNwYWNlZCA9IF9wcm9wcy5uZWVkSW5kZW50U3BhY2VkLFxuXHQgICAgICAgIGV4cGFuZGVkID0gX3Byb3BzLmV4cGFuZGVkLFxuXHQgICAgICAgIHJlY29yZCA9IF9wcm9wcy5yZWNvcmQ7XG5cdFxuXHQgICAgaWYgKGV4cGFuZGFibGUpIHtcblx0ICAgICAgdmFyIGV4cGFuZENsYXNzTmFtZSA9IGV4cGFuZGVkID8gJ2V4cGFuZGVkJyA6ICdjb2xsYXBzZWQnO1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24gJyArIHByZWZpeENscyArICctJyArIGV4cGFuZENsYXNzTmFtZSxcblx0ICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgIHJldHVybiBvbkV4cGFuZCghZXhwYW5kZWQsIHJlY29yZCwgZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAobmVlZEluZGVudFNwYWNlZCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLXNwYWNlZCcgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gRXhwYW5kSWNvbjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0RXhwYW5kSWNvbi5wcm9wVHlwZXMgPSB7XG5cdCAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGV4cGFuZGFibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgbmVlZEluZGVudFNwYWNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIG9uRXhwYW5kOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBFeHBhbmRJY29uO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfVGFibGVSb3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSk7XG5cdFxuXHR2YXIgX1RhYmxlUm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlUm93KTtcblx0XG5cdHZhciBfVGFibGVIZWFkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCk7XG5cdFxuXHR2YXIgX1RhYmxlSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlSGVhZGVyKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0Myk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNDApO1xuXHRcblx0dmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblx0XG5cdHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcpO1xuXHRcblx0dmFyIF9hZGRFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZEV2ZW50TGlzdGVuZXIpO1xuXHRcblx0dmFyIF9Db2x1bW5NYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzYpO1xuXHRcblx0dmFyIF9Db2x1bW5NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbk1hbmFnZXIpO1xuXHRcblx0dmFyIF9jcmVhdGVTdG9yZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTQyKTtcblx0XG5cdHZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXHRcblx0dmFyIF9jb21wb25lbnRDbGFzc2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG5cdFxuXHR2YXIgX2NvbXBvbmVudENsYXNzZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50Q2xhc3Nlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cdFxuXHR2YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGUpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgIF90aGlzLm9uRXhwYW5kZWQgPSBmdW5jdGlvbiAoZXhwYW5kZWQsIHJlY29yZCwgZSwgaW5kZXgpIHtcblx0ICAgICAgaWYgKGUpIHtcblx0ICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaW5mbyA9IF90aGlzLmZpbmRFeHBhbmRlZFJvdyhyZWNvcmQpO1xuXHQgICAgICBpZiAodHlwZW9mIGluZm8gIT09ICd1bmRlZmluZWQnICYmICFleHBhbmRlZCkge1xuXHQgICAgICAgIF90aGlzLm9uUm93RGVzdHJveShyZWNvcmQsIGluZGV4KTtcblx0ICAgICAgfSBlbHNlIGlmICghaW5mbyAmJiBleHBhbmRlZCkge1xuXHQgICAgICAgIHZhciBleHBhbmRlZFJvd3MgPSBfdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5jb25jYXQoKTtcblx0ICAgICAgICBleHBhbmRlZFJvd3MucHVzaChfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCkpO1xuXHQgICAgICAgIF90aGlzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93cyk7XG5cdCAgICAgIH1cblx0ICAgICAgX3RoaXMucHJvcHMub25FeHBhbmQoZXhwYW5kZWQsIHJlY29yZCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLm9uUm93RGVzdHJveSA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG5cdCAgICAgIHZhciBleHBhbmRlZFJvd3MgPSBfdGhpcy5nZXRFeHBhbmRlZFJvd3MoKS5jb25jYXQoKTtcblx0ICAgICAgdmFyIHJvd0tleSA9IF90aGlzLmdldFJvd0tleShyZWNvcmQsIHJvd0luZGV4KTtcblx0ICAgICAgdmFyIGluZGV4ID0gLTE7XG5cdCAgICAgIGV4cGFuZGVkUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyLCBpKSB7XG5cdCAgICAgICAgaWYgKHIgPT09IHJvd0tleSkge1xuXHQgICAgICAgICAgaW5kZXggPSBpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcblx0ICAgICAgICBleHBhbmRlZFJvd3Muc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLnN5bmNGaXhlZFRhYmxlUm93SGVpZ2h0KCk7XG5cdCAgICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLnN5bmNGaXhlZFRhYmxlUm93SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgdGFibGVSZWN0ID0gX3RoaXMudGFibGVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHQgICAgICAvLyBJZiB0YWJsZU5vZGUncyBoZWlnaHQgbGVzcyB0aGFuIDAsIHN1cHBvc2UgaXQgaXMgaGlkZGVuIGFuZCBkb24ndCByZWNhbGN1bGF0ZSByb3dIZWlnaHQuXG5cdCAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNDgzNlxuXHQgICAgICBpZiAodGFibGVSZWN0LmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIHRhYmxlUmVjdC5oZWlnaHQgPD0gMCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgcHJlZml4Q2xzID0gX3RoaXMucHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgICAgdmFyIGhlYWRSb3dzID0gX3RoaXMucmVmcy5oZWFkVGFibGUgPyBfdGhpcy5yZWZzLmhlYWRUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0aGVhZCcpIDogX3RoaXMucmVmcy5ib2R5VGFibGUucXVlcnlTZWxlY3RvckFsbCgndGhlYWQnKTtcblx0ICAgICAgdmFyIGJvZHlSb3dzID0gX3RoaXMucmVmcy5ib2R5VGFibGUucXVlcnlTZWxlY3RvckFsbCgnLicgKyBwcmVmaXhDbHMgKyAnLXJvdycpIHx8IFtdO1xuXHQgICAgICB2YXIgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChoZWFkUm93cywgZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICAgIHJldHVybiByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IHx8ICdhdXRvJztcblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCA9IFtdLm1hcC5jYWxsKGJvZHlSb3dzLCBmdW5jdGlvbiAocm93KSB7XG5cdCAgICAgICAgcmV0dXJuIHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgJ2F1dG8nO1xuXHQgICAgICB9KTtcblx0ICAgICAgaWYgKCgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCkgJiYgKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkoX3RoaXMuc3RhdGUuZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQsIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0KSkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ6IGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0LFxuXHQgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0ID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgaWYgKF90aGlzLnNjcm9sbFRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSB7XG5cdCAgICAgICAgX3RoaXMuc2Nyb2xsVGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZUJvZHlTY3JvbGwgPSBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAvLyBQcmV2ZW50IHNjcm9sbFRvcCBzZXR0ZXIgdHJpZ2dlciBvblNjcm9sbCBldmVudFxuXHQgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xMzg2Njk2XG5cdCAgICAgIGlmIChlLnRhcmdldCAhPT0gX3RoaXMuc2Nyb2xsVGFyZ2V0KSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wcyRzY3JvbGwgPSBfdGhpcy5wcm9wcy5zY3JvbGwsXG5cdCAgICAgICAgICBzY3JvbGwgPSBfdGhpcyRwcm9wcyRzY3JvbGwgPT09IHVuZGVmaW5lZCA/IHt9IDogX3RoaXMkcHJvcHMkc2Nyb2xsO1xuXHQgICAgICB2YXIgX3RoaXMkcmVmcyA9IF90aGlzLnJlZnMsXG5cdCAgICAgICAgICBoZWFkVGFibGUgPSBfdGhpcyRyZWZzLmhlYWRUYWJsZSxcblx0ICAgICAgICAgIGJvZHlUYWJsZSA9IF90aGlzJHJlZnMuYm9keVRhYmxlLFxuXHQgICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQgPSBfdGhpcyRyZWZzLmZpeGVkQ29sdW1uc0JvZHlMZWZ0LFxuXHQgICAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJpZ2h0ID0gX3RoaXMkcmVmcy5maXhlZENvbHVtbnNCb2R5UmlnaHQ7XG5cdFxuXHQgICAgICBpZiAoc2Nyb2xsLnggJiYgZS50YXJnZXQuc2Nyb2xsTGVmdCAhPT0gX3RoaXMubGFzdFNjcm9sbExlZnQpIHtcblx0ICAgICAgICBpZiAoZS50YXJnZXQgPT09IGJvZHlUYWJsZSAmJiBoZWFkVGFibGUpIHtcblx0ICAgICAgICAgIGhlYWRUYWJsZS5zY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcblx0ICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBoZWFkVGFibGUgJiYgYm9keVRhYmxlKSB7XG5cdCAgICAgICAgICBib2R5VGFibGUuc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKGUudGFyZ2V0KTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoc2Nyb2xsLnkpIHtcblx0ICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keUxlZnQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlMZWZ0KSB7XG5cdCAgICAgICAgICBmaXhlZENvbHVtbnNCb2R5TGVmdC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChmaXhlZENvbHVtbnNCb2R5UmlnaHQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlSaWdodCkge1xuXHQgICAgICAgICAgZml4ZWRDb2x1bW5zQm9keVJpZ2h0LnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGJvZHlUYWJsZSAmJiBlLnRhcmdldCAhPT0gYm9keVRhYmxlKSB7XG5cdCAgICAgICAgICBib2R5VGFibGUuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICAvLyBSZW1lbWJlciBsYXN0IHNjcm9sbExlZnQgZm9yIHNjcm9sbCBkaXJlY3Rpb24gZGV0ZWN0aW5nLlxuXHQgICAgICBfdGhpcy5sYXN0U2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG5cdCAgICB9O1xuXHRcblx0ICAgIF90aGlzLmhhbmRsZVJvd0hvdmVyID0gZnVuY3Rpb24gKGlzSG92ZXIsIGtleSkge1xuXHQgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG5cdCAgICAgICAgY3VycmVudEhvdmVyS2V5OiBpc0hvdmVyID8ga2V5IDogbnVsbFxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGV4cGFuZGVkUm93S2V5cyA9IFtdO1xuXHQgICAgdmFyIHJvd3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByb3BzLmRhdGEpKTtcblx0ICAgIF90aGlzLmNvbHVtbk1hbmFnZXIgPSBuZXcgX0NvbHVtbk1hbmFnZXIyW1wiZGVmYXVsdFwiXShwcm9wcy5jb2x1bW5zLCBwcm9wcy5jaGlsZHJlbik7XG5cdCAgICBfdGhpcy5zdG9yZSA9ICgwLCBfY3JlYXRlU3RvcmUyW1wiZGVmYXVsdFwiXSkoeyBjdXJyZW50SG92ZXJLZXk6IG51bGwgfSk7XG5cdCAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuXHRcblx0ICAgIGlmIChwcm9wcy5kZWZhdWx0RXhwYW5kQWxsUm93cykge1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgcm93ID0gcm93c1tpXTtcblx0ICAgICAgICBleHBhbmRlZFJvd0tleXMucHVzaChfdGhpcy5nZXRSb3dLZXkocm93LCBpKSk7XG5cdCAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHJvd1twcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWVdIHx8IFtdKTtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZXhwYW5kZWRSb3dLZXlzID0gcHJvcHMuZXhwYW5kZWRSb3dLZXlzIHx8IHByb3BzLmRlZmF1bHRFeHBhbmRlZFJvd0tleXM7XG5cdCAgICB9XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMsXG5cdCAgICAgIGN1cnJlbnRIb3ZlcktleTogbnVsbCxcblx0ICAgICAgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQ6IFtdLFxuXHQgICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogW11cblx0ICAgIH07XG5cdCAgICByZXR1cm4gX3RoaXM7XG5cdCAgfVxuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuXHQgICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuXHQgICAgICB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZSA9ICgwLCBfdXRpbHMuZGVib3VuY2UpKHRoaXMuaGFuZGxlV2luZG93UmVzaXplLCAxNTApO1xuXHQgICAgICB0aGlzLnJlc2l6ZUV2ZW50ID0gKDAsIF9hZGRFdmVudExpc3RlbmVyMltcImRlZmF1bHRcIl0pKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICBpZiAoJ2V4cGFuZGVkUm93S2V5cycgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGV4cGFuZGVkUm93S2V5czogbmV4dFByb3BzLmV4cGFuZGVkUm93S2V5c1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIGlmIChuZXh0UHJvcHMuY29sdW1ucyAmJiBuZXh0UHJvcHMuY29sdW1ucyAhPT0gdGhpcy5wcm9wcy5jb2x1bW5zKSB7XG5cdCAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5yZXNldChuZXh0UHJvcHMuY29sdW1ucyk7XG5cdCAgICB9IGVsc2UgaWYgKG5leHRQcm9wcy5jaGlsZHJlbiAhPT0gdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuXHQgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIucmVzZXQobnVsbCwgbmV4dFByb3BzLmNoaWxkcmVuKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuXHQgICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG5cdCAgICAgIHRoaXMuaGFuZGxlV2luZG93UmVzaXplKCk7XG5cdCAgICB9XG5cdCAgICAvLyB3aGVuIHRhYmxlIGNoYW5nZXMgdG8gZW1wdHksIHJlc2V0IHNjcm9sbExlZnRcblx0ICAgIGlmIChwcmV2UHJvcHMuZGF0YS5sZW5ndGggPiAwICYmIHRoaXMucHJvcHMuZGF0YS5sZW5ndGggPT09IDAgJiYgdGhpcy5oYXNTY3JvbGxYKCkpIHtcblx0ICAgICAgdGhpcy5yZXNldFNjcm9sbFgoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgIGlmICh0aGlzLnJlc2l6ZUV2ZW50KSB7XG5cdCAgICAgIHRoaXMucmVzaXplRXZlbnQucmVtb3ZlKCk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUpIHtcblx0ICAgICAgdGhpcy5kZWJvdW5jZWRXaW5kb3dSZXNpemUuY2FuY2VsKCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLm9uRXhwYW5kZWRSb3dzQ2hhbmdlID0gZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dLZXlzKSB7XG5cdCAgICBpZiAoIXRoaXMucHJvcHMuZXhwYW5kZWRSb3dLZXlzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBhbmRlZFJvd0tleXM6IGV4cGFuZGVkUm93S2V5cyB9KTtcblx0ICAgIH1cblx0ICAgIHRoaXMucHJvcHMub25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dLZXlzKTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93S2V5ID0gZnVuY3Rpb24gZ2V0Um93S2V5KHJlY29yZCwgaW5kZXgpIHtcblx0ICAgIHZhciByb3dLZXkgPSB0aGlzLnByb3BzLnJvd0tleTtcblx0ICAgIHZhciBrZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG5cdCAgICAoMCwgX3V0aWxzLndhcm5pbmdPbmNlKShrZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsJyArICdvciBzZXQgYHJvd0tleWAgdG8gYW4gdW5pcXVlIHByaW1hcnkga2V5LicpO1xuXHQgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gaW5kZXggOiBrZXk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93cyA9IGZ1bmN0aW9uIGdldEV4cGFuZGVkUm93cygpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCB0aGlzLnN0YXRlLmV4cGFuZGVkUm93S2V5cztcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSB7XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBzaG93SGVhZGVyID0gX3Byb3BzLnNob3dIZWFkZXIsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wcy5leHBhbmRJY29uQXNDZWxsLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgdmFyIHJvd3MgPSB0aGlzLmdldEhlYWRlclJvd3MoY29sdW1ucyk7XG5cdFxuXHQgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgZml4ZWQgIT09ICdyaWdodCcpIHtcblx0ICAgICAgcm93c1swXS51bnNoaWZ0KHtcblx0ICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmRJY29uQXNDZWxsJyxcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24tdGgnLFxuXHQgICAgICAgIHRpdGxlOiAnJyxcblx0ICAgICAgICByb3dTcGFuOiByb3dzLmxlbmd0aFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgdHJTdHlsZSA9IGZpeGVkID8gdGhpcy5nZXRIZWFkZXJSb3dTdHlsZShjb2x1bW5zLCByb3dzKSA6IG51bGw7XG5cdFxuXHQgICAgcmV0dXJuIHNob3dIZWFkZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZUhlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICByb3dzOiByb3dzLFxuXHQgICAgICByb3dTdHlsZTogdHJTdHlsZVxuXHQgICAgfSkgOiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRIZWFkZXJSb3dzID0gZnVuY3Rpb24gZ2V0SGVhZGVyUm93cyhjb2x1bW5zKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgY3VycmVudFJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblx0ICAgIHZhciByb3dzID0gYXJndW1lbnRzWzJdO1xuXHRcblx0ICAgIHJvd3MgPSByb3dzIHx8IFtdO1xuXHQgICAgcm93c1tjdXJyZW50Um93XSA9IHJvd3NbY3VycmVudFJvd10gfHwgW107XG5cdFxuXHQgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHtcblx0ICAgICAgaWYgKGNvbHVtbi5yb3dTcGFuICYmIHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcblx0ICAgICAgICB3aGlsZSAocm93cy5sZW5ndGggPCBjb2x1bW4ucm93U3Bhbikge1xuXHQgICAgICAgICAgcm93cy5wdXNoKFtdKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNlbGwgPSB7XG5cdCAgICAgICAga2V5OiBjb2x1bW4ua2V5LFxuXHQgICAgICAgIGNsYXNzTmFtZTogY29sdW1uLmNsYXNzTmFtZSB8fCAnJyxcblx0ICAgICAgICBjaGlsZHJlbjogY29sdW1uLnRpdGxlXG5cdCAgICAgIH07XG5cdCAgICAgIGlmIChjb2x1bW4uY2hpbGRyZW4pIHtcblx0ICAgICAgICBfdGhpczIuZ2V0SGVhZGVyUm93cyhjb2x1bW4uY2hpbGRyZW4sIGN1cnJlbnRSb3cgKyAxLCByb3dzKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoJ2NvbFNwYW4nIGluIGNvbHVtbikge1xuXHQgICAgICAgIGNlbGwuY29sU3BhbiA9IGNvbHVtbi5jb2xTcGFuO1xuXHQgICAgICB9XG5cdCAgICAgIGlmICgncm93U3BhbicgaW4gY29sdW1uKSB7XG5cdCAgICAgICAgY2VsbC5yb3dTcGFuID0gY29sdW1uLnJvd1NwYW47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGNlbGwuY29sU3BhbiAhPT0gMCkge1xuXHQgICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChjZWxsKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuXHQgICAgICByZXR1cm4gcm93Lmxlbmd0aCA+IDA7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0RXhwYW5kZWRSb3cgPSBmdW5jdGlvbiBnZXRFeHBhbmRlZFJvdyhrZXksIGNvbnRlbnQsIHZpc2libGUsIGNsYXNzTmFtZSwgZml4ZWQpIHtcblx0ICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcblx0ICAgICAgICBleHBhbmRJY29uQXNDZWxsID0gX3Byb3BzMi5leHBhbmRJY29uQXNDZWxsO1xuXHRcblx0ICAgIHZhciBjb2xDb3VudCA9IHZvaWQgMDtcblx0ICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG5cdCAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpLmxlbmd0aDtcblx0ICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpLmxlbmd0aDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCkubGVuZ3RoO1xuXHQgICAgfVxuXHQgICAgdmFyIGNvbHVtbnMgPSBbe1xuXHQgICAgICBrZXk6ICdleHRyYS1yb3cnLFxuXHQgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgcHJvcHM6IHtcblx0ICAgICAgICAgICAgY29sU3BhbjogY29sQ291bnRcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBjaGlsZHJlbjogZml4ZWQgIT09ICdyaWdodCcgPyBjb250ZW50IDogJyZuYnNwOydcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgICB9XTtcblx0ICAgIGlmIChleHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG5cdCAgICAgIGNvbHVtbnMudW5zaGlmdCh7XG5cdCAgICAgICAga2V5OiAnZXhwYW5kLWljb24tcGxhY2Vob2xkZXInLFxuXHQgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG5cdCAgICAgIHZpc2libGU6IHZpc2libGUsXG5cdCAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICBrZXk6IGtleSArICctZXh0cmEtcm93Jyxcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMgKyAnLWV4cGFuZGVkLXJvdycsXG5cdCAgICAgIGluZGVudDogMSxcblx0ICAgICAgZXhwYW5kYWJsZTogZmFsc2UsXG5cdCAgICAgIHN0b3JlOiB0aGlzLnN0b3JlXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93c0J5RGF0YSA9IGZ1bmN0aW9uIGdldFJvd3NCeURhdGEoZGF0YSwgdmlzaWJsZSwgaW5kZW50LCBjb2x1bW5zLCBmaXhlZCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjaGlsZHJlbkNvbHVtbk5hbWUgPSBwcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWU7XG5cdCAgICB2YXIgZXhwYW5kZWRSb3dSZW5kZXIgPSBwcm9wcy5leHBhbmRlZFJvd1JlbmRlcjtcblx0ICAgIHZhciBleHBhbmRSb3dCeUNsaWNrID0gcHJvcHMuZXhwYW5kUm93QnlDbGljaztcblx0ICAgIHZhciBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCA9IHRoaXMuc3RhdGUuZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQ7XG5cdFxuXHQgICAgdmFyIHJzdCA9IFtdO1xuXHQgICAgdmFyIHJvd0NsYXNzTmFtZSA9IHByb3BzLnJvd0NsYXNzTmFtZTtcblx0ICAgIHZhciByb3dSZWYgPSBwcm9wcy5yb3dSZWY7XG5cdCAgICB2YXIgZXhwYW5kZWRSb3dDbGFzc05hbWUgPSBwcm9wcy5leHBhbmRlZFJvd0NsYXNzTmFtZTtcblx0ICAgIHZhciBuZWVkSW5kZW50U3BhY2VkID0gcHJvcHMuZGF0YS5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHtcblx0ICAgICAgcmV0dXJuIHJlY29yZFtjaGlsZHJlbkNvbHVtbk5hbWVdO1xuXHQgICAgfSk7XG5cdCAgICB2YXIgb25Sb3dDbGljayA9IHByb3BzLm9uUm93Q2xpY2s7XG5cdCAgICB2YXIgb25Sb3dEb3VibGVDbGljayA9IHByb3BzLm9uUm93RG91YmxlQ2xpY2s7XG5cdFxuXHQgICAgdmFyIGV4cGFuZEljb25Bc0NlbGwgPSBmaXhlZCAhPT0gJ3JpZ2h0JyA/IHByb3BzLmV4cGFuZEljb25Bc0NlbGwgOiBmYWxzZTtcblx0ICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBmaXhlZCAhPT0gJ3JpZ2h0JyA/IHByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleCA6IC0xO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgcmVjb3JkID0gZGF0YVtpXTtcblx0ICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0Um93S2V5KHJlY29yZCwgaSk7XG5cdCAgICAgIHZhciBjaGlsZHJlbkNvbHVtbiA9IHJlY29yZFtjaGlsZHJlbkNvbHVtbk5hbWVdO1xuXHQgICAgICB2YXIgaXNSb3dFeHBhbmRlZCA9IHRoaXMuaXNSb3dFeHBhbmRlZChyZWNvcmQsIGkpO1xuXHQgICAgICB2YXIgZXhwYW5kZWRSb3dDb250ZW50ID0gdm9pZCAwO1xuXHQgICAgICBpZiAoZXhwYW5kZWRSb3dSZW5kZXIgJiYgaXNSb3dFeHBhbmRlZCkge1xuXHQgICAgICAgIGV4cGFuZGVkUm93Q29udGVudCA9IGV4cGFuZGVkUm93UmVuZGVyKHJlY29yZCwgaSwgaW5kZW50KTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgY2xhc3NOYW1lID0gcm93Q2xhc3NOYW1lKHJlY29yZCwgaSwgaW5kZW50KTtcblx0XG5cdCAgICAgIHZhciBvbkhvdmVyUHJvcHMgPSB7fTtcblx0ICAgICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG5cdCAgICAgICAgb25Ib3ZlclByb3BzLm9uSG92ZXIgPSB0aGlzLmhhbmRsZVJvd0hvdmVyO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgaGVpZ2h0ID0gZml4ZWQgJiYgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gPyBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFtpXSA6IG51bGw7XG5cdFxuXHQgICAgICB2YXIgbGVhZkNvbHVtbnMgPSB2b2lkIDA7XG5cdCAgICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcblx0ICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVhZkNvbHVtbnMoKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcnN0LnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVSb3cyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe1xuXHQgICAgICAgIGluZGVudDogaW5kZW50LFxuXHQgICAgICAgIGluZGVudFNpemU6IHByb3BzLmluZGVudFNpemUsXG5cdCAgICAgICAgbmVlZEluZGVudFNwYWNlZDogbmVlZEluZGVudFNwYWNlZCxcblx0ICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgICByZWNvcmQ6IHJlY29yZCxcblx0ICAgICAgICBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLFxuXHQgICAgICAgIG9uRGVzdHJveTogdGhpcy5vblJvd0Rlc3Ryb3ksXG5cdCAgICAgICAgaW5kZXg6IGksXG5cdCAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcblx0ICAgICAgICBleHBhbmRSb3dCeUNsaWNrOiBleHBhbmRSb3dCeUNsaWNrLFxuXHQgICAgICAgIG9uRXhwYW5kOiB0aGlzLm9uRXhwYW5kZWQsXG5cdCAgICAgICAgZXhwYW5kYWJsZTogY2hpbGRyZW5Db2x1bW4gfHwgZXhwYW5kZWRSb3dSZW5kZXIsXG5cdCAgICAgICAgZXhwYW5kZWQ6IGlzUm93RXhwYW5kZWQsXG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXJvdycsXG5cdCAgICAgICAgY2hpbGRyZW5Db2x1bW5OYW1lOiBjaGlsZHJlbkNvbHVtbk5hbWUsXG5cdCAgICAgICAgY29sdW1uczogbGVhZkNvbHVtbnMsXG5cdCAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBleHBhbmRJY29uQ29sdW1uSW5kZXgsXG5cdCAgICAgICAgb25Sb3dDbGljazogb25Sb3dDbGljayxcblx0ICAgICAgICBvblJvd0RvdWJsZUNsaWNrOiBvblJvd0RvdWJsZUNsaWNrLFxuXHQgICAgICAgIGhlaWdodDogaGVpZ2h0XG5cdCAgICAgIH0sIG9uSG92ZXJQcm9wcywge1xuXHQgICAgICAgIGtleToga2V5LFxuXHQgICAgICAgIGhvdmVyS2V5OiBrZXksXG5cdCAgICAgICAgcmVmOiByb3dSZWYocmVjb3JkLCBpLCBpbmRlbnQpLFxuXHQgICAgICAgIHN0b3JlOiB0aGlzLnN0b3JlXG5cdCAgICAgIH0pKSk7XG5cdFxuXHQgICAgICB2YXIgc3ViVmlzaWJsZSA9IHZpc2libGUgJiYgaXNSb3dFeHBhbmRlZDtcblx0XG5cdCAgICAgIGlmIChleHBhbmRlZFJvd0NvbnRlbnQgJiYgaXNSb3dFeHBhbmRlZCkge1xuXHQgICAgICAgIHJzdC5wdXNoKHRoaXMuZ2V0RXhwYW5kZWRSb3coa2V5LCBleHBhbmRlZFJvd0NvbnRlbnQsIHN1YlZpc2libGUsIGV4cGFuZGVkUm93Q2xhc3NOYW1lKHJlY29yZCwgaSwgaW5kZW50KSwgZml4ZWQpKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoY2hpbGRyZW5Db2x1bW4pIHtcblx0ICAgICAgICByc3QgPSByc3QuY29uY2F0KHRoaXMuZ2V0Um93c0J5RGF0YShjaGlsZHJlbkNvbHVtbiwgc3ViVmlzaWJsZSwgaW5kZW50ICsgMSwgY29sdW1ucywgZml4ZWQpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJzdDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93cyA9IGZ1bmN0aW9uIGdldFJvd3MoY29sdW1ucywgZml4ZWQpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldFJvd3NCeURhdGEodGhpcy5wcm9wcy5kYXRhLCB0cnVlLCAwLCBjb2x1bW5zLCBmaXhlZCk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldENvbEdyb3VwID0gZnVuY3Rpb24gZ2V0Q29sR3JvdXAoY29sdW1ucywgZml4ZWQpIHtcblx0ICAgIHZhciBjb2xzID0gW107XG5cdCAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG5cdCAgICAgIGNvbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdjb2wnLCB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctZXhwYW5kLWljb24tY29sJyxcblx0ICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jb2wnXG5cdCAgICAgIH0pKTtcblx0ICAgIH1cblx0ICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcblx0ICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG5cdCAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuXHQgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuXHQgICAgfVxuXHQgICAgY29scyA9IGNvbHMuY29uY2F0KGxlYWZDb2x1bW5zLm1hcChmdW5jdGlvbiAoYykge1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywgeyBrZXk6IGMua2V5LCBzdHlsZTogeyB3aWR0aDogYy53aWR0aCwgbWluV2lkdGg6IGMud2lkdGggfSB9KTtcblx0ICAgIH0pKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnY29sZ3JvdXAnLFxuXHQgICAgICBudWxsLFxuXHQgICAgICBjb2xzXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5nZXRMZWZ0Rml4ZWRUYWJsZSA9IGZ1bmN0aW9uIGdldExlZnRGaXhlZFRhYmxlKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoe1xuXHQgICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdENvbHVtbnMoKSxcblx0ICAgICAgZml4ZWQ6ICdsZWZ0J1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFJpZ2h0Rml4ZWRUYWJsZSA9IGZ1bmN0aW9uIGdldFJpZ2h0Rml4ZWRUYWJsZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcblx0ICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0Q29sdW1ucygpLFxuXHQgICAgICBmaXhlZDogJ3JpZ2h0J1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFRhYmxlID0gZnVuY3Rpb24gZ2V0VGFibGUoKSB7XG5cdCAgICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cdCAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucyxcblx0ICAgICAgICBmaXhlZCA9IG9wdGlvbnMuZml4ZWQ7XG5cdCAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG5cdCAgICAgICAgX3Byb3BzMyRzY3JvbGwgPSBfcHJvcHMzLnNjcm9sbCxcblx0ICAgICAgICBzY3JvbGwgPSBfcHJvcHMzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMzJHNjcm9sbCxcblx0ICAgICAgICBnZXRCb2R5V3JhcHBlciA9IF9wcm9wczMuZ2V0Qm9keVdyYXBwZXI7XG5cdCAgICB2YXIgdXNlRml4ZWRIZWFkZXIgPSB0aGlzLnByb3BzLnVzZUZpeGVkSGVhZGVyO1xuXHRcblx0ICAgIHZhciBib2R5U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5ib2R5U3R5bGUpO1xuXHQgICAgdmFyIGhlYWRTdHlsZSA9IHt9O1xuXHRcblx0ICAgIHZhciB0YWJsZUNsYXNzTmFtZSA9ICcnO1xuXHQgICAgaWYgKHNjcm9sbC54IHx8IGZpeGVkKSB7XG5cdCAgICAgIHRhYmxlQ2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1maXhlZCc7XG5cdCAgICAgIGJvZHlTdHlsZS5vdmVyZmxvd1ggPSBib2R5U3R5bGUub3ZlcmZsb3dYIHx8ICdhdXRvJztcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgaW5uZXJCb2R5U3R5bGUgPSB7fTtcblx0ICAgIGlmIChzY3JvbGwueSkge1xuXHQgICAgICAvLyBtYXhIZWlnaHQgd2lsbCBtYWtlIGZpeGVkLVRhYmxlIHNjcm9sbGluZyBub3Qgd29ya2luZ1xuXHQgICAgICAvLyBzbyB3ZSBvbmx5IHNldCBtYXhIZWlnaHQgdG8gYm9keS1UYWJsZSBoZXJlXG5cdCAgICAgIGlmIChmaXhlZCkge1xuXHQgICAgICAgIGlubmVyQm9keVN0eWxlLm1heEhlaWdodCA9IGJvZHlTdHlsZS5tYXhIZWlnaHQgfHwgc2Nyb2xsLnk7XG5cdCAgICAgICAgaW5uZXJCb2R5U3R5bGUub3ZlcmZsb3dZID0gYm9keVN0eWxlLm92ZXJmbG93WSB8fCAnc2Nyb2xsJztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBib2R5U3R5bGUubWF4SGVpZ2h0ID0gYm9keVN0eWxlLm1heEhlaWdodCB8fCBzY3JvbGwueTtcblx0ICAgICAgfVxuXHQgICAgICBib2R5U3R5bGUub3ZlcmZsb3dZID0gYm9keVN0eWxlLm92ZXJmbG93WSB8fCAnc2Nyb2xsJztcblx0ICAgICAgdXNlRml4ZWRIZWFkZXIgPSB0cnVlO1xuXHRcblx0ICAgICAgLy8gQWRkIG5lZ2F0aXZlIG1hcmdpbiBib3R0b20gZm9yIHNjcm9sbCBiYXIgb3ZlcmZsb3cgYnVnXG5cdCAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9ICgwLCBfdXRpbHMubWVhc3VyZVNjcm9sbGJhcikoKTtcblx0ICAgICAgaWYgKHNjcm9sbGJhcldpZHRoID4gMCkge1xuXHQgICAgICAgIChmaXhlZCA/IGJvZHlTdHlsZSA6IGhlYWRTdHlsZSkubWFyZ2luQm90dG9tID0gJy0nICsgc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuXHQgICAgICAgIChmaXhlZCA/IGJvZHlTdHlsZSA6IGhlYWRTdHlsZSkucGFkZGluZ0JvdHRvbSA9ICcwcHgnO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJlbmRlclRhYmxlID0gZnVuY3Rpb24gcmVuZGVyVGFibGUoKSB7XG5cdCAgICAgIHZhciBoYXNIZWFkID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXHQgICAgICB2YXIgaGFzQm9keSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblx0XG5cdCAgICAgIHZhciB0YWJsZVN0eWxlID0ge307XG5cdCAgICAgIGlmICghZml4ZWQgJiYgc2Nyb2xsLngpIHtcblx0ICAgICAgICAvLyBub3Qgc2V0IHdpZHRoLCB0aGVuIHVzZSBjb250ZW50IGZpeGVkIHdpZHRoXG5cdCAgICAgICAgaWYgKHNjcm9sbC54ID09PSB0cnVlKSB7XG5cdCAgICAgICAgICB0YWJsZVN0eWxlLnRhYmxlTGF5b3V0ID0gJ2ZpeGVkJztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGFibGVTdHlsZS53aWR0aCA9IHNjcm9sbC54O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICB2YXIgdGFibGVCb2R5ID0gaGFzQm9keSA/IGdldEJvZHlXcmFwcGVyKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcblx0ICAgICAgICBfdGhpczMuZ2V0Um93cyhjb2x1bW5zLCBmaXhlZClcblx0ICAgICAgKSkgOiBudWxsO1xuXHQgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGFibGUnLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiB0YWJsZUNsYXNzTmFtZSwgc3R5bGU6IHRhYmxlU3R5bGUsIGtleTogJ3RhYmxlJyB9LFxuXHQgICAgICAgIF90aGlzMy5nZXRDb2xHcm91cChjb2x1bW5zLCBmaXhlZCksXG5cdCAgICAgICAgaGFzSGVhZCA/IF90aGlzMy5nZXRIZWFkZXIoY29sdW1ucywgZml4ZWQpIDogbnVsbCxcblx0ICAgICAgICB0YWJsZUJvZHlcblx0ICAgICAgKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIGhlYWRUYWJsZSA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAodXNlRml4ZWRIZWFkZXIpIHtcblx0ICAgICAgaGVhZFRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBrZXk6ICdoZWFkVGFibGUnLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicsXG5cdCAgICAgICAgICByZWY6IGZpeGVkID8gbnVsbCA6ICdoZWFkVGFibGUnLFxuXHQgICAgICAgICAgc3R5bGU6IGhlYWRTdHlsZSxcblx0ICAgICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcblx0ICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG5cdCAgICAgICAgfSxcblx0ICAgICAgICByZW5kZXJUYWJsZSh0cnVlLCBmYWxzZSlcblx0ICAgICAgKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5Jyxcblx0ICAgICAgICBzdHlsZTogYm9keVN0eWxlLFxuXHQgICAgICAgIHJlZjogJ2JvZHlUYWJsZScsXG5cdCAgICAgICAgb25Nb3VzZU92ZXI6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuXHQgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuXHQgICAgICB9LFxuXHQgICAgICByZW5kZXJUYWJsZSghdXNlRml4ZWRIZWFkZXIpXG5cdCAgICApO1xuXHRcblx0ICAgIGlmIChmaXhlZCAmJiBjb2x1bW5zLmxlbmd0aCkge1xuXHQgICAgICB2YXIgcmVmTmFtZSA9IHZvaWQgMDtcblx0ICAgICAgaWYgKGNvbHVtbnNbMF0uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW5zWzBdLmZpeGVkID09PSB0cnVlKSB7XG5cdCAgICAgICAgcmVmTmFtZSA9ICdmaXhlZENvbHVtbnNCb2R5TGVmdCc7XG5cdCAgICAgIH0gZWxzZSBpZiAoY29sdW1uc1swXS5maXhlZCA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgICAgIHJlZk5hbWUgPSAnZml4ZWRDb2x1bW5zQm9keVJpZ2h0Jztcblx0ICAgICAgfVxuXHQgICAgICBkZWxldGUgYm9keVN0eWxlLm92ZXJmbG93WDtcblx0ICAgICAgZGVsZXRlIGJvZHlTdHlsZS5vdmVyZmxvd1k7XG5cdCAgICAgIGJvZHlUYWJsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAga2V5OiAnYm9keVRhYmxlJyxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LW91dGVyJyxcblx0ICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgYm9keVN0eWxlKVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1pbm5lcicsXG5cdCAgICAgICAgICAgIHN0eWxlOiBpbm5lckJvZHlTdHlsZSxcblx0ICAgICAgICAgICAgcmVmOiByZWZOYW1lLFxuXHQgICAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgICAgIG9uVG91Y2hTdGFydDogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG5cdCAgICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLmhhbmRsZUJvZHlTY3JvbGxcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICByZW5kZXJUYWJsZSghdXNlRml4ZWRIZWFkZXIpXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIFtoZWFkVGFibGUsIGJvZHlUYWJsZV07XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gZ2V0VGl0bGUoKSB7XG5cdCAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgdGl0bGUgPSBfcHJvcHM0LnRpdGxlLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczQucHJlZml4Q2xzO1xuXHRcblx0ICAgIHJldHVybiB0aXRsZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScsIGtleTogJ3RpdGxlJyB9LFxuXHQgICAgICB0aXRsZSh0aGlzLnByb3BzLmRhdGEpXG5cdCAgICApIDogbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0Rm9vdGVyID0gZnVuY3Rpb24gZ2V0Rm9vdGVyKCkge1xuXHQgICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGZvb3RlciA9IF9wcm9wczUuZm9vdGVyLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczUucHJlZml4Q2xzO1xuXHRcblx0ICAgIHJldHVybiBmb290ZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJywga2V5OiAnZm9vdGVyJyB9LFxuXHQgICAgICBmb290ZXIodGhpcy5wcm9wcy5kYXRhKVxuXHQgICAgKSA6IG51bGw7XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmdldEVtcHR5VGV4dCA9IGZ1bmN0aW9uIGdldEVtcHR5VGV4dCgpIHtcblx0ICAgIHZhciBfcHJvcHM2ID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBlbXB0eVRleHQgPSBfcHJvcHM2LmVtcHR5VGV4dCxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM2LnByZWZpeENscyxcblx0ICAgICAgICBkYXRhID0gX3Byb3BzNi5kYXRhO1xuXHRcblx0ICAgIHJldHVybiAhZGF0YS5sZW5ndGggPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGxhY2Vob2xkZXInLCBrZXk6ICdlbXB0eVRleHQnIH0sXG5cdCAgICAgIGVtcHR5VGV4dCgpXG5cdCAgICApIDogbnVsbDtcblx0ICB9O1xuXHRcblx0ICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93U3R5bGUgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dTdHlsZShjb2x1bW5zLCByb3dzKSB7XG5cdCAgICB2YXIgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQgPSB0aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0O1xuXHRcblx0ICAgIHZhciBoZWFkZXJIZWlnaHQgPSBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodFswXTtcblx0ICAgIGlmIChoZWFkZXJIZWlnaHQgJiYgY29sdW1ucykge1xuXHQgICAgICBpZiAoaGVhZGVySGVpZ2h0ID09PSAnYXV0bycpIHtcblx0ICAgICAgICByZXR1cm4geyBoZWlnaHQ6ICdhdXRvJyB9O1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB7IGhlaWdodDogaGVhZGVySGVpZ2h0IC8gcm93cy5sZW5ndGggfTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5zZXRTY3JvbGxQb3NpdGlvbiA9IGZ1bmN0aW9uIHNldFNjcm9sbFBvc2l0aW9uKHBvc2l0aW9uKSB7XG5cdCAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gcG9zaXRpb247XG5cdCAgICBpZiAodGhpcy50YWJsZU5vZGUpIHtcblx0ICAgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuXHRcblx0ICAgICAgaWYgKHBvc2l0aW9uID09PSAnYm90aCcpIHtcblx0ICAgICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkodGhpcy50YWJsZU5vZGUpLnJlbW92ZShuZXcgUmVnRXhwKCdeJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLS4rJCcpKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tbGVmdCcpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi1yaWdodCcpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRhYmxlTm9kZSkucmVtb3ZlKG5ldyBSZWdFeHAoJ14nICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tLiskJykpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgcG9zaXRpb24pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lID0gZnVuY3Rpb24gc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUodGFyZ2V0KSB7XG5cdCAgICB2YXIgbm9kZSA9IHRhcmdldCB8fCB0aGlzLnJlZnMuYm9keVRhYmxlO1xuXHQgICAgdmFyIHNjcm9sbFRvTGVmdCA9IG5vZGUuc2Nyb2xsTGVmdCA9PT0gMDtcblx0ICAgIHZhciBzY3JvbGxUb1JpZ2h0ID0gbm9kZS5zY3JvbGxMZWZ0ICsgMSA+PSBub2RlLmNoaWxkcmVuWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcblx0ICAgIGlmIChzY3JvbGxUb0xlZnQgJiYgc2Nyb2xsVG9SaWdodCkge1xuXHQgICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdib3RoJyk7XG5cdCAgICB9IGVsc2UgaWYgKHNjcm9sbFRvTGVmdCkge1xuXHQgICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdsZWZ0Jyk7XG5cdCAgICB9IGVsc2UgaWYgKHNjcm9sbFRvUmlnaHQpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbigncmlnaHQnKTtcblx0ICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiAhPT0gJ21pZGRsZScpIHtcblx0ICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbWlkZGxlJyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLnJlc2V0U2Nyb2xsWCA9IGZ1bmN0aW9uIHJlc2V0U2Nyb2xsWCgpIHtcblx0ICAgIGlmICh0aGlzLnJlZnMuaGVhZFRhYmxlKSB7XG5cdCAgICAgIHRoaXMucmVmcy5oZWFkVGFibGUuc2Nyb2xsTGVmdCA9IDA7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5yZWZzLmJvZHlUYWJsZSkge1xuXHQgICAgICB0aGlzLnJlZnMuYm9keVRhYmxlLnNjcm9sbExlZnQgPSAwO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5maW5kRXhwYW5kZWRSb3cgPSBmdW5jdGlvbiBmaW5kRXhwYW5kZWRSb3cocmVjb3JkLCBpbmRleCkge1xuXHQgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHJvd3MgPSB0aGlzLmdldEV4cGFuZGVkUm93cygpLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuXHQgICAgICByZXR1cm4gaSA9PT0gX3RoaXM0LmdldFJvd0tleShyZWNvcmQsIGluZGV4KTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIHJvd3NbMF07XG5cdCAgfTtcblx0XG5cdCAgVGFibGUucHJvdG90eXBlLmlzUm93RXhwYW5kZWQgPSBmdW5jdGlvbiBpc1Jvd0V4cGFuZGVkKHJlY29yZCwgaW5kZXgpIHtcblx0ICAgIHJldHVybiB0eXBlb2YgdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkLCBpbmRleCkgIT09ICd1bmRlZmluZWQnO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5oYXNTY3JvbGxYID0gZnVuY3Rpb24gaGFzU2Nyb2xsWCgpIHtcblx0ICAgIHZhciBfcHJvcHMkc2Nyb2xsID0gdGhpcy5wcm9wcy5zY3JvbGwsXG5cdCAgICAgICAgc2Nyb2xsID0gX3Byb3BzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkc2Nyb2xsO1xuXHRcblx0ICAgIHJldHVybiAneCcgaW4gc2Nyb2xsO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuXHQgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgfVxuXHQgICAgaWYgKHByb3BzLnVzZUZpeGVkSGVhZGVyIHx8IHByb3BzLnNjcm9sbCAmJiBwcm9wcy5zY3JvbGwueSkge1xuXHQgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1maXhlZC1oZWFkZXInO1xuXHQgICAgfVxuXHQgICAgaWYgKHRoaXMuc2Nyb2xsUG9zaXRpb24gPT09ICdib3RoJykge1xuXHQgICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tbGVmdCAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLScgKyB0aGlzLnNjcm9sbFBvc2l0aW9uO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpc1RhYmxlU2Nyb2xsID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkgfHwgcHJvcHMuc2Nyb2xsLnggfHwgcHJvcHMuc2Nyb2xsLnk7XG5cdFxuXHQgICAgdmFyIGNvbnRlbnQgPSBbdGhpcy5nZXRUYWJsZSh7IGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5ncm91cGVkQ29sdW1ucygpIH0pLCB0aGlzLmdldEVtcHR5VGV4dCgpLCB0aGlzLmdldEZvb3RlcigpXTtcblx0XG5cdCAgICB2YXIgc2Nyb2xsVGFibGUgPSBpc1RhYmxlU2Nyb2xsID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNjcm9sbCcgfSxcblx0ICAgICAgY29udGVudFxuXHQgICAgKSA6IGNvbnRlbnQ7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcblx0ICAgICAgICAgIHJldHVybiBfdGhpczUudGFibGVOb2RlID0gbm9kZTtcblx0ICAgICAgICB9LCBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHByb3BzLnN0eWxlIH0sXG5cdCAgICAgIHRoaXMuZ2V0VGl0bGUoKSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb250ZW50JyB9LFxuXHQgICAgICAgIHNjcm9sbFRhYmxlLFxuXHQgICAgICAgIHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNMZWZ0Rml4ZWQoKSAmJiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1sZWZ0JyB9LFxuXHQgICAgICAgICAgdGhpcy5nZXRMZWZ0Rml4ZWRUYWJsZSgpXG5cdCAgICAgICAgKSxcblx0ICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWZpeGVkLXJpZ2h0JyB9LFxuXHQgICAgICAgICAgdGhpcy5nZXRSaWdodEZpeGVkVGFibGUoKVxuXHQgICAgICAgIClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGU7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlLnByb3BUeXBlcyA9IHtcblx0ICBkYXRhOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIGV4cGFuZEljb25Bc0NlbGw6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBkZWZhdWx0RXhwYW5kQWxsUm93czogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGV4cGFuZGVkUm93S2V5czogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICBkZWZhdWx0RXhwYW5kZWRSb3dLZXlzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgIHVzZUZpeGVkSGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgY29sdW1uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGJvZHlTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHJvd0tleTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNdKSxcblx0ICByb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBleHBhbmRlZFJvd0NsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGNoaWxkcmVuQ29sdW1uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvbkV4cGFuZGVkUm93c0NoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIG9uUm93Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgZXhwYW5kSWNvbkNvbHVtbkluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBzaG93SGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgdGl0bGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBmb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBlbXB0eVRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBzY3JvbGw6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIHJvd1JlZjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGdldEJvZHlXcmFwcGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxuXHR9O1xuXHRUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgZGF0YTogW10sXG5cdCAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuXHQgIGV4cGFuZEljb25Bc0NlbGw6IGZhbHNlLFxuXHQgIGRlZmF1bHRFeHBhbmRBbGxSb3dzOiBmYWxzZSxcblx0ICBkZWZhdWx0RXhwYW5kZWRSb3dLZXlzOiBbXSxcblx0ICByb3dLZXk6ICdrZXknLFxuXHQgIHJvd0NsYXNzTmFtZTogZnVuY3Rpb24gcm93Q2xhc3NOYW1lKCkge1xuXHQgICAgcmV0dXJuICcnO1xuXHQgIH0sXG5cdCAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IGZ1bmN0aW9uIGV4cGFuZGVkUm93Q2xhc3NOYW1lKCkge1xuXHQgICAgcmV0dXJuICcnO1xuXHQgIH0sXG5cdCAgb25FeHBhbmQ6IGZ1bmN0aW9uIG9uRXhwYW5kKCkge30sXG5cdCAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IGZ1bmN0aW9uIG9uRXhwYW5kZWRSb3dzQ2hhbmdlKCkge30sXG5cdCAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljaygpIHt9LFxuXHQgIG9uUm93RG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uUm93RG91YmxlQ2xpY2soKSB7fSxcblx0XG5cdCAgcHJlZml4Q2xzOiAncmMtdGFibGUnLFxuXHQgIGJvZHlTdHlsZToge30sXG5cdCAgc3R5bGU6IHt9LFxuXHQgIGNoaWxkcmVuQ29sdW1uTmFtZTogJ2NoaWxkcmVuJyxcblx0ICBpbmRlbnRTaXplOiAxNSxcblx0ICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IDAsXG5cdCAgc2hvd0hlYWRlcjogdHJ1ZSxcblx0ICBzY3JvbGw6IHt9LFxuXHQgIHJvd1JlZjogZnVuY3Rpb24gcm93UmVmKCkge1xuXHQgICAgcmV0dXJuIG51bGw7XG5cdCAgfSxcblx0ICBnZXRCb2R5V3JhcHBlcjogZnVuY3Rpb24gZ2V0Qm9keVdyYXBwZXIoYm9keSkge1xuXHQgICAgcmV0dXJuIGJvZHk7XG5cdCAgfSxcblx0ICBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcblx0ICAgIHJldHVybiAnTm8gRGF0YSc7XG5cdCAgfVxuXHR9O1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9sb2Rhc2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBUYWJsZUNlbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgIF9pbmhlcml0cyhUYWJsZUNlbGwsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZUNlbGwoKSB7XG5cdCAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXHRcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUNlbGwpO1xuXHRcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wcy5yZWNvcmQsXG5cdCAgICAgICAgICBvbkNlbGxDbGljayA9IF90aGlzJHByb3BzLmNvbHVtbi5vbkNlbGxDbGljaztcblx0XG5cdCAgICAgIGlmIChvbkNlbGxDbGljaykge1xuXHQgICAgICAgIG9uQ2VsbENsaWNrKHJlY29yZCwgZSk7XG5cdCAgICAgIH1cblx0ICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuXHQgIH1cblx0XG5cdCAgVGFibGVDZWxsLnByb3RvdHlwZS5pc0ludmFsaWRSZW5kZXJDZWxsVGV4dCA9IGZ1bmN0aW9uIGlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpIHtcblx0ICAgIHJldHVybiB0ZXh0ICYmICFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudCh0ZXh0KSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuXHQgIH07XG5cdFxuXHQgIFRhYmxlQ2VsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcmVjb3JkID0gX3Byb3BzLnJlY29yZCxcblx0ICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzLmluZGVudFNpemUsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICBpbmRlbnQgPSBfcHJvcHMuaW5kZW50LFxuXHQgICAgICAgIGluZGV4ID0gX3Byb3BzLmluZGV4LFxuXHQgICAgICAgIGV4cGFuZEljb24gPSBfcHJvcHMuZXhwYW5kSWNvbixcblx0ICAgICAgICBjb2x1bW4gPSBfcHJvcHMuY29sdW1uO1xuXHQgICAgdmFyIGRhdGFJbmRleCA9IGNvbHVtbi5kYXRhSW5kZXgsXG5cdCAgICAgICAgcmVuZGVyID0gY29sdW1uLnJlbmRlcixcblx0ICAgICAgICBfY29sdW1uJGNsYXNzTmFtZSA9IGNvbHVtbi5jbGFzc05hbWUsXG5cdCAgICAgICAgY2xhc3NOYW1lID0gX2NvbHVtbiRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX2NvbHVtbiRjbGFzc05hbWU7XG5cdFxuXHQgICAgLy8gV2Ugc2hvdWxkIHJldHVybiB1bmRlZmluZWQgaWYgbm8gZGF0YUluZGV4IGlzIHNwZWNpZmllZCwgYnV0IGluIG9yZGVyIHRvXG5cdCAgICAvLyBiZSBjb21wYXRpYmxlIHdpdGggb2JqZWN0LXBhdGgncyBiZWhhdmlvciwgd2UgcmV0dXJuIHRoZSByZWNvcmQgb2JqZWN0IGluc3RlYWQuXG5cdFxuXHQgICAgdmFyIHRleHQgPSB2b2lkIDA7XG5cdCAgICBpZiAodHlwZW9mIGRhdGFJbmRleCA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgdGV4dCA9ICgwLCBfbG9kYXNoMltcImRlZmF1bHRcIl0pKHJlY29yZCwgZGF0YUluZGV4KTtcblx0ICAgIH0gZWxzZSBpZiAoIWRhdGFJbmRleCB8fCBkYXRhSW5kZXgubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgIHRleHQgPSByZWNvcmQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0ZXh0ID0gKDAsIF9sb2Rhc2gyW1wiZGVmYXVsdFwiXSkocmVjb3JkLCBkYXRhSW5kZXgpO1xuXHQgICAgfVxuXHQgICAgdmFyIHRkUHJvcHMgPSB2b2lkIDA7XG5cdCAgICB2YXIgY29sU3BhbiA9IHZvaWQgMDtcblx0ICAgIHZhciByb3dTcGFuID0gdm9pZCAwO1xuXHRcblx0ICAgIGlmIChyZW5kZXIpIHtcblx0ICAgICAgdGV4dCA9IHJlbmRlcih0ZXh0LCByZWNvcmQsIGluZGV4KTtcblx0ICAgICAgaWYgKHRoaXMuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkpIHtcblx0ICAgICAgICB0ZFByb3BzID0gdGV4dC5wcm9wcyB8fCB7fTtcblx0ICAgICAgICByb3dTcGFuID0gdGRQcm9wcy5yb3dTcGFuO1xuXHQgICAgICAgIGNvbFNwYW4gPSB0ZFByb3BzLmNvbFNwYW47XG5cdCAgICAgICAgdGV4dCA9IHRleHQuY2hpbGRyZW47XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBGaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTIwMlxuXHQgICAgaWYgKHRoaXMuaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkpIHtcblx0ICAgICAgdGV4dCA9IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGluZGVudFRleHQgPSBleHBhbmRJY29uID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcblx0ICAgICAgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IGluZGVudFNpemUgKiBpbmRlbnQgKyAncHgnIH0sXG5cdCAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbmRlbnQgaW5kZW50LWxldmVsLScgKyBpbmRlbnRcblx0ICAgIH0pIDogbnVsbDtcblx0XG5cdCAgICBpZiAocm93U3BhbiA9PT0gMCB8fCBjb2xTcGFuID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0ZCcsXG5cdCAgICAgIHtcblx0ICAgICAgICBjb2xTcGFuOiBjb2xTcGFuLFxuXHQgICAgICAgIHJvd1NwYW46IHJvd1NwYW4sXG5cdCAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG5cdCAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVDbGlja1xuXHQgICAgICB9LFxuXHQgICAgICBpbmRlbnRUZXh0LFxuXHQgICAgICBleHBhbmRJY29uLFxuXHQgICAgICB0ZXh0XG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBUYWJsZUNlbGw7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlQ2VsbC5wcm9wVHlwZXMgPSB7XG5cdCAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBpbmRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgIGNvbHVtbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgZXhwYW5kSWNvbjogX3JlYWN0LlByb3BUeXBlcy5ub2RlXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVDZWxsO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfc2hhbGxvd2VxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cdFxuXHR2YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblx0XG5cdHZhciBUYWJsZUhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFRhYmxlSGVhZGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gVGFibGVIZWFkZXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGVIZWFkZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgVGFibGVIZWFkZXIucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgIHJldHVybiAhKDAsIF9zaGFsbG93ZXF1YWwyW1wiZGVmYXVsdFwiXSkobmV4dFByb3BzLCB0aGlzLnByb3BzKTtcblx0ICB9O1xuXHRcblx0ICBUYWJsZUhlYWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcblx0ICAgICAgICByb3dTdHlsZSA9IF9wcm9wcy5yb3dTdHlsZSxcblx0ICAgICAgICByb3dzID0gX3Byb3BzLnJvd3M7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0aGVhZCcsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRoZWFkJyB9LFxuXHQgICAgICByb3dzLm1hcChmdW5jdGlvbiAocm93LCBpbmRleCkge1xuXHQgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RyJyxcblx0ICAgICAgICAgIHsga2V5OiBpbmRleCwgc3R5bGU6IHJvd1N0eWxlIH0sXG5cdCAgICAgICAgICByb3cubWFwKGZ1bmN0aW9uIChjZWxsUHJvcHMsIGkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3RoJywgX2V4dGVuZHMoe30sIGNlbGxQcm9wcywgeyBrZXk6IGkgfSkpO1xuXHQgICAgICAgICAgfSlcblx0ICAgICAgICApO1xuXHQgICAgICB9KVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVGFibGVIZWFkZXI7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdFRhYmxlSGVhZGVyLnByb3BUeXBlcyA9IHtcblx0ICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIHJvd1N0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICByb3dzOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1RhYmxlQ2VsbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KTtcblx0XG5cdHZhciBfVGFibGVDZWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlQ2VsbCk7XG5cdFxuXHR2YXIgX0V4cGFuZEljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyk7XG5cdFxuXHR2YXIgX0V4cGFuZEljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRXhwYW5kSWNvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0dmFyIFRhYmxlUm93ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICBfaW5oZXJpdHMoVGFibGVSb3csIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUYWJsZVJvdygpIHtcblx0ICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlUm93KTtcblx0XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgaG92ZXJlZDogZmFsc2Vcblx0ICAgIH0sIF90aGlzLm9uUm93Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wcy5yZWNvcmQsXG5cdCAgICAgICAgICBpbmRleCA9IF90aGlzJHByb3BzLmluZGV4LFxuXHQgICAgICAgICAgb25Sb3dDbGljayA9IF90aGlzJHByb3BzLm9uUm93Q2xpY2ssXG5cdCAgICAgICAgICBleHBhbmRhYmxlID0gX3RoaXMkcHJvcHMuZXhwYW5kYWJsZSxcblx0ICAgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfdGhpcyRwcm9wcy5leHBhbmRSb3dCeUNsaWNrLFxuXHQgICAgICAgICAgZXhwYW5kZWQgPSBfdGhpcyRwcm9wcy5leHBhbmRlZCxcblx0ICAgICAgICAgIG9uRXhwYW5kID0gX3RoaXMkcHJvcHMub25FeHBhbmQ7XG5cdFxuXHQgICAgICBpZiAoZXhwYW5kYWJsZSAmJiBleHBhbmRSb3dCeUNsaWNrKSB7XG5cdCAgICAgICAgb25FeHBhbmQoIWV4cGFuZGVkLCByZWNvcmQsIGV2ZW50LCBpbmRleCk7XG5cdCAgICAgIH1cblx0ICAgICAgb25Sb3dDbGljayhyZWNvcmQsIGluZGV4LCBldmVudCk7XG5cdCAgICB9LCBfdGhpcy5vblJvd0RvdWJsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcblx0ICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzMi5yZWNvcmQsXG5cdCAgICAgICAgICBpbmRleCA9IF90aGlzJHByb3BzMi5pbmRleCxcblx0ICAgICAgICAgIG9uUm93RG91YmxlQ2xpY2sgPSBfdGhpcyRwcm9wczIub25Sb3dEb3VibGVDbGljaztcblx0XG5cdCAgICAgIG9uUm93RG91YmxlQ2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuXHQgICAgfSwgX3RoaXMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICBvbkhvdmVyID0gX3RoaXMkcHJvcHMzLm9uSG92ZXIsXG5cdCAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzMy5ob3ZlcktleTtcblx0XG5cdCAgICAgIG9uSG92ZXIodHJ1ZSwgaG92ZXJLZXkpO1xuXHQgICAgfSwgX3RoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgICBvbkhvdmVyID0gX3RoaXMkcHJvcHM0Lm9uSG92ZXIsXG5cdCAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzNC5ob3ZlcktleTtcblx0XG5cdCAgICAgIG9uSG92ZXIoZmFsc2UsIGhvdmVyS2V5KTtcblx0ICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuXHQgIH1cblx0XG5cdCAgVGFibGVSb3cucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBzdG9yZSA9IF9wcm9wcy5zdG9yZSxcblx0ICAgICAgICBob3ZlcktleSA9IF9wcm9wcy5ob3ZlcktleTtcblx0XG5cdCAgICB0aGlzLnVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgaWYgKHN0b3JlLmdldFN0YXRlKCkuY3VycmVudEhvdmVyS2V5ID09PSBob3ZlcktleSkge1xuXHQgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IHRydWUgfSk7XG5cdCAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnN0YXRlLmhvdmVyZWQgPT09IHRydWUpIHtcblx0ICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBob3ZlcmVkOiBmYWxzZSB9KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgVGFibGVSb3cucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcmVjb3JkID0gX3Byb3BzMi5yZWNvcmQsXG5cdCAgICAgICAgb25EZXN0cm95ID0gX3Byb3BzMi5vbkRlc3Ryb3ksXG5cdCAgICAgICAgaW5kZXggPSBfcHJvcHMyLmluZGV4O1xuXHRcblx0ICAgIG9uRGVzdHJveShyZWNvcmQsIGluZGV4KTtcblx0ICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG5cdCAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBUYWJsZVJvdy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuXHQgICAgICAgIGNvbHVtbnMgPSBfcHJvcHMzLmNvbHVtbnMsXG5cdCAgICAgICAgcmVjb3JkID0gX3Byb3BzMy5yZWNvcmQsXG5cdCAgICAgICAgaGVpZ2h0ID0gX3Byb3BzMy5oZWlnaHQsXG5cdCAgICAgICAgdmlzaWJsZSA9IF9wcm9wczMudmlzaWJsZSxcblx0ICAgICAgICBpbmRleCA9IF9wcm9wczMuaW5kZXgsXG5cdCAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gX3Byb3BzMy5leHBhbmRJY29uQ29sdW1uSW5kZXgsXG5cdCAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczMuZXhwYW5kSWNvbkFzQ2VsbCxcblx0ICAgICAgICBleHBhbmRlZCA9IF9wcm9wczMuZXhwYW5kZWQsXG5cdCAgICAgICAgZXhwYW5kUm93QnlDbGljayA9IF9wcm9wczMuZXhwYW5kUm93QnlDbGljayxcblx0ICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzMy5leHBhbmRhYmxlLFxuXHQgICAgICAgIG9uRXhwYW5kID0gX3Byb3BzMy5vbkV4cGFuZCxcblx0ICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzMy5uZWVkSW5kZW50U3BhY2VkLFxuXHQgICAgICAgIGluZGVudCA9IF9wcm9wczMuaW5kZW50LFxuXHQgICAgICAgIGluZGVudFNpemUgPSBfcHJvcHMzLmluZGVudFNpemU7XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG5cdFxuXHRcblx0ICAgIGlmICh0aGlzLnN0YXRlLmhvdmVyZWQpIHtcblx0ICAgICAgY2xhc3NOYW1lICs9ICcgJyArIHByZWZpeENscyArICctaG92ZXInO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjZWxscyA9IFtdO1xuXHRcblx0ICAgIHZhciBleHBhbmRJY29uID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRXhwYW5kSWNvbjJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgIGV4cGFuZGFibGU6IGV4cGFuZGFibGUsXG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICBvbkV4cGFuZDogb25FeHBhbmQsXG5cdCAgICAgIG5lZWRJbmRlbnRTcGFjZWQ6IG5lZWRJbmRlbnRTcGFjZWQsXG5cdCAgICAgIGV4cGFuZGVkOiBleHBhbmRlZCxcblx0ICAgICAgcmVjb3JkOiByZWNvcmRcblx0ICAgIH0pO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkrKykge1xuXHQgICAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBpID09PSAwKSB7XG5cdCAgICAgICAgY2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uLWNlbGwnLFxuXHQgICAgICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jZWxsJ1xuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIGV4cGFuZEljb25cblx0ICAgICAgICApKTtcblx0ICAgICAgfVxuXHQgICAgICB2YXIgaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiA9IGV4cGFuZEljb25Bc0NlbGwgfHwgZXhwYW5kUm93QnlDbGljayA/IGZhbHNlIDogaSA9PT0gZXhwYW5kSWNvbkNvbHVtbkluZGV4O1xuXHQgICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlQ2VsbDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgcmVjb3JkOiByZWNvcmQsXG5cdCAgICAgICAgaW5kZW50U2l6ZTogaW5kZW50U2l6ZSxcblx0ICAgICAgICBpbmRlbnQ6IGluZGVudCxcblx0ICAgICAgICBpbmRleDogaW5kZXgsXG5cdCAgICAgICAgY29sdW1uOiBjb2x1bW5zW2ldLFxuXHQgICAgICAgIGtleTogY29sdW1uc1tpXS5rZXksXG5cdCAgICAgICAgZXhwYW5kSWNvbjogaXNDb2x1bW5IYXZlRXhwYW5kSWNvbiA/IGV4cGFuZEljb24gOiBudWxsXG5cdCAgICAgIH0pKTtcblx0ICAgIH1cblx0ICAgIHZhciBzdHlsZSA9IHsgaGVpZ2h0OiBoZWlnaHQgfTtcblx0ICAgIGlmICghdmlzaWJsZSkge1xuXHQgICAgICBzdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAndHInLFxuXHQgICAgICB7XG5cdCAgICAgICAgb25DbGljazogdGhpcy5vblJvd0NsaWNrLFxuXHQgICAgICAgIG9uRG91YmxlQ2xpY2s6IHRoaXMub25Sb3dEb3VibGVDbGljayxcblx0ICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLFxuXHQgICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcy5vbk1vdXNlTGVhdmUsXG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnICcgKyBjbGFzc05hbWUgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWxldmVsLScgKyBpbmRlbnQsXG5cdCAgICAgICAgc3R5bGU6IHN0eWxlXG5cdCAgICAgIH0sXG5cdCAgICAgIGNlbGxzXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBUYWJsZVJvdztcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0VGFibGVSb3cucHJvcFR5cGVzID0ge1xuXHQgIG9uRGVzdHJveTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG9uUm93Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBvblJvd0RvdWJsZUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgb25Ib3ZlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgaGVpZ2h0OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyXSksXG5cdCAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcblx0ICBob3ZlcktleTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgZXhwYW5kZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBleHBhbmRhYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgIGluZGVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdCAgZXhwYW5kSWNvbkFzQ2VsbDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgIGV4cGFuZFJvd0J5Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBzdG9yZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZFxuXHR9O1xuXHRUYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljaygpIHt9LFxuXHQgIG9uUm93RG91YmxlQ2xpY2s6IGZ1bmN0aW9uIG9uUm93RG91YmxlQ2xpY2soKSB7fSxcblx0ICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxuXHRcblx0ICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IDAsXG5cdCAgZXhwYW5kUm93QnlDbGljazogZmFsc2UsXG5cdCAgb25Ib3ZlcjogZnVuY3Rpb24gb25Ib3ZlcigpIHt9XG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVSb3c7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuXHQgIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblx0ICB2YXIgbGlzdGVuZXJzID0gW107XG5cdFxuXHQgIGZ1bmN0aW9uIHNldFN0YXRlKHBhcnRpYWwpIHtcblx0ICAgIHN0YXRlID0gX2V4dGVuZHMoe30sIHN0YXRlLCBwYXJ0aWFsKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGxpc3RlbmVyc1tpXSgpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgICByZXR1cm4gc3RhdGU7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcblx0ICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblx0XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG5cdCAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcblx0ICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICB9O1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHNldFN0YXRlOiBzZXRTdGF0ZSxcblx0ICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcblx0ICAgIHN1YnNjcmliZTogc3Vic2NyaWJlXG5cdCAgfTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMubWVhc3VyZVNjcm9sbGJhciA9IG1lYXN1cmVTY3JvbGxiYXI7XG5cdGV4cG9ydHMuZGVib3VuY2UgPSBkZWJvdW5jZTtcblx0ZXhwb3J0cy53YXJuaW5nT25jZSA9IHdhcm5pbmdPbmNlO1xuXHRcblx0dmFyIF93YXJuaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7XG5cdFxuXHR2YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBzY3JvbGxiYXJXaWR0aCA9IHZvaWQgMDtcblx0XG5cdC8vIE1lYXN1cmUgc2Nyb2xsYmFyIHdpZHRoIGZvciBwYWRkaW5nIGJvZHkgZHVyaW5nIG1vZGFsIHNob3cvaGlkZVxuXHR2YXIgc2Nyb2xsYmFyTWVhc3VyZSA9IHtcblx0ICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0ICB0b3A6ICctOTk5OXB4Jyxcblx0ICB3aWR0aDogJzUwcHgnLFxuXHQgIGhlaWdodDogJzUwcHgnLFxuXHQgIG92ZXJmbG93OiAnc2Nyb2xsJ1xuXHR9O1xuXHRcblx0ZnVuY3Rpb24gbWVhc3VyZVNjcm9sbGJhcigpIHtcblx0ICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuXHQgICAgcmV0dXJuIDA7XG5cdCAgfVxuXHQgIGlmIChzY3JvbGxiYXJXaWR0aCkge1xuXHQgICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xuXHQgIH1cblx0ICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgZm9yICh2YXIgc2Nyb2xsUHJvcCBpbiBzY3JvbGxiYXJNZWFzdXJlKSB7XG5cdCAgICBpZiAoc2Nyb2xsYmFyTWVhc3VyZS5oYXNPd25Qcm9wZXJ0eShzY3JvbGxQcm9wKSkge1xuXHQgICAgICBzY3JvbGxEaXYuc3R5bGVbc2Nyb2xsUHJvcF0gPSBzY3JvbGxiYXJNZWFzdXJlW3Njcm9sbFByb3BdO1xuXHQgICAgfVxuXHQgIH1cblx0ICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG5cdCAgdmFyIHdpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXHQgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblx0ICBzY3JvbGxiYXJXaWR0aCA9IHdpZHRoO1xuXHQgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG5cdCAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG5cdCAgZnVuY3Rpb24gZGVib3VuY2VGdW5jKCkge1xuXHQgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdCAgICAvLyBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmdcblx0ICAgIGlmIChhcmdzWzBdICYmIGFyZ3NbMF0ucGVyc2lzdCkge1xuXHQgICAgICBhcmdzWzBdLnBlcnNpc3QoKTtcblx0ICAgIH1cblx0ICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xuXHQgICAgICB0aW1lb3V0ID0gbnVsbDtcblx0ICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcblx0ICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG5cdCAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cdCAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG5cdCAgICBpZiAoY2FsbE5vdykge1xuXHQgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBkZWJvdW5jZUZ1bmMuY2FuY2VsID0gZnVuY3Rpb24gY2FuY2VsKCkge1xuXHQgICAgaWYgKHRpbWVvdXQpIHtcblx0ICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHQgICAgICB0aW1lb3V0ID0gbnVsbDtcblx0ICAgIH1cblx0ICB9O1xuXHQgIHJldHVybiBkZWJvdW5jZUZ1bmM7XG5cdH1cblx0XG5cdHZhciB3YXJuZWQgPSB7fTtcblx0ZnVuY3Rpb24gd2FybmluZ09uY2UoY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcblx0ICBpZiAoIXdhcm5lZFtmb3JtYXRdKSB7XG5cdCAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpO1xuXHQgICAgd2FybmVkW2Zvcm1hdF0gPSAhY29uZGl0aW9uO1xuXHQgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0b0FycmF5O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuXHQgIHZhciByZXQgPSBbXTtcblx0ICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuXHQgICAgcmV0LnB1c2goYyk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHJldDtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdC8qKlxuXHQgKiBAaWdub3JlXG5cdCAqIHNvbWUga2V5LWNvZGVzIGRlZmluaXRpb24gYW5kIHV0aWxzIGZyb20gY2xvc3VyZS1saWJyYXJ5XG5cdCAqIEBhdXRob3IgeWltaW5naGVAZ21haWwuY29tXG5cdCAqL1xuXHRcblx0dmFyIEtleUNvZGUgPSB7XG5cdCAgLyoqXG5cdCAgICogTUFDX0VOVEVSXG5cdCAgICovXG5cdCAgTUFDX0VOVEVSOiAzLFxuXHQgIC8qKlxuXHQgICAqIEJBQ0tTUEFDRVxuXHQgICAqL1xuXHQgIEJBQ0tTUEFDRTogOCxcblx0ICAvKipcblx0ICAgKiBUQUJcblx0ICAgKi9cblx0ICBUQUI6IDksXG5cdCAgLyoqXG5cdCAgICogTlVNTE9DSyBvbiBGRi9TYWZhcmkgTWFjXG5cdCAgICovXG5cdCAgTlVNX0NFTlRFUjogMTIsIC8vIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuXHQgIC8qKlxuXHQgICAqIEVOVEVSXG5cdCAgICovXG5cdCAgRU5URVI6IDEzLFxuXHQgIC8qKlxuXHQgICAqIFNISUZUXG5cdCAgICovXG5cdCAgU0hJRlQ6IDE2LFxuXHQgIC8qKlxuXHQgICAqIENUUkxcblx0ICAgKi9cblx0ICBDVFJMOiAxNyxcblx0ICAvKipcblx0ICAgKiBBTFRcblx0ICAgKi9cblx0ICBBTFQ6IDE4LFxuXHQgIC8qKlxuXHQgICAqIFBBVVNFXG5cdCAgICovXG5cdCAgUEFVU0U6IDE5LFxuXHQgIC8qKlxuXHQgICAqIENBUFNfTE9DS1xuXHQgICAqL1xuXHQgIENBUFNfTE9DSzogMjAsXG5cdCAgLyoqXG5cdCAgICogRVNDXG5cdCAgICovXG5cdCAgRVNDOiAyNyxcblx0ICAvKipcblx0ICAgKiBTUEFDRVxuXHQgICAqL1xuXHQgIFNQQUNFOiAzMixcblx0ICAvKipcblx0ICAgKiBQQUdFX1VQXG5cdCAgICovXG5cdCAgUEFHRV9VUDogMzMsIC8vIGFsc28gTlVNX05PUlRIX0VBU1Rcblx0ICAvKipcblx0ICAgKiBQQUdFX0RPV05cblx0ICAgKi9cblx0ICBQQUdFX0RPV046IDM0LCAvLyBhbHNvIE5VTV9TT1VUSF9FQVNUXG5cdCAgLyoqXG5cdCAgICogRU5EXG5cdCAgICovXG5cdCAgRU5EOiAzNSwgLy8gYWxzbyBOVU1fU09VVEhfV0VTVFxuXHQgIC8qKlxuXHQgICAqIEhPTUVcblx0ICAgKi9cblx0ICBIT01FOiAzNiwgLy8gYWxzbyBOVU1fTk9SVEhfV0VTVFxuXHQgIC8qKlxuXHQgICAqIExFRlRcblx0ICAgKi9cblx0ICBMRUZUOiAzNywgLy8gYWxzbyBOVU1fV0VTVFxuXHQgIC8qKlxuXHQgICAqIFVQXG5cdCAgICovXG5cdCAgVVA6IDM4LCAvLyBhbHNvIE5VTV9OT1JUSFxuXHQgIC8qKlxuXHQgICAqIFJJR0hUXG5cdCAgICovXG5cdCAgUklHSFQ6IDM5LCAvLyBhbHNvIE5VTV9FQVNUXG5cdCAgLyoqXG5cdCAgICogRE9XTlxuXHQgICAqL1xuXHQgIERPV046IDQwLCAvLyBhbHNvIE5VTV9TT1VUSFxuXHQgIC8qKlxuXHQgICAqIFBSSU5UX1NDUkVFTlxuXHQgICAqL1xuXHQgIFBSSU5UX1NDUkVFTjogNDQsXG5cdCAgLyoqXG5cdCAgICogSU5TRVJUXG5cdCAgICovXG5cdCAgSU5TRVJUOiA0NSwgLy8gYWxzbyBOVU1fSU5TRVJUXG5cdCAgLyoqXG5cdCAgICogREVMRVRFXG5cdCAgICovXG5cdCAgREVMRVRFOiA0NiwgLy8gYWxzbyBOVU1fREVMRVRFXG5cdCAgLyoqXG5cdCAgICogWkVST1xuXHQgICAqL1xuXHQgIFpFUk86IDQ4LFxuXHQgIC8qKlxuXHQgICAqIE9ORVxuXHQgICAqL1xuXHQgIE9ORTogNDksXG5cdCAgLyoqXG5cdCAgICogVFdPXG5cdCAgICovXG5cdCAgVFdPOiA1MCxcblx0ICAvKipcblx0ICAgKiBUSFJFRVxuXHQgICAqL1xuXHQgIFRIUkVFOiA1MSxcblx0ICAvKipcblx0ICAgKiBGT1VSXG5cdCAgICovXG5cdCAgRk9VUjogNTIsXG5cdCAgLyoqXG5cdCAgICogRklWRVxuXHQgICAqL1xuXHQgIEZJVkU6IDUzLFxuXHQgIC8qKlxuXHQgICAqIFNJWFxuXHQgICAqL1xuXHQgIFNJWDogNTQsXG5cdCAgLyoqXG5cdCAgICogU0VWRU5cblx0ICAgKi9cblx0ICBTRVZFTjogNTUsXG5cdCAgLyoqXG5cdCAgICogRUlHSFRcblx0ICAgKi9cblx0ICBFSUdIVDogNTYsXG5cdCAgLyoqXG5cdCAgICogTklORVxuXHQgICAqL1xuXHQgIE5JTkU6IDU3LFxuXHQgIC8qKlxuXHQgICAqIFFVRVNUSU9OX01BUktcblx0ICAgKi9cblx0ICBRVUVTVElPTl9NQVJLOiA2MywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQVxuXHQgICAqL1xuXHQgIEE6IDY1LFxuXHQgIC8qKlxuXHQgICAqIEJcblx0ICAgKi9cblx0ICBCOiA2Nixcblx0ICAvKipcblx0ICAgKiBDXG5cdCAgICovXG5cdCAgQzogNjcsXG5cdCAgLyoqXG5cdCAgICogRFxuXHQgICAqL1xuXHQgIEQ6IDY4LFxuXHQgIC8qKlxuXHQgICAqIEVcblx0ICAgKi9cblx0ICBFOiA2OSxcblx0ICAvKipcblx0ICAgKiBGXG5cdCAgICovXG5cdCAgRjogNzAsXG5cdCAgLyoqXG5cdCAgICogR1xuXHQgICAqL1xuXHQgIEc6IDcxLFxuXHQgIC8qKlxuXHQgICAqIEhcblx0ICAgKi9cblx0ICBIOiA3Mixcblx0ICAvKipcblx0ICAgKiBJXG5cdCAgICovXG5cdCAgSTogNzMsXG5cdCAgLyoqXG5cdCAgICogSlxuXHQgICAqL1xuXHQgIEo6IDc0LFxuXHQgIC8qKlxuXHQgICAqIEtcblx0ICAgKi9cblx0ICBLOiA3NSxcblx0ICAvKipcblx0ICAgKiBMXG5cdCAgICovXG5cdCAgTDogNzYsXG5cdCAgLyoqXG5cdCAgICogTVxuXHQgICAqL1xuXHQgIE06IDc3LFxuXHQgIC8qKlxuXHQgICAqIE5cblx0ICAgKi9cblx0ICBOOiA3OCxcblx0ICAvKipcblx0ICAgKiBPXG5cdCAgICovXG5cdCAgTzogNzksXG5cdCAgLyoqXG5cdCAgICogUFxuXHQgICAqL1xuXHQgIFA6IDgwLFxuXHQgIC8qKlxuXHQgICAqIFFcblx0ICAgKi9cblx0ICBROiA4MSxcblx0ICAvKipcblx0ICAgKiBSXG5cdCAgICovXG5cdCAgUjogODIsXG5cdCAgLyoqXG5cdCAgICogU1xuXHQgICAqL1xuXHQgIFM6IDgzLFxuXHQgIC8qKlxuXHQgICAqIFRcblx0ICAgKi9cblx0ICBUOiA4NCxcblx0ICAvKipcblx0ICAgKiBVXG5cdCAgICovXG5cdCAgVTogODUsXG5cdCAgLyoqXG5cdCAgICogVlxuXHQgICAqL1xuXHQgIFY6IDg2LFxuXHQgIC8qKlxuXHQgICAqIFdcblx0ICAgKi9cblx0ICBXOiA4Nyxcblx0ICAvKipcblx0ICAgKiBYXG5cdCAgICovXG5cdCAgWDogODgsXG5cdCAgLyoqXG5cdCAgICogWVxuXHQgICAqL1xuXHQgIFk6IDg5LFxuXHQgIC8qKlxuXHQgICAqIFpcblx0ICAgKi9cblx0ICBaOiA5MCxcblx0ICAvKipcblx0ICAgKiBNRVRBXG5cdCAgICovXG5cdCAgTUVUQTogOTEsIC8vIFdJTl9LRVlfTEVGVFxuXHQgIC8qKlxuXHQgICAqIFdJTl9LRVlfUklHSFRcblx0ICAgKi9cblx0ICBXSU5fS0VZX1JJR0hUOiA5Mixcblx0ICAvKipcblx0ICAgKiBDT05URVhUX01FTlVcblx0ICAgKi9cblx0ICBDT05URVhUX01FTlU6IDkzLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9aRVJPXG5cdCAgICovXG5cdCAgTlVNX1pFUk86IDk2LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9PTkVcblx0ICAgKi9cblx0ICBOVU1fT05FOiA5Nyxcblx0ICAvKipcblx0ICAgKiBOVU1fVFdPXG5cdCAgICovXG5cdCAgTlVNX1RXTzogOTgsXG5cdCAgLyoqXG5cdCAgICogTlVNX1RIUkVFXG5cdCAgICovXG5cdCAgTlVNX1RIUkVFOiA5OSxcblx0ICAvKipcblx0ICAgKiBOVU1fRk9VUlxuXHQgICAqL1xuXHQgIE5VTV9GT1VSOiAxMDAsXG5cdCAgLyoqXG5cdCAgICogTlVNX0ZJVkVcblx0ICAgKi9cblx0ICBOVU1fRklWRTogMTAxLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9TSVhcblx0ICAgKi9cblx0ICBOVU1fU0lYOiAxMDIsXG5cdCAgLyoqXG5cdCAgICogTlVNX1NFVkVOXG5cdCAgICovXG5cdCAgTlVNX1NFVkVOOiAxMDMsXG5cdCAgLyoqXG5cdCAgICogTlVNX0VJR0hUXG5cdCAgICovXG5cdCAgTlVNX0VJR0hUOiAxMDQsXG5cdCAgLyoqXG5cdCAgICogTlVNX05JTkVcblx0ICAgKi9cblx0ICBOVU1fTklORTogMTA1LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9NVUxUSVBMWVxuXHQgICAqL1xuXHQgIE5VTV9NVUxUSVBMWTogMTA2LFxuXHQgIC8qKlxuXHQgICAqIE5VTV9QTFVTXG5cdCAgICovXG5cdCAgTlVNX1BMVVM6IDEwNyxcblx0ICAvKipcblx0ICAgKiBOVU1fTUlOVVNcblx0ICAgKi9cblx0ICBOVU1fTUlOVVM6IDEwOSxcblx0ICAvKipcblx0ICAgKiBOVU1fUEVSSU9EXG5cdCAgICovXG5cdCAgTlVNX1BFUklPRDogMTEwLFxuXHQgIC8qKlxuXHQgICAqIE5VTV9ESVZJU0lPTlxuXHQgICAqL1xuXHQgIE5VTV9ESVZJU0lPTjogMTExLFxuXHQgIC8qKlxuXHQgICAqIEYxXG5cdCAgICovXG5cdCAgRjE6IDExMixcblx0ICAvKipcblx0ICAgKiBGMlxuXHQgICAqL1xuXHQgIEYyOiAxMTMsXG5cdCAgLyoqXG5cdCAgICogRjNcblx0ICAgKi9cblx0ICBGMzogMTE0LFxuXHQgIC8qKlxuXHQgICAqIEY0XG5cdCAgICovXG5cdCAgRjQ6IDExNSxcblx0ICAvKipcblx0ICAgKiBGNVxuXHQgICAqL1xuXHQgIEY1OiAxMTYsXG5cdCAgLyoqXG5cdCAgICogRjZcblx0ICAgKi9cblx0ICBGNjogMTE3LFxuXHQgIC8qKlxuXHQgICAqIEY3XG5cdCAgICovXG5cdCAgRjc6IDExOCxcblx0ICAvKipcblx0ICAgKiBGOFxuXHQgICAqL1xuXHQgIEY4OiAxMTksXG5cdCAgLyoqXG5cdCAgICogRjlcblx0ICAgKi9cblx0ICBGOTogMTIwLFxuXHQgIC8qKlxuXHQgICAqIEYxMFxuXHQgICAqL1xuXHQgIEYxMDogMTIxLFxuXHQgIC8qKlxuXHQgICAqIEYxMVxuXHQgICAqL1xuXHQgIEYxMTogMTIyLFxuXHQgIC8qKlxuXHQgICAqIEYxMlxuXHQgICAqL1xuXHQgIEYxMjogMTIzLFxuXHQgIC8qKlxuXHQgICAqIE5VTUxPQ0tcblx0ICAgKi9cblx0ICBOVU1MT0NLOiAxNDQsXG5cdCAgLyoqXG5cdCAgICogU0VNSUNPTE9OXG5cdCAgICovXG5cdCAgU0VNSUNPTE9OOiAxODYsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIERBU0hcblx0ICAgKi9cblx0ICBEQVNIOiAxODksIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIEVRVUFMU1xuXHQgICAqL1xuXHQgIEVRVUFMUzogMTg3LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBDT01NQVxuXHQgICAqL1xuXHQgIENPTU1BOiAxODgsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIFBFUklPRFxuXHQgICAqL1xuXHQgIFBFUklPRDogMTkwLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBTTEFTSFxuXHQgICAqL1xuXHQgIFNMQVNIOiAxOTEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIEFQT1NUUk9QSEVcblx0ICAgKi9cblx0ICBBUE9TVFJPUEhFOiAxOTIsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuXHQgIC8qKlxuXHQgICAqIFNJTkdMRV9RVU9URVxuXHQgICAqL1xuXHQgIFNJTkdMRV9RVU9URTogMjIyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBPUEVOX1NRVUFSRV9CUkFDS0VUXG5cdCAgICovXG5cdCAgT1BFTl9TUVVBUkVfQlJBQ0tFVDogMjE5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBCQUNLU0xBU0hcblx0ICAgKi9cblx0ICBCQUNLU0xBU0g6IDIyMCwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG5cdCAgLyoqXG5cdCAgICogQ0xPU0VfU1FVQVJFX0JSQUNLRVRcblx0ICAgKi9cblx0ICBDTE9TRV9TUVVBUkVfQlJBQ0tFVDogMjIxLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cblx0ICAvKipcblx0ICAgKiBXSU5fS0VZXG5cdCAgICovXG5cdCAgV0lOX0tFWTogMjI0LFxuXHQgIC8qKlxuXHQgICAqIE1BQ19GRl9NRVRBXG5cdCAgICovXG5cdCAgTUFDX0ZGX01FVEE6IDIyNCwgLy8gRmlyZWZveCAoR2Vja28pIGZpcmVzIHRoaXMgZm9yIHRoZSBtZXRhIGtleSBpbnN0ZWFkIG9mIDkxXG5cdCAgLyoqXG5cdCAgICogV0lOX0lNRVxuXHQgICAqL1xuXHQgIFdJTl9JTUU6IDIyOVxuXHR9O1xuXHRcblx0Lypcblx0IHdoZXRoZXIgdGV4dCBhbmQgbW9kaWZpZWQga2V5IGlzIGVudGVyZWQgYXQgdGhlIHNhbWUgdGltZS5cblx0ICovXG5cdEtleUNvZGUuaXNUZXh0TW9kaWZ5aW5nS2V5RXZlbnQgPSBmdW5jdGlvbiBpc1RleHRNb2RpZnlpbmdLZXlFdmVudChlKSB7XG5cdCAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG5cdCAgaWYgKGUuYWx0S2V5ICYmICFlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8XG5cdCAgLy8gRnVuY3Rpb24ga2V5cyBkb24ndCBnZW5lcmF0ZSB0ZXh0XG5cdCAga2V5Q29kZSA+PSBLZXlDb2RlLkYxICYmIGtleUNvZGUgPD0gS2V5Q29kZS5GMTIpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdFxuXHQgIC8vIFRoZSBmb2xsb3dpbmcga2V5cyBhcmUgcXVpdGUgaGFybWxlc3MsIGV2ZW4gaW4gY29tYmluYXRpb24gd2l0aFxuXHQgIC8vIENUUkwsIEFMVCBvciBTSElGVC5cblx0ICBzd2l0Y2ggKGtleUNvZGUpIHtcblx0ICAgIGNhc2UgS2V5Q29kZS5BTFQ6XG5cdCAgICBjYXNlIEtleUNvZGUuQ0FQU19MT0NLOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNPTlRFWFRfTUVOVTpcblx0ICAgIGNhc2UgS2V5Q29kZS5DVFJMOlxuXHQgICAgY2FzZSBLZXlDb2RlLkRPV046XG5cdCAgICBjYXNlIEtleUNvZGUuRU5EOlxuXHQgICAgY2FzZSBLZXlDb2RlLkVTQzpcblx0ICAgIGNhc2UgS2V5Q29kZS5IT01FOlxuXHQgICAgY2FzZSBLZXlDb2RlLklOU0VSVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5MRUZUOlxuXHQgICAgY2FzZSBLZXlDb2RlLk1BQ19GRl9NRVRBOlxuXHQgICAgY2FzZSBLZXlDb2RlLk1FVEE6XG5cdCAgICBjYXNlIEtleUNvZGUuTlVNTE9DSzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fQ0VOVEVSOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBBR0VfRE9XTjpcblx0ICAgIGNhc2UgS2V5Q29kZS5QQUdFX1VQOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBBVVNFOlxuXHQgICAgY2FzZSBLZXlDb2RlLlBSSU5UX1NDUkVFTjpcblx0ICAgIGNhc2UgS2V5Q29kZS5SSUdIVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5TSElGVDpcblx0ICAgIGNhc2UgS2V5Q29kZS5VUDpcblx0ICAgIGNhc2UgS2V5Q29kZS5XSU5fS0VZOlxuXHQgICAgY2FzZSBLZXlDb2RlLldJTl9LRVlfUklHSFQ6XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0fTtcblx0XG5cdC8qXG5cdCB3aGV0aGVyIGNoYXJhY3RlciBpcyBlbnRlcmVkLlxuXHQgKi9cblx0S2V5Q29kZS5pc0NoYXJhY3RlcktleSA9IGZ1bmN0aW9uIGlzQ2hhcmFjdGVyS2V5KGtleUNvZGUpIHtcblx0ICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLlpFUk8gJiYga2V5Q29kZSA8PSBLZXlDb2RlLk5JTkUpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0XG5cdCAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5OVU1fWkVSTyAmJiBrZXlDb2RlIDw9IEtleUNvZGUuTlVNX01VTFRJUExZKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIGlmIChrZXlDb2RlID49IEtleUNvZGUuQSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuWikge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICAvLyBTYWZhcmkgc2VuZHMgemVybyBrZXkgY29kZSBmb3Igbm9uLWxhdGluIGNoYXJhY3RlcnMuXG5cdCAgaWYgKHdpbmRvdy5uYXZpZ2F0aW9uLnVzZXJBZ2VudC5pbmRleE9mKCdXZWJLaXQnKSAhPT0gLTEgJiYga2V5Q29kZSA9PT0gMCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHRcblx0ICBzd2l0Y2ggKGtleUNvZGUpIHtcblx0ICAgIGNhc2UgS2V5Q29kZS5TUEFDRTpcblx0ICAgIGNhc2UgS2V5Q29kZS5RVUVTVElPTl9NQVJLOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTV9QTFVTOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTV9NSU5VUzpcblx0ICAgIGNhc2UgS2V5Q29kZS5OVU1fUEVSSU9EOlxuXHQgICAgY2FzZSBLZXlDb2RlLk5VTV9ESVZJU0lPTjpcblx0ICAgIGNhc2UgS2V5Q29kZS5TRU1JQ09MT046XG5cdCAgICBjYXNlIEtleUNvZGUuREFTSDpcblx0ICAgIGNhc2UgS2V5Q29kZS5FUVVBTFM6XG5cdCAgICBjYXNlIEtleUNvZGUuQ09NTUE6XG5cdCAgICBjYXNlIEtleUNvZGUuUEVSSU9EOlxuXHQgICAgY2FzZSBLZXlDb2RlLlNMQVNIOlxuXHQgICAgY2FzZSBLZXlDb2RlLkFQT1NUUk9QSEU6XG5cdCAgICBjYXNlIEtleUNvZGUuU0lOR0xFX1FVT1RFOlxuXHQgICAgY2FzZSBLZXlDb2RlLk9QRU5fU1FVQVJFX0JSQUNLRVQ6XG5cdCAgICBjYXNlIEtleUNvZGUuQkFDS1NMQVNIOlxuXHQgICAgY2FzZSBLZXlDb2RlLkNMT1NFX1NRVUFSRV9CUkFDS0VUOlxuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IEtleUNvZGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGU1ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0dmFyIF9idXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYnV0dG9uKTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfc3R5bGU3ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX2lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9pbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbnB1dCk7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cdFxuXHR2YXIgX2luaGVyaXRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTkpO1xuXHRcblx0dmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU2VhcmNoID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzMy5kZWZhdWx0KShTZWFyY2gsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBTZWFyY2gocHJvcHMpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szLmRlZmF1bHQpKHRoaXMsIFNlYXJjaCk7XG5cdFxuXHQgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMy5kZWZhdWx0KSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVTZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHZhciBkYXRhID0ge1xuXHQgICAgICAgIGtleXdvcmQ6IF9yZWFjdERvbTIuZGVmYXVsdC5maW5kRE9NTm9kZShfdGhpcy5yZWZzLnNlYXJjaElucHV0KS52YWx1ZVxuXHQgICAgICB9O1xuXHQgICAgICBpZiAoX3RoaXMucHJvcHMuc2VsZWN0KSB7XG5cdCAgICAgICAgZGF0YS5maWVsZCA9IF90aGlzLnN0YXRlLnNlbGVjdFZhbHVlO1xuXHQgICAgICB9XG5cdCAgICAgIF90aGlzLnByb3BzLm9uU2VhcmNoICYmIF90aGlzLnByb3BzLm9uU2VhcmNoKGRhdGEpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kbGVJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgY2xlYXJWaXNpYmxlOiBlLnRhcmdldC52YWx1ZSAhPT0gJydcblx0ICAgICAgfSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBfdGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKCgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIF90aGlzLnN0YXRlLCB7XG5cdCAgICAgICAgc2VsZWN0VmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pKTtcblx0ICAgIH07XG5cdFxuXHQgICAgX3RoaXMuaGFuZGxlQ2xlYXJJbnB1dCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgX3JlYWN0RG9tMi5kZWZhdWx0LmZpbmRET01Ob2RlKF90aGlzLnJlZnMuc2VhcmNoSW5wdXQpLnZhbHVlID0gJyc7XG5cdCAgICAgIF90aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBjbGVhclZpc2libGU6IGZhbHNlXG5cdCAgICAgIH0pO1xuXHQgICAgICBfdGhpcy5oYW5kbGVTZWFyY2goKTtcblx0ICAgIH07XG5cdFxuXHQgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG5cdCAgICAgICAgc2VsZWN0ID0gX3RoaXMkcHJvcHMuc2VsZWN0LFxuXHQgICAgICAgIHNlbGVjdFByb3BzID0gX3RoaXMkcHJvcHMuc2VsZWN0UHJvcHM7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIGNsZWFyVmlzaWJsZTogZmFsc2UsXG5cdCAgICAgIHNlbGVjdFZhbHVlOiBzZWxlY3QgJiYgc2VsZWN0UHJvcHMgPyBzZWxlY3RQcm9wcy5kZWZhdWx0VmFsdWUgOiAnJ1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFNlYXJjaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuXHQgICAgICAgIHNlbGVjdCA9IF9wcm9wcy5zZWxlY3QsXG5cdCAgICAgICAgc2VsZWN0T3B0aW9ucyA9IF9wcm9wcy5zZWxlY3RPcHRpb25zLFxuXHQgICAgICAgIHNlbGVjdFByb3BzID0gX3Byb3BzLnNlbGVjdFByb3BzLFxuXHQgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuXHQgICAgICAgIGtleXdvcmQgPSBfcHJvcHMua2V5d29yZDtcblx0ICAgIHZhciBjbGVhclZpc2libGUgPSB0aGlzLnN0YXRlLmNsZWFyVmlzaWJsZTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9pbnB1dDIuZGVmYXVsdC5Hcm91cCxcblx0ICAgICAgeyBjb21wYWN0OiB0cnVlLCBzaXplOiBzaXplLCBjbGFzc05hbWU6IF9TZWFyY2gyLmRlZmF1bHQuc2VhcmNoLCBzdHlsZTogc3R5bGUgfSxcblx0ICAgICAgc2VsZWN0ICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIF9zZWxlY3QyLmRlZmF1bHQsXG5cdCAgICAgICAgKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7IHJlZjogJ3NlYXJjaFNlbGVjdCcsIG9uQ2hhbmdlOiB0aGlzLmhhbmRlbGVTZWxlY3RDaGFuZ2UsIHNpemU6IHNpemUgfSwgc2VsZWN0UHJvcHMpLFxuXHQgICAgICAgIHNlbGVjdE9wdGlvbnMgJiYgc2VsZWN0T3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGtleSkge1xuXHQgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0Lk9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogaXRlbS52YWx1ZSwga2V5OiBrZXkgfSxcblx0ICAgICAgICAgICAgaXRlbS5uYW1lIHx8IGl0ZW0udmFsdWVcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2lucHV0Mi5kZWZhdWx0LCB7IHJlZjogJ3NlYXJjaElucHV0Jywgc2l6ZTogc2l6ZSwgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UsIG9uUHJlc3NFbnRlcjogdGhpcy5oYW5kbGVTZWFyY2gsIGRlZmF1bHRWYWx1ZToga2V5d29yZCB9KSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgX2J1dHRvbjIuZGVmYXVsdCxcblx0ICAgICAgICB7IHNpemU6IHNpemUsIHR5cGU6ICdwcmltYXJ5Jywgb25DbGljazogdGhpcy5oYW5kbGVTZWFyY2ggfSxcblx0ICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnc2VhcmNoJyB9KSxcblx0ICAgICAgICAnXFx1NjQxQ1xcdTdEMjInXG5cdCAgICAgICksXG5cdCAgICAgIGNsZWFyVmlzaWJsZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnY3Jvc3MnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsZWFySW5wdXQgfSlcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIFNlYXJjaDtcblx0fShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmNUd2Vlbk9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTY1KTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUJvZHlXcmFwcGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZW50ZXJBbmltID0gW3tcblx0ICBvcGFjaXR5OiAwLFxuXHQgIHg6IDMwLFxuXHQgIGJhY2tncm91bmRDb2xvcjogJyNmZmZlZWUnLFxuXHQgIGR1cmF0aW9uOiAwXG5cdH0sIHtcblx0ICBoZWlnaHQ6IDAsXG5cdCAgZHVyYXRpb246IDIwMCxcblx0ICB0eXBlOiAnZnJvbScsXG5cdCAgZGVsYXk6IDI1MCxcblx0ICBlYXNlOiAnZWFzZU91dFF1YWQnLFxuXHQgIG9uQ29tcGxldGU6IGZ1bmN0aW9uIG9uQ29tcGxldGUoZSkge1xuXHQgICAgZS50YXJnZXQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuXHQgIH1cblx0fSwge1xuXHQgIG9wYWNpdHk6IDEsXG5cdCAgeDogMCxcblx0ICBkdXJhdGlvbjogMjUwLFxuXHQgIGVhc2U6ICdlYXNlT3V0UXVhZCdcblx0fSwge1xuXHQgIGRlbGF5OiAxMDAwLFxuXHQgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnXG5cdH1dO1xuXHRcblx0dmFyIGxlYXZlQW5pbSA9IFt7XG5cdCAgZHVyYXRpb246IDI1MCxcblx0ICB4OiAtMzAsXG5cdCAgb3BhY2l0eTogMFxuXHR9LCB7XG5cdCAgaGVpZ2h0OiAwLFxuXHQgIGR1cmF0aW9uOiAyMDAsXG5cdCAgZWFzZTogJ2Vhc2VPdXRRdWFkJ1xuXHR9XTtcblx0XG5cdHZhciBUYWJsZUJvZHlXcmFwcGVyID0gZnVuY3Rpb24gVGFibGVCb2R5V3JhcHBlcihfcmVmKSB7XG5cdCAgdmFyIGJvZHkgPSBfcmVmLmJvZHksXG5cdCAgICAgIF9yZWYkcGFnZSA9IF9yZWYucGFnZSxcblx0ICAgICAgcGFnZSA9IF9yZWYkcGFnZSA9PT0gdW5kZWZpbmVkID8gMSA6IF9yZWYkcGFnZSxcblx0ICAgICAgY3VycmVudCA9IF9yZWYuY3VycmVudDtcblx0XG5cdFxuXHQgIC8vIOWIh+aNouWIhumhteWOu+mZpOWKqOeUuztcblx0ICBpZiAoY3VycmVudCAhPSArcGFnZSkge1xuXHQgICAgcmV0dXJuIGJvZHk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICBfcmNUd2Vlbk9uZS5Ud2Vlbk9uZUdyb3VwLFxuXHQgICAge1xuXHQgICAgICBjb21wb25lbnQ6ICd0Ym9keScsXG5cdCAgICAgIGNsYXNzTmFtZTogYm9keS5wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgIGVudGVyOiBlbnRlckFuaW0sXG5cdCAgICAgIGxlYXZlOiBsZWF2ZUFuaW0sXG5cdCAgICAgIGFwcGVhcjogZmFsc2UgfSxcblx0ICAgIGJvZHkucHJvcHMuY2hpbGRyZW5cblx0ICApO1xuXHR9O1xuXHRcblx0VGFibGVCb2R5V3JhcHBlci5wcm9wVHlwZXMgPSB7XG5cdCAgcGFnZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY3VycmVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGFibGVCb2R5V3JhcHBlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0LyogZ2xvYmFscyBTeW1ib2w6IHRydWUsIFVpbnQ4QXJyYXk6IHRydWUsIFdlYWtNYXA6IHRydWUgKi9cblx0LyohXG5cdCAqIGRlZXAtZXFsXG5cdCAqIENvcHlyaWdodChjKSAyMDEzIEpha2UgTHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuXHQgKiBNSVQgTGljZW5zZWRcblx0ICovXG5cdFxuXHQvKiFcblx0ICogTW9kdWxlIGRlcGVuZGVuY2llc1xuXHQgKi9cblx0XG5cdHZhciB0eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXHRmdW5jdGlvbiBGYWtlTWFwKCkge1xuXHQgIHRoaXMuY2xlYXIoKTtcblx0fVxuXHRGYWtlTWFwLnByb3RvdHlwZSA9IHtcblx0ICBjbGVhcjogZnVuY3Rpb24gY2xlYXJNYXAoKSB7XG5cdCAgICB0aGlzLmtleXMgPSBbXTtcblx0ICAgIHRoaXMudmFsdWVzID0gW107XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9LFxuXHQgIHNldDogZnVuY3Rpb24gc2V0TWFwKGtleSwgdmFsdWUpIHtcblx0ICAgIHZhciBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG5cdCAgICBpZiAoaW5kZXggPj0gMCkge1xuXHQgICAgICB0aGlzLnZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG5cdCAgICAgIHRoaXMudmFsdWVzLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldE1hcChrZXkpIHtcblx0ICAgIHJldHVybiB0aGlzLnZhbHVlc1t0aGlzLmtleXMuaW5kZXhPZihrZXkpXTtcblx0ICB9LFxuXHQgIGRlbGV0ZTogZnVuY3Rpb24gZGVsZXRlTWFwKGtleSkge1xuXHQgICAgdmFyIGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2Yoa2V5KTtcblx0ICAgIGlmIChpbmRleCA+PSAwKSB7XG5cdCAgICAgIHRoaXMudmFsdWVzID0gdGhpcy52YWx1ZXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLnZhbHVlcy5zbGljZShpbmRleCArIDEpKTtcblx0ICAgICAgdGhpcy5rZXlzID0gdGhpcy5rZXlzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy5rZXlzLnNsaWNlKGluZGV4ICsgMSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0fTtcblx0XG5cdHZhciBNZW1vaXplTWFwID0gbnVsbDtcblx0aWYgKHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgTWVtb2l6ZU1hcCA9IFdlYWtNYXA7XG5cdH0gZWxzZSB7XG5cdCAgTWVtb2l6ZU1hcCA9IEZha2VNYXA7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDaGVjayB0byBzZWUgaWYgdGhlIE1lbW9pemVNYXAgaGFzIHJlY29yZGVkIGEgcmVzdWx0IG9mIHRoZSB0d28gb3BlcmFuZHNcblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufG51bGx9IHJlc3VsdFxuXHQqL1xuXHRmdW5jdGlvbiBtZW1vaXplQ29tcGFyZShsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXApIHtcblx0ICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG5cdCAgaWYgKCFtZW1vaXplTWFwIHx8IGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcblx0ICAgIHJldHVybiBudWxsO1xuXHQgIH1cblx0ICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZE1hcCkge1xuXHQgICAgdmFyIHJlc3VsdCA9IGxlZnRIYW5kTWFwLmdldChyaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnYm9vbGVhbicpIHtcblx0ICAgICAgcmV0dXJuIHJlc3VsdDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIG51bGw7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBTZXQgdGhlIHJlc3VsdCBvZiB0aGUgZXF1YWxpdHkgaW50byB0aGUgTWVtb2l6ZU1hcFxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcblx0ICogQHBhcmFtIHtCb29sZWFufSByZXN1bHRcblx0Ki9cblx0ZnVuY3Rpb24gbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG1lbW9pemVNYXAsIHJlc3VsdCkge1xuXHQgIC8vIFRlY2huaWNhbGx5LCBXZWFrTWFwIGtleXMgY2FuICpvbmx5KiBiZSBvYmplY3RzLCBub3QgcHJpbWl0aXZlcy5cblx0ICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChsZWZ0SGFuZE1hcCkge1xuXHQgICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGxlZnRIYW5kTWFwID0gbmV3IE1lbW9pemVNYXAoKTtcblx0ICAgIGxlZnRIYW5kTWFwLnNldChyaWdodEhhbmRPcGVyYW5kLCByZXN1bHQpO1xuXHQgICAgbWVtb2l6ZU1hcC5zZXQobGVmdEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE1hcCk7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKiFcblx0ICogUHJpbWFyeSBFeHBvcnRcblx0ICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGRlZXBFcXVhbDtcblx0bW9kdWxlLmV4cG9ydHMuTWVtb2l6ZU1hcCA9IE1lbW9pemVNYXA7XG5cdFxuXHQvKipcblx0ICogQXNzZXJ0IGRlZXBseSBuZXN0ZWQgc2FtZVZhbHVlIGVxdWFsaXR5IGJldHdlZW4gdHdvIG9iamVjdHMgb2YgYW55IHR5cGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuY29tcGFyYXRvcl0gKG9wdGlvbmFsKSBPdmVycmlkZSBkZWZhdWx0IGFsZ29yaXRobSwgZGV0ZXJtaW5pbmcgY3VzdG9tIGVxdWFsaXR5LlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2Zcblx0ICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuXHQgICAgcmVmZXJlbmNlcyB0byBibG93IHRoZSBzdGFjay5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcblx0ICovXG5cdGZ1bmN0aW9uIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICAvLyBJZiB3ZSBoYXZlIGEgY29tcGFyYXRvciwgd2UgY2FuJ3QgYXNzdW1lIGFueXRoaW5nOyBzbyBiYWlsIHRvIGl0cyBjaGVjayBmaXJzdC5cblx0ICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbXBhcmF0b3IpIHtcblx0ICAgIHJldHVybiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICB9XG5cdFxuXHQgIHZhciBzaW1wbGVSZXN1bHQgPSBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcblx0ICAgIHJldHVybiBzaW1wbGVSZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICAvLyBEZWVwZXIgY29tcGFyaXNvbnMgYXJlIHB1c2hlZCB0aHJvdWdoIHRvIGEgbGFyZ2VyIGZ1bmN0aW9uXG5cdCAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogTWFueSBjb21wYXJpc29ucyBjYW4gYmUgY2FuY2VsZWQgb3V0IGVhcmx5IHZpYSBzaW1wbGUgZXF1YWxpdHkgb3IgcHJpbWl0aXZlIGNoZWNrcy5cblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHJldHVybiB7Qm9vbGVhbnxudWxsfSBlcXVhbCBtYXRjaFxuXHQgKi9cblx0ZnVuY3Rpb24gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgLy8gRXF1YWwgcmVmZXJlbmNlcyAoZXhjZXB0IGZvciBOdW1iZXJzKSBjYW4gYmUgcmV0dXJuZWQgZWFybHlcblx0ICBpZiAobGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kKSB7XG5cdCAgICAvLyBIYW5kbGUgKy0wIGNhc2VzXG5cdCAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kICE9PSAwIHx8IDEgLyBsZWZ0SGFuZE9wZXJhbmQgPT09IDEgLyByaWdodEhhbmRPcGVyYW5kO1xuXHQgIH1cblx0XG5cdCAgLy8gaGFuZGxlIE5hTiBjYXNlc1xuXHQgIGlmIChcblx0ICAgIGxlZnRIYW5kT3BlcmFuZCAhPT0gbGVmdEhhbmRPcGVyYW5kICYmIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdCAgICByaWdodEhhbmRPcGVyYW5kICE9PSByaWdodEhhbmRPcGVyYW5kIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG5cdCAgKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIC8vIEFueXRoaW5nIHRoYXQgaXMgbm90IGFuICdvYmplY3QnLCBpLmUuIHN5bWJvbHMsIGZ1bmN0aW9ucywgYm9vbGVhbnMsIG51bWJlcnMsXG5cdCAgLy8gc3RyaW5ncywgYW5kIHVuZGVmaW5lZCwgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cblx0ICBpZiAoaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuXHQgICAgLy8gRWFzeSBvdXQgYi9jIGl0IHdvdWxkIGhhdmUgcGFzc2VkIHRoZSBmaXJzdCBlcXVhbGl0eSBjaGVja1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fVxuXHRcblx0LyohXG5cdCAqIFRoZSBtYWluIGxvZ2ljIG9mIHRoZSBgZGVlcEVxdWFsYCBmdW5jdGlvbi5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAob3B0aW9uYWwpIEFkZGl0aW9uYWwgb3B0aW9uc1xuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuXHQgICAgY29tcGxleCBvYmplY3RzIGZvciBhIHNwZWVkIGJvb3N0LiBCeSBwYXNzaW5nIGBmYWxzZWAgeW91IGNhbiBkaXNhYmxlIG1lbW9pemF0aW9uLCBidXQgdGhpcyB3aWxsIGNhdXNlIGNpcmN1bGFyXG5cdCAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuXHQqL1xuXHRmdW5jdGlvbiBleHRlbnNpdmVEZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgb3B0aW9ucy5tZW1vaXplID0gb3B0aW9ucy5tZW1vaXplID09PSBmYWxzZSA/IGZhbHNlIDogb3B0aW9ucy5tZW1vaXplIHx8IG5ldyBNZW1vaXplTWFwKCk7XG5cdCAgdmFyIGNvbXBhcmF0b3IgPSBvcHRpb25zICYmIG9wdGlvbnMuY29tcGFyYXRvcjtcblx0XG5cdCAgLy8gQ2hlY2sgaWYgYSBtZW1vaXplZCByZXN1bHQgZXhpc3RzLlxuXHQgIHZhciBtZW1vaXplUmVzdWx0TGVmdCA9IG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcblx0ICBpZiAobWVtb2l6ZVJlc3VsdExlZnQgIT09IG51bGwpIHtcblx0ICAgIHJldHVybiBtZW1vaXplUmVzdWx0TGVmdDtcblx0ICB9XG5cdCAgdmFyIG1lbW9pemVSZXN1bHRSaWdodCA9IG1lbW9pemVDb21wYXJlKHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcblx0ICBpZiAobWVtb2l6ZVJlc3VsdFJpZ2h0ICE9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdFJpZ2h0O1xuXHQgIH1cblx0XG5cdCAgLy8gSWYgYSBjb21wYXJhdG9yIGlzIHByZXNlbnQsIHVzZSBpdC5cblx0ICBpZiAoY29tcGFyYXRvcikge1xuXHQgICAgdmFyIGNvbXBhcmF0b3JSZXN1bHQgPSBjb21wYXJhdG9yKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgICAvLyBDb21wYXJhdG9ycyBtYXkgcmV0dXJuIG51bGwsIGluIHdoaWNoIGNhc2Ugd2Ugd2FudCB0byBnbyBiYWNrIHRvIGRlZmF1bHQgYmVoYXZpb3IuXG5cdCAgICBpZiAoY29tcGFyYXRvclJlc3VsdCA9PT0gZmFsc2UgfHwgY29tcGFyYXRvclJlc3VsdCA9PT0gdHJ1ZSkge1xuXHQgICAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBjb21wYXJhdG9yUmVzdWx0KTtcblx0ICAgICAgcmV0dXJuIGNvbXBhcmF0b3JSZXN1bHQ7XG5cdCAgICB9XG5cdCAgICAvLyBUbyBhbGxvdyBjb21wYXJhdG9ycyB0byBvdmVycmlkZSAqYW55KiBiZWhhdmlvciwgd2UgcmFuIHRoZW0gZmlyc3QuIFNpbmNlIGl0IGRpZG4ndCBkZWNpZGVcblx0ICAgIC8vIHdoYXQgdG8gZG8sIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvIHJldHVybiB0aGUgYmFzaWMgdGVzdHMgZmlyc3QgYmVmb3JlIHdlIG1vdmUgb24uXG5cdCAgICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcblx0ICAgIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcblx0ICAgICAgLy8gRG9uJ3QgbWVtb2l6ZSB0aGlzLCBpdCB0YWtlcyBsb25nZXIgdG8gc2V0L3JldHJpZXZlIHRoYW4gdG8ganVzdCBjb21wYXJlLlxuXHQgICAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGxlZnRIYW5kVHlwZSA9IHR5cGUobGVmdEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRUeXBlICE9PSB0eXBlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG5cdCAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBmYWxzZSk7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHRcblx0ICAvLyBUZW1wb3JhcmlseSBzZXQgdGhlIG9wZXJhbmRzIGluIHRoZSBtZW1vaXplIG9iamVjdCB0byBwcmV2ZW50IGJsb3dpbmcgdGhlIHN0YWNrXG5cdCAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgdHJ1ZSk7XG5cdFxuXHQgIHZhciByZXN1bHQgPSBleHRlbnNpdmVEZWVwRXF1YWxCeVR5cGUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZFR5cGUsIG9wdGlvbnMpO1xuXHQgIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUsIHJlc3VsdCk7XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKSB7XG5cdCAgc3dpdGNoIChsZWZ0SGFuZFR5cGUpIHtcblx0ICAgIGNhc2UgJ1N0cmluZyc6XG5cdCAgICBjYXNlICdOdW1iZXInOlxuXHQgICAgY2FzZSAnQm9vbGVhbic6XG5cdCAgICBjYXNlICdEYXRlJzpcblx0ICAgICAgLy8gSWYgdGhlc2UgdHlwZXMgYXJlIHRoZWlyIGluc3RhbmNlIHR5cGVzIChlLmcuIGBuZXcgTnVtYmVyYCkgdGhlbiByZS1kZWVwRXF1YWwgYWdhaW5zdCB0aGVpciB2YWx1ZXNcblx0ICAgICAgcmV0dXJuIGRlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQudmFsdWVPZigpLCByaWdodEhhbmRPcGVyYW5kLnZhbHVlT2YoKSk7XG5cdCAgICBjYXNlICdQcm9taXNlJzpcblx0ICAgIGNhc2UgJ1N5bWJvbCc6XG5cdCAgICBjYXNlICdmdW5jdGlvbic6XG5cdCAgICBjYXNlICdXZWFrTWFwJzpcblx0ICAgIGNhc2UgJ1dlYWtTZXQnOlxuXHQgICAgY2FzZSAnRXJyb3InOlxuXHQgICAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kID09PSByaWdodEhhbmRPcGVyYW5kO1xuXHQgICAgY2FzZSAnQXJndW1lbnRzJzpcblx0ICAgIGNhc2UgJ0ludDhBcnJheSc6XG5cdCAgICBjYXNlICdVaW50OEFycmF5Jzpcblx0ICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5Jzpcblx0ICAgIGNhc2UgJ0ludDE2QXJyYXknOlxuXHQgICAgY2FzZSAnVWludDE2QXJyYXknOlxuXHQgICAgY2FzZSAnSW50MzJBcnJheSc6XG5cdCAgICBjYXNlICdVaW50MzJBcnJheSc6XG5cdCAgICBjYXNlICdGbG9hdDMyQXJyYXknOlxuXHQgICAgY2FzZSAnRmxvYXQ2NEFycmF5Jzpcblx0ICAgIGNhc2UgJ0FycmF5Jzpcblx0ICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICAgIGNhc2UgJ1JlZ0V4cCc6XG5cdCAgICAgIHJldHVybiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuXHQgICAgY2FzZSAnR2VuZXJhdG9yJzpcblx0ICAgICAgcmV0dXJuIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdEYXRhVmlldyc6XG5cdCAgICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKG5ldyBVaW50OEFycmF5KGxlZnRIYW5kT3BlcmFuZC5idWZmZXIpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kLmJ1ZmZlciksIG9wdGlvbnMpO1xuXHQgICAgY2FzZSAnQXJyYXlCdWZmZXInOlxuXHQgICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChuZXcgVWludDhBcnJheShsZWZ0SGFuZE9wZXJhbmQpLCBuZXcgVWludDhBcnJheShyaWdodEhhbmRPcGVyYW5kKSwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdTZXQnOlxuXHQgICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBjYXNlICdNYXAnOlxuXHQgICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICByZXR1cm4gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcblx0ICB9XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBDb21wYXJlIHR3byBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBlcXVhbGl0eS5cblx0ICpcblx0ICogQHBhcmFtIHtSZWdFeHB9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge1JlZ0V4cH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcblx0ICovXG5cdFxuXHRmdW5jdGlvbiByZWdleHBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcblx0ICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kLnRvU3RyaW5nKCkgPT09IHJpZ2h0SGFuZE9wZXJhbmQudG9TdHJpbmcoKTtcblx0fVxuXHRcblx0LyohXG5cdCAqIENvbXBhcmUgdHdvIFNldHMvTWFwcyBmb3IgZXF1YWxpdHkuIEZhc3RlciB0aGFuIG90aGVyIGVxdWFsaXR5IGZ1bmN0aW9ucy5cblx0ICpcblx0ICogQHBhcmFtIHtTZXR9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge1NldH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuXHQgIC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IFNldCNlbnRyaWVzIG9yIFNldCNAQGl0ZXJhdG9yLCBzbyB3ZSBuZWVkIG1hbnVhbGx5IHBvcHVsYXRlIHVzaW5nIFNldCNmb3JFYWNoXG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplICE9PSByaWdodEhhbmRPcGVyYW5kLnNpemUpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKGxlZnRIYW5kT3BlcmFuZC5zaXplID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdmFyIGxlZnRIYW5kSXRlbXMgPSBbXTtcblx0ICB2YXIgcmlnaHRIYW5kSXRlbXMgPSBbXTtcblx0ICBsZWZ0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcblx0ICAgIGxlZnRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG5cdCAgfSk7XG5cdCAgcmlnaHRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuXHQgICAgcmlnaHRIYW5kSXRlbXMucHVzaChbIGtleSwgdmFsdWUgXSk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRJdGVtcy5zb3J0KCksIHJpZ2h0SGFuZEl0ZW1zLnNvcnQoKSwgb3B0aW9ucyk7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBTaW1wbGUgZXF1YWxpdHkgZm9yIGZsYXQgaXRlcmFibGUgb2JqZWN0cyBzdWNoIGFzIEFycmF5cywgVHlwZWRBcnJheXMgb3IgTm9kZS5qcyBidWZmZXJzLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtJdGVyYWJsZX0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICB2YXIgbGVuZ3RoID0gbGVmdEhhbmRPcGVyYW5kLmxlbmd0aDtcblx0ICBpZiAobGVuZ3RoICE9PSByaWdodEhhbmRPcGVyYW5kLmxlbmd0aCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAobGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdmFyIGluZGV4ID0gLTE7XG5cdCAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2luZGV4XSwgcmlnaHRIYW5kT3BlcmFuZFtpbmRleF0sIG9wdGlvbnMpID09PSBmYWxzZSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogU2ltcGxlIGVxdWFsaXR5IGZvciBnZW5lcmF0b3Igb2JqZWN0cyBzdWNoIGFzIHRob3NlIHJldHVybmVkIGJ5IGdlbmVyYXRvciBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7SXRlcmFibGV9IGxlZnRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBnZW5lcmF0b3JFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcblx0ICByZXR1cm4gaXRlcmFibGVFcXVhbChnZXRHZW5lcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCksIGdldEdlbmVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogRGV0ZXJtaW5lIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBvYmplY3QgaGFzIGFuIEBAaXRlcmF0b3IgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkge1xuXHQgIHJldHVybiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuXHQgICAgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcgJiZcblx0ICAgIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09ICd1bmRlZmluZWQnICYmXG5cdCAgICB0eXBlb2YgdGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBHZXRzIGFsbCBpdGVyYXRvciBlbnRyaWVzIGZyb20gdGhlIGdpdmVuIE9iamVjdC4gSWYgdGhlIE9iamVjdCBoYXMgbm8gQEBpdGVyYXRvciBmdW5jdGlvbiwgcmV0dXJucyBhbiBlbXB0eSBhcnJheS5cblx0ICogVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGl0ZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMgZGVwZW5kaW5nIG9uIHRoZSBAQGl0ZXJhdG9yIGltcGxlbWVudGF0aW9uLlxuXHQgKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG5cdCAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBAQGl0ZXJhdG9yIGZ1bmN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRJdGVyYXRvckVudHJpZXModGFyZ2V0KSB7XG5cdCAgaWYgKGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSkge1xuXHQgICAgdHJ5IHtcblx0ICAgICAgcmV0dXJuIGdldEdlbmVyYXRvckVudHJpZXModGFyZ2V0W1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdCAgICB9IGNhdGNoIChpdGVyYXRvckVycm9yKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIFtdO1xuXHR9XG5cdFxuXHQvKiFcblx0ICogR2V0cyBhbGwgZW50cmllcyBmcm9tIGEgR2VuZXJhdG9yLiBUaGlzIHdpbGwgY29uc3VtZSB0aGUgZ2VuZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7R2VuZXJhdG9yfSB0YXJnZXRcblx0ICogQHJldHVybnMge0FycmF5fSBhbiBhcnJheSBvZiBlbnRyaWVzIGZyb20gdGhlIEdlbmVyYXRvci5cblx0ICovXG5cdGZ1bmN0aW9uIGdldEdlbmVyYXRvckVudHJpZXMoZ2VuZXJhdG9yKSB7XG5cdCAgdmFyIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG5cdCAgdmFyIGFjY3VtdWxhdG9yID0gWyBnZW5lcmF0b3JSZXN1bHQudmFsdWUgXTtcblx0ICB3aGlsZSAoZ2VuZXJhdG9yUmVzdWx0LmRvbmUgPT09IGZhbHNlKSB7XG5cdCAgICBnZW5lcmF0b3JSZXN1bHQgPSBnZW5lcmF0b3IubmV4dCgpO1xuXHQgICAgYWNjdW11bGF0b3IucHVzaChnZW5lcmF0b3JSZXN1bHQudmFsdWUpO1xuXHQgIH1cblx0ICByZXR1cm4gYWNjdW11bGF0b3I7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBHZXRzIGFsbCBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSBhIHRhcmdldC5cblx0ICpcblx0ICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIHRoZSB0YXJnZXQuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRFbnVtZXJhYmxlS2V5cyh0YXJnZXQpIHtcblx0ICB2YXIga2V5cyA9IFtdO1xuXHQgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcblx0ICAgIGtleXMucHVzaChrZXkpO1xuXHQgIH1cblx0ICByZXR1cm4ga2V5cztcblx0fVxuXHRcblx0LyohXG5cdCAqIERldGVybWluZXMgaWYgdHdvIG9iamVjdHMgaGF2ZSBtYXRjaGluZyB2YWx1ZXMsIGdpdmVuIGEgc2V0IG9mIGtleXMuIERlZmVycyB0byBkZWVwRXF1YWwgZm9yIHRoZSBlcXVhbGl0eSBjaGVjayBvZlxuXHQgKiBlYWNoIGtleS4gSWYgYW55IHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkgaXMgbm90IGVxdWFsLCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gZmFsc2UgKGVhcmx5KS5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG5cdCAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtBcnJheX0ga2V5cyBBbiBhcnJheSBvZiBrZXlzIHRvIGNvbXBhcmUgdGhlIHZhbHVlcyBvZiBsZWZ0SGFuZE9wZXJhbmQgYW5kIHJpZ2h0SGFuZE9wZXJhbmQgYWdhaW5zdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBrZXlzLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuXHQgIGlmIChsZW5ndGggPT09IDApIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdCAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgcmlnaHRIYW5kT3BlcmFuZFtrZXlzW2ldXSwgb3B0aW9ucykgPT09IGZhbHNlKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdC8qIVxuXHQgKiBSZWN1cnNpdmVseSBjaGVjayB0aGUgZXF1YWxpdHkgb2YgdHdvIE9iamVjdHMuIE9uY2UgYmFzaWMgc2FtZW5lc3MgaGFzIGJlZW4gZXN0YWJsaXNoZWQgaXQgd2lsbCBkZWZlciB0byBgZGVlcEVxdWFsYFxuXHQgKiBmb3IgZWFjaCBlbnVtZXJhYmxlIGtleSBpbiB0aGUgb2JqZWN0LlxuXHQgKlxuXHQgKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcblx0ICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gb2JqZWN0RXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxlZnRIYW5kS2V5cyA9IGdldEVudW1lcmFibGVLZXlzKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgdmFyIHJpZ2h0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhyaWdodEhhbmRPcGVyYW5kKTtcblx0ICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCAmJiBsZWZ0SGFuZEtleXMubGVuZ3RoID09PSByaWdodEhhbmRLZXlzLmxlbmd0aCkge1xuXHQgICAgbGVmdEhhbmRLZXlzLnNvcnQoKTtcblx0ICAgIHJpZ2h0SGFuZEtleXMuc29ydCgpO1xuXHQgICAgaWYgKGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRLZXlzLCByaWdodEhhbmRLZXlzKSA9PT0gZmFsc2UpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kS2V5cywgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICB2YXIgbGVmdEhhbmRFbnRyaWVzID0gZ2V0SXRlcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCk7XG5cdCAgdmFyIHJpZ2h0SGFuZEVudHJpZXMgPSBnZXRJdGVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCk7XG5cdCAgaWYgKGxlZnRIYW5kRW50cmllcy5sZW5ndGggJiYgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gcmlnaHRIYW5kRW50cmllcy5sZW5ndGgpIHtcblx0ICAgIGxlZnRIYW5kRW50cmllcy5zb3J0KCk7XG5cdCAgICByaWdodEhhbmRFbnRyaWVzLnNvcnQoKTtcblx0ICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kRW50cmllcywgcmlnaHRIYW5kRW50cmllcywgb3B0aW9ucyk7XG5cdCAgfVxuXHRcblx0ICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuXHQgICAgICBsZWZ0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwICYmXG5cdCAgICAgIHJpZ2h0SGFuZEtleXMubGVuZ3RoID09PSAwICYmXG5cdCAgICAgIHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0LyohXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYXJndW1lbnQgaXMgYSBwcmltaXRpdmUuXG5cdCAqXG5cdCAqIFRoaXMgaW50ZW50aW9uYWxseSByZXR1cm5zIHRydWUgZm9yIGFsbCBvYmplY3RzIHRoYXQgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZSxcblx0ICogaW5jbHVkaW5nIGZ1bmN0aW9ucyBhbmQgc3ltYm9scy5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gdmFsdWVcblx0ICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG5cdCAqL1xuXHRmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xuXHQgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnO1xuXHR9XG5cblxuLyoqKi8gfSxcblxuLyoqKi8gMTU5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJzZWFyY2hcIjpcInNlYXJjaF9fX3AwNEtOXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjA6XG4xMCxcblxuLyoqKi8gMTYzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG5cdC8qKlxuXHQgKiBDcmVhdGVkIGJ5IGpsanNqIG9uIDE2LzEvMjcuXG5cdCAqL1xuXHRcblx0XG5cdHZhciBfZWFzaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7XG5cdFxuXHR2YXIgX2Vhc2luZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lYXNpbmcpO1xuXHRcblx0dmFyIF9wbHVnaW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOSk7XG5cdFxuXHR2YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cdFxuXHR2YXIgX1N0eWxlUGx1Z2luID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjYpO1xuXHRcblx0dmFyIF9TdHlsZVBsdWdpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TdHlsZVBsdWdpbik7XG5cdFxuXHR2YXIgX3N0eWxlVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblx0XG5cdHZhciBfdXRpbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgREVGQVVMVF9FQVNJTkcgPSAnZWFzZUluT3V0UXVhZCc7XG5cdHZhciBERUZBVUxUX0RVUkFUSU9OID0gNDUwO1xuXHR2YXIgREVGQVVMVF9ERUxBWSA9IDA7XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRfcGx1Z2luczJbXCJkZWZhdWx0XCJdLnB1c2goX1N0eWxlUGx1Z2luMltcImRlZmF1bHRcIl0pO1xuXHQvLyDorr7nva7pu5jorqTmlbDmja5cblx0ZnVuY3Rpb24gZGVmYXVsdERhdGEodmFycywgbm93KSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGR1cmF0aW9uOiB2YXJzLmR1cmF0aW9uIHx8IHZhcnMuZHVyYXRpb24gPT09IDAgPyB2YXJzLmR1cmF0aW9uIDogREVGQVVMVF9EVVJBVElPTixcblx0ICAgIGRlbGF5OiB2YXJzLmRlbGF5IHx8IERFRkFVTFRfREVMQVksXG5cdCAgICBlYXNlOiB0eXBlb2YgdmFycy5lYXNlID09PSAnZnVuY3Rpb24nID8gdmFycy5lYXNlIDogX2Vhc2luZzJbXCJkZWZhdWx0XCJdW3ZhcnMuZWFzZSB8fCBERUZBVUxUX0VBU0lOR10sXG5cdCAgICBvblVwZGF0ZTogdmFycy5vblVwZGF0ZSB8fCBub29wLFxuXHQgICAgb25Db21wbGV0ZTogdmFycy5vbkNvbXBsZXRlIHx8IG5vb3AsXG5cdCAgICBvblN0YXJ0OiB2YXJzLm9uU3RhcnQgfHwgbm9vcCxcblx0ICAgIG9uUmVwZWF0OiB2YXJzLm9uUmVwZWF0IHx8IG5vb3AsXG5cdCAgICByZXBlYXQ6IHZhcnMucmVwZWF0IHx8IDAsXG5cdCAgICByZXBlYXREZWxheTogdmFycy5yZXBlYXREZWxheSB8fCAwLFxuXHQgICAgeW95bzogdmFycy55b3lvIHx8IGZhbHNlLFxuXHQgICAgdHlwZTogdmFycy50eXBlIHx8ICd0bycsXG5cdCAgICBpbml0VGltZTogbm93LFxuXHQgICAgYXBwZWFyVG86IHR5cGVvZiB2YXJzLmFwcGVhclRvID09PSAnbnVtYmVyJyA/IHZhcnMuYXBwZWFyVG8gOiBudWxsXG5cdCAgfTtcblx0fVxuXHRcblx0dmFyIHRpbWVMaW5lID0gZnVuY3Rpb24gdGltZUxpbmUodGFyZ2V0LCB0b0RhdGEsIHByb3BzKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cdCAgdGhpcy5hdHRyID0gcHJvcHMuYXR0ciB8fCAnc3R5bGUnO1xuXHQgIHRoaXMud2lsbENoYW5nZSA9IHByb3BzLndpbGxDaGFuZ2U7XG5cdCAgLy8g6K6w5b2V5oC75pe26Ze0O1xuXHQgIHRoaXMudG90YWxUaW1lID0gMDtcblx0ICAvLyDorrDlvZXlvZPliY3ml7bpl7Q7XG5cdCAgdGhpcy5wcm9ncmVzc1RpbWUgPSAwO1xuXHQgIC8vIOiusOW9leaXtumXtOi9tOaVsOaNrjtcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gW107XG5cdCAgLy8g5q+P5Liq55qE5byA5aeL5pWw5o2u77ybXG5cdCAgdGhpcy5zdGFydCA9IHt9O1xuXHQgIC8vIOiusOW9leWKqOeUu+W8gOWniztcblx0ICB0aGlzLm9uU3RhcnQgPSB7fTtcblx0ICAvLyDlvIDlp4vpu5jorqTnmoTmlbDmja7vvJtcblx0ICB0aGlzLnN0YXJ0RGVmYXVsdERhdGEgPSB7fTtcblx0ICB2YXIgZGF0YSA9IFtdO1xuXHQgIHRvRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG5cdCAgICB2YXIgX2QgPSBfZXh0ZW5kcyh7fSwgZCk7XG5cdCAgICBpZiAoX3RoaXMuYXR0ciA9PT0gJ3N0eWxlJykge1xuXHQgICAgICBkYXRhW2ldID0ge307XG5cdCAgICAgIE9iamVjdC5rZXlzKF9kKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgICAgICBpZiAoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkge1xuXHQgICAgICAgICAgZGF0YVtpXVtrZXldID0gX2Rba2V5XTtcblx0ICAgICAgICAgIGRlbGV0ZSBfZFtrZXldO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGRhdGFbaV0uc3R5bGUgPSBfZDtcblx0ICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YS5zdHlsZSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG5cdCAgICB9IGVsc2UgaWYgKF90aGlzLmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgICAgaWYgKGtleSA9PT0gJ3N0eWxlJyAmJiBBcnJheS5pc0FycmF5KGRba2V5XSkpIHtcblx0ICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgc2hvdWxkIGJlIHRoZSBvYmplY3QuJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChrZXkgPT09ICdiZXppZXInKSB7XG5cdCAgICAgICAgICBfZC5zdHlsZSA9IF9leHRlbmRzKHt9LCBfZC5zdHlsZSwgeyBiZXppZXI6IF9kW2tleV0gfSk7XG5cdCAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcblx0ICAgICAgICAgIF90aGlzLnN0YXJ0RGVmYXVsdERhdGEuc3R5bGUgPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhW2tleV0gPSBfdGhpcy50YXJnZXQuZ2V0QXR0cmlidXRlKGtleSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZGF0YVtpXSA9IF9kO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIC8vIOWKqOeUu+i/h+eoi1xuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICAvLyDmr4/luKfnmoTml7bpl7Q7XG5cdCAgdGhpcy5wZXJGcmFtZSA9IE1hdGgucm91bmQoMTAwMCAvIDYwKTtcblx0ICAvLyDms6jlhozvvIznrKzkuIDmrKHov5vlhaXmiafooYzms6jlhoxcblx0ICB0aGlzLnJlZ2lzdGVyID0gZmFsc2U7XG5cdCAgLy8g57yT5Yqo5pyA5bCP5YC8O1xuXHQgIHRoaXMudGlueU51bSA9IDAuMDAwMDAwMDAwMTtcblx0ICAvLyDorr7nva7pu5jorqTliqjnlLvmlbDmja47XG5cdCAgdGhpcy5zZXREZWZhdWx0RGF0YShkYXRhKTtcblx0fTtcblx0dmFyIHAgPSB0aW1lTGluZS5wcm90b3R5cGU7XG5cdFxuXHRwLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKF92YXJzKSB7XG5cdCAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgIHZhciBub3cgPSAwO1xuXHQgIHZhciByZXBlYXRNYXggPSBmYWxzZTtcblx0ICB2YXIgZGF0YSA9IF92YXJzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgdmFyIGFwcGVhclRvQm9vbCA9IHR5cGVvZiBpdGVtLmFwcGVhclRvID09PSAnbnVtYmVyJztcblx0ICAgIC8vIOWKoOS4iuW7tuaXtu+8jOWcqOayoeacieaSreaUvui/h+aXtu+8m1xuXHQgICAgLy8gIWFwcGVhclRvQm9vbCAmJiAobm93ICs9IGl0ZW0uZGVsYXkgfHwgMCk7XG5cdCAgICBpZiAoIWFwcGVhclRvQm9vbCkge1xuXHQgICAgICBub3cgKz0gaXRlbS5kZWxheSB8fCAwO1xuXHQgICAgfVxuXHQgICAgdmFyIGFwcGVhclRvVGltZSA9IChpdGVtLmFwcGVhclRvIHx8IDApICsgKGl0ZW0uZGVsYXkgfHwgMCk7XG5cdCAgICAvLyDojrflj5bpu5jorqTmlbDmja5cblx0ICAgIHZhciB0d2VlbkRhdGEgPSBkZWZhdWx0RGF0YShpdGVtLCBhcHBlYXJUb0Jvb2wgPyBhcHBlYXJUb1RpbWUgOiBub3cpO1xuXHQgICAgdHdlZW5EYXRhLnZhcnMgPSB7fTtcblx0ICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcblx0ICAgICAgaWYgKCEoX2tleSBpbiB0d2VlbkRhdGEpKSB7XG5cdCAgICAgICAgdmFyIF9kYXRhID0gaXRlbVtfa2V5XTtcblx0ICAgICAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzMi50YXJnZXQsIF9kYXRhLCB0d2VlbkRhdGEudHlwZSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChfa2V5Lm1hdGNoKC9jb2xvci9pKSB8fCBfa2V5ID09PSAnc3Ryb2tlJyB8fCBfa2V5ID09PSAnZmlsbCcpIHtcblx0ICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB0eXBlOiAnY29sb3InLCB2YXJzOiAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoX2RhdGEpIH07XG5cdCAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX2RhdGEgPT09ICdudW1iZXInIHx8IF9kYXRhLnNwbGl0KC9bLHxcXHNdL2cpLmxlbmd0aCA8PSAxKSB7XG5cdCAgICAgICAgICB2YXIgdmFycyA9IHBhcnNlRmxvYXQoX2RhdGEpO1xuXHQgICAgICAgICAgdmFyIHVuaXQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgICAgIHZhciBjb3VudCA9IF9kYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSB7IHVuaXQ6IHVuaXQsIHZhcnM6IHZhcnMsIGNvdW50OiBjb3VudCB9O1xuXHQgICAgICAgIH0gZWxzZSBpZiAoKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykgJiYgJ1NWR01vcnBoJyBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdLlNWR01vcnBoKF90aGlzMi50YXJnZXQsIF9kYXRhLCBfa2V5KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgaWYgKHR3ZWVuRGF0YS55b3lvICYmICF0d2VlbkRhdGEucmVwZWF0KSB7XG5cdCAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogeW95byBtdXN0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCByZXBlYXQ7Jyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblx0ICAgIH1cblx0ICAgIGlmICh0d2VlbkRhdGEucmVwZWF0ID09PSAtMSkge1xuXHQgICAgICByZXBlYXRNYXggPSB0cnVlO1xuXHQgICAgfVxuXHQgICAgdmFyIHJlcGVhdCA9IHR3ZWVuRGF0YS5yZXBlYXQgPT09IC0xID8gMCA6IHR3ZWVuRGF0YS5yZXBlYXQ7XG5cdCAgICBpZiAoYXBwZWFyVG9Cb29sKSB7XG5cdCAgICAgIC8vIOWmguaenOaciSBhcHBlYXJUbyDkuJTov5nmnaHml7bpl7Tmr5Qgbm93IOWkp+aXtu+8jO+8jOaAu+aXtumXtOeUqOi/meadoe+8m1xuXHQgICAgICB2YXIgYXBwZWFyTm93ID0gaXRlbS5hcHBlYXJUbyArIChpdGVtLmRlbGF5IHx8IDApICsgdHdlZW5EYXRhLmR1cmF0aW9uICogKHJlcGVhdCArIDEpICsgdHdlZW5EYXRhLnJlcGVhdERlbGF5ICogcmVwZWF0O1xuXHQgICAgICBub3cgPSBhcHBlYXJOb3cgPj0gbm93ID8gYXBwZWFyTm93IDogbm93O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKHR3ZWVuRGF0YS5kZWxheSA8IC10d2VlbkRhdGEuZHVyYXRpb24pIHtcblx0ICAgICAgICAvLyDlpoLmnpzlu7bml7blsI/kuo4g6LSf5pe26Ze05pe2LCzkuI3liqAs5YaN5YeP5Zue5bu25pe2O1xuXHQgICAgICAgIG5vdyAtPSB0d2VlbkRhdGEuZGVsYXk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gcmVwZWF0IOS4uiAtMSDlj6rorrDlvZXkuIDmrKHjgILkuI3og73ot58gcmV2ZXJzZSDlkIzml7bkvb/nlKg7XG5cdCAgICAgICAgbm93ICs9IHR3ZWVuRGF0YS5kdXJhdGlvbiAqIChyZXBlYXQgKyAxKSArIHR3ZWVuRGF0YS5yZXBlYXREZWxheSAqIHJlcGVhdDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdHdlZW5EYXRhLm1vZGUgPSAnJztcblx0ICAgIHJldHVybiB0d2VlbkRhdGE7XG5cdCAgfSk7XG5cdCAgdGhpcy50b3RhbFRpbWUgPSByZXBlYXRNYXggPyBOdW1iZXIuTUFYX1ZBTFVFIDogbm93O1xuXHQgIHRoaXMuZGVmYXVsdERhdGEgPSBkYXRhO1xuXHR9O1xuXHRwLmdldEFuaW1TdGFydERhdGEgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICB2YXIgc3RhcnQgPSB7fTtcblx0ICBPYmplY3Qua2V5cyhpdGVtKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzMy5hdHRyID09PSAnYXR0cicgJiYgKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykpIHtcblx0ICAgICAgc3RhcnRbX2tleV0gPSBpdGVtW19rZXldLmdldEFuaW1TdGFydChfdGhpczMud2lsbENoYW5nZSk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIGlmIChfdGhpczMuYXR0ciA9PT0gJ2F0dHInKSB7XG5cdCAgICAgIC8vIOmZpOS6hmTlkozov5lwb2ludHPlpJbnmoTmoIfnrb7liqjnlLvvvJtcblx0ICAgICAgdmFyIGF0dHJpYnV0ZSA9IF90aGlzMy50YXJnZXQuZ2V0QXR0cmlidXRlKF9rZXkpO1xuXHQgICAgICB2YXIgZGF0YSA9IGF0dHJpYnV0ZSA9PT0gJ251bGwnIHx8ICFhdHRyaWJ1dGUgPyAwIDogYXR0cmlidXRlO1xuXHQgICAgICBpZiAoX2tleS5tYXRjaCgvY29sb3IvaSkgfHwgX2tleSA9PT0gJ3N0cm9rZScgfHwgX2tleSA9PT0gJ2ZpbGwnKSB7XG5cdCAgICAgICAgZGF0YSA9ICFkYXRhICYmIF9rZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogZGF0YTtcblx0ICAgICAgICBkYXRhID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKGRhdGEpO1xuXHQgICAgICAgIHN0YXJ0W19rZXldID0gZGF0YTtcblx0ICAgICAgfSBlbHNlIGlmIChwYXJzZUZsb2F0KGRhdGEpIHx8IHBhcnNlRmxvYXQoZGF0YSkgPT09IDAgfHwgZGF0YSA9PT0gMCkge1xuXHQgICAgICAgIHZhciB1bml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgICAgICBzdGFydFtfa2V5XSA9IHVuaXQgIT09IGl0ZW1bX2tleV0udW5pdCA/ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMy50YXJnZXQsIF9rZXksIHBhcnNlRmxvYXQoZGF0YSksIHVuaXQsIGl0ZW1bX2tleV0udW5pdCkgOiBwYXJzZUZsb2F0KGRhdGEpO1xuXHQgICAgICB9XG5cdCAgICAgIC8vIHN0YXJ0W19rZXldID0gZGF0YTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgc3RhcnRbX2tleV0gPSBfdGhpczMudGFyZ2V0W19rZXldIHx8IDA7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHN0YXJ0O1xuXHR9O1xuXHRwLnNldEFuaW1EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0ICB2YXIgX3RoaXM0ID0gdGhpcztcblx0XG5cdCAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM0LmF0dHIgPT09ICdhdHRyJyAmJiAoa2V5ID09PSAnZCcgfHwga2V5ID09PSAncG9pbnRzJykpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgX3RoaXM0LnRhcmdldFtrZXldID0gZGF0YVtrZXldO1xuXHQgIH0pO1xuXHR9O1xuXHRwLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBlbmREYXRhLCBpKSB7XG5cdCAgdmFyIF90aGlzNSA9IHRoaXM7XG5cdFxuXHQgIE9iamVjdC5rZXlzKGVuZERhdGEudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuXHQgICAgaWYgKF9rZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSB8fCBfdGhpczUuYXR0ciA9PT0gJ2F0dHInICYmIChfa2V5ID09PSAnZCcgfHwgX2tleSA9PT0gJ3BvaW50cycpKSB7XG5cdCAgICAgIGVuZERhdGEudmFyc1tfa2V5XS5zZXRSYXRpbyhyYXRpbywgX3RoaXM1LnR3ZWVuKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGVuZFZhcnMgPSBlbmREYXRhLnZhcnNbX2tleV07XG5cdCAgICB2YXIgc3RhcnRWYXJzID0gX3RoaXM1LnN0YXJ0W2ldW19rZXldO1xuXHQgICAgdmFyIGRhdGEgPSB2b2lkIDA7XG5cdCAgICBpZiAoX3RoaXM1LmF0dHIgPT09ICdhdHRyJykge1xuXHQgICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG5cdCAgICAgIGlmICghZW5kVmFycy50eXBlKSB7XG5cdCAgICAgICAgZGF0YSA9IGVuZFZhcnMudW5pdC5jaGFyQXQoMSkgPT09ICc9JyA/IHN0YXJ0VmFycyArIGVuZFZhcnMudmFycyAqIHJhdGlvICsgZW5kVmFycy51bml0IDogKGVuZFZhcnMudmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIGVuZFZhcnMudW5pdDtcblx0ICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCBkYXRhKTtcblx0ICAgICAgfSBlbHNlIGlmIChlbmRWYXJzLnR5cGUgPT09ICdjb2xvcicpIHtcblx0ICAgICAgICBpZiAoZW5kVmFycy52YXJzLmxlbmd0aCA9PT0gMyAmJiBzdGFydFZhcnMubGVuZ3RoID09PSA0KSB7XG5cdCAgICAgICAgICBlbmRWYXJzLnZhcnNbM10gPSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBkYXRhID0gZW5kVmFycy52YXJzLm1hcChmdW5jdGlvbiAoX2VuZERhdGEsIF9pKSB7XG5cdCAgICAgICAgICB2YXIgc3RhcnREYXRhID0gc3RhcnRWYXJzW19pXSB8fCAwO1xuXHQgICAgICAgICAgcmV0dXJuIChfZW5kRGF0YSAtIHN0YXJ0RGF0YSkgKiByYXRpbyArIHN0YXJ0RGF0YTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGRhdGEpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHRoaXMuc2V0QW5pbURhdGEodGhpcy50d2Vlbik7XG5cdH07XG5cdHAucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpczYgPSB0aGlzO1xuXHRcblx0ICB0aGlzLmRlZmF1bHREYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcblx0ICAgIHZhciBpbml0VGltZSA9IGl0ZW0uaW5pdFRpbWU7XG5cdCAgICB2YXIgZHVyYXRpb24gPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoaXRlbS5kdXJhdGlvbik7XG5cdCAgICAvLyDlpITnkIYgeW95byDlkowgcmVwZWF0OyB5b3lvIOaYr+WcqOaXtumXtOi9tOS4iueahCwg5bm25LiN5piv5YCS5pS+XG5cdCAgICB2YXIgcmVwZWF0TnVtID0gTWF0aC5jZWlsKChfdGhpczYucHJvZ3Jlc3NUaW1lIC0gaW5pdFRpbWUpIC8gKGR1cmF0aW9uICsgaXRlbS5yZXBlYXREZWxheSkpIC0gMTtcblx0ICAgIHJlcGVhdE51bSA9IHJlcGVhdE51bSA8IDAgPyAwIDogcmVwZWF0TnVtO1xuXHQgICAgLy8gcmVwZWF0TnVtID0gdGhpcy5wcm9ncmVzc1RpbWUgPT09IDAgPyByZXBlYXROdW0gKyAxIDogcmVwZWF0TnVtO1xuXHQgICAgaWYgKGl0ZW0ucmVwZWF0KSB7XG5cdCAgICAgIGlmIChpdGVtLnJlcGVhdCA8IHJlcGVhdE51bSAmJiBpdGVtLnJlcGVhdCAhPT0gLTEpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGl0ZW0ucmVwZWF0IHx8IGl0ZW0ucmVwZWF0IDw9IHJlcGVhdE51bSkge1xuXHQgICAgICAgIGluaXRUaW1lID0gaW5pdFRpbWUgKyByZXBlYXROdW0gKiAoZHVyYXRpb24gKyBpdGVtLnJlcGVhdERlbGF5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDA7XG5cdCAgICB2YXIgZW5kRGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMCA6IDE7XG5cdCAgICAvLyAg57K+5bqm5o2f5aSx77yM5Y+q5Y+W5bCP5pWw54K55ZCOMTDkvY3jgIJcblx0ICAgIHZhciBwcm9ncmVzc1RpbWUgPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKTtcblx0ICAgIC8vIOiuvue9riBzdGFydFxuXHQgICAgdmFyIGRlbGF5ID0gaXRlbS5kZWxheSA+PSAwID8gaXRlbS5kZWxheSA6IC1pdGVtLmRlbGF5O1xuXHQgICAgdmFyIGZyb21EZWxheSA9IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gZGVsYXkgOiAwO1xuXHQgICAgaWYgKHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUgJiYgIV90aGlzNi5zdGFydFtpXSkge1xuXHQgICAgICBfdGhpczYuc3RhcnRbaV0gPSBfdGhpczYuZ2V0QW5pbVN0YXJ0RGF0YShpdGVtLnZhcnMpO1xuXHQgICAgICBpZiAoIV90aGlzNi5yZWdpc3RlciAmJiBwcm9ncmVzc1RpbWUgPD0gX3RoaXM2LnBlckZyYW1lKSB7XG5cdCAgICAgICAgX3RoaXM2LnJlZ2lzdGVyID0gdHJ1ZTtcblx0ICAgICAgICAvLyDlnKjlvIDlp4vot7PluKfml7bjgILjgIJbe3g6MTAwLHR5cGU6J2Zyb20nfSx7eTozMDB9Xe+8jOi3s+i/h+S6hmZyb23ml7YsIG1vbWVudCA9IDYwMCA9PiDpnIDopoHmiopmcm9t5ZCI5Zue5p2lXG5cdCAgICAgICAgLy8g5aaC5p6cIGR1cmF0aW9uIOWSjCBkZWxheSDpg73kuLogMO+8jCDliKTmlq3nlKhzZXQsIOebtOaOpeazqOWGjOaXtuWwsee7k+adnztcblx0ICAgICAgICB2YXIgcyA9IGRlbGF5ID8gMCA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG5cdCAgICAgICAgdmFyIHNzID0gZHVyYXRpb24gPyBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lIDwgMCA/IDAgOiBwcm9ncmVzc1RpbWUsIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pIDogcztcblx0ICAgICAgICB2YXIgc3QgPSBwcm9ncmVzc1RpbWUgLyAoZHVyYXRpb24gKyBmcm9tRGVsYXkpID4gMSA/IDEgOiBzcztcblx0ICAgICAgICBfdGhpczYuc2V0UmF0aW8oc3QsIGl0ZW0sIGkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgZSA9IHtcblx0ICAgICAgaW5kZXg6IGksXG5cdCAgICAgIHRhcmdldDogX3RoaXM2LnRhcmdldFxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBvblJlcGVhdCDlpITnkIZcblx0ICAgIGlmIChpdGVtLnJlcGVhdCAmJiByZXBlYXROdW0gPiAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+PSAwICYmIHByb2dyZXNzVGltZSA8IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAvLyDph43mlrDlvIDlp4ssIOWcqOesrOS4gOenkuinpuWPkeaXtuiwg+eUqDtcblx0ICAgICAgaXRlbS5vblJlcGVhdChlKTtcblx0ICAgIH1cblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgPCAwICYmIHByb2dyZXNzVGltZSArIGZyb21EZWxheSA+IC1fdGhpczYucGVyRnJhbWUpIHtcblx0ICAgICAgX3RoaXM2LnNldFJhdGlvKGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDAsIGl0ZW0sIGkpO1xuXHQgICAgfSBlbHNlIGlmIChwcm9ncmVzc1RpbWUgPj0gZHVyYXRpb24gJiYgaXRlbS5tb2RlICE9PSAnb25Db21wbGV0ZScpIHtcblx0ICAgICAgdmFyIGNvbXBSYXRpbyA9IGR1cmF0aW9uID8gaXRlbS5lYXNlKGR1cmF0aW9uLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKSA6IGl0ZW0uZWFzZShfdGhpczYudGlueU51bSwgc3RhcnREYXRhLCBlbmREYXRhLCBfdGhpczYudGlueU51bSk7XG5cdCAgICAgIF90aGlzNi5zZXRSYXRpbyhjb21wUmF0aW8sIGl0ZW0sIGkpO1xuXHQgICAgICBpZiAoaXRlbS5tb2RlICE9PSAncmVzZXQnKSB7XG5cdCAgICAgICAgaXRlbS5vbkNvbXBsZXRlKGUpO1xuXHQgICAgICB9XG5cdCAgICAgIGl0ZW0ubW9kZSA9ICdvbkNvbXBsZXRlJztcblx0ICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24pIHtcblx0ICAgICAgaXRlbS5tb2RlID0gcHJvZ3Jlc3NUaW1lIDwgX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYub25TdGFydFtpXSA/ICdvblN0YXJ0JyA6ICdvblVwZGF0ZSc7XG5cdCAgICAgIHByb2dyZXNzVGltZSA9IHByb2dyZXNzVGltZSA8IDAgPyAwIDogcHJvZ3Jlc3NUaW1lO1xuXHQgICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPiBkdXJhdGlvbiA/IGR1cmF0aW9uIDogcHJvZ3Jlc3NUaW1lO1xuXHQgICAgICB2YXIgcmF0aW8gPSBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKTtcblx0ICAgICAgX3RoaXM2LnNldFJhdGlvKHJhdGlvLCBpdGVtLCBpKTtcblx0ICAgICAgX3RoaXM2Lm9uU3RhcnRbaV0gPSB0cnVlO1xuXHQgICAgICBpZiAocHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICAgIGl0ZW0ub25TdGFydChlKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpdGVtLm9uVXBkYXRlKF9leHRlbmRzKHsgcmF0aW86IHJhdGlvIH0sIGUpKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwcm9ncmVzc1RpbWUgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBkdXJhdGlvbiArIF90aGlzNi5wZXJGcmFtZSkge1xuXHQgICAgICBfdGhpczYub25DaGFuZ2UoX2V4dGVuZHMoe1xuXHQgICAgICAgIG1vbWVudDogX3RoaXM2LnByb2dyZXNzVGltZSxcblx0ICAgICAgICBtb2RlOiBpdGVtLm1vZGVcblx0ICAgICAgfSwgZSkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9O1xuXHQvLyDmkq3mlL7luKdcblx0cC5mcmFtZSA9IGZ1bmN0aW9uIChtb21lbnQpIHtcblx0ICB0aGlzLnByb2dyZXNzVGltZSA9IG1vbWVudDtcblx0ICB0aGlzLnJlbmRlcigpO1xuXHR9O1xuXHRwLnJlc2V0QW5pbURhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdGhpcy50d2VlbiA9IHt9O1xuXHQgIHRoaXMuc3RhcnQgPSB7fTtcblx0ICB0aGlzLm9uU3RhcnQgPSB7fTtcblx0fTtcblx0XG5cdHAucmVzZXREZWZhdWx0U3R5bGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF90aGlzNyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMudHdlZW4gPSB7fTtcblx0ICB0aGlzLmRlZmF1bHREYXRhID0gdGhpcy5kZWZhdWx0RGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgIGl0ZW0ubW9kZSA9ICdyZXNldCc7XG5cdCAgICByZXR1cm4gaXRlbTtcblx0ICB9KTtcblx0ICBPYmplY3Qua2V5cyh0aGlzLnN0YXJ0RGVmYXVsdERhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHQgICAgaWYgKCEoa2V5IGluIGRlZmF1bHREYXRhKHt9LCAwKSkpIHtcblx0ICAgICAgX3RoaXM3LnRhcmdldC5zZXRBdHRyaWJ1dGUoa2V5LCBfdGhpczcuc3RhcnREZWZhdWx0RGF0YVtrZXldKTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0XG5cdHAub25DaGFuZ2UgPSBub29wO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRpbWVMaW5lO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTY0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfVHdlZW5PbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblx0XG5cdHZhciBfVHdlZW5PbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVHdlZW5PbmUpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgVHdlZW5PbmVHcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgX2luaGVyaXRzKFR3ZWVuT25lR3JvdXAsIF9Db21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBUd2Vlbk9uZUdyb3VwKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3ZWVuT25lR3JvdXApO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdFxuXHQgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblx0XG5cdCAgICBfdGhpcy5rZXlzVG9FbnRlciA9IFtdO1xuXHQgICAgX3RoaXMua2V5c1RvTGVhdmUgPSBbXTtcblx0ICAgIF90aGlzLm9uRW50ZXJCb29sID0gZmFsc2U7XG5cdCAgICBfdGhpcy5pc1R3ZWVuID0ge307XG5cdCAgICAvLyDnrKzkuIDov5vlhaXvvIxhcHBlYXIg5Li6IHRydWUg5pe26buY6K6k55SoIGVudGVyIOaIliB0d2Vlbi1vbmUg5LiK55qE5pWI5p6cXG5cdCAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKSgoMCwgX3V0aWwuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMpKF90aGlzLnByb3BzKSk7XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgIHRoaXMub25FbnRlckJvb2wgPSB0cnVlO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIG5leHRDaGlsZHJlbiA9ICgwLCBfdXRpbC50b0FycmF5Q2hpbGRyZW4pKG5leHRQcm9wcy5jaGlsZHJlbik7XG5cdCAgICB2YXIgY3VycmVudENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG5cdCAgICB2YXIgbmV3Q2hpbGRyZW4gPSAoMCwgX3V0aWwubWVyZ2VDaGlsZHJlbikoY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pO1xuXHRcblx0ICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcblx0ICAgIHRoaXMua2V5c1RvTGVhdmUgPSBbXTtcblx0ICAgIG5leHRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG5cdCAgICAgIGlmICghYykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB2YXIga2V5ID0gYy5rZXk7XG5cdCAgICAgIHZhciBoYXNQcmV2ID0gKDAsIF91dGlsLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSkoY3VycmVudENoaWxkcmVuLCBrZXkpO1xuXHQgICAgICBpZiAoIWhhc1ByZXYgJiYga2V5KSB7XG5cdCAgICAgICAgX3RoaXMyLmtleXNUb0VudGVyLnB1c2goa2V5KTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cdFxuXHQgICAgY3VycmVudENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcblx0ICAgICAgaWYgKCFjKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBrZXkgPSBjLmtleTtcblx0ICAgICAgdmFyIGhhc05leHQgPSAoMCwgX3V0aWwuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KShuZXh0Q2hpbGRyZW4sIGtleSk7XG5cdCAgICAgIGlmICghaGFzTmV4dCAmJiBrZXkpIHtcblx0ICAgICAgICBfdGhpczIua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBjaGlsZHJlblRvUmVuZGVyID0gdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyKHRoaXMuc3RhdGUuY2hpbGRyZW4pO1xuXHQgICAgaWYgKCF0aGlzLnByb3BzLmNvbXBvbmVudCkge1xuXHQgICAgICByZXR1cm4gY2hpbGRyZW5Ub1JlbmRlclswXSB8fCBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGNvbXBvbmVudFByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuXHQgICAgWydjb21wb25lbnQnLCAnYXBwZWFyJywgJ2VudGVyJywgJ2xlYXZlJywgJ2FuaW1hdGluZ0NsYXNzTmFtZScsICdvbkVuZCcsICdyZXNldFN0eWxlQm9vbCcsICd3aWxsQ2hhbmdlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICAgIHJldHVybiBkZWxldGUgY29tcG9uZW50UHJvcHNba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuICgwLCBfcmVhY3QuY3JlYXRlRWxlbWVudCkodGhpcy5wcm9wcy5jb21wb25lbnQsIGNvbXBvbmVudFByb3BzLCBjaGlsZHJlblRvUmVuZGVyKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gVHdlZW5PbmVHcm91cDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdHZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcblx0ICB2YXIgX3RoaXMzID0gdGhpcztcblx0XG5cdCAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChhbmltYXRpb24sIGtleSwgdHlwZSwgb2JqKSB7XG5cdCAgICB2YXIgbGVuZ3RoID0gKDAsIF91dGlsLmRhdGFUb0FycmF5KShhbmltYXRpb24pLmxlbmd0aDtcblx0ICAgIHZhciBhbmltYXRpbmdDbGFzc05hbWUgPSBfdGhpczMucHJvcHMuYW5pbWF0aW5nQ2xhc3NOYW1lO1xuXHQgICAgdmFyIHRhZyA9IG9iai50YXJnZXQ7XG5cdCAgICB2YXIgaXNFbnRlciA9IHR5cGUgPT09ICdlbnRlcicgfHwgdHlwZSA9PT0gJ2FwcGVhcic7XG5cdCAgICBpZiAob2JqLm1vZGUgPT09ICdvblN0YXJ0Jykge1xuXHQgICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMSA6IDBdLCAnJykudHJpbSgpO1xuXHQgICAgICBpZiAodGFnLmNsYXNzTmFtZS5pbmRleE9mKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdKSA9PT0gLTEpIHtcblx0ICAgICAgICB0YWcuY2xhc3NOYW1lID0gKHRhZy5jbGFzc05hbWUgKyAnICcgKyBhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkudHJpbSgpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKG9iai5pbmRleCA9PT0gbGVuZ3RoIC0gMSAmJiBvYmoubW9kZSA9PT0gJ29uQ29tcGxldGUnKSB7XG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbjtcblx0ICAgICAgaWYgKHR5cGUgPT09ICdlbnRlcicpIHtcblx0ICAgICAgICBfdGhpczMua2V5c1RvRW50ZXIuc3BsaWNlKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSksIDEpO1xuXHQgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsZWF2ZScpIHtcblx0ICAgICAgICBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7XG5cdCAgICAgICAgICByZXR1cm4ga2V5ICE9PSBjaGlsZC5rZXk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgX3RoaXMzLmtleXNUb0xlYXZlLnNwbGljZShfdGhpczMua2V5c1RvTGVhdmUuaW5kZXhPZihrZXkpLCAxKTtcblx0ICAgICAgfVxuXHQgICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdLCAnJykudHJpbSgpO1xuXHQgICAgICBkZWxldGUgX3RoaXMzLmlzVHdlZW5ba2V5XTtcblx0ICAgICAgX3RoaXMzLnNldFN0YXRlKHtcblx0ICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cblx0ICAgICAgfSk7XG5cdCAgICAgIHZhciBfb2JqID0geyBrZXk6IGtleSwgdHlwZTogdHlwZSB9O1xuXHQgICAgICBfdGhpczMucHJvcHMub25FbmQoX29iaik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5nZXRDb3ZlckFuaW1hdGlvbiA9IGZ1bmN0aW9uIChjaGlsZCwgaSwgdHlwZSkge1xuXHQgICAgdmFyIGFuaW1hdGlvbiA9IHZvaWQgMDtcblx0ICAgIHZhciBvbkNoYW5nZSA9IHZvaWQgMDtcblx0ICAgIGFuaW1hdGlvbiA9IHR5cGUgPT09ICdsZWF2ZScgPyBfdGhpczMucHJvcHMubGVhdmUgOiBfdGhpczMucHJvcHMuZW50ZXI7XG5cdCAgICBpZiAodHlwZSA9PT0gJ2FwcGVhcicpIHtcblx0ICAgICAgdmFyIGFwcGVhciA9ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKF90aGlzMy5wcm9wcy5hcHBlYXIsIGNoaWxkLmtleSwgaSk7XG5cdCAgICAgIGFuaW1hdGlvbiA9IGFwcGVhciAmJiBfdGhpczMucHJvcHMuZW50ZXIgfHwgbnVsbDtcblx0ICAgIH1cblx0ICAgIG9uQ2hhbmdlID0gX3RoaXMzLm9uQ2hhbmdlLmJpbmQoX3RoaXMzLCBhbmltYXRpb24sIGNoaWxkLmtleSwgdHlwZSk7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHtcblx0ICAgICAgd2lsbENoYW5nZTogX3RoaXMzLnByb3BzLndpbGxDaGFuZ2UsXG5cdCAgICAgIGtleTogY2hpbGQua2V5LFxuXHQgICAgICBjb21wb25lbnQ6IGNoaWxkLnR5cGUsXG5cdCAgICAgIGFuaW1hdGlvbjogKDAsIF91dGlsLnRyYW5zZm9ybUFyZ3VtZW50cykoYW5pbWF0aW9uLCBjaGlsZC5rZXksIGkpLFxuXHQgICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG5cdCAgICAgIHJlc2V0U3R5bGVCb29sOiBfdGhpczMucHJvcHMucmVzZXRTdHlsZUJvb2xcblx0ICAgIH0pKTtcblx0ICAgIGlmIChfdGhpczMua2V5c1RvRW50ZXIuY29uY2F0KF90aGlzMy5rZXlzVG9MZWF2ZSkuaW5kZXhPZihjaGlsZC5rZXkpID49IDAgfHwgIV90aGlzMy5vbkVudGVyQm9vbCAmJiBhbmltYXRpb24pIHtcblx0ICAgICAgX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSA9IHR5cGU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY2hpbGRyZW47XG5cdCAgfTtcblx0XG5cdCAgdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG5cdCAgICByZXR1cm4gY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgaSkge1xuXHQgICAgICBpZiAoIWNoaWxkIHx8ICFjaGlsZC5rZXkpIHtcblx0ICAgICAgICByZXR1cm4gY2hpbGQ7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcblx0ICAgICAgaWYgKF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPj0gMCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdsZWF2ZScpO1xuXHQgICAgICB9IGVsc2UgaWYgKF90aGlzMy5rZXlzVG9FbnRlci5pbmRleE9mKGtleSkgPj0gMCB8fCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldICYmIF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPT09IC0xKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2VudGVyJyk7XG5cdCAgICAgIH0gZWxzZSBpZiAoIV90aGlzMy5vbkVudGVyQm9vbCkge1xuXHQgICAgICAgIHJldHVybiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksICdhcHBlYXInKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gX3RoaXMzLmlzVHdlZW5bY2hpbGQua2V5XSAmJiBfdGhpczMuZ2V0Q292ZXJBbmltYXRpb24oY2hpbGQsIGksIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0pIHx8IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1R3ZWVuT25lMltcImRlZmF1bHRcIl0sIF9leHRlbmRzKHt9LCBjaGlsZC5wcm9wcywgeyBjb21wb25lbnQ6IGNoaWxkLnR5cGUsIGtleTogY2hpbGQua2V5IH0pKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdH07XG5cdFxuXHR2YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xuXHR2YXIgb2JqZWN0T3JBcnJheU9yRnVuYyA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtvYmplY3RPckFycmF5LCBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNdKTtcblx0XG5cdFR3ZWVuT25lR3JvdXAucHJvcFR5cGVzID0ge1xuXHQgIGNvbXBvbmVudDogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICBhcHBlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICBlbnRlcjogb2JqZWN0T3JBcnJheU9yRnVuYyxcblx0ICBsZWF2ZTogb2JqZWN0T3JBcnJheU9yRnVuYyxcblx0ICBhbmltYXRpbmdDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgb25FbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgcmVzZXRTdHlsZUJvb2w6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbFxuXHR9O1xuXHRcblx0VHdlZW5PbmVHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgY29tcG9uZW50OiAnZGl2Jyxcblx0ICBhcHBlYXI6IHRydWUsXG5cdCAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBbJ3R3ZWVuLW9uZS1lbnRlcmluZycsICd0d2Vlbi1vbmUtbGVhdmluZyddLFxuXHQgIGVudGVyOiB7IHg6IDUwLCBvcGFjaXR5OiAwLCB0eXBlOiAnZnJvbScgfSxcblx0ICBsZWF2ZTogeyB4OiAtNTAsIG9wYWNpdHk6IDAgfSxcblx0ICBvbkVuZDogbm9vcCxcblx0ICB3aWxsQ2hhbmdlOiB0cnVlLFxuXHQgIHJlc2V0U3R5bGVCb29sOiB0cnVlXG5cdH07XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVHdlZW5PbmVHcm91cDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBUd2Vlbk9uZSA9IF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXHRUd2Vlbk9uZS5Ud2Vlbk9uZUdyb3VwID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO1xuXHRUd2Vlbk9uZS5lYXNpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBUd2Vlbk9uZTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTY2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzLCBuby1jb25zb2xlICovXG5cdFxuXHRcblx0dmFyIF9zdHlsZVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7XG5cdFxuXHR2YXIgX3N0eWxlVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3R5bGVVdGlscyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfcGx1Z2lucyA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpO1xuXHRcblx0dmFyIF9wbHVnaW5zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsdWdpbnMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgU3R5bGVQbHVnaW4gPSBmdW5jdGlvbiBTdHlsZVBsdWdpbih0YXJnZXQsIHZhcnMsIHR5cGUpIHtcblx0ICB0aGlzLnRhcmdldCA9IHRhcmdldDtcblx0ICB0aGlzLnZhcnMgPSB2YXJzO1xuXHQgIHRoaXMudHlwZSA9IHR5cGU7XG5cdCAgdGhpcy5wcm9wc0RhdGEgPSB7fTtcblx0ICB0aGlzLnNldERlZmF1bHREYXRhKCk7XG5cdH07XG5cdHZhciBwID0gU3R5bGVQbHVnaW4ucHJvdG90eXBlID0ge1xuXHQgIG5hbWU6ICdzdHlsZSdcblx0fTtcblx0cC5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyA/IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodGhpcy50YXJnZXQpIDoge307XG5cdH07XG5cdHAuZ2V0VHdlZW5EYXRhID0gZnVuY3Rpb24gKGtleSwgdmFycykge1xuXHQgIHZhciBkYXRhID0ge1xuXHQgICAgZGF0YToge30sXG5cdCAgICBkYXRhVHlwZToge30sXG5cdCAgICBkYXRhVW5pdDoge30sXG5cdCAgICBkYXRhQ291bnQ6IHt9LFxuXHQgICAgZGF0YVNwbGl0U3RyOiB7fVxuXHQgIH07XG5cdCAgaWYgKGtleS5tYXRjaCgvY29sb3xmaWxsfHN0b3JrZXIvaSkpIHtcblx0ICAgIGRhdGEuZGF0YVtrZXldID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHZhcnMpO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ2NvbG9yJztcblx0ICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykodmFycyk7XG5cdCAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc2hhZG93Jztcblx0ICB9IGVsc2UgaWYgKHR5cGVvZiB2YXJzID09PSAnc3RyaW5nJyAmJiB2YXJzLnNwbGl0KC9bXFxzfCxdLykubGVuZ3RoID4gMSkge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzLnNwbGl0KC9bXFxzfCxdLyk7XG5cdCAgICBkYXRhLmRhdGFTcGxpdFN0cltrZXldID0gdmFycy5yZXBsYWNlKC9bXlxcc3wsXS9nLCAnJyk7XG5cdCAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc3RyaW5nJztcblx0ICB9IGVsc2Uge1xuXHQgICAgZGF0YS5kYXRhW2tleV0gPSB2YXJzO1xuXHQgICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ290aGVyJztcblx0ICB9XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5kYXRhW2tleV0pKSB7XG5cdCAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcblx0ICAgIH0pO1xuXHQgICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcblx0ICAgICAgcmV0dXJuIF9pdGVtLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgZGF0YS5kYXRhW2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG5cdCAgICAgIHJldHVybiAhcGFyc2VGbG9hdChfaXRlbSkgJiYgcGFyc2VGbG9hdChfaXRlbSkgIT09IDAgPyBfaXRlbSA6IHBhcnNlRmxvYXQoX2l0ZW0pO1xuXHQgICAgfSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIGRhdGEuZGF0YVVuaXRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuXHQgICAgdmFyIGQgPSBwYXJzZUZsb2F0KGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW2EtenwlfD1dL2csICcnKSk7XG5cdCAgICBkYXRhLmRhdGFba2V5XSA9ICFkICYmIGQgIT09IDAgPyBkYXRhLmRhdGFba2V5XSA6IGQ7XG5cdCAgfVxuXHQgIHJldHVybiBkYXRhO1xuXHR9O1xuXHRwLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKCkge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGEgPSB7fTtcblx0ICB0aGlzLnByb3BzRGF0YS5kYXRhVHlwZSA9IHt9O1xuXHQgIHRoaXMucHJvcHNEYXRhLmRhdGFVbml0ID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50ID0ge307XG5cdCAgdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyID0ge307XG5cdCAgT2JqZWN0LmtleXModGhpcy52YXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChfa2V5KSB7XG5cdCAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG5cdCAgICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW19rZXldID0gbmV3IF9wbHVnaW5zMltcImRlZmF1bHRcIl1bX2tleV0oX3RoaXMudGFyZ2V0LCBfdGhpcy52YXJzW19rZXldKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGtleSA9ICgwLCBfc3R5bGVVdGlscy5nZXRHc2FwVHlwZSkoX2tleSk7XG5cdCAgICB2YXIgX2RhdGEgPSBfdGhpcy5nZXRUd2VlbkRhdGEoa2V5LCBfdGhpcy52YXJzW19rZXldKTtcblx0ICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW2tleV0gPSBfZGF0YS5kYXRhW2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XSA9IF9kYXRhLmRhdGFUeXBlW2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XSA9IF9kYXRhLmRhdGFVbml0W2tleV07XG5cdCAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV0gPSBfZGF0YS5kYXRhQ291bnRba2V5XTtcblx0ICAgIGlmIChfZGF0YS5kYXRhU3BsaXRTdHJba2V5XSkge1xuXHQgICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0gPSBfZGF0YS5kYXRhU3BsaXRTdHJba2V5XTtcblx0ICAgIH1cblx0ICB9KTtcblx0fTtcblx0cC5jb252ZXJ0VG9NYXJrc0FycmF5ID0gZnVuY3Rpb24gKHVuaXQsIGtleSwgZGF0YSwgaSkge1xuXHQgIHZhciBzdGFydFVuaXQgPSBkYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgIHZhciBlbmRVbml0ID0gdW5pdFtpXTtcblx0ICBpZiAoc3RhcnRVbml0ID09PSBlbmRVbml0KSB7XG5cdCAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKTtcblx0ICB9IGVsc2UgaWYgKCFwYXJzZUZsb2F0KGRhdGEpICYmIHBhcnNlRmxvYXQoZGF0YSkgIT09IDApIHtcblx0ICAgIHJldHVybiBkYXRhO1xuXHQgIH1cblx0ICByZXR1cm4gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkodGhpcy50YXJnZXQsIGtleSwgZGF0YSwgc3RhcnRVbml0LCBlbmRVbml0LCBudWxsLCBrZXkgPT09ICd0cmFuc2Zvcm1PcmlnaW4nICYmICFpKTtcblx0fTtcblx0cC5nZXRBbmltU3RhcnQgPSBmdW5jdGlvbiAod2lsbENoYW5nZUJvb2wpIHtcblx0ICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgdmFyIGNvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTtcblx0ICB2YXIgc3R5bGUgPSB7fTtcblx0ICB0aGlzLnN1cHBvcnRzM0QgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdwZXJzcGVjdGl2ZScpO1xuXHQgIHZhciB3aWxsQ2hhbmdlQXJyYXkgPSB2b2lkIDA7XG5cdCAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG5cdCAgICB0aGlzLndpbGxDaGFuZ2UgPSBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdhdXRvJyB8fCAhY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlIHx8IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSA9PT0gJ25vbmUnID8gJycgOiBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2U7XG5cdCAgICB3aWxsQ2hhbmdlQXJyYXkgPSB0aGlzLndpbGxDaGFuZ2Uuc3BsaXQoJywnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcblx0ICAgICAgcmV0dXJuIGs7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgT2JqZWN0LmtleXModGhpcy5wcm9wc0RhdGEuZGF0YSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICB2YXIgY3NzTmFtZSA9ICgwLCBfc3R5bGVVdGlscy5pc0NvbnZlcnQpKGtleSk7XG5cdCAgICBpZiAod2lsbENoYW5nZUJvb2wpIHtcblx0ICAgICAgdmFyIHdpbGxTdHlsZSA9IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdID8gX3RoaXMyLnByb3BzRGF0YS5kYXRhW2tleV0udXNlU3R5bGUgfHwgY3NzTmFtZSA6IGNzc05hbWU7XG5cdCAgICAgIHdpbGxTdHlsZSA9IHdpbGxTdHlsZSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgPyAndHJhbnNmb3JtLW9yaWdpbicgOiB3aWxsU3R5bGU7XG5cdCAgICAgIGlmICh3aWxsQ2hhbmdlQXJyYXkuaW5kZXhPZih3aWxsU3R5bGUpID09PSAtMSAmJiAod2lsbFN0eWxlIGluIGNvbXB1dGVkU3R5bGUgfHwga2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pKSB7XG5cdCAgICAgICAgd2lsbENoYW5nZUFycmF5LnB1c2god2lsbFN0eWxlKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczIud2lsbENoYW5nZSA9IHdpbGxDaGFuZ2VBcnJheS5qb2luKCcsJyk7XG5cdCAgICB9XG5cdCAgICB2YXIgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtjc3NOYW1lXTtcblx0ICAgIHZhciBmaXhlZCA9IGNvbXB1dGVkU3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCc7XG5cdCAgICBpZiAoIXN0YXJ0RGF0YSB8fCBzdGFydERhdGEgPT09ICdub25lJyB8fCBzdGFydERhdGEgPT09ICdhdXRvJykge1xuXHQgICAgICBzdGFydERhdGEgPSAnJztcblx0ICAgIH1cblx0ICAgIHZhciB0cmFuc2Zvcm0gPSB2b2lkIDA7XG5cdCAgICB2YXIgZW5kVW5pdCA9IHZvaWQgMDtcblx0ICAgIHZhciBzdGFydFVuaXQgPSB2b2lkIDA7XG5cdCAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0pIHtcblx0ICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcblx0ICAgICAgICBfdGhpczIudHJhbnNmb3JtID0gKDAsIF9zdHlsZVV0aWxzLmNoZWNrU3R5bGVOYW1lKSgndHJhbnNmb3JtJyk7XG5cdCAgICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIudHJhbnNmb3JtXTtcblx0ICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XS5nZXRBbmltU3RhcnQoKTtcblx0ICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcblx0ICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuXHQgICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi50cmFuc2Zvcm1dO1xuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgICB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcblx0ICAgICAgaWYgKGVuZFVuaXQgJiYgZW5kVW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcblx0ICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG5cdCAgICAgICAgdHJhbnNmb3JtW3BlcmNlbnRdID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwga2V5LCB0cmFuc2Zvcm1ba2V5XSwgbnVsbCwgZW5kVW5pdCk7XG5cdCAgICAgICAgdHJhbnNmb3JtW2tleV0gPSAwO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcblx0ICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ2ZpbHRlcicpIHtcblx0ICAgICAgX3RoaXMyLmZpbHRlck5hbWUgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdmaWx0ZXInKSB8fCAnZmlsdGVyJztcblx0ICAgICAgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtfdGhpczIuZmlsdGVyTmFtZV07XG5cdCAgICAgIF90aGlzMi5maWx0ZXJPYmplY3QgPSBfZXh0ZW5kcyh7fSwgX3RoaXMyLmZpbHRlck9iamVjdCwgKDAsIF9zdHlsZVV0aWxzLnNwbGl0RmlsdGVyVG9PYmplY3QpKHN0YXJ0RGF0YSkpO1xuXHQgICAgICBzdGFydERhdGEgPSBfdGhpczIuZmlsdGVyT2JqZWN0W2tleV0gfHwgMDtcblx0ICAgICAgc3RhcnRVbml0ID0gc3RhcnREYXRhLnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG5cdCAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcblx0ICAgICAgfVxuXHQgICAgICBzdHlsZVtrZXldID0gcGFyc2VGbG9hdChzdGFydERhdGEpO1xuXHQgICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL2NvbG9yfGZpbGwvaSkgfHwga2V5ID09PSAnc3Ryb2tlJykge1xuXHQgICAgICBzdGFydERhdGEgPSAhc3RhcnREYXRhICYmIGtleSA9PT0gJ3N0cm9rZScgPyAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScgOiBzdGFydERhdGE7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHN0YXJ0RGF0YSk7XG5cdCAgICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG5cdCAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZVNoYWRvdykoc3RhcnREYXRhKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldKSkge1xuXHQgICAgICBzdGFydERhdGEgPSBzdGFydERhdGEuc3BsaXQoL1tcXHN8LF0vKTtcblx0ICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcblx0ICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gc3RhcnREYXRhO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgLy8g6K6h566X5Y2V5L2NXG5cdCAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2Nzc05hbWVdO1xuXHQgICAgICBzdGFydFVuaXQgPSBzdGFydERhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG5cdCAgICAgIGlmIChlbmRVbml0ICE9PSBzdGFydFVuaXQpIHtcblx0ICAgICAgICBzdGFydERhdGEgPSAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KShfdGhpczIudGFyZ2V0LCBjc3NOYW1lLCBwYXJzZUZsb2F0KHN0YXJ0RGF0YSksIHN0YXJ0VW5pdCwgZW5kVW5pdCwgZml4ZWQpO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlW2Nzc05hbWVdID0gcGFyc2VGbG9hdChzdGFydERhdGEgfHwgMCk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgdGhpcy5zdGFydCA9IHN0eWxlO1xuXHQgIHJldHVybiBzdHlsZTtcblx0fTtcblx0cC5zZXRBcnJheVJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBzdGFydCwgdmFycywgdW5pdCwgdHlwZSkge1xuXHQgIGlmICh0eXBlID09PSAnY29sb3InICYmIHN0YXJ0Lmxlbmd0aCA9PT0gNCAmJiB2YXJzLmxlbmd0aCA9PT0gMykge1xuXHQgICAgdmFyc1szXSA9IDE7XG5cdCAgfVxuXHQgIHZhciBzdGFydEluc2V0ID0gc3RhcnQuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuXHQgIHZhciBlbmRJbnNldCA9IHZhcnMuaW5kZXhPZignaW5zZXQnKSA+PSAwO1xuXHQgIGlmIChzdGFydEluc2V0ICYmICFlbmRJbnNldCB8fCBlbmRJbnNldCAmJiAhc3RhcnRJbnNldCkge1xuXHQgICAgdGhyb3cgY29uc29sZS5lcnJvcignRXJyb3I6IFwiYm94LXNoYWRvd1wiIGluc2V0IGhhdmUgdG8gZXhpc3QnKTtcblx0ICB9XG5cdCAgdmFyIGxlbmd0aCA9IGVuZEluc2V0ID8gOSA6IDg7XG5cdCAgaWYgKHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoICYmIHZhcnMubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG5cdCAgICB2YXJzLnNwbGljZSgzLCAwLCAwKTtcblx0ICAgIHVuaXQuc3BsaWNlKDMsIDAsICcnKTtcblx0ICB9IGVsc2UgaWYgKHZhcnMubGVuZ3RoID09PSBsZW5ndGggJiYgc3RhcnQubGVuZ3RoID09PSBsZW5ndGggLSAxKSB7XG5cdCAgICBzdGFydC5zcGxpY2UoMywgMCwgMCk7XG5cdCAgfVxuXHQgIHZhciBfdmFycyA9IHZhcnMubWFwKGZ1bmN0aW9uIChlbmREYXRhLCBpKSB7XG5cdCAgICB2YXIgc3RhcnRJc0FscGhhID0gdHlwZSA9PT0gJ2NvbG9yJyAmJiBpID09PSAzICYmICFzdGFydFtpXSA/IDEgOiAwO1xuXHQgICAgdmFyIHN0YXJ0RGF0YSA9IHR5cGVvZiBzdGFydFtpXSA9PT0gJ251bWJlcicgPyBzdGFydFtpXSA6IHN0YXJ0SXNBbHBoYTtcblx0ICAgIGlmICh0eXBlb2YgZW5kRGF0YSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgcmV0dXJuIGVuZERhdGE7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gKGVuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGEgKyAodW5pdFtpXSB8fCAwKTtcblx0ICB9KTtcblx0ICBpZiAodHlwZSA9PT0gJ2NvbG9yJykge1xuXHQgICAgcmV0dXJuICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoX3ZhcnMpO1xuXHQgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NoYWRvdycpIHtcblx0ICAgIHZhciBsID0gX3ZhcnMubGVuZ3RoID09PSBsZW5ndGggPyA0IDogMztcblx0ICAgIHZhciBzID0gX3ZhcnMuc2xpY2UoMCwgbCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ251bWJlcicpIHtcblx0ICAgICAgICByZXR1cm4gaXRlbSArICdweCc7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGl0ZW07XG5cdCAgICB9KTtcblx0ICAgIHZhciBjID0gX3ZhcnMuc2xpY2UobCwgZW5kSW5zZXQgPyBfdmFycy5sZW5ndGggLSAxIDogX3ZhcnMubGVuZ3RoKTtcblx0ICAgIHZhciBjb2xvciA9ICgwLCBfc3R5bGVVdGlscy5nZXRDb2xvcikoYyk7XG5cdCAgICByZXR1cm4gKHMuam9pbignICcpICsgJyAnICsgY29sb3IgKyAnICcgKyAoZW5kSW5zZXQgPyAnaW5zZXQnIDogJycpKS50cmltKCk7XG5cdCAgfVxuXHQgIHJldHVybiBfdmFycztcblx0fTtcblx0XG5cdHAuc2V0UmF0aW8gPSBmdW5jdGlvbiAocmF0aW8sIHR3ZWVuKSB7XG5cdCAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgIHR3ZWVuLnN0eWxlID0gdHdlZW4uc3R5bGUgfHwge307XG5cdCAgaWYgKHRoaXMuc3RhcnQudHJhbnNmb3JtKSB7XG5cdCAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gPSB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0gfHwgX2V4dGVuZHMoe30sIHRoaXMuc3RhcnQudHJhbnNmb3JtKTtcblx0ICB9XG5cdCAgdmFyIHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG5cdCAgaWYgKHRoaXMud2lsbENoYW5nZSkge1xuXHQgICAgaWYgKHJhdGlvID09PSAodGhpcy50eXBlID09PSAnZnJvbScgPyAwIDogMSkpIHtcblx0ICAgICAgc3R5bGUud2lsbENoYW5nZSA9IG51bGw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdHlsZS53aWxsQ2hhbmdlID0gdGhpcy53aWxsQ2hhbmdlO1xuXHQgICAgfVxuXHQgIH1cblx0ICBPYmplY3Qua2V5cyh0aGlzLnByb3BzRGF0YS5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHZhciBfaXNUcmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuaXNUcmFuc2Zvcm0pKGtleSkgPT09ICd0cmFuc2Zvcm0nO1xuXHQgICAgdmFyIHN0YXJ0VmFycyA9IF9pc1RyYW5zZm9ybSA/IF90aGlzMy5zdGFydC50cmFuc2Zvcm1ba2V5XSA6IF90aGlzMy5zdGFydFtrZXldO1xuXHQgICAgdmFyIGVuZFZhcnMgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XTtcblx0ICAgIHZhciB1bml0ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuXHQgICAgdmFyIGNvdW50ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhQ291bnRba2V5XTtcblx0ICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuXHQgICAgICBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XS5zZXRSYXRpbyhyYXRpbywgdHdlZW4pO1xuXHQgICAgICBpZiAoa2V5ID09PSAnYmV6aWVyJykge1xuXHQgICAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBPYmplY3Qua2V5cyh0d2Vlbi5zdHlsZSkuZm9yRWFjaChmdW5jdGlvbiAoY3NzKSB7XG5cdCAgICAgICAgICByZXR1cm4gc3R5bGVbY3NzXSA9IHR3ZWVuLnN0eWxlW2Nzc107XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSBlbHNlIGlmIChfaXNUcmFuc2Zvcm0pIHtcblx0ICAgICAgaWYgKHVuaXQgJiYgdW5pdC5tYXRjaCgvJXx2d3x2aHxlbXxyZW0vaSkpIHtcblx0ICAgICAgICB2YXIgcE5hbWUgPSBrZXkgPT09ICd0cmFuc2xhdGVYJyA/ICd4UGVyY2VudCcgOiAneVBlcmNlbnQnO1xuXHQgICAgICAgIHN0YXJ0VmFycyA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm1bcE5hbWVdO1xuXHQgICAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtW3BOYW1lXSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbyArIHVuaXQ7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtwTmFtZV0gPSAoZW5kVmFycyAtIHN0YXJ0VmFycykgKiByYXRpbyArIHN0YXJ0VmFycyArIHVuaXQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NjYWxlJykge1xuXHQgICAgICAgIHZhciB4U3RhcnQgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtLnNjYWxlWDtcblx0ICAgICAgICB2YXIgeVN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVk7XG5cdCAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVYID0geFN0YXJ0ICsgZW5kVmFycyAqIHJhdGlvO1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IHlTdGFydCArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IChlbmRWYXJzIC0geFN0YXJ0KSAqIHJhdGlvICsgeFN0YXJ0O1xuXHQgICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWSA9IChlbmRWYXJzIC0geVN0YXJ0KSAqIHJhdGlvICsgeVN0YXJ0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzO1xuXHQgICAgICB9XG5cdCAgICAgIHN0eWxlW190aGlzMy50cmFuc2Zvcm1dID0gKDAsIF91dGlsLmdldFRyYW5zZm9ybVZhbHVlKSh0d2Vlbi5zdHlsZS50cmFuc2Zvcm0sIF90aGlzMy5zdXBwb3J0czNEKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVuZFZhcnMpKSB7XG5cdCAgICAgIHZhciBfdHlwZSA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVR5cGVba2V5XTtcblx0ICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IF90aGlzMy5zZXRBcnJheVJhdGlvKHJhdGlvLCBzdGFydFZhcnMsIGVuZFZhcnMsIHVuaXQsIF90eXBlKTtcblx0ICAgICAgaWYgKF90eXBlID09PSAnc3RyaW5nJykge1xuXHQgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldLmpvaW4oX3RoaXMzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHJba2V5XSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBzdHlsZVVuaXQgPSAoMCwgX3N0eWxlVXRpbHMuc3R5bGVzVG9Dc3MpKGtleSwgMCk7XG5cdCAgICAgIHN0eWxlVW5pdCA9IHR5cGVvZiBzdHlsZVVuaXQgPT09ICdudW1iZXInID8gJycgOiBzdHlsZVVuaXQucmVwbGFjZSgvW15hLXp8JV0vZywgJycpO1xuXHQgICAgICB1bml0ID0gdW5pdCB8fCAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDAgPyAnJyA6IHN0eWxlVW5pdCk7XG5cdCAgICAgIGlmICh0eXBlb2YgZW5kVmFycyA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gZW5kVmFycztcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcblx0ICAgICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBzdGFydFZhcnMgKyBlbmRWYXJzICogcmF0aW8gKyB1bml0O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKF9zdHlsZVV0aWxzMltcImRlZmF1bHRcIl0uZmlsdGVyLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG5cdCAgICAgIGlmICghX3RoaXMzLmZpbHRlck9iamVjdCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBfdGhpczMuZmlsdGVyT2JqZWN0W2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuXHQgICAgICB2YXIgZmlsdGVyU3R5bGUgPSAnJztcblx0ICAgICAgT2JqZWN0LmtleXMoX3RoaXMzLmZpbHRlck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyS2V5KSB7XG5cdCAgICAgICAgZmlsdGVyU3R5bGUgKz0gJyAnICsgZmlsdGVyS2V5ICsgJygnICsgX3RoaXMzLmZpbHRlck9iamVjdFtmaWx0ZXJLZXldICsgJyknO1xuXHQgICAgICB9KTtcblx0ICAgICAgc3R5bGVbX3RoaXMzLmZpbHRlck5hbWVdID0gZmlsdGVyU3R5bGUudHJpbSgpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBzdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XTtcblx0ICB9KTtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTdHlsZVBsdWdpbjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yYWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KTtcblx0XG5cdHZhciBfcmFmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBUaWNrZXIgPSBmdW5jdGlvbiBUaWNrZXIoKSB7fTsgLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xuXHRcblx0XG5cdHZhciBwID0gVGlja2VyLnByb3RvdHlwZSA9IHtcblx0ICB0aWNrRm5PYmplY3Q6IHt9LFxuXHQgIGlkOiAtMSxcblx0ICB0d2VlbklkOiAwLFxuXHQgIGZyYW1lOiAwLFxuXHQgIHBlckZyYW1lOiBNYXRoLnJvdW5kKDEwMDAgLyA2MCksXG5cdCAgZ2V0VGltZTogRGF0ZS5ub3cgfHwgZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQgIH0sXG5cdCAgZWxhcHNlZDogMCxcblx0ICBsYXN0VXBkYXRlOiAwLFxuXHQgIHNraXBGcmFtZU1heDogMTY2XG5cdH07XG5cdHAuYWRkID0gZnVuY3Rpb24gKGZuKSB7XG5cdCAgdmFyIGtleSA9ICd0d2Vlbk9uZScgKyB0aGlzLnR3ZWVuSWQ7XG5cdCAgdGhpcy50d2VlbklkKys7XG5cdCAgdGhpcy53YWtlKGtleSwgZm4pO1xuXHQgIHJldHVybiBrZXk7XG5cdH07XG5cdHAud2FrZSA9IGZ1bmN0aW9uIChrZXksIGZuKSB7XG5cdCAgdGhpcy50aWNrRm5PYmplY3Rba2V5XSA9IGZuO1xuXHQgIGlmICh0aGlzLmlkID09PSAtMSkge1xuXHQgICAgdGhpcy5pZCA9ICgwLCBfcmFmMltcImRlZmF1bHRcIl0pKHRoaXMudGljayk7XG5cdCAgfVxuXHR9O1xuXHRwLmNsZWFyID0gZnVuY3Rpb24gKGtleSkge1xuXHQgIGRlbGV0ZSB0aGlzLnRpY2tGbk9iamVjdFtrZXldO1xuXHR9O1xuXHRwLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuXHQgIF9yYWYyW1wiZGVmYXVsdFwiXS5jYW5jZWwodGhpcy5pZCk7XG5cdCAgdGhpcy5pZCA9IC0xO1xuXHQgIHRoaXMuZnJhbWUgPSAwO1xuXHR9O1xuXHR2YXIgdGlja2VyID0gbmV3IFRpY2tlcigpO1xuXHRwLnRpY2sgPSBmdW5jdGlvbiAoYSkge1xuXHQgIHRpY2tlci5lbGFwc2VkID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIuZ2V0VGltZSgpIC0gdGlja2VyLmxhc3RVcGRhdGUgOiAwO1xuXHQgIHRpY2tlci5sYXN0VXBkYXRlID0gdGlja2VyLmxhc3RVcGRhdGUgPyB0aWNrZXIubGFzdFVwZGF0ZSArIHRpY2tlci5lbGFwc2VkIDogdGlja2VyLmdldFRpbWUoKSArIHRpY2tlci5lbGFwc2VkO1xuXHQgIHZhciBvYmogPSB0aWNrZXIudGlja0ZuT2JqZWN0O1xuXHQgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAob2JqW2tleV0pIHtcblx0ICAgICAgb2JqW2tleV0oYSk7XG5cdCAgICB9XG5cdCAgfSk7XG5cdCAgLy8g5aaC5p6cIG9iamVjdCDph4zmsqHlr7nosaHkuobvvIzoh6rliqjmnYDmjonvvJtcblx0ICBpZiAoIU9iamVjdC5rZXlzKG9iaikubGVuZ3RoKSB7XG5cdCAgICB0aWNrZXIuc2xlZXAoKTtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgaWYgKHRpY2tlci5lbGFwc2VkID4gdGlja2VyLnNraXBGcmFtZU1heCB8fCAhdGlja2VyLmZyYW1lKSB7XG5cdCAgICB0aWNrZXIuZnJhbWUrKztcblx0ICB9IGVsc2Uge1xuXHQgICAgdGlja2VyLmZyYW1lICs9IE1hdGgucm91bmQodGlja2VyLmVsYXBzZWQgLyB0aWNrZXIucGVyRnJhbWUpO1xuXHQgIH1cblx0ICB0aWNrZXIuaWQgPSAoMCwgX3JhZjJbXCJkZWZhdWx0XCJdKSh0aWNrZXIudGljayk7XG5cdH07XG5cdHZhciB0aW1lb3V0SWROdW1iZXIgPSAwO1xuXHRwLnRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXHRcblx0ICBpZiAoISh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG5cdCAgICByZXR1cm4gY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgfVxuXHQgIHZhciB0aW1lb3V0SUQgPSAndGltZW91dCcgKyBEYXRlLm5vdygpICsgJy0nICsgdGltZW91dElkTnVtYmVyO1xuXHQgIHZhciBzdGFydEZyYW1lID0gdGhpcy5mcmFtZTtcblx0ICB0aGlzLndha2UodGltZW91dElELCBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbW9tZW50ID0gKF90aGlzLmZyYW1lIC0gc3RhcnRGcmFtZSkgKiBfdGhpcy5wZXJGcmFtZTtcblx0ICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcblx0ICAgICAgX3RoaXMuY2xlYXIodGltZW91dElEKTtcblx0ICAgICAgZm4oKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICB0aW1lb3V0SWROdW1iZXIrKztcblx0ICByZXR1cm4gdGltZW91dElEO1xuXHR9O1xuXHR2YXIgaW50ZXJ2YWxJZE51bWJlciA9IDA7XG5cdHAuaW50ZXJ2YWwgPSBmdW5jdGlvbiAoZm4sIHRpbWUpIHtcblx0ICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuXHQgICAgY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9XG5cdCAgdmFyIGludGVydmFsSUQgPSAnaW50ZXJ2YWwnICsgRGF0ZS5ub3coKSArICctJyArIGludGVydmFsSWROdW1iZXI7XG5cdCAgdmFyIHN0YXJGcmFtZSA9IHRoaXMuZnJhbWU7XG5cdCAgdGhpcy53YWtlKGludGVydmFsSUQsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBtb21lbnQgPSAoX3RoaXMyLmZyYW1lIC0gc3RhckZyYW1lKSAqIF90aGlzMi5wZXJGcmFtZTtcblx0ICAgIGlmIChtb21lbnQgPj0gKHRpbWUgfHwgMCkpIHtcblx0ICAgICAgc3RhckZyYW1lID0gX3RoaXMyLmZyYW1lO1xuXHQgICAgICBmbigpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGludGVydmFsSWROdW1iZXIrKztcblx0ICByZXR1cm4gaW50ZXJ2YWxJRDtcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aWNrZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQvLyB0OiBjdXJyZW50IHRpbWUsIGI6IGJlZ2lubmluZyB2YWx1ZSwgX2M6IGZpbmFsIHZhbHVlLCBkOiB0b3RhbCBkdXJhdGlvblxuXHR2YXIgdHdlZW5GdW5jdGlvbnMgPSB7XG5cdCAgbGluZWFyOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblF1aW50OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRRdWludDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJblNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluRXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgcmV0dXJuICh0PT0wKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodC9kIC0gMSkpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gKHQ9PWQpID8gYitjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdC9kKSArIDEpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmICh0ID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBiO1xuXHQgICAgfVxuXHQgICAgaWYgKHQgPT09IGQpIHtcblx0ICAgICAgcmV0dXJuIGIgKyBjO1xuXHQgICAgfVxuXHQgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5DaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dENpcmM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuXHQgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICghcCkge1xuXHQgICAgICBwID0gZCAqIDAuMztcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSB7XG5cdCAgICAgIHJldHVybiBiICsgYztcblx0ICAgIH1cblx0ICAgIGlmICghcCkge1xuXHQgICAgICBwID0gZCAqIDAuMztcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcblx0ICB9LFxuXHQgIGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciBhLCBwLCBzO1xuXHQgICAgcyA9IDEuNzAxNTg7XG5cdCAgICBwID0gMDtcblx0ICAgIGEgPSBjO1xuXHQgICAgaWYgKHQgPT09IDApIHtcblx0ICAgICAgcmV0dXJuIGI7XG5cdCAgICB9IGVsc2UgaWYgKCh0IC89IGQgLyAyKSA9PT0gMikge1xuXHQgICAgICByZXR1cm4gYiArIGM7XG5cdCAgICB9XG5cdCAgICBpZiAoIXApIHtcblx0ICAgICAgcCA9IGQgKiAoMC4zICogMS41KTtcblx0ICAgIH1cblx0ICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcblx0ICAgICAgYSA9IGM7XG5cdCAgICAgIHMgPSBwIC8gNDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG5cdCAgICB9XG5cdCAgICBpZiAodCA8IDEpIHtcblx0ICAgICAgcmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBjICsgYjtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIGlmIChzID09PSB2b2lkIDApIHtcblx0ICAgICAgcyA9IDEuNzAxNTg7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcblx0ICB9LFxuXHQgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG5cdCAgICAgIHMgPSAxLjcwMTU4O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuXHQgIH0sXG5cdCAgZWFzZUluT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcblx0ICAgIHZhciBjID0gX2MgLSBiO1xuXHQgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuXHQgICAgICBzID0gMS43MDE1ODtcblx0ICAgIH1cblx0ICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpICsgYjtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCArIHMpICsgMikgKyBiO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZWFzZUluQm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICB2YXIgdjtcblx0ICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKTtcblx0ICAgIHJldHVybiBjIC0gdiArIGI7XG5cdCAgfSxcblx0ICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuXHQgICAgdmFyIGMgPSBfYyAtIGI7XG5cdCAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuXHQgICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcblx0ICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgMC43NSkgKyBiO1xuXHQgICAgfSBlbHNlIGlmICh0IDwgMi41IC8gMi43NSkge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgMC45Mzc1KSArIGI7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjYyNSAvIDIuNzUpICogdCArIDAuOTg0Mzc1KSArIGI7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG5cdCAgICB2YXIgYyA9IF9jIC0gYjtcblx0ICAgIHZhciB2O1xuXHQgICAgaWYgKHQgPCBkIC8gMikge1xuXHQgICAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZUluQm91bmNlKHQgKiAyLCAwLCBjLCBkKTtcblx0ICAgICAgcmV0dXJuIHYgKiAwLjUgKyBiO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdiA9IHR3ZWVuRnVuY3Rpb25zLmVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKTtcblx0ICAgICAgcmV0dXJuIHYgKiAwLjUgKyBjICogMC41ICsgYjtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHR3ZWVuRnVuY3Rpb25zO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsndXNlIHN0cmljdCc7XG5cdC8qICFcblx0ICogdHlwZS1kZXRlY3Rcblx0ICogQ29weXJpZ2h0KGMpIDIwMTMgamFrZSBsdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG5cdCAqIE1JVCBMaWNlbnNlZFxuXHQgKi9cblx0dmFyIGdldFByb3RvdHlwZU9mRXhpc3RzID0gdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHByb21pc2VFeGlzdHMgPSB0eXBlb2YgUHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiBzZWxmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cdHZhciBpc0RvbSA9ICdsb2NhdGlvbicgaW4gZ2xvYmFsT2JqZWN0ICYmICdkb2N1bWVudCcgaW4gZ2xvYmFsT2JqZWN0O1xuXHR2YXIgaHRtbEVsZW1lbnRFeGlzdHMgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgaXNBcnJheUV4aXN0cyA9IHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgc3ltYm9sRXhpc3RzID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBtYXBFeGlzdHMgPSB0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHNldEV4aXN0cyA9IHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgd2Vha01hcEV4aXN0cyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHdlYWtTZXRFeGlzdHMgPSB0eXBlb2YgV2Vha1NldCAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBkYXRhVmlld0V4aXN0cyA9IHR5cGVvZiBEYXRhVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG5cdHZhciBzeW1ib2xJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEV4aXN0cyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yICE9PSAndW5kZWZpbmVkJztcblx0dmFyIHN5bWJvbFRvU3RyaW5nVGFnRXhpc3RzID0gc3ltYm9sRXhpc3RzICYmIHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgIT09ICd1bmRlZmluZWQnO1xuXHR2YXIgc2V0RW50cmllc0V4aXN0cyA9IHNldEV4aXN0cyAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgbWFwRW50cmllc0V4aXN0cyA9IG1hcEV4aXN0cyAmJiB0eXBlb2YgTWFwLnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgc2V0SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZkV4aXN0cyAmJiBzZXRFbnRyaWVzRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgU2V0KCkuZW50cmllcygpKTtcblx0dmFyIG1hcEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgbWFwRW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IE1hcCgpLmVudHJpZXMoKSk7XG5cdHZhciBhcnJheUl0ZXJhdG9yRXhpc3RzID0gc3ltYm9sSXRlcmF0b3JFeGlzdHMgJiYgdHlwZW9mIEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuXHR2YXIgYXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdHZhciBzdHJpbmdJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblx0dmFyIHN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlID0gc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSk7XG5cdHZhciB0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCA9IDg7XG5cdHZhciB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGggPSAtMTtcblx0LyoqXG5cdCAqICMjIyB0eXBlT2YgKG9iailcblx0ICpcblx0ICogVXNlcyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGFuIG9iamVjdCxcblx0ICogbm9ybWFsaXNpbmcgYmVoYXZpb3VyIGFjcm9zcyBlbmdpbmUgdmVyc2lvbnMgJiB3ZWxsIG9wdGltaXNlZC5cblx0ICpcblx0ICogQHBhcmFtIHtNaXhlZH0gb2JqZWN0XG5cdCAqIEByZXR1cm4ge1N0cmluZ30gb2JqZWN0IHR5cGVcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHlwZURldGVjdChvYmopIHtcblx0ICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAqIFByZTpcblx0ICAgKiAgIHN0cmluZyBsaXRlcmFsICAgICB4IDMsMDM5LDAzNSBvcHMvc2VjIMKxMS42MiUgKDc4IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDEsNDI0LDEzOCBvcHMvc2VjIMKxNC41NCUgKDc1IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIG51bWJlciBsaXRlcmFsICAgICB4IDEsNjUzLDE1MyBvcHMvc2VjIMKxMS45MSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIHVuZGVmaW5lZCAgICAgICAgICB4IDksOTc4LDY2MCBvcHMvc2VjIMKxMS45MiUgKDc1IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDIsNTU2LDc2OSBvcHMvc2VjIMKxMS43MyUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgKiBQb3N0OlxuXHQgICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMzgsNTY0LDc5NiBvcHMvc2VjIMKxMS4xNSUgKDc5IHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDMxLDE0OCw5NDAgb3BzL3NlYyDCsTEuMTAlICg3OSBydW5zIHNhbXBsZWQpXG5cdCAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAzMiw2NzksMzMwIG9wcy9zZWMgwrExLjkwJSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggMzIsMzYzLDM2OCBvcHMvc2VjIMKxMS4wNyUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDMxLDI5Niw4NzAgb3BzL3NlYyDCsTAuOTYlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgdmFyIHR5cGVvZk9iaiA9IHR5cGVvZiBvYmo7XG5cdCAgaWYgKHR5cGVvZk9iaiAhPT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiB0eXBlb2ZPYmo7XG5cdCAgfVxuXHRcblx0ICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAqIFByZTpcblx0ICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDI4LDY0NSw3NjUgb3BzL3NlYyDCsTEuMTclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDM2LDQyOCw5NjIgb3BzL3NlYyDCsTEuMzclICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgaWYgKG9iaiA9PT0gbnVsbCkge1xuXHQgICAgcmV0dXJuICdudWxsJztcblx0ICB9XG5cdFxuXHQgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KWBgXG5cdCAgICogIC0gTm9kZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IGdsb2JhbF1cIlxuXHQgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBQaGFudG9tSlMgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuXHQgICAqICAtIElFIEVkZ2UgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcblx0ICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpYGBcblx0ICAgKiAgLSBDaHJvbWUgV29ya2VyID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG5cdCAgICogIC0gRmlyZWZveCBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIFNhZmFyaSBXb3JrZXIgPT09IFwiW29iamVjdCBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqICAtIElFIDExIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG5cdCAgICogIC0gSUUgRWRnZSBXb3JrZXIgPT09IFwiW29iamVjdCBXb3JrZXJHbG9iYWxTY29wZV1cIlxuXHQgICAqL1xuXHQgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdCkge1xuXHQgICAgcmV0dXJuICdnbG9iYWwnO1xuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgKiBQcmU6XG5cdCAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyLDg4OCwzNTIgb3BzL3NlYyDCsTAuNjclICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICogUG9zdDpcblx0ICAgKiAgIGFycmF5IGxpdGVyYWwgICAgICB4IDIyLDQ3OSw2NTAgb3BzL3NlYyDCsTAuOTYlICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgICovXG5cdCAgaWYgKGlzQXJyYXlFeGlzdHMgJiYgQXJyYXkuaXNBcnJheShvYmopKSB7XG5cdCAgICByZXR1cm4gJ0FycmF5Jztcblx0ICB9XG5cdFxuXHQgIGlmIChpc0RvbSkge1xuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvYnJvd3NlcnMuaHRtbCNsb2NhdGlvbilcblx0ICAgICAqIFdoYXRXRyBIVE1MJDcuNy4zIC0gVGhlIGBMb2NhdGlvbmAgaW50ZXJmYWNlXG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5sb2NhdGlvbilgYFxuXHQgICAgICogIC0gSUUgPD0xMSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5sb2NhdGlvbikge1xuXHQgICAgICByZXR1cm4gJ0xvY2F0aW9uJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNkb2N1bWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDMuMS4xIC0gVGhlIGBEb2N1bWVudGAgb2JqZWN0XG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtMjY4MDkyNjgpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqICAgICAgIFdoYXRXRyBIVE1MIHN0YXRlczpcblx0ICAgICAqICAgICAgICAgPiBGb3IgaGlzdG9yaWNhbCByZWFzb25zLCBXaW5kb3cgb2JqZWN0cyBtdXN0IGFsc28gaGF2ZSBhXG5cdCAgICAgKiAgICAgICAgID4gd3JpdGFibGUsIGNvbmZpZ3VyYWJsZSwgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgbmFtZWRcblx0ICAgICAqICAgICAgICAgPiBIVE1MRG9jdW1lbnQgd2hvc2UgdmFsdWUgaXMgdGhlIERvY3VtZW50IGludGVyZmFjZSBvYmplY3QuXG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50KWBgXG5cdCAgICAgKiAgLSBDaHJvbWUgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcblx0ICAgICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IERvY3VtZW50XVwiXG5cdCAgICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuXHQgICAgICogIC0gSUUgRWRnZSA8PTEzID09PSBcIltvYmplY3QgSFRNTERvY3VtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5kb2N1bWVudCkge1xuXHQgICAgICByZXR1cm4gJ0RvY3VtZW50Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjbWltZXR5cGVhcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIE1pbWVUeXBlQXJyYXlcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLm1pbWVUeXBlcylgYFxuXHQgICAgICogIC0gSUUgPD0xMCA9PT0gXCJbb2JqZWN0IE1TTWltZVR5cGVzQ29sbGVjdGlvbl1cIlxuXHQgICAgICovXG5cdCAgICBpZiAob2JqID09PSAoZ2xvYmFsT2JqZWN0Lm5hdmlnYXRvciB8fCB7fSkubWltZVR5cGVzKSB7XG5cdCAgICAgIHJldHVybiAnTWltZVR5cGVBcnJheSc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuXHQgICAgICogV2hhdFdHIEhUTUwkOC42LjEuNSAtIFBsdWdpbnMgLSBJbnRlcmZhY2UgUGx1Z2luQXJyYXlcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmF2aWdhdG9yLnBsdWdpbnMpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU1BsdWdpbnNDb2xsZWN0aW9uXVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChvYmogPT09IChnbG9iYWxPYmplY3QubmF2aWdhdG9yIHx8IHt9KS5wbHVnaW5zKSB7XG5cdCAgICAgIHJldHVybiAnUGx1Z2luQXJyYXknO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNwbHVnaW5hcnJheSlcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuNC40IC0gVGhlIGBibG9ja3F1b3RlYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MUXVvdGVFbGVtZW50YFxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJykpYGBcblx0ICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBIVE1MQmxvY2tFbGVtZW50XVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFF1b3RlRWxlbWVudCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jaHRtbHRhYmxlZGF0YWNlbGxlbGVtZW50KVxuXHQgICAgICogV2hhdFdHIEhUTUwkNC45LjkgLSBUaGUgYHRkYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnRgXG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpKVxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuXHQgICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEQnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVoZWFkZXJjZWxsZWxlbWVudClcblx0ICAgICAqIFdoYXRXRyBIVE1MJDQuOS45IC0gVGhlIGB0ZGAgZWxlbWVudCAtIEludGVyZmFjZSBgSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnRgXG5cdCAgICAgKiBOb3RlOiBNb3N0IGJyb3dzZXJzIGN1cnJlbnRseSBhZGhlciB0byB0aGUgVzNDIERPTSBMZXZlbCAyIHNwZWNcblx0ICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG5cdCAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG5cdCAgICAgKiAgICAgICBib3RoIFREIGFuZCBUSCBlbGVtZW50cy4gV2hhdFdHIHNlcGFyYXRlcyB0aGVzZS5cblx0ICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuXHQgICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuXHQgICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGh0bWxFbGVtZW50RXhpc3RzICYmIG9iaiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG9iai50YWdOYW1lID09PSAnVEgnKSB7XG5cdCAgICAgIHJldHVybiAnSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQnO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAqIFByZTpcblx0ICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNjI1LDY0NCBvcHMvc2VjIMKxMS41OCUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgRmxvYXQzMkFycmF5ICAgICAgIHggMSwyNzksODUyIG9wcy9zZWMgwrEyLjkxJSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50MzJBcnJheSAgICAgICAgeCAxLDE3OCwxODUgb3BzL3NlYyDCsTEuOTUlICg4MyBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDEsMDA4LDM4MCBvcHMvc2VjIMKxMi4yNSUgKDgwIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDhBcnJheSAgICAgICAgIHggMSwxMjgsMDQwIG9wcy9zZWMgwrEyLjExJSAoODEgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQzMkFycmF5ICAgICAgICAgeCAxLDE3MCwxMTkgb3BzL3NlYyDCsTIuODglICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDEsMTc2LDM0OCBvcHMvc2VjIMKxNS43OSUgKDg2IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50OEFycmF5ICAgICAgICAgIHggMSwwNTgsNzA3IG9wcy9zZWMgwrE0Ljk0JSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OENsYW1wZWRBcnJheSAgeCAxLDExMCw2MzMgb3BzL3NlYyDCsTQuMjAlICg4MCBydW5zIHNhbXBsZWQpXG5cdCAgKiBQb3N0OlxuXHQgICogICBGbG9hdDY0QXJyYXkgICAgICAgeCA3LDEwNSw2NzEgb3BzL3NlYyDCsTEzLjQ3JSAoNjQgcnVucyBzYW1wbGVkKVxuXHQgICogICBGbG9hdDMyQXJyYXkgICAgICAgeCA1LDg4Nyw5MTIgb3BzL3NlYyDCsTEuNDYlICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDYsNDkxLDY2MSBvcHMvc2VjIMKxMS43NiUgKDc5IHJ1bnMgc2FtcGxlZClcblx0ICAqICAgVWludDE2QXJyYXkgICAgICAgIHggNiw1NTksNzk1IG9wcy9zZWMgwrExLjY3JSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICogICBVaW50OEFycmF5ICAgICAgICAgeCA2LDQ2Myw5NjYgb3BzL3NlYyDCsTEuNDMlICg4NSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDUsNjQxLDg0MSBvcHMvc2VjIMKxMy40OSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAqICAgSW50MTZBcnJheSAgICAgICAgIHggNiw1ODMsNTExIG9wcy9zZWMgwrExLjk4JSAoODAgcnVucyBzYW1wbGVkKVxuXHQgICogICBJbnQ4QXJyYXkgICAgICAgICAgeCA2LDYwNiwwNzggb3BzL3NlYyDCsTEuNzQlICg4MSBydW5zIHNhbXBsZWQpXG5cdCAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDYsNjAyLDIyNCBvcHMvc2VjIMKxMS43NyUgKDgzIHJ1bnMgc2FtcGxlZClcblx0ICAqL1xuXHQgIHZhciBzdHJpbmdUYWcgPSAoc3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10pO1xuXHQgIGlmICh0eXBlb2Ygc3RyaW5nVGFnID09PSAnc3RyaW5nJykge1xuXHQgICAgcmV0dXJuIHN0cmluZ1RhZztcblx0ICB9XG5cdFxuXHQgIGlmIChnZXRQcm90b3R5cGVPZkV4aXN0cykge1xuXHQgICAgdmFyIG9ialByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIHJlZ2V4IGxpdGVyYWwgICAgICB4IDEsNzcyLDM4NSBvcHMvc2VjIMKxMS44NSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAyLDE0Myw2MzQgb3BzL3NlYyDCsTIuNDYlICg3OCBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMyw5MjgsMDA5IG9wcy9zZWMgwrEwLjY1JSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDMsOTMxLDEwOCBvcHMvc2VjIMKxMC41OCUgKDg0IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAob2JqUHJvdG90eXBlID09PSBSZWdFeHAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnUmVnRXhwJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgZGF0ZSAgICAgICAgICAgICAgIHggMiwxMzAsMDc0IG9wcy9zZWMgwrE0LjQyJSAoNjggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIGRhdGUgICAgICAgICAgICAgICB4IDMsOTUzLDc3OSBvcHMvc2VjIMKxMS4zNSUgKDc3IHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAob2JqUHJvdG90eXBlID09PSBEYXRlLnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ0RhdGUnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtcHJvbWlzZS5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyNS40LjUuNCAtIFByb21pc2UucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlByb21pc2VcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUHJvbWlzZS5yZXNvbHZlKCkpYGBcblx0ICAgICAqICAtIENocm9tZSA8PTQ3ID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG5cdCAgICAgKiAgLSBFZGdlIDw9MjAgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqICAtIEZpcmVmb3ggMjktTGF0ZXN0ID09PSBcIltvYmplY3QgUHJvbWlzZV1cIlxuXHQgICAgICogIC0gU2FmYXJpIDcuMS1MYXRlc3QgPT09IFwiW29iamVjdCBQcm9taXNlXVwiXG5cdCAgICAgKi9cblx0ICAgIGlmIChwcm9taXNlRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gUHJvbWlzZS5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdQcm9taXNlJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgc2V0ICAgICAgICAgICAgICAgIHggMiwyMjIsMTg2IG9wcy9zZWMgwrExLjMxJSAoODIgcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDQsNTQ1LDg3OSBvcHMvc2VjIMKxMS4xMyUgKDgzIHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gU2V0LnByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1NldCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIG1hcCAgICAgICAgICAgICAgICB4IDIsMzk2LDg0MiBvcHMvc2VjIMKxMS41OSUgKDgxIHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBtYXAgICAgICAgICAgICAgICAgeCA0LDE4Myw5NDUgb3BzL3NlYyDCsTYuNTklICg4MiBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IE1hcC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdNYXAnO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG5cdCAgICAqIFByZTpcblx0ICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCAxLDMyMywyMjAgb3BzL3NlYyDCsTIuMTclICg3NiBydW5zIHNhbXBsZWQpXG5cdCAgICAqIFBvc3Q6XG5cdCAgICAqICAgd2Vha3NldCAgICAgICAgICAgIHggNCwyMzcsNTEwIG9wcy9zZWMgwrEyLjAxJSAoNzcgcnVucyBzYW1wbGVkKVxuXHQgICAgKi9cblx0ICAgIGlmICh3ZWFrU2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha1NldC5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdXZWFrU2V0Jztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuXHQgICAgKiBQcmU6XG5cdCAgICAqICAgd2Vha21hcCAgICAgICAgICAgIHggMSw1MDAsMjYwIG9wcy9zZWMgwrEyLjAyJSAoNzggcnVucyBzYW1wbGVkKVxuXHQgICAgKiBQb3N0OlxuXHQgICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDMsODgxLDM4NCBvcHMvc2VjIMKxMS40NSUgKDgyIHJ1bnMgc2FtcGxlZClcblx0ICAgICovXG5cdCAgICBpZiAod2Vha01hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtNYXAucHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnV2Vha01hcCc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1kYXRhdmlldy5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZylcblx0ICAgICAqIEVTNiQyNC4yLjQuMjEgLSBEYXRhVmlldy5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiRGF0YVZpZXdcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoZGF0YVZpZXdFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBEYXRhVmlldy5wcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdEYXRhVmlldyc7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG5cdCAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lbWFwaXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG5cdCAgICAgKiBFUzYkMjMuMS41LjIuMiAtICVNYXBJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiTWFwIEl0ZXJhdG9yXCI6XG5cdCAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBNYXAoKS5lbnRyaWVzKCkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAobWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gbWFwSXRlcmF0b3JQcm90b3R5cGUpIHtcblx0ICAgICAgcmV0dXJuICdNYXAgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXNldGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIzLjIuNS4yLjIgLSAlU2V0SXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlNldCBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgU2V0KCkuZW50cmllcygpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKHNldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IHNldEl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnU2V0IEl0ZXJhdG9yJztcblx0ICAgIH1cblx0XG5cdCAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2Vcblx0ICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIyLjEuNS4yLjIgLSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiQXJyYXkgSXRlcmF0b3JcIjpcblx0ICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW11bU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG5cdCAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcblx0ICAgICAqL1xuXHQgICAgaWYgKGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBhcnJheUl0ZXJhdG9yUHJvdG90eXBlKSB7XG5cdCAgICAgIHJldHVybiAnQXJyYXkgSXRlcmF0b3InO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuXHQgICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXN0cmluZ2l0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuXHQgICAgICogRVM2JDIxLjEuNS4yLjIgLSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlN0cmluZyBJdGVyYXRvclwiOlxuXHQgICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpYGBcblx0ICAgICAqICAtIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuXHQgICAgICovXG5cdCAgICBpZiAoc3RyaW5nSXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSkge1xuXHQgICAgICByZXR1cm4gJ1N0cmluZyBJdGVyYXRvcic7XG5cdCAgICB9XG5cdFxuXHQgICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cblx0ICAgICogUHJlOlxuXHQgICAgKiAgIG9iamVjdCBmcm9tIG51bGwgICB4IDIsNDI0LDMyMCBvcHMvc2VjIMKxMS42NyUgKDc2IHJ1bnMgc2FtcGxlZClcblx0ICAgICogUG9zdDpcblx0ICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCA1LDgzOCwwMDAgb3BzL3NlYyDCsTAuOTklICg4NCBydW5zIHNhbXBsZWQpXG5cdCAgICAqL1xuXHQgICAgaWYgKG9ialByb3RvdHlwZSA9PT0gbnVsbCkge1xuXHQgICAgICByZXR1cm4gJ09iamVjdCc7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gT2JqZWN0XG5cdCAgICAucHJvdG90eXBlXG5cdCAgICAudG9TdHJpbmdcblx0ICAgIC5jYWxsKG9iailcblx0ICAgIC5zbGljZSh0b1N0cmluZ0xlZnRTbGljZUxlbmd0aCwgdG9TdHJpbmdSaWdodFNsaWNlTGVuZ3RoKTtcblx0fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzLnR5cGVEZXRlY3QgPSBtb2R1bGUuZXhwb3J0cztcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSxcblxuLyoqKi8gMTg3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXRDb21wb25lbnRMb2NhbGUgPSBnZXRDb21wb25lbnRMb2NhbGU7XG5cdGV4cG9ydHMuZ2V0TG9jYWxlQ29kZSA9IGdldExvY2FsZUNvZGU7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRDb21wb25lbnRMb2NhbGUocHJvcHMsIGNvbnRleHQsIGNvbXBvbmVudE5hbWUsIGdldERlZmF1bHRMb2NhbGUpIHtcblx0ICAgIHZhciBsb2NhbGUgPSBjb250ZXh0ICYmIGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlW2NvbXBvbmVudE5hbWVdID8gY29udGV4dC5hbnRMb2NhbGVbY29tcG9uZW50TmFtZV0gOiBnZXREZWZhdWx0TG9jYWxlKCk7XG5cdCAgICB2YXIgcmVzdWx0ID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGxvY2FsZSwgcHJvcHMubG9jYWxlKTtcblx0ICAgIHJlc3VsdC5sYW5nID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGxvY2FsZS5sYW5nLCBwcm9wcy5sb2NhbGUubGFuZyk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdGZ1bmN0aW9uIGdldExvY2FsZUNvZGUoY29udGV4dCkge1xuXHQgICAgdmFyIGxvY2FsZUNvZGUgPSBjb250ZXh0LmFudExvY2FsZSAmJiBjb250ZXh0LmFudExvY2FsZS5sb2NhbGU7XG5cdCAgICAvLyBIYWQgdXNlIExvY2FsZVByb3ZpZGUgYnV0IGRpZG4ndCBzZXQgbG9jYWxlXG5cdCAgICBpZiAoY29udGV4dC5hbnRMb2NhbGUgJiYgY29udGV4dC5hbnRMb2NhbGUuZXhpc3QgJiYgIWxvY2FsZUNvZGUpIHtcblx0ICAgICAgICByZXR1cm4gJ3poLWNuJztcblx0ICAgIH1cblx0ICAgIHJldHVybiBsb2NhbGVDb2RlO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDIwNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX2VuX1VTID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODApO1xuXHRcblx0dmFyIF9lbl9VUzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbl9VUyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uT2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgbG9jYWxlOiBfZW5fVVMyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgc3R5bGU6IHt9LFxuXHQgICAgICB2aXNpYmxlOiB0cnVlLFxuXHQgICAgICBwcmVmaXhDbHM6ICdyYy1jYWxlbmRhcicsXG5cdCAgICAgIGNsYXNzTmFtZTogJycsXG5cdCAgICAgIG9uU2VsZWN0OiBub29wLFxuXHQgICAgICBvbkNoYW5nZTogbm9vcCxcblx0ICAgICAgb25DbGVhcjogbm9vcCxcblx0ICAgICAgcmVuZGVyRm9vdGVyOiBmdW5jdGlvbiByZW5kZXJGb290ZXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH0sXG5cdCAgICAgIHJlbmRlclNpZGViYXI6IGZ1bmN0aW9uIHJlbmRlclNpZGViYXIoKSB7XG5cdCAgICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgfSxcblx0ICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLnZpc2libGUgfHwgbmV4dFByb3BzLnZpc2libGU7XG5cdCAgfSxcblx0ICBnZXRGb3JtYXQ6IGZ1bmN0aW9uIGdldEZvcm1hdCgpIHtcblx0ICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgdGltZVBpY2tlciA9IF9wcm9wcy50aW1lUGlja2VyO1xuXHRcblx0ICAgIGlmICghZm9ybWF0KSB7XG5cdCAgICAgIGlmICh0aW1lUGlja2VyKSB7XG5cdCAgICAgICAgZm9ybWF0ID0gbG9jYWxlLmRhdGVUaW1lRm9ybWF0O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGZvcm1hdCA9IGxvY2FsZS5kYXRlRm9ybWF0O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZm9ybWF0O1xuXHQgIH0sXG5cdCAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHQgICAgaWYgKHRoaXMucmVmcy5yb290KSB7XG5cdCAgICAgIHRoaXMucmVmcy5yb290LmZvY3VzKCk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjA4OlxuMjk3LFxuXG4vKioqLyAyNTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX01vbnRoUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2Mik7XG5cdFxuXHR2YXIgX01vbnRoUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhQYW5lbCk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MSk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNaXhpbik7XG5cdFxuXHR2YXIgX0NvbW1vbk1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOCk7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBNb250aENhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnTW9udGhDYWxlbmRhcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgbW9udGhDZWxsUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkYXRlQ2VsbFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0ICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXSwgX0NhbGVuZGFyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cdFxuXHQgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50KSB7XG5cdCAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG5cdCAgICB2YXIgY3RybEtleSA9IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleTtcblx0ICAgIHZhciBzdGF0ZVZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciB2YWx1ZSA9IHN0YXRlVmFsdWU7XG5cdCAgICBzd2l0Y2ggKGtleUNvZGUpIHtcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV046XG5cdCAgICAgICAgdmFsdWUgPSBzdGF0ZVZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgdmFsdWUuYWRkKDMsICdtb250aHMnKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlVQOlxuXHQgICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgIHZhbHVlLmFkZCgtMywgJ21vbnRocycpO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uTEVGVDpcblx0ICAgICAgICB2YWx1ZSA9IHN0YXRlVmFsdWUuY2xvbmUoKTtcblx0ICAgICAgICBpZiAoY3RybEtleSkge1xuXHQgICAgICAgICAgdmFsdWUuYWRkKC0xLCAneWVhcnMnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFsdWUuYWRkKC0xLCAnbW9udGhzJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUklHSFQ6XG5cdCAgICAgICAgdmFsdWUgPSBzdGF0ZVZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgaWYgKGN0cmxLZXkpIHtcblx0ICAgICAgICAgIHZhbHVlLmFkZCgxLCAneWVhcnMnKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFsdWUuYWRkKDEsICdtb250aHMnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTlRFUjpcblx0ICAgICAgICB0aGlzLm9uU2VsZWN0KHN0YXRlVmFsdWUpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcblx0ICAgIH1cblx0ICAgIGlmICh2YWx1ZSAhPT0gc3RhdGVWYWx1ZSkge1xuXHQgICAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgcmV0dXJuIDE7XG5cdCAgICB9XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgY2hpbGRyZW4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Nb250aFBhbmVsMltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG5cdCAgICAgIGRpc2FibGVkRGF0ZTogcHJvcHMuZGlzYWJsZWREYXRlLFxuXHQgICAgICBzdHlsZTogeyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9LFxuXHQgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS52YWx1ZSxcblx0ICAgICAgY2VsbFJlbmRlcjogcHJvcHMubW9udGhDZWxsUmVuZGVyLFxuXHQgICAgICBjb250ZW50UmVuZGVyOiBwcm9wcy5tb250aENlbGxDb250ZW50UmVuZGVyLFxuXHQgICAgICByb290UHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgIG9uQ2hhbmdlOiB0aGlzLnNldFZhbHVlLFxuXHQgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdFxuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290KHtcblx0ICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG5cdCAgICB9KTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb250aENhbGVuZGFyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjUxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODQpO1xuXHRcblx0dmFyIF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKTtcblx0XG5cdHZhciBfS2V5Q29kZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjA4KTtcblx0XG5cdHZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblx0XG5cdHZhciBfcGxhY2VtZW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgyKTtcblx0XG5cdHZhciBfcGxhY2VtZW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbGFjZW1lbnRzKTtcblx0XG5cdHZhciBfcmNUcmlnZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdFxuXHR2YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdGZ1bmN0aW9uIHJlZkZuKGZpZWxkLCBjb21wb25lbnQpIHtcblx0ICB0aGlzW2ZpZWxkXSA9IGNvbXBvbmVudDtcblx0fVxuXHRcblx0dmFyIFBpY2tlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1BpY2tlcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5mdW5jLCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHQgICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbk9wZW5DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBnZXRDYWxlbmRhckNvbnRhaW5lcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgY2FsZW5kYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcblx0ICAgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIG9wZW46IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRlZmF1bHRPcGVuOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgcGxhY2VtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKSxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSksXG5cdCAgICBhbGlnbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLWNhbGVuZGFyLXBpY2tlcicsXG5cdCAgICAgIHN0eWxlOiB7fSxcblx0ICAgICAgYWxpZ246IHt9LFxuXHQgICAgICBwbGFjZW1lbnQ6ICdib3R0b21MZWZ0Jyxcblx0ICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuXHQgICAgICBvbkNoYW5nZTogbm9vcCxcblx0ICAgICAgb25PcGVuQ2hhbmdlOiBub29wXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIG9wZW4gPSB2b2lkIDA7XG5cdCAgICBpZiAoJ29wZW4nIGluIHByb3BzKSB7XG5cdCAgICAgIG9wZW4gPSBwcm9wcy5vcGVuO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgb3BlbiA9IHByb3BzLmRlZmF1bHRPcGVuO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHQgICAgdGhpcy5zYXZlQ2FsZW5kYXJSZWYgPSByZWZGbi5iaW5kKHRoaXMsICdjYWxlbmRhckluc3RhbmNlJyk7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBvcGVuOiBvcGVuLFxuXHQgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlLFxuXHQgICAgICAgIG9wZW4gPSBuZXh0UHJvcHMub3Blbjtcblx0XG5cdCAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKG9wZW4gIT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBvcGVuOiBvcGVuXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoXywgcHJldlN0YXRlKSB7XG5cdCAgICBpZiAoIXByZXZTdGF0ZS5vcGVuICYmIHRoaXMuc3RhdGUub3Blbikge1xuXHQgICAgICB0aGlzLmZvY3VzQ2FsZW5kYXIoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2FsZW5kYXJLZXlEb3duOiBmdW5jdGlvbiBvbkNhbGVuZGFyS2V5RG93bihldmVudCkge1xuXHQgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG5cdCAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHQgICAgICB0aGlzLmNsb3NlKHRoaXMuZm9jdXMpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DYWxlbmRhclNlbGVjdDogZnVuY3Rpb24gb25DYWxlbmRhclNlbGVjdCh2YWx1ZSkge1xuXHQgICAgdmFyIGNhdXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiBwcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKGNhdXNlLnNvdXJjZSA9PT0gJ2tleWJvYXJkJyB8fCAhcHJvcHMuY2FsZW5kYXIucHJvcHMudGltZVBpY2tlciAmJiBjYXVzZS5zb3VyY2UgIT09ICdkYXRlSW5wdXQnIHx8IGNhdXNlLnNvdXJjZSA9PT0gJ3RvZGF5QnV0dG9uJykge1xuXHQgICAgICB0aGlzLmNsb3NlKHRoaXMuZm9jdXMpO1xuXHQgICAgfVxuXHQgICAgcHJvcHMub25DaGFuZ2UodmFsdWUpO1xuXHQgIH0sXG5cdCAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04gJiYgIXRoaXMuc3RhdGUub3Blbikge1xuXHQgICAgICB0aGlzLm9wZW4oKTtcblx0ICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2FsZW5kYXJPazogZnVuY3Rpb24gb25DYWxlbmRhck9rKCkge1xuXHQgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcblx0ICB9LFxuXHQgIG9uQ2FsZW5kYXJDbGVhcjogZnVuY3Rpb24gb25DYWxlbmRhckNsZWFyKCkge1xuXHQgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcblx0ICB9LFxuXHQgIG9uVmlzaWJsZUNoYW5nZTogZnVuY3Rpb24gb25WaXNpYmxlQ2hhbmdlKG9wZW4pIHtcblx0ICAgIHRoaXMuc2V0T3BlbihvcGVuKTtcblx0ICB9LFxuXHQgIGdldENhbGVuZGFyRWxlbWVudDogZnVuY3Rpb24gZ2V0Q2FsZW5kYXJFbGVtZW50KCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgY2FsZW5kYXJQcm9wcyA9IHByb3BzLmNhbGVuZGFyLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cdFxuXHQgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHZvaWQgMDtcblx0ICAgIC8vIFJhbmdlQ2FsZW5kYXJcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHQgICAgICBkZWZhdWx0VmFsdWUgPSB2YWx1ZVswXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRlZmF1bHRWYWx1ZSA9IHZhbHVlO1xuXHQgICAgfVxuXHQgICAgdmFyIGV4dHJhUHJvcHMgPSB7XG5cdCAgICAgIHJlZjogdGhpcy5zYXZlQ2FsZW5kYXJSZWYsXG5cdCAgICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIHx8IGNhbGVuZGFyUHJvcHMuZGVmYXVsdFZhbHVlLFxuXHQgICAgICBzZWxlY3RlZFZhbHVlOiB2YWx1ZSxcblx0ICAgICAgb25LZXlEb3duOiB0aGlzLm9uQ2FsZW5kYXJLZXlEb3duLFxuXHQgICAgICBvbk9rOiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uT2ssIHRoaXMub25DYWxlbmRhck9rKSxcblx0ICAgICAgb25TZWxlY3Q6ICgwLCBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMltcImRlZmF1bHRcIl0pKGNhbGVuZGFyUHJvcHMub25TZWxlY3QsIHRoaXMub25DYWxlbmRhclNlbGVjdCksXG5cdCAgICAgIG9uQ2xlYXI6ICgwLCBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMltcImRlZmF1bHRcIl0pKGNhbGVuZGFyUHJvcHMub25DbGVhciwgdGhpcy5vbkNhbGVuZGFyQ2xlYXIpXG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQocHJvcHMuY2FsZW5kYXIsIGV4dHJhUHJvcHMpO1xuXHQgIH0sXG5cdCAgc2V0T3BlbjogZnVuY3Rpb24gc2V0T3BlbihvcGVuLCBjYWxsYmFjaykge1xuXHQgICAgdmFyIG9uT3BlbkNoYW5nZSA9IHRoaXMucHJvcHMub25PcGVuQ2hhbmdlO1xuXHRcblx0ICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gIT09IG9wZW4pIHtcblx0ICAgICAgaWYgKCEoJ29wZW4nIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBvcGVuOiBvcGVuXG5cdCAgICAgICAgfSwgY2FsbGJhY2spO1xuXHQgICAgICB9XG5cdCAgICAgIG9uT3BlbkNoYW5nZShvcGVuKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9wZW46IGZ1bmN0aW9uIG9wZW4oY2FsbGJhY2spIHtcblx0ICAgIHRoaXMuc2V0T3Blbih0cnVlLCBjYWxsYmFjayk7XG5cdCAgfSxcblx0ICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoY2FsbGJhY2spIHtcblx0ICAgIHRoaXMuc2V0T3BlbihmYWxzZSwgY2FsbGJhY2spO1xuXHQgIH0sXG5cdCAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuXHQgICAgaWYgKCF0aGlzLnN0YXRlLm9wZW4pIHtcblx0ICAgICAgX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIGZvY3VzQ2FsZW5kYXI6IGZ1bmN0aW9uIGZvY3VzQ2FsZW5kYXIoKSB7XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMuY2FsZW5kYXJJbnN0YW5jZSAhPT0gbnVsbCkge1xuXHQgICAgICB0aGlzLmNhbGVuZGFySW5zdGFuY2UuZm9jdXMoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgcGxhY2VtZW50ID0gcHJvcHMucGxhY2VtZW50LFxuXHQgICAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgZ2V0Q2FsZW5kYXJDb250YWluZXIgPSBwcm9wcy5nZXRDYWxlbmRhckNvbnRhaW5lcixcblx0ICAgICAgICBhbGlnbiA9IHByb3BzLmFsaWduLFxuXHQgICAgICAgIGFuaW1hdGlvbiA9IHByb3BzLmFuaW1hdGlvbixcblx0ICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgIHRyYW5zaXRpb25OYW1lID0gcHJvcHMudHJhbnNpdGlvbk5hbWUsXG5cdCAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcblx0XG5cdCAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAge1xuXHQgICAgICAgIHBvcHVwOiB0aGlzLmdldENhbGVuZGFyRWxlbWVudCgpLFxuXHQgICAgICAgIHBvcHVwQWxpZ246IGFsaWduLFxuXHQgICAgICAgIGJ1aWx0aW5QbGFjZW1lbnRzOiBfcGxhY2VtZW50czJbXCJkZWZhdWx0XCJdLFxuXHQgICAgICAgIHBvcHVwUGxhY2VtZW50OiBwbGFjZW1lbnQsXG5cdCAgICAgICAgYWN0aW9uOiBkaXNhYmxlZCAmJiAhc3RhdGUub3BlbiA/IFtdIDogWydjbGljayddLFxuXHQgICAgICAgIGRlc3Ryb3lQb3B1cE9uSGlkZTogdHJ1ZSxcblx0ICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogZ2V0Q2FsZW5kYXJDb250YWluZXIsXG5cdCAgICAgICAgcG9wdXBTdHlsZTogc3R5bGUsXG5cdCAgICAgICAgcG9wdXBBbmltYXRpb246IGFuaW1hdGlvbixcblx0ICAgICAgICBwb3B1cFRyYW5zaXRpb25OYW1lOiB0cmFuc2l0aW9uTmFtZSxcblx0ICAgICAgICBwb3B1cFZpc2libGU6IHN0YXRlLm9wZW4sXG5cdCAgICAgICAgb25Qb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMub25WaXNpYmxlQ2hhbmdlLFxuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzXG5cdCAgICAgIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChjaGlsZHJlbihzdGF0ZSwgcHJvcHMpLCB7IG9uS2V5RG93bjogdGhpcy5vbktleURvd24gfSlcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGlja2VyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjUyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9Nb250aFBhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjIpO1xuXHRcblx0dmFyIF9Nb250aFBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoUGFuZWwpO1xuXHRcblx0dmFyIF9ZZWFyUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2Myk7XG5cdFxuXHR2YXIgX1llYXJQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ZZWFyUGFuZWwpO1xuXHRcblx0dmFyIF9tYXBTZWxmID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjQpO1xuXHRcblx0dmFyIF9tYXBTZWxmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFNlbGYpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnb01vbnRoKGRpcmVjdGlvbikge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5wcm9wcy52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuYWRkKGRpcmVjdGlvbiwgJ21vbnRocycpO1xuXHQgIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5wcm9wcy52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuYWRkKGRpcmVjdGlvbiwgJ3llYXJzJyk7XG5cdCAgdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKG5leHQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzaG93SWYoY29uZGl0aW9uLCBlbCkge1xuXHQgIHJldHVybiBjb25kaXRpb24gPyBlbCA6IG51bGw7XG5cdH1cblx0XG5cdHZhciBDYWxlbmRhckhlYWRlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFySGVhZGVyJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBlbmFibGVQcmV2OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGVuYWJsZU5leHQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNob3dUaW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb25WYWx1ZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBlbmFibGVOZXh0OiAxLFxuXHQgICAgICBlbmFibGVQcmV2OiAxXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB0aGlzLm5leHRNb250aCA9IGdvTW9udGguYmluZCh0aGlzLCAxKTtcblx0ICAgIHRoaXMucHJldmlvdXNNb250aCA9IGdvTW9udGguYmluZCh0aGlzLCAtMSk7XG5cdCAgICB0aGlzLm5leHRZZWFyID0gZ29ZZWFyLmJpbmQodGhpcywgMSk7XG5cdCAgICB0aGlzLnByZXZpb3VzWWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIC0xKTtcblx0ICAgIHJldHVybiB7fTtcblx0ICB9LFxuXHQgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dNb250aFBhbmVsOiAwLFxuXHQgICAgICBzaG93WWVhclBhbmVsOiAwXG5cdCAgICB9KTtcblx0ICAgIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZSh2YWx1ZSk7XG5cdCAgfSxcblx0ICBtb250aFllYXJFbGVtZW50OiBmdW5jdGlvbiBtb250aFllYXJFbGVtZW50KHNob3dUaW1lUGlja2VyKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblx0ICAgIHZhciBtb250aEJlZm9yZVllYXIgPSBsb2NhbGUubW9udGhCZWZvcmVZZWFyO1xuXHQgICAgdmFyIHNlbGVjdENsYXNzTmFtZSA9IHByZWZpeENscyArICctJyArIChtb250aEJlZm9yZVllYXIgPyAnbXktc2VsZWN0JyA6ICd5bS1zZWxlY3QnKTtcblx0ICAgIHZhciB5ZWFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2EnLFxuXHQgICAgICB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXItc2VsZWN0Jyxcblx0ICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICBvbkNsaWNrOiBzaG93VGltZVBpY2tlciA/IG51bGwgOiB0aGlzLnNob3dZZWFyUGFuZWwsXG5cdCAgICAgICAgdGl0bGU6IGxvY2FsZS55ZWFyU2VsZWN0XG5cdCAgICAgIH0sXG5cdCAgICAgIHZhbHVlLmZvcm1hdChsb2NhbGUueWVhckZvcm1hdClcblx0ICAgICk7XG5cdCAgICB2YXIgbW9udGggPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnYScsXG5cdCAgICAgIHtcblx0ICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbW9udGgtc2VsZWN0Jyxcblx0ICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICBvbkNsaWNrOiBzaG93VGltZVBpY2tlciA/IG51bGwgOiB0aGlzLnNob3dNb250aFBhbmVsLFxuXHQgICAgICAgIHRpdGxlOiBsb2NhbGUubW9udGhTZWxlY3Rcblx0ICAgICAgfSxcblx0ICAgICAgdmFsdWUuZm9ybWF0KGxvY2FsZS5tb250aEZvcm1hdClcblx0ICAgICk7XG5cdCAgICB2YXIgZGF5ID0gdm9pZCAwO1xuXHQgICAgaWYgKHNob3dUaW1lUGlja2VyKSB7XG5cdCAgICAgIGRheSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2EnLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kYXktc2VsZWN0Jyxcblx0ICAgICAgICAgIHJvbGU6ICdidXR0b24nXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB2YWx1ZS5mb3JtYXQobG9jYWxlLmRheUZvcm1hdClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHZhciBteSA9IFtdO1xuXHQgICAgaWYgKG1vbnRoQmVmb3JlWWVhcikge1xuXHQgICAgICBteSA9IFttb250aCwgZGF5LCB5ZWFyXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG15ID0gW3llYXIsIG1vbnRoLCBkYXldO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdzcGFuJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHNlbGVjdENsYXNzTmFtZSB9LFxuXHQgICAgICAoMCwgX21hcFNlbGYyW1wiZGVmYXVsdFwiXSkobXkpXG5cdCAgICApO1xuXHQgIH0sXG5cdCAgc2hvd01vbnRoUGFuZWw6IGZ1bmN0aW9uIHNob3dNb250aFBhbmVsKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dNb250aFBhbmVsOiAxLFxuXHQgICAgICBzaG93WWVhclBhbmVsOiAwXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHNob3dZZWFyUGFuZWw6IGZ1bmN0aW9uIHNob3dZZWFyUGFuZWwoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc2hvd01vbnRoUGFuZWw6IDAsXG5cdCAgICAgIHNob3dZZWFyUGFuZWw6IDFcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGVuYWJsZU5leHQgPSBwcm9wcy5lbmFibGVOZXh0LFxuXHQgICAgICAgIGVuYWJsZVByZXYgPSBwcm9wcy5lbmFibGVQcmV2LFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcblx0ICAgICAgICBzaG93VGltZVBpY2tlciA9IHByb3BzLnNob3dUaW1lUGlja2VyO1xuXHRcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgUGFuZWxDbGFzcyA9IG51bGw7XG5cdCAgICBpZiAoc3RhdGUuc2hvd01vbnRoUGFuZWwpIHtcblx0ICAgICAgUGFuZWxDbGFzcyA9IF9Nb250aFBhbmVsMltcImRlZmF1bHRcIl07XG5cdCAgICB9IGVsc2UgaWYgKHN0YXRlLnNob3dZZWFyUGFuZWwpIHtcblx0ICAgICAgUGFuZWxDbGFzcyA9IF9ZZWFyUGFuZWwyW1wiZGVmYXVsdFwiXTtcblx0ICAgIH1cblx0ICAgIHZhciBwYW5lbCA9IHZvaWQgMDtcblx0ICAgIGlmIChQYW5lbENsYXNzKSB7XG5cdCAgICAgIHBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChQYW5lbENsYXNzLCB7XG5cdCAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgZGVmYXVsdFZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgb25TZWxlY3Q6IHRoaXMub25TZWxlY3Rcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0gfSxcblx0ICAgICAgICBzaG93SWYoZW5hYmxlUHJldiAmJiAhc2hvd1RpbWVQaWNrZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi15ZWFyLWJ0bicsXG5cdCAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNZZWFyLFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c1llYXJcblx0ICAgICAgICB9KSksXG5cdCAgICAgICAgc2hvd0lmKGVuYWJsZVByZXYgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYtbW9udGgtYnRuJyxcblx0ICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c01vbnRoLFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c01vbnRoXG5cdCAgICAgICAgfSkpLFxuXHQgICAgICAgIHRoaXMubW9udGhZZWFyRWxlbWVudChzaG93VGltZVBpY2tlciksXG5cdCAgICAgICAgc2hvd0lmKGVuYWJsZU5leHQgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtbW9udGgtYnRuJyxcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dE1vbnRoLFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0TW9udGhcblx0ICAgICAgICB9KSksXG5cdCAgICAgICAgc2hvd0lmKGVuYWJsZU5leHQgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQteWVhci1idG4nLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5uZXh0WWVhcixcblx0ICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dFllYXJcblx0ICAgICAgICB9KSlcblx0ICAgICAgKSxcblx0ICAgICAgcGFuZWxcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9rQnV0dG9uO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gT2tCdXR0b24oX3JlZikge1xuXHQgIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcblx0ICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG5cdCAgICAgIG9rRGlzYWJsZWQgPSBfcmVmLm9rRGlzYWJsZWQsXG5cdCAgICAgIG9uT2sgPSBfcmVmLm9uT2s7XG5cdFxuXHQgIHZhciBjbGFzc05hbWUgPSBwcmVmaXhDbHMgKyBcIi1vay1idG5cIjtcblx0ICBpZiAob2tEaXNhYmxlZCkge1xuXHQgICAgY2xhc3NOYW1lICs9IFwiIFwiICsgcHJlZml4Q2xzICsgXCItb2stYnRuLWRpc2FibGVkXCI7XG5cdCAgfVxuXHQgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgXCJhXCIsXG5cdCAgICB7XG5cdCAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuXHQgICAgICByb2xlOiBcImJ1dHRvblwiLFxuXHQgICAgICBvbkNsaWNrOiBva0Rpc2FibGVkID8gbnVsbCA6IG9uT2tcblx0ICAgIH0sXG5cdCAgICBsb2NhbGUub2tcblx0ICApO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGltZVBpY2tlckJ1dHRvbjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIFRpbWVQaWNrZXJCdXR0b24oX3JlZikge1xuXHQgIHZhciBfY2xhc3NuYW1lcztcblx0XG5cdCAgdmFyIHByZWZpeENscyA9IF9yZWYucHJlZml4Q2xzLFxuXHQgICAgICBsb2NhbGUgPSBfcmVmLmxvY2FsZSxcblx0ICAgICAgc2hvd1RpbWVQaWNrZXIgPSBfcmVmLnNob3dUaW1lUGlja2VyLFxuXHQgICAgICBvbk9wZW5UaW1lUGlja2VyID0gX3JlZi5vbk9wZW5UaW1lUGlja2VyLFxuXHQgICAgICBvbkNsb3NlVGltZVBpY2tlciA9IF9yZWYub25DbG9zZVRpbWVQaWNrZXIsXG5cdCAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZCA9IF9yZWYudGltZVBpY2tlckRpc2FibGVkO1xuXHRcblx0ICB2YXIgY2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLWJ0bicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLWJ0bi1kaXNhYmxlZCcsIHRpbWVQaWNrZXJEaXNhYmxlZCksIF9jbGFzc25hbWVzKSk7XG5cdCAgdmFyIG9uQ2xpY2sgPSBudWxsO1xuXHQgIGlmICghdGltZVBpY2tlckRpc2FibGVkKSB7XG5cdCAgICBvbkNsaWNrID0gc2hvd1RpbWVQaWNrZXIgPyBvbkNsb3NlVGltZVBpY2tlciA6IG9uT3BlblRpbWVQaWNrZXI7XG5cdCAgfVxuXHQgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgJ2EnLFxuXHQgICAge1xuXHQgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcblx0ICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcblx0ICAgIH0sXG5cdCAgICBzaG93VGltZVBpY2tlciA/IGxvY2FsZS5kYXRlU2VsZWN0IDogbG9jYWxlLnRpbWVTZWxlY3Rcblx0ICApO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUb2RheUJ1dHRvbjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gVG9kYXlCdXR0b24oX3JlZikge1xuXHQgIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcblx0ICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG5cdCAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcblx0ICAgICAgdGltZVBpY2tlciA9IF9yZWYudGltZVBpY2tlcixcblx0ICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuXHQgICAgICBkaXNhYmxlZERhdGUgPSBfcmVmLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgb25Ub2RheSA9IF9yZWYub25Ub2RheSxcblx0ICAgICAgdGV4dCA9IF9yZWYudGV4dDtcblx0XG5cdCAgdmFyIGxvY2FsZU5vdyA9ICghdGV4dCAmJiB0aW1lUGlja2VyID8gbG9jYWxlLm5vdyA6IHRleHQpIHx8IGxvY2FsZS50b2RheTtcblx0ICB2YXIgZGlzYWJsZWRUb2RheSA9IGRpc2FibGVkRGF0ZSAmJiAhKDAsIF91dGlsLmlzQWxsb3dlZERhdGUpKCgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHZhbHVlKSwgZGlzYWJsZWREYXRlKTtcblx0ICB2YXIgaXNEaXNhYmxlZCA9IGRpc2FibGVkVG9kYXkgfHwgZGlzYWJsZWQ7XG5cdCAgdmFyIGRpc2FibGVkVG9kYXlDbGFzcyA9IGlzRGlzYWJsZWQgPyBwcmVmaXhDbHMgKyAnLXRvZGF5LWJ0bi1kaXNhYmxlZCcgOiAnJztcblx0ICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICdhJyxcblx0ICAgIHtcblx0ICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvZGF5LWJ0biAnICsgZGlzYWJsZWRUb2RheUNsYXNzLFxuXHQgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgb25DbGljazogaXNEaXNhYmxlZCA/IG51bGwgOiBvblRvZGF5LFxuXHQgICAgICB0aXRsZTogKDAsIF91dGlsLmdldFRvZGF5VGltZVN0cikodmFsdWUpXG5cdCAgICB9LFxuXHQgICAgbG9jYWxlTm93XG5cdCAgKTtcblx0fVxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjU2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG5cdCAgREFURV9ST1dfQ09VTlQ6IDYsXG5cdCAgREFURV9DT0xfQ09VTlQ6IDdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERhdGVJbnB1dCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0RhdGVJbnB1dCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgfSxcblx0XG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHN0cjogc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3RlZFZhbHVlLmZvcm1hdCh0aGlzLnByb3BzLmZvcm1hdCkgfHwgJycsXG5cdCAgICAgIGludmFsaWQ6IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIC8vIHdoZW4gcG9wdXAgc2hvdywgY2xpY2sgYm9keSB3aWxsIGNhbGwgdGhpcywgYnVnIVxuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSBuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZTtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzdHI6IHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0ZWRWYWx1ZS5mb3JtYXQobmV4dFByb3BzLmZvcm1hdCkgfHwgJycsXG5cdCAgICAgIGludmFsaWQ6IGZhbHNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcblx0ICAgIHZhciBzdHIgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc3RyOiBzdHJcblx0ICAgIH0pO1xuXHQgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZGlzYWJsZWREYXRlID0gX3Byb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0LFxuXHQgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlO1xuXHRcblx0ICAgIGlmIChzdHIpIHtcblx0ICAgICAgdmFyIHBhcnNlZCA9ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKHN0ciwgZm9ybWF0LCB0cnVlKTtcblx0ICAgICAgaWYgKCFwYXJzZWQuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBpbnZhbGlkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZS5jbG9uZSgpO1xuXHQgICAgICB2YWx1ZS55ZWFyKHBhcnNlZC55ZWFyKCkpLm1vbnRoKHBhcnNlZC5tb250aCgpKS5kYXRlKHBhcnNlZC5kYXRlKCkpLmhvdXIocGFyc2VkLmhvdXIoKSkubWludXRlKHBhcnNlZC5taW51dGUoKSkuc2Vjb25kKHBhcnNlZC5zZWNvbmQoKSk7XG5cdFxuXHQgICAgICBpZiAodmFsdWUgJiYgKCFkaXNhYmxlZERhdGUgfHwgIWRpc2FibGVkRGF0ZSh2YWx1ZSkpKSB7XG5cdCAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB0aGlzLnByb3BzLnNlbGVjdGVkVmFsdWU7XG5cdCAgICAgICAgaWYgKG9yaWdpbmFsVmFsdWUgJiYgdmFsdWUpIHtcblx0ICAgICAgICAgIGlmICghb3JpZ2luYWxWYWx1ZS5pc1NhbWUodmFsdWUpKSB7XG5cdCAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKSB7XG5cdCAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgb25DaGFuZ2UobnVsbCk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgaW52YWxpZDogZmFsc2Vcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgb25DbGVhcjogZnVuY3Rpb24gb25DbGVhcigpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzdHI6ICcnXG5cdCAgICB9KTtcblx0ICAgIHRoaXMucHJvcHMub25DbGVhcihudWxsKTtcblx0ICB9LFxuXHQgIGdldFJvb3RET01Ob2RlOiBmdW5jdGlvbiBnZXRSb290RE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICB9LFxuXHQgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHtcblx0ICAgIHRoaXMucmVmcy5kYXRlSW5wdXQuZm9jdXMoKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIGludmFsaWQgPSBfc3RhdGUuaW52YWxpZCxcblx0ICAgICAgICBzdHIgPSBfc3RhdGUuc3RyO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcjtcblx0XG5cdCAgICB2YXIgaW52YWxpZENsYXNzID0gaW52YWxpZCA/IHByZWZpeENscyArICctaW5wdXQtaW52YWxpZCcgOiAnJztcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5wdXQtd3JhcCcgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kYXRlLWlucHV0LXdyYXAnIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgICAgICByZWY6ICdkYXRlSW5wdXQnLFxuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0ICcgKyBpbnZhbGlkQ2xhc3MsXG5cdCAgICAgICAgICB2YWx1ZTogc3RyLFxuXHQgICAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuXHQgICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuXHQgICAgICAgICAgb25DaGFuZ2U6IHRoaXMub25JbnB1dENoYW5nZVxuXHQgICAgICAgIH0pXG5cdCAgICAgICksXG5cdCAgICAgIHByb3BzLnNob3dDbGVhciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWJ0bicsXG5cdCAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgdGl0bGU6IGxvY2FsZS5jbGVhcixcblx0ICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJcblx0ICAgICAgfSkgOiBudWxsXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IERhdGVJbnB1dDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI1ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfRGF0ZVRIZWFkID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzgpO1xuXHRcblx0dmFyIF9EYXRlVEhlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVRIZWFkKTtcblx0XG5cdHZhciBfRGF0ZVRCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzcpO1xuXHRcblx0dmFyIF9EYXRlVEJvZHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVRCb2R5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERhdGVUYWJsZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEYXRlVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBEYXRlVGFibGUoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERhdGVUYWJsZSk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBEYXRlVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICd0YWJsZScsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVUSGVhZDJbXCJkZWZhdWx0XCJdLCBwcm9wcyksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVUQm9keTJbXCJkZWZhdWx0XCJdLCBwcm9wcylcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIERhdGVUYWJsZTtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVGFibGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNTk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfQ2FsZW5kYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3NCk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI2MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcblx0ICB0b2RheTogJ+S7iuWkqScsXG5cdCAgbm93OiAn5q2k5Yi7Jyxcblx0ICBiYWNrVG9Ub2RheTogJ+i/lOWbnuS7iuWkqScsXG5cdCAgb2s6ICfnoa7lrponLFxuXHQgIHRpbWVTZWxlY3Q6ICfpgInmi6nml7bpl7QnLFxuXHQgIGRhdGVTZWxlY3Q6ICfpgInmi6nml6XmnJ8nLFxuXHQgIGNsZWFyOiAn5riF6ZmkJyxcblx0ICBtb250aDogJ+aciCcsXG5cdCAgeWVhcjogJ+W5tCcsXG5cdCAgcHJldmlvdXNNb250aDogJ+S4iuS4quaciCAo57+76aG15LiK6ZSuKScsXG5cdCAgbmV4dE1vbnRoOiAn5LiL5Liq5pyIICjnv7vpobXkuIvplK4pJyxcblx0ICBtb250aFNlbGVjdDogJ+mAieaLqeaciOS7vScsXG5cdCAgeWVhclNlbGVjdDogJ+mAieaLqeW5tOS7vScsXG5cdCAgZGVjYWRlU2VsZWN0OiAn6YCJ5oup5bm05LujJyxcblx0ICB5ZWFyRm9ybWF0OiAnWVlZWeW5tCcsXG5cdCAgbW9udGhGb3JtYXQ6ICdN5pyIJyxcblx0ICBkYXlGb3JtYXQ6ICdE5pelJyxcblx0ICBkYXRlRm9ybWF0OiAnWVlZWeW5tE3mnIhE5pelJyxcblx0ICBkYXRlVGltZUZvcm1hdDogJ1lZWVnlubRN5pyIROaXpSBISOaXtm1t5YiGc3Pnp5InLFxuXHQgIHByZXZpb3VzWWVhcjogJ+S4iuS4gOW5tCAoQ29udHJvbOmUruWKoOW3puaWueWQkemUriknLFxuXHQgIG5leHRZZWFyOiAn5LiL5LiA5bm0IChDb250cm9s6ZSu5Yqg5Y+z5pa55ZCR6ZSuKScsXG5cdCAgcHJldmlvdXNEZWNhZGU6ICfkuIrkuIDlubTku6MnLFxuXHQgIG5leHREZWNhZGU6ICfkuIvkuIDlubTku6MnLFxuXHQgIHByZXZpb3VzQ2VudHVyeTogJ+S4iuS4gOS4lue6qicsXG5cdCAgbmV4dENlbnR1cnk6ICfkuIvkuIDkuJbnuqonXG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Tm93KCkge1xuXHQgIHJldHVybiAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXROb3dCeUN1cnJlbnRTdGF0ZVZhbHVlKHZhbHVlKSB7XG5cdCAgdmFyIHJldCA9IHZvaWQgMDtcblx0ICBpZiAodmFsdWUpIHtcblx0ICAgIHJldCA9ICgwLCBfaW5kZXguZ2V0VG9kYXlUaW1lKSh2YWx1ZSk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldCA9IGdldE5vdygpO1xuXHQgIH1cblx0ICByZXR1cm4gcmV0O1xuXHR9XG5cdFxuXHR2YXIgQ2FsZW5kYXJNaXhpbiA9IHtcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBvbktleURvd246IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgb25LZXlEb3duOiBub29wXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlIHx8IGdldE5vdygpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICBzZWxlY3RlZFZhbHVlOiBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IHByb3BzLmRlZmF1bHRTZWxlY3RlZFZhbHVlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbmV4dFByb3BzLnNlbGVjdGVkVmFsdWU7XG5cdFxuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHZhbHVlID0gdmFsdWUgfHwgbmV4dFByb3BzLmRlZmF1bHRWYWx1ZSB8fCBnZXROb3dCeUN1cnJlbnRTdGF0ZVZhbHVlKHRoaXMuc3RhdGUudmFsdWUpO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBpZiAoJ3NlbGVjdGVkVmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlLCBjYXVzZSkge1xuXHQgICAgaWYgKHZhbHVlKSB7XG5cdCAgICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuXHQgICAgfVxuXHQgICAgdGhpcy5zZXRTZWxlY3RlZFZhbHVlKHZhbHVlLCBjYXVzZSk7XG5cdCAgfSxcblx0ICByZW5kZXJSb290OiBmdW5jdGlvbiByZW5kZXJSb290KG5ld1Byb3BzKSB7XG5cdCAgICB2YXIgX2NsYXNzTmFtZTtcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gKF9jbGFzc05hbWUgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctaGlkZGVuJywgIXByb3BzLnZpc2libGUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByb3BzLmNsYXNzTmFtZSwgISFwcm9wcy5jbGFzc05hbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIG5ld1Byb3BzLmNsYXNzTmFtZSwgISFuZXdQcm9wcy5jbGFzc05hbWUpLCBfY2xhc3NOYW1lKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHtcblx0ICAgICAgICByZWY6ICdyb290Jyxcblx0ICAgICAgICBjbGFzc05hbWU6ICcnICsgKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSksXG5cdCAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsXG5cdCAgICAgICAgdGFiSW5kZXg6ICcwJyxcblx0ICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duXG5cdCAgICAgIH0sXG5cdCAgICAgIG5ld1Byb3BzLmNoaWxkcmVuXG5cdCAgICApO1xuXHQgIH0sXG5cdCAgc2V0U2VsZWN0ZWRWYWx1ZTogZnVuY3Rpb24gc2V0U2VsZWN0ZWRWYWx1ZShzZWxlY3RlZFZhbHVlLCBjYXVzZSkge1xuXHQgICAgLy8gaWYgKHRoaXMuaXNBbGxvd2VkRGF0ZShzZWxlY3RlZFZhbHVlKSkge1xuXHQgICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHNlbGVjdGVkVmFsdWUsIGNhdXNlKTtcblx0ICAgIC8vIH1cblx0ICB9LFxuXHQgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBpZiAob3JpZ2luYWxWYWx1ZSAmJiB2YWx1ZSAmJiAhb3JpZ2luYWxWYWx1ZS5pc1NhbWUodmFsdWUpIHx8ICFvcmlnaW5hbFZhbHVlICYmIHZhbHVlIHx8IG9yaWdpbmFsVmFsdWUgJiYgIXZhbHVlKSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UodmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgaXNBbGxvd2VkRGF0ZTogZnVuY3Rpb24gaXNBbGxvd2VkRGF0ZSh2YWx1ZSkge1xuXHQgICAgdmFyIGRpc2FibGVkRGF0ZSA9IHRoaXMucHJvcHMuZGlzYWJsZWREYXRlO1xuXHQgICAgdmFyIGRpc2FibGVkVGltZSA9IHRoaXMucHJvcHMuZGlzYWJsZWRUaW1lO1xuXHQgICAgcmV0dXJuICgwLCBfaW5kZXguaXNBbGxvd2VkRGF0ZSkodmFsdWUsIGRpc2FibGVkRGF0ZSwgZGlzYWJsZWRUaW1lKTtcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyTWl4aW47XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1llYXJQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYzKTtcblx0XG5cdHZhciBfWWVhclBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1llYXJQYW5lbCk7XG5cdFxuXHR2YXIgX01vbnRoVGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4MSk7XG5cdFxuXHR2YXIgX01vbnRoVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhUYWJsZSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LmFkZChkaXJlY3Rpb24sICd5ZWFyJyk7XG5cdCAgdGhpcy5zZXRBbmRDaGFuZ2VWYWx1ZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgTW9udGhQYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ01vbnRoUGFuZWwnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIG9uQ2hhbmdlOiBub29wLFxuXHQgICAgICBvblNlbGVjdDogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIC8vIGJpbmQgbWV0aG9kc1xuXHQgICAgdGhpcy5uZXh0WWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIDEpO1xuXHQgICAgdGhpcy5wcmV2aW91c1llYXIgPSBnb1llYXIuYmluZCh0aGlzLCAtMSk7XG5cdCAgICB0aGlzLnByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLW1vbnRoLXBhbmVsJztcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWVcblx0ICAgIH07XG5cdCAgfSxcblx0ICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblllYXJQYW5lbFNlbGVjdDogZnVuY3Rpb24gb25ZZWFyUGFuZWxTZWxlY3QoY3VycmVudCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dZZWFyUGFuZWw6IDBcblx0ICAgIH0pO1xuXHQgICAgdGhpcy5zZXRBbmRDaGFuZ2VWYWx1ZShjdXJyZW50KTtcblx0ICB9LFxuXHQgIHNldEFuZENoYW5nZVZhbHVlOiBmdW5jdGlvbiBzZXRBbmRDaGFuZ2VWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdCAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcblx0ICB9LFxuXHQgIHNldEFuZFNlbGVjdFZhbHVlOiBmdW5jdGlvbiBzZXRBbmRTZWxlY3RWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdCAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcblx0ICB9LFxuXHQgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuXHQgICAgaWYgKCEoJ3ZhbHVlJyBpbiB0aGlzLnByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBzaG93WWVhclBhbmVsOiBmdW5jdGlvbiBzaG93WWVhclBhbmVsKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dZZWFyUGFuZWw6IDFcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblx0ICAgIHZhciBjZWxsUmVuZGVyID0gcHJvcHMuY2VsbFJlbmRlcjtcblx0ICAgIHZhciBjb250ZW50UmVuZGVyID0gcHJvcHMuY29udGVudFJlbmRlcjtcblx0ICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdCAgICB2YXIgeWVhciA9IHZhbHVlLnllYXIoKTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByZWZpeENscztcblx0ICAgIHZhciB5ZWFyUGFuZWwgPSB2b2lkIDA7XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5zaG93WWVhclBhbmVsKSB7XG5cdCAgICAgIHllYXJQYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1llYXJQYW5lbDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByb3BzLnJvb3RQcmVmaXhDbHMsXG5cdCAgICAgICAgb25TZWxlY3Q6IHRoaXMub25ZZWFyUGFuZWxTZWxlY3Rcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYteWVhci1idG4nLFxuXHQgICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c1llYXIsXG5cdCAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldmlvdXNZZWFyXG5cdCAgICAgICAgICB9KSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyLXNlbGVjdCcsXG5cdCAgICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgICAgb25DbGljazogdGhpcy5zaG93WWVhclBhbmVsLFxuXHQgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUueWVhclNlbGVjdFxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyLXNlbGVjdC1jb250ZW50JyB9LFxuXHQgICAgICAgICAgICAgIHllYXJcblx0ICAgICAgICAgICAgKSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QtYXJyb3cnIH0sXG5cdCAgICAgICAgICAgICAgJ3gnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbmV4dC15ZWFyLWJ0bicsXG5cdCAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHRZZWFyLFxuXHQgICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRZZWFyXG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX01vbnRoVGFibGUyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgICAgICBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICAgICAgb25TZWxlY3Q6IHRoaXMuc2V0QW5kU2VsZWN0VmFsdWUsXG5cdCAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgICAgIGNlbGxSZW5kZXI6IGNlbGxSZW5kZXIsXG5cdCAgICAgICAgICAgIGNvbnRlbnRSZW5kZXI6IGNvbnRlbnRSZW5kZXIsXG5cdCAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzXG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgIClcblx0ICAgICAgKSxcblx0ICAgICAgeWVhclBhbmVsXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vbnRoUGFuZWw7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNjM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9EZWNhZGVQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzc5KTtcblx0XG5cdHZhciBfRGVjYWRlUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGVjYWRlUGFuZWwpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUk9XID0gNDtcblx0dmFyIENPTCA9IDM7XG5cdFxuXHRmdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG5cdCAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIHZhbHVlLmFkZChkaXJlY3Rpb24sICd5ZWFyJyk7XG5cdCAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICB2YWx1ZTogdmFsdWVcblx0ICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2hvb3NlWWVhcih5ZWFyKSB7XG5cdCAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIHZhbHVlLnllYXIoeWVhcik7XG5cdCAgdmFsdWUubW9udGgodGhpcy5zdGF0ZS52YWx1ZS5tb250aCgpKTtcblx0ICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcblx0fVxuXHRcblx0dmFyIFllYXJQYW5lbCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShZZWFyUGFuZWwsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBZZWFyUGFuZWwocHJvcHMpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgWWVhclBhbmVsKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMucHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICcteWVhci1wYW5lbCc7XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZVxuXHQgICAgfTtcblx0ICAgIF90aGlzLm5leHREZWNhZGUgPSBnb1llYXIuYmluZChfdGhpcywgMTApO1xuXHQgICAgX3RoaXMucHJldmlvdXNEZWNhZGUgPSBnb1llYXIuYmluZChfdGhpcywgLTEwKTtcblx0ICAgIFsnc2hvd0RlY2FkZVBhbmVsJywgJ29uRGVjYWRlUGFuZWxTZWxlY3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcblx0ICAgICAgX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIFllYXJQYW5lbC5wcm90b3R5cGUub25EZWNhZGVQYW5lbFNlbGVjdCA9IGZ1bmN0aW9uIG9uRGVjYWRlUGFuZWxTZWxlY3QoY3VycmVudCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHZhbHVlOiBjdXJyZW50LFxuXHQgICAgICBzaG93RGVjYWRlUGFuZWw6IDBcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIFllYXJQYW5lbC5wcm90b3R5cGUueWVhcnMgPSBmdW5jdGlvbiB5ZWFycygpIHtcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG5cdCAgICB2YXIgc3RhcnRZZWFyID0gcGFyc2VJbnQoY3VycmVudFllYXIgLyAxMCwgMTApICogMTA7XG5cdCAgICB2YXIgcHJldmlvdXNZZWFyID0gc3RhcnRZZWFyIC0gMTtcblx0ICAgIHZhciB5ZWFycyA9IFtdO1xuXHQgICAgdmFyIGluZGV4ID0gMDtcblx0ICAgIGZvciAodmFyIHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCBST1c7IHJvd0luZGV4KyspIHtcblx0ICAgICAgeWVhcnNbcm93SW5kZXhdID0gW107XG5cdCAgICAgIGZvciAodmFyIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBDT0w7IGNvbEluZGV4KyspIHtcblx0ICAgICAgICB2YXIgeWVhciA9IHByZXZpb3VzWWVhciArIGluZGV4O1xuXHQgICAgICAgIHZhciBjb250ZW50ID0gU3RyaW5nKHllYXIpO1xuXHQgICAgICAgIHllYXJzW3Jvd0luZGV4XVtjb2xJbmRleF0gPSB7XG5cdCAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuXHQgICAgICAgICAgeWVhcjogeWVhcixcblx0ICAgICAgICAgIHRpdGxlOiBjb250ZW50XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpbmRleCsrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4geWVhcnM7XG5cdCAgfTtcblx0XG5cdCAgWWVhclBhbmVsLnByb3RvdHlwZS5zaG93RGVjYWRlUGFuZWwgPSBmdW5jdGlvbiBzaG93RGVjYWRlUGFuZWwoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc2hvd0RlY2FkZVBhbmVsOiAxXG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBZZWFyUGFuZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblx0ICAgIHZhciB5ZWFycyA9IHRoaXMueWVhcnMoKTtcblx0ICAgIHZhciBjdXJyZW50WWVhciA9IHZhbHVlLnllYXIoKTtcblx0ICAgIHZhciBzdGFydFllYXIgPSBwYXJzZUludChjdXJyZW50WWVhciAvIDEwLCAxMCkgKiAxMDtcblx0ICAgIHZhciBlbmRZZWFyID0gc3RhcnRZZWFyICsgOTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByZWZpeENscztcblx0XG5cdCAgICB2YXIgeWVhc0VscyA9IHllYXJzLm1hcChmdW5jdGlvbiAocm93LCBpbmRleCkge1xuXHQgICAgICB2YXIgdGRzID0gcm93Lm1hcChmdW5jdGlvbiAoeWVhckRhdGEpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZU1hcDtcblx0XG5cdCAgICAgICAgdmFyIGNsYXNzTmFtZU1hcCA9IChfY2xhc3NOYW1lTWFwID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1jZWxsJywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1jZWxsJywgeWVhckRhdGEueWVhciA9PT0gY3VycmVudFllYXIpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctbGFzdC1kZWNhZGUtY2VsbCcsIHllYXJEYXRhLnllYXIgPCBzdGFydFllYXIpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctbmV4dC1kZWNhZGUtY2VsbCcsIHllYXJEYXRhLnllYXIgPiBlbmRZZWFyKSwgX2NsYXNzTmFtZU1hcCk7XG5cdCAgICAgICAgdmFyIGNsaWNrSGFuZGxlciA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoeWVhckRhdGEueWVhciA8IHN0YXJ0WWVhcikge1xuXHQgICAgICAgICAgY2xpY2tIYW5kbGVyID0gX3RoaXMyLnByZXZpb3VzRGVjYWRlO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoeWVhckRhdGEueWVhciA+IGVuZFllYXIpIHtcblx0ICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5uZXh0RGVjYWRlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBjbGlja0hhbmRsZXIgPSBjaG9vc2VZZWFyLmJpbmQoX3RoaXMyLCB5ZWFyRGF0YS55ZWFyKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuXHQgICAgICAgICAgICB0aXRsZTogeWVhckRhdGEudGl0bGUsXG5cdCAgICAgICAgICAgIGtleTogeWVhckRhdGEuY29udGVudCxcblx0ICAgICAgICAgICAgb25DbGljazogY2xpY2tIYW5kbGVyLFxuXHQgICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWVNYXApXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXllYXInXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIHllYXJEYXRhLmNvbnRlbnRcblx0ICAgICAgICAgIClcblx0ICAgICAgICApO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RyJyxcblx0ICAgICAgICB7IGtleTogaW5kZXgsIHJvbGU6ICdyb3cnIH0sXG5cdCAgICAgICAgdGRzXG5cdCAgICAgICk7XG5cdCAgICB9KTtcblx0XG5cdCAgICB2YXIgZGVjYWRlUGFuZWwgPSB2b2lkIDA7XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5zaG93RGVjYWRlUGFuZWwpIHtcblx0ICAgICAgZGVjYWRlUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EZWNhZGVQYW5lbDJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByb3BzLnJvb3RQcmVmaXhDbHMsXG5cdCAgICAgICAgb25TZWxlY3Q6IHRoaXMub25EZWNhZGVQYW5lbFNlbGVjdFxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByZWZpeENscyB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaGVhZGVyJyB9LFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXByZXYtZGVjYWRlLWJ0bicsXG5cdCAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXZpb3VzRGVjYWRlLFxuXHQgICAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzRGVjYWRlXG5cdCAgICAgICAgICB9KSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdhJyxcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kZWNhZGUtc2VsZWN0Jyxcblx0ICAgICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNob3dEZWNhZGVQYW5lbCxcblx0ICAgICAgICAgICAgICB0aXRsZTogbG9jYWxlLmRlY2FkZVNlbGVjdFxuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kZWNhZGUtc2VsZWN0LWNvbnRlbnQnIH0sXG5cdCAgICAgICAgICAgICAgc3RhcnRZZWFyLFxuXHQgICAgICAgICAgICAgICctJyxcblx0ICAgICAgICAgICAgICBlbmRZZWFyXG5cdCAgICAgICAgICAgICksXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRlY2FkZS1zZWxlY3QtYXJyb3cnIH0sXG5cdCAgICAgICAgICAgICAgJ3gnXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbmV4dC1kZWNhZGUtYnRuJyxcblx0ICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dERlY2FkZSxcblx0ICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0RGVjYWRlXG5cdCAgICAgICAgICB9KVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICd0YWJsZScsXG5cdCAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG5cdCAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcblx0ICAgICAgICAgICAgICB5ZWFzRWxzXG5cdCAgICAgICAgICAgIClcblx0ICAgICAgICAgIClcblx0ICAgICAgICApXG5cdCAgICAgICksXG5cdCAgICAgIGRlY2FkZVBhbmVsXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBZZWFyUGFuZWw7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gWWVhclBhbmVsO1xuXHRcblx0XG5cdFllYXJQYW5lbC5wcm9wVHlwZXMgPSB7XG5cdCAgcm9vdFByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0XG5cdFllYXJQYW5lbC5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KCkge31cblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDI2NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRmdW5jdGlvbiBtaXJyb3Iobykge1xuXHQgIHJldHVybiBvO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcFNlbGYoY2hpbGRyZW4pIHtcblx0ICAvLyByZXR1cm4gUmVhY3RGcmFnbWVudFxuXHQgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAoY2hpbGRyZW4sIG1pcnJvcik7XG5cdH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxMjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfemhfQ04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MCk7XG5cdFxuXHR2YXIgX3poX0NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOKTtcblx0XG5cdHZhciBfcmNDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjU5KTtcblx0XG5cdHZhciBfcmNDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0NhbGVuZGFyKTtcblx0XG5cdHZhciBfd2FybmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRcblx0dmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgQ2FsZW5kYXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDYWxlbmRhciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG5cdCAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDYWxlbmRhcik7XG5cdCAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgICAgfVxuXHRcblx0ICAgIENhbGVuZGFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgKDAsIF93YXJuaW5nMltcImRlZmF1bHRcIl0pKGZhbHNlLCAnRGF0ZVBpY2tlci5DYWxlbmRhciBpcyBkZXByZWNhdGVkLCB1c2UgQ2FsZW5kYXIgaW5zdGVhZC4nKTtcblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNDYWxlbmRhcjJbXCJkZWZhdWx0XCJdLCB0aGlzLnByb3BzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIENhbGVuZGFyO1xuXHR9KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyO1xuXHRcblx0Q2FsZW5kYXIuZGVmYXVsdFByb3BzID0ge1xuXHQgICAgbG9jYWxlOiBfemhfQ04yW1wiZGVmYXVsdFwiXSxcblx0ICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcidcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxMzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0dmFyIF9SYW5nZUNhbGVuZGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzUpO1xuXHRcblx0dmFyIF9SYW5nZUNhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JhbmdlQ2FsZW5kYXIpO1xuXHRcblx0dmFyIF9QaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1MSk7XG5cdFxuXHR2YXIgX1BpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QaWNrZXIpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHR2YXIgX2ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblx0XG5cdHZhciBfZ2V0TG9jYWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUmFuZ2VQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuXHQgICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYW5nZVBpY2tlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUmFuZ2VQaWNrZXIocHJvcHMpIHtcblx0ICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhbmdlUGlja2VyKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogW10gfSk7XG5cdCAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZShbXSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSwgc2hvd0RhdGU6IHZhbHVlWzBdIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKHZhbHVlLCBbdmFsdWVbMF0gJiYgdmFsdWVbMF0uZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycsIHZhbHVlWzFdICYmIHZhbHVlWzFdLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnXSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVPcGVuQ2hhbmdlID0gZnVuY3Rpb24gKG9wZW4pIHtcblx0ICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBvcGVuOiBvcGVuIH0pO1xuXHQgICAgICAgICAgICB2YXIgb25PcGVuQ2hhbmdlID0gX3RoaXMucHJvcHMub25PcGVuQ2hhbmdlO1xuXHRcblx0ICAgICAgICAgICAgaWYgKG9uT3BlbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgb25PcGVuQ2hhbmdlKG9wZW4pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTaG93RGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChzaG93RGF0ZSkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBzaG93RGF0ZTogc2hvd0RhdGUgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5yZW5kZXJGb290ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuXHQgICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX3RoaXMkcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgICAgICAgICAgcmFuZ2VzID0gX3RoaXMkcHJvcHMucmFuZ2VzO1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFyYW5nZXMpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBvcGVyYXRpb25zID0gT2JqZWN0LmtleXMocmFuZ2VzKS5tYXAoZnVuY3Rpb24gKHJhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSByYW5nZXNbcmFuZ2VdO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICAgICAgICAgIHsga2V5OiByYW5nZSwgb25DbGljazogZnVuY3Rpb24gb25DbGljaygpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcblx0ICAgICAgICAgICAgICAgICAgICByYW5nZVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1xdWljay1zZWxlY3RvcicgfSxcblx0ICAgICAgICAgICAgICAgIG9wZXJhdGlvbnNcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBbXTtcblx0ICAgICAgICBpZiAodmFsdWVbMF0gJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZVswXSkgfHwgdmFsdWVbMV0gJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZVsxXSkpIHtcblx0ICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmFsdWUvZGVmYXVsdFZhbHVlIG9mIFJhbmdlUGlja2VyIG11c3QgYmUgYSBtb21lbnQgb2JqZWN0IGFycmF5IGFmdGVyIGBhbnRkQDIuMGAsICcgKyAnc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2RhdGUtcGlja2VyLXZhbHVlJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgICAgIG9wZW46IHByb3BzLm9wZW5cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBSYW5nZVBpY2tlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSB8fCBbXTtcblx0ICAgICAgICAgICAgdmFyIHNob3dEYXRlID0gdmFsdWVbMF07XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUsIHNob3dEYXRlOiBzaG93RGF0ZSB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCdvcGVuJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBvcGVuOiBuZXh0UHJvcHMub3BlblxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFJhbmdlUGlja2VyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG5cdCAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UodmFsdWUpO1xuXHQgICAgICAgIGlmICghdGhpcy5wcm9wcy5zaG93VGltZSkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3BlbjogZmFsc2UgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBSYW5nZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgIHZhciBfY2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcblx0ICAgICAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuXHQgICAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlLFxuXHQgICAgICAgICAgICBzaG93RGF0ZSA9IHN0YXRlLnNob3dEYXRlLFxuXHQgICAgICAgICAgICBvcGVuID0gc3RhdGUub3Blbjtcblx0XG5cdCAgICAgICAgdmFyIGxvY2FsZUNvZGUgPSAoMCwgX2dldExvY2FsZS5nZXRMb2NhbGVDb2RlKShjb250ZXh0KTtcblx0ICAgICAgICBpZiAodmFsdWUgJiYgbG9jYWxlQ29kZSkge1xuXHQgICAgICAgICAgICBpZiAodmFsdWVbMF0pIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlWzBdLmxvY2FsZShsb2NhbGVDb2RlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodmFsdWVbMV0pIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlWzFdLmxvY2FsZShsb2NhbGVDb2RlKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuXHQgICAgICAgICAgICBkaXNhYmxlZFRpbWUgPSBwcm9wcy5kaXNhYmxlZFRpbWUsXG5cdCAgICAgICAgICAgIHNob3dUaW1lID0gcHJvcHMuc2hvd1RpbWUsXG5cdCAgICAgICAgICAgIHNob3dUb2RheSA9IHByb3BzLnNob3dUb2RheSxcblx0ICAgICAgICAgICAgcmFuZ2VzID0gcHJvcHMucmFuZ2VzLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgIHBvcHVwU3R5bGUgPSBwcm9wcy5wb3B1cFN0eWxlLFxuXHQgICAgICAgICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuXHQgICAgICAgICAgICBvbk9rID0gcHJvcHMub25Payxcblx0ICAgICAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuXHQgICAgICAgICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQ7XG5cdFxuXHQgICAgICAgIHZhciBjYWxlbmRhckNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy10aW1lJywgc2hvd1RpbWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXJhbmdlLXdpdGgtcmFuZ2VzJywgcmFuZ2VzKSwgX2NsYXNzTmFtZXMpKTtcblx0ICAgICAgICAvLyDpnIDopoHpgInmi6nml7bpl7Tml7bvvIzngrnlh7sgb2sg5pe25omN6Kem5Y+RIG9uQ2hhbmdlXG5cdCAgICAgICAgdmFyIHBpY2tlckNoYW5nZUhhbmRsZXIgPSB7XG5cdCAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgdmFyIGNhbGVuZGFySGFuZGxlciA9IHtcblx0ICAgICAgICAgICAgb25PazogdGhpcy5oYW5kbGVDaGFuZ2Vcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGlmIChwcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgICAgICAgIHBpY2tlckNoYW5nZUhhbmRsZXIub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2hhbmdlZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNoYW5nZShjaGFuZ2VkVmFsdWUpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGNhbGVuZGFySGFuZGxlciA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgc3RhcnRQbGFjZWhvbGRlciA9ICdwbGFjZWhvbGRlcicgaW4gcHJvcHMgPyBwcm9wcy5wbGFjZWhvbGRlclswXSA6IGxvY2FsZS5sYW5nLnJhbmdlUGxhY2Vob2xkZXJbMF07XG5cdCAgICAgICAgdmFyIGVuZFBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyBpbiBwcm9wcyA/IHByb3BzLnBsYWNlaG9sZGVyWzFdIDogbG9jYWxlLmxhbmcucmFuZ2VQbGFjZWhvbGRlclsxXTtcblx0ICAgICAgICB2YXIgY2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9SYW5nZUNhbGVuZGFyMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgY2FsZW5kYXJIYW5kbGVyLCB7IGZvcm1hdDogZm9ybWF0LCBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjYWxlbmRhckNsYXNzTmFtZSwgcmVuZGVyRm9vdGVyOiB0aGlzLnJlbmRlckZvb3RlciwgdGltZVBpY2tlcjogcHJvcHMudGltZVBpY2tlciwgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLCBkYXRlSW5wdXRQbGFjZWhvbGRlcjogW3N0YXJ0UGxhY2Vob2xkZXIsIGVuZFBsYWNlaG9sZGVyXSwgbG9jYWxlOiBsb2NhbGUubGFuZywgb25Pazogb25PaywgdmFsdWU6IHNob3dEYXRlIHx8IHByb3BzLmRlZmF1bHRQaWNrZXJWYWx1ZSB8fCAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpLCBvblZhbHVlQ2hhbmdlOiB0aGlzLmhhbmRsZVNob3dEYXRlQ2hhbmdlLCBzaG93VG9kYXk6IHNob3dUb2RheSB9KSk7XG5cdCAgICAgICAgLy8gZGVmYXVsdCB3aWR0aCBmb3Igc2hvd1RpbWVcblx0ICAgICAgICB2YXIgcGlja2VyU3R5bGUgPSB7fTtcblx0ICAgICAgICBpZiAocHJvcHMuc2hvd1RpbWUpIHtcblx0ICAgICAgICAgICAgcGlja2VyU3R5bGUud2lkdGggPSBzdHlsZSAmJiBzdHlsZS53aWR0aCB8fCAzMDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBjbGVhckljb24gPSAhcHJvcHMuZGlzYWJsZWQgJiYgcHJvcHMuYWxsb3dDbGVhciAmJiB2YWx1ZSAmJiAodmFsdWVbMF0gfHwgdmFsdWVbMV0pID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjcm9zcy1jaXJjbGUnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctcGlja2VyLWNsZWFyJywgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbiB9KSA6IG51bGw7XG5cdCAgICAgICAgdmFyIGlucHV0ID0gZnVuY3Rpb24gaW5wdXQoX3JlZikge1xuXHQgICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IF9yZWYudmFsdWU7XG5cdFxuXHQgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnB1dFZhbHVlWzBdO1xuXHQgICAgICAgICAgICB2YXIgZW5kID0gaW5wdXRWYWx1ZVsxXTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucGlja2VySW5wdXRDbGFzcywgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIH0sXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCByZWFkT25seTogdHJ1ZSwgdmFsdWU6IHN0YXJ0ICYmIHN0YXJ0LmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnLCBwbGFjZWhvbGRlcjogc3RhcnRQbGFjZWhvbGRlciwgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXJhbmdlLXBpY2tlci1pbnB1dCcgfSksXG5cdCAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1waWNrZXItc2VwYXJhdG9yJyB9LFxuXHQgICAgICAgICAgICAgICAgICAgICcgfiAnXG5cdCAgICAgICAgICAgICAgICApLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgcmVhZE9ubHk6IHRydWUsIHZhbHVlOiBlbmQgJiYgZW5kLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnLCBwbGFjZWhvbGRlcjogZW5kUGxhY2Vob2xkZXIsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1waWNrZXItaW5wdXQnIH0pLFxuXHQgICAgICAgICAgICAgICAgY2xlYXJJY29uLFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1pY29uJyB9KVxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlckNsYXNzLCBzdHlsZTogKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0eWxlLCBwaWNrZXJTdHlsZSkgfSxcblx0ICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgIF9QaWNrZXIyW1wiZGVmYXVsdFwiXSxcblx0ICAgICAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHBpY2tlckNoYW5nZUhhbmRsZXIsIHsgY2FsZW5kYXI6IGNhbGVuZGFyLCB2YWx1ZTogdmFsdWUsIG9wZW46IG9wZW4sIG9uT3BlbkNoYW5nZTogdGhpcy5oYW5kbGVPcGVuQ2hhbmdlLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctcGlja2VyLWNvbnRhaW5lcicsIHN0eWxlOiBwb3B1cFN0eWxlIH0pLFxuXHQgICAgICAgICAgICAgICAgaW5wdXRcblx0ICAgICAgICAgICAgKVxuXHQgICAgICAgICk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBSYW5nZVBpY2tlcjtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYW5nZVBpY2tlcjtcblx0XG5cdFJhbmdlUGlja2VyLmNvbnRleHRUeXBlcyA9IHtcblx0ICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxuXHR9O1xuXHRSYW5nZVBpY2tlci5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInLFxuXHQgICAgYWxsb3dDbGVhcjogdHJ1ZSxcblx0ICAgIHNob3dUb2RheTogZmFsc2Vcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxNDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZVBpY2tlcjtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdHZhciBfTW9udGhDYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMjUwKTtcblx0XG5cdHZhciBfTW9udGhDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb250aENhbGVuZGFyKTtcblx0XG5cdHZhciBfUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTEpO1xuXHRcblx0dmFyIF9QaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGlja2VyKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX29taXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4Myk7XG5cdFxuXHR2YXIgX29taXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb21pdCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX2dldExvY2FsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTg3KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlUGlja2VyKFRoZUNhbGVuZGFyKSB7XG5cdCAgICAvLyB1c2UgY2xhc3MgdHlwZXNjcmlwdCBlcnJvclxuXHQgICAgdmFyIENhbGVuZGVyV3JhcHBlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGVuZGVyV3JhcHBlcicsXG5cdFxuXHQgICAgICAgIGNvbnRleHRUeXBlczoge1xuXHQgICAgICAgICAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3Rcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgcHJlZml4Q2xzOiAnYW50LWNhbGVuZGFyJyxcblx0ICAgICAgICAgICAgICAgIGFsbG93Q2xlYXI6IHRydWUsXG5cdCAgICAgICAgICAgICAgICBzaG93VG9kYXk6IHRydWVcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZSB8fCBwcm9wcy5kZWZhdWx0VmFsdWU7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhX21vbWVudDJbXCJkZWZhdWx0XCJdLmlzTW9tZW50KHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgdmFsdWUvZGVmYXVsdFZhbHVlIG9mIERhdGVQaWNrZXIgb3IgTW9udGhQaWNrZXIgbXVzdCBiZSAnICsgJ2EgbW9tZW50IG9iamVjdCBhZnRlciBgYW50ZEAyLjBgLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZGF0ZS1waWNrZXItdmFsdWUnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgICAgICAgdGVtcFZhbHVlOiB1bmRlZmluZWRcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZSxcblx0ICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9LFxuXHQgICAgICAgIGNsZWFyU2VsZWN0aW9uOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbihlKSB7XG5cdCAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UobnVsbCk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkge1xuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSh2YWx1ZSwgdmFsdWUgJiYgdmFsdWUuZm9ybWF0KHByb3BzLmZvcm1hdCkgfHwgJycpO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgaGFuZGxlVGVtcENoYW5nZTogZnVuY3Rpb24gaGFuZGxlVGVtcENoYW5nZSh0ZW1wVmFsdWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRlbXBWYWx1ZTogdGVtcFZhbHVlIH0pO1xuXHQgICAgICAgIH0sXG5cdFxuXHQgICAgICAgIC8vIENsZWFyIHRlbXAgdmFsdWUgYW5kIHRyaWdnZXIgb25DaGFuZ2Ugd2hlbiBoaWRlIERhdGVQaWNrZXJbc2hvd1RpbWVdIHBhbmVsXG5cdCAgICAgICAgaGFuZGxlT3BlbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlT3BlbkNoYW5nZShvcGVuKSB7XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgICAgICAgICAgc2hvd1RpbWUgPSBfcHJvcHMuc2hvd1RpbWUsXG5cdCAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2UgPSBfcHJvcHMub25PcGVuQ2hhbmdlLFxuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG5cdCAgICAgICAgICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0O1xuXHRcblx0ICAgICAgICAgICAgaWYgKCFvcGVuKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB0cmlja3kgY29kZSB0byBhdm9pZCB0cmlnZ2VyaW5nIG9uQ2hhbmdlIG11bHRpcGxlIHRpbWVzXG5cdCAgICAgICAgICAgICAgICAvLyB3aGVuIGNsaWNrIGBOb3dgIGJ1dHRvblxuXHQgICAgICAgICAgICAgICAgdmFyIHRlbXBWYWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHByZXZTdGF0ZS50ZW1wVmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHsgdGVtcFZhbHVlOiB1bmRlZmluZWQgfTtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1RpbWUgJiYgdGVtcFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS52YWx1ZSA9IHRlbXBWYWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UodGVtcFZhbHVlLCB0ZW1wVmFsdWUgJiYgdGVtcFZhbHVlLmZvcm1hdChmb3JtYXQpIHx8ICcnKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChvbk9wZW5DaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIG9uT3BlbkNoYW5nZShvcGVuKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lcyxcblx0ICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG5cdCAgICAgICAgICAgICAgICB0ZW1wVmFsdWUgPSBfc3RhdGUudGVtcFZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gKDAsIF9vbWl0MltcImRlZmF1bHRcIl0pKHRoaXMucHJvcHMsIFsnb25DaGFuZ2UnXSk7XG5cdCAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSAncGxhY2Vob2xkZXInIGluIHByb3BzID8gcHJvcHMucGxhY2Vob2xkZXIgOiBsb2NhbGUubGFuZy5wbGFjZWhvbGRlcjtcblx0ICAgICAgICAgICAgdmFyIGRpc2FibGVkVGltZSA9IHByb3BzLnNob3dUaW1lID8gcHJvcHMuZGlzYWJsZWRUaW1lIDogbnVsbDtcblx0ICAgICAgICAgICAgdmFyIGNhbGVuZGFyQ2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUnLCBwcm9wcy5zaG93VGltZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbW9udGgnLCBfTW9udGhDYWxlbmRhcjJbXCJkZWZhdWx0XCJdID09PSBUaGVDYWxlbmRhciksIF9jbGFzc05hbWVzKSk7XG5cdCAgICAgICAgICAgIC8vIOmcgOimgemAieaLqeaXtumXtOaXtu+8jOeCueWHuyBvayDml7bmiY3op6blj5Egb25DaGFuZ2Vcblx0ICAgICAgICAgICAgdmFyIHBpY2tlckNoYW5nZUhhbmRsZXIgPSB7fTtcblx0ICAgICAgICAgICAgdmFyIGNhbGVuZGFySGFuZGxlciA9IHt9O1xuXHQgICAgICAgICAgICBpZiAocHJvcHMuc2hvd1RpbWUpIHtcblx0ICAgICAgICAgICAgICAgIGNhbGVuZGFySGFuZGxlciA9IHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTkwMlxuXHQgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChzZWxlY3RlZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZVRlbXBDaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHBpY2tlckNoYW5nZUhhbmRsZXIgPSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG5cdCAgICAgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZhciBjYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoVGhlQ2FsZW5kYXIsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgY2FsZW5kYXJIYW5kbGVyLCB7IGRpc2FibGVkRGF0ZTogcHJvcHMuZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWU6IGRpc2FibGVkVGltZSwgbG9jYWxlOiBsb2NhbGUubGFuZywgdGltZVBpY2tlcjogcHJvcHMudGltZVBpY2tlciwgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0UGlja2VyVmFsdWUgfHwgKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKSwgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLCBwcmVmaXhDbHM6IHByZWZpeENscywgY2xhc3NOYW1lOiBjYWxlbmRhckNsYXNzTmFtZSwgb25PazogcHJvcHMub25PaywgZm9ybWF0OiBwcm9wcy5mb3JtYXQsIHNob3dUb2RheTogcHJvcHMuc2hvd1RvZGF5LCBtb250aENlbGxDb250ZW50UmVuZGVyOiBwcm9wcy5tb250aENlbGxDb250ZW50UmVuZGVyIH0pKTtcblx0ICAgICAgICAgICAgLy8gZGVmYXVsdCB3aWR0aCBmb3Igc2hvd1RpbWVcblx0ICAgICAgICAgICAgdmFyIHBpY2tlclN0eWxlID0ge307XG5cdCAgICAgICAgICAgIGlmIChwcm9wcy5zaG93VGltZSkge1xuXHQgICAgICAgICAgICAgICAgcGlja2VyU3R5bGUud2lkdGggPSBwcm9wcy5zdHlsZSAmJiBwcm9wcy5zdHlsZS53aWR0aCB8fCAxNTQ7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIGNsZWFySWNvbiA9ICFwcm9wcy5kaXNhYmxlZCAmJiBwcm9wcy5hbGxvd0NsZWFyICYmIHZhbHVlID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjcm9zcy1jaXJjbGUnLCBjbGFzc05hbWU6IHByZWZpeENscyArICctcGlja2VyLWNsZWFyJywgb25DbGljazogdGhpcy5jbGVhclNlbGVjdGlvbiB9KSA6IG51bGw7XG5cdCAgICAgICAgICAgIHZhciBpbnB1dCA9IGZ1bmN0aW9uIGlucHV0KF9yZWYpIHtcblx0ICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gX3JlZi52YWx1ZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgICAgICAgICAgICBudWxsLFxuXHQgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIHJlYWRPbmx5OiB0cnVlLCB2YWx1ZTogaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIGNsYXNzTmFtZTogcHJvcHMucGlja2VySW5wdXRDbGFzcyB9KSxcblx0ICAgICAgICAgICAgICAgICAgICBjbGVhckljb24sXG5cdCAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1pY29uJyB9KVxuXHQgICAgICAgICAgICAgICAgKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFyIHBpY2tlclZhbHVlID0gdGVtcFZhbHVlIHx8IHZhbHVlO1xuXHQgICAgICAgICAgICB2YXIgbG9jYWxlQ29kZSA9ICgwLCBfZ2V0TG9jYWxlLmdldExvY2FsZUNvZGUpKHRoaXMuY29udGV4dCk7XG5cdCAgICAgICAgICAgIGlmIChwaWNrZXJWYWx1ZSAmJiBsb2NhbGVDb2RlKSB7XG5cdCAgICAgICAgICAgICAgICBwaWNrZXJWYWx1ZS5sb2NhbGUobG9jYWxlQ29kZSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucGlja2VyQ2xhc3MsIHN0eWxlOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMuc3R5bGUsIHBpY2tlclN0eWxlKSB9LFxuXHQgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgICAgICAgICBfUGlja2VyMltcImRlZmF1bHRcIl0sXG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgcGlja2VyQ2hhbmdlSGFuZGxlciwgeyBvbk9wZW5DaGFuZ2U6IHRoaXMuaGFuZGxlT3BlbkNoYW5nZSwgY2FsZW5kYXI6IGNhbGVuZGFyLCB2YWx1ZTogcGlja2VyVmFsdWUsIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1waWNrZXItY29udGFpbmVyJywgc3R5bGU6IHByb3BzLnBvcHVwU3R5bGUgfSksXG5cdCAgICAgICAgICAgICAgICAgICAgaW5wdXRcblx0ICAgICAgICAgICAgICAgIClcblx0ICAgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBDYWxlbmRlcldyYXBwZXI7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXHRcblx0dmFyIF9yY0NhbGVuZGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTkpO1xuXHRcblx0dmFyIF9yY0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2FsZW5kYXIpO1xuXHRcblx0dmFyIF9Nb250aENhbGVuZGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTApO1xuXHRcblx0dmFyIF9Nb250aENhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vbnRoQ2FsZW5kYXIpO1xuXHRcblx0dmFyIF9jcmVhdGVQaWNrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNCk7XG5cdFxuXHR2YXIgX2NyZWF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVQaWNrZXIpO1xuXHRcblx0dmFyIF93cmFwUGlja2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMTgpO1xuXHRcblx0dmFyIF93cmFwUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBQaWNrZXIpO1xuXHRcblx0dmFyIF9SYW5nZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzEzKTtcblx0XG5cdHZhciBfUmFuZ2VQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmFuZ2VQaWNrZXIpO1xuXHRcblx0dmFyIF9DYWxlbmRhciA9IF9fd2VicGFja19yZXF1aXJlX18oMzEyKTtcblx0XG5cdHZhciBfQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgRGF0ZVBpY2tlciA9ICgwLCBfd3JhcFBpY2tlcjJbXCJkZWZhdWx0XCJdKSgoMCwgX2NyZWF0ZVBpY2tlcjJbXCJkZWZhdWx0XCJdKShfcmNDYWxlbmRhcjJbXCJkZWZhdWx0XCJdKSk7XG5cdHZhciBNb250aFBpY2tlciA9ICgwLCBfd3JhcFBpY2tlcjJbXCJkZWZhdWx0XCJdKSgoMCwgX2NyZWF0ZVBpY2tlcjJbXCJkZWZhdWx0XCJdKShfTW9udGhDYWxlbmRhcjJbXCJkZWZhdWx0XCJdKSwgJ1lZWVktTU0nKTtcblx0KDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoRGF0ZVBpY2tlciwge1xuXHQgICAgUmFuZ2VQaWNrZXI6ICgwLCBfd3JhcFBpY2tlcjJbXCJkZWZhdWx0XCJdKShfUmFuZ2VQaWNrZXIyW1wiZGVmYXVsdFwiXSksXG5cdCAgICBDYWxlbmRhcjogX0NhbGVuZGFyMltcImRlZmF1bHRcIl0sXG5cdCAgICBNb250aFBpY2tlcjogTW9udGhQaWNrZXJcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGF0ZVBpY2tlcjtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMxNjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3poX0NOID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNjApO1xuXHRcblx0dmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cdFxuXHR2YXIgX3poX0NOMyA9IF9fd2VicGFja19yZXF1aXJlX18oMzIxKTtcblx0XG5cdHZhciBfemhfQ040ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemhfQ04zKTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzczKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0Ly8g5aSH5rOo77ya5Lul5LiL5Luj56CB5peg5rOV5a6M5YWo5oyJ5pyA5Yid6K6+6K6h6L+Q6KGM77yM5L2G5Li65LqG5L+d6K+B5YW85a655oCn77yM6ZyA6KaB5L+d55WZ77yM55u06IezIGFudGQg6buY6K6k6K+t6KiA5pS55Li66Iux5paHXG5cdC8vICAxLiDlpoLmnpznlKjmiLfkuI3nu5nml7bpl7Tnsbvnu4Tku7bkvKDlhaUgdmFsdWUgZGVmYXVsdFZhbHVl77yM5YiZ6L+Q6KGM56ym5ZCI6aKE5pyfXG5cdC8vICAyLiDlpoLmnpznlKjmiLfkvKDlhaUgdmFsdWUgZGVmYXVsdFZhbHVl77yM5Zug5Li66L+Z5q615Luj56CB5rKh5pyJ5Zyo55So5oi35Luj56CB5LmL5YmN6L+Q6KGM77yM5omA5Lul55So5oi36LCD55SoIG1vbWVudCDml7bvvIzpu5jorqTor63oqIDkvp3nhLbkuLroi7Hmlodcblx0Ly8gVG8gc2V0IHRoZSBkZWZhdWx0IGxvY2FsZSBvZiBtb21lbnQgdG8gemgtY24gZ2xvYmFsbHkuXG5cdF9tb21lbnQyW1wiZGVmYXVsdFwiXS5sb2NhbGUoJ3poLWNuJyk7XG5cdC8vIOe7n+S4gOWQiOW5tuS4uuWujOaVtOeahCBMb2NhbGVcblx0dmFyIGxvY2FsZSA9IHtcblx0ICAgIGxhbmc6ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHtcblx0ICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqeaXpeacnycsXG5cdCAgICAgICAgcmFuZ2VQbGFjZWhvbGRlcjogWyflvIDlp4vml6XmnJ8nLCAn57uT5p2f5pel5pyfJ11cblx0ICAgIH0sIF96aF9DTjJbXCJkZWZhdWx0XCJdKSxcblx0ICAgIHRpbWVQaWNrZXJMb2NhbGU6ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfemhfQ040W1wiZGVmYXVsdFwiXSlcblx0fTtcblx0Ly8gc2hvdWxkIGFkZCB3aGl0ZXNwYWNlIGJldHdlZW4gY2hhciBpbiBCdXR0b25cblx0bG9jYWxlLmxhbmcub2sgPSAn56GuIOWumic7XG5cdC8vIEFsbCBzZXR0aW5ncyBhdDpcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9ibG9iL21hc3Rlci9jb21wb25lbnRzL2RhdGUtcGlja2VyL2xvY2FsZS9leGFtcGxlLmpzb25cblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBsb2NhbGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMzU1KTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzMjIpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3cmFwUGlja2VyO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfUGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4Nyk7XG5cdFxuXHR2YXIgX1BhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhbmVsKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3dhcm5pbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTtcblx0XG5cdHZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblx0XG5cdHZhciBfZ2V0TG9jYWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODcpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBnZXRDb2x1bW5zKF9yZWYpIHtcblx0ICAgIHZhciBzaG93SG91ciA9IF9yZWYuc2hvd0hvdXIsXG5cdCAgICAgICAgc2hvd01pbnV0ZSA9IF9yZWYuc2hvd01pbnV0ZSxcblx0ICAgICAgICBzaG93U2Vjb25kID0gX3JlZi5zaG93U2Vjb25kO1xuXHRcblx0ICAgIHZhciBjb2x1bW4gPSAwO1xuXHQgICAgaWYgKHNob3dIb3VyKSB7XG5cdCAgICAgICAgY29sdW1uICs9IDE7XG5cdCAgICB9XG5cdCAgICBpZiAoc2hvd01pbnV0ZSkge1xuXHQgICAgICAgIGNvbHVtbiArPSAxO1xuXHQgICAgfVxuXHQgICAgaWYgKHNob3dTZWNvbmQpIHtcblx0ICAgICAgICBjb2x1bW4gKz0gMTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBjb2x1bW47XG5cdH1cblx0ZnVuY3Rpb24gd3JhcFBpY2tlcihQaWNrZXIsIGRlZmF1bHRGb3JtYXQpIHtcblx0ICAgIHZhciBQaWNrZXJXcmFwcGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgICAgICAgIGRpc3BsYXlOYW1lOiAnUGlja2VyV3JhcHBlcicsXG5cdFxuXHQgICAgICAgIGNvbnRleHRUeXBlczoge1xuXHQgICAgICAgICAgICBhbnRMb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdCB8fCAnWVlZWS1NTS1ERCcsXG5cdCAgICAgICAgICAgICAgICB0cmFuc2l0aW9uTmFtZTogJ3NsaWRlLXVwJyxcblx0ICAgICAgICAgICAgICAgIHBvcHVwU3R5bGU6IHt9LFxuXHQgICAgICAgICAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKCkge30sXG5cdCAgICAgICAgICAgICAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkge30sXG5cdCAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2U6IGZ1bmN0aW9uIG9uT3BlbkNoYW5nZSgpIHt9LFxuXHRcblx0ICAgICAgICAgICAgICAgIGxvY2FsZToge30sXG5cdCAgICAgICAgICAgICAgICBhbGlnbjoge1xuXHQgICAgICAgICAgICAgICAgICAgIG9mZnNldDogWzAsIC05XVxuXHQgICAgICAgICAgICAgICAgfSxcblx0ICAgICAgICAgICAgICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcicsXG5cdCAgICAgICAgICAgICAgICBpbnB1dFByZWZpeENsczogJ2FudC1pbnB1dCdcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGhhbmRsZU9wZW5DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZU9wZW5DaGFuZ2Uob3Blbikge1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICAgICAgICAgIG9uT3BlbkNoYW5nZSA9IF9wcm9wcy5vbk9wZW5DaGFuZ2UsXG5cdCAgICAgICAgICAgICAgICB0b2dnbGVPcGVuID0gX3Byb3BzLnRvZ2dsZU9wZW47XG5cdFxuXHQgICAgICAgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG5cdCAgICAgICAgICAgIGlmICh0b2dnbGVPcGVuKSB7XG5cdCAgICAgICAgICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoZmFsc2UsICdgdG9nZ2xlT3BlbmAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsICcgKyAncGxlYXNlIHVzZSBgb25PcGVuQ2hhbmdlYCBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZGF0ZS1waWNrZXItb24tb3Blbi1jaGFuZ2UnKTtcblx0ICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oeyBvcGVuOiBvcGVuIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzMiwgX2NsYXNzTmFtZXMzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICAgICAgICAgIGlucHV0UHJlZml4Q2xzID0gcHJvcHMuaW5wdXRQcmVmaXhDbHM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcGlja2VyQ2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy1waWNrZXInLCB0cnVlKSk7XG5cdCAgICAgICAgICAgIHZhciBwaWNrZXJJbnB1dENsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lczIgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIHByZWZpeENscyArICctcGlja2VyLWlucHV0JywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBpbnB1dFByZWZpeENscywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBpbnB1dFByZWZpeENscyArICctbGcnLCBwcm9wcy5zaXplID09PSAnbGFyZ2UnKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIGlucHV0UHJlZml4Q2xzICsgJy1zbScsIHByb3BzLnNpemUgPT09ICdzbWFsbCcpLCBfY2xhc3NOYW1lczIpKTtcblx0ICAgICAgICAgICAgdmFyIGxvY2FsZSA9ICgwLCBfZ2V0TG9jYWxlLmdldENvbXBvbmVudExvY2FsZSkocHJvcHMsIHRoaXMuY29udGV4dCwgJ0RhdGVQaWNrZXInLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygzMTYpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgdmFyIHRpbWVGb3JtYXQgPSBwcm9wcy5zaG93VGltZSAmJiBwcm9wcy5zaG93VGltZS5mb3JtYXQgfHwgJ0hIOm1tOnNzJztcblx0ICAgICAgICAgICAgdmFyIHJjVGltZVBpY2tlclByb3BzID0ge1xuXHQgICAgICAgICAgICAgICAgZm9ybWF0OiB0aW1lRm9ybWF0LFxuXHQgICAgICAgICAgICAgICAgc2hvd1NlY29uZDogdGltZUZvcm1hdC5pbmRleE9mKCdzcycpID49IDAsXG5cdCAgICAgICAgICAgICAgICBzaG93TWludXRlOiB0aW1lRm9ybWF0LmluZGV4T2YoJ21tJykgPj0gMCxcblx0ICAgICAgICAgICAgICAgIHNob3dIb3VyOiB0aW1lRm9ybWF0LmluZGV4T2YoJ0hIJykgPj0gMFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICB2YXIgY29sdW1ucyA9IGdldENvbHVtbnMocmNUaW1lUGlja2VyUHJvcHMpO1xuXHQgICAgICAgICAgICB2YXIgdGltZVBpY2tlckNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLTEtY29sdW1uJywgY29sdW1ucyA9PT0gMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLTItY29sdW1ucycsIGNvbHVtbnMgPT09IDIpLCBfY2xhc3NOYW1lczMpKTtcblx0ICAgICAgICAgICAgdmFyIHRpbWVQaWNrZXIgPSBwcm9wcy5zaG93VGltZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1BhbmVsMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmNUaW1lUGlja2VyUHJvcHMsIHByb3BzLnNob3dUaW1lLCB7IHByZWZpeENsczogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlcicsIGNsYXNzTmFtZTogdGltZVBpY2tlckNscywgcGxhY2Vob2xkZXI6IGxvY2FsZS50aW1lUGlja2VyTG9jYWxlLnBsYWNlaG9sZGVyLCB0cmFuc2l0aW9uTmFtZTogJ3NsaWRlLXVwJyB9KSkgOiBudWxsO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChQaWNrZXIsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHsgcGlja2VyQ2xhc3M6IHBpY2tlckNsYXNzLCBwaWNrZXJJbnB1dENsYXNzOiBwaWNrZXJJbnB1dENsYXNzLCBsb2NhbGU6IGxvY2FsZSwgdGltZVBpY2tlcjogdGltZVBpY2tlciwgb25PcGVuQ2hhbmdlOiB0aGlzLmhhbmRsZU9wZW5DaGFuZ2UgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIFBpY2tlcldyYXBwZXI7XG5cdH1cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDMyMTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBsb2NhbGUgPSB7XG5cdCAgICBwbGFjZWhvbGRlcjogJ+ivt+mAieaLqeaXtumXtCdcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBsb2NhbGU7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzMjI6XG5bMTIyMCwgMzU2XSxcblxuLyoqKi8gMzI3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOSksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzI4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRcblx0dmFyIF9pc0l0ZXJhYmxlMiA9IF9fd2VicGFja19yZXF1aXJlX18oMzI3KTtcblx0XG5cdHZhciBfaXNJdGVyYWJsZTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0l0ZXJhYmxlMik7XG5cdFxuXHR2YXIgX2dldEl0ZXJhdG9yMiA9IF9fd2VicGFja19yZXF1aXJlX18oMjQwKTtcblx0XG5cdHZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHtcblx0ICAgIHZhciBfYXJyID0gW107XG5cdCAgICB2YXIgX24gPSB0cnVlO1xuXHQgICAgdmFyIF9kID0gZmFsc2U7XG5cdCAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuXHQgICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cdFxuXHQgICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfSBjYXRjaCAoZXJyKSB7XG5cdCAgICAgIF9kID0gdHJ1ZTtcblx0ICAgICAgX2UgPSBlcnI7XG5cdCAgICB9IGZpbmFsbHkge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBfYXJyO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcblx0ICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcblx0ICAgICAgcmV0dXJuIGFycjtcblx0ICAgIH0gZWxzZSBpZiAoKDAsIF9pc0l0ZXJhYmxlMy5kZWZhdWx0KShPYmplY3QoYXJyKSkpIHtcblx0ICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuXHQgICAgfVxuXHQgIH07XG5cdH0oKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzI5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0X193ZWJwYWNrX3JlcXVpcmVfXygyMjIpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMCk7XG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNDYpO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgY2xhc3NvZiAgID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNDEpXG5cdCAgLCBJVEVSQVRPUiAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU1KSgnaXRlcmF0b3InKVxuXHQgICwgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOTgpO1xuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpLmlzSXRlcmFibGUgPSBmdW5jdGlvbihpdCl7XG5cdCAgdmFyIE8gPSBPYmplY3QoaXQpO1xuXHQgIHJldHVybiBPW0lURVJBVE9SXSAhPT0gdW5kZWZpbmVkXG5cdCAgICB8fCAnQEBpdGVyYXRvcicgaW4gT1xuXHQgICAgfHwgSXRlcmF0b3JzLmhhc093blByb3BlcnR5KGNsYXNzb2YoTykpO1xuXHR9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNTU6XG4xMCxcblxuLyoqKi8gMzU2OlxuMTAsXG5cbi8qKiovIDM3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vISBtb21lbnQuanMgbG9jYWxlIGNvbmZpZ3VyYXRpb25cblx0Ly8hIGxvY2FsZSA6IENoaW5lc2UgKENoaW5hKSBbemgtY25dXG5cdC8vISBhdXRob3IgOiBzdXVwaWMgOiBodHRwczovL2dpdGh1Yi5jb20vc3V1cGljXG5cdC8vISBhdXRob3IgOiBaZW5vIFplbmcgOiBodHRwczovL2dpdGh1Yi5jb20vemVub3plbmdcblx0XG5cdDsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHQgICAgdHJ1ZSA/IGZhY3RvcnkoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpIDpcblx0ICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnLi4vbW9tZW50J10sIGZhY3RvcnkpIDpcblx0ICAgZmFjdG9yeShnbG9iYWwubW9tZW50KVxuXHR9KHRoaXMsIChmdW5jdGlvbiAobW9tZW50KSB7ICd1c2Ugc3RyaWN0Jztcblx0XG5cdFxuXHR2YXIgemhDbiA9IG1vbWVudC5kZWZpbmVMb2NhbGUoJ3poLWNuJywge1xuXHQgICAgbW9udGhzIDogJ+S4gOaciF/kuozmnIhf5LiJ5pyIX+Wbm+aciF/kupTmnIhf5YWt5pyIX+S4g+aciF/lhavmnIhf5Lmd5pyIX+WNgeaciF/ljYHkuIDmnIhf5Y2B5LqM5pyIJy5zcGxpdCgnXycpLFxuXHQgICAgbW9udGhzU2hvcnQgOiAnMeaciF8y5pyIXzPmnIhfNOaciF815pyIXzbmnIhfN+aciF845pyIXznmnIhfMTDmnIhfMTHmnIhfMTLmnIgnLnNwbGl0KCdfJyksXG5cdCAgICB3ZWVrZGF5cyA6ICfmmJ/mnJ/ml6Vf5pif5pyf5LiAX+aYn+acn+S6jF/mmJ/mnJ/kuIlf5pif5pyf5ZubX+aYn+acn+S6lF/mmJ/mnJ/lha0nLnNwbGl0KCdfJyksXG5cdCAgICB3ZWVrZGF5c1Nob3J0IDogJ+WRqOaXpV/lkajkuIBf5ZGo5LqMX+WRqOS4iV/lkajlm5tf5ZGo5LqUX+WRqOWFrScuc3BsaXQoJ18nKSxcblx0ICAgIHdlZWtkYXlzTWluIDogJ+aXpV/kuIBf5LqMX+S4iV/lm5tf5LqUX+WFrScuc3BsaXQoJ18nKSxcblx0ICAgIGxvbmdEYXRlRm9ybWF0IDoge1xuXHQgICAgICAgIExUIDogJ0Fo54K5bW3liIYnLFxuXHQgICAgICAgIExUUyA6ICdBaOeCuW3liIZz56eSJyxcblx0ICAgICAgICBMIDogJ1lZWVktTU0tREQnLFxuXHQgICAgICAgIExMIDogJ1lZWVnlubRNTU1E5pelJyxcblx0ICAgICAgICBMTEwgOiAnWVlZWeW5tE1NTUTml6VBaOeCuW1t5YiGJyxcblx0ICAgICAgICBMTExMIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnLFxuXHQgICAgICAgIGwgOiAnWVlZWS1NTS1ERCcsXG5cdCAgICAgICAgbGwgOiAnWVlZWeW5tE1NTUTml6UnLFxuXHQgICAgICAgIGxsbCA6ICdZWVlZ5bm0TU1NROaXpUFo54K5bW3liIYnLFxuXHQgICAgICAgIGxsbGwgOiAnWVlZWeW5tE1NTUTml6VkZGRkQWjngrltbeWIhidcblx0ICAgIH0sXG5cdCAgICBtZXJpZGllbVBhcnNlOiAv5YeM5pmofOaXqeS4inzkuIrljYh85Lit5Y2IfOS4i+WNiHzmmZrkuIovLFxuXHQgICAgbWVyaWRpZW1Ib3VyOiBmdW5jdGlvbiAoaG91ciwgbWVyaWRpZW0pIHtcblx0ICAgICAgICBpZiAoaG91ciA9PT0gMTIpIHtcblx0ICAgICAgICAgICAgaG91ciA9IDA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChtZXJpZGllbSA9PT0gJ+WHjOaZqCcgfHwgbWVyaWRpZW0gPT09ICfml6nkuIonIHx8XG5cdCAgICAgICAgICAgICAgICBtZXJpZGllbSA9PT0gJ+S4iuWNiCcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG5cdCAgICAgICAgfSBlbHNlIGlmIChtZXJpZGllbSA9PT0gJ+S4i+WNiCcgfHwgbWVyaWRpZW0gPT09ICfmmZrkuIonKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBob3VyICsgMTI7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgLy8gJ+S4reWNiCdcblx0ICAgICAgICAgICAgcmV0dXJuIGhvdXIgPj0gMTEgPyBob3VyIDogaG91ciArIDEyO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBtZXJpZGllbSA6IGZ1bmN0aW9uIChob3VyLCBtaW51dGUsIGlzTG93ZXIpIHtcblx0ICAgICAgICB2YXIgaG0gPSBob3VyICogMTAwICsgbWludXRlO1xuXHQgICAgICAgIGlmIChobSA8IDYwMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ+WHjOaZqCc7XG5cdCAgICAgICAgfSBlbHNlIGlmIChobSA8IDkwMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ+aXqeS4iic7XG5cdCAgICAgICAgfSBlbHNlIGlmIChobSA8IDExMzApIHtcblx0ICAgICAgICAgICAgcmV0dXJuICfkuIrljYgnO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoaG0gPCAxMjMwKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAn5Lit5Y2IJztcblx0ICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTgwMCkge1xuXHQgICAgICAgICAgICByZXR1cm4gJ+S4i+WNiCc7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuICfmmZrkuIonO1xuXHQgICAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjYWxlbmRhciA6IHtcblx0ICAgICAgICBzYW1lRGF5IDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+S7iuWkqV1BaFvngrnmlbRdJyA6ICdb5LuK5aSpXUxUJztcblx0ICAgICAgICB9LFxuXHQgICAgICAgIG5leHREYXkgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5piO5aSpXUFoW+eCueaVtF0nIDogJ1vmmI7lpKldTFQnO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbGFzdERheSA6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vmmKjlpKldQWhb54K55pW0XScgOiAnW+aYqOWkqV1MVCc7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBuZXh0V2VlayA6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIHN0YXJ0T2ZXZWVrLCBwcmVmaXg7XG5cdCAgICAgICAgICAgIHN0YXJ0T2ZXZWVrID0gbW9tZW50KCkuc3RhcnRPZignd2VlaycpO1xuXHQgICAgICAgICAgICBwcmVmaXggPSB0aGlzLmRpZmYoc3RhcnRPZldlZWssICdkYXlzJykgPj0gNyA/ICdb5LiLXScgOiAnW+acrF0nO1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyBwcmVmaXggKyAnZGRkQWjngrnmlbQnIDogcHJlZml4ICsgJ2RkZEFo54K5bW0nO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbGFzdFdlZWsgOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFydE9mV2VlaywgcHJlZml4O1xuXHQgICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcblx0ICAgICAgICAgICAgcHJlZml4ID0gdGhpcy51bml4KCkgPCBzdGFydE9mV2Vlay51bml4KCkgID8gJ1vkuIpdJyA6ICdb5pysXSc7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/IHByZWZpeCArICdkZGRBaOeCueaVtCcgOiBwcmVmaXggKyAnZGRkQWjngrltbSc7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBzYW1lRWxzZSA6ICdMTCdcblx0ICAgIH0sXG5cdCAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSjml6V85pyIfOWRqCkvLFxuXHQgICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIsIHBlcmlvZCkge1xuXHQgICAgICAgIHN3aXRjaCAocGVyaW9kKSB7XG5cdCAgICAgICAgICAgIGNhc2UgJ2QnOlxuXHQgICAgICAgICAgICBjYXNlICdEJzpcblx0ICAgICAgICAgICAgY2FzZSAnREREJzpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5pelJztcblx0ICAgICAgICAgICAgY2FzZSAnTSc6XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aciCc7XG5cdCAgICAgICAgICAgIGNhc2UgJ3cnOlxuXHQgICAgICAgICAgICBjYXNlICdXJzpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5ZGoJztcblx0ICAgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7XG5cdCAgICAgICAgfVxuXHQgICAgfSxcblx0ICAgIHJlbGF0aXZlVGltZSA6IHtcblx0ICAgICAgICBmdXR1cmUgOiAnJXPlhoUnLFxuXHQgICAgICAgIHBhc3QgOiAnJXPliY0nLFxuXHQgICAgICAgIHMgOiAn5Yeg56eSJyxcblx0ICAgICAgICBtIDogJzEg5YiG6ZKfJyxcblx0ICAgICAgICBtbSA6ICclZCDliIbpkp8nLFxuXHQgICAgICAgIGggOiAnMSDlsI/ml7YnLFxuXHQgICAgICAgIGhoIDogJyVkIOWwj+aXticsXG5cdCAgICAgICAgZCA6ICcxIOWkqScsXG5cdCAgICAgICAgZGQgOiAnJWQg5aSpJyxcblx0ICAgICAgICBNIDogJzEg5Liq5pyIJyxcblx0ICAgICAgICBNTSA6ICclZCDkuKrmnIgnLFxuXHQgICAgICAgIHkgOiAnMSDlubQnLFxuXHQgICAgICAgIHl5IDogJyVkIOW5tCdcblx0ICAgIH0sXG5cdCAgICB3ZWVrIDoge1xuXHQgICAgICAgIC8vIEdCL1QgNzQwOC0xOTk044CK5pWw5o2u5YWD5ZKM5Lqk5o2i5qC85byPwrfkv6Hmga/kuqTmjaLCt+aXpeacn+WSjOaXtumXtOihqOekuuazleOAi+S4jklTTyA4NjAxOjE5ODjnrYnmlYhcblx0ICAgICAgICBkb3cgOiAxLCAvLyBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cblx0ICAgICAgICBkb3kgOiA0ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiA0dGggaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG5cdCAgICB9XG5cdH0pO1xuXHRcblx0cmV0dXJuIHpoQ247XG5cdFxuXHR9KSkpO1xuXG5cbi8qKiovIH0sXG5cbi8qKiovIDM3NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3REb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuXHRcblx0dmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cdFxuXHR2YXIgX0tleUNvZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOCk7XG5cdFxuXHR2YXIgX0tleUNvZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Q29kZSk7XG5cdFxuXHR2YXIgX0RhdGVUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjU4KTtcblx0XG5cdHZhciBfRGF0ZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUYWJsZSk7XG5cdFxuXHR2YXIgX0NhbGVuZGFySGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTIpO1xuXHRcblx0dmFyIF9DYWxlbmRhckhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckhlYWRlcik7XG5cdFxuXHR2YXIgX0NhbGVuZGFyRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNzYpO1xuXHRcblx0dmFyIF9DYWxlbmRhckZvb3RlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckZvb3Rlcik7XG5cdFxuXHR2YXIgX0NhbGVuZGFyTWl4aW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MSk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJNaXhpbik7XG5cdFxuXHR2YXIgX0NvbW1vbk1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cdFxuXHR2YXIgX0RhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMjU3KTtcblx0XG5cdHZhciBfRGF0ZUlucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVJbnB1dCk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZ29TdGFydE1vbnRoKCkge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuc3RhcnRPZignbW9udGgnKTtcblx0ICB0aGlzLnNldFZhbHVlKG5leHQpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb0VuZE1vbnRoKCkge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuZW5kT2YoJ21vbnRoJyk7XG5cdCAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29UaW1lKGRpcmVjdGlvbiwgdW5pdCkge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuYWRkKGRpcmVjdGlvbiwgdW5pdCk7XG5cdCAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29Nb250aChkaXJlY3Rpb24pIHtcblx0ICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAnbW9udGhzJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdvWWVhcihkaXJlY3Rpb24pIHtcblx0ICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAneWVhcnMnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ29XZWVrKGRpcmVjdGlvbikge1xuXHQgIHJldHVybiBnb1RpbWUuY2FsbCh0aGlzLCBkaXJlY3Rpb24sICd3ZWVrcycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnb0RheShkaXJlY3Rpb24pIHtcblx0ICByZXR1cm4gZ29UaW1lLmNhbGwodGhpcywgZGlyZWN0aW9uLCAnZGF5cycpO1xuXHR9XG5cdFxuXHR2YXIgQ2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdDYWxlbmRhcicsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgc2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBzaG93V2Vla051bWJlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgc2hvd1RvZGF5OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBzaG93RGF0ZUlucHV0OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgc2hvd09rOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb25LZXlEb3duOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmVsZW1lbnQsXG5cdCAgICBkYXRlSW5wdXRQbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcmVuZGVyRm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICByZW5kZXJTaWRlYmFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXSwgX0NhbGVuZGFyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cdFxuXHQgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2hvd1RvZGF5OiB0cnVlLFxuXHQgICAgICBzaG93RGF0ZUlucHV0OiB0cnVlLFxuXHQgICAgICB0aW1lUGlja2VyOiBudWxsLFxuXHQgICAgICBvbk9rOiBub29wXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzaG93VGltZVBpY2tlcjogZmFsc2Vcblx0ICAgIH07XG5cdCAgfSxcblx0ICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuXHQgICAgaWYgKGV2ZW50LnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XG5cdCAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cdCAgICB9XG5cdCAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG5cdCAgICAvLyBtYWNcblx0ICAgIHZhciBjdHJsS2V5ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuXHQgICAgc3dpdGNoIChrZXlDb2RlKSB7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5ET1dOOlxuXHQgICAgICAgIGdvV2Vlay5jYWxsKHRoaXMsIDEpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5VUDpcblx0ICAgICAgICBnb1dlZWsuY2FsbCh0aGlzLCAtMSk7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkxFRlQ6XG5cdCAgICAgICAgaWYgKGN0cmxLZXkpIHtcblx0ICAgICAgICAgIGdvWWVhci5jYWxsKHRoaXMsIC0xKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZ29EYXkuY2FsbCh0aGlzLCAtMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5SSUdIVDpcblx0ICAgICAgICBpZiAoY3RybEtleSkge1xuXHQgICAgICAgICAgZ29ZZWFyLmNhbGwodGhpcywgMSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGdvRGF5LmNhbGwodGhpcywgMSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5IT01FOlxuXHQgICAgICAgIGdvU3RhcnRNb250aC5jYWxsKHRoaXMpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTkQ6XG5cdCAgICAgICAgZ29FbmRNb250aC5jYWxsKHRoaXMpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5QQUdFX0RPV046XG5cdCAgICAgICAgZ29Nb250aC5jYWxsKHRoaXMsIDEpO1xuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5QQUdFX1VQOlxuXHQgICAgICAgIGdvTW9udGguY2FsbCh0aGlzLCAtMSk7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSOlxuXHQgICAgICAgIHRoaXMub25TZWxlY3QodGhpcy5zdGF0ZS52YWx1ZSwge1xuXHQgICAgICAgICAgc291cmNlOiAna2V5Ym9hcmQnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgZGVmYXVsdDpcblx0ICAgICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihldmVudCk7XG5cdCAgICAgICAgcmV0dXJuIDE7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuXHQgICAgdGhpcy5vblNlbGVjdChudWxsKTtcblx0ICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuXHQgIH0sXG5cdCAgb25PazogZnVuY3Rpb24gb25PaygpIHtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHRcblx0ICAgIGlmICh0aGlzLmlzQWxsb3dlZERhdGUoc2VsZWN0ZWRWYWx1ZSkpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5vbk9rKHNlbGVjdGVkVmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25EYXRlSW5wdXRDaGFuZ2U6IGZ1bmN0aW9uIG9uRGF0ZUlucHV0Q2hhbmdlKHZhbHVlKSB7XG5cdCAgICB0aGlzLm9uU2VsZWN0KHZhbHVlLCB7XG5cdCAgICAgIHNvdXJjZTogJ2RhdGVJbnB1dCdcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgb25EYXRlVGFibGVTZWxlY3Q6IGZ1bmN0aW9uIG9uRGF0ZVRhYmxlU2VsZWN0KHZhbHVlKSB7XG5cdCAgICB0aGlzLm9uU2VsZWN0KHZhbHVlKTtcblx0ICB9LFxuXHQgIG9uVG9kYXk6IGZ1bmN0aW9uIG9uVG9kYXkoKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHRcblx0ICAgIHZhciBub3cgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuXHQgICAgdGhpcy5vblNlbGVjdChub3csIHtcblx0ICAgICAgc291cmNlOiAndG9kYXlCdXR0b24nXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFJvb3RET01Ob2RlOiBmdW5jdGlvbiBnZXRSb290RE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICB9LFxuXHQgIG9wZW5UaW1lUGlja2VyOiBmdW5jdGlvbiBvcGVuVGltZVBpY2tlcigpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93VGltZVBpY2tlcjogdHJ1ZVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBjbG9zZVRpbWVQaWNrZXI6IGZ1bmN0aW9uIGNsb3NlVGltZVBpY2tlcigpIHtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzaG93VGltZVBpY2tlcjogZmFsc2Vcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuXHQgICAgICAgIGRhdGVJbnB1dFBsYWNlaG9sZGVyID0gcHJvcHMuZGF0ZUlucHV0UGxhY2Vob2xkZXIsXG5cdCAgICAgICAgdGltZVBpY2tlciA9IHByb3BzLnRpbWVQaWNrZXIsXG5cdCAgICAgICAgZGlzYWJsZWRUaW1lID0gcHJvcHMuZGlzYWJsZWRUaW1lO1xuXHRcblx0ICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdCAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZSxcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlID0gc3RhdGUuc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICBzaG93VGltZVBpY2tlciA9IHN0YXRlLnNob3dUaW1lUGlja2VyO1xuXHRcblx0ICAgIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBzaG93VGltZVBpY2tlciAmJiBkaXNhYmxlZFRpbWUgJiYgdGltZVBpY2tlciA/ICgwLCBfaW5kZXguZ2V0VGltZUNvbmZpZykoc2VsZWN0ZWRWYWx1ZSwgZGlzYWJsZWRUaW1lKSA6IG51bGw7XG5cdFxuXHQgICAgdmFyIHRpbWVQaWNrZXJFbGUgPSB0aW1lUGlja2VyICYmIHNob3dUaW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHRpbWVQaWNrZXIsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgIHNob3dIb3VyOiB0cnVlLFxuXHQgICAgICBzaG93U2Vjb25kOiB0cnVlLFxuXHQgICAgICBzaG93TWludXRlOiB0cnVlXG5cdCAgICB9LCB0aW1lUGlja2VyLnByb3BzLCBkaXNhYmxlZFRpbWVDb25maWcsIHtcblx0ICAgICAgb25DaGFuZ2U6IHRoaXMub25EYXRlSW5wdXRDaGFuZ2UsXG5cdCAgICAgIGRlZmF1bHRPcGVuVmFsdWU6IHZhbHVlLFxuXHQgICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWVcblx0ICAgIH0pKSA6IG51bGw7XG5cdCAgICB2YXIgZGF0ZUlucHV0RWxlbWVudCA9IHByb3BzLnNob3dEYXRlSW5wdXQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlSW5wdXQyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICByZWY6ICdkYXRlSW5wdXQnLFxuXHQgICAgICBmb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0KCksXG5cdCAgICAgIGtleTogJ2RhdGUtaW5wdXQnLFxuXHQgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICBwbGFjZWhvbGRlcjogZGF0ZUlucHV0UGxhY2Vob2xkZXIsXG5cdCAgICAgIHNob3dDbGVhcjogdHJ1ZSxcblx0ICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsXG5cdCAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuXHQgICAgICBvbkNsZWFyOiB0aGlzLm9uQ2xlYXIsXG5cdCAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICBvbkNoYW5nZTogdGhpcy5vbkRhdGVJbnB1dENoYW5nZVxuXHQgICAgfSkgOiBudWxsO1xuXHQgICAgdmFyIGNoaWxkcmVuID0gW3Byb3BzLnJlbmRlclNpZGViYXIoKSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ2RpdicsXG5cdCAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBhbmVsJywga2V5OiAncGFuZWwnIH0sXG5cdCAgICAgIGRhdGVJbnB1dEVsZW1lbnQsXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1wYW5lbCcgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckhlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHRoaXMuc2V0VmFsdWUsXG5cdCAgICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXIsXG5cdCAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENsc1xuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgJiYgc2hvd1RpbWVQaWNrZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1wYW5lbCcgfSxcblx0ICAgICAgICAgICAgdGltZVBpY2tlckVsZVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkgOiBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVGFibGUyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcblx0ICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuXHQgICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICAgICAgZGF0ZVJlbmRlcjogcHJvcHMuZGF0ZVJlbmRlcixcblx0ICAgICAgICAgICAgb25TZWxlY3Q6IHRoaXMub25EYXRlVGFibGVTZWxlY3QsXG5cdCAgICAgICAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuXHQgICAgICAgICAgICBzaG93V2Vla051bWJlcjogcHJvcHMuc2hvd1dlZWtOdW1iZXJcblx0ICAgICAgICAgIH0pXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckZvb3RlcjJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgICBzaG93T2s6IHByb3BzLnNob3dPayxcblx0ICAgICAgICAgIHJlbmRlckZvb3RlcjogcHJvcHMucmVuZGVyRm9vdGVyLFxuXHQgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICAgIHNob3dUb2RheTogcHJvcHMuc2hvd1RvZGF5LFxuXHQgICAgICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsXG5cdCAgICAgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXIsXG5cdCAgICAgICAgICBzaG93RGF0ZUlucHV0OiBwcm9wcy5zaG93RGF0ZUlucHV0LFxuXHQgICAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcblx0ICAgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcblx0ICAgICAgICAgIG9rRGlzYWJsZWQ6ICF0aGlzLmlzQWxsb3dlZERhdGUoc2VsZWN0ZWRWYWx1ZSksXG5cdCAgICAgICAgICBvbk9rOiB0aGlzLm9uT2ssXG5cdCAgICAgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdCxcblx0ICAgICAgICAgIG9uVG9kYXk6IHRoaXMub25Ub2RheSxcblx0ICAgICAgICAgIG9uT3BlblRpbWVQaWNrZXI6IHRoaXMub3BlblRpbWVQaWNrZXIsXG5cdCAgICAgICAgICBvbkNsb3NlVGltZVBpY2tlcjogdGhpcy5jbG9zZVRpbWVQaWNrZXJcblx0ICAgICAgICB9KVxuXHQgICAgICApXG5cdCAgICApXTtcblx0XG5cdCAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290KHtcblx0ICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuXHQgICAgICBjbGFzc05hbWU6IHByb3BzLnNob3dXZWVrTnVtYmVyID8gcHJlZml4Q2xzICsgJy13ZWVrLW51bWJlcicgOiAnJ1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCk7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2xpY2VkVG9BcnJheTIpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfbW9tZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXHRcblx0dmFyIF9DYWxlbmRhclBhcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM4Myk7XG5cdFxuXHR2YXIgX0NhbGVuZGFyUGFydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhclBhcnQpO1xuXHRcblx0dmFyIF91dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHR2YXIgX1RvZGF5QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTUpO1xuXHRcblx0dmFyIF9Ub2RheUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2RheUJ1dHRvbik7XG5cdFxuXHR2YXIgX09rQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTMpO1xuXHRcblx0dmFyIF9Pa0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Pa0J1dHRvbik7XG5cdFxuXHR2YXIgX1RpbWVQaWNrZXJCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCk7XG5cdFxuXHR2YXIgX1RpbWVQaWNrZXJCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlckJ1dHRvbik7XG5cdFxuXHR2YXIgX0NvbW1vbk1peGluID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMDcpO1xuXHRcblx0dmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZ2V0Tm93KCkge1xuXHQgIHJldHVybiAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBvblZhbHVlQ2hhbmdlKGRpcmVjdGlvbiwgY3VycmVudCkge1xuXHQgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblx0ICB2YWx1ZSA9IGN1cnJlbnQ7XG5cdCAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuXHQgICAgdmFsdWUuYWRkKC0xLCAnbW9udGhzJyk7XG5cdCAgfVxuXHQgIHRoaXMuZmlyZVZhbHVlQ2hhbmdlKHZhbHVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9ybWFsaXplQW5jaG9yKHByb3BzLCBpbml0KSB7XG5cdCAgdmFyIHNlbGVjdGVkVmFsdWUgPSBwcm9wcy5zZWxlY3RlZFZhbHVlIHx8IGluaXQgJiYgcHJvcHMuZGVmYXVsdFNlbGVjdGVkVmFsdWUgfHwgW107XG5cdCAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWU7XG5cdCAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cdCAgICB2YWx1ZSA9IHZhbHVlWzBdO1xuXHQgIH1cblx0ICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHQgIGlmIChBcnJheS5pc0FycmF5KGRlZmF1bHRWYWx1ZSkpIHtcblx0ICAgIGRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZVswXTtcblx0ICB9XG5cdCAgcmV0dXJuIHZhbHVlIHx8IGluaXQgJiYgZGVmYXVsdFZhbHVlIHx8IHNlbGVjdGVkVmFsdWVbMF0gfHwgaW5pdCAmJiBnZXROb3coKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKGxlbmd0aCkge1xuXHQgIHZhciBhcnIgPSBbXTtcblx0ICBmb3IgKHZhciB2YWx1ZSA9IDA7IHZhbHVlIDwgbGVuZ3RoOyB2YWx1ZSsrKSB7XG5cdCAgICBhcnIucHVzaCh2YWx1ZSk7XG5cdCAgfVxuXHQgIHJldHVybiBhcnI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9uSW5wdXRTZWxlY3QoZGlyZWN0aW9uLCB2YWx1ZSkge1xuXHQgIGlmICghdmFsdWUpIHtcblx0ICAgIHJldHVybjtcblx0ICB9XG5cdCAgdmFyIG9yaWdpbmFsVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdCAgdmFyIHNlbGVjdGVkVmFsdWUgPSBvcmlnaW5hbFZhbHVlLmNvbmNhdCgpO1xuXHQgIHZhciBpbmRleCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gMCA6IDE7XG5cdCAgc2VsZWN0ZWRWYWx1ZVtpbmRleF0gPSB2YWx1ZTtcblx0ICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiB0aGlzLmNvbXBhcmUoc2VsZWN0ZWRWYWx1ZVswXSwgc2VsZWN0ZWRWYWx1ZVsxXSkgPiAwKSB7XG5cdCAgICBzZWxlY3RlZFZhbHVlWzEgLSBpbmRleF0gPSB0aGlzLnN0YXRlLnNob3dUaW1lUGlja2VyID8gc2VsZWN0ZWRWYWx1ZVtpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgfVxuXHQgIHRoaXMuZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xuXHR9XG5cdFxuXHR2YXIgUmFuZ2VDYWxlbmRhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ1JhbmdlQ2FsZW5kYXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkYXRlSW5wdXRQbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93T2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dUb2RheTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgc2hvd0NsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvblZhbHVlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ10pLFxuXHQgICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgdHlwZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIG1peGluczogW19Db21tb25NaXhpbjJbXCJkZWZhdWx0XCJdXSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICB0eXBlOiAnYm90aCcsXG5cdCAgICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlOiBbXSxcblx0ICAgICAgb25WYWx1ZUNoYW5nZTogbm9vcCxcblx0ICAgICAgZGlzYWJsZWRUaW1lOiBub29wLFxuXHQgICAgICBzaG93VG9kYXk6IHRydWVcblx0ICAgIH07XG5cdCAgfSxcblx0ICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUgfHwgcHJvcHMuZGVmYXVsdFNlbGVjdGVkVmFsdWU7XG5cdCAgICB2YXIgdmFsdWUgPSBub3JtYWxpemVBbmNob3IocHJvcHMsIDEpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgaG92ZXJWYWx1ZTogW10sXG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgc2hvd1RpbWVQaWNrZXI6IGZhbHNlXG5cdCAgICB9O1xuXHQgIH0sXG5cdCAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcblx0ICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIGlmIChuZXh0UHJvcHMudmFsdWUpIHtcblx0ICAgICAgICBuZXdTdGF0ZS52YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXdTdGF0ZS52YWx1ZSA9IG5vcm1hbGl6ZUFuY2hvcihuZXh0UHJvcHMsIDApO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuXHQgICAgfVxuXHQgICAgaWYgKCdzZWxlY3RlZFZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcblx0ICAgICAgbmV3U3RhdGUuc2VsZWN0ZWRWYWx1ZSA9IG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlO1xuXHQgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uRGF0ZVBhbmVsRW50ZXI6IGZ1bmN0aW9uIG9uRGF0ZVBhbmVsRW50ZXIoKSB7XG5cdCAgICBpZiAodGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlLmNvbmNhdCgpXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25EYXRlUGFuZWxMZWF2ZTogZnVuY3Rpb24gb25EYXRlUGFuZWxMZWF2ZSgpIHtcblx0ICAgIGlmICh0aGlzLmhhc1NlbGVjdGVkVmFsdWUoKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBob3ZlclZhbHVlOiBbXVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuXHQgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgaG92ZXJWYWx1ZSA9IF9zdGF0ZS5ob3ZlclZhbHVlLFxuXHQgICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblx0XG5cdCAgICB2YXIgbmV4dFNlbGVjdGVkVmFsdWUgPSB2b2lkIDA7XG5cdCAgICB2YXIgdHlwZSA9IHRoaXMucHJvcHMudHlwZTtcblx0XG5cdCAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXHQgICAgaWYgKCFob3ZlclZhbHVlWzBdICYmICFob3ZlclZhbHVlWzFdICYmIHR5cGUgPT09ICdib3RoJykge1xuXHQgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZV07XG5cdCAgICAgIGNoYW5nZWQgPSB0cnVlO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RhcnQnKSB7XG5cdCAgICAgIHZhciBlbmRWYWx1ZSA9IHNlbGVjdGVkVmFsdWVbMV07XG5cdCAgICAgIGlmICghZW5kVmFsdWUgfHwgdGhpcy5jb21wYXJlKGVuZFZhbHVlLCB2YWx1ZSkgPCAwKSB7XG5cdCAgICAgICAgbmV4dFNlbGVjdGVkVmFsdWUgPSBbdmFsdWVdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlLCBlbmRWYWx1ZV07XG5cdCAgICAgIH1cblx0ICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgc3RhcnRWYWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgc3RhcnRWYWx1ZSA9IHR5cGUgPT09ICdlbmQnID8gc2VsZWN0ZWRWYWx1ZVswXSA6IGhvdmVyVmFsdWVbMF07XG5cdCAgICAgIGlmIChzdGFydFZhbHVlICYmIHRoaXMuY29tcGFyZShzdGFydFZhbHVlLCB2YWx1ZSkgPD0gMCkge1xuXHQgICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3N0YXJ0VmFsdWUsIHZhbHVlXTtcblx0ICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFt2YWx1ZV07XG5cdCAgICAgICAgY2hhbmdlZCA9IHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZiAoY2hhbmdlZCkge1xuXHQgICAgICB0aGlzLmZpcmVTZWxlY3RWYWx1ZUNoYW5nZShuZXh0U2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvbkRheUhvdmVyOiBmdW5jdGlvbiBvbkRheUhvdmVyKHZhbHVlKSB7XG5cdCAgICB2YXIgaG92ZXJWYWx1ZSA9IHRoaXMuc3RhdGUuaG92ZXJWYWx1ZTtcblx0ICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXHQgICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cdFxuXHQgICAgaWYgKHR5cGUgPT09ICdzdGFydCcgJiYgc2VsZWN0ZWRWYWx1ZVsxXSkge1xuXHQgICAgICBpZiAodGhpcy5jb21wYXJlKHZhbHVlLCBzZWxlY3RlZFZhbHVlWzFdKSA8IDApIHtcblx0ICAgICAgICBob3ZlclZhbHVlID0gW3ZhbHVlLCBzZWxlY3RlZFZhbHVlWzFdXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBob3ZlclZhbHVlID0gW3ZhbHVlXTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZW5kJyAmJiBzZWxlY3RlZFZhbHVlWzBdKSB7XG5cdCAgICAgIGlmICh0aGlzLmNvbXBhcmUodmFsdWUsIHNlbGVjdGVkVmFsdWVbMF0pID4gMCkge1xuXHQgICAgICAgIGhvdmVyVmFsdWUgPSBbc2VsZWN0ZWRWYWx1ZVswXSwgdmFsdWVdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGhvdmVyVmFsdWUgPSBbXTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaWYgKCFob3ZlclZhbHVlWzBdIHx8IHRoaXMuY29tcGFyZSh2YWx1ZSwgaG92ZXJWYWx1ZVswXSkgPCAwKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGhvdmVyVmFsdWVbMV0gPSB2YWx1ZTtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uVG9kYXk6IGZ1bmN0aW9uIG9uVG9kYXkoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgdmFsdWU6ICgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHRoaXMuc3RhdGUudmFsdWUpXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uT3BlblRpbWVQaWNrZXI6IGZ1bmN0aW9uIG9uT3BlblRpbWVQaWNrZXIoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc2hvd1RpbWVQaWNrZXI6IHRydWVcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgb25DbG9zZVRpbWVQaWNrZXI6IGZ1bmN0aW9uIG9uQ2xvc2VUaW1lUGlja2VyKCkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHNob3dUaW1lUGlja2VyOiBmYWxzZVxuXHQgICAgfSk7XG5cdCAgfSxcblx0ICBvbk9rOiBmdW5jdGlvbiBvbk9rKCkge1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdFxuXHQgICAgaWYgKHRoaXMuaXNBbGxvd2VkRGF0ZUFuZFRpbWUoc2VsZWN0ZWRWYWx1ZSkpIHtcblx0ICAgICAgdGhpcy5wcm9wcy5vbk9rKHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblN0YXJ0SW5wdXRTZWxlY3Q6IGZ1bmN0aW9uIG9uU3RhcnRJbnB1dFNlbGVjdCgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBvYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYXJncyA9IFsnbGVmdCddLmNvbmNhdChvYXJncyk7XG5cdCAgICByZXR1cm4gb25JbnB1dFNlbGVjdC5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9LFxuXHQgIG9uRW5kSW5wdXRTZWxlY3Q6IGZ1bmN0aW9uIG9uRW5kSW5wdXRTZWxlY3QoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgb2FyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYXJncyA9IFsncmlnaHQnXS5jb25jYXQob2FyZ3MpO1xuXHQgICAgcmV0dXJuIG9uSW5wdXRTZWxlY3QuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgfSxcblx0ICBvblN0YXJ0VmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uU3RhcnRWYWx1ZUNoYW5nZSgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuXHQgICAgICBvYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBhcmdzID0gWydsZWZ0J10uY29uY2F0KG9hcmdzKTtcblx0ICAgIHJldHVybiBvblZhbHVlQ2hhbmdlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgIH0sXG5cdCAgb25FbmRWYWx1ZUNoYW5nZTogZnVuY3Rpb24gb25FbmRWYWx1ZUNoYW5nZSgpIHtcblx0ICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuXHQgICAgICBvYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBhcmdzID0gWydyaWdodCddLmNvbmNhdChvYXJncyk7XG5cdCAgICByZXR1cm4gb25WYWx1ZUNoYW5nZS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9LFxuXHQgIGdldFN0YXJ0VmFsdWU6IGZ1bmN0aW9uIGdldFN0YXJ0VmFsdWUoKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdCAgICAvLyBrZWVwIHNlbGVjdGVkVGltZSB3aGVuIHNlbGVjdCBkYXRlXG5cdCAgICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiB0aGlzLnByb3BzLnRpbWVQaWNrZXIpIHtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xuXHQgICAgICAoMCwgX3V0aWwuc3luY1RpbWUpKHNlbGVjdGVkVmFsdWVbMF0sIHZhbHVlKTtcblx0ICAgIH1cblx0ICAgIGlmICh0aGlzLnN0YXRlLnNob3dUaW1lUGlja2VyICYmIHNlbGVjdGVkVmFsdWVbMF0pIHtcblx0ICAgICAgcmV0dXJuIHNlbGVjdGVkVmFsdWVbMF07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdmFsdWU7XG5cdCAgfSxcblx0ICBnZXRFbmRWYWx1ZTogZnVuY3Rpb24gZ2V0RW5kVmFsdWUoKSB7XG5cdCAgICB2YXIgZW5kVmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG5cdCAgICBlbmRWYWx1ZS5hZGQoMSwgJ21vbnRocycpO1xuXHQgICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG5cdCAgICAvLyBrZWVwIHNlbGVjdGVkVGltZSB3aGVuIHNlbGVjdCBkYXRlXG5cdCAgICBpZiAoc2VsZWN0ZWRWYWx1ZVsxXSAmJiB0aGlzLnByb3BzLnRpbWVQaWNrZXIpIHtcblx0ICAgICAgKDAsIF91dGlsLnN5bmNUaW1lKShzZWxlY3RlZFZhbHVlWzFdLCBlbmRWYWx1ZSk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcy5zdGF0ZS5zaG93VGltZVBpY2tlcikge1xuXHQgICAgICByZXR1cm4gc2VsZWN0ZWRWYWx1ZVsxXSA/IHNlbGVjdGVkVmFsdWVbMV0gOiB0aGlzLmdldFN0YXJ0VmFsdWUoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBlbmRWYWx1ZTtcblx0ICB9LFxuXHRcblx0ICAvLyBnZXQgZGlzYWJsZWQgaG91cnMgZm9yIHNlY29uZCBwaWNrZXJcblx0ICBnZXRFbmREaXNhYmxlVGltZTogZnVuY3Rpb24gZ2V0RW5kRGlzYWJsZVRpbWUoKSB7XG5cdCAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IF9zdGF0ZTIuc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICB2YWx1ZSA9IF9zdGF0ZTIudmFsdWU7XG5cdFxuXHQgICAgdmFyIHN0YXJ0VmFsdWUgPSBzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGVkVmFsdWVbMF0gfHwgdmFsdWUuY2xvbmUoKTtcblx0ICAgIC8vIGlmIHN0YXJ0VGltZSBhbmQgZW5kVGltZSBpcyBzYW1lIGRheS4uXG5cdCAgICAvLyB0aGUgc2Vjb25kIHRpbWUgcGlja2VyIHdpbGwgbm90IGFibGUgdG8gcGljayB0aW1lIGJlZm9yZSBmaXJzdCB0aW1lIHBpY2tlclxuXHQgICAgaWYgKCFzZWxlY3RlZFZhbHVlWzFdIHx8IHN0YXJ0VmFsdWUuaXNTYW1lKHNlbGVjdGVkVmFsdWVbMV0sICdkYXknKSkge1xuXHQgICAgICB2YXIgaG91cnMgPSBzdGFydFZhbHVlLmhvdXIoKTtcblx0ICAgICAgdmFyIG1pbnV0ZXMgPSBzdGFydFZhbHVlLm1pbnV0ZSgpO1xuXHQgICAgICB2YXIgc2Vjb25kID0gc3RhcnRWYWx1ZS5zZWNvbmQoKTtcblx0ICAgICAgdmFyIF9kaXNhYmxlZEhvdXJzID0gZ2VuZXJhdGVPcHRpb25zKGhvdXJzKTtcblx0ICAgICAgdmFyIF9kaXNhYmxlZE1pbnV0ZXMgPSBnZW5lcmF0ZU9wdGlvbnMobWludXRlcyk7XG5cdCAgICAgIHZhciBfZGlzYWJsZWRTZWNvbmRzID0gZ2VuZXJhdGVPcHRpb25zKHNlY29uZCk7XG5cdCAgICAgIHJldHVybiB7XG5cdCAgICAgICAgZGlzYWJsZWRIb3VyczogZnVuY3Rpb24gZGlzYWJsZWRIb3VycygpIHtcblx0ICAgICAgICAgIHJldHVybiBfZGlzYWJsZWRIb3Vycztcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGRpc2FibGVkTWludXRlczogZnVuY3Rpb24gZGlzYWJsZWRNaW51dGVzKGhvdXIpIHtcblx0ICAgICAgICAgIGlmIChob3VyID09PSBob3Vycykge1xuXHQgICAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkTWludXRlcztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIGRpc2FibGVkU2Vjb25kczogZnVuY3Rpb24gZGlzYWJsZWRTZWNvbmRzKGhvdXIsIG1pbnV0ZSkge1xuXHQgICAgICAgICAgaWYgKGhvdXIgPT09IGhvdXJzICYmIG1pbnV0ZSA9PT0gbWludXRlcykge1xuXHQgICAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkU2Vjb25kcztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBbXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVsbDtcblx0ICB9LFxuXHQgIGlzQWxsb3dlZERhdGVBbmRUaW1lOiBmdW5jdGlvbiBpc0FsbG93ZWREYXRlQW5kVGltZShzZWxlY3RlZFZhbHVlKSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlsLmlzQWxsb3dlZERhdGUpKHNlbGVjdGVkVmFsdWVbMF0sIHRoaXMucHJvcHMuZGlzYWJsZWREYXRlLCB0aGlzLmRpc2FibGVkU3RhcnRUaW1lKSAmJiAoMCwgX3V0aWwuaXNBbGxvd2VkRGF0ZSkoc2VsZWN0ZWRWYWx1ZVsxXSwgdGhpcy5wcm9wcy5kaXNhYmxlZERhdGUsIHRoaXMuZGlzYWJsZWRFbmRUaW1lKTtcblx0ICB9LFxuXHQgIGhhc1NlbGVjdGVkVmFsdWU6IGZ1bmN0aW9uIGhhc1NlbGVjdGVkVmFsdWUoKSB7XG5cdCAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblx0XG5cdCAgICByZXR1cm4gISFzZWxlY3RlZFZhbHVlWzFdICYmICEhc2VsZWN0ZWRWYWx1ZVswXTtcblx0ICB9LFxuXHQgIGNvbXBhcmU6IGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XG5cdCAgICBpZiAodGhpcy5wcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgIHJldHVybiB2MS5kaWZmKHYyKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB2MS5kaWZmKHYyLCAnZGF5cycpO1xuXHQgIH0sXG5cdCAgZmlyZVNlbGVjdFZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlU2VsZWN0VmFsdWVDaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSwgZGlyZWN0KSB7XG5cdCAgICBpZiAoISgnc2VsZWN0ZWRWYWx1ZScgaW4gdGhpcy5wcm9wcykpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyDlsJrmnKrpgInmi6nov4fml7bpl7TvvIznm7TmjqXovpPlhaXnmoTor51cblx0ICAgIGlmICghdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlWzBdIHx8ICF0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVbMV0pIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcblx0ICAgICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZVswXSB8fCBnZXROb3coKVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiAhc2VsZWN0ZWRWYWx1ZVsxXSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBob3ZlclZhbHVlOiBzZWxlY3RlZFZhbHVlLmNvbmNhdCgpXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShzZWxlY3RlZFZhbHVlKTtcblx0ICAgIGlmIChkaXJlY3QgfHwgc2VsZWN0ZWRWYWx1ZVswXSAmJiBzZWxlY3RlZFZhbHVlWzFdKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIGhvdmVyVmFsdWU6IFtdXG5cdCAgICAgIH0pO1xuXHQgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHNlbGVjdGVkVmFsdWUpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZmlyZVZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlVmFsdWVDaGFuZ2UodmFsdWUpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICB2YWx1ZTogdmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICBwcm9wcy5vblZhbHVlQ2hhbmdlKHZhbHVlKTtcblx0ICB9LFxuXHQgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcblx0ICAgIHRoaXMuZmlyZVNlbGVjdFZhbHVlQ2hhbmdlKFtdLCB0cnVlKTtcblx0ICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuXHQgIH0sXG5cdCAgZGlzYWJsZWRTdGFydFRpbWU6IGZ1bmN0aW9uIGRpc2FibGVkU3RhcnRUaW1lKHRpbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVkVGltZSh0aW1lLCAnc3RhcnQnKTtcblx0ICB9LFxuXHQgIGRpc2FibGVkRW5kVGltZTogZnVuY3Rpb24gZGlzYWJsZWRFbmRUaW1lKHRpbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVkVGltZSh0aW1lLCAnZW5kJyk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfY2xhc3NOYW1lLCBfY2xhc3NuYW1lcztcblx0XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblx0ICAgIHZhciBzaG93VGltZVBpY2tlciA9IHN0YXRlLnNob3dUaW1lUGlja2VyO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBkYXRlSW5wdXRQbGFjZWhvbGRlciA9IHByb3BzLmRhdGVJbnB1dFBsYWNlaG9sZGVyLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuXHQgICAgICAgIHNob3dPayA9IHByb3BzLnNob3dPayxcblx0ICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgc2hvd0NsZWFyID0gcHJvcHMuc2hvd0NsZWFyLFxuXHQgICAgICAgIHNob3dUb2RheSA9IHByb3BzLnNob3dUb2RheSxcblx0ICAgICAgICB0eXBlID0gcHJvcHMudHlwZTtcblx0ICAgIHZhciBob3ZlclZhbHVlID0gc3RhdGUuaG92ZXJWYWx1ZSxcblx0ICAgICAgICBzZWxlY3RlZFZhbHVlID0gc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblx0XG5cdCAgICB2YXIgY2xhc3NOYW1lID0gKF9jbGFzc05hbWUgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctaGlkZGVuJywgIXByb3BzLnZpc2libGUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctcmFuZ2UnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXNob3ctdGltZS1waWNrZXInLCBzaG93VGltZVBpY2tlciksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy13ZWVrLW51bWJlcicsIHByb3BzLnNob3dXZWVrTnVtYmVyKSwgX2NsYXNzTmFtZSk7XG5cdCAgICB2YXIgY2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShjbGFzc05hbWUpO1xuXHQgICAgdmFyIG5ld1Byb3BzID0ge1xuXHQgICAgICBzZWxlY3RlZFZhbHVlOiBzdGF0ZS5zZWxlY3RlZFZhbHVlLFxuXHQgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdCxcblx0ICAgICAgb25EYXlIb3ZlcjogdHlwZSA9PT0gJ3N0YXJ0JyAmJiBzZWxlY3RlZFZhbHVlWzFdIHx8IHR5cGUgPT09ICdlbmQnICYmIHNlbGVjdGVkVmFsdWVbMF0gfHwgISFob3ZlclZhbHVlLmxlbmd0aCA/IHRoaXMub25EYXlIb3ZlciA6IHVuZGVmaW5lZFxuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgcGxhY2Vob2xkZXIxID0gdm9pZCAwO1xuXHQgICAgdmFyIHBsYWNlaG9sZGVyMiA9IHZvaWQgMDtcblx0XG5cdCAgICBpZiAoZGF0ZUlucHV0UGxhY2Vob2xkZXIpIHtcblx0ICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0ZUlucHV0UGxhY2Vob2xkZXIpKSB7XG5cdCAgICAgICAgdmFyIF9kYXRlSW5wdXRQbGFjZWhvbGRlciA9ICgwLCBfc2xpY2VkVG9BcnJheTNbXCJkZWZhdWx0XCJdKShkYXRlSW5wdXRQbGFjZWhvbGRlciwgMik7XG5cdFxuXHQgICAgICAgIHBsYWNlaG9sZGVyMSA9IF9kYXRlSW5wdXRQbGFjZWhvbGRlclswXTtcblx0ICAgICAgICBwbGFjZWhvbGRlcjIgPSBfZGF0ZUlucHV0UGxhY2Vob2xkZXJbMV07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcGxhY2Vob2xkZXIxID0gcGxhY2Vob2xkZXIyID0gZGF0ZUlucHV0UGxhY2Vob2xkZXI7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHZhciBzaG93T2tCdXR0b24gPSBzaG93T2sgPT09IHRydWUgfHwgc2hvd09rICE9PSBmYWxzZSAmJiAhIXRpbWVQaWNrZXI7XG5cdCAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXJhbmdlLWJvdHRvbScsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWZvb3Rlci1zaG93LW9rJywgc2hvd09rQnV0dG9uKSwgX2NsYXNzbmFtZXMpKTtcblx0XG5cdCAgICB2YXIgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0U3RhcnRWYWx1ZSgpO1xuXHQgICAgdmFyIGVuZFZhbHVlID0gdGhpcy5nZXRFbmRWYWx1ZSgpO1xuXHQgICAgdmFyIHRvZGF5VGltZSA9ICgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHN0YXJ0VmFsdWUpO1xuXHQgICAgdmFyIHRoaXNNb250aCA9IHRvZGF5VGltZS5tb250aCgpO1xuXHQgICAgdmFyIHRoaXNZZWFyID0gdG9kYXlUaW1lLnllYXIoKTtcblx0ICAgIHZhciBpc1RoaXNZZWFyID0gdGhpc1llYXIgPT09IHN0YXJ0VmFsdWUueWVhcigpIHx8IHRoaXMueWVhciA9PT0gZW5kVmFsdWUueWVhcigpO1xuXHQgICAgdmFyIGlzVG9kYXlJblZpZXcgPSBpc1RoaXNZZWFyICYmICh0aGlzTW9udGggPT09IHN0YXJ0VmFsdWUubW9udGgoKSB8fCB0aGlzTW9udGggPT09IGVuZFZhbHVlLm1vbnRoKCkpO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAge1xuXHQgICAgICAgIHJlZjogJ3Jvb3QnLFxuXHQgICAgICAgIGNsYXNzTmFtZTogY2xhc3Nlcyxcblx0ICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG5cdCAgICAgICAgdGFiSW5kZXg6ICcwJ1xuXHQgICAgICB9LFxuXHQgICAgICBwcm9wcy5yZW5kZXJTaWRlYmFyKCksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcGFuZWwnIH0sXG5cdCAgICAgICAgc2hvd0NsZWFyICYmIHNlbGVjdGVkVmFsdWVbMF0gJiYgc2VsZWN0ZWRWYWx1ZVsxXSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xlYXItYnRuJyxcblx0ICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5jbGVhcixcblx0ICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuY2xlYXJcblx0ICAgICAgICB9KSA6IG51bGwsXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1wYW5lbCcsXG5cdCAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogdHlwZSAhPT0gJ2JvdGgnID8gdGhpcy5vbkRhdGVQYW5lbExlYXZlIDogdW5kZWZpbmVkLFxuXHQgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IHR5cGUgIT09ICdib3RoJyA/IHRoaXMub25EYXRlUGFuZWxFbnRlciA6IHVuZGVmaW5lZFxuXHQgICAgICAgICAgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyUGFydDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCBuZXdQcm9wcywge1xuXHQgICAgICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlLFxuXHQgICAgICAgICAgICBkaXJlY3Rpb246ICdsZWZ0Jyxcblx0ICAgICAgICAgICAgZGlzYWJsZWRUaW1lOiB0aGlzLmRpc2FibGVkU3RhcnRUaW1lLFxuXHQgICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZ2V0Rm9ybWF0KCksXG5cdCAgICAgICAgICAgIHZhbHVlOiBzdGFydFZhbHVlLFxuXHQgICAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIxLFxuXHQgICAgICAgICAgICBvbklucHV0U2VsZWN0OiB0aGlzLm9uU3RhcnRJbnB1dFNlbGVjdCxcblx0ICAgICAgICAgICAgb25WYWx1ZUNoYW5nZTogdGhpcy5vblN0YXJ0VmFsdWVDaGFuZ2UsXG5cdCAgICAgICAgICAgIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsXG5cdCAgICAgICAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlclxuXHQgICAgICAgICAgfSkpLFxuXHQgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1taWRkbGUnIH0sXG5cdCAgICAgICAgICAgICd+J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyUGFydDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCBuZXdQcm9wcywge1xuXHQgICAgICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlLFxuXHQgICAgICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXG5cdCAgICAgICAgICAgIGZvcm1hdDogdGhpcy5nZXRGb3JtYXQoKSxcblx0ICAgICAgICAgICAgdGltZVBpY2tlckRpc2FibGVkVGltZTogdGhpcy5nZXRFbmREaXNhYmxlVGltZSgpLFxuXHQgICAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIyLFxuXHQgICAgICAgICAgICB2YWx1ZTogZW5kVmFsdWUsXG5cdCAgICAgICAgICAgIG9uSW5wdXRTZWxlY3Q6IHRoaXMub25FbmRJbnB1dFNlbGVjdCxcblx0ICAgICAgICAgICAgb25WYWx1ZUNoYW5nZTogdGhpcy5vbkVuZFZhbHVlQ2hhbmdlLFxuXHQgICAgICAgICAgICB0aW1lUGlja2VyOiB0aW1lUGlja2VyLFxuXHQgICAgICAgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXIsXG5cdCAgICAgICAgICAgIGRpc2FibGVkVGltZTogdGhpcy5kaXNhYmxlZEVuZFRpbWVcblx0ICAgICAgICAgIH0pKVxuXHQgICAgICAgICksXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IGNscyB9LFxuXHQgICAgICAgICAgcHJvcHMucmVuZGVyRm9vdGVyKCksXG5cdCAgICAgICAgICBzaG93VG9kYXkgfHwgcHJvcHMudGltZVBpY2tlciB8fCBzaG93T2tCdXR0b24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyLWJ0bicgfSxcblx0ICAgICAgICAgICAgc2hvd1RvZGF5ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVG9kYXlCdXR0b24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuXHQgICAgICAgICAgICAgIGRpc2FibGVkOiBpc1RvZGF5SW5WaWV3LFxuXHQgICAgICAgICAgICAgIHZhbHVlOiBzdGF0ZS52YWx1ZSxcblx0ICAgICAgICAgICAgICBvblRvZGF5OiB0aGlzLm9uVG9kYXksXG5cdCAgICAgICAgICAgICAgdGV4dDogbG9jYWxlLmJhY2tUb1RvZGF5XG5cdCAgICAgICAgICAgIH0pKSA6IG51bGwsXG5cdCAgICAgICAgICAgIHByb3BzLnRpbWVQaWNrZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyQnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXIsXG5cdCAgICAgICAgICAgICAgb25PcGVuVGltZVBpY2tlcjogdGhpcy5vbk9wZW5UaW1lUGlja2VyLFxuXHQgICAgICAgICAgICAgIG9uQ2xvc2VUaW1lUGlja2VyOiB0aGlzLm9uQ2xvc2VUaW1lUGlja2VyLFxuXHQgICAgICAgICAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZDogIXRoaXMuaGFzU2VsZWN0ZWRWYWx1ZSgpIHx8IGhvdmVyVmFsdWUubGVuZ3RoXG5cdCAgICAgICAgICAgIH0pKSA6IG51bGwsXG5cdCAgICAgICAgICAgIHNob3dPa0J1dHRvbiA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX09rQnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcblx0ICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG5cdCAgICAgICAgICAgICAgb25PazogdGhpcy5vbk9rLFxuXHQgICAgICAgICAgICAgIG9rRGlzYWJsZWQ6ICF0aGlzLmlzQWxsb3dlZERhdGVBbmRUaW1lKHNlbGVjdGVkVmFsdWUpIHx8ICF0aGlzLmhhc1NlbGVjdGVkVmFsdWUoKSB8fCBob3ZlclZhbHVlLmxlbmd0aFxuXHQgICAgICAgICAgICB9KSkgOiBudWxsXG5cdCAgICAgICAgICApIDogbnVsbFxuXHQgICAgICAgIClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYW5nZUNhbGVuZGFyO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzc2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cdFxuXHR2YXIgX2V4dGVuZHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdERvbSA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblx0XG5cdHZhciBfbWFwU2VsZiA9IF9fd2VicGFja19yZXF1aXJlX18oMjY0KTtcblx0XG5cdHZhciBfbWFwU2VsZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tYXBTZWxmKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX1RvZGF5QnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTUpO1xuXHRcblx0dmFyIF9Ub2RheUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2RheUJ1dHRvbik7XG5cdFxuXHR2YXIgX09rQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTMpO1xuXHRcblx0dmFyIF9Pa0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Pa0J1dHRvbik7XG5cdFxuXHR2YXIgX1RpbWVQaWNrZXJCdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCk7XG5cdFxuXHR2YXIgX1RpbWVQaWNrZXJCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGltZVBpY2tlckJ1dHRvbik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBDYWxlbmRhckZvb3RlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcblx0ICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFyRm9vdGVyJyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgc2hvd0RhdGVJbnB1dDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgc2hvd09rOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgcmVuZGVyRm9vdGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG5cdCAgfSxcblx0XG5cdCAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlKSB7XG5cdCAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcblx0ICB9LFxuXHQgIGdldFJvb3RET01Ob2RlOiBmdW5jdGlvbiBnZXRSb290RE9NTm9kZSgpIHtcblx0ICAgIHJldHVybiBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBzaG93T2sgPSBwcm9wcy5zaG93T2ssXG5cdCAgICAgICAgdGltZVBpY2tlciA9IHByb3BzLnRpbWVQaWNrZXIsXG5cdCAgICAgICAgcmVuZGVyRm9vdGVyID0gcHJvcHMucmVuZGVyRm9vdGVyO1xuXHRcblx0ICAgIHZhciBmb290ZXJFbCA9IG51bGw7XG5cdCAgICB2YXIgZXh0cmFGb290ZXIgPSByZW5kZXJGb290ZXIoKTtcblx0ICAgIGlmIChwcm9wcy5zaG93VG9kYXkgfHwgdGltZVBpY2tlciB8fCBleHRyYUZvb3Rlcikge1xuXHQgICAgICB2YXIgX2N4O1xuXHRcblx0ICAgICAgdmFyIG5vd0VsID0gdm9pZCAwO1xuXHQgICAgICBpZiAocHJvcHMuc2hvd1RvZGF5KSB7XG5cdCAgICAgICAgbm93RWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ub2RheUJ1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7IHZhbHVlOiB2YWx1ZSB9KSk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIG9rQnRuID0gdm9pZCAwO1xuXHQgICAgICBpZiAoc2hvd09rID09PSB0cnVlIHx8IHNob3dPayAhPT0gZmFsc2UgJiYgISFwcm9wcy50aW1lUGlja2VyKSB7XG5cdCAgICAgICAgb2tCdG4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Pa0J1dHRvbjJbXCJkZWZhdWx0XCJdLCBwcm9wcyk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIHRpbWVQaWNrZXJCdG4gPSB2b2lkIDA7XG5cdCAgICAgIGlmICghIXByb3BzLnRpbWVQaWNrZXIpIHtcblx0ICAgICAgICB0aW1lUGlja2VyQnRuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGltZVBpY2tlckJ1dHRvbjJbXCJkZWZhdWx0XCJdLCBwcm9wcyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBmb290ZXJCdG4gPSB2b2lkIDA7XG5cdCAgICAgIGlmIChub3dFbCB8fCBva0J0bikge1xuXHQgICAgICAgIGZvb3RlckJ0biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXItYnRuJyB9LFxuXHQgICAgICAgICAgKDAsIF9tYXBTZWxmMltcImRlZmF1bHRcIl0pKFtub3dFbCwgdGltZVBpY2tlckJ0biwgb2tCdG5dKVxuXHQgICAgICAgICk7XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2N4ID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2N4LCBwcmVmaXhDbHMgKyAnLWZvb3RlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jeCwgcHJlZml4Q2xzICsgJy1mb290ZXItc2hvdy1vaycsIG9rQnRuKSwgX2N4KSk7XG5cdCAgICAgIGZvb3RlckVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogY2xzIH0sXG5cdCAgICAgICAgZXh0cmFGb290ZXIsXG5cdCAgICAgICAgZm9vdGVyQnRuXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZm9vdGVyRWw7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJGb290ZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0RhdGVDb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nik7XG5cdFxuXHR2YXIgX0RhdGVDb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZUNvbnN0YW50cyk7XG5cdFxuXHR2YXIgX3V0aWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gaXNTYW1lRGF5KG9uZSwgdHdvKSB7XG5cdCAgcmV0dXJuIG9uZSAmJiB0d28gJiYgb25lLmlzU2FtZSh0d28sICdkYXknKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYmVmb3JlQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB0b2RheSkge1xuXHQgIGlmIChjdXJyZW50LnllYXIoKSA8IHRvZGF5LnllYXIoKSkge1xuXHQgICAgcmV0dXJuIDE7XG5cdCAgfVxuXHQgIHJldHVybiBjdXJyZW50LnllYXIoKSA9PT0gdG9kYXkueWVhcigpICYmIGN1cnJlbnQubW9udGgoKSA8IHRvZGF5Lm1vbnRoKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFmdGVyQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB0b2RheSkge1xuXHQgIGlmIChjdXJyZW50LnllYXIoKSA+IHRvZGF5LnllYXIoKSkge1xuXHQgICAgcmV0dXJuIDE7XG5cdCAgfVxuXHQgIHJldHVybiBjdXJyZW50LnllYXIoKSA9PT0gdG9kYXkueWVhcigpICYmIGN1cnJlbnQubW9udGgoKSA+IHRvZGF5Lm1vbnRoKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldElkRnJvbURhdGUoZGF0ZSkge1xuXHQgIHJldHVybiAncmMtY2FsZW5kYXItJyArIGRhdGUueWVhcigpICsgJy0nICsgZGF0ZS5tb250aCgpICsgJy0nICsgZGF0ZS5kYXRlKCk7XG5cdH1cblx0XG5cdHZhciBEYXRlVEJvZHkgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdEYXRlVEJvZHknLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGNvbnRlbnRSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRhdGVSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0KV0pLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgaG92ZXJWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93V2Vla051bWJlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sXG5cdCAgfSxcblx0XG5cdCAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBob3ZlclZhbHVlOiBbXVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciBjb250ZW50UmVuZGVyID0gcHJvcHMuY29udGVudFJlbmRlcixcblx0ICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcblx0ICAgICAgICBzaG93V2Vla051bWJlciA9IHByb3BzLnNob3dXZWVrTnVtYmVyLFxuXHQgICAgICAgIGRhdGVSZW5kZXIgPSBwcm9wcy5kYXRlUmVuZGVyLFxuXHQgICAgICAgIGRpc2FibGVkRGF0ZSA9IHByb3BzLmRpc2FibGVkRGF0ZSxcblx0ICAgICAgICBob3ZlclZhbHVlID0gcHJvcHMuaG92ZXJWYWx1ZTtcblx0XG5cdCAgICB2YXIgaUluZGV4ID0gdm9pZCAwO1xuXHQgICAgdmFyIGpJbmRleCA9IHZvaWQgMDtcblx0ICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuXHQgICAgdmFyIGRhdGVUYWJsZSA9IFtdO1xuXHQgICAgdmFyIHRvZGF5ID0gKDAsIF91dGlsLmdldFRvZGF5VGltZSkodmFsdWUpO1xuXHQgICAgdmFyIGNlbGxDbGFzcyA9IHByZWZpeENscyArICctY2VsbCc7XG5cdCAgICB2YXIgd2Vla051bWJlckNlbGxDbGFzcyA9IHByZWZpeENscyArICctd2Vlay1udW1iZXItY2VsbCc7XG5cdCAgICB2YXIgZGF0ZUNsYXNzID0gcHJlZml4Q2xzICsgJy1kYXRlJztcblx0ICAgIHZhciB0b2RheUNsYXNzID0gcHJlZml4Q2xzICsgJy10b2RheSc7XG5cdCAgICB2YXIgc2VsZWN0ZWRDbGFzcyA9IHByZWZpeENscyArICctc2VsZWN0ZWQtZGF5Jztcblx0ICAgIHZhciBzZWxlY3RlZERhdGVDbGFzcyA9IHByZWZpeENscyArICctc2VsZWN0ZWQtZGF0ZSc7IC8vIGRvIG5vdCBtb3ZlIHdpdGggbW91c2Ugb3BlcmF0aW9uXG5cdCAgICB2YXIgaW5SYW5nZUNsYXNzID0gcHJlZml4Q2xzICsgJy1pbi1yYW5nZS1jZWxsJztcblx0ICAgIHZhciBsYXN0TW9udGhEYXlDbGFzcyA9IHByZWZpeENscyArICctbGFzdC1tb250aC1jZWxsJztcblx0ICAgIHZhciBuZXh0TW9udGhEYXlDbGFzcyA9IHByZWZpeENscyArICctbmV4dC1tb250aC1idG4tZGF5Jztcblx0ICAgIHZhciBkaXNhYmxlZENsYXNzID0gcHJlZml4Q2xzICsgJy1kaXNhYmxlZC1jZWxsJztcblx0ICAgIHZhciBmaXJzdERpc2FibGVDbGFzcyA9IHByZWZpeENscyArICctZGlzYWJsZWQtY2VsbC1maXJzdC1vZi1yb3cnO1xuXHQgICAgdmFyIGxhc3REaXNhYmxlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWRpc2FibGVkLWNlbGwtbGFzdC1vZi1yb3cnO1xuXHQgICAgdmFyIG1vbnRoMSA9IHZhbHVlLmNsb25lKCk7XG5cdCAgICBtb250aDEuZGF0ZSgxKTtcblx0ICAgIHZhciBkYXkgPSBtb250aDEuZGF5KCk7XG5cdCAgICB2YXIgbGFzdE1vbnRoRGlmZkRheSA9IChkYXkgKyA3IC0gdmFsdWUubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCkpICUgNztcblx0ICAgIC8vIGNhbGN1bGF0ZSBsYXN0IG1vbnRoXG5cdCAgICB2YXIgbGFzdE1vbnRoMSA9IG1vbnRoMS5jbG9uZSgpO1xuXHQgICAgbGFzdE1vbnRoMS5hZGQoMCAtIGxhc3RNb250aERpZmZEYXksICdkYXlzJyk7XG5cdCAgICB2YXIgcGFzc2VkID0gMDtcblx0ICAgIGZvciAoaUluZGV4ID0gMDsgaUluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX1JPV19DT1VOVDsgaUluZGV4KyspIHtcblx0ICAgICAgZm9yIChqSW5kZXggPSAwOyBqSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UOyBqSW5kZXgrKykge1xuXHQgICAgICAgIGN1cnJlbnQgPSBsYXN0TW9udGgxO1xuXHQgICAgICAgIGlmIChwYXNzZWQpIHtcblx0ICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNsb25lKCk7XG5cdCAgICAgICAgICBjdXJyZW50LmFkZChwYXNzZWQsICdkYXlzJyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGRhdGVUYWJsZS5wdXNoKGN1cnJlbnQpO1xuXHQgICAgICAgIHBhc3NlZCsrO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgdGFibGVIdG1sID0gW107XG5cdCAgICBwYXNzZWQgPSAwO1xuXHRcblx0ICAgIGZvciAoaUluZGV4ID0gMDsgaUluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX1JPV19DT1VOVDsgaUluZGV4KyspIHtcblx0ICAgICAgdmFyIGlzQ3VycmVudFdlZWsgPSB2b2lkIDA7XG5cdCAgICAgIHZhciB3ZWVrTnVtYmVyQ2VsbCA9IHZvaWQgMDtcblx0ICAgICAgdmFyIGRhdGVDZWxscyA9IFtdO1xuXHQgICAgICBpZiAoc2hvd1dlZWtOdW1iZXIpIHtcblx0ICAgICAgICB3ZWVrTnVtYmVyQ2VsbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICBrZXk6IGRhdGVUYWJsZVtwYXNzZWRdLndlZWsoKSxcblx0ICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcblx0ICAgICAgICAgICAgY2xhc3NOYW1lOiB3ZWVrTnVtYmVyQ2VsbENsYXNzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZGF0ZVRhYmxlW3Bhc3NlZF0ud2VlaygpXG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgICBmb3IgKGpJbmRleCA9IDA7IGpJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQ7IGpJbmRleCsrKSB7XG5cdCAgICAgICAgdmFyIG5leHQgPSBudWxsO1xuXHQgICAgICAgIHZhciBsYXN0ID0gbnVsbDtcblx0ICAgICAgICBjdXJyZW50ID0gZGF0ZVRhYmxlW3Bhc3NlZF07XG5cdCAgICAgICAgaWYgKGpJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQgLSAxKSB7XG5cdCAgICAgICAgICBuZXh0ID0gZGF0ZVRhYmxlW3Bhc3NlZCArIDFdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoakluZGV4ID4gMCkge1xuXHQgICAgICAgICAgbGFzdCA9IGRhdGVUYWJsZVtwYXNzZWQgLSAxXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGNscyA9IGNlbGxDbGFzcztcblx0ICAgICAgICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcblx0ICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmYWxzZTtcblx0XG5cdCAgICAgICAgaWYgKGlzU2FtZURheShjdXJyZW50LCB0b2RheSkpIHtcblx0ICAgICAgICAgIGNscyArPSAnICcgKyB0b2RheUNsYXNzO1xuXHQgICAgICAgICAgaXNDdXJyZW50V2VlayA9IHRydWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyID0gYmVmb3JlQ3VycmVudE1vbnRoWWVhcihjdXJyZW50LCB2YWx1ZSk7XG5cdCAgICAgICAgdmFyIGlzQWZ0ZXJDdXJyZW50TW9udGhZZWFyID0gYWZ0ZXJDdXJyZW50TW9udGhZZWFyKGN1cnJlbnQsIHZhbHVlKTtcblx0XG5cdCAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgJiYgQXJyYXkuaXNBcnJheShzZWxlY3RlZFZhbHVlKSkge1xuXHQgICAgICAgICAgdmFyIHJhbmdlVmFsdWUgPSBob3ZlclZhbHVlLmxlbmd0aCA/IGhvdmVyVmFsdWUgOiBzZWxlY3RlZFZhbHVlO1xuXHQgICAgICAgICAgaWYgKCFpc0JlZm9yZUN1cnJlbnRNb250aFllYXIgJiYgIWlzQWZ0ZXJDdXJyZW50TW9udGhZZWFyKSB7XG5cdCAgICAgICAgICAgIHZhciBzdGFydFZhbHVlID0gcmFuZ2VWYWx1ZVswXTtcblx0ICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gcmFuZ2VWYWx1ZVsxXTtcblx0ICAgICAgICAgICAgaWYgKHN0YXJ0VmFsdWUpIHtcblx0ICAgICAgICAgICAgICBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHN0YXJ0VmFsdWUpKSB7XG5cdCAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChzdGFydFZhbHVlICYmIGVuZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgaWYgKGlzU2FtZURheShjdXJyZW50LCBlbmRWYWx1ZSkpIHtcblx0ICAgICAgICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuaXNBZnRlcihzdGFydFZhbHVlLCAnZGF5JykgJiYgY3VycmVudC5pc0JlZm9yZShlbmRWYWx1ZSwgJ2RheScpKSB7XG5cdCAgICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgaW5SYW5nZUNsYXNzO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHZhbHVlKSkge1xuXHQgICAgICAgICAgLy8ga2V5Ym9hcmQgY2hhbmdlIHZhbHVlLCBoaWdobGlnaHQgd29ya3Ncblx0ICAgICAgICAgIHNlbGVjdGVkID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgc2VsZWN0ZWRWYWx1ZSkpIHtcblx0ICAgICAgICAgIGNscyArPSAnICcgKyBzZWxlY3RlZERhdGVDbGFzcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmIChpc0JlZm9yZUN1cnJlbnRNb250aFllYXIpIHtcblx0ICAgICAgICAgIGNscyArPSAnICcgKyBsYXN0TW9udGhEYXlDbGFzcztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKGlzQWZ0ZXJDdXJyZW50TW9udGhZZWFyKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgbmV4dE1vbnRoRGF5Q2xhc3M7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoZGlzYWJsZWREYXRlKSB7XG5cdCAgICAgICAgICBpZiAoZGlzYWJsZWREYXRlKGN1cnJlbnQsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICBkaXNhYmxlZCA9IHRydWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAoIWxhc3QgfHwgIWRpc2FibGVkRGF0ZShsYXN0LCB2YWx1ZSkpIHtcblx0ICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgZmlyc3REaXNhYmxlQ2xhc3M7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmICghbmV4dCB8fCAhZGlzYWJsZWREYXRlKG5leHQsIHZhbHVlKSkge1xuXHQgICAgICAgICAgICAgIGNscyArPSAnICcgKyBsYXN0RGlzYWJsZUNsYXNzO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcblx0ICAgICAgICAgIGNscyArPSAnICcgKyBzZWxlY3RlZENsYXNzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYgKGRpc2FibGVkKSB7XG5cdCAgICAgICAgICBjbHMgKz0gJyAnICsgZGlzYWJsZWRDbGFzcztcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBkYXRlSHRtbCA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoZGF0ZVJlbmRlcikge1xuXHQgICAgICAgICAgZGF0ZUh0bWwgPSBkYXRlUmVuZGVyKGN1cnJlbnQsIHZhbHVlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjb250ZW50UmVuZGVyID8gY29udGVudFJlbmRlcihjdXJyZW50LCB2YWx1ZSkgOiBjdXJyZW50LmRhdGUoKTtcblx0ICAgICAgICAgIGRhdGVIdG1sID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBrZXk6IGdldElkRnJvbURhdGUoY3VycmVudCksXG5cdCAgICAgICAgICAgICAgY2xhc3NOYW1lOiBkYXRlQ2xhc3MsXG5cdCAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiBzZWxlY3RlZCxcblx0ICAgICAgICAgICAgICAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkXG5cdCAgICAgICAgICAgIH0sXG5cdCAgICAgICAgICAgIGNvbnRlbnRcblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBkYXRlQ2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RkJyxcblx0ICAgICAgICAgIHtcblx0ICAgICAgICAgICAga2V5OiBwYXNzZWQsXG5cdCAgICAgICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gdW5kZWZpbmVkIDogcHJvcHMub25TZWxlY3QuYmluZChudWxsLCBjdXJyZW50KSxcblx0ICAgICAgICAgICAgb25Nb3VzZUVudGVyOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uRGF5SG92ZXIgJiYgcHJvcHMub25EYXlIb3Zlci5iaW5kKG51bGwsIGN1cnJlbnQpIHx8IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcblx0ICAgICAgICAgICAgdGl0bGU6ICgwLCBfdXRpbC5nZXRUaXRsZVN0cmluZykoY3VycmVudCksIGNsYXNzTmFtZTogY2xzXG5cdCAgICAgICAgICB9LFxuXHQgICAgICAgICAgZGF0ZUh0bWxcblx0ICAgICAgICApKTtcblx0XG5cdCAgICAgICAgcGFzc2VkKys7XG5cdCAgICAgIH1cblx0ICAgICAgdGFibGVIdG1sLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndHInLFxuXHQgICAgICAgIHtcblx0ICAgICAgICAgIGtleTogaUluZGV4LFxuXHQgICAgICAgICAgcm9sZTogJ3JvdycsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IGlzQ3VycmVudFdlZWsgJiYgcHJlZml4Q2xzICsgJy1jdXJyZW50LXdlZWsnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICB3ZWVrTnVtYmVyQ2VsbCxcblx0ICAgICAgICBkYXRlQ2VsbHNcblx0ICAgICAgKSk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3Rib2R5Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG5cdCAgICAgIHRhYmxlSHRtbFxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVEJvZHk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0RhdGVDb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1Nik7XG5cdFxuXHR2YXIgX0RhdGVDb25zdGFudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZUNvbnN0YW50cyk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXHRcblx0dmFyIERhdGVUSGVhZCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEYXRlVEhlYWQsIF9SZWFjdCRDb21wb25lbnQpO1xuXHRcblx0ICBmdW5jdGlvbiBEYXRlVEhlYWQoKSB7XG5cdCAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERhdGVUSGVhZCk7XG5cdCAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBEYXRlVEhlYWQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcblx0ICAgIHZhciBsb2NhbGVEYXRhID0gdmFsdWUubG9jYWxlRGF0YSgpO1xuXHQgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblx0ICAgIHZhciB2ZXJ5U2hvcnRXZWVrZGF5cyA9IFtdO1xuXHQgICAgdmFyIHdlZWtEYXlzID0gW107XG5cdCAgICB2YXIgZmlyc3REYXlPZldlZWsgPSBsb2NhbGVEYXRhLmZpcnN0RGF5T2ZXZWVrKCk7XG5cdCAgICB2YXIgc2hvd1dlZWtOdW1iZXJFbCA9IHZvaWQgMDtcblx0ICAgIHZhciBub3cgPSAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xuXHQgICAgZm9yICh2YXIgZGF0ZUNvbEluZGV4ID0gMDsgZGF0ZUNvbEluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVDsgZGF0ZUNvbEluZGV4KyspIHtcblx0ICAgICAgdmFyIGluZGV4ID0gKGZpcnN0RGF5T2ZXZWVrICsgZGF0ZUNvbEluZGV4KSAlIF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQ7XG5cdCAgICAgIG5vdy5kYXkoaW5kZXgpO1xuXHQgICAgICB2ZXJ5U2hvcnRXZWVrZGF5c1tkYXRlQ29sSW5kZXhdID0gbG9jYWxlRGF0YS53ZWVrZGF5c01pbihub3cpO1xuXHQgICAgICB3ZWVrRGF5c1tkYXRlQ29sSW5kZXhdID0gbG9jYWxlRGF0YS53ZWVrZGF5c1Nob3J0KG5vdyk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHByb3BzLnNob3dXZWVrTnVtYmVyKSB7XG5cdCAgICAgIHNob3dXZWVrTnVtYmVyRWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0aCcsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgcm9sZTogJ2NvbHVtbmhlYWRlcicsXG5cdCAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLWhlYWRlciAnICsgcHJlZml4Q2xzICsgJy13ZWVrLW51bWJlci1oZWFkZXInXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLWhlYWRlci1pbm5lcicgfSxcblx0ICAgICAgICAgICd4J1xuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICAgIHZhciB3ZWVrRGF5c0VscyA9IHdlZWtEYXlzLm1hcChmdW5jdGlvbiAoZGF5LCB4aW5kZXgpIHtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RoJyxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICBrZXk6IHhpbmRleCxcblx0ICAgICAgICAgIHJvbGU6ICdjb2x1bW5oZWFkZXInLFxuXHQgICAgICAgICAgdGl0bGU6IGRheSxcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXItaW5uZXInIH0sXG5cdCAgICAgICAgICB2ZXJ5U2hvcnRXZWVrZGF5c1t4aW5kZXhdXG5cdCAgICAgICAgKVxuXHQgICAgICApO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RoZWFkJyxcblx0ICAgICAgbnVsbCxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndHInLFxuXHQgICAgICAgIHsgcm9sZTogJ3JvdycgfSxcblx0ICAgICAgICBzaG93V2Vla051bWJlckVsLFxuXHQgICAgICAgIHdlZWtEYXlzRWxzXG5cdCAgICAgIClcblx0ICAgICk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIERhdGVUSGVhZDtcblx0fShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVEhlYWQ7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzNzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2syID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblx0XG5cdHZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblx0XG5cdHZhciBfaW5oZXJpdHMyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgUk9XID0gNDtcblx0dmFyIENPTCA9IDM7XG5cdFxuXHRcblx0ZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuXHQgIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuXHQgIG5leHQuYWRkKGRpcmVjdGlvbiwgJ3llYXJzJyk7XG5cdCAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICB2YWx1ZTogbmV4dFxuXHQgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjaG9vc2VEZWNhZGUoeWVhciwgZXZlbnQpIHtcblx0ICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcblx0ICBuZXh0LnllYXIoeWVhcik7XG5cdCAgbmV4dC5tb250aCh0aGlzLnN0YXRlLnZhbHVlLm1vbnRoKCkpO1xuXHQgIHRoaXMucHJvcHMub25TZWxlY3QobmV4dCk7XG5cdCAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRcblx0dmFyIERlY2FkZVBhbmVsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcblx0ICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERlY2FkZVBhbmVsLCBfUmVhY3QkQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gRGVjYWRlUGFuZWwocHJvcHMpIHtcblx0ICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRGVjYWRlUGFuZWwpO1xuXHRcblx0ICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZVxuXHQgICAgfTtcblx0XG5cdCAgICAvLyBiaW5kIG1ldGhvZHNcblx0ICAgIF90aGlzLnByZWZpeENscyA9IHByb3BzLnJvb3RQcmVmaXhDbHMgKyAnLWRlY2FkZS1wYW5lbCc7XG5cdCAgICBfdGhpcy5uZXh0Q2VudHVyeSA9IGdvWWVhci5iaW5kKF90aGlzLCAxMDApO1xuXHQgICAgX3RoaXMucHJldmlvdXNDZW50dXJ5ID0gZ29ZZWFyLmJpbmQoX3RoaXMsIC0xMDApO1xuXHQgICAgcmV0dXJuIF90aGlzO1xuXHQgIH1cblx0XG5cdCAgRGVjYWRlUGFuZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgbG9jYWxlID0gdGhpcy5wcm9wcy5sb2NhbGU7XG5cdCAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG5cdCAgICB2YXIgc3RhcnRZZWFyID0gcGFyc2VJbnQoY3VycmVudFllYXIgLyAxMDAsIDEwKSAqIDEwMDtcblx0ICAgIHZhciBwcmVZZWFyID0gc3RhcnRZZWFyIC0gMTA7XG5cdCAgICB2YXIgZW5kWWVhciA9IHN0YXJ0WWVhciArIDk5O1xuXHQgICAgdmFyIGRlY2FkZXMgPSBbXTtcblx0ICAgIHZhciBpbmRleCA9IDA7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgZm9yICh2YXIgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IFJPVzsgcm93SW5kZXgrKykge1xuXHQgICAgICBkZWNhZGVzW3Jvd0luZGV4XSA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgQ09MOyBjb2xJbmRleCsrKSB7XG5cdCAgICAgICAgdmFyIHN0YXJ0RGVjYWRlID0gcHJlWWVhciArIGluZGV4ICogMTA7XG5cdCAgICAgICAgdmFyIGVuZERlY2FkZSA9IHByZVllYXIgKyBpbmRleCAqIDEwICsgOTtcblx0ICAgICAgICBkZWNhZGVzW3Jvd0luZGV4XVtjb2xJbmRleF0gPSB7XG5cdCAgICAgICAgICBzdGFydERlY2FkZTogc3RhcnREZWNhZGUsXG5cdCAgICAgICAgICBlbmREZWNhZGU6IGVuZERlY2FkZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgaW5kZXgrKztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHZhciBkZWNhZGVzRWxzID0gZGVjYWRlcy5tYXAoZnVuY3Rpb24gKHJvdywgZGVjYWRlSW5kZXgpIHtcblx0ICAgICAgdmFyIHRkcyA9IHJvdy5tYXAoZnVuY3Rpb24gKGRlY2FkZURhdGEpIHtcblx0ICAgICAgICB2YXIgX2NsYXNzTmFtZU1hcDtcblx0XG5cdCAgICAgICAgdmFyIGRTdGFydERlY2FkZSA9IGRlY2FkZURhdGEuc3RhcnREZWNhZGU7XG5cdCAgICAgICAgdmFyIGRFbmREZWNhZGUgPSBkZWNhZGVEYXRhLmVuZERlY2FkZTtcblx0ICAgICAgICB2YXIgaXNMYXN0ID0gZFN0YXJ0RGVjYWRlIDwgc3RhcnRZZWFyO1xuXHQgICAgICAgIHZhciBpc05leHQgPSBkRW5kRGVjYWRlID4gZW5kWWVhcjtcblx0ICAgICAgICB2YXIgY2xhc3NOYW1lTWFwID0gKF9jbGFzc05hbWVNYXAgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWNlbGwnLCBkU3RhcnREZWNhZGUgPD0gY3VycmVudFllYXIgJiYgY3VycmVudFllYXIgPD0gZEVuZERlY2FkZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1sYXN0LWNlbnR1cnktY2VsbCcsIGlzTGFzdCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1uZXh0LWNlbnR1cnktY2VsbCcsIGlzTmV4dCksIF9jbGFzc05hbWVNYXApO1xuXHQgICAgICAgIHZhciBjb250ZW50ID0gZFN0YXJ0RGVjYWRlICsgJy0nICsgZEVuZERlY2FkZTtcblx0ICAgICAgICB2YXIgY2xpY2tIYW5kbGVyID0gdm9pZCAwO1xuXHQgICAgICAgIGlmIChpc0xhc3QpIHtcblx0ICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5wcmV2aW91c0NlbnR1cnk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChpc05leHQpIHtcblx0ICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5uZXh0Q2VudHVyeTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgY2xpY2tIYW5kbGVyID0gY2hvb3NlRGVjYWRlLmJpbmQoX3RoaXMyLCBkU3RhcnREZWNhZGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICd0ZCcsXG5cdCAgICAgICAgICB7XG5cdCAgICAgICAgICAgIGtleTogZFN0YXJ0RGVjYWRlLFxuXHQgICAgICAgICAgICBvbkNsaWNrOiBjbGlja0hhbmRsZXIsXG5cdCAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZU1hcClcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAnYScsXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlJ1xuXHQgICAgICAgICAgICB9LFxuXHQgICAgICAgICAgICBjb250ZW50XG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICd0cicsXG5cdCAgICAgICAgeyBrZXk6IGRlY2FkZUluZGV4LCByb2xlOiAncm93JyB9LFxuXHQgICAgICAgIHRkc1xuXHQgICAgICApO1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogdGhpcy5wcmVmaXhDbHMgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnZGl2Jyxcblx0ICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG5cdCAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcblx0ICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LWNlbnR1cnktYnRuJyxcblx0ICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuXHQgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c0NlbnR1cnksXG5cdCAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzQ2VudHVyeVxuXHQgICAgICAgIH0pLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNlbnR1cnknIH0sXG5cdCAgICAgICAgICBzdGFydFllYXIsXG5cdCAgICAgICAgICAnLScsXG5cdCAgICAgICAgICBlbmRZZWFyXG5cdCAgICAgICAgKSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtY2VudHVyeS1idG4nLFxuXHQgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG5cdCAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHRDZW50dXJ5LFxuXHQgICAgICAgICAgdGl0bGU6IGxvY2FsZS5uZXh0Q2VudHVyeVxuXHQgICAgICAgIH0pXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3RhYmxlJyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICAndGJvZHknLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcblx0ICAgICAgICAgICAgZGVjYWRlc0Vsc1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgIClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9O1xuXHRcblx0ICByZXR1cm4gRGVjYWRlUGFuZWw7XG5cdH0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGVjYWRlUGFuZWw7XG5cdFxuXHRcblx0RGVjYWRlUGFuZWwucHJvcFR5cGVzID0ge1xuXHQgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgcm9vdFByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdERlY2FkZVBhbmVsLmRlZmF1bHRQcm9wcyA9IHtcblx0ICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoKSB7fVxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzgwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuXHQgIHRvZGF5OiAnVG9kYXknLFxuXHQgIG5vdzogJ05vdycsXG5cdCAgYmFja1RvVG9kYXk6ICdCYWNrIHRvIHRvZGF5Jyxcblx0ICBvazogJ09rJyxcblx0ICBjbGVhcjogJ0NsZWFyJyxcblx0ICBtb250aDogJ01vbnRoJyxcblx0ICB5ZWFyOiAnWWVhcicsXG5cdCAgdGltZVNlbGVjdDogJ1NlbGVjdCB0aW1lJyxcblx0ICBkYXRlU2VsZWN0OiAnU2VsZWN0IGRhdGUnLFxuXHQgIG1vbnRoU2VsZWN0OiAnQ2hvb3NlIGEgbW9udGgnLFxuXHQgIHllYXJTZWxlY3Q6ICdDaG9vc2UgYSB5ZWFyJyxcblx0ICBkZWNhZGVTZWxlY3Q6ICdDaG9vc2UgYSBkZWNhZGUnLFxuXHQgIHllYXJGb3JtYXQ6ICdZWVlZJyxcblx0ICBkYXRlRm9ybWF0OiAnTS9EL1lZWVknLFxuXHQgIGRheUZvcm1hdDogJ0QnLFxuXHQgIGRhdGVUaW1lRm9ybWF0OiAnTS9EL1lZWVkgSEg6bW06c3MnLFxuXHQgIG1vbnRoRm9ybWF0OiAnTU1NTScsXG5cdCAgbW9udGhCZWZvcmVZZWFyOiB0cnVlLFxuXHQgIHByZXZpb3VzTW9udGg6ICdQcmV2aW91cyBtb250aCAoUGFnZVVwKScsXG5cdCAgbmV4dE1vbnRoOiAnTmV4dCBtb250aCAoUGFnZURvd24pJyxcblx0ICBwcmV2aW91c1llYXI6ICdMYXN0IHllYXIgKENvbnRyb2wgKyBsZWZ0KScsXG5cdCAgbmV4dFllYXI6ICdOZXh0IHllYXIgKENvbnRyb2wgKyByaWdodCknLFxuXHQgIHByZXZpb3VzRGVjYWRlOiAnTGFzdCBkZWNhZGUnLFxuXHQgIG5leHREZWNhZGU6ICdOZXh0IGRlY2FkZScsXG5cdCAgcHJldmlvdXNDZW50dXJ5OiAnTGFzdCBjZW50dXJ5Jyxcblx0ICBuZXh0Q2VudHVyeTogJ05leHQgY2VudHVyeSdcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDM4MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXHRcblx0dmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHR2YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXHRcblx0dmFyIF9pbmhlcml0czIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBST1cgPSA0O1xuXHR2YXIgQ09MID0gMztcblx0XG5cdGZ1bmN0aW9uIGNob29zZU1vbnRoKG1vbnRoKSB7XG5cdCAgdmFyIG5leHQgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG5cdCAgbmV4dC5tb250aChtb250aCk7XG5cdCAgdGhpcy5zZXRBbmRTZWxlY3RWYWx1ZShuZXh0KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHR2YXIgTW9udGhUYWJsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShNb250aFRhYmxlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgZnVuY3Rpb24gTW9udGhUYWJsZShwcm9wcykge1xuXHQgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBNb250aFRhYmxlKTtcblx0XG5cdCAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZVxuXHQgICAgfTtcblx0ICAgIHJldHVybiBfdGhpcztcblx0ICB9XG5cdFxuXHQgIE1vbnRoVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHQgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG5cdCAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgIHZhbHVlOiBuZXh0UHJvcHMudmFsdWVcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgTW9udGhUYWJsZS5wcm90b3R5cGUuc2V0QW5kU2VsZWN0VmFsdWUgPSBmdW5jdGlvbiBzZXRBbmRTZWxlY3RWYWx1ZSh2YWx1ZSkge1xuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIHZhbHVlOiB2YWx1ZVxuXHQgICAgfSk7XG5cdCAgICB0aGlzLnByb3BzLm9uU2VsZWN0KHZhbHVlKTtcblx0ICB9O1xuXHRcblx0ICBNb250aFRhYmxlLnByb3RvdHlwZS5tb250aHMgPSBmdW5jdGlvbiBtb250aHMoKSB7XG5cdCAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuXHQgICAgdmFyIGN1cnJlbnQgPSB2YWx1ZS5jbG9uZSgpO1xuXHQgICAgdmFyIG1vbnRocyA9IFtdO1xuXHQgICAgdmFyIGxvY2FsZURhdGEgPSB2YWx1ZS5sb2NhbGVEYXRhKCk7XG5cdCAgICB2YXIgaW5kZXggPSAwO1xuXHQgICAgZm9yICh2YXIgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IFJPVzsgcm93SW5kZXgrKykge1xuXHQgICAgICBtb250aHNbcm93SW5kZXhdID0gW107XG5cdCAgICAgIGZvciAodmFyIGNvbEluZGV4ID0gMDsgY29sSW5kZXggPCBDT0w7IGNvbEluZGV4KyspIHtcblx0ICAgICAgICBjdXJyZW50Lm1vbnRoKGluZGV4KTtcblx0ICAgICAgICB2YXIgY29udGVudCA9IGxvY2FsZURhdGEubW9udGhzU2hvcnQoY3VycmVudCk7XG5cdCAgICAgICAgbW9udGhzW3Jvd0luZGV4XVtjb2xJbmRleF0gPSB7XG5cdCAgICAgICAgICB2YWx1ZTogaW5kZXgsXG5cdCAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuXHQgICAgICAgICAgdGl0bGU6IGNvbnRlbnRcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGluZGV4Kys7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBtb250aHM7XG5cdCAgfTtcblx0XG5cdCAgTW9udGhUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblx0ICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG5cdCAgICB2YXIgdG9kYXkgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuXHQgICAgdmFyIG1vbnRocyA9IHRoaXMubW9udGhzKCk7XG5cdCAgICB2YXIgY3VycmVudE1vbnRoID0gdmFsdWUubW9udGgoKTtcblx0ICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuXHQgICAgICAgIGNvbnRlbnRSZW5kZXIgPSBwcm9wcy5jb250ZW50UmVuZGVyLFxuXHQgICAgICAgIGNlbGxSZW5kZXIgPSBwcm9wcy5jZWxsUmVuZGVyO1xuXHRcblx0ICAgIHZhciBtb250aHNFbHMgPSBtb250aHMubWFwKGZ1bmN0aW9uIChtb250aCwgaW5kZXgpIHtcblx0ICAgICAgdmFyIHRkcyA9IG1vbnRoLm1hcChmdW5jdGlvbiAobW9udGhEYXRhKSB7XG5cdCAgICAgICAgdmFyIF9jbGFzc05hbWVNYXA7XG5cdFxuXHQgICAgICAgIHZhciBkaXNhYmxlZCA9IGZhbHNlO1xuXHQgICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZERhdGUpIHtcblx0ICAgICAgICAgIHZhciB0ZXN0VmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xuXHQgICAgICAgICAgdGVzdFZhbHVlLm1vbnRoKG1vbnRoRGF0YS52YWx1ZSk7XG5cdCAgICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkRGF0ZSh0ZXN0VmFsdWUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY2xhc3NOYW1lTWFwID0gKF9jbGFzc05hbWVNYXAgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWNlbGwtZGlzYWJsZWQnLCBkaXNhYmxlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1jZWxsJywgbW9udGhEYXRhLnZhbHVlID09PSBjdXJyZW50TW9udGgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY3VycmVudC1jZWxsJywgdG9kYXkueWVhcigpID09PSB2YWx1ZS55ZWFyKCkgJiYgbW9udGhEYXRhLnZhbHVlID09PSB0b2RheS5tb250aCgpKSwgX2NsYXNzTmFtZU1hcCk7XG5cdCAgICAgICAgdmFyIGNlbGxFbCA9IHZvaWQgMDtcblx0ICAgICAgICBpZiAoY2VsbFJlbmRlcikge1xuXHQgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgICBjdXJyZW50VmFsdWUubW9udGgobW9udGhEYXRhLnZhbHVlKTtcblx0ICAgICAgICAgIGNlbGxFbCA9IGNlbGxSZW5kZXIoY3VycmVudFZhbHVlLCBsb2NhbGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB2YXIgY29udGVudCA9IHZvaWQgMDtcblx0ICAgICAgICAgIGlmIChjb250ZW50UmVuZGVyKSB7XG5cdCAgICAgICAgICAgIHZhciBfY3VycmVudFZhbHVlID0gdmFsdWUuY2xvbmUoKTtcblx0ICAgICAgICAgICAgX2N1cnJlbnRWYWx1ZS5tb250aChtb250aERhdGEudmFsdWUpO1xuXHQgICAgICAgICAgICBjb250ZW50ID0gY29udGVudFJlbmRlcihfY3VycmVudFZhbHVlLCBsb2NhbGUpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgY29udGVudCA9IG1vbnRoRGF0YS5jb250ZW50O1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgY2VsbEVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgJ2EnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1tb250aCcgfSxcblx0ICAgICAgICAgICAgY29udGVudFxuXHQgICAgICAgICAgKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAndGQnLFxuXHQgICAgICAgICAge1xuXHQgICAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuXHQgICAgICAgICAgICBrZXk6IG1vbnRoRGF0YS52YWx1ZSxcblx0ICAgICAgICAgICAgb25DbGljazogZGlzYWJsZWQgPyBudWxsIDogY2hvb3NlTW9udGguYmluZChfdGhpczIsIG1vbnRoRGF0YS52YWx1ZSksXG5cdCAgICAgICAgICAgIHRpdGxlOiBtb250aERhdGEudGl0bGUsXG5cdCAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZU1hcClcblx0ICAgICAgICAgIH0sXG5cdCAgICAgICAgICBjZWxsRWxcblx0ICAgICAgICApO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3RyJyxcblx0ICAgICAgICB7IGtleTogaW5kZXgsIHJvbGU6ICdyb3cnIH0sXG5cdCAgICAgICAgdGRzXG5cdCAgICAgICk7XG5cdCAgICB9KTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgJ3RhYmxlJyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFibGUnLCBjZWxsU3BhY2luZzogJzAnLCByb2xlOiAnZ3JpZCcgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndGJvZHknLFxuXHQgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRib2R5JyB9LFxuXHQgICAgICAgIG1vbnRoc0Vsc1xuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH07XG5cdFxuXHQgIHJldHVybiBNb250aFRhYmxlO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0TW9udGhUYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG5cdCAgb25TZWxlY3Q6IG5vb3Bcblx0fTtcblx0TW9udGhUYWJsZS5wcm9wVHlwZXMgPSB7XG5cdCAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBjZWxsUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcblx0fTtcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNb250aFRhYmxlO1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzgyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBhdXRvQWRqdXN0T3ZlcmZsb3cgPSB7XG5cdCAgYWRqdXN0WDogMSxcblx0ICBhZGp1c3RZOiAxXG5cdH07XG5cdFxuXHR2YXIgdGFyZ2V0T2Zmc2V0ID0gWzAsIDBdO1xuXHRcblx0dmFyIHBsYWNlbWVudHMgPSB7XG5cdCAgYm90dG9tTGVmdDoge1xuXHQgICAgcG9pbnRzOiBbJ3RsJywgJ3RsJ10sXG5cdCAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuXHQgICAgb2Zmc2V0OiBbMCwgLTNdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIGJvdHRvbVJpZ2h0OiB7XG5cdCAgICBwb2ludHM6IFsndHInLCAndHInXSxcblx0ICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG5cdCAgICBvZmZzZXQ6IFswLCAtM10sXG5cdCAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuXHQgIH0sXG5cdCAgdG9wUmlnaHQ6IHtcblx0ICAgIHBvaW50czogWydicicsICdiciddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDNdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9LFxuXHQgIHRvcExlZnQ6IHtcblx0ICAgIHBvaW50czogWydibCcsICdibCddLFxuXHQgICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcblx0ICAgIG9mZnNldDogWzAsIDNdLFxuXHQgICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcblx0ICB9XG5cdH07XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IHBsYWNlbWVudHM7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzODM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0NhbGVuZGFySGVhZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNTIpO1xuXHRcblx0dmFyIF9DYWxlbmRhckhlYWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckhlYWRlcik7XG5cdFxuXHR2YXIgX0RhdGVUYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjU4KTtcblx0XG5cdHZhciBfRGF0ZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUYWJsZSk7XG5cdFxuXHR2YXIgX0RhdGVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMjU3KTtcblx0XG5cdHZhciBfRGF0ZUlucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVJbnB1dCk7XG5cdFxuXHR2YXIgX2luZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBDYWxlbmRhclBhcnQgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdDYWxlbmRhclBhcnQnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGRpcmVjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuXHQgICAgaG92ZXJWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBzaG93VGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcblx0ICAgIGRpc2FibGVkVGltZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgICBvbklucHV0U2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICB0aW1lUGlja2VyRGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG5cdCAgICAgICAgZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuXHQgICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcblx0ICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG5cdCAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUsXG5cdCAgICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuXHQgICAgICAgIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXIsXG5cdCAgICAgICAgZGlzYWJsZWREYXRlID0gcHJvcHMuZGlzYWJsZWREYXRlLFxuXHQgICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuXHQgICAgICAgIGRpc2FibGVkVGltZSA9IHByb3BzLmRpc2FibGVkVGltZSxcblx0ICAgICAgICB0aW1lUGlja2VyRGlzYWJsZWRUaW1lID0gcHJvcHMudGltZVBpY2tlckRpc2FibGVkVGltZSxcblx0ICAgICAgICBzaG93VGltZVBpY2tlciA9IHByb3BzLnNob3dUaW1lUGlja2VyLFxuXHQgICAgICAgIGhvdmVyVmFsdWUgPSBwcm9wcy5ob3ZlclZhbHVlLFxuXHQgICAgICAgIG9uSW5wdXRTZWxlY3QgPSBwcm9wcy5vbklucHV0U2VsZWN0O1xuXHRcblx0ICAgIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBzaG93VGltZVBpY2tlciAmJiBkaXNhYmxlZFRpbWUgJiYgdGltZVBpY2tlciA/ICgwLCBfaW5kZXguZ2V0VGltZUNvbmZpZykoc2VsZWN0ZWRWYWx1ZSwgZGlzYWJsZWRUaW1lKSA6IG51bGw7XG5cdCAgICB2YXIgcmFuZ2VDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLXJhbmdlJztcblx0ICAgIHZhciBuZXdQcm9wcyA9IHtcblx0ICAgICAgbG9jYWxlOiBsb2NhbGUsXG5cdCAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIHNob3dUaW1lUGlja2VyOiBzaG93VGltZVBpY2tlclxuXHQgICAgfTtcblx0ICAgIHZhciBpbmRleCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gMCA6IDE7XG5cdCAgICB2YXIgdGltZVBpY2tlckVsZSA9IHNob3dUaW1lUGlja2VyICYmIHRpbWVQaWNrZXIgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHRpbWVQaWNrZXIsICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG5cdCAgICAgIHNob3dIb3VyOiB0cnVlLFxuXHQgICAgICBzaG93TWludXRlOiB0cnVlLFxuXHQgICAgICBzaG93U2Vjb25kOiB0cnVlXG5cdCAgICB9LCB0aW1lUGlja2VyLnByb3BzLCBkaXNhYmxlZFRpbWVDb25maWcsIHRpbWVQaWNrZXJEaXNhYmxlZFRpbWUsIHtcblx0ICAgICAgb25DaGFuZ2U6IG9uSW5wdXRTZWxlY3QsXG5cdCAgICAgIGRlZmF1bHRPcGVuVmFsdWU6IHZhbHVlLFxuXHQgICAgICB2YWx1ZTogc2VsZWN0ZWRWYWx1ZVtpbmRleF1cblx0ICAgIH0pKTtcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAgeyBjbGFzc05hbWU6IHJhbmdlQ2xhc3NOYW1lICsgJy1wYXJ0ICcgKyByYW5nZUNsYXNzTmFtZSArICctJyArIGRpcmVjdGlvbiB9LFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlSW5wdXQyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuXHQgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuXHQgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuXHQgICAgICAgIHRpbWVQaWNrZXI6IHRpbWVQaWNrZXIsXG5cdCAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG5cdCAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuXHQgICAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuXHQgICAgICAgIHZhbHVlOiB2YWx1ZSxcblx0ICAgICAgICBzaG93Q2xlYXI6IGZhbHNlLFxuXHQgICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWVbaW5kZXhdLFxuXHQgICAgICAgIG9uQ2hhbmdlOiBvbklucHV0U2VsZWN0XG5cdCAgICAgIH0pLFxuXHQgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdkaXYnLFxuXHQgICAgICAgIHsgc3R5bGU6IHsgb3V0bGluZTogJ25vbmUnIH0gfSxcblx0ICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckhlYWRlcjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIG5ld1Byb3BzLCB7XG5cdCAgICAgICAgICBlbmFibGVOZXh0OiBkaXJlY3Rpb24gPT09ICdyaWdodCcsXG5cdCAgICAgICAgICBlbmFibGVQcmV2OiBkaXJlY3Rpb24gPT09ICdsZWZ0Jyxcblx0ICAgICAgICAgIG9uVmFsdWVDaGFuZ2U6IHByb3BzLm9uVmFsdWVDaGFuZ2Vcblx0ICAgICAgICB9KSksXG5cdCAgICAgICAgc2hvd1RpbWVQaWNrZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ2RpdicsXG5cdCAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlcicgfSxcblx0ICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgICdkaXYnLFxuXHQgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1wYW5lbCcgfSxcblx0ICAgICAgICAgICAgdGltZVBpY2tlckVsZVxuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkgOiBudWxsLFxuXHQgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAnZGl2Jyxcblx0ICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG5cdCAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVGFibGUyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBuZXdQcm9wcywge1xuXHQgICAgICAgICAgICBob3ZlclZhbHVlOiBob3ZlclZhbHVlLFxuXHQgICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuXHQgICAgICAgICAgICBkYXRlUmVuZGVyOiBwcm9wcy5kYXRlUmVuZGVyLFxuXHQgICAgICAgICAgICBvblNlbGVjdDogcHJvcHMub25TZWxlY3QsXG5cdCAgICAgICAgICAgIG9uRGF5SG92ZXI6IHByb3BzLm9uRGF5SG92ZXIsXG5cdCAgICAgICAgICAgIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLFxuXHQgICAgICAgICAgICBzaG93V2Vla051bWJlcjogcHJvcHMuc2hvd1dlZWtOdW1iZXJcblx0ICAgICAgICAgIH0pKVxuXHQgICAgICAgIClcblx0ICAgICAgKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDYWxlbmRhclBhcnQ7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzODQ6XG4xMDQzLFxuXG4vKioqLyAzODU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMzg4KTtcblx0XG5cdHZhciBfU2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBmb3JtYXRPcHRpb24gPSBmdW5jdGlvbiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpIHtcblx0ICB2YXIgdmFsdWUgPSAnJyArIG9wdGlvbjtcblx0ICBpZiAob3B0aW9uIDwgMTApIHtcblx0ICAgIHZhbHVlID0gJzAnICsgb3B0aW9uO1xuXHQgIH1cblx0XG5cdCAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG5cdCAgaWYgKGRpc2FibGVkT3B0aW9ucyAmJiBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZihvcHRpb24pID49IDApIHtcblx0ICAgIGRpc2FibGVkID0gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICBkaXNhYmxlZDogZGlzYWJsZWRcblx0ICB9O1xuXHR9O1xuXHRcblx0dmFyIENvbWJvYm94ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnQ29tYm9ib3gnLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBkZWZhdWx0T3BlblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgc2hvd0hvdXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dNaW51dGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dTZWNvbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGhvdXJPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgbWludXRlT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNlY29uZE9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBkaXNhYmxlZEhvdXJzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZE1pbnV0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRpc2FibGVkU2Vjb25kczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuXHQgIH0sXG5cdFxuXHQgIG9uSXRlbUNoYW5nZTogZnVuY3Rpb24gb25JdGVtQ2hhbmdlKHR5cGUsIGl0ZW1WYWx1ZSkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG5cdCAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZSA9IF9wcm9wcy5kZWZhdWx0T3BlblZhbHVlO1xuXHRcblx0ICAgIHZhciB2YWx1ZSA9ICh0aGlzLnByb3BzLnZhbHVlIHx8IGRlZmF1bHRPcGVuVmFsdWUpLmNsb25lKCk7XG5cdCAgICBpZiAodHlwZSA9PT0gJ2hvdXInKSB7XG5cdCAgICAgIHZhbHVlLmhvdXIoaXRlbVZhbHVlKTtcblx0ICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21pbnV0ZScpIHtcblx0ICAgICAgdmFsdWUubWludXRlKGl0ZW1WYWx1ZSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YWx1ZS5zZWNvbmQoaXRlbVZhbHVlKTtcblx0ICAgIH1cblx0ICAgIG9uQ2hhbmdlKHZhbHVlKTtcblx0ICB9LFxuXHQgIG9uRW50ZXJTZWxlY3RQYW5lbDogZnVuY3Rpb24gb25FbnRlclNlbGVjdFBhbmVsKHJhbmdlKSB7XG5cdCAgICB0aGlzLnByb3BzLm9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlKHJhbmdlKTtcblx0ICB9LFxuXHQgIGdldEhvdXJTZWxlY3Q6IGZ1bmN0aW9uIGdldEhvdXJTZWxlY3QoaG91cikge1xuXHQgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuXHQgICAgICAgIGhvdXJPcHRpb25zID0gX3Byb3BzMi5ob3VyT3B0aW9ucyxcblx0ICAgICAgICBkaXNhYmxlZEhvdXJzID0gX3Byb3BzMi5kaXNhYmxlZEhvdXJzLFxuXHQgICAgICAgIHNob3dIb3VyID0gX3Byb3BzMi5zaG93SG91cjtcblx0XG5cdCAgICBpZiAoIXNob3dIb3VyKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkSG91cnMoKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIG9wdGlvbnM6IGhvdXJPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgcmV0dXJuIGZvcm1hdE9wdGlvbihvcHRpb24sIGRpc2FibGVkT3B0aW9ucyk7XG5cdCAgICAgIH0pLFxuXHQgICAgICBzZWxlY3RlZEluZGV4OiBob3VyT3B0aW9ucy5pbmRleE9mKGhvdXIpLFxuXHQgICAgICB0eXBlOiAnaG91cicsXG5cdCAgICAgIG9uU2VsZWN0OiB0aGlzLm9uSXRlbUNoYW5nZSxcblx0ICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uRW50ZXJTZWxlY3RQYW5lbC5iaW5kKHRoaXMsICdob3VyJylcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgZ2V0TWludXRlU2VsZWN0OiBmdW5jdGlvbiBnZXRNaW51dGVTZWxlY3QobWludXRlKSB7XG5cdCAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG5cdCAgICAgICAgbWludXRlT3B0aW9ucyA9IF9wcm9wczMubWludXRlT3B0aW9ucyxcblx0ICAgICAgICBkaXNhYmxlZE1pbnV0ZXMgPSBfcHJvcHMzLmRpc2FibGVkTWludXRlcyxcblx0ICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzMy5kZWZhdWx0T3BlblZhbHVlLFxuXHQgICAgICAgIHNob3dNaW51dGUgPSBfcHJvcHMzLnNob3dNaW51dGU7XG5cdFxuXHQgICAgaWYgKCFzaG93TWludXRlKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlO1xuXHQgICAgdmFyIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkTWludXRlcyh2YWx1ZS5ob3VyKCkpO1xuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3QyW1wiZGVmYXVsdFwiXSwge1xuXHQgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgb3B0aW9uczogbWludXRlT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgIHJldHVybiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpO1xuXHQgICAgICB9KSxcblx0ICAgICAgc2VsZWN0ZWRJbmRleDogbWludXRlT3B0aW9ucy5pbmRleE9mKG1pbnV0ZSksXG5cdCAgICAgIHR5cGU6ICdtaW51dGUnLFxuXHQgICAgICBvblNlbGVjdDogdGhpcy5vbkl0ZW1DaGFuZ2UsXG5cdCAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbkVudGVyU2VsZWN0UGFuZWwuYmluZCh0aGlzLCAnbWludXRlJylcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgZ2V0U2Vjb25kU2VsZWN0OiBmdW5jdGlvbiBnZXRTZWNvbmRTZWxlY3Qoc2Vjb25kKSB7XG5cdCAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHMsXG5cdCAgICAgICAgc2Vjb25kT3B0aW9ucyA9IF9wcm9wczQuc2Vjb25kT3B0aW9ucyxcblx0ICAgICAgICBkaXNhYmxlZFNlY29uZHMgPSBfcHJvcHM0LmRpc2FibGVkU2Vjb25kcyxcblx0ICAgICAgICBzaG93U2Vjb25kID0gX3Byb3BzNC5zaG93U2Vjb25kLFxuXHQgICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHM0LmRlZmF1bHRPcGVuVmFsdWU7XG5cdFxuXHQgICAgaWYgKCFzaG93U2Vjb25kKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlO1xuXHQgICAgdmFyIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkU2Vjb25kcyh2YWx1ZS5ob3VyKCksIHZhbHVlLm1pbnV0ZSgpKTtcblx0XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgIG9wdGlvbnM6IHNlY29uZE9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICByZXR1cm4gZm9ybWF0T3B0aW9uKG9wdGlvbiwgZGlzYWJsZWRPcHRpb25zKTtcblx0ICAgICAgfSksXG5cdCAgICAgIHNlbGVjdGVkSW5kZXg6IHNlY29uZE9wdGlvbnMuaW5kZXhPZihzZWNvbmQpLFxuXHQgICAgICB0eXBlOiAnc2Vjb25kJyxcblx0ICAgICAgb25TZWxlY3Q6IHRoaXMub25JdGVtQ2hhbmdlLFxuXHQgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25FbnRlclNlbGVjdFBhbmVsLmJpbmQodGhpcywgJ3NlY29uZCcpXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczUucHJlZml4Q2xzLFxuXHQgICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHM1LmRlZmF1bHRPcGVuVmFsdWU7XG5cdFxuXHQgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlO1xuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb21ib2JveCcgfSxcblx0ICAgICAgdGhpcy5nZXRIb3VyU2VsZWN0KHZhbHVlLmhvdXIoKSksXG5cdCAgICAgIHRoaXMuZ2V0TWludXRlU2VsZWN0KHZhbHVlLm1pbnV0ZSgpKSxcblx0ICAgICAgdGhpcy5nZXRTZWNvbmRTZWxlY3QodmFsdWUuc2Vjb25kKCkpXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbWJvYm94O1xuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMzg2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdHZhciBIZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdIZWFkZXInLFxuXHRcblx0ICBwcm9wVHlwZXM6IHtcblx0ICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGVhclRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgaG91ck9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgICBtaW51dGVPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuXHQgICAgc2Vjb25kT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIGRpc2FibGVkSG91cnM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGRpc2FibGVkTWludXRlczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWRTZWNvbmRzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25DbGVhcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25Fc2M6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGFsbG93RW1wdHk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIGRlZmF1bHRPcGVuVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgICAgY3VycmVudFNlbGVjdFBhbmVsOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZ1xuXHQgIH0sXG5cdFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG5cdCAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdDtcblx0XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBzdHI6IHZhbHVlICYmIHZhbHVlLmZvcm1hdChmb3JtYXQpIHx8ICcnLFxuXHQgICAgICBpbnZhbGlkOiBmYWxzZVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUsXG5cdCAgICAgICAgZm9ybWF0ID0gbmV4dFByb3BzLmZvcm1hdDtcblx0XG5cdCAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgc3RyOiB2YWx1ZSAmJiB2YWx1ZS5mb3JtYXQoZm9ybWF0KSB8fCAnJyxcblx0ICAgICAgaW52YWxpZDogZmFsc2Vcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuXHQgICAgdmFyIHN0ciA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblx0ICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICBzdHI6IHN0clxuXHQgICAgfSk7XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgZm9ybWF0ID0gX3Byb3BzMi5mb3JtYXQsXG5cdCAgICAgICAgaG91ck9wdGlvbnMgPSBfcHJvcHMyLmhvdXJPcHRpb25zLFxuXHQgICAgICAgIG1pbnV0ZU9wdGlvbnMgPSBfcHJvcHMyLm1pbnV0ZU9wdGlvbnMsXG5cdCAgICAgICAgc2Vjb25kT3B0aW9ucyA9IF9wcm9wczIuc2Vjb25kT3B0aW9ucyxcblx0ICAgICAgICBkaXNhYmxlZEhvdXJzID0gX3Byb3BzMi5kaXNhYmxlZEhvdXJzLFxuXHQgICAgICAgIGRpc2FibGVkTWludXRlcyA9IF9wcm9wczIuZGlzYWJsZWRNaW51dGVzLFxuXHQgICAgICAgIGRpc2FibGVkU2Vjb25kcyA9IF9wcm9wczIuZGlzYWJsZWRTZWNvbmRzLFxuXHQgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzMi5vbkNoYW5nZSxcblx0ICAgICAgICBhbGxvd0VtcHR5ID0gX3Byb3BzMi5hbGxvd0VtcHR5O1xuXHRcblx0XG5cdCAgICBpZiAoc3RyKSB7XG5cdCAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcblx0ICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRQcm90b1ZhbHVlKCkuY2xvbmUoKTtcblx0ICAgICAgdmFyIHBhcnNlZCA9ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKHN0ciwgZm9ybWF0LCB0cnVlKTtcblx0ICAgICAgaWYgKCFwYXJzZWQuaXNWYWxpZCgpKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBpbnZhbGlkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIHZhbHVlLmhvdXIocGFyc2VkLmhvdXIoKSkubWludXRlKHBhcnNlZC5taW51dGUoKSkuc2Vjb25kKHBhcnNlZC5zZWNvbmQoKSk7XG5cdFxuXHQgICAgICAvLyBpZiB0aW1lIHZhbHVlIG5vdCBhbGxvd2VkLCByZXNwb25zZSB3YXJuaW5nLlxuXHQgICAgICBpZiAoaG91ck9wdGlvbnMuaW5kZXhPZih2YWx1ZS5ob3VyKCkpIDwgMCB8fCBtaW51dGVPcHRpb25zLmluZGV4T2YodmFsdWUubWludXRlKCkpIDwgMCB8fCBzZWNvbmRPcHRpb25zLmluZGV4T2YodmFsdWUuc2Vjb25kKCkpIDwgMCkge1xuXHQgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgaW52YWxpZDogdHJ1ZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgLy8gaWYgdGltZSB2YWx1ZSBpcyBkaXNhYmxlZCwgcmVzcG9uc2Ugd2FybmluZy5cblx0ICAgICAgdmFyIGRpc2FibGVkSG91ck9wdGlvbnMgPSBkaXNhYmxlZEhvdXJzKCk7XG5cdCAgICAgIHZhciBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMgPSBkaXNhYmxlZE1pbnV0ZXModmFsdWUuaG91cigpKTtcblx0ICAgICAgdmFyIGRpc2FibGVkU2Vjb25kT3B0aW9ucyA9IGRpc2FibGVkU2Vjb25kcyh2YWx1ZS5ob3VyKCksIHZhbHVlLm1pbnV0ZSgpKTtcblx0ICAgICAgaWYgKGRpc2FibGVkSG91ck9wdGlvbnMgJiYgZGlzYWJsZWRIb3VyT3B0aW9ucy5pbmRleE9mKHZhbHVlLmhvdXIoKSkgPj0gMCB8fCBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMgJiYgZGlzYWJsZWRNaW51dGVPcHRpb25zLmluZGV4T2YodmFsdWUubWludXRlKCkpID49IDAgfHwgZGlzYWJsZWRTZWNvbmRPcHRpb25zICYmIGRpc2FibGVkU2Vjb25kT3B0aW9ucy5pbmRleE9mKHZhbHVlLnNlY29uZCgpKSA+PSAwKSB7XG5cdCAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICBpbnZhbGlkOiB0cnVlXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBpZiAob3JpZ2luYWxWYWx1ZSkge1xuXHQgICAgICAgIGlmIChvcmlnaW5hbFZhbHVlLmhvdXIoKSAhPT0gdmFsdWUuaG91cigpIHx8IG9yaWdpbmFsVmFsdWUubWludXRlKCkgIT09IHZhbHVlLm1pbnV0ZSgpIHx8IG9yaWdpbmFsVmFsdWUuc2Vjb25kKCkgIT09IHZhbHVlLnNlY29uZCgpKSB7XG5cdCAgICAgICAgICAvLyBrZWVwIG90aGVyIGZpZWxkcyBmb3IgcmMtY2FsZW5kYXJcblx0ICAgICAgICAgIHZhciBjaGFuZ2VkVmFsdWUgPSBvcmlnaW5hbFZhbHVlLmNsb25lKCk7XG5cdCAgICAgICAgICBjaGFuZ2VkVmFsdWUuaG91cih2YWx1ZS5ob3VyKCkpO1xuXHQgICAgICAgICAgY2hhbmdlZFZhbHVlLm1pbnV0ZSh2YWx1ZS5taW51dGUoKSk7XG5cdCAgICAgICAgICBjaGFuZ2VkVmFsdWUuc2Vjb25kKHZhbHVlLnNlY29uZCgpKTtcblx0ICAgICAgICAgIG9uQ2hhbmdlKGNoYW5nZWRWYWx1ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKSB7XG5cdCAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGFsbG93RW1wdHkpIHtcblx0ICAgICAgb25DaGFuZ2UobnVsbCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICBpbnZhbGlkOiB0cnVlXG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgIGludmFsaWQ6IGZhbHNlXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcblx0ICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG5cdCAgICAgIHRoaXMucHJvcHMub25Fc2MoKTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHsgc3RyOiAnJyB9KTtcblx0ICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuXHQgIH0sXG5cdCAgZ2V0Q2xlYXJCdXR0b246IGZ1bmN0aW9uIGdldENsZWFyQnV0dG9uKCkge1xuXHQgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuXHQgICAgICAgIGFsbG93RW1wdHkgPSBfcHJvcHMzLmFsbG93RW1wdHk7XG5cdFxuXHQgICAgaWYgKCFhbGxvd0VtcHR5KSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG5cdCAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jbGVhci1idG4nLFxuXHQgICAgICByb2xlOiAnYnV0dG9uJyxcblx0ICAgICAgdGl0bGU6IHRoaXMucHJvcHMuY2xlYXJUZXh0LFxuXHQgICAgICBvbk1vdXNlRG93bjogdGhpcy5vbkNsZWFyXG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIGdldFByb3RvVmFsdWU6IGZ1bmN0aW9uIGdldFByb3RvVmFsdWUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZSB8fCB0aGlzLnByb3BzLmRlZmF1bHRPcGVuVmFsdWU7XG5cdCAgfSxcblx0ICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG5cdCAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHMsXG5cdCAgICAgICAgcGxhY2Vob2xkZXIgPSBfcHJvcHM0LnBsYWNlaG9sZGVyO1xuXHQgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG5cdCAgICAgICAgaW52YWxpZCA9IF9zdGF0ZS5pbnZhbGlkLFxuXHQgICAgICAgIHN0ciA9IF9zdGF0ZS5zdHI7XG5cdFxuXHQgICAgdmFyIGludmFsaWRDbGFzcyA9IGludmFsaWQgPyBwcmVmaXhDbHMgKyAnLWlucHV0LWludmFsaWQnIDogJyc7XG5cdCAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XG5cdCAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCAgJyArIGludmFsaWRDbGFzcyxcblx0ICAgICAgcmVmOiAnaW5wdXQnLFxuXHQgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuXHQgICAgICB2YWx1ZTogc3RyLFxuXHQgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG5cdCAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uSW5wdXRDaGFuZ2Vcblx0ICAgIH0pO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dC13cmFwJyB9LFxuXHQgICAgICB0aGlzLmdldElucHV0KCksXG5cdCAgICAgIHRoaXMuZ2V0Q2xlYXJCdXR0b24oKVxuXHQgICAgKTtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBIZWFkZXI7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzODc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0hlYWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzg2KTtcblx0XG5cdHZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cdFxuXHR2YXIgX0NvbWJvYm94ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzODUpO1xuXHRcblx0dmFyIF9Db21ib2JveDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21ib2JveCk7XG5cdFxuXHR2YXIgX21vbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIG5vb3AoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25zKGxlbmd0aCwgZGlzYWJsZWRPcHRpb25zLCBoaWRlRGlzYWJsZWRPcHRpb25zKSB7XG5cdCAgdmFyIGFyciA9IFtdO1xuXHQgIGZvciAodmFyIHZhbHVlID0gMDsgdmFsdWUgPCBsZW5ndGg7IHZhbHVlKyspIHtcblx0ICAgIGlmICghZGlzYWJsZWRPcHRpb25zIHx8IGRpc2FibGVkT3B0aW9ucy5pbmRleE9mKHZhbHVlKSA8IDAgfHwgIWhpZGVEaXNhYmxlZE9wdGlvbnMpIHtcblx0ICAgICAgYXJyLnB1c2godmFsdWUpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gYXJyO1xuXHR9XG5cdFxuXHR2YXIgUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG5cdCAgZGlzcGxheU5hbWU6ICdQYW5lbCcsXG5cdFxuXHQgIHByb3BUeXBlczoge1xuXHQgICAgY2xlYXJUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0ICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGVmYXVsdE9wZW5WYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgZGlzYWJsZWRIb3VyczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgZGlzYWJsZWRNaW51dGVzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBkaXNhYmxlZFNlY29uZHM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGhpZGVEaXNhYmxlZE9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdCAgICBvbkVzYzogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgYWxsb3dFbXB0eTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuXHQgICAgc2hvd0hvdXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dNaW51dGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIHNob3dTZWNvbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0ICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICAgIGFkZG9uOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHByZWZpeENsczogJ3JjLXRpbWUtcGlja2VyLXBhbmVsJyxcblx0ICAgICAgb25DaGFuZ2U6IG5vb3AsXG5cdCAgICAgIG9uQ2xlYXI6IG5vb3AsXG5cdCAgICAgIGRpc2FibGVkSG91cnM6IG5vb3AsXG5cdCAgICAgIGRpc2FibGVkTWludXRlczogbm9vcCxcblx0ICAgICAgZGlzYWJsZWRTZWNvbmRzOiBub29wLFxuXHQgICAgICBkZWZhdWx0T3BlblZhbHVlOiAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpLFxuXHQgICAgICBhZGRvbjogbm9vcFxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG5cdCAgICAgIHNlbGVjdGlvblJhbmdlOiBbXVxuXHQgICAgfTtcblx0ICB9LFxuXHQgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdCAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG5cdCAgICBpZiAodmFsdWUpIHtcblx0ICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgdmFsdWU6IHZhbHVlXG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld1ZhbHVlKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHsgdmFsdWU6IG5ld1ZhbHVlIH0pO1xuXHQgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShuZXdWYWx1ZSk7XG5cdCAgfSxcblx0ICBvbkNsZWFyOiBmdW5jdGlvbiBvbkNsZWFyKCkge1xuXHQgICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG5cdCAgfSxcblx0ICBvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZTogZnVuY3Rpb24gb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2UoY3VycmVudFNlbGVjdFBhbmVsKSB7XG5cdCAgICB0aGlzLnNldFN0YXRlKHsgY3VycmVudFNlbGVjdFBhbmVsOiBjdXJyZW50U2VsZWN0UGFuZWwgfSk7XG5cdCAgfSxcblx0ICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7XG5cdCAgICB0aGlzLnByb3BzLm9uRXNjKCk7XG5cdCAgfSxcblx0ICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgIHZhciBfY2xhc3NOYW1lcztcblx0XG5cdCAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcblx0ICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuXHQgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG5cdCAgICAgICAgcGxhY2Vob2xkZXIgPSBfcHJvcHMucGxhY2Vob2xkZXIsXG5cdCAgICAgICAgZGlzYWJsZWRIb3VycyA9IF9wcm9wcy5kaXNhYmxlZEhvdXJzLFxuXHQgICAgICAgIGRpc2FibGVkTWludXRlcyA9IF9wcm9wcy5kaXNhYmxlZE1pbnV0ZXMsXG5cdCAgICAgICAgZGlzYWJsZWRTZWNvbmRzID0gX3Byb3BzLmRpc2FibGVkU2Vjb25kcyxcblx0ICAgICAgICBoaWRlRGlzYWJsZWRPcHRpb25zID0gX3Byb3BzLmhpZGVEaXNhYmxlZE9wdGlvbnMsXG5cdCAgICAgICAgYWxsb3dFbXB0eSA9IF9wcm9wcy5hbGxvd0VtcHR5LFxuXHQgICAgICAgIHNob3dIb3VyID0gX3Byb3BzLnNob3dIb3VyLFxuXHQgICAgICAgIHNob3dNaW51dGUgPSBfcHJvcHMuc2hvd01pbnV0ZSxcblx0ICAgICAgICBzaG93U2Vjb25kID0gX3Byb3BzLnNob3dTZWNvbmQsXG5cdCAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcblx0ICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzLmRlZmF1bHRPcGVuVmFsdWUsXG5cdCAgICAgICAgY2xlYXJUZXh0ID0gX3Byb3BzLmNsZWFyVGV4dCxcblx0ICAgICAgICBvbkVzYyA9IF9wcm9wcy5vbkVzYyxcblx0ICAgICAgICBhZGRvbiA9IF9wcm9wcy5hZGRvbjtcblx0ICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuXHQgICAgICAgIGN1cnJlbnRTZWxlY3RQYW5lbCA9IF9zdGF0ZS5jdXJyZW50U2VsZWN0UGFuZWw7XG5cdFxuXHQgICAgdmFyIGRpc2FibGVkSG91ck9wdGlvbnMgPSBkaXNhYmxlZEhvdXJzKCk7XG5cdCAgICB2YXIgZGlzYWJsZWRNaW51dGVPcHRpb25zID0gZGlzYWJsZWRNaW51dGVzKHZhbHVlID8gdmFsdWUuaG91cigpIDogbnVsbCk7XG5cdCAgICB2YXIgZGlzYWJsZWRTZWNvbmRPcHRpb25zID0gZGlzYWJsZWRTZWNvbmRzKHZhbHVlID8gdmFsdWUuaG91cigpIDogbnVsbCwgdmFsdWUgPyB2YWx1ZS5taW51dGUoKSA6IG51bGwpO1xuXHQgICAgdmFyIGhvdXJPcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKDI0LCBkaXNhYmxlZEhvdXJPcHRpb25zLCBoaWRlRGlzYWJsZWRPcHRpb25zKTtcblx0ICAgIHZhciBtaW51dGVPcHRpb25zID0gZ2VuZXJhdGVPcHRpb25zKDYwLCBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpO1xuXHQgICAgdmFyIHNlY29uZE9wdGlvbnMgPSBnZW5lcmF0ZU9wdGlvbnMoNjAsIGRpc2FibGVkU2Vjb25kT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucyk7XG5cdFxuXHQgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICdkaXYnLFxuXHQgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWlubmVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIGNsYXNzTmFtZSwgISFjbGFzc05hbWUpLCBfY2xhc3NOYW1lcykpIH0sXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0hlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG5cdCAgICAgICAgY2xlYXJUZXh0OiBjbGVhclRleHQsXG5cdCAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG5cdCAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogZGVmYXVsdE9wZW5WYWx1ZSxcblx0ICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgY3VycmVudFNlbGVjdFBhbmVsOiBjdXJyZW50U2VsZWN0UGFuZWwsXG5cdCAgICAgICAgb25Fc2M6IG9uRXNjLFxuXHQgICAgICAgIGZvcm1hdDogZm9ybWF0LFxuXHQgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcblx0ICAgICAgICBob3VyT3B0aW9uczogaG91ck9wdGlvbnMsXG5cdCAgICAgICAgbWludXRlT3B0aW9uczogbWludXRlT3B0aW9ucyxcblx0ICAgICAgICBzZWNvbmRPcHRpb25zOiBzZWNvbmRPcHRpb25zLFxuXHQgICAgICAgIGRpc2FibGVkSG91cnM6IGRpc2FibGVkSG91cnMsXG5cdCAgICAgICAgZGlzYWJsZWRNaW51dGVzOiBkaXNhYmxlZE1pbnV0ZXMsXG5cdCAgICAgICAgZGlzYWJsZWRTZWNvbmRzOiBkaXNhYmxlZFNlY29uZHMsXG5cdCAgICAgICAgb25DaGFuZ2U6IHRoaXMub25DaGFuZ2UsXG5cdCAgICAgICAgb25DbGVhcjogdGhpcy5vbkNsZWFyLFxuXHQgICAgICAgIGFsbG93RW1wdHk6IGFsbG93RW1wdHlcblx0ICAgICAgfSksXG5cdCAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NvbWJvYm94MltcImRlZmF1bHRcIl0sIHtcblx0ICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcblx0ICAgICAgICB2YWx1ZTogdmFsdWUsXG5cdCAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogZGVmYXVsdE9wZW5WYWx1ZSxcblx0ICAgICAgICBmb3JtYXQ6IGZvcm1hdCxcblx0ICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcblx0ICAgICAgICBzaG93SG91cjogc2hvd0hvdXIsXG5cdCAgICAgICAgc2hvd01pbnV0ZTogc2hvd01pbnV0ZSxcblx0ICAgICAgICBzaG93U2Vjb25kOiBzaG93U2Vjb25kLFxuXHQgICAgICAgIGhvdXJPcHRpb25zOiBob3VyT3B0aW9ucyxcblx0ICAgICAgICBtaW51dGVPcHRpb25zOiBtaW51dGVPcHRpb25zLFxuXHQgICAgICAgIHNlY29uZE9wdGlvbnM6IHNlY29uZE9wdGlvbnMsXG5cdCAgICAgICAgZGlzYWJsZWRIb3VyczogZGlzYWJsZWRIb3Vycyxcblx0ICAgICAgICBkaXNhYmxlZE1pbnV0ZXM6IGRpc2FibGVkTWludXRlcyxcblx0ICAgICAgICBkaXNhYmxlZFNlY29uZHM6IGRpc2FibGVkU2Vjb25kcyxcblx0ICAgICAgICBvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZTogdGhpcy5vbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZVxuXHQgICAgICB9KSxcblx0ICAgICAgYWRkb24odGhpcylcblx0ICAgICk7XG5cdCAgfVxuXHR9KTtcblx0XG5cdGV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGFuZWw7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyAzODg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0RG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdHZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cdFxuXHR2YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhlbGVtZW50LCB0bywgZHVyYXRpb24pIHtcblx0ICB2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVUaW1lb3V0KCkge1xuXHQgICAgcmV0dXJuIHNldFRpbWVvdXQoYXJndW1lbnRzWzBdLCAxMCk7XG5cdCAgfTtcblx0ICAvLyBqdW1wIHRvIHRhcmdldCBpZiBkdXJhdGlvbiB6ZXJvXG5cdCAgaWYgKGR1cmF0aW9uIDw9IDApIHtcblx0ICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gdG87XG5cdCAgICByZXR1cm47XG5cdCAgfVxuXHQgIHZhciBkaWZmZXJlbmNlID0gdG8gLSBlbGVtZW50LnNjcm9sbFRvcDtcblx0ICB2YXIgcGVyVGljayA9IGRpZmZlcmVuY2UgLyBkdXJhdGlvbiAqIDEwO1xuXHRcblx0ICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuXHQgICAgZWxlbWVudC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCArIHBlclRpY2s7XG5cdCAgICBpZiAoZWxlbWVudC5zY3JvbGxUb3AgPT09IHRvKSByZXR1cm47XG5cdCAgICBzY3JvbGxUbyhlbGVtZW50LCB0bywgZHVyYXRpb24gLSAxMCk7XG5cdCAgfSk7XG5cdH07XG5cdFxuXHR2YXIgU2VsZWN0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuXHQgIGRpc3BsYXlOYW1lOiAnU2VsZWN0Jyxcblx0XG5cdCAgcHJvcFR5cGVzOiB7XG5cdCAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHQgICAgb3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcblx0ICAgIHNlbGVjdGVkSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuXHQgICAgdHlwZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgICAgb25Nb3VzZUVudGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0ICB9LFxuXHRcblx0ICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAvLyBqdW1wIHRvIHNlbGVjdGVkIG9wdGlvblxuXHQgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKDApO1xuXHQgIH0sXG5cdCAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG5cdCAgICAvLyBzbW9vdGggc2Nyb2xsIHRvIHNlbGVjdGVkIG9wdGlvblxuXHQgICAgaWYgKHByZXZQcm9wcy5zZWxlY3RlZEluZGV4ICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkSW5kZXgpIHtcblx0ICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKDEyMCk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcblx0ICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuXHQgICAgICAgIG9uU2VsZWN0ID0gX3Byb3BzLm9uU2VsZWN0LFxuXHQgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZTtcblx0XG5cdCAgICBvblNlbGVjdCh0eXBlLCB2YWx1ZSk7XG5cdCAgfSxcblx0ICBnZXRPcHRpb25zOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG5cdCAgICAgICAgb3B0aW9ucyA9IF9wcm9wczIub3B0aW9ucyxcblx0ICAgICAgICBzZWxlY3RlZEluZGV4ID0gX3Byb3BzMi5zZWxlY3RlZEluZGV4LFxuXHQgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzO1xuXHRcblx0ICAgIHJldHVybiBvcHRpb25zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcblx0ICAgICAgdmFyIF9jbGFzc25hbWVzO1xuXHRcblx0ICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKSgoX2NsYXNzbmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1zZWxlY3Qtb3B0aW9uLXNlbGVjdGVkJywgc2VsZWN0ZWRJbmRleCA9PT0gaW5kZXgpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXNlbGVjdC1vcHRpb24tZGlzYWJsZWQnLCBpdGVtLmRpc2FibGVkKSwgX2NsYXNzbmFtZXMpKTtcblx0ICAgICAgdmFyIG9uY2xpY2sgPSBudWxsO1xuXHQgICAgICBpZiAoIWl0ZW0uZGlzYWJsZWQpIHtcblx0ICAgICAgICBvbmNsaWNrID0gX3RoaXMub25TZWxlY3QuYmluZChfdGhpcywgK2l0ZW0udmFsdWUpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICdsaScsXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgY2xhc3NOYW1lOiBjbHMsXG5cdCAgICAgICAgICBrZXk6IGluZGV4LFxuXHQgICAgICAgICAgb25DbGljazogb25jbGljayxcblx0ICAgICAgICAgIGRpc2FibGVkOiBpdGVtLmRpc2FibGVkXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBpdGVtLnZhbHVlXG5cdCAgICAgICk7XG5cdCAgICB9KTtcblx0ICB9LFxuXHQgIHNjcm9sbFRvU2VsZWN0ZWQ6IGZ1bmN0aW9uIHNjcm9sbFRvU2VsZWN0ZWQoZHVyYXRpb24pIHtcblx0ICAgIC8vIG1vdmUgdG8gc2VsZWN0ZWQgaXRlbVxuXHQgICAgdmFyIHNlbGVjdCA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuXHQgICAgdmFyIGxpc3QgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzLnJlZnMubGlzdCk7XG5cdCAgICBpZiAoIWxpc3QpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGluZGV4ID0gdGhpcy5wcm9wcy5zZWxlY3RlZEluZGV4O1xuXHQgICAgaWYgKGluZGV4IDwgMCkge1xuXHQgICAgICBpbmRleCA9IDA7XG5cdCAgICB9XG5cdCAgICB2YXIgdG9wT3B0aW9uID0gbGlzdC5jaGlsZHJlbltpbmRleF07XG5cdCAgICB2YXIgdG8gPSB0b3BPcHRpb24ub2Zmc2V0VG9wO1xuXHQgICAgc2Nyb2xsVG8oc2VsZWN0LCB0bywgZHVyYXRpb24pO1xuXHQgIH0sXG5cdCAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cdFxuXHRcblx0ICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAnZGl2Jyxcblx0ICAgICAge1xuXHQgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3QnLFxuXHQgICAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5wcm9wcy5vbk1vdXNlRW50ZXJcblx0ICAgICAgfSxcblx0ICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAndWwnLFxuXHQgICAgICAgIHsgcmVmOiAnbGlzdCcgfSxcblx0ICAgICAgICB0aGlzLmdldE9wdGlvbnMoKVxuXHQgICAgICApXG5cdCAgICApO1xuXHQgIH1cblx0fSk7XG5cdFxuXHRleHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDY5Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9zdHlsZTMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTtcblx0XG5cdHZhciBfdGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwKTtcblx0XG5cdHZhciBfdGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGFibGUpO1xuXHRcblx0dmFyIF9leHRlbmRzMiA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXHRcblx0dmFyIF9zdHlsZTQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdHZhciBfaWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpO1xuXHRcblx0dmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oODczKTtcblx0XG5cdHZhciBfTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0KTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTU0KTtcblx0XG5cdHZhciBfVGFibGVCb2R5V3JhcHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUJvZHlXcmFwcGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBMaXN0KF9yZWYpIHtcblx0ICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uLFxuXHQgICAgICBsb2FkaW5nID0gX3JlZi5sb2FkaW5nLFxuXHQgICAgICBkYXRhU291cmNlID0gX3JlZi5kYXRhU291cmNlLFxuXHQgICAgICBwYWdpbmF0aW9uID0gX3JlZi5wYWdpbmF0aW9uLFxuXHQgICAgICBvblBhZ2VDaGFuZ2UgPSBfcmVmLm9uUGFnZUNoYW5nZTtcblx0XG5cdCAgdmFyIGNvbHVtbnMgPSBbe1xuXHQgICAgdGl0bGU6ICforqLljZXlj7cnLFxuXHQgICAgZGF0YUluZGV4OiAnb3JkZXJfaWQnLFxuXHQgICAga2V5OiAnb3JkZXJfaWQnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfllYblk4HlkI3np7AnLFxuXHQgICAgZGF0YUluZGV4OiAndGl0bGUnLFxuXHQgICAga2V5OiAndGl0bGUnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfllYblk4Hph5Hpop0nLFxuXHQgICAgZGF0YUluZGV4OiAnc3ViX3RvdGFsJyxcblx0ICAgIGtleTogJ3N1Yl90b3RhbCdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+S8mOaDoOmHkeminScsXG5cdCAgICBkYXRhSW5kZXg6ICdkaXNjb3VudCcsXG5cdCAgICBrZXk6ICdkaXNjb3VudCdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+WunuS7mOmHkeminScsXG5cdCAgICBkYXRhSW5kZXg6ICd0b3RhbCcsXG5cdCAgICBrZXk6ICd0b3RhbCdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+aUr+S7mOaWueW8jycsXG5cdCAgICBkYXRhSW5kZXg6ICdwYXlfdHlwZScsXG5cdCAgICBrZXk6ICdwYXlfdHlwZSdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+iuouWNleeKtuaAgScsXG5cdCAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLFxuXHQgICAga2V5OiAnc3RhdHVzJyxcblx0ICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAnc3BhbicsXG5cdCAgICAgICAgbnVsbCxcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAxOiAn5pyq5pSv5LuYJyxcblx0ICAgICAgICAgIDI6ICflt7LlrozmiJAnLFxuXHQgICAgICAgICAgMzogJ+W3suWPlua2iCcsXG5cdCAgICAgICAgICA0OiAn5bey6LaF5pe2J1xuXHQgICAgICAgIH1bdmFsdWVdXG5cdCAgICAgICk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfmk43kvZzns7vnu58nLFxuXHQgICAgZGF0YUluZGV4OiAnb3MnLFxuXHQgICAga2V5OiAnb3MnLFxuXHQgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIodGV4dCkge1xuXHQgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgIG51bGwsXG5cdCAgICAgICAgdGV4dCA9PSAnMScgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICdzcGFuJyxcblx0ICAgICAgICAgIG51bGwsXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnYXBwbGUtbycsIHN0eWxlOiB7IGNvbG9yOiAncmdiKDE2MCwgMTYwLCAxNjApJyB9IH0pLFxuXHQgICAgICAgICAgJyBJT1MnXG5cdCAgICAgICAgKSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgJ3NwYW4nLFxuXHQgICAgICAgICAgbnVsbCxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9pY29uMi5kZWZhdWx0LCB7IHR5cGU6ICdhbmRyb2lkJywgc3R5bGU6IHsgY29sb3I6ICdyZ2IoMTcxLCAyMDUsIDUpJyB9IH0pLFxuXHQgICAgICAgICAgJyBBbmRyb2lkJ1xuXHQgICAgICAgIClcblx0ICAgICAgKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+eUqOaIt+aYteensCcsXG5cdCAgICBkYXRhSW5kZXg6ICd1c2VyX25hbWUnLFxuXHQgICAga2V5OiAndXNlcl9uYW1lJ1xuXHQgIH0sIHtcblx0ICAgIHRpdGxlOiAn55So5oi35omL5py6Jyxcblx0ICAgIGRhdGFJbmRleDogJ3VzZXJfcGhvbmUnLFxuXHQgICAga2V5OiAndXNlcl9waG9uZSdcblx0ICB9LCB7XG5cdCAgICB0aXRsZTogJ+aUr+S7mOaXtumXtCcsXG5cdCAgICBkYXRhSW5kZXg6ICdwYWlkX2F0Jyxcblx0ICAgIGtleTogJ3BhaWRfYXQnXG5cdCAgfSwge1xuXHQgICAgdGl0bGU6ICfliJvlu7rml7bpl7QnLFxuXHQgICAgZGF0YUluZGV4OiAnY3JlYXRlZF9hdCcsXG5cdCAgICBrZXk6ICdjcmVhdGVkX2F0J1xuXHQgIH1dO1xuXHRcblx0ICB2YXIgZ2V0Qm9keVdyYXBwZXJQcm9wcyA9IHtcblx0ICAgIHBhZ2U6IGxvY2F0aW9uLnF1ZXJ5LnBhZ2UsXG5cdCAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmN1cnJlbnRcblx0ICB9O1xuXHRcblx0ICB2YXIgZ2V0Qm9keVdyYXBwZXIgPSBmdW5jdGlvbiBnZXRCb2R5V3JhcHBlcihib2R5KSB7XG5cdCAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RhYmxlQm9keVdyYXBwZXIyLmRlZmF1bHQsICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIGdldEJvZHlXcmFwcGVyUHJvcHMsIHsgYm9keTogYm9keSB9KSk7XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF90YWJsZTIuZGVmYXVsdCwge1xuXHQgICAgY2xhc3NOYW1lOiBfTGlzdDIuZGVmYXVsdC50YWJsZSxcblx0ICAgIGJvcmRlcmVkOiB0cnVlLFxuXHQgICAgc2Nyb2xsOiB7IHg6IDEyMDAgfSxcblx0ICAgIGNvbHVtbnM6IGNvbHVtbnMsXG5cdCAgICBkYXRhU291cmNlOiBkYXRhU291cmNlLFxuXHQgICAgbG9hZGluZzogbG9hZGluZyxcblx0ICAgIG9uQ2hhbmdlOiBvblBhZ2VDaGFuZ2UsXG5cdCAgICBwYWdpbmF0aW9uOiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBwYWdpbmF0aW9uLCB7IHNob3dTaXplQ2hhbmdlcjogdHJ1ZSwgc2hvd1F1aWNrSnVtcGVyOiB0cnVlLCBzaG93VG90YWw6IGZ1bmN0aW9uIHNob3dUb3RhbCh0b3RhbCkge1xuXHQgICAgICAgIHJldHVybiAnXFx1NTE3MSAnICsgdG90YWwgKyAnIFxcdTY3NjEnO1xuXHQgICAgICB9IH0pLFxuXHQgICAgc2ltcGxlOiB0cnVlLFxuXHQgICAgcm93S2V5OiBmdW5jdGlvbiByb3dLZXkocmVjb3JkKSB7XG5cdCAgICAgIHJldHVybiByZWNvcmQub3JkZXJfaWQ7XG5cdCAgICB9LFxuXHQgICAgZ2V0Qm9keVdyYXBwZXI6IGdldEJvZHlXcmFwcGVyXG5cdCAgfSk7XG5cdH1cblx0XG5cdExpc3QucHJvcFR5cGVzID0ge1xuXHQgIG9uUGFnZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHQgIGRhdGFTb3VyY2U6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cdCAgbG9hZGluZzogX3JlYWN0LlByb3BUeXBlcy5hbnksXG5cdCAgcGFnaW5hdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnlcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IExpc3Q7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA2OTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc3R5bGU2ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7XG5cdFxuXHR2YXIgX3JvdyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkyKTtcblx0XG5cdHZhciBfcm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Jvdyk7XG5cdFxuXHR2YXIgX3N0eWxlNyA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9pY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cdFxuXHR2YXIgX3N0eWxlOCA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0dmFyIF9zZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblx0XG5cdHZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cdFxuXHR2YXIgX3N0eWxlOSA9IF9fd2VicGFja19yZXF1aXJlX18oMzE3KTtcblx0XG5cdHZhciBfZGF0ZVBpY2tlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzE1KTtcblx0XG5cdHZhciBfZGF0ZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kYXRlUGlja2VyKTtcblx0XG5cdHZhciBfc3R5bGUxMCA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Nik7XG5cdFxuXHR2YXIgX2Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZm9ybSk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9tb21lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdHZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cdFxuXHR2YXIgX1NlYXJjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0XG5cdHZhciBfU2VhcmNoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlYXJjaCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIEZvcm1JdGVtID0gX2Zvcm0yLmRlZmF1bHQuSXRlbTtcblx0dmFyIFJhbmdlUGlja2VyID0gX2RhdGVQaWNrZXIyLmRlZmF1bHQuUmFuZ2VQaWNrZXI7XG5cdHZhciBPcHRpb24gPSBfc2VsZWN0Mi5kZWZhdWx0Lk9wdGlvbjtcblx0XG5cdGZ1bmN0aW9uIFNlYXJjaChfcmVmKSB7XG5cdCAgdmFyIHBob25lID0gX3JlZi5waG9uZSxcblx0ICAgICAgc3RhcnRfZGF0ZSA9IF9yZWYuc3RhcnRfZGF0ZSxcblx0ICAgICAgZW5kX2RhdGUgPSBfcmVmLmVuZF9kYXRlLFxuXHQgICAgICBfcmVmJG9zID0gX3JlZi5vcyxcblx0ICAgICAgb3MgPSBfcmVmJG9zID09PSB1bmRlZmluZWQgPyAnJyA6IF9yZWYkb3MsXG5cdCAgICAgIF9yZWYkcGF5X3R5cGUgPSBfcmVmLnBheV90eXBlLFxuXHQgICAgICBwYXlfdHlwZSA9IF9yZWYkcGF5X3R5cGUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiRwYXlfdHlwZSxcblx0ICAgICAgX3JlZiRzdGF0dXMgPSBfcmVmLnN0YXR1cyxcblx0ICAgICAgc3RhdHVzID0gX3JlZiRzdGF0dXMgPT09IHVuZGVmaW5lZCA/ICcnIDogX3JlZiRzdGF0dXMsXG5cdCAgICAgIF9vblNlYXJjaCA9IF9yZWYub25TZWFyY2gsXG5cdCAgICAgIF9yZWYkZm9ybSA9IF9yZWYuZm9ybSxcblx0ICAgICAgZ2V0RmllbGREZWNvcmF0b3IgPSBfcmVmJGZvcm0uZ2V0RmllbGREZWNvcmF0b3IsXG5cdCAgICAgIHZhbGlkYXRlRmllbGRzID0gX3JlZiRmb3JtLnZhbGlkYXRlRmllbGRzLFxuXHQgICAgICBnZXRGaWVsZHNWYWx1ZSA9IF9yZWYkZm9ybS5nZXRGaWVsZHNWYWx1ZTtcblx0XG5cdCAgdmFyIHNlYXJjaEdyb3VwUHJvcHMgPSB7XG5cdCAgICBmaWVsZDogJ3Bob25lJyxcblx0ICAgIGtleXdvcmQ6IHBob25lLFxuXHQgICAgc2l6ZTogJ2xhcmdlJyxcblx0ICAgIHNlbGVjdDogdHJ1ZSxcblx0ICAgIHNlbGVjdE9wdGlvbnM6IFt7IHZhbHVlOiAncGhvbmUnLCBuYW1lOiAn5omL5py65Y+3JyB9XSxcblx0ICAgIHNlbGVjdFByb3BzOiB7XG5cdCAgICAgIGRlZmF1bHRWYWx1ZTogJ3Bob25lJ1xuXHQgICAgfSxcblx0ICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaCh2YWx1ZSkge1xuXHQgICAgICB2YWxpZGF0ZUZpZWxkcyhmdW5jdGlvbiAoZXJyb3JzLCB2YWx1ZXMpIHtcblx0ICAgICAgICBpZiAoZXJyb3JzKSB7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByYW5nZVZhbHVlID0gdmFsdWVzWydkYXRlJ107XG5cdFxuXHQgICAgICAgIHZhciBkYXRhID0ge307XG5cdCAgICAgICAgaWYgKCEhcmFuZ2VWYWx1ZS5sZW5ndGgpIHtcblx0ICAgICAgICAgIGRhdGEuc3RhcnRfZGF0ZSA9IHJhbmdlVmFsdWVbMF0uZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdCAgICAgICAgICBkYXRhLmVuZF9kYXRlID0gcmFuZ2VWYWx1ZVsxXS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCEhdmFsdWVzLm9zKSB7XG5cdCAgICAgICAgICBkYXRhLm9zID0gdmFsdWVzLm9zO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoISF2YWx1ZXMucGF5X3R5cGUpIHtcblx0ICAgICAgICAgIGRhdGEucGF5X3R5cGUgPSB2YWx1ZXMucGF5X3R5cGU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICghIXZhbHVlcy5zdGF0dXMpIHtcblx0ICAgICAgICAgIGRhdGEuc3RhdHVzID0gdmFsdWVzLnN0YXR1cztcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCEhdmFsdWUua2V5d29yZCkge1xuXHQgICAgICAgICAgLy8gZGF0YS5maWVsZCA9IHZhbHVlLmZpZWxkXG5cdCAgICAgICAgICAvLyBkYXRhLmtleXdvcmQgPSB2YWx1ZS5rZXl3b3JkXG5cdCAgICAgICAgICBkYXRhW3ZhbHVlLmZpZWxkXSA9IHZhbHVlLmtleXdvcmQ7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIF9vblNlYXJjaChkYXRhKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgX3JvdzIuZGVmYXVsdCxcblx0ICAgIG51bGwsXG5cdCAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgX2Zvcm0yLmRlZmF1bHQsXG5cdCAgICAgIHsgaW5saW5lOiB0cnVlIH0sXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgIHsgbGFiZWw6ICdcXHU1MjFCXFx1NUVGQVxcdTY1RTVcXHU2NzFGJywgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAyMCwgbWFyZ2luUmlnaHQ6IDQwIH0gfSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignZGF0ZScsIHtcblx0ICAgICAgICAgIGluaXRpYWxWYWx1ZTogc3RhcnRfZGF0ZSAmJiBlbmRfZGF0ZSA/IFsoMCwgX21vbWVudDIuZGVmYXVsdCkoc3RhcnRfZGF0ZSksICgwLCBfbW9tZW50Mi5kZWZhdWx0KShlbmRfZGF0ZSldIDogJydcblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChSYW5nZVBpY2tlciwgeyBzdHlsZTogeyB3aWR0aDogMjAwIH0gfSkpXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgIHsgbGFiZWw6ICdcXHU2NENEXFx1NEY1Q1xcdTdDRkJcXHU3RURGJywgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAyMCwgbWFyZ2luUmlnaHQ6IDQwIH0gfSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignb3MnLCB7XG5cdCAgICAgICAgICBpbml0aWFsVmFsdWU6IG9zXG5cdCAgICAgICAgfSkoX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICBfc2VsZWN0Mi5kZWZhdWx0LFxuXHQgICAgICAgICAgeyBzdHlsZTogeyB3aWR0aDogOTAgfSB9LFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJycgfSxcblx0ICAgICAgICAgICAgJ1xcdTUxNjhcXHU5MEU4J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6ICcxJyB9LFxuXHQgICAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfaWNvbjIuZGVmYXVsdCwgeyB0eXBlOiAnYXBwbGUtbycsIHN0eWxlOiB7IGNvbG9yOiAncmdiKDE2MCwgMTYwLCAxNjApJyB9IH0pLFxuXHQgICAgICAgICAgICAnIElPUydcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnMicgfSxcblx0ICAgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2ljb24yLmRlZmF1bHQsIHsgdHlwZTogJ2FuZHJvaWQnLCBzdHlsZTogeyBjb2xvcjogJ3JnYigxNzEsIDIwNSwgNSknIH0gfSksXG5cdCAgICAgICAgICAgICcgQW5kcm9pZCdcblx0ICAgICAgICAgIClcblx0ICAgICAgICApKVxuXHQgICAgICApLFxuXHQgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICBGb3JtSXRlbSxcblx0ICAgICAgICB7IGxhYmVsOiAnXFx1OEJBMlxcdTUzNTVcXHU3QzdCXFx1NTc4QicsIHN0eWxlOiB7IG1hcmdpbkJvdHRvbTogMjAsIG1hcmdpblJpZ2h0OiA0MCB9IH0sXG5cdCAgICAgICAgZ2V0RmllbGREZWNvcmF0b3IoJ3BheV90eXBlJywge1xuXHQgICAgICAgICAgaW5pdGlhbFZhbHVlOiBwYXlfdHlwZVxuXHQgICAgICAgIH0pKF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgX3NlbGVjdDIuZGVmYXVsdCxcblx0ICAgICAgICAgIHsgc3R5bGU6IHsgd2lkdGg6IDkwIH0gfSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6ICcnIH0sXG5cdCAgICAgICAgICAgICdcXHU1MTY4XFx1OTBFOCdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnbmInIH0sXG5cdCAgICAgICAgICAgICduYidcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnd3gnIH0sXG5cdCAgICAgICAgICAgICd3eCdcblx0ICAgICAgICAgICksXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnYWxpcGF5JyB9LFxuXHQgICAgICAgICAgICAnYWxpcGF5J1xuXHQgICAgICAgICAgKSxcblx0ICAgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgICAgICBPcHRpb24sXG5cdCAgICAgICAgICAgIHsgdmFsdWU6ICdpYXAnIH0sXG5cdCAgICAgICAgICAgICdpYXAnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJ2lvc19pbl9hcHAnIH0sXG5cdCAgICAgICAgICAgICdpb3NfaW5fYXBwJ1xuXHQgICAgICAgICAgKVxuXHQgICAgICAgICkpXG5cdCAgICAgICksXG5cdCAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuXHQgICAgICAgIEZvcm1JdGVtLFxuXHQgICAgICAgIHsgbGFiZWw6ICdcXHU4QkEyXFx1NTM1NVxcdTcyQjZcXHU2MDAxJywgc3R5bGU6IHsgbWFyZ2luQm90dG9tOiAyMCwgbWFyZ2luUmlnaHQ6IDQwIH0gfSxcblx0ICAgICAgICBnZXRGaWVsZERlY29yYXRvcignc3RhdHVzJywge1xuXHQgICAgICAgICAgaW5pdGlhbFZhbHVlOiBzdGF0dXNcblx0ICAgICAgICB9KShfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgIF9zZWxlY3QyLmRlZmF1bHQsXG5cdCAgICAgICAgICB7IHN0eWxlOiB7IHdpZHRoOiA5MCB9IH0sXG5cdCAgICAgICAgICBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICAgICAgICAgT3B0aW9uLFxuXHQgICAgICAgICAgICB7IHZhbHVlOiAnJyB9LFxuXHQgICAgICAgICAgICAnXFx1NTE2OFxcdTkwRTgnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzEnIH0sXG5cdCAgICAgICAgICAgICdcXHU2NzJBXFx1NjUyRlxcdTRFRDgnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzInIH0sXG5cdCAgICAgICAgICAgICdcXHU1REYyXFx1NUI4Q1xcdTYyMTAnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzMnIH0sXG5cdCAgICAgICAgICAgICdcXHU1REYyXFx1NTNENlxcdTZEODgnXG5cdCAgICAgICAgICApLFxuXHQgICAgICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgICAgIE9wdGlvbixcblx0ICAgICAgICAgICAgeyB2YWx1ZTogJzQnIH0sXG5cdCAgICAgICAgICAgICdcXHU1REYyXFx1OEQ4NVxcdTY1RjYnXG5cdCAgICAgICAgICApXG5cdCAgICAgICAgKSlcblx0ICAgICAgKSxcblx0ICAgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG5cdCAgICAgICAgRm9ybUl0ZW0sXG5cdCAgICAgICAgeyBzdHlsZTogeyBtYXJnaW5Cb3R0b206IDIwLCBmbG9hdDogJ3JpZ2h0JywgbWFyZ2luUmlnaHQ6IDAgfSB9LFxuXHQgICAgICAgIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TZWFyY2gyLmRlZmF1bHQsIHNlYXJjaEdyb3VwUHJvcHMpXG5cdCAgICAgIClcblx0ICAgIClcblx0ICApO1xuXHR9XG5cdFxuXHRTZWFyY2gucHJvcFR5cGVzID0ge1xuXHQgIGZvcm06IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cdCAgb25TZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0ICBmaWVsZDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdCAga2V5d29yZDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9mb3JtMi5kZWZhdWx0LmNyZWF0ZSgpKFNlYXJjaCk7XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MDY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVnZW5lcmF0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblx0XG5cdHZhciBfcmVnZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVnZW5lcmF0b3IpO1xuXHRcblx0dmFyIF9xcyA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHRcblx0dmFyIF9yb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTtcblx0XG5cdHZhciBfbGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzI1KTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7XG5cdCAgbmFtZXNwYWNlOiAnb3JkZXJMaXN0Jyxcblx0ICBzdGF0ZToge1xuXHQgICAgbGlzdDogW10sXG5cdCAgICBsb2FkaW5nOiBmYWxzZSxcblx0ICAgIHBhZ2luYXRpb246IHtcblx0ICAgICAgY3VycmVudDogMSxcblx0ICAgICAgcGFnZVNpemU6IDEwLFxuXHQgICAgICB0b3RhbDogbnVsbFxuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIHN1YnNjcmlwdGlvbnM6IHtcblx0ICAgIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfcmVmKSB7XG5cdCAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsXG5cdCAgICAgICAgICBoaXN0b3J5ID0gX3JlZi5oaXN0b3J5O1xuXHRcblx0ICAgICAgaGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdCAgICAgICAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG5cdCAgICAgICAgaWYgKHBhdGhuYW1lID09PSAnL29yZGVyL2xpc3QnKSB7XG5cdCAgICAgICAgICB2YXIgY3VyUG93ZXJzID0gKDAsIF91dGlscy5nZXRDdXJQb3dlcnMpKHBhdGhuYW1lKTtcblx0ICAgICAgICAgIGlmIChjdXJQb3dlcnMpIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzOiBjdXJQb3dlcnMgfSB9KTtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknIH0pO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgZGlzcGF0Y2goX3JvdXRlci5yb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdFxuXHQgIGVmZmVjdHM6IHtcblx0ICAgIHF1ZXJ5OiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQubWFyayhmdW5jdGlvbiBxdWVyeShfcmVmMiwgX3JlZjMpIHtcblx0ICAgICAgdmFyIHBheWxvYWQgPSBfcmVmMi5wYXlsb2FkO1xuXHQgICAgICB2YXIgc2VsZWN0ID0gX3JlZjMuc2VsZWN0LFxuXHQgICAgICAgICAgY2FsbCA9IF9yZWYzLmNhbGwsXG5cdCAgICAgICAgICBwdXQgPSBfcmVmMy5wdXQ7XG5cdCAgICAgIHZhciBwYXRoUXVlcnksIGRhdGE7XG5cdCAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IyLmRlZmF1bHQud3JhcChmdW5jdGlvbiBxdWVyeSQoX2NvbnRleHQpIHtcblx0ICAgICAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuXHQgICAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdzaG93TG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDI6XG5cdCAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdChmdW5jdGlvbiAoX3JlZjQpIHtcblx0ICAgICAgICAgICAgICAgIHZhciByb3V0aW5nID0gX3JlZjQucm91dGluZztcblx0ICAgICAgICAgICAgICAgIHJldHVybiByb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucXVlcnk7XG5cdCAgICAgICAgICAgICAgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDQ6XG5cdCAgICAgICAgICAgICAgcGF0aFF1ZXJ5ID0gX2NvbnRleHQuc2VudDtcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcblx0ICAgICAgICAgICAgICByZXR1cm4gY2FsbChfbGlzdC5xdWVyeSwgcGF0aFF1ZXJ5KTtcblx0XG5cdCAgICAgICAgICAgIGNhc2UgNzpcblx0ICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDtcblx0XG5cdCAgICAgICAgICAgICAgaWYgKCEoZGF0YSAmJiBkYXRhLnN1Y2Nlc3MpKSB7XG5cdCAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTtcblx0ICAgICAgICAgICAgICByZXR1cm4gcHV0KHtcblx0ICAgICAgICAgICAgICAgIHR5cGU6ICdxdWVyeVN1Y2Nlc3MnLFxuXHQgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuXHQgICAgICAgICAgICAgICAgICBsaXN0OiBkYXRhLmxpc3QsXG5cdCAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IGRhdGEucGFnZVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgY2FzZSAxMTpcblx0ICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHB1dCh7IHR5cGU6ICdoaWRlTG9hZGluZycgfSk7XG5cdFxuXHQgICAgICAgICAgICBjYXNlIDEzOlxuXHQgICAgICAgICAgICBjYXNlICdlbmQnOlxuXHQgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCBxdWVyeSwgdGhpcyk7XG5cdCAgICB9KVxuXHQgIH0sXG5cdFxuXHQgIHJlZHVjZXJzOiB7XG5cdCAgICBxdWVyeVN1Y2Nlc3M6IGZ1bmN0aW9uIHF1ZXJ5U3VjY2VzcyhzdGF0ZSwgYWN0aW9uKSB7XG5cdCAgICAgIHJldHVybiAoMCwgX2V4dGVuZHMzLmRlZmF1bHQpKHt9LCBzdGF0ZSwgYWN0aW9uLnBheWxvYWQpO1xuXHQgICAgfSxcblx0ICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbiBzaG93TG9hZGluZyhzdGF0ZSkge1xuXHQgICAgICByZXR1cm4gKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgc3RhdGUsIHsgbG9hZGluZzogdHJ1ZSB9KTtcblx0ICAgIH0sXG5cdCAgICBoaWRlTG9hZGluZzogZnVuY3Rpb24gaGlkZUxvYWRpbmcoc3RhdGUpIHtcblx0ICAgICAgcmV0dXJuICgwLCBfZXh0ZW5kczMuZGVmYXVsdCkoe30sIHN0YXRlLCB7IGxvYWRpbmc6IGZhbHNlIH0pO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG4vKioqLyB9LFxuXG4vKioqLyA3MTg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kczIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JvdXRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXHRcblx0dmFyIF9kdmEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0XG5cdHZhciBfTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oNjk3KTtcblx0XG5cdHZhciBfTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaXN0KTtcblx0XG5cdHZhciBfU2VhcmNoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpO1xuXHRcblx0dmFyIF9TZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VhcmNoKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfb3B0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oNzQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIE9yZGVyTGlzdChfcmVmKSB7XG5cdCAgdmFyIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcblx0ICAgICAgY3VyUG93ZXJzID0gX3JlZi5jdXJQb3dlcnMsXG5cdCAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcblx0ICAgICAgb3JkZXJMaXN0ID0gX3JlZi5vcmRlckxpc3Q7XG5cdCAgdmFyIGxpc3QgPSBvcmRlckxpc3QubGlzdCxcblx0ICAgICAgcGFnaW5hdGlvbiA9IG9yZGVyTGlzdC5wYWdpbmF0aW9uLFxuXHQgICAgICBsb2FkaW5nID0gb3JkZXJMaXN0LmxvYWRpbmc7XG5cdCAgdmFyIF9sb2NhdGlvbiRxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5LFxuXHQgICAgICBwaG9uZSA9IF9sb2NhdGlvbiRxdWVyeS5waG9uZSxcblx0ICAgICAgc3RhcnRfZGF0ZSA9IF9sb2NhdGlvbiRxdWVyeS5zdGFydF9kYXRlLFxuXHQgICAgICBlbmRfZGF0ZSA9IF9sb2NhdGlvbiRxdWVyeS5lbmRfZGF0ZSxcblx0ICAgICAgb3MgPSBfbG9jYXRpb24kcXVlcnkub3MsXG5cdCAgICAgIHBheV90eXBlID0gX2xvY2F0aW9uJHF1ZXJ5LnBheV90eXBlLFxuXHQgICAgICBzdGF0dXMgPSBfbG9jYXRpb24kcXVlcnkuc3RhdHVzO1xuXHRcblx0XG5cdCAgdmFyIHNlYXJjaFByb3BzID0ge1xuXHQgICAgcGhvbmU6IHBob25lLCBzdGFydF9kYXRlOiBzdGFydF9kYXRlLCBlbmRfZGF0ZTogZW5kX2RhdGUsIG9zOiBvcywgcGF5X3R5cGU6IHBheV90eXBlLCBzdGF0dXM6IHN0YXR1cyxcblx0ICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaChmaWVsZHNWYWx1ZSkge1xuXHQgICAgICBkaXNwYXRjaChfcm91dGVyLnJvdXRlclJlZHV4LnB1c2goe1xuXHQgICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcblx0ICAgICAgICBxdWVyeTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgZmllbGRzVmFsdWUpXG5cdCAgICAgIH0pKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICB2YXIgbGlzdFByb3BzID0ge1xuXHQgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuXHQgICAgZGF0YVNvdXJjZTogbGlzdCxcblx0ICAgIGxvYWRpbmc6IGxvYWRpbmcsXG5cdCAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLFxuXHQgICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UocGFnZSkge1xuXHQgICAgICB2YXIgcXVlcnkgPSBsb2NhdGlvbi5xdWVyeSxcblx0ICAgICAgICAgIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG5cdFxuXHQgICAgICBkaXNwYXRjaChfcm91dGVyLnJvdXRlclJlZHV4LnB1c2goe1xuXHQgICAgICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcblx0ICAgICAgICBxdWVyeTogKDAsIF9leHRlbmRzMy5kZWZhdWx0KSh7fSwgcXVlcnksIHtcblx0ICAgICAgICAgIHBhZ2U6IHBhZ2UuY3VycmVudCxcblx0ICAgICAgICAgIHBhZ2VTaXplOiBwYWdlLnBhZ2VTaXplXG5cdCAgICAgICAgfSlcblx0ICAgICAgfSkpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcblx0ICAgICdkaXYnLFxuXHQgICAgeyBjbGFzc05hbWU6ICdjb250ZW50LWlubmVyJyB9LFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1NlYXJjaDIuZGVmYXVsdCwgc2VhcmNoUHJvcHMpLFxuXHQgICAgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0xpc3QyLmRlZmF1bHQsIGxpc3RQcm9wcylcblx0ICApO1xuXHR9XG5cdFxuXHRPcmRlckxpc3QucHJvcFR5cGVzID0ge1xuXHQgIG9yZGVyTGlzdDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG5cdCAgbG9jYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHQgIGRpc3BhdGNoOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcblx0fTtcblx0XG5cdGZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhfcmVmMikge1xuXHQgIHZhciBvcmRlckxpc3QgPSBfcmVmMi5vcmRlckxpc3Q7XG5cdFxuXHQgIHJldHVybiB7IG9yZGVyTGlzdDogb3JkZXJMaXN0IH07XG5cdH1cblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfZHZhLmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcykoT3JkZXJMaXN0KTtcblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cbi8qKiovIH0sXG5cbi8qKiovIDcyNTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnF1ZXJ5ID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXHRcblx0dmFyIF9yZWdlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWdlbmVyYXRvcik7XG5cdFxuXHR2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHRcblx0dmFyIF9hc3luY1RvR2VuZXJhdG9yMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FzeW5jVG9HZW5lcmF0b3IyKTtcblx0XG5cdHZhciBxdWVyeSA9IGV4cG9ydHMucXVlcnkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IzLmRlZmF1bHQpKF9yZWdlbmVyYXRvcjIuZGVmYXVsdC5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW1zKSB7XG5cdCAgICByZXR1cm4gX3JlZ2VuZXJhdG9yMi5kZWZhdWx0LndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcblx0ICAgICAgd2hpbGUgKDEpIHtcblx0ICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG5cdCAgICAgICAgICBjYXNlIDA6XG5cdCAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoJ3JldHVybicsICgwLCBfdXRpbHMucmVxdWVzdCkoJy9kYXNoYm9hcmQtb3JkZXIvbGlzdCcsIHtcblx0ICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuXHQgICAgICAgICAgICAgIGRhdGE6IHBhcmFtc1xuXHQgICAgICAgICAgICB9KSk7XG5cdFxuXHQgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgY2FzZSAnZW5kJzpcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0sIF9jYWxsZWUsIHRoaXMpO1xuXHQgIH0pKTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHF1ZXJ5KF94KSB7XG5cdCAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciBfdXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKiovIH0sXG5cbi8qKiovIDg3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widGFibGVcIjpcInRhYmxlX19fM2UzcnpcIixcIndhcm5pbmdcIjpcIndhcm5pbmdfX18zOUFSQlwiLFwiZGFuZ2VyXCI6XCJkYW5nZXJfX18xd3hicFwifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTIyMDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXywgX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX21vZHVsZV90ZW1wbGF0ZV9hcmd1bWVudF8wX18pO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogb3JkZXItbGlzdC5qc1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yY0NoZWNrYm94ID0gcmVxdWlyZSgncmMtY2hlY2tib3gnKTtcblxudmFyIF9yY0NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2hlY2tib3gpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfR3JvdXAgPSByZXF1aXJlKCcuL0dyb3VwJyk7XG5cbnZhciBfR3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JvdXApO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBfX3Jlc3QgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcblxudmFyIENoZWNrYm94ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENoZWNrYm94KCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94KTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIENoZWNrYm94LnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfYS5pbmRldGVybWluYXRlLFxuICAgICAgICAgICAgb25Nb3VzZUVudGVyID0gX2Eub25Nb3VzZUVudGVyLFxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlID0gX2Eub25Nb3VzZUxlYXZlLFxuICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJwcmVmaXhDbHNcIiwgXCJzdHlsZVwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwiaW5kZXRlcm1pbmF0ZVwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiXSk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjbGFzc05hbWUsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctd3JhcHBlcicsIHRydWUpKTtcbiAgICAgICAgdmFyIGNoZWNrYm94Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJlZml4Q2xzICsgJy1pbmRldGVybWluYXRlJywgaW5kZXRlcm1pbmF0ZSkpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSwgb25Nb3VzZUVudGVyOiBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZTogb25Nb3VzZUxlYXZlIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY0NoZWNrYm94MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcmVzdFByb3BzLCB7IHByZWZpeENsczogcHJlZml4Q2xzLCBjbGFzc05hbWU6IGNoZWNrYm94Q2xhc3MsIGNoaWxkcmVuOiBudWxsIH0pKSxcbiAgICAgICAgICAgIGNoaWxkcmVuICE9PSB1bmRlZmluZWQgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApIDogbnVsbFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ2hlY2tib3g7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5cbkNoZWNrYm94Lkdyb3VwID0gX0dyb3VwMltcImRlZmF1bHRcIl07XG5DaGVja2JveC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LWNoZWNrYm94JyxcbiAgICBpbmRldGVybWluYXRlOiBmYWxzZVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2NoZWNrYm94L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUgPSBleHBvcnRzLlVOU0VMRUNUQUJMRV9TVFlMRSA9IHVuZGVmaW5lZDtcbmV4cG9ydHMuZ2V0VmFsdWVQcm9wVmFsdWUgPSBnZXRWYWx1ZVByb3BWYWx1ZTtcbmV4cG9ydHMuZ2V0UHJvcFZhbHVlID0gZ2V0UHJvcFZhbHVlO1xuZXhwb3J0cy5pc0NvbWJvYm94ID0gaXNDb21ib2JveDtcbmV4cG9ydHMuaXNNdWx0aXBsZU9yVGFncyA9IGlzTXVsdGlwbGVPclRhZ3M7XG5leHBvcnRzLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94ID0gaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3g7XG5leHBvcnRzLmlzU2luZ2xlTW9kZSA9IGlzU2luZ2xlTW9kZTtcbmV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XG5leHBvcnRzLnByZXZlbnREZWZhdWx0RXZlbnQgPSBwcmV2ZW50RGVmYXVsdEV2ZW50O1xuZXhwb3J0cy5maW5kSW5kZXhJblZhbHVlQnlLZXkgPSBmaW5kSW5kZXhJblZhbHVlQnlLZXk7XG5leHBvcnRzLmZpbmRJbmRleEluVmFsdWVCeUxhYmVsID0gZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWw7XG5leHBvcnRzLmdldFNlbGVjdEtleXMgPSBnZXRTZWxlY3RLZXlzO1xuZXhwb3J0cy5maW5kRmlyc3RNZW51SXRlbSA9IGZpbmRGaXJzdE1lbnVJdGVtO1xuZXhwb3J0cy5pbmNsdWRlc1NlcGFyYXRvcnMgPSBpbmNsdWRlc1NlcGFyYXRvcnM7XG5leHBvcnRzLnNwbGl0QnlTZXBhcmF0b3JzID0gc3BsaXRCeVNlcGFyYXRvcnM7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFZhbHVlUHJvcFZhbHVlKGNoaWxkKSB7XG4gIHZhciBwcm9wcyA9IGNoaWxkLnByb3BzO1xuICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy52YWx1ZTtcbiAgfVxuICBpZiAoY2hpbGQua2V5KSB7XG4gICAgcmV0dXJuIGNoaWxkLmtleTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ25vIGtleSBvciB2YWx1ZSBmb3IgJyArIGNoaWxkKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcFZhbHVlKGNoaWxkLCBwcm9wKSB7XG4gIGlmIChwcm9wID09PSAndmFsdWUnKSB7XG4gICAgcmV0dXJuIGdldFZhbHVlUHJvcFZhbHVlKGNoaWxkKTtcbiAgfVxuICByZXR1cm4gY2hpbGQucHJvcHNbcHJvcF07XG59XG5cbmZ1bmN0aW9uIGlzQ29tYm9ib3gocHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLmNvbWJvYm94O1xufVxuXG5mdW5jdGlvbiBpc011bHRpcGxlT3JUYWdzKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5tdWx0aXBsZSB8fCBwcm9wcy50YWdzO1xufVxuXG5mdW5jdGlvbiBpc011bHRpcGxlT3JUYWdzT3JDb21ib2JveChwcm9wcykge1xuICByZXR1cm4gaXNNdWx0aXBsZU9yVGFncyhwcm9wcykgfHwgaXNDb21ib2JveChwcm9wcyk7XG59XG5cbmZ1bmN0aW9uIGlzU2luZ2xlTW9kZShwcm9wcykge1xuICByZXR1cm4gIWlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KHByb3BzKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSkge1xuICB2YXIgcmV0ID0gdmFsdWU7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0ID0gW107XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0ID0gW3ZhbHVlXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEV2ZW50KGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBmaW5kSW5kZXhJblZhbHVlQnlLZXkodmFsdWUsIGtleSkge1xuICB2YXIgaW5kZXggPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZVtpXS5rZXkgPT09IGtleSkge1xuICAgICAgaW5kZXggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwodmFsdWUsIGxhYmVsKSB7XG4gIHZhciBpbmRleCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHRvQXJyYXkodmFsdWVbaV0ubGFiZWwpLmpvaW4oJycpID09PSBsYWJlbCkge1xuICAgICAgaW5kZXggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0S2V5cyhtZW51SXRlbXMsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHZhciBzZWxlY3RlZEtleXMgPSBbXTtcbiAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChtZW51SXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0udHlwZS5pc01lbnVJdGVtR3JvdXApIHtcbiAgICAgIHNlbGVjdGVkS2V5cyA9IHNlbGVjdGVkS2V5cy5jb25jYXQoZ2V0U2VsZWN0S2V5cyhpdGVtLnByb3BzLmNoaWxkcmVuLCB2YWx1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlbVZhbHVlID0gZ2V0VmFsdWVQcm9wVmFsdWUoaXRlbSk7XG4gICAgICB2YXIgaXRlbUtleSA9IGl0ZW0ua2V5O1xuICAgICAgaWYgKGZpbmRJbmRleEluVmFsdWVCeUtleSh2YWx1ZSwgaXRlbVZhbHVlKSAhPT0gLTEgJiYgaXRlbUtleSkge1xuICAgICAgICBzZWxlY3RlZEtleXMucHVzaChpdGVtS2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc2VsZWN0ZWRLZXlzO1xufVxuXG52YXIgVU5TRUxFQ1RBQkxFX1NUWUxFID0gZXhwb3J0cy5VTlNFTEVDVEFCTEVfU1RZTEUgPSB7XG4gIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgV2Via2l0VXNlclNlbGVjdDogJ25vbmUnXG59O1xuXG52YXIgVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IGV4cG9ydHMuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSA9IHtcbiAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJ1xufTtcblxuZnVuY3Rpb24gZmluZEZpcnN0TWVudUl0ZW0oY2hpbGRyZW4pIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChjaGlsZC50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuICAgICAgdmFyIGZvdW5kID0gZmluZEZpcnN0TWVudUl0ZW0oY2hpbGQucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXNTZXBhcmF0b3JzKHN0cmluZywgc2VwYXJhdG9ycykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcGFyYXRvcnMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoc3RyaW5nLmxhc3RJbmRleE9mKHNlcGFyYXRvcnNbaV0pID4gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc3BsaXRCeVNlcGFyYXRvcnMoc3RyaW5nLCBzZXBhcmF0b3JzKSB7XG4gIHZhciByZWcgPSBuZXcgUmVnRXhwKCdbJyArIHNlcGFyYXRvcnMuam9pbigpICsgJ10nKTtcbiAgdmFyIGFycmF5ID0gc3RyaW5nLnNwbGl0KHJlZyk7XG4gIGlmIChhcnJheVswXSA9PT0gJycpIHtcbiAgICBhcnJheS5zaGlmdCgpO1xuICB9XG4gIGlmIChhcnJheVthcnJheS5sZW5ndGggLSAxXSA9PT0gJycpIHtcbiAgICBhcnJheS5wb3AoKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi91dGlsLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy50b0FycmF5Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW47XG5leHBvcnRzLmRhdGFUb0FycmF5ID0gZGF0YVRvQXJyYXk7XG5leHBvcnRzLm9iamVjdEVxdWFsID0gb2JqZWN0RXF1YWw7XG5leHBvcnRzLmZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSA9IGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleTtcbmV4cG9ydHMubWVyZ2VDaGlsZHJlbiA9IG1lcmdlQ2hpbGRyZW47XG5leHBvcnRzLnRyYW5zZm9ybUFyZ3VtZW50cyA9IHRyYW5zZm9ybUFyZ3VtZW50cztcbmV4cG9ydHMuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMgPSBnZXRDaGlsZHJlbkZyb21Qcm9wcztcbmV4cG9ydHMuc3RhcnRDb252ZXJ0VG9FbmRVbml0ID0gc3RhcnRDb252ZXJ0VG9FbmRVbml0O1xuZXhwb3J0cy5wYXJzZVBhdGggPSBwYXJzZVBhdGg7XG5leHBvcnRzLmdldFRyYW5zZm9ybVZhbHVlID0gZ2V0VHJhbnNmb3JtVmFsdWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9kZWVwRXFsID0gcmVxdWlyZSgnZGVlcC1lcWwnKTtcblxudmFyIF9kZWVwRXFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBFcWwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9BcnJheUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcbiAgICByZXQucHVzaChjKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGRhdGFUb0FycmF5KHZhcnMpIHtcbiAgaWYgKCF2YXJzICYmIHZhcnMgIT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFycykpIHtcbiAgICByZXR1cm4gdmFycztcbiAgfVxuICByZXR1cm4gW3ZhcnNdO1xufVxuXG5mdW5jdGlvbiBvYmplY3RFcXVhbChvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxID09PSBvYmoyIHx8ICgwLCBfZGVlcEVxbDJbXCJkZWZhdWx0XCJdKShvYmoxLCBvYmoyKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghb2JqMSB8fCAhb2JqMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBhbmltYXRpb24g5YaZ5Zyo5qCH562+5LiK55qE6L+b6KGM5Yik5pat5piv5ZCm55u4562J77yMIOWIpOaWreavj+S4quWPguaVsOacieayoeaciSBmdW5jdGlvbjtcbiAgdmFyIGVxdWFsQm9vbCA9IHRydWU7XG4gIGlmIChBcnJheS5pc0FycmF5KG9iajEpICYmIEFycmF5LmlzQXJyYXkob2JqMikpIHtcbiAgICBpZiAob2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1cnJlbnRPYmogPSBvYmoxW2ldO1xuICAgICAgdmFyIG5leHRPYmogPSBvYmoyW2ldO1xuICAgICAgZm9yICh2YXIgcCBpbiBjdXJyZW50T2JqKSB7XG4gICAgICAgIGlmIChjdXJyZW50T2JqW3BdICE9PSBuZXh0T2JqW3BdKSB7XG4gICAgICAgICAgaWYgKF90eXBlb2YoY3VycmVudE9ialtwXSkgPT09ICdvYmplY3QnICYmIF90eXBlb2YobmV4dE9ialtwXSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBlcXVhbEJvb2wgPSBvYmplY3RFcXVhbChjdXJyZW50T2JqW3BdLCBuZXh0T2JqW3BdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50T2JqW3BdID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBuZXh0T2JqW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudE9ialtwXS5uYW1lICE9PSBuZXh0T2JqW3BdLm5hbWUpIHtcbiAgICAgICAgICAgICAgZXF1YWxCb29sID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBzZXRFcXVhbEJvb2wgPSBmdW5jdGlvbiBzZXRFcXVhbEJvb2wob2JqQSwgb2JqQikge1xuICAgIE9iamVjdC5rZXlzKG9iakEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCEoa2V5IGluIG9iakIpKSB7XG4gICAgICAgIGVxdWFsQm9vbCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3R5cGVvZihvYmpBW2tleV0pID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG9iakJba2V5XSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGVxdWFsQm9vbCA9IG9iamVjdEVxdWFsKG9iakFba2V5XSwgb2JqQltrZXldKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iakFba2V5XSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqQltrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChvYmpBW2tleV0ubmFtZSAhPT0gb2JqQltrZXldLm5hbWUpIHtcbiAgICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChvYmpBW2tleV0gIT09IG9iakJba2V5XSkge1xuICAgICAgICBlcXVhbEJvb2wgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBzZXRFcXVhbEJvb2wob2JqMSwgb2JqMik7XG4gIHNldEVxdWFsQm9vbChvYmoyLCBvYmoxKTtcbiAgcmV0dXJuIGVxdWFsQm9vbDtcbn1cblxuZnVuY3Rpb24gZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KGNoaWxkcmVuLCBrZXkpIHtcbiAgdmFyIHJldCA9IG51bGw7XG4gIGlmIChjaGlsZHJlbikge1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChyZXQgfHwgIWMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGMua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0ID0gYztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBtZXJnZUNoaWxkcmVuKHByZXYsIG5leHQpIHtcbiAgdmFyIHJldCA9IFtdO1xuICAvLyBGb3IgZWFjaCBrZXkgb2YgYG5leHRgLCB0aGUgbGlzdCBvZiBrZXlzIHRvIGluc2VydCBiZWZvcmUgdGhhdCBrZXkgaW5cbiAgLy8gdGhlIGNvbWJpbmVkIGxpc3RcbiAgdmFyIG5leHRDaGlsZHJlblBlbmRpbmcgPSB7fTtcbiAgdmFyIHBlbmRpbmdDaGlsZHJlbiA9IFtdO1xuICB2YXIgZm9sbG93Q2hpbGRyZW5LZXkgPSB2b2lkIDA7XG4gIHByZXYuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgIGlmICghYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KG5leHQsIGMua2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgbmV4dENoaWxkcmVuUGVuZGluZ1tjLmtleV0gPSBwZW5kaW5nQ2hpbGRyZW47XG4gICAgICAgIHBlbmRpbmdDaGlsZHJlbiA9IFtdO1xuICAgICAgfVxuICAgICAgZm9sbG93Q2hpbGRyZW5LZXkgPSBjLmtleTtcbiAgICB9IGVsc2UgaWYgKGMua2V5KSB7XG4gICAgICBwZW5kaW5nQ2hpbGRyZW4ucHVzaChjKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoIWZvbGxvd0NoaWxkcmVuS2V5KSB7XG4gICAgcmV0ID0gcmV0LmNvbmNhdChwZW5kaW5nQ2hpbGRyZW4pO1xuICB9XG5cbiAgbmV4dC5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgaWYgKCFjKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuZXh0Q2hpbGRyZW5QZW5kaW5nLmhhc093blByb3BlcnR5KGMua2V5KSkge1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChuZXh0Q2hpbGRyZW5QZW5kaW5nW2Mua2V5XSk7XG4gICAgfVxuICAgIHJldC5wdXNoKGMpO1xuICAgIGlmIChjLmtleSA9PT0gZm9sbG93Q2hpbGRyZW5LZXkpIHtcbiAgICAgIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybUFyZ3VtZW50cyhhcmcsIGtleSwgaSkge1xuICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJlc3VsdCA9IGFyZyh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGluZGV4OiBpXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gYXJnO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSB7XG4gIHJldHVybiBwcm9wcyAmJiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gc3RhcnRDb252ZXJ0VG9FbmRVbml0KHRhcmdldCwgc3R5bGUsIG51bSwgdW5pdCwgZGF0YVVuaXQsIGZpeGVkLCBpc09yaWdpbldpZHRoKSB7XG4gIHZhciBob3JpeiA9IC8oPzpMZWZ0fFJpZ2h0fFdpZHRofFgpL2kudGVzdChzdHlsZSkgfHwgaXNPcmlnaW5XaWR0aDtcbiAgdmFyIHQgPSBzdHlsZS5pbmRleE9mKCdib3JkZXInKSAhPT0gLTEgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuICB0ID0gZml4ZWQgPyBkb2N1bWVudC5ib2R5IDogdDtcbiAgdmFyIHBpeCA9IHZvaWQgMDtcblxuICBpZiAodW5pdCA9PT0gJyUnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gMTAwICogKGhvcml6ID8gdC5jbGllbnRXaWR0aCA6IHQuY2xpZW50SGVpZ2h0KTtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndncnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAvIDEwMDtcbiAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pICogZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgLyAxMDA7XG4gIH0gZWxzZSBpZiAodW5pdCAmJiB1bml0Lm1hdGNoKC9lbS9pKSkge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKSAqIDE2O1xuICB9IGVsc2Uge1xuICAgIHBpeCA9IHBhcnNlRmxvYXQobnVtKTtcbiAgfVxuICBpZiAoZGF0YVVuaXQgPT09ICclJykge1xuICAgIHBpeCA9IHBpeCAqIDEwMCAvIChob3JpeiA/IHQuY2xpZW50V2lkdGggOiB0LmNsaWVudEhlaWdodCk7XG4gIH0gZWxzZSBpZiAoZGF0YVVuaXQgPT09ICd2dycpIHtcbiAgICBwaXggPSBwYXJzZUZsb2F0KG51bSkgLyBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogMTAwO1xuICB9IGVsc2UgaWYgKGRhdGFVbml0ID09PSAndmgnKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAxMDA7XG4gIH0gZWxzZSBpZiAoZGF0YVVuaXQgJiYgZGF0YVVuaXQubWF0Y2goL2VtL2kpKSB7XG4gICAgcGl4ID0gcGFyc2VGbG9hdChudW0pIC8gMTY7XG4gIH1cbiAgcmV0dXJuIHBpeDtcbn1cblxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoID09PSAnc3RyaW5nJykge1xuICAgIGlmIChwYXRoLmNoYXJBdCgwKS5tYXRjaCgvbS9pKSkge1xuICAgICAgdmFyIGRvbVBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgICAgIGRvbVBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBwYXRoKTtcbiAgICAgIHJldHVybiBkb21QYXRoO1xuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXRoKTtcbiAgfSBlbHNlIGlmIChwYXRoLnN0eWxlKSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB3aGlsZSBwYXJzaW5nIHRoZSBwYXRoJyk7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVZhbHVlKHQsIHN1cHBvcnRzM0QpIHtcbiAgaWYgKHR5cGVvZiB0ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0O1xuICB9XG4gIHZhciBwZXJzcGVjdGl2ZSA9IHQucGVyc3BlY3RpdmU7XG4gIHZhciBhbmdsZSA9IHQucm90YXRlO1xuICB2YXIgcm90YXRlWCA9IHQucm90YXRlWDtcbiAgdmFyIHJvdGF0ZVkgPSB0LnJvdGF0ZVk7XG4gIHZhciBzeCA9IHQuc2NhbGVYO1xuICB2YXIgc3kgPSB0LnNjYWxlWTtcbiAgdmFyIHN6ID0gdC5zY2FsZVo7XG4gIHZhciBza3ggPSB0LnNrZXdYO1xuICB2YXIgc2t5ID0gdC5za2V3WTtcbiAgdmFyIHhQZXJjZW50ID0gdC54UGVyY2VudCB8fCAwO1xuICB2YXIgeVBlcmNlbnQgPSB0LnlQZXJjZW50IHx8IDA7XG4gIHZhciB0cmFuc2xhdGVYID0geFBlcmNlbnQgPyAwIDogdC50cmFuc2xhdGVYO1xuICB2YXIgdHJhbnNsYXRlWSA9IHlQZXJjZW50ID8gMCA6IHQudHJhbnNsYXRlWTtcbiAgdmFyIHRyYW5zbGF0ZVogPSB0LnRyYW5zbGF0ZVogfHwgMDtcbiAgdmFyIHBlcmNlbnQgPSB4UGVyY2VudCB8fCB5UGVyY2VudCA/ICd0cmFuc2xhdGUoJyArICh4UGVyY2VudCB8fCB0cmFuc2xhdGVYICsgJ3B4JykgKyAnLCcgKyAoeVBlcmNlbnQgfHwgdHJhbnNsYXRlWSArICdweCcpICsgJyknIDogJyc7XG4gIHZhciBzayA9IHNreCB8fCBza3kgPyAnc2tldygnICsgc2t4ICsgJ2RlZywnICsgc2t5ICsgJ2RlZyknIDogJyc7XG4gIHZhciBhbiA9IGFuZ2xlID8gJ3JvdGF0ZSgnICsgYW5nbGUgKyAnZGVnKScgOiAnJztcbiAgdmFyIHNzID0gdm9pZCAwO1xuICBpZiAoIXBlcnNwZWN0aXZlICYmICFyb3RhdGVYICYmICFyb3RhdGVZICYmICF0cmFuc2xhdGVaICYmIHN6ID09PSAxIHx8ICFzdXBwb3J0czNEKSB7XG4gICAgc3MgPSBzeCAhPT0gMSB8fCBzeSAhPT0gMSA/ICdzY2FsZSgnICsgc3ggKyAnLCcgKyBzeSArICcpJyA6ICcnO1xuICAgIHZhciB0cmFuc2xhdGUgPSBwZXJjZW50IHx8ICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZVggKyAncHgsJyArIHRyYW5zbGF0ZVkgKyAncHgpJztcbiAgICByZXR1cm4gdHJhbnNsYXRlICsgJyAnICsgYW4gKyAnICcgKyBzcyArICcgJyArIHNrO1xuICB9XG4gIHNzID0gc3ggIT09IDEgfHwgc3kgIT09IDEgfHwgc3ogIT09IDEgPyAnc2NhbGUzZCgnICsgc3ggKyAnLCcgKyBzeSArICcsJyArIHN6ICsgJyknIDogJyc7XG4gIHZhciByWCA9IHJvdGF0ZVggPyAncm90YXRlWCgnICsgcm90YXRlWCArICdkZWcpJyA6ICcnO1xuICB2YXIgclkgPSByb3RhdGVZID8gJ3JvdGF0ZVkoJyArIHJvdGF0ZVkgKyAnZGVnKScgOiAnJztcbiAgdmFyIHBlciA9IHBlcnNwZWN0aXZlID8gJ3BlcnNwZWN0aXZlKCcgKyBwZXJzcGVjdGl2ZSArICdweCknIDogJyc7XG4gIHZhciB0cmFuc2xhdGUzZCA9IHBlcmNlbnQgPyBwZXJjZW50ICsgJyB0cmFuc2xhdGUzZCgwLDAsJyArIHRyYW5zbGF0ZVogKyAncHgpJyA6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlWCArICdweCwnICsgdHJhbnNsYXRlWSArICdweCwnICsgdHJhbnNsYXRlWiArICdweCknO1xuICByZXR1cm4gcGVyICsgJyAnICsgdHJhbnNsYXRlM2QgKyAnICcgKyBzcyArICcgJyArIGFuICsgJyAnICsgclggKyAnICcgKyByWSArICcgJyArIHNrO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvdXRpbC5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjU2VsZWN0ID0gcmVxdWlyZSgncmMtc2VsZWN0Jyk7XG5cbnZhciBfcmNTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNTZWxlY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbi8vID0+IEl0IGlzIG5lZWRsZXNzIHRvIGV4cG9ydCB0aGUgZGVjbGFyYXRpb24gb2YgYmVsb3cgdHdvIGlubmVyIGNvbXBvbmVudHMuXG4vLyBleHBvcnQgeyBPcHRpb24sIE9wdEdyb3VwIH07XG52YXIgU2VsZWN0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWxlY3QoKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0KTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIFNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG4gICAgICAgICAgICBzaXplID0gX3Byb3BzLnNpemUsXG4gICAgICAgICAgICBjb21ib2JveCA9IF9wcm9wcy5jb21ib2JveDtcbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgX3Byb3BzMiRub3RGb3VuZENvbnRlID0gX3Byb3BzMi5ub3RGb3VuZENvbnRlbnQsXG4gICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSBfcHJvcHMyJG5vdEZvdW5kQ29udGUgPT09IHVuZGVmaW5lZCA/ICdOb3QgRm91bmQnIDogX3Byb3BzMiRub3RGb3VuZENvbnRlLFxuICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wID0gX3Byb3BzMi5vcHRpb25MYWJlbFByb3A7XG5cbiAgICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1sZycsIHNpemUgPT09ICdsYXJnZScpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXNtJywgc2l6ZSA9PT0gJ3NtYWxsJyksIF9jbGFzc05hbWVzKSwgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGFudExvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGU7XG5cbiAgICAgICAgaWYgKGFudExvY2FsZSAmJiBhbnRMb2NhbGUuU2VsZWN0KSB7XG4gICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSAnbm90Rm91bmRDb250ZW50JyBpbiB0aGlzLnByb3BzID8gbm90Rm91bmRDb250ZW50IDogYW50TG9jYWxlLlNlbGVjdC5ub3RGb3VuZENvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbWJvYm94KSB7XG4gICAgICAgICAgICBub3RGb3VuZENvbnRlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gY2hpbGRyZW4g5bimIGRvbSDnu5PmnoTml7bvvIzml6Dms5XloavlhaXovpPlhaXmoYZcbiAgICAgICAgICAgIG9wdGlvbkxhYmVsUHJvcCA9IG9wdGlvbkxhYmVsUHJvcCB8fCAndmFsdWUnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1NlbGVjdDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHRoaXMucHJvcHMsIHsgY2xhc3NOYW1lOiBjbHMsIG9wdGlvbkxhYmVsUHJvcDogb3B0aW9uTGFiZWxQcm9wIHx8ICdjaGlsZHJlbicsIG5vdEZvdW5kQ29udGVudDogbm90Rm91bmRDb250ZW50IH0pKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlbGVjdDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBTZWxlY3Q7XG5cblNlbGVjdC5PcHRpb24gPSBfcmNTZWxlY3QuT3B0aW9uO1xuU2VsZWN0Lk9wdEdyb3VwID0gX3JjU2VsZWN0Lk9wdEdyb3VwO1xuU2VsZWN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtc2VsZWN0JyxcbiAgICBzaG93U2VhcmNoOiBmYWxzZSxcbiAgICB0cmFuc2l0aW9uTmFtZTogJ3NsaWRlLXVwJyxcbiAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogJ3pvb20nXG59O1xuU2VsZWN0LnByb3BUeXBlcyA9IHtcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2l6ZTogX3JlYWN0LlByb3BUeXBlcy5vbmVPZihbJ2RlZmF1bHQnLCAnbGFyZ2UnLCAnc21hbGwnXSksXG4gICAgY29tYm9ib3g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBub3RGb3VuZENvbnRlbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHNob3dTZWFyY2g6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvcHRpb25MYWJlbFByb3A6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9zZWxlY3QvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4xNy4xXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBob29rQ2FsbGJhY2s7XG5cbmZ1bmN0aW9uIGhvb2tzICgpIHtcbiAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG4vLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbmZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG4gICAgLy8gaW5wdXQgIT0gbnVsbFxuICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICAgIHZhciBrO1xuICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgLy8gZXZlbiBpZiBpdHMgbm90IG93biBwcm9wZXJ0eSBJJ2Qgc3RpbGwgY2FsbCBpdCBub24tZW1wdHlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cblxuZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgdmFyIHJlcyA9IFtdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICByZXR1cm4ge1xuICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgdW51c2VkVG9rZW5zICAgIDogW10sXG4gICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgY2hhcnNMZWZ0T3ZlciAgIDogMCxcbiAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgIGludmFsaWRGb3JtYXQgICA6IGZhbHNlLFxuICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHBhcnNlZERhdGVQYXJ0cyA6IFtdLFxuICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIG0uX3BmO1xufVxuXG52YXIgc29tZTtcbmlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbn0gZWxzZSB7XG4gICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxudmFyIHNvbWUkMSA9IHNvbWU7XG5cbmZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lJDEuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG4gICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblxuICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG4gICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcbiAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbn1cblxuLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuLy8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cbnZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXG5mdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSBpbiBtb21lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bztcbn1cblxudmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbmZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgIC8vIG9iamVjdHMuXG4gICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzTW9tZW50IChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbn1cblxuZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcbiAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGRpZmZzID0gMCxcbiAgICAgICAgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcbiAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcbiAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbn1cblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICB2YXIgYXJnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sIGZuKTtcbn1cblxudmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG4gICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgIH1cbiAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG4gICAgfVxufVxuXG5ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcbmhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG5mdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgIHZhciBwcm9wLCBpO1xuICAgIGZvciAoaSBpbiBjb25maWcpIHtcbiAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG4gICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG4gICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgIH1cbn1cblxudmFyIGtleXM7XG5cbmlmIChPYmplY3Qua2V5cykge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cztcbn0gZWxzZSB7XG4gICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuXG52YXIga2V5cyQxID0ga2V5cztcblxudmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcbiAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcbiAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICBzYW1lRWxzZSA6ICdMJ1xufTtcblxuZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xufVxuXG52YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcbiAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG59O1xuXG5mdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xufVxuXG52YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbmZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG59XG5cbnZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG52YXIgZGVmYXVsdE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbmZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbn1cblxudmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICBwYXN0ICAgOiAnJXMgYWdvJyxcbiAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgaCAgOiAnYW4gaG91cicsXG4gICAgaGggOiAnJWQgaG91cnMnLFxuICAgIGQgIDogJ2EgZGF5JyxcbiAgICBkZCA6ICclZCBkYXlzJyxcbiAgICBNICA6ICdhIG1vbnRoJyxcbiAgICBNTSA6ICclZCBtb250aHMnLFxuICAgIHkgIDogJ2EgeWVhcicsXG4gICAgeXkgOiAnJWQgeWVhcnMnXG59O1xuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSA6XG4gICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xufVxuXG5mdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xufVxuXG52YXIgYWxpYXNlcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgcHJvcDtcblxuICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xufVxuXG52YXIgcHJpb3JpdGllcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICB2YXIgdW5pdHMgPSBbXTtcbiAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG4gICAgfVxuICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgIH0pO1xuICAgIHJldHVybiB1bml0cztcbn1cblxuZnVuY3Rpb24gbWFrZUdldFNldCAodW5pdCwga2VlcFRpbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0IChtb20sIHVuaXQpIHtcbiAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG4gICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgIGlmIChtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG4gICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzW3ByaW9yaXRpemVkW2ldLnVuaXRdKHVuaXRzW3ByaW9yaXRpemVkW2ldLnVuaXRdKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG4gICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xufVxuXG52YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cbnZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG52YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cbnZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4vLyB0b2tlbjogICAgJ00nXG4vLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4vLyBvcmRpbmFsOiAgJ01vJ1xuLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5mdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgfVxuICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbi8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgIHZhciBpID0gNTtcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICB9XG5cbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaSAtPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbnZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG52YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG52YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG52YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxudmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxudmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcbnZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxudmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcbnZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxudmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxudmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXG52YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxudmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxudmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4vLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG52YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cblxudmFyIHJlZ2V4ZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgIH1cblxuICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG5cbnZhciB0b2tlbnMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgfVxufVxuXG52YXIgWUVBUiA9IDA7XG52YXIgTU9OVEggPSAxO1xudmFyIERBVEUgPSAyO1xudmFyIEhPVVIgPSAzO1xudmFyIE1JTlVURSA9IDQ7XG52YXIgU0VDT05EID0gNTtcbnZhciBNSUxMSVNFQ09ORCA9IDY7XG52YXIgV0VFSyA9IDc7XG52YXIgV0VFS0RBWSA9IDg7XG5cbnZhciBpbmRleE9mO1xuXG5pZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG59IGVsc2Uge1xuICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG52YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblxuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbi8vIExPQ0FMRVNcblxudmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG52YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocztcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydDtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcbiAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG4gICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuIG1vbTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG4gICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcbiAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgIHJldHVybiBtb207XG59XG5cbmZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGggKCkge1xuICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbn1cblxudmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLCBtb207XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcbiAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuYWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG59XG5cbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbn1cblxuLy8gSE9PS1NcblxuaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xufTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbmZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODEzNDgvaW5zdGFudGlhdGluZy1hLWphdmFzY3JpcHQtb2JqZWN0LWJ5LWNhbGxpbmctcHJvdG90eXBlLWNvbnN0cnVjdG9yLWFwcGx5XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblxuICAgIC8vdGhlIERhdGUuVVRDIGZ1bmN0aW9uIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG4vLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xufVxuXG4vL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcbiAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcblxuICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG4gICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpIC0gMTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrIC0gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpO1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCk7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgIHllYXI6IHJlc1llYXJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbmFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gTE9DQUxFU1xuXG5mdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2Vlaztcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgIGRvdyA6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbn07XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG59XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG5hZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuYWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignRScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG4gICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG5mdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICB9XG5cbiAgICBpbnB1dCA9IGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KTtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICB9XG4gICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbn1cblxuLy8gTE9DQUxFU1xuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuXG4gICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcbiAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbn1cblxuZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xufVxuXG5hZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbmFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcbmFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICB9KTtcbn1cblxubWVyaWRpZW0oJ2EnLCB0cnVlKTtcbm1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbi8vIFBBUlNJTkdcblxuZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG59XG5cbmFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbmFkZFBhcnNlVG9rZW4oWydIJywgJ0hIJ10sIEhPVVIpO1xuYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xufSk7XG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcbiAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG4gICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgIH1cbn1cblxuXG4vLyBNT01FTlRTXG5cbi8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgaGUgd2FudHMuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4vLyB0aGlzIHJ1bGUuXG52YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cbi8vIG1vbnRoc1xuLy8gd2Vla1xuLy8gd2Vla2RheXNcbi8vIG1lcmlkaWVtXG52YXIgYmFzZUNvbmZpZyA9IHtcbiAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICBvcmRpbmFsUGFyc2U6IGRlZmF1bHRPcmRpbmFsUGFyc2UsXG4gICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG4gICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG59O1xuXG4vLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG52YXIgbG9jYWxlcyA9IHt9O1xudmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG52YXIgZ2xvYmFsTG9jYWxlO1xuXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xufVxuXG4vLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbi8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4vLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgai0tO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgcmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2VcbiAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbi8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4vLyBsb2NhbGUga2V5LlxuZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgIHZhciBkYXRhO1xuICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAvLyBNRVJHRVxuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuXG4gICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9IFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG4gICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgIHZhciBvdmVyZmxvdztcbiAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcbiAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG52YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbnZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG52YXIgaXNvRGF0ZXMgPSBbXG4gICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cbl07XG5cbi8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbnZhciBpc29UaW1lcyA9IFtcbiAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIJywgL1xcZFxcZC9dXG5dO1xuXG52YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcbiAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXG4gICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgfVxuKTtcblxuLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgfVxuICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbn1cblxuLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4vLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4vLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheSAoY29uZmlnKSB7XG4gICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICB9XG5cbiAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcbiAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcbiAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgIH1cblxuICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgfVxuXG4gICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuX25leHREYXkpIHtcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgdyA9IGNvbmZpZy5fdztcbiAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7XG4gICAgICAgIGRvdyA9IDE7XG4gICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG4gICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgLy8gY3JlYXRlIG5vdykuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG4gICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXG4gICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG4gICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5pbmcgb2Ygd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAod2Vla2RheU92ZXJmbG93ICE9IG51bGwpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgfVxufVxuXG4vLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG5ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnLl9hID0gW107XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG4gICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAvLyBoYW5kbGUgbWVyaWRpZW1cbiAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG59XG5cblxuZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgdmFyIGlzUG07XG5cbiAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgaSxcbiAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgIH0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgaWYgKHJlcy5fbmV4dERheSkge1xuICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gIGVsc2Uge1xuICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICBjLl9sID0gbG9jYWxlO1xuICAgIGMuX2kgPSBpbnB1dDtcbiAgICBjLl9mID0gZm9ybWF0O1xuICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblxuICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xufVxuXG52YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbnZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbi8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbi8vXG4vLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4vLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgdmFyIHJlcywgaTtcbiAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICB9XG4gICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICB9XG4gICAgcmVzID0gbW9tZW50c1swXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbmZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xufVxuXG5mdW5jdGlvbiBtYXggKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xufTtcblxuZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IDAsXG4gICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xuICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuICAgICAgICB3ZWVrcyAqIDc7XG4gICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgIHF1YXJ0ZXJzICogMyArXG4gICAgICAgIHllYXJzICogMTI7XG5cbiAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblxuICAgIHRoaXMuX2J1YmJsZSgpO1xufVxuXG5mdW5jdGlvbiBpc0R1cmF0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGFic1JvdW5kIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgIH1cbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuICAgIH0pO1xufVxuXG5vZmZzZXQoJ1onLCAnOicpO1xub2Zmc2V0KCdaWicsICcnKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gdGltZXpvbmUgY2h1bmtlclxuLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4vLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbnZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXG4gICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgIDAgOlxuICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcbn1cblxuLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbmZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcbiAgICB2YXIgcmVzLCBkaWZmO1xuICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcbiAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG59XG5cbi8vIEhPT0tTXG5cbi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbi8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuaG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbi8vIE1PTUVOVFNcblxuLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG4vLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuLy9cbi8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG4vLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG4vLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2Vcbi8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG5mdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICBsb2NhbEFkanVzdDtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgIGlmIChjLl9hKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGMgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xufVxuXG4vLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcbnZhciBhc3BOZXRSZWdleCA9IC9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbi8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4vLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4vLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG52YXIgaXNvUmVnZXggPSAvXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG4gICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgc2lnbixcbiAgICAgICAgcmV0LFxuICAgICAgICBkaWZmUmVzO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcbiAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgIDogMCxcbiAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn1cblxuY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xufVxuXG5mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcbiAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgIC0tcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzO1xuICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgfVxuXG4gICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLFxuICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgaWYgKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAoZGF5cykge1xuICAgICAgICBzZXQkMShtb20sICdEYXRlJywgZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQobW9tLCBkYXlzIHx8IG1vbnRocyk7XG4gICAgfVxufVxuXG52YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG52YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbmZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbn1cblxuZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgIGlucHV0TXM7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgdmFyIHRoYXQsXG4gICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgZGVsdGEsIG91dHB1dDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBpZiAodW5pdHMgPT09ICd5ZWFyJyB8fCB1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDM7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuICAgICAgICBvdXRwdXQgPSB1bml0cyA9PT0gJ3NlY29uZCcgPyBkZWx0YSAvIDFlMyA6IC8vIDEwMDBcbiAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgICAgIHVuaXRzID09PSAnZGF5JyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA4NjRlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGRlbHRhO1xuICAgIH1cbiAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgfVxuXG4gICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xufVxuXG5ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbmhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbmZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nICgpIHtcbiAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICBpZiAoMCA8IG0ueWVhcigpICYmIG0ueWVhcigpIDw9IDk5OTkpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG4gICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICpcbiAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICB2YXIgem9uZSA9ICcnO1xuICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgIHpvbmUgPSAnWic7XG4gICAgfVxuICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgIHZhciB5ZWFyID0gKDAgPCB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XG4gICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgIH1cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbi8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbi8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbi8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cbmZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG52YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG4gICAgfVxuXG4gICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG4gICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcbiAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuICAgIH1cbiAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG4gICAgfVxuXG4gICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAnZGF0ZScgaXMgYW4gYWxpYXMgZm9yICdkYXknLCBzbyBpdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBzdWNoLlxuICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHVuaXRzID0gJ2RheSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbn1cblxuZnVuY3Rpb24gdmFsdWVPZiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG59XG5cbmZ1bmN0aW9uIHVuaXggKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHRvRGF0ZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdCAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQkMSAoKSB7XG4gICAgcmV0dXJuIGlzVmFsaWQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xufVxuXG5mdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgbG9jYWxlOiB0aGlzLl9sb2NhbGUsXG4gICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICB9O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5mdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xufVxuXG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrWWVhcicsIDEpO1xuXG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsIHRoaXMuaXNvV2VlaygpLCB0aGlzLmlzb1dlZWtkYXkoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRXZWVrQWxsKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG4gICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAnUW8nLCAncXVhcnRlcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuLy8gUFJJT1JPSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gaXNTdHJpY3QgPyBsb2NhbGUuX29yZGluYWxQYXJzZSA6IGxvY2FsZS5fb3JkaW5hbFBhcnNlTGVuaWVudDtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbmFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xufSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5hZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbmFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbn0pO1xuXG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5hZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxudmFyIHRva2VuO1xuZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG59XG5cbmZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbn1cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd6JywgIDAsIDAsICd6b25lQWJicicpO1xuYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldFpvbmVOYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG59XG5cbnZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbnByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xucHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xucHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcbnByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbnByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5wcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcbnByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbnByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbnByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5wcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xucHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5wcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcbnByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbnByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5wcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2VlbjtcbnByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xucHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xucHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcbnByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQxO1xucHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xucHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5wcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG5wcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbnByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xucHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG5wcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbnByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcbnByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG5wcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5wcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xucHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG5wcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xucHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xucHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG5wcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xucHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xucHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xucHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cbi8vIFllYXJcbnByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xucHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbi8vIFdlZWsgWWVhclxucHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbnByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5cbi8vIFF1YXJ0ZXJcbnByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG5cbi8vIE1vbnRoXG5wcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xucHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblxuLy8gV2Vla1xucHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xucHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xucHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbnByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cbi8vIERheVxucHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5wcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbnByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xucHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblxuLy8gSG91clxucHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblxuLy8gTWludXRlXG5wcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXG4vLyBTZWNvbmRcbnByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cbi8vIE1pbGxpc2Vjb25kXG5wcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXG4vLyBPZmZzZXRcbnByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xucHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbnByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcbnByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5wcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xucHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbnByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbnByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG5wcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xucHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcblxuLy8gVGltZXpvbmVcbnByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5wcm90by56b25lTmFtZSA9IGdldFpvbmVOYW1lO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbnByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xucHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XG5wcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG5mdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xufVxuXG5mdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmc7XG59XG5cbnZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxucHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcbnByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG5wcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xucHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xucHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xucHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xucHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbi8vIE1vbnRoXG5wcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbnByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5wcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xucHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xucHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cbi8vIFdlZWtcbnByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5wcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5wcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbi8vIERheSBvZiBXZWVrXG5wcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xucHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbnByb3RvJDEud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDtcbnByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxucHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG5wcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbi8vIEhvdXJzXG5wcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xucHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG5mdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cblxuLy8gKClcbi8vICg1KVxuLy8gKGZtdCwgNSlcbi8vIChmbXQpXG4vLyAodHJ1ZSlcbi8vICh0cnVlLCA1KVxuLy8gKHRydWUsIGZtdCwgNSlcbi8vICh0cnVlLCBmbXQpXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xufVxuXG5nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgIG9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sXG4gICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgIG91dHB1dCA9ICh0b0ludChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6XG4gICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcbiAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgfVxufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcbmhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcbmhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxudmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuZnVuY3Rpb24gYWJzICgpIHtcbiAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblxuICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgIGR1cmF0aW9uLl9tb250aHMgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblxuICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcbmZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAtMSk7XG59XG5cbmZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYnViYmxlICgpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7XG4gICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG4gICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgbWl4IG9mIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB2YWx1ZXMsIGJ1YmJsZSBkb3duIGZpcnN0XG4gICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPD0gMCAmJiBkYXlzIDw9IDAgJiYgbW9udGhzIDw9IDApKSkge1xuICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgIGRheXMgPSAwO1xuICAgICAgICBtb250aHMgPSAwO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICBkYXRhLnNlY29uZHMgICAgICA9IHNlY29uZHMgJSA2MDtcblxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cbiAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgLy8gY29udmVydCBkYXlzIHRvIG1vbnRoc1xuICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcbiAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgZGF5cyAtPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHNGcm9tRGF5cykpO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgIG1vbnRocyAlPSAxMjtcblxuICAgIGRhdGEuZGF5cyAgID0gZGF5cztcbiAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICBkYXRhLnllYXJzICA9IHllYXJzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG4gICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG59XG5cbmZ1bmN0aW9uIGFzICh1bml0cykge1xuICAgIHZhciBkYXlzO1xuICAgIHZhciBtb250aHM7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG5mdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICB9O1xufVxuXG52YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG52YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbnZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xudmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG52YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbnZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xudmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG52YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW25hbWVdO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbnZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG52YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xudmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG52YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xudmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xudmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbmZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciB0aHJlc2hvbGRzID0ge1xuICAgIHM6IDQ1LCAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICBtOiA0NSwgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgZDogMjYsICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgTTogMTEgICAvLyBtb250aHMgdG8geWVhclxufTtcblxuLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbmZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xuICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xuICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xuXG4gICAgdmFyIGEgPSBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsncycsIHNlY29uZHNdICB8fFxuICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8XG4gICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8XG4gICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG4gICAgYVs0XSA9IGxvY2FsZTtcbiAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcm91bmQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yocm91bmRpbmdGdW5jdGlvbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG4gICAgfVxuICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cbiAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxudmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG4gICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgc2Vjb25kcyAlPSA2MDtcbiAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cblxuICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgdmFyIFkgPSB5ZWFycztcbiAgICB2YXIgTSA9IG1vbnRocztcbiAgICB2YXIgRCA9IGRheXM7XG4gICAgdmFyIGggPSBob3VycztcbiAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgdmFyIHMgPSBzZWNvbmRzO1xuICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cbiAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuICAgICAgICAnUCcgK1xuICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG4gICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcbn1cblxudmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbnByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XG5wcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG5wcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbnByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcbnByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcbnByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG5wcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xucHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG5wcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xucHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG5wcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG5wcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbnByb3RvJDIudmFsdWVPZiAgICAgICAgPSB2YWx1ZU9mJDE7XG5wcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xucHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xucHJvdG8kMi5taWxsaXNlY29uZHMgICA9IG1pbGxpc2Vjb25kcztcbnByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xucHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG5wcm90byQyLmhvdXJzICAgICAgICAgID0gaG91cnM7XG5wcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcbnByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbnByb3RvJDIubW9udGhzICAgICAgICAgPSBtb250aHM7XG5wcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG5wcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG5wcm90byQyLnRvSVNPU3RyaW5nICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLmxvY2FsZSAgICAgICAgID0gbG9jYWxlO1xucHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbi8vIERlcHJlY2F0aW9uc1xucHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcbnByb3RvJDIubGFuZyA9IGxhbmc7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5hZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5hZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG5ob29rcy52ZXJzaW9uID0gJzIuMTcuMSc7XG5cbnNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbmhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuaG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbmhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG5ob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG5ob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG5ob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbmhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcbmhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcbmhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbmhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG5ob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG5ob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG5ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG5ob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG5ob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbmhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG5ob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG5ob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblxucmV0dXJuIGhvb2tzO1xuXG59KSkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9tZW50L21vbWVudC5qc1xuICoqIG1vZHVsZSBpZCA9IDI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yY1JhZGlvID0gcmVxdWlyZSgncmMtcmFkaW8nKTtcblxudmFyIF9yY1JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUmFkaW8pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJhZGlvID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFJhZGlvLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJhZGlvKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIFJhZGlvKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIFJhZGlvLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIFJhZGlvLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lcywgX2NsYXNzTmFtZXMyO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgY2hlY2tlZCA9IF9wcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcyRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX3Byb3BzJGNsYXNzTmFtZSxcbiAgICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlO1xuXG4gICAgICAgIHZhciB3cmFwcGVyQ2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctd3JhcHBlcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItY2hlY2tlZCcsIGNoZWNrZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXdyYXBwZXItZGlzYWJsZWQnLCBkaXNhYmxlZCksIF9jbGFzc05hbWVzKSwgY2xhc3NOYW1lKTtcbiAgICAgICAgdmFyIGNsYXNzU3RyaW5nID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscywgKF9jbGFzc05hbWVzMiA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1jaGVja2VkJywgY2hlY2tlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMyLCBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJywgZGlzYWJsZWQpLCBfY2xhc3NOYW1lczIpKTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnbGFiZWwnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHdyYXBwZXJDbGFzc1N0cmluZywgc3R5bGU6IHN0eWxlLCBvbk1vdXNlRW50ZXI6IHRoaXMucHJvcHMub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IHRoaXMucHJvcHMub25Nb3VzZUxlYXZlIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1JhZGlvMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgdGhpcy5wcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogbnVsbCwgY2hpbGRyZW46IG51bGwgfSkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gIT09IHVuZGVmaW5lZCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBSYWRpbztcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpbztcblxuUmFkaW8uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1yYWRpbydcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yYWRpby9yYWRpby5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVGFibGUgPSByZXF1aXJlKCcuL1RhYmxlJyk7XG52YXIgQ29sdW1uID0gcmVxdWlyZSgnLi9Db2x1bW4nKTtcbnZhciBDb2x1bW5Hcm91cCA9IHJlcXVpcmUoJy4vQ29sdW1uR3JvdXAnKTtcblxuVGFibGUuQ29sdW1uID0gQ29sdW1uO1xuVGFibGUuQ29sdW1uR3JvdXAgPSBDb2x1bW5Hcm91cDtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyogZXNsaW50LWRpc2FibGUgZnVuYy1uYW1lcyAqL1xudmFyIFBsdWdpbnMgPSBmdW5jdGlvbiBQbHVnaW5zKCkge307XG52YXIgcCA9IFBsdWdpbnMucHJvdG90eXBlO1xucC5wdXNoID0gZnVuY3Rpb24gKHBsdWdpbikge1xuICB0aGlzW3BsdWdpbi5wcm90b3R5cGUubmFtZV0gPSBwbHVnaW47XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBuZXcgUGx1Z2lucygpO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW5zLmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy50b0ZpeGVkID0gdG9GaXhlZDtcbmV4cG9ydHMuY3JlYXRlTWF0cml4ID0gY3JlYXRlTWF0cml4O1xuZXhwb3J0cy5jaGVja1N0eWxlTmFtZSA9IGNoZWNrU3R5bGVOYW1lO1xuZXhwb3J0cy5nZXRHc2FwVHlwZSA9IGdldEdzYXBUeXBlO1xuZXhwb3J0cy5wYXJzZUNvbG9yID0gcGFyc2VDb2xvcjtcbmV4cG9ydHMucGFyc2VTaGFkb3cgPSBwYXJzZVNoYWRvdztcbmV4cG9ydHMuZ2V0Q29sb3IgPSBnZXRDb2xvcjtcbmV4cG9ydHMuaXNUcmFuc2Zvcm0gPSBpc1RyYW5zZm9ybTtcbmV4cG9ydHMuaXNDb252ZXJ0ID0gaXNDb252ZXJ0O1xuZXhwb3J0cy5zcGxpdEZpbHRlclRvT2JqZWN0ID0gc3BsaXRGaWx0ZXJUb09iamVjdDtcbmV4cG9ydHMuZ2V0TWF0cml4ID0gZ2V0TWF0cml4O1xuZXhwb3J0cy5nZXRUcmFuc2Zvcm0gPSBnZXRUcmFuc2Zvcm07XG5leHBvcnRzLnN0eWxlc1RvQ3NzID0gc3R5bGVzVG9Dc3M7XG5leHBvcnRzLmdldFVuaXQgPSBnZXRVbml0O1xuZXhwb3J0cy5nZXRWYWx1ZXMgPSBnZXRWYWx1ZXM7XG5leHBvcnRzLmZpbmRTdHlsZUJ5TmFtZSA9IGZpbmRTdHlsZUJ5TmFtZTtcbmV4cG9ydHMubWVyZ2VTdHlsZSA9IG1lcmdlU3R5bGU7XG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcblxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xudmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcblxuZnVuY3Rpb24gcHJlZml4S2V5KHByZWZpeCwga2V5KSB7XG4gIHJldHVybiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xufVxuXG5PYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlzVW5pdGxlc3NOdW1iZXJbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gaXNVbml0bGVzc051bWJlcltwcm9wXTtcbiAgfSk7XG59KTtcblxudmFyIHVucXVvdGVkQ29udGVudFZhbHVlUmVnZXggPSAvXihub3JtYWx8bm9uZXwoXFxiKHVybFxcKFteKV0qXFwpfGNoYXB0ZXJfY291bnRlcnxhdHRyXFwoW14pXSpcXCl8KG5vLSk/KG9wZW58Y2xvc2UpLXF1b3RlfGluaGVyaXQpKChcXGJcXHMqKXwkfFxccyspKSspJC87XG5cbnZhciBJRSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG5hdmlnYXRvciAmJiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiTVNJRSA4LjBcIikgPiAwIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUUgOS4wXCIpID4gMCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59KCk7XG5cbnZhciBybmQgPSAxMDAwMDA7XG5cbnZhciBjb2xvckxvb2t1cCA9IHtcbiAgYXF1YTogWzAsIDI1NSwgMjU1XSxcbiAgbGltZTogWzAsIDI1NSwgMF0sXG4gIHNpbHZlcjogWzE5MiwgMTkyLCAxOTJdLFxuICBibGFjazogWzAsIDAsIDBdLFxuICBtYXJvb246IFsxMjgsIDAsIDBdLFxuICB0ZWFsOiBbMCwgMTI4LCAxMjhdLFxuICBibHVlOiBbMCwgMCwgMjU1XSxcbiAgbmF2eTogWzAsIDAsIDEyOF0sXG4gIHdoaXRlOiBbMjU1LCAyNTUsIDI1NV0sXG4gIGZ1Y2hzaWE6IFsyNTUsIDAsIDI1NV0sXG4gIG9saXZlOiBbMTI4LCAxMjgsIDBdLFxuICB5ZWxsb3c6IFsyNTUsIDI1NSwgMF0sXG4gIG9yYW5nZTogWzI1NSwgMTY1LCAwXSxcbiAgZ3JheTogWzEyOCwgMTI4LCAxMjhdLFxuICBwdXJwbGU6IFsxMjgsIDAsIDEyOF0sXG4gIGdyZWVuOiBbMCwgMTI4LCAwXSxcbiAgcmVkOiBbMjU1LCAwLCAwXSxcbiAgcGluazogWzI1NSwgMTkyLCAyMDNdLFxuICBjeWFuOiBbMCwgMjU1LCAyNTVdLFxuICB0cmFuc3BhcmVudDogWzI1NSwgMjU1LCAyNTUsIDBdXG59O1xudmFyIF9odWUgPSBmdW5jdGlvbiBfaHVlKGhoLCBtMSwgbTIpIHtcbiAgdmFyIGggPSBoaCA+IDEgPyBoaCAtIDEgOiBoaDtcbiAgaCA9IGhoIDwgMCA/IGhoICsgMSA6IGg7XG4gIHZhciBhID0gaCAqIDMgPCAyID8gbTEgKyAobTIgLSBtMSkgKiAoMiAvIDMgLSBoKSAqIDYgOiBtMTtcbiAgdmFyIGIgPSBoIDwgMC41ID8gbTIgOiBhO1xuICB2YXIgYyA9IGggKiA2IDwgMSA/IG0xICsgKG0yIC0gbTEpICogaCAqIDYgOiBiO1xuICByZXR1cm4gYyAqIDI1NSArIDAuNSB8IDA7XG59O1xudmFyIERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xudmFyIFJBRDJERUcgPSAxODAgLyBNYXRoLlBJO1xuXG52YXIgY3NzTGlzdCA9IHtcbiAgX2xpc3RzOiB7XG4gICAgdHJhbnNmb3Jtc0Jhc2U6IFsndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ3NrZXdYJywgJ3NrZXdZJywgJ3JvdGF0ZVonLCAncm90YXRlJ10sXG4gICAgdHJhbnNmb3JtczNEOiBbJ3RyYW5zbGF0ZTNkJywgJ3RyYW5zbGF0ZVonLCAnc2NhbGVaJywgJ3JvdGF0ZVgnLCAncm90YXRlWScsICdwZXJzcGVjdGl2ZSddXG4gIH0sXG4gIHRyYW5zZm9ybUdyb3VwOiB7IHRyYW5zbGF0ZTogMSwgdHJhbnNsYXRlM2Q6IDEsIHNjYWxlOiAxLCBzY2FsZTNkOiAxLCByb3RhdGU6IDEsIHJvdGF0ZTNkOiAxIH0sXG4gIGZpbHRlcjogWydncmF5U2NhbGUnLCAnc2VwaWEnLCAnaHVlUm90YXRlJywgJ2ludmVydCcsICdicmlnaHRuZXNzJywgJ2NvbnRyYXN0JywgJ2JsdXInXSxcbiAgZmlsdGVyQ29udmVydDogeyBncmF5U2NhbGU6ICdncmF5c2NhbGUnLCBodWVSb3RhdGU6ICdodWUtcm90YXRlJyB9XG59O1xuY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UgPSAhSUUgPyBjc3NMaXN0Ll9saXN0cy50cmFuc2Zvcm1zQmFzZS5jb25jYXQoY3NzTGlzdC5fbGlzdHMudHJhbnNmb3JtczNEKSA6IGNzc0xpc3QuX2xpc3RzLnRyYW5zZm9ybXNCYXNlO1xuXG5mdW5jdGlvbiB0b0ZpeGVkKG51bSwgbGVuZ3RoKSB7XG4gIHZhciBfcm5kID0gbGVuZ3RoID8gTWF0aC5wb3coMTAsIGxlbmd0aCkgOiBybmQ7XG4gIHZhciBuID0gbnVtIHwgMDtcbiAgdmFyIGRlYyA9IG51bSAtIG47XG4gIHJldHVybiBkZWMgPyAoZGVjICogX3JuZCArIChudW0gPCAwID8gLTAuNSA6IDAuNSkgfCAwKSAvIF9ybmQgKyBuIDogbnVtO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVNYXRyaXgoc3R5bGUpIHtcbiAgcmV0dXJuIHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nb3pDU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5Nb3pDU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5ET01NYXRyaXggJiYgbmV3IHdpbmRvdy5ET01NYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5Nc0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk1zQ1NTTWF0cml4KHN0eWxlKSB8fCB3aW5kb3cuT0NTU01hdHJpeCAmJiBuZXcgd2luZG93Lk9DU1NNYXRyaXgoc3R5bGUpIHx8IHdpbmRvdy5DU1NNYXRyaXggJiYgbmV3IHdpbmRvdy5DU1NNYXRyaXgoc3R5bGUpIHx8IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNoZWNrU3R5bGVOYW1lKHApIHtcbiAgdmFyIGEgPSBbJ08nLCAnTW96JywgJ21zJywgJ01zJywgJ1dlYmtpdCddO1xuICBpZiAocCAhPT0gJ2ZpbHRlcicgJiYgcCBpbiBkb2N1bWVudC5ib2R5LnN0eWxlKSB7XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgdmFyIF9wID0gcC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHAuc3Vic3RyKDEpO1xuICB2YXIgcHJlZml4Q3NzID0gYS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAnJyArIGtleSArIF9wIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gIH0pO1xuICByZXR1cm4gcHJlZml4Q3NzWzBdID8gJycgKyBwcmVmaXhDc3NbMF0gKyBfcCA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEdzYXBUeXBlKF9wKSB7XG4gIHZhciBwID0gX3A7XG4gIHAgPSBwID09PSAneCcgPyAndHJhbnNsYXRlWCcgOiBwO1xuICBwID0gcCA9PT0gJ3knID8gJ3RyYW5zbGF0ZVknIDogcDtcbiAgcCA9IHAgPT09ICd6JyA/ICd0cmFuc2xhdGVaJyA6IHA7XG4gIC8vIHAgPSBwID09PSAncicgPyAncm90YXRlJyA6IHA7XG4gIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiBwYXJzZUNvbG9yKF92KSB7XG4gIHZhciBhID0gdm9pZCAwO1xuICB2YXIgciA9IHZvaWQgMDtcbiAgdmFyIGcgPSB2b2lkIDA7XG4gIHZhciBiID0gdm9pZCAwO1xuICB2YXIgaCA9IHZvaWQgMDtcbiAgdmFyIHMgPSB2b2lkIDA7XG4gIHZhciBsID0gdm9pZCAwO1xuICB2YXIgdiA9IF92O1xuICB2YXIgX251bUV4cCA9IC8oPzpcXGR8XFwtXFxkfFxcLlxcZHxcXC1cXC5cXGQpKy9nO1xuICBpZiAoIXYpIHtcbiAgICBhID0gY29sb3JMb29rdXAuYmxhY2s7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInKSB7XG4gICAgYSA9IFt2ID4+IDE2LCB2ID4+IDggJiAyNTUsIHYgJiAyNTVdO1xuICB9IGVsc2Uge1xuICAgIGlmICh2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpID09PSAnLCcpIHtcbiAgICAgIHYgPSB2LnN1YnN0cigwLCB2Lmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBpZiAoY29sb3JMb29rdXBbdl0pIHtcbiAgICAgIGEgPSBjb2xvckxvb2t1cFt2XTtcbiAgICB9IGVsc2UgaWYgKHYuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgIC8vIGlzICNGRkZcbiAgICAgIGlmICh2Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICByID0gdi5jaGFyQXQoMSk7XG4gICAgICAgIGcgPSB2LmNoYXJBdCgyKTtcbiAgICAgICAgYiA9IHYuY2hhckF0KDMpO1xuICAgICAgICB2ID0gJyMnICsgciArIHIgKyBnICsgZyArIGIgKyBiO1xuICAgICAgfVxuICAgICAgdiA9IHBhcnNlSW50KHYuc3Vic3RyKDEpLCAxNik7XG4gICAgICBhID0gW3YgPj4gMTYsIHYgPj4gOCAmIDI1NSwgdiAmIDI1NV07XG4gICAgfSBlbHNlIGlmICh2LnN1YnN0cigwLCAzKSA9PT0gJ2hzbCcpIHtcbiAgICAgIGEgPSB2Lm1hdGNoKF9udW1FeHApO1xuICAgICAgaCA9IE51bWJlcihhWzBdKSAlIDM2MCAvIDM2MDtcbiAgICAgIHMgPSBOdW1iZXIoYVsxXSkgLyAxMDA7XG4gICAgICBsID0gTnVtYmVyKGFbMl0pIC8gMTAwO1xuICAgICAgZyA9IGwgPD0gMC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzO1xuICAgICAgciA9IGwgKiAyIC0gZztcbiAgICAgIGlmIChhLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgYVszXSA9IE51bWJlcihhWzNdKTtcbiAgICAgIH1cbiAgICAgIGFbMF0gPSBfaHVlKGggKyAxIC8gMywgciwgZyk7XG4gICAgICBhWzFdID0gX2h1ZShoLCByLCBnKTtcbiAgICAgIGFbMl0gPSBfaHVlKGggLSAxIC8gMywgciwgZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGEgPSB2Lm1hdGNoKF9udW1FeHApIHx8IGNvbG9yTG9va3VwLnRyYW5zcGFyZW50O1xuICAgIH1cbiAgICBhWzBdID0gTnVtYmVyKGFbMF0pO1xuICAgIGFbMV0gPSBOdW1iZXIoYVsxXSk7XG4gICAgYVsyXSA9IE51bWJlcihhWzJdKTtcblxuICAgIGlmIChhLmxlbmd0aCA+IDMpIHtcbiAgICAgIGFbM10gPSBOdW1iZXIoYVszXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNoYWRvdyh2KSB7XG4gIGlmICghdikge1xuICAgIHJldHVybiBbMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gIH1cbiAgdmFyIGluc2V0ID0gdm9pZCAwO1xuICBpZiAodi5pbmRleE9mKCdyZ2InKSA+PSAwKSB7XG4gICAgdmFyIHQgPSB2Lm1hdGNoKC9yZ2IrKD86YSk/XFwoKC4qKVxcKS8pO1xuICAgIHZhciBzID0gdi5yZXBsYWNlKHRbMF0sICcnKS50cmltKCkuc3BsaXQoL1xccysvKTtcbiAgICBpbnNldCA9IHMuaW5kZXhPZignaW5zZXQnKTtcbiAgICBpZiAoaW5zZXQgPj0gMCkge1xuICAgICAgcy5zcGxpY2UoaW5zZXQsIDEpO1xuICAgIH1cbiAgICB2YXIgYyA9IHRbMV0ucmVwbGFjZSgvXFxzKy9nLCAnJykuc3BsaXQoJywnKTtcbiAgICBpZiAoYy5sZW5ndGggPT09IDMpIHtcbiAgICAgIGMucHVzaCgxKTtcbiAgICB9XG4gICAgcmV0dXJuIHMuY29uY2F0KGMsIGluc2V0ID49IDAgPyBbJ2luc2V0J10gOiBbXSk7XG4gIH1cbiAgdmFyIHZBcnIgPSB2LnNwbGl0KC9cXHMrLyk7XG4gIGluc2V0ID0gdkFyci5pbmRleE9mKCdpbnNldCcpO1xuICBpZiAoaW5zZXQgPj0gMCkge1xuICAgIHZBcnIuc3BsaWNlKGluc2V0LCAxKTtcbiAgfVxuICB2YXIgY29sb3IgPSBwYXJzZUNvbG9yKHZBcnJbdkFyci5sZW5ndGggLSAxXSk7XG4gIGNvbG9yWzNdID0gdHlwZW9mIGNvbG9yWzNdID09PSAnbnVtYmVyJyA/IGNvbG9yWzNdIDogMTtcbiAgdkFyciA9IHZBcnIuc3BsaWNlKDAsIHZBcnIubGVuZ3RoIC0gMSk7XG4gIHJldHVybiB2QXJyLmNvbmNhdChjb2xvciwgaW5zZXQgPj0gMCA/IFsnaW5zZXQnXSA6IFtdKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29sb3Iodikge1xuICB2YXIgcmdiYSA9IHYubGVuZ3RoID09PSA0ID8gJ3JnYmEnIDogJ3JnYic7XG4gIHZhciBfdmFycyA9IHYubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIGkgPCAzID8gTWF0aC5yb3VuZChkKSA6IGQ7XG4gIH0pO1xuICByZXR1cm4gcmdiYSArICcoJyArIF92YXJzLmpvaW4oJywnKSArICcpJztcbn1cblxuZnVuY3Rpb24gaXNUcmFuc2Zvcm0ocCkge1xuICByZXR1cm4gY3NzTGlzdC5fbGlzdHMudHJhbnNmb3Jtc0Jhc2UuaW5kZXhPZihwKSA+PSAwID8gJ3RyYW5zZm9ybScgOiBwO1xufVxuXG5mdW5jdGlvbiBpc0NvbnZlcnQocCkge1xuICB2YXIgY3NzTmFtZSA9IGlzVHJhbnNmb3JtKHApO1xuICByZXR1cm4gY3NzTGlzdC5maWx0ZXIuaW5kZXhPZihjc3NOYW1lKSA+PSAwID8gJ2ZpbHRlcicgOiBjc3NOYW1lO1xufVxuXG5mdW5jdGlvbiBzcGxpdEZpbHRlclRvT2JqZWN0KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09ICdub25lJyB8fCAhZGF0YSB8fCBkYXRhID09PSAnJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBmaWx0ZXIgPSBkYXRhLnJlcGxhY2UoJyAnLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbTtcbiAgfSk7XG4gIHZhciBzdGFydERhdGEgPSB7fTtcbiAgZmlsdGVyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgZGF0YUFyciA9IGl0ZW0uc3BsaXQoJygnKTtcbiAgICBzdGFydERhdGFbZGF0YUFyclswXV0gPSBkYXRhQXJyWzFdO1xuICB9KTtcbiAgcmV0dXJuIHN0YXJ0RGF0YTtcbn1cblxuZnVuY3Rpb24gZ2V0TWF0cml4KHQpIHtcbiAgdmFyIGFyciA9IHQubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9naSk7XG4gIHZhciBtID0ge307XG4gIGlmIChhcnIubGVuZ3RoID09PSA2KSB7XG4gICAgbS5tMTEgPSBwYXJzZUZsb2F0KGFyclswXSk7XG4gICAgbS5tMTIgPSBwYXJzZUZsb2F0KGFyclsxXSk7XG4gICAgbS5tMTMgPSAwO1xuICAgIG0ubTE0ID0gMDtcbiAgICBtLm0yMSA9IHBhcnNlRmxvYXQoYXJyWzJdKTtcbiAgICBtLm0yMiA9IHBhcnNlRmxvYXQoYXJyWzNdKTtcbiAgICBtLm0yMyA9IDA7XG4gICAgbS5tMjQgPSAwO1xuICAgIG0ubTMxID0gMDtcbiAgICBtLm0zMiA9IDA7XG4gICAgbS5tMzMgPSAxO1xuICAgIG0ubTM0ID0gMDtcbiAgICBtLm00MSA9IHBhcnNlRmxvYXQoYXJyWzRdKTtcbiAgICBtLm00MiA9IHBhcnNlRmxvYXQoYXJyWzVdKTtcbiAgICBtLm00MyA9IDA7XG4gICAgbS5tNDQgPSAwO1xuICB9IGVsc2Uge1xuICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICB2YXIgaWkgPSBpICUgNCArIDE7XG4gICAgICB2YXIgaiA9IE1hdGguZmxvb3IoaSAvIDQpICsgMTtcbiAgICAgIG1bJ20nICsgaiArIGlpXSA9IHBhcnNlRmxvYXQoaXRlbSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgdmFyIF90cmFuc2Zvcm0gPSB0cmFuc2Zvcm0gPT09ICdub25lJyB8fCB0cmFuc2Zvcm0gPT09ICcnID8gJ21hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKScgOiB0cmFuc2Zvcm07XG4gIHZhciBtID0gZ2V0TWF0cml4KF90cmFuc2Zvcm0pO1xuICB2YXIgbTExID0gbS5tMTE7XG4gIHZhciBtMTIgPSBtLm0xMjtcbiAgdmFyIG0xMyA9IG0ubTEzO1xuICB2YXIgbTE0ID0gbS5tMTQ7XG4gIHZhciBtMjEgPSBtLm0yMTtcbiAgdmFyIG0yMiA9IG0ubTIyO1xuICB2YXIgbTIzID0gbS5tMjM7XG4gIHZhciBtMjQgPSBtLm0yNDtcbiAgdmFyIG0zMSA9IG0ubTMxO1xuICB2YXIgbTMyID0gbS5tMzI7XG4gIHZhciBtMzMgPSBtLm0zMztcbiAgdmFyIG0zNCA9IG0ubTM0O1xuICB2YXIgbTQzID0gbS5tNDM7XG4gIHZhciB0MSA9IHZvaWQgMDtcbiAgdmFyIHQyID0gdm9pZCAwO1xuICB2YXIgdDMgPSB2b2lkIDA7XG4gIHZhciB0bSA9IHt9O1xuICB0bS5wZXJzcGVjdGl2ZSA9IG0zNCA/IHRvRml4ZWQobTMzIC8gKG0zNCA8IDAgPyAtbTM0IDogbTM0KSkgOiAwO1xuICB0bS5yb3RhdGVYID0gdG9GaXhlZChNYXRoLmFzaW4obTIzKSAqIFJBRDJERUcpO1xuICB2YXIgYW5nbGUgPSB0bS5yb3RhdGVYICogREVHMlJBRDtcbiAgdmFyIHNrZXdYID0gTWF0aC50YW4obTIxKTtcbiAgdmFyIHNrZXdZID0gTWF0aC50YW4obTEyKTtcbiAgdmFyIGNvcyA9IG0zNCAqIHRtLnBlcnNwZWN0aXZlO1xuICB2YXIgc2luID0gdm9pZCAwO1xuICAvLyByb3RhdGVYXG4gIGlmIChhbmdsZSkge1xuICAgIGNvcyA9IE1hdGguY29zKC1hbmdsZSk7XG4gICAgc2luID0gTWF0aC5zaW4oLWFuZ2xlKTtcbiAgICB0MSA9IG0yMSAqIGNvcyArIG0zMSAqIHNpbjtcbiAgICB0MiA9IG0yMiAqIGNvcyArIG0zMiAqIHNpbjtcbiAgICB0MyA9IG0yMyAqIGNvcyArIG0zMyAqIHNpbjtcbiAgICBtMzEgPSBtMjEgKiAtc2luICsgbTMxICogY29zO1xuICAgIG0zMiA9IG0yMiAqIC1zaW4gKyBtMzIgKiBjb3M7XG4gICAgbTMzID0gbTIzICogLXNpbiArIG0zMyAqIGNvcztcbiAgICBtMzQgPSBtMjQgKiAtc2luICsgbTM0ICogY29zO1xuICAgIG0yMSA9IHQxO1xuICAgIG0yMiA9IHQyO1xuICAgIG0yMyA9IHQzO1xuICB9XG4gIC8vIHJvdGF0ZVlcbiAgYW5nbGUgPSBNYXRoLmF0YW4yKG0zMSwgbTMzKTtcbiAgdG0ucm90YXRlWSA9IHRvRml4ZWQoYW5nbGUgKiBSQUQyREVHKTtcbiAgaWYgKGFuZ2xlKSB7XG4gICAgY29zID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICBzaW4gPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgIHQxID0gbTExICogY29zIC0gbTMxICogc2luO1xuICAgIHQyID0gbTEyICogY29zIC0gbTMyICogc2luO1xuICAgIHQzID0gbTEzICogY29zIC0gbTMzICogc2luO1xuICAgIG0zMiA9IG0xMiAqIHNpbiArIG0zMiAqIGNvcztcbiAgICBtMzMgPSBtMTMgKiBzaW4gKyBtMzMgKiBjb3M7XG4gICAgbTM0ID0gbTE0ICogc2luICsgbTM0ICogY29zO1xuICAgIG0xMSA9IHQxO1xuICAgIG0xMiA9IHQyO1xuICAgIG0xMyA9IHQzO1xuICB9XG4gIC8vIHJvdGF0ZVpcbiAgYW5nbGUgPSBNYXRoLmF0YW4yKG0xMiwgbTExKTtcbiAgdG0ucm90YXRlID0gdG9GaXhlZChhbmdsZSAqIFJBRDJERUcpO1xuICBpZiAoYW5nbGUpIHtcbiAgICBjb3MgPSBNYXRoLmNvcygtYW5nbGUpO1xuICAgIHNpbiA9IE1hdGguc2luKC1hbmdsZSk7XG4gICAgbTExID0gbTExICogY29zICsgbTIxICogc2luO1xuICAgIHQyID0gbTEyICogY29zICsgbTIyICogc2luO1xuICAgIG0yMiA9IG0xMiAqIC1zaW4gKyBtMjIgKiBjb3M7XG4gICAgbTIzID0gbTEzICogLXNpbiArIG0yMyAqIGNvcztcbiAgICBtMTIgPSB0MjtcbiAgfVxuXG4gIGlmICh0bS5yb3RhdGVYICYmIE1hdGguYWJzKHRtLnJvdGF0ZVgpICsgTWF0aC5hYnModG0ucm90YXRlKSA+IDM1OS45KSB7XG4gICAgdG0ucm90YXRlWCA9IHRtLnJvdGF0ZSA9IDA7XG4gICAgdG0ucm90YXRlWSArPSAxODA7XG4gIH1cbiAgdG0uc2NhbGVYID0gdG9GaXhlZChNYXRoLnNxcnQobTExICogbTExICsgbTEyICogbTEyKSk7XG4gIHRtLnNjYWxlWSA9IHRvRml4ZWQoTWF0aC5zcXJ0KG0yMiAqIG0yMiArIG0zMiAqIG0zMikpO1xuICB0bS5zY2FsZVogPSB0b0ZpeGVkKE1hdGguc3FydChtMjMgKiBtMjMgKyBtMzMgKiBtMzMpKTtcbiAgLy8g5LiN566hIHNrZXdYIHNrZXdZ5LqG77ybXG4gIHRtLnNrZXdYID0gc2tld1ggPT09IC1za2V3WSA/IDAgOiBza2V3WDtcbiAgdG0uc2tld1kgPSBza2V3WSA9PT0gLXNrZXdYID8gMCA6IHNrZXdZO1xuICB0bS5wZXJzcGVjdGl2ZSA9IG0zNCA/IDEgLyAobTM0IDwgMCA/IC1tMzQgOiBtMzQpIDogMDtcbiAgdG0udHJhbnNsYXRlWCA9IG0ubTQxO1xuICB0bS50cmFuc2xhdGVZID0gbS5tNDI7XG4gIHRtLnRyYW5zbGF0ZVogPSBtNDM7XG4gIHJldHVybiB0bTtcbn1cblxuZnVuY3Rpb24gc3R5bGVzVG9Dc3Moa2V5LCB2YWx1ZSkge1xuICB2YXIgX3ZhbHVlID0gdm9pZCAwO1xuICBpZiAoIWlzVW5pdGxlc3NOdW1iZXJba2V5XSAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgX3ZhbHVlID0gJyAnICsgdmFsdWUgKyAncHgnO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gJ2NvbnRlbnQnICYmICF1bnF1b3RlZENvbnRlbnRWYWx1ZVJlZ2V4LnRlc3QodmFsdWUpKSB7XG4gICAgX3ZhbHVlID0gJ1xcJycgKyB2YWx1ZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikgKyAnXFwnJztcbiAgfVxuICByZXR1cm4gX3ZhbHVlIHx8IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBnZXRVbml0KHAsIHYpIHtcbiAgdmFyIGN1cnJlbnRVbml0ID0gdiAmJiB2LnRvU3RyaW5nKCkucmVwbGFjZSgvW15hLXp8JV0vaWcsICcnKTtcbiAgdmFyIHVuaXQgPSAnJztcbiAgaWYgKHAuaW5kZXhPZigndHJhbnNsYXRlJykgPj0gMCB8fCBwLmluZGV4T2YoJ3BlcnNwZWN0aXZlJykgPj0gMCB8fCBwLmluZGV4T2YoJ2JsdXInKSA+PSAwKSB7XG4gICAgdW5pdCA9ICdweCc7XG4gIH0gZWxzZSBpZiAocC5pbmRleE9mKCdza2V3JykgPj0gMCB8fCBwLmluZGV4T2YoJ3JvdGF0ZScpID49IDApIHtcbiAgICB1bml0ID0gJ2RlZyc7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRVbml0IHx8IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlcyhwLCBkLCB1KSB7XG4gIHJldHVybiBwICsgJygnICsgZCArICh1IHx8ICcnKSArICcpJztcbn1cblxuZnVuY3Rpb24gZmluZFN0eWxlQnlOYW1lKGNzc0FycmF5LCBuYW1lKSB7XG4gIHZhciByZXQgPSBudWxsO1xuICBpZiAoY3NzQXJyYXkpIHtcbiAgICBjc3NBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChfY25hbWUpIHtcbiAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNOYW1lID0gX2NuYW1lLnNwbGl0KCcoJylbMF07XG4gICAgICB2YXIgYSA9IGNOYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSAxKS5pbmRleE9mKGNOYW1lKSA+PSAwO1xuICAgICAgdmFyIGIgPSBuYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgY05hbWUuc3Vic3RyaW5nKDAsIGNOYW1lLmxlbmd0aCAtIDEpLmluZGV4T2YobmFtZSkgPj0gMDtcbiAgICAgIHZhciBjID0gY05hbWUgaW4gY3NzTGlzdC50cmFuc2Zvcm1Hcm91cCAmJiBuYW1lIGluIGNzc0xpc3QudHJhbnNmb3JtR3JvdXAgJiYgKGNOYW1lLnN1YnN0cmluZygwLCBjTmFtZS5sZW5ndGggLSAyKSA9PT0gbmFtZSB8fCBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDIpID09PSBjTmFtZSk7XG4gICAgICBpZiAoY05hbWUgPT09IG5hbWUgfHwgYSB8fCBiIHx8IGMpIHtcbiAgICAgICAgcmV0ID0gX2NuYW1lO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG1lcmdlU3R5bGUoY3VycmVudCwgY2hhbmdlKSB7XG4gIGlmICghY3VycmVudCB8fCBjdXJyZW50ID09PSAnJykge1xuICAgIHJldHVybiBjaGFuZ2U7XG4gIH1cbiAgaWYgKCFjaGFuZ2UgfHwgY2hhbmdlID09PSAnJykge1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG4gIHZhciBfY3VycmVudCA9IGN1cnJlbnQucmVwbGFjZSgvXFxzL2csICcnKS5zcGxpdCgnKScpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICE9PSAnJyAmJiBpdGVtO1xuICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSArICcpJztcbiAgfSk7XG4gIHZhciBfY2hhbmdlID0gY2hhbmdlLnJlcGxhY2UoL1xccy9nLCAnJykuc3BsaXQoJyknKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAhPT0gJycgJiYgaXRlbTtcbiAgfSk7XG4gIF9jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlT25seSkge1xuICAgIHZhciBjaGFuZ2VBcnIgPSBjaGFuZ2VPbmx5LnNwbGl0KCcoJyk7XG4gICAgdmFyIGNoYW5nZU5hbWUgPSBjaGFuZ2VBcnJbMF07XG4gICAgdmFyIGN1cnJlbnRTYW1lID0gZmluZFN0eWxlQnlOYW1lKF9jdXJyZW50LCBjaGFuZ2VOYW1lKTtcbiAgICBpZiAoIWN1cnJlbnRTYW1lKSB7XG4gICAgICBfY3VycmVudC5wdXNoKGNoYW5nZU9ubHkgKyAnKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaW5kZXggPSBfY3VycmVudC5pbmRleE9mKGN1cnJlbnRTYW1lKTtcbiAgICAgIF9jdXJyZW50W2luZGV4XSA9IGNoYW5nZU9ubHkgKyAnKSc7XG4gICAgfVxuICB9KTtcbiAgX2N1cnJlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgIGlmIChpdGVtLmluZGV4T2YoJ3BlcnNwZWN0aXZlJykgPj0gMCAmJiBpKSB7XG4gICAgICBfY3VycmVudC5zcGxpY2UoaSwgMSk7XG4gICAgICBfY3VycmVudC51bnNoaWZ0KGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfY3VycmVudC5qb2luKCcgJykudHJpbSgpO1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBjc3NMaXN0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtdXRpbHMvbWFpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuR3JvdXAgPSBleHBvcnRzLkJ1dHRvbiA9IHVuZGVmaW5lZDtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbnZhciBfZ3JvdXAgPSByZXF1aXJlKCcuL2dyb3VwJyk7XG5cbnZhciBfZ3JvdXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ3JvdXApO1xuXG52YXIgX3JhZGlvQnV0dG9uID0gcmVxdWlyZSgnLi9yYWRpb0J1dHRvbicpO1xuXG52YXIgX3JhZGlvQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvQnV0dG9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl9yYWRpbzJbXCJkZWZhdWx0XCJdLkJ1dHRvbiA9IF9yYWRpb0J1dHRvbjJbXCJkZWZhdWx0XCJdO1xuX3JhZGlvMltcImRlZmF1bHRcIl0uR3JvdXAgPSBfZ3JvdXAyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuQnV0dG9uID0gX3JhZGlvQnV0dG9uMltcImRlZmF1bHRcIl07XG5leHBvcnRzLkdyb3VwID0gX2dyb3VwMltcImRlZmF1bHRcIl07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IF9yYWRpbzJbXCJkZWZhdWx0XCJdO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3JhZGlvL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmNEcm9wZG93biA9IHJlcXVpcmUoJ3JjLWRyb3Bkb3duJyk7XG5cbnZhciBfcmNEcm9wZG93bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY0Ryb3Bkb3duKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoRHJvcGRvd24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRHJvcGRvd24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRHJvcGRvd24pO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgRHJvcGRvd24ucHJvdG90eXBlLmdldFRyYW5zaXRpb25OYW1lID0gZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbk5hbWUoKSB7XG4gICAgICAgIHZhciBfcHJvcHMkcGxhY2VtZW50ID0gdGhpcy5wcm9wcy5wbGFjZW1lbnQsXG4gICAgICAgICAgICBwbGFjZW1lbnQgPSBfcHJvcHMkcGxhY2VtZW50ID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRwbGFjZW1lbnQ7XG5cbiAgICAgICAgaWYgKHBsYWNlbWVudC5pbmRleE9mKCd0b3AnKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3NsaWRlLWRvd24nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnc2xpZGUtdXAnO1xuICAgIH07XG5cbiAgICBEcm9wZG93bi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscztcblxuICAgICAgICB2YXIgZHJvcGRvd25UcmlnZ2VyID0gKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGNoaWxkcmVuLCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShjaGlsZHJlbi5wcm9wcy5jbGFzc05hbWUsIHByZWZpeENscyArICctdHJpZ2dlcicpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY0Ryb3Bkb3duMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoeyB0cmFuc2l0aW9uTmFtZTogdGhpcy5nZXRUcmFuc2l0aW9uTmFtZSgpIH0sIHRoaXMucHJvcHMpLFxuICAgICAgICAgICAgZHJvcGRvd25UcmlnZ2VyXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBEcm9wZG93bjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEcm9wZG93bjtcblxuRHJvcGRvd24uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1kcm9wZG93bicsXG4gICAgbW91c2VFbnRlckRlbGF5OiAwLjE1LFxuICAgIG1vdXNlTGVhdmVEZWxheTogMC4xLFxuICAgIHBsYWNlbWVudDogJ2JvdHRvbUxlZnQnXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vZHJvcGRvd24uanNcbiAqKiBtb2R1bGUgaWQgPSA0NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi9yYWRpbycpO1xuXG52YXIgX3JhZGlvMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JhZGlvKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBSYWRpb0J1dHRvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShSYWRpb0J1dHRvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpb0J1dHRvbigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYWRpb0J1dHRvbik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmFkaW8yW1wiZGVmYXVsdFwiXSwgdGhpcy5wcm9wcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBSYWRpb0J1dHRvbjtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYWRpb0J1dHRvbjtcblxuUmFkaW9CdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1yYWRpby1idXR0b24nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vcmFkaW9CdXR0b24uanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNUYWJsZSA9IHJlcXVpcmUoJ3JjLXRhYmxlJyk7XG5cbnZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDb2x1bW5Hcm91cCA9IGZ1bmN0aW9uIChfUmNUYWJsZSRDb2x1bW5Hcm91cCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENvbHVtbkdyb3VwLCBfUmNUYWJsZSRDb2x1bW5Hcm91cCk7XG5cbiAgZnVuY3Rpb24gQ29sdW1uR3JvdXAoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDb2x1bW5Hcm91cCk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW5Hcm91cC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBDb2x1bW5Hcm91cDtcbn0oX3JjVGFibGUyW1wiZGVmYXVsdFwiXS5Db2x1bW5Hcm91cCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uR3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9Db2x1bW5Hcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vQ2hlY2tib3gnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jaGVja2JveC9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgWkVSTzogNDgsXG4gIE5JTkU6IDU3LFxuXG4gIE5VTVBBRF9aRVJPOiA5NixcbiAgTlVNUEFEX05JTkU6IDEwNSxcblxuICBCQUNLU1BBQ0U6IDgsXG4gIERFTEVURTogNDYsXG4gIEVOVEVSOiAxMyxcblxuICBBUlJPV19VUDogMzgsXG4gIEFSUk9XX0RPV046IDQwXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL0tleUNvZGUuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0ge1xuICAvLyBPcHRpb25zLmpzeFxuICBpdGVtc19wZXJfcGFnZTogJ+adoS/pobUnLFxuICBqdW1wX3RvOiAn6Lez6IezJyxcbiAgcGFnZTogJ+mhtScsXG5cbiAgLy8gUGFnaW5hdGlvbi5qc3hcbiAgcHJldl9wYWdlOiAn5LiK5LiA6aG1JyxcbiAgbmV4dF9wYWdlOiAn5LiL5LiA6aG1JyxcbiAgcHJldl81OiAn5ZCR5YmNIDUg6aG1JyxcbiAgbmV4dF81OiAn5ZCR5ZCOIDUg6aG1JyxcbiAgcHJldl8zOiAn5ZCR5YmNIDMg6aG1JyxcbiAgbmV4dF8zOiAn5ZCR5ZCOIDMg6aG1J1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL2xvY2FsZS96aF9DTi5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxuZXhwb3J0cy5nZXRUb2RheVRpbWUgPSBnZXRUb2RheVRpbWU7XG5leHBvcnRzLmdldFRpdGxlU3RyaW5nID0gZ2V0VGl0bGVTdHJpbmc7XG5leHBvcnRzLmdldFRvZGF5VGltZVN0ciA9IGdldFRvZGF5VGltZVN0cjtcbmV4cG9ydHMuc3luY1RpbWUgPSBzeW5jVGltZTtcbmV4cG9ydHMuZ2V0VGltZUNvbmZpZyA9IGdldFRpbWVDb25maWc7XG5leHBvcnRzLmlzVGltZVZhbGlkQnlDb25maWcgPSBpc1RpbWVWYWxpZEJ5Q29uZmlnO1xuZXhwb3J0cy5pc1RpbWVWYWxpZCA9IGlzVGltZVZhbGlkO1xuZXhwb3J0cy5pc0FsbG93ZWREYXRlID0gaXNBbGxvd2VkRGF0ZTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBkZWZhdWx0RGlzYWJsZWRUaW1lID0ge1xuICBkaXNhYmxlZEhvdXJzOiBmdW5jdGlvbiBkaXNhYmxlZEhvdXJzKCkge1xuICAgIHJldHVybiBbXTtcbiAgfSxcbiAgZGlzYWJsZWRNaW51dGVzOiBmdW5jdGlvbiBkaXNhYmxlZE1pbnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9LFxuICBkaXNhYmxlZFNlY29uZHM6IGZ1bmN0aW9uIGRpc2FibGVkU2Vjb25kcygpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldFRvZGF5VGltZSh2YWx1ZSkge1xuICB2YXIgdG9kYXkgPSAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xuICB0b2RheS5sb2NhbGUodmFsdWUubG9jYWxlKCkpLnV0Y09mZnNldCh2YWx1ZS51dGNPZmZzZXQoKSk7XG4gIHJldHVybiB0b2RheTtcbn1cblxuZnVuY3Rpb24gZ2V0VGl0bGVTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnllYXIoKSArICctJyArICh2YWx1ZS5tb250aCgpICsgMSkgKyAnLScgKyB2YWx1ZS5kYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGdldFRvZGF5VGltZVN0cih2YWx1ZSkge1xuICB2YXIgdG9kYXkgPSBnZXRUb2RheVRpbWUodmFsdWUpO1xuICByZXR1cm4gZ2V0VGl0bGVTdHJpbmcodG9kYXkpO1xufVxuXG5mdW5jdGlvbiBzeW5jVGltZShmcm9tLCB0bykge1xuICB0by5ob3VyKGZyb20uaG91cigpKTtcbiAgdG8ubWludXRlKGZyb20ubWludXRlKCkpO1xuICB0by5zZWNvbmQoZnJvbS5zZWNvbmQoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVDb25maWcodmFsdWUsIGRpc2FibGVkVGltZSkge1xuICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gZGlzYWJsZWRUaW1lID8gZGlzYWJsZWRUaW1lKHZhbHVlKSA6IHt9O1xuICBkaXNhYmxlZFRpbWVDb25maWcgPSAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHREaXNhYmxlZFRpbWUsIGRpc2FibGVkVGltZUNvbmZpZyk7XG4gIHJldHVybiBkaXNhYmxlZFRpbWVDb25maWc7XG59XG5cbmZ1bmN0aW9uIGlzVGltZVZhbGlkQnlDb25maWcodmFsdWUsIGRpc2FibGVkVGltZUNvbmZpZykge1xuICB2YXIgaW52YWxpZFRpbWUgPSBmYWxzZTtcbiAgaWYgKHZhbHVlKSB7XG4gICAgdmFyIGhvdXIgPSB2YWx1ZS5ob3VyKCk7XG4gICAgdmFyIG1pbnV0ZXMgPSB2YWx1ZS5taW51dGUoKTtcbiAgICB2YXIgc2Vjb25kcyA9IHZhbHVlLnNlY29uZCgpO1xuICAgIHZhciBkaXNhYmxlZEhvdXJzID0gZGlzYWJsZWRUaW1lQ29uZmlnLmRpc2FibGVkSG91cnMoKTtcbiAgICBpZiAoZGlzYWJsZWRIb3Vycy5pbmRleE9mKGhvdXIpID09PSAtMSkge1xuICAgICAgdmFyIGRpc2FibGVkTWludXRlcyA9IGRpc2FibGVkVGltZUNvbmZpZy5kaXNhYmxlZE1pbnV0ZXMoaG91cik7XG4gICAgICBpZiAoZGlzYWJsZWRNaW51dGVzLmluZGV4T2YobWludXRlcykgPT09IC0xKSB7XG4gICAgICAgIHZhciBkaXNhYmxlZFNlY29uZHMgPSBkaXNhYmxlZFRpbWVDb25maWcuZGlzYWJsZWRTZWNvbmRzKGhvdXIsIG1pbnV0ZXMpO1xuICAgICAgICBpbnZhbGlkVGltZSA9IGRpc2FibGVkU2Vjb25kcy5pbmRleE9mKHNlY29uZHMpICE9PSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRUaW1lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW52YWxpZFRpbWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gIWludmFsaWRUaW1lO1xufVxuXG5mdW5jdGlvbiBpc1RpbWVWYWxpZCh2YWx1ZSwgZGlzYWJsZWRUaW1lKSB7XG4gIHZhciBkaXNhYmxlZFRpbWVDb25maWcgPSBnZXRUaW1lQ29uZmlnKHZhbHVlLCBkaXNhYmxlZFRpbWUpO1xuICByZXR1cm4gaXNUaW1lVmFsaWRCeUNvbmZpZyh2YWx1ZSwgZGlzYWJsZWRUaW1lQ29uZmlnKTtcbn1cblxuZnVuY3Rpb24gaXNBbGxvd2VkRGF0ZSh2YWx1ZSwgZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWUpIHtcbiAgaWYgKGRpc2FibGVkRGF0ZSkge1xuICAgIGlmIChkaXNhYmxlZERhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChkaXNhYmxlZFRpbWUpIHtcbiAgICBpZiAoIWlzVGltZVZhbGlkKHZhbHVlLCBkaXNhYmxlZFRpbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi91dGlsL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1RhYmxlID0gcmVxdWlyZSgnLi9UYWJsZScpO1xuXG52YXIgX1RhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX1RhYmxlMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9yYWRpby9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9jaGVja2JveC9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9kcm9wZG93bi9zdHlsZScpO1xuXG5yZXF1aXJlKCcuLi8uLi9zcGluL3N0eWxlJyk7XG5cbnJlcXVpcmUoJy4uLy4uL3BhZ2luYXRpb24vc3R5bGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgX3N0eWxlVXRpbHMgPSByZXF1aXJlKCdzdHlsZS11dGlscycpO1xuXG52YXIgX1RpbWVMaW5lID0gcmVxdWlyZSgnLi9UaW1lTGluZScpO1xuXG52YXIgX1RpbWVMaW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVMaW5lKTtcblxudmFyIF9wbHVnaW5zID0gcmVxdWlyZSgnLi9wbHVnaW5zJyk7XG5cbnZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblxudmFyIF90aWNrZXIgPSByZXF1aXJlKCcuL3RpY2tlcicpO1xuXG52YXIgX3RpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aWNrZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgcGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG5cbnZhciBUd2Vlbk9uZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUd2Vlbk9uZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVHdlZW5PbmUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3ZWVuT25lKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5yZXN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc3RhcnRNb21lbnQgPSBfdGhpcy50aW1lTGluZS5wcm9ncmVzc1RpbWU7XG4gICAgICBfdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgICAgX3RoaXMucGxheSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcm9wcyA9IF90aGlzLnByb3BzO1xuICAgICAgaWYgKHByb3BzLmFuaW1hdGlvbiAmJiBPYmplY3Qua2V5cyhwcm9wcy5hbmltYXRpb24pLmxlbmd0aCkge1xuICAgICAgICBfdGhpcy50aW1lTGluZSA9IG5ldyBfVGltZUxpbmUyW1wiZGVmYXVsdFwiXShfdGhpcy5kb20sICgwLCBfdXRpbC5kYXRhVG9BcnJheSkocHJvcHMuYW5pbWF0aW9uKSwgeyBhdHRyOiBwcm9wcy5hdHRyLCB3aWxsQ2hhbmdlOiBwcm9wcy53aWxsQ2hhbmdlIH0pO1xuICAgICAgICAvLyDpooTlhYjms6jlhowgcmFmLCDliJ3lp4vliqjnlLvmlbDlgLzjgIJcbiAgICAgICAgX3RoaXMucmFmKDAsIHRydWUpO1xuICAgICAgICAvLyDlvIDlp4vliqjnlLtcbiAgICAgICAgX3RoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICBpZiAoX3RoaXMucGF1c2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLnJhZklEID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmFkZChfdGhpcy5yYWYpO1xuICAgIH07XG5cbiAgICBfdGhpcy5mcmFtZSA9IGZ1bmN0aW9uIChkYXRlLCByZWdpc3Rlcikge1xuICAgICAgdmFyIHJlZ2lzdGVyTW9tZW50ID0gcmVnaXN0ZXIgPyBkYXRlIDogMDtcbiAgICAgIHZhciBtb21lbnQgPSAoX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lIC0gX3RoaXMuc3RhcnRGcmFtZSkgKiBwZXJGcmFtZSArIHJlZ2lzdGVyTW9tZW50ICsgX3RoaXMuc3RhcnRNb21lbnQ7XG4gICAgICBpZiAoIXJlZ2lzdGVyICYmIG1vbWVudCA8IHBlckZyYW1lICYmIHR5cGVvZiBfdGhpcy5wcm9wcy5tb21lbnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIOazqOWGjOWujOWQju+8jOesrOS4gOW4p+mihOWFiOi3keWKqO+8jCDpvKDmoIfot5/pmo9cbiAgICAgICAgbW9tZW50ID0gcGVyRnJhbWU7XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMucmV2ZXJzZSkge1xuICAgICAgICBtb21lbnQgPSAoX3RoaXMuc3RhcnRNb21lbnQgfHwgMCkgLSAoX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lIC0gX3RoaXMuc3RhcnRGcmFtZSkgKiBwZXJGcmFtZTtcbiAgICAgIH1cbiAgICAgIG1vbWVudCA9IG1vbWVudCA+IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSA/IF90aGlzLnRpbWVMaW5lLnRvdGFsVGltZSA6IG1vbWVudDtcbiAgICAgIG1vbWVudCA9IG1vbWVudCA8PSAwID8gMCA6IG1vbWVudDtcbiAgICAgIGlmIChtb21lbnQgPCBfdGhpcy5tb21lbnQgJiYgIV90aGlzLnJldmVyc2UpIHtcbiAgICAgICAgX3RoaXMudGltZUxpbmUucmVzZXREZWZhdWx0U3R5bGUoKTtcbiAgICAgIH1cbiAgICAgIF90aGlzLm1vbWVudCA9IG1vbWVudDtcbiAgICAgIF90aGlzLnRpbWVMaW5lLm9uQ2hhbmdlID0gX3RoaXMub25DaGFuZ2U7XG4gICAgICBfdGhpcy50aW1lTGluZS5mcmFtZShtb21lbnQpO1xuICAgIH07XG5cbiAgICBfdGhpcy5yYWYgPSBmdW5jdGlvbiAoZGF0ZSwgcmVnaXN0ZXIpIHtcbiAgICAgIF90aGlzLmZyYW1lKGRhdGUsIHJlZ2lzdGVyKTtcbiAgICAgIGlmIChfdGhpcy5tb21lbnQgPj0gX3RoaXMudGltZUxpbmUudG90YWxUaW1lICYmICFfdGhpcy5yZXZlcnNlIHx8IF90aGlzLnBhdXNlZCB8fCBfdGhpcy5yZXZlcnNlICYmIF90aGlzLm1vbWVudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gX3RoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLmNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aWNrZXIyW1wiZGVmYXVsdFwiXS5jbGVhcihfdGhpcy5yYWZJRCk7XG4gICAgICBfdGhpcy5yYWZJRCA9IC0xO1xuICAgIH07XG5cbiAgICBfdGhpcy5yYWZJRCA9IC0xO1xuICAgIF90aGlzLm1vbWVudCA9IF90aGlzLnByb3BzLm1vbWVudCB8fCAwO1xuICAgIF90aGlzLnN0YXJ0TW9tZW50ID0gX3RoaXMucHJvcHMubW9tZW50IHx8IDA7XG4gICAgX3RoaXMuc3RhcnRGcmFtZSA9IF90aWNrZXIyW1wiZGVmYXVsdFwiXS5mcmFtZTtcbiAgICBfdGhpcy5wYXVzZWQgPSBfdGhpcy5wcm9wcy5wYXVzZWQ7XG4gICAgX3RoaXMucmV2ZXJzZSA9IF90aGlzLnByb3BzLnJldmVyc2U7XG4gICAgX3RoaXMub25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICBfdGhpcy5uZXdNb21lbnRBbmltID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5kb20gPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH07XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5vbkNoYW5nZSA9IG5leHRQcm9wcy5vbkNoYW5nZTtcbiAgICAvLyDot7PluKfkuovku7YgbW9tZW50O1xuICAgIHZhciBuZXdNb21lbnQgPSBuZXh0UHJvcHMubW9tZW50O1xuICAgIHRoaXMubmV3TW9tZW50QW5pbSA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgbmV3TW9tZW50ID09PSAnbnVtYmVyJyAmJiBuZXdNb21lbnQgIT09IHRoaXMubW9tZW50KSB7XG4gICAgICB0aGlzLnN0YXJ0TW9tZW50ID0gbmV3TW9tZW50O1xuICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgICAgaWYgKHRoaXMucmFmSUQgPT09IC0xICYmICFuZXh0UHJvcHMucGF1c2VkKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnRpbWVMaW5lLnJlc2V0QW5pbURhdGEoKTtcbiAgICAgICAgICB2YXIgc3R5bGUgPSBuZXh0UHJvcHMuc3R5bGU7XG4gICAgICAgICAgX3RoaXMyLmRvbS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuICAgICAgICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIF90aGlzMi5kb20uc3R5bGVba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5zdHlsZXNUb0Nzcykoa2V5LCBzdHlsZVtrZXldKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfdGhpczIucGxheSgpO1xuICAgICAgICB9KSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXdNb21lbnRBbmltID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8g5Yqo55S75aSE55CGXG4gICAgdmFyIG5ld0FuaW1hdGlvbiA9IG5leHRQcm9wcy5hbmltYXRpb247XG4gICAgdmFyIGN1cnJlbnRBbmltYXRpb24gPSB0aGlzLnByb3BzLmFuaW1hdGlvbjtcbiAgICB2YXIgZXF1YWwgPSAoMCwgX3V0aWwub2JqZWN0RXF1YWwpKGN1cnJlbnRBbmltYXRpb24sIG5ld0FuaW1hdGlvbik7XG4gICAgdmFyIHN0eWxlRXF1YWwgPSAoMCwgX3V0aWwub2JqZWN0RXF1YWwpKHRoaXMucHJvcHMuc3R5bGUsIG5leHRQcm9wcy5zdHlsZSk7XG4gICAgLy8g5aaC5p6cIGFuaW1hdGlvbiDkuI3lkIzvvIwg6YeN5paw5Yqo55S7XG4gICAgdGhpcy5yZXN0YXJ0QW5pbSA9IGZhbHNlO1xuICAgIGlmICghZXF1YWwpIHtcbiAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICBpZiAobmV4dFByb3BzLnJlc2V0U3R5bGVCb29sICYmIHRoaXMudGltZUxpbmUpIHtcbiAgICAgICAgdGhpcy50aW1lTGluZS5yZXNldERlZmF1bHRTdHlsZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGFydE1vbWVudCA9IDA7XG4gICAgICB0aGlzLnN0YXJ0RnJhbWUgPSBfdGlja2VyMltcImRlZmF1bHRcIl0uZnJhbWU7XG4gICAgICB0aGlzLnJlc3RhcnRBbmltID0gdHJ1ZTtcbiAgICAgIC8vIHRoaXMuc3RhcnQobmV4dFByb3BzKTtcbiAgICB9IGVsc2UgaWYgKCFzdHlsZUVxdWFsKSB7XG4gICAgICAvLyDlpoLmnpwgYW5pbWF0aW9uIOebuOWQjO+8jO+8jHN0eWxlIOS4jeWQjO+8jOS7juW9k+WJjeaXtumXtOW8gOaUvuOAglxuICAgICAgaWYgKHRoaXMucmFmSUQgIT09IC0xKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICAgIHRoaXMuc3RhcnRNb21lbnQgPSB0aGlzLnRpbWVMaW5lLnByb2dyZXNzVGltZTtcbiAgICAgICAgdGhpcy5zdGFydEZyYW1lID0gX3RpY2tlcjJbXCJkZWZhdWx0XCJdLmZyYW1lO1xuICAgICAgICB0aGlzLnJlc3RhcnRBbmltID0gdHJ1ZTtcbiAgICAgICAgLy8gdGhpcy5zdGFydChuZXh0UHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyDmmoLlgZzlgJLmlL5cbiAgICBpZiAodGhpcy5wYXVzZWQgIT09IG5leHRQcm9wcy5wYXVzZWQgfHwgdGhpcy5yZXZlcnNlICE9PSBuZXh0UHJvcHMucmV2ZXJzZSkge1xuICAgICAgdGhpcy5wYXVzZWQgPSBuZXh0UHJvcHMucGF1c2VkO1xuICAgICAgdGhpcy5yZXZlcnNlID0gbmV4dFByb3BzLnJldmVyc2U7XG4gICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnJldmVyc2UgJiYgbmV4dFByb3BzLnJldmVyc2VEZWxheSkge1xuICAgICAgICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgICAgICAgX3RpY2tlcjJbXCJkZWZhdWx0XCJdLnRpbWVvdXQodGhpcy5yZXN0YXJ0LCBuZXh0UHJvcHMucmV2ZXJzZURlbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUd2Vlbk9uZS5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIC8vIOagt+W8j+abtOaWsOS6huWQjuWGjeaJp+ihjOWKqOeUu++8m1xuICAgIGlmICh0aGlzLnJlc3RhcnRBbmltKSB7XG4gICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm5ld01vbWVudEFuaW0pIHtcbiAgICAgIHRoaXMucmFmKCk7XG4gICAgfVxuICB9O1xuXG4gIFR3ZWVuT25lLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gIH07XG5cbiAgVHdlZW5PbmUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcyk7XG4gICAgWydhbmltYXRpb24nLCAnY29tcG9uZW50JywgJ3JldmVyc2VEZWxheScsICdhdHRyJywgJ3BhdXNlZCcsICdyZXZlcnNlJywgJ21vbWVudCcsICdyZXNldFN0eWxlQm9vbCcsICd3aWxsQ2hhbmdlJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gZGVsZXRlIHByb3BzW2tleV07XG4gICAgfSk7XG4gICAgcHJvcHMuc3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5zdHlsZSk7XG4gICAgT2JqZWN0LmtleXMocHJvcHMuc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgIGlmIChwLm1hdGNoKC9maWx0ZXIvaSkpIHtcbiAgICAgICAgWydXZWJraXQnLCAnTW96JywgJ01zJywgJ21zJ10uZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BzLnN0eWxlW3ByZWZpeCArICdGaWx0ZXInXSA9IHByb3BzLnN0eWxlW3BdO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9wcy5jb21wb25lbnQgPSB0eXBlb2YgcHJvcHMuY29tcG9uZW50ID09PSAnZnVuY3Rpb24nID8gdGhpcy5wcm9wcy5jb21wb25lbnRSZXBsYWNlIDogcHJvcHMuY29tcG9uZW50O1xuICAgIGlmICghcHJvcHMuY29tcG9uZW50KSB7XG4gICAgICBkZWxldGUgcHJvcHMuY29tcG9uZW50O1xuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbXBvbmVudCwgcHJvcHMpO1xuICB9O1xuXG4gIHJldHVybiBUd2Vlbk9uZTtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBvYmplY3RPckFycmF5ID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5XSk7XG5cblR3ZWVuT25lLnByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgY29tcG9uZW50UmVwbGFjZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGFuaW1hdGlvbjogb2JqZWN0T3JBcnJheSxcbiAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHBhdXNlZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICByZXZlcnNlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHJldmVyc2VEZWxheTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG1vbWVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGF0dHI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbn07XG5cblR3ZWVuT25lLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29tcG9uZW50OiAnZGl2JyxcbiAgcmV2ZXJzZURlbGF5OiAwLFxuICBhdHRyOiAnc3R5bGUnLFxuICBvbkNoYW5nZTogbm9vcCxcbiAgd2lsbENoYW5nZTogdHJ1ZVxufTtcblR3ZWVuT25lLnBsdWdpbnMgPSBfcGx1Z2luczJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUd2Vlbk9uZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXR3ZWVuLW9uZS9saWIvVHdlZW5PbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHdlZW5GdW5jdGlvbnMgPSByZXF1aXJlKCd0d2Vlbi1mdW5jdGlvbnMnKTtcblxudmFyIF90d2VlbkZ1bmN0aW9uczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90d2VlbkZ1bmN0aW9ucyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl0ucGF0aCA9IGZ1bmN0aW9uIChfcGF0aCwgX3BhcmFtKSB7XG4gIHZhciBwYXJhbSA9IF9wYXJhbSB8fCB7fTtcbiAgdmFyIHBhdGhOb2RlID0gKDAsIF91dGlsLnBhcnNlUGF0aCkoX3BhdGgpO1xuICB2YXIgcGF0aExlbmd0aCA9IHBhdGhOb2RlLmdldFRvdGFsTGVuZ3RoKCk7XG4gIHZhciByZWN0ID0gcGFyYW0ucmVjdCB8fCAxMDA7IC8vIHBhdGgg55qE5aSn5bCP77yMMTAwICogMTAw77yMXG4gIHZhciBsZW5ndGhQaXhlbCA9IHBhcmFtLmxlbmd0aFBpeGVsIHx8IDE1MDA7IC8vIOe6v+S4iuWPlueCueWDj+e0oO+8jOm7mOiupOWIhuS4uiAxNTAwIOauteOAguOAglxuICB2YXIgcG9pbnRzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoUGl4ZWw7IGkrKykge1xuICAgIHBvaW50cy5wdXNoKHBhdGhOb2RlLmdldFBvaW50QXRMZW5ndGgocGF0aExlbmd0aCAvIGxlbmd0aFBpeGVsICogaSkpO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBwYXRoKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIHAgPSBfdHdlZW5GdW5jdGlvbnMyW1wiZGVmYXVsdFwiXS5saW5lYXIodCwgYiwgX2MsIGQpO1xuICAgIHZhciB0aW1lUG9pbnRYID0gcmVjdCAqIHA7IC8vIFgg6L2055qE55m+5YiG5q+UO1xuICAgIC8vIOWPluWHuiB4IOi9tOeZvuWIhuavlOS4iueahOeCuTtcbiAgICB2YXIgcG9pbnQgPSBwb2ludHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS54ID49IHRpbWVQb2ludFg7XG4gICAgfSlbMF0gfHwgcGF0aE5vZGUuZ2V0UG9pbnRBdExlbmd0aChwICogcGF0aExlbmd0aCk7XG4gICAgcmV0dXJuIDEgLSBwb2ludC55IC8gcmVjdDtcbiAgfTtcbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX3R3ZWVuRnVuY3Rpb25zMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL2Vhc2luZy5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsImV4cG9ydCBjb25zdCBNRU5VID0gMVxyXG5leHBvcnQgY29uc3QgREVUQUlMID0gMlxyXG5leHBvcnQgY29uc3QgQUREID0gM1xyXG5leHBvcnQgY29uc3QgVVBEQVRFID0gNFxyXG5leHBvcnQgY29uc3QgREVMRVRFID0gNVxyXG5leHBvcnQgY29uc3QgQ0hFQ0sgPSA2XHJcbmV4cG9ydCBjb25zdCBVUExPQUQgPSA3XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbnN0YW50cy9vcHRpb25zLmpzXG4gKiovIiwidmFyIG5vdyA9IHJlcXVpcmUoJ3BlcmZvcm1hbmNlLW5vdycpXG4gICwgcm9vdCA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93XG4gICwgdmVuZG9ycyA9IFsnbW96JywgJ3dlYmtpdCddXG4gICwgc3VmZml4ID0gJ0FuaW1hdGlvbkZyYW1lJ1xuICAsIHJhZiA9IHJvb3RbJ3JlcXVlc3QnICsgc3VmZml4XVxuICAsIGNhZiA9IHJvb3RbJ2NhbmNlbCcgKyBzdWZmaXhdIHx8IHJvb3RbJ2NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxuXG5mb3IodmFyIGkgPSAwOyAhcmFmICYmIGkgPCB2ZW5kb3JzLmxlbmd0aDsgaSsrKSB7XG4gIHJhZiA9IHJvb3RbdmVuZG9yc1tpXSArICdSZXF1ZXN0JyArIHN1ZmZpeF1cbiAgY2FmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ0NhbmNlbCcgKyBzdWZmaXhdXG4gICAgICB8fCByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG59XG5cbi8vIFNvbWUgdmVyc2lvbnMgb2YgRkYgaGF2ZSByQUYgYnV0IG5vdCBjQUZcbmlmKCFyYWYgfHwgIWNhZikge1xuICB2YXIgbGFzdCA9IDBcbiAgICAsIGlkID0gMFxuICAgICwgcXVldWUgPSBbXVxuICAgICwgZnJhbWVEdXJhdGlvbiA9IDEwMDAgLyA2MFxuXG4gIHJhZiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICB2YXIgX25vdyA9IG5vdygpXG4gICAgICAgICwgbmV4dCA9IE1hdGgubWF4KDAsIGZyYW1lRHVyYXRpb24gLSAoX25vdyAtIGxhc3QpKVxuICAgICAgbGFzdCA9IG5leHQgKyBfbm93XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3AgPSBxdWV1ZS5zbGljZSgwKVxuICAgICAgICAvLyBDbGVhciBxdWV1ZSBoZXJlIHRvIHByZXZlbnRcbiAgICAgICAgLy8gY2FsbGJhY2tzIGZyb20gYXBwZW5kaW5nIGxpc3RlbmVyc1xuICAgICAgICAvLyB0byB0aGUgY3VycmVudCBmcmFtZSdzIHF1ZXVlXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYoIWNwW2ldLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICBjcFtpXS5jYWxsYmFjayhsYXN0KVxuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRocm93IGUgfSwgMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIE1hdGgucm91bmQobmV4dCkpXG4gICAgfVxuICAgIHF1ZXVlLnB1c2goe1xuICAgICAgaGFuZGxlOiArK2lkLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgY2FuY2VsbGVkOiBmYWxzZVxuICAgIH0pXG4gICAgcmV0dXJuIGlkXG4gIH1cblxuICBjYWYgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHF1ZXVlW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG4gICAgICAgIHF1ZXVlW2ldLmNhbmNlbGxlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbikge1xuICAvLyBXcmFwIGluIGEgbmV3IGZ1bmN0aW9uIHRvIHByZXZlbnRcbiAgLy8gYGNhbmNlbGAgcG90ZW50aWFsbHkgYmVpbmcgYXNzaWduZWRcbiAgLy8gdG8gdGhlIG5hdGl2ZSByQUYgZnVuY3Rpb25cbiAgcmV0dXJuIHJhZi5jYWxsKHJvb3QsIGZuKVxufVxubW9kdWxlLmV4cG9ydHMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gIGNhZi5hcHBseShyb290LCBhcmd1bWVudHMpXG59XG5tb2R1bGUuZXhwb3J0cy5wb2x5ZmlsbCA9IGZ1bmN0aW9uKCkge1xuICByb290LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHJhZlxuICByb290LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2FmXG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYWYvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5Jyk7XG5cbnZhciBfdG9Db25zdW1hYmxlQXJyYXkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Db25zdW1hYmxlQXJyYXkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi9pbmRleCcpO1xuXG52YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luZGV4KTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4gPSByZXF1aXJlKCdyYy11dGlsL2xpYi9QdXJlUmVuZGVyTWl4aW4nKTtcblxudmFyIF9QdXJlUmVuZGVyTWl4aW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHVyZVJlbmRlck1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDaGVja2JveEdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKENoZWNrYm94R3JvdXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ2hlY2tib3hHcm91cChwcm9wcykge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENoZWNrYm94R3JvdXApO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy50b2dnbGVPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uSW5kZXggPSBfdGhpcy5zdGF0ZS52YWx1ZS5pbmRleE9mKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBbXS5jb25jYXQoKDAsIF90b0NvbnN1bWFibGVBcnJheTNbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS52YWx1ZSkpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWUuc3BsaWNlKG9wdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyB2YWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb25DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlIHx8IFtdXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlIHx8IFtdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDaGVja2JveEdyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucztcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy83OTYwXG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb25cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIENoZWNrYm94R3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucygpLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfaW5kZXgyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IGRpc2FibGVkOiAnZGlzYWJsZWQnIGluIG9wdGlvbiA/IG9wdGlvbi5kaXNhYmxlZCA6IF90aGlzMi5wcm9wcy5kaXNhYmxlZCwgY2hlY2tlZDogX3RoaXMyLnN0YXRlLnZhbHVlLmluZGV4T2Yob3B0aW9uLnZhbHVlKSAhPT0gLTEsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudG9nZ2xlT3B0aW9uKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtJywga2V5OiBvcHRpb24udmFsdWUgfSxcbiAgICAgICAgICAgICAgICBvcHRpb24ubGFiZWxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2xhc3NTdHJpbmcgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nIH0sXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBDaGVja2JveEdyb3VwO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENoZWNrYm94R3JvdXA7XG5cbkNoZWNrYm94R3JvdXAuZGVmYXVsdFByb3BzID0ge1xuICAgIG9wdGlvbnM6IFtdLFxuICAgIHByZWZpeENsczogJ2FudC1jaGVja2JveC1ncm91cCdcbn07XG5DaGVja2JveEdyb3VwLnByb3BUeXBlcyA9IHtcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheSxcbiAgICB2YWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuICAgIG9wdGlvbnM6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuY1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2NoZWNrYm94L0dyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfYnV0dG9uID0gcmVxdWlyZSgnLi4vYnV0dG9uJyk7XG5cbnZhciBfYnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2J1dHRvbik7XG5cbnZhciBfaWNvbiA9IHJlcXVpcmUoJy4uL2ljb24nKTtcblxudmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXG52YXIgX2Ryb3Bkb3duID0gcmVxdWlyZSgnLi9kcm9wZG93bicpO1xuXG52YXIgX2Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Ryb3Bkb3duKTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbnZhciBCdXR0b25Hcm91cCA9IF9idXR0b24yW1wiZGVmYXVsdFwiXS5Hcm91cDtcblxudmFyIERyb3Bkb3duQnV0dG9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERyb3Bkb3duQnV0dG9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIERyb3Bkb3duQnV0dG9uKCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERyb3Bkb3duQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIERyb3Bkb3duQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICAgIG92ZXJsYXkgPSBfYS5vdmVybGF5LFxuICAgICAgICAgICAgdHJpZ2dlciA9IF9hLnRyaWdnZXIsXG4gICAgICAgICAgICBhbGlnbiA9IF9hLmFsaWduLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfYS5kaXNhYmxlZCxcbiAgICAgICAgICAgIHZpc2libGUgPSBfYS52aXNpYmxlLFxuICAgICAgICAgICAgb25WaXNpYmxlQ2hhbmdlID0gX2Eub25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICAgICAgcmVzdFByb3BzID0gX19yZXN0KF9hLCBbXCJ0eXBlXCIsIFwib3ZlcmxheVwiLCBcInRyaWdnZXJcIiwgXCJhbGlnblwiLCBcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCIsIFwib25DbGlja1wiLCBcInByZWZpeENsc1wiLCBcImRpc2FibGVkXCIsIFwidmlzaWJsZVwiLCBcIm9uVmlzaWJsZUNoYW5nZVwiXSk7XG4gICAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkocHJlZml4Q2xzLCBjbGFzc05hbWUpO1xuICAgICAgICB2YXIgZHJvcGRvd25Qcm9wcyA9IHtcbiAgICAgICAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgICAgICAgIG92ZXJsYXk6IG92ZXJsYXksXG4gICAgICAgICAgICB0cmlnZ2VyOiBkaXNhYmxlZCA/IFtdIDogdHJpZ2dlcixcbiAgICAgICAgICAgIG9uVmlzaWJsZUNoYW5nZTogb25WaXNpYmxlQ2hhbmdlXG4gICAgICAgIH07XG4gICAgICAgIGlmICgndmlzaWJsZScgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgZHJvcGRvd25Qcm9wcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIEJ1dHRvbkdyb3VwLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCByZXN0UHJvcHMsIHsgY2xhc3NOYW1lOiBjbHMgfSksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IHR5cGU6IHR5cGUsIG9uQ2xpY2s6IG9uQ2xpY2ssIGRpc2FibGVkOiBkaXNhYmxlZCB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICBkcm9wZG93blByb3BzLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIF9idXR0b24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiB0eXBlLCBkaXNhYmxlZDogZGlzYWJsZWQgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdkb3duJyB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIERyb3Bkb3duQnV0dG9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duQnV0dG9uO1xuXG5Ecm9wZG93bkJ1dHRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgYWxpZ246IHtcbiAgICAgICAgcG9pbnRzOiBbJ3RyJywgJ2JyJ10sXG4gICAgICAgIG92ZXJsYXk6IHtcbiAgICAgICAgICAgIGFkanVzdFg6IDEsXG4gICAgICAgICAgICBhZGp1c3RZOiAxXG4gICAgICAgIH0sXG4gICAgICAgIG9mZnNldDogWzAsIDRdLFxuICAgICAgICB0YXJnZXRPZmZzZXQ6IFswLCAwXVxuICAgIH0sXG4gICAgdHlwZTogJ2RlZmF1bHQnLFxuICAgIHByZWZpeENsczogJ2FudC1kcm9wZG93bi1idXR0b24nXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZHJvcGRvd24vZHJvcGRvd24tYnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZHJvcGRvd24gPSByZXF1aXJlKCcuL2Ryb3Bkb3duJyk7XG5cbnZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXG52YXIgX2Ryb3Bkb3duQnV0dG9uID0gcmVxdWlyZSgnLi9kcm9wZG93bi1idXR0b24nKTtcblxudmFyIF9kcm9wZG93bkJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kcm9wZG93bkJ1dHRvbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5fZHJvcGRvd24yW1wiZGVmYXVsdFwiXS5CdXR0b24gPSBfZHJvcGRvd25CdXR0b24yW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX2Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kcm9wZG93bi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9idXR0b24vc3R5bGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kcm9wZG93bi9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3NlbGVjdCA9IHJlcXVpcmUoJy4uL3NlbGVjdCcpO1xuXG52YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE1pbmlTZWxlY3QgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTWluaVNlbGVjdCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBNaW5pU2VsZWN0KCkge1xuICAgICAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIE1pbmlTZWxlY3QpO1xuICAgICAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgTWluaVNlbGVjdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfc2VsZWN0MltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IHNpemU6ICdzbWFsbCcgfSwgdGhpcy5wcm9wcykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWluaVNlbGVjdDtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBNaW5pU2VsZWN0O1xuXG5NaW5pU2VsZWN0Lk9wdGlvbiA9IF9zZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL01pbmlTZWxlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA4OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yY1BhZ2luYXRpb24gPSByZXF1aXJlKCdyYy1wYWdpbmF0aW9uJyk7XG5cbnZhciBfcmNQYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjUGFnaW5hdGlvbik7XG5cbnZhciBfc2VsZWN0ID0gcmVxdWlyZSgnLi4vc2VsZWN0Jyk7XG5cbnZhciBfc2VsZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlbGVjdCk7XG5cbnZhciBfTWluaVNlbGVjdCA9IHJlcXVpcmUoJy4vTWluaVNlbGVjdCcpO1xuXG52YXIgX01pbmlTZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTWluaVNlbGVjdCk7XG5cbnZhciBfemhfQ04gPSByZXF1aXJlKCdyYy1wYWdpbmF0aW9uL2xpYi9sb2NhbGUvemhfQ04nKTtcblxudmFyIF96aF9DTjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF96aF9DTik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShQYWdpbmF0aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFBhZ2luYXRpb24oKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUGFnaW5hdGlvbik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgdmFyIHNlbGVjdENvbXBvbmVudENsYXNzID0gX3NlbGVjdDJbXCJkZWZhdWx0XCJdO1xuICAgICAgICB2YXIgbG9jYWxlID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmFudExvY2FsZSAmJiB0aGlzLmNvbnRleHQuYW50TG9jYWxlLlBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMuY29udGV4dC5hbnRMb2NhbGUuUGFnaW5hdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IHRoaXMucHJvcHMubG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIG1pbmknO1xuICAgICAgICAgICAgc2VsZWN0Q29tcG9uZW50Q2xhc3MgPSBfTWluaVNlbGVjdDJbXCJkZWZhdWx0XCJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1BhZ2luYXRpb24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHsgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IHNlbGVjdENvbXBvbmVudENsYXNzLCBzZWxlY3RQcmVmaXhDbHM6IHRoaXMucHJvcHMuc2VsZWN0UHJlZml4Q2xzIH0sIHRoaXMucHJvcHMsIHsgbG9jYWxlOiBsb2NhbGUsIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0pKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhZ2luYXRpb247XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGFnaW5hdGlvbjtcblxuUGFnaW5hdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiBfemhfQ04yW1wiZGVmYXVsdFwiXSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHByZWZpeENsczogJ2FudC1wYWdpbmF0aW9uJyxcbiAgICBzZWxlY3RQcmVmaXhDbHM6ICdhbnQtc2VsZWN0J1xufTtcblBhZ2luYXRpb24uY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3BhZ2luYXRpb24vUGFnaW5hdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX1BhZ2luYXRpb24gPSByZXF1aXJlKCcuL1BhZ2luYXRpb24nKTtcblxudmFyIF9QYWdpbmF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BhZ2luYXRpb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfUGFnaW5hdGlvbjJbXCJkZWZhdWx0XCJdO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcGFnaW5hdGlvbi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9zZWxlY3Qvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vaW5wdXQvc3R5bGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9wYWdpbmF0aW9uL3N0eWxlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbnZhciBfcmFkaW9CdXR0b24gPSByZXF1aXJlKCcuL3JhZGlvQnV0dG9uJyk7XG5cbnZhciBfcmFkaW9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW9CdXR0b24pO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL1B1cmVSZW5kZXJNaXhpbicpO1xuXG52YXIgX1B1cmVSZW5kZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QdXJlUmVuZGVyTWl4aW4pO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENoZWNrZWRWYWx1ZShjaGlsZHJlbikge1xuICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAocmFkaW8pIHtcbiAgICAgICAgaWYgKHJhZGlvICYmIHJhZGlvLnByb3BzICYmIHJhZGlvLnByb3BzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcmFkaW8ucHJvcHMudmFsdWU7XG4gICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBtYXRjaGVkID8geyB2YWx1ZTogdmFsdWUgfSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIFJhZGlvR3JvdXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFkaW9Hcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBSYWRpb0dyb3VwKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgUmFkaW9Hcm91cCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLm9uUmFkaW9DaGFuZ2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWUgPSBfdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2LnRhcmdldC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UgJiYgdmFsdWUgIT09IGxhc3RWYWx1ZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIHZhbHVlID0gY2hlY2tlZFZhbHVlICYmIGNoZWNrZWRWYWx1ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgUmFkaW9Hcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZFZhbHVlID0gZ2V0Q2hlY2tlZFZhbHVlKG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGVja2VkVmFsdWUudmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSYWRpb0dyb3VwLnByb3RvdHlwZS5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKSB7XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9QdXJlUmVuZGVyTWl4aW4yW1wiZGVmYXVsdFwiXS5zaG91bGRDb21wb25lbnRVcGRhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcblxuICAgIFJhZGlvR3JvdXAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gIXByb3BzLmNoaWxkcmVuID8gW10gOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5tYXAocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChyYWRpbykge1xuICAgICAgICAgICAgaWYgKHJhZGlvICYmIChyYWRpby50eXBlID09PSBfcmFkaW8yW1wiZGVmYXVsdFwiXSB8fCByYWRpby50eXBlID09PSBfcmFkaW9CdXR0b24yW1wiZGVmYXVsdFwiXSkgJiYgcmFkaW8ucHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHJhZGlvLCAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcmFkaW8ucHJvcHMsIHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5vblJhZGlvQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBfdGhpczIuc3RhdGUudmFsdWUgPT09IHJhZGlvLnByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogcmFkaW8ucHJvcHMuZGlzYWJsZWQgfHwgX3RoaXMyLnByb3BzLmRpc2FibGVkXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJhZGlvO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB1bmRlZmluZWQgPyAnYW50LXJhZGlvLWdyb3VwJyA6IF9wcm9wcyRwcmVmaXhDbHMsXG4gICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lO1xuXG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKShwcmVmaXhDbHMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctJyArIHByb3BzLnNpemUsIHByb3BzLnNpemUpLCBjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogcHJvcHMuc3R5bGUsIG9uTW91c2VFbnRlcjogcHJvcHMub25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmU6IHByb3BzLm9uTW91c2VMZWF2ZSB9LFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJhZGlvR3JvdXA7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUmFkaW9Hcm91cDtcblxuUmFkaW9Hcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZWQ6IGZhbHNlXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvcmFkaW8vZ3JvdXAuanNcbiAqKiBtb2R1bGUgaWQgPSA5M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9ncmlkL3N0eWxlL2luZGV4Lmxlc3MnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9yb3cvc3R5bGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmNUYWJsZSA9IHJlcXVpcmUoJ3JjLXRhYmxlJyk7XG5cbnZhciBfcmNUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RhYmxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDb2x1bW4gPSBmdW5jdGlvbiAoX1JjVGFibGUkQ29sdW1uKSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoQ29sdW1uLCBfUmNUYWJsZSRDb2x1bW4pO1xuXG4gIGZ1bmN0aW9uIENvbHVtbigpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIENvbHVtbik7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmNUYWJsZSRDb2x1bW4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uO1xufShfcmNUYWJsZTJbXCJkZWZhdWx0XCJdLkNvbHVtbik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvQ29sdW1uLmpzXG4gKiogbW9kdWxlIGlkID0gOTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIG9uQ2xpY2s6IHByb3BzLm9uQ2xpY2sgfSxcbiAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICApO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlci5qc1xuICoqIG1vZHVsZSBpZCA9IDk2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2hlY2tib3ggPSByZXF1aXJlKCcuLi9jaGVja2JveCcpO1xuXG52YXIgX2NoZWNrYm94MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrYm94KTtcblxudmFyIF9yYWRpbyA9IHJlcXVpcmUoJy4uL3JhZGlvJyk7XG5cbnZhciBfcmFkaW8yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmFkaW8pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFNlbGVjdGlvbkJveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShTZWxlY3Rpb25Cb3gsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gU2VsZWN0aW9uQm94KHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQm94KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjaGVja2VkOiBfdGhpcy5nZXRDaGVja1N0YXRlKHByb3BzKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmliZSgpO1xuICAgIH07XG5cbiAgICBTZWxlY3Rpb25Cb3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IF90aGlzMi5nZXRDaGVja1N0YXRlKF90aGlzMi5wcm9wcyk7XG4gICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBjaGVja2VkOiBjaGVja2VkIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQm94LnByb3RvdHlwZS5nZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gZ2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgc3RvcmUgPSBwcm9wcy5zdG9yZSxcbiAgICAgICAgICAgIGRlZmF1bHRTZWxlY3Rpb24gPSBwcm9wcy5kZWZhdWx0U2VsZWN0aW9uLFxuICAgICAgICAgICAgcm93SW5kZXggPSBwcm9wcy5yb3dJbmRleDtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2VkID0gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihyb3dJbmRleCkgPj0gMCB8fCBkZWZhdWx0U2VsZWN0aW9uLmluZGV4T2Yocm93SW5kZXgpID49IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkJveC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHR5cGUgPSBfcHJvcHMudHlwZSxcbiAgICAgICAgICAgIHJvd0luZGV4ID0gX3Byb3BzLnJvd0luZGV4LFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZTtcbiAgICAgICAgdmFyIGNoZWNrZWQgPSB0aGlzLnN0YXRlLmNoZWNrZWQ7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgb25DaGFuZ2U6IG9uQ2hhbmdlLCB2YWx1ZTogcm93SW5kZXgsIGNoZWNrZWQ6IGNoZWNrZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogY2hlY2tlZCwgZGlzYWJsZWQ6IGRpc2FibGVkLCBvbkNoYW5nZTogb25DaGFuZ2UgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZWxlY3Rpb25Cb3g7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gU2VsZWN0aW9uQm94O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQm94LmpzXG4gKiogbW9kdWxlIGlkID0gOTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jaGVja2JveCA9IHJlcXVpcmUoJy4uL2NoZWNrYm94Jyk7XG5cbnZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFNlbGVjdGlvbkNoZWNrYm94QWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFNlbGVjdGlvbkNoZWNrYm94QWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFNlbGVjdGlvbkNoZWNrYm94QWxsKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgU2VsZWN0aW9uQ2hlY2tib3hBbGwpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNoZWNrZWQ6IF90aGlzLmdldENoZWNrU3RhdGUocHJvcHMpLFxuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogX3RoaXMuZ2V0SW5kZXRlcm1pbmF0ZVN0YXRlKHByb3BzKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlKCk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5zZXRDaGVja1N0YXRlKG5leHRQcm9wcyk7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMucHJvcHMuc3RvcmU7XG5cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpczIuc2V0Q2hlY2tTdGF0ZShfdGhpczIucHJvcHMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLmNoZWNrU2VsZWN0aW9uID0gZnVuY3Rpb24gY2hlY2tTZWxlY3Rpb24oZGF0YSwgdHlwZSwgYnlEZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0b3JlID0gX3Byb3BzLnN0b3JlLFxuICAgICAgICAgICAgZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbSA9IF9wcm9wcy5nZXRDaGVja2JveFByb3BzQnlJdGVtLFxuICAgICAgICAgICAgZ2V0UmVjb3JkS2V5ID0gX3Byb3BzLmdldFJlY29yZEtleTtcbiAgICAgICAgLy8gdHlwZSBzaG91bGQgYmUgJ2V2ZXJ5JyB8ICdzb21lJ1xuXG4gICAgICAgIGlmICh0eXBlID09PSAnZXZlcnknIHx8IHR5cGUgPT09ICdzb21lJykge1xuICAgICAgICAgICAgcmV0dXJuIGJ5RGVmYXVsdENoZWNrZWQgPyBkYXRhW3R5cGVdKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgaSkuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgICAgICB9KSA6IGRhdGFbdHlwZV0oZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuaW5kZXhPZihnZXRSZWNvcmRLZXkoaXRlbSwgaSkpID49IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5zZXRDaGVja1N0YXRlID0gZnVuY3Rpb24gc2V0Q2hlY2tTdGF0ZShwcm9wcykge1xuICAgICAgICB2YXIgY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tTdGF0ZShwcm9wcyk7XG4gICAgICAgIHZhciBpbmRldGVybWluYXRlID0gdGhpcy5nZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpO1xuICAgICAgICBpZiAoY2hlY2tlZCAhPT0gdGhpcy5zdGF0ZS5jaGVja2VkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogY2hlY2tlZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXRlcm1pbmF0ZSAhPT0gdGhpcy5zdGF0ZS5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW5kZXRlcm1pbmF0ZTogaW5kZXRlcm1pbmF0ZSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTZWxlY3Rpb25DaGVja2JveEFsbC5wcm90b3R5cGUuZ2V0Q2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIGdldENoZWNrU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblxuICAgICAgICB2YXIgY2hlY2tlZCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tlZCA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG4gICAgfTtcblxuICAgIFNlbGVjdGlvbkNoZWNrYm94QWxsLnByb3RvdHlwZS5nZXRJbmRldGVybWluYXRlU3RhdGUgPSBmdW5jdGlvbiBnZXRJbmRldGVybWluYXRlU3RhdGUocHJvcHMpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gcHJvcHMuc3RvcmUsXG4gICAgICAgICAgICBkYXRhID0gcHJvcHMuZGF0YTtcblxuICAgICAgICB2YXIgaW5kZXRlcm1pbmF0ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSA9IHN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyB0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdzb21lJywgZmFsc2UpICYmICF0aGlzLmNoZWNrU2VsZWN0aW9uKGRhdGEsICdldmVyeScsIGZhbHNlKSA6IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCBmYWxzZSkgJiYgIXRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ2V2ZXJ5JywgZmFsc2UpIHx8IHRoaXMuY2hlY2tTZWxlY3Rpb24oZGF0YSwgJ3NvbWUnLCB0cnVlKSAmJiAhdGhpcy5jaGVja1NlbGVjdGlvbihkYXRhLCAnZXZlcnknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5kZXRlcm1pbmF0ZTtcbiAgICB9O1xuXG4gICAgU2VsZWN0aW9uQ2hlY2tib3hBbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHMyLmRpc2FibGVkLFxuICAgICAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMyLm9uQ2hhbmdlO1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBfc3RhdGUuY2hlY2tlZCxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGUgPSBfc3RhdGUuaW5kZXRlcm1pbmF0ZTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfY2hlY2tib3gyW1wiZGVmYXVsdFwiXSwgeyBjaGVja2VkOiBjaGVja2VkLCBpbmRldGVybWluYXRlOiBpbmRldGVybWluYXRlLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2hhbmdlOiBvbkNoYW5nZSB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNlbGVjdGlvbkNoZWNrYm94QWxsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdGlvbkNoZWNrYm94QWxsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvU2VsZWN0aW9uQ2hlY2tib3hBbGwuanNcbiAqKiBtb2R1bGUgaWQgPSA5OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mJyk7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JjVGFibGUgPSByZXF1aXJlKCdyYy10YWJsZScpO1xuXG52YXIgX3JjVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNUYWJsZSk7XG5cbnZhciBfZmlsdGVyRHJvcGRvd24gPSByZXF1aXJlKCcuL2ZpbHRlckRyb3Bkb3duJyk7XG5cbnZhciBfZmlsdGVyRHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZmlsdGVyRHJvcGRvd24pO1xuXG52YXIgX3BhZ2luYXRpb24gPSByZXF1aXJlKCcuLi9wYWdpbmF0aW9uJyk7XG5cbnZhciBfcGFnaW5hdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wYWdpbmF0aW9uKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfc3BpbiA9IHJlcXVpcmUoJy4uL3NwaW4nKTtcblxudmFyIF9zcGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NwaW4pO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF91dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuLi9fdXRpbC93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfU2VsZWN0aW9uQm94ID0gcmVxdWlyZSgnLi9TZWxlY3Rpb25Cb3gnKTtcblxudmFyIF9TZWxlY3Rpb25Cb3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aW9uQm94KTtcblxudmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbCA9IHJlcXVpcmUoJy4vU2VsZWN0aW9uQ2hlY2tib3hBbGwnKTtcblxudmFyIF9TZWxlY3Rpb25DaGVja2JveEFsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3Rpb25DaGVja2JveEFsbCk7XG5cbnZhciBfQ29sdW1uID0gcmVxdWlyZSgnLi9Db2x1bW4nKTtcblxudmFyIF9Db2x1bW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29sdW1uKTtcblxudmFyIF9Db2x1bW5Hcm91cCA9IHJlcXVpcmUoJy4vQ29sdW1uR3JvdXAnKTtcblxudmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG52YXIgX19yZXN0ID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICBlLm5hdGl2ZUV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIH1cbn1cbnZhciBkZWZhdWx0TG9jYWxlID0ge1xuICAgIGZpbHRlclRpdGxlOiAn562b6YCJJyxcbiAgICBmaWx0ZXJDb25maXJtOiAn56Gu5a6aJyxcbiAgICBmaWx0ZXJSZXNldDogJ+mHjee9ricsXG4gICAgZW1wdHlUZXh0OiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIG51bGwsXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnZnJvd24tbycgfSksXG4gICAgICAgICdcXHU2NjgyXFx1NjVFMFxcdTY1NzBcXHU2MzZFJ1xuICAgIClcbn07XG52YXIgZGVmYXVsdFBhZ2luYXRpb24gPSB7XG4gICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgb25TaG93U2l6ZUNoYW5nZTogbm9vcFxufTtcblxudmFyIFRhYmxlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFRhYmxlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG4gICAgICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgVGFibGUpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICBfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtID0gZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMkcm93U2VsZWN0ID0gX3RoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF90aGlzJHByb3BzJHJvd1NlbGVjdCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRyb3dTZWxlY3Q7XG5cbiAgICAgICAgICAgIGlmICghcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIga2V5ID0gX3RoaXMuZ2V0UmVjb3JkS2V5KGl0ZW0sIGluZGV4KTtcbiAgICAgICAgICAgIC8vIENhY2hlIGNoZWNrYm94UHJvcHNcbiAgICAgICAgICAgIGlmICghX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5DaGVja2JveFByb3BzQ2FjaGVba2V5XSA9IHJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLkNoZWNrYm94UHJvcHNDYWNoZVtrZXldO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVGaWx0ZXIgPSBmdW5jdGlvbiAoY29sdW1uLCBuZXh0RmlsdGVycykge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLmZpbHRlcnMsICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLmdldENvbHVtbktleShjb2x1bW4pLCBuZXh0RmlsdGVycykpO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGZpbHRlcnMgbm90IGluIGN1cnJlbnQgY29sdW1uc1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDb2x1bW5LZXlzID0gW107XG4gICAgICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkoX3RoaXMuY29sdW1ucywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbHVtbktleXMucHVzaChfdGhpcy5nZXRDb2x1bW5LZXkoYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uS2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb2x1bW5LZXlzLmluZGV4T2YoY29sdW1uS2V5KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbY29sdW1uS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwcm9wcy5wYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgY3VycmVudCBwcm9wXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gMTtcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlKHBhZ2luYXRpb24uY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbixcbiAgICAgICAgICAgICAgICBmaWx0ZXJzOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzVG9TZXRTdGF0ZSA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBmaWx0ZXJzKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBmaWx0ZXJzIHdoaWNoIGlzIGNvbnRyb2xsZWRcbiAgICAgICAgICAgIF90aGlzLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zKCkuZm9yRWFjaChmdW5jdGlvbiAoY29sKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbktleSA9IF90aGlzLmdldENvbHVtbktleShjb2wpO1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNUb1NldFN0YXRlW2NvbHVtbktleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZmlsdGVyc1RvU2V0U3RhdGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5maWx0ZXJzID0gZmlsdGVyc1RvU2V0U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlLmFwcGx5KG51bGwsIF90aGlzLnByZXBhcmVQYXJhbXNBcmd1bWVudHMoKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIF90aGlzLnN0YXRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3QgPSBmdW5jdGlvbiAocmVjb3JkLCByb3dJbmRleCwgZSkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZWxlY3Rpb24gPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGlvbkRpcnR5ID8gW10gOiBfdGhpcy5nZXREZWZhdWx0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3RlZFJvd0tleXMuY29uY2F0KGRlZmF1bHRTZWxlY3Rpb24pO1xuICAgICAgICAgICAgdmFyIGtleSA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIHJvd0luZGV4KTtcbiAgICAgICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzLnB1c2goX3RoaXMuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzLmZpbHRlcihmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9PSBpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFNlbGVjdGVkUm93S2V5cyhzZWxlY3RlZFJvd0tleXMsIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RXYXk6ICdvblNlbGVjdCcsXG4gICAgICAgICAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0ID0gZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgsIGUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0U2VsZWN0aW9uID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZWxlY3Rpb25EaXJ0eSA/IFtdIDogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93S2V5cyA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0ZWRSb3dLZXlzLmNvbmNhdChkZWZhdWx0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpcy5nZXRSZWNvcmRLZXkocmVjb3JkLCByb3dJbmRleCk7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMgPSBba2V5XTtcbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3QnLFxuICAgICAgICAgICAgICAgIHJlY29yZDogcmVjb3JkLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBfdGhpcy5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhKCk7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFNlbGVjdGlvbiA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuc2VsZWN0aW9uRGlydHkgPyBbXSA6IF90aGlzLmdldERlZmF1bHRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd0tleXMgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlbGVjdGVkUm93S2V5cy5jb25jYXQoZGVmYXVsdFNlbGVjdGlvbik7XG4gICAgICAgICAgICB2YXIgY2hhbmdhYmxlUm93S2V5cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpcy5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGkpLmRpc2FibGVkO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFJlY29yZEtleShpdGVtLCBpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8g6K6w5b2V5Y+Y5YyW55qE5YiXXG4gICAgICAgICAgICB2YXIgY2hhbmdlUm93S2V5cyA9IFtdO1xuICAgICAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2FibGVSb3dLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0tleXMuc3BsaWNlKHNlbGVjdGVkUm93S2V5cy5pbmRleE9mKGtleSksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0b3JlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25EaXJ0eTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCB7XG4gICAgICAgICAgICAgICAgc2VsZWN0V2F5OiAnb25TZWxlY3RBbGwnLFxuICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlUm93S2V5czogY2hhbmdlUm93S2V5c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVBhZ2VDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG90aGVyQXJndW1lbnRzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIG90aGVyQXJndW1lbnRzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZS5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5jdXJyZW50ID0gcGFnaW5hdGlvbi5jdXJyZW50IHx8IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdpbmF0aW9uLm9uQ2hhbmdlLmFwcGx5KHBhZ2luYXRpb24sIFtwYWdpbmF0aW9uLmN1cnJlbnRdLmNvbmNhdChvdGhlckFyZ3VtZW50cykpO1xuICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb246IHBhZ2luYXRpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb250cm9sbGVkIGN1cnJlbnQgcHJvcCB3aWxsIG5vdCByZXNwb25kIHVzZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIGlmICgoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShwcm9wcy5wYWdpbmF0aW9uKSA9PT0gJ29iamVjdCcgJiYgJ2N1cnJlbnQnIGluIHByb3BzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5wYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHBhZ2luYXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudDogX3RoaXMuc3RhdGUucGFnaW5hdGlvbi5jdXJyZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvbkNoYW5nZSA9IF90aGlzLnByb3BzLm9uQ2hhbmdlO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgX3RoaXMucHJlcGFyZVBhcmFtc0FyZ3VtZW50cygoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuc3RhdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGlydHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVuZGVyU2VsZWN0aW9uQm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoXywgcmVjb3JkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IF90aGlzLmdldFJlY29yZEtleShyZWNvcmQsIGluZGV4KTsgLy8g5LuOIDEg5byA5aeLXG4gICAgICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PT0gJ3JhZGlvJyA/IF90aGlzLmhhbmRsZVJhZGlvU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpIDogX3RoaXMuaGFuZGxlU2VsZWN0KHJlY29yZCwgcm93SW5kZXgsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiBzdG9wUHJvcGFnYXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0aW9uQm94MltcImRlZmF1bHRcIl0sIHsgdHlwZTogdHlwZSwgc3RvcmU6IF90aGlzLnN0b3JlLCByb3dJbmRleDogcm93SW5kZXgsIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSwgZGVmYXVsdFNlbGVjdGlvbjogX3RoaXMuZ2V0RGVmYXVsdFNlbGVjdGlvbigpIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFJlY29yZEtleSA9IGZ1bmN0aW9uIChyZWNvcmQsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcm93S2V5ID0gX3RoaXMucHJvcHMucm93S2V5O1xuICAgICAgICAgICAgdmFyIHJlY29yZEtleSA9IHR5cGVvZiByb3dLZXkgPT09ICdmdW5jdGlvbicgPyByb3dLZXkocmVjb3JkLCBpbmRleCkgOiByZWNvcmRbcm93S2V5XTtcbiAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShyZWNvcmRLZXkgIT09IHVuZGVmaW5lZCwgJ0VhY2ggcmVjb3JkIGluIHRhYmxlIHNob3VsZCBoYXZlIGEgdW5pcXVlIGBrZXlgIHByb3AsIG9yIHNldCBgcm93S2V5YCB0byBhbiB1bmlxdWUgcHJpbWFyeSBrZXksJyArICdzZWUgaHR0cDovL3UuYW50LmRlc2lnbi90YWJsZS1yb3cta2V5Jyk7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkS2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IHJlY29yZEtleTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlU2hvd1NpemVDaGFuZ2UgPSBmdW5jdGlvbiAoY3VycmVudCwgcGFnZVNpemUpIHtcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gX3RoaXMuc3RhdGUucGFnaW5hdGlvbjtcbiAgICAgICAgICAgIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZShjdXJyZW50LCBwYWdlU2l6ZSk7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2luYXRpb24gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgcGFnaW5hdGlvbiwgeyBwYWdlU2l6ZTogcGFnZVNpemUsIGN1cnJlbnQ6IGN1cnJlbnQgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHBhZ2luYXRpb246IG5leHRQYWdpbmF0aW9uIH0pO1xuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgICAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZS5hcHBseShudWxsLCBfdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBfdGhpcy5zdGF0ZSwge1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBuZXh0UGFnaW5hdGlvblxuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKSghKCdjb2x1bW5zUGFnZVJhbmdlJyBpbiBwcm9wcyB8fCAnY29sdW1uc1BhZ2VTaXplJyBpbiBwcm9wcyksICdgY29sdW1uc1BhZ2VSYW5nZWAgYW5kIGBjb2x1bW5zUGFnZVNpemVgIGFyZSByZW1vdmVkLCBwbGVhc2UgdXNlICcgKyAnZml4ZWQgY29sdW1ucyBpbnN0ZWFkLCBzZWU6IGh0dHA6Ly91LmFudC5kZXNpZ24vZml4ZWQtY29sdW1ucy4nKTtcbiAgICAgICAgX3RoaXMuY29sdW1ucyA9IHByb3BzLmNvbHVtbnMgfHwgKDAsIF91dGlsLm5vcm1hbGl6ZUNvbHVtbnMpKHByb3BzLmNoaWxkcmVuKTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3RoaXMuZ2V0U29ydFN0YXRlRnJvbUNvbHVtbnMoKSwge1xuICAgICAgICAgICAgLy8g5YeP5bCR54q25oCBXG4gICAgICAgICAgICBmaWx0ZXJzOiBfdGhpcy5nZXRGaWx0ZXJzRnJvbUNvbHVtbnMoKSxcbiAgICAgICAgICAgIHBhZ2luYXRpb246IF90aGlzLmdldERlZmF1bHRQYWdpbmF0aW9uKHByb3BzKVxuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuQ2hlY2tib3hQcm9wc0NhY2hlID0ge307XG4gICAgICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICBzZWxlY3RlZFJvd0tleXM6IChwcm9wcy5yb3dTZWxlY3Rpb24gfHwge30pLnNlbGVjdGVkUm93S2V5cyB8fCBbXSxcbiAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXREZWZhdWx0U2VsZWN0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFNlbGVjdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyRyb3dTZWxlY3Rpb24gPSB0aGlzLnByb3BzLnJvd1NlbGVjdGlvbixcbiAgICAgICAgICAgIHJvd1NlbGVjdGlvbiA9IF9wcm9wcyRyb3dTZWxlY3Rpb24gPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjtcblxuICAgICAgICBpZiAoIXJvd1NlbGVjdGlvbi5nZXRDaGVja2JveFByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmxhdERhdGEoKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHJvd0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldENoZWNrYm94UHJvcHNCeUl0ZW0oaXRlbSwgcm93SW5kZXgpLmRlZmF1bHRDaGVja2VkO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHJlY29yZCwgcm93SW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0UmVjb3JkS2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldERlZmF1bHRQYWdpbmF0aW9uID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFBhZ2luYXRpb24ocHJvcHMpIHtcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBwcm9wcy5wYWdpbmF0aW9uIHx8IHt9O1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQYWdpbmF0aW9uKHByb3BzKSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBkZWZhdWx0UGFnaW5hdGlvbiwgcGFnaW5hdGlvbiwge1xuICAgICAgICAgICAgY3VycmVudDogcGFnaW5hdGlvbi5kZWZhdWx0Q3VycmVudCB8fCBwYWdpbmF0aW9uLmN1cnJlbnQgfHwgMSxcbiAgICAgICAgICAgIHBhZ2VTaXplOiBwYWdpbmF0aW9uLmRlZmF1bHRQYWdlU2l6ZSB8fCBwYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwXG4gICAgICAgIH0pIDoge307XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRMb2NhbGUgPSBmdW5jdGlvbiBnZXRMb2NhbGUoKSB7XG4gICAgICAgIHZhciBsb2NhbGUgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5hbnRMb2NhbGUgJiYgdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZSkge1xuICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5jb250ZXh0LmFudExvY2FsZS5UYWJsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRMb2NhbGUsIGxvY2FsZSwgdGhpcy5wcm9wcy5sb2NhbGUpO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IG5leHRQcm9wcy5jb2x1bW5zIHx8ICgwLCBfdXRpbC5ub3JtYWxpemVDb2x1bW5zKShuZXh0UHJvcHMuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoJ3BhZ2luYXRpb24nIGluIG5leHRQcm9wcyB8fCAncGFnaW5hdGlvbicgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldmlvdXNTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdQYWdpbmF0aW9uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGRlZmF1bHRQYWdpbmF0aW9uLCBwcmV2aW91c1N0YXRlLnBhZ2luYXRpb24sIG5leHRQcm9wcy5wYWdpbmF0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgPSBuZXdQYWdpbmF0aW9uLmN1cnJlbnQgfHwgMTtcbiAgICAgICAgICAgICAgICBuZXdQYWdpbmF0aW9uLnBhZ2VTaXplID0gbmV3UGFnaW5hdGlvbi5wYWdlU2l6ZSB8fCAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBwYWdpbmF0aW9uOiBuZXh0UHJvcHMucGFnaW5hdGlvbiAhPT0gZmFsc2UgPyBuZXdQYWdpbmF0aW9uIDoge30gfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0UHJvcHMucm93U2VsZWN0aW9uICYmICdzZWxlY3RlZFJvd0tleXMnIGluIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogbmV4dFByb3BzLnJvd1NlbGVjdGlvbi5zZWxlY3RlZFJvd0tleXMgfHwgW11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJvd1NlbGVjdGlvbiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uO1xuXG4gICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uICYmIG5leHRQcm9wcy5yb3dTZWxlY3Rpb24uZ2V0Q2hlY2tib3hQcm9wcyAhPT0gcm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgnZGF0YVNvdXJjZScgaW4gbmV4dFByb3BzICYmIG5leHRQcm9wcy5kYXRhU291cmNlICE9PSB0aGlzLnByb3BzLmRhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRpcnR5OiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLkNoZWNrYm94UHJvcHNDYWNoZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnModGhpcy5jb2x1bW5zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgc29ydFN0YXRlID0gdGhpcy5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICAgICAgaWYgKHNvcnRTdGF0ZS5zb3J0Q29sdW1uICE9PSB0aGlzLnN0YXRlLnNvcnRDb2x1bW4gfHwgc29ydFN0YXRlLnNvcnRPcmRlciAhPT0gdGhpcy5zdGF0ZS5zb3J0T3JkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHNvcnRTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbHRlcmVkVmFsdWVDb2x1bW5zID0gdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICBpZiAoZmlsdGVyZWRWYWx1ZUNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGZpbHRlcnNGcm9tQ29sdW1ucyA9IHRoaXMuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKHRoaXMuY29sdW1ucyk7XG4gICAgICAgICAgICB2YXIgbmV3RmlsdGVycyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLmZpbHRlcnMpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZmlsdGVyc0Zyb21Db2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBuZXdGaWx0ZXJzW2tleV0gPSBmaWx0ZXJzRnJvbUNvbHVtbnNba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNGaWx0ZXJzQ2hhbmdlZChuZXdGaWx0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaWx0ZXJzOiBuZXdGaWx0ZXJzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5zZXRTZWxlY3RlZFJvd0tleXMgPSBmdW5jdGlvbiBzZXRTZWxlY3RlZFJvd0tleXMoc2VsZWN0ZWRSb3dLZXlzLCBfcmVmKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzZWxlY3RXYXkgPSBfcmVmLnNlbGVjdFdheSxcbiAgICAgICAgICAgIHJlY29yZCA9IF9yZWYucmVjb3JkLFxuICAgICAgICAgICAgY2hlY2tlZCA9IF9yZWYuY2hlY2tlZCxcbiAgICAgICAgICAgIGNoYW5nZVJvd0tleXMgPSBfcmVmLmNoYW5nZVJvd0tleXM7XG4gICAgICAgIHZhciBfcHJvcHMkcm93U2VsZWN0aW9uMiA9IHRoaXMucHJvcHMucm93U2VsZWN0aW9uLFxuICAgICAgICAgICAgcm93U2VsZWN0aW9uID0gX3Byb3BzJHJvd1NlbGVjdGlvbjIgPT09IHVuZGVmaW5lZCA/IHt9IDogX3Byb3BzJHJvd1NlbGVjdGlvbjI7XG5cbiAgICAgICAgaWYgKHJvd1NlbGVjdGlvbiAmJiAhKCdzZWxlY3RlZFJvd0tleXMnIGluIHJvd1NlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuc2V0U3RhdGUoeyBzZWxlY3RlZFJvd0tleXM6IHNlbGVjdGVkUm93S2V5cyB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdERhdGEoKTtcbiAgICAgICAgaWYgKCFyb3dTZWxlY3Rpb24ub25DaGFuZ2UgJiYgIXJvd1NlbGVjdGlvbltzZWxlY3RXYXldKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyb3csIGkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFJvd0tleXMuaW5kZXhPZihfdGhpczMuZ2V0UmVjb3JkS2V5KHJvdywgaSkpID49IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocm93U2VsZWN0aW9uLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25DaGFuZ2Uoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RXYXkgPT09ICdvblNlbGVjdCcgJiYgcm93U2VsZWN0aW9uLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3QocmVjb3JkLCBjaGVja2VkLCBzZWxlY3RlZFJvd3MpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFdheSA9PT0gJ29uU2VsZWN0QWxsJyAmJiByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VSb3dzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKHJvdywgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2VSb3dLZXlzLmluZGV4T2YoX3RoaXMzLmdldFJlY29yZEtleShyb3csIGkpKSA+PSAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByb3dTZWxlY3Rpb24ub25TZWxlY3RBbGwoY2hlY2tlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuaGFzUGFnaW5hdGlvbiA9IGZ1bmN0aW9uIGhhc1BhZ2luYXRpb24ocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIChwcm9wcyB8fCB0aGlzLnByb3BzKS5wYWdpbmF0aW9uICE9PSBmYWxzZTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmlzRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiBpc0ZpbHRlcnNDaGFuZ2VkKGZpbHRlcnMpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbHRlcnNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhmaWx0ZXJzKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuZmlsdGVycykubGVuZ3RoKSB7XG4gICAgICAgICAgICBmaWx0ZXJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhmaWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tjb2x1bW5LZXldICE9PSBfdGhpczQuc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsdGVyc0NoYW5nZWQ7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0T3JkZXJDb2x1bW5zID0gZnVuY3Rpb24gZ2V0U29ydE9yZGVyQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiAoY29sdW1ucyB8fCB0aGlzLmNvbHVtbnMgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3NvcnRPcmRlcicgaW4gY29sdW1uO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldEZpbHRlcmVkVmFsdWVDb2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyZWRWYWx1ZUNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICByZXR1cm4gKGNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBjb2x1bW4uZmlsdGVyZWRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0RmlsdGVyc0Zyb21Db2x1bW5zID0gZnVuY3Rpb24gZ2V0RmlsdGVyc0Zyb21Db2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5nZXRGaWx0ZXJlZFZhbHVlQ29sdW1ucyhjb2x1bW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgIGZpbHRlcnNbX3RoaXM1LmdldENvbHVtbktleShjb2wpXSA9IGNvbC5maWx0ZXJlZFZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0U3RhdGVGcm9tQ29sdW1ucyA9IGZ1bmN0aW9uIGdldFNvcnRTdGF0ZUZyb21Db2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgLy8gcmV0dXJuIGZpc3J0IGNvbHVtbiB3aGljaCBzb3J0T3JkZXIgaXMgbm90IGZhbHN5XG4gICAgICAgIHZhciBzb3J0ZWRDb2x1bW4gPSB0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoY29sdW1ucykuZmlsdGVyKGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2wuc29ydE9yZGVyO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgaWYgKHNvcnRlZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3J0Q29sdW1uOiBzb3J0ZWRDb2x1bW4sXG4gICAgICAgICAgICAgICAgc29ydE9yZGVyOiBzb3J0ZWRDb2x1bW4uc29ydE9yZGVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3J0Q29sdW1uOiBudWxsLFxuICAgICAgICAgICAgc29ydE9yZGVyOiBudWxsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRTb3J0ZXJGbiA9IGZ1bmN0aW9uIGdldFNvcnRlckZuKCkge1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZS5zb3J0T3JkZXIsXG4gICAgICAgICAgICBzb3J0Q29sdW1uID0gX3N0YXRlLnNvcnRDb2x1bW47XG5cbiAgICAgICAgaWYgKCFzb3J0T3JkZXIgfHwgIXNvcnRDb2x1bW4gfHwgdHlwZW9mIHNvcnRDb2x1bW4uc29ydGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gc29ydENvbHVtbi5zb3J0ZXIoYSwgYik7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnID8gLXJlc3VsdCA6IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUudG9nZ2xlU29ydE9yZGVyID0gZnVuY3Rpb24gdG9nZ2xlU29ydE9yZGVyKG9yZGVyLCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgc29ydENvbHVtbiA9IF9zdGF0ZTIuc29ydENvbHVtbixcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IF9zdGF0ZTIuc29ydE9yZGVyO1xuICAgICAgICAvLyDlj6rlkIzml7blhYHorrjkuIDliJfov5vooYzmjpLluo/vvIzlkKbliJnkvJrlr7zoh7TmjpLluo/pobrluo/nmoTpgLvovpHpl67pophcblxuICAgICAgICB2YXIgaXNTb3J0Q29sdW1uID0gdGhpcy5pc1NvcnRDb2x1bW4oY29sdW1uKTtcbiAgICAgICAgaWYgKCFpc1NvcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuICAgICAgICAgICAgc29ydENvbHVtbiA9IGNvbHVtbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzb3J0T3JkZXIgPT09IG9yZGVyKSB7XG4gICAgICAgICAgICAgICAgc29ydE9yZGVyID0gJyc7XG4gICAgICAgICAgICAgICAgc29ydENvbHVtbiA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvcnRPcmRlciA9IG9yZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgIHNvcnRPcmRlcjogc29ydE9yZGVyLFxuICAgICAgICAgICAgc29ydENvbHVtbjogc29ydENvbHVtblxuICAgICAgICB9O1xuICAgICAgICAvLyBDb250cm9sbGVkXG4gICAgICAgIGlmICh0aGlzLmdldFNvcnRPcmRlckNvbHVtbnMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvbkNoYW5nZSA9IHRoaXMucHJvcHMub25DaGFuZ2U7XG4gICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgb25DaGFuZ2UuYXBwbHkobnVsbCwgdGhpcy5wcmVwYXJlUGFyYW1zQXJndW1lbnRzKCgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCB0aGlzLnN0YXRlLCBuZXdTdGF0ZSkpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVuZGVyUm93U2VsZWN0aW9uID0gZnVuY3Rpb24gcmVuZGVyUm93U2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICByb3dTZWxlY3Rpb24gPSBfcHJvcHMucm93U2VsZWN0aW9uO1xuXG4gICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jb2x1bW5zLmNvbmNhdCgpO1xuICAgICAgICBpZiAocm93U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAocm93U2VsZWN0aW9uLmdldENoZWNrYm94UHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfdGhpczYuZ2V0Q2hlY2tib3hQcm9wc0J5SXRlbShpdGVtLCBpbmRleCkuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uQ29sdW1uID0ge1xuICAgICAgICAgICAgICAgIGtleTogJ3NlbGVjdGlvbi1jb2x1bW4nLFxuICAgICAgICAgICAgICAgIHJlbmRlcjogdGhpcy5yZW5kZXJTZWxlY3Rpb25Cb3gocm93U2VsZWN0aW9uLnR5cGUpLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tY29sdW1uJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyb3dTZWxlY3Rpb24udHlwZSAhPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2JveEFsbERpc2FibGVkID0gZGF0YS5ldmVyeShmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRDaGVja2JveFByb3BzQnlJdGVtKGl0ZW0sIGluZGV4KS5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4udGl0bGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9TZWxlY3Rpb25DaGVja2JveEFsbDJbXCJkZWZhdWx0XCJdLCB7IHN0b3JlOiB0aGlzLnN0b3JlLCBkYXRhOiBkYXRhLCBnZXRDaGVja2JveFByb3BzQnlJdGVtOiB0aGlzLmdldENoZWNrYm94UHJvcHNCeUl0ZW0sIGdldFJlY29yZEtleTogdGhpcy5nZXRSZWNvcmRLZXksIGRpc2FibGVkOiBjaGVja2JveEFsbERpc2FibGVkLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVTZWxlY3RBbGxSb3cgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uLmZpeGVkID09PSB0cnVlO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2x1bW4uZml4ZWQgPSAnbGVmdCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uc1swXSAmJiBjb2x1bW5zWzBdLmtleSA9PT0gJ3NlbGVjdGlvbi1jb2x1bW4nKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uc1swXSA9IHNlbGVjdGlvbkNvbHVtbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sdW1ucy51bnNoaWZ0KHNlbGVjdGlvbkNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDb2x1bW5LZXkgPSBmdW5jdGlvbiBnZXRDb2x1bW5LZXkoY29sdW1uLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gY29sdW1uLmtleSB8fCBjb2x1bW4uZGF0YUluZGV4IHx8IGluZGV4O1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUuZ2V0TWF4Q3VycmVudCA9IGZ1bmN0aW9uIGdldE1heEN1cnJlbnQodG90YWwpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSRwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uLFxuICAgICAgICAgICAgY3VycmVudCA9IF9zdGF0ZSRwYWdpbmF0aW9uLmN1cnJlbnQsXG4gICAgICAgICAgICBwYWdlU2l6ZSA9IF9zdGF0ZSRwYWdpbmF0aW9uLnBhZ2VTaXplO1xuXG4gICAgICAgIGlmICgoY3VycmVudCAtIDEpICogcGFnZVNpemUgPj0gdG90YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmlzU29ydENvbHVtbiA9IGZ1bmN0aW9uIGlzU29ydENvbHVtbihjb2x1bW4pIHtcbiAgICAgICAgdmFyIHNvcnRDb2x1bW4gPSB0aGlzLnN0YXRlLnNvcnRDb2x1bW47XG5cbiAgICAgICAgaWYgKCFjb2x1bW4gfHwgIXNvcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5LZXkoc29ydENvbHVtbikgPT09IHRoaXMuZ2V0Q29sdW1uS2V5KGNvbHVtbik7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXJDb2x1bW5zRHJvcGRvd24gPSBmdW5jdGlvbiByZW5kZXJDb2x1bW5zRHJvcGRvd24oY29sdW1ucykge1xuICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgICAgIGRyb3Bkb3duUHJlZml4Q2xzID0gX3Byb3BzMi5kcm9wZG93blByZWZpeENscztcbiAgICAgICAgdmFyIHNvcnRPcmRlciA9IHRoaXMuc3RhdGUuc29ydE9yZGVyO1xuXG4gICAgICAgIHZhciBsb2NhbGUgPSB0aGlzLmdldExvY2FsZSgpO1xuICAgICAgICByZXR1cm4gKDAsIF91dGlsLnRyZWVNYXApKGNvbHVtbnMsIGZ1bmN0aW9uIChvcmlnaW5Db2x1bW4sIGkpIHtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgb3JpZ2luQ29sdW1uKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfdGhpczcuZ2V0Q29sdW1uS2V5KGNvbHVtbiwgaSk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyRHJvcGRvd24gPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgc29ydEJ1dHRvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZmlsdGVycyAmJiBjb2x1bW4uZmlsdGVycy5sZW5ndGggPiAwIHx8IGNvbHVtbi5maWx0ZXJEcm9wZG93bikge1xuICAgICAgICAgICAgICAgIHZhciBjb2xGaWx0ZXJzID0gX3RoaXM3LnN0YXRlLmZpbHRlcnNba2V5XSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmaWx0ZXJEcm9wZG93biA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ZpbHRlckRyb3Bkb3duMltcImRlZmF1bHRcIl0sIHsgbG9jYWxlOiBsb2NhbGUsIGNvbHVtbjogY29sdW1uLCBzZWxlY3RlZEtleXM6IGNvbEZpbHRlcnMsIGNvbmZpcm1GaWx0ZXI6IF90aGlzNy5oYW5kbGVGaWx0ZXIsIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1maWx0ZXInLCBkcm9wZG93blByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMgfHwgJ2FudC1kcm9wZG93bicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uLnNvcnRlcikge1xuICAgICAgICAgICAgICAgIHZhciBpc1NvcnRDb2x1bW4gPSBfdGhpczcuaXNTb3J0Q29sdW1uKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgaWYgKGlzU29ydENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4uY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRPcmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLmNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaXNBc2NlbmQgPSBpc1NvcnRDb2x1bW4gJiYgc29ydE9yZGVyID09PSAnYXNjZW5kJztcbiAgICAgICAgICAgICAgICB2YXIgaXNEZXNjZW5kID0gaXNTb3J0Q29sdW1uICYmIHNvcnRPcmRlciA9PT0gJ2Rlc2NlbmQnO1xuICAgICAgICAgICAgICAgIHNvcnRCdXR0b24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29sdW1uLXNvcnRlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1zb3J0ZXItdXAgJyArIChpc0FzY2VuZCA/ICdvbicgOiAnb2ZmJyksIHRpdGxlOiAnXFx1MjE5MScsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcudG9nZ2xlU29ydE9yZGVyKCdhc2NlbmQnLCBjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY2FyZXQtdXAnIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4tc29ydGVyLWRvd24gJyArIChpc0Rlc2NlbmQgPyAnb24nIDogJ29mZicpLCB0aXRsZTogJ1xcdTIxOTMnLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnRvZ2dsZVNvcnRPcmRlcignZGVzY2VuZCcsIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfaWNvbjJbXCJkZWZhdWx0XCJdLCB7IHR5cGU6ICdjYXJldC1kb3duJyB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbi50aXRsZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY29sdW1uLnRpdGxlLFxuICAgICAgICAgICAgICAgIHNvcnRCdXR0b24sXG4gICAgICAgICAgICAgICAgZmlsdGVyRHJvcGRvd25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gY29sdW1uO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLnJlbmRlclBhZ2luYXRpb24gPSBmdW5jdGlvbiByZW5kZXJQYWdpbmF0aW9uKCkge1xuICAgICAgICAvLyDlvLrliLbkuI3pnIDopoHliIbpobVcbiAgICAgICAgaWYgKCF0aGlzLmhhc1BhZ2luYXRpb24oKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSAnZGVmYXVsdCc7XG4gICAgICAgIHZhciBwYWdpbmF0aW9uID0gdGhpcy5zdGF0ZS5wYWdpbmF0aW9uO1xuXG4gICAgICAgIGlmIChwYWdpbmF0aW9uLnNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSBwYWdpbmF0aW9uLnNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5zaXplID09PSAnbWlkZGxlJyB8fCB0aGlzLnByb3BzLnNpemUgPT09ICdzbWFsbCcpIHtcbiAgICAgICAgICAgIHNpemUgPSAnc21hbGwnO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbCA9IHBhZ2luYXRpb24udG90YWwgfHwgdGhpcy5nZXRMb2NhbERhdGEoKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiB0b3RhbCA+IDAgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9wYWdpbmF0aW9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3BhZ2luYXRpb24nIH0sIHBhZ2luYXRpb24sIHsgY2xhc3NOYW1lOiB0aGlzLnByb3BzLnByZWZpeENscyArICctcGFnaW5hdGlvbicsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZVBhZ2VDaGFuZ2UsIHRvdGFsOiB0b3RhbCwgc2l6ZTogc2l6ZSwgY3VycmVudDogdGhpcy5nZXRNYXhDdXJyZW50KHRvdGFsKSwgb25TaG93U2l6ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93U2l6ZUNoYW5nZSB9KSkgOiBudWxsO1xuICAgIH07XG4gICAgLy8gR2V0IHBhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlclxuXG5cbiAgICBUYWJsZS5wcm90b3R5cGUucHJlcGFyZVBhcmFtc0FyZ3VtZW50cyA9IGZ1bmN0aW9uIHByZXBhcmVQYXJhbXNBcmd1bWVudHMoc3RhdGUpIHtcbiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSBfX2Fzc2lnbih7fSwgc3RhdGUucGFnaW5hdGlvbik7XG4gICAgICAgIC8vIHJlbW92ZSB1c2VsZXNzIGhhbmRsZSBmdW5jdGlvbiBpbiBUYWJsZS5vbkNoYW5nZVxuICAgICAgICBkZWxldGUgcGFnaW5hdGlvbi5vbkNoYW5nZTtcbiAgICAgICAgZGVsZXRlIHBhZ2luYXRpb24ub25TaG93U2l6ZUNoYW5nZTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuICAgICAgICB2YXIgc29ydGVyID0ge307XG4gICAgICAgIGlmIChzdGF0ZS5zb3J0Q29sdW1uICYmIHN0YXRlLnNvcnRPcmRlcikge1xuICAgICAgICAgICAgc29ydGVyLmNvbHVtbiA9IHN0YXRlLnNvcnRDb2x1bW47XG4gICAgICAgICAgICBzb3J0ZXIub3JkZXIgPSBzdGF0ZS5zb3J0T3JkZXI7XG4gICAgICAgICAgICBzb3J0ZXIuZmllbGQgPSBzdGF0ZS5zb3J0Q29sdW1uLmRhdGFJbmRleDtcbiAgICAgICAgICAgIHNvcnRlci5jb2x1bW5LZXkgPSB0aGlzLmdldENvbHVtbktleShzdGF0ZS5zb3J0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3BhZ2luYXRpb24sIGZpbHRlcnMsIHNvcnRlcl07XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5maW5kQ29sdW1uID0gZnVuY3Rpb24gZmluZENvbHVtbihteUtleSkge1xuICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICB2YXIgY29sdW1uID0gdm9pZCAwO1xuICAgICAgICAoMCwgX3V0aWwudHJlZU1hcCkodGhpcy5jb2x1bW5zLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgaWYgKF90aGlzOC5nZXRDb2x1bW5LZXkoYykgPT09IG15S2V5KSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb2x1bW47XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZURhdGEgPSBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZURhdGEoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRMb2NhbERhdGEoKTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBwYWdlU2l6ZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5YiG6aG155qE6K+d77yM6buY6K6k5YWo6YOo5bGV56S6XG4gICAgICAgIGlmICghdGhpcy5oYXNQYWdpbmF0aW9uKCkpIHtcbiAgICAgICAgICAgIHBhZ2VTaXplID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZVNpemUgPSBzdGF0ZS5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZ2V0TWF4Q3VycmVudChzdGF0ZS5wYWdpbmF0aW9uLnRvdGFsIHx8IGRhdGEubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyDliIbpobVcbiAgICAgICAgLy8gLS0tXG4gICAgICAgIC8vIOW9k+aVsOaNrumHj+WwkeS6juetieS6juavj+mhteaVsOmHj+aXtu+8jOebtOaOpeiuvue9ruaVsOaNrlxuICAgICAgICAvLyDlkKbliJnov5vooYzor7vlj5bliIbpobXmlbDmja5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gcGFnZVNpemUgfHwgcGFnZVNpemUgPT09IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpID49IChjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSAmJiBpIDwgY3VycmVudCAqIHBhZ2VTaXplO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0RGF0YSA9IGZ1bmN0aW9uIGdldEZsYXREYXRhKCkge1xuICAgICAgICByZXR1cm4gKDAsIF91dGlsLmZsYXRBcnJheSkodGhpcy5nZXRMb2NhbERhdGEoKSk7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5nZXRGbGF0Q3VycmVudFBhZ2VEYXRhID0gZnVuY3Rpb24gZ2V0RmxhdEN1cnJlbnRQYWdlRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5mbGF0QXJyYXkpKHRoaXMuZ2V0Q3VycmVudFBhZ2VEYXRhKCkpO1xuICAgIH07XG5cbiAgICBUYWJsZS5wcm90b3R5cGUucmVjdXJzaXZlU29ydCA9IGZ1bmN0aW9uIHJlY3Vyc2l2ZVNvcnQoZGF0YSwgc29ydGVyRm4pIHtcbiAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wcyRjaGlsZHJlbkNvbHVtbiA9IHRoaXMucHJvcHMuY2hpbGRyZW5Db2x1bW5OYW1lLFxuICAgICAgICAgICAgY2hpbGRyZW5Db2x1bW5OYW1lID0gX3Byb3BzJGNoaWxkcmVuQ29sdW1uID09PSB1bmRlZmluZWQgPyAnY2hpbGRyZW4nIDogX3Byb3BzJGNoaWxkcmVuQ29sdW1uO1xuXG4gICAgICAgIHJldHVybiBkYXRhLnNvcnQoc29ydGVyRm4pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSA/ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBpdGVtLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKHt9LCBjaGlsZHJlbkNvbHVtbk5hbWUsIF90aGlzOS5yZWN1cnNpdmVTb3J0KGl0ZW1bY2hpbGRyZW5Db2x1bW5OYW1lXSwgc29ydGVyRm4pKSkgOiBpdGVtO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGFibGUucHJvdG90eXBlLmdldExvY2FsRGF0YSA9IGZ1bmN0aW9uIGdldExvY2FsRGF0YSgpIHtcbiAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBkYXRhU291cmNlID0gdGhpcy5wcm9wcy5kYXRhU291cmNlO1xuXG4gICAgICAgIHZhciBkYXRhID0gZGF0YVNvdXJjZSB8fCBbXTtcbiAgICAgICAgLy8g5LyY5YyW5pys5Zyw5o6S5bqPXG4gICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKDApO1xuICAgICAgICB2YXIgc29ydGVyRm4gPSB0aGlzLmdldFNvcnRlckZuKCk7XG4gICAgICAgIGlmIChzb3J0ZXJGbikge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMucmVjdXJzaXZlU29ydChkYXRhLCBzb3J0ZXJGbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8g562b6YCJXG4gICAgICAgIGlmIChzdGF0ZS5maWx0ZXJzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdGF0ZS5maWx0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW5LZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gX3RoaXMxMC5maW5kQ29sdW1uKGNvbHVtbktleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFjb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gc3RhdGUuZmlsdGVyc1tjb2x1bW5LZXldIHx8IFtdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG9uRmlsdGVyID0gY29sLm9uRmlsdGVyO1xuICAgICAgICAgICAgICAgIGRhdGEgPSBvbkZpbHRlciA/IGRhdGEuZmlsdGVyKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb21lKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25GaWx0ZXIodiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkgOiBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIFRhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lcyxcbiAgICAgICAgICAgIF90aGlzMTEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBzdHlsZSA9IF9hLnN0eWxlLFxuICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EucHJlZml4Q2xzLFxuICAgICAgICAgICAgc2hvd0hlYWRlciA9IF9hLnNob3dIZWFkZXIsXG4gICAgICAgICAgICBsb2FkaW5nID0gX2EubG9hZGluZyxcbiAgICAgICAgICAgIHJlc3RQcm9wcyA9IF9fcmVzdChfYSwgW1wic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJwcmVmaXhDbHNcIiwgXCJzaG93SGVhZGVyXCIsIFwibG9hZGluZ1wiXSk7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRDdXJyZW50UGFnZURhdGEoKTtcbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLnJlbmRlclJvd1NlbGVjdGlvbigpO1xuICAgICAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IHRoaXMucHJvcHMuZXhwYW5kZWRSb3dSZW5kZXIgJiYgdGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICE9PSBmYWxzZTtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMuZ2V0TG9jYWxlKCk7XG4gICAgICAgIHZhciBjbGFzc1N0cmluZyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy0nICsgdGhpcy5wcm9wcy5zaXplLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1ib3JkZXJlZCcsIHRoaXMucHJvcHMuYm9yZGVyZWQpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWVtcHR5JywgIWRhdGEubGVuZ3RoKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy13aXRob3V0LWNvbHVtbi1oZWFkZXInLCAhc2hvd0hlYWRlciksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgIGNvbHVtbnMgPSB0aGlzLnJlbmRlckNvbHVtbnNEcm9wZG93bihjb2x1bW5zKTtcbiAgICAgICAgY29sdW1ucyA9IGNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGkpIHtcbiAgICAgICAgICAgIHZhciBuZXdDb2x1bW4gPSAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgY29sdW1uKTtcbiAgICAgICAgICAgIG5ld0NvbHVtbi5rZXkgPSBfdGhpczExLmdldENvbHVtbktleShuZXdDb2x1bW4sIGkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0NvbHVtbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBjb2x1bW5zWzBdICYmIGNvbHVtbnNbMF0ua2V5ID09PSAnc2VsZWN0aW9uLWNvbHVtbicgPyAxIDogMDtcbiAgICAgICAgaWYgKCdleHBhbmRJY29uQ29sdW1uSW5kZXgnIGluIHJlc3RQcm9wcykge1xuICAgICAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gcmVzdFByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFibGUgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY1RhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7IGtleTogJ3RhYmxlJyB9LCByZXN0UHJvcHMsIHsgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGRhdGE6IGRhdGEsIGNvbHVtbnM6IGNvbHVtbnMsIHNob3dIZWFkZXI6IHNob3dIZWFkZXIsIGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LCBleHBhbmRJY29uQXNDZWxsOiBleHBhbmRJY29uQXNDZWxsLCBlbXB0eVRleHQ6IGZ1bmN0aW9uIGVtcHR5VGV4dCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlLmVtcHR5VGV4dDtcbiAgICAgICAgICAgIH0gfSkpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBwYWdpbmF0aW9uIG9yIG5vIGRhdGEsXG4gICAgICAgIC8vIHRoZSBoZWlnaHQgb2Ygc3BpbiBzaG91bGQgZGVjcmVhc2UgYnkgaGFsZiBvZiBwYWdpbmF0aW9uXG4gICAgICAgIHZhciBwYWdpbmF0aW9uUGF0Y2hDbGFzcyA9IHRoaXMuaGFzUGFnaW5hdGlvbigpICYmIGRhdGEgJiYgZGF0YS5sZW5ndGggIT09IDAgPyBwcmVmaXhDbHMgKyAnLXdpdGgtcGFnaW5hdGlvbicgOiBwcmVmaXhDbHMgKyAnLXdpdGhvdXQtcGFnaW5hdGlvbic7XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHByZWZpeENscyArICctd3JhcHBlcicsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfc3BpbjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgICAgIHsgc3Bpbm5pbmc6IGxvYWRpbmcsIGNsYXNzTmFtZTogbG9hZGluZyA/IHBhZ2luYXRpb25QYXRjaENsYXNzICsgJyAnICsgcHJlZml4Q2xzICsgJy1zcGluLWhvbGRlcicgOiAnJyB9LFxuICAgICAgICAgICAgICAgIHRhYmxlLFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnaW5hdGlvbigpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHJldHVybiBUYWJsZTtcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUYWJsZTtcblxuVGFibGUuQ29sdW1uID0gX0NvbHVtbjJbXCJkZWZhdWx0XCJdO1xuVGFibGUuQ29sdW1uR3JvdXAgPSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXTtcblRhYmxlLnByb3BUeXBlcyA9IHtcbiAgICBkYXRhU291cmNlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYXJyYXksXG4gICAgY29sdW1uczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmFycmF5LFxuICAgIHByZWZpeENsczogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgICB1c2VGaXhlZEhlYWRlcjogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2wsXG4gICAgcm93U2VsZWN0aW9uOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGNsYXNzTmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzaXplOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxvYWRpbmc6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICAgIGJvcmRlcmVkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNoYW5nZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmZ1bmMsXG4gICAgbG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGRyb3Bkb3duUHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuVGFibGUuZGVmYXVsdFByb3BzID0ge1xuICAgIGRhdGFTb3VyY2U6IFtdLFxuICAgIHByZWZpeENsczogJ2FudC10YWJsZScsXG4gICAgdXNlRml4ZWRIZWFkZXI6IGZhbHNlLFxuICAgIHJvd1NlbGVjdGlvbjogbnVsbCxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHNpemU6ICdsYXJnZScsXG4gICAgbG9hZGluZzogZmFsc2UsXG4gICAgYm9yZGVyZWQ6IGZhbHNlLFxuICAgIGluZGVudFNpemU6IDIwLFxuICAgIGxvY2FsZToge30sXG4gICAgcm93S2V5OiAna2V5JyxcbiAgICBzaG93SGVhZGVyOiB0cnVlXG59O1xuVGFibGUuY29udGV4dFR5cGVzID0ge1xuICAgIGFudExvY2FsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL1RhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gOTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcbiAgICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG4gICAgICAgIHN0YXRlID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHN0YXRlLCBwYXJ0aWFsKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG4gICAgICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICAgICAgc3Vic2NyaWJlOiBzdWJzY3JpYmVcbiAgICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGFibGUvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gdW5kZWZpbmVkO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX3JjTWVudSA9IHJlcXVpcmUoJ3JjLW1lbnUnKTtcblxudmFyIF9yY01lbnUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNNZW51KTtcblxudmFyIF9kb21DbG9zZXN0ID0gcmVxdWlyZSgnZG9tLWNsb3Nlc3QnKTtcblxudmFyIF9kb21DbG9zZXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RvbUNsb3Nlc3QpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9kcm9wZG93biA9IHJlcXVpcmUoJy4uL2Ryb3Bkb3duJyk7XG5cbnZhciBfZHJvcGRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZHJvcGRvd24pO1xuXG52YXIgX2ljb24gPSByZXF1aXJlKCcuLi9pY29uJyk7XG5cbnZhciBfaWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pY29uKTtcblxudmFyIF9jaGVja2JveCA9IHJlcXVpcmUoJy4uL2NoZWNrYm94Jyk7XG5cbnZhciBfY2hlY2tib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hlY2tib3gpO1xuXG52YXIgX3JhZGlvID0gcmVxdWlyZSgnLi4vcmFkaW8nKTtcblxudmFyIF9yYWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWRpbyk7XG5cbnZhciBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlciA9IHJlcXVpcmUoJy4vRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcicpO1xuXG52YXIgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRmlsdGVyTWVudSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShGaWx0ZXJNZW51LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEZpbHRlck1lbnUocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBGaWx0ZXJNZW51KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuc2V0U2VsZWN0ZWRLZXlzID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEtleXMgPSBfcmVmLnNlbGVjdGVkS2V5cztcblxuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEtleXM6IHNlbGVjdGVkS2V5cyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5czogW11cbiAgICAgICAgICAgIH0sIF90aGlzLmhhbmRsZUNvbmZpcm0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVDb25maXJtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBfdGhpcy5jb25maXJtRmlsdGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uVmlzaWJsZUNoYW5nZSA9IGZ1bmN0aW9uICh2aXNpYmxlKSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybUZpbHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrID0gZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmtleVBhdGgubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIga2V5UGF0aE9mU2VsZWN0ZWRJdGVtID0gX3RoaXMuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlLnNlbGVjdGVkS2V5cy5pbmRleE9mKGluZm8ua2V5KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZGVzZWxlY3QgU3ViTWVudSBjaGlsZFxuICAgICAgICAgICAgICAgIGRlbGV0ZSBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1baW5mby5rZXldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzZWxlY3QgU3ViTWVudSBjaGlsZFxuICAgICAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbVtpbmZvLmtleV0gPSBpbmZvLmtleVBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGtleVBhdGhPZlNlbGVjdGVkSXRlbToga2V5UGF0aE9mU2VsZWN0ZWRJdGVtIH0pO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdmlzaWJsZSA9ICdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIHByb3BzLmNvbHVtbiA/IHByb3BzLmNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGUgOiBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZEtleXM6IHByb3BzLnNlbGVjdGVkS2V5cyxcbiAgICAgICAgICAgIGtleVBhdGhPZlNlbGVjdGVkSXRlbToge30sXG4gICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIHJvb3ROb2RlID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gICAgICAgIHZhciBmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgPSAhISgwLCBfZG9tQ2xvc2VzdDJbXCJkZWZhdWx0XCJdKShyb290Tm9kZSwgJy5hbnQtdGFibGUtc2Nyb2xsJyk7XG4gICAgICAgIGlmIChmaWx0ZXJCZWxvbmdUb1Njcm9sbEJvZHkgJiYgY29sdW1uLmZpeGVkKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGZpeGVkIGNvbHVtbiBoYXZlIGZpbHRlcnMsIHRoZXJlIHdpbGwgYmUgdHdvIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAvLyBGaWx0ZXIgZHJvcGRvd24gbWVudSBpbnNpZGUgc2Nyb2xsIGJvZHkgc2hvdWxkIG5ldmVyIGJlIHNob3duXG4gICAgICAgICAgICAvLyBUbyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNTAxMFxuICAgICAgICAgICAgdGhpcy5uZXZlclNob3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9IG5leHRQcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIG5ld1N0YXRlID0ge307XG4gICAgICAgIGlmICgnc2VsZWN0ZWRLZXlzJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlLnNlbGVjdGVkS2V5cyA9IG5leHRQcm9wcy5zZWxlY3RlZEtleXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdmaWx0ZXJEcm9wZG93blZpc2libGUnIGluIGNvbHVtbikge1xuICAgICAgICAgICAgbmV3U3RhdGUudmlzaWJsZSA9IGNvbHVtbi5maWx0ZXJEcm9wZG93blZpc2libGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5zZXRWaXNpYmxlID0gZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnByb3BzLmNvbHVtbjtcblxuICAgICAgICBpZiAoISgnZmlsdGVyRHJvcGRvd25WaXNpYmxlJyBpbiBjb2x1bW4pKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdmlzaWJsZTogdmlzaWJsZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uLm9uRmlsdGVyRHJvcGRvd25WaXNpYmxlQ2hhbmdlKSB7XG4gICAgICAgICAgICBjb2x1bW4ub25GaWx0ZXJEcm9wZG93blZpc2libGVDaGFuZ2UodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgRmlsdGVyTWVudS5wcm90b3R5cGUuY29uZmlybUZpbHRlciA9IGZ1bmN0aW9uIGNvbmZpcm1GaWx0ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZEtleXMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlybUZpbHRlcih0aGlzLnByb3BzLmNvbHVtbiwgdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLnJlbmRlck1lbnVJdGVtID0gZnVuY3Rpb24gcmVuZGVyTWVudUl0ZW0oaXRlbSkge1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5wcm9wcy5jb2x1bW47XG5cbiAgICAgICAgdmFyIG11bHRpcGxlID0gJ2ZpbHRlck11bHRpcGxlJyBpbiBjb2x1bW4gPyBjb2x1bW4uZmlsdGVyTXVsdGlwbGUgOiB0cnVlO1xuICAgICAgICB2YXIgaW5wdXQgPSBtdWx0aXBsZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2NoZWNrYm94MltcImRlZmF1bHRcIl0sIHsgY2hlY2tlZDogdGhpcy5zdGF0ZS5zZWxlY3RlZEtleXMuaW5kZXhPZihpdGVtLnZhbHVlLnRvU3RyaW5nKCkpID49IDAgfSkgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yYWRpbzJbXCJkZWZhdWx0XCJdLCB7IGNoZWNrZWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS52YWx1ZS50b1N0cmluZygpKSA+PSAwIH0pO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAgICAgIHsga2V5OiBpdGVtLnZhbHVlIH0sXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgaXRlbS50ZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIEZpbHRlck1lbnUucHJvdG90eXBlLmhhc1N1Yk1lbnUgPSBmdW5jdGlvbiBoYXNTdWJNZW51KCkge1xuICAgICAgICB2YXIgX3Byb3BzJGNvbHVtbiRmaWx0ZXJzID0gdGhpcy5wcm9wcy5jb2x1bW4uZmlsdGVycyxcbiAgICAgICAgICAgIGZpbHRlcnMgPSBfcHJvcHMkY29sdW1uJGZpbHRlcnMgPT09IHVuZGVmaW5lZCA/IFtdIDogX3Byb3BzJGNvbHVtbiRmaWx0ZXJzO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJzLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhIShpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXJNZW51cyA9IGZ1bmN0aW9uIHJlbmRlck1lbnVzKGl0ZW1zKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW0gPSBfdGhpczIuc3RhdGUua2V5UGF0aE9mU2VsZWN0ZWRJdGVtO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5TZWxlY3RlZCA9IE9iamVjdC5rZXlzKGtleVBhdGhPZlNlbGVjdGVkSXRlbSkuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXlQYXRoT2ZTZWxlY3RlZEl0ZW1ba2V5XS5pbmRleE9mKGl0ZW0udmFsdWUpID49IDA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHN1Yk1lbnVDbHMgPSBjb250YWluU2VsZWN0ZWQgPyBfdGhpczIucHJvcHMuZHJvcGRvd25QcmVmaXhDbHMgKyAnLXN1Ym1lbnUtY29udGFpbi1zZWxlY3RlZCcgOiAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgX3JjTWVudS5TdWJNZW51LFxuICAgICAgICAgICAgICAgICAgICB7IHRpdGxlOiBpdGVtLnRleHQsIGNsYXNzTmFtZTogc3ViTWVudUNscywga2V5OiBpdGVtLnZhbHVlLnRvU3RyaW5nKCkgfSxcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlbmRlck1lbnVzKGl0ZW0uY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpczIucmVuZGVyTWVudUl0ZW0oaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBGaWx0ZXJNZW51LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY29sdW1uID0gX3Byb3BzLmNvbHVtbixcbiAgICAgICAgICAgIGxvY2FsZSA9IF9wcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgZHJvcGRvd25QcmVmaXhDbHMgPSBfcHJvcHMuZHJvcGRvd25QcmVmaXhDbHM7XG4gICAgICAgIC8vIGRlZmF1bHQgbXVsdGlwbGUgc2VsZWN0aW9uIGluIGZpbHRlciBkcm9wZG93blxuXG4gICAgICAgIHZhciBtdWx0aXBsZSA9ICdmaWx0ZXJNdWx0aXBsZScgaW4gY29sdW1uID8gY29sdW1uLmZpbHRlck11bHRpcGxlIDogdHJ1ZTtcbiAgICAgICAgdmFyIGRyb3Bkb3duTWVudUNsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51LXdpdGhvdXQtc3VibWVudScsICF0aGlzLmhhc1N1Yk1lbnUoKSkpO1xuICAgICAgICB2YXIgbWVudXMgPSBjb2x1bW4uZmlsdGVyRHJvcGRvd24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX0ZpbHRlckRyb3Bkb3duTWVudVdyYXBwZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjb2x1bW4uZmlsdGVyRHJvcGRvd25cbiAgICAgICAgKSA6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfRmlsdGVyRHJvcGRvd25NZW51V3JhcHBlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24nIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIF9yY01lbnUyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgICAgICB7IG11bHRpcGxlOiBtdWx0aXBsZSwgb25DbGljazogdGhpcy5oYW5kbGVNZW51SXRlbUNsaWNrLCBwcmVmaXhDbHM6IGRyb3Bkb3duUHJlZml4Q2xzICsgJy1tZW51JywgY2xhc3NOYW1lOiBkcm9wZG93bk1lbnVDbGFzcywgb25TZWxlY3Q6IHRoaXMuc2V0U2VsZWN0ZWRLZXlzLCBvbkRlc2VsZWN0OiB0aGlzLnNldFNlbGVjdGVkS2V5cywgc2VsZWN0ZWRLZXlzOiB0aGlzLnN0YXRlLnNlbGVjdGVkS2V5cyB9LFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWVudXMoY29sdW1uLmZpbHRlcnMpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kcm9wZG93bi1idG5zJyB9LFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZHJvcGRvd24tbGluayBjb25maXJtJywgb25DbGljazogdGhpcy5oYW5kbGVDb25maXJtIH0sXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZS5maWx0ZXJDb25maXJtXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWRyb3Bkb3duLWxpbmsgY2xlYXInLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsZWFyRmlsdGVycyB9LFxuICAgICAgICAgICAgICAgICAgICBsb2NhbGUuZmlsdGVyUmVzZXRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICAgIHZhciBkcm9wZG93blNlbGVjdGVkQ2xhc3MgPSB0aGlzLnByb3BzLnNlbGVjdGVkS2V5cy5sZW5ndGggPiAwID8gcHJlZml4Q2xzICsgJy1zZWxlY3RlZCcgOiAnJztcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfZHJvcGRvd24yW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgICAgIHsgdHJpZ2dlcjogWydjbGljayddLCBvdmVybGF5OiBtZW51cywgdmlzaWJsZTogdGhpcy5uZXZlclNob3duID8gZmFsc2UgOiB0aGlzLnN0YXRlLnZpc2libGUsIG9uVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0aXRsZTogbG9jYWxlLmZpbHRlclRpdGxlLCB0eXBlOiAnZmlsdGVyJywgY2xhc3NOYW1lOiBkcm9wZG93blNlbGVjdGVkQ2xhc3MgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlck1lbnU7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRmlsdGVyTWVudTtcblxuRmlsdGVyTWVudS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7fSxcblxuICAgIGNvbHVtbjoge31cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi90YWJsZS9maWx0ZXJEcm9wZG93bi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5mbGF0QXJyYXkgPSBmbGF0QXJyYXk7XG5leHBvcnRzLnRyZWVNYXAgPSB0cmVlTWFwO1xuZXhwb3J0cy5ub3JtYWxpemVDb2x1bW5zID0gbm9ybWFsaXplQ29sdW1ucztcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9Db2x1bW5Hcm91cCA9IHJlcXVpcmUoJy4vQ29sdW1uR3JvdXAnKTtcblxudmFyIF9Db2x1bW5Hcm91cDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db2x1bW5Hcm91cCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBmbGF0QXJyYXkoKSB7XG4gICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjaGlsZHJlbic7XG5cbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiBsb29wKGFycmF5KSB7XG4gICAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBuZXdJdGVtID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGl0ZW0pO1xuICAgICAgICAgICAgZGVsZXRlIG5ld0l0ZW1bY2hpbGRyZW5OYW1lXTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld0l0ZW0pO1xuICAgICAgICAgICAgaWYgKGl0ZW1bY2hpbGRyZW5OYW1lXSAmJiBpdGVtW2NoaWxkcmVuTmFtZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxvb3AoaXRlbVtjaGlsZHJlbk5hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBsb29wKGRhdGEpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0cmVlTWFwKHRyZWUsIG1hcHBlcikge1xuICAgIHZhciBjaGlsZHJlbk5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjaGlsZHJlbic7XG5cbiAgICByZXR1cm4gdHJlZS5tYXAoZnVuY3Rpb24gKG5vZGUsIGluZGV4KSB7XG4gICAgICAgIHZhciBleHRyYSA9IHt9O1xuICAgICAgICBpZiAobm9kZVtjaGlsZHJlbk5hbWVdKSB7XG4gICAgICAgICAgICBleHRyYVtjaGlsZHJlbk5hbWVdID0gdHJlZU1hcChub2RlW2NoaWxkcmVuTmFtZV0sIG1hcHBlciwgY2hpbGRyZW5OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIG1hcHBlcihub2RlLCBpbmRleCksIGV4dHJhKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbHVtbnMoZWxlbWVudHMpIHtcbiAgICB2YXIgY29sdW1ucyA9IFtdO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICghX3JlYWN0MltcImRlZmF1bHRcIl0uaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29sdW1uID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGVsZW1lbnQucHJvcHMpO1xuICAgICAgICBpZiAoZWxlbWVudC5rZXkpIHtcbiAgICAgICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSBfQ29sdW1uR3JvdXAyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgICAgICAgY29sdW1uLmNoaWxkcmVuID0gbm9ybWFsaXplQ29sdW1ucyhjb2x1bW4uY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBjb2x1bW5zO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3RhYmxlL3V0aWwuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgbWF0Y2hlcyA9IHJlcXVpcmUoJ2RvbS1tYXRjaGVzJyk7XG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnQge0VsZW1lbnR9XG4gKiBAcGFyYW0gc2VsZWN0b3Ige1N0cmluZ31cbiAqIEBwYXJhbSBjb250ZXh0IHtFbGVtZW50fVxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG4gIC8vIGd1YXJkIGFnYWluc3Qgb3JwaGFuc1xuICBlbGVtZW50ID0geyBwYXJlbnROb2RlOiBlbGVtZW50IH07XG5cbiAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBjb250ZXh0KSB7XG4gICAgaWYgKG1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kb20tY2xvc2VzdC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSBET00gZWxlbWVudCBtYXRjaGVzIGEgQ1NTIHNlbGVjdG9yXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG1hdGNoZXMoZWxlbSwgc2VsZWN0b3IpIHtcbiAgLy8gVmVuZG9yLXNwZWNpZmljIGltcGxlbWVudGF0aW9ucyBvZiBgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcygpYC5cbiAgdmFyIHByb3RvID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlTWF0Y2hlcyA9IHByb3RvLm1hdGNoZXMgfHxcbiAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIHByb3RvLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcblxuICBpZiAoIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBwYXJlbnRFbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuXG4gIC8vIHVzZSBuYXRpdmUgJ21hdGNoZXMnXG4gIGlmIChuYXRpdmVNYXRjaGVzKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU1hdGNoZXMuY2FsbChlbGVtLCBzZWxlY3Rvcik7XG4gIH1cblxuICAvLyBuYXRpdmUgc3VwcG9ydCBmb3IgYG1hdGNoZXNgIGlzIG1pc3NpbmcgYW5kIGEgZmFsbGJhY2sgaXMgcmVxdWlyZWRcbiAgdmFyIG5vZGVzID0gcGFyZW50RWxlbS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgdmFyIGxlbiA9IG5vZGVzLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKG5vZGVzW2ldID09PSBlbGVtKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRXhwb3NlIGBtYXRjaGVzYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gbWF0Y2hlcztcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2RvbS1tYXRjaGVzL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjcuMVxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2V0TmFub1NlY29uZHMsIGhydGltZSwgbG9hZFRpbWU7XG5cbiAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbG9hZFRpbWUpIC8gMWU2O1xuICAgIH07XG4gICAgaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWU7XG4gICAgZ2V0TmFub1NlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBocjtcbiAgICAgIGhyID0gaHJ0aW1lKCk7XG4gICAgICByZXR1cm4gaHJbMF0gKiAxZTkgKyBoclsxXTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gZ2V0TmFub1NlY29uZHMoKTtcbiAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3BlcmZvcm1hbmNlLW5vdy9saWIvcGVyZm9ybWFuY2Utbm93LmpzXG4gKiogbW9kdWxlIGlkID0gMTE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmMtdXRpbC9saWIvUHVyZVJlbmRlck1peGluJyk7XG5cbnZhciBfUHVyZVJlbmRlck1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1B1cmVSZW5kZXJNaXhpbik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBDaGVja2JveCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDaGVja2JveCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2hlY2tib3gocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hlY2tib3gpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiB0cnVlIH0pO1xuICAgICAgX3RoaXMucHJvcHMub25Gb2N1cyhlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiBmYWxzZSB9KTtcbiAgICAgIF90aGlzLnByb3BzLm9uQmx1cihlKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoISgnY2hlY2tlZCcgaW4gX3RoaXMucHJvcHMpKSB7XG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjaGVja2VkOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgX3RoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICB0YXJnZXQ6IF9leHRlbmRzKHt9LCBfdGhpcy5wcm9wcywge1xuICAgICAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgfSksXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuICAgIGlmICgnY2hlY2tlZCcgaW4gcHJvcHMpIHtcbiAgICAgIGNoZWNrZWQgPSBwcm9wcy5jaGVja2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGVja2VkID0gcHJvcHMuZGVmYXVsdENoZWNrZWQ7XG4gICAgfVxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICAgIGZvY3VzOiBmYWxzZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgQ2hlY2tib3gucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnY2hlY2tlZCcgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2hlY2tlZDogbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBDaGVja2JveC5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfUHVyZVJlbmRlck1peGluMltcImRlZmF1bHRcIl0uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xuXG4gIENoZWNrYm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIHByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIC8vIFJlbW92ZSBSZWFjdCB3YXJuaW5nLlxuICAgIC8vIFdhcm5pbmc6IElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkXG4gICAgLy8gKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuXG4gICAgZGVsZXRlIHByb3BzLmRlZmF1bHRDaGVja2VkO1xuXG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgIHZhciBjaGVja2VkID0gc3RhdGUuY2hlY2tlZDtcbiAgICBpZiAodHlwZW9mIGNoZWNrZWQgPT09ICdib29sZWFuJykge1xuICAgICAgY2hlY2tlZCA9IGNoZWNrZWQgPyAxIDogMDtcbiAgICB9XG4gICAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcm9wcy5jbGFzc05hbWUsICEhcHJvcHMuY2xhc3NOYW1lKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsIDEpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZCcsIGNoZWNrZWQpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY2hlY2tlZC0nICsgY2hlY2tlZCwgISFjaGVja2VkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBzdGF0ZS5mb2N1cyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIHByb3BzLmRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdzcGFuJyxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgICAgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbm5lcicgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgICAgdHlwZTogcHJvcHMudHlwZSxcbiAgICAgICAgcmVhZE9ubHk6IHByb3BzLnJlYWRPbmx5LFxuICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIHRhYkluZGV4OiBwcm9wcy50YWJJbmRleCxcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0JyxcbiAgICAgICAgY2hlY2tlZDogISFjaGVja2VkLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLnByb3BzLm9uQ2xpY2ssXG4gICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlRm9jdXMsXG4gICAgICAgIG9uQmx1cjogdGhpcy5oYW5kbGVCbHVyLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gQ2hlY2tib3g7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbkNoZWNrYm94LnByb3BUeXBlcyA9IHtcbiAgbmFtZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgcHJlZml4Q2xzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9iamVjdCxcbiAgdHlwZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuc3RyaW5nLFxuICBkZWZhdWx0Q2hlY2tlZDogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLm51bWJlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLmJvb2xdKSxcbiAgZGlzYWJsZWQ6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5ib29sLFxuICBjaGVja2VkOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMubnVtYmVyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuYm9vbF0pLFxuICBvbkZvY3VzOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgb25CbHVyOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5mdW5jLFxuICBvbkNsaWNrOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMuZnVuY1xufTtcbkNoZWNrYm94LmRlZmF1bHRQcm9wcyA9IHtcbiAgcHJlZml4Q2xzOiAncmMtY2hlY2tib3gnLFxuICBzdHlsZToge30sXG4gIHR5cGU6ICdjaGVja2JveCcsXG4gIGNsYXNzTmFtZTogJycsXG4gIGRlZmF1bHRDaGVja2VkOiBmYWxzZSxcbiAgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cygpIHt9LFxuICBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cigpIHt9LFxuICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2hlY2tib3g7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jaGVja2JveC9saWIvQ2hlY2tib3guanNcbiAqKiBtb2R1bGUgaWQgPSAxMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdERvbSA9IHJlcXVpcmUoJ3JlYWN0LWRvbScpO1xuXG52YXIgX3JlYWN0RG9tMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0RG9tKTtcblxudmFyIF9yY1RyaWdnZXIgPSByZXF1aXJlKCdyYy10cmlnZ2VyJyk7XG5cbnZhciBfcmNUcmlnZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjVHJpZ2dlcik7XG5cbnZhciBfcGxhY2VtZW50cyA9IHJlcXVpcmUoJy4vcGxhY2VtZW50cycpO1xuXG52YXIgX3BsYWNlbWVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2VtZW50cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qXG4gdmFyIE1lbnVJdGVtID0gTWVudS5JdGVtO1xuXG4gdmFyIG1lbnUgPSA8TWVudT48TWVudUl0ZW0+MTwvTWVudUl0ZW0+PC9NZW51PjtcblxuIDxEcm9wRG93biB0cmlnZ2VyPVwiY2xpY2tcIiBhbmltYXRpb25OYW1lPVwiXCIgb3ZlcmxheT17PD59IG9uU2VsZWN0PXt9PlxuIDxidXR0b24+b3BlbjwvYnV0dG9uPlxuIDwvRHJvcERvd24+XG4qL1xuXG52YXIgRHJvcGRvd24gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnRHJvcGRvd24nLFxuXG4gIHByb3BUeXBlczoge1xuICAgIG1pbk92ZXJsYXlXaWR0aE1hdGNoVHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uVmlzaWJsZUNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHRyYW5zaXRpb25OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvdmVybGF5Q2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvdmVybGF5U3R5bGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHBsYWNlbWVudDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJpZ2dlcjogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBzaG93QWN0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGhpZGVBY3Rpb246IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgZ2V0UG9wdXBDb250YWluZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtaW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXI6IHRydWUsXG4gICAgICBwcmVmaXhDbHM6ICdyYy1kcm9wZG93bicsXG4gICAgICB0cmlnZ2VyOiBbJ2hvdmVyJ10sXG4gICAgICBzaG93QWN0aW9uOiBbXSxcbiAgICAgIGhpZGVBY3Rpb246IFtdLFxuICAgICAgb3ZlcmxheUNsYXNzTmFtZTogJycsXG4gICAgICBvdmVybGF5U3R5bGU6IHt9LFxuICAgICAgZGVmYXVsdFZpc2libGU6IGZhbHNlLFxuICAgICAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2UoKSB7fSxcblxuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCdcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICgndmlzaWJsZScgaW4gcHJvcHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZpc2libGU6IHByb3BzLnZpc2libGVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlOiBwcm9wcy5kZWZhdWx0VmlzaWJsZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoX3JlZikge1xuICAgIHZhciB2aXNpYmxlID0gX3JlZi52aXNpYmxlO1xuXG4gICAgaWYgKHZpc2libGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpc2libGU6IHZpc2libGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgb3ZlcmxheVByb3BzID0gcHJvcHMub3ZlcmxheS5wcm9wcztcbiAgICAvLyBkbyBubyBjYWxsIG9uVmlzaWJsZUNoYW5nZSwgaWYgeW91IG5lZWQgY2xpY2sgdG8gaGlkZSwgdXNlIG9uQ2xpY2sgYW5kIGNvbnRyb2wgdmlzaWJsZVxuICAgIGlmICghKCd2aXNpYmxlJyBpbiBwcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvdmVybGF5UHJvcHMub25DbGljaykge1xuICAgICAgb3ZlcmxheVByb3BzLm9uQ2xpY2soZSk7XG4gICAgfVxuICB9LFxuICBvblZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIG9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoISgndmlzaWJsZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByb3BzLm9uVmlzaWJsZUNoYW5nZSh2aXNpYmxlKTtcbiAgfSxcbiAgZ2V0TWVudUVsZW1lbnQ6IGZ1bmN0aW9uIGdldE1lbnVFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChwcm9wcy5vdmVybGF5LCB7XG4gICAgICBwcmVmaXhDbHM6IHByb3BzLnByZWZpeENscyArICctbWVudScsXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2tcbiAgICB9KTtcbiAgfSxcbiAgZ2V0UG9wdXBEb21Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERvbU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuICB9LFxuICBhZnRlclZpc2libGVDaGFuZ2U6IGZ1bmN0aW9uIGFmdGVyVmlzaWJsZUNoYW5nZSh2aXNpYmxlKSB7XG4gICAgaWYgKHZpc2libGUgJiYgdGhpcy5wcm9wcy5taW5PdmVybGF5V2lkdGhNYXRjaFRyaWdnZXIpIHtcbiAgICAgIHZhciBvdmVybGF5Tm9kZSA9IHRoaXMuZ2V0UG9wdXBEb21Ob2RlKCk7XG4gICAgICB2YXIgcm9vdE5vZGUgPSBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICAgIGlmIChyb290Tm9kZS5vZmZzZXRXaWR0aCA+IG92ZXJsYXlOb2RlLm9mZnNldFdpZHRoKSB7XG4gICAgICAgIG92ZXJsYXlOb2RlLnN0eWxlLndpZHRoID0gcm9vdE5vZGUub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IF9wcm9wcy50cmFuc2l0aW9uTmFtZTtcbiAgICB2YXIgYW5pbWF0aW9uID0gX3Byb3BzLmFuaW1hdGlvbjtcbiAgICB2YXIgYWxpZ24gPSBfcHJvcHMuYWxpZ247XG4gICAgdmFyIHBsYWNlbWVudCA9IF9wcm9wcy5wbGFjZW1lbnQ7XG4gICAgdmFyIGdldFBvcHVwQ29udGFpbmVyID0gX3Byb3BzLmdldFBvcHVwQ29udGFpbmVyO1xuICAgIHZhciBzaG93QWN0aW9uID0gX3Byb3BzLnNob3dBY3Rpb247XG4gICAgdmFyIGhpZGVBY3Rpb24gPSBfcHJvcHMuaGlkZUFjdGlvbjtcbiAgICB2YXIgb3ZlcmxheUNsYXNzTmFtZSA9IF9wcm9wcy5vdmVybGF5Q2xhc3NOYW1lO1xuICAgIHZhciBvdmVybGF5U3R5bGUgPSBfcHJvcHMub3ZlcmxheVN0eWxlO1xuICAgIHZhciB0cmlnZ2VyID0gX3Byb3BzLnRyaWdnZXI7XG5cbiAgICB2YXIgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsncHJlZml4Q2xzJywgJ2NoaWxkcmVuJywgJ3RyYW5zaXRpb25OYW1lJywgJ2FuaW1hdGlvbicsICdhbGlnbicsICdwbGFjZW1lbnQnLCAnZ2V0UG9wdXBDb250YWluZXInLCAnc2hvd0FjdGlvbicsICdoaWRlQWN0aW9uJywgJ292ZXJsYXlDbGFzc05hbWUnLCAnb3ZlcmxheVN0eWxlJywgJ3RyaWdnZXInXSk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICByZWY6ICd0cmlnZ2VyJyxcbiAgICAgICAgcG9wdXBDbGFzc05hbWU6IG92ZXJsYXlDbGFzc05hbWUsXG4gICAgICAgIHBvcHVwU3R5bGU6IG92ZXJsYXlTdHlsZSxcbiAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IF9wbGFjZW1lbnRzMltcImRlZmF1bHRcIl0sXG4gICAgICAgIGFjdGlvbjogdHJpZ2dlcixcbiAgICAgICAgc2hvd0FjdGlvbjogc2hvd0FjdGlvbixcbiAgICAgICAgaGlkZUFjdGlvbjogaGlkZUFjdGlvbixcbiAgICAgICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgcG9wdXBBbGlnbjogYWxpZ24sXG4gICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLFxuICAgICAgICBwb3B1cEFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgICAgICBwb3B1cFZpc2libGU6IHRoaXMuc3RhdGUudmlzaWJsZSxcbiAgICAgICAgYWZ0ZXJQb3B1cFZpc2libGVDaGFuZ2U6IHRoaXMuYWZ0ZXJWaXNpYmxlQ2hhbmdlLFxuICAgICAgICBwb3B1cDogdGhpcy5nZXRNZW51RWxlbWVudCgpLFxuICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogdGhpcy5vblZpc2libGVDaGFuZ2UsXG4gICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBnZXRQb3B1cENvbnRhaW5lclxuICAgICAgfSksXG4gICAgICBjaGlsZHJlblxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERyb3Bkb3duO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtZHJvcGRvd24vbGliL0Ryb3Bkb3duLmpzXG4gKiogbW9kdWxlIGlkID0gMTE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0Ryb3Bkb3duID0gcmVxdWlyZSgnLi9Ecm9wZG93bicpO1xuXG52YXIgX0Ryb3Bkb3duMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gX0Ryb3Bkb3duMltcImRlZmF1bHRcIl07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1kcm9wZG93bi9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuICBhZGp1c3RYOiAxLFxuICBhZGp1c3RZOiAxXG59O1xuXG52YXIgdGFyZ2V0T2Zmc2V0ID0gWzAsIDBdO1xuXG52YXIgcGxhY2VtZW50cyA9IGV4cG9ydHMucGxhY2VtZW50cyA9IHtcbiAgdG9wTGVmdDoge1xuICAgIHBvaW50czogWydibCcsICd0bCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcENlbnRlcjoge1xuICAgIHBvaW50czogWydiYycsICd0YyddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTRdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcFJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ2JyJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICdibCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgYm90dG9tQ2VudGVyOiB7XG4gICAgcG9pbnRzOiBbJ3RjJywgJ2JjJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICB0YXJnZXRPZmZzZXQ6IHRhcmdldE9mZnNldFxuICB9LFxuICBib3R0b21SaWdodDoge1xuICAgIHBvaW50czogWyd0cicsICdiciddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgNF0sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfVxufTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBwbGFjZW1lbnRzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWRyb3Bkb3duL2xpYi9wbGFjZW1lbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gMTE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBLRVlDT0RFID0gcmVxdWlyZSgnLi9LZXlDb2RlJyk7XG5cbnZhciBPcHRpb25zID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKE9wdGlvbnMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE9wdGlvbnMocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3B0aW9ucyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogcHJvcHMuY3VycmVudCxcbiAgICAgIF9jdXJyZW50OiBwcm9wcy5jdXJyZW50XG4gICAgfTtcblxuICAgIFsnX2hhbmRsZUNoYW5nZScsICdfY2hhbmdlU2l6ZScsICdfZ28nLCAnX2J1aWxkT3B0aW9uVGV4dCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIE9wdGlvbnMucHJvdG90eXBlLl9idWlsZE9wdGlvblRleHQgPSBmdW5jdGlvbiBfYnVpbGRPcHRpb25UZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICsgJyAnICsgdGhpcy5wcm9wcy5sb2NhbGUuaXRlbXNfcGVyX3BhZ2U7XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2NoYW5nZVNpemUgPSBmdW5jdGlvbiBfY2hhbmdlU2l6ZSh2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuY2hhbmdlU2l6ZShOdW1iZXIodmFsdWUpKTtcbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5faGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldnQpIHtcbiAgICB2YXIgX3ZhbCA9IGV2dC50YXJnZXQudmFsdWU7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIF9jdXJyZW50OiBfdmFsXG4gICAgfSk7XG4gIH07XG5cbiAgT3B0aW9ucy5wcm90b3R5cGUuX2dvID0gZnVuY3Rpb24gX2dvKGUpIHtcbiAgICB2YXIgX3ZhbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGlmIChfdmFsID09PSAnJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdmFsID0gTnVtYmVyKHRoaXMuc3RhdGUuX2N1cnJlbnQpO1xuICAgIGlmIChpc05hTih2YWwpKSB7XG4gICAgICB2YWwgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcbiAgICAgIHZhciBjID0gdGhpcy5wcm9wcy5xdWlja0dvKHZhbCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgX2N1cnJlbnQ6IGMsXG4gICAgICAgIGN1cnJlbnQ6IGNcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBPcHRpb25zLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctb3B0aW9ucyc7XG4gICAgdmFyIGNoYW5nZVNpemUgPSBwcm9wcy5jaGFuZ2VTaXplO1xuICAgIHZhciBxdWlja0dvID0gcHJvcHMucXVpY2tHbztcbiAgICB2YXIgYnVpbGRPcHRpb25UZXh0ID0gcHJvcHMuYnVpbGRPcHRpb25UZXh0IHx8IHRoaXMuX2J1aWxkT3B0aW9uVGV4dDtcbiAgICB2YXIgU2VsZWN0ID0gcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3M7XG4gICAgdmFyIGNoYW5nZVNlbGVjdCA9IG51bGw7XG4gICAgdmFyIGdvSW5wdXQgPSBudWxsO1xuXG4gICAgaWYgKCEoY2hhbmdlU2l6ZSB8fCBxdWlja0dvKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZVNpemUgJiYgU2VsZWN0KSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgT3B0aW9uID0gU2VsZWN0Lk9wdGlvbjtcbiAgICAgICAgdmFyIHBhZ2VTaXplID0gcHJvcHMucGFnZVNpemUgfHwgcHJvcHMucGFnZVNpemVPcHRpb25zWzBdO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHByb3BzLnBhZ2VTaXplT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdCwgaSkge1xuICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgT3B0aW9uLFxuICAgICAgICAgICAgeyBrZXk6IGksIHZhbHVlOiBvcHQgfSxcbiAgICAgICAgICAgIGJ1aWxkT3B0aW9uVGV4dChvcHQpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhbmdlU2VsZWN0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBTZWxlY3QsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJlZml4Q2xzOiBwcm9wcy5zZWxlY3RQcmVmaXhDbHMsXG4gICAgICAgICAgICBzaG93U2VhcmNoOiBmYWxzZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zaXplLWNoYW5nZXInLFxuICAgICAgICAgICAgb3B0aW9uTGFiZWxQcm9wOiAnY2hpbGRyZW4nLFxuICAgICAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBwYWdlU2l6ZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb25DaGFuZ2U6IF90aGlzMi5fY2hhbmdlU2l6ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICBpZiAocXVpY2tHbykge1xuICAgICAgZ29JbnB1dCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1xdWljay1qdW1wZXInIH0sXG4gICAgICAgIGxvY2FsZS5qdW1wX3RvLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgdmFsdWU6IHN0YXRlLl9jdXJyZW50LFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLl9oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgb25LZXlVcDogdGhpcy5fZ29cbiAgICAgICAgfSksXG4gICAgICAgIGxvY2FsZS5wYWdlXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogJycgKyBwcmVmaXhDbHMgfSxcbiAgICAgIGNoYW5nZVNlbGVjdCxcbiAgICAgIGdvSW5wdXRcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBPcHRpb25zO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5PcHRpb25zLnByb3BUeXBlcyA9IHtcbiAgY2hhbmdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHF1aWNrR286IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzZWxlY3RDb21wb25lbnRDbGFzczogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHBhZ2VTaXplT3B0aW9uczogUmVhY3QuUHJvcFR5cGVzLmFycmF5T2YoUmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG4gIHBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBidWlsZE9wdGlvblRleHQ6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3Rcbn07XG5cbk9wdGlvbnMuZGVmYXVsdFByb3BzID0ge1xuICBwYWdlU2l6ZU9wdGlvbnM6IFsnMTAnLCAnMjAnLCAnMzAnLCAnNDAnXVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcHRpb25zO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL09wdGlvbnMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgUGFnZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUGFnZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhZ2VyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIFBhZ2VyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctaXRlbSc7XG4gICAgdmFyIGNscyA9IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctJyArIHByb3BzLnBhZ2U7XG5cbiAgICBpZiAocHJvcHMuYWN0aXZlKSB7XG4gICAgICBjbHMgPSBjbHMgKyAnICcgKyBwcmVmaXhDbHMgKyAnLWFjdGl2ZSc7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgY2xzID0gY2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2xpJyxcbiAgICAgIHsgdGl0bGU6IHByb3BzLnBhZ2UsIGNsYXNzTmFtZTogY2xzLCBvbkNsaWNrOiBwcm9wcy5vbkNsaWNrIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnYScsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BzLnBhZ2VcbiAgICAgIClcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBQYWdlcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUGFnZXIucHJvcFR5cGVzID0ge1xuICBwYWdlOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBhY3RpdmU6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBsYXN0OiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgbG9jYWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmdcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUGFnZXI7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvUGFnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIFBhZ2VyID0gcmVxdWlyZSgnLi9QYWdlcicpO1xudmFyIE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKTtcbnZhciBLRVlDT0RFID0gcmVxdWlyZSgnLi9LZXlDb2RlJyk7XG52YXIgTE9DQUxFID0gcmVxdWlyZSgnLi9sb2NhbGUvemhfQ04nKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQYWdpbmF0aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBhZ2luYXRpb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhZ2luYXRpb24ocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFnaW5hdGlvbik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIHZhciBoYXNPbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlICE9PSBub29wO1xuICAgIHZhciBoYXNDdXJyZW50ID0gJ2N1cnJlbnQnIGluIHByb3BzO1xuICAgIGlmIChoYXNDdXJyZW50ICYmICFoYXNPbkNoYW5nZSkge1xuICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiBZb3UgcHJvdmlkZWQgYSBgY3VycmVudGAgcHJvcCB0byBhIFBhZ2luYXRpb24gY29tcG9uZW50IHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGNvbXBvbmVudC4nKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIH1cblxuICAgIHZhciBjdXJyZW50ID0gcHJvcHMuZGVmYXVsdEN1cnJlbnQ7XG4gICAgaWYgKCdjdXJyZW50JyBpbiBwcm9wcykge1xuICAgICAgY3VycmVudCA9IHByb3BzLmN1cnJlbnQ7XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VTaXplID0gcHJvcHMuZGVmYXVsdFBhZ2VTaXplO1xuICAgIGlmICgncGFnZVNpemUnIGluIHByb3BzKSB7XG4gICAgICBwYWdlU2l6ZSA9IHByb3BzLnBhZ2VTaXplO1xuICAgIH1cblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgIF9jdXJyZW50OiBjdXJyZW50LFxuICAgICAgcGFnZVNpemU6IHBhZ2VTaXplXG4gICAgfTtcblxuICAgIFsncmVuZGVyJywgJ19oYW5kbGVDaGFuZ2UnLCAnX2hhbmRsZUtleVVwJywgJ19oYW5kbGVLZXlEb3duJywgJ19jaGFuZ2VQYWdlU2l6ZScsICdfaXNWYWxpZCcsICdfcHJldicsICdfbmV4dCcsICdfaGFzUHJldicsICdfaGFzTmV4dCcsICdfanVtcFByZXYnLCAnX2p1bXBOZXh0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICByZXR1cm4gX3RoaXNbbWV0aG9kXSA9IF90aGlzW21ldGhvZF0uYmluZChfdGhpcyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50OiBuZXh0UHJvcHMuY3VycmVudCxcbiAgICAgICAgX2N1cnJlbnQ6IG5leHRQcm9wcy5jdXJyZW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoJ3BhZ2VTaXplJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnN0YXRlLmN1cnJlbnQ7XG4gICAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKG5leHRQcm9wcy5wYWdlU2l6ZSk7XG4gICAgICBjdXJyZW50ID0gY3VycmVudCA+IG5ld0N1cnJlbnQgPyBuZXdDdXJyZW50IDogY3VycmVudDtcbiAgICAgIGlmICghKCdjdXJyZW50JyBpbiBuZXh0UHJvcHMpKSB7XG4gICAgICAgIG5ld1N0YXRlLmN1cnJlbnQgPSBjdXJyZW50O1xuICAgICAgICBuZXdTdGF0ZS5fY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBuZXdTdGF0ZS5wYWdlU2l6ZSA9IG5leHRQcm9wcy5wYWdlU2l6ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBwcml2YXRlIG1ldGhvZHNcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fY2FsY1BhZ2UgPSBmdW5jdGlvbiBfY2FsY1BhZ2UocCkge1xuICAgIHZhciBwYWdlU2l6ZSA9IHA7XG4gICAgaWYgKHR5cGVvZiBwYWdlU2l6ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhZ2VTaXplID0gdGhpcy5zdGF0ZS5wYWdlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMucHJvcHMudG90YWwgLSAxKSAvIHBhZ2VTaXplKSArIDE7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2lzVmFsaWQgPSBmdW5jdGlvbiBfaXNWYWxpZChwYWdlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwYWdlID09PSAnbnVtYmVyJyAmJiBwYWdlID49IDEgJiYgcGFnZSAhPT0gdGhpcy5zdGF0ZS5jdXJyZW50O1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gX2hhbmRsZUtleURvd24oZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX1VQIHx8IGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5faGFuZGxlS2V5VXAgPSBmdW5jdGlvbiBfaGFuZGxlS2V5VXAoZXZ0KSB7XG4gICAgdmFyIF92YWwgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgIHZhciB2YWwgPSB2b2lkIDA7XG5cbiAgICBpZiAoX3ZhbCA9PT0gJycpIHtcbiAgICAgIHZhbCA9IF92YWw7XG4gICAgfSBlbHNlIGlmIChpc05hTihOdW1iZXIoX3ZhbCkpKSB7XG4gICAgICB2YWwgPSB0aGlzLnN0YXRlLl9jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWwgPSBOdW1iZXIoX3ZhbCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBfY3VycmVudDogdmFsXG4gICAgfSk7XG5cbiAgICBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuRU5URVIpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IEtFWUNPREUuQVJST1dfVVApIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgLSAxKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlDT0RFLkFSUk9XX0RPV04pIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh2YWwgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2NoYW5nZVBhZ2VTaXplID0gZnVuY3Rpb24gX2NoYW5nZVBhZ2VTaXplKHNpemUpIHtcbiAgICB2YXIgY3VycmVudCA9IHRoaXMuc3RhdGUuY3VycmVudDtcbiAgICB2YXIgbmV3Q3VycmVudCA9IHRoaXMuX2NhbGNQYWdlKHNpemUpO1xuICAgIGN1cnJlbnQgPSBjdXJyZW50ID4gbmV3Q3VycmVudCA/IG5ld0N1cnJlbnQgOiBjdXJyZW50O1xuICAgIGlmICh0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmICghKCdwYWdlU2l6ZScgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcGFnZVNpemU6IHNpemVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoISgnY3VycmVudCcgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgICAgICBfY3VycmVudDogY3VycmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblNob3dTaXplQ2hhbmdlKGN1cnJlbnQsIHNpemUpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKHApIHtcbiAgICB2YXIgcGFnZSA9IHA7XG4gICAgaWYgKHRoaXMuX2lzVmFsaWQocGFnZSkpIHtcbiAgICAgIGlmIChwYWdlID4gdGhpcy5fY2FsY1BhZ2UoKSkge1xuICAgICAgICBwYWdlID0gdGhpcy5fY2FsY1BhZ2UoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoJ2N1cnJlbnQnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnQ6IHBhZ2UsXG4gICAgICAgICAgX2N1cnJlbnQ6IHBhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYWdlU2l6ZSA9IHRoaXMuc3RhdGUucGFnZVNpemU7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHBhZ2UsIHBhZ2VTaXplKTtcblxuICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudDtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5fcHJldiA9IGZ1bmN0aW9uIF9wcmV2KCkge1xuICAgIGlmICh0aGlzLl9oYXNQcmV2KCkpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUNoYW5nZSh0aGlzLnN0YXRlLmN1cnJlbnQgLSAxKTtcbiAgICB9XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiBfbmV4dCgpIHtcbiAgICBpZiAodGhpcy5faGFzTmV4dCgpKSB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UodGhpcy5zdGF0ZS5jdXJyZW50ICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wUHJldiA9IGZ1bmN0aW9uIF9qdW1wUHJldigpIHtcbiAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5tYXgoMSwgdGhpcy5zdGF0ZS5jdXJyZW50IC0gKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9qdW1wTmV4dCA9IGZ1bmN0aW9uIF9qdW1wTmV4dCgpIHtcbiAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoTWF0aC5taW4odGhpcy5fY2FsY1BhZ2UoKSwgdGhpcy5zdGF0ZS5jdXJyZW50ICsgKHRoaXMucHJvcHMuc2hvd0xlc3NJdGVtcyA/IDMgOiA1KSkpO1xuICB9O1xuXG4gIFBhZ2luYXRpb24ucHJvdG90eXBlLl9oYXNQcmV2ID0gZnVuY3Rpb24gX2hhc1ByZXYoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudCA+IDE7XG4gIH07XG5cbiAgUGFnaW5hdGlvbi5wcm90b3R5cGUuX2hhc05leHQgPSBmdW5jdGlvbiBfaGFzTmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jdXJyZW50IDwgdGhpcy5fY2FsY1BhZ2UoKTtcbiAgfTtcblxuICBQYWdpbmF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuXG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICB2YXIgYWxsUGFnZXMgPSB0aGlzLl9jYWxjUGFnZSgpO1xuICAgIHZhciBwYWdlckxpc3QgPSBbXTtcbiAgICB2YXIganVtcFByZXYgPSBudWxsO1xuICAgIHZhciBqdW1wTmV4dCA9IG51bGw7XG4gICAgdmFyIGZpcnN0UGFnZXIgPSBudWxsO1xuICAgIHZhciBsYXN0UGFnZXIgPSBudWxsO1xuXG4gICAgdmFyIHBhZ2VCdWZmZXJTaXplID0gcHJvcHMuc2hvd0xlc3NJdGVtcyA/IDEgOiAyO1xuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBjdXJyZW50ID0gX3N0YXRlLmN1cnJlbnQsXG4gICAgICAgIHBhZ2VTaXplID0gX3N0YXRlLnBhZ2VTaXplO1xuXG5cbiAgICBpZiAocHJvcHMuc2ltcGxlKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3VsJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIHByZWZpeENscyArICctc2ltcGxlICcgKyBwcm9wcy5jbGFzc05hbWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnbGknLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUucHJldl9wYWdlLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKHRoaXMuX2hhc1ByZXYoKSA/ICcnIDogcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcpICsgJyAnICsgcHJlZml4Q2xzICsgJy1wcmV2J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7IHRpdGxlOiB0aGlzLnN0YXRlLmN1cnJlbnQgKyAnLycgKyBhbGxQYWdlcywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXNpbXBsZS1wYWdlcicgfSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLl9jdXJyZW50LFxuICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLl9oYW5kbGVLZXlEb3duLFxuICAgICAgICAgICAgb25LZXlVcDogdGhpcy5faGFuZGxlS2V5VXAsXG4gICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5faGFuZGxlS2V5VXBcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2xhc2gnIH0sXG4gICAgICAgICAgICAnXFx1RkYwRidcbiAgICAgICAgICApLFxuICAgICAgICAgIGFsbFBhZ2VzXG4gICAgICAgICksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2xpJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRfcGFnZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNOZXh0KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctbmV4dCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChhbGxQYWdlcyA8PSA1ICsgcGFnZUJ1ZmZlclNpemUgKiAyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBhbGxQYWdlczsgaSsrKSB7XG4gICAgICAgIHZhciBhY3RpdmUgPSB0aGlzLnN0YXRlLmN1cnJlbnQgPT09IGk7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUGFnZXIsIHtcbiAgICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgb25DbGljazogdGhpcy5faGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgaSksXG4gICAgICAgICAga2V5OiBpLFxuICAgICAgICAgIHBhZ2U6IGksXG4gICAgICAgICAgYWN0aXZlOiBhY3RpdmVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBqdW1wUHJldiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICB0aXRsZTogcHJvcHMuc2hvd0xlc3NJdGVtcyA/IGxvY2FsZS5wcmV2XzMgOiBsb2NhbGUucHJldl81LFxuICAgICAgICAgIGtleTogJ3ByZXYnLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX2p1bXBQcmV2LFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1qdW1wLXByZXYnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKTtcbiAgICAgIGp1bXBOZXh0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBwcm9wcy5zaG93TGVzc0l0ZW1zID8gbG9jYWxlLm5leHRfMyA6IGxvY2FsZS5uZXh0XzUsXG4gICAgICAgICAga2V5OiAnbmV4dCcsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fanVtcE5leHQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWp1bXAtbmV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApO1xuICAgICAgbGFzdFBhZ2VyID0gUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgbGFzdDogdHJ1ZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBhbGxQYWdlcyksXG4gICAgICAgIGtleTogYWxsUGFnZXMsXG4gICAgICAgIHBhZ2U6IGFsbFBhZ2VzLFxuICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIGZpcnN0UGFnZXIgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBhZ2VyLCB7XG4gICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsIDEpLFxuICAgICAgICBrZXk6IDEsXG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDEsIGN1cnJlbnQgLSBwYWdlQnVmZmVyU2l6ZSk7XG4gICAgICB2YXIgcmlnaHQgPSBNYXRoLm1pbihjdXJyZW50ICsgcGFnZUJ1ZmZlclNpemUsIGFsbFBhZ2VzKTtcblxuICAgICAgaWYgKGN1cnJlbnQgLSAxIDw9IHBhZ2VCdWZmZXJTaXplKSB7XG4gICAgICAgIHJpZ2h0ID0gMSArIHBhZ2VCdWZmZXJTaXplICogMjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFsbFBhZ2VzIC0gY3VycmVudCA8PSBwYWdlQnVmZmVyU2l6ZSkge1xuICAgICAgICBsZWZ0ID0gYWxsUGFnZXMgLSBwYWdlQnVmZmVyU2l6ZSAqIDI7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pID0gbGVmdDsgX2kgPD0gcmlnaHQ7IF9pKyspIHtcbiAgICAgICAgdmFyIF9hY3RpdmUgPSBjdXJyZW50ID09PSBfaTtcbiAgICAgICAgcGFnZXJMaXN0LnB1c2goUmVhY3QuY3JlYXRlRWxlbWVudChQYWdlciwge1xuICAgICAgICAgIGxvY2FsZTogcHJvcHMubG9jYWxlLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCBfaSksXG4gICAgICAgICAga2V5OiBfaSxcbiAgICAgICAgICBwYWdlOiBfaSxcbiAgICAgICAgICBhY3RpdmU6IF9hY3RpdmVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCAtIDEgPj0gcGFnZUJ1ZmZlclNpemUgKiAyICYmIGN1cnJlbnQgIT09IDEgKyAyKSB7XG4gICAgICAgIHBhZ2VyTGlzdFswXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbMF0sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1hZnRlci1qdW1wLXByZXYnXG4gICAgICAgIH0pO1xuICAgICAgICBwYWdlckxpc3QudW5zaGlmdChqdW1wUHJldik7XG4gICAgICB9XG4gICAgICBpZiAoYWxsUGFnZXMgLSBjdXJyZW50ID49IHBhZ2VCdWZmZXJTaXplICogMiAmJiBjdXJyZW50ICE9PSBhbGxQYWdlcyAtIDIpIHtcbiAgICAgICAgcGFnZXJMaXN0W3BhZ2VyTGlzdC5sZW5ndGggLSAxXSA9IFJlYWN0LmNsb25lRWxlbWVudChwYWdlckxpc3RbcGFnZXJMaXN0Lmxlbmd0aCAtIDFdLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tYmVmb3JlLWp1bXAtbmV4dCdcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGp1bXBOZXh0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxlZnQgIT09IDEpIHtcbiAgICAgICAgcGFnZXJMaXN0LnVuc2hpZnQoZmlyc3RQYWdlcik7XG4gICAgICB9XG4gICAgICBpZiAocmlnaHQgIT09IGFsbFBhZ2VzKSB7XG4gICAgICAgIHBhZ2VyTGlzdC5wdXNoKGxhc3RQYWdlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsVGV4dCA9IG51bGw7XG5cbiAgICBpZiAocHJvcHMuc2hvd1RvdGFsKSB7XG4gICAgICB0b3RhbFRleHQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRvdGFsLXRleHQnIH0sXG4gICAgICAgIHByb3BzLnNob3dUb3RhbChwcm9wcy50b3RhbCwgWyhjdXJyZW50IC0gMSkgKiBwYWdlU2l6ZSArIDEsIGN1cnJlbnQgKiBwYWdlU2l6ZSA+IHByb3BzLnRvdGFsID8gcHJvcHMudG90YWwgOiBjdXJyZW50ICogcGFnZVNpemVdKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICd1bCcsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJyAnICsgcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGUsXG4gICAgICAgIHVuc2VsZWN0YWJsZTogJ3Vuc2VsZWN0YWJsZSdcbiAgICAgIH0sXG4gICAgICB0b3RhbFRleHQsXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnbGknLFxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2X3BhZ2UsXG4gICAgICAgICAgb25DbGljazogdGhpcy5fcHJldixcbiAgICAgICAgICBjbGFzc05hbWU6ICh0aGlzLl9oYXNQcmV2KCkgPyAnJyA6IHByZWZpeENscyArICctZGlzYWJsZWQnKSArICcgJyArIHByZWZpeENscyArICctcHJldidcbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgnYScsIG51bGwpXG4gICAgICApLFxuICAgICAgcGFnZXJMaXN0LFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dF9wYWdlLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuX25leHQsXG4gICAgICAgICAgY2xhc3NOYW1lOiAodGhpcy5faGFzTmV4dCgpID8gJycgOiBwcmVmaXhDbHMgKyAnLWRpc2FibGVkJykgKyAnICcgKyBwcmVmaXhDbHMgKyAnLW5leHQnXG4gICAgICAgIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2EnLCBudWxsKVxuICAgICAgKSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3B0aW9ucywge1xuICAgICAgICBsb2NhbGU6IHByb3BzLmxvY2FsZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBzZWxlY3RDb21wb25lbnRDbGFzczogcHJvcHMuc2VsZWN0Q29tcG9uZW50Q2xhc3MsXG4gICAgICAgIHNlbGVjdFByZWZpeENsczogcHJvcHMuc2VsZWN0UHJlZml4Q2xzLFxuICAgICAgICBjaGFuZ2VTaXplOiB0aGlzLnByb3BzLnNob3dTaXplQ2hhbmdlciA/IHRoaXMuX2NoYW5nZVBhZ2VTaXplLmJpbmQodGhpcykgOiBudWxsLFxuICAgICAgICBjdXJyZW50OiB0aGlzLnN0YXRlLmN1cnJlbnQsXG4gICAgICAgIHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2VTaXplLFxuICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IHRoaXMucHJvcHMucGFnZVNpemVPcHRpb25zLFxuICAgICAgICBxdWlja0dvOiB0aGlzLnByb3BzLnNob3dRdWlja0p1bXBlciA/IHRoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMpIDogbnVsbFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBQYWdpbmF0aW9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5QYWdpbmF0aW9uLnByb3BUeXBlcyA9IHtcbiAgY3VycmVudDogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdEN1cnJlbnQ6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHRvdGFsOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBwYWdlU2l6ZTogUmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgZGVmYXVsdFBhZ2VTaXplOiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dTaXplQ2hhbmdlcjogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dMZXNzSXRlbXM6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBvblNob3dTaXplQ2hhbmdlOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2VsZWN0Q29tcG9uZW50Q2xhc3M6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBzaG93UXVpY2tKdW1wZXI6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBwYWdlU2l6ZU9wdGlvbnM6IFJlYWN0LlByb3BUeXBlcy5hcnJheU9mKFJlYWN0LlByb3BUeXBlcy5zdHJpbmcpLFxuICBzaG93VG90YWw6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBsb2NhbGU6IFJlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG59O1xuXG5QYWdpbmF0aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgZGVmYXVsdEN1cnJlbnQ6IDEsXG4gIHRvdGFsOiAwLFxuICBkZWZhdWx0UGFnZVNpemU6IDEwLFxuICBvbkNoYW5nZTogbm9vcCxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgc2VsZWN0UHJlZml4Q2xzOiAncmMtc2VsZWN0JyxcbiAgcHJlZml4Q2xzOiAncmMtcGFnaW5hdGlvbicsXG4gIHNlbGVjdENvbXBvbmVudENsYXNzOiBudWxsLFxuICBzaG93UXVpY2tKdW1wZXI6IGZhbHNlLFxuICBzaG93U2l6ZUNoYW5nZXI6IGZhbHNlLFxuICBzaG93TGVzc0l0ZW1zOiBmYWxzZSxcbiAgb25TaG93U2l6ZUNoYW5nZTogbm9vcCxcbiAgbG9jYWxlOiBMT0NBTEUsXG4gIHN0eWxlOiB7fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWdpbmF0aW9uO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXBhZ2luYXRpb24vbGliL1BhZ2luYXRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8vIGV4cG9ydCB0aGlzIHBhY2thZ2UncyBhcGlcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9QYWdpbmF0aW9uJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcGFnaW5hdGlvbi9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgQ2hlY2tib3ggPSByZXF1aXJlKCdyYy1jaGVja2JveCcpO1xuXG52YXIgUmFkaW8gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUmFkaW8nLFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy1yYWRpbycsXG4gICAgICB0eXBlOiAncmFkaW8nXG4gICAgfTtcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgcmVmOiAnY2hlY2tib3gnIH0pKTtcbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmFkaW87XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtcmFkaW8vbGliL1JhZGlvLmpzXG4gKiogbW9kdWxlIGlkID0gMTI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vUmFkaW8nKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1yYWRpby9saWIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF90b0FycmF5ID0gcmVxdWlyZSgncmMtdXRpbC9saWIvQ2hpbGRyZW4vdG9BcnJheScpO1xuXG52YXIgX3RvQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9BcnJheSk7XG5cbnZhciBfcmNNZW51ID0gcmVxdWlyZSgncmMtbWVudScpO1xuXG52YXIgX3JjTWVudTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY01lbnUpO1xuXG52YXIgX2RvbVNjcm9sbEludG9WaWV3ID0gcmVxdWlyZSgnZG9tLXNjcm9sbC1pbnRvLXZpZXcnKTtcblxudmFyIF9kb21TY3JvbGxJbnRvVmlldzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kb21TY3JvbGxJbnRvVmlldyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERyb3Bkb3duTWVudSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdEcm9wZG93bk1lbnUnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBkcm9wZG93bk1lbnVTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgbXVsdGlwbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbk1lbnVEZVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uTWVudVNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbWVudUl0ZW1zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBpbnB1dFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbiAgfSxcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmxhc3RJbnB1dFZhbHVlID0gdGhpcy5wcm9wcy5pbnB1dFZhbHVlO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG4gICAgdGhpcy5sYXN0VmlzaWJsZSA9IHRoaXMucHJvcHMudmlzaWJsZTtcbiAgfSxcbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgaWYgKCFuZXh0UHJvcHMudmlzaWJsZSkge1xuICAgICAgdGhpcy5sYXN0VmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBmcmVlemUgd2hlbiBoaWRlXG4gICAgcmV0dXJuIG5leHRQcm9wcy52aXNpYmxlO1xuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghcHJldlByb3BzLnZpc2libGUgJiYgcHJvcHMudmlzaWJsZSkge1xuICAgICAgdGhpcy5zY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCk7XG4gICAgfVxuICAgIHRoaXMubGFzdFZpc2libGUgPSBwcm9wcy52aXNpYmxlO1xuICAgIHRoaXMubGFzdElucHV0VmFsdWUgPSBwcm9wcy5pbnB1dFZhbHVlO1xuICB9LFxuICBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3OiBmdW5jdGlvbiBzY3JvbGxBY3RpdmVJdGVtVG9WaWV3KCkge1xuICAgIC8vIHNjcm9sbCBpbnRvIHZpZXdcbiAgICB2YXIgaXRlbUNvbXBvbmVudCA9ICgwLCBfcmVhY3REb20uZmluZERPTU5vZGUpKHRoaXMuZmlyc3RBY3RpdmVJdGVtKTtcbiAgICBpZiAoaXRlbUNvbXBvbmVudCkge1xuICAgICAgKDAsIF9kb21TY3JvbGxJbnRvVmlldzJbXCJkZWZhdWx0XCJdKShpdGVtQ29tcG9uZW50LCAoMCwgX3JlYWN0RG9tLmZpbmRET01Ob2RlKSh0aGlzLnJlZnMubWVudSksIHtcbiAgICAgICAgb25seVNjcm9sbElmTmVlZGVkOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbmRlck1lbnU6IGZ1bmN0aW9uIHJlbmRlck1lbnUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG1lbnVJdGVtcyA9IHByb3BzLm1lbnVJdGVtcyxcbiAgICAgICAgZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uID0gcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIG11bHRpcGxlID0gcHJvcHMubXVsdGlwbGUsXG4gICAgICAgIG9uTWVudVNlbGVjdCA9IHByb3BzLm9uTWVudVNlbGVjdCxcbiAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWU7XG5cbiAgICBpZiAobWVudUl0ZW1zICYmIG1lbnVJdGVtcy5sZW5ndGgpIHtcbiAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVudVByb3BzID0ge307XG4gICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgIG1lbnVQcm9wcy5vbkRlc2VsZWN0ID0gcHJvcHMub25NZW51RGVzZWxlY3Q7XG4gICAgICAgICAgbWVudVByb3BzLm9uU2VsZWN0ID0gb25NZW51U2VsZWN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lbnVQcm9wcy5vbkNsaWNrID0gb25NZW51U2VsZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5cyA9ICgwLCBfdXRpbC5nZXRTZWxlY3RLZXlzKShtZW51SXRlbXMsIHZhbHVlKTtcbiAgICAgICAgdmFyIGFjdGl2ZUtleVByb3BzID0ge307XG5cbiAgICAgICAgdmFyIGNsb25lZE1lbnVJdGVtcyA9IG1lbnVJdGVtcztcbiAgICAgICAgaWYgKHNlbGVjdGVkS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHByb3BzLnZpc2libGUgJiYgIV90aGlzLmxhc3RWaXNpYmxlKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUtleVByb3BzLmFjdGl2ZUtleSA9IHNlbGVjdGVkS2V5c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmb3VuZEZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzZXQgZmlyc3RBY3RpdmVJdGVtIHZpYSBjbG9uaW5nIG1lbnVzXG4gICAgICAgICAgICAvLyBmb3Igc2Nyb2xsIGludG8gdmlld1xuICAgICAgICAgICAgdmFyIGNsb25lID0gZnVuY3Rpb24gY2xvbmUoaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoIWZvdW5kRmlyc3QgJiYgc2VsZWN0ZWRLZXlzLmluZGV4T2YoaXRlbS5rZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGZvdW5kRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge1xuICAgICAgICAgICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5maXJzdEFjdGl2ZUl0ZW0gPSBfcmVmO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2xvbmVkTWVudUl0ZW1zID0gbWVudUl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLmlzTWVudUl0ZW1Hcm91cCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9ICgwLCBfdG9BcnJheTJbXCJkZWZhdWx0XCJdKShpdGVtLnByb3BzLmNoaWxkcmVuKS5tYXAoY2xvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3JlYWN0LmNsb25lRWxlbWVudCkoaXRlbSwge30sIGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY2xvbmUoaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgYWN0aXZlS2V5IHdoZW4gaW5wdXRWYWx1ZSBjaGFuZ2VcbiAgICAgICAgaWYgKGlucHV0VmFsdWUgIT09IF90aGlzLmxhc3RJbnB1dFZhbHVlKSB7XG4gICAgICAgICAgYWN0aXZlS2V5UHJvcHMuYWN0aXZlS2V5ID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHY6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmNNZW51MltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgICByZWY6ICdtZW51JyxcbiAgICAgICAgICAgICAgc3R5bGU6IF90aGlzLnByb3BzLmRyb3Bkb3duTWVudVN0eWxlLFxuICAgICAgICAgICAgICBkZWZhdWx0QWN0aXZlRmlyc3Q6IGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvblxuICAgICAgICAgICAgfSwgYWN0aXZlS2V5UHJvcHMsIHtcbiAgICAgICAgICAgICAgbXVsdGlwbGU6IG11bHRpcGxlLFxuICAgICAgICAgICAgICBmb2N1c2FibGU6IGZhbHNlXG4gICAgICAgICAgICB9LCBtZW51UHJvcHMsIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRLZXlzOiBzZWxlY3RlZEtleXMsXG4gICAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1tZW51J1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjbG9uZWRNZW51SXRlbXNcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9KCk7XG5cbiAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiAoMCwgX3R5cGVvZjNbXCJkZWZhdWx0XCJdKShfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcmVuZGVyTWVudSA9IHRoaXMucmVuZGVyTWVudSgpO1xuICAgIHJldHVybiByZW5kZXJNZW51ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICBzdHlsZTogeyBvdmVyZmxvdzogJ2F1dG8nIH0sXG4gICAgICAgIG9uRm9jdXM6IHRoaXMucHJvcHMub25Qb3B1cEZvY3VzLFxuICAgICAgICBvbk1vdXNlRG93bjogX3V0aWwucHJldmVudERlZmF1bHRFdmVudFxuICAgICAgfSxcbiAgICAgIHJlbmRlck1lbnVcbiAgICApIDogbnVsbDtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRHJvcGRvd25NZW51O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9Ecm9wZG93bk1lbnUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgX3JjTWVudSA9IHJlcXVpcmUoJ3JjLW1lbnUnKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgZmlsdGVyT3B0aW9uOiBmdW5jdGlvbiBmaWx0ZXJPcHRpb24oaW5wdXQsIGNoaWxkKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBmaWx0ZXJPcHRpb24gPSB0aGlzLnByb3BzLmZpbHRlck9wdGlvbjtcbiAgICBpZiAoIWZpbHRlck9wdGlvbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyT3B0aW9uLmNhbGwodGhpcywgaW5wdXQsIGNoaWxkKTtcbiAgfSxcbiAgcmVuZGVyRmlsdGVyT3B0aW9uczogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9ucyhpbnB1dFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbih0aGlzLnByb3BzLmNoaWxkcmVuLCB0cnVlLCBpbnB1dFZhbHVlKTtcbiAgfSxcbiAgcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbjogZnVuY3Rpb24gcmVuZGVyRmlsdGVyT3B0aW9uc0Zyb21DaGlsZHJlbihjaGlsZHJlbiwgc2hvd05vdEZvdW5kLCBpdikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgc2VsID0gW107XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgaW5wdXRWYWx1ZSA9IGl2ID09PSB1bmRlZmluZWQgPyB0aGlzLnN0YXRlLmlucHV0VmFsdWUgOiBpdjtcbiAgICB2YXIgY2hpbGRyZW5LZXlzID0gW107XG4gICAgdmFyIHRhZ3MgPSBwcm9wcy50YWdzO1xuICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUuaXNTZWxlY3RPcHRHcm91cCkge1xuICAgICAgICB2YXIgaW5uZXJJdGVtcyA9IF90aGlzLnJlbmRlckZpbHRlck9wdGlvbnNGcm9tQ2hpbGRyZW4oY2hpbGQucHJvcHMuY2hpbGRyZW4sIGZhbHNlKTtcbiAgICAgICAgaWYgKGlubmVySXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhYmVsID0gY2hpbGQucHJvcHMubGFiZWw7XG4gICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBpZiAoIWtleSAmJiB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBrZXkgPSBsYWJlbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFsYWJlbCAmJiBrZXkpIHtcbiAgICAgICAgICAgIGxhYmVsID0ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JjTWVudS5JdGVtR3JvdXAsXG4gICAgICAgICAgICB7IGtleToga2V5LCB0aXRsZTogbGFiZWwgfSxcbiAgICAgICAgICAgIGlubmVySXRlbXNcbiAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjaGlsZC50eXBlLmlzU2VsZWN0T3B0aW9uLCAndGhlIGNoaWxkcmVuIG9mIGBTZWxlY3RgIHNob3VsZCBiZSBgU2VsZWN0Lk9wdGlvbmAgb3IgYFNlbGVjdC5PcHRHcm91cGAsICcgKyAoJ2luc3RlYWQgb2YgYCcgKyAoY2hpbGQudHlwZS5uYW1lIHx8IGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgfHwgY2hpbGQudHlwZSkgKyAnYC4nKSk7XG5cbiAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICBpZiAoX3RoaXMuZmlsdGVyT3B0aW9uKGlucHV0VmFsdWUsIGNoaWxkKSkge1xuICAgICAgICBzZWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9yY01lbnUuSXRlbSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLFxuICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICB2YWx1ZTogY2hpbGRWYWx1ZSxcbiAgICAgICAgICBrZXk6IGNoaWxkVmFsdWVcbiAgICAgICAgfSwgY2hpbGQucHJvcHMpKSk7XG4gICAgICB9XG4gICAgICBpZiAodGFncyAmJiAhY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgY2hpbGRyZW5LZXlzLnB1c2goY2hpbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHRhZ3MpIHtcbiAgICAgIC8vIHRhZ3MgdmFsdWUgbXVzdCBiZSBzdHJpbmdcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUgfHwgW107XG4gICAgICB2YWx1ZSA9IHZhbHVlLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuS2V5cy5pbmRleE9mKHNpbmdsZVZhbHVlLmtleSkgPT09IC0xICYmICghaW5wdXRWYWx1ZSB8fCBTdHJpbmcoc2luZ2xlVmFsdWUua2V5KS5pbmRleE9mKFN0cmluZyhpbnB1dFZhbHVlKSkgPiAtMSk7XG4gICAgICB9KTtcbiAgICAgIHNlbCA9IHNlbC5jb25jYXQodmFsdWUubWFwKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgICB2YXIga2V5ID0gc2luZ2xlVmFsdWUua2V5O1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfcmNNZW51Lkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogX3V0aWwuVU5TRUxFQ1RBQkxFX0FUVFJJQlVURSxcbiAgICAgICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgICAgICBrZXk6IGtleVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5XG4gICAgICAgICk7XG4gICAgICB9KSk7XG4gICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICB2YXIgbm90RmluZElucHV0SXRlbSA9IHNlbC5ldmVyeShmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkob3B0aW9uKSAhPT0gaW5wdXRWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChub3RGaW5kSW5wdXRJdGVtKSB7XG4gICAgICAgICAgc2VsLnVuc2hpZnQoX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yY01lbnUuSXRlbSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlOiBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLFxuICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgICAgICAgICAga2V5OiBpbnB1dFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXRWYWx1ZVxuICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc2VsLmxlbmd0aCAmJiBzaG93Tm90Rm91bmQgJiYgcHJvcHMubm90Rm91bmRDb250ZW50KSB7XG4gICAgICBzZWwgPSBbX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgX3JjTWVudS5JdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IF91dGlsLlVOU0VMRUNUQUJMRV9TVFlMRSxcbiAgICAgICAgICBhdHRyaWJ1dGU6IF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsXG4gICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgdmFsdWU6ICdOT1RfRk9VTkQnLFxuICAgICAgICAgIGtleTogJ05PVF9GT1VORCdcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHMubm90Rm91bmRDb250ZW50XG4gICAgICApXTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbDtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvRmlsdGVyTWl4aW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE9wdEdyb3VwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShPcHRHcm91cCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3B0R3JvdXAoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBPcHRHcm91cCk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIE9wdEdyb3VwO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5PcHRHcm91cC5pc1NlbGVjdE9wdEdyb3VwID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gT3B0R3JvdXA7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL09wdEdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gMTI4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBPcHRpb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKE9wdGlvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3B0aW9uKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgT3B0aW9uKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gT3B0aW9uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5PcHRpb24ucHJvcFR5cGVzID0ge1xuICB2YWx1ZTogX3JlYWN0MltcImRlZmF1bHRcIl0uUHJvcFR5cGVzLnN0cmluZ1xufTtcbk9wdGlvbi5pc1NlbGVjdE9wdGlvbiA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9wdGlvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvT3B0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfS2V5Q29kZSA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0tleUNvZGUnKTtcblxudmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG52YXIgX3JjQW5pbWF0ZSA9IHJlcXVpcmUoJ3JjLWFuaW1hdGUnKTtcblxudmFyIF9yY0FuaW1hdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmNBbmltYXRlKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzID0gcmVxdWlyZSgnY29tcG9uZW50LWNsYXNzZXMnKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIF9TZWxlY3RUcmlnZ2VyID0gcmVxdWlyZSgnLi9TZWxlY3RUcmlnZ2VyJyk7XG5cbnZhciBfU2VsZWN0VHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RUcmlnZ2VyKTtcblxudmFyIF9GaWx0ZXJNaXhpbiA9IHJlcXVpcmUoJy4vRmlsdGVyTWl4aW4nKTtcblxudmFyIF9GaWx0ZXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GaWx0ZXJNaXhpbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZmlsdGVyRm4oaW5wdXQsIGNoaWxkKSB7XG4gIHJldHVybiBTdHJpbmcoKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uRmlsdGVyUHJvcCkpLmluZGV4T2YoaW5wdXQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIHNhdmVSZWYobmFtZSwgY29tcG9uZW50KSB7XG4gIHRoaXNbbmFtZV0gPSBjb21wb25lbnQ7XG59XG5cbnZhciB2YWx1ZU9iamVjdFNoYXBlID0gdm9pZCAwO1xuXG5pZiAoX3JlYWN0LlByb3BUeXBlcykge1xuICB2YWx1ZU9iamVjdFNoYXBlID0gX3JlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW19yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBfcmVhY3QuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBrZXk6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxhYmVsOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbiAgfSldKTtcbn1cblxudmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTZWxlY3QnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgc2hvd1NlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRpc2FibGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgYWxsb3dDbGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dBcnJvdzogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHRhZ3M6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgdHJhbnNpdGlvbk5hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9wdGlvbkxhYmVsUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3B0aW9uRmlsdGVyUHJvcDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgYW5pbWF0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaG9pY2VUcmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJsdXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkZvY3VzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblNlYXJjaDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvbkRlc2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgbGFiZWxJblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFt2YWx1ZU9iamVjdFNoYXBlLCBfcmVhY3QuUHJvcFR5cGVzLmFycmF5T2YodmFsdWVPYmplY3RTaGFwZSldKSxcbiAgICBkcm9wZG93blN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBtYXhUYWdUZXh0TGVuZ3RoOiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICB0b2tlblNlcGFyYXRvcnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyksXG4gICAgZ2V0SW5wdXRFbGVtZW50OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBtaXhpbnM6IFtfRmlsdGVyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeENsczogJ3JjLXNlbGVjdCcsXG4gICAgICBmaWx0ZXJPcHRpb246IGZpbHRlckZuLFxuICAgICAgZGVmYXVsdE9wZW46IGZhbHNlLFxuICAgICAgbGFiZWxJblZhbHVlOiBmYWxzZSxcbiAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogdHJ1ZSxcbiAgICAgIHNob3dTZWFyY2g6IHRydWUsXG4gICAgICBhbGxvd0NsZWFyOiBmYWxzZSxcbiAgICAgIHBsYWNlaG9sZGVyOiAnJyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICBvbkNoYW5nZTogbm9vcCxcbiAgICAgIG9uRm9jdXM6IG5vb3AsXG4gICAgICBvbkJsdXI6IG5vb3AsXG4gICAgICBvblNlbGVjdDogbm9vcCxcbiAgICAgIG9uU2VhcmNoOiBub29wLFxuICAgICAgb25EZXNlbGVjdDogbm9vcCxcbiAgICAgIHNob3dBcnJvdzogdHJ1ZSxcbiAgICAgIGRyb3Bkb3duTWF0Y2hTZWxlY3RXaWR0aDogdHJ1ZSxcbiAgICAgIGRyb3Bkb3duU3R5bGU6IHt9LFxuICAgICAgZHJvcGRvd25NZW51U3R5bGU6IHt9LFxuICAgICAgb3B0aW9uRmlsdGVyUHJvcDogJ3ZhbHVlJyxcbiAgICAgIG9wdGlvbkxhYmVsUHJvcDogJ3ZhbHVlJyxcbiAgICAgIG5vdEZvdW5kQ29udGVudDogJ05vdCBGb3VuZCdcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGlmICgndmFsdWUnIGluIHByb3BzKSB7XG4gICAgICB2YWx1ZSA9ICgwLCBfdXRpbC50b0FycmF5KShwcm9wcy52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICAgIHZhbHVlID0gdGhpcy5hZGRMYWJlbFRvVmFsdWUocHJvcHMsIHZhbHVlKTtcbiAgICB2YWx1ZSA9IHRoaXMuYWRkVGl0bGVUb1ZhbHVlKHByb3BzLCB2YWx1ZSk7XG4gICAgdmFyIGlucHV0VmFsdWUgPSAnJztcbiAgICBpZiAocHJvcHMuY29tYm9ib3gpIHtcbiAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZVswXS5rZXkpIDogJyc7XG4gICAgfVxuICAgIHRoaXMuc2F2ZUlucHV0UmVmID0gc2F2ZVJlZi5iaW5kKHRoaXMsICdpbnB1dEluc3RhbmNlJyk7XG4gICAgdGhpcy5zYXZlSW5wdXRNaXJyb3JSZWYgPSBzYXZlUmVmLmJpbmQodGhpcywgJ2lucHV0TWlycm9ySW5zdGFuY2UnKTtcbiAgICB2YXIgb3BlbiA9IHByb3BzLm9wZW47XG4gICAgaWYgKG9wZW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3BlbiA9IHByb3BzLmRlZmF1bHRPcGVuO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZSxcbiAgICAgIG9wZW46IG9wZW5cbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLnRvQXJyYXkpKG5leHRQcm9wcy52YWx1ZSk7XG4gICAgICB2YWx1ZSA9IHRoaXMuYWRkTGFiZWxUb1ZhbHVlKG5leHRQcm9wcywgdmFsdWUpO1xuICAgICAgdmFsdWUgPSB0aGlzLmFkZFRpdGxlVG9WYWx1ZShuZXh0UHJvcHMsIHZhbHVlKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgICAgaWYgKG5leHRQcm9wcy5jb21ib2JveCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnB1dFZhbHVlOiB2YWx1ZS5sZW5ndGggPyB0aGlzLmdldExhYmVsRnJvbVByb3BzKG5leHRQcm9wcywgdmFsdWVbMF0ua2V5KSA6ICcnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50V2lsbFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICB0aGlzLmFkanVzdE9wZW5TdGF0ZSgpO1xuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpKSB7XG4gICAgICB2YXIgaW5wdXROb2RlID0gdGhpcy5nZXRJbnB1dERPTU5vZGUoKTtcbiAgICAgIHZhciBtaXJyb3JOb2RlID0gdGhpcy5nZXRJbnB1dE1pcnJvckRPTU5vZGUoKTtcbiAgICAgIGlmIChpbnB1dE5vZGUudmFsdWUpIHtcbiAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgIGlucHV0Tm9kZS5zdHlsZS53aWR0aCA9IG1pcnJvck5vZGUuY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXROb2RlLnN0eWxlLndpZHRoID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsVW5tb3VudDogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5jbGVhckJsdXJUaW1lKCk7XG4gICAgdGhpcy5jbGVhckFkanVzdFRpbWVyKCk7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcbiAgICAgIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZHJvcGRvd25Db250YWluZXIpO1xuICAgICAgdGhpcy5kcm9wZG93bkNvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuICB9LFxuICBvbklucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKGV2ZW50KSB7XG4gICAgdmFyIHRva2VuU2VwYXJhdG9ycyA9IHRoaXMucHJvcHMudG9rZW5TZXBhcmF0b3JzO1xuXG4gICAgdmFyIHZhbCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpICYmIHRva2VuU2VwYXJhdG9ycyAmJiAoMCwgX3V0aWwuaW5jbHVkZXNTZXBhcmF0b3JzKSh2YWwsIHRva2VuU2VwYXJhdG9ycykpIHtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSB0aGlzLnRva2VuaXplKHZhbCk7XG4gICAgICB0aGlzLmZpcmVDaGFuZ2UobmV4dFZhbHVlKTtcbiAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJywgZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldElucHV0VmFsdWUodmFsKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wZW46IHRydWVcbiAgICB9KTtcbiAgICBpZiAoKDAsIF91dGlsLmlzQ29tYm9ib3gpKHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLmZpcmVDaGFuZ2UoW3tcbiAgICAgICAga2V5OiB2YWxcbiAgICAgIH1dKTtcbiAgICB9XG4gIH0sXG4gIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZShvcGVuKSB7XG4gICAgdGhpcy5zZXRPcGVuU3RhdGUob3Blbik7XG4gIH0sXG5cblxuICAvLyBjb21ib2JveCBpZ25vcmVcbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgaWYgKHRoaXMuc3RhdGUub3BlbiAmJiAhdGhpcy5nZXRJbnB1dERPTU5vZGUoKSkge1xuICAgICAgdGhpcy5vbklucHV0S2V5RG93bihldmVudCk7XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSIHx8IGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUodHJ1ZSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgb25JbnB1dEtleURvd246IGZ1bmN0aW9uIG9uSW5wdXRLZXlEb3duKGV2ZW50KSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgIWV2ZW50LnRhcmdldC52YWx1ZSAmJiBrZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkJBQ0tTUEFDRSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuXG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0ua2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTikge1xuICAgICAgaWYgKCFzdGF0ZS5vcGVuKSB7XG4gICAgICAgIHRoaXMub3BlbklmSGFzQ2hpbGRyZW4oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRVNDKSB7XG4gICAgICBpZiAoc3RhdGUub3Blbikge1xuICAgICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5vcGVuKSB7XG4gICAgICB2YXIgbWVudSA9IHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuICAgICAgaWYgKG1lbnUgJiYgbWVudS5vbktleURvd24oZXZlbnQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgb25NZW51U2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVTZWxlY3QoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgaXRlbSA9IF9yZWYuaXRlbTtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSk7XG4gICAgdmFyIHNlbGVjdGVkTGFiZWwgPSB0aGlzLmdldExhYmVsRnJvbU9wdGlvbihpdGVtKTtcbiAgICB2YXIgZXZlbnQgPSBzZWxlY3RlZFZhbHVlO1xuICAgIGlmIChwcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgIGV2ZW50ID0ge1xuICAgICAgICBrZXk6IGV2ZW50LFxuICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbFxuICAgICAgfTtcbiAgICB9XG4gICAgcHJvcHMub25TZWxlY3QoZXZlbnQsIGl0ZW0pO1xuICAgIHZhciBzZWxlY3RlZFRpdGxlID0gaXRlbS5wcm9wcy50aXRsZTtcbiAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuICAgICAgaWYgKCgwLCBfdXRpbC5maW5kSW5kZXhJblZhbHVlQnlLZXkpKHZhbHVlLCBzZWxlY3RlZFZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5jb25jYXQoW3tcbiAgICAgICAga2V5OiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICBsYWJlbDogc2VsZWN0ZWRMYWJlbCxcbiAgICAgICAgdGl0bGU6IHNlbGVjdGVkVGl0bGVcbiAgICAgIH1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcbiAgICAgICAgdGhpcy5za2lwQWRqdXN0T3BlbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xlYXJBZGp1c3RUaW1lcigpO1xuICAgICAgICB0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5za2lwQWRqdXN0T3BlbiA9IGZhbHNlO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5sZW5ndGggJiYgdmFsdWVbMF0ua2V5ID09PSBzZWxlY3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0T3BlblN0YXRlKGZhbHNlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBbe1xuICAgICAgICBrZXk6IHNlbGVjdGVkVmFsdWUsXG4gICAgICAgIGxhYmVsOiBzZWxlY3RlZExhYmVsLFxuICAgICAgICB0aXRsZTogc2VsZWN0ZWRUaXRsZVxuICAgICAgfV07XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZShmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG4gICAgdmFyIGlucHV0VmFsdWUgPSB2b2lkIDA7XG4gICAgaWYgKCgwLCBfdXRpbC5pc0NvbWJvYm94KShwcm9wcykpIHtcbiAgICAgIGlucHV0VmFsdWUgPSAoMCwgX3V0aWwuZ2V0UHJvcFZhbHVlKShpdGVtLCBwcm9wcy5vcHRpb25MYWJlbFByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dFZhbHVlID0gJyc7XG4gICAgfVxuICAgIHRoaXMuc2V0SW5wdXRWYWx1ZShpbnB1dFZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIG9uTWVudURlc2VsZWN0OiBmdW5jdGlvbiBvbk1lbnVEZXNlbGVjdChfcmVmMikge1xuICAgIHZhciBpdGVtID0gX3JlZjIuaXRlbSxcbiAgICAgICAgZG9tRXZlbnQgPSBfcmVmMi5kb21FdmVudDtcblxuICAgIGlmIChkb21FdmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgICB0aGlzLnJlbW92ZVNlbGVjdGVkKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoaXRlbSkpO1xuICAgIH1cbiAgICB0aGlzLnNldElucHV0VmFsdWUoJycsIGZhbHNlKTtcbiAgfSxcbiAgb25BcnJvd0NsaWNrOiBmdW5jdGlvbiBvbkFycm93Q2xpY2soZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCF0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZSghdGhpcy5zdGF0ZS5vcGVuLCAhdGhpcy5zdGF0ZS5vcGVuKTtcbiAgICB9XG4gIH0sXG4gIG9uUGxhY2Vob2xkZXJDbGljazogZnVuY3Rpb24gb25QbGFjZWhvbGRlckNsaWNrKCkge1xuICAgIGlmICh0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICB0aGlzLmdldElucHV0RE9NTm9kZSgpLmZvY3VzKCk7XG4gICAgfVxuICB9LFxuICBvbk91dGVyRm9jdXM6IGZ1bmN0aW9uIG9uT3V0ZXJGb2N1cyhlKSB7XG4gICAgaWYgKCEoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFnc09yQ29tYm9ib3gpKHRoaXMucHJvcHMpICYmIGUudGFyZ2V0ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXJCbHVyVGltZSgpO1xuICAgIHRoaXMuX2ZvY3VzZWQgPSB0cnVlO1xuICAgIHRoaXMudXBkYXRlRm9jdXNDbGFzc05hbWUoKTtcbiAgICB0aGlzLnByb3BzLm9uRm9jdXMoKTtcbiAgfSxcbiAgb25Qb3B1cEZvY3VzOiBmdW5jdGlvbiBvblBvcHVwRm9jdXMoKSB7XG4gICAgLy8gZml4IGllIHNjcm9sbGJhciwgZm9jdXMgZWxlbWVudCBhZ2FpblxuICAgIHRoaXMubWF5YmVGb2N1cyh0cnVlLCB0cnVlKTtcbiAgfSxcbiAgb25PdXRlckJsdXI6IGZ1bmN0aW9uIG9uT3V0ZXJCbHVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdGhpcy5ibHVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzMi5fZm9jdXNlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMyLnVwZGF0ZUZvY3VzQ2xhc3NOYW1lKCk7XG4gICAgICB2YXIgcHJvcHMgPSBfdGhpczIucHJvcHM7XG4gICAgICB2YXIgdmFsdWUgPSBfdGhpczIuc3RhdGUudmFsdWU7XG4gICAgICB2YXIgaW5wdXRWYWx1ZSA9IF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlO1xuXG4gICAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2ggJiYgaW5wdXRWYWx1ZSAmJiBwcm9wcy5kZWZhdWx0QWN0aXZlRmlyc3RPcHRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpczIuX29wdGlvbnMgfHwgW107XG4gICAgICAgIGlmIChvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBmaXJzdE9wdGlvbiA9ICgwLCBfdXRpbC5maW5kRmlyc3RNZW51SXRlbSkob3B0aW9ucyk7XG4gICAgICAgICAgaWYgKGZpcnN0T3B0aW9uKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFt7XG4gICAgICAgICAgICAgIGtleTogZmlyc3RPcHRpb24ua2V5LFxuICAgICAgICAgICAgICBsYWJlbDogX3RoaXMyLmdldExhYmVsRnJvbU9wdGlvbihmaXJzdE9wdGlvbilcbiAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgX3RoaXMyLmZpcmVDaGFuZ2UodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwuaXNNdWx0aXBsZU9yVGFncykocHJvcHMpICYmIGlucHV0VmFsdWUpIHtcbiAgICAgICAgLy8gd2h5IG5vdCB1c2Ugc2V0U3RhdGU/XG4gICAgICAgIF90aGlzMi5zdGF0ZS5pbnB1dFZhbHVlID0gX3RoaXMyLmdldElucHV0RE9NTm9kZSgpLnZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBwcm9wcy5vbkJsdXIoX3RoaXMyLmdldFZMRm9yT25DaGFuZ2UodmFsdWUpKTtcbiAgICB9LCAxMCk7XG4gIH0sXG4gIG9uQ2xlYXJTZWxlY3Rpb246IGZ1bmN0aW9uIG9uQ2xlYXJTZWxlY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHByb3BzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpbnB1dFZhbHVlID0gc3RhdGUuaW5wdXRWYWx1ZSxcbiAgICAgICAgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChpbnB1dFZhbHVlIHx8IHZhbHVlLmxlbmd0aCkge1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZpcmVDaGFuZ2UoW10pO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRPcGVuU3RhdGUoZmFsc2UsIHRydWUpO1xuICAgICAgaWYgKGlucHV0VmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKCcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmU6IGZ1bmN0aW9uIG9uQ2hvaWNlQW5pbWF0aW9uTGVhdmUoKSB7XG4gICAgdGhpcy5yZWZzLnRyaWdnZXIucmVmcy50cmlnZ2VyLmZvcmNlUG9wdXBBbGlnbigpO1xuICB9LFxuICBnZXRMYWJlbEJ5U2luZ2xlVmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGxhYmVsID0gbnVsbDtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgdmFyIG1heWJlID0gX3RoaXMzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZC5wcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuICAgICAgICBpZiAobWF5YmUgIT09IG51bGwpIHtcbiAgICAgICAgICBsYWJlbCA9IG1heWJlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpID09PSB2YWx1ZSkge1xuICAgICAgICBsYWJlbCA9IF90aGlzMy5nZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBsYWJlbDtcbiAgfSxcbiAgZ2V0VmFsdWVCeUxhYmVsOiBmdW5jdGlvbiBnZXRWYWx1ZUJ5TGFiZWwoY2hpbGRyZW4sIGxhYmVsKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBpZiAobGFiZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZS5pc1NlbGVjdE9wdEdyb3VwKSB7XG4gICAgICAgIHZhciBtYXliZSA9IF90aGlzNC5nZXRWYWx1ZUJ5TGFiZWwoY2hpbGQucHJvcHMuY2hpbGRyZW4sIGxhYmVsKTtcbiAgICAgICAgaWYgKG1heWJlICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFsdWUgPSBtYXliZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgoMCwgX3V0aWwudG9BcnJheSkoX3RoaXM0LmdldExhYmVsRnJvbU9wdGlvbihjaGlsZCkpLmpvaW4oJycpID09PSBsYWJlbCkge1xuICAgICAgICB2YWx1ZSA9ICgwLCBfdXRpbC5nZXRWYWx1ZVByb3BWYWx1ZSkoY2hpbGQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgZ2V0TGFiZWxGcm9tT3B0aW9uOiBmdW5jdGlvbiBnZXRMYWJlbEZyb21PcHRpb24oY2hpbGQpIHtcbiAgICByZXR1cm4gKDAsIF91dGlsLmdldFByb3BWYWx1ZSkoY2hpbGQsIHRoaXMucHJvcHMub3B0aW9uTGFiZWxQcm9wKTtcbiAgfSxcbiAgZ2V0TGFiZWxGcm9tUHJvcHM6IGZ1bmN0aW9uIGdldExhYmVsRnJvbVByb3BzKHByb3BzLCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldExhYmVsQnlWYWx1ZShwcm9wcy5jaGlsZHJlbiwgdmFsdWUpO1xuICB9LFxuICBnZXRWTEZvck9uQ2hhbmdlOiBmdW5jdGlvbiBnZXRWTEZvck9uQ2hhbmdlKHZsc18pIHtcbiAgICB2YXIgdmxzID0gdmxzXztcbiAgICBpZiAodmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5sYWJlbEluVmFsdWUpIHtcbiAgICAgICAgdmxzID0gdmxzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIHJldHVybiB2LmtleTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bHMgPSB2bHMubWFwKGZ1bmN0aW9uICh2bCkge1xuICAgICAgICAgIHJldHVybiB7IGtleTogdmwua2V5LCBsYWJlbDogdmwubGFiZWwgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHRoaXMucHJvcHMpID8gdmxzIDogdmxzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gdmxzO1xuICB9LFxuICBnZXRMYWJlbEJ5VmFsdWU6IGZ1bmN0aW9uIGdldExhYmVsQnlWYWx1ZShjaGlsZHJlbiwgdmFsdWUpIHtcbiAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsQnlTaW5nbGVWYWx1ZShjaGlsZHJlbiwgdmFsdWUpO1xuICAgIGlmIChsYWJlbCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbGFiZWw7XG4gIH0sXG4gIGdldERyb3Bkb3duQ29udGFpbmVyOiBmdW5jdGlvbiBnZXREcm9wZG93bkNvbnRhaW5lcigpIHtcbiAgICBpZiAoIXRoaXMuZHJvcGRvd25Db250YWluZXIpIHtcbiAgICAgIHRoaXMuZHJvcGRvd25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcm9wZG93bkNvbnRhaW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRyb3Bkb3duQ29udGFpbmVyO1xuICB9LFxuICBnZXRQbGFjZWhvbGRlckVsZW1lbnQ6IGZ1bmN0aW9uIGdldFBsYWNlaG9sZGVyRWxlbWVudCgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICB2YXIgaGlkZGVuID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlLmlucHV0VmFsdWUpIHtcbiAgICAgIGhpZGRlbiA9IHRydWU7XG4gICAgfVxuICAgIGlmIChzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGhpZGRlbiA9IHRydWU7XG4gICAgfVxuICAgIGlmICgoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpICYmIHN0YXRlLnZhbHVlLmxlbmd0aCA9PT0gMSAmJiAhc3RhdGUudmFsdWVbMF0ua2V5KSB7XG4gICAgICBoaWRkZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHBsYWNlaG9sZGVyID0gcHJvcHMucGxhY2Vob2xkZXI7XG4gICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG4gICAgICAgICAgc3R5bGU6ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICBkaXNwbGF5OiBoaWRkZW4gPyAnbm9uZScgOiAnYmxvY2snXG4gICAgICAgICAgfSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFKVxuICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgb25DbGljazogdGhpcy5vblBsYWNlaG9sZGVyQ2xpY2ssXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fcGxhY2Vob2xkZXInXG4gICAgICAgIH0pLFxuICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGdldElucHV0RWxlbWVudDogZnVuY3Rpb24gZ2V0SW5wdXRFbGVtZW50KCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGlucHV0RWxlbWVudCA9IHByb3BzLmdldElucHV0RWxlbWVudCA/IHByb3BzLmdldElucHV0RWxlbWVudCgpIDogX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBudWxsKTtcbiAgICB2YXIgaW5wdXRDbHMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoaW5wdXRFbGVtZW50LnByb3BzLmNsYXNzTmFtZSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkJywgdHJ1ZSkpO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX193cmFwJyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KGlucHV0RWxlbWVudCwge1xuICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0UmVmLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlLFxuICAgICAgICBvbktleURvd246IHRoaXMub25JbnB1dEtleURvd24sXG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmlucHV0VmFsdWUsXG4gICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCxcbiAgICAgICAgY2xhc3NOYW1lOiBpbnB1dENsc1xuICAgICAgfSksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHtcbiAgICAgICAgICByZWY6IHRoaXMuc2F2ZUlucHV0TWlycm9yUmVmLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJvcHMucHJlZml4Q2xzICsgJy1zZWFyY2hfX2ZpZWxkX19taXJyb3InXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuc3RhdGUuaW5wdXRWYWx1ZVxuICAgICAgKVxuICAgICk7XG4gIH0sXG4gIGdldElucHV0RE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0SW5zdGFuY2U7XG4gIH0sXG4gIGdldElucHV0TWlycm9yRE9NTm9kZTogZnVuY3Rpb24gZ2V0SW5wdXRNaXJyb3JET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0TWlycm9ySW5zdGFuY2U7XG4gIH0sXG4gIGdldFBvcHVwRE9NTm9kZTogZnVuY3Rpb24gZ2V0UG9wdXBET01Ob2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlZnMudHJpZ2dlci5nZXRQb3B1cERPTU5vZGUoKTtcbiAgfSxcbiAgZ2V0UG9wdXBNZW51Q29tcG9uZW50OiBmdW5jdGlvbiBnZXRQb3B1cE1lbnVDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldElubmVyTWVudSgpO1xuICB9LFxuICBzZXRPcGVuU3RhdGU6IGZ1bmN0aW9uIHNldE9wZW5TdGF0ZShvcGVuLCBuZWVkRm9jdXMpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmIChzdGF0ZS5vcGVuID09PSBvcGVuKSB7XG4gICAgICB0aGlzLm1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5leHRTdGF0ZSA9IHtcbiAgICAgIG9wZW46IG9wZW5cbiAgICB9O1xuICAgIC8vIGNsZWFyIHNlYXJjaCBpbnB1dCB2YWx1ZSB3aGVuIG9wZW4gaXMgZmFsc2UgaW4gc2luZ2xlTW9kZS5cbiAgICBpZiAoIW9wZW4gJiYgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmIHByb3BzLnNob3dTZWFyY2gpIHtcbiAgICAgIHRoaXMuc2V0SW5wdXRWYWx1ZSgnJyk7XG4gICAgfVxuICAgIGlmICghb3Blbikge1xuICAgICAgdGhpcy5tYXliZUZvY3VzKG9wZW4sIG5lZWRGb2N1cyk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob3Blbikge1xuICAgICAgICBfdGhpczUubWF5YmVGb2N1cyhvcGVuLCBuZWVkRm9jdXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiBzZXRJbnB1dFZhbHVlKGlucHV0VmFsdWUpIHtcbiAgICB2YXIgZmlyZVNlYXJjaCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaW5wdXRWYWx1ZTogaW5wdXRWYWx1ZVxuICAgIH0pO1xuICAgIGlmIChmaXJlU2VhcmNoKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2VhcmNoKGlucHV0VmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgY2xlYXJCbHVyVGltZTogZnVuY3Rpb24gY2xlYXJCbHVyVGltZSgpIHtcbiAgICBpZiAodGhpcy5ibHVyVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmJsdXJUaW1lcik7XG4gICAgICB0aGlzLmJsdXJUaW1lciA9IG51bGw7XG4gICAgfVxuICB9LFxuICBjbGVhckFkanVzdFRpbWVyOiBmdW5jdGlvbiBjbGVhckFkanVzdFRpbWVyKCkge1xuICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNraXBBZGp1c3RPcGVuVGltZXIpO1xuICAgICAgdGhpcy5za2lwQWRqdXN0T3BlblRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZUZvY3VzQ2xhc3NOYW1lOiBmdW5jdGlvbiB1cGRhdGVGb2N1c0NsYXNzTmFtZSgpIHtcbiAgICB2YXIgcmVmcyA9IHRoaXMucmVmcyxcbiAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIC8vIGF2b2lkIHNldFN0YXRlIGFuZCBpdHMgc2lkZSBlZmZlY3RcblxuICAgIGlmICh0aGlzLl9mb2N1c2VkKSB7XG4gICAgICAoMCwgX2NvbXBvbmVudENsYXNzZXMyW1wiZGVmYXVsdFwiXSkocmVmcy5yb290KS5hZGQocHJvcHMucHJlZml4Q2xzICsgJy1mb2N1c2VkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKShyZWZzLnJvb3QpLnJlbW92ZShwcm9wcy5wcmVmaXhDbHMgKyAnLWZvY3VzZWQnKTtcbiAgICB9XG4gIH0sXG4gIG1heWJlRm9jdXM6IGZ1bmN0aW9uIG1heWJlRm9jdXMob3BlbiwgbmVlZEZvY3VzKSB7XG4gICAgaWYgKG5lZWRGb2N1cyB8fCBvcGVuKSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLmdldElucHV0RE9NTm9kZSgpO1xuICAgICAgdmFyIF9kb2N1bWVudCA9IGRvY3VtZW50LFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBfZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgICAgaWYgKGlucHV0ICYmIChvcGVuIHx8ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkodGhpcy5wcm9wcykpKSB7XG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50ICE9PSBpbnB1dCkge1xuICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnJlZnMuc2VsZWN0aW9uO1xuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAhPT0gc2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGFkZExhYmVsVG9WYWx1ZTogZnVuY3Rpb24gYWRkTGFiZWxUb1ZhbHVlKHByb3BzLCB2YWx1ZV8pIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIHZhciB2YWx1ZSA9IHZhbHVlXztcbiAgICBpZiAocHJvcHMubGFiZWxJblZhbHVlKSB7XG4gICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHYubGFiZWwgPSB2LmxhYmVsIHx8IF90aGlzNi5nZXRMYWJlbEZyb21Qcm9wcyhwcm9wcywgdi5rZXkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5OiB2LFxuICAgICAgICAgIGxhYmVsOiBfdGhpczYuZ2V0TGFiZWxGcm9tUHJvcHMocHJvcHMsIHYpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBhZGRUaXRsZVRvVmFsdWU6IGZ1bmN0aW9uIGFkZFRpdGxlVG9WYWx1ZShwcm9wcywgdmFsdWVzKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICB2YXIgbmV4dFZhbHVlcyA9IHZhbHVlcztcbiAgICB2YXIga2V5cyA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiB2LmtleTtcbiAgICB9KTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlLmlzU2VsZWN0T3B0R3JvdXApIHtcbiAgICAgICAgbmV4dFZhbHVlcyA9IF90aGlzNy5hZGRUaXRsZVRvVmFsdWUoY2hpbGQucHJvcHMsIG5leHRWYWx1ZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICAgIHZhciB2YWx1ZUluZGV4ID0ga2V5cy5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlSW5kZXggPiAtMSkge1xuICAgICAgICAgIG5leHRWYWx1ZXNbdmFsdWVJbmRleF0udGl0bGUgPSBjaGlsZC5wcm9wcy50aXRsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0VmFsdWVzO1xuICB9LFxuICByZW1vdmVTZWxlY3RlZDogZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoc2VsZWN0ZWRLZXkpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChwcm9wcy5kaXNhYmxlZCB8fCB0aGlzLmlzQ2hpbGREaXNhYmxlZChzZWxlY3RlZEtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxhYmVsID0gdm9pZCAwO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChzaW5nbGVWYWx1ZSkge1xuICAgICAgaWYgKHNpbmdsZVZhbHVlLmtleSA9PT0gc2VsZWN0ZWRLZXkpIHtcbiAgICAgICAgbGFiZWwgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaW5nbGVWYWx1ZS5rZXkgIT09IHNlbGVjdGVkS2V5O1xuICAgIH0pO1xuICAgIHZhciBjYW5NdWx0aXBsZSA9ICgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcyk7XG5cbiAgICBpZiAoY2FuTXVsdGlwbGUpIHtcbiAgICAgIHZhciBldmVudCA9IHNlbGVjdGVkS2V5O1xuICAgICAgaWYgKHByb3BzLmxhYmVsSW5WYWx1ZSkge1xuICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICBrZXk6IHNlbGVjdGVkS2V5LFxuICAgICAgICAgIGxhYmVsOiBsYWJlbFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcHJvcHMub25EZXNlbGVjdChldmVudCk7XG4gICAgfVxuICAgIHRoaXMuZmlyZUNoYW5nZSh2YWx1ZSk7XG4gIH0sXG4gIG9wZW5JZkhhc0NoaWxkcmVuOiBmdW5jdGlvbiBvcGVuSWZIYXNDaGlsZHJlbigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmIChfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikgfHwgKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG4gICAgICB0aGlzLnNldE9wZW5TdGF0ZSh0cnVlKTtcbiAgICB9XG4gIH0sXG4gIGZpcmVDaGFuZ2U6IGZ1bmN0aW9uIGZpcmVDaGFuZ2UodmFsdWUpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcHJvcHMub25DaGFuZ2UodGhpcy5nZXRWTEZvck9uQ2hhbmdlKHZhbHVlKSk7XG4gIH0sXG4gIGlzQ2hpbGREaXNhYmxlZDogZnVuY3Rpb24gaXNDaGlsZERpc2FibGVkKGtleSkge1xuICAgIHJldHVybiAoMCwgX3V0aWwudG9BcnJheSkodGhpcy5wcm9wcy5jaGlsZHJlbikuc29tZShmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZFZhbHVlID0gKDAsIF91dGlsLmdldFZhbHVlUHJvcFZhbHVlKShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGRWYWx1ZSA9PT0ga2V5ICYmIGNoaWxkLnByb3BzICYmIGNoaWxkLnByb3BzLmRpc2FibGVkO1xuICAgIH0pO1xuICB9LFxuICB0b2tlbml6ZTogZnVuY3Rpb24gdG9rZW5pemUoc3RyaW5nKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbXVsdGlwbGUgPSBfcHJvcHMubXVsdGlwbGUsXG4gICAgICAgIHRva2VuU2VwYXJhdG9ycyA9IF9wcm9wcy50b2tlblNlcGFyYXRvcnMsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgKDAsIF91dGlsLnNwbGl0QnlTZXBhcmF0b3JzKShzdHJpbmcsIHRva2VuU2VwYXJhdG9ycykuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAgIHZhciBzZWxlY3RlZFZhbHVlID0geyBrZXk6IGxhYmVsLCBsYWJlbDogbGFiZWwgfTtcbiAgICAgIGlmICgoMCwgX3V0aWwuZmluZEluZGV4SW5WYWx1ZUJ5TGFiZWwpKG5leHRWYWx1ZSwgbGFiZWwpID09PSAtMSkge1xuICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBfdGhpczguZ2V0VmFsdWVCeUxhYmVsKGNoaWxkcmVuLCBsYWJlbCk7XG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlLmtleSA9IHZhbHVlO1xuICAgICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dFZhbHVlID0gbmV4dFZhbHVlLmNvbmNhdChzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXh0VmFsdWU7XG4gIH0sXG4gIGFkanVzdE9wZW5TdGF0ZTogZnVuY3Rpb24gYWRqdXN0T3BlblN0YXRlKCkge1xuICAgIGlmICh0aGlzLnNraXBBZGp1c3RPcGVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvcGVuID0gdGhpcy5zdGF0ZS5vcGVuO1xuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5nZXRJbnB1dERPTU5vZGUoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmdldElucHV0RE9NTm9kZSgpKSB7XG4gICAgICBvcGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICBpZiAob3Blbikge1xuICAgICAgb3B0aW9ucyA9IHRoaXMucmVuZGVyRmlsdGVyT3B0aW9ucygpO1xuICAgIH1cbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICBpZiAob3BlbiAmJiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3NPckNvbWJvYm94KSh0aGlzLnByb3BzKSB8fCAhdGhpcy5wcm9wcy5zaG93U2VhcmNoKSAmJiAhb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgIG9wZW4gPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5vcGVuID0gb3BlbjtcbiAgfSxcbiAgcmVuZGVyVG9wQ29udHJvbE5vZGU6IGZ1bmN0aW9uIHJlbmRlclRvcENvbnRyb2xOb2RlKCkge1xuICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgIHZhbHVlID0gX3N0YXRlLnZhbHVlLFxuICAgICAgICBvcGVuID0gX3N0YXRlLm9wZW4sXG4gICAgICAgIGlucHV0VmFsdWUgPSBfc3RhdGUuaW5wdXRWYWx1ZTtcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNob2ljZVRyYW5zaXRpb25OYW1lID0gcHJvcHMuY2hvaWNlVHJhbnNpdGlvbk5hbWUsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgbWF4VGFnVGV4dExlbmd0aCA9IHByb3BzLm1heFRhZ1RleHRMZW5ndGgsXG4gICAgICAgIHNob3dTZWFyY2ggPSBwcm9wcy5zaG93U2VhcmNoO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHByZWZpeENscyArICctc2VsZWN0aW9uX19yZW5kZXJlZCc7XG4gICAgLy8gc2VhcmNoIGlucHV0IGlzIGluc2lkZSB0b3BDb250cm9sTm9kZSBpbiBzaW5nbGUsIG11bHRpcGxlICYgY29tYm9ib3guIDIwMTYvMDQvMTNcbiAgICB2YXIgaW5uZXJOb2RlID0gbnVsbDtcbiAgICBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBzaG93U2VsZWN0ZWRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgb3BhY2l0eSA9IDE7XG4gICAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuICAgICAgICAgIHNob3dTZWxlY3RlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAob3Blbikge1xuICAgICAgICAgICAgc2hvd1NlbGVjdGVkVmFsdWUgPSAhaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIGlmIChzaG93U2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICBvcGFjaXR5ID0gMC40O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93U2VsZWN0ZWRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaW5nbGVWYWx1ZSA9IHZhbHVlWzBdO1xuICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6ICd2YWx1ZScsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uLXNlbGVjdGVkLXZhbHVlJyxcbiAgICAgICAgICAgIHRpdGxlOiBzaW5nbGVWYWx1ZS50aXRsZSB8fCBzaW5nbGVWYWx1ZS5sYWJlbCxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IHNob3dTZWxlY3RlZFZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsdWVbMF0ubGFiZWxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICghc2hvd1NlYXJjaCkge1xuICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbm5lck5vZGUgPSBbc2VsZWN0ZWRWYWx1ZSwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcbiAgICAgICAgICAgIGtleTogJ2lucHV0JyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG9wZW4gPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG4gICAgICAgICldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2VsZWN0ZWRWYWx1ZU5vZGVzID0gW107XG4gICAgICBpZiAoKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKSkge1xuICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHNpbmdsZVZhbHVlKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBzaW5nbGVWYWx1ZS5sYWJlbDtcbiAgICAgICAgICB2YXIgdGl0bGUgPSBzaW5nbGVWYWx1ZS50aXRsZSB8fCBjb250ZW50O1xuICAgICAgICAgIGlmIChtYXhUYWdUZXh0TGVuZ3RoICYmIHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJyAmJiBjb250ZW50Lmxlbmd0aCA+IG1heFRhZ1RleHRMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDAsIG1heFRhZ1RleHRMZW5ndGgpICsgJy4uLic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBkaXNhYmxlZCA9IF90aGlzOS5pc0NoaWxkRGlzYWJsZWQoc2luZ2xlVmFsdWUua2V5KTtcbiAgICAgICAgICB2YXIgY2hvaWNlQ2xhc3NOYW1lID0gZGlzYWJsZWQgPyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlICcgKyBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlX19kaXNhYmxlZCcgOiBwcmVmaXhDbHMgKyAnLXNlbGVjdGlvbl9fY2hvaWNlJztcbiAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG4gICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgICAgIG9uTW91c2VEb3duOiBfdXRpbC5wcmV2ZW50RGVmYXVsdEV2ZW50LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNob2ljZUNsYXNzTmFtZSxcbiAgICAgICAgICAgICAga2V5OiBzaW5nbGVWYWx1ZS5rZXksXG4gICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX2NvbnRlbnQnIH0sXG4gICAgICAgICAgICAgIGNvbnRlbnRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBkaXNhYmxlZCA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VsZWN0aW9uX19jaG9pY2VfX3JlbW92ZScsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzOS5yZW1vdmVTZWxlY3RlZC5iaW5kKF90aGlzOSwgc2luZ2xlVmFsdWUua2V5KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlcy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdsaScsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctc2VhcmNoICcgKyBwcmVmaXhDbHMgKyAnLXNlYXJjaC0taW5saW5lJyxcbiAgICAgICAgICBrZXk6ICdfX2lucHV0J1xuICAgICAgICB9LFxuICAgICAgICB0aGlzLmdldElucHV0RWxlbWVudCgpXG4gICAgICApKTtcblxuICAgICAgaWYgKCgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzKShwcm9wcykgJiYgY2hvaWNlVHJhbnNpdGlvbk5hbWUpIHtcbiAgICAgICAgaW5uZXJOb2RlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBfcmNBbmltYXRlMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25MZWF2ZTogdGhpcy5vbkNob2ljZUFuaW1hdGlvbkxlYXZlLFxuICAgICAgICAgICAgY29tcG9uZW50OiAndWwnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6IGNob2ljZVRyYW5zaXRpb25OYW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlTm9kZXNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlubmVyTm9kZSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3VsJyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHNlbGVjdGVkVmFsdWVOb2Rlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9LFxuICAgICAgdGhpcy5nZXRQbGFjZWhvbGRlckVsZW1lbnQoKSxcbiAgICAgIGlubmVyTm9kZVxuICAgICk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcm9vdENscztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG11bHRpcGxlID0gKDAsIF91dGlsLmlzTXVsdGlwbGVPclRhZ3MpKHByb3BzKTtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgIGFsbG93Q2xlYXIgPSBwcm9wcy5hbGxvd0NsZWFyLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgY3RybE5vZGUgPSB0aGlzLnJlbmRlclRvcENvbnRyb2xOb2RlKCk7XG4gICAgdmFyIGV4dHJhU2VsZWN0aW9uUHJvcHMgPSB7fTtcbiAgICB2YXIgb3BlbiA9IHRoaXMuc3RhdGUub3BlbjtcblxuICAgIHZhciBvcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgICBpZiAoISgwLCBfdXRpbC5pc011bHRpcGxlT3JUYWdzT3JDb21ib2JveCkocHJvcHMpKSB7XG4gICAgICBleHRyYVNlbGVjdGlvblByb3BzID0ge1xuICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuICAgICAgICB0YWJJbmRleDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJvb3RDbHMgPSAoX3Jvb3RDbHMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctb3BlbicsIG9wZW4pLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9yb290Q2xzLCBwcmVmaXhDbHMgKyAnLWZvY3VzZWQnLCBvcGVuIHx8ICEhdGhpcy5fZm9jdXNlZCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3Jvb3RDbHMsIHByZWZpeENscyArICctY29tYm9ib3gnLCAoMCwgX3V0aWwuaXNDb21ib2JveCkocHJvcHMpKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1lbmFibGVkJywgIWRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfcm9vdENscywgcHJlZml4Q2xzICsgJy1hbGxvdy1jbGVhcicsICEhcHJvcHMuYWxsb3dDbGVhciksIF9yb290Q2xzKTtcbiAgICB2YXIgY2xlYXJTdHlsZSA9ICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFLCB7XG4gICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICB9KTtcbiAgICBpZiAoc3RhdGUuaW5wdXRWYWx1ZSB8fCBzdGF0ZS52YWx1ZS5sZW5ndGgpIHtcbiAgICAgIGNsZWFyU3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfVxuICAgIHZhciBjbGVhciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAga2V5OiAnY2xlYXInLFxuICAgICAgb25Nb3VzZURvd246IF91dGlsLnByZXZlbnREZWZhdWx0RXZlbnQsXG4gICAgICBzdHlsZTogY2xlYXJTdHlsZVxuICAgIH0sIF91dGlsLlVOU0VMRUNUQUJMRV9BVFRSSUJVVEUsIHtcbiAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25fX2NsZWFyJyxcbiAgICAgIG9uQ2xpY2s6IHRoaXMub25DbGVhclNlbGVjdGlvblxuICAgIH0pKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9TZWxlY3RUcmlnZ2VyMltcImRlZmF1bHRcIl0sXG4gICAgICB7XG4gICAgICAgIG9uUG9wdXBGb2N1czogdGhpcy5vblBvcHVwRm9jdXMsXG4gICAgICAgIGRyb3Bkb3duQWxpZ246IHByb3BzLmRyb3Bkb3duQWxpZ24sXG4gICAgICAgIGRyb3Bkb3duQ2xhc3NOYW1lOiBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZSxcbiAgICAgICAgZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoOiBwcm9wcy5kcm9wZG93bk1hdGNoU2VsZWN0V2lkdGgsXG4gICAgICAgIGRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbjogcHJvcHMuZGVmYXVsdEFjdGl2ZUZpcnN0T3B0aW9uLFxuICAgICAgICBkcm9wZG93bk1lbnVTdHlsZTogcHJvcHMuZHJvcGRvd25NZW51U3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25OYW1lOiBwcm9wcy50cmFuc2l0aW9uTmFtZSxcbiAgICAgICAgYW5pbWF0aW9uOiBwcm9wcy5hbmltYXRpb24sXG4gICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBkcm9wZG93blN0eWxlOiBwcm9wcy5kcm9wZG93blN0eWxlLFxuICAgICAgICBjb21ib2JveDogcHJvcHMuY29tYm9ib3gsXG4gICAgICAgIHNob3dTZWFyY2g6IHByb3BzLnNob3dTZWFyY2gsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIG11bHRpcGxlOiBtdWx0aXBsZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICB2aXNpYmxlOiBvcGVuLFxuICAgICAgICBpbnB1dFZhbHVlOiBzdGF0ZS5pbnB1dFZhbHVlLFxuICAgICAgICB2YWx1ZTogc3RhdGUudmFsdWUsXG4gICAgICAgIG9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlOiB0aGlzLm9uRHJvcGRvd25WaXNpYmxlQ2hhbmdlLFxuICAgICAgICBnZXRQb3B1cENvbnRhaW5lcjogcHJvcHMuZ2V0UG9wdXBDb250YWluZXIsXG4gICAgICAgIG9uTWVudVNlbGVjdDogdGhpcy5vbk1lbnVTZWxlY3QsXG4gICAgICAgIG9uTWVudURlc2VsZWN0OiB0aGlzLm9uTWVudURlc2VsZWN0LFxuICAgICAgICByZWY6ICd0cmlnZ2VyJ1xuICAgICAgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IHByb3BzLnN0eWxlLFxuICAgICAgICAgIHJlZjogJ3Jvb3QnLFxuICAgICAgICAgIG9uQmx1cjogdGhpcy5vbk91dGVyQmx1cixcbiAgICAgICAgICBvbkZvY3VzOiB0aGlzLm9uT3V0ZXJGb2N1cyxcbiAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczNbXCJkZWZhdWx0XCJdKShyb290Q2xzKVxuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7XG4gICAgICAgICAgICByZWY6ICdzZWxlY3Rpb24nLFxuICAgICAgICAgICAga2V5OiAnc2VsZWN0aW9uJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3Rpb25cXG4gICAgICAgICAgICAnICsgcHJlZml4Q2xzICsgJy1zZWxlY3Rpb24tLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLFxuICAgICAgICAgICAgcm9sZTogJ2NvbWJvYm94JyxcbiAgICAgICAgICAgICdhcmlhLWF1dG9jb21wbGV0ZSc6ICdsaXN0JyxcbiAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ3RydWUnLFxuICAgICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBvcGVuXG4gICAgICAgICAgfSwgZXh0cmFTZWxlY3Rpb25Qcm9wcyksXG4gICAgICAgICAgY3RybE5vZGUsXG4gICAgICAgICAgYWxsb3dDbGVhciAmJiAhbXVsdGlwbGUgPyBjbGVhciA6IG51bGwsXG4gICAgICAgICAgbXVsdGlwbGUgfHwgIXByb3BzLnNob3dBcnJvdyA/IG51bGwgOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgICAgICAga2V5OiAnYXJyb3cnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYXJyb3cnLFxuICAgICAgICAgICAgICBzdHlsZTogX3V0aWwuVU5TRUxFQ1RBQkxFX1NUWUxFXG4gICAgICAgICAgICB9LCBfdXRpbC5VTlNFTEVDVEFCTEVfQVRUUklCVVRFLCB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25BcnJvd0NsaWNrXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2InLCBudWxsKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXNlbGVjdC9saWIvU2VsZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfcmNUcmlnZ2VyID0gcmVxdWlyZSgncmMtdHJpZ2dlcicpO1xuXG52YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0Ryb3Bkb3duTWVudSA9IHJlcXVpcmUoJy4vRHJvcGRvd25NZW51Jyk7XG5cbnZhciBfRHJvcGRvd25NZW51MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Ryb3Bkb3duTWVudSk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIEJVSUxUX0lOX1BMQUNFTUVOVFMgPSB7XG4gIGJvdHRvbUxlZnQ6IHtcbiAgICBwb2ludHM6IFsndGwnLCAnYmwnXSxcbiAgICBvZmZzZXQ6IFswLCA0XSxcbiAgICBvdmVyZmxvdzoge1xuICAgICAgYWRqdXN0WDogMCxcbiAgICAgIGFkanVzdFk6IDFcbiAgICB9XG4gIH0sXG4gIHRvcExlZnQ6IHtcbiAgICBwb2ludHM6IFsnYmwnLCAndGwnXSxcbiAgICBvZmZzZXQ6IFswLCAtNF0sXG4gICAgb3ZlcmZsb3c6IHtcbiAgICAgIGFkanVzdFg6IDAsXG4gICAgICBhZGp1c3RZOiAxXG4gICAgfVxuICB9XG59O1xuXG52YXIgU2VsZWN0VHJpZ2dlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTZWxlY3RUcmlnZ2VyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBvblBvcHVwRm9jdXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGg6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkcm9wZG93bkFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93U2VhcmNoOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZHJvcGRvd25DbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG11bHRpcGxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgaW5wdXRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZmlsdGVyT3B0aW9uOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHBvcHVwQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnlcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgdmlzaWJsZSA9IF9wcm9wcy52aXNpYmxlLFxuICAgICAgICBkcm9wZG93bk1hdGNoU2VsZWN0V2lkdGggPSBfcHJvcHMuZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoO1xuXG4gICAgaWYgKHZpc2libGUpIHtcbiAgICAgIHZhciBkcm9wZG93bkRPTU5vZGUgPSB0aGlzLmdldFBvcHVwRE9NTm9kZSgpO1xuICAgICAgaWYgKGRyb3Bkb3duRE9NTm9kZSkge1xuICAgICAgICB2YXIgd2lkdGhQcm9wID0gZHJvcGRvd25NYXRjaFNlbGVjdFdpZHRoID8gJ3dpZHRoJyA6ICdtaW5XaWR0aCc7XG4gICAgICAgIGRyb3Bkb3duRE9NTm9kZS5zdHlsZVt3aWR0aFByb3BdID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcykub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZ2V0SW5uZXJNZW51OiBmdW5jdGlvbiBnZXRJbm5lck1lbnUoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9wdXBNZW51ICYmIHRoaXMucG9wdXBNZW51LnJlZnMubWVudTtcbiAgfSxcbiAgZ2V0UG9wdXBET01Ob2RlOiBmdW5jdGlvbiBnZXRQb3B1cERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVmcy50cmlnZ2VyLmdldFBvcHVwRG9tTm9kZSgpO1xuICB9LFxuICBnZXREcm9wZG93bkVsZW1lbnQ6IGZ1bmN0aW9uIGdldERyb3Bkb3duRWxlbWVudChuZXdQcm9wcykge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0Ryb3Bkb3duTWVudTJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgcmVmOiB0aGlzLnNhdmVNZW51XG4gICAgfSwgbmV3UHJvcHMsIHtcbiAgICAgIHByZWZpeENsczogdGhpcy5nZXREcm9wZG93blByZWZpeENscygpLFxuICAgICAgb25NZW51U2VsZWN0OiBwcm9wcy5vbk1lbnVTZWxlY3QsXG4gICAgICBvbk1lbnVEZXNlbGVjdDogcHJvcHMub25NZW51RGVzZWxlY3QsXG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUsXG4gICAgICBkZWZhdWx0QWN0aXZlRmlyc3RPcHRpb246IHByb3BzLmRlZmF1bHRBY3RpdmVGaXJzdE9wdGlvbixcbiAgICAgIGRyb3Bkb3duTWVudVN0eWxlOiBwcm9wcy5kcm9wZG93bk1lbnVTdHlsZVxuICAgIH0pKTtcbiAgfSxcbiAgZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZTogZnVuY3Rpb24gZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgIGlmICghdHJhbnNpdGlvbk5hbWUgJiYgcHJvcHMuYW5pbWF0aW9uKSB7XG4gICAgICB0cmFuc2l0aW9uTmFtZSA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSArICctJyArIHByb3BzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zaXRpb25OYW1lO1xuICB9LFxuICBnZXREcm9wZG93blByZWZpeENsczogZnVuY3Rpb24gZ2V0RHJvcGRvd25QcmVmaXhDbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1kcm9wZG93bic7XG4gIH0sXG4gIHNhdmVNZW51OiBmdW5jdGlvbiBzYXZlTWVudShtZW51KSB7XG4gICAgdGhpcy5wb3B1cE1lbnUgPSBtZW51O1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3BvcHVwQ2xhc3NOYW1lO1xuXG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBvblBvcHVwRm9jdXMgPSBfcHJvcHMyLm9uUG9wdXBGb2N1cyxcbiAgICAgICAgcHJvcHMgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzM1tcImRlZmF1bHRcIl0pKF9wcm9wczIsIFsnb25Qb3B1cEZvY3VzJ10pO1xuICAgIHZhciBtdWx0aXBsZSA9IHByb3BzLm11bHRpcGxlLFxuICAgICAgICB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSxcbiAgICAgICAgaW5wdXRWYWx1ZSA9IHByb3BzLmlucHV0VmFsdWUsXG4gICAgICAgIGRyb3Bkb3duQWxpZ24gPSBwcm9wcy5kcm9wZG93bkFsaWduLFxuICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgICBzaG93U2VhcmNoID0gcHJvcHMuc2hvd1NlYXJjaCxcbiAgICAgICAgZHJvcGRvd25DbGFzc05hbWUgPSBwcm9wcy5kcm9wZG93bkNsYXNzTmFtZTtcblxuICAgIHZhciBkcm9wZG93blByZWZpeENscyA9IHRoaXMuZ2V0RHJvcGRvd25QcmVmaXhDbHMoKTtcbiAgICB2YXIgcG9wdXBDbGFzc05hbWUgPSAoX3BvcHVwQ2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93bkNsYXNzTmFtZSwgISFkcm9wZG93bkNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX3BvcHVwQ2xhc3NOYW1lLCBkcm9wZG93blByZWZpeENscyArICctLScgKyAobXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJ3NpbmdsZScpLCAxKSwgX3BvcHVwQ2xhc3NOYW1lKTtcbiAgICB2YXIgcG9wdXBFbGVtZW50ID0gdGhpcy5nZXREcm9wZG93bkVsZW1lbnQoe1xuICAgICAgbWVudUl0ZW1zOiBwcm9wcy5vcHRpb25zLFxuICAgICAgb25Qb3B1cEZvY3VzOiBvblBvcHVwRm9jdXMsXG4gICAgICBtdWx0aXBsZTogbXVsdGlwbGUsXG4gICAgICBpbnB1dFZhbHVlOiBpbnB1dFZhbHVlLFxuICAgICAgdmlzaWJsZTogdmlzaWJsZVxuICAgIH0pO1xuICAgIHZhciBoaWRlQWN0aW9uID0gdm9pZCAwO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgaGlkZUFjdGlvbiA9IFtdO1xuICAgIH0gZWxzZSBpZiAoKDAsIF91dGlsLmlzU2luZ2xlTW9kZSkocHJvcHMpICYmICFzaG93U2VhcmNoKSB7XG4gICAgICBoaWRlQWN0aW9uID0gWydjbGljayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWRlQWN0aW9uID0gWydibHVyJ107XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgX3JjVHJpZ2dlcjJbXCJkZWZhdWx0XCJdLFxuICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuICAgICAgICBzaG93QWN0aW9uOiBkaXNhYmxlZCA/IFtdIDogWydjbGljayddLFxuICAgICAgICBoaWRlQWN0aW9uOiBoaWRlQWN0aW9uLFxuICAgICAgICByZWY6ICd0cmlnZ2VyJyxcbiAgICAgICAgcG9wdXBQbGFjZW1lbnQ6ICdib3R0b21MZWZ0JyxcbiAgICAgICAgYnVpbHRpblBsYWNlbWVudHM6IEJVSUxUX0lOX1BMQUNFTUVOVFMsXG4gICAgICAgIHByZWZpeENsczogZHJvcGRvd25QcmVmaXhDbHMsXG4gICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRoaXMuZ2V0RHJvcGRvd25UcmFuc2l0aW9uTmFtZSgpLFxuICAgICAgICBvblBvcHVwVmlzaWJsZUNoYW5nZTogcHJvcHMub25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG4gICAgICAgIHBvcHVwOiBwb3B1cEVsZW1lbnQsXG4gICAgICAgIHBvcHVwQWxpZ246IGRyb3Bkb3duQWxpZ24sXG4gICAgICAgIHBvcHVwVmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgZ2V0UG9wdXBDb250YWluZXI6IHByb3BzLmdldFBvcHVwQ29udGFpbmVyLFxuICAgICAgICBwb3B1cENsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKHBvcHVwQ2xhc3NOYW1lKSxcbiAgICAgICAgcG9wdXBTdHlsZTogcHJvcHMuZHJvcGRvd25TdHlsZVxuICAgICAgfSksXG4gICAgICBwcm9wcy5jaGlsZHJlblxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdFRyaWdnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1zZWxlY3QvbGliL1NlbGVjdFRyaWdnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk9wdEdyb3VwID0gZXhwb3J0cy5PcHRpb24gPSB1bmRlZmluZWQ7XG5cbnZhciBfU2VsZWN0ID0gcmVxdWlyZSgnLi9TZWxlY3QnKTtcblxudmFyIF9TZWxlY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0KTtcblxudmFyIF9PcHRpb24gPSByZXF1aXJlKCcuL09wdGlvbicpO1xuXG52YXIgX09wdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcHRpb24pO1xuXG52YXIgX09wdEdyb3VwID0gcmVxdWlyZSgnLi9PcHRHcm91cCcpO1xuXG52YXIgX09wdEdyb3VwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wdEdyb3VwKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbl9TZWxlY3QyW1wiZGVmYXVsdFwiXS5PcHRpb24gPSBfT3B0aW9uMltcImRlZmF1bHRcIl07XG5fU2VsZWN0MltcImRlZmF1bHRcIl0uT3B0R3JvdXAgPSBfT3B0R3JvdXAyW1wiZGVmYXVsdFwiXTtcbmV4cG9ydHMuT3B0aW9uID0gX09wdGlvbjJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0cy5PcHRHcm91cCA9IF9PcHRHcm91cDJbXCJkZWZhdWx0XCJdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfU2VsZWN0MltcImRlZmF1bHRcIl07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtc2VsZWN0L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIF9kZWZhdWx0cyhvYmosIGRlZmF1bHRzKSB7IHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdHMpOyBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsgdmFyIGtleSA9IGtleXNbaV07IHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7IGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKTsgfSB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgQ29sdW1uID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbHVtbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ29sdW1uKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb2x1bW4pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuQ29sdW1uLnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgY29sU3BhbjogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGUsXG4gIGRhdGFJbmRleDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHdpZHRoOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG4gIGZpeGVkOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mKFt0cnVlLCAnbGVmdCcsICdyaWdodCddKSxcbiAgcmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ2VsbENsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbHVtbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIENvbHVtbkdyb3VwID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbHVtbkdyb3VwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2x1bW5Hcm91cCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uR3JvdXApO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICByZXR1cm4gQ29sdW1uR3JvdXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Db2x1bW5Hcm91cC5wcm9wVHlwZXMgPSB7XG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbn07XG5Db2x1bW5Hcm91cC5pc1RhYmxlQ29sdW1uR3JvdXAgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBDb2x1bW5Hcm91cDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5Hcm91cC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDb2x1bW5NYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb2x1bW5NYW5hZ2VyKGNvbHVtbnMsIGVsZW1lbnRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtbk1hbmFnZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVkID0ge307XG5cbiAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IHRoaXMubm9ybWFsaXplKGVsZW1lbnRzKTtcbiAgfVxuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmlzQW55Q29sdW1uc0ZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zRml4ZWQoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zRml4ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuICEhY29sdW1uLmZpeGVkO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuaXNBbnlDb2x1bW5zTGVmdEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdpc0FueUNvbHVtbnNMZWZ0Rml4ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLmNvbHVtbnMuc29tZShmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5pc0FueUNvbHVtbnNSaWdodEZpeGVkID0gZnVuY3Rpb24gaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczMuY29sdW1ucy5zb21lKGZ1bmN0aW9uIChjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5maXhlZCA9PT0gJ3JpZ2h0JztcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIENvbHVtbk1hbmFnZXIucHJvdG90eXBlLmxlZnRDb2x1bW5zID0gZnVuY3Rpb24gbGVmdENvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ2xlZnRDb2x1bW5zJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzNC5ncm91cGVkQ29sdW1ucygpLmZpbHRlcihmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZml4ZWQgPT09ICdsZWZ0JyB8fCBjb2x1bW4uZml4ZWQgPT09IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yaWdodENvbHVtbnMgPSBmdW5jdGlvbiByaWdodENvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0Q29sdW1ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczUuZ3JvdXBlZENvbHVtbnMoKS5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gY29sdW1uLmZpeGVkID09PSAncmlnaHQnO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVhZkNvbHVtbnMgPSBmdW5jdGlvbiBsZWFmQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnbGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM2Ll9sZWFmQ29sdW1ucyhfdGhpczYuY29sdW1ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubGVmdExlYWZDb2x1bW5zID0gZnVuY3Rpb24gbGVmdExlYWZDb2x1bW5zKCkge1xuICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlKCdsZWZ0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM3Ll9sZWFmQ29sdW1ucyhfdGhpczcubGVmdENvbHVtbnMoKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUucmlnaHRMZWFmQ29sdW1ucyA9IGZ1bmN0aW9uIHJpZ2h0TGVhZkNvbHVtbnMoKSB7XG4gICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGUoJ3JpZ2h0TGVhZkNvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXM4Ll9sZWFmQ29sdW1ucyhfdGhpczgucmlnaHRDb2x1bW5zKCkpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGFkZCBhcHByb3ByaWF0ZSByb3dzcGFuIGFuZCBjb2xzcGFuIHRvIGNvbHVtblxuXG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuZ3JvdXBlZENvbHVtbnMgPSBmdW5jdGlvbiBncm91cGVkQ29sdW1ucygpIHtcbiAgICB2YXIgX3RoaXM5ID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLl9jYWNoZSgnZ3JvdXBlZENvbHVtbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dyb3VwQ29sdW1ucyA9IGZ1bmN0aW9uIF9ncm91cENvbHVtbnMoY29sdW1ucykge1xuICAgICAgICB2YXIgY3VycmVudFJvdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgICAgICAgdmFyIHBhcmVudENvbHVtbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICAgIHZhciByb3dzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBbXTtcblxuICAgICAgICAvLyB0cmFjayBob3cgbWFueSByb3dzIHdlIGdvdFxuICAgICAgICByb3dzW2N1cnJlbnRSb3ddID0gcm93c1tjdXJyZW50Um93XSB8fCBbXTtcbiAgICAgICAgdmFyIGdyb3VwZWQgPSBbXTtcbiAgICAgICAgdmFyIHNldFJvd1NwYW4gPSBmdW5jdGlvbiBzZXRSb3dTcGFuKGNvbHVtbikge1xuICAgICAgICAgIHZhciByb3dTcGFuID0gcm93cy5sZW5ndGggLSBjdXJyZW50Um93O1xuICAgICAgICAgIGlmIChjb2x1bW4gJiYgIWNvbHVtbi5jaGlsZHJlbiAmJiAvLyBwYXJlbnQgY29sdW1ucyBhcmUgc3VwcG9zZWQgdG8gYmUgb25lIHJvd1xuICAgICAgICAgIHJvd1NwYW4gPiAxICYmICghY29sdW1uLnJvd1NwYW4gfHwgY29sdW1uLnJvd1NwYW4gPCByb3dTcGFuKSkge1xuICAgICAgICAgICAgY29sdW1uLnJvd1NwYW4gPSByb3dTcGFuO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4sIGluZGV4KSB7XG4gICAgICAgICAgdmFyIG5ld0NvbHVtbiA9IF9leHRlbmRzKHt9LCBjb2x1bW4pO1xuICAgICAgICAgIHJvd3NbY3VycmVudFJvd10ucHVzaChuZXdDb2x1bW4pO1xuICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuID0gcGFyZW50Q29sdW1uLmNvbFNwYW4gfHwgMDtcbiAgICAgICAgICBpZiAobmV3Q29sdW1uLmNoaWxkcmVuICYmIG5ld0NvbHVtbi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBuZXdDb2x1bW4uY2hpbGRyZW4gPSBfZ3JvdXBDb2x1bW5zKG5ld0NvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIG5ld0NvbHVtbiwgcm93cyk7XG4gICAgICAgICAgICBwYXJlbnRDb2x1bW4uY29sU3BhbiA9IHBhcmVudENvbHVtbi5jb2xTcGFuICsgbmV3Q29sdW1uLmNvbFNwYW47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudENvbHVtbi5jb2xTcGFuKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHVwZGF0ZSByb3dzcGFuIHRvIGFsbCBzYW1lIHJvdyBjb2x1bW5zXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb3dzW2N1cnJlbnRSb3ddLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgc2V0Um93U3Bhbihyb3dzW2N1cnJlbnRSb3ddW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbGFzdCBjb2x1bW4sIHVwZGF0ZSByb3dzcGFuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFJvd1NwYW4obmV3Q29sdW1uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JvdXBlZC5wdXNoKG5ld0NvbHVtbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcbiAgICAgIH07XG4gICAgICByZXR1cm4gX2dyb3VwQ29sdW1ucyhfdGhpczkuY29sdW1ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKGVsZW1lbnRzKSB7XG4gICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgdmFyIGNvbHVtbnMgPSBbXTtcbiAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5DaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKCFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29sdW1uID0gX2V4dGVuZHMoe30sIGVsZW1lbnQucHJvcHMpO1xuICAgICAgaWYgKGVsZW1lbnQua2V5KSB7XG4gICAgICAgIGNvbHVtbi5rZXkgPSBlbGVtZW50LmtleTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LnR5cGUuaXNUYWJsZUNvbHVtbkdyb3VwKSB7XG4gICAgICAgIGNvbHVtbi5jaGlsZHJlbiA9IF90aGlzMTAubm9ybWFsaXplKGNvbHVtbi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgICBjb2x1bW5zLnB1c2goY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29sdW1ucztcbiAgfTtcblxuICBDb2x1bW5NYW5hZ2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KGNvbHVtbnMsIGVsZW1lbnRzKSB7XG4gICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucyB8fCB0aGlzLm5vcm1hbGl6ZShlbGVtZW50cyk7XG4gICAgdGhpcy5fY2FjaGVkID0ge307XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2NhY2hlID0gZnVuY3Rpb24gX2NhY2hlKG5hbWUsIGZuKSB7XG4gICAgaWYgKG5hbWUgaW4gdGhpcy5fY2FjaGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGVkW25hbWVdO1xuICAgIH1cbiAgICB0aGlzLl9jYWNoZWRbbmFtZV0gPSBmbigpO1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWRbbmFtZV07XG4gIH07XG5cbiAgQ29sdW1uTWFuYWdlci5wcm90b3R5cGUuX2xlYWZDb2x1bW5zID0gZnVuY3Rpb24gX2xlYWZDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICB2YXIgbGVhZkNvbHVtbnMgPSBbXTtcbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgaWYgKCFjb2x1bW4uY2hpbGRyZW4pIHtcbiAgICAgICAgbGVhZkNvbHVtbnMucHVzaChjb2x1bW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVhZkNvbHVtbnMucHVzaC5hcHBseShsZWFmQ29sdW1ucywgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMTEuX2xlYWZDb2x1bW5zKGNvbHVtbi5jaGlsZHJlbikpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGVhZkNvbHVtbnM7XG4gIH07XG5cbiAgcmV0dXJuIENvbHVtbk1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29sdW1uTWFuYWdlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9Db2x1bW5NYW5hZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMTM2XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfc2hhbGxvd2VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5cbnZhciBfc2hhbGxvd2VxdWFsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYWxsb3dlcXVhbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmYXVsdHMob2JqLCBkZWZhdWx0cykgeyB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZmF1bHRzKTsgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7IHZhciBrZXkgPSBrZXlzW2ldOyB2YXIgdmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmF1bHRzLCBrZXkpOyBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7IH0gfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IF9kZWZhdWx0cyhzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxudmFyIEV4cGFuZEljb24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRXhwYW5kSWNvbiwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRXhwYW5kSWNvbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXhwYW5kSWNvbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIEV4cGFuZEljb24ucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgRXhwYW5kSWNvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBleHBhbmRhYmxlID0gX3Byb3BzLmV4cGFuZGFibGUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIG9uRXhwYW5kID0gX3Byb3BzLm9uRXhwYW5kLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzLm5lZWRJbmRlbnRTcGFjZWQsXG4gICAgICAgIGV4cGFuZGVkID0gX3Byb3BzLmV4cGFuZGVkLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkO1xuXG4gICAgaWYgKGV4cGFuZGFibGUpIHtcbiAgICAgIHZhciBleHBhbmRDbGFzc05hbWUgPSBleHBhbmRlZCA/ICdleHBhbmRlZCcgOiAnY29sbGFwc2VkJztcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24gJyArIHByZWZpeENscyArICctJyArIGV4cGFuZENsYXNzTmFtZSxcbiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgcmV0dXJuIG9uRXhwYW5kKCFleHBhbmRlZCwgcmVjb3JkLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuZWVkSW5kZW50U3BhY2VkKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4cGFuZC1pY29uICcgKyBwcmVmaXhDbHMgKyAnLXNwYWNlZCcgfSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBFeHBhbmRJY29uO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5FeHBhbmRJY29uLnByb3BUeXBlcyA9IHtcbiAgcmVjb3JkOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgZXhwYW5kYWJsZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIG5lZWRJbmRlbnRTcGFjZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRXhwYW5kSWNvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRhYmxlL2xpYi9FeHBhbmRJY29uLmpzXG4gKiogbW9kdWxlIGlkID0gMTM3XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfVGFibGVSb3cgPSByZXF1aXJlKCcuL1RhYmxlUm93Jyk7XG5cbnZhciBfVGFibGVSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFibGVSb3cpO1xuXG52YXIgX1RhYmxlSGVhZGVyID0gcmVxdWlyZSgnLi9UYWJsZUhlYWRlcicpO1xuXG52YXIgX1RhYmxlSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYmxlSGVhZGVyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcblxudmFyIF9zaGFsbG93ZXF1YWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2hhbGxvd2VxdWFsKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyID0gcmVxdWlyZSgncmMtdXRpbC9saWIvRG9tL2FkZEV2ZW50TGlzdGVuZXInKTtcblxudmFyIF9hZGRFdmVudExpc3RlbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FkZEV2ZW50TGlzdGVuZXIpO1xuXG52YXIgX0NvbHVtbk1hbmFnZXIgPSByZXF1aXJlKCcuL0NvbHVtbk1hbmFnZXInKTtcblxudmFyIF9Db2x1bW5NYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbHVtbk1hbmFnZXIpO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzID0gcmVxdWlyZSgnY29tcG9uZW50LWNsYXNzZXMnKTtcblxudmFyIF9jb21wb25lbnRDbGFzc2VzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvbmVudENsYXNzZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogX2RlZmF1bHRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG52YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYmxlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25FeHBhbmRlZCA9IGZ1bmN0aW9uIChleHBhbmRlZCwgcmVjb3JkLCBlLCBpbmRleCkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgdmFyIGluZm8gPSBfdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkKTtcbiAgICAgIGlmICh0eXBlb2YgaW5mbyAhPT0gJ3VuZGVmaW5lZCcgJiYgIWV4cGFuZGVkKSB7XG4gICAgICAgIF90aGlzLm9uUm93RGVzdHJveShyZWNvcmQsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoIWluZm8gJiYgZXhwYW5kZWQpIHtcbiAgICAgICAgdmFyIGV4cGFuZGVkUm93cyA9IF90aGlzLmdldEV4cGFuZGVkUm93cygpLmNvbmNhdCgpO1xuICAgICAgICBleHBhbmRlZFJvd3MucHVzaChfdGhpcy5nZXRSb3dLZXkocmVjb3JkLCBpbmRleCkpO1xuICAgICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuICAgICAgfVxuICAgICAgX3RoaXMucHJvcHMub25FeHBhbmQoZXhwYW5kZWQsIHJlY29yZCk7XG4gICAgfTtcblxuICAgIF90aGlzLm9uUm93RGVzdHJveSA9IGZ1bmN0aW9uIChyZWNvcmQsIHJvd0luZGV4KSB7XG4gICAgICB2YXIgZXhwYW5kZWRSb3dzID0gX3RoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuY29uY2F0KCk7XG4gICAgICB2YXIgcm93S2V5ID0gX3RoaXMuZ2V0Um93S2V5KHJlY29yZCwgcm93SW5kZXgpO1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBleHBhbmRlZFJvd3MuZm9yRWFjaChmdW5jdGlvbiAociwgaSkge1xuICAgICAgICBpZiAociA9PT0gcm93S2V5KSB7XG4gICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgZXhwYW5kZWRSb3dzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBfdGhpcy5vbkV4cGFuZGVkUm93c0NoYW5nZShleHBhbmRlZFJvd3MpO1xuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5zeW5jRml4ZWRUYWJsZVJvd0hlaWdodCgpO1xuICAgICAgX3RoaXMuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUoKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuc3luY0ZpeGVkVGFibGVSb3dIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGFibGVSZWN0ID0gX3RoaXMudGFibGVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgLy8gSWYgdGFibGVOb2RlJ3MgaGVpZ2h0IGxlc3MgdGhhbiAwLCBzdXBwb3NlIGl0IGlzIGhpZGRlbiBhbmQgZG9uJ3QgcmVjYWxjdWxhdGUgcm93SGVpZ2h0LlxuICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy80ODM2XG4gICAgICBpZiAodGFibGVSZWN0LmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIHRhYmxlUmVjdC5oZWlnaHQgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcHJlZml4Q2xzID0gX3RoaXMucHJvcHMucHJlZml4Q2xzO1xuXG4gICAgICB2YXIgaGVhZFJvd3MgPSBfdGhpcy5yZWZzLmhlYWRUYWJsZSA/IF90aGlzLnJlZnMuaGVhZFRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoZWFkJykgOiBfdGhpcy5yZWZzLmJvZHlUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0aGVhZCcpO1xuICAgICAgdmFyIGJvZHlSb3dzID0gX3RoaXMucmVmcy5ib2R5VGFibGUucXVlcnlTZWxlY3RvckFsbCgnLicgKyBwcmVmaXhDbHMgKyAnLXJvdycpIHx8IFtdO1xuICAgICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gW10ubWFwLmNhbGwoaGVhZFJvd3MsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgfHwgJ2F1dG8nO1xuICAgICAgfSk7XG4gICAgICB2YXIgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHQgPSBbXS5tYXAuY2FsbChib2R5Um93cywgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICByZXR1cm4gcm93LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCB8fCAnYXV0byc7XG4gICAgICB9KTtcbiAgICAgIGlmICgoMCwgX3NoYWxsb3dlcXVhbDJbXCJkZWZhdWx0XCJdKShfdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodCwgZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQpICYmICgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKF90aGlzLnN0YXRlLmZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0LCBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogZml4ZWRDb2x1bW5zSGVhZFJvd3NIZWlnaHQsXG4gICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0OiBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmRldGVjdFNjcm9sbFRhcmdldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuc2Nyb2xsVGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgX3RoaXMuc2Nyb2xsVGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5oYW5kbGVCb2R5U2Nyb2xsID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgc2Nyb2xsVG9wIHNldHRlciB0cmlnZ2VyIG9uU2Nyb2xsIGV2ZW50XG4gICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8xMzg2Njk2XG4gICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLnNjcm9sbFRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgX3RoaXMkcHJvcHMkc2Nyb2xsID0gX3RoaXMucHJvcHMuc2Nyb2xsLFxuICAgICAgICAgIHNjcm9sbCA9IF90aGlzJHByb3BzJHNjcm9sbCA9PT0gdW5kZWZpbmVkID8ge30gOiBfdGhpcyRwcm9wcyRzY3JvbGw7XG4gICAgICB2YXIgX3RoaXMkcmVmcyA9IF90aGlzLnJlZnMsXG4gICAgICAgICAgaGVhZFRhYmxlID0gX3RoaXMkcmVmcy5oZWFkVGFibGUsXG4gICAgICAgICAgYm9keVRhYmxlID0gX3RoaXMkcmVmcy5ib2R5VGFibGUsXG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQgPSBfdGhpcyRyZWZzLmZpeGVkQ29sdW1uc0JvZHlMZWZ0LFxuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodCA9IF90aGlzJHJlZnMuZml4ZWRDb2x1bW5zQm9keVJpZ2h0O1xuXG4gICAgICBpZiAoc2Nyb2xsLnggJiYgZS50YXJnZXQuc2Nyb2xsTGVmdCAhPT0gX3RoaXMubGFzdFNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBib2R5VGFibGUgJiYgaGVhZFRhYmxlKSB7XG4gICAgICAgICAgaGVhZFRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0ID09PSBoZWFkVGFibGUgJiYgYm9keVRhYmxlKSB7XG4gICAgICAgICAgYm9keVRhYmxlLnNjcm9sbExlZnQgPSBlLnRhcmdldC5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNldFNjcm9sbFBvc2l0aW9uQ2xhc3NOYW1lKGUudGFyZ2V0KTtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGwueSkge1xuICAgICAgICBpZiAoZml4ZWRDb2x1bW5zQm9keUxlZnQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlMZWZ0KSB7XG4gICAgICAgICAgZml4ZWRDb2x1bW5zQm9keUxlZnQuc2Nyb2xsVG9wID0gZS50YXJnZXQuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXhlZENvbHVtbnNCb2R5UmlnaHQgJiYgZS50YXJnZXQgIT09IGZpeGVkQ29sdW1uc0JvZHlSaWdodCkge1xuICAgICAgICAgIGZpeGVkQ29sdW1uc0JvZHlSaWdodC5zY3JvbGxUb3AgPSBlLnRhcmdldC5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlUYWJsZSAmJiBlLnRhcmdldCAhPT0gYm9keVRhYmxlKSB7XG4gICAgICAgICAgYm9keVRhYmxlLnNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gUmVtZW1iZXIgbGFzdCBzY3JvbGxMZWZ0IGZvciBzY3JvbGwgZGlyZWN0aW9uIGRldGVjdGluZy5cbiAgICAgIF90aGlzLmxhc3RTY3JvbGxMZWZ0ID0gZS50YXJnZXQuc2Nyb2xsTGVmdDtcbiAgICB9O1xuXG4gICAgX3RoaXMuaGFuZGxlUm93SG92ZXIgPSBmdW5jdGlvbiAoaXNIb3Zlciwga2V5KSB7XG4gICAgICBfdGhpcy5zdG9yZS5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRIb3ZlcktleTogaXNIb3ZlciA/IGtleSA6IG51bGxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXhwYW5kZWRSb3dLZXlzID0gW107XG4gICAgdmFyIHJvd3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHByb3BzLmRhdGEpKTtcbiAgICBfdGhpcy5jb2x1bW5NYW5hZ2VyID0gbmV3IF9Db2x1bW5NYW5hZ2VyMltcImRlZmF1bHRcIl0ocHJvcHMuY29sdW1ucywgcHJvcHMuY2hpbGRyZW4pO1xuICAgIF90aGlzLnN0b3JlID0gKDAsIF9jcmVhdGVTdG9yZTJbXCJkZWZhdWx0XCJdKSh7IGN1cnJlbnRIb3ZlcktleTogbnVsbCB9KTtcbiAgICBfdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignbGVmdCcpO1xuXG4gICAgaWYgKHByb3BzLmRlZmF1bHRFeHBhbmRBbGxSb3dzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IHJvd3NbaV07XG4gICAgICAgIGV4cGFuZGVkUm93S2V5cy5wdXNoKF90aGlzLmdldFJvd0tleShyb3csIGkpKTtcbiAgICAgICAgcm93cyA9IHJvd3MuY29uY2F0KHJvd1twcm9wcy5jaGlsZHJlbkNvbHVtbk5hbWVdIHx8IFtdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZXhwYW5kZWRSb3dLZXlzID0gcHJvcHMuZXhwYW5kZWRSb3dLZXlzIHx8IHByb3BzLmRlZmF1bHRFeHBhbmRlZFJvd0tleXM7XG4gICAgfVxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZXhwYW5kZWRSb3dLZXlzOiBleHBhbmRlZFJvd0tleXMsXG4gICAgICBjdXJyZW50SG92ZXJLZXk6IG51bGwsXG4gICAgICBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDogW10sXG4gICAgICBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDogW11cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSkge1xuICAgICAgdGhpcy5oYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICAgIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplID0gKDAsIF91dGlscy5kZWJvdW5jZSkodGhpcy5oYW5kbGVXaW5kb3dSZXNpemUsIDE1MCk7XG4gICAgICB0aGlzLnJlc2l6ZUV2ZW50ID0gKDAsIF9hZGRFdmVudExpc3RlbmVyMltcImRlZmF1bHRcIl0pKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmICgnZXhwYW5kZWRSb3dLZXlzJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBleHBhbmRlZFJvd0tleXM6IG5leHRQcm9wcy5leHBhbmRlZFJvd0tleXNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobmV4dFByb3BzLmNvbHVtbnMgJiYgbmV4dFByb3BzLmNvbHVtbnMgIT09IHRoaXMucHJvcHMuY29sdW1ucykge1xuICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG5leHRQcm9wcy5jb2x1bW5zKTtcbiAgICB9IGVsc2UgaWYgKG5leHRQcm9wcy5jaGlsZHJlbiAhPT0gdGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgdGhpcy5jb2x1bW5NYW5hZ2VyLnJlc2V0KG51bGwsIG5leHRQcm9wcy5jaGlsZHJlbik7XG4gICAgfVxuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHRoaXMuY29sdW1uTWFuYWdlci5pc0FueUNvbHVtbnNGaXhlZCgpKSB7XG4gICAgICB0aGlzLmhhbmRsZVdpbmRvd1Jlc2l6ZSgpO1xuICAgIH1cbiAgICAvLyB3aGVuIHRhYmxlIGNoYW5nZXMgdG8gZW1wdHksIHJlc2V0IHNjcm9sbExlZnRcbiAgICBpZiAocHJldlByb3BzLmRhdGEubGVuZ3RoID4gMCAmJiB0aGlzLnByb3BzLmRhdGEubGVuZ3RoID09PSAwICYmIHRoaXMuaGFzU2Nyb2xsWCgpKSB7XG4gICAgICB0aGlzLnJlc2V0U2Nyb2xsWCgpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5yZXNpemVFdmVudCkge1xuICAgICAgdGhpcy5yZXNpemVFdmVudC5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVib3VuY2VkV2luZG93UmVzaXplKSB7XG4gICAgICB0aGlzLmRlYm91bmNlZFdpbmRvd1Jlc2l6ZS5jYW5jZWwoKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLm9uRXhwYW5kZWRSb3dzQ2hhbmdlID0gZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoZXhwYW5kZWRSb3dLZXlzKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGV4cGFuZGVkUm93S2V5czogZXhwYW5kZWRSb3dLZXlzIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uRXhwYW5kZWRSb3dzQ2hhbmdlKGV4cGFuZGVkUm93S2V5cyk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldFJvd0tleSA9IGZ1bmN0aW9uIGdldFJvd0tleShyZWNvcmQsIGluZGV4KSB7XG4gICAgdmFyIHJvd0tleSA9IHRoaXMucHJvcHMucm93S2V5O1xuICAgIHZhciBrZXkgPSB0eXBlb2Ygcm93S2V5ID09PSAnZnVuY3Rpb24nID8gcm93S2V5KHJlY29yZCwgaW5kZXgpIDogcmVjb3JkW3Jvd0tleV07XG4gICAgKDAsIF91dGlscy53YXJuaW5nT25jZSkoa2V5ICE9PSB1bmRlZmluZWQsICdFYWNoIHJlY29yZCBpbiB0YWJsZSBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBga2V5YCBwcm9wLCcgKyAnb3Igc2V0IGByb3dLZXlgIHRvIGFuIHVuaXF1ZSBwcmltYXJ5IGtleS4nKTtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyBpbmRleCA6IGtleTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0RXhwYW5kZWRSb3dzID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3dzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmV4cGFuZGVkUm93S2V5cyB8fCB0aGlzLnN0YXRlLmV4cGFuZGVkUm93S2V5cztcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHNob3dIZWFkZXIgPSBfcHJvcHMuc2hvd0hlYWRlcixcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wcy5leHBhbmRJY29uQXNDZWxsLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgdmFyIHJvd3MgPSB0aGlzLmdldEhlYWRlclJvd3MoY29sdW1ucyk7XG5cbiAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuICAgICAgcm93c1swXS51bnNoaWZ0KHtcbiAgICAgICAga2V5OiAncmMtdGFibGUtZXhwYW5kSWNvbkFzQ2VsbCcsXG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi10aCcsXG4gICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgcm93U3Bhbjogcm93cy5sZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB0clN0eWxlID0gZml4ZWQgPyB0aGlzLmdldEhlYWRlclJvd1N0eWxlKGNvbHVtbnMsIHJvd3MpIDogbnVsbDtcblxuICAgIHJldHVybiBzaG93SGVhZGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVGFibGVIZWFkZXIyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICByb3dzOiByb3dzLFxuICAgICAgcm93U3R5bGU6IHRyU3R5bGVcbiAgICB9KSA6IG51bGw7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEhlYWRlclJvd3MgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dzKGNvbHVtbnMpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjdXJyZW50Um93ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciByb3dzID0gYXJndW1lbnRzWzJdO1xuXG4gICAgcm93cyA9IHJvd3MgfHwgW107XG4gICAgcm93c1tjdXJyZW50Um93XSA9IHJvd3NbY3VycmVudFJvd10gfHwgW107XG5cbiAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgaWYgKGNvbHVtbi5yb3dTcGFuICYmIHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcbiAgICAgICAgd2hpbGUgKHJvd3MubGVuZ3RoIDwgY29sdW1uLnJvd1NwYW4pIHtcbiAgICAgICAgICByb3dzLnB1c2goW10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgY2VsbCA9IHtcbiAgICAgICAga2V5OiBjb2x1bW4ua2V5LFxuICAgICAgICBjbGFzc05hbWU6IGNvbHVtbi5jbGFzc05hbWUgfHwgJycsXG4gICAgICAgIGNoaWxkcmVuOiBjb2x1bW4udGl0bGVcbiAgICAgIH07XG4gICAgICBpZiAoY29sdW1uLmNoaWxkcmVuKSB7XG4gICAgICAgIF90aGlzMi5nZXRIZWFkZXJSb3dzKGNvbHVtbi5jaGlsZHJlbiwgY3VycmVudFJvdyArIDEsIHJvd3MpO1xuICAgICAgfVxuICAgICAgaWYgKCdjb2xTcGFuJyBpbiBjb2x1bW4pIHtcbiAgICAgICAgY2VsbC5jb2xTcGFuID0gY29sdW1uLmNvbFNwYW47XG4gICAgICB9XG4gICAgICBpZiAoJ3Jvd1NwYW4nIGluIGNvbHVtbikge1xuICAgICAgICBjZWxsLnJvd1NwYW4gPSBjb2x1bW4ucm93U3BhbjtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmNvbFNwYW4gIT09IDApIHtcbiAgICAgICAgcm93c1tjdXJyZW50Um93XS5wdXNoKGNlbGwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgICByZXR1cm4gcm93Lmxlbmd0aCA+IDA7XG4gICAgfSk7XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmdldEV4cGFuZGVkUm93ID0gZnVuY3Rpb24gZ2V0RXhwYW5kZWRSb3coa2V5LCBjb250ZW50LCB2aXNpYmxlLCBjbGFzc05hbWUsIGZpeGVkKSB7XG4gICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgZXhwYW5kSWNvbkFzQ2VsbCA9IF9wcm9wczIuZXhwYW5kSWNvbkFzQ2VsbDtcblxuICAgIHZhciBjb2xDb3VudCA9IHZvaWQgMDtcbiAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuICAgICAgY29sQ291bnQgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCkubGVuZ3RoO1xuICAgIH0gZWxzZSBpZiAoZml4ZWQgPT09ICdyaWdodCcpIHtcbiAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0TGVhZkNvbHVtbnMoKS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbENvdW50ID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlYWZDb2x1bW5zKCkubGVuZ3RoO1xuICAgIH1cbiAgICB2YXIgY29sdW1ucyA9IFt7XG4gICAgICBrZXk6ICdleHRyYS1yb3cnLFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgIGNvbFNwYW46IGNvbENvdW50XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlbjogZml4ZWQgIT09ICdyaWdodCcgPyBjb250ZW50IDogJyZuYnNwOydcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XTtcbiAgICBpZiAoZXhwYW5kSWNvbkFzQ2VsbCAmJiBmaXhlZCAhPT0gJ3JpZ2h0Jykge1xuICAgICAgY29sdW1ucy51bnNoaWZ0KHtcbiAgICAgICAga2V5OiAnZXhwYW5kLWljb24tcGxhY2Vob2xkZXInLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAga2V5OiBrZXkgKyAnLWV4dHJhLXJvdycsXG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyArICctZXhwYW5kZWQtcm93JyxcbiAgICAgIGluZGVudDogMSxcbiAgICAgIGV4cGFuZGFibGU6IGZhbHNlLFxuICAgICAgc3RvcmU6IHRoaXMuc3RvcmVcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93c0J5RGF0YSA9IGZ1bmN0aW9uIGdldFJvd3NCeURhdGEoZGF0YSwgdmlzaWJsZSwgaW5kZW50LCBjb2x1bW5zLCBmaXhlZCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIGNoaWxkcmVuQ29sdW1uTmFtZSA9IHByb3BzLmNoaWxkcmVuQ29sdW1uTmFtZTtcbiAgICB2YXIgZXhwYW5kZWRSb3dSZW5kZXIgPSBwcm9wcy5leHBhbmRlZFJvd1JlbmRlcjtcbiAgICB2YXIgZXhwYW5kUm93QnlDbGljayA9IHByb3BzLmV4cGFuZFJvd0J5Q2xpY2s7XG4gICAgdmFyIGZpeGVkQ29sdW1uc0JvZHlSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNCb2R5Um93c0hlaWdodDtcblxuICAgIHZhciByc3QgPSBbXTtcbiAgICB2YXIgcm93Q2xhc3NOYW1lID0gcHJvcHMucm93Q2xhc3NOYW1lO1xuICAgIHZhciByb3dSZWYgPSBwcm9wcy5yb3dSZWY7XG4gICAgdmFyIGV4cGFuZGVkUm93Q2xhc3NOYW1lID0gcHJvcHMuZXhwYW5kZWRSb3dDbGFzc05hbWU7XG4gICAgdmFyIG5lZWRJbmRlbnRTcGFjZWQgPSBwcm9wcy5kYXRhLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgcmV0dXJuIHJlY29yZFtjaGlsZHJlbkNvbHVtbk5hbWVdO1xuICAgIH0pO1xuICAgIHZhciBvblJvd0NsaWNrID0gcHJvcHMub25Sb3dDbGljaztcbiAgICB2YXIgb25Sb3dEb3VibGVDbGljayA9IHByb3BzLm9uUm93RG91YmxlQ2xpY2s7XG5cbiAgICB2YXIgZXhwYW5kSWNvbkFzQ2VsbCA9IGZpeGVkICE9PSAncmlnaHQnID8gcHJvcHMuZXhwYW5kSWNvbkFzQ2VsbCA6IGZhbHNlO1xuICAgIHZhciBleHBhbmRJY29uQ29sdW1uSW5kZXggPSBmaXhlZCAhPT0gJ3JpZ2h0JyA/IHByb3BzLmV4cGFuZEljb25Db2x1bW5JbmRleCA6IC0xO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmVjb3JkID0gZGF0YVtpXTtcbiAgICAgIHZhciBrZXkgPSB0aGlzLmdldFJvd0tleShyZWNvcmQsIGkpO1xuICAgICAgdmFyIGNoaWxkcmVuQ29sdW1uID0gcmVjb3JkW2NoaWxkcmVuQ29sdW1uTmFtZV07XG4gICAgICB2YXIgaXNSb3dFeHBhbmRlZCA9IHRoaXMuaXNSb3dFeHBhbmRlZChyZWNvcmQsIGkpO1xuICAgICAgdmFyIGV4cGFuZGVkUm93Q29udGVudCA9IHZvaWQgMDtcbiAgICAgIGlmIChleHBhbmRlZFJvd1JlbmRlciAmJiBpc1Jvd0V4cGFuZGVkKSB7XG4gICAgICAgIGV4cGFuZGVkUm93Q29udGVudCA9IGV4cGFuZGVkUm93UmVuZGVyKHJlY29yZCwgaSwgaW5kZW50KTtcbiAgICAgIH1cbiAgICAgIHZhciBjbGFzc05hbWUgPSByb3dDbGFzc05hbWUocmVjb3JkLCBpLCBpbmRlbnQpO1xuXG4gICAgICB2YXIgb25Ib3ZlclByb3BzID0ge307XG4gICAgICBpZiAodGhpcy5jb2x1bW5NYW5hZ2VyLmlzQW55Q29sdW1uc0ZpeGVkKCkpIHtcbiAgICAgICAgb25Ib3ZlclByb3BzLm9uSG92ZXIgPSB0aGlzLmhhbmRsZVJvd0hvdmVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGVpZ2h0ID0gZml4ZWQgJiYgZml4ZWRDb2x1bW5zQm9keVJvd3NIZWlnaHRbaV0gPyBmaXhlZENvbHVtbnNCb2R5Um93c0hlaWdodFtpXSA6IG51bGw7XG5cbiAgICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcbiAgICAgIGlmIChmaXhlZCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIGxlYWZDb2x1bW5zID0gdGhpcy5jb2x1bW5NYW5hZ2VyLmxlZnRMZWFmQ29sdW1ucygpO1xuICAgICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5yaWdodExlYWZDb2x1bW5zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuICAgICAgfVxuXG4gICAgICByc3QucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UYWJsZVJvdzJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7XG4gICAgICAgIGluZGVudDogaW5kZW50LFxuICAgICAgICBpbmRlbnRTaXplOiBwcm9wcy5pbmRlbnRTaXplLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGw6IGV4cGFuZEljb25Bc0NlbGwsXG4gICAgICAgIG9uRGVzdHJveTogdGhpcy5vblJvd0Rlc3Ryb3ksXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICBleHBhbmRSb3dCeUNsaWNrOiBleHBhbmRSb3dCeUNsaWNrLFxuICAgICAgICBvbkV4cGFuZDogdGhpcy5vbkV4cGFuZGVkLFxuICAgICAgICBleHBhbmRhYmxlOiBjaGlsZHJlbkNvbHVtbiB8fCBleHBhbmRlZFJvd1JlbmRlcixcbiAgICAgICAgZXhwYW5kZWQ6IGlzUm93RXhwYW5kZWQsXG4gICAgICAgIHByZWZpeENsczogcHJvcHMucHJlZml4Q2xzICsgJy1yb3cnLFxuICAgICAgICBjaGlsZHJlbkNvbHVtbk5hbWU6IGNoaWxkcmVuQ29sdW1uTmFtZSxcbiAgICAgICAgY29sdW1uczogbGVhZkNvbHVtbnMsXG4gICAgICAgIGV4cGFuZEljb25Db2x1bW5JbmRleDogZXhwYW5kSWNvbkNvbHVtbkluZGV4LFxuICAgICAgICBvblJvd0NsaWNrOiBvblJvd0NsaWNrLFxuICAgICAgICBvblJvd0RvdWJsZUNsaWNrOiBvblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfSwgb25Ib3ZlclByb3BzLCB7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBob3ZlcktleToga2V5LFxuICAgICAgICByZWY6IHJvd1JlZihyZWNvcmQsIGksIGluZGVudCksXG4gICAgICAgIHN0b3JlOiB0aGlzLnN0b3JlXG4gICAgICB9KSkpO1xuXG4gICAgICB2YXIgc3ViVmlzaWJsZSA9IHZpc2libGUgJiYgaXNSb3dFeHBhbmRlZDtcblxuICAgICAgaWYgKGV4cGFuZGVkUm93Q29udGVudCAmJiBpc1Jvd0V4cGFuZGVkKSB7XG4gICAgICAgIHJzdC5wdXNoKHRoaXMuZ2V0RXhwYW5kZWRSb3coa2V5LCBleHBhbmRlZFJvd0NvbnRlbnQsIHN1YlZpc2libGUsIGV4cGFuZGVkUm93Q2xhc3NOYW1lKHJlY29yZCwgaSwgaW5kZW50KSwgZml4ZWQpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGlsZHJlbkNvbHVtbikge1xuICAgICAgICByc3QgPSByc3QuY29uY2F0KHRoaXMuZ2V0Um93c0J5RGF0YShjaGlsZHJlbkNvbHVtbiwgc3ViVmlzaWJsZSwgaW5kZW50ICsgMSwgY29sdW1ucywgZml4ZWQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJzdDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0Um93cyA9IGZ1bmN0aW9uIGdldFJvd3MoY29sdW1ucywgZml4ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSb3dzQnlEYXRhKHRoaXMucHJvcHMuZGF0YSwgdHJ1ZSwgMCwgY29sdW1ucywgZml4ZWQpO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRDb2xHcm91cCA9IGZ1bmN0aW9uIGdldENvbEdyb3VwKGNvbHVtbnMsIGZpeGVkKSB7XG4gICAgdmFyIGNvbHMgPSBbXTtcbiAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRJY29uQXNDZWxsICYmIGZpeGVkICE9PSAncmlnaHQnKSB7XG4gICAgICBjb2xzLnB1c2goX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywge1xuICAgICAgICBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1leHBhbmQtaWNvbi1jb2wnLFxuICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jb2wnXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHZhciBsZWFmQ29sdW1ucyA9IHZvaWQgMDtcbiAgICBpZiAoZml4ZWQgPT09ICdsZWZ0Jykge1xuICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIubGVmdExlYWZDb2x1bW5zKCk7XG4gICAgfSBlbHNlIGlmIChmaXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgbGVhZkNvbHVtbnMgPSB0aGlzLmNvbHVtbk1hbmFnZXIucmlnaHRMZWFmQ29sdW1ucygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWFmQ29sdW1ucyA9IHRoaXMuY29sdW1uTWFuYWdlci5sZWFmQ29sdW1ucygpO1xuICAgIH1cbiAgICBjb2xzID0gY29scy5jb25jYXQobGVhZkNvbHVtbnMubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnY29sJywgeyBrZXk6IGMua2V5LCBzdHlsZTogeyB3aWR0aDogYy53aWR0aCwgbWluV2lkdGg6IGMud2lkdGggfSB9KTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnY29sZ3JvdXAnLFxuICAgICAgbnVsbCxcbiAgICAgIGNvbHNcbiAgICApO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRMZWZ0Rml4ZWRUYWJsZSA9IGZ1bmN0aW9uIGdldExlZnRGaXhlZFRhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRhYmxlKHtcbiAgICAgIGNvbHVtbnM6IHRoaXMuY29sdW1uTWFuYWdlci5sZWZ0Q29sdW1ucygpLFxuICAgICAgZml4ZWQ6ICdsZWZ0J1xuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRSaWdodEZpeGVkVGFibGUgPSBmdW5jdGlvbiBnZXRSaWdodEZpeGVkVGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoe1xuICAgICAgY29sdW1uczogdGhpcy5jb2x1bW5NYW5hZ2VyLnJpZ2h0Q29sdW1ucygpLFxuICAgICAgZml4ZWQ6ICdyaWdodCdcbiAgICB9KTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0VGFibGUgPSBmdW5jdGlvbiBnZXRUYWJsZSgpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucyxcbiAgICAgICAgZml4ZWQgPSBvcHRpb25zLmZpeGVkO1xuICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzMy5wcmVmaXhDbHMsXG4gICAgICAgIF9wcm9wczMkc2Nyb2xsID0gX3Byb3BzMy5zY3JvbGwsXG4gICAgICAgIHNjcm9sbCA9IF9wcm9wczMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wczMkc2Nyb2xsLFxuICAgICAgICBnZXRCb2R5V3JhcHBlciA9IF9wcm9wczMuZ2V0Qm9keVdyYXBwZXI7XG4gICAgdmFyIHVzZUZpeGVkSGVhZGVyID0gdGhpcy5wcm9wcy51c2VGaXhlZEhlYWRlcjtcblxuICAgIHZhciBib2R5U3R5bGUgPSBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcy5ib2R5U3R5bGUpO1xuICAgIHZhciBoZWFkU3R5bGUgPSB7fTtcblxuICAgIHZhciB0YWJsZUNsYXNzTmFtZSA9ICcnO1xuICAgIGlmIChzY3JvbGwueCB8fCBmaXhlZCkge1xuICAgICAgdGFibGVDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLWZpeGVkJztcbiAgICAgIGJvZHlTdHlsZS5vdmVyZmxvd1ggPSBib2R5U3R5bGUub3ZlcmZsb3dYIHx8ICdhdXRvJztcbiAgICB9XG5cbiAgICB2YXIgaW5uZXJCb2R5U3R5bGUgPSB7fTtcbiAgICBpZiAoc2Nyb2xsLnkpIHtcbiAgICAgIC8vIG1heEhlaWdodCB3aWxsIG1ha2UgZml4ZWQtVGFibGUgc2Nyb2xsaW5nIG5vdCB3b3JraW5nXG4gICAgICAvLyBzbyB3ZSBvbmx5IHNldCBtYXhIZWlnaHQgdG8gYm9keS1UYWJsZSBoZXJlXG4gICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgaW5uZXJCb2R5U3R5bGUubWF4SGVpZ2h0ID0gYm9keVN0eWxlLm1heEhlaWdodCB8fCBzY3JvbGwueTtcbiAgICAgICAgaW5uZXJCb2R5U3R5bGUub3ZlcmZsb3dZID0gYm9keVN0eWxlLm92ZXJmbG93WSB8fCAnc2Nyb2xsJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlTdHlsZS5tYXhIZWlnaHQgPSBib2R5U3R5bGUubWF4SGVpZ2h0IHx8IHNjcm9sbC55O1xuICAgICAgfVxuICAgICAgYm9keVN0eWxlLm92ZXJmbG93WSA9IGJvZHlTdHlsZS5vdmVyZmxvd1kgfHwgJ3Njcm9sbCc7XG4gICAgICB1c2VGaXhlZEhlYWRlciA9IHRydWU7XG5cbiAgICAgIC8vIEFkZCBuZWdhdGl2ZSBtYXJnaW4gYm90dG9tIGZvciBzY3JvbGwgYmFyIG92ZXJmbG93IGJ1Z1xuICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gKDAsIF91dGlscy5tZWFzdXJlU2Nyb2xsYmFyKSgpO1xuICAgICAgaWYgKHNjcm9sbGJhcldpZHRoID4gMCkge1xuICAgICAgICAoZml4ZWQgPyBib2R5U3R5bGUgOiBoZWFkU3R5bGUpLm1hcmdpbkJvdHRvbSA9ICctJyArIHNjcm9sbGJhcldpZHRoICsgJ3B4JztcbiAgICAgICAgKGZpeGVkID8gYm9keVN0eWxlIDogaGVhZFN0eWxlKS5wYWRkaW5nQm90dG9tID0gJzBweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlclRhYmxlID0gZnVuY3Rpb24gcmVuZGVyVGFibGUoKSB7XG4gICAgICB2YXIgaGFzSGVhZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgIHZhciBoYXNCb2R5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gICAgICB2YXIgdGFibGVTdHlsZSA9IHt9O1xuICAgICAgaWYgKCFmaXhlZCAmJiBzY3JvbGwueCkge1xuICAgICAgICAvLyBub3Qgc2V0IHdpZHRoLCB0aGVuIHVzZSBjb250ZW50IGZpeGVkIHdpZHRoXG4gICAgICAgIGlmIChzY3JvbGwueCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRhYmxlU3R5bGUudGFibGVMYXlvdXQgPSAnZml4ZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhYmxlU3R5bGUud2lkdGggPSBzY3JvbGwueDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHRhYmxlQm9keSA9IGhhc0JvZHkgPyBnZXRCb2R5V3JhcHBlcihfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndGJvZHknLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcbiAgICAgICAgX3RoaXMzLmdldFJvd3MoY29sdW1ucywgZml4ZWQpXG4gICAgICApKSA6IG51bGw7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHRhYmxlQ2xhc3NOYW1lLCBzdHlsZTogdGFibGVTdHlsZSwga2V5OiAndGFibGUnIH0sXG4gICAgICAgIF90aGlzMy5nZXRDb2xHcm91cChjb2x1bW5zLCBmaXhlZCksXG4gICAgICAgIGhhc0hlYWQgPyBfdGhpczMuZ2V0SGVhZGVyKGNvbHVtbnMsIGZpeGVkKSA6IG51bGwsXG4gICAgICAgIHRhYmxlQm9keVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGhlYWRUYWJsZSA9IHZvaWQgMDtcblxuICAgIGlmICh1c2VGaXhlZEhlYWRlcikge1xuICAgICAgaGVhZFRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6ICdoZWFkVGFibGUnLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInLFxuICAgICAgICAgIHJlZjogZml4ZWQgPyBudWxsIDogJ2hlYWRUYWJsZScsXG4gICAgICAgICAgc3R5bGU6IGhlYWRTdHlsZSxcbiAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgICBvblNjcm9sbDogdGhpcy5oYW5kbGVCb2R5U2Nyb2xsXG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlclRhYmxlKHRydWUsIGZhbHNlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAge1xuICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScsXG4gICAgICAgIHN0eWxlOiBib2R5U3R5bGUsXG4gICAgICAgIHJlZjogJ2JvZHlUYWJsZScsXG4gICAgICAgIG9uTW91c2VPdmVyOiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgb25Ub3VjaFN0YXJ0OiB0aGlzLmRldGVjdFNjcm9sbFRhcmdldCxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuICAgICAgfSxcbiAgICAgIHJlbmRlclRhYmxlKCF1c2VGaXhlZEhlYWRlcilcbiAgICApO1xuXG4gICAgaWYgKGZpeGVkICYmIGNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICB2YXIgcmVmTmFtZSA9IHZvaWQgMDtcbiAgICAgIGlmIChjb2x1bW5zWzBdLmZpeGVkID09PSAnbGVmdCcgfHwgY29sdW1uc1swXS5maXhlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlMZWZ0JztcbiAgICAgIH0gZWxzZSBpZiAoY29sdW1uc1swXS5maXhlZCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICByZWZOYW1lID0gJ2ZpeGVkQ29sdW1uc0JvZHlSaWdodCc7XG4gICAgICB9XG4gICAgICBkZWxldGUgYm9keVN0eWxlLm92ZXJmbG93WDtcbiAgICAgIGRlbGV0ZSBib2R5U3R5bGUub3ZlcmZsb3dZO1xuICAgICAgYm9keVRhYmxlID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBrZXk6ICdib2R5VGFibGUnLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1ib2R5LW91dGVyJyxcbiAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIGJvZHlTdHlsZSlcbiAgICAgICAgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keS1pbm5lcicsXG4gICAgICAgICAgICBzdHlsZTogaW5uZXJCb2R5U3R5bGUsXG4gICAgICAgICAgICByZWY6IHJlZk5hbWUsXG4gICAgICAgICAgICBvbk1vdXNlT3ZlcjogdGhpcy5kZXRlY3RTY3JvbGxUYXJnZXQsXG4gICAgICAgICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuZGV0ZWN0U2Nyb2xsVGFyZ2V0LFxuICAgICAgICAgICAgb25TY3JvbGw6IHRoaXMuaGFuZGxlQm9keVNjcm9sbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVuZGVyVGFibGUoIXVzZUZpeGVkSGVhZGVyKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW2hlYWRUYWJsZSwgYm9keVRhYmxlXTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiBnZXRUaXRsZSgpIHtcbiAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgIHRpdGxlID0gX3Byb3BzNC50aXRsZSxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHM7XG5cbiAgICByZXR1cm4gdGl0bGUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aXRsZScsIGtleTogJ3RpdGxlJyB9LFxuICAgICAgdGl0bGUodGhpcy5wcm9wcy5kYXRhKVxuICAgICkgOiBudWxsO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5nZXRGb290ZXIgPSBmdW5jdGlvbiBnZXRGb290ZXIoKSB7XG4gICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICBmb290ZXIgPSBfcHJvcHM1LmZvb3RlcixcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNS5wcmVmaXhDbHM7XG5cbiAgICByZXR1cm4gZm9vdGVyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZm9vdGVyJywga2V5OiAnZm9vdGVyJyB9LFxuICAgICAgZm9vdGVyKHRoaXMucHJvcHMuZGF0YSlcbiAgICApIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0RW1wdHlUZXh0ID0gZnVuY3Rpb24gZ2V0RW1wdHlUZXh0KCkge1xuICAgIHZhciBfcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZW1wdHlUZXh0ID0gX3Byb3BzNi5lbXB0eVRleHQsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczYucHJlZml4Q2xzLFxuICAgICAgICBkYXRhID0gX3Byb3BzNi5kYXRhO1xuXG4gICAgcmV0dXJuICFkYXRhLmxlbmd0aCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBsYWNlaG9sZGVyJywga2V5OiAnZW1wdHlUZXh0JyB9LFxuICAgICAgZW1wdHlUZXh0KClcbiAgICApIDogbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuZ2V0SGVhZGVyUm93U3R5bGUgPSBmdW5jdGlvbiBnZXRIZWFkZXJSb3dTdHlsZShjb2x1bW5zLCByb3dzKSB7XG4gICAgdmFyIGZpeGVkQ29sdW1uc0hlYWRSb3dzSGVpZ2h0ID0gdGhpcy5zdGF0ZS5maXhlZENvbHVtbnNIZWFkUm93c0hlaWdodDtcblxuICAgIHZhciBoZWFkZXJIZWlnaHQgPSBmaXhlZENvbHVtbnNIZWFkUm93c0hlaWdodFswXTtcbiAgICBpZiAoaGVhZGVySGVpZ2h0ICYmIGNvbHVtbnMpIHtcbiAgICAgIGlmIChoZWFkZXJIZWlnaHQgPT09ICdhdXRvJykge1xuICAgICAgICByZXR1cm4geyBoZWlnaHQ6ICdhdXRvJyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgaGVpZ2h0OiBoZWFkZXJIZWlnaHQgLyByb3dzLmxlbmd0aCB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb24gPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICBpZiAodGhpcy50YWJsZU5vZGUpIHtcbiAgICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblxuICAgICAgaWYgKHBvc2l0aW9uID09PSAnYm90aCcpIHtcbiAgICAgICAgKDAsIF9jb21wb25lbnRDbGFzc2VzMltcImRlZmF1bHRcIl0pKHRoaXMudGFibGVOb2RlKS5yZW1vdmUobmV3IFJlZ0V4cCgnXicgKyBwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0uKyQnKSkuYWRkKHByZWZpeENscyArICctc2Nyb2xsLXBvc2l0aW9uLWxlZnQnKS5hZGQocHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfY29tcG9uZW50Q2xhc3NlczJbXCJkZWZhdWx0XCJdKSh0aGlzLnRhYmxlTm9kZSkucmVtb3ZlKG5ldyBSZWdFeHAoJ14nICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tLiskJykpLmFkZChwcmVmaXhDbHMgKyAnLXNjcm9sbC1wb3NpdGlvbi0nICsgcG9zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuc2V0U2Nyb2xsUG9zaXRpb25DbGFzc05hbWUgPSBmdW5jdGlvbiBzZXRTY3JvbGxQb3NpdGlvbkNsYXNzTmFtZSh0YXJnZXQpIHtcbiAgICB2YXIgbm9kZSA9IHRhcmdldCB8fCB0aGlzLnJlZnMuYm9keVRhYmxlO1xuICAgIHZhciBzY3JvbGxUb0xlZnQgPSBub2RlLnNjcm9sbExlZnQgPT09IDA7XG4gICAgdmFyIHNjcm9sbFRvUmlnaHQgPSBub2RlLnNjcm9sbExlZnQgKyAxID49IG5vZGUuY2hpbGRyZW5bMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgIGlmIChzY3JvbGxUb0xlZnQgJiYgc2Nyb2xsVG9SaWdodCkge1xuICAgICAgdGhpcy5zZXRTY3JvbGxQb3NpdGlvbignYm90aCcpO1xuICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9MZWZ0KSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdsZWZ0Jyk7XG4gICAgfSBlbHNlIGlmIChzY3JvbGxUb1JpZ2h0KSB7XG4gICAgICB0aGlzLnNldFNjcm9sbFBvc2l0aW9uKCdyaWdodCcpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiAhPT0gJ21pZGRsZScpIHtcbiAgICAgIHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24oJ21pZGRsZScpO1xuICAgIH1cbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUucmVzZXRTY3JvbGxYID0gZnVuY3Rpb24gcmVzZXRTY3JvbGxYKCkge1xuICAgIGlmICh0aGlzLnJlZnMuaGVhZFRhYmxlKSB7XG4gICAgICB0aGlzLnJlZnMuaGVhZFRhYmxlLnNjcm9sbExlZnQgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWZzLmJvZHlUYWJsZSkge1xuICAgICAgdGhpcy5yZWZzLmJvZHlUYWJsZS5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9XG4gIH07XG5cbiAgVGFibGUucHJvdG90eXBlLmZpbmRFeHBhbmRlZFJvdyA9IGZ1bmN0aW9uIGZpbmRFeHBhbmRlZFJvdyhyZWNvcmQsIGluZGV4KSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICB2YXIgcm93cyA9IHRoaXMuZ2V0RXhwYW5kZWRSb3dzKCkuZmlsdGVyKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gaSA9PT0gX3RoaXM0LmdldFJvd0tleShyZWNvcmQsIGluZGV4KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcm93c1swXTtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUuaXNSb3dFeHBhbmRlZCA9IGZ1bmN0aW9uIGlzUm93RXhwYW5kZWQocmVjb3JkLCBpbmRleCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5maW5kRXhwYW5kZWRSb3cocmVjb3JkLCBpbmRleCkgIT09ICd1bmRlZmluZWQnO1xuICB9O1xuXG4gIFRhYmxlLnByb3RvdHlwZS5oYXNTY3JvbGxYID0gZnVuY3Rpb24gaGFzU2Nyb2xsWCgpIHtcbiAgICB2YXIgX3Byb3BzJHNjcm9sbCA9IHRoaXMucHJvcHMuc2Nyb2xsLFxuICAgICAgICBzY3JvbGwgPSBfcHJvcHMkc2Nyb2xsID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRzY3JvbGw7XG5cbiAgICByZXR1cm4gJ3gnIGluIHNjcm9sbDtcbiAgfTtcblxuICBUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLnByZWZpeENscztcbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJvcHMuY2xhc3NOYW1lO1xuICAgIH1cbiAgICBpZiAocHJvcHMudXNlRml4ZWRIZWFkZXIgfHwgcHJvcHMuc2Nyb2xsICYmIHByb3BzLnNjcm9sbC55KSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1maXhlZC1oZWFkZXInO1xuICAgIH1cbiAgICBpZiAodGhpcy5zY3JvbGxQb3NpdGlvbiA9PT0gJ2JvdGgnKSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tbGVmdCAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tcmlnaHQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgKz0gJyAnICsgcHJlZml4Q2xzICsgJy1zY3JvbGwtcG9zaXRpb24tJyArIHRoaXMuc2Nyb2xsUG9zaXRpb247XG4gICAgfVxuXG4gICAgdmFyIGlzVGFibGVTY3JvbGwgPSB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zRml4ZWQoKSB8fCBwcm9wcy5zY3JvbGwueCB8fCBwcm9wcy5zY3JvbGwueTtcblxuICAgIHZhciBjb250ZW50ID0gW3RoaXMuZ2V0VGFibGUoeyBjb2x1bW5zOiB0aGlzLmNvbHVtbk1hbmFnZXIuZ3JvdXBlZENvbHVtbnMoKSB9KSwgdGhpcy5nZXRFbXB0eVRleHQoKSwgdGhpcy5nZXRGb290ZXIoKV07XG5cbiAgICB2YXIgc2Nyb2xsVGFibGUgPSBpc1RhYmxlU2Nyb2xsID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctc2Nyb2xsJyB9LFxuICAgICAgY29udGVudFxuICAgICkgOiBjb250ZW50O1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczUudGFibGVOb2RlID0gbm9kZTtcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiBwcm9wcy5zdHlsZSB9LFxuICAgICAgdGhpcy5nZXRUaXRsZSgpLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQnIH0sXG4gICAgICAgIHNjcm9sbFRhYmxlLFxuICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zTGVmdEZpeGVkKCkgJiYgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1maXhlZC1sZWZ0JyB9LFxuICAgICAgICAgIHRoaXMuZ2V0TGVmdEZpeGVkVGFibGUoKVxuICAgICAgICApLFxuICAgICAgICB0aGlzLmNvbHVtbk1hbmFnZXIuaXNBbnlDb2x1bW5zUmlnaHRGaXhlZCgpICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZml4ZWQtcmlnaHQnIH0sXG4gICAgICAgICAgdGhpcy5nZXRSaWdodEZpeGVkVGFibGUoKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gVGFibGU7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlLnByb3BUeXBlcyA9IHtcbiAgZGF0YTogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgZXhwYW5kSWNvbkFzQ2VsbDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBkZWZhdWx0RXhwYW5kQWxsUm93czogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICBleHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIHVzZUZpeGVkSGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGNvbHVtbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGJvZHlTdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93S2V5OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMuZnVuY10pLFxuICByb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgZXhwYW5kZWRSb3dDbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW5Db2x1bW5OYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgb25FeHBhbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25FeHBhbmRlZFJvd3NDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG9uUm93Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dEb3VibGVDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBleHBhbmRJY29uQ29sdW1uSW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBzaG93SGVhZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHRpdGxlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGZvb3RlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBlbXB0eVRleHQ6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgc2Nyb2xsOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93UmVmOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGdldEJvZHlXcmFwcGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIGNoaWxkcmVuOiBfcmVhY3QuUHJvcFR5cGVzLm5vZGVcbn07XG5UYWJsZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGRhdGE6IFtdLFxuICB1c2VGaXhlZEhlYWRlcjogZmFsc2UsXG4gIGV4cGFuZEljb25Bc0NlbGw6IGZhbHNlLFxuICBkZWZhdWx0RXhwYW5kQWxsUm93czogZmFsc2UsXG4gIGRlZmF1bHRFeHBhbmRlZFJvd0tleXM6IFtdLFxuICByb3dLZXk6ICdrZXknLFxuICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0sXG4gIGV4cGFuZGVkUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiBleHBhbmRlZFJvd0NsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0sXG4gIG9uRXhwYW5kOiBmdW5jdGlvbiBvbkV4cGFuZCgpIHt9LFxuICBvbkV4cGFuZGVkUm93c0NoYW5nZTogZnVuY3Rpb24gb25FeHBhbmRlZFJvd3NDaGFuZ2UoKSB7fSxcbiAgb25Sb3dDbGljazogZnVuY3Rpb24gb25Sb3dDbGljaygpIHt9LFxuICBvblJvd0RvdWJsZUNsaWNrOiBmdW5jdGlvbiBvblJvd0RvdWJsZUNsaWNrKCkge30sXG5cbiAgcHJlZml4Q2xzOiAncmMtdGFibGUnLFxuICBib2R5U3R5bGU6IHt9LFxuICBzdHlsZToge30sXG4gIGNoaWxkcmVuQ29sdW1uTmFtZTogJ2NoaWxkcmVuJyxcbiAgaW5kZW50U2l6ZTogMTUsXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcbiAgc2hvd0hlYWRlcjogdHJ1ZSxcbiAgc2Nyb2xsOiB7fSxcbiAgcm93UmVmOiBmdW5jdGlvbiByb3dSZWYoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGdldEJvZHlXcmFwcGVyOiBmdW5jdGlvbiBnZXRCb2R5V3JhcHBlcihib2R5KSB7XG4gICAgcmV0dXJuIGJvZHk7XG4gIH0sXG4gIGVtcHR5VGV4dDogZnVuY3Rpb24gZW1wdHlUZXh0KCkge1xuICAgIHJldHVybiAnTm8gRGF0YSc7XG4gIH1cbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFRhYmxlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xuXG52YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZUNlbGwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVGFibGVDZWxsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJsZUNlbGwoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUNlbGwpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcbiAgICAgICAgICBvbkNlbGxDbGljayA9IF90aGlzJHByb3BzLmNvbHVtbi5vbkNlbGxDbGljaztcblxuICAgICAgaWYgKG9uQ2VsbENsaWNrKSB7XG4gICAgICAgIG9uQ2VsbENsaWNrKHJlY29yZCwgZSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBUYWJsZUNlbGwucHJvdG90eXBlLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0ID0gZnVuY3Rpb24gaXNJbnZhbGlkUmVuZGVyQ2VsbFRleHQodGV4dCkge1xuICAgIHJldHVybiB0ZXh0ICYmICFfcmVhY3QyW1wiZGVmYXVsdFwiXS5pc1ZhbGlkRWxlbWVudCh0ZXh0KSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9O1xuXG4gIFRhYmxlQ2VsbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMucmVjb3JkLFxuICAgICAgICBpbmRlbnRTaXplID0gX3Byb3BzLmluZGVudFNpemUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGluZGVudCA9IF9wcm9wcy5pbmRlbnQsXG4gICAgICAgIGluZGV4ID0gX3Byb3BzLmluZGV4LFxuICAgICAgICBleHBhbmRJY29uID0gX3Byb3BzLmV4cGFuZEljb24sXG4gICAgICAgIGNvbHVtbiA9IF9wcm9wcy5jb2x1bW47XG4gICAgdmFyIGRhdGFJbmRleCA9IGNvbHVtbi5kYXRhSW5kZXgsXG4gICAgICAgIHJlbmRlciA9IGNvbHVtbi5yZW5kZXIsXG4gICAgICAgIF9jb2x1bW4kY2xhc3NOYW1lID0gY29sdW1uLmNsYXNzTmFtZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX2NvbHVtbiRjbGFzc05hbWUgPT09IHVuZGVmaW5lZCA/ICcnIDogX2NvbHVtbiRjbGFzc05hbWU7XG5cbiAgICAvLyBXZSBzaG91bGQgcmV0dXJuIHVuZGVmaW5lZCBpZiBubyBkYXRhSW5kZXggaXMgc3BlY2lmaWVkLCBidXQgaW4gb3JkZXIgdG9cbiAgICAvLyBiZSBjb21wYXRpYmxlIHdpdGggb2JqZWN0LXBhdGgncyBiZWhhdmlvciwgd2UgcmV0dXJuIHRoZSByZWNvcmQgb2JqZWN0IGluc3RlYWQuXG5cbiAgICB2YXIgdGV4dCA9IHZvaWQgMDtcbiAgICBpZiAodHlwZW9mIGRhdGFJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG4gICAgfSBlbHNlIGlmICghZGF0YUluZGV4IHx8IGRhdGFJbmRleC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRleHQgPSByZWNvcmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRleHQgPSAoMCwgX2xvZGFzaDJbXCJkZWZhdWx0XCJdKShyZWNvcmQsIGRhdGFJbmRleCk7XG4gICAgfVxuICAgIHZhciB0ZFByb3BzID0gdm9pZCAwO1xuICAgIHZhciBjb2xTcGFuID0gdm9pZCAwO1xuICAgIHZhciByb3dTcGFuID0gdm9pZCAwO1xuXG4gICAgaWYgKHJlbmRlcikge1xuICAgICAgdGV4dCA9IHJlbmRlcih0ZXh0LCByZWNvcmQsIGluZGV4KTtcbiAgICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG4gICAgICAgIHRkUHJvcHMgPSB0ZXh0LnByb3BzIHx8IHt9O1xuICAgICAgICByb3dTcGFuID0gdGRQcm9wcy5yb3dTcGFuO1xuICAgICAgICBjb2xTcGFuID0gdGRQcm9wcy5jb2xTcGFuO1xuICAgICAgICB0ZXh0ID0gdGV4dC5jaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTIwMlxuICAgIGlmICh0aGlzLmlzSW52YWxpZFJlbmRlckNlbGxUZXh0KHRleHQpKSB7XG4gICAgICB0ZXh0ID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZW50VGV4dCA9IGV4cGFuZEljb24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdzcGFuJywge1xuICAgICAgc3R5bGU6IHsgcGFkZGluZ0xlZnQ6IGluZGVudFNpemUgKiBpbmRlbnQgKyAncHgnIH0sXG4gICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctaW5kZW50IGluZGVudC1sZXZlbC0nICsgaW5kZW50XG4gICAgfSkgOiBudWxsO1xuXG4gICAgaWYgKHJvd1NwYW4gPT09IDAgfHwgY29sU3BhbiA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RkJyxcbiAgICAgIHtcbiAgICAgICAgY29sU3BhbjogY29sU3BhbixcbiAgICAgICAgcm93U3Bhbjogcm93U3BhbixcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xpY2tcbiAgICAgIH0sXG4gICAgICBpbmRlbnRUZXh0LFxuICAgICAgZXhwYW5kSWNvbixcbiAgICAgIHRleHRcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZUNlbGw7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cblRhYmxlQ2VsbC5wcm9wVHlwZXMgPSB7XG4gIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaW5kZW50OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgaW5kZW50U2l6ZTogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGNvbHVtbjogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIGV4cGFuZEljb246IF9yZWFjdC5Qcm9wVHlwZXMubm9kZVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVDZWxsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL1RhYmxlQ2VsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwIDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3NoYWxsb3dlcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xuXG52YXIgX3NoYWxsb3dlcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zaGFsbG93ZXF1YWwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZUhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZUhlYWRlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGVIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlSGVhZGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgVGFibGVIZWFkZXIucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMpIHtcbiAgICByZXR1cm4gISgwLCBfc2hhbGxvd2VxdWFsMltcImRlZmF1bHRcIl0pKG5leHRQcm9wcywgdGhpcy5wcm9wcyk7XG4gIH07XG5cbiAgVGFibGVIZWFkZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgcm93U3R5bGUgPSBfcHJvcHMucm93U3R5bGUsXG4gICAgICAgIHJvd3MgPSBfcHJvcHMucm93cztcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RoZWFkJyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRoZWFkJyB9LFxuICAgICAgcm93cy5tYXAoZnVuY3Rpb24gKHJvdywgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RyJyxcbiAgICAgICAgICB7IGtleTogaW5kZXgsIHN0eWxlOiByb3dTdHlsZSB9LFxuICAgICAgICAgIHJvdy5tYXAoZnVuY3Rpb24gKGNlbGxQcm9wcywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ3RoJywgX2V4dGVuZHMoe30sIGNlbGxQcm9wcywgeyBrZXk6IGkgfSkpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFRhYmxlSGVhZGVyO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5UYWJsZUhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIHJvd1N0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgcm93czogX3JlYWN0LlByb3BUeXBlcy5hcnJheVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVIZWFkZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGVIZWFkZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9UYWJsZUNlbGwgPSByZXF1aXJlKCcuL1RhYmxlQ2VsbCcpO1xuXG52YXIgX1RhYmxlQ2VsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UYWJsZUNlbGwpO1xuXG52YXIgX0V4cGFuZEljb24gPSByZXF1aXJlKCcuL0V4cGFuZEljb24nKTtcblxudmFyIF9FeHBhbmRJY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V4cGFuZEljb24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbnZhciBUYWJsZVJvdyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJsZVJvdywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGVSb3coKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZVJvdyk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBob3ZlcmVkOiBmYWxzZVxuICAgIH0sIF90aGlzLm9uUm93Q2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIHJlY29yZCA9IF90aGlzJHByb3BzLnJlY29yZCxcbiAgICAgICAgICBpbmRleCA9IF90aGlzJHByb3BzLmluZGV4LFxuICAgICAgICAgIG9uUm93Q2xpY2sgPSBfdGhpcyRwcm9wcy5vblJvd0NsaWNrLFxuICAgICAgICAgIGV4cGFuZGFibGUgPSBfdGhpcyRwcm9wcy5leHBhbmRhYmxlLFxuICAgICAgICAgIGV4cGFuZFJvd0J5Q2xpY2sgPSBfdGhpcyRwcm9wcy5leHBhbmRSb3dCeUNsaWNrLFxuICAgICAgICAgIGV4cGFuZGVkID0gX3RoaXMkcHJvcHMuZXhwYW5kZWQsXG4gICAgICAgICAgb25FeHBhbmQgPSBfdGhpcyRwcm9wcy5vbkV4cGFuZDtcblxuICAgICAgaWYgKGV4cGFuZGFibGUgJiYgZXhwYW5kUm93QnlDbGljaykge1xuICAgICAgICBvbkV4cGFuZCghZXhwYW5kZWQsIHJlY29yZCwgZXZlbnQsIGluZGV4KTtcbiAgICAgIH1cbiAgICAgIG9uUm93Q2xpY2socmVjb3JkLCBpbmRleCwgZXZlbnQpO1xuICAgIH0sIF90aGlzLm9uUm93RG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICByZWNvcmQgPSBfdGhpcyRwcm9wczIucmVjb3JkLFxuICAgICAgICAgIGluZGV4ID0gX3RoaXMkcHJvcHMyLmluZGV4LFxuICAgICAgICAgIG9uUm93RG91YmxlQ2xpY2sgPSBfdGhpcyRwcm9wczIub25Sb3dEb3VibGVDbGljaztcblxuICAgICAgb25Sb3dEb3VibGVDbGljayhyZWNvcmQsIGluZGV4LCBldmVudCk7XG4gICAgfSwgX3RoaXMub25Nb3VzZUVudGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczMub25Ib3ZlcixcbiAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzMy5ob3ZlcktleTtcblxuICAgICAgb25Ib3Zlcih0cnVlLCBob3ZlcktleSk7XG4gICAgfSwgX3RoaXMub25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIG9uSG92ZXIgPSBfdGhpcyRwcm9wczQub25Ib3ZlcixcbiAgICAgICAgICBob3ZlcktleSA9IF90aGlzJHByb3BzNC5ob3ZlcktleTtcblxuICAgICAgb25Ib3ZlcihmYWxzZSwgaG92ZXJLZXkpO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgVGFibGVSb3cucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgc3RvcmUgPSBfcHJvcHMuc3RvcmUsXG4gICAgICAgIGhvdmVyS2V5ID0gX3Byb3BzLmhvdmVyS2V5O1xuXG4gICAgdGhpcy51bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5jdXJyZW50SG92ZXJLZXkgPT09IGhvdmVyS2V5KSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IHRydWUgfSk7XG4gICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZS5ob3ZlcmVkID09PSB0cnVlKSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGhvdmVyZWQ6IGZhbHNlIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFRhYmxlUm93LnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcmVjb3JkID0gX3Byb3BzMi5yZWNvcmQsXG4gICAgICAgIG9uRGVzdHJveSA9IF9wcm9wczIub25EZXN0cm95LFxuICAgICAgICBpbmRleCA9IF9wcm9wczIuaW5kZXg7XG5cbiAgICBvbkRlc3Ryb3kocmVjb3JkLCBpbmRleCk7XG4gICAgaWYgKHRoaXMudW5zdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH07XG5cbiAgVGFibGVSb3cucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuICAgICAgICBjb2x1bW5zID0gX3Byb3BzMy5jb2x1bW5zLFxuICAgICAgICByZWNvcmQgPSBfcHJvcHMzLnJlY29yZCxcbiAgICAgICAgaGVpZ2h0ID0gX3Byb3BzMy5oZWlnaHQsXG4gICAgICAgIHZpc2libGUgPSBfcHJvcHMzLnZpc2libGUsXG4gICAgICAgIGluZGV4ID0gX3Byb3BzMy5pbmRleCxcbiAgICAgICAgZXhwYW5kSWNvbkNvbHVtbkluZGV4ID0gX3Byb3BzMy5leHBhbmRJY29uQ29sdW1uSW5kZXgsXG4gICAgICAgIGV4cGFuZEljb25Bc0NlbGwgPSBfcHJvcHMzLmV4cGFuZEljb25Bc0NlbGwsXG4gICAgICAgIGV4cGFuZGVkID0gX3Byb3BzMy5leHBhbmRlZCxcbiAgICAgICAgZXhwYW5kUm93QnlDbGljayA9IF9wcm9wczMuZXhwYW5kUm93QnlDbGljayxcbiAgICAgICAgZXhwYW5kYWJsZSA9IF9wcm9wczMuZXhwYW5kYWJsZSxcbiAgICAgICAgb25FeHBhbmQgPSBfcHJvcHMzLm9uRXhwYW5kLFxuICAgICAgICBuZWVkSW5kZW50U3BhY2VkID0gX3Byb3BzMy5uZWVkSW5kZW50U3BhY2VkLFxuICAgICAgICBpbmRlbnQgPSBfcHJvcHMzLmluZGVudCxcbiAgICAgICAgaW5kZW50U2l6ZSA9IF9wcm9wczMuaW5kZW50U2l6ZTtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5jbGFzc05hbWU7XG5cblxuICAgIGlmICh0aGlzLnN0YXRlLmhvdmVyZWQpIHtcbiAgICAgIGNsYXNzTmFtZSArPSAnICcgKyBwcmVmaXhDbHMgKyAnLWhvdmVyJztcbiAgICB9XG5cbiAgICB2YXIgY2VsbHMgPSBbXTtcblxuICAgIHZhciBleHBhbmRJY29uID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRXhwYW5kSWNvbjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBleHBhbmRhYmxlOiBleHBhbmRhYmxlLFxuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBvbkV4cGFuZDogb25FeHBhbmQsXG4gICAgICBuZWVkSW5kZW50U3BhY2VkOiBuZWVkSW5kZW50U3BhY2VkLFxuICAgICAgZXhwYW5kZWQ6IGV4cGFuZGVkLFxuICAgICAgcmVjb3JkOiByZWNvcmRcbiAgICB9KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGV4cGFuZEljb25Bc0NlbGwgJiYgaSA9PT0gMCkge1xuICAgICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RkJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZXhwYW5kLWljb24tY2VsbCcsXG4gICAgICAgICAgICBrZXk6ICdyYy10YWJsZS1leHBhbmQtaWNvbi1jZWxsJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwYW5kSWNvblxuICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID0gZXhwYW5kSWNvbkFzQ2VsbCB8fCBleHBhbmRSb3dCeUNsaWNrID8gZmFsc2UgOiBpID09PSBleHBhbmRJY29uQ29sdW1uSW5kZXg7XG4gICAgICBjZWxscy5wdXNoKF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1RhYmxlQ2VsbDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgaW5kZW50U2l6ZTogaW5kZW50U2l6ZSxcbiAgICAgICAgaW5kZW50OiBpbmRlbnQsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY29sdW1uOiBjb2x1bW5zW2ldLFxuICAgICAgICBrZXk6IGNvbHVtbnNbaV0ua2V5LFxuICAgICAgICBleHBhbmRJY29uOiBpc0NvbHVtbkhhdmVFeHBhbmRJY29uID8gZXhwYW5kSWNvbiA6IG51bGxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdmFyIHN0eWxlID0geyBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0cicsXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3dDbGljayxcbiAgICAgICAgb25Eb3VibGVDbGljazogdGhpcy5vblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25Nb3VzZUVudGVyLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IHRoaXMub25Nb3VzZUxlYXZlLFxuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcgJyArIGNsYXNzTmFtZSArICcgJyArIHByZWZpeENscyArICctbGV2ZWwtJyArIGluZGVudCxcbiAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICB9LFxuICAgICAgY2VsbHNcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBUYWJsZVJvdztcbn0oX3JlYWN0MltcImRlZmF1bHRcIl0uQ29tcG9uZW50KTtcblxuVGFibGVSb3cucHJvcFR5cGVzID0ge1xuICBvbkRlc3Ryb3k6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dDbGljazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBvblJvd0RvdWJsZUNsaWNrOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gIHJlY29yZDogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIG9uSG92ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY29sdW1uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgaGVpZ2h0OiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyXSksXG4gIHZpc2libGU6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgaW5kZXg6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBob3ZlcktleTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIGV4cGFuZGVkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGV4cGFuZGFibGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBvbkV4cGFuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBuZWVkSW5kZW50U3BhY2VkOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gIGluZGVudDogX3JlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIGluZGVudFNpemU6IF9yZWFjdC5Qcm9wVHlwZXMubnVtYmVyLFxuICBleHBhbmRJY29uQXNDZWxsOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGV4cGFuZFJvd0J5Q2xpY2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgc3RvcmU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG5UYWJsZVJvdy5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uUm93Q2xpY2s6IGZ1bmN0aW9uIG9uUm93Q2xpY2soKSB7fSxcbiAgb25Sb3dEb3VibGVDbGljazogZnVuY3Rpb24gb25Sb3dEb3VibGVDbGljaygpIHt9LFxuICBvbkRlc3Ryb3k6IGZ1bmN0aW9uIG9uRGVzdHJveSgpIHt9LFxuXG4gIGV4cGFuZEljb25Db2x1bW5JbmRleDogMCxcbiAgZXhwYW5kUm93QnlDbGljazogZmFsc2UsXG4gIG9uSG92ZXI6IGZ1bmN0aW9uIG9uSG92ZXIoKSB7fVxufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gVGFibGVSb3c7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvVGFibGVSb3cuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjcmVhdGVTdG9yZTtcbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKGluaXRpYWxTdGF0ZSkge1xuICB2YXIgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShwYXJ0aWFsKSB7XG4gICAgc3RhdGUgPSBfZXh0ZW5kcyh7fSwgc3RhdGUsIHBhcnRpYWwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRTdGF0ZTogc2V0U3RhdGUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlXG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10YWJsZS9saWIvY3JlYXRlU3RvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLm1lYXN1cmVTY3JvbGxiYXIgPSBtZWFzdXJlU2Nyb2xsYmFyO1xuZXhwb3J0cy5kZWJvdW5jZSA9IGRlYm91bmNlO1xuZXhwb3J0cy53YXJuaW5nT25jZSA9IHdhcm5pbmdPbmNlO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBzY3JvbGxiYXJXaWR0aCA9IHZvaWQgMDtcblxuLy8gTWVhc3VyZSBzY3JvbGxiYXIgd2lkdGggZm9yIHBhZGRpbmcgYm9keSBkdXJpbmcgbW9kYWwgc2hvdy9oaWRlXG52YXIgc2Nyb2xsYmFyTWVhc3VyZSA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogJy05OTk5cHgnLFxuICB3aWR0aDogJzUwcHgnLFxuICBoZWlnaHQ6ICc1MHB4JyxcbiAgb3ZlcmZsb3c6ICdzY3JvbGwnXG59O1xuXG5mdW5jdGlvbiBtZWFzdXJlU2Nyb2xsYmFyKCkge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChzY3JvbGxiYXJXaWR0aCkge1xuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgfVxuICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvciAodmFyIHNjcm9sbFByb3AgaW4gc2Nyb2xsYmFyTWVhc3VyZSkge1xuICAgIGlmIChzY3JvbGxiYXJNZWFzdXJlLmhhc093blByb3BlcnR5KHNjcm9sbFByb3ApKSB7XG4gICAgICBzY3JvbGxEaXYuc3R5bGVbc2Nyb2xsUHJvcF0gPSBzY3JvbGxiYXJNZWFzdXJlW3Njcm9sbFByb3BdO1xuICAgIH1cbiAgfVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7XG4gIHZhciB3aWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuICBzY3JvbGxiYXJXaWR0aCA9IHdpZHRoO1xuICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7XG59XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICB2YXIgdGltZW91dCA9IHZvaWQgMDtcbiAgZnVuY3Rpb24gZGVib3VuY2VGdW5jKCkge1xuICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAvLyBodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmdcbiAgICBpZiAoYXJnc1swXSAmJiBhcmdzWzBdLnBlcnNpc3QpIHtcbiAgICAgIGFyZ3NbMF0ucGVyc2lzdCgpO1xuICAgIH1cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbiBsYXRlcigpIHtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfVxuICB9XG4gIGRlYm91bmNlRnVuYy5jYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGRlYm91bmNlRnVuYztcbn1cblxudmFyIHdhcm5lZCA9IHt9O1xuZnVuY3Rpb24gd2FybmluZ09uY2UoY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgaWYgKCF3YXJuZWRbZm9ybWF0XSkge1xuICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShjb25kaXRpb24sIGZvcm1hdCwgYXJncyk7XG4gICAgd2FybmVkW2Zvcm1hdF0gPSAhY29uZGl0aW9uO1xuICB9XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGFibGUvbGliL3V0aWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0b0FycmF5O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgX3JlYWN0MltcImRlZmF1bHRcIl0uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGMpIHtcbiAgICByZXQucHVzaChjKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy11dGlsL2xpYi9DaGlsZHJlbi90b0FycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMTQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLyoqXG4gKiBAaWdub3JlXG4gKiBzb21lIGtleS1jb2RlcyBkZWZpbml0aW9uIGFuZCB1dGlscyBmcm9tIGNsb3N1cmUtbGlicmFyeVxuICogQGF1dGhvciB5aW1pbmdoZUBnbWFpbC5jb21cbiAqL1xuXG52YXIgS2V5Q29kZSA9IHtcbiAgLyoqXG4gICAqIE1BQ19FTlRFUlxuICAgKi9cbiAgTUFDX0VOVEVSOiAzLFxuICAvKipcbiAgICogQkFDS1NQQUNFXG4gICAqL1xuICBCQUNLU1BBQ0U6IDgsXG4gIC8qKlxuICAgKiBUQUJcbiAgICovXG4gIFRBQjogOSxcbiAgLyoqXG4gICAqIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuICAgKi9cbiAgTlVNX0NFTlRFUjogMTIsIC8vIE5VTUxPQ0sgb24gRkYvU2FmYXJpIE1hY1xuICAvKipcbiAgICogRU5URVJcbiAgICovXG4gIEVOVEVSOiAxMyxcbiAgLyoqXG4gICAqIFNISUZUXG4gICAqL1xuICBTSElGVDogMTYsXG4gIC8qKlxuICAgKiBDVFJMXG4gICAqL1xuICBDVFJMOiAxNyxcbiAgLyoqXG4gICAqIEFMVFxuICAgKi9cbiAgQUxUOiAxOCxcbiAgLyoqXG4gICAqIFBBVVNFXG4gICAqL1xuICBQQVVTRTogMTksXG4gIC8qKlxuICAgKiBDQVBTX0xPQ0tcbiAgICovXG4gIENBUFNfTE9DSzogMjAsXG4gIC8qKlxuICAgKiBFU0NcbiAgICovXG4gIEVTQzogMjcsXG4gIC8qKlxuICAgKiBTUEFDRVxuICAgKi9cbiAgU1BBQ0U6IDMyLFxuICAvKipcbiAgICogUEFHRV9VUFxuICAgKi9cbiAgUEFHRV9VUDogMzMsIC8vIGFsc28gTlVNX05PUlRIX0VBU1RcbiAgLyoqXG4gICAqIFBBR0VfRE9XTlxuICAgKi9cbiAgUEFHRV9ET1dOOiAzNCwgLy8gYWxzbyBOVU1fU09VVEhfRUFTVFxuICAvKipcbiAgICogRU5EXG4gICAqL1xuICBFTkQ6IDM1LCAvLyBhbHNvIE5VTV9TT1VUSF9XRVNUXG4gIC8qKlxuICAgKiBIT01FXG4gICAqL1xuICBIT01FOiAzNiwgLy8gYWxzbyBOVU1fTk9SVEhfV0VTVFxuICAvKipcbiAgICogTEVGVFxuICAgKi9cbiAgTEVGVDogMzcsIC8vIGFsc28gTlVNX1dFU1RcbiAgLyoqXG4gICAqIFVQXG4gICAqL1xuICBVUDogMzgsIC8vIGFsc28gTlVNX05PUlRIXG4gIC8qKlxuICAgKiBSSUdIVFxuICAgKi9cbiAgUklHSFQ6IDM5LCAvLyBhbHNvIE5VTV9FQVNUXG4gIC8qKlxuICAgKiBET1dOXG4gICAqL1xuICBET1dOOiA0MCwgLy8gYWxzbyBOVU1fU09VVEhcbiAgLyoqXG4gICAqIFBSSU5UX1NDUkVFTlxuICAgKi9cbiAgUFJJTlRfU0NSRUVOOiA0NCxcbiAgLyoqXG4gICAqIElOU0VSVFxuICAgKi9cbiAgSU5TRVJUOiA0NSwgLy8gYWxzbyBOVU1fSU5TRVJUXG4gIC8qKlxuICAgKiBERUxFVEVcbiAgICovXG4gIERFTEVURTogNDYsIC8vIGFsc28gTlVNX0RFTEVURVxuICAvKipcbiAgICogWkVST1xuICAgKi9cbiAgWkVSTzogNDgsXG4gIC8qKlxuICAgKiBPTkVcbiAgICovXG4gIE9ORTogNDksXG4gIC8qKlxuICAgKiBUV09cbiAgICovXG4gIFRXTzogNTAsXG4gIC8qKlxuICAgKiBUSFJFRVxuICAgKi9cbiAgVEhSRUU6IDUxLFxuICAvKipcbiAgICogRk9VUlxuICAgKi9cbiAgRk9VUjogNTIsXG4gIC8qKlxuICAgKiBGSVZFXG4gICAqL1xuICBGSVZFOiA1MyxcbiAgLyoqXG4gICAqIFNJWFxuICAgKi9cbiAgU0lYOiA1NCxcbiAgLyoqXG4gICAqIFNFVkVOXG4gICAqL1xuICBTRVZFTjogNTUsXG4gIC8qKlxuICAgKiBFSUdIVFxuICAgKi9cbiAgRUlHSFQ6IDU2LFxuICAvKipcbiAgICogTklORVxuICAgKi9cbiAgTklORTogNTcsXG4gIC8qKlxuICAgKiBRVUVTVElPTl9NQVJLXG4gICAqL1xuICBRVUVTVElPTl9NQVJLOiA2MywgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBBXG4gICAqL1xuICBBOiA2NSxcbiAgLyoqXG4gICAqIEJcbiAgICovXG4gIEI6IDY2LFxuICAvKipcbiAgICogQ1xuICAgKi9cbiAgQzogNjcsXG4gIC8qKlxuICAgKiBEXG4gICAqL1xuICBEOiA2OCxcbiAgLyoqXG4gICAqIEVcbiAgICovXG4gIEU6IDY5LFxuICAvKipcbiAgICogRlxuICAgKi9cbiAgRjogNzAsXG4gIC8qKlxuICAgKiBHXG4gICAqL1xuICBHOiA3MSxcbiAgLyoqXG4gICAqIEhcbiAgICovXG4gIEg6IDcyLFxuICAvKipcbiAgICogSVxuICAgKi9cbiAgSTogNzMsXG4gIC8qKlxuICAgKiBKXG4gICAqL1xuICBKOiA3NCxcbiAgLyoqXG4gICAqIEtcbiAgICovXG4gIEs6IDc1LFxuICAvKipcbiAgICogTFxuICAgKi9cbiAgTDogNzYsXG4gIC8qKlxuICAgKiBNXG4gICAqL1xuICBNOiA3NyxcbiAgLyoqXG4gICAqIE5cbiAgICovXG4gIE46IDc4LFxuICAvKipcbiAgICogT1xuICAgKi9cbiAgTzogNzksXG4gIC8qKlxuICAgKiBQXG4gICAqL1xuICBQOiA4MCxcbiAgLyoqXG4gICAqIFFcbiAgICovXG4gIFE6IDgxLFxuICAvKipcbiAgICogUlxuICAgKi9cbiAgUjogODIsXG4gIC8qKlxuICAgKiBTXG4gICAqL1xuICBTOiA4MyxcbiAgLyoqXG4gICAqIFRcbiAgICovXG4gIFQ6IDg0LFxuICAvKipcbiAgICogVVxuICAgKi9cbiAgVTogODUsXG4gIC8qKlxuICAgKiBWXG4gICAqL1xuICBWOiA4NixcbiAgLyoqXG4gICAqIFdcbiAgICovXG4gIFc6IDg3LFxuICAvKipcbiAgICogWFxuICAgKi9cbiAgWDogODgsXG4gIC8qKlxuICAgKiBZXG4gICAqL1xuICBZOiA4OSxcbiAgLyoqXG4gICAqIFpcbiAgICovXG4gIFo6IDkwLFxuICAvKipcbiAgICogTUVUQVxuICAgKi9cbiAgTUVUQTogOTEsIC8vIFdJTl9LRVlfTEVGVFxuICAvKipcbiAgICogV0lOX0tFWV9SSUdIVFxuICAgKi9cbiAgV0lOX0tFWV9SSUdIVDogOTIsXG4gIC8qKlxuICAgKiBDT05URVhUX01FTlVcbiAgICovXG4gIENPTlRFWFRfTUVOVTogOTMsXG4gIC8qKlxuICAgKiBOVU1fWkVST1xuICAgKi9cbiAgTlVNX1pFUk86IDk2LFxuICAvKipcbiAgICogTlVNX09ORVxuICAgKi9cbiAgTlVNX09ORTogOTcsXG4gIC8qKlxuICAgKiBOVU1fVFdPXG4gICAqL1xuICBOVU1fVFdPOiA5OCxcbiAgLyoqXG4gICAqIE5VTV9USFJFRVxuICAgKi9cbiAgTlVNX1RIUkVFOiA5OSxcbiAgLyoqXG4gICAqIE5VTV9GT1VSXG4gICAqL1xuICBOVU1fRk9VUjogMTAwLFxuICAvKipcbiAgICogTlVNX0ZJVkVcbiAgICovXG4gIE5VTV9GSVZFOiAxMDEsXG4gIC8qKlxuICAgKiBOVU1fU0lYXG4gICAqL1xuICBOVU1fU0lYOiAxMDIsXG4gIC8qKlxuICAgKiBOVU1fU0VWRU5cbiAgICovXG4gIE5VTV9TRVZFTjogMTAzLFxuICAvKipcbiAgICogTlVNX0VJR0hUXG4gICAqL1xuICBOVU1fRUlHSFQ6IDEwNCxcbiAgLyoqXG4gICAqIE5VTV9OSU5FXG4gICAqL1xuICBOVU1fTklORTogMTA1LFxuICAvKipcbiAgICogTlVNX01VTFRJUExZXG4gICAqL1xuICBOVU1fTVVMVElQTFk6IDEwNixcbiAgLyoqXG4gICAqIE5VTV9QTFVTXG4gICAqL1xuICBOVU1fUExVUzogMTA3LFxuICAvKipcbiAgICogTlVNX01JTlVTXG4gICAqL1xuICBOVU1fTUlOVVM6IDEwOSxcbiAgLyoqXG4gICAqIE5VTV9QRVJJT0RcbiAgICovXG4gIE5VTV9QRVJJT0Q6IDExMCxcbiAgLyoqXG4gICAqIE5VTV9ESVZJU0lPTlxuICAgKi9cbiAgTlVNX0RJVklTSU9OOiAxMTEsXG4gIC8qKlxuICAgKiBGMVxuICAgKi9cbiAgRjE6IDExMixcbiAgLyoqXG4gICAqIEYyXG4gICAqL1xuICBGMjogMTEzLFxuICAvKipcbiAgICogRjNcbiAgICovXG4gIEYzOiAxMTQsXG4gIC8qKlxuICAgKiBGNFxuICAgKi9cbiAgRjQ6IDExNSxcbiAgLyoqXG4gICAqIEY1XG4gICAqL1xuICBGNTogMTE2LFxuICAvKipcbiAgICogRjZcbiAgICovXG4gIEY2OiAxMTcsXG4gIC8qKlxuICAgKiBGN1xuICAgKi9cbiAgRjc6IDExOCxcbiAgLyoqXG4gICAqIEY4XG4gICAqL1xuICBGODogMTE5LFxuICAvKipcbiAgICogRjlcbiAgICovXG4gIEY5OiAxMjAsXG4gIC8qKlxuICAgKiBGMTBcbiAgICovXG4gIEYxMDogMTIxLFxuICAvKipcbiAgICogRjExXG4gICAqL1xuICBGMTE6IDEyMixcbiAgLyoqXG4gICAqIEYxMlxuICAgKi9cbiAgRjEyOiAxMjMsXG4gIC8qKlxuICAgKiBOVU1MT0NLXG4gICAqL1xuICBOVU1MT0NLOiAxNDQsXG4gIC8qKlxuICAgKiBTRU1JQ09MT05cbiAgICovXG4gIFNFTUlDT0xPTjogMTg2LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIERBU0hcbiAgICovXG4gIERBU0g6IDE4OSwgLy8gbmVlZHMgbG9jYWxpemF0aW9uXG4gIC8qKlxuICAgKiBFUVVBTFNcbiAgICovXG4gIEVRVUFMUzogMTg3LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIENPTU1BXG4gICAqL1xuICBDT01NQTogMTg4LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFBFUklPRFxuICAgKi9cbiAgUEVSSU9EOiAxOTAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogU0xBU0hcbiAgICovXG4gIFNMQVNIOiAxOTEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQVBPU1RST1BIRVxuICAgKi9cbiAgQVBPU1RST1BIRTogMTkyLCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIFNJTkdMRV9RVU9URVxuICAgKi9cbiAgU0lOR0xFX1FVT1RFOiAyMjIsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogT1BFTl9TUVVBUkVfQlJBQ0tFVFxuICAgKi9cbiAgT1BFTl9TUVVBUkVfQlJBQ0tFVDogMjE5LCAvLyBuZWVkcyBsb2NhbGl6YXRpb25cbiAgLyoqXG4gICAqIEJBQ0tTTEFTSFxuICAgKi9cbiAgQkFDS1NMQVNIOiAyMjAsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogQ0xPU0VfU1FVQVJFX0JSQUNLRVRcbiAgICovXG4gIENMT1NFX1NRVUFSRV9CUkFDS0VUOiAyMjEsIC8vIG5lZWRzIGxvY2FsaXphdGlvblxuICAvKipcbiAgICogV0lOX0tFWVxuICAgKi9cbiAgV0lOX0tFWTogMjI0LFxuICAvKipcbiAgICogTUFDX0ZGX01FVEFcbiAgICovXG4gIE1BQ19GRl9NRVRBOiAyMjQsIC8vIEZpcmVmb3ggKEdlY2tvKSBmaXJlcyB0aGlzIGZvciB0aGUgbWV0YSBrZXkgaW5zdGVhZCBvZiA5MVxuICAvKipcbiAgICogV0lOX0lNRVxuICAgKi9cbiAgV0lOX0lNRTogMjI5XG59O1xuXG4vKlxuIHdoZXRoZXIgdGV4dCBhbmQgbW9kaWZpZWQga2V5IGlzIGVudGVyZWQgYXQgdGhlIHNhbWUgdGltZS5cbiAqL1xuS2V5Q29kZS5pc1RleHRNb2RpZnlpbmdLZXlFdmVudCA9IGZ1bmN0aW9uIGlzVGV4dE1vZGlmeWluZ0tleUV2ZW50KGUpIHtcbiAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XG4gIGlmIChlLmFsdEtleSAmJiAhZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fFxuICAvLyBGdW5jdGlvbiBrZXlzIGRvbid0IGdlbmVyYXRlIHRleHRcbiAga2V5Q29kZSA+PSBLZXlDb2RlLkYxICYmIGtleUNvZGUgPD0gS2V5Q29kZS5GMTIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUaGUgZm9sbG93aW5nIGtleXMgYXJlIHF1aXRlIGhhcm1sZXNzLCBldmVuIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgLy8gQ1RSTCwgQUxUIG9yIFNISUZULlxuICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICBjYXNlIEtleUNvZGUuQUxUOlxuICAgIGNhc2UgS2V5Q29kZS5DQVBTX0xPQ0s6XG4gICAgY2FzZSBLZXlDb2RlLkNPTlRFWFRfTUVOVTpcbiAgICBjYXNlIEtleUNvZGUuQ1RSTDpcbiAgICBjYXNlIEtleUNvZGUuRE9XTjpcbiAgICBjYXNlIEtleUNvZGUuRU5EOlxuICAgIGNhc2UgS2V5Q29kZS5FU0M6XG4gICAgY2FzZSBLZXlDb2RlLkhPTUU6XG4gICAgY2FzZSBLZXlDb2RlLklOU0VSVDpcbiAgICBjYXNlIEtleUNvZGUuTEVGVDpcbiAgICBjYXNlIEtleUNvZGUuTUFDX0ZGX01FVEE6XG4gICAgY2FzZSBLZXlDb2RlLk1FVEE6XG4gICAgY2FzZSBLZXlDb2RlLk5VTUxPQ0s6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9DRU5URVI6XG4gICAgY2FzZSBLZXlDb2RlLlBBR0VfRE9XTjpcbiAgICBjYXNlIEtleUNvZGUuUEFHRV9VUDpcbiAgICBjYXNlIEtleUNvZGUuUEFVU0U6XG4gICAgY2FzZSBLZXlDb2RlLlBSSU5UX1NDUkVFTjpcbiAgICBjYXNlIEtleUNvZGUuUklHSFQ6XG4gICAgY2FzZSBLZXlDb2RlLlNISUZUOlxuICAgIGNhc2UgS2V5Q29kZS5VUDpcbiAgICBjYXNlIEtleUNvZGUuV0lOX0tFWTpcbiAgICBjYXNlIEtleUNvZGUuV0lOX0tFWV9SSUdIVDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8qXG4gd2hldGhlciBjaGFyYWN0ZXIgaXMgZW50ZXJlZC5cbiAqL1xuS2V5Q29kZS5pc0NoYXJhY3RlcktleSA9IGZ1bmN0aW9uIGlzQ2hhcmFjdGVyS2V5KGtleUNvZGUpIHtcbiAgaWYgKGtleUNvZGUgPj0gS2V5Q29kZS5aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OSU5FKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoa2V5Q29kZSA+PSBLZXlDb2RlLk5VTV9aRVJPICYmIGtleUNvZGUgPD0gS2V5Q29kZS5OVU1fTVVMVElQTFkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChrZXlDb2RlID49IEtleUNvZGUuQSAmJiBrZXlDb2RlIDw9IEtleUNvZGUuWikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gU2FmYXJpIHNlbmRzIHplcm8ga2V5IGNvZGUgZm9yIG5vbi1sYXRpbiBjaGFyYWN0ZXJzLlxuICBpZiAod2luZG93Lm5hdmlnYXRpb24udXNlckFnZW50LmluZGV4T2YoJ1dlYktpdCcpICE9PSAtMSAmJiBrZXlDb2RlID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICBjYXNlIEtleUNvZGUuU1BBQ0U6XG4gICAgY2FzZSBLZXlDb2RlLlFVRVNUSU9OX01BUks6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9QTFVTOlxuICAgIGNhc2UgS2V5Q29kZS5OVU1fTUlOVVM6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9QRVJJT0Q6XG4gICAgY2FzZSBLZXlDb2RlLk5VTV9ESVZJU0lPTjpcbiAgICBjYXNlIEtleUNvZGUuU0VNSUNPTE9OOlxuICAgIGNhc2UgS2V5Q29kZS5EQVNIOlxuICAgIGNhc2UgS2V5Q29kZS5FUVVBTFM6XG4gICAgY2FzZSBLZXlDb2RlLkNPTU1BOlxuICAgIGNhc2UgS2V5Q29kZS5QRVJJT0Q6XG4gICAgY2FzZSBLZXlDb2RlLlNMQVNIOlxuICAgIGNhc2UgS2V5Q29kZS5BUE9TVFJPUEhFOlxuICAgIGNhc2UgS2V5Q29kZS5TSU5HTEVfUVVPVEU6XG4gICAgY2FzZSBLZXlDb2RlLk9QRU5fU1FVQVJFX0JSQUNLRVQ6XG4gICAgY2FzZSBLZXlDb2RlLkJBQ0tTTEFTSDpcbiAgICBjYXNlIEtleUNvZGUuQ0xPU0VfU1FVQVJFX0JSQUNLRVQ6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IEtleUNvZGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy11dGlsL2xpYi9LZXlDb2RlLmpzXG4gKiogbW9kdWxlIGlkID0gMTQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJ1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vU2VhcmNoLmxlc3MnXHJcbmltcG9ydCB7IElucHV0LCBTZWxlY3QsIEJ1dHRvbiwgSWNvbiB9IGZyb20gJ2FudGQnXHJcblxyXG5jbGFzcyBTZWFyY2ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgICBzdXBlcihwcm9wcylcclxuICAgICAgY29uc3QgeyBzZWxlY3QsIHNlbGVjdFByb3BzIH0gPSB0aGlzLnByb3BzXHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgY2xlYXJWaXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBzZWxlY3RWYWx1ZTogc2VsZWN0ICYmIHNlbGVjdFByb3BzID8gc2VsZWN0UHJvcHMuZGVmYXVsdFZhbHVlIDogJydcclxuICAgICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBoYW5kbGVTZWFyY2ggPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBrZXl3b3JkOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuc2VhcmNoSW5wdXQpLnZhbHVlXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3QpIHtcclxuICAgICAgZGF0YS5maWVsZCA9IHRoaXMuc3RhdGUuc2VsZWN0VmFsdWVcclxuICAgIH1cclxuICAgIHRoaXMucHJvcHMub25TZWFyY2ggJiYgdGhpcy5wcm9wcy5vblNlYXJjaChkYXRhKVxyXG4gIH1cclxuICBoYW5kbGVJbnB1dENoYW5nZSA9IGUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgIGNsZWFyVmlzaWJsZTogZS50YXJnZXQudmFsdWUgIT09ICcnXHJcbiAgICB9KVxyXG4gIH1cclxuICBoYW5kZWxlU2VsZWN0Q2hhbmdlID0gdmFsdWUgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgIHNlbGVjdFZhbHVlOiB2YWx1ZVxyXG4gICAgfSlcclxuICB9XHJcbiAgaGFuZGxlQ2xlYXJJbnB1dCA9ICgpID0+IHtcclxuICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5zZWFyY2hJbnB1dCkudmFsdWUgPSAnJ1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNsZWFyVmlzaWJsZTogZmFsc2VcclxuICAgIH0pXHJcbiAgICB0aGlzLmhhbmRsZVNlYXJjaCgpXHJcbiAgfVxyXG4gIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCB7c2l6ZSwgc2VsZWN0LCBzZWxlY3RPcHRpb25zLCBzZWxlY3RQcm9wcywgc3R5bGUsIGtleXdvcmR9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3Qge2NsZWFyVmlzaWJsZX0gPSB0aGlzLnN0YXRlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8SW5wdXQuR3JvdXAgY29tcGFjdCBzaXplPXtzaXplfSBjbGFzc05hbWU9e3N0eWxlcy5zZWFyY2h9IHN0eWxlPXtzdHlsZX0+XHJcbiAgICAgICAge3NlbGVjdCAmJiA8U2VsZWN0IHJlZj0nc2VhcmNoU2VsZWN0JyBvbkNoYW5nZT17dGhpcy5oYW5kZWxlU2VsZWN0Q2hhbmdlfSBzaXplPXtzaXplfSB7Li4uc2VsZWN0UHJvcHN9PlxyXG4gICAgICAgICAge3NlbGVjdE9wdGlvbnMgJiYgc2VsZWN0T3B0aW9ucy5tYXAoKGl0ZW0sIGtleSkgPT4gPFNlbGVjdC5PcHRpb24gdmFsdWU9e2l0ZW0udmFsdWV9IGtleT17a2V5fT57aXRlbS5uYW1lIHx8IGl0ZW0udmFsdWV9PC9TZWxlY3QuT3B0aW9uPil9XHJcbiAgICAgICAgPC9TZWxlY3Q+fVxyXG4gICAgICAgIDxJbnB1dCByZWY9J3NlYXJjaElucHV0JyBzaXplPXtzaXplfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dENoYW5nZX0gb25QcmVzc0VudGVyPXt0aGlzLmhhbmRsZVNlYXJjaH0gZGVmYXVsdFZhbHVlPXtrZXl3b3JkfS8+XHJcbiAgICAgICAgPEJ1dHRvbiBzaXplPXtzaXplfSB0eXBlPSdwcmltYXJ5JyBvbkNsaWNrPXt0aGlzLmhhbmRsZVNlYXJjaH0+PEljb24gdHlwZT1cInNlYXJjaFwiIC8+5pCc57SiPC9CdXR0b24+XHJcbiAgICAgICAge2NsZWFyVmlzaWJsZSAmJiA8SWNvbiB0eXBlPSdjcm9zcycgb25DbGljaz17dGhpcy5oYW5kbGVDbGVhcklucHV0fSAvPn1cclxuICAgICAgPC9JbnB1dC5Hcm91cD5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlYXJjaFxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL2NvbW1vbi9TZWFyY2guanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IFR3ZWVuT25lR3JvdXAgfSBmcm9tICdyYy10d2Vlbi1vbmUnXHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9UYWJsZUJvZHlXcmFwcGVyLmxlc3MnXHJcblxyXG5jb25zdCBlbnRlckFuaW0gPSBbXHJcbiAge1xyXG4gICAgb3BhY2l0eTogMCxcclxuICAgIHg6IDMwLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmVlZScsXHJcbiAgICBkdXJhdGlvbjogMFxyXG4gIH0sIHtcclxuICAgIGhlaWdodDogMCxcclxuICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICB0eXBlOiAnZnJvbScsXHJcbiAgICBkZWxheTogMjUwLFxyXG4gICAgZWFzZTogJ2Vhc2VPdXRRdWFkJyxcclxuICAgIG9uQ29tcGxldGU6IChlKSA9PiB7XHJcbiAgICAgIGUudGFyZ2V0LnN0eWxlLmhlaWdodCA9ICdhdXRvJ1xyXG4gICAgfSxcclxuICB9LCB7XHJcbiAgICBvcGFjaXR5OiAxLFxyXG4gICAgeDogMCxcclxuICAgIGR1cmF0aW9uOiAyNTAsXHJcbiAgICBlYXNlOiAnZWFzZU91dFF1YWQnXHJcbiAgfSwge1xyXG4gICAgZGVsYXk6IDEwMDAsXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJ1xyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgbGVhdmVBbmltID0gW1xyXG4gIHtcclxuICAgIGR1cmF0aW9uOiAyNTAsXHJcbiAgICB4OiAtMzAsXHJcbiAgICBvcGFjaXR5OiAwXHJcbiAgfSwge1xyXG4gICAgaGVpZ2h0OiAwLFxyXG4gICAgZHVyYXRpb246IDIwMCxcclxuICAgIGVhc2U6ICdlYXNlT3V0UXVhZCdcclxuICB9XHJcbl1cclxuXHJcbmNvbnN0IFRhYmxlQm9keVdyYXBwZXIgPSAoeyBib2R5LCBwYWdlID0gMSwgY3VycmVudCB9KSA9PiB7XHJcblxyXG4gIC8vIOWIh+aNouWIhumhteWOu+mZpOWKqOeUuztcclxuICBpZihjdXJyZW50ICE9ICtwYWdlKSB7XHJcbiAgICByZXR1cm4gYm9keVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxUd2Vlbk9uZUdyb3VwXHJcbiAgICBjb21wb25lbnQ9XCJ0Ym9keVwiXHJcbiAgICBjbGFzc05hbWU9e2JvZHkucHJvcHMuY2xhc3NOYW1lfVxyXG4gICAgZW50ZXI9e2VudGVyQW5pbX1cclxuICAgIGxlYXZlPXtsZWF2ZUFuaW19XHJcbiAgICBhcHBlYXI9e2ZhbHNlfT5cclxuICAgICAge2JvZHkucHJvcHMuY2hpbGRyZW59XHJcbiAgICA8L1R3ZWVuT25lR3JvdXA+XHJcbiAgKVxyXG59XHJcblxyXG5UYWJsZUJvZHlXcmFwcGVyLnByb3BUeXBlcyA9IHtcclxuICBwYWdlOiBQcm9wVHlwZXMuYW55LFxyXG4gIGN1cnJlbnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUYWJsZUJvZHlXcmFwcGVyXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2NvbXBvbmVudHMvY29tbW9uL1RhYmxlQm9keVdyYXBwZXIuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vKiBnbG9iYWxzIFN5bWJvbDogdHJ1ZSwgVWludDhBcnJheTogdHJ1ZSwgV2Vha01hcDogdHJ1ZSAqL1xuLyohXG4gKiBkZWVwLWVxbFxuICogQ29weXJpZ2h0KGMpIDIwMTMgSmFrZSBMdWVyIDxqYWtlQGFsb2dpY2FscGFyYWRveC5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKiFcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXNcbiAqL1xuXG52YXIgdHlwZSA9IHJlcXVpcmUoJ3R5cGUtZGV0ZWN0Jyk7XG5mdW5jdGlvbiBGYWtlTWFwKCkge1xuICB0aGlzLmNsZWFyKCk7XG59XG5GYWtlTWFwLnByb3RvdHlwZSA9IHtcbiAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyTWFwKCkge1xuICAgIHRoaXMua2V5cyA9IFtdO1xuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0TWFwKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLnZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAgIHRoaXMudmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXRNYXAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzW3RoaXMua2V5cy5pbmRleE9mKGtleSldO1xuICB9LFxuICBkZWxldGU6IGZ1bmN0aW9uIGRlbGV0ZU1hcChrZXkpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IHRoaXMudmFsdWVzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQodGhpcy52YWx1ZXMuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgICB0aGlzLmtleXMgPSB0aGlzLmtleXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdCh0aGlzLmtleXMuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxufTtcblxudmFyIE1lbW9pemVNYXAgPSBudWxsO1xuaWYgKHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nKSB7XG4gIE1lbW9pemVNYXAgPSBXZWFrTWFwO1xufSBlbHNlIHtcbiAgTWVtb2l6ZU1hcCA9IEZha2VNYXA7XG59XG5cbi8qIVxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBNZW1vaXplTWFwIGhhcyByZWNvcmRlZCBhIHJlc3VsdCBvZiB0aGUgdHdvIG9wZXJhbmRzXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01lbW9pemVNYXB9IG1lbW9pemVNYXBcbiAqIEByZXR1cm5zIHtCb29sZWFufG51bGx9IHJlc3VsdFxuKi9cbmZ1bmN0aW9uIG1lbW9pemVDb21wYXJlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbWVtb2l6ZU1hcCkge1xuICAvLyBUZWNobmljYWxseSwgV2Vha01hcCBrZXlzIGNhbiAqb25seSogYmUgb2JqZWN0cywgbm90IHByaW1pdGl2ZXMuXG4gIGlmICghbWVtb2l6ZU1hcCB8fCBpc1ByaW1pdGl2ZShsZWZ0SGFuZE9wZXJhbmQpIHx8IGlzUHJpbWl0aXZlKHJpZ2h0SGFuZE9wZXJhbmQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGxlZnRIYW5kTWFwID0gbWVtb2l6ZU1hcC5nZXQobGVmdEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kTWFwKSB7XG4gICAgdmFyIHJlc3VsdCA9IGxlZnRIYW5kTWFwLmdldChyaWdodEhhbmRPcGVyYW5kKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyohXG4gKiBTZXQgdGhlIHJlc3VsdCBvZiB0aGUgZXF1YWxpdHkgaW50byB0aGUgTWVtb2l6ZU1hcFxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNZW1vaXplTWFwfSBtZW1vaXplTWFwXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHJlc3VsdFxuKi9cbmZ1bmN0aW9uIG1lbW9pemVTZXQobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBtZW1vaXplTWFwLCByZXN1bHQpIHtcbiAgLy8gVGVjaG5pY2FsbHksIFdlYWtNYXAga2V5cyBjYW4gKm9ubHkqIGJlIG9iamVjdHMsIG5vdCBwcmltaXRpdmVzLlxuICBpZiAoIW1lbW9pemVNYXAgfHwgaXNQcmltaXRpdmUobGVmdEhhbmRPcGVyYW5kKSB8fCBpc1ByaW1pdGl2ZShyaWdodEhhbmRPcGVyYW5kKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbGVmdEhhbmRNYXAgPSBtZW1vaXplTWFwLmdldChsZWZ0SGFuZE9wZXJhbmQpO1xuICBpZiAobGVmdEhhbmRNYXApIHtcbiAgICBsZWZ0SGFuZE1hcC5zZXQocmlnaHRIYW5kT3BlcmFuZCwgcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBsZWZ0SGFuZE1hcCA9IG5ldyBNZW1vaXplTWFwKCk7XG4gICAgbGVmdEhhbmRNYXAuc2V0KHJpZ2h0SGFuZE9wZXJhbmQsIHJlc3VsdCk7XG4gICAgbWVtb2l6ZU1hcC5zZXQobGVmdEhhbmRPcGVyYW5kLCBsZWZ0SGFuZE1hcCk7XG4gIH1cbn1cblxuLyohXG4gKiBQcmltYXJ5IEV4cG9ydFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVlcEVxdWFsO1xubW9kdWxlLmV4cG9ydHMuTWVtb2l6ZU1hcCA9IE1lbW9pemVNYXA7XG5cbi8qKlxuICogQXNzZXJ0IGRlZXBseSBuZXN0ZWQgc2FtZVZhbHVlIGVxdWFsaXR5IGJldHdlZW4gdHdvIG9iamVjdHMgb2YgYW55IHR5cGUuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChvcHRpb25hbCkgQWRkaXRpb25hbCBvcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5jb21wYXJhdG9yXSAob3B0aW9uYWwpIE92ZXJyaWRlIGRlZmF1bHQgYWxnb3JpdGhtLCBkZXRlcm1pbmluZyBjdXN0b20gZXF1YWxpdHkuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5tZW1vaXplXSAob3B0aW9uYWwpIFByb3ZpZGUgYSBjdXN0b20gbWVtb2l6YXRpb24gb2JqZWN0IHdoaWNoIHdpbGwgY2FjaGUgdGhlIHJlc3VsdHMgb2ZcbiAgICBjb21wbGV4IG9iamVjdHMgZm9yIGEgc3BlZWQgYm9vc3QuIEJ5IHBhc3NpbmcgYGZhbHNlYCB5b3UgY2FuIGRpc2FibGUgbWVtb2l6YXRpb24sIGJ1dCB0aGlzIHdpbGwgY2F1c2UgY2lyY3VsYXJcbiAgICByZWZlcmVuY2VzIHRvIGJsb3cgdGhlIHN0YWNrLlxuICogQHJldHVybiB7Qm9vbGVhbn0gZXF1YWwgbWF0Y2hcbiAqL1xuZnVuY3Rpb24gZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICAvLyBJZiB3ZSBoYXZlIGEgY29tcGFyYXRvciwgd2UgY2FuJ3QgYXNzdW1lIGFueXRoaW5nOyBzbyBiYWlsIHRvIGl0cyBjaGVjayBmaXJzdC5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIHNpbXBsZVJlc3VsdCA9IHNpbXBsZUVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCk7XG4gIGlmIChzaW1wbGVSZXN1bHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuICB9XG5cbiAgLy8gRGVlcGVyIGNvbXBhcmlzb25zIGFyZSBwdXNoZWQgdGhyb3VnaCB0byBhIGxhcmdlciBmdW5jdGlvblxuICByZXR1cm4gZXh0ZW5zaXZlRGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogTWFueSBjb21wYXJpc29ucyBjYW4gYmUgY2FuY2VsZWQgb3V0IGVhcmx5IHZpYSBzaW1wbGUgZXF1YWxpdHkgb3IgcHJpbWl0aXZlIGNoZWNrcy5cbiAqIEBwYXJhbSB7TWl4ZWR9IGxlZnRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtNaXhlZH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHJldHVybiB7Qm9vbGVhbnxudWxsfSBlcXVhbCBtYXRjaFxuICovXG5mdW5jdGlvbiBzaW1wbGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpIHtcbiAgLy8gRXF1YWwgcmVmZXJlbmNlcyAoZXhjZXB0IGZvciBOdW1iZXJzKSBjYW4gYmUgcmV0dXJuZWQgZWFybHlcbiAgaWYgKGxlZnRIYW5kT3BlcmFuZCA9PT0gcmlnaHRIYW5kT3BlcmFuZCkge1xuICAgIC8vIEhhbmRsZSArLTAgY2FzZXNcbiAgICByZXR1cm4gbGVmdEhhbmRPcGVyYW5kICE9PSAwIHx8IDEgLyBsZWZ0SGFuZE9wZXJhbmQgPT09IDEgLyByaWdodEhhbmRPcGVyYW5kO1xuICB9XG5cbiAgLy8gaGFuZGxlIE5hTiBjYXNlc1xuICBpZiAoXG4gICAgbGVmdEhhbmRPcGVyYW5kICE9PSBsZWZ0SGFuZE9wZXJhbmQgJiYgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICByaWdodEhhbmRPcGVyYW5kICE9PSByaWdodEhhbmRPcGVyYW5kIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQW55dGhpbmcgdGhhdCBpcyBub3QgYW4gJ29iamVjdCcsIGkuZS4gc3ltYm9scywgZnVuY3Rpb25zLCBib29sZWFucywgbnVtYmVycyxcbiAgLy8gc3RyaW5ncywgYW5kIHVuZGVmaW5lZCwgY2FuIGJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cbiAgaWYgKGlzUHJpbWl0aXZlKGxlZnRIYW5kT3BlcmFuZCkgfHwgaXNQcmltaXRpdmUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICAvLyBFYXN5IG91dCBiL2MgaXQgd291bGQgaGF2ZSBwYXNzZWQgdGhlIGZpcnN0IGVxdWFsaXR5IGNoZWNrXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKiFcbiAqIFRoZSBtYWluIGxvZ2ljIG9mIHRoZSBgZGVlcEVxdWFsYCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKG9wdGlvbmFsKSBBZGRpdGlvbmFsIG9wdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmNvbXBhcmF0b3JdIChvcHRpb25hbCkgT3ZlcnJpZGUgZGVmYXVsdCBhbGdvcml0aG0sIGRldGVybWluaW5nIGN1c3RvbSBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1lbW9pemVdIChvcHRpb25hbCkgUHJvdmlkZSBhIGN1c3RvbSBtZW1vaXphdGlvbiBvYmplY3Qgd2hpY2ggd2lsbCBjYWNoZSB0aGUgcmVzdWx0cyBvZlxuICAgIGNvbXBsZXggb2JqZWN0cyBmb3IgYSBzcGVlZCBib29zdC4gQnkgcGFzc2luZyBgZmFsc2VgIHlvdSBjYW4gZGlzYWJsZSBtZW1vaXphdGlvbiwgYnV0IHRoaXMgd2lsbCBjYXVzZSBjaXJjdWxhclxuICAgIHJlZmVyZW5jZXMgdG8gYmxvdyB0aGUgc3RhY2suXG4gKiBAcmV0dXJuIHtCb29sZWFufSBlcXVhbCBtYXRjaFxuKi9cbmZ1bmN0aW9uIGV4dGVuc2l2ZURlZXBFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIG9wdGlvbnMubWVtb2l6ZSA9IG9wdGlvbnMubWVtb2l6ZSA9PT0gZmFsc2UgPyBmYWxzZSA6IG9wdGlvbnMubWVtb2l6ZSB8fCBuZXcgTWVtb2l6ZU1hcCgpO1xuICB2YXIgY29tcGFyYXRvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb21wYXJhdG9yO1xuXG4gIC8vIENoZWNrIGlmIGEgbWVtb2l6ZWQgcmVzdWx0IGV4aXN0cy5cbiAgdmFyIG1lbW9pemVSZXN1bHRMZWZ0ID0gbWVtb2l6ZUNvbXBhcmUobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zLm1lbW9pemUpO1xuICBpZiAobWVtb2l6ZVJlc3VsdExlZnQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gbWVtb2l6ZVJlc3VsdExlZnQ7XG4gIH1cbiAgdmFyIG1lbW9pemVSZXN1bHRSaWdodCA9IG1lbW9pemVDb21wYXJlKHJpZ2h0SGFuZE9wZXJhbmQsIGxlZnRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplKTtcbiAgaWYgKG1lbW9pemVSZXN1bHRSaWdodCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBtZW1vaXplUmVzdWx0UmlnaHQ7XG4gIH1cblxuICAvLyBJZiBhIGNvbXBhcmF0b3IgaXMgcHJlc2VudCwgdXNlIGl0LlxuICBpZiAoY29tcGFyYXRvcikge1xuICAgIHZhciBjb21wYXJhdG9yUmVzdWx0ID0gY29tcGFyYXRvcihsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQpO1xuICAgIC8vIENvbXBhcmF0b3JzIG1heSByZXR1cm4gbnVsbCwgaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGdvIGJhY2sgdG8gZGVmYXVsdCBiZWhhdmlvci5cbiAgICBpZiAoY29tcGFyYXRvclJlc3VsdCA9PT0gZmFsc2UgfHwgY29tcGFyYXRvclJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgY29tcGFyYXRvclJlc3VsdCk7XG4gICAgICByZXR1cm4gY29tcGFyYXRvclJlc3VsdDtcbiAgICB9XG4gICAgLy8gVG8gYWxsb3cgY29tcGFyYXRvcnMgdG8gb3ZlcnJpZGUgKmFueSogYmVoYXZpb3IsIHdlIHJhbiB0aGVtIGZpcnN0LiBTaW5jZSBpdCBkaWRuJ3QgZGVjaWRlXG4gICAgLy8gd2hhdCB0byBkbywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdG8gcmV0dXJuIHRoZSBiYXNpYyB0ZXN0cyBmaXJzdCBiZWZvcmUgd2UgbW92ZSBvbi5cbiAgICB2YXIgc2ltcGxlUmVzdWx0ID0gc2ltcGxlRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICBpZiAoc2ltcGxlUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAvLyBEb24ndCBtZW1vaXplIHRoaXMsIGl0IHRha2VzIGxvbmdlciB0byBzZXQvcmV0cmlldmUgdGhhbiB0byBqdXN0IGNvbXBhcmUuXG4gICAgICByZXR1cm4gc2ltcGxlUmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBsZWZ0SGFuZFR5cGUgPSB0eXBlKGxlZnRIYW5kT3BlcmFuZCk7XG4gIGlmIChsZWZ0SGFuZFR5cGUgIT09IHR5cGUocmlnaHRIYW5kT3BlcmFuZCkpIHtcbiAgICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCBmYWxzZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJpbHkgc2V0IHRoZSBvcGVyYW5kcyBpbiB0aGUgbWVtb2l6ZSBvYmplY3QgdG8gcHJldmVudCBibG93aW5nIHRoZSBzdGFja1xuICBtZW1vaXplU2V0KGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucy5tZW1vaXplLCB0cnVlKTtcblxuICB2YXIgcmVzdWx0ID0gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKTtcbiAgbWVtb2l6ZVNldChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMubWVtb2l6ZSwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZXh0ZW5zaXZlRGVlcEVxdWFsQnlUeXBlKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgbGVmdEhhbmRUeXBlLCBvcHRpb25zKSB7XG4gIHN3aXRjaCAobGVmdEhhbmRUeXBlKSB7XG4gICAgY2FzZSAnU3RyaW5nJzpcbiAgICBjYXNlICdOdW1iZXInOlxuICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgIGNhc2UgJ0RhdGUnOlxuICAgICAgLy8gSWYgdGhlc2UgdHlwZXMgYXJlIHRoZWlyIGluc3RhbmNlIHR5cGVzIChlLmcuIGBuZXcgTnVtYmVyYCkgdGhlbiByZS1kZWVwRXF1YWwgYWdhaW5zdCB0aGVpciB2YWx1ZXNcbiAgICAgIHJldHVybiBkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kLnZhbHVlT2YoKSwgcmlnaHRIYW5kT3BlcmFuZC52YWx1ZU9mKCkpO1xuICAgIGNhc2UgJ1Byb21pc2UnOlxuICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgIGNhc2UgJ1dlYWtNYXAnOlxuICAgIGNhc2UgJ1dlYWtTZXQnOlxuICAgIGNhc2UgJ0Vycm9yJzpcbiAgICAgIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQgPT09IHJpZ2h0SGFuZE9wZXJhbmQ7XG4gICAgY2FzZSAnQXJndW1lbnRzJzpcbiAgICBjYXNlICdJbnQ4QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQ4QXJyYXknOlxuICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5JzpcbiAgICBjYXNlICdJbnQxNkFycmF5JzpcbiAgICBjYXNlICdVaW50MTZBcnJheSc6XG4gICAgY2FzZSAnSW50MzJBcnJheSc6XG4gICAgY2FzZSAnVWludDMyQXJyYXknOlxuICAgIGNhc2UgJ0Zsb2F0MzJBcnJheSc6XG4gICAgY2FzZSAnRmxvYXQ2NEFycmF5JzpcbiAgICBjYXNlICdBcnJheSc6XG4gICAgICByZXR1cm4gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpO1xuICAgIGNhc2UgJ1JlZ0V4cCc6XG4gICAgICByZXR1cm4gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKTtcbiAgICBjYXNlICdHZW5lcmF0b3InOlxuICAgICAgcmV0dXJuIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnRGF0YVZpZXcnOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kLmJ1ZmZlciksIG5ldyBVaW50OEFycmF5KHJpZ2h0SGFuZE9wZXJhbmQuYnVmZmVyKSwgb3B0aW9ucyk7XG4gICAgY2FzZSAnQXJyYXlCdWZmZXInOlxuICAgICAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobmV3IFVpbnQ4QXJyYXkobGVmdEhhbmRPcGVyYW5kKSwgbmV3IFVpbnQ4QXJyYXkocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xuICAgIGNhc2UgJ1NldCc6XG4gICAgICByZXR1cm4gZW50cmllc0VxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gICAgY2FzZSAnTWFwJzpcbiAgICAgIHJldHVybiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyohXG4gKiBDb21wYXJlIHR3byBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBlcXVhbGl0eS5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gcmVnZXhwRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kKSB7XG4gIHJldHVybiBsZWZ0SGFuZE9wZXJhbmQudG9TdHJpbmcoKSA9PT0gcmlnaHRIYW5kT3BlcmFuZC50b1N0cmluZygpO1xufVxuXG4vKiFcbiAqIENvbXBhcmUgdHdvIFNldHMvTWFwcyBmb3IgZXF1YWxpdHkuIEZhc3RlciB0aGFuIG90aGVyIGVxdWFsaXR5IGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge1NldH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge1NldH0gcmlnaHRIYW5kT3BlcmFuZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAoT3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuXG5mdW5jdGlvbiBlbnRyaWVzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBvcHRpb25zKSB7XG4gIC8vIElFMTEgZG9lc24ndCBzdXBwb3J0IFNldCNlbnRyaWVzIG9yIFNldCNAQGl0ZXJhdG9yLCBzbyB3ZSBuZWVkIG1hbnVhbGx5IHBvcHVsYXRlIHVzaW5nIFNldCNmb3JFYWNoXG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSAhPT0gcmlnaHRIYW5kT3BlcmFuZC5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsZWZ0SGFuZE9wZXJhbmQuc2l6ZSA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBsZWZ0SGFuZEl0ZW1zID0gW107XG4gIHZhciByaWdodEhhbmRJdGVtcyA9IFtdO1xuICBsZWZ0SGFuZE9wZXJhbmQuZm9yRWFjaChmdW5jdGlvbiBnYXRoZXJFbnRyaWVzKGtleSwgdmFsdWUpIHtcbiAgICBsZWZ0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuICB9KTtcbiAgcmlnaHRIYW5kT3BlcmFuZC5mb3JFYWNoKGZ1bmN0aW9uIGdhdGhlckVudHJpZXMoa2V5LCB2YWx1ZSkge1xuICAgIHJpZ2h0SGFuZEl0ZW1zLnB1c2goWyBrZXksIHZhbHVlIF0pO1xuICB9KTtcbiAgcmV0dXJuIGl0ZXJhYmxlRXF1YWwobGVmdEhhbmRJdGVtcy5zb3J0KCksIHJpZ2h0SGFuZEl0ZW1zLnNvcnQoKSwgb3B0aW9ucyk7XG59XG5cbi8qIVxuICogU2ltcGxlIGVxdWFsaXR5IGZvciBmbGF0IGl0ZXJhYmxlIG9iamVjdHMgc3VjaCBhcyBBcnJheXMsIFR5cGVkQXJyYXlzIG9yIE5vZGUuanMgYnVmZmVycy5cbiAqXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7SXRlcmFibGV9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cblxuZnVuY3Rpb24gaXRlcmFibGVFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIG9wdGlvbnMpIHtcbiAgdmFyIGxlbmd0aCA9IGxlZnRIYW5kT3BlcmFuZC5sZW5ndGg7XG4gIGlmIChsZW5ndGggIT09IHJpZ2h0SGFuZE9wZXJhbmQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgaW5kZXggPSAtMTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBpZiAoZGVlcEVxdWFsKGxlZnRIYW5kT3BlcmFuZFtpbmRleF0sIHJpZ2h0SGFuZE9wZXJhbmRbaW5kZXhdLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qIVxuICogU2ltcGxlIGVxdWFsaXR5IGZvciBnZW5lcmF0b3Igb2JqZWN0cyBzdWNoIGFzIHRob3NlIHJldHVybmVkIGJ5IGdlbmVyYXRvciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtJdGVyYWJsZX0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge0l0ZXJhYmxlfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIGdlbmVyYXRvckVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICByZXR1cm4gaXRlcmFibGVFcXVhbChnZXRHZW5lcmF0b3JFbnRyaWVzKGxlZnRIYW5kT3BlcmFuZCksIGdldEdlbmVyYXRvckVudHJpZXMocmlnaHRIYW5kT3BlcmFuZCksIG9wdGlvbnMpO1xufVxuXG4vKiFcbiAqIERldGVybWluZSBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgb2JqZWN0IGhhcyBhbiBAQGl0ZXJhdG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBoYXNJdGVyYXRvckZ1bmN0aW9uKHRhcmdldCkge1xuICByZXR1cm4gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHRhcmdldFtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKiFcbiAqIEdldHMgYWxsIGl0ZXJhdG9yIGVudHJpZXMgZnJvbSB0aGUgZ2l2ZW4gT2JqZWN0LiBJZiB0aGUgT2JqZWN0IGhhcyBubyBAQGl0ZXJhdG9yIGZ1bmN0aW9uLCByZXR1cm5zIGFuIGVtcHR5IGFycmF5LlxuICogVGhpcyB3aWxsIGNvbnN1bWUgdGhlIGl0ZXJhdG9yIC0gd2hpY2ggY291bGQgaGF2ZSBzaWRlIGVmZmVjdHMgZGVwZW5kaW5nIG9uIHRoZSBAQGl0ZXJhdG9yIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEByZXR1cm5zIHtBcnJheX0gYW4gYXJyYXkgb2YgZW50cmllcyBmcm9tIHRoZSBAQGl0ZXJhdG9yIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRW50cmllcyh0YXJnZXQpIHtcbiAgaWYgKGhhc0l0ZXJhdG9yRnVuY3Rpb24odGFyZ2V0KSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZ2V0R2VuZXJhdG9yRW50cmllcyh0YXJnZXRbU3ltYm9sLml0ZXJhdG9yXSgpKTtcbiAgICB9IGNhdGNoIChpdGVyYXRvckVycm9yKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIHJldHVybiBbXTtcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBlbnRyaWVzIGZyb20gYSBHZW5lcmF0b3IuIFRoaXMgd2lsbCBjb25zdW1lIHRoZSBnZW5lcmF0b3IgLSB3aGljaCBjb3VsZCBoYXZlIHNpZGUgZWZmZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0dlbmVyYXRvcn0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIGVudHJpZXMgZnJvbSB0aGUgR2VuZXJhdG9yLlxuICovXG5mdW5jdGlvbiBnZXRHZW5lcmF0b3JFbnRyaWVzKGdlbmVyYXRvcikge1xuICB2YXIgZ2VuZXJhdG9yUmVzdWx0ID0gZ2VuZXJhdG9yLm5leHQoKTtcbiAgdmFyIGFjY3VtdWxhdG9yID0gWyBnZW5lcmF0b3JSZXN1bHQudmFsdWUgXTtcbiAgd2hpbGUgKGdlbmVyYXRvclJlc3VsdC5kb25lID09PSBmYWxzZSkge1xuICAgIGdlbmVyYXRvclJlc3VsdCA9IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgYWNjdW11bGF0b3IucHVzaChnZW5lcmF0b3JSZXN1bHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cblxuLyohXG4gKiBHZXRzIGFsbCBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIGtleXMgZnJvbSBhIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7QXJyYXl9IGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUga2V5cyBmcm9tIHRoZSB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIGdldEVudW1lcmFibGVLZXlzKHRhcmdldCkge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cbi8qIVxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBoYXZlIG1hdGNoaW5nIHZhbHVlcywgZ2l2ZW4gYSBzZXQgb2Yga2V5cy4gRGVmZXJzIHRvIGRlZXBFcXVhbCBmb3IgdGhlIGVxdWFsaXR5IGNoZWNrIG9mXG4gKiBlYWNoIGtleS4gSWYgYW55IHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkgaXMgbm90IGVxdWFsLCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gZmFsc2UgKGVhcmx5KS5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBsZWZ0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7TWl4ZWR9IHJpZ2h0SGFuZE9wZXJhbmRcbiAqIEBwYXJhbSB7QXJyYXl9IGtleXMgQW4gYXJyYXkgb2Yga2V5cyB0byBjb21wYXJlIHRoZSB2YWx1ZXMgb2YgbGVmdEhhbmRPcGVyYW5kIGFuZCByaWdodEhhbmRPcGVyYW5kIGFnYWluc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gKE9wdGlvbmFsKVxuICogQHJldHVybiB7Qm9vbGVhbn0gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGtleXNFcXVhbChsZWZ0SGFuZE9wZXJhbmQsIHJpZ2h0SGFuZE9wZXJhbmQsIGtleXMsIG9wdGlvbnMpIHtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChkZWVwRXF1YWwobGVmdEhhbmRPcGVyYW5kW2tleXNbaV1dLCByaWdodEhhbmRPcGVyYW5kW2tleXNbaV1dLCBvcHRpb25zKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qIVxuICogUmVjdXJzaXZlbHkgY2hlY2sgdGhlIGVxdWFsaXR5IG9mIHR3byBPYmplY3RzLiBPbmNlIGJhc2ljIHNhbWVuZXNzIGhhcyBiZWVuIGVzdGFibGlzaGVkIGl0IHdpbGwgZGVmZXIgdG8gYGRlZXBFcXVhbGBcbiAqIGZvciBlYWNoIGVudW1lcmFibGUga2V5IGluIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gbGVmdEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge01peGVkfSByaWdodEhhbmRPcGVyYW5kXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIChPcHRpb25hbClcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHJlc3VsdFxuICovXG5cbmZ1bmN0aW9uIG9iamVjdEVxdWFsKGxlZnRIYW5kT3BlcmFuZCwgcmlnaHRIYW5kT3BlcmFuZCwgb3B0aW9ucykge1xuICB2YXIgbGVmdEhhbmRLZXlzID0gZ2V0RW51bWVyYWJsZUtleXMobGVmdEhhbmRPcGVyYW5kKTtcbiAgdmFyIHJpZ2h0SGFuZEtleXMgPSBnZXRFbnVtZXJhYmxlS2V5cyhyaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kS2V5cy5sZW5ndGggJiYgbGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gcmlnaHRIYW5kS2V5cy5sZW5ndGgpIHtcbiAgICBsZWZ0SGFuZEtleXMuc29ydCgpO1xuICAgIHJpZ2h0SGFuZEtleXMuc29ydCgpO1xuICAgIGlmIChpdGVyYWJsZUVxdWFsKGxlZnRIYW5kS2V5cywgcmlnaHRIYW5kS2V5cykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBrZXlzRXF1YWwobGVmdEhhbmRPcGVyYW5kLCByaWdodEhhbmRPcGVyYW5kLCBsZWZ0SGFuZEtleXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmFyIGxlZnRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhsZWZ0SGFuZE9wZXJhbmQpO1xuICB2YXIgcmlnaHRIYW5kRW50cmllcyA9IGdldEl0ZXJhdG9yRW50cmllcyhyaWdodEhhbmRPcGVyYW5kKTtcbiAgaWYgKGxlZnRIYW5kRW50cmllcy5sZW5ndGggJiYgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gcmlnaHRIYW5kRW50cmllcy5sZW5ndGgpIHtcbiAgICBsZWZ0SGFuZEVudHJpZXMuc29ydCgpO1xuICAgIHJpZ2h0SGFuZEVudHJpZXMuc29ydCgpO1xuICAgIHJldHVybiBpdGVyYWJsZUVxdWFsKGxlZnRIYW5kRW50cmllcywgcmlnaHRIYW5kRW50cmllcywgb3B0aW9ucyk7XG4gIH1cblxuICBpZiAobGVmdEhhbmRLZXlzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgbGVmdEhhbmRFbnRyaWVzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgcmlnaHRIYW5kS2V5cy5sZW5ndGggPT09IDAgJiZcbiAgICAgIHJpZ2h0SGFuZEVudHJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qIVxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBhcmd1bWVudCBpcyBhIHByaW1pdGl2ZS5cbiAqXG4gKiBUaGlzIGludGVudGlvbmFsbHkgcmV0dXJucyB0cnVlIGZvciBhbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBjb21wYXJlZCBieSByZWZlcmVuY2UsXG4gKiBpbmNsdWRpbmcgZnVuY3Rpb25zIGFuZCBzeW1ib2xzLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufSByZXN1bHRcbiAqL1xuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCc7XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9kZWVwLWVxbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWFyY2hcIjpcInNlYXJjaF9fX3AwNEtOXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvY29tcG9uZW50cy9jb21tb24vU2VhcmNoLmxlc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG4vKipcbiAqIENyZWF0ZWQgYnkgamxqc2ogb24gMTYvMS8yNy5cbiAqL1xuXG5cbnZhciBfZWFzaW5nID0gcmVxdWlyZSgnLi9lYXNpbmcnKTtcblxudmFyIF9lYXNpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWFzaW5nKTtcblxudmFyIF9wbHVnaW5zID0gcmVxdWlyZSgnLi9wbHVnaW5zJyk7XG5cbnZhciBfcGx1Z2luczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wbHVnaW5zKTtcblxudmFyIF9TdHlsZVBsdWdpbiA9IHJlcXVpcmUoJy4vcGx1Z2luL1N0eWxlUGx1Z2luJyk7XG5cbnZhciBfU3R5bGVQbHVnaW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3R5bGVQbHVnaW4pO1xuXG52YXIgX3N0eWxlVXRpbHMgPSByZXF1aXJlKCdzdHlsZS11dGlscycpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuL3V0aWwuanMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBERUZBVUxUX0VBU0lORyA9ICdlYXNlSW5PdXRRdWFkJztcbnZhciBERUZBVUxUX0RVUkFUSU9OID0gNDUwO1xudmFyIERFRkFVTFRfREVMQVkgPSAwO1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5fcGx1Z2luczJbXCJkZWZhdWx0XCJdLnB1c2goX1N0eWxlUGx1Z2luMltcImRlZmF1bHRcIl0pO1xuLy8g6K6+572u6buY6K6k5pWw5o2uXG5mdW5jdGlvbiBkZWZhdWx0RGF0YSh2YXJzLCBub3cpIHtcbiAgcmV0dXJuIHtcbiAgICBkdXJhdGlvbjogdmFycy5kdXJhdGlvbiB8fCB2YXJzLmR1cmF0aW9uID09PSAwID8gdmFycy5kdXJhdGlvbiA6IERFRkFVTFRfRFVSQVRJT04sXG4gICAgZGVsYXk6IHZhcnMuZGVsYXkgfHwgREVGQVVMVF9ERUxBWSxcbiAgICBlYXNlOiB0eXBlb2YgdmFycy5lYXNlID09PSAnZnVuY3Rpb24nID8gdmFycy5lYXNlIDogX2Vhc2luZzJbXCJkZWZhdWx0XCJdW3ZhcnMuZWFzZSB8fCBERUZBVUxUX0VBU0lOR10sXG4gICAgb25VcGRhdGU6IHZhcnMub25VcGRhdGUgfHwgbm9vcCxcbiAgICBvbkNvbXBsZXRlOiB2YXJzLm9uQ29tcGxldGUgfHwgbm9vcCxcbiAgICBvblN0YXJ0OiB2YXJzLm9uU3RhcnQgfHwgbm9vcCxcbiAgICBvblJlcGVhdDogdmFycy5vblJlcGVhdCB8fCBub29wLFxuICAgIHJlcGVhdDogdmFycy5yZXBlYXQgfHwgMCxcbiAgICByZXBlYXREZWxheTogdmFycy5yZXBlYXREZWxheSB8fCAwLFxuICAgIHlveW86IHZhcnMueW95byB8fCBmYWxzZSxcbiAgICB0eXBlOiB2YXJzLnR5cGUgfHwgJ3RvJyxcbiAgICBpbml0VGltZTogbm93LFxuICAgIGFwcGVhclRvOiB0eXBlb2YgdmFycy5hcHBlYXJUbyA9PT0gJ251bWJlcicgPyB2YXJzLmFwcGVhclRvIDogbnVsbFxuICB9O1xufVxuXG52YXIgdGltZUxpbmUgPSBmdW5jdGlvbiB0aW1lTGluZSh0YXJnZXQsIHRvRGF0YSwgcHJvcHMpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5hdHRyID0gcHJvcHMuYXR0ciB8fCAnc3R5bGUnO1xuICB0aGlzLndpbGxDaGFuZ2UgPSBwcm9wcy53aWxsQ2hhbmdlO1xuICAvLyDorrDlvZXmgLvml7bpl7Q7XG4gIHRoaXMudG90YWxUaW1lID0gMDtcbiAgLy8g6K6w5b2V5b2T5YmN5pe26Ze0O1xuICB0aGlzLnByb2dyZXNzVGltZSA9IDA7XG4gIC8vIOiusOW9leaXtumXtOi9tOaVsOaNrjtcbiAgdGhpcy5kZWZhdWx0RGF0YSA9IFtdO1xuICAvLyDmr4/kuKrnmoTlvIDlp4vmlbDmja7vvJtcbiAgdGhpcy5zdGFydCA9IHt9O1xuICAvLyDorrDlvZXliqjnlLvlvIDlp4s7XG4gIHRoaXMub25TdGFydCA9IHt9O1xuICAvLyDlvIDlp4vpu5jorqTnmoTmlbDmja7vvJtcbiAgdGhpcy5zdGFydERlZmF1bHREYXRhID0ge307XG4gIHZhciBkYXRhID0gW107XG4gIHRvRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgdmFyIF9kID0gX2V4dGVuZHMoe30sIGQpO1xuICAgIGlmIChfdGhpcy5hdHRyID09PSAnc3R5bGUnKSB7XG4gICAgICBkYXRhW2ldID0ge307XG4gICAgICBPYmplY3Qua2V5cyhfZCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gZGVmYXVsdERhdGEoe30sIDApKSB7XG4gICAgICAgICAgZGF0YVtpXVtrZXldID0gX2Rba2V5XTtcbiAgICAgICAgICBkZWxldGUgX2Rba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYXRhW2ldLnN0eWxlID0gX2Q7XG4gICAgICBfdGhpcy5zdGFydERlZmF1bHREYXRhLnN0eWxlID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICB9IGVsc2UgaWYgKF90aGlzLmF0dHIgPT09ICdhdHRyJykge1xuICAgICAgT2JqZWN0LmtleXMoX2QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnc3R5bGUnICYmIEFycmF5LmlzQXJyYXkoZFtrZXldKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3R5bGUgc2hvdWxkIGJlIHRoZSBvYmplY3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgICBfZC5zdHlsZSA9IF9leHRlbmRzKHt9LCBfZC5zdHlsZSwgeyBiZXppZXI6IF9kW2tleV0gfSk7XG4gICAgICAgICAgZGVsZXRlIF9kW2tleV07XG4gICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YS5zdHlsZSA9IF90aGlzLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMuc3RhcnREZWZhdWx0RGF0YVtrZXldID0gX3RoaXMudGFyZ2V0LmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRhdGFbaV0gPSBfZDtcbiAgICB9XG4gIH0pO1xuICAvLyDliqjnlLvov4fnqItcbiAgdGhpcy50d2VlbiA9IHt9O1xuICAvLyDmr4/luKfnmoTml7bpl7Q7XG4gIHRoaXMucGVyRnJhbWUgPSBNYXRoLnJvdW5kKDEwMDAgLyA2MCk7XG4gIC8vIOazqOWGjO+8jOesrOS4gOasoei/m+WFpeaJp+ihjOazqOWGjFxuICB0aGlzLnJlZ2lzdGVyID0gZmFsc2U7XG4gIC8vIOe8k+WKqOacgOWwj+WAvDtcbiAgdGhpcy50aW55TnVtID0gMC4wMDAwMDAwMDAxO1xuICAvLyDorr7nva7pu5jorqTliqjnlLvmlbDmja47XG4gIHRoaXMuc2V0RGVmYXVsdERhdGEoZGF0YSk7XG59O1xudmFyIHAgPSB0aW1lTGluZS5wcm90b3R5cGU7XG5cbnAuc2V0RGVmYXVsdERhdGEgPSBmdW5jdGlvbiAoX3ZhcnMpIHtcbiAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgdmFyIG5vdyA9IDA7XG4gIHZhciByZXBlYXRNYXggPSBmYWxzZTtcbiAgdmFyIGRhdGEgPSBfdmFycy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgYXBwZWFyVG9Cb29sID0gdHlwZW9mIGl0ZW0uYXBwZWFyVG8gPT09ICdudW1iZXInO1xuICAgIC8vIOWKoOS4iuW7tuaXtu+8jOWcqOayoeacieaSreaUvui/h+aXtu+8m1xuICAgIC8vICFhcHBlYXJUb0Jvb2wgJiYgKG5vdyArPSBpdGVtLmRlbGF5IHx8IDApO1xuICAgIGlmICghYXBwZWFyVG9Cb29sKSB7XG4gICAgICBub3cgKz0gaXRlbS5kZWxheSB8fCAwO1xuICAgIH1cbiAgICB2YXIgYXBwZWFyVG9UaW1lID0gKGl0ZW0uYXBwZWFyVG8gfHwgMCkgKyAoaXRlbS5kZWxheSB8fCAwKTtcbiAgICAvLyDojrflj5bpu5jorqTmlbDmja5cbiAgICB2YXIgdHdlZW5EYXRhID0gZGVmYXVsdERhdGEoaXRlbSwgYXBwZWFyVG9Cb29sID8gYXBwZWFyVG9UaW1lIDogbm93KTtcbiAgICB0d2VlbkRhdGEudmFycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICAgIGlmICghKF9rZXkgaW4gdHdlZW5EYXRhKSkge1xuICAgICAgICB2YXIgX2RhdGEgPSBpdGVtW19rZXldO1xuICAgICAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXVtfa2V5XShfdGhpczIudGFyZ2V0LCBfZGF0YSwgdHdlZW5EYXRhLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKF9rZXkubWF0Y2goL2NvbG9yL2kpIHx8IF9rZXkgPT09ICdzdHJva2UnIHx8IF9rZXkgPT09ICdmaWxsJykge1xuICAgICAgICAgIHR3ZWVuRGF0YS52YXJzW19rZXldID0geyB0eXBlOiAnY29sb3InLCB2YXJzOiAoMCwgX3N0eWxlVXRpbHMucGFyc2VDb2xvcikoX2RhdGEpIH07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF9kYXRhID09PSAnbnVtYmVyJyB8fCBfZGF0YS5zcGxpdCgvWyx8XFxzXS9nKS5sZW5ndGggPD0gMSkge1xuICAgICAgICAgIHZhciB2YXJzID0gcGFyc2VGbG9hdChfZGF0YSk7XG4gICAgICAgICAgdmFyIHVuaXQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgICAgICB2YXIgY291bnQgPSBfZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcbiAgICAgICAgICB0d2VlbkRhdGEudmFyc1tfa2V5XSA9IHsgdW5pdDogdW5pdCwgdmFyczogdmFycywgY291bnQ6IGNvdW50IH07XG4gICAgICAgIH0gZWxzZSBpZiAoKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykgJiYgJ1NWR01vcnBoJyBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICAgICAgdHdlZW5EYXRhLnZhcnNbX2tleV0gPSBuZXcgX3BsdWdpbnMyW1wiZGVmYXVsdFwiXS5TVkdNb3JwaChfdGhpczIudGFyZ2V0LCBfZGF0YSwgX2tleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodHdlZW5EYXRhLnlveW8gJiYgIXR3ZWVuRGF0YS5yZXBlYXQpIHtcbiAgICAgIGNvbnNvbGUud2FybignV2FybmluZzogeW95byBtdXN0IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCByZXBlYXQ7Jyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICB9XG4gICAgaWYgKHR3ZWVuRGF0YS5yZXBlYXQgPT09IC0xKSB7XG4gICAgICByZXBlYXRNYXggPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgcmVwZWF0ID0gdHdlZW5EYXRhLnJlcGVhdCA9PT0gLTEgPyAwIDogdHdlZW5EYXRhLnJlcGVhdDtcbiAgICBpZiAoYXBwZWFyVG9Cb29sKSB7XG4gICAgICAvLyDlpoLmnpzmnIkgYXBwZWFyVG8g5LiU6L+Z5p2h5pe26Ze05q+UIG5vdyDlpKfml7bvvIzvvIzmgLvml7bpl7TnlKjov5nmnaHvvJtcbiAgICAgIHZhciBhcHBlYXJOb3cgPSBpdGVtLmFwcGVhclRvICsgKGl0ZW0uZGVsYXkgfHwgMCkgKyB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG4gICAgICBub3cgPSBhcHBlYXJOb3cgPj0gbm93ID8gYXBwZWFyTm93IDogbm93O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHdlZW5EYXRhLmRlbGF5IDwgLXR3ZWVuRGF0YS5kdXJhdGlvbikge1xuICAgICAgICAvLyDlpoLmnpzlu7bml7blsI/kuo4g6LSf5pe26Ze05pe2LCzkuI3liqAs5YaN5YeP5Zue5bu25pe2O1xuICAgICAgICBub3cgLT0gdHdlZW5EYXRhLmRlbGF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVwZWF0IOS4uiAtMSDlj6rorrDlvZXkuIDmrKHjgILkuI3og73ot58gcmV2ZXJzZSDlkIzml7bkvb/nlKg7XG4gICAgICAgIG5vdyArPSB0d2VlbkRhdGEuZHVyYXRpb24gKiAocmVwZWF0ICsgMSkgKyB0d2VlbkRhdGEucmVwZWF0RGVsYXkgKiByZXBlYXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHR3ZWVuRGF0YS5tb2RlID0gJyc7XG4gICAgcmV0dXJuIHR3ZWVuRGF0YTtcbiAgfSk7XG4gIHRoaXMudG90YWxUaW1lID0gcmVwZWF0TWF4ID8gTnVtYmVyLk1BWF9WQUxVRSA6IG5vdztcbiAgdGhpcy5kZWZhdWx0RGF0YSA9IGRhdGE7XG59O1xucC5nZXRBbmltU3RhcnREYXRhID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdmFyIHN0YXJ0ID0ge307XG4gIE9iamVjdC5rZXlzKGl0ZW0pLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdIHx8IF90aGlzMy5hdHRyID09PSAnYXR0cicgJiYgKF9rZXkgPT09ICdkJyB8fCBfa2V5ID09PSAncG9pbnRzJykpIHtcbiAgICAgIHN0YXJ0W19rZXldID0gaXRlbVtfa2V5XS5nZXRBbmltU3RhcnQoX3RoaXMzLndpbGxDaGFuZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoX3RoaXMzLmF0dHIgPT09ICdhdHRyJykge1xuICAgICAgLy8g6Zmk5LqGZOWSjOi/mXBvaW50c+WklueahOagh+etvuWKqOeUu++8m1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9IF90aGlzMy50YXJnZXQuZ2V0QXR0cmlidXRlKF9rZXkpO1xuICAgICAgdmFyIGRhdGEgPSBhdHRyaWJ1dGUgPT09ICdudWxsJyB8fCAhYXR0cmlidXRlID8gMCA6IGF0dHJpYnV0ZTtcbiAgICAgIGlmIChfa2V5Lm1hdGNoKC9jb2xvci9pKSB8fCBfa2V5ID09PSAnc3Ryb2tlJyB8fCBfa2V5ID09PSAnZmlsbCcpIHtcbiAgICAgICAgZGF0YSA9ICFkYXRhICYmIF9rZXkgPT09ICdzdHJva2UnID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknIDogZGF0YTtcbiAgICAgICAgZGF0YSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKShkYXRhKTtcbiAgICAgICAgc3RhcnRbX2tleV0gPSBkYXRhO1xuICAgICAgfSBlbHNlIGlmIChwYXJzZUZsb2F0KGRhdGEpIHx8IHBhcnNlRmxvYXQoZGF0YSkgPT09IDAgfHwgZGF0YSA9PT0gMCkge1xuICAgICAgICB2YXIgdW5pdCA9IGRhdGEudG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICAgIHN0YXJ0W19rZXldID0gdW5pdCAhPT0gaXRlbVtfa2V5XS51bml0ID8gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMzLnRhcmdldCwgX2tleSwgcGFyc2VGbG9hdChkYXRhKSwgdW5pdCwgaXRlbVtfa2V5XS51bml0KSA6IHBhcnNlRmxvYXQoZGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBzdGFydFtfa2V5XSA9IGRhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXJ0W19rZXldID0gX3RoaXMzLnRhcmdldFtfa2V5XSB8fCAwO1xuICB9KTtcbiAgcmV0dXJuIHN0YXJ0O1xufTtcbnAuc2V0QW5pbURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM0LmF0dHIgPT09ICdhdHRyJyAmJiAoa2V5ID09PSAnZCcgfHwga2V5ID09PSAncG9pbnRzJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX3RoaXM0LnRhcmdldFtrZXldID0gZGF0YVtrZXldO1xuICB9KTtcbn07XG5wLnNldFJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBlbmREYXRhLCBpKSB7XG4gIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gIE9iamVjdC5rZXlzKGVuZERhdGEudmFycykuZm9yRWFjaChmdW5jdGlvbiAoX2tleSkge1xuICAgIGlmIChfa2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gfHwgX3RoaXM1LmF0dHIgPT09ICdhdHRyJyAmJiAoX2tleSA9PT0gJ2QnIHx8IF9rZXkgPT09ICdwb2ludHMnKSkge1xuICAgICAgZW5kRGF0YS52YXJzW19rZXldLnNldFJhdGlvKHJhdGlvLCBfdGhpczUudHdlZW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZW5kVmFycyA9IGVuZERhdGEudmFyc1tfa2V5XTtcbiAgICB2YXIgc3RhcnRWYXJzID0gX3RoaXM1LnN0YXJ0W2ldW19rZXldO1xuICAgIHZhciBkYXRhID0gdm9pZCAwO1xuICAgIGlmIChfdGhpczUuYXR0ciA9PT0gJ2F0dHInKSB7XG4gICAgICAvLyDpmaTkuoZk5ZKM6L+ZcG9pbnRz5aSW55qE5qCH562+5Yqo55S777ybXG4gICAgICBpZiAoIWVuZFZhcnMudHlwZSkge1xuICAgICAgICBkYXRhID0gZW5kVmFycy51bml0LmNoYXJBdCgxKSA9PT0gJz0nID8gc3RhcnRWYXJzICsgZW5kVmFycy52YXJzICogcmF0aW8gKyBlbmRWYXJzLnVuaXQgOiAoZW5kVmFycy52YXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgZW5kVmFycy51bml0O1xuICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCBkYXRhKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kVmFycy50eXBlID09PSAnY29sb3InKSB7XG4gICAgICAgIGlmIChlbmRWYXJzLnZhcnMubGVuZ3RoID09PSAzICYmIHN0YXJ0VmFycy5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICBlbmRWYXJzLnZhcnNbM10gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSBlbmRWYXJzLnZhcnMubWFwKGZ1bmN0aW9uIChfZW5kRGF0YSwgX2kpIHtcbiAgICAgICAgICB2YXIgc3RhcnREYXRhID0gc3RhcnRWYXJzW19pXSB8fCAwO1xuICAgICAgICAgIHJldHVybiAoX2VuZERhdGEgLSBzdGFydERhdGEpICogcmF0aW8gKyBzdGFydERhdGE7XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczUudGFyZ2V0LnNldEF0dHJpYnV0ZShfa2V5LCAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKGRhdGEpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnNldEFuaW1EYXRhKHRoaXMudHdlZW4pO1xufTtcbnAucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICB0aGlzLmRlZmF1bHREYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICB2YXIgaW5pdFRpbWUgPSBpdGVtLmluaXRUaW1lO1xuICAgIHZhciBkdXJhdGlvbiA9ICgwLCBfc3R5bGVVdGlscy50b0ZpeGVkKShpdGVtLmR1cmF0aW9uKTtcbiAgICAvLyDlpITnkIYgeW95byDlkowgcmVwZWF0OyB5b3lvIOaYr+WcqOaXtumXtOi9tOS4iueahCwg5bm25LiN5piv5YCS5pS+XG4gICAgdmFyIHJlcGVhdE51bSA9IE1hdGguY2VpbCgoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKSAvIChkdXJhdGlvbiArIGl0ZW0ucmVwZWF0RGVsYXkpKSAtIDE7XG4gICAgcmVwZWF0TnVtID0gcmVwZWF0TnVtIDwgMCA/IDAgOiByZXBlYXROdW07XG4gICAgLy8gcmVwZWF0TnVtID0gdGhpcy5wcm9ncmVzc1RpbWUgPT09IDAgPyByZXBlYXROdW0gKyAxIDogcmVwZWF0TnVtO1xuICAgIGlmIChpdGVtLnJlcGVhdCkge1xuICAgICAgaWYgKGl0ZW0ucmVwZWF0IDwgcmVwZWF0TnVtICYmIGl0ZW0ucmVwZWF0ICE9PSAtMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXRlbS5yZXBlYXQgfHwgaXRlbS5yZXBlYXQgPD0gcmVwZWF0TnVtKSB7XG4gICAgICAgIGluaXRUaW1lID0gaW5pdFRpbWUgKyByZXBlYXROdW0gKiAoZHVyYXRpb24gKyBpdGVtLnJlcGVhdERlbGF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0YXJ0RGF0YSA9IGl0ZW0ueW95byAmJiByZXBlYXROdW0gJSAyIHx8IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDA7XG4gICAgdmFyIGVuZERhdGEgPSBpdGVtLnlveW8gJiYgcmVwZWF0TnVtICUgMiB8fCBpdGVtLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxO1xuICAgIC8vICDnsr7luqbmjZ/lpLHvvIzlj6rlj5blsI/mlbDngrnlkI4xMOS9jeOAglxuICAgIHZhciBwcm9ncmVzc1RpbWUgPSAoMCwgX3N0eWxlVXRpbHMudG9GaXhlZCkoX3RoaXM2LnByb2dyZXNzVGltZSAtIGluaXRUaW1lKTtcbiAgICAvLyDorr7nva4gc3RhcnRcbiAgICB2YXIgZGVsYXkgPSBpdGVtLmRlbGF5ID49IDAgPyBpdGVtLmRlbGF5IDogLWl0ZW0uZGVsYXk7XG4gICAgdmFyIGZyb21EZWxheSA9IGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gZGVsYXkgOiAwO1xuICAgIGlmIChwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPiAtX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYuc3RhcnRbaV0pIHtcbiAgICAgIF90aGlzNi5zdGFydFtpXSA9IF90aGlzNi5nZXRBbmltU3RhcnREYXRhKGl0ZW0udmFycyk7XG4gICAgICBpZiAoIV90aGlzNi5yZWdpc3RlciAmJiBwcm9ncmVzc1RpbWUgPD0gX3RoaXM2LnBlckZyYW1lKSB7XG4gICAgICAgIF90aGlzNi5yZWdpc3RlciA9IHRydWU7XG4gICAgICAgIC8vIOWcqOW8gOWni+i3s+W4p+aXtuOAguOAglt7eDoxMDAsdHlwZTonZnJvbSd9LHt5OjMwMH1d77yM6Lez6L+H5LqGZnJvbeaXtiwgbW9tZW50ID0gNjAwID0+IOmcgOimgeaKimZyb23lkIjlm57mnaVcbiAgICAgICAgLy8g5aaC5p6cIGR1cmF0aW9uIOWSjCBkZWxheSDpg73kuLogMO+8jCDliKTmlq3nlKhzZXQsIOebtOaOpeazqOWGjOaXtuWwsee7k+adnztcbiAgICAgICAgdmFyIHMgPSBkZWxheSA/IDAgOiBpdGVtLmVhc2UoX3RoaXM2LnRpbnlOdW0sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgX3RoaXM2LnRpbnlOdW0pO1xuICAgICAgICB2YXIgc3MgPSBkdXJhdGlvbiA/IGl0ZW0uZWFzZShwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZSwgc3RhcnREYXRhLCBlbmREYXRhLCBkdXJhdGlvbikgOiBzO1xuICAgICAgICB2YXIgc3QgPSBwcm9ncmVzc1RpbWUgLyAoZHVyYXRpb24gKyBmcm9tRGVsYXkpID4gMSA/IDEgOiBzcztcbiAgICAgICAgX3RoaXM2LnNldFJhdGlvKHN0LCBpdGVtLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGUgPSB7XG4gICAgICBpbmRleDogaSxcbiAgICAgIHRhcmdldDogX3RoaXM2LnRhcmdldFxuICAgIH07XG5cbiAgICAvLyBvblJlcGVhdCDlpITnkIZcbiAgICBpZiAoaXRlbS5yZXBlYXQgJiYgcmVwZWF0TnVtID4gMCAmJiBwcm9ncmVzc1RpbWUgKyBmcm9tRGVsYXkgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgIC8vIOmHjeaWsOW8gOWniywg5Zyo56ys5LiA56eS6Kem5Y+R5pe26LCD55SoO1xuICAgICAgaXRlbS5vblJlcGVhdChlKTtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzVGltZSA8IDAgJiYgcHJvZ3Jlc3NUaW1lICsgZnJvbURlbGF5ID4gLV90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgX3RoaXM2LnNldFJhdGlvKGl0ZW0udHlwZSA9PT0gJ2Zyb20nID8gMSA6IDAsIGl0ZW0sIGkpO1xuICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3NUaW1lID49IGR1cmF0aW9uICYmIGl0ZW0ubW9kZSAhPT0gJ29uQ29tcGxldGUnKSB7XG4gICAgICB2YXIgY29tcFJhdGlvID0gZHVyYXRpb24gPyBpdGVtLmVhc2UoZHVyYXRpb24sIHN0YXJ0RGF0YSwgZW5kRGF0YSwgZHVyYXRpb24pIDogaXRlbS5lYXNlKF90aGlzNi50aW55TnVtLCBzdGFydERhdGEsIGVuZERhdGEsIF90aGlzNi50aW55TnVtKTtcbiAgICAgIF90aGlzNi5zZXRSYXRpbyhjb21wUmF0aW8sIGl0ZW0sIGkpO1xuICAgICAgaWYgKGl0ZW0ubW9kZSAhPT0gJ3Jlc2V0Jykge1xuICAgICAgICBpdGVtLm9uQ29tcGxldGUoZSk7XG4gICAgICB9XG4gICAgICBpdGVtLm1vZGUgPSAnb25Db21wbGV0ZSc7XG4gICAgfSBlbHNlIGlmIChwcm9ncmVzc1RpbWUgPj0gMCAmJiBwcm9ncmVzc1RpbWUgPCBkdXJhdGlvbikge1xuICAgICAgaXRlbS5tb2RlID0gcHJvZ3Jlc3NUaW1lIDwgX3RoaXM2LnBlckZyYW1lICYmICFfdGhpczYub25TdGFydFtpXSA/ICdvblN0YXJ0JyA6ICdvblVwZGF0ZSc7XG4gICAgICBwcm9ncmVzc1RpbWUgPSBwcm9ncmVzc1RpbWUgPCAwID8gMCA6IHByb2dyZXNzVGltZTtcbiAgICAgIHByb2dyZXNzVGltZSA9IHByb2dyZXNzVGltZSA+IGR1cmF0aW9uID8gZHVyYXRpb24gOiBwcm9ncmVzc1RpbWU7XG4gICAgICB2YXIgcmF0aW8gPSBpdGVtLmVhc2UocHJvZ3Jlc3NUaW1lLCBzdGFydERhdGEsIGVuZERhdGEsIGR1cmF0aW9uKTtcbiAgICAgIF90aGlzNi5zZXRSYXRpbyhyYXRpbywgaXRlbSwgaSk7XG4gICAgICBfdGhpczYub25TdGFydFtpXSA9IHRydWU7XG4gICAgICBpZiAocHJvZ3Jlc3NUaW1lIDw9IF90aGlzNi5wZXJGcmFtZSkge1xuICAgICAgICBpdGVtLm9uU3RhcnQoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLm9uVXBkYXRlKF9leHRlbmRzKHsgcmF0aW86IHJhdGlvIH0sIGUpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvZ3Jlc3NUaW1lID49IDAgJiYgcHJvZ3Jlc3NUaW1lIDwgZHVyYXRpb24gKyBfdGhpczYucGVyRnJhbWUpIHtcbiAgICAgIF90aGlzNi5vbkNoYW5nZShfZXh0ZW5kcyh7XG4gICAgICAgIG1vbWVudDogX3RoaXM2LnByb2dyZXNzVGltZSxcbiAgICAgICAgbW9kZTogaXRlbS5tb2RlXG4gICAgICB9LCBlKSk7XG4gICAgfVxuICB9KTtcbn07XG4vLyDmkq3mlL7luKdcbnAuZnJhbWUgPSBmdW5jdGlvbiAobW9tZW50KSB7XG4gIHRoaXMucHJvZ3Jlc3NUaW1lID0gbW9tZW50O1xuICB0aGlzLnJlbmRlcigpO1xufTtcbnAucmVzZXRBbmltRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy50d2VlbiA9IHt9O1xuICB0aGlzLnN0YXJ0ID0ge307XG4gIHRoaXMub25TdGFydCA9IHt9O1xufTtcblxucC5yZXNldERlZmF1bHRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgdGhpcy50d2VlbiA9IHt9O1xuICB0aGlzLmRlZmF1bHREYXRhID0gdGhpcy5kZWZhdWx0RGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpdGVtLm1vZGUgPSAncmVzZXQnO1xuICAgIHJldHVybiBpdGVtO1xuICB9KTtcbiAgT2JqZWN0LmtleXModGhpcy5zdGFydERlZmF1bHREYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gZGVmYXVsdERhdGEoe30sIDApKSkge1xuICAgICAgX3RoaXM3LnRhcmdldC5zZXRBdHRyaWJ1dGUoa2V5LCBfdGhpczcuc3RhcnREZWZhdWx0RGF0YVtrZXldKTtcbiAgICB9XG4gIH0pO1xufTtcblxucC5vbkNoYW5nZSA9IG5vb3A7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHRpbWVMaW5lO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9UaW1lTGluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Ud2Vlbk9uZSA9IHJlcXVpcmUoJy4vVHdlZW5PbmUnKTtcblxudmFyIF9Ud2Vlbk9uZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ud2Vlbk9uZSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHsgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7IGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgeyB2YXIga2V5ID0ga2V5c1tpXTsgdmFyIHZhbHVlID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkZWZhdWx0cywga2V5KTsgaWYgKHZhbHVlICYmIHZhbHVlLmNvbmZpZ3VyYWJsZSAmJiBvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpOyB9IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBfZGVmYXVsdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgVHdlZW5PbmVHcm91cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUd2Vlbk9uZUdyb3VwLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUd2Vlbk9uZUdyb3VwKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2Vlbk9uZUdyb3VwKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwoX3RoaXMpO1xuXG4gICAgX3RoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBfdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuICAgIF90aGlzLm9uRW50ZXJCb29sID0gZmFsc2U7XG4gICAgX3RoaXMuaXNUd2VlbiA9IHt9O1xuICAgIC8vIOesrOS4gOi/m+WFpe+8jGFwcGVhciDkuLogdHJ1ZSDml7bpu5jorqTnlKggZW50ZXIg5oiWIHR3ZWVuLW9uZSDkuIrnmoTmlYjmnpxcbiAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3V0aWwudG9BcnJheUNoaWxkcmVuKSgoMCwgX3V0aWwuZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMpKF90aGlzLnByb3BzKSk7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFR3ZWVuT25lR3JvdXAucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5vbkVudGVyQm9vbCA9IHRydWU7XG4gIH07XG5cbiAgVHdlZW5PbmVHcm91cC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgbmV4dENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikobmV4dFByb3BzLmNoaWxkcmVuKTtcbiAgICB2YXIgY3VycmVudENoaWxkcmVuID0gKDAsIF91dGlsLnRvQXJyYXlDaGlsZHJlbikodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG4gICAgdmFyIG5ld0NoaWxkcmVuID0gKDAsIF91dGlsLm1lcmdlQ2hpbGRyZW4pKGN1cnJlbnRDaGlsZHJlbiwgbmV4dENoaWxkcmVuKTtcblxuICAgIHRoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAgbmV4dENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmICghYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gYy5rZXk7XG4gICAgICB2YXIgaGFzUHJldiA9ICgwLCBfdXRpbC5maW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkpKGN1cnJlbnRDaGlsZHJlbiwga2V5KTtcbiAgICAgIGlmICghaGFzUHJldiAmJiBrZXkpIHtcbiAgICAgICAgX3RoaXMyLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoIWMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGMua2V5O1xuICAgICAgdmFyIGhhc05leHQgPSAoMCwgX3V0aWwuZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KShuZXh0Q2hpbGRyZW4sIGtleSk7XG4gICAgICBpZiAoIWhhc05leHQgJiYga2V5KSB7XG4gICAgICAgIF90aGlzMi5rZXlzVG9MZWF2ZS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cbiAgICB9KTtcbiAgfTtcblxuICBUd2Vlbk9uZUdyb3VwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIGNoaWxkcmVuVG9SZW5kZXIgPSB0aGlzLmdldENoaWxkcmVuVG9SZW5kZXIodGhpcy5zdGF0ZS5jaGlsZHJlbik7XG4gICAgaWYgKCF0aGlzLnByb3BzLmNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNoaWxkcmVuVG9SZW5kZXJbMF0gfHwgbnVsbDtcbiAgICB9XG4gICAgdmFyIGNvbXBvbmVudFByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMpO1xuICAgIFsnY29tcG9uZW50JywgJ2FwcGVhcicsICdlbnRlcicsICdsZWF2ZScsICdhbmltYXRpbmdDbGFzc05hbWUnLCAnb25FbmQnLCAncmVzZXRTdHlsZUJvb2wnLCAnd2lsbENoYW5nZSddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGRlbGV0ZSBjb21wb25lbnRQcm9wc1trZXldO1xuICAgIH0pO1xuICAgIHJldHVybiAoMCwgX3JlYWN0LmNyZWF0ZUVsZW1lbnQpKHRoaXMucHJvcHMuY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgY2hpbGRyZW5Ub1JlbmRlcik7XG4gIH07XG5cbiAgcmV0dXJuIFR3ZWVuT25lR3JvdXA7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoYW5pbWF0aW9uLCBrZXksIHR5cGUsIG9iaikge1xuICAgIHZhciBsZW5ndGggPSAoMCwgX3V0aWwuZGF0YVRvQXJyYXkpKGFuaW1hdGlvbikubGVuZ3RoO1xuICAgIHZhciBhbmltYXRpbmdDbGFzc05hbWUgPSBfdGhpczMucHJvcHMuYW5pbWF0aW5nQ2xhc3NOYW1lO1xuICAgIHZhciB0YWcgPSBvYmoudGFyZ2V0O1xuICAgIHZhciBpc0VudGVyID0gdHlwZSA9PT0gJ2VudGVyJyB8fCB0eXBlID09PSAnYXBwZWFyJztcbiAgICBpZiAob2JqLm1vZGUgPT09ICdvblN0YXJ0Jykge1xuICAgICAgdGFnLmNsYXNzTmFtZSA9IHRhZy5jbGFzc05hbWUucmVwbGFjZShhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDEgOiAwXSwgJycpLnRyaW0oKTtcbiAgICAgIGlmICh0YWcuY2xhc3NOYW1lLmluZGV4T2YoYW5pbWF0aW5nQ2xhc3NOYW1lW2lzRW50ZXIgPyAwIDogMV0pID09PSAtMSkge1xuICAgICAgICB0YWcuY2xhc3NOYW1lID0gKHRhZy5jbGFzc05hbWUgKyAnICcgKyBhbmltYXRpbmdDbGFzc05hbWVbaXNFbnRlciA/IDAgOiAxXSkudHJpbSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2JqLmluZGV4ID09PSBsZW5ndGggLSAxICYmIG9iai5tb2RlID09PSAnb25Db21wbGV0ZScpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IF90aGlzMy5zdGF0ZS5jaGlsZHJlbjtcbiAgICAgIGlmICh0eXBlID09PSAnZW50ZXInKSB7XG4gICAgICAgIF90aGlzMy5rZXlzVG9FbnRlci5zcGxpY2UoX3RoaXMzLmtleXNUb0VudGVyLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsZWF2ZScpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBfdGhpczMuc3RhdGUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBrZXkgIT09IGNoaWxkLmtleTtcbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5zcGxpY2UoX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSwgMSk7XG4gICAgICB9XG4gICAgICB0YWcuY2xhc3NOYW1lID0gdGFnLmNsYXNzTmFtZS5yZXBsYWNlKGFuaW1hdGluZ0NsYXNzTmFtZVtpc0VudGVyID8gMCA6IDFdLCAnJykudHJpbSgpO1xuICAgICAgZGVsZXRlIF90aGlzMy5pc1R3ZWVuW2tleV07XG4gICAgICBfdGhpczMuc2V0U3RhdGUoe1xuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgIH0pO1xuICAgICAgdmFyIF9vYmogPSB7IGtleToga2V5LCB0eXBlOiB0eXBlIH07XG4gICAgICBfdGhpczMucHJvcHMub25FbmQoX29iaik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0Q292ZXJBbmltYXRpb24gPSBmdW5jdGlvbiAoY2hpbGQsIGksIHR5cGUpIHtcbiAgICB2YXIgYW5pbWF0aW9uID0gdm9pZCAwO1xuICAgIHZhciBvbkNoYW5nZSA9IHZvaWQgMDtcbiAgICBhbmltYXRpb24gPSB0eXBlID09PSAnbGVhdmUnID8gX3RoaXMzLnByb3BzLmxlYXZlIDogX3RoaXMzLnByb3BzLmVudGVyO1xuICAgIGlmICh0eXBlID09PSAnYXBwZWFyJykge1xuICAgICAgdmFyIGFwcGVhciA9ICgwLCBfdXRpbC50cmFuc2Zvcm1Bcmd1bWVudHMpKF90aGlzMy5wcm9wcy5hcHBlYXIsIGNoaWxkLmtleSwgaSk7XG4gICAgICBhbmltYXRpb24gPSBhcHBlYXIgJiYgX3RoaXMzLnByb3BzLmVudGVyIHx8IG51bGw7XG4gICAgfVxuICAgIG9uQ2hhbmdlID0gX3RoaXMzLm9uQ2hhbmdlLmJpbmQoX3RoaXMzLCBhbmltYXRpb24sIGNoaWxkLmtleSwgdHlwZSk7XG4gICAgdmFyIGNoaWxkcmVuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVHdlZW5PbmUyW1wiZGVmYXVsdFwiXSwgX2V4dGVuZHMoe30sIGNoaWxkLnByb3BzLCB7XG4gICAgICB3aWxsQ2hhbmdlOiBfdGhpczMucHJvcHMud2lsbENoYW5nZSxcbiAgICAgIGtleTogY2hpbGQua2V5LFxuICAgICAgY29tcG9uZW50OiBjaGlsZC50eXBlLFxuICAgICAgYW5pbWF0aW9uOiAoMCwgX3V0aWwudHJhbnNmb3JtQXJndW1lbnRzKShhbmltYXRpb24sIGNoaWxkLmtleSwgaSksXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICByZXNldFN0eWxlQm9vbDogX3RoaXMzLnByb3BzLnJlc2V0U3R5bGVCb29sXG4gICAgfSkpO1xuICAgIGlmIChfdGhpczMua2V5c1RvRW50ZXIuY29uY2F0KF90aGlzMy5rZXlzVG9MZWF2ZSkuaW5kZXhPZihjaGlsZC5rZXkpID49IDAgfHwgIV90aGlzMy5vbkVudGVyQm9vbCAmJiBhbmltYXRpb24pIHtcbiAgICAgIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gPSB0eXBlO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH07XG5cbiAgdGhpcy5nZXRDaGlsZHJlblRvUmVuZGVyID0gZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGkpIHtcbiAgICAgIGlmICghY2hpbGQgfHwgIWNoaWxkLmtleSkge1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICB9XG4gICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuICAgICAgaWYgKF90aGlzMy5rZXlzVG9MZWF2ZS5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCAnbGVhdmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoX3RoaXMzLmtleXNUb0VudGVyLmluZGV4T2Yoa2V5KSA+PSAwIHx8IF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmtleXNUb0xlYXZlLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2VudGVyJyk7XG4gICAgICB9IGVsc2UgaWYgKCFfdGhpczMub25FbnRlckJvb2wpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRDb3ZlckFuaW1hdGlvbihjaGlsZCwgaSwgJ2FwcGVhcicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzMy5pc1R3ZWVuW2NoaWxkLmtleV0gJiYgX3RoaXMzLmdldENvdmVyQW5pbWF0aW9uKGNoaWxkLCBpLCBfdGhpczMuaXNUd2VlbltjaGlsZC5rZXldKSB8fCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ud2Vlbk9uZTJbXCJkZWZhdWx0XCJdLCBfZXh0ZW5kcyh7fSwgY2hpbGQucHJvcHMsIHsgY29tcG9uZW50OiBjaGlsZC50eXBlLCBrZXk6IGNoaWxkLmtleSB9KSk7XG4gICAgfSk7XG4gIH07XG59O1xuXG52YXIgb2JqZWN0T3JBcnJheSA9IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pO1xudmFyIG9iamVjdE9yQXJyYXlPckZ1bmMgPSBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbb2JqZWN0T3JBcnJheSwgX3JlYWN0LlByb3BUeXBlcy5mdW5jXSk7XG5cblR3ZWVuT25lR3JvdXAucHJvcFR5cGVzID0ge1xuICBjb21wb25lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgYXBwZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIGVudGVyOiBvYmplY3RPckFycmF5T3JGdW5jLFxuICBsZWF2ZTogb2JqZWN0T3JBcnJheU9yRnVuYyxcbiAgYW5pbWF0aW5nQ2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICBvbkVuZDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICB3aWxsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gIHJlc2V0U3R5bGVCb29sOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2xcbn07XG5cblR3ZWVuT25lR3JvdXAuZGVmYXVsdFByb3BzID0ge1xuICBjb21wb25lbnQ6ICdkaXYnLFxuICBhcHBlYXI6IHRydWUsXG4gIGFuaW1hdGluZ0NsYXNzTmFtZTogWyd0d2Vlbi1vbmUtZW50ZXJpbmcnLCAndHdlZW4tb25lLWxlYXZpbmcnXSxcbiAgZW50ZXI6IHsgeDogNTAsIG9wYWNpdHk6IDAsIHR5cGU6ICdmcm9tJyB9LFxuICBsZWF2ZTogeyB4OiAtNTAsIG9wYWNpdHk6IDAgfSxcbiAgb25FbmQ6IG5vb3AsXG4gIHdpbGxDaGFuZ2U6IHRydWUsXG4gIHJlc2V0U3R5bGVCb29sOiB0cnVlXG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUd2Vlbk9uZUdyb3VwO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9Ud2Vlbk9uZUdyb3VwLmpzXG4gKiogbW9kdWxlIGlkID0gMTY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDUgNlxuICoqLyIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR3ZWVuT25lID0gcmVxdWlyZSgnLi9Ud2Vlbk9uZScpO1xuVHdlZW5PbmUuVHdlZW5PbmVHcm91cCA9IHJlcXVpcmUoJy4vVHdlZW5PbmVHcm91cCcpO1xuVHdlZW5PbmUuZWFzaW5nID0gcmVxdWlyZSgnLi9lYXNpbmcnKTtcbm1vZHVsZS5leHBvcnRzID0gVHdlZW5PbmU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IC8qIGVzbGludC1kaXNhYmxlIGZ1bmMtbmFtZXMsIG5vLWNvbnNvbGUgKi9cblxuXG52YXIgX3N0eWxlVXRpbHMgPSByZXF1aXJlKCdzdHlsZS11dGlscycpO1xuXG52YXIgX3N0eWxlVXRpbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3R5bGVVdGlscyk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwuanMnKTtcblxudmFyIF9wbHVnaW5zID0gcmVxdWlyZSgnLi4vcGx1Z2lucycpO1xuXG52YXIgX3BsdWdpbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGx1Z2lucyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgU3R5bGVQbHVnaW4gPSBmdW5jdGlvbiBTdHlsZVBsdWdpbih0YXJnZXQsIHZhcnMsIHR5cGUpIHtcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMudmFycyA9IHZhcnM7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMucHJvcHNEYXRhID0ge307XG4gIHRoaXMuc2V0RGVmYXVsdERhdGEoKTtcbn07XG52YXIgcCA9IFN0eWxlUGx1Z2luLnByb3RvdHlwZSA9IHtcbiAgbmFtZTogJ3N0eWxlJ1xufTtcbnAuZ2V0Q29tcHV0ZWRTdHlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3ID8gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnRhcmdldCkgOiB7fTtcbn07XG5wLmdldFR3ZWVuRGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhcnMpIHtcbiAgdmFyIGRhdGEgPSB7XG4gICAgZGF0YToge30sXG4gICAgZGF0YVR5cGU6IHt9LFxuICAgIGRhdGFVbml0OiB7fSxcbiAgICBkYXRhQ291bnQ6IHt9LFxuICAgIGRhdGFTcGxpdFN0cjoge31cbiAgfTtcbiAgaWYgKGtleS5tYXRjaCgvY29sb3xmaWxsfHN0b3JrZXIvaSkpIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9ICgwLCBfc3R5bGVVdGlscy5wYXJzZUNvbG9yKSh2YXJzKTtcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnY29sb3InO1xuICB9IGVsc2UgaWYgKGtleS5tYXRjaCgvc2hhZG93L2kpKSB7XG4gICAgZGF0YS5kYXRhW2tleV0gPSAoMCwgX3N0eWxlVXRpbHMucGFyc2VTaGFkb3cpKHZhcnMpO1xuICAgIGRhdGEuZGF0YVR5cGVba2V5XSA9ICdzaGFkb3cnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YXJzID09PSAnc3RyaW5nJyAmJiB2YXJzLnNwbGl0KC9bXFxzfCxdLykubGVuZ3RoID4gMSkge1xuICAgIGRhdGEuZGF0YVtrZXldID0gdmFycy5zcGxpdCgvW1xcc3wsXS8pO1xuICAgIGRhdGEuZGF0YVNwbGl0U3RyW2tleV0gPSB2YXJzLnJlcGxhY2UoL1teXFxzfCxdL2csICcnKTtcbiAgICBkYXRhLmRhdGFUeXBlW2tleV0gPSAnc3RyaW5nJztcbiAgfSBlbHNlIHtcbiAgICBkYXRhLmRhdGFba2V5XSA9IHZhcnM7XG4gICAgZGF0YS5kYXRhVHlwZVtrZXldID0gJ290aGVyJztcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmRhdGFba2V5XSkpIHtcbiAgICBkYXRhLmRhdGFVbml0W2tleV0gPSBkYXRhLmRhdGFba2V5XS5tYXAoZnVuY3Rpb24gKF9pdGVtKSB7XG4gICAgICByZXR1cm4gX2l0ZW0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgfSk7XG4gICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLm1hcChmdW5jdGlvbiAoX2l0ZW0pIHtcbiAgICAgIHJldHVybiBfaXRlbS50b1N0cmluZygpLnJlcGxhY2UoL1teK3w9fC1dL2csICcnKTtcbiAgICB9KTtcblxuICAgIGRhdGEuZGF0YVtrZXldID0gZGF0YS5kYXRhW2tleV0ubWFwKGZ1bmN0aW9uIChfaXRlbSkge1xuICAgICAgcmV0dXJuICFwYXJzZUZsb2F0KF9pdGVtKSAmJiBwYXJzZUZsb2F0KF9pdGVtKSAhPT0gMCA/IF9pdGVtIDogcGFyc2VGbG9hdChfaXRlbSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YS5kYXRhVW5pdFtrZXldID0gZGF0YS5kYXRhW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgZGF0YS5kYXRhQ291bnRba2V5XSA9IGRhdGEuZGF0YVtrZXldLnRvU3RyaW5nKCkucmVwbGFjZSgvW14rfD18LV0vZywgJycpO1xuICAgIHZhciBkID0gcGFyc2VGbG9hdChkYXRhLmRhdGFba2V5XS50b1N0cmluZygpLnJlcGxhY2UoL1thLXp8JXw9XS9nLCAnJykpO1xuICAgIGRhdGEuZGF0YVtrZXldID0gIWQgJiYgZCAhPT0gMCA/IGRhdGEuZGF0YVtrZXldIDogZDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn07XG5wLnNldERlZmF1bHREYXRhID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMucHJvcHNEYXRhLmRhdGEgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YVR5cGUgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YVVuaXQgPSB7fTtcbiAgdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50ID0ge307XG4gIHRoaXMucHJvcHNEYXRhLmRhdGFTcGxpdFN0ciA9IHt9O1xuICBPYmplY3Qua2V5cyh0aGlzLnZhcnMpLmZvckVhY2goZnVuY3Rpb24gKF9rZXkpIHtcbiAgICBpZiAoX2tleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YVtfa2V5XSA9IG5ldyBfcGx1Z2luczJbXCJkZWZhdWx0XCJdW19rZXldKF90aGlzLnRhcmdldCwgX3RoaXMudmFyc1tfa2V5XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBrZXkgPSAoMCwgX3N0eWxlVXRpbHMuZ2V0R3NhcFR5cGUpKF9rZXkpO1xuICAgIHZhciBfZGF0YSA9IF90aGlzLmdldFR3ZWVuRGF0YShrZXksIF90aGlzLnZhcnNbX2tleV0pO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhW2tleV0gPSBfZGF0YS5kYXRhW2tleV07XG4gICAgX3RoaXMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV0gPSBfZGF0YS5kYXRhVHlwZVtrZXldO1xuICAgIF90aGlzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldID0gX2RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICBfdGhpcy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV0gPSBfZGF0YS5kYXRhQ291bnRba2V5XTtcbiAgICBpZiAoX2RhdGEuZGF0YVNwbGl0U3RyW2tleV0pIHtcbiAgICAgIF90aGlzLnByb3BzRGF0YS5kYXRhU3BsaXRTdHJba2V5XSA9IF9kYXRhLmRhdGFTcGxpdFN0cltrZXldO1xuICAgIH1cbiAgfSk7XG59O1xucC5jb252ZXJ0VG9NYXJrc0FycmF5ID0gZnVuY3Rpb24gKHVuaXQsIGtleSwgZGF0YSwgaSkge1xuICB2YXIgc3RhcnRVbml0ID0gZGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgdmFyIGVuZFVuaXQgPSB1bml0W2ldO1xuICBpZiAoc3RhcnRVbml0ID09PSBlbmRVbml0KSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSk7XG4gIH0gZWxzZSBpZiAoIXBhcnNlRmxvYXQoZGF0YSkgJiYgcGFyc2VGbG9hdChkYXRhKSAhPT0gMCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIHJldHVybiAoMCwgX3V0aWwuc3RhcnRDb252ZXJ0VG9FbmRVbml0KSh0aGlzLnRhcmdldCwga2V5LCBkYXRhLCBzdGFydFVuaXQsIGVuZFVuaXQsIG51bGwsIGtleSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgJiYgIWkpO1xufTtcbnAuZ2V0QW5pbVN0YXJ0ID0gZnVuY3Rpb24gKHdpbGxDaGFuZ2VCb29sKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHZhciBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG4gIHZhciBzdHlsZSA9IHt9O1xuICB0aGlzLnN1cHBvcnRzM0QgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdwZXJzcGVjdGl2ZScpO1xuICB2YXIgd2lsbENoYW5nZUFycmF5ID0gdm9pZCAwO1xuICBpZiAod2lsbENoYW5nZUJvb2wpIHtcbiAgICB0aGlzLndpbGxDaGFuZ2UgPSBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2UgPT09ICdhdXRvJyB8fCAhY29tcHV0ZWRTdHlsZS53aWxsQ2hhbmdlIHx8IGNvbXB1dGVkU3R5bGUud2lsbENoYW5nZSA9PT0gJ25vbmUnID8gJycgOiBjb21wdXRlZFN0eWxlLndpbGxDaGFuZ2U7XG4gICAgd2lsbENoYW5nZUFycmF5ID0gdGhpcy53aWxsQ2hhbmdlLnNwbGl0KCcsJykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gaztcbiAgICB9KTtcbiAgfVxuICBPYmplY3Qua2V5cyh0aGlzLnByb3BzRGF0YS5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgY3NzTmFtZSA9ICgwLCBfc3R5bGVVdGlscy5pc0NvbnZlcnQpKGtleSk7XG4gICAgaWYgKHdpbGxDaGFuZ2VCb29sKSB7XG4gICAgICB2YXIgd2lsbFN0eWxlID0ga2V5IGluIF9wbHVnaW5zMltcImRlZmF1bHRcIl0gPyBfdGhpczIucHJvcHNEYXRhLmRhdGFba2V5XS51c2VTdHlsZSB8fCBjc3NOYW1lIDogY3NzTmFtZTtcbiAgICAgIHdpbGxTdHlsZSA9IHdpbGxTdHlsZSA9PT0gJ3RyYW5zZm9ybU9yaWdpbicgPyAndHJhbnNmb3JtLW9yaWdpbicgOiB3aWxsU3R5bGU7XG4gICAgICBpZiAod2lsbENoYW5nZUFycmF5LmluZGV4T2Yod2lsbFN0eWxlKSA9PT0gLTEgJiYgKHdpbGxTdHlsZSBpbiBjb21wdXRlZFN0eWxlIHx8IGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSkge1xuICAgICAgICB3aWxsQ2hhbmdlQXJyYXkucHVzaCh3aWxsU3R5bGUpO1xuICAgICAgfVxuICAgICAgX3RoaXMyLndpbGxDaGFuZ2UgPSB3aWxsQ2hhbmdlQXJyYXkuam9pbignLCcpO1xuICAgIH1cbiAgICB2YXIgc3RhcnREYXRhID0gY29tcHV0ZWRTdHlsZVtjc3NOYW1lXTtcbiAgICB2YXIgZml4ZWQgPSBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICAgIGlmICghc3RhcnREYXRhIHx8IHN0YXJ0RGF0YSA9PT0gJ25vbmUnIHx8IHN0YXJ0RGF0YSA9PT0gJ2F1dG8nKSB7XG4gICAgICBzdGFydERhdGEgPSAnJztcbiAgICB9XG4gICAgdmFyIHRyYW5zZm9ybSA9IHZvaWQgMDtcbiAgICB2YXIgZW5kVW5pdCA9IHZvaWQgMDtcbiAgICB2YXIgc3RhcnRVbml0ID0gdm9pZCAwO1xuICAgIGlmIChrZXkgaW4gX3BsdWdpbnMyW1wiZGVmYXVsdFwiXSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgX3RoaXMyLnRyYW5zZm9ybSA9ICgwLCBfc3R5bGVVdGlscy5jaGVja1N0eWxlTmFtZSkoJ3RyYW5zZm9ybScpO1xuICAgICAgICBzdGFydERhdGEgPSBjb21wdXRlZFN0eWxlW190aGlzMi50cmFuc2Zvcm1dO1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gfHwgKDAsIF9zdHlsZVV0aWxzLmdldFRyYW5zZm9ybSkoc3RhcnREYXRhKTtcbiAgICAgIH1cbiAgICAgIF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldLmdldEFuaW1TdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoY3NzTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgIF90aGlzMi50cmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCd0cmFuc2Zvcm0nKTtcbiAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLnRyYW5zZm9ybV07XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtIHx8ICgwLCBfc3R5bGVVdGlscy5nZXRUcmFuc2Zvcm0pKHN0YXJ0RGF0YSk7XG4gICAgICBpZiAoZW5kVW5pdCAmJiBlbmRVbml0Lm1hdGNoKC8lfHZ3fHZofGVtfHJlbS9pKSkge1xuICAgICAgICB2YXIgcGVyY2VudCA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG4gICAgICAgIHRyYW5zZm9ybVtwZXJjZW50XSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGtleSwgdHJhbnNmb3JtW2tleV0sIG51bGwsIGVuZFVuaXQpO1xuICAgICAgICB0cmFuc2Zvcm1ba2V5XSA9IDA7XG4gICAgICB9XG4gICAgICBzdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgfSBlbHNlIGlmIChjc3NOYW1lID09PSAnZmlsdGVyJykge1xuICAgICAgX3RoaXMyLmZpbHRlck5hbWUgPSAoMCwgX3N0eWxlVXRpbHMuY2hlY2tTdHlsZU5hbWUpKCdmaWx0ZXInKSB8fCAnZmlsdGVyJztcbiAgICAgIHN0YXJ0RGF0YSA9IGNvbXB1dGVkU3R5bGVbX3RoaXMyLmZpbHRlck5hbWVdO1xuICAgICAgX3RoaXMyLmZpbHRlck9iamVjdCA9IF9leHRlbmRzKHt9LCBfdGhpczIuZmlsdGVyT2JqZWN0LCAoMCwgX3N0eWxlVXRpbHMuc3BsaXRGaWx0ZXJUb09iamVjdCkoc3RhcnREYXRhKSk7XG4gICAgICBzdGFydERhdGEgPSBfdGhpczIuZmlsdGVyT2JqZWN0W2tleV0gfHwgMDtcbiAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgIGVuZFVuaXQgPSBfdGhpczIucHJvcHNEYXRhLmRhdGFVbml0W2tleV07XG4gICAgICBpZiAoZW5kVW5pdCAhPT0gc3RhcnRVbml0KSB7XG4gICAgICAgIHN0YXJ0RGF0YSA9ICgwLCBfdXRpbC5zdGFydENvbnZlcnRUb0VuZFVuaXQpKF90aGlzMi50YXJnZXQsIGNzc05hbWUsIHBhcnNlRmxvYXQoc3RhcnREYXRhKSwgc3RhcnRVbml0LCBlbmRVbml0LCBmaXhlZCk7XG4gICAgICB9XG4gICAgICBzdHlsZVtrZXldID0gcGFyc2VGbG9hdChzdGFydERhdGEpO1xuICAgIH0gZWxzZSBpZiAoa2V5Lm1hdGNoKC9jb2xvcnxmaWxsL2kpIHx8IGtleSA9PT0gJ3N0cm9rZScpIHtcbiAgICAgIHN0YXJ0RGF0YSA9ICFzdGFydERhdGEgJiYga2V5ID09PSAnc3Ryb2tlJyA/ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyA6IHN0YXJ0RGF0YTtcbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlQ29sb3IpKHN0YXJ0RGF0YSk7XG4gICAgfSBlbHNlIGlmIChrZXkubWF0Y2goL3NoYWRvdy9pKSkge1xuICAgICAgc3RhcnREYXRhID0gKDAsIF9zdHlsZVV0aWxzLnBhcnNlU2hhZG93KShzdGFydERhdGEpO1xuICAgICAgZW5kVW5pdCA9IF90aGlzMi5wcm9wc0RhdGEuZGF0YVVuaXRba2V5XTtcbiAgICAgIHN0YXJ0RGF0YSA9IHN0YXJ0RGF0YS5tYXAoX3RoaXMyLmNvbnZlcnRUb01hcmtzQXJyYXkuYmluZChfdGhpczIsIGVuZFVuaXQsIGtleSkpO1xuICAgICAgc3R5bGVbY3NzTmFtZV0gPSBzdGFydERhdGE7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF90aGlzMi5wcm9wc0RhdGEuZGF0YVtrZXldKSkge1xuICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLnNwbGl0KC9bXFxzfCxdLyk7XG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgICAgc3RhcnREYXRhID0gc3RhcnREYXRhLm1hcChfdGhpczIuY29udmVydFRvTWFya3NBcnJheS5iaW5kKF90aGlzMiwgZW5kVW5pdCwga2V5KSk7XG4gICAgICBzdHlsZVtjc3NOYW1lXSA9IHN0YXJ0RGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6K6h566X5Y2V5L2NXG4gICAgICBlbmRVbml0ID0gX3RoaXMyLnByb3BzRGF0YS5kYXRhVW5pdFtjc3NOYW1lXTtcbiAgICAgIHN0YXJ0VW5pdCA9IHN0YXJ0RGF0YS50b1N0cmluZygpLnJlcGxhY2UoL1teYS16fCVdL2csICcnKTtcbiAgICAgIGlmIChlbmRVbml0ICE9PSBzdGFydFVuaXQpIHtcbiAgICAgICAgc3RhcnREYXRhID0gKDAsIF91dGlsLnN0YXJ0Q29udmVydFRvRW5kVW5pdCkoX3RoaXMyLnRhcmdldCwgY3NzTmFtZSwgcGFyc2VGbG9hdChzdGFydERhdGEpLCBzdGFydFVuaXQsIGVuZFVuaXQsIGZpeGVkKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlW2Nzc05hbWVdID0gcGFyc2VGbG9hdChzdGFydERhdGEgfHwgMCk7XG4gICAgfVxuICB9KTtcbiAgdGhpcy5zdGFydCA9IHN0eWxlO1xuICByZXR1cm4gc3R5bGU7XG59O1xucC5zZXRBcnJheVJhdGlvID0gZnVuY3Rpb24gKHJhdGlvLCBzdGFydCwgdmFycywgdW5pdCwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gJ2NvbG9yJyAmJiBzdGFydC5sZW5ndGggPT09IDQgJiYgdmFycy5sZW5ndGggPT09IDMpIHtcbiAgICB2YXJzWzNdID0gMTtcbiAgfVxuICB2YXIgc3RhcnRJbnNldCA9IHN0YXJ0LmluZGV4T2YoJ2luc2V0JykgPj0gMDtcbiAgdmFyIGVuZEluc2V0ID0gdmFycy5pbmRleE9mKCdpbnNldCcpID49IDA7XG4gIGlmIChzdGFydEluc2V0ICYmICFlbmRJbnNldCB8fCBlbmRJbnNldCAmJiAhc3RhcnRJbnNldCkge1xuICAgIHRocm93IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBcImJveC1zaGFkb3dcIiBpbnNldCBoYXZlIHRvIGV4aXN0Jyk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IGVuZEluc2V0ID8gOSA6IDg7XG4gIGlmIChzdGFydC5sZW5ndGggPT09IGxlbmd0aCAmJiB2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgIHZhcnMuc3BsaWNlKDMsIDAsIDApO1xuICAgIHVuaXQuc3BsaWNlKDMsIDAsICcnKTtcbiAgfSBlbHNlIGlmICh2YXJzLmxlbmd0aCA9PT0gbGVuZ3RoICYmIHN0YXJ0Lmxlbmd0aCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgIHN0YXJ0LnNwbGljZSgzLCAwLCAwKTtcbiAgfVxuICB2YXIgX3ZhcnMgPSB2YXJzLm1hcChmdW5jdGlvbiAoZW5kRGF0YSwgaSkge1xuICAgIHZhciBzdGFydElzQWxwaGEgPSB0eXBlID09PSAnY29sb3InICYmIGkgPT09IDMgJiYgIXN0YXJ0W2ldID8gMSA6IDA7XG4gICAgdmFyIHN0YXJ0RGF0YSA9IHR5cGVvZiBzdGFydFtpXSA9PT0gJ251bWJlcicgPyBzdGFydFtpXSA6IHN0YXJ0SXNBbHBoYTtcbiAgICBpZiAodHlwZW9mIGVuZERhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gZW5kRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIChlbmREYXRhIC0gc3RhcnREYXRhKSAqIHJhdGlvICsgc3RhcnREYXRhICsgKHVuaXRbaV0gfHwgMCk7XG4gIH0pO1xuICBpZiAodHlwZSA9PT0gJ2NvbG9yJykge1xuICAgIHJldHVybiAoMCwgX3N0eWxlVXRpbHMuZ2V0Q29sb3IpKF92YXJzKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnc2hhZG93Jykge1xuICAgIHZhciBsID0gX3ZhcnMubGVuZ3RoID09PSBsZW5ndGggPyA0IDogMztcbiAgICB2YXIgcyA9IF92YXJzLnNsaWNlKDAsIGwpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaXRlbSArICdweCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbiAgICB2YXIgYyA9IF92YXJzLnNsaWNlKGwsIGVuZEluc2V0ID8gX3ZhcnMubGVuZ3RoIC0gMSA6IF92YXJzLmxlbmd0aCk7XG4gICAgdmFyIGNvbG9yID0gKDAsIF9zdHlsZVV0aWxzLmdldENvbG9yKShjKTtcbiAgICByZXR1cm4gKHMuam9pbignICcpICsgJyAnICsgY29sb3IgKyAnICcgKyAoZW5kSW5zZXQgPyAnaW5zZXQnIDogJycpKS50cmltKCk7XG4gIH1cbiAgcmV0dXJuIF92YXJzO1xufTtcblxucC5zZXRSYXRpbyA9IGZ1bmN0aW9uIChyYXRpbywgdHdlZW4pIHtcbiAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgdHdlZW4uc3R5bGUgPSB0d2Vlbi5zdHlsZSB8fCB7fTtcbiAgaWYgKHRoaXMuc3RhcnQudHJhbnNmb3JtKSB7XG4gICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtID0gdHdlZW4uc3R5bGUudHJhbnNmb3JtIHx8IF9leHRlbmRzKHt9LCB0aGlzLnN0YXJ0LnRyYW5zZm9ybSk7XG4gIH1cbiAgdmFyIHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG4gIGlmICh0aGlzLndpbGxDaGFuZ2UpIHtcbiAgICBpZiAocmF0aW8gPT09ICh0aGlzLnR5cGUgPT09ICdmcm9tJyA/IDAgOiAxKSkge1xuICAgICAgc3R5bGUud2lsbENoYW5nZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLndpbGxDaGFuZ2UgPSB0aGlzLndpbGxDaGFuZ2U7XG4gICAgfVxuICB9XG4gIE9iamVjdC5rZXlzKHRoaXMucHJvcHNEYXRhLmRhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBfaXNUcmFuc2Zvcm0gPSAoMCwgX3N0eWxlVXRpbHMuaXNUcmFuc2Zvcm0pKGtleSkgPT09ICd0cmFuc2Zvcm0nO1xuICAgIHZhciBzdGFydFZhcnMgPSBfaXNUcmFuc2Zvcm0gPyBfdGhpczMuc3RhcnQudHJhbnNmb3JtW2tleV0gOiBfdGhpczMuc3RhcnRba2V5XTtcbiAgICB2YXIgZW5kVmFycyA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YVtrZXldO1xuICAgIHZhciB1bml0ID0gX3RoaXMzLnByb3BzRGF0YS5kYXRhVW5pdFtrZXldO1xuICAgIHZhciBjb3VudCA9IF90aGlzMy5wcm9wc0RhdGEuZGF0YUNvdW50W2tleV07XG4gICAgaWYgKGtleSBpbiBfcGx1Z2luczJbXCJkZWZhdWx0XCJdKSB7XG4gICAgICBfdGhpczMucHJvcHNEYXRhLmRhdGFba2V5XS5zZXRSYXRpbyhyYXRpbywgdHdlZW4pO1xuICAgICAgaWYgKGtleSA9PT0gJ2JlemllcicpIHtcbiAgICAgICAgc3R5bGVbX3RoaXMzLnRyYW5zZm9ybV0gPSAoMCwgX3V0aWwuZ2V0VHJhbnNmb3JtVmFsdWUpKHR3ZWVuLnN0eWxlLnRyYW5zZm9ybSwgX3RoaXMzLnN1cHBvcnRzM0QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgT2JqZWN0LmtleXModHdlZW4uc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGNzcykge1xuICAgICAgICAgIHJldHVybiBzdHlsZVtjc3NdID0gdHdlZW4uc3R5bGVbY3NzXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChfaXNUcmFuc2Zvcm0pIHtcbiAgICAgIGlmICh1bml0ICYmIHVuaXQubWF0Y2goLyV8dnd8dmh8ZW18cmVtL2kpKSB7XG4gICAgICAgIHZhciBwTmFtZSA9IGtleSA9PT0gJ3RyYW5zbGF0ZVgnID8gJ3hQZXJjZW50JyA6ICd5UGVyY2VudCc7XG4gICAgICAgIHN0YXJ0VmFycyA9IF90aGlzMy5zdGFydC50cmFuc2Zvcm1bcE5hbWVdO1xuICAgICAgICBpZiAoY291bnQuY2hhckF0KDEpID09PSAnPScpIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gc3RhcnRWYXJzICsgZW5kVmFycyAqIHJhdGlvICsgdW5pdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1bcE5hbWVdID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnMgKyB1bml0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NjYWxlJykge1xuICAgICAgICB2YXIgeFN0YXJ0ID0gX3RoaXMzLnN0YXJ0LnRyYW5zZm9ybS5zY2FsZVg7XG4gICAgICAgIHZhciB5U3RhcnQgPSBfdGhpczMuc3RhcnQudHJhbnNmb3JtLnNjYWxlWTtcbiAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGUudHJhbnNmb3JtLnNjYWxlWCA9IHhTdGFydCArIGVuZFZhcnMgKiByYXRpbztcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVZID0geVN0YXJ0ICsgZW5kVmFycyAqIHJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybS5zY2FsZVggPSAoZW5kVmFycyAtIHhTdGFydCkgKiByYXRpbyArIHhTdGFydDtcbiAgICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm0uc2NhbGVZID0gKGVuZFZhcnMgLSB5U3RhcnQpICogcmF0aW8gKyB5U3RhcnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb3VudC5jaGFyQXQoMSkgPT09ICc9Jykge1xuICAgICAgICB0d2Vlbi5zdHlsZS50cmFuc2Zvcm1ba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlLnRyYW5zZm9ybVtrZXldID0gKGVuZFZhcnMgLSBzdGFydFZhcnMpICogcmF0aW8gKyBzdGFydFZhcnM7XG4gICAgICB9XG4gICAgICBzdHlsZVtfdGhpczMudHJhbnNmb3JtXSA9ICgwLCBfdXRpbC5nZXRUcmFuc2Zvcm1WYWx1ZSkodHdlZW4uc3R5bGUudHJhbnNmb3JtLCBfdGhpczMuc3VwcG9ydHMzRCk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGVuZFZhcnMpKSB7XG4gICAgICB2YXIgX3R5cGUgPSBfdGhpczMucHJvcHNEYXRhLmRhdGFUeXBlW2tleV07XG4gICAgICB0d2Vlbi5zdHlsZVtrZXldID0gX3RoaXMzLnNldEFycmF5UmF0aW8ocmF0aW8sIHN0YXJ0VmFycywgZW5kVmFycywgdW5pdCwgX3R5cGUpO1xuICAgICAgaWYgKF90eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICB0d2Vlbi5zdHlsZVtrZXldID0gdHdlZW4uc3R5bGVba2V5XS5qb2luKF90aGlzMy5wcm9wc0RhdGEuZGF0YVNwbGl0U3RyW2tleV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3R5bGVVbml0ID0gKDAsIF9zdHlsZVV0aWxzLnN0eWxlc1RvQ3NzKShrZXksIDApO1xuICAgICAgc3R5bGVVbml0ID0gdHlwZW9mIHN0eWxlVW5pdCA9PT0gJ251bWJlcicgPyAnJyA6IHN0eWxlVW5pdC5yZXBsYWNlKC9bXmEtenwlXS9nLCAnJyk7XG4gICAgICB1bml0ID0gdW5pdCB8fCAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDAgPyAnJyA6IHN0eWxlVW5pdCk7XG4gICAgICBpZiAodHlwZW9mIGVuZFZhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHR3ZWVuLnN0eWxlW2tleV0gPSBlbmRWYXJzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNvdW50LmNoYXJBdCgxKSA9PT0gJz0nKSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IHN0YXJ0VmFycyArIGVuZFZhcnMgKiByYXRpbyArIHVuaXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHdlZW4uc3R5bGVba2V5XSA9IChlbmRWYXJzIC0gc3RhcnRWYXJzKSAqIHJhdGlvICsgc3RhcnRWYXJzICsgdW5pdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoX3N0eWxlVXRpbHMyW1wiZGVmYXVsdFwiXS5maWx0ZXIuaW5kZXhPZihrZXkpID49IDApIHtcbiAgICAgIGlmICghX3RoaXMzLmZpbHRlck9iamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpczMuZmlsdGVyT2JqZWN0W2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuICAgICAgdmFyIGZpbHRlclN0eWxlID0gJyc7XG4gICAgICBPYmplY3Qua2V5cyhfdGhpczMuZmlsdGVyT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChmaWx0ZXJLZXkpIHtcbiAgICAgICAgZmlsdGVyU3R5bGUgKz0gJyAnICsgZmlsdGVyS2V5ICsgJygnICsgX3RoaXMzLmZpbHRlck9iamVjdFtmaWx0ZXJLZXldICsgJyknO1xuICAgICAgfSk7XG4gICAgICBzdHlsZVtfdGhpczMuZmlsdGVyTmFtZV0gPSBmaWx0ZXJTdHlsZS50cmltKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0eWxlW2tleV0gPSB0d2Vlbi5zdHlsZVtrZXldO1xuICB9KTtcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFN0eWxlUGx1Z2luO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdHdlZW4tb25lL2xpYi9wbHVnaW4vU3R5bGVQbHVnaW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JhZiA9IHJlcXVpcmUoJ3JhZicpO1xuXG52YXIgX3JhZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYWYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFRpY2tlciA9IGZ1bmN0aW9uIFRpY2tlcigpIHt9OyAvKiBlc2xpbnQtZGlzYWJsZSBmdW5jLW5hbWVzICovXG5cblxudmFyIHAgPSBUaWNrZXIucHJvdG90eXBlID0ge1xuICB0aWNrRm5PYmplY3Q6IHt9LFxuICBpZDogLTEsXG4gIHR3ZWVuSWQ6IDAsXG4gIGZyYW1lOiAwLFxuICBwZXJGcmFtZTogTWF0aC5yb3VuZCgxMDAwIC8gNjApLFxuICBnZXRUaW1lOiBEYXRlLm5vdyB8fCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9LFxuICBlbGFwc2VkOiAwLFxuICBsYXN0VXBkYXRlOiAwLFxuICBza2lwRnJhbWVNYXg6IDE2NlxufTtcbnAuYWRkID0gZnVuY3Rpb24gKGZuKSB7XG4gIHZhciBrZXkgPSAndHdlZW5PbmUnICsgdGhpcy50d2VlbklkO1xuICB0aGlzLnR3ZWVuSWQrKztcbiAgdGhpcy53YWtlKGtleSwgZm4pO1xuICByZXR1cm4ga2V5O1xufTtcbnAud2FrZSA9IGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gIHRoaXMudGlja0ZuT2JqZWN0W2tleV0gPSBmbjtcbiAgaWYgKHRoaXMuaWQgPT09IC0xKSB7XG4gICAgdGhpcy5pZCA9ICgwLCBfcmFmMltcImRlZmF1bHRcIl0pKHRoaXMudGljayk7XG4gIH1cbn07XG5wLmNsZWFyID0gZnVuY3Rpb24gKGtleSkge1xuICBkZWxldGUgdGhpcy50aWNrRm5PYmplY3Rba2V5XTtcbn07XG5wLnNsZWVwID0gZnVuY3Rpb24gKCkge1xuICBfcmFmMltcImRlZmF1bHRcIl0uY2FuY2VsKHRoaXMuaWQpO1xuICB0aGlzLmlkID0gLTE7XG4gIHRoaXMuZnJhbWUgPSAwO1xufTtcbnZhciB0aWNrZXIgPSBuZXcgVGlja2VyKCk7XG5wLnRpY2sgPSBmdW5jdGlvbiAoYSkge1xuICB0aWNrZXIuZWxhcHNlZCA9IHRpY2tlci5sYXN0VXBkYXRlID8gdGlja2VyLmdldFRpbWUoKSAtIHRpY2tlci5sYXN0VXBkYXRlIDogMDtcbiAgdGlja2VyLmxhc3RVcGRhdGUgPSB0aWNrZXIubGFzdFVwZGF0ZSA/IHRpY2tlci5sYXN0VXBkYXRlICsgdGlja2VyLmVsYXBzZWQgOiB0aWNrZXIuZ2V0VGltZSgpICsgdGlja2VyLmVsYXBzZWQ7XG4gIHZhciBvYmogPSB0aWNrZXIudGlja0ZuT2JqZWN0O1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChvYmpba2V5XSkge1xuICAgICAgb2JqW2tleV0oYSk7XG4gICAgfVxuICB9KTtcbiAgLy8g5aaC5p6cIG9iamVjdCDph4zmsqHlr7nosaHkuobvvIzoh6rliqjmnYDmjonvvJtcbiAgaWYgKCFPYmplY3Qua2V5cyhvYmopLmxlbmd0aCkge1xuICAgIHRpY2tlci5zbGVlcCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGlja2VyLmVsYXBzZWQgPiB0aWNrZXIuc2tpcEZyYW1lTWF4IHx8ICF0aWNrZXIuZnJhbWUpIHtcbiAgICB0aWNrZXIuZnJhbWUrKztcbiAgfSBlbHNlIHtcbiAgICB0aWNrZXIuZnJhbWUgKz0gTWF0aC5yb3VuZCh0aWNrZXIuZWxhcHNlZCAvIHRpY2tlci5wZXJGcmFtZSk7XG4gIH1cbiAgdGlja2VyLmlkID0gKDAsIF9yYWYyW1wiZGVmYXVsdFwiXSkodGlja2VyLnRpY2spO1xufTtcbnZhciB0aW1lb3V0SWROdW1iZXIgPSAwO1xucC50aW1lb3V0ID0gZnVuY3Rpb24gKGZuLCB0aW1lKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKCEodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiBjb25zb2xlLndhcm4oJ0lzIG5vIGZ1bmN0aW9uJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxuICB2YXIgdGltZW91dElEID0gJ3RpbWVvdXQnICsgRGF0ZS5ub3coKSArICctJyArIHRpbWVvdXRJZE51bWJlcjtcbiAgdmFyIHN0YXJ0RnJhbWUgPSB0aGlzLmZyYW1lO1xuICB0aGlzLndha2UodGltZW91dElELCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vbWVudCA9IChfdGhpcy5mcmFtZSAtIHN0YXJ0RnJhbWUpICogX3RoaXMucGVyRnJhbWU7XG4gICAgaWYgKG1vbWVudCA+PSAodGltZSB8fCAwKSkge1xuICAgICAgX3RoaXMuY2xlYXIodGltZW91dElEKTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9KTtcbiAgdGltZW91dElkTnVtYmVyKys7XG4gIHJldHVybiB0aW1lb3V0SUQ7XG59O1xudmFyIGludGVydmFsSWROdW1iZXIgPSAwO1xucC5pbnRlcnZhbCA9IGZ1bmN0aW9uIChmbiwgdGltZSkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBpZiAoISh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpKSB7XG4gICAgY29uc29sZS53YXJuKCdJcyBubyBmdW5jdGlvbicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGludGVydmFsSUQgPSAnaW50ZXJ2YWwnICsgRGF0ZS5ub3coKSArICctJyArIGludGVydmFsSWROdW1iZXI7XG4gIHZhciBzdGFyRnJhbWUgPSB0aGlzLmZyYW1lO1xuICB0aGlzLndha2UoaW50ZXJ2YWxJRCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb21lbnQgPSAoX3RoaXMyLmZyYW1lIC0gc3RhckZyYW1lKSAqIF90aGlzMi5wZXJGcmFtZTtcbiAgICBpZiAobW9tZW50ID49ICh0aW1lIHx8IDApKSB7XG4gICAgICBzdGFyRnJhbWUgPSBfdGhpczIuZnJhbWU7XG4gICAgICBmbigpO1xuICAgIH1cbiAgfSk7XG4gIGludGVydmFsSWROdW1iZXIrKztcbiAgcmV0dXJuIGludGVydmFsSUQ7XG59O1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB0aWNrZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy10d2Vlbi1vbmUvbGliL3RpY2tlci5qc1xuICoqIG1vZHVsZSBpZCA9IDE2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA1IDZcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbi8vIHQ6IGN1cnJlbnQgdGltZSwgYjogYmVnaW5uaW5nIHZhbHVlLCBfYzogZmluYWwgdmFsdWUsIGQ6IHRvdGFsIGR1cmF0aW9uXG52YXIgdHdlZW5GdW5jdGlvbnMgPSB7XG4gIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbiAgfSxcbiAgZWFzZUluUXVhZDogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gIH0sXG4gIGVhc2VPdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG4gICAgfVxuICB9LFxuICBlYXNlSW5DdWJpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gIH0sXG4gIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICB9LFxuICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJblNpbmU6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICB9LFxuICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluRXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gKHQ9PTApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0L2QgLSAxKSkgKyBiO1xuICB9LFxuICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gKHQ9PWQpID8gYitjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdC9kKSArIDEpICsgYjtcbiAgfSxcbiAgZWFzZUluT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIGlmICh0ID09PSBkKSB7XG4gICAgICByZXR1cm4gYiArIGM7XG4gICAgfVxuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuICB9LFxuICBlYXNlT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluRWxhc3RpYzogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgYSwgcCwgcztcbiAgICBzID0gMS43MDE1ODtcbiAgICBwID0gMDtcbiAgICBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogMC4zO1xuICAgIH1cbiAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICBhID0gYztcbiAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICB9XG4gICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgfSxcbiAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgdmFyIGEsIHAsIHM7XG4gICAgcyA9IDEuNzAxNTg7XG4gICAgcCA9IDA7XG4gICAgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH0gZWxzZSBpZiAoKHQgLz0gZCkgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBzID0gcCAvIDQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgfVxuICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciBhLCBwLCBzO1xuICAgIHMgPSAxLjcwMTU4O1xuICAgIHAgPSAwO1xuICAgIGEgPSBjO1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9IGVsc2UgaWYgKCh0IC89IGQgLyAyKSA9PT0gMikge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogKDAuMyAqIDEuNSk7XG4gICAgfVxuICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgIGEgPSBjO1xuICAgICAgcyA9IHAgLyA0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgIH1cbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiAtMC41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBjICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkJhY2s6IGZ1bmN0aW9uKHQsIGIsIF9jLCBkLCBzKSB7XG4gICAgdmFyIGMgPSBfYyAtIGI7XG4gICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICB9LFxuICBlYXNlT3V0QmFjazogZnVuY3Rpb24odCwgYiwgX2MsIGQsIHMpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICB9XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICB9LFxuICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBfYywgZCwgcykge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcbiAgICB9XG4gIH0sXG4gIGVhc2VJbkJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICB2YXIgdjtcbiAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCk7XG4gICAgcmV0dXJuIGMgLSB2ICsgYjtcbiAgfSxcbiAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgX2MsIGQpIHtcbiAgICB2YXIgYyA9IF9jIC0gYjtcbiAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICB9IGVsc2UgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgMC43NSkgKyBiO1xuICAgIH0gZWxzZSBpZiAodCA8IDIuNSAvIDIuNzUpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuMjUgLyAyLjc1KSAqIHQgKyAwLjkzNzUpICsgYjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAwLjk4NDM3NSkgKyBiO1xuICAgIH1cbiAgfSxcbiAgZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBfYywgZCkge1xuICAgIHZhciBjID0gX2MgLSBiO1xuICAgIHZhciB2O1xuICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgIHYgPSB0d2VlbkZ1bmN0aW9ucy5lYXNlSW5Cb3VuY2UodCAqIDIsIDAsIGMsIGQpO1xuICAgICAgcmV0dXJuIHYgKiAwLjUgKyBiO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ID0gdHdlZW5GdW5jdGlvbnMuZWFzZU91dEJvdW5jZSh0ICogMiAtIGQsIDAsIGMsIGQpO1xuICAgICAgcmV0dXJuIHYgKiAwLjUgKyBjICogMC41ICsgYjtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gdHdlZW5GdW5jdGlvbnM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi90d2Vlbi1mdW5jdGlvbnMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuLyogIVxuICogdHlwZS1kZXRlY3RcbiAqIENvcHlyaWdodChjKSAyMDEzIGpha2UgbHVlciA8amFrZUBhbG9naWNhbHBhcmFkb3guY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cbnZhciBnZXRQcm90b3R5cGVPZkV4aXN0cyA9IHR5cGVvZiBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPT09ICdmdW5jdGlvbic7XG52YXIgcHJvbWlzZUV4aXN0cyA9IHR5cGVvZiBQcm9taXNlID09PSAnZnVuY3Rpb24nO1xudmFyIGdsb2JhbE9iamVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiBzZWxmOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG52YXIgaXNEb20gPSAnbG9jYXRpb24nIGluIGdsb2JhbE9iamVjdCAmJiAnZG9jdW1lbnQnIGluIGdsb2JhbE9iamVjdDtcbnZhciBodG1sRWxlbWVudEV4aXN0cyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgaXNBcnJheUV4aXN0cyA9IHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nO1xudmFyIHN5bWJvbEV4aXN0cyA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnO1xudmFyIG1hcEV4aXN0cyA9IHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnO1xudmFyIHNldEV4aXN0cyA9IHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnO1xudmFyIHdlYWtNYXBFeGlzdHMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgd2Vha1NldEV4aXN0cyA9IHR5cGVvZiBXZWFrU2V0ICE9PSAndW5kZWZpbmVkJztcbnZhciBkYXRhVmlld0V4aXN0cyA9IHR5cGVvZiBEYXRhVmlldyAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc3ltYm9sSXRlcmF0b3JFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc3ltYm9sVG9TdHJpbmdUYWdFeGlzdHMgPSBzeW1ib2xFeGlzdHMgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyAhPT0gJ3VuZGVmaW5lZCc7XG52YXIgc2V0RW50cmllc0V4aXN0cyA9IHNldEV4aXN0cyAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSAnZnVuY3Rpb24nO1xudmFyIG1hcEVudHJpZXNFeGlzdHMgPSBtYXBFeGlzdHMgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzZXRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mRXhpc3RzICYmIHNldEVudHJpZXNFeGlzdHMgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBTZXQoKS5lbnRyaWVzKCkpO1xudmFyIG1hcEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2ZFeGlzdHMgJiYgbWFwRW50cmllc0V4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IE1hcCgpLmVudHJpZXMoKSk7XG52YXIgYXJyYXlJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBhcnJheUl0ZXJhdG9yUHJvdG90eXBlID0gYXJyYXlJdGVyYXRvckV4aXN0cyAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoW11bU3ltYm9sLml0ZXJhdG9yXSgpKTtcbnZhciBzdHJpbmdJdGVyYXRvckV4aXN0cyA9IHN5bWJvbEl0ZXJhdG9yRXhpc3RzICYmIHR5cGVvZiBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbnZhciBzdHJpbmdJdGVyYXRvclByb3RvdHlwZSA9IHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZignJ1tTeW1ib2wuaXRlcmF0b3JdKCkpO1xudmFyIHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoID0gODtcbnZhciB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGggPSAtMTtcbi8qKlxuICogIyMjIHR5cGVPZiAob2JqKVxuICpcbiAqIFVzZXMgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QsXG4gKiBub3JtYWxpc2luZyBiZWhhdmlvdXIgYWNyb3NzIGVuZ2luZSB2ZXJzaW9ucyAmIHdlbGwgb3B0aW1pc2VkLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IG9iamVjdFxuICogQHJldHVybiB7U3RyaW5nfSBvYmplY3QgdHlwZVxuICogQGFwaSBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0eXBlRGV0ZWN0KG9iaikge1xuICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgKiBQcmU6XG4gICAqICAgc3RyaW5nIGxpdGVyYWwgICAgIHggMywwMzksMDM1IG9wcy9zZWMgwrExLjYyJSAoNzggcnVucyBzYW1wbGVkKVxuICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDEsNDI0LDEzOCBvcHMvc2VjIMKxNC41NCUgKDc1IHJ1bnMgc2FtcGxlZClcbiAgICogICBudW1iZXIgbGl0ZXJhbCAgICAgeCAxLDY1MywxNTMgb3BzL3NlYyDCsTEuOTElICg4MiBydW5zIHNhbXBsZWQpXG4gICAqICAgdW5kZWZpbmVkICAgICAgICAgIHggOSw5NzgsNjYwIG9wcy9zZWMgwrExLjkyJSAoNzUgcnVucyBzYW1wbGVkKVxuICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDIsNTU2LDc2OSBvcHMvc2VjIMKxMS43MyUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgICogUG9zdDpcbiAgICogICBzdHJpbmcgbGl0ZXJhbCAgICAgeCAzOCw1NjQsNzk2IG9wcy9zZWMgwrExLjE1JSAoNzkgcnVucyBzYW1wbGVkKVxuICAgKiAgIGJvb2xlYW4gbGl0ZXJhbCAgICB4IDMxLDE0OCw5NDAgb3BzL3NlYyDCsTEuMTAlICg3OSBydW5zIHNhbXBsZWQpXG4gICAqICAgbnVtYmVyIGxpdGVyYWwgICAgIHggMzIsNjc5LDMzMCBvcHMvc2VjIMKxMS45MCUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICogICB1bmRlZmluZWQgICAgICAgICAgeCAzMiwzNjMsMzY4IG9wcy9zZWMgwrExLjA3JSAoODIgcnVucyBzYW1wbGVkKVxuICAgKiAgIGZ1bmN0aW9uICAgICAgICAgICB4IDMxLDI5Niw4NzAgb3BzL3NlYyDCsTAuOTYlICg4MyBydW5zIHNhbXBsZWQpXG4gICAqL1xuICB2YXIgdHlwZW9mT2JqID0gdHlwZW9mIG9iajtcbiAgaWYgKHR5cGVvZk9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdHlwZW9mT2JqO1xuICB9XG5cbiAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICogUHJlOlxuICAgKiAgIG51bGwgICAgICAgICAgICAgICB4IDI4LDY0NSw3NjUgb3BzL3NlYyDCsTEuMTclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgbnVsbCAgICAgICAgICAgICAgIHggMzYsNDI4LDk2MiBvcHMvc2VjIMKxMS4zNyUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gJ251bGwnO1xuICB9XG5cbiAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93KWBgXG4gICAqICAtIE5vZGUgPT09IFwiW29iamVjdCBnbG9iYWxdXCJcbiAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBXaW5kb3ddXCJcbiAgICogIC0gUGhhbnRvbUpTID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqICAtIFNhZmFyaSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxuICAgKiAgLSBJRSBFZGdlID09PSBcIltvYmplY3QgV2luZG93XVwiXG4gICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcylgYFxuICAgKiAgLSBDaHJvbWUgV29ya2VyID09PSBcIltvYmplY3QgZ2xvYmFsXVwiXG4gICAqICAtIEZpcmVmb3ggV29ya2VyID09PSBcIltvYmplY3QgRGVkaWNhdGVkV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICogIC0gU2FmYXJpIFdvcmtlciA9PT0gXCJbb2JqZWN0IERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIElFIDExIFdvcmtlciA9PT0gXCJbb2JqZWN0IFdvcmtlckdsb2JhbFNjb3BlXVwiXG4gICAqICAtIElFIEVkZ2UgV29ya2VyID09PSBcIltvYmplY3QgV29ya2VyR2xvYmFsU2NvcGVdXCJcbiAgICovXG4gIGlmIChvYmogPT09IGdsb2JhbE9iamVjdCkge1xuICAgIHJldHVybiAnZ2xvYmFsJztcbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAqIFByZTpcbiAgICogICBhcnJheSBsaXRlcmFsICAgICAgeCAyLDg4OCwzNTIgb3BzL3NlYyDCsTAuNjclICg4MiBydW5zIHNhbXBsZWQpXG4gICAqIFBvc3Q6XG4gICAqICAgYXJyYXkgbGl0ZXJhbCAgICAgIHggMjIsNDc5LDY1MCBvcHMvc2VjIMKxMC45NiUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgICovXG4gIGlmIChpc0FycmF5RXhpc3RzICYmIEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIHJldHVybiAnQXJyYXknO1xuICB9XG5cbiAgaWYgKGlzRG9tKSB7XG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Jyb3dzZXJzLmh0bWwjbG9jYXRpb24pXG4gICAgICogV2hhdFdHIEhUTUwkNy43LjMgLSBUaGUgYExvY2F0aW9uYCBpbnRlcmZhY2VcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5sb2NhdGlvbilgYFxuICAgICAqICAtIElFIDw9MTEgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBJRSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAob2JqID09PSBnbG9iYWxPYmplY3QubG9jYXRpb24pIHtcbiAgICAgIHJldHVybiAnTG9jYXRpb24nO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNkb2N1bWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQzLjEuMSAtIFRoZSBgRG9jdW1lbnRgIG9iamVjdFxuICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtMjY4MDkyNjgpXG4gICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAqICAgICAgIFdoYXRXRyBIVE1MIHN0YXRlczpcbiAgICAgKiAgICAgICAgID4gRm9yIGhpc3RvcmljYWwgcmVhc29ucywgV2luZG93IG9iamVjdHMgbXVzdCBhbHNvIGhhdmUgYVxuICAgICAqICAgICAgICAgPiB3cml0YWJsZSwgY29uZmlndXJhYmxlLCBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lZFxuICAgICAqICAgICAgICAgPiBIVE1MRG9jdW1lbnQgd2hvc2UgdmFsdWUgaXMgdGhlIERvY3VtZW50IGludGVyZmFjZSBvYmplY3QuXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudClgYFxuICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIEZpcmVmb3ggPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgRG9jdW1lbnRdXCJcbiAgICAgKiAgLSBJRSAxMSA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqICAtIElFIEVkZ2UgPD0xMyA9PT0gXCJbb2JqZWN0IEhUTUxEb2N1bWVudF1cIlxuICAgICAqL1xuICAgIGlmIChvYmogPT09IGdsb2JhbE9iamVjdC5kb2N1bWVudCkge1xuICAgICAgcmV0dXJuICdEb2N1bWVudCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3dlYmFwcGFwaXMuaHRtbCNtaW1ldHlwZWFycmF5KVxuICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIE1pbWVUeXBlQXJyYXlcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5hdmlnYXRvci5taW1lVHlwZXMpYGBcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgTVNNaW1lVHlwZXNDb2xsZWN0aW9uXVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLm1pbWVUeXBlcykge1xuICAgICAgcmV0dXJuICdNaW1lVHlwZUFycmF5JztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvd2ViYXBwYXBpcy5odG1sI3BsdWdpbmFycmF5KVxuICAgICAqIFdoYXRXRyBIVE1MJDguNi4xLjUgLSBQbHVnaW5zIC0gSW50ZXJmYWNlIFBsdWdpbkFycmF5XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuYXZpZ2F0b3IucGx1Z2lucylgYFxuICAgICAqICAtIElFIDw9MTAgPT09IFwiW29iamVjdCBNU1BsdWdpbnNDb2xsZWN0aW9uXVwiXG4gICAgICovXG4gICAgaWYgKG9iaiA9PT0gKGdsb2JhbE9iamVjdC5uYXZpZ2F0b3IgfHwge30pLnBsdWdpbnMpIHtcbiAgICAgIHJldHVybiAnUGx1Z2luQXJyYXknO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS93ZWJhcHBhcGlzLmh0bWwjcGx1Z2luYXJyYXkpXG4gICAgICogV2hhdFdHIEhUTUwkNC40LjQgLSBUaGUgYGJsb2NrcXVvdGVgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxRdW90ZUVsZW1lbnRgXG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdibG9ja3F1b3RlJykpYGBcbiAgICAgKiAgLSBJRSA8PTEwID09PSBcIltvYmplY3QgSFRNTEJsb2NrRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG4gICAgICByZXR1cm4gJ0hUTUxRdW90ZUVsZW1lbnQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVkYXRhY2VsbGVsZW1lbnQpXG4gICAgICogV2hhdFdHIEhUTUwkNC45LjkgLSBUaGUgYHRkYCBlbGVtZW50IC0gSW50ZXJmYWNlIGBIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnRgXG4gICAgICogTm90ZTogTW9zdCBicm93c2VycyBjdXJyZW50bHkgYWRoZXIgdG8gdGhlIFczQyBET00gTGV2ZWwgMiBzcGVjXG4gICAgICogICAgICAgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMi1IVE1ML2h0bWwuaHRtbCNJRC04MjkxNTA3NSlcbiAgICAgKiAgICAgICB3aGljaCBzdWdnZXN0cyB0aGF0IGJyb3dzZXJzIHNob3VsZCB1c2UgSFRNTFRhYmxlQ2VsbEVsZW1lbnQgZm9yXG4gICAgICogICAgICAgYm90aCBURCBhbmQgVEggZWxlbWVudHMuIFdoYXRXRyBzZXBhcmF0ZXMgdGhlc2UuXG4gICAgICogVGVzdDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJykpXG4gICAgICogIC0gQ2hyb21lID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBGaXJlZm94ID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKiAgLSBTYWZhcmkgPT09IFwiW29iamVjdCBIVE1MVGFibGVDZWxsRWxlbWVudF1cIlxuICAgICAqL1xuICAgIGlmIChodG1sRWxlbWVudEV4aXN0cyAmJiBvYmogaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBvYmoudGFnTmFtZSA9PT0gJ1REJykge1xuICAgICAgcmV0dXJuICdIVE1MVGFibGVEYXRhQ2VsbEVsZW1lbnQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNodG1sdGFibGVoZWFkZXJjZWxsZWxlbWVudClcbiAgICAgKiBXaGF0V0cgSFRNTCQ0LjkuOSAtIFRoZSBgdGRgIGVsZW1lbnQgLSBJbnRlcmZhY2UgYEhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50YFxuICAgICAqIE5vdGU6IE1vc3QgYnJvd3NlcnMgY3VycmVudGx5IGFkaGVyIHRvIHRoZSBXM0MgRE9NIExldmVsIDIgc3BlY1xuICAgICAqICAgICAgIChodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTItSFRNTC9odG1sLmh0bWwjSUQtODI5MTUwNzUpXG4gICAgICogICAgICAgd2hpY2ggc3VnZ2VzdHMgdGhhdCBicm93c2VycyBzaG91bGQgdXNlIEhUTUxUYWJsZUNlbGxFbGVtZW50IGZvclxuICAgICAqICAgICAgIGJvdGggVEQgYW5kIFRIIGVsZW1lbnRzLiBXaGF0V0cgc2VwYXJhdGVzIHRoZXNlLlxuICAgICAqIFRlc3Q6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpKVxuICAgICAqICAtIENocm9tZSA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gRmlyZWZveCA9PT0gXCJbb2JqZWN0IEhUTUxUYWJsZUNlbGxFbGVtZW50XVwiXG4gICAgICogIC0gU2FmYXJpID09PSBcIltvYmplY3QgSFRNTFRhYmxlQ2VsbEVsZW1lbnRdXCJcbiAgICAgKi9cbiAgICBpZiAoaHRtbEVsZW1lbnRFeGlzdHMgJiYgb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgb2JqLnRhZ05hbWUgPT09ICdUSCcpIHtcbiAgICAgIHJldHVybiAnSFRNTFRhYmxlSGVhZGVyQ2VsbEVsZW1lbnQnO1xuICAgIH1cbiAgfVxuXG4gIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICogUHJlOlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNjI1LDY0NCBvcHMvc2VjIMKxMS41OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDEsMjc5LDg1MiBvcHMvc2VjIMKxMi45MSUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDEsMTc4LDE4NSBvcHMvc2VjIMKxMS45NSUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDEsMDA4LDM4MCBvcHMvc2VjIMKxMi4yNSUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDEsMTI4LDA0MCBvcHMvc2VjIMKxMi4xMSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDEsMTcwLDExOSBvcHMvc2VjIMKxMi44OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDEsMTc2LDM0OCBvcHMvc2VjIMKxNS43OSUgKDg2IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDEsMDU4LDcwNyBvcHMvc2VjIMKxNC45NCUgKDc3IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDEsMTEwLDYzMyBvcHMvc2VjIMKxNC4yMCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiBQb3N0OlxuICAqICAgRmxvYXQ2NEFycmF5ICAgICAgIHggNywxMDUsNjcxIG9wcy9zZWMgwrExMy40NyUgKDY0IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEZsb2F0MzJBcnJheSAgICAgICB4IDUsODg3LDkxMiBvcHMvc2VjIMKxMS40NiUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQzMkFycmF5ICAgICAgICB4IDYsNDkxLDY2MSBvcHMvc2VjIMKxMS43NiUgKDc5IHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQxNkFycmF5ICAgICAgICB4IDYsNTU5LDc5NSBvcHMvc2VjIMKxMS42NyUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4QXJyYXkgICAgICAgICB4IDYsNDYzLDk2NiBvcHMvc2VjIMKxMS40MyUgKDg1IHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDMyQXJyYXkgICAgICAgICB4IDUsNjQxLDg0MSBvcHMvc2VjIMKxMy40OSUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDE2QXJyYXkgICAgICAgICB4IDYsNTgzLDUxMSBvcHMvc2VjIMKxMS45OCUgKDgwIHJ1bnMgc2FtcGxlZClcbiAgKiAgIEludDhBcnJheSAgICAgICAgICB4IDYsNjA2LDA3OCBvcHMvc2VjIMKxMS43NCUgKDgxIHJ1bnMgc2FtcGxlZClcbiAgKiAgIFVpbnQ4Q2xhbXBlZEFycmF5ICB4IDYsNjAyLDIyNCBvcHMvc2VjIMKxMS43NyUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgKi9cbiAgdmFyIHN0cmluZ1RhZyA9IChzeW1ib2xUb1N0cmluZ1RhZ0V4aXN0cyAmJiBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSk7XG4gIGlmICh0eXBlb2Ygc3RyaW5nVGFnID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHJpbmdUYWc7XG4gIH1cblxuICBpZiAoZ2V0UHJvdG90eXBlT2ZFeGlzdHMpIHtcbiAgICB2YXIgb2JqUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgcmVnZXggbGl0ZXJhbCAgICAgIHggMSw3NzIsMzg1IG9wcy9zZWMgwrExLjg1JSAoNzcgcnVucyBzYW1wbGVkKVxuICAgICogICByZWdleCBjb25zdHJ1Y3RvciAgeCAyLDE0Myw2MzQgb3BzL3NlYyDCsTIuNDYlICg3OCBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICByZWdleCBsaXRlcmFsICAgICAgeCAzLDkyOCwwMDkgb3BzL3NlYyDCsTAuNjUlICg3OCBydW5zIHNhbXBsZWQpXG4gICAgKiAgIHJlZ2V4IGNvbnN0cnVjdG9yICB4IDMsOTMxLDEwOCBvcHMvc2VjIMKxMC41OCUgKDg0IHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChvYmpQcm90b3R5cGUgPT09IFJlZ0V4cC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnUmVnRXhwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAyLDEzMCwwNzQgb3BzL3NlYyDCsTQuNDIlICg2OCBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBkYXRlICAgICAgICAgICAgICAgeCAzLDk1Myw3Nzkgb3BzL3NlYyDCsTEuMzUlICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAob2JqUHJvdG90eXBlID09PSBEYXRlLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuICdEYXRlJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy1wcm9taXNlLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyNS40LjUuNCAtIFByb21pc2UucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlByb21pc2VcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFByb21pc2UucmVzb2x2ZSgpKWBgXG4gICAgICogIC0gQ2hyb21lIDw9NDcgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBFZGdlIDw9MjAgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKiAgLSBGaXJlZm94IDI5LUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcbiAgICAgKiAgLSBTYWZhcmkgNy4xLUxhdGVzdCA9PT0gXCJbb2JqZWN0IFByb21pc2VdXCJcbiAgICAgKi9cbiAgICBpZiAocHJvbWlzZUV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFByb21pc2UucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1Byb21pc2UnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDIsMjIyLDE4NiBvcHMvc2VjIMKxMS4zMSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHNldCAgICAgICAgICAgICAgICB4IDQsNTQ1LDg3OSBvcHMvc2VjIMKxMS4xMyUgKDgzIHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmIChzZXRFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBTZXQucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1NldCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVlZCBvcHRpbWlzYXRpb25cbiAgICAqIFByZTpcbiAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggMiwzOTYsODQyIG9wcy9zZWMgwrExLjU5JSAoODEgcnVucyBzYW1wbGVkKVxuICAgICogUG9zdDpcbiAgICAqICAgbWFwICAgICAgICAgICAgICAgIHggNCwxODMsOTQ1IG9wcy9zZWMgwrE2LjU5JSAoODIgcnVucyBzYW1wbGVkKVxuICAgICovXG4gICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IE1hcC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnTWFwJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCAxLDMyMywyMjAgb3BzL3NlYyDCsTIuMTclICg3NiBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICB3ZWFrc2V0ICAgICAgICAgICAgeCA0LDIzNyw1MTAgb3BzL3NlYyDCsTIuMDElICg3NyBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAod2Vha1NldEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IFdlYWtTZXQucHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ1dlYWtTZXQnO1xuICAgIH1cblxuICAgIC8qICEgU3BlZWQgb3B0aW1pc2F0aW9uXG4gICAgKiBQcmU6XG4gICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDEsNTAwLDI2MCBvcHMvc2VjIMKxMi4wMiUgKDc4IHJ1bnMgc2FtcGxlZClcbiAgICAqIFBvc3Q6XG4gICAgKiAgIHdlYWttYXAgICAgICAgICAgICB4IDMsODgxLDM4NCBvcHMvc2VjIMKxMS40NSUgKDgyIHJ1bnMgc2FtcGxlZClcbiAgICAqL1xuICAgIGlmICh3ZWFrTWFwRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gV2Vha01hcC5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnV2Vha01hcCc7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtZGF0YXZpZXcucHJvdG90eXBlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDI0LjIuNC4yMSAtIERhdGFWaWV3LnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJEYXRhVmlld1wiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoZGF0YVZpZXdFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBEYXRhVmlldy5wcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnRGF0YVZpZXcnO1xuICAgIH1cblxuICAgIC8qICEgU3BlYyBDb25mb3JtYW5jZVxuICAgICAqIChodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wL2luZGV4Lmh0bWwjc2VjLSVtYXBpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjMuMS41LjIuMiAtICVNYXBJdGVyYXRvclByb3RvdHlwZSVbQEB0b1N0cmluZ1RhZ10gc2hvdWxkIGJlIFwiTWFwIEl0ZXJhdG9yXCI6XG4gICAgICogVGVzdDogYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgTWFwKCkuZW50cmllcygpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKG1hcEV4aXN0cyAmJiBvYmpQcm90b3R5cGUgPT09IG1hcEl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ01hcCBJdGVyYXRvcic7XG4gICAgfVxuXG4gICAgLyogISBTcGVjIENvbmZvcm1hbmNlXG4gICAgICogKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvaW5kZXguaHRtbCNzZWMtJXNldGl0ZXJhdG9ycHJvdG90eXBlJS1AQHRvc3RyaW5ndGFnKVxuICAgICAqIEVTNiQyMy4yLjUuMi4yIC0gJVNldEl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJTZXQgSXRlcmF0b3JcIjpcbiAgICAgKiBUZXN0OiBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ldyBTZXQoKS5lbnRyaWVzKCkpYGBcbiAgICAgKiAgLSBFZGdlIDw9MTMgPT09IFwiW29iamVjdCBPYmplY3RdXCJcbiAgICAgKi9cbiAgICBpZiAoc2V0RXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc2V0SXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU2V0IEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUtQEB0b3N0cmluZ3RhZylcbiAgICAgKiBFUzYkMjIuMS41LjIuMiAtICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJVtAQHRvU3RyaW5nVGFnXSBzaG91bGQgYmUgXCJBcnJheSBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW11bU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKGFycmF5SXRlcmF0b3JFeGlzdHMgJiYgb2JqUHJvdG90eXBlID09PSBhcnJheUl0ZXJhdG9yUHJvdG90eXBlKSB7XG4gICAgICByZXR1cm4gJ0FycmF5IEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWMgQ29uZm9ybWFuY2VcbiAgICAgKiAoaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC9pbmRleC5odG1sI3NlYy0lc3RyaW5naXRlcmF0b3Jwcm90b3R5cGUlLUBAdG9zdHJpbmd0YWcpXG4gICAgICogRVM2JDIxLjEuNS4yLjIgLSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlW0BAdG9TdHJpbmdUYWddIHNob3VsZCBiZSBcIlN0cmluZyBJdGVyYXRvclwiOlxuICAgICAqIFRlc3Q6IGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJydbU3ltYm9sLml0ZXJhdG9yXSgpKWBgXG4gICAgICogIC0gRWRnZSA8PTEzID09PSBcIltvYmplY3QgT2JqZWN0XVwiXG4gICAgICovXG4gICAgaWYgKHN0cmluZ0l0ZXJhdG9yRXhpc3RzICYmIG9ialByb3RvdHlwZSA9PT0gc3RyaW5nSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgIHJldHVybiAnU3RyaW5nIEl0ZXJhdG9yJztcbiAgICB9XG5cbiAgICAvKiAhIFNwZWVkIG9wdGltaXNhdGlvblxuICAgICogUHJlOlxuICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCAyLDQyNCwzMjAgb3BzL3NlYyDCsTEuNjclICg3NiBydW5zIHNhbXBsZWQpXG4gICAgKiBQb3N0OlxuICAgICogICBvYmplY3QgZnJvbSBudWxsICAgeCA1LDgzOCwwMDAgb3BzL3NlYyDCsTAuOTklICg4NCBydW5zIHNhbXBsZWQpXG4gICAgKi9cbiAgICBpZiAob2JqUHJvdG90eXBlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gJ09iamVjdCc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9iamVjdFxuICAgIC5wcm90b3R5cGVcbiAgICAudG9TdHJpbmdcbiAgICAuY2FsbChvYmopXG4gICAgLnNsaWNlKHRvU3RyaW5nTGVmdFNsaWNlTGVuZ3RoLCB0b1N0cmluZ1JpZ2h0U2xpY2VMZW5ndGgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMudHlwZURldGVjdCA9IG1vZHVsZS5leHBvcnRzO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdHlwZS1kZXRlY3QvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAxNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNSA2XG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmdldENvbXBvbmVudExvY2FsZSA9IGdldENvbXBvbmVudExvY2FsZTtcbmV4cG9ydHMuZ2V0TG9jYWxlQ29kZSA9IGdldExvY2FsZUNvZGU7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TG9jYWxlKHByb3BzLCBjb250ZXh0LCBjb21wb25lbnROYW1lLCBnZXREZWZhdWx0TG9jYWxlKSB7XG4gICAgdmFyIGxvY2FsZSA9IGNvbnRleHQgJiYgY29udGV4dC5hbnRMb2NhbGUgJiYgY29udGV4dC5hbnRMb2NhbGVbY29tcG9uZW50TmFtZV0gPyBjb250ZXh0LmFudExvY2FsZVtjb21wb25lbnROYW1lXSA6IGdldERlZmF1bHRMb2NhbGUoKTtcbiAgICB2YXIgcmVzdWx0ID0gKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIGxvY2FsZSwgcHJvcHMubG9jYWxlKTtcbiAgICByZXN1bHQubGFuZyA9ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHt9LCBsb2NhbGUubGFuZywgcHJvcHMubG9jYWxlLmxhbmcpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRMb2NhbGVDb2RlKGNvbnRleHQpIHtcbiAgICB2YXIgbG9jYWxlQ29kZSA9IGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlLmxvY2FsZTtcbiAgICAvLyBIYWQgdXNlIExvY2FsZVByb3ZpZGUgYnV0IGRpZG4ndCBzZXQgbG9jYWxlXG4gICAgaWYgKGNvbnRleHQuYW50TG9jYWxlICYmIGNvbnRleHQuYW50TG9jYWxlLmV4aXN0ICYmICFsb2NhbGVDb2RlKSB7XG4gICAgICAgIHJldHVybiAnemgtY24nO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlQ29kZTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9fdXRpbC9nZXRMb2NhbGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9lbl9VUyA9IHJlcXVpcmUoJy4uL2xvY2FsZS9lbl9VUycpO1xuXG52YXIgX2VuX1VTMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VuX1VTKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgcHJvcFR5cGVzOiB7XG4gICAgY2xhc3NOYW1lOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2aXNpYmxlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvY2FsZTogX2VuX1VTMltcImRlZmF1bHRcIl0sXG4gICAgICBzdHlsZToge30sXG4gICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgcHJlZml4Q2xzOiAncmMtY2FsZW5kYXInLFxuICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgIG9uU2VsZWN0OiBub29wLFxuICAgICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgICBvbkNsZWFyOiBub29wLFxuICAgICAgcmVuZGVyRm9vdGVyOiBmdW5jdGlvbiByZW5kZXJGb290ZXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICAgIHJlbmRlclNpZGViYXI6IGZ1bmN0aW9uIHJlbmRlclNpZGViYXIoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcykge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnZpc2libGUgfHwgbmV4dFByb3BzLnZpc2libGU7XG4gIH0sXG4gIGdldEZvcm1hdDogZnVuY3Rpb24gZ2V0Rm9ybWF0KCkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLnByb3BzLmZvcm1hdDtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgbG9jYWxlID0gX3Byb3BzLmxvY2FsZSxcbiAgICAgICAgdGltZVBpY2tlciA9IF9wcm9wcy50aW1lUGlja2VyO1xuXG4gICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgIGlmICh0aW1lUGlja2VyKSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZS5kYXRlVGltZUZvcm1hdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZS5kYXRlRm9ybWF0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm9ybWF0O1xuICB9LFxuICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgaWYgKHRoaXMucmVmcy5yb290KSB7XG4gICAgICB0aGlzLnJlZnMucm9vdC5mb2N1cygpO1xuICAgIH1cbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9taXhpbi9Db21tb25NaXhpbi5qc1xuICoqIG1vZHVsZSBpZCA9IDIwN1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Nb250aFBhbmVsID0gcmVxdWlyZSgnLi9tb250aC9Nb250aFBhbmVsJyk7XG5cbnZhciBfTW9udGhQYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb250aFBhbmVsKTtcblxudmFyIF9DYWxlbmRhck1peGluID0gcmVxdWlyZSgnLi9taXhpbi9DYWxlbmRhck1peGluJyk7XG5cbnZhciBfQ2FsZW5kYXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhck1peGluKTtcblxudmFyIF9Db21tb25NaXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4vQ29tbW9uTWl4aW4nKTtcblxudmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cbnZhciBfS2V5Q29kZSA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0tleUNvZGUnKTtcblxudmFyIF9LZXlDb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0tleUNvZGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIE1vbnRoQ2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnTW9udGhDYWxlbmRhcicsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgbW9udGhDZWxsUmVuZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGF0ZUNlbGxSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXSwgX0NhbGVuZGFyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cbiAgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgdmFyIGN0cmxLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXk7XG4gICAgdmFyIHN0YXRlVmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciB2YWx1ZSA9IHN0YXRlVmFsdWU7XG4gICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uRE9XTjpcbiAgICAgICAgdmFsdWUgPSBzdGF0ZVZhbHVlLmNsb25lKCk7XG4gICAgICAgIHZhbHVlLmFkZCgzLCAnbW9udGhzJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlVQOlxuICAgICAgICB2YWx1ZSA9IHN0YXRlVmFsdWUuY2xvbmUoKTtcbiAgICAgICAgdmFsdWUuYWRkKC0zLCAnbW9udGhzJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkxFRlQ6XG4gICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgIHZhbHVlLmFkZCgtMSwgJ3llYXJzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUuYWRkKC0xLCAnbW9udGhzJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUklHSFQ6XG4gICAgICAgIHZhbHVlID0gc3RhdGVWYWx1ZS5jbG9uZSgpO1xuICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgIHZhbHVlLmFkZCgxLCAneWVhcnMnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZS5hZGQoMSwgJ21vbnRocycpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSOlxuICAgICAgICB0aGlzLm9uU2VsZWN0KHN0YXRlVmFsdWUpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSAhPT0gc3RhdGVWYWx1ZSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX01vbnRoUGFuZWwyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgbG9jYWxlOiBwcm9wcy5sb2NhbGUsXG4gICAgICBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSxcbiAgICAgIHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0sXG4gICAgICB2YWx1ZTogdGhpcy5zdGF0ZS52YWx1ZSxcbiAgICAgIGNlbGxSZW5kZXI6IHByb3BzLm1vbnRoQ2VsbFJlbmRlcixcbiAgICAgIGNvbnRlbnRSZW5kZXI6IHByb3BzLm1vbnRoQ2VsbENvbnRlbnRSZW5kZXIsXG4gICAgICByb290UHJlZml4Q2xzOiBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICBvbkNoYW5nZTogdGhpcy5zZXRWYWx1ZSxcbiAgICAgIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdCh7XG4gICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTW9udGhDYWxlbmRhcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9Nb250aENhbGVuZGFyLmpzXG4gKiogbW9kdWxlIGlkID0gMjUwXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL2NyZWF0ZUNoYWluZWRGdW5jdGlvbicpO1xuXG52YXIgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDaGFpbmVkRnVuY3Rpb24pO1xuXG52YXIgX0tleUNvZGUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9LZXlDb2RlJyk7XG5cbnZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblxudmFyIF9wbGFjZW1lbnRzID0gcmVxdWlyZSgnLi9waWNrZXIvcGxhY2VtZW50cycpO1xuXG52YXIgX3BsYWNlbWVudHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGxhY2VtZW50cyk7XG5cbnZhciBfcmNUcmlnZ2VyID0gcmVxdWlyZSgncmMtdHJpZ2dlcicpO1xuXG52YXIgX3JjVHJpZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yY1RyaWdnZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIHJlZkZuKGZpZWxkLCBjb21wb25lbnQpIHtcbiAgdGhpc1tmaWVsZF0gPSBjb21wb25lbnQ7XG59XG5cbnZhciBQaWNrZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUGlja2VyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBhbmltYXRpb246IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsIF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgZGlzYWJsZWQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICB0cmFuc2l0aW9uTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbk9wZW5DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBjaGlsZHJlbjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGdldENhbGVuZGFyQ29udGFpbmVyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgY2FsZW5kYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcbiAgICBzdHlsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb3BlbjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGRlZmF1bHRPcGVuOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBwbGFjZW1lbnQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9uZU9mVHlwZShbX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsIF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXldKSxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheV0pLFxuICAgIGFsaWduOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmVmaXhDbHM6ICdyYy1jYWxlbmRhci1waWNrZXInLFxuICAgICAgc3R5bGU6IHt9LFxuICAgICAgYWxpZ246IHt9LFxuICAgICAgcGxhY2VtZW50OiAnYm90dG9tTGVmdCcsXG4gICAgICBkZWZhdWx0T3BlbjogZmFsc2UsXG4gICAgICBvbkNoYW5nZTogbm9vcCxcbiAgICAgIG9uT3BlbkNoYW5nZTogbm9vcFxuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIG9wZW4gPSB2b2lkIDA7XG4gICAgaWYgKCdvcGVuJyBpbiBwcm9wcykge1xuICAgICAgb3BlbiA9IHByb3BzLm9wZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW4gPSBwcm9wcy5kZWZhdWx0T3BlbjtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlO1xuICAgIHRoaXMuc2F2ZUNhbGVuZGFyUmVmID0gcmVmRm4uYmluZCh0aGlzLCAnY2FsZW5kYXJJbnN0YW5jZScpO1xuICAgIHJldHVybiB7XG4gICAgICBvcGVuOiBvcGVuLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICB2YXIgdmFsdWUgPSBuZXh0UHJvcHMudmFsdWUsXG4gICAgICAgIG9wZW4gPSBuZXh0UHJvcHMub3BlbjtcblxuICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChvcGVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBvcGVuOiBvcGVuXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKF8sIHByZXZTdGF0ZSkge1xuICAgIGlmICghcHJldlN0YXRlLm9wZW4gJiYgdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICB0aGlzLmZvY3VzQ2FsZW5kYXIoKTtcbiAgICB9XG4gIH0sXG4gIG9uQ2FsZW5kYXJLZXlEb3duOiBmdW5jdGlvbiBvbkNhbGVuZGFyS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVTQykge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLmNsb3NlKHRoaXMuZm9jdXMpO1xuICAgIH1cbiAgfSxcbiAgb25DYWxlbmRhclNlbGVjdDogZnVuY3Rpb24gb25DYWxlbmRhclNlbGVjdCh2YWx1ZSkge1xuICAgIHZhciBjYXVzZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNhdXNlLnNvdXJjZSA9PT0gJ2tleWJvYXJkJyB8fCAhcHJvcHMuY2FsZW5kYXIucHJvcHMudGltZVBpY2tlciAmJiBjYXVzZS5zb3VyY2UgIT09ICdkYXRlSW5wdXQnIHx8IGNhdXNlLnNvdXJjZSA9PT0gJ3RvZGF5QnV0dG9uJykge1xuICAgICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcbiAgICB9XG4gICAgcHJvcHMub25DaGFuZ2UodmFsdWUpO1xuICB9LFxuICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV04gJiYgIXRoaXMuc3RhdGUub3Blbikge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcbiAgb25DYWxlbmRhck9rOiBmdW5jdGlvbiBvbkNhbGVuZGFyT2soKSB7XG4gICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcbiAgfSxcbiAgb25DYWxlbmRhckNsZWFyOiBmdW5jdGlvbiBvbkNhbGVuZGFyQ2xlYXIoKSB7XG4gICAgdGhpcy5jbG9zZSh0aGlzLmZvY3VzKTtcbiAgfSxcbiAgb25WaXNpYmxlQ2hhbmdlOiBmdW5jdGlvbiBvblZpc2libGVDaGFuZ2Uob3Blbikge1xuICAgIHRoaXMuc2V0T3BlbihvcGVuKTtcbiAgfSxcbiAgZ2V0Q2FsZW5kYXJFbGVtZW50OiBmdW5jdGlvbiBnZXRDYWxlbmRhckVsZW1lbnQoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHZhciBjYWxlbmRhclByb3BzID0gcHJvcHMuY2FsZW5kYXIucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG5cbiAgICB2YXIgZGVmYXVsdFZhbHVlID0gdm9pZCAwO1xuICAgIC8vIFJhbmdlQ2FsZW5kYXJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHZhbHVlWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgdmFyIGV4dHJhUHJvcHMgPSB7XG4gICAgICByZWY6IHRoaXMuc2F2ZUNhbGVuZGFyUmVmLFxuICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUgfHwgY2FsZW5kYXJQcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICBzZWxlY3RlZFZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uS2V5RG93bjogdGhpcy5vbkNhbGVuZGFyS2V5RG93bixcbiAgICAgIG9uT2s6ICgwLCBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMltcImRlZmF1bHRcIl0pKGNhbGVuZGFyUHJvcHMub25PaywgdGhpcy5vbkNhbGVuZGFyT2spLFxuICAgICAgb25TZWxlY3Q6ICgwLCBfY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uMltcImRlZmF1bHRcIl0pKGNhbGVuZGFyUHJvcHMub25TZWxlY3QsIHRoaXMub25DYWxlbmRhclNlbGVjdCksXG4gICAgICBvbkNsZWFyOiAoMCwgX2NyZWF0ZUNoYWluZWRGdW5jdGlvbjJbXCJkZWZhdWx0XCJdKShjYWxlbmRhclByb3BzLm9uQ2xlYXIsIHRoaXMub25DYWxlbmRhckNsZWFyKVxuICAgIH07XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KHByb3BzLmNhbGVuZGFyLCBleHRyYVByb3BzKTtcbiAgfSxcbiAgc2V0T3BlbjogZnVuY3Rpb24gc2V0T3BlbihvcGVuLCBjYWxsYmFjaykge1xuICAgIHZhciBvbk9wZW5DaGFuZ2UgPSB0aGlzLnByb3BzLm9uT3BlbkNoYW5nZTtcblxuICAgIGlmICh0aGlzLnN0YXRlLm9wZW4gIT09IG9wZW4pIHtcbiAgICAgIGlmICghKCdvcGVuJyBpbiB0aGlzLnByb3BzKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBvcGVuOiBvcGVuXG4gICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIG9uT3BlbkNoYW5nZShvcGVuKTtcbiAgICB9XG4gIH0sXG4gIG9wZW46IGZ1bmN0aW9uIG9wZW4oY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldE9wZW4odHJ1ZSwgY2FsbGJhY2spO1xuICB9LFxuICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldE9wZW4oZmFsc2UsIGNhbGxiYWNrKTtcbiAgfSxcbiAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5vcGVuKSB7XG4gICAgICBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuICAgIH1cbiAgfSxcbiAgZm9jdXNDYWxlbmRhcjogZnVuY3Rpb24gZm9jdXNDYWxlbmRhcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcGVuICYmIHRoaXMuY2FsZW5kYXJJbnN0YW5jZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jYWxlbmRhckluc3RhbmNlLmZvY3VzKCk7XG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcbiAgICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgICAgZ2V0Q2FsZW5kYXJDb250YWluZXIgPSBwcm9wcy5nZXRDYWxlbmRhckNvbnRhaW5lcixcbiAgICAgICAgYWxpZ24gPSBwcm9wcy5hbGlnbixcbiAgICAgICAgYW5pbWF0aW9uID0gcHJvcHMuYW5pbWF0aW9uLFxuICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkLFxuICAgICAgICB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgIF9yY1RyaWdnZXIyW1wiZGVmYXVsdFwiXSxcbiAgICAgIHtcbiAgICAgICAgcG9wdXA6IHRoaXMuZ2V0Q2FsZW5kYXJFbGVtZW50KCksXG4gICAgICAgIHBvcHVwQWxpZ246IGFsaWduLFxuICAgICAgICBidWlsdGluUGxhY2VtZW50czogX3BsYWNlbWVudHMyW1wiZGVmYXVsdFwiXSxcbiAgICAgICAgcG9wdXBQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgYWN0aW9uOiBkaXNhYmxlZCAmJiAhc3RhdGUub3BlbiA/IFtdIDogWydjbGljayddLFxuICAgICAgICBkZXN0cm95UG9wdXBPbkhpZGU6IHRydWUsXG4gICAgICAgIGdldFBvcHVwQ29udGFpbmVyOiBnZXRDYWxlbmRhckNvbnRhaW5lcixcbiAgICAgICAgcG9wdXBTdHlsZTogc3R5bGUsXG4gICAgICAgIHBvcHVwQW5pbWF0aW9uOiBhbmltYXRpb24sXG4gICAgICAgIHBvcHVwVHJhbnNpdGlvbk5hbWU6IHRyYW5zaXRpb25OYW1lLFxuICAgICAgICBwb3B1cFZpc2libGU6IHN0YXRlLm9wZW4sXG4gICAgICAgIG9uUG9wdXBWaXNpYmxlQ2hhbmdlOiB0aGlzLm9uVmlzaWJsZUNoYW5nZSxcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHNcbiAgICAgIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQoY2hpbGRyZW4oc3RhdGUsIHByb3BzKSwgeyBvbktleURvd246IHRoaXMub25LZXlEb3duIH0pXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGlja2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL1BpY2tlci5qc1xuICoqIG1vZHVsZSBpZCA9IDI1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9Nb250aFBhbmVsID0gcmVxdWlyZSgnLi4vbW9udGgvTW9udGhQYW5lbCcpO1xuXG52YXIgX01vbnRoUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhQYW5lbCk7XG5cbnZhciBfWWVhclBhbmVsID0gcmVxdWlyZSgnLi4veWVhci9ZZWFyUGFuZWwnKTtcblxudmFyIF9ZZWFyUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfWWVhclBhbmVsKTtcblxudmFyIF9tYXBTZWxmID0gcmVxdWlyZSgncmMtdXRpbC9saWIvQ2hpbGRyZW4vbWFwU2VsZicpO1xuXG52YXIgX21hcFNlbGYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwU2VsZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnb01vbnRoKGRpcmVjdGlvbikge1xuICB2YXIgbmV4dCA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5hZGQoZGlyZWN0aW9uLCAnbW9udGhzJyk7XG4gIHRoaXMucHJvcHMub25WYWx1ZUNoYW5nZShuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuICB2YXIgbmV4dCA9IHRoaXMucHJvcHMudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5hZGQoZGlyZWN0aW9uLCAneWVhcnMnKTtcbiAgdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKG5leHQpO1xufVxuXG5mdW5jdGlvbiBzaG93SWYoY29uZGl0aW9uLCBlbCkge1xuICByZXR1cm4gY29uZGl0aW9uID8gZWwgOiBudWxsO1xufVxuXG52YXIgQ2FsZW5kYXJIZWFkZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnQ2FsZW5kYXJIZWFkZXInLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGVuYWJsZVByZXY6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGVuYWJsZU5leHQ6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2hvd1RpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvblZhbHVlQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW5hYmxlTmV4dDogMSxcbiAgICAgIGVuYWJsZVByZXY6IDFcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB0aGlzLm5leHRNb250aCA9IGdvTW9udGguYmluZCh0aGlzLCAxKTtcbiAgICB0aGlzLnByZXZpb3VzTW9udGggPSBnb01vbnRoLmJpbmQodGhpcywgLTEpO1xuICAgIHRoaXMubmV4dFllYXIgPSBnb1llYXIuYmluZCh0aGlzLCAxKTtcbiAgICB0aGlzLnByZXZpb3VzWWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIC0xKTtcbiAgICByZXR1cm4ge307XG4gIH0sXG4gIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd01vbnRoUGFuZWw6IDAsXG4gICAgICBzaG93WWVhclBhbmVsOiAwXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vblZhbHVlQ2hhbmdlKHZhbHVlKTtcbiAgfSxcbiAgbW9udGhZZWFyRWxlbWVudDogZnVuY3Rpb24gbW9udGhZZWFyRWxlbWVudChzaG93VGltZVBpY2tlcikge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICAgIHZhciBtb250aEJlZm9yZVllYXIgPSBsb2NhbGUubW9udGhCZWZvcmVZZWFyO1xuICAgIHZhciBzZWxlY3RDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLScgKyAobW9udGhCZWZvcmVZZWFyID8gJ215LXNlbGVjdCcgOiAneW0tc2VsZWN0Jyk7XG4gICAgdmFyIHllYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2EnLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QnLFxuICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgb25DbGljazogc2hvd1RpbWVQaWNrZXIgPyBudWxsIDogdGhpcy5zaG93WWVhclBhbmVsLFxuICAgICAgICB0aXRsZTogbG9jYWxlLnllYXJTZWxlY3RcbiAgICAgIH0sXG4gICAgICB2YWx1ZS5mb3JtYXQobG9jYWxlLnllYXJGb3JtYXQpXG4gICAgKTtcbiAgICB2YXIgbW9udGggPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2EnLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbW9udGgtc2VsZWN0JyxcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgIG9uQ2xpY2s6IHNob3dUaW1lUGlja2VyID8gbnVsbCA6IHRoaXMuc2hvd01vbnRoUGFuZWwsXG4gICAgICAgIHRpdGxlOiBsb2NhbGUubW9udGhTZWxlY3RcbiAgICAgIH0sXG4gICAgICB2YWx1ZS5mb3JtYXQobG9jYWxlLm1vbnRoRm9ybWF0KVxuICAgICk7XG4gICAgdmFyIGRheSA9IHZvaWQgMDtcbiAgICBpZiAoc2hvd1RpbWVQaWNrZXIpIHtcbiAgICAgIGRheSA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdhJyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kYXktc2VsZWN0JyxcbiAgICAgICAgICByb2xlOiAnYnV0dG9uJ1xuICAgICAgICB9LFxuICAgICAgICB2YWx1ZS5mb3JtYXQobG9jYWxlLmRheUZvcm1hdClcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciBteSA9IFtdO1xuICAgIGlmIChtb250aEJlZm9yZVllYXIpIHtcbiAgICAgIG15ID0gW21vbnRoLCBkYXksIHllYXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBteSA9IFt5ZWFyLCBtb250aCwgZGF5XTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3BhbicsXG4gICAgICB7IGNsYXNzTmFtZTogc2VsZWN0Q2xhc3NOYW1lIH0sXG4gICAgICAoMCwgX21hcFNlbGYyW1wiZGVmYXVsdFwiXSkobXkpXG4gICAgKTtcbiAgfSxcbiAgc2hvd01vbnRoUGFuZWw6IGZ1bmN0aW9uIHNob3dNb250aFBhbmVsKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd01vbnRoUGFuZWw6IDEsXG4gICAgICBzaG93WWVhclBhbmVsOiAwXG4gICAgfSk7XG4gIH0sXG4gIHNob3dZZWFyUGFuZWw6IGZ1bmN0aW9uIHNob3dZZWFyUGFuZWwoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93TW9udGhQYW5lbDogMCxcbiAgICAgIHNob3dZZWFyUGFuZWw6IDFcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgZW5hYmxlTmV4dCA9IHByb3BzLmVuYWJsZU5leHQsXG4gICAgICAgIGVuYWJsZVByZXYgPSBwcm9wcy5lbmFibGVQcmV2LFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcbiAgICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgICAgc2hvd1RpbWVQaWNrZXIgPSBwcm9wcy5zaG93VGltZVBpY2tlcjtcblxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIFBhbmVsQ2xhc3MgPSBudWxsO1xuICAgIGlmIChzdGF0ZS5zaG93TW9udGhQYW5lbCkge1xuICAgICAgUGFuZWxDbGFzcyA9IF9Nb250aFBhbmVsMltcImRlZmF1bHRcIl07XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5zaG93WWVhclBhbmVsKSB7XG4gICAgICBQYW5lbENsYXNzID0gX1llYXJQYW5lbDJbXCJkZWZhdWx0XCJdO1xuICAgIH1cbiAgICB2YXIgcGFuZWwgPSB2b2lkIDA7XG4gICAgaWYgKFBhbmVsQ2xhc3MpIHtcbiAgICAgIHBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChQYW5lbENsYXNzLCB7XG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHZhbHVlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiB7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0gfSxcbiAgICAgICAgc2hvd0lmKGVuYWJsZVByZXYgJiYgIXNob3dUaW1lUGlja2VyLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LXllYXItYnRuJyxcbiAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXZpb3VzWWVhcixcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzWWVhclxuICAgICAgICB9KSksXG4gICAgICAgIHNob3dJZihlbmFibGVQcmV2ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi1tb250aC1idG4nLFxuICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgIG9uQ2xpY2s6IHRoaXMucHJldmlvdXNNb250aCxcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzTW9udGhcbiAgICAgICAgfSkpLFxuICAgICAgICB0aGlzLm1vbnRoWWVhckVsZW1lbnQoc2hvd1RpbWVQaWNrZXIpLFxuICAgICAgICBzaG93SWYoZW5hYmxlTmV4dCAmJiAhc2hvd1RpbWVQaWNrZXIsIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtbW9udGgtYnRuJyxcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLm5leHRNb250aCxcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRNb250aFxuICAgICAgICB9KSksXG4gICAgICAgIHNob3dJZihlbmFibGVOZXh0ICYmICFzaG93VGltZVBpY2tlciwgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbmV4dC15ZWFyLWJ0bicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5uZXh0WWVhcixcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRZZWFyXG4gICAgICAgIH0pKVxuICAgICAgKSxcbiAgICAgIHBhbmVsXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJIZWFkZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvY2FsZW5kYXIvQ2FsZW5kYXJIZWFkZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAyNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE9rQnV0dG9uO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIE9rQnV0dG9uKF9yZWYpIHtcbiAgdmFyIHByZWZpeENscyA9IF9yZWYucHJlZml4Q2xzLFxuICAgICAgbG9jYWxlID0gX3JlZi5sb2NhbGUsXG4gICAgICBva0Rpc2FibGVkID0gX3JlZi5va0Rpc2FibGVkLFxuICAgICAgb25PayA9IF9yZWYub25PaztcblxuICB2YXIgY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgXCItb2stYnRuXCI7XG4gIGlmIChva0Rpc2FibGVkKSB7XG4gICAgY2xhc3NOYW1lICs9IFwiIFwiICsgcHJlZml4Q2xzICsgXCItb2stYnRuLWRpc2FibGVkXCI7XG4gIH1cbiAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJhXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogb2tEaXNhYmxlZCA/IG51bGwgOiBvbk9rXG4gICAgfSxcbiAgICBsb2NhbGUub2tcbiAgKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9jYWxlbmRhci9Pa0J1dHRvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDI1M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUaW1lUGlja2VyQnV0dG9uO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBUaW1lUGlja2VyQnV0dG9uKF9yZWYpIHtcbiAgdmFyIF9jbGFzc25hbWVzO1xuXG4gIHZhciBwcmVmaXhDbHMgPSBfcmVmLnByZWZpeENscyxcbiAgICAgIGxvY2FsZSA9IF9yZWYubG9jYWxlLFxuICAgICAgc2hvd1RpbWVQaWNrZXIgPSBfcmVmLnNob3dUaW1lUGlja2VyLFxuICAgICAgb25PcGVuVGltZVBpY2tlciA9IF9yZWYub25PcGVuVGltZVBpY2tlcixcbiAgICAgIG9uQ2xvc2VUaW1lUGlja2VyID0gX3JlZi5vbkNsb3NlVGltZVBpY2tlcixcbiAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZCA9IF9yZWYudGltZVBpY2tlckRpc2FibGVkO1xuXG4gIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoKF9jbGFzc25hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctdGltZS1waWNrZXItYnRuJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctdGltZS1waWNrZXItYnRuLWRpc2FibGVkJywgdGltZVBpY2tlckRpc2FibGVkKSwgX2NsYXNzbmFtZXMpKTtcbiAgdmFyIG9uQ2xpY2sgPSBudWxsO1xuICBpZiAoIXRpbWVQaWNrZXJEaXNhYmxlZCkge1xuICAgIG9uQ2xpY2sgPSBzaG93VGltZVBpY2tlciA/IG9uQ2xvc2VUaW1lUGlja2VyIDogb25PcGVuVGltZVBpY2tlcjtcbiAgfVxuICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAnYScsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgIG9uQ2xpY2s6IG9uQ2xpY2tcbiAgICB9LFxuICAgIHNob3dUaW1lUGlja2VyID8gbG9jYWxlLmRhdGVTZWxlY3QgOiBsb2NhbGUudGltZVNlbGVjdFxuICApO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL1RpbWVQaWNrZXJCdXR0b24uanNcbiAqKiBtb2R1bGUgaWQgPSAyNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBUb2RheUJ1dHRvbjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuLi91dGlsLycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gVG9kYXlCdXR0b24oX3JlZikge1xuICB2YXIgcHJlZml4Q2xzID0gX3JlZi5wcmVmaXhDbHMsXG4gICAgICBsb2NhbGUgPSBfcmVmLmxvY2FsZSxcbiAgICAgIHZhbHVlID0gX3JlZi52YWx1ZSxcbiAgICAgIHRpbWVQaWNrZXIgPSBfcmVmLnRpbWVQaWNrZXIsXG4gICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZERhdGUgPSBfcmVmLmRpc2FibGVkRGF0ZSxcbiAgICAgIG9uVG9kYXkgPSBfcmVmLm9uVG9kYXksXG4gICAgICB0ZXh0ID0gX3JlZi50ZXh0O1xuXG4gIHZhciBsb2NhbGVOb3cgPSAoIXRleHQgJiYgdGltZVBpY2tlciA/IGxvY2FsZS5ub3cgOiB0ZXh0KSB8fCBsb2NhbGUudG9kYXk7XG4gIHZhciBkaXNhYmxlZFRvZGF5ID0gZGlzYWJsZWREYXRlICYmICEoMCwgX3V0aWwuaXNBbGxvd2VkRGF0ZSkoKDAsIF91dGlsLmdldFRvZGF5VGltZSkodmFsdWUpLCBkaXNhYmxlZERhdGUpO1xuICB2YXIgaXNEaXNhYmxlZCA9IGRpc2FibGVkVG9kYXkgfHwgZGlzYWJsZWQ7XG4gIHZhciBkaXNhYmxlZFRvZGF5Q2xhc3MgPSBpc0Rpc2FibGVkID8gcHJlZml4Q2xzICsgJy10b2RheS1idG4tZGlzYWJsZWQnIDogJyc7XG4gIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICdhJyxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctdG9kYXktYnRuICcgKyBkaXNhYmxlZFRvZGF5Q2xhc3MsXG4gICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgIG9uQ2xpY2s6IGlzRGlzYWJsZWQgPyBudWxsIDogb25Ub2RheSxcbiAgICAgIHRpdGxlOiAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lU3RyKSh2YWx1ZSlcbiAgICB9LFxuICAgIGxvY2FsZU5vd1xuICApO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL1RvZGF5QnV0dG9uLmpzXG4gKiogbW9kdWxlIGlkID0gMjU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB7XG4gIERBVEVfUk9XX0NPVU5UOiA2LFxuICBEQVRFX0NPTF9DT1VOVDogN1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVDb25zdGFudHMuanNcbiAqKiBtb2R1bGUgaWQgPSAyNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgRGF0ZUlucHV0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0RhdGVJbnB1dCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgcGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VsZWN0ZWRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3RcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWRWYWx1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyOiBzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGVkVmFsdWUuZm9ybWF0KHRoaXMucHJvcHMuZm9ybWF0KSB8fCAnJyxcbiAgICAgIGludmFsaWQ6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAvLyB3aGVuIHBvcHVwIHNob3csIGNsaWNrIGJvZHkgd2lsbCBjYWxsIHRoaXMsIGJ1ZyFcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG5leHRQcm9wcy5zZWxlY3RlZFZhbHVlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc3RyOiBzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGVkVmFsdWUuZm9ybWF0KG5leHRQcm9wcy5mb3JtYXQpIHx8ICcnLFxuICAgICAgaW52YWxpZDogZmFsc2VcbiAgICB9KTtcbiAgfSxcbiAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuICAgIHZhciBzdHIgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzdHI6IHN0clxuICAgIH0pO1xuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGlzYWJsZWREYXRlID0gX3Byb3BzLmRpc2FibGVkRGF0ZSxcbiAgICAgICAgZm9ybWF0ID0gX3Byb3BzLmZvcm1hdCxcbiAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2U7XG5cbiAgICBpZiAoc3RyKSB7XG4gICAgICB2YXIgcGFyc2VkID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoc3RyLCBmb3JtYXQsIHRydWUpO1xuICAgICAgaWYgKCFwYXJzZWQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGludmFsaWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZS5jbG9uZSgpO1xuICAgICAgdmFsdWUueWVhcihwYXJzZWQueWVhcigpKS5tb250aChwYXJzZWQubW9udGgoKSkuZGF0ZShwYXJzZWQuZGF0ZSgpKS5ob3VyKHBhcnNlZC5ob3VyKCkpLm1pbnV0ZShwYXJzZWQubWludXRlKCkpLnNlY29uZChwYXJzZWQuc2Vjb25kKCkpO1xuXG4gICAgICBpZiAodmFsdWUgJiYgKCFkaXNhYmxlZERhdGUgfHwgIWRpc2FibGVkRGF0ZSh2YWx1ZSkpKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5wcm9wcy5zZWxlY3RlZFZhbHVlO1xuICAgICAgICBpZiAob3JpZ2luYWxWYWx1ZSAmJiB2YWx1ZSkge1xuICAgICAgICAgIGlmICghb3JpZ2luYWxWYWx1ZS5pc1NhbWUodmFsdWUpKSB7XG4gICAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgb25DaGFuZ2UodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnZhbGlkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGludmFsaWQ6IGZhbHNlXG4gICAgfSk7XG4gIH0sXG4gIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzdHI6ICcnXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbkNsZWFyKG51bGwpO1xuICB9LFxuICBnZXRSb290RE9NTm9kZTogZnVuY3Rpb24gZ2V0Um9vdERPTU5vZGUoKSB7XG4gICAgcmV0dXJuIF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICB9LFxuICBmb2N1czogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgdGhpcy5yZWZzLmRhdGVJbnB1dC5mb2N1cygpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBpbnZhbGlkID0gX3N0YXRlLmludmFsaWQsXG4gICAgICAgIHN0ciA9IF9zdGF0ZS5zdHI7XG4gICAgdmFyIGxvY2FsZSA9IHByb3BzLmxvY2FsZSxcbiAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyO1xuXG4gICAgdmFyIGludmFsaWRDbGFzcyA9IGludmFsaWQgPyBwcmVmaXhDbHMgKyAnLWlucHV0LWludmFsaWQnIDogJyc7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0LXdyYXAnIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1pbnB1dC13cmFwJyB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICByZWY6ICdkYXRlSW5wdXQnLFxuICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dCAnICsgaW52YWxpZENsYXNzLFxuICAgICAgICAgIHZhbHVlOiBzdHIsXG4gICAgICAgICAgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlXG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgcHJvcHMuc2hvd0NsZWFyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWJ0bicsXG4gICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICB0aXRsZTogbG9jYWxlLmNsZWFyLFxuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJcbiAgICAgIH0pIDogbnVsbFxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERhdGVJbnB1dDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVJbnB1dC5qc1xuICoqIG1vZHVsZSBpZCA9IDI1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0RhdGVUSGVhZCA9IHJlcXVpcmUoJy4vRGF0ZVRIZWFkJyk7XG5cbnZhciBfRGF0ZVRIZWFkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUSGVhZCk7XG5cbnZhciBfRGF0ZVRCb2R5ID0gcmVxdWlyZSgnLi9EYXRlVEJvZHknKTtcblxudmFyIF9EYXRlVEJvZHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVRCb2R5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBEYXRlVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERhdGVUYWJsZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZVRhYmxlKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRGF0ZVRhYmxlKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBEYXRlVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndGFibGUnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFibGUnLCBjZWxsU3BhY2luZzogJzAnLCByb2xlOiAnZ3JpZCcgfSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVUSGVhZDJbXCJkZWZhdWx0XCJdLCBwcm9wcyksXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9EYXRlVEJvZHkyW1wiZGVmYXVsdFwiXSwgcHJvcHMpXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gRGF0ZVRhYmxlO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERhdGVUYWJsZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVUYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI1OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfQ2FsZW5kYXIgPSByZXF1aXJlKCcuL0NhbGVuZGFyJyk7XG5cbnZhciBfQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDI1OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgdG9kYXk6ICfku4rlpKknLFxuICBub3c6ICfmraTliLsnLFxuICBiYWNrVG9Ub2RheTogJ+i/lOWbnuS7iuWkqScsXG4gIG9rOiAn56Gu5a6aJyxcbiAgdGltZVNlbGVjdDogJ+mAieaLqeaXtumXtCcsXG4gIGRhdGVTZWxlY3Q6ICfpgInmi6nml6XmnJ8nLFxuICBjbGVhcjogJ+a4hemZpCcsXG4gIG1vbnRoOiAn5pyIJyxcbiAgeWVhcjogJ+W5tCcsXG4gIHByZXZpb3VzTW9udGg6ICfkuIrkuKrmnIggKOe/u+mhteS4iumUriknLFxuICBuZXh0TW9udGg6ICfkuIvkuKrmnIggKOe/u+mhteS4i+mUriknLFxuICBtb250aFNlbGVjdDogJ+mAieaLqeaciOS7vScsXG4gIHllYXJTZWxlY3Q6ICfpgInmi6nlubTku70nLFxuICBkZWNhZGVTZWxlY3Q6ICfpgInmi6nlubTku6MnLFxuICB5ZWFyRm9ybWF0OiAnWVlZWeW5tCcsXG4gIG1vbnRoRm9ybWF0OiAnTeaciCcsXG4gIGRheUZvcm1hdDogJ0Tml6UnLFxuICBkYXRlRm9ybWF0OiAnWVlZWeW5tE3mnIhE5pelJyxcbiAgZGF0ZVRpbWVGb3JtYXQ6ICdZWVlZ5bm0TeaciETml6UgSEjml7ZtbeWIhnNz56eSJyxcbiAgcHJldmlvdXNZZWFyOiAn5LiK5LiA5bm0IChDb250cm9s6ZSu5Yqg5bem5pa55ZCR6ZSuKScsXG4gIG5leHRZZWFyOiAn5LiL5LiA5bm0IChDb250cm9s6ZSu5Yqg5Y+z5pa55ZCR6ZSuKScsXG4gIHByZXZpb3VzRGVjYWRlOiAn5LiK5LiA5bm05LujJyxcbiAgbmV4dERlY2FkZTogJ+S4i+S4gOW5tOS7oycsXG4gIHByZXZpb3VzQ2VudHVyeTogJ+S4iuS4gOS4lue6qicsXG4gIG5leHRDZW50dXJ5OiAn5LiL5LiA5LiW57qqJ1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9sb2NhbGUvemhfQ04uanNcbiAqKiBtb2R1bGUgaWQgPSAyNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi91dGlsL2luZGV4Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZ2V0Tm93KCkge1xuICByZXR1cm4gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm93QnlDdXJyZW50U3RhdGVWYWx1ZSh2YWx1ZSkge1xuICB2YXIgcmV0ID0gdm9pZCAwO1xuICBpZiAodmFsdWUpIHtcbiAgICByZXQgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldCA9IGdldE5vdygpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbnZhciBDYWxlbmRhck1peGluID0ge1xuICBwcm9wVHlwZXM6IHtcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgZGVmYXVsdFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvbktleURvd246IF9yZWFjdC5Qcm9wVHlwZXMuZnVuY1xuICB9LFxuXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbktleURvd246IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZSB8fCBnZXROb3coKTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgc2VsZWN0ZWRWYWx1ZTogcHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCBwcm9wcy5kZWZhdWx0U2VsZWN0ZWRWYWx1ZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gbmV4dFByb3BzLnNlbGVjdGVkVmFsdWU7XG5cbiAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgfHwgbmV4dFByb3BzLmRlZmF1bHRWYWx1ZSB8fCBnZXROb3dCeUN1cnJlbnRTdGF0ZVZhbHVlKHRoaXMuc3RhdGUudmFsdWUpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICgnc2VsZWN0ZWRWYWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUsIGNhdXNlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTZWxlY3RlZFZhbHVlKHZhbHVlLCBjYXVzZSk7XG4gIH0sXG4gIHJlbmRlclJvb3Q6IGZ1bmN0aW9uIHJlbmRlclJvb3QobmV3UHJvcHMpIHtcbiAgICB2YXIgX2NsYXNzTmFtZTtcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscztcblxuICAgIHZhciBjbGFzc05hbWUgPSAoX2NsYXNzTmFtZSA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy1oaWRkZW4nLCAhcHJvcHMudmlzaWJsZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgbmV3UHJvcHMuY2xhc3NOYW1lLCAhIW5ld1Byb3BzLmNsYXNzTmFtZSksIF9jbGFzc05hbWUpO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHtcbiAgICAgICAgcmVmOiAncm9vdCcsXG4gICAgICAgIGNsYXNzTmFtZTogJycgKyAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoY2xhc3NOYW1lKSxcbiAgICAgICAgc3R5bGU6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgICAgIHRhYkluZGV4OiAnMCcsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd25cbiAgICAgIH0sXG4gICAgICBuZXdQcm9wcy5jaGlsZHJlblxuICAgICk7XG4gIH0sXG4gIHNldFNlbGVjdGVkVmFsdWU6IGZ1bmN0aW9uIHNldFNlbGVjdGVkVmFsdWUoc2VsZWN0ZWRWYWx1ZSwgY2F1c2UpIHtcbiAgICAvLyBpZiAodGhpcy5pc0FsbG93ZWREYXRlKHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TZWxlY3Qoc2VsZWN0ZWRWYWx1ZSwgY2F1c2UpO1xuICAgIC8vIH1cbiAgfSxcbiAgc2V0VmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIGlmICghKCd2YWx1ZScgaW4gdGhpcy5wcm9wcykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob3JpZ2luYWxWYWx1ZSAmJiB2YWx1ZSAmJiAhb3JpZ2luYWxWYWx1ZS5pc1NhbWUodmFsdWUpIHx8ICFvcmlnaW5hbFZhbHVlICYmIHZhbHVlIHx8IG9yaWdpbmFsVmFsdWUgJiYgIXZhbHVlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGlzQWxsb3dlZERhdGU6IGZ1bmN0aW9uIGlzQWxsb3dlZERhdGUodmFsdWUpIHtcbiAgICB2YXIgZGlzYWJsZWREYXRlID0gdGhpcy5wcm9wcy5kaXNhYmxlZERhdGU7XG4gICAgdmFyIGRpc2FibGVkVGltZSA9IHRoaXMucHJvcHMuZGlzYWJsZWRUaW1lO1xuICAgIHJldHVybiAoMCwgX2luZGV4LmlzQWxsb3dlZERhdGUpKHZhbHVlLCBkaXNhYmxlZERhdGUsIGRpc2FibGVkVGltZSk7XG4gIH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJNaXhpbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9taXhpbi9DYWxlbmRhck1peGluLmpzXG4gKiogbW9kdWxlIGlkID0gMjYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX1llYXJQYW5lbCA9IHJlcXVpcmUoJy4uL3llYXIvWWVhclBhbmVsJyk7XG5cbnZhciBfWWVhclBhbmVsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1llYXJQYW5lbCk7XG5cbnZhciBfTW9udGhUYWJsZSA9IHJlcXVpcmUoJy4vTW9udGhUYWJsZScpO1xuXG52YXIgX01vbnRoVGFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhUYWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG4gIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuICBuZXh0LmFkZChkaXJlY3Rpb24sICd5ZWFyJyk7XG4gIHRoaXMuc2V0QW5kQ2hhbmdlVmFsdWUobmV4dCk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgTW9udGhQYW5lbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdNb250aFBhbmVsJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRpc2FibGVkRGF0ZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIGdldERlZmF1bHRQcm9wcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25DaGFuZ2U6IG5vb3AsXG4gICAgICBvblNlbGVjdDogbm9vcFxuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgLy8gYmluZCBtZXRob2RzXG4gICAgdGhpcy5uZXh0WWVhciA9IGdvWWVhci5iaW5kKHRoaXMsIDEpO1xuICAgIHRoaXMucHJldmlvdXNZZWFyID0gZ29ZZWFyLmJpbmQodGhpcywgLTEpO1xuICAgIHRoaXMucHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICctbW9udGgtcGFuZWwnO1xuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlXG4gICAgfTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIG9uWWVhclBhbmVsU2VsZWN0OiBmdW5jdGlvbiBvblllYXJQYW5lbFNlbGVjdChjdXJyZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93WWVhclBhbmVsOiAwXG4gICAgfSk7XG4gICAgdGhpcy5zZXRBbmRDaGFuZ2VWYWx1ZShjdXJyZW50KTtcbiAgfSxcbiAgc2V0QW5kQ2hhbmdlVmFsdWU6IGZ1bmN0aW9uIHNldEFuZENoYW5nZVZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh2YWx1ZSk7XG4gIH0sXG4gIHNldEFuZFNlbGVjdFZhbHVlOiBmdW5jdGlvbiBzZXRBbmRTZWxlY3RWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuc2V0VmFsdWUodmFsdWUpO1xuICAgIHRoaXMucHJvcHMub25TZWxlY3QodmFsdWUpO1xuICB9LFxuICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoISgndmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHNob3dZZWFyUGFuZWw6IGZ1bmN0aW9uIHNob3dZZWFyUGFuZWwoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93WWVhclBhbmVsOiAxXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgY2VsbFJlbmRlciA9IHByb3BzLmNlbGxSZW5kZXI7XG4gICAgdmFyIGNvbnRlbnRSZW5kZXIgPSBwcm9wcy5jb250ZW50UmVuZGVyO1xuICAgIHZhciBsb2NhbGUgPSBwcm9wcy5sb2NhbGU7XG4gICAgdmFyIHllYXIgPSB2YWx1ZS55ZWFyKCk7XG4gICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJlZml4Q2xzO1xuICAgIHZhciB5ZWFyUGFuZWwgPSB2b2lkIDA7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd1llYXJQYW5lbCkge1xuICAgICAgeWVhclBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfWWVhclBhbmVsMltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgcm9vdFByZWZpeENsczogcHJvcHMucm9vdFByZWZpeENscyxcbiAgICAgICAgb25TZWxlY3Q6IHRoaXMub25ZZWFyUGFuZWxTZWxlY3RcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscywgc3R5bGU6IHByb3BzLnN0eWxlIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LXllYXItYnRuJyxcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c1llYXIsXG4gICAgICAgICAgICB0aXRsZTogbG9jYWxlLnByZXZpb3VzWWVhclxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyLXNlbGVjdCcsXG4gICAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnNob3dZZWFyUGFuZWwsXG4gICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUueWVhclNlbGVjdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QtY29udGVudCcgfSxcbiAgICAgICAgICAgICAgeWVhclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICcteWVhci1zZWxlY3QtYXJyb3cnIH0sXG4gICAgICAgICAgICAgICd4J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uZXh0LXllYXItYnRuJyxcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5uZXh0WWVhcixcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dFllYXJcbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfTW9udGhUYWJsZTJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgICBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLnNldEFuZFNlbGVjdFZhbHVlLFxuICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBjZWxsUmVuZGVyOiBjZWxsUmVuZGVyLFxuICAgICAgICAgICAgY29udGVudFJlbmRlcjogY29udGVudFJlbmRlcixcbiAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIHllYXJQYW5lbFxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vbnRoUGFuZWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbW9udGgvTW9udGhQYW5lbC5qc1xuICoqIG1vZHVsZSBpZCA9IDI2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX0RlY2FkZVBhbmVsID0gcmVxdWlyZSgnLi4vZGVjYWRlL0RlY2FkZVBhbmVsJyk7XG5cbnZhciBfRGVjYWRlUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGVjYWRlUGFuZWwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJPVyA9IDQ7XG52YXIgQ09MID0gMztcblxuZnVuY3Rpb24gZ29ZZWFyKGRpcmVjdGlvbikge1xuICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gIHZhbHVlLmFkZChkaXJlY3Rpb24sICd5ZWFyJyk7XG4gIHRoaXMuc2V0U3RhdGUoe1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2hvb3NlWWVhcih5ZWFyKSB7XG4gIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgdmFsdWUueWVhcih5ZWFyKTtcbiAgdmFsdWUubW9udGgodGhpcy5zdGF0ZS52YWx1ZS5tb250aCgpKTtcbiAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG59XG5cbnZhciBZZWFyUGFuZWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKFllYXJQYW5lbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gWWVhclBhbmVsKHByb3BzKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBZZWFyUGFuZWwpO1xuXG4gICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucHJlZml4Q2xzID0gcHJvcHMucm9vdFByZWZpeENscyArICcteWVhci1wYW5lbCc7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB2YWx1ZTogcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlXG4gICAgfTtcbiAgICBfdGhpcy5uZXh0RGVjYWRlID0gZ29ZZWFyLmJpbmQoX3RoaXMsIDEwKTtcbiAgICBfdGhpcy5wcmV2aW91c0RlY2FkZSA9IGdvWWVhci5iaW5kKF90aGlzLCAtMTApO1xuICAgIFsnc2hvd0RlY2FkZVBhbmVsJywgJ29uRGVjYWRlUGFuZWxTZWxlY3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgIF90aGlzW21ldGhvZF0gPSBfdGhpc1ttZXRob2RdLmJpbmQoX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFllYXJQYW5lbC5wcm90b3R5cGUub25EZWNhZGVQYW5lbFNlbGVjdCA9IGZ1bmN0aW9uIG9uRGVjYWRlUGFuZWxTZWxlY3QoY3VycmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6IGN1cnJlbnQsXG4gICAgICBzaG93RGVjYWRlUGFuZWw6IDBcbiAgICB9KTtcbiAgfTtcblxuICBZZWFyUGFuZWwucHJvdG90eXBlLnllYXJzID0gZnVuY3Rpb24geWVhcnMoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG4gICAgdmFyIHN0YXJ0WWVhciA9IHBhcnNlSW50KGN1cnJlbnRZZWFyIC8gMTAsIDEwKSAqIDEwO1xuICAgIHZhciBwcmV2aW91c1llYXIgPSBzdGFydFllYXIgLSAxO1xuICAgIHZhciB5ZWFycyA9IFtdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgZm9yICh2YXIgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IFJPVzsgcm93SW5kZXgrKykge1xuICAgICAgeWVhcnNbcm93SW5kZXhdID0gW107XG4gICAgICBmb3IgKHZhciBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgQ09MOyBjb2xJbmRleCsrKSB7XG4gICAgICAgIHZhciB5ZWFyID0gcHJldmlvdXNZZWFyICsgaW5kZXg7XG4gICAgICAgIHZhciBjb250ZW50ID0gU3RyaW5nKHllYXIpO1xuICAgICAgICB5ZWFyc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgeWVhcjogeWVhcixcbiAgICAgICAgICB0aXRsZTogY29udGVudFxuICAgICAgICB9O1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geWVhcnM7XG4gIH07XG5cbiAgWWVhclBhbmVsLnByb3RvdHlwZS5zaG93RGVjYWRlUGFuZWwgPSBmdW5jdGlvbiBzaG93RGVjYWRlUGFuZWwoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93RGVjYWRlUGFuZWw6IDFcbiAgICB9KTtcbiAgfTtcblxuICBZZWFyUGFuZWwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlO1xuICAgIHZhciB5ZWFycyA9IHRoaXMueWVhcnMoKTtcbiAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG4gICAgdmFyIHN0YXJ0WWVhciA9IHBhcnNlSW50KGN1cnJlbnRZZWFyIC8gMTAsIDEwKSAqIDEwO1xuICAgIHZhciBlbmRZZWFyID0gc3RhcnRZZWFyICsgOTtcbiAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcmVmaXhDbHM7XG5cbiAgICB2YXIgeWVhc0VscyA9IHllYXJzLm1hcChmdW5jdGlvbiAocm93LCBpbmRleCkge1xuICAgICAgdmFyIHRkcyA9IHJvdy5tYXAoZnVuY3Rpb24gKHllYXJEYXRhKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lTWFwO1xuXG4gICAgICAgIHZhciBjbGFzc05hbWVNYXAgPSAoX2NsYXNzTmFtZU1hcCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY2VsbCcsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctc2VsZWN0ZWQtY2VsbCcsIHllYXJEYXRhLnllYXIgPT09IGN1cnJlbnRZZWFyKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWxhc3QtZGVjYWRlLWNlbGwnLCB5ZWFyRGF0YS55ZWFyIDwgc3RhcnRZZWFyKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLW5leHQtZGVjYWRlLWNlbGwnLCB5ZWFyRGF0YS55ZWFyID4gZW5kWWVhciksIF9jbGFzc05hbWVNYXApO1xuICAgICAgICB2YXIgY2xpY2tIYW5kbGVyID0gdm9pZCAwO1xuICAgICAgICBpZiAoeWVhckRhdGEueWVhciA8IHN0YXJ0WWVhcikge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5wcmV2aW91c0RlY2FkZTtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyRGF0YS55ZWFyID4gZW5kWWVhcikge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5uZXh0RGVjYWRlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IGNob29zZVllYXIuYmluZChfdGhpczIsIHllYXJEYXRhLnllYXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0ZCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcbiAgICAgICAgICAgIHRpdGxlOiB5ZWFyRGF0YS50aXRsZSxcbiAgICAgICAgICAgIGtleTogeWVhckRhdGEuY29udGVudCxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGNsaWNrSGFuZGxlcixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZU1hcClcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy15ZWFyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHllYXJEYXRhLmNvbnRlbnRcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndHInLFxuICAgICAgICB7IGtleTogaW5kZXgsIHJvbGU6ICdyb3cnIH0sXG4gICAgICAgIHRkc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHZhciBkZWNhZGVQYW5lbCA9IHZvaWQgMDtcbiAgICBpZiAodGhpcy5zdGF0ZS5zaG93RGVjYWRlUGFuZWwpIHtcbiAgICAgIGRlY2FkZVBhbmVsID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGVjYWRlUGFuZWwyW1wiZGVmYXVsdFwiXSwge1xuICAgICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICByb290UHJlZml4Q2xzOiBwcm9wcy5yb290UHJlZml4Q2xzLFxuICAgICAgICBvblNlbGVjdDogdGhpcy5vbkRlY2FkZVBhbmVsU2VsZWN0XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJlZml4Q2xzIH0sXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1oZWFkZXInIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wcmV2LWRlY2FkZS1idG4nLFxuICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLnByZXZpb3VzRGVjYWRlLFxuICAgICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c0RlY2FkZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kZWNhZGUtc2VsZWN0JyxcbiAgICAgICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc2hvd0RlY2FkZVBhbmVsLFxuICAgICAgICAgICAgICB0aXRsZTogbG9jYWxlLmRlY2FkZVNlbGVjdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlLXNlbGVjdC1jb250ZW50JyB9LFxuICAgICAgICAgICAgICBzdGFydFllYXIsXG4gICAgICAgICAgICAgICctJyxcbiAgICAgICAgICAgICAgZW5kWWVhclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctZGVjYWRlLXNlbGVjdC1hcnJvdycgfSxcbiAgICAgICAgICAgICAgJ3gnXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdhJywge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLW5leHQtZGVjYWRlLWJ0bicsXG4gICAgICAgICAgICByb2xlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMubmV4dERlY2FkZSxcbiAgICAgICAgICAgIHRpdGxlOiBsb2NhbGUubmV4dERlY2FkZVxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctYm9keScgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXRhYmxlJywgY2VsbFNwYWNpbmc6ICcwJywgcm9sZTogJ2dyaWQnIH0sXG4gICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAndGJvZHknLFxuICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10Ym9keScgfSxcbiAgICAgICAgICAgICAgeWVhc0Vsc1xuICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGRlY2FkZVBhbmVsXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gWWVhclBhbmVsO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFllYXJQYW5lbDtcblxuXG5ZZWFyUGFuZWwucHJvcFR5cGVzID0ge1xuICByb290UHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG59O1xuXG5ZZWFyUGFuZWwuZGVmYXVsdFByb3BzID0ge1xuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QoKSB7fVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi95ZWFyL1llYXJQYW5lbC5qc1xuICoqIG1vZHVsZSBpZCA9IDI2M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbmZ1bmN0aW9uIG1pcnJvcihvKSB7XG4gIHJldHVybiBvO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hcFNlbGYoY2hpbGRyZW4pIHtcbiAgLy8gcmV0dXJuIFJlYWN0RnJhZ21lbnRcbiAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgbWlycm9yKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvfi9yYy11dGlsL2xpYi9DaGlsZHJlbi9tYXBTZWxmLmpzXG4gKiogbW9kdWxlIGlkID0gMjY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB1bmRlZmluZWQ7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3poX0NOID0gcmVxdWlyZSgncmMtY2FsZW5kYXIvbGliL2xvY2FsZS96aF9DTicpO1xuXG52YXIgX3poX0NOMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOKTtcblxudmFyIF9yY0NhbGVuZGFyID0gcmVxdWlyZSgncmMtY2FsZW5kYXInKTtcblxudmFyIF9yY0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2FsZW5kYXIpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBDYWxlbmRhciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShDYWxlbmRhciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYWxlbmRhcigpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBDYWxlbmRhcik7XG4gICAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBDYWxlbmRhci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAoMCwgX3dhcm5pbmcyW1wiZGVmYXVsdFwiXSkoZmFsc2UsICdEYXRlUGlja2VyLkNhbGVuZGFyIGlzIGRlcHJlY2F0ZWQsIHVzZSBDYWxlbmRhciBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfcmNDYWxlbmRhcjJbXCJkZWZhdWx0XCJdLCB0aGlzLnByb3BzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbGVuZGFyO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyO1xuXG5DYWxlbmRhci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgbG9jYWxlOiBfemhfQ04yW1wiZGVmYXVsdFwiXSxcbiAgICBwcmVmaXhDbHM6ICdhbnQtY2FsZW5kYXInXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvQ2FsZW5kYXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfUmFuZ2VDYWxlbmRhciA9IHJlcXVpcmUoJ3JjLWNhbGVuZGFyL2xpYi9SYW5nZUNhbGVuZGFyJyk7XG5cbnZhciBfUmFuZ2VDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYW5nZUNhbGVuZGFyKTtcblxudmFyIF9QaWNrZXIgPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvUGlja2VyJyk7XG5cbnZhciBfUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BpY2tlcik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9pY29uID0gcmVxdWlyZSgnLi4vaWNvbicpO1xuXG52YXIgX2ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaWNvbik7XG5cbnZhciBfZ2V0TG9jYWxlID0gcmVxdWlyZSgnLi4vX3V0aWwvZ2V0TG9jYWxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUmFuZ2VQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoUmFuZ2VQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gUmFuZ2VQaWNrZXIocHJvcHMpIHtcbiAgICAgICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbXCJkZWZhdWx0XCJdKSh0aGlzLCBSYW5nZVBpY2tlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgICAgIF90aGlzLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBbXSB9KTtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZShbXSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gX3RoaXMucHJvcHM7XG4gICAgICAgICAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgdmFsdWU6IHZhbHVlLCBzaG93RGF0ZTogdmFsdWVbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcy5vbkNoYW5nZSh2YWx1ZSwgW3ZhbHVlWzBdICYmIHZhbHVlWzBdLmZvcm1hdChwcm9wcy5mb3JtYXQpIHx8ICcnLCB2YWx1ZVsxXSAmJiB2YWx1ZVsxXS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJ10pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVPcGVuQ2hhbmdlID0gZnVuY3Rpb24gKG9wZW4pIHtcbiAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHsgb3Blbjogb3BlbiB9KTtcbiAgICAgICAgICAgIHZhciBvbk9wZW5DaGFuZ2UgPSBfdGhpcy5wcm9wcy5vbk9wZW5DaGFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChvbk9wZW5DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmhhbmRsZVNob3dEYXRlQ2hhbmdlID0gZnVuY3Rpb24gKHNob3dEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBzaG93RGF0ZTogc2hvd0RhdGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnJlbmRlckZvb3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF90aGlzJHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICByYW5nZXMgPSBfdGhpcyRwcm9wcy5yYW5nZXM7XG5cbiAgICAgICAgICAgIGlmICghcmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IE9iamVjdC5rZXlzKHJhbmdlcykubWFwKGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJhbmdlc1tyYW5nZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgeyBrZXk6IHJhbmdlLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcXVpY2stc2VsZWN0b3InIH0sXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUgfHwgcHJvcHMuZGVmYXVsdFZhbHVlIHx8IFtdO1xuICAgICAgICBpZiAodmFsdWVbMF0gJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZVswXSkgfHwgdmFsdWVbMV0gJiYgIV9tb21lbnQyW1wiZGVmYXVsdFwiXS5pc01vbWVudCh2YWx1ZVsxXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlL2RlZmF1bHRWYWx1ZSBvZiBSYW5nZVBpY2tlciBtdXN0IGJlIGEgbW9tZW50IG9iamVjdCBhcnJheSBhZnRlciBgYW50ZEAyLjBgLCAnICsgJ3NlZTogaHR0cDovL3UuYW50LmRlc2lnbi9kYXRlLXBpY2tlci12YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgb3BlbjogcHJvcHMub3BlblxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgUmFuZ2VQaWNrZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBzaG93RGF0ZSA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSwgc2hvd0RhdGU6IHNob3dEYXRlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnb3BlbicgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBvcGVuOiBuZXh0UHJvcHMub3BlblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUmFuZ2VQaWNrZXIucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UodmFsdWUpO1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2hvd1RpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBSYW5nZVBpY2tlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG4gICAgICAgICAgICBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZSxcbiAgICAgICAgICAgIHNob3dEYXRlID0gc3RhdGUuc2hvd0RhdGUsXG4gICAgICAgICAgICBvcGVuID0gc3RhdGUub3BlbjtcblxuICAgICAgICB2YXIgbG9jYWxlQ29kZSA9ICgwLCBfZ2V0TG9jYWxlLmdldExvY2FsZUNvZGUpKGNvbnRleHQpO1xuICAgICAgICBpZiAodmFsdWUgJiYgbG9jYWxlQ29kZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlWzBdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbMF0ubG9jYWxlKGxvY2FsZUNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlWzFdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbMV0ubG9jYWxlKGxvY2FsZUNvZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaXNhYmxlZERhdGUgPSBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgICAgICBkaXNhYmxlZFRpbWUgPSBwcm9wcy5kaXNhYmxlZFRpbWUsXG4gICAgICAgICAgICBzaG93VGltZSA9IHByb3BzLnNob3dUaW1lLFxuICAgICAgICAgICAgc2hvd1RvZGF5ID0gcHJvcHMuc2hvd1RvZGF5LFxuICAgICAgICAgICAgcmFuZ2VzID0gcHJvcHMucmFuZ2VzLFxuICAgICAgICAgICAgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgcG9wdXBTdHlsZSA9IHByb3BzLnBvcHVwU3R5bGUsXG4gICAgICAgICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuICAgICAgICAgICAgb25PayA9IHByb3BzLm9uT2ssXG4gICAgICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG4gICAgICAgICAgICBmb3JtYXQgPSBwcm9wcy5mb3JtYXQ7XG5cbiAgICAgICAgdmFyIGNhbGVuZGFyQ2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUnLCBzaG93VGltZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctcmFuZ2Utd2l0aC1yYW5nZXMnLCByYW5nZXMpLCBfY2xhc3NOYW1lcykpO1xuICAgICAgICAvLyDpnIDopoHpgInmi6nml7bpl7Tml7bvvIzngrnlh7sgb2sg5pe25omN6Kem5Y+RIG9uQ2hhbmdlXG4gICAgICAgIHZhciBwaWNrZXJDaGFuZ2VIYW5kbGVyID0ge1xuICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlXG4gICAgICAgIH07XG4gICAgICAgIHZhciBjYWxlbmRhckhhbmRsZXIgPSB7XG4gICAgICAgICAgICBvbk9rOiB0aGlzLmhhbmRsZUNoYW5nZVxuICAgICAgICB9O1xuICAgICAgICBpZiAocHJvcHMudGltZVBpY2tlcikge1xuICAgICAgICAgICAgcGlja2VyQ2hhbmdlSGFuZGxlci5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjaGFuZ2VkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmhhbmRsZUNoYW5nZShjaGFuZ2VkVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGVuZGFySGFuZGxlciA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydFBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyBpbiBwcm9wcyA/IHByb3BzLnBsYWNlaG9sZGVyWzBdIDogbG9jYWxlLmxhbmcucmFuZ2VQbGFjZWhvbGRlclswXTtcbiAgICAgICAgdmFyIGVuZFBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyBpbiBwcm9wcyA/IHByb3BzLnBsYWNlaG9sZGVyWzFdIDogbG9jYWxlLmxhbmcucmFuZ2VQbGFjZWhvbGRlclsxXTtcbiAgICAgICAgdmFyIGNhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfUmFuZ2VDYWxlbmRhcjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGNhbGVuZGFySGFuZGxlciwgeyBmb3JtYXQ6IGZvcm1hdCwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2FsZW5kYXJDbGFzc05hbWUsIHJlbmRlckZvb3RlcjogdGhpcy5yZW5kZXJGb290ZXIsIHRpbWVQaWNrZXI6IHByb3BzLnRpbWVQaWNrZXIsIGRpc2FibGVkRGF0ZTogZGlzYWJsZWREYXRlLCBkaXNhYmxlZFRpbWU6IGRpc2FibGVkVGltZSwgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IFtzdGFydFBsYWNlaG9sZGVyLCBlbmRQbGFjZWhvbGRlcl0sIGxvY2FsZTogbG9jYWxlLmxhbmcsIG9uT2s6IG9uT2ssIHZhbHVlOiBzaG93RGF0ZSB8fCBwcm9wcy5kZWZhdWx0UGlja2VyVmFsdWUgfHwgKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoKSwgb25WYWx1ZUNoYW5nZTogdGhpcy5oYW5kbGVTaG93RGF0ZUNoYW5nZSwgc2hvd1RvZGF5OiBzaG93VG9kYXkgfSkpO1xuICAgICAgICAvLyBkZWZhdWx0IHdpZHRoIGZvciBzaG93VGltZVxuICAgICAgICB2YXIgcGlja2VyU3R5bGUgPSB7fTtcbiAgICAgICAgaWYgKHByb3BzLnNob3dUaW1lKSB7XG4gICAgICAgICAgICBwaWNrZXJTdHlsZS53aWR0aCA9IHN0eWxlICYmIHN0eWxlLndpZHRoIHx8IDMwMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xlYXJJY29uID0gIXByb3BzLmRpc2FibGVkICYmIHByb3BzLmFsbG93Q2xlYXIgJiYgdmFsdWUgJiYgKHZhbHVlWzBdIHx8IHZhbHVlWzFdKSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY3Jvc3MtY2lyY2xlJywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jbGVhcicsIG9uQ2xpY2s6IHRoaXMuY2xlYXJTZWxlY3Rpb24gfSkgOiBudWxsO1xuICAgICAgICB2YXIgaW5wdXQgPSBmdW5jdGlvbiBpbnB1dChfcmVmKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IF9yZWYudmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBzdGFydCA9IGlucHV0VmFsdWVbMF07XG4gICAgICAgICAgICB2YXIgZW5kID0gaW5wdXRWYWx1ZVsxXTtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucGlja2VySW5wdXRDbGFzcywgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIH0sXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwgcmVhZE9ubHk6IHRydWUsIHZhbHVlOiBzdGFydCAmJiBzdGFydC5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IHN0YXJ0UGxhY2Vob2xkZXIsIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1waWNrZXItaW5wdXQnIH0pLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcGlja2VyLXNlcGFyYXRvcicgfSxcbiAgICAgICAgICAgICAgICAgICAgJyB+ICdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQsIHJlYWRPbmx5OiB0cnVlLCB2YWx1ZTogZW5kICYmIGVuZC5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IGVuZFBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IHByZWZpeENscyArICctcmFuZ2UtcGlja2VyLWlucHV0JyB9KSxcbiAgICAgICAgICAgICAgICBjbGVhckljb24sXG4gICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1pY29uJyB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJvcHMucGlja2VyQ2xhc3MsIHN0eWxlOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgc3R5bGUsIHBpY2tlclN0eWxlKSB9LFxuICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBfUGlja2VyMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgcGlja2VyQ2hhbmdlSGFuZGxlciwgeyBjYWxlbmRhcjogY2FsZW5kYXIsIHZhbHVlOiB2YWx1ZSwgb3Blbjogb3Blbiwgb25PcGVuQ2hhbmdlOiB0aGlzLmhhbmRsZU9wZW5DaGFuZ2UsIHByZWZpeENsczogcHJlZml4Q2xzICsgJy1waWNrZXItY29udGFpbmVyJywgc3R5bGU6IHBvcHVwU3R5bGUgfSksXG4gICAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJhbmdlUGlja2VyO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFJhbmdlUGlja2VyO1xuXG5SYW5nZVBpY2tlci5jb250ZXh0VHlwZXMgPSB7XG4gICAgYW50TG9jYWxlOiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5Qcm9wVHlwZXMub2JqZWN0XG59O1xuUmFuZ2VQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcicsXG4gICAgYWxsb3dDbGVhcjogdHJ1ZSxcbiAgICBzaG93VG9kYXk6IGZhbHNlXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvUmFuZ2VQaWNrZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY3JlYXRlUGlja2VyO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfTW9udGhDYWxlbmRhciA9IHJlcXVpcmUoJ3JjLWNhbGVuZGFyL2xpYi9Nb250aENhbGVuZGFyJyk7XG5cbnZhciBfTW9udGhDYWxlbmRhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb250aENhbGVuZGFyKTtcblxudmFyIF9QaWNrZXIgPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvUGlja2VyJyk7XG5cbnZhciBfUGlja2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BpY2tlcik7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX29taXQgPSByZXF1aXJlKCdvbWl0LmpzJyk7XG5cbnZhciBfb21pdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vbWl0KTtcblxudmFyIF9vYmplY3RBc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0QXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdEFzc2lnbik7XG5cbnZhciBfaWNvbiA9IHJlcXVpcmUoJy4uL2ljb24nKTtcblxudmFyIF9pY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ljb24pO1xuXG52YXIgX2dldExvY2FsZSA9IHJlcXVpcmUoJy4uL191dGlsL2dldExvY2FsZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gY3JlYXRlUGlja2VyKFRoZUNhbGVuZGFyKSB7XG4gICAgLy8gdXNlIGNsYXNzIHR5cGVzY3JpcHQgZXJyb3JcbiAgICB2YXIgQ2FsZW5kZXJXcmFwcGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICAgICAgICBkaXNwbGF5TmFtZTogJ0NhbGVuZGVyV3JhcHBlcicsXG5cbiAgICAgICAgY29udGV4dFR5cGVzOiB7XG4gICAgICAgICAgICBhbnRMb2NhbGU6IF9yZWFjdDJbXCJkZWZhdWx0XCJdLlByb3BUeXBlcy5vYmplY3RcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgYWxsb3dDbGVhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93VG9kYXk6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhX21vbWVudDJbXCJkZWZhdWx0XCJdLmlzTW9tZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHZhbHVlL2RlZmF1bHRWYWx1ZSBvZiBEYXRlUGlja2VyIG9yIE1vbnRoUGlja2VyIG11c3QgYmUgJyArICdhIG1vbWVudCBvYmplY3QgYWZ0ZXIgYGFudGRAMi4wYCwgc2VlOiBodHRwOi8vdS5hbnQuZGVzaWduL2RhdGUtcGlja2VyLXZhbHVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB0ZW1wVmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV4dFByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wVmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIGlmICghKCd2YWx1ZScgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKHZhbHVlLCB2YWx1ZSAmJiB2YWx1ZS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhbmRsZVRlbXBDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVRlbXBDaGFuZ2UodGVtcFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGVtcFZhbHVlOiB0ZW1wVmFsdWUgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQ2xlYXIgdGVtcCB2YWx1ZSBhbmQgdHJpZ2dlciBvbkNoYW5nZSB3aGVuIGhpZGUgRGF0ZVBpY2tlcltzaG93VGltZV0gcGFuZWxcbiAgICAgICAgaGFuZGxlT3BlbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlT3BlbkNoYW5nZShvcGVuKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBzaG93VGltZSA9IF9wcm9wcy5zaG93VGltZSxcbiAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2UgPSBfcHJvcHMub25PcGVuQ2hhbmdlLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQ7XG5cbiAgICAgICAgICAgIGlmICghb3Blbikge1xuICAgICAgICAgICAgICAgIC8vIHRyaWNreSBjb2RlIHRvIGF2b2lkIHRyaWdnZXJpbmcgb25DaGFuZ2UgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICAgICAvLyB3aGVuIGNsaWNrIGBOb3dgIGJ1dHRvblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBWYWx1ZSA9IHByZXZTdGF0ZS50ZW1wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB7IHRlbXBWYWx1ZTogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93VGltZSAmJiB0ZW1wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS52YWx1ZSA9IHRlbXBWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHRlbXBWYWx1ZSwgdGVtcFZhbHVlICYmIHRlbXBWYWx1ZS5mb3JtYXQoZm9ybWF0KSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbk9wZW5DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzLFxuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBfc3RhdGUudmFsdWUsXG4gICAgICAgICAgICAgICAgdGVtcFZhbHVlID0gX3N0YXRlLnRlbXBWYWx1ZTtcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gKDAsIF9vbWl0MltcImRlZmF1bHRcIl0pKHRoaXMucHJvcHMsIFsnb25DaGFuZ2UnXSk7XG4gICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGxvY2FsZSA9IHByb3BzLmxvY2FsZTtcblxuICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gJ3BsYWNlaG9sZGVyJyBpbiBwcm9wcyA/IHByb3BzLnBsYWNlaG9sZGVyIDogbG9jYWxlLmxhbmcucGxhY2Vob2xkZXI7XG4gICAgICAgICAgICB2YXIgZGlzYWJsZWRUaW1lID0gcHJvcHMuc2hvd1RpbWUgPyBwcm9wcy5kaXNhYmxlZFRpbWUgOiBudWxsO1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFyQ2xhc3NOYW1lID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKChfY2xhc3NOYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXRpbWUnLCBwcm9wcy5zaG93VGltZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctbW9udGgnLCBfTW9udGhDYWxlbmRhcjJbXCJkZWZhdWx0XCJdID09PSBUaGVDYWxlbmRhciksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgICAgICAvLyDpnIDopoHpgInmi6nml7bpl7Tml7bvvIzngrnlh7sgb2sg5pe25omN6Kem5Y+RIG9uQ2hhbmdlXG4gICAgICAgICAgICB2YXIgcGlja2VyQ2hhbmdlSGFuZGxlciA9IHt9O1xuICAgICAgICAgICAgdmFyIGNhbGVuZGFySGFuZGxlciA9IHt9O1xuICAgICAgICAgICAgaWYgKHByb3BzLnNob3dUaW1lKSB7XG4gICAgICAgICAgICAgICAgY2FsZW5kYXJIYW5kbGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvMTkwMlxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3Qoc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlVGVtcENoYW5nZShzZWxlY3RlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpY2tlckNoYW5nZUhhbmRsZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FsZW5kYXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFRoZUNhbGVuZGFyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIGNhbGVuZGFySGFuZGxlciwgeyBkaXNhYmxlZERhdGU6IHByb3BzLmRpc2FibGVkRGF0ZSwgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsIGxvY2FsZTogbG9jYWxlLmxhbmcsIHRpbWVQaWNrZXI6IHByb3BzLnRpbWVQaWNrZXIsIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFBpY2tlclZhbHVlIHx8ICgwLCBfbW9tZW50MltcImRlZmF1bHRcIl0pKCksIGRhdGVJbnB1dFBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgcHJlZml4Q2xzOiBwcmVmaXhDbHMsIGNsYXNzTmFtZTogY2FsZW5kYXJDbGFzc05hbWUsIG9uT2s6IHByb3BzLm9uT2ssIGZvcm1hdDogcHJvcHMuZm9ybWF0LCBzaG93VG9kYXk6IHByb3BzLnNob3dUb2RheSwgbW9udGhDZWxsQ29udGVudFJlbmRlcjogcHJvcHMubW9udGhDZWxsQ29udGVudFJlbmRlciB9KSk7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHdpZHRoIGZvciBzaG93VGltZVxuICAgICAgICAgICAgdmFyIHBpY2tlclN0eWxlID0ge307XG4gICAgICAgICAgICBpZiAocHJvcHMuc2hvd1RpbWUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXJTdHlsZS53aWR0aCA9IHByb3BzLnN0eWxlICYmIHByb3BzLnN0eWxlLndpZHRoIHx8IDE1NDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbGVhckljb24gPSAhcHJvcHMuZGlzYWJsZWQgJiYgcHJvcHMuYWxsb3dDbGVhciAmJiB2YWx1ZSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX2ljb24yW1wiZGVmYXVsdFwiXSwgeyB0eXBlOiAnY3Jvc3MtY2lyY2xlJywgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1jbGVhcicsIG9uQ2xpY2s6IHRoaXMuY2xlYXJTZWxlY3Rpb24gfSkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gZnVuY3Rpb24gaW5wdXQoX3JlZikge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gX3JlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHsgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkLCByZWFkT25seTogdHJ1ZSwgdmFsdWU6IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5mb3JtYXQocHJvcHMuZm9ybWF0KSB8fCAnJywgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLCBjbGFzc05hbWU6IHByb3BzLnBpY2tlcklucHV0Q2xhc3MgfSksXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySWNvbixcbiAgICAgICAgICAgICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLXBpY2tlci1pY29uJyB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHBpY2tlclZhbHVlID0gdGVtcFZhbHVlIHx8IHZhbHVlO1xuICAgICAgICAgICAgdmFyIGxvY2FsZUNvZGUgPSAoMCwgX2dldExvY2FsZS5nZXRMb2NhbGVDb2RlKSh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKHBpY2tlclZhbHVlICYmIGxvY2FsZUNvZGUpIHtcbiAgICAgICAgICAgICAgICBwaWNrZXJWYWx1ZS5sb2NhbGUobG9jYWxlQ29kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByb3BzLnBpY2tlckNsYXNzLCBzdHlsZTogKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLnN0eWxlLCBwaWNrZXJTdHlsZSkgfSxcbiAgICAgICAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBfUGlja2VyMltcImRlZmF1bHRcIl0sXG4gICAgICAgICAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHBpY2tlckNoYW5nZUhhbmRsZXIsIHsgb25PcGVuQ2hhbmdlOiB0aGlzLmhhbmRsZU9wZW5DaGFuZ2UsIGNhbGVuZGFyOiBjYWxlbmRhciwgdmFsdWU6IHBpY2tlclZhbHVlLCBwcmVmaXhDbHM6IHByZWZpeENscyArICctcGlja2VyLWNvbnRhaW5lcicsIHN0eWxlOiBwcm9wcy5wb3B1cFN0eWxlIH0pLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gQ2FsZW5kZXJXcmFwcGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvY3JlYXRlUGlja2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMzE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdEFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIF9vYmplY3RBc3NpZ24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0QXNzaWduKTtcblxudmFyIF9yY0NhbGVuZGFyID0gcmVxdWlyZSgncmMtY2FsZW5kYXInKTtcblxudmFyIF9yY0NhbGVuZGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JjQ2FsZW5kYXIpO1xuXG52YXIgX01vbnRoQ2FsZW5kYXIgPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvTW9udGhDYWxlbmRhcicpO1xuXG52YXIgX01vbnRoQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTW9udGhDYWxlbmRhcik7XG5cbnZhciBfY3JlYXRlUGlja2VyID0gcmVxdWlyZSgnLi9jcmVhdGVQaWNrZXInKTtcblxudmFyIF9jcmVhdGVQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlUGlja2VyKTtcblxudmFyIF93cmFwUGlja2VyID0gcmVxdWlyZSgnLi93cmFwUGlja2VyJyk7XG5cbnZhciBfd3JhcFBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwUGlja2VyKTtcblxudmFyIF9SYW5nZVBpY2tlciA9IHJlcXVpcmUoJy4vUmFuZ2VQaWNrZXInKTtcblxudmFyIF9SYW5nZVBpY2tlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9SYW5nZVBpY2tlcik7XG5cbnZhciBfQ2FsZW5kYXIgPSByZXF1aXJlKCcuL0NhbGVuZGFyJyk7XG5cbnZhciBfQ2FsZW5kYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIERhdGVQaWNrZXIgPSAoMCwgX3dyYXBQaWNrZXIyW1wiZGVmYXVsdFwiXSkoKDAsIF9jcmVhdGVQaWNrZXIyW1wiZGVmYXVsdFwiXSkoX3JjQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSkpO1xudmFyIE1vbnRoUGlja2VyID0gKDAsIF93cmFwUGlja2VyMltcImRlZmF1bHRcIl0pKCgwLCBfY3JlYXRlUGlja2VyMltcImRlZmF1bHRcIl0pKF9Nb250aENhbGVuZGFyMltcImRlZmF1bHRcIl0pLCAnWVlZWS1NTScpO1xuKDAsIF9vYmplY3RBc3NpZ24yW1wiZGVmYXVsdFwiXSkoRGF0ZVBpY2tlciwge1xuICAgIFJhbmdlUGlja2VyOiAoMCwgX3dyYXBQaWNrZXIyW1wiZGVmYXVsdFwiXSkoX1JhbmdlUGlja2VyMltcImRlZmF1bHRcIl0pLFxuICAgIENhbGVuZGFyOiBfQ2FsZW5kYXIyW1wiZGVmYXVsdFwiXSxcbiAgICBNb250aFBpY2tlcjogTW9udGhQaWNrZXJcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlUGlja2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfemhfQ04gPSByZXF1aXJlKCdyYy1jYWxlbmRhci9saWIvbG9jYWxlL3poX0NOJyk7XG5cbnZhciBfemhfQ04yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfemhfQ04pO1xuXG52YXIgX3poX0NOMyA9IHJlcXVpcmUoJy4uLy4uL3RpbWUtcGlja2VyL2xvY2FsZS96aF9DTicpO1xuXG52YXIgX3poX0NONCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3poX0NOMyk7XG5cbnZhciBfb2JqZWN0QXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgX29iamVjdEFzc2lnbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3RBc3NpZ24pO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG5yZXF1aXJlKCdtb21lbnQvbG9jYWxlL3poLWNuJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG4vLyDlpIfms6jvvJrku6XkuIvku6PnoIHml6Dms5XlrozlhajmjInmnIDliJ3orr7orqHov5DooYzvvIzkvYbkuLrkuobkv53or4HlhbzlrrnmgKfvvIzpnIDopoHkv53nlZnvvIznm7Toh7MgYW50ZCDpu5jorqTor63oqIDmlLnkuLroi7Hmlodcbi8vICAxLiDlpoLmnpznlKjmiLfkuI3nu5nml7bpl7Tnsbvnu4Tku7bkvKDlhaUgdmFsdWUgZGVmYXVsdFZhbHVl77yM5YiZ6L+Q6KGM56ym5ZCI6aKE5pyfXG4vLyAgMi4g5aaC5p6c55So5oi35Lyg5YWlIHZhbHVlIGRlZmF1bHRWYWx1Ze+8jOWboOS4uui/meauteS7o+eggeayoeacieWcqOeUqOaIt+S7o+eggeS5i+WJjei/kOihjO+8jOaJgOS7peeUqOaIt+iwg+eUqCBtb21lbnQg5pe277yM6buY6K6k6K+t6KiA5L6d54S25Li66Iux5paHXG4vLyBUbyBzZXQgdGhlIGRlZmF1bHQgbG9jYWxlIG9mIG1vbWVudCB0byB6aC1jbiBnbG9iYWxseS5cbl9tb21lbnQyW1wiZGVmYXVsdFwiXS5sb2NhbGUoJ3poLWNuJyk7XG4vLyDnu5/kuIDlkIjlubbkuLrlrozmlbTnmoQgTG9jYWxlXG52YXIgbG9jYWxlID0ge1xuICAgIGxhbmc6ICgwLCBfb2JqZWN0QXNzaWduMltcImRlZmF1bHRcIl0pKHtcbiAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fpgInmi6nml6XmnJ8nLFxuICAgICAgICByYW5nZVBsYWNlaG9sZGVyOiBbJ+W8gOWni+aXpeacnycsICfnu5PmnZ/ml6XmnJ8nXVxuICAgIH0sIF96aF9DTjJbXCJkZWZhdWx0XCJdKSxcbiAgICB0aW1lUGlja2VyTG9jYWxlOiAoMCwgX29iamVjdEFzc2lnbjJbXCJkZWZhdWx0XCJdKSh7fSwgX3poX0NONFtcImRlZmF1bHRcIl0pXG59O1xuLy8gc2hvdWxkIGFkZCB3aGl0ZXNwYWNlIGJldHdlZW4gY2hhciBpbiBCdXR0b25cbmxvY2FsZS5sYW5nLm9rID0gJ+ehriDlrponO1xuLy8gQWxsIHNldHRpbmdzIGF0OlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9ibG9iL21hc3Rlci9jb21wb25lbnRzL2RhdGUtcGlja2VyL2xvY2FsZS9leGFtcGxlLmpzb25cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbG9jYWxlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvZGF0ZS1waWNrZXIvbG9jYWxlL3poX0NOLmpzXG4gKiogbW9kdWxlIGlkID0gMzE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vLi4vc3R5bGUvaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuL2luZGV4Lmxlc3MnKTtcblxucmVxdWlyZSgnLi4vLi4vaW5wdXQvc3R5bGUnKTtcblxucmVxdWlyZSgnLi4vLi4vdGltZS1waWNrZXIvc3R5bGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbnRkL2xpYi9kYXRlLXBpY2tlci9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDMxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSB3cmFwUGlja2VyO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfUGFuZWwgPSByZXF1aXJlKCdyYy10aW1lLXBpY2tlci9saWIvUGFuZWwnKTtcblxudmFyIF9QYW5lbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QYW5lbCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuLi9fdXRpbC93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIF9nZXRMb2NhbGUgPSByZXF1aXJlKCcuLi9fdXRpbC9nZXRMb2NhbGUnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENvbHVtbnMoX3JlZikge1xuICAgIHZhciBzaG93SG91ciA9IF9yZWYuc2hvd0hvdXIsXG4gICAgICAgIHNob3dNaW51dGUgPSBfcmVmLnNob3dNaW51dGUsXG4gICAgICAgIHNob3dTZWNvbmQgPSBfcmVmLnNob3dTZWNvbmQ7XG5cbiAgICB2YXIgY29sdW1uID0gMDtcbiAgICBpZiAoc2hvd0hvdXIpIHtcbiAgICAgICAgY29sdW1uICs9IDE7XG4gICAgfVxuICAgIGlmIChzaG93TWludXRlKSB7XG4gICAgICAgIGNvbHVtbiArPSAxO1xuICAgIH1cbiAgICBpZiAoc2hvd1NlY29uZCkge1xuICAgICAgICBjb2x1bW4gKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbjtcbn1cbmZ1bmN0aW9uIHdyYXBQaWNrZXIoUGlja2VyLCBkZWZhdWx0Rm9ybWF0KSB7XG4gICAgdmFyIFBpY2tlcldyYXBwZXIgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gICAgICAgIGRpc3BsYXlOYW1lOiAnUGlja2VyV3JhcHBlcicsXG5cbiAgICAgICAgY29udGV4dFR5cGVzOiB7XG4gICAgICAgICAgICBhbnRMb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG4gICAgICAgIH0sXG4gICAgICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gZ2V0RGVmYXVsdFByb3BzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQgfHwgJ1lZWVktTU0tREQnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25OYW1lOiAnc2xpZGUtdXAnLFxuICAgICAgICAgICAgICAgIHBvcHVwU3R5bGU6IHt9LFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9LFxuICAgICAgICAgICAgICAgIG9uT2s6IGZ1bmN0aW9uIG9uT2soKSB7fSxcbiAgICAgICAgICAgICAgICBvbk9wZW5DaGFuZ2U6IGZ1bmN0aW9uIG9uT3BlbkNoYW5nZSgpIHt9LFxuXG4gICAgICAgICAgICAgICAgbG9jYWxlOiB7fSxcbiAgICAgICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IFswLCAtOV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHByZWZpeENsczogJ2FudC1jYWxlbmRhcicsXG4gICAgICAgICAgICAgICAgaW5wdXRQcmVmaXhDbHM6ICdhbnQtaW5wdXQnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVPcGVuQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVPcGVuQ2hhbmdlKG9wZW4pIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIG9uT3BlbkNoYW5nZSA9IF9wcm9wcy5vbk9wZW5DaGFuZ2UsXG4gICAgICAgICAgICAgICAgdG9nZ2xlT3BlbiA9IF9wcm9wcy50b2dnbGVPcGVuO1xuXG4gICAgICAgICAgICBvbk9wZW5DaGFuZ2Uob3Blbik7XG4gICAgICAgICAgICBpZiAodG9nZ2xlT3Blbikge1xuICAgICAgICAgICAgICAgICgwLCBfd2FybmluZzJbXCJkZWZhdWx0XCJdKShmYWxzZSwgJ2B0b2dnbGVPcGVuYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgJyArICdwbGVhc2UgdXNlIGBvbk9wZW5DaGFuZ2VgIGluc3RlYWQsIHNlZTogaHR0cDovL3UuYW50LmRlc2lnbi9kYXRlLXBpY2tlci1vbi1vcGVuLWNoYW5nZScpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZU9wZW4oeyBvcGVuOiBvcGVuIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBfY2xhc3NOYW1lczIsIF9jbGFzc05hbWVzMztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgaW5wdXRQcmVmaXhDbHMgPSBwcm9wcy5pbnB1dFByZWZpeENscztcblxuICAgICAgICAgICAgdmFyIHBpY2tlckNsYXNzID0gKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKCgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoe30sIHByZWZpeENscyArICctcGlja2VyJywgdHJ1ZSkpO1xuICAgICAgICAgICAgdmFyIHBpY2tlcklucHV0Q2xhc3MgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jbGFzc05hbWVzMiA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgcHJlZml4Q2xzICsgJy1waWNrZXItaW5wdXQnLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIGlucHV0UHJlZml4Q2xzLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lczIsIGlucHV0UHJlZml4Q2xzICsgJy1sZycsIHByb3BzLnNpemUgPT09ICdsYXJnZScpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzMiwgaW5wdXRQcmVmaXhDbHMgKyAnLXNtJywgcHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJyksIF9jbGFzc05hbWVzMikpO1xuICAgICAgICAgICAgdmFyIGxvY2FsZSA9ICgwLCBfZ2V0TG9jYWxlLmdldENvbXBvbmVudExvY2FsZSkocHJvcHMsIHRoaXMuY29udGV4dCwgJ0RhdGVQaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmUoJy4vbG9jYWxlL3poX0NOJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB0aW1lRm9ybWF0ID0gcHJvcHMuc2hvd1RpbWUgJiYgcHJvcHMuc2hvd1RpbWUuZm9ybWF0IHx8ICdISDptbTpzcyc7XG4gICAgICAgICAgICB2YXIgcmNUaW1lUGlja2VyUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiB0aW1lRm9ybWF0LFxuICAgICAgICAgICAgICAgIHNob3dTZWNvbmQ6IHRpbWVGb3JtYXQuaW5kZXhPZignc3MnKSA+PSAwLFxuICAgICAgICAgICAgICAgIHNob3dNaW51dGU6IHRpbWVGb3JtYXQuaW5kZXhPZignbW0nKSA+PSAwLFxuICAgICAgICAgICAgICAgIHNob3dIb3VyOiB0aW1lRm9ybWF0LmluZGV4T2YoJ0hIJykgPj0gMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb2x1bW5zID0gZ2V0Q29sdW1ucyhyY1RpbWVQaWNrZXJQcm9wcyk7XG4gICAgICAgICAgICB2YXIgdGltZVBpY2tlckNscyA9ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLTEtY29sdW1uJywgY29sdW1ucyA9PT0gMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZXMzLCBwcmVmaXhDbHMgKyAnLXRpbWUtcGlja2VyLTItY29sdW1ucycsIGNvbHVtbnMgPT09IDIpLCBfY2xhc3NOYW1lczMpKTtcbiAgICAgICAgICAgIHZhciB0aW1lUGlja2VyID0gcHJvcHMuc2hvd1RpbWUgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9QYW5lbDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHJjVGltZVBpY2tlclByb3BzLCBwcm9wcy5zaG93VGltZSwgeyBwcmVmaXhDbHM6IHByZWZpeENscyArICctdGltZS1waWNrZXInLCBjbGFzc05hbWU6IHRpbWVQaWNrZXJDbHMsIHBsYWNlaG9sZGVyOiBsb2NhbGUudGltZVBpY2tlckxvY2FsZS5wbGFjZWhvbGRlciwgdHJhbnNpdGlvbk5hbWU6ICdzbGlkZS11cCcgfSkpIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFBpY2tlciwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgeyBwaWNrZXJDbGFzczogcGlja2VyQ2xhc3MsIHBpY2tlcklucHV0Q2xhc3M6IHBpY2tlcklucHV0Q2xhc3MsIGxvY2FsZTogbG9jYWxlLCB0aW1lUGlja2VyOiB0aW1lUGlja2VyLCBvbk9wZW5DaGFuZ2U6IHRoaXMuaGFuZGxlT3BlbkNoYW5nZSB9KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gUGlja2VyV3JhcHBlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL2RhdGUtcGlja2VyL3dyYXBQaWNrZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgbG9jYWxlID0ge1xuICAgIHBsYWNlaG9sZGVyOiAn6K+36YCJ5oup5pe26Ze0J1xufTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbG9jYWxlO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW50ZC9saWIvdGltZS1waWNrZXIvbG9jYWxlL3poX0NOLmpzXG4gKiogbW9kdWxlIGlkID0gMzIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9pcy1pdGVyYWJsZVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9pcy1pdGVyYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDMyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9pc0l0ZXJhYmxlMiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2lzLWl0ZXJhYmxlXCIpO1xuXG52YXIgX2lzSXRlcmFibGUzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJdGVyYWJsZTIpO1xuXG52YXIgX2dldEl0ZXJhdG9yMiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL2dldC1pdGVyYXRvclwiKTtcblxudmFyIF9nZXRJdGVyYXRvcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRJdGVyYXRvcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9ICgwLCBfZ2V0SXRlcmF0b3IzLmRlZmF1bHQpKGFyciksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gZWxzZSBpZiAoKDAsIF9pc0l0ZXJhYmxlMy5kZWZhdWx0KShPYmplY3QoYXJyKSkpIHtcbiAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xuICAgIH1cbiAgfTtcbn0oKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qc1xuICoqIG1vZHVsZSBpZCA9IDMyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAzMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwidmFyIGNsYXNzb2YgICA9IHJlcXVpcmUoJy4vX2NsYXNzb2YnKVxuICAsIElURVJBVE9SICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5pc0l0ZXJhYmxlID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTyA9IE9iamVjdChpdCk7XG4gIHJldHVybiBPW0lURVJBVE9SXSAhPT0gdW5kZWZpbmVkXG4gICAgfHwgJ0BAaXRlcmF0b3InIGluIE9cbiAgICB8fCBJdGVyYXRvcnMuaGFzT3duUHJvcGVydHkoY2xhc3NvZihPKSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuaXMtaXRlcmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSAzNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiLy8hIG1vbWVudC5qcyBsb2NhbGUgY29uZmlndXJhdGlvblxuLy8hIGxvY2FsZSA6IENoaW5lc2UgKENoaW5hKSBbemgtY25dXG4vLyEgYXV0aG9yIDogc3V1cGljIDogaHR0cHM6Ly9naXRodWIuY29tL3N1dXBpY1xuLy8hIGF1dGhvciA6IFplbm8gWmVuZyA6IGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5vemVuZ1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nID8gZmFjdG9yeShyZXF1aXJlKCcuLi9tb21lbnQnKSkgOlxuICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnLi4vbW9tZW50J10sIGZhY3RvcnkpIDpcbiAgIGZhY3RvcnkoZ2xvYmFsLm1vbWVudClcbn0odGhpcywgKGZ1bmN0aW9uIChtb21lbnQpIHsgJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB6aENuID0gbW9tZW50LmRlZmluZUxvY2FsZSgnemgtY24nLCB7XG4gICAgbW9udGhzIDogJ+S4gOaciF/kuozmnIhf5LiJ5pyIX+Wbm+aciF/kupTmnIhf5YWt5pyIX+S4g+aciF/lhavmnIhf5Lmd5pyIX+WNgeaciF/ljYHkuIDmnIhf5Y2B5LqM5pyIJy5zcGxpdCgnXycpLFxuICAgIG1vbnRoc1Nob3J0IDogJzHmnIhfMuaciF8z5pyIXzTmnIhfNeaciF825pyIXzfmnIhfOOaciF855pyIXzEw5pyIXzEx5pyIXzEy5pyIJy5zcGxpdCgnXycpLFxuICAgIHdlZWtkYXlzIDogJ+aYn+acn+aXpV/mmJ/mnJ/kuIBf5pif5pyf5LqMX+aYn+acn+S4iV/mmJ/mnJ/lm5tf5pif5pyf5LqUX+aYn+acn+WFrScuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5c1Nob3J0IDogJ+WRqOaXpV/lkajkuIBf5ZGo5LqMX+WRqOS4iV/lkajlm5tf5ZGo5LqUX+WRqOWFrScuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5c01pbiA6ICfml6Vf5LiAX+S6jF/kuIlf5ZubX+S6lF/lha0nLnNwbGl0KCdfJyksXG4gICAgbG9uZ0RhdGVGb3JtYXQgOiB7XG4gICAgICAgIExUIDogJ0Fo54K5bW3liIYnLFxuICAgICAgICBMVFMgOiAnQWjngrlt5YiGc+enkicsXG4gICAgICAgIEwgOiAnWVlZWS1NTS1ERCcsXG4gICAgICAgIExMIDogJ1lZWVnlubRNTU1E5pelJyxcbiAgICAgICAgTExMIDogJ1lZWVnlubRNTU1E5pelQWjngrltbeWIhicsXG4gICAgICAgIExMTEwgOiAnWVlZWeW5tE1NTUTml6VkZGRkQWjngrltbeWIhicsXG4gICAgICAgIGwgOiAnWVlZWS1NTS1ERCcsXG4gICAgICAgIGxsIDogJ1lZWVnlubRNTU1E5pelJyxcbiAgICAgICAgbGxsIDogJ1lZWVnlubRNTU1E5pelQWjngrltbeWIhicsXG4gICAgICAgIGxsbGwgOiAnWVlZWeW5tE1NTUTml6VkZGRkQWjngrltbeWIhidcbiAgICB9LFxuICAgIG1lcmlkaWVtUGFyc2U6IC/lh4zmmah85pep5LiKfOS4iuWNiHzkuK3ljYh85LiL5Y2IfOaZmuS4ii8sXG4gICAgbWVyaWRpZW1Ib3VyOiBmdW5jdGlvbiAoaG91ciwgbWVyaWRpZW0pIHtcbiAgICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVyaWRpZW0gPT09ICflh4zmmagnIHx8IG1lcmlkaWVtID09PSAn5pep5LiKJyB8fFxuICAgICAgICAgICAgICAgIG1lcmlkaWVtID09PSAn5LiK5Y2IJykge1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSBpZiAobWVyaWRpZW0gPT09ICfkuIvljYgnIHx8IG1lcmlkaWVtID09PSAn5pma5LiKJykge1xuICAgICAgICAgICAgcmV0dXJuIGhvdXIgKyAxMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICfkuK3ljYgnXG4gICAgICAgICAgICByZXR1cm4gaG91ciA+PSAxMSA/IGhvdXIgOiBob3VyICsgMTI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1lcmlkaWVtIDogZnVuY3Rpb24gKGhvdXIsIG1pbnV0ZSwgaXNMb3dlcikge1xuICAgICAgICB2YXIgaG0gPSBob3VyICogMTAwICsgbWludXRlO1xuICAgICAgICBpZiAoaG0gPCA2MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5YeM5pmoJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDkwMCkge1xuICAgICAgICAgICAgcmV0dXJuICfml6nkuIonO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTEzMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuIrljYgnO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTIzMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuK3ljYgnO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTgwMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuIvljYgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICfmmZrkuIonO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjYWxlbmRhciA6IHtcbiAgICAgICAgc2FtZURheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5LuK5aSpXUFoW+eCueaVtF0nIDogJ1vku4rlpKldTFQnO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0RGF5IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vmmI7lpKldQWhb54K55pW0XScgOiAnW+aYjuWkqV1MVCc7XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3REYXkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+aYqOWkqV1BaFvngrnmlbRdJyA6ICdb5pio5aSpXUxUJztcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dFdlZWsgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRPZldlZWssIHByZWZpeDtcbiAgICAgICAgICAgIHN0YXJ0T2ZXZWVrID0gbW9tZW50KCkuc3RhcnRPZignd2VlaycpO1xuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5kaWZmKHN0YXJ0T2ZXZWVrLCAnZGF5cycpID49IDcgPyAnW+S4i10nIDogJ1vmnKxdJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/IHByZWZpeCArICdkZGRBaOeCueaVtCcgOiBwcmVmaXggKyAnZGRkQWjngrltbSc7XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RXZWVrIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2ZXZWVrLCBwcmVmaXg7XG4gICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcbiAgICAgICAgICAgIHByZWZpeCA9IHRoaXMudW5peCgpIDwgc3RhcnRPZldlZWsudW5peCgpICA/ICdb5LiKXScgOiAnW+acrF0nO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gcHJlZml4ICsgJ2RkZEFo54K55pW0JyA6IHByZWZpeCArICdkZGRBaOeCuW1tJztcbiAgICAgICAgfSxcbiAgICAgICAgc2FtZUVsc2UgOiAnTEwnXG4gICAgfSxcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSjml6V85pyIfOWRqCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyLCBwZXJpb2QpIHtcbiAgICAgICAgc3dpdGNoIChwZXJpb2QpIHtcbiAgICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgICBjYXNlICdEREQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5pelJztcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5pyIJztcbiAgICAgICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgICAgY2FzZSAnVyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlciArICflkagnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWxhdGl2ZVRpbWUgOiB7XG4gICAgICAgIGZ1dHVyZSA6ICclc+WGhScsXG4gICAgICAgIHBhc3QgOiAnJXPliY0nLFxuICAgICAgICBzIDogJ+WHoOenkicsXG4gICAgICAgIG0gOiAnMSDliIbpkp8nLFxuICAgICAgICBtbSA6ICclZCDliIbpkp8nLFxuICAgICAgICBoIDogJzEg5bCP5pe2JyxcbiAgICAgICAgaGggOiAnJWQg5bCP5pe2JyxcbiAgICAgICAgZCA6ICcxIOWkqScsXG4gICAgICAgIGRkIDogJyVkIOWkqScsXG4gICAgICAgIE0gOiAnMSDkuKrmnIgnLFxuICAgICAgICBNTSA6ICclZCDkuKrmnIgnLFxuICAgICAgICB5IDogJzEg5bm0JyxcbiAgICAgICAgeXkgOiAnJWQg5bm0J1xuICAgIH0sXG4gICAgd2VlayA6IHtcbiAgICAgICAgLy8gR0IvVCA3NDA4LTE5OTTjgIrmlbDmja7lhYPlkozkuqTmjaLmoLzlvI/Ct+S/oeaBr+S6pOaNosK35pel5pyf5ZKM5pe26Ze06KGo56S65rOV44CL5LiOSVNPIDg2MDE6MTk4OOetieaViFxuICAgICAgICBkb3cgOiAxLCAvLyBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNCAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNHRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH1cbn0pO1xuXG5yZXR1cm4gemhDbjtcblxufSkpKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vbWVudC9sb2NhbGUvemgtY24uanNcbiAqKiBtb2R1bGUgaWQgPSAzNzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBfcmVhY3REb20yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3REb20pO1xuXG52YXIgX0tleUNvZGUgPSByZXF1aXJlKCdyYy11dGlsL2xpYi9LZXlDb2RlJyk7XG5cbnZhciBfS2V5Q29kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9LZXlDb2RlKTtcblxudmFyIF9EYXRlVGFibGUgPSByZXF1aXJlKCcuL2RhdGUvRGF0ZVRhYmxlJyk7XG5cbnZhciBfRGF0ZVRhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVUYWJsZSk7XG5cbnZhciBfQ2FsZW5kYXJIZWFkZXIgPSByZXF1aXJlKCcuL2NhbGVuZGFyL0NhbGVuZGFySGVhZGVyJyk7XG5cbnZhciBfQ2FsZW5kYXJIZWFkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJIZWFkZXIpO1xuXG52YXIgX0NhbGVuZGFyRm9vdGVyID0gcmVxdWlyZSgnLi9jYWxlbmRhci9DYWxlbmRhckZvb3RlcicpO1xuXG52YXIgX0NhbGVuZGFyRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyRm9vdGVyKTtcblxudmFyIF9DYWxlbmRhck1peGluID0gcmVxdWlyZSgnLi9taXhpbi9DYWxlbmRhck1peGluJyk7XG5cbnZhciBfQ2FsZW5kYXJNaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhck1peGluKTtcblxudmFyIF9Db21tb25NaXhpbiA9IHJlcXVpcmUoJy4vbWl4aW4vQ29tbW9uTWl4aW4nKTtcblxudmFyIF9Db21tb25NaXhpbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Db21tb25NaXhpbik7XG5cbnZhciBfRGF0ZUlucHV0ID0gcmVxdWlyZSgnLi9kYXRlL0RhdGVJbnB1dCcpO1xuXG52YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXG52YXIgX2luZGV4ID0gcmVxdWlyZSgnLi91dGlsL2luZGV4Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZ29TdGFydE1vbnRoKCkge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5zdGFydE9mKCdtb250aCcpO1xuICB0aGlzLnNldFZhbHVlKG5leHQpO1xufVxuXG5mdW5jdGlvbiBnb0VuZE1vbnRoKCkge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5lbmRPZignbW9udGgnKTtcbiAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ29UaW1lKGRpcmVjdGlvbiwgdW5pdCkge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5hZGQoZGlyZWN0aW9uLCB1bml0KTtcbiAgdGhpcy5zZXRWYWx1ZShuZXh0KTtcbn1cblxuZnVuY3Rpb24gZ29Nb250aChkaXJlY3Rpb24pIHtcbiAgcmV0dXJuIGdvVGltZS5jYWxsKHRoaXMsIGRpcmVjdGlvbiwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG4gIHJldHVybiBnb1RpbWUuY2FsbCh0aGlzLCBkaXJlY3Rpb24sICd5ZWFycycpO1xufVxuXG5mdW5jdGlvbiBnb1dlZWsoZGlyZWN0aW9uKSB7XG4gIHJldHVybiBnb1RpbWUuY2FsbCh0aGlzLCBkaXJlY3Rpb24sICd3ZWVrcycpO1xufVxuXG5mdW5jdGlvbiBnb0RheShkaXJlY3Rpb24pIHtcbiAgcmV0dXJuIGdvVGltZS5jYWxsKHRoaXMsIGRpcmVjdGlvbiwgJ2RheXMnKTtcbn1cblxudmFyIENhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIGNsYXNzTmFtZTogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgbG9jYWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzaG93V2Vla051bWJlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHN0eWxlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBzaG93VG9kYXk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93RGF0ZUlucHV0OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgdmlzaWJsZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uU2VsZWN0OiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHNob3dPazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25LZXlEb3duOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5lbGVtZW50LFxuICAgIGRhdGVJbnB1dFBsYWNlaG9sZGVyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICByZW5kZXJGb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICByZW5kZXJTaWRlYmFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXSwgX0NhbGVuZGFyTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dUb2RheTogdHJ1ZSxcbiAgICAgIHNob3dEYXRlSW5wdXQ6IHRydWUsXG4gICAgICB0aW1lUGlja2VyOiBudWxsLFxuICAgICAgb25Pazogbm9vcFxuICAgIH07XG4gIH0sXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93VGltZVBpY2tlcjogZmFsc2VcbiAgICB9O1xuICB9LFxuICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgIC8vIG1hY1xuICAgIHZhciBjdHJsS2V5ID0gZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5O1xuICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkRPV046XG4gICAgICAgIGdvV2Vlay5jYWxsKHRoaXMsIDEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5VUDpcbiAgICAgICAgZ29XZWVrLmNhbGwodGhpcywgLTEpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5MRUZUOlxuICAgICAgICBpZiAoY3RybEtleSkge1xuICAgICAgICAgIGdvWWVhci5jYWxsKHRoaXMsIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnb0RheS5jYWxsKHRoaXMsIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5SSUdIVDpcbiAgICAgICAgaWYgKGN0cmxLZXkpIHtcbiAgICAgICAgICBnb1llYXIuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnb0RheS5jYWxsKHRoaXMsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkhPTUU6XG4gICAgICAgIGdvU3RhcnRNb250aC5jYWxsKHRoaXMpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgX0tleUNvZGUyW1wiZGVmYXVsdFwiXS5FTkQ6XG4gICAgICAgIGdvRW5kTW9udGguY2FsbCh0aGlzKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlIF9LZXlDb2RlMltcImRlZmF1bHRcIl0uUEFHRV9ET1dOOlxuICAgICAgICBnb01vbnRoLmNhbGwodGhpcywgMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLlBBR0VfVVA6XG4gICAgICAgIGdvTW9udGguY2FsbCh0aGlzLCAtMSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSBfS2V5Q29kZTJbXCJkZWZhdWx0XCJdLkVOVEVSOlxuICAgICAgICB0aGlzLm9uU2VsZWN0KHRoaXMuc3RhdGUudmFsdWUsIHtcbiAgICAgICAgICBzb3VyY2U6ICdrZXlib2FyZCdcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH0sXG4gIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG4gICAgdGhpcy5vblNlbGVjdChudWxsKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgfSxcbiAgb25PazogZnVuY3Rpb24gb25PaygpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblxuICAgIGlmICh0aGlzLmlzQWxsb3dlZERhdGUoc2VsZWN0ZWRWYWx1ZSkpIHtcbiAgICAgIHRoaXMucHJvcHMub25PayhzZWxlY3RlZFZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG9uRGF0ZUlucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbkRhdGVJbnB1dENoYW5nZSh2YWx1ZSkge1xuICAgIHRoaXMub25TZWxlY3QodmFsdWUsIHtcbiAgICAgIHNvdXJjZTogJ2RhdGVJbnB1dCdcbiAgICB9KTtcbiAgfSxcbiAgb25EYXRlVGFibGVTZWxlY3Q6IGZ1bmN0aW9uIG9uRGF0ZVRhYmxlU2VsZWN0KHZhbHVlKSB7XG4gICAgdGhpcy5vblNlbGVjdCh2YWx1ZSk7XG4gIH0sXG4gIG9uVG9kYXk6IGZ1bmN0aW9uIG9uVG9kYXkoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZS52YWx1ZTtcblxuICAgIHZhciBub3cgPSAoMCwgX2luZGV4LmdldFRvZGF5VGltZSkodmFsdWUpO1xuICAgIHRoaXMub25TZWxlY3Qobm93LCB7XG4gICAgICBzb3VyY2U6ICd0b2RheUJ1dHRvbidcbiAgICB9KTtcbiAgfSxcbiAgZ2V0Um9vdERPTU5vZGU6IGZ1bmN0aW9uIGdldFJvb3RET01Ob2RlKCkge1xuICAgIHJldHVybiBfcmVhY3REb20yW1wiZGVmYXVsdFwiXS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgfSxcbiAgb3BlblRpbWVQaWNrZXI6IGZ1bmN0aW9uIG9wZW5UaW1lUGlja2VyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd1RpbWVQaWNrZXI6IHRydWVcbiAgICB9KTtcbiAgfSxcbiAgY2xvc2VUaW1lUGlja2VyOiBmdW5jdGlvbiBjbG9zZVRpbWVQaWNrZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93VGltZVBpY2tlcjogZmFsc2VcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuICAgICAgICBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGRpc2FibGVkRGF0ZSA9IHByb3BzLmRpc2FibGVkRGF0ZSxcbiAgICAgICAgZGF0ZUlucHV0UGxhY2Vob2xkZXIgPSBwcm9wcy5kYXRlSW5wdXRQbGFjZWhvbGRlcixcbiAgICAgICAgdGltZVBpY2tlciA9IHByb3BzLnRpbWVQaWNrZXIsXG4gICAgICAgIGRpc2FibGVkVGltZSA9IHByb3BzLmRpc2FibGVkVGltZTtcblxuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWUsXG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSBzdGF0ZS5zZWxlY3RlZFZhbHVlLFxuICAgICAgICBzaG93VGltZVBpY2tlciA9IHN0YXRlLnNob3dUaW1lUGlja2VyO1xuXG4gICAgdmFyIGRpc2FibGVkVGltZUNvbmZpZyA9IHNob3dUaW1lUGlja2VyICYmIGRpc2FibGVkVGltZSAmJiB0aW1lUGlja2VyID8gKDAsIF9pbmRleC5nZXRUaW1lQ29uZmlnKShzZWxlY3RlZFZhbHVlLCBkaXNhYmxlZFRpbWUpIDogbnVsbDtcblxuICAgIHZhciB0aW1lUGlja2VyRWxlID0gdGltZVBpY2tlciAmJiBzaG93VGltZVBpY2tlciA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudCh0aW1lUGlja2VyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgc2hvd0hvdXI6IHRydWUsXG4gICAgICBzaG93U2Vjb25kOiB0cnVlLFxuICAgICAgc2hvd01pbnV0ZTogdHJ1ZVxuICAgIH0sIHRpbWVQaWNrZXIucHJvcHMsIGRpc2FibGVkVGltZUNvbmZpZywge1xuICAgICAgb25DaGFuZ2U6IHRoaXMub25EYXRlSW5wdXRDaGFuZ2UsXG4gICAgICBkZWZhdWx0T3BlblZhbHVlOiB2YWx1ZSxcbiAgICAgIHZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWVcbiAgICB9KSkgOiBudWxsO1xuICAgIHZhciBkYXRlSW5wdXRFbGVtZW50ID0gcHJvcHMuc2hvd0RhdGVJbnB1dCA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0RhdGVJbnB1dDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICByZWY6ICdkYXRlSW5wdXQnLFxuICAgICAgZm9ybWF0OiB0aGlzLmdldEZvcm1hdCgpLFxuICAgICAga2V5OiAnZGF0ZS1pbnB1dCcsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBsb2NhbGU6IGxvY2FsZSxcbiAgICAgIHBsYWNlaG9sZGVyOiBkYXRlSW5wdXRQbGFjZWhvbGRlcixcbiAgICAgIHNob3dDbGVhcjogdHJ1ZSxcbiAgICAgIGRpc2FibGVkVGltZTogZGlzYWJsZWRUaW1lLFxuICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG4gICAgICBvbkNsZWFyOiB0aGlzLm9uQ2xlYXIsXG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbkRhdGVJbnB1dENoYW5nZVxuICAgIH0pIDogbnVsbDtcbiAgICB2YXIgY2hpbGRyZW4gPSBbcHJvcHMucmVuZGVyU2lkZWJhcigpLCBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wYW5lbCcsIGtleTogJ3BhbmVsJyB9LFxuICAgICAgZGF0ZUlucHV0RWxlbWVudCxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kYXRlLXBhbmVsJyB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckhlYWRlcjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZTogdGhpcy5zZXRWYWx1ZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzXG4gICAgICAgIH0pLFxuICAgICAgICB0aW1lUGlja2VyICYmIHNob3dUaW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlcicgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1wYW5lbCcgfSxcbiAgICAgICAgICAgIHRpbWVQaWNrZXJFbGVcbiAgICAgICAgICApXG4gICAgICAgICkgOiBudWxsLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZVRhYmxlMltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgICAgZGF0ZVJlbmRlcjogcHJvcHMuZGF0ZVJlbmRlcixcbiAgICAgICAgICAgIG9uU2VsZWN0OiB0aGlzLm9uRGF0ZVRhYmxlU2VsZWN0LFxuICAgICAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG4gICAgICAgICAgICBzaG93V2Vla051bWJlcjogcHJvcHMuc2hvd1dlZWtOdW1iZXJcbiAgICAgICAgICB9KVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckZvb3RlcjJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICAgICAgc2hvd09rOiBwcm9wcy5zaG93T2ssXG4gICAgICAgICAgcmVuZGVyRm9vdGVyOiBwcm9wcy5yZW5kZXJGb290ZXIsXG4gICAgICAgICAgbG9jYWxlOiBsb2NhbGUsXG4gICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgc2hvd1RvZGF5OiBwcm9wcy5zaG93VG9kYXksXG4gICAgICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsXG4gICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuICAgICAgICAgIHNob3dEYXRlSW5wdXQ6IHByb3BzLnNob3dEYXRlSW5wdXQsXG4gICAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcbiAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcbiAgICAgICAgICBva0Rpc2FibGVkOiAhdGhpcy5pc0FsbG93ZWREYXRlKHNlbGVjdGVkVmFsdWUpLFxuICAgICAgICAgIG9uT2s6IHRoaXMub25PayxcbiAgICAgICAgICBvblNlbGVjdDogdGhpcy5vblNlbGVjdCxcbiAgICAgICAgICBvblRvZGF5OiB0aGlzLm9uVG9kYXksXG4gICAgICAgICAgb25PcGVuVGltZVBpY2tlcjogdGhpcy5vcGVuVGltZVBpY2tlcixcbiAgICAgICAgICBvbkNsb3NlVGltZVBpY2tlcjogdGhpcy5jbG9zZVRpbWVQaWNrZXJcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApXTtcblxuICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3Qoe1xuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lOiBwcm9wcy5zaG93V2Vla051bWJlciA/IHByZWZpeENscyArICctd2Vlay1udW1iZXInIDogJydcbiAgICB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvQ2FsZW5kYXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9zbGljZWRUb0FycmF5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5Jyk7XG5cbnZhciBfc2xpY2VkVG9BcnJheTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zbGljZWRUb0FycmF5Mik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG52YXIgX0NhbGVuZGFyUGFydCA9IHJlcXVpcmUoJy4vcmFuZ2UtY2FsZW5kYXIvQ2FsZW5kYXJQYXJ0Jyk7XG5cbnZhciBfQ2FsZW5kYXJQYXJ0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyUGFydCk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoJy4vdXRpbC8nKTtcblxudmFyIF9Ub2RheUJ1dHRvbiA9IHJlcXVpcmUoJy4vY2FsZW5kYXIvVG9kYXlCdXR0b24nKTtcblxudmFyIF9Ub2RheUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Ub2RheUJ1dHRvbik7XG5cbnZhciBfT2tCdXR0b24gPSByZXF1aXJlKCcuL2NhbGVuZGFyL09rQnV0dG9uJyk7XG5cbnZhciBfT2tCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2tCdXR0b24pO1xuXG52YXIgX1RpbWVQaWNrZXJCdXR0b24gPSByZXF1aXJlKCcuL2NhbGVuZGFyL1RpbWVQaWNrZXJCdXR0b24nKTtcblxudmFyIF9UaW1lUGlja2VyQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXJCdXR0b24pO1xuXG52YXIgX0NvbW1vbk1peGluID0gcmVxdWlyZSgnLi9taXhpbi9Db21tb25NaXhpbicpO1xuXG52YXIgX0NvbW1vbk1peGluMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbW1vbk1peGluKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXROb3coKSB7XG4gIHJldHVybiAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xufVxuXG5mdW5jdGlvbiBvblZhbHVlQ2hhbmdlKGRpcmVjdGlvbiwgY3VycmVudCkge1xuICB2YXIgdmFsdWUgPSB2b2lkIDA7XG4gIHZhbHVlID0gY3VycmVudDtcbiAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHZhbHVlLmFkZCgtMSwgJ21vbnRocycpO1xuICB9XG4gIHRoaXMuZmlyZVZhbHVlQ2hhbmdlKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQW5jaG9yKHByb3BzLCBpbml0KSB7XG4gIHZhciBzZWxlY3RlZFZhbHVlID0gcHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCBpbml0ICYmIHByb3BzLmRlZmF1bHRTZWxlY3RlZFZhbHVlIHx8IFtdO1xuICB2YXIgdmFsdWUgPSBwcm9wcy52YWx1ZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgdmFsdWUgPSB2YWx1ZVswXTtcbiAgfVxuICB2YXIgZGVmYXVsdFZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShkZWZhdWx0VmFsdWUpKSB7XG4gICAgZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlWzBdO1xuICB9XG4gIHJldHVybiB2YWx1ZSB8fCBpbml0ICYmIGRlZmF1bHRWYWx1ZSB8fCBzZWxlY3RlZFZhbHVlWzBdIHx8IGluaXQgJiYgZ2V0Tm93KCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9ucyhsZW5ndGgpIHtcbiAgdmFyIGFyciA9IFtdO1xuICBmb3IgKHZhciB2YWx1ZSA9IDA7IHZhbHVlIDwgbGVuZ3RoOyB2YWx1ZSsrKSB7XG4gICAgYXJyLnB1c2godmFsdWUpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIG9uSW5wdXRTZWxlY3QoZGlyZWN0aW9uLCB2YWx1ZSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IG9yaWdpbmFsVmFsdWUuY29uY2F0KCk7XG4gIHZhciBpbmRleCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gMCA6IDE7XG4gIHNlbGVjdGVkVmFsdWVbaW5kZXhdID0gdmFsdWU7XG4gIGlmIChzZWxlY3RlZFZhbHVlWzBdICYmIHRoaXMuY29tcGFyZShzZWxlY3RlZFZhbHVlWzBdLCBzZWxlY3RlZFZhbHVlWzFdKSA+IDApIHtcbiAgICBzZWxlY3RlZFZhbHVlWzEgLSBpbmRleF0gPSB0aGlzLnN0YXRlLnNob3dUaW1lUGlja2VyID8gc2VsZWN0ZWRWYWx1ZVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gIH1cbiAgdGhpcy5maXJlU2VsZWN0VmFsdWVDaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSk7XG59XG5cbnZhciBSYW5nZUNhbGVuZGFyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1JhbmdlQ2FsZW5kYXInLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZGF0ZUlucHV0UGxhY2Vob2xkZXI6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgdGltZVBpY2tlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHNob3dPazogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dUb2RheTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgZGVmYXVsdFNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgb25PazogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHNob3dDbGVhcjogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIGxvY2FsZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgb25DaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uVmFsdWVDaGFuZ2U6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBmb3JtYXQ6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5zdHJpbmddKSxcbiAgICBvbkNsZWFyOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgdHlwZTogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgZGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBtaXhpbnM6IFtfQ29tbW9uTWl4aW4yW1wiZGVmYXVsdFwiXV0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdib3RoJyxcbiAgICAgIGRlZmF1bHRTZWxlY3RlZFZhbHVlOiBbXSxcbiAgICAgIG9uVmFsdWVDaGFuZ2U6IG5vb3AsXG4gICAgICBkaXNhYmxlZFRpbWU6IG5vb3AsXG4gICAgICBzaG93VG9kYXk6IHRydWVcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gcHJvcHMuc2VsZWN0ZWRWYWx1ZSB8fCBwcm9wcy5kZWZhdWx0U2VsZWN0ZWRWYWx1ZTtcbiAgICB2YXIgdmFsdWUgPSBub3JtYWxpemVBbmNob3IocHJvcHMsIDEpO1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgaG92ZXJWYWx1ZTogW10sXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBzaG93VGltZVBpY2tlcjogZmFsc2VcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuICAgIGlmICgndmFsdWUnIGluIG5leHRQcm9wcykge1xuICAgICAgaWYgKG5leHRQcm9wcy52YWx1ZSkge1xuICAgICAgICBuZXdTdGF0ZS52YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1N0YXRlLnZhbHVlID0gbm9ybWFsaXplQW5jaG9yKG5leHRQcm9wcywgMCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gICAgaWYgKCdzZWxlY3RlZFZhbHVlJyBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIG5ld1N0YXRlLnNlbGVjdGVkVmFsdWUgPSBuZXh0UHJvcHMuc2VsZWN0ZWRWYWx1ZTtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgIH1cbiAgfSxcbiAgb25EYXRlUGFuZWxFbnRlcjogZnVuY3Rpb24gb25EYXRlUGFuZWxFbnRlcigpIHtcbiAgICBpZiAodGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBob3ZlclZhbHVlOiB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWUuY29uY2F0KClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25EYXRlUGFuZWxMZWF2ZTogZnVuY3Rpb24gb25EYXRlUGFuZWxMZWF2ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNTZWxlY3RlZFZhbHVlKCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBob3ZlclZhbHVlOiBbXVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvblNlbGVjdDogZnVuY3Rpb24gb25TZWxlY3QodmFsdWUpIHtcbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgaG92ZXJWYWx1ZSA9IF9zdGF0ZS5ob3ZlclZhbHVlLFxuICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3N0YXRlLnNlbGVjdGVkVmFsdWU7XG5cbiAgICB2YXIgbmV4dFNlbGVjdGVkVmFsdWUgPSB2b2lkIDA7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnByb3BzLnR5cGU7XG5cbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGlmICghaG92ZXJWYWx1ZVswXSAmJiAhaG92ZXJWYWx1ZVsxXSAmJiB0eXBlID09PSAnYm90aCcpIHtcbiAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlXTtcbiAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdmFyIGVuZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZVsxXTtcbiAgICAgIGlmICghZW5kVmFsdWUgfHwgdGhpcy5jb21wYXJlKGVuZFZhbHVlLCB2YWx1ZSkgPCAwKSB7XG4gICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTZWxlY3RlZFZhbHVlID0gW3ZhbHVlLCBlbmRWYWx1ZV07XG4gICAgICB9XG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0YXJ0VmFsdWUgPSB2b2lkIDA7XG4gICAgICBzdGFydFZhbHVlID0gdHlwZSA9PT0gJ2VuZCcgPyBzZWxlY3RlZFZhbHVlWzBdIDogaG92ZXJWYWx1ZVswXTtcbiAgICAgIGlmIChzdGFydFZhbHVlICYmIHRoaXMuY29tcGFyZShzdGFydFZhbHVlLCB2YWx1ZSkgPD0gMCkge1xuICAgICAgICBuZXh0U2VsZWN0ZWRWYWx1ZSA9IFtzdGFydFZhbHVlLCB2YWx1ZV07XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFNlbGVjdGVkVmFsdWUgPSBbdmFsdWVdO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5maXJlU2VsZWN0VmFsdWVDaGFuZ2UobmV4dFNlbGVjdGVkVmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgb25EYXlIb3ZlcjogZnVuY3Rpb24gb25EYXlIb3Zlcih2YWx1ZSkge1xuICAgIHZhciBob3ZlclZhbHVlID0gdGhpcy5zdGF0ZS5ob3ZlclZhbHVlO1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuICAgIHZhciB0eXBlID0gdGhpcy5wcm9wcy50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09ICdzdGFydCcgJiYgc2VsZWN0ZWRWYWx1ZVsxXSkge1xuICAgICAgaWYgKHRoaXMuY29tcGFyZSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZVsxXSkgPCAwKSB7XG4gICAgICAgIGhvdmVyVmFsdWUgPSBbdmFsdWUsIHNlbGVjdGVkVmFsdWVbMV1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaG92ZXJWYWx1ZSA9IFt2YWx1ZV07XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZW5kJyAmJiBzZWxlY3RlZFZhbHVlWzBdKSB7XG4gICAgICBpZiAodGhpcy5jb21wYXJlKHZhbHVlLCBzZWxlY3RlZFZhbHVlWzBdKSA+IDApIHtcbiAgICAgICAgaG92ZXJWYWx1ZSA9IFtzZWxlY3RlZFZhbHVlWzBdLCB2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3ZlclZhbHVlID0gW107XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaG92ZXJWYWx1ZVswXSB8fCB0aGlzLmNvbXBhcmUodmFsdWUsIGhvdmVyVmFsdWVbMF0pIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBob3ZlclZhbHVlWzFdID0gdmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBvblRvZGF5OiBmdW5jdGlvbiBvblRvZGF5KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWU6ICgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHRoaXMuc3RhdGUudmFsdWUpXG4gICAgfSk7XG4gIH0sXG4gIG9uT3BlblRpbWVQaWNrZXI6IGZ1bmN0aW9uIG9uT3BlblRpbWVQaWNrZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93VGltZVBpY2tlcjogdHJ1ZVxuICAgIH0pO1xuICB9LFxuICBvbkNsb3NlVGltZVBpY2tlcjogZnVuY3Rpb24gb25DbG9zZVRpbWVQaWNrZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93VGltZVBpY2tlcjogZmFsc2VcbiAgICB9KTtcbiAgfSxcbiAgb25PazogZnVuY3Rpb24gb25PaygpIHtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcblxuICAgIGlmICh0aGlzLmlzQWxsb3dlZERhdGVBbmRUaW1lKHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICB0aGlzLnByb3BzLm9uT2sodGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG9uU3RhcnRJbnB1dFNlbGVjdDogZnVuY3Rpb24gb25TdGFydElucHV0U2VsZWN0KCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgb2FyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbJ2xlZnQnXS5jb25jYXQob2FyZ3MpO1xuICAgIHJldHVybiBvbklucHV0U2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9LFxuICBvbkVuZElucHV0U2VsZWN0OiBmdW5jdGlvbiBvbkVuZElucHV0U2VsZWN0KCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgb2FyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFsncmlnaHQnXS5jb25jYXQob2FyZ3MpO1xuICAgIHJldHVybiBvbklucHV0U2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9LFxuICBvblN0YXJ0VmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIG9uU3RhcnRWYWx1ZUNoYW5nZSgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIG9hcmdzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgIG9hcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBbJ2xlZnQnXS5jb25jYXQob2FyZ3MpO1xuICAgIHJldHVybiBvblZhbHVlQ2hhbmdlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9LFxuICBvbkVuZFZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBvbkVuZFZhbHVlQ2hhbmdlKCkge1xuICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgb2FyZ3MgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgb2FyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICB2YXIgYXJncyA9IFsncmlnaHQnXS5jb25jYXQob2FyZ3MpO1xuICAgIHJldHVybiBvblZhbHVlQ2hhbmdlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9LFxuICBnZXRTdGFydFZhbHVlOiBmdW5jdGlvbiBnZXRTdGFydFZhbHVlKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RhdGUudmFsdWU7XG4gICAgdmFyIHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWU7XG4gICAgLy8ga2VlcCBzZWxlY3RlZFRpbWUgd2hlbiBzZWxlY3QgZGF0ZVxuICAgIGlmIChzZWxlY3RlZFZhbHVlWzBdICYmIHRoaXMucHJvcHMudGltZVBpY2tlcikge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xuICAgICAgKDAsIF91dGlsLnN5bmNUaW1lKShzZWxlY3RlZFZhbHVlWzBdLCB2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLnNob3dUaW1lUGlja2VyICYmIHNlbGVjdGVkVmFsdWVbMF0pIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZFZhbHVlWzBdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG4gIGdldEVuZFZhbHVlOiBmdW5jdGlvbiBnZXRFbmRWYWx1ZSgpIHtcbiAgICB2YXIgZW5kVmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlLmNsb25lKCk7XG4gICAgZW5kVmFsdWUuYWRkKDEsICdtb250aHMnKTtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZTtcbiAgICAvLyBrZWVwIHNlbGVjdGVkVGltZSB3aGVuIHNlbGVjdCBkYXRlXG4gICAgaWYgKHNlbGVjdGVkVmFsdWVbMV0gJiYgdGhpcy5wcm9wcy50aW1lUGlja2VyKSB7XG4gICAgICAoMCwgX3V0aWwuc3luY1RpbWUpKHNlbGVjdGVkVmFsdWVbMV0sIGVuZFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd1RpbWVQaWNrZXIpIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZFZhbHVlWzFdID8gc2VsZWN0ZWRWYWx1ZVsxXSA6IHRoaXMuZ2V0U3RhcnRWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZW5kVmFsdWU7XG4gIH0sXG5cbiAgLy8gZ2V0IGRpc2FibGVkIGhvdXJzIGZvciBzZWNvbmQgcGlja2VyXG4gIGdldEVuZERpc2FibGVUaW1lOiBmdW5jdGlvbiBnZXRFbmREaXNhYmxlVGltZSgpIHtcbiAgICB2YXIgX3N0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSBfc3RhdGUyLnNlbGVjdGVkVmFsdWUsXG4gICAgICAgIHZhbHVlID0gX3N0YXRlMi52YWx1ZTtcblxuICAgIHZhciBzdGFydFZhbHVlID0gc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3RlZFZhbHVlWzBdIHx8IHZhbHVlLmNsb25lKCk7XG4gICAgLy8gaWYgc3RhcnRUaW1lIGFuZCBlbmRUaW1lIGlzIHNhbWUgZGF5Li5cbiAgICAvLyB0aGUgc2Vjb25kIHRpbWUgcGlja2VyIHdpbGwgbm90IGFibGUgdG8gcGljayB0aW1lIGJlZm9yZSBmaXJzdCB0aW1lIHBpY2tlclxuICAgIGlmICghc2VsZWN0ZWRWYWx1ZVsxXSB8fCBzdGFydFZhbHVlLmlzU2FtZShzZWxlY3RlZFZhbHVlWzFdLCAnZGF5JykpIHtcbiAgICAgIHZhciBob3VycyA9IHN0YXJ0VmFsdWUuaG91cigpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBzdGFydFZhbHVlLm1pbnV0ZSgpO1xuICAgICAgdmFyIHNlY29uZCA9IHN0YXJ0VmFsdWUuc2Vjb25kKCk7XG4gICAgICB2YXIgX2Rpc2FibGVkSG91cnMgPSBnZW5lcmF0ZU9wdGlvbnMoaG91cnMpO1xuICAgICAgdmFyIF9kaXNhYmxlZE1pbnV0ZXMgPSBnZW5lcmF0ZU9wdGlvbnMobWludXRlcyk7XG4gICAgICB2YXIgX2Rpc2FibGVkU2Vjb25kcyA9IGdlbmVyYXRlT3B0aW9ucyhzZWNvbmQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGlzYWJsZWRIb3VyczogZnVuY3Rpb24gZGlzYWJsZWRIb3VycygpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc2FibGVkSG91cnM7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkTWludXRlczogZnVuY3Rpb24gZGlzYWJsZWRNaW51dGVzKGhvdXIpIHtcbiAgICAgICAgICBpZiAoaG91ciA9PT0gaG91cnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfZGlzYWJsZWRNaW51dGVzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2FibGVkU2Vjb25kczogZnVuY3Rpb24gZGlzYWJsZWRTZWNvbmRzKGhvdXIsIG1pbnV0ZSkge1xuICAgICAgICAgIGlmIChob3VyID09PSBob3VycyAmJiBtaW51dGUgPT09IG1pbnV0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfZGlzYWJsZWRTZWNvbmRzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBpc0FsbG93ZWREYXRlQW5kVGltZTogZnVuY3Rpb24gaXNBbGxvd2VkRGF0ZUFuZFRpbWUoc2VsZWN0ZWRWYWx1ZSkge1xuICAgIHJldHVybiAoMCwgX3V0aWwuaXNBbGxvd2VkRGF0ZSkoc2VsZWN0ZWRWYWx1ZVswXSwgdGhpcy5wcm9wcy5kaXNhYmxlZERhdGUsIHRoaXMuZGlzYWJsZWRTdGFydFRpbWUpICYmICgwLCBfdXRpbC5pc0FsbG93ZWREYXRlKShzZWxlY3RlZFZhbHVlWzFdLCB0aGlzLnByb3BzLmRpc2FibGVkRGF0ZSwgdGhpcy5kaXNhYmxlZEVuZFRpbWUpO1xuICB9LFxuICBoYXNTZWxlY3RlZFZhbHVlOiBmdW5jdGlvbiBoYXNTZWxlY3RlZFZhbHVlKCkge1xuICAgIHZhciBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXG4gICAgcmV0dXJuICEhc2VsZWN0ZWRWYWx1ZVsxXSAmJiAhIXNlbGVjdGVkVmFsdWVbMF07XG4gIH0sXG4gIGNvbXBhcmU6IGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGltZVBpY2tlcikge1xuICAgICAgcmV0dXJuIHYxLmRpZmYodjIpO1xuICAgIH1cbiAgICByZXR1cm4gdjEuZGlmZih2MiwgJ2RheXMnKTtcbiAgfSxcbiAgZmlyZVNlbGVjdFZhbHVlQ2hhbmdlOiBmdW5jdGlvbiBmaXJlU2VsZWN0VmFsdWVDaGFuZ2Uoc2VsZWN0ZWRWYWx1ZSwgZGlyZWN0KSB7XG4gICAgaWYgKCEoJ3NlbGVjdGVkVmFsdWUnIGluIHRoaXMucHJvcHMpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5bCa5pyq6YCJ5oup6L+H5pe26Ze077yM55u05o6l6L6T5YWl55qE6K+dXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNlbGVjdGVkVmFsdWVbMF0gfHwgIXRoaXMuc3RhdGUuc2VsZWN0ZWRWYWx1ZVsxXSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNlbGVjdGVkVmFsdWU6IHNlbGVjdGVkVmFsdWUsXG4gICAgICAgIHZhbHVlOiBzZWxlY3RlZFZhbHVlWzBdIHx8IGdldE5vdygpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0ZWRWYWx1ZVswXSAmJiAhc2VsZWN0ZWRWYWx1ZVsxXSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGhvdmVyVmFsdWU6IHNlbGVjdGVkVmFsdWUuY29uY2F0KClcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHNlbGVjdGVkVmFsdWUpO1xuICAgIGlmIChkaXJlY3QgfHwgc2VsZWN0ZWRWYWx1ZVswXSAmJiBzZWxlY3RlZFZhbHVlWzFdKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaG92ZXJWYWx1ZTogW11cbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdChzZWxlY3RlZFZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGZpcmVWYWx1ZUNoYW5nZTogZnVuY3Rpb24gZmlyZVZhbHVlQ2hhbmdlKHZhbHVlKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICBpZiAoISgndmFsdWUnIGluIHByb3BzKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHByb3BzLm9uVmFsdWVDaGFuZ2UodmFsdWUpO1xuICB9LFxuICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgdGhpcy5maXJlU2VsZWN0VmFsdWVDaGFuZ2UoW10sIHRydWUpO1xuICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuICB9LFxuICBkaXNhYmxlZFN0YXJ0VGltZTogZnVuY3Rpb24gZGlzYWJsZWRTdGFydFRpbWUodGltZSkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVkVGltZSh0aW1lLCAnc3RhcnQnKTtcbiAgfSxcbiAgZGlzYWJsZWRFbmRUaW1lOiBmdW5jdGlvbiBkaXNhYmxlZEVuZFRpbWUodGltZSkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRpc2FibGVkVGltZSh0aW1lLCAnZW5kJyk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lLCBfY2xhc3NuYW1lcztcblxuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB2YXIgc2hvd1RpbWVQaWNrZXIgPSBzdGF0ZS5zaG93VGltZVBpY2tlcjtcbiAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBkYXRlSW5wdXRQbGFjZWhvbGRlciA9IHByb3BzLmRhdGVJbnB1dFBsYWNlaG9sZGVyLFxuICAgICAgICB0aW1lUGlja2VyID0gcHJvcHMudGltZVBpY2tlcixcbiAgICAgICAgc2hvd09rID0gcHJvcHMuc2hvd09rLFxuICAgICAgICBsb2NhbGUgPSBwcm9wcy5sb2NhbGUsXG4gICAgICAgIHNob3dDbGVhciA9IHByb3BzLnNob3dDbGVhcixcbiAgICAgICAgc2hvd1RvZGF5ID0gcHJvcHMuc2hvd1RvZGF5LFxuICAgICAgICB0eXBlID0gcHJvcHMudHlwZTtcbiAgICB2YXIgaG92ZXJWYWx1ZSA9IHN0YXRlLmhvdmVyVmFsdWUsXG4gICAgICAgIHNlbGVjdGVkVmFsdWUgPSBzdGF0ZS5zZWxlY3RlZFZhbHVlO1xuXG4gICAgdmFyIGNsYXNzTmFtZSA9IChfY2xhc3NOYW1lID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLWhpZGRlbicsICFwcm9wcy52aXNpYmxlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLXJhbmdlJywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZSwgcHJlZml4Q2xzICsgJy1zaG93LXRpbWUtcGlja2VyJywgc2hvd1RpbWVQaWNrZXIpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWUsIHByZWZpeENscyArICctd2Vlay1udW1iZXInLCBwcm9wcy5zaG93V2Vla051bWJlciksIF9jbGFzc05hbWUpO1xuICAgIHZhciBjbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKGNsYXNzTmFtZSk7XG4gICAgdmFyIG5ld1Byb3BzID0ge1xuICAgICAgc2VsZWN0ZWRWYWx1ZTogc3RhdGUuc2VsZWN0ZWRWYWx1ZSxcbiAgICAgIG9uU2VsZWN0OiB0aGlzLm9uU2VsZWN0LFxuICAgICAgb25EYXlIb3ZlcjogdHlwZSA9PT0gJ3N0YXJ0JyAmJiBzZWxlY3RlZFZhbHVlWzFdIHx8IHR5cGUgPT09ICdlbmQnICYmIHNlbGVjdGVkVmFsdWVbMF0gfHwgISFob3ZlclZhbHVlLmxlbmd0aCA/IHRoaXMub25EYXlIb3ZlciA6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICB2YXIgcGxhY2Vob2xkZXIxID0gdm9pZCAwO1xuICAgIHZhciBwbGFjZWhvbGRlcjIgPSB2b2lkIDA7XG5cbiAgICBpZiAoZGF0ZUlucHV0UGxhY2Vob2xkZXIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGVJbnB1dFBsYWNlaG9sZGVyKSkge1xuICAgICAgICB2YXIgX2RhdGVJbnB1dFBsYWNlaG9sZGVyID0gKDAsIF9zbGljZWRUb0FycmF5M1tcImRlZmF1bHRcIl0pKGRhdGVJbnB1dFBsYWNlaG9sZGVyLCAyKTtcblxuICAgICAgICBwbGFjZWhvbGRlcjEgPSBfZGF0ZUlucHV0UGxhY2Vob2xkZXJbMF07XG4gICAgICAgIHBsYWNlaG9sZGVyMiA9IF9kYXRlSW5wdXRQbGFjZWhvbGRlclsxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYWNlaG9sZGVyMSA9IHBsYWNlaG9sZGVyMiA9IGRhdGVJbnB1dFBsYWNlaG9sZGVyO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc2hvd09rQnV0dG9uID0gc2hvd09rID09PSB0cnVlIHx8IHNob3dPayAhPT0gZmFsc2UgJiYgISF0aW1lUGlja2VyO1xuICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMzW1wiZGVmYXVsdFwiXSkoKF9jbGFzc25hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctZm9vdGVyJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctcmFuZ2UtYm90dG9tJywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctZm9vdGVyLXNob3ctb2snLCBzaG93T2tCdXR0b24pLCBfY2xhc3NuYW1lcykpO1xuXG4gICAgdmFyIHN0YXJ0VmFsdWUgPSB0aGlzLmdldFN0YXJ0VmFsdWUoKTtcbiAgICB2YXIgZW5kVmFsdWUgPSB0aGlzLmdldEVuZFZhbHVlKCk7XG4gICAgdmFyIHRvZGF5VGltZSA9ICgwLCBfdXRpbC5nZXRUb2RheVRpbWUpKHN0YXJ0VmFsdWUpO1xuICAgIHZhciB0aGlzTW9udGggPSB0b2RheVRpbWUubW9udGgoKTtcbiAgICB2YXIgdGhpc1llYXIgPSB0b2RheVRpbWUueWVhcigpO1xuICAgIHZhciBpc1RoaXNZZWFyID0gdGhpc1llYXIgPT09IHN0YXJ0VmFsdWUueWVhcigpIHx8IHRoaXMueWVhciA9PT0gZW5kVmFsdWUueWVhcigpO1xuICAgIHZhciBpc1RvZGF5SW5WaWV3ID0gaXNUaGlzWWVhciAmJiAodGhpc01vbnRoID09PSBzdGFydFZhbHVlLm1vbnRoKCkgfHwgdGhpc01vbnRoID09PSBlbmRWYWx1ZS5tb250aCgpKTtcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIHJlZjogJ3Jvb3QnLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsXG4gICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6ICcwJ1xuICAgICAgfSxcbiAgICAgIHByb3BzLnJlbmRlclNpZGViYXIoKSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1wYW5lbCcgfSxcbiAgICAgICAgc2hvd0NsZWFyICYmIHNlbGVjdGVkVmFsdWVbMF0gJiYgc2VsZWN0ZWRWYWx1ZVsxXSA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNsZWFyLWJ0bicsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5jbGVhcixcbiAgICAgICAgICBvbkNsaWNrOiB0aGlzLmNsZWFyXG4gICAgICAgIH0pIDogbnVsbCxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctZGF0ZS1wYW5lbCcsXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU6IHR5cGUgIT09ICdib3RoJyA/IHRoaXMub25EYXRlUGFuZWxMZWF2ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uTW91c2VFbnRlcjogdHlwZSAhPT0gJ2JvdGgnID8gdGhpcy5vbkRhdGVQYW5lbEVudGVyIDogdW5kZWZpbmVkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhclBhcnQyW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywgbmV3UHJvcHMsIHtcbiAgICAgICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWUsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdsZWZ0JyxcbiAgICAgICAgICAgIGRpc2FibGVkVGltZTogdGhpcy5kaXNhYmxlZFN0YXJ0VGltZSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5nZXRGb3JtYXQoKSxcbiAgICAgICAgICAgIHZhbHVlOiBzdGFydFZhbHVlLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyMSxcbiAgICAgICAgICAgIG9uSW5wdXRTZWxlY3Q6IHRoaXMub25TdGFydElucHV0U2VsZWN0LFxuICAgICAgICAgICAgb25WYWx1ZUNoYW5nZTogdGhpcy5vblN0YXJ0VmFsdWVDaGFuZ2UsXG4gICAgICAgICAgICB0aW1lUGlja2VyOiB0aW1lUGlja2VyLFxuICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyXG4gICAgICAgICAgfSkpLFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1yYW5nZS1taWRkbGUnIH0sXG4gICAgICAgICAgICAnfidcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyUGFydDJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCBuZXdQcm9wcywge1xuICAgICAgICAgICAgaG92ZXJWYWx1ZTogaG92ZXJWYWx1ZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5nZXRGb3JtYXQoKSxcbiAgICAgICAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZFRpbWU6IHRoaXMuZ2V0RW5kRGlzYWJsZVRpbWUoKSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcjIsXG4gICAgICAgICAgICB2YWx1ZTogZW5kVmFsdWUsXG4gICAgICAgICAgICBvbklucHV0U2VsZWN0OiB0aGlzLm9uRW5kSW5wdXRTZWxlY3QsXG4gICAgICAgICAgICBvblZhbHVlQ2hhbmdlOiB0aGlzLm9uRW5kVmFsdWVDaGFuZ2UsXG4gICAgICAgICAgICB0aW1lUGlja2VyOiB0aW1lUGlja2VyLFxuICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuICAgICAgICAgICAgZGlzYWJsZWRUaW1lOiB0aGlzLmRpc2FibGVkRW5kVGltZVxuICAgICAgICAgIH0pKVxuICAgICAgICApLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBjbHMgfSxcbiAgICAgICAgICBwcm9wcy5yZW5kZXJGb290ZXIoKSxcbiAgICAgICAgICBzaG93VG9kYXkgfHwgcHJvcHMudGltZVBpY2tlciB8fCBzaG93T2tCdXR0b24gPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXItYnRuJyB9LFxuICAgICAgICAgICAgc2hvd1RvZGF5ID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfVG9kYXlCdXR0b24yW1wiZGVmYXVsdFwiXSwgKDAsIF9leHRlbmRzM1tcImRlZmF1bHRcIl0pKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgICBkaXNhYmxlZDogaXNUb2RheUluVmlldyxcbiAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICBvblRvZGF5OiB0aGlzLm9uVG9kYXksXG4gICAgICAgICAgICAgIHRleHQ6IGxvY2FsZS5iYWNrVG9Ub2RheVxuICAgICAgICAgICAgfSkpIDogbnVsbCxcbiAgICAgICAgICAgIHByb3BzLnRpbWVQaWNrZXIgPyBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyQnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgc2hvd1RpbWVQaWNrZXI6IHNob3dUaW1lUGlja2VyLFxuICAgICAgICAgICAgICBvbk9wZW5UaW1lUGlja2VyOiB0aGlzLm9uT3BlblRpbWVQaWNrZXIsXG4gICAgICAgICAgICAgIG9uQ2xvc2VUaW1lUGlja2VyOiB0aGlzLm9uQ2xvc2VUaW1lUGlja2VyLFxuICAgICAgICAgICAgICB0aW1lUGlja2VyRGlzYWJsZWQ6ICF0aGlzLmhhc1NlbGVjdGVkVmFsdWUoKSB8fCBob3ZlclZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgfSkpIDogbnVsbCxcbiAgICAgICAgICAgIHNob3dPa0J1dHRvbiA/IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX09rQnV0dG9uMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlLFxuICAgICAgICAgICAgICBvbk9rOiB0aGlzLm9uT2ssXG4gICAgICAgICAgICAgIG9rRGlzYWJsZWQ6ICF0aGlzLmlzQWxsb3dlZERhdGVBbmRUaW1lKHNlbGVjdGVkVmFsdWUpIHx8ICF0aGlzLmhhc1NlbGVjdGVkVmFsdWUoKSB8fCBob3ZlclZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgfSkpIDogbnVsbFxuICAgICAgICAgICkgOiBudWxsXG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBSYW5nZUNhbGVuZGFyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL1JhbmdlQ2FsZW5kYXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eScpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5Mik7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfbWFwU2VsZiA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0NoaWxkcmVuL21hcFNlbGYnKTtcblxudmFyIF9tYXBTZWxmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcFNlbGYpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxudmFyIF9Ub2RheUJ1dHRvbiA9IHJlcXVpcmUoJy4uL2NhbGVuZGFyL1RvZGF5QnV0dG9uJyk7XG5cbnZhciBfVG9kYXlCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVG9kYXlCdXR0b24pO1xuXG52YXIgX09rQnV0dG9uID0gcmVxdWlyZSgnLi4vY2FsZW5kYXIvT2tCdXR0b24nKTtcblxudmFyIF9Pa0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Pa0J1dHRvbik7XG5cbnZhciBfVGltZVBpY2tlckJ1dHRvbiA9IHJlcXVpcmUoJy4uL2NhbGVuZGFyL1RpbWVQaWNrZXJCdXR0b24nKTtcblxudmFyIF9UaW1lUGlja2VyQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RpbWVQaWNrZXJCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIENhbGVuZGFyRm9vdGVyID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFyRm9vdGVyJyxcblxuICBwcm9wVHlwZXM6IHtcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNob3dEYXRlSW5wdXQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHRpbWVQaWNrZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZWxlbWVudCxcbiAgICBzZWxlY3RlZFZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93T2s6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICByZW5kZXJGb290ZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkZWZhdWx0VmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0XG4gIH0sXG5cbiAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KHZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdCh2YWx1ZSk7XG4gIH0sXG4gIGdldFJvb3RET01Ob2RlOiBmdW5jdGlvbiBnZXRSb290RE9NTm9kZSgpIHtcbiAgICByZXR1cm4gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcyk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgc2hvd09rID0gcHJvcHMuc2hvd09rLFxuICAgICAgICB0aW1lUGlja2VyID0gcHJvcHMudGltZVBpY2tlcixcbiAgICAgICAgcmVuZGVyRm9vdGVyID0gcHJvcHMucmVuZGVyRm9vdGVyO1xuXG4gICAgdmFyIGZvb3RlckVsID0gbnVsbDtcbiAgICB2YXIgZXh0cmFGb290ZXIgPSByZW5kZXJGb290ZXIoKTtcbiAgICBpZiAocHJvcHMuc2hvd1RvZGF5IHx8IHRpbWVQaWNrZXIgfHwgZXh0cmFGb290ZXIpIHtcbiAgICAgIHZhciBfY3g7XG5cbiAgICAgIHZhciBub3dFbCA9IHZvaWQgMDtcbiAgICAgIGlmIChwcm9wcy5zaG93VG9kYXkpIHtcbiAgICAgICAgbm93RWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9Ub2RheUJ1dHRvbjJbXCJkZWZhdWx0XCJdLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe30sIHByb3BzLCB7IHZhbHVlOiB2YWx1ZSB9KSk7XG4gICAgICB9XG4gICAgICB2YXIgb2tCdG4gPSB2b2lkIDA7XG4gICAgICBpZiAoc2hvd09rID09PSB0cnVlIHx8IHNob3dPayAhPT0gZmFsc2UgJiYgISFwcm9wcy50aW1lUGlja2VyKSB7XG4gICAgICAgIG9rQnRuID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfT2tCdXR0b24yW1wiZGVmYXVsdFwiXSwgcHJvcHMpO1xuICAgICAgfVxuICAgICAgdmFyIHRpbWVQaWNrZXJCdG4gPSB2b2lkIDA7XG4gICAgICBpZiAoISFwcm9wcy50aW1lUGlja2VyKSB7XG4gICAgICAgIHRpbWVQaWNrZXJCdG4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KF9UaW1lUGlja2VyQnV0dG9uMltcImRlZmF1bHRcIl0sIHByb3BzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvb3RlckJ0biA9IHZvaWQgMDtcbiAgICAgIGlmIChub3dFbCB8fCBva0J0bikge1xuICAgICAgICBmb290ZXJCdG4gPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1mb290ZXItYnRuJyB9LFxuICAgICAgICAgICgwLCBfbWFwU2VsZjJbXCJkZWZhdWx0XCJdKShbbm93RWwsIHRpbWVQaWNrZXJCdG4sIG9rQnRuXSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhciBjbHMgPSAoMCwgX2NsYXNzbmFtZXMyW1wiZGVmYXVsdFwiXSkoKF9jeCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jeCwgcHJlZml4Q2xzICsgJy1mb290ZXInLCB0cnVlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY3gsIHByZWZpeENscyArICctZm9vdGVyLXNob3ctb2snLCBva0J0biksIF9jeCkpO1xuICAgICAgZm9vdGVyRWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNscyB9LFxuICAgICAgICBleHRyYUZvb3RlcixcbiAgICAgICAgZm9vdGVyQnRuXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZm9vdGVyRWw7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENhbGVuZGFyRm9vdGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2NhbGVuZGFyL0NhbGVuZGFyRm9vdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMzc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0RhdGVDb25zdGFudHMgPSByZXF1aXJlKCcuL0RhdGVDb25zdGFudHMnKTtcblxudmFyIF9EYXRlQ29uc3RhbnRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVDb25zdGFudHMpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKCcuLi91dGlsLycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNTYW1lRGF5KG9uZSwgdHdvKSB7XG4gIHJldHVybiBvbmUgJiYgdHdvICYmIG9uZS5pc1NhbWUodHdvLCAnZGF5Jyk7XG59XG5cbmZ1bmN0aW9uIGJlZm9yZUN1cnJlbnRNb250aFllYXIoY3VycmVudCwgdG9kYXkpIHtcbiAgaWYgKGN1cnJlbnQueWVhcigpIDwgdG9kYXkueWVhcigpKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQueWVhcigpID09PSB0b2RheS55ZWFyKCkgJiYgY3VycmVudC5tb250aCgpIDwgdG9kYXkubW9udGgoKTtcbn1cblxuZnVuY3Rpb24gYWZ0ZXJDdXJyZW50TW9udGhZZWFyKGN1cnJlbnQsIHRvZGF5KSB7XG4gIGlmIChjdXJyZW50LnllYXIoKSA+IHRvZGF5LnllYXIoKSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiBjdXJyZW50LnllYXIoKSA9PT0gdG9kYXkueWVhcigpICYmIGN1cnJlbnQubW9udGgoKSA+IHRvZGF5Lm1vbnRoKCk7XG59XG5cbmZ1bmN0aW9uIGdldElkRnJvbURhdGUoZGF0ZSkge1xuICByZXR1cm4gJ3JjLWNhbGVuZGFyLScgKyBkYXRlLnllYXIoKSArICctJyArIGRhdGUubW9udGgoKSArICctJyArIGRhdGUuZGF0ZSgpO1xufVxuXG52YXIgRGF0ZVRCb2R5ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0RhdGVUQm9keScsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgY29udGVudFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRhdGVSZW5kZXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCwgX3JlYWN0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0KV0pLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBob3ZlclZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBzaG93V2Vla051bWJlcjogX3JlYWN0LlByb3BUeXBlcy5ib29sXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhvdmVyVmFsdWU6IFtdXG4gICAgfTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgY29udGVudFJlbmRlciA9IHByb3BzLmNvbnRlbnRSZW5kZXIsXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IHByb3BzLnNlbGVjdGVkVmFsdWUsXG4gICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWUsXG4gICAgICAgIHNob3dXZWVrTnVtYmVyID0gcHJvcHMuc2hvd1dlZWtOdW1iZXIsXG4gICAgICAgIGRhdGVSZW5kZXIgPSBwcm9wcy5kYXRlUmVuZGVyLFxuICAgICAgICBkaXNhYmxlZERhdGUgPSBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgIGhvdmVyVmFsdWUgPSBwcm9wcy5ob3ZlclZhbHVlO1xuXG4gICAgdmFyIGlJbmRleCA9IHZvaWQgMDtcbiAgICB2YXIgakluZGV4ID0gdm9pZCAwO1xuICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuICAgIHZhciBkYXRlVGFibGUgPSBbXTtcbiAgICB2YXIgdG9kYXkgPSAoMCwgX3V0aWwuZ2V0VG9kYXlUaW1lKSh2YWx1ZSk7XG4gICAgdmFyIGNlbGxDbGFzcyA9IHByZWZpeENscyArICctY2VsbCc7XG4gICAgdmFyIHdlZWtOdW1iZXJDZWxsQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLXdlZWstbnVtYmVyLWNlbGwnO1xuICAgIHZhciBkYXRlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWRhdGUnO1xuICAgIHZhciB0b2RheUNsYXNzID0gcHJlZml4Q2xzICsgJy10b2RheSc7XG4gICAgdmFyIHNlbGVjdGVkQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWRheSc7XG4gICAgdmFyIHNlbGVjdGVkRGF0ZUNsYXNzID0gcHJlZml4Q2xzICsgJy1zZWxlY3RlZC1kYXRlJzsgLy8gZG8gbm90IG1vdmUgd2l0aCBtb3VzZSBvcGVyYXRpb25cbiAgICB2YXIgaW5SYW5nZUNsYXNzID0gcHJlZml4Q2xzICsgJy1pbi1yYW5nZS1jZWxsJztcbiAgICB2YXIgbGFzdE1vbnRoRGF5Q2xhc3MgPSBwcmVmaXhDbHMgKyAnLWxhc3QtbW9udGgtY2VsbCc7XG4gICAgdmFyIG5leHRNb250aERheUNsYXNzID0gcHJlZml4Q2xzICsgJy1uZXh0LW1vbnRoLWJ0bi1kYXknO1xuICAgIHZhciBkaXNhYmxlZENsYXNzID0gcHJlZml4Q2xzICsgJy1kaXNhYmxlZC1jZWxsJztcbiAgICB2YXIgZmlyc3REaXNhYmxlQ2xhc3MgPSBwcmVmaXhDbHMgKyAnLWRpc2FibGVkLWNlbGwtZmlyc3Qtb2Ytcm93JztcbiAgICB2YXIgbGFzdERpc2FibGVDbGFzcyA9IHByZWZpeENscyArICctZGlzYWJsZWQtY2VsbC1sYXN0LW9mLXJvdyc7XG4gICAgdmFyIG1vbnRoMSA9IHZhbHVlLmNsb25lKCk7XG4gICAgbW9udGgxLmRhdGUoMSk7XG4gICAgdmFyIGRheSA9IG1vbnRoMS5kYXkoKTtcbiAgICB2YXIgbGFzdE1vbnRoRGlmZkRheSA9IChkYXkgKyA3IC0gdmFsdWUubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCkpICUgNztcbiAgICAvLyBjYWxjdWxhdGUgbGFzdCBtb250aFxuICAgIHZhciBsYXN0TW9udGgxID0gbW9udGgxLmNsb25lKCk7XG4gICAgbGFzdE1vbnRoMS5hZGQoMCAtIGxhc3RNb250aERpZmZEYXksICdkYXlzJyk7XG4gICAgdmFyIHBhc3NlZCA9IDA7XG4gICAgZm9yIChpSW5kZXggPSAwOyBpSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfUk9XX0NPVU5UOyBpSW5kZXgrKykge1xuICAgICAgZm9yIChqSW5kZXggPSAwOyBqSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UOyBqSW5kZXgrKykge1xuICAgICAgICBjdXJyZW50ID0gbGFzdE1vbnRoMTtcbiAgICAgICAgaWYgKHBhc3NlZCkge1xuICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNsb25lKCk7XG4gICAgICAgICAgY3VycmVudC5hZGQocGFzc2VkLCAnZGF5cycpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGVUYWJsZS5wdXNoKGN1cnJlbnQpO1xuICAgICAgICBwYXNzZWQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRhYmxlSHRtbCA9IFtdO1xuICAgIHBhc3NlZCA9IDA7XG5cbiAgICBmb3IgKGlJbmRleCA9IDA7IGlJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9ST1dfQ09VTlQ7IGlJbmRleCsrKSB7XG4gICAgICB2YXIgaXNDdXJyZW50V2VlayA9IHZvaWQgMDtcbiAgICAgIHZhciB3ZWVrTnVtYmVyQ2VsbCA9IHZvaWQgMDtcbiAgICAgIHZhciBkYXRlQ2VsbHMgPSBbXTtcbiAgICAgIGlmIChzaG93V2Vla051bWJlcikge1xuICAgICAgICB3ZWVrTnVtYmVyQ2VsbCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RkJyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IGRhdGVUYWJsZVtwYXNzZWRdLndlZWsoKSxcbiAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICBjbGFzc05hbWU6IHdlZWtOdW1iZXJDZWxsQ2xhc3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGVUYWJsZVtwYXNzZWRdLndlZWsoKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZm9yIChqSW5kZXggPSAwOyBqSW5kZXggPCBfRGF0ZUNvbnN0YW50czJbXCJkZWZhdWx0XCJdLkRBVEVfQ09MX0NPVU5UOyBqSW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dCA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0ID0gbnVsbDtcbiAgICAgICAgY3VycmVudCA9IGRhdGVUYWJsZVtwYXNzZWRdO1xuICAgICAgICBpZiAoakluZGV4IDwgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVCAtIDEpIHtcbiAgICAgICAgICBuZXh0ID0gZGF0ZVRhYmxlW3Bhc3NlZCArIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqSW5kZXggPiAwKSB7XG4gICAgICAgICAgbGFzdCA9IGRhdGVUYWJsZVtwYXNzZWQgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xzID0gY2VsbENsYXNzO1xuICAgICAgICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzU2FtZURheShjdXJyZW50LCB0b2RheSkpIHtcbiAgICAgICAgICBjbHMgKz0gJyAnICsgdG9kYXlDbGFzcztcbiAgICAgICAgICBpc0N1cnJlbnRXZWVrID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc0JlZm9yZUN1cnJlbnRNb250aFllYXIgPSBiZWZvcmVDdXJyZW50TW9udGhZZWFyKGN1cnJlbnQsIHZhbHVlKTtcbiAgICAgICAgdmFyIGlzQWZ0ZXJDdXJyZW50TW9udGhZZWFyID0gYWZ0ZXJDdXJyZW50TW9udGhZZWFyKGN1cnJlbnQsIHZhbHVlKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSAmJiBBcnJheS5pc0FycmF5KHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgICAgdmFyIHJhbmdlVmFsdWUgPSBob3ZlclZhbHVlLmxlbmd0aCA/IGhvdmVyVmFsdWUgOiBzZWxlY3RlZFZhbHVlO1xuICAgICAgICAgIGlmICghaXNCZWZvcmVDdXJyZW50TW9udGhZZWFyICYmICFpc0FmdGVyQ3VycmVudE1vbnRoWWVhcikge1xuICAgICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSByYW5nZVZhbHVlWzBdO1xuICAgICAgICAgICAgdmFyIGVuZFZhbHVlID0gcmFuZ2VWYWx1ZVsxXTtcbiAgICAgICAgICAgIGlmIChzdGFydFZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgc3RhcnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydFZhbHVlICYmIGVuZFZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChpc1NhbWVEYXkoY3VycmVudCwgZW5kVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuaXNBZnRlcihzdGFydFZhbHVlLCAnZGF5JykgJiYgY3VycmVudC5pc0JlZm9yZShlbmRWYWx1ZSwgJ2RheScpKSB7XG4gICAgICAgICAgICAgICAgY2xzICs9ICcgJyArIGluUmFuZ2VDbGFzcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1NhbWVEYXkoY3VycmVudCwgdmFsdWUpKSB7XG4gICAgICAgICAgLy8ga2V5Ym9hcmQgY2hhbmdlIHZhbHVlLCBoaWdobGlnaHQgd29ya3NcbiAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTYW1lRGF5KGN1cnJlbnQsIHNlbGVjdGVkVmFsdWUpKSB7XG4gICAgICAgICAgY2xzICs9ICcgJyArIHNlbGVjdGVkRGF0ZUNsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzQmVmb3JlQ3VycmVudE1vbnRoWWVhcikge1xuICAgICAgICAgIGNscyArPSAnICcgKyBsYXN0TW9udGhEYXlDbGFzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBZnRlckN1cnJlbnRNb250aFllYXIpIHtcbiAgICAgICAgICBjbHMgKz0gJyAnICsgbmV4dE1vbnRoRGF5Q2xhc3M7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzYWJsZWREYXRlKSB7XG4gICAgICAgICAgaWYgKGRpc2FibGVkRGF0ZShjdXJyZW50LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCFsYXN0IHx8ICFkaXNhYmxlZERhdGUobGFzdCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNscyArPSAnICcgKyBmaXJzdERpc2FibGVDbGFzcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuZXh0IHx8ICFkaXNhYmxlZERhdGUobmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNscyArPSAnICcgKyBsYXN0RGlzYWJsZUNsYXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICAgIGNscyArPSAnICcgKyBzZWxlY3RlZENsYXNzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgY2xzICs9ICcgJyArIGRpc2FibGVkQ2xhc3M7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0ZUh0bWwgPSB2b2lkIDA7XG4gICAgICAgIGlmIChkYXRlUmVuZGVyKSB7XG4gICAgICAgICAgZGF0ZUh0bWwgPSBkYXRlUmVuZGVyKGN1cnJlbnQsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IGNvbnRlbnRSZW5kZXIgPyBjb250ZW50UmVuZGVyKGN1cnJlbnQsIHZhbHVlKSA6IGN1cnJlbnQuZGF0ZSgpO1xuICAgICAgICAgIGRhdGVIdG1sID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBrZXk6IGdldElkRnJvbURhdGUoY3VycmVudCksXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogZGF0ZUNsYXNzLFxuICAgICAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgICAgICAgICAnYXJpYS1kaXNhYmxlZCc6IGRpc2FibGVkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlQ2VsbHMucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0ZCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBwYXNzZWQsXG4gICAgICAgICAgICBvbkNsaWNrOiBkaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHByb3BzLm9uU2VsZWN0LmJpbmQobnVsbCwgY3VycmVudCksXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI6IGRpc2FibGVkID8gdW5kZWZpbmVkIDogcHJvcHMub25EYXlIb3ZlciAmJiBwcm9wcy5vbkRheUhvdmVyLmJpbmQobnVsbCwgY3VycmVudCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcbiAgICAgICAgICAgIHRpdGxlOiAoMCwgX3V0aWwuZ2V0VGl0bGVTdHJpbmcpKGN1cnJlbnQpLCBjbGFzc05hbWU6IGNsc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGF0ZUh0bWxcbiAgICAgICAgKSk7XG5cbiAgICAgICAgcGFzc2VkKys7XG4gICAgICB9XG4gICAgICB0YWJsZUh0bWwucHVzaChfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndHInLFxuICAgICAgICB7XG4gICAgICAgICAga2V5OiBpSW5kZXgsXG4gICAgICAgICAgcm9sZTogJ3JvdycsXG4gICAgICAgICAgY2xhc3NOYW1lOiBpc0N1cnJlbnRXZWVrICYmIHByZWZpeENscyArICctY3VycmVudC13ZWVrJ1xuICAgICAgICB9LFxuICAgICAgICB3ZWVrTnVtYmVyQ2VsbCxcbiAgICAgICAgZGF0ZUNlbGxzXG4gICAgICApKTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAndGJvZHknLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG4gICAgICB0YWJsZUh0bWxcbiAgICApO1xuICB9XG59KTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBEYXRlVEJvZHk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvZGF0ZS9EYXRlVEJvZHkuanNcbiAqKiBtb2R1bGUgaWQgPSAzNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9EYXRlQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9EYXRlQ29uc3RhbnRzJyk7XG5cbnZhciBfRGF0ZUNvbnN0YW50czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlQ29uc3RhbnRzKTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbnZhciBEYXRlVEhlYWQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1tcImRlZmF1bHRcIl0pKERhdGVUSGVhZCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZVRIZWFkKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgRGF0ZVRIZWFkKTtcbiAgICByZXR1cm4gKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1tcImRlZmF1bHRcIl0pKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBEYXRlVEhlYWQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlO1xuICAgIHZhciBsb2NhbGVEYXRhID0gdmFsdWUubG9jYWxlRGF0YSgpO1xuICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHM7XG4gICAgdmFyIHZlcnlTaG9ydFdlZWtkYXlzID0gW107XG4gICAgdmFyIHdlZWtEYXlzID0gW107XG4gICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRGF0YS5maXJzdERheU9mV2VlaygpO1xuICAgIHZhciBzaG93V2Vla051bWJlckVsID0gdm9pZCAwO1xuICAgIHZhciBub3cgPSAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpO1xuICAgIGZvciAodmFyIGRhdGVDb2xJbmRleCA9IDA7IGRhdGVDb2xJbmRleCA8IF9EYXRlQ29uc3RhbnRzMltcImRlZmF1bHRcIl0uREFURV9DT0xfQ09VTlQ7IGRhdGVDb2xJbmRleCsrKSB7XG4gICAgICB2YXIgaW5kZXggPSAoZmlyc3REYXlPZldlZWsgKyBkYXRlQ29sSW5kZXgpICUgX0RhdGVDb25zdGFudHMyW1wiZGVmYXVsdFwiXS5EQVRFX0NPTF9DT1VOVDtcbiAgICAgIG5vdy5kYXkoaW5kZXgpO1xuICAgICAgdmVyeVNob3J0V2Vla2RheXNbZGF0ZUNvbEluZGV4XSA9IGxvY2FsZURhdGEud2Vla2RheXNNaW4obm93KTtcbiAgICAgIHdlZWtEYXlzW2RhdGVDb2xJbmRleF0gPSBsb2NhbGVEYXRhLndlZWtkYXlzU2hvcnQobm93KTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuc2hvd1dlZWtOdW1iZXIpIHtcbiAgICAgIHNob3dXZWVrTnVtYmVyRWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndGgnLFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ2NvbHVtbmhlYWRlcicsXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXIgJyArIHByZWZpeENscyArICctd2Vlay1udW1iZXItaGVhZGVyJ1xuICAgICAgICB9LFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1jb2x1bW4taGVhZGVyLWlubmVyJyB9LFxuICAgICAgICAgICd4J1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICB2YXIgd2Vla0RheXNFbHMgPSB3ZWVrRGF5cy5tYXAoZnVuY3Rpb24gKGRheSwgeGluZGV4KSB7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RoJyxcbiAgICAgICAge1xuICAgICAgICAgIGtleTogeGluZGV4LFxuICAgICAgICAgIHJvbGU6ICdjb2x1bW5oZWFkZXInLFxuICAgICAgICAgIHRpdGxlOiBkYXksXG4gICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXInXG4gICAgICAgIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWNvbHVtbi1oZWFkZXItaW5uZXInIH0sXG4gICAgICAgICAgdmVyeVNob3J0V2Vla2RheXNbeGluZGV4XVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3RoZWFkJyxcbiAgICAgIG51bGwsXG4gICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAndHInLFxuICAgICAgICB7IHJvbGU6ICdyb3cnIH0sXG4gICAgICAgIHNob3dXZWVrTnVtYmVyRWwsXG4gICAgICAgIHdlZWtEYXlzRWxzXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gRGF0ZVRIZWFkO1xufShfcmVhY3QyW1wiZGVmYXVsdFwiXS5Db21wb25lbnQpO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IERhdGVUSGVhZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9kYXRlL0RhdGVUSGVhZC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfY2xhc3NuYW1lcyA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIFJPVyA9IDQ7XG52YXIgQ09MID0gMztcblxuXG5mdW5jdGlvbiBnb1llYXIoZGlyZWN0aW9uKSB7XG4gIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuICBuZXh0LmFkZChkaXJlY3Rpb24sICd5ZWFycycpO1xuICB0aGlzLnNldFN0YXRlKHtcbiAgICB2YWx1ZTogbmV4dFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY2hvb3NlRGVjYWRlKHllYXIsIGV2ZW50KSB7XG4gIHZhciBuZXh0ID0gdGhpcy5zdGF0ZS52YWx1ZS5jbG9uZSgpO1xuICBuZXh0LnllYXIoeWVhcik7XG4gIG5leHQubW9udGgodGhpcy5zdGF0ZS52YWx1ZS5tb250aCgpKTtcbiAgdGhpcy5wcm9wcy5vblNlbGVjdChuZXh0KTtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxudmFyIERlY2FkZVBhbmVsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgKDAsIF9pbmhlcml0czNbXCJkZWZhdWx0XCJdKShEZWNhZGVQYW5lbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGVjYWRlUGFuZWwocHJvcHMpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1tcImRlZmF1bHRcIl0pKHRoaXMsIERlY2FkZVBhbmVsKTtcblxuICAgIHZhciBfdGhpcyA9ICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbXCJkZWZhdWx0XCJdKSh0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgdmFsdWU6IHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHRWYWx1ZVxuICAgIH07XG5cbiAgICAvLyBiaW5kIG1ldGhvZHNcbiAgICBfdGhpcy5wcmVmaXhDbHMgPSBwcm9wcy5yb290UHJlZml4Q2xzICsgJy1kZWNhZGUtcGFuZWwnO1xuICAgIF90aGlzLm5leHRDZW50dXJ5ID0gZ29ZZWFyLmJpbmQoX3RoaXMsIDEwMCk7XG4gICAgX3RoaXMucHJldmlvdXNDZW50dXJ5ID0gZ29ZZWFyLmJpbmQoX3RoaXMsIC0xMDApO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIERlY2FkZVBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciBsb2NhbGUgPSB0aGlzLnByb3BzLmxvY2FsZTtcbiAgICB2YXIgY3VycmVudFllYXIgPSB2YWx1ZS55ZWFyKCk7XG4gICAgdmFyIHN0YXJ0WWVhciA9IHBhcnNlSW50KGN1cnJlbnRZZWFyIC8gMTAwLCAxMCkgKiAxMDA7XG4gICAgdmFyIHByZVllYXIgPSBzdGFydFllYXIgLSAxMDtcbiAgICB2YXIgZW5kWWVhciA9IHN0YXJ0WWVhciArIDk5O1xuICAgIHZhciBkZWNhZGVzID0gW107XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcmVmaXhDbHM7XG5cbiAgICBmb3IgKHZhciByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgUk9XOyByb3dJbmRleCsrKSB7XG4gICAgICBkZWNhZGVzW3Jvd0luZGV4XSA9IFtdO1xuICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IENPTDsgY29sSW5kZXgrKykge1xuICAgICAgICB2YXIgc3RhcnREZWNhZGUgPSBwcmVZZWFyICsgaW5kZXggKiAxMDtcbiAgICAgICAgdmFyIGVuZERlY2FkZSA9IHByZVllYXIgKyBpbmRleCAqIDEwICsgOTtcbiAgICAgICAgZGVjYWRlc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuICAgICAgICAgIHN0YXJ0RGVjYWRlOiBzdGFydERlY2FkZSxcbiAgICAgICAgICBlbmREZWNhZGU6IGVuZERlY2FkZVxuICAgICAgICB9O1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWNhZGVzRWxzID0gZGVjYWRlcy5tYXAoZnVuY3Rpb24gKHJvdywgZGVjYWRlSW5kZXgpIHtcbiAgICAgIHZhciB0ZHMgPSByb3cubWFwKGZ1bmN0aW9uIChkZWNhZGVEYXRhKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lTWFwO1xuXG4gICAgICAgIHZhciBkU3RhcnREZWNhZGUgPSBkZWNhZGVEYXRhLnN0YXJ0RGVjYWRlO1xuICAgICAgICB2YXIgZEVuZERlY2FkZSA9IGRlY2FkZURhdGEuZW5kRGVjYWRlO1xuICAgICAgICB2YXIgaXNMYXN0ID0gZFN0YXJ0RGVjYWRlIDwgc3RhcnRZZWFyO1xuICAgICAgICB2YXIgaXNOZXh0ID0gZEVuZERlY2FkZSA+IGVuZFllYXI7XG4gICAgICAgIHZhciBjbGFzc05hbWVNYXAgPSAoX2NsYXNzTmFtZU1hcCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY2VsbCcsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctc2VsZWN0ZWQtY2VsbCcsIGRTdGFydERlY2FkZSA8PSBjdXJyZW50WWVhciAmJiBjdXJyZW50WWVhciA8PSBkRW5kRGVjYWRlKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLWxhc3QtY2VudHVyeS1jZWxsJywgaXNMYXN0KSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLW5leHQtY2VudHVyeS1jZWxsJywgaXNOZXh0KSwgX2NsYXNzTmFtZU1hcCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gZFN0YXJ0RGVjYWRlICsgJy0nICsgZEVuZERlY2FkZTtcbiAgICAgICAgdmFyIGNsaWNrSGFuZGxlciA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IF90aGlzMi5wcmV2aW91c0NlbnR1cnk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOZXh0KSB7XG4gICAgICAgICAgY2xpY2tIYW5kbGVyID0gX3RoaXMyLm5leHRDZW50dXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrSGFuZGxlciA9IGNob29zZURlY2FkZS5iaW5kKF90aGlzMiwgZFN0YXJ0RGVjYWRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogZFN0YXJ0RGVjYWRlLFxuICAgICAgICAgICAgb25DbGljazogY2xpY2tIYW5kbGVyLFxuICAgICAgICAgICAgcm9sZTogJ2dyaWRjZWxsJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZU1hcClcbiAgICAgICAgICB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYScsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1kZWNhZGUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICd0cicsXG4gICAgICAgIHsga2V5OiBkZWNhZGVJbmRleCwgcm9sZTogJ3JvdycgfSxcbiAgICAgICAgdGRzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgY2xhc3NOYW1lOiB0aGlzLnByZWZpeENscyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWhlYWRlcicgfSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctcHJldi1jZW50dXJ5LWJ0bicsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5wcmV2aW91c0NlbnR1cnksXG4gICAgICAgICAgdGl0bGU6IGxvY2FsZS5wcmV2aW91c0NlbnR1cnlcbiAgICAgICAgfSksXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY2VudHVyeScgfSxcbiAgICAgICAgICBzdGFydFllYXIsXG4gICAgICAgICAgJy0nLFxuICAgICAgICAgIGVuZFllYXJcbiAgICAgICAgKSxcbiAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctbmV4dC1jZW50dXJ5LWJ0bicsXG4gICAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgICAgb25DbGljazogdGhpcy5uZXh0Q2VudHVyeSxcbiAgICAgICAgICB0aXRsZTogbG9jYWxlLm5leHRDZW50dXJ5XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuICAgICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAndGJvZHknLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG4gICAgICAgICAgICBkZWNhZGVzRWxzXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gRGVjYWRlUGFuZWw7XG59KF9yZWFjdDJbXCJkZWZhdWx0XCJdLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gRGVjYWRlUGFuZWw7XG5cblxuRGVjYWRlUGFuZWwucHJvcFR5cGVzID0ge1xuICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIGRlZmF1bHRWYWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gIHJvb3RQcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5EZWNhZGVQYW5lbC5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCgpIHt9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL2RlY2FkZS9EZWNhZGVQYW5lbC5qc1xuICoqIG1vZHVsZSBpZCA9IDM3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHtcbiAgdG9kYXk6ICdUb2RheScsXG4gIG5vdzogJ05vdycsXG4gIGJhY2tUb1RvZGF5OiAnQmFjayB0byB0b2RheScsXG4gIG9rOiAnT2snLFxuICBjbGVhcjogJ0NsZWFyJyxcbiAgbW9udGg6ICdNb250aCcsXG4gIHllYXI6ICdZZWFyJyxcbiAgdGltZVNlbGVjdDogJ1NlbGVjdCB0aW1lJyxcbiAgZGF0ZVNlbGVjdDogJ1NlbGVjdCBkYXRlJyxcbiAgbW9udGhTZWxlY3Q6ICdDaG9vc2UgYSBtb250aCcsXG4gIHllYXJTZWxlY3Q6ICdDaG9vc2UgYSB5ZWFyJyxcbiAgZGVjYWRlU2VsZWN0OiAnQ2hvb3NlIGEgZGVjYWRlJyxcbiAgeWVhckZvcm1hdDogJ1lZWVknLFxuICBkYXRlRm9ybWF0OiAnTS9EL1lZWVknLFxuICBkYXlGb3JtYXQ6ICdEJyxcbiAgZGF0ZVRpbWVGb3JtYXQ6ICdNL0QvWVlZWSBISDptbTpzcycsXG4gIG1vbnRoRm9ybWF0OiAnTU1NTScsXG4gIG1vbnRoQmVmb3JlWWVhcjogdHJ1ZSxcbiAgcHJldmlvdXNNb250aDogJ1ByZXZpb3VzIG1vbnRoIChQYWdlVXApJyxcbiAgbmV4dE1vbnRoOiAnTmV4dCBtb250aCAoUGFnZURvd24pJyxcbiAgcHJldmlvdXNZZWFyOiAnTGFzdCB5ZWFyIChDb250cm9sICsgbGVmdCknLFxuICBuZXh0WWVhcjogJ05leHQgeWVhciAoQ29udHJvbCArIHJpZ2h0KScsXG4gIHByZXZpb3VzRGVjYWRlOiAnTGFzdCBkZWNhZGUnLFxuICBuZXh0RGVjYWRlOiAnTmV4dCBkZWNhZGUnLFxuICBwcmV2aW91c0NlbnR1cnk6ICdMYXN0IGNlbnR1cnknLFxuICBuZXh0Q2VudHVyeTogJ05leHQgY2VudHVyeSdcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbG9jYWxlL2VuX1VTLmpzXG4gKiogbW9kdWxlIGlkID0gMzgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9jbGFzc25hbWVzID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi91dGlsL2luZGV4Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgUk9XID0gNDtcbnZhciBDT0wgPSAzO1xuXG5mdW5jdGlvbiBjaG9vc2VNb250aChtb250aCkge1xuICB2YXIgbmV4dCA9IHRoaXMuc3RhdGUudmFsdWUuY2xvbmUoKTtcbiAgbmV4dC5tb250aChtb250aCk7XG4gIHRoaXMuc2V0QW5kU2VsZWN0VmFsdWUobmV4dCk7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgTW9udGhUYWJsZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzW1wiZGVmYXVsdFwiXSkoTW9udGhUYWJsZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTW9udGhUYWJsZShwcm9wcykge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szW1wiZGVmYXVsdFwiXSkodGhpcywgTW9udGhUYWJsZSk7XG5cbiAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zW1wiZGVmYXVsdFwiXSkodGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiBwcm9wcy52YWx1ZVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgTW9udGhUYWJsZS5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKCd2YWx1ZScgaW4gbmV4dFByb3BzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmFsdWU6IG5leHRQcm9wcy52YWx1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIE1vbnRoVGFibGUucHJvdG90eXBlLnNldEFuZFNlbGVjdFZhbHVlID0gZnVuY3Rpb24gc2V0QW5kU2VsZWN0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25TZWxlY3QodmFsdWUpO1xuICB9O1xuXG4gIE1vbnRoVGFibGUucHJvdG90eXBlLm1vbnRocyA9IGZ1bmN0aW9uIG1vbnRocygpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciBjdXJyZW50ID0gdmFsdWUuY2xvbmUoKTtcbiAgICB2YXIgbW9udGhzID0gW107XG4gICAgdmFyIGxvY2FsZURhdGEgPSB2YWx1ZS5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBmb3IgKHZhciByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgUk9XOyByb3dJbmRleCsrKSB7XG4gICAgICBtb250aHNbcm93SW5kZXhdID0gW107XG4gICAgICBmb3IgKHZhciBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgQ09MOyBjb2xJbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnQubW9udGgoaW5kZXgpO1xuICAgICAgICB2YXIgY29udGVudCA9IGxvY2FsZURhdGEubW9udGhzU2hvcnQoY3VycmVudCk7XG4gICAgICAgIG1vbnRoc1tyb3dJbmRleF1bY29sSW5kZXhdID0ge1xuICAgICAgICAgIHZhbHVlOiBpbmRleCxcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgIHRpdGxlOiBjb250ZW50XG4gICAgICAgIH07XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtb250aHM7XG4gIH07XG5cbiAgTW9udGhUYWJsZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnN0YXRlLnZhbHVlO1xuICAgIHZhciB0b2RheSA9ICgwLCBfaW5kZXguZ2V0VG9kYXlUaW1lKSh2YWx1ZSk7XG4gICAgdmFyIG1vbnRocyA9IHRoaXMubW9udGhzKCk7XG4gICAgdmFyIGN1cnJlbnRNb250aCA9IHZhbHVlLm1vbnRoKCk7XG4gICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuICAgICAgICBjb250ZW50UmVuZGVyID0gcHJvcHMuY29udGVudFJlbmRlcixcbiAgICAgICAgY2VsbFJlbmRlciA9IHByb3BzLmNlbGxSZW5kZXI7XG5cbiAgICB2YXIgbW9udGhzRWxzID0gbW9udGhzLm1hcChmdW5jdGlvbiAobW9udGgsIGluZGV4KSB7XG4gICAgICB2YXIgdGRzID0gbW9udGgubWFwKGZ1bmN0aW9uIChtb250aERhdGEpIHtcbiAgICAgICAgdmFyIF9jbGFzc05hbWVNYXA7XG5cbiAgICAgICAgdmFyIGRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChwcm9wcy5kaXNhYmxlZERhdGUpIHtcbiAgICAgICAgICB2YXIgdGVzdFZhbHVlID0gdmFsdWUuY2xvbmUoKTtcbiAgICAgICAgICB0ZXN0VmFsdWUubW9udGgobW9udGhEYXRhLnZhbHVlKTtcbiAgICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkRGF0ZSh0ZXN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGFzc05hbWVNYXAgPSAoX2NsYXNzTmFtZU1hcCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY2VsbCcsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVNYXAsIHByZWZpeENscyArICctY2VsbC1kaXNhYmxlZCcsIGRpc2FibGVkKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lTWFwLCBwcmVmaXhDbHMgKyAnLXNlbGVjdGVkLWNlbGwnLCBtb250aERhdGEudmFsdWUgPT09IGN1cnJlbnRNb250aCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzTmFtZU1hcCwgcHJlZml4Q2xzICsgJy1jdXJyZW50LWNlbGwnLCB0b2RheS55ZWFyKCkgPT09IHZhbHVlLnllYXIoKSAmJiBtb250aERhdGEudmFsdWUgPT09IHRvZGF5Lm1vbnRoKCkpLCBfY2xhc3NOYW1lTWFwKTtcbiAgICAgICAgdmFyIGNlbGxFbCA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGNlbGxSZW5kZXIpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdmFsdWUuY2xvbmUoKTtcbiAgICAgICAgICBjdXJyZW50VmFsdWUubW9udGgobW9udGhEYXRhLnZhbHVlKTtcbiAgICAgICAgICBjZWxsRWwgPSBjZWxsUmVuZGVyKGN1cnJlbnRWYWx1ZSwgbG9jYWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY29udGVudCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoY29udGVudFJlbmRlcikge1xuICAgICAgICAgICAgdmFyIF9jdXJyZW50VmFsdWUgPSB2YWx1ZS5jbG9uZSgpO1xuICAgICAgICAgICAgX2N1cnJlbnRWYWx1ZS5tb250aChtb250aERhdGEudmFsdWUpO1xuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnRSZW5kZXIoX2N1cnJlbnRWYWx1ZSwgbG9jYWxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGVudCA9IG1vbnRoRGF0YS5jb250ZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjZWxsRWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbW9udGgnIH0sXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJvbGU6ICdncmlkY2VsbCcsXG4gICAgICAgICAgICBrZXk6IG1vbnRoRGF0YS52YWx1ZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGRpc2FibGVkID8gbnVsbCA6IGNob29zZU1vbnRoLmJpbmQoX3RoaXMyLCBtb250aERhdGEudmFsdWUpLFxuICAgICAgICAgICAgdGl0bGU6IG1vbnRoRGF0YS50aXRsZSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogKDAsIF9jbGFzc25hbWVzMltcImRlZmF1bHRcIl0pKGNsYXNzTmFtZU1hcClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbGxFbFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3RyJyxcbiAgICAgICAgeyBrZXk6IGluZGV4LCByb2xlOiAncm93JyB9LFxuICAgICAgICB0ZHNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICd0YWJsZScsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWJsZScsIGNlbGxTcGFjaW5nOiAnMCcsIHJvbGU6ICdncmlkJyB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGJvZHknIH0sXG4gICAgICAgIG1vbnRoc0Vsc1xuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIE1vbnRoVGFibGU7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5Nb250aFRhYmxlLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25TZWxlY3Q6IG5vb3Bcbn07XG5Nb250aFRhYmxlLnByb3BUeXBlcyA9IHtcbiAgb25TZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgY2VsbFJlbmRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3Rcbn07XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IE1vbnRoVGFibGU7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9yYy1jYWxlbmRhci9saWIvbW9udGgvTW9udGhUYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM4MVxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgYXV0b0FkanVzdE92ZXJmbG93ID0ge1xuICBhZGp1c3RYOiAxLFxuICBhZGp1c3RZOiAxXG59O1xuXG52YXIgdGFyZ2V0T2Zmc2V0ID0gWzAsIDBdO1xuXG52YXIgcGxhY2VtZW50cyA9IHtcbiAgYm90dG9tTGVmdDoge1xuICAgIHBvaW50czogWyd0bCcsICd0bCddLFxuICAgIG92ZXJmbG93OiBhdXRvQWRqdXN0T3ZlcmZsb3csXG4gICAgb2Zmc2V0OiBbMCwgLTNdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIGJvdHRvbVJpZ2h0OiB7XG4gICAgcG9pbnRzOiBbJ3RyJywgJ3RyJ10sXG4gICAgb3ZlcmZsb3c6IGF1dG9BZGp1c3RPdmVyZmxvdyxcbiAgICBvZmZzZXQ6IFswLCAtM10sXG4gICAgdGFyZ2V0T2Zmc2V0OiB0YXJnZXRPZmZzZXRcbiAgfSxcbiAgdG9wUmlnaHQ6IHtcbiAgICBwb2ludHM6IFsnYnInLCAnYnInXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIDNdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH0sXG4gIHRvcExlZnQ6IHtcbiAgICBwb2ludHM6IFsnYmwnLCAnYmwnXSxcbiAgICBvdmVyZmxvdzogYXV0b0FkanVzdE92ZXJmbG93LFxuICAgIG9mZnNldDogWzAsIDNdLFxuICAgIHRhcmdldE9mZnNldDogdGFyZ2V0T2Zmc2V0XG4gIH1cbn07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gcGxhY2VtZW50cztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLWNhbGVuZGFyL2xpYi9waWNrZXIvcGxhY2VtZW50cy5qc1xuICoqIG1vZHVsZSBpZCA9IDM4MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcycpO1xuXG52YXIgX2V4dGVuZHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kczIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfQ2FsZW5kYXJIZWFkZXIgPSByZXF1aXJlKCcuLi9jYWxlbmRhci9DYWxlbmRhckhlYWRlcicpO1xuXG52YXIgX0NhbGVuZGFySGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFySGVhZGVyKTtcblxudmFyIF9EYXRlVGFibGUgPSByZXF1aXJlKCcuLi9kYXRlL0RhdGVUYWJsZScpO1xuXG52YXIgX0RhdGVUYWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlVGFibGUpO1xuXG52YXIgX0RhdGVJbnB1dCA9IHJlcXVpcmUoJy4uL2RhdGUvRGF0ZUlucHV0Jyk7XG5cbnZhciBfRGF0ZUlucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVJbnB1dCk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuLi91dGlsL2luZGV4Jyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgQ2FsZW5kYXJQYXJ0ID0gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlQ2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0NhbGVuZGFyUGFydCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgdmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGRpcmVjdGlvbjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBsb2NhbGU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHNlbGVjdGVkVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIGhvdmVyVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIHNob3dUaW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5hbnksXG4gICAgZGlzYWJsZWREYXRlOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICB0aW1lUGlja2VyOiBfcmVhY3QuUHJvcFR5cGVzLmFueSxcbiAgICBkaXNhYmxlZFRpbWU6IF9yZWFjdC5Qcm9wVHlwZXMuYW55LFxuICAgIG9uSW5wdXRTZWxlY3Q6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICB0aW1lUGlja2VyRGlzYWJsZWRUaW1lOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdFxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgICBkaXJlY3Rpb24gPSBwcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgbG9jYWxlID0gcHJvcHMubG9jYWxlLFxuICAgICAgICBzZWxlY3RlZFZhbHVlID0gcHJvcHMuc2VsZWN0ZWRWYWx1ZSxcbiAgICAgICAgZm9ybWF0ID0gcHJvcHMuZm9ybWF0LFxuICAgICAgICBwbGFjZWhvbGRlciA9IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgICBkaXNhYmxlZERhdGUgPSBwcm9wcy5kaXNhYmxlZERhdGUsXG4gICAgICAgIHRpbWVQaWNrZXIgPSBwcm9wcy50aW1lUGlja2VyLFxuICAgICAgICBkaXNhYmxlZFRpbWUgPSBwcm9wcy5kaXNhYmxlZFRpbWUsXG4gICAgICAgIHRpbWVQaWNrZXJEaXNhYmxlZFRpbWUgPSBwcm9wcy50aW1lUGlja2VyRGlzYWJsZWRUaW1lLFxuICAgICAgICBzaG93VGltZVBpY2tlciA9IHByb3BzLnNob3dUaW1lUGlja2VyLFxuICAgICAgICBob3ZlclZhbHVlID0gcHJvcHMuaG92ZXJWYWx1ZSxcbiAgICAgICAgb25JbnB1dFNlbGVjdCA9IHByb3BzLm9uSW5wdXRTZWxlY3Q7XG5cbiAgICB2YXIgZGlzYWJsZWRUaW1lQ29uZmlnID0gc2hvd1RpbWVQaWNrZXIgJiYgZGlzYWJsZWRUaW1lICYmIHRpbWVQaWNrZXIgPyAoMCwgX2luZGV4LmdldFRpbWVDb25maWcpKHNlbGVjdGVkVmFsdWUsIGRpc2FibGVkVGltZSkgOiBudWxsO1xuICAgIHZhciByYW5nZUNsYXNzTmFtZSA9IHByZWZpeENscyArICctcmFuZ2UnO1xuICAgIHZhciBuZXdQcm9wcyA9IHtcbiAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICBzaG93VGltZVBpY2tlcjogc2hvd1RpbWVQaWNrZXJcbiAgICB9O1xuICAgIHZhciBpbmRleCA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gMCA6IDE7XG4gICAgdmFyIHRpbWVQaWNrZXJFbGUgPSBzaG93VGltZVBpY2tlciAmJiB0aW1lUGlja2VyICYmIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudCh0aW1lUGlja2VyLCAoMCwgX2V4dGVuZHMzW1wiZGVmYXVsdFwiXSkoe1xuICAgICAgc2hvd0hvdXI6IHRydWUsXG4gICAgICBzaG93TWludXRlOiB0cnVlLFxuICAgICAgc2hvd1NlY29uZDogdHJ1ZVxuICAgIH0sIHRpbWVQaWNrZXIucHJvcHMsIGRpc2FibGVkVGltZUNvbmZpZywgdGltZVBpY2tlckRpc2FibGVkVGltZSwge1xuICAgICAgb25DaGFuZ2U6IG9uSW5wdXRTZWxlY3QsXG4gICAgICBkZWZhdWx0T3BlblZhbHVlOiB2YWx1ZSxcbiAgICAgIHZhbHVlOiBzZWxlY3RlZFZhbHVlW2luZGV4XVxuICAgIH0pKTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHJhbmdlQ2xhc3NOYW1lICsgJy1wYXJ0ICcgKyByYW5nZUNsYXNzTmFtZSArICctJyArIGRpcmVjdGlvbiB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZUlucHV0MltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgIGxvY2FsZTogbG9jYWxlLFxuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgdGltZVBpY2tlcjogdGltZVBpY2tlcixcbiAgICAgICAgZGlzYWJsZWREYXRlOiBkaXNhYmxlZERhdGUsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcixcbiAgICAgICAgZGlzYWJsZWRUaW1lOiBkaXNhYmxlZFRpbWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgc2hvd0NsZWFyOiBmYWxzZSxcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRWYWx1ZVtpbmRleF0sXG4gICAgICAgIG9uQ2hhbmdlOiBvbklucHV0U2VsZWN0XG4gICAgICB9KSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiB7IG91dGxpbmU6ICdub25lJyB9IH0sXG4gICAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFySGVhZGVyMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgbmV3UHJvcHMsIHtcbiAgICAgICAgICBlbmFibGVOZXh0OiBkaXJlY3Rpb24gPT09ICdyaWdodCcsXG4gICAgICAgICAgZW5hYmxlUHJldjogZGlyZWN0aW9uID09PSAnbGVmdCcsXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZTogcHJvcHMub25WYWx1ZUNoYW5nZVxuICAgICAgICB9KSksXG4gICAgICAgIHNob3dUaW1lUGlja2VyID8gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlcicgfSxcbiAgICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10aW1lLXBpY2tlci1wYW5lbCcgfSxcbiAgICAgICAgICAgIHRpbWVQaWNrZXJFbGVcbiAgICAgICAgICApXG4gICAgICAgICkgOiBudWxsLFxuICAgICAgICBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJvZHknIH0sXG4gICAgICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfRGF0ZVRhYmxlMltcImRlZmF1bHRcIl0sICgwLCBfZXh0ZW5kczNbXCJkZWZhdWx0XCJdKSh7fSwgbmV3UHJvcHMsIHtcbiAgICAgICAgICAgIGhvdmVyVmFsdWU6IGhvdmVyVmFsdWUsXG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlOiBzZWxlY3RlZFZhbHVlLFxuICAgICAgICAgICAgZGF0ZVJlbmRlcjogcHJvcHMuZGF0ZVJlbmRlcixcbiAgICAgICAgICAgIG9uU2VsZWN0OiBwcm9wcy5vblNlbGVjdCxcbiAgICAgICAgICAgIG9uRGF5SG92ZXI6IHByb3BzLm9uRGF5SG92ZXIsXG4gICAgICAgICAgICBkaXNhYmxlZERhdGU6IGRpc2FibGVkRGF0ZSxcbiAgICAgICAgICAgIHNob3dXZWVrTnVtYmVyOiBwcm9wcy5zaG93V2Vla051bWJlclxuICAgICAgICAgIH0pKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ2FsZW5kYXJQYXJ0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtY2FsZW5kYXIvbGliL3JhbmdlLWNhbGVuZGFyL0NhbGVuZGFyUGFydC5qc1xuICoqIG1vZHVsZSBpZCA9IDM4M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9TZWxlY3QgPSByZXF1aXJlKCcuL1NlbGVjdCcpO1xuXG52YXIgX1NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIGZvcm1hdE9wdGlvbiA9IGZ1bmN0aW9uIGZvcm1hdE9wdGlvbihvcHRpb24sIGRpc2FibGVkT3B0aW9ucykge1xuICB2YXIgdmFsdWUgPSAnJyArIG9wdGlvbjtcbiAgaWYgKG9wdGlvbiA8IDEwKSB7XG4gICAgdmFsdWUgPSAnMCcgKyBvcHRpb247XG4gIH1cblxuICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcbiAgaWYgKGRpc2FibGVkT3B0aW9ucyAmJiBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZihvcHRpb24pID49IDApIHtcbiAgICBkaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgfTtcbn07XG5cbnZhciBDb21ib2JveCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdDb21ib2JveCcsXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkZWZhdWx0T3BlblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwcmVmaXhDbHM6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIHNob3dIb3VyOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd01pbnV0ZTogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIHNob3dTZWNvbmQ6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBob3VyT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBtaW51dGVPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIHNlY29uZE9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgZGlzYWJsZWRIb3VyczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRpc2FibGVkTWludXRlczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGRpc2FibGVkU2Vjb25kczogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmNcbiAgfSxcblxuICBvbkl0ZW1DaGFuZ2U6IGZ1bmN0aW9uIG9uSXRlbUNoYW5nZSh0eXBlLCBpdGVtVmFsdWUpIHtcbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHMuZGVmYXVsdE9wZW5WYWx1ZTtcblxuICAgIHZhciB2YWx1ZSA9ICh0aGlzLnByb3BzLnZhbHVlIHx8IGRlZmF1bHRPcGVuVmFsdWUpLmNsb25lKCk7XG4gICAgaWYgKHR5cGUgPT09ICdob3VyJykge1xuICAgICAgdmFsdWUuaG91cihpdGVtVmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21pbnV0ZScpIHtcbiAgICAgIHZhbHVlLm1pbnV0ZShpdGVtVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZS5zZWNvbmQoaXRlbVZhbHVlKTtcbiAgICB9XG4gICAgb25DaGFuZ2UodmFsdWUpO1xuICB9LFxuICBvbkVudGVyU2VsZWN0UGFuZWw6IGZ1bmN0aW9uIG9uRW50ZXJTZWxlY3RQYW5lbChyYW5nZSkge1xuICAgIHRoaXMucHJvcHMub25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2UocmFuZ2UpO1xuICB9LFxuICBnZXRIb3VyU2VsZWN0OiBmdW5jdGlvbiBnZXRIb3VyU2VsZWN0KGhvdXIpIHtcbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICBob3VyT3B0aW9ucyA9IF9wcm9wczIuaG91ck9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkSG91cnMgPSBfcHJvcHMyLmRpc2FibGVkSG91cnMsXG4gICAgICAgIHNob3dIb3VyID0gX3Byb3BzMi5zaG93SG91cjtcblxuICAgIGlmICghc2hvd0hvdXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRIb3VycygpO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIG9wdGlvbnM6IGhvdXJPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRPcHRpb24ob3B0aW9uLCBkaXNhYmxlZE9wdGlvbnMpO1xuICAgICAgfSksXG4gICAgICBzZWxlY3RlZEluZGV4OiBob3VyT3B0aW9ucy5pbmRleE9mKGhvdXIpLFxuICAgICAgdHlwZTogJ2hvdXInLFxuICAgICAgb25TZWxlY3Q6IHRoaXMub25JdGVtQ2hhbmdlLFxuICAgICAgb25Nb3VzZUVudGVyOiB0aGlzLm9uRW50ZXJTZWxlY3RQYW5lbC5iaW5kKHRoaXMsICdob3VyJylcbiAgICB9KTtcbiAgfSxcbiAgZ2V0TWludXRlU2VsZWN0OiBmdW5jdGlvbiBnZXRNaW51dGVTZWxlY3QobWludXRlKSB7XG4gICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMzLnByZWZpeENscyxcbiAgICAgICAgbWludXRlT3B0aW9ucyA9IF9wcm9wczMubWludXRlT3B0aW9ucyxcbiAgICAgICAgZGlzYWJsZWRNaW51dGVzID0gX3Byb3BzMy5kaXNhYmxlZE1pbnV0ZXMsXG4gICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHMzLmRlZmF1bHRPcGVuVmFsdWUsXG4gICAgICAgIHNob3dNaW51dGUgPSBfcHJvcHMzLnNob3dNaW51dGU7XG5cbiAgICBpZiAoIXNob3dNaW51dGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlIHx8IGRlZmF1bHRPcGVuVmFsdWU7XG4gICAgdmFyIGRpc2FibGVkT3B0aW9ucyA9IGRpc2FibGVkTWludXRlcyh2YWx1ZS5ob3VyKCkpO1xuXG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX1NlbGVjdDJbXCJkZWZhdWx0XCJdLCB7XG4gICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgIG9wdGlvbnM6IG1pbnV0ZU9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE9wdGlvbihvcHRpb24sIGRpc2FibGVkT3B0aW9ucyk7XG4gICAgICB9KSxcbiAgICAgIHNlbGVjdGVkSW5kZXg6IG1pbnV0ZU9wdGlvbnMuaW5kZXhPZihtaW51dGUpLFxuICAgICAgdHlwZTogJ21pbnV0ZScsXG4gICAgICBvblNlbGVjdDogdGhpcy5vbkl0ZW1DaGFuZ2UsXG4gICAgICBvbk1vdXNlRW50ZXI6IHRoaXMub25FbnRlclNlbGVjdFBhbmVsLmJpbmQodGhpcywgJ21pbnV0ZScpXG4gICAgfSk7XG4gIH0sXG4gIGdldFNlY29uZFNlbGVjdDogZnVuY3Rpb24gZ2V0U2Vjb25kU2VsZWN0KHNlY29uZCkge1xuICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHMsXG4gICAgICAgIHNlY29uZE9wdGlvbnMgPSBfcHJvcHM0LnNlY29uZE9wdGlvbnMsXG4gICAgICAgIGRpc2FibGVkU2Vjb25kcyA9IF9wcm9wczQuZGlzYWJsZWRTZWNvbmRzLFxuICAgICAgICBzaG93U2Vjb25kID0gX3Byb3BzNC5zaG93U2Vjb25kLFxuICAgICAgICBkZWZhdWx0T3BlblZhbHVlID0gX3Byb3BzNC5kZWZhdWx0T3BlblZhbHVlO1xuXG4gICAgaWYgKCFzaG93U2Vjb25kKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCBkZWZhdWx0T3BlblZhbHVlO1xuICAgIHZhciBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZFNlY29uZHModmFsdWUuaG91cigpLCB2YWx1ZS5taW51dGUoKSk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfU2VsZWN0MltcImRlZmF1bHRcIl0sIHtcbiAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgb3B0aW9uczogc2Vjb25kT3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gZm9ybWF0T3B0aW9uKG9wdGlvbiwgZGlzYWJsZWRPcHRpb25zKTtcbiAgICAgIH0pLFxuICAgICAgc2VsZWN0ZWRJbmRleDogc2Vjb25kT3B0aW9ucy5pbmRleE9mKHNlY29uZCksXG4gICAgICB0eXBlOiAnc2Vjb25kJyxcbiAgICAgIG9uU2VsZWN0OiB0aGlzLm9uSXRlbUNoYW5nZSxcbiAgICAgIG9uTW91c2VFbnRlcjogdGhpcy5vbkVudGVyU2VsZWN0UGFuZWwuYmluZCh0aGlzLCAnc2Vjb25kJylcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHM1LnByZWZpeENscyxcbiAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZSA9IF9wcm9wczUuZGVmYXVsdE9wZW5WYWx1ZTtcblxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgZGVmYXVsdE9wZW5WYWx1ZTtcbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctY29tYm9ib3gnIH0sXG4gICAgICB0aGlzLmdldEhvdXJTZWxlY3QodmFsdWUuaG91cigpKSxcbiAgICAgIHRoaXMuZ2V0TWludXRlU2VsZWN0KHZhbHVlLm1pbnV0ZSgpKSxcbiAgICAgIHRoaXMuZ2V0U2Vjb25kU2VsZWN0KHZhbHVlLnNlY29uZCgpKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IENvbWJvYm94O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGltZS1waWNrZXIvbGliL0NvbWJvYm94LmpzXG4gKiogbW9kdWxlIGlkID0gMzg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBcImRlZmF1bHRcIjogb2JqIH07IH1cblxudmFyIEhlYWRlciA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdIZWFkZXInLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGZvcm1hdDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkaXNhYmxlZERhdGU6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2xlYXJUZXh0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICB2YWx1ZTogX3JlYWN0LlByb3BUeXBlcy5vYmplY3QsXG4gICAgaG91ck9wdGlvbnM6IF9yZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG4gICAgbWludXRlT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBzZWNvbmRPcHRpb25zOiBfcmVhY3QuUHJvcFR5cGVzLmFycmF5LFxuICAgIGRpc2FibGVkSG91cnM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZE1pbnV0ZXM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBkaXNhYmxlZFNlY29uZHM6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkNoYW5nZTogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBvbkVzYzogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIGFsbG93RW1wdHk6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBkZWZhdWx0T3BlblZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjdXJyZW50U2VsZWN0UGFuZWw6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nXG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbiBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHZhbHVlID0gX3Byb3BzLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBfcHJvcHMuZm9ybWF0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cjogdmFsdWUgJiYgdmFsdWUuZm9ybWF0KGZvcm1hdCkgfHwgJycsXG4gICAgICBpbnZhbGlkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdmFyIHZhbHVlID0gbmV4dFByb3BzLnZhbHVlLFxuICAgICAgICBmb3JtYXQgPSBuZXh0UHJvcHMuZm9ybWF0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzdHI6IHZhbHVlICYmIHZhbHVlLmZvcm1hdChmb3JtYXQpIHx8ICcnLFxuICAgICAgaW52YWxpZDogZmFsc2VcbiAgICB9KTtcbiAgfSxcbiAgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShldmVudCkge1xuICAgIHZhciBzdHIgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzdHI6IHN0clxuICAgIH0pO1xuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZm9ybWF0ID0gX3Byb3BzMi5mb3JtYXQsXG4gICAgICAgIGhvdXJPcHRpb25zID0gX3Byb3BzMi5ob3VyT3B0aW9ucyxcbiAgICAgICAgbWludXRlT3B0aW9ucyA9IF9wcm9wczIubWludXRlT3B0aW9ucyxcbiAgICAgICAgc2Vjb25kT3B0aW9ucyA9IF9wcm9wczIuc2Vjb25kT3B0aW9ucyxcbiAgICAgICAgZGlzYWJsZWRIb3VycyA9IF9wcm9wczIuZGlzYWJsZWRIb3VycyxcbiAgICAgICAgZGlzYWJsZWRNaW51dGVzID0gX3Byb3BzMi5kaXNhYmxlZE1pbnV0ZXMsXG4gICAgICAgIGRpc2FibGVkU2Vjb25kcyA9IF9wcm9wczIuZGlzYWJsZWRTZWNvbmRzLFxuICAgICAgICBvbkNoYW5nZSA9IF9wcm9wczIub25DaGFuZ2UsXG4gICAgICAgIGFsbG93RW1wdHkgPSBfcHJvcHMyLmFsbG93RW1wdHk7XG5cblxuICAgIGlmIChzdHIpIHtcbiAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0UHJvdG9WYWx1ZSgpLmNsb25lKCk7XG4gICAgICB2YXIgcGFyc2VkID0gKDAsIF9tb21lbnQyW1wiZGVmYXVsdFwiXSkoc3RyLCBmb3JtYXQsIHRydWUpO1xuICAgICAgaWYgKCFwYXJzZWQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGludmFsaWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhbHVlLmhvdXIocGFyc2VkLmhvdXIoKSkubWludXRlKHBhcnNlZC5taW51dGUoKSkuc2Vjb25kKHBhcnNlZC5zZWNvbmQoKSk7XG5cbiAgICAgIC8vIGlmIHRpbWUgdmFsdWUgbm90IGFsbG93ZWQsIHJlc3BvbnNlIHdhcm5pbmcuXG4gICAgICBpZiAoaG91ck9wdGlvbnMuaW5kZXhPZih2YWx1ZS5ob3VyKCkpIDwgMCB8fCBtaW51dGVPcHRpb25zLmluZGV4T2YodmFsdWUubWludXRlKCkpIDwgMCB8fCBzZWNvbmRPcHRpb25zLmluZGV4T2YodmFsdWUuc2Vjb25kKCkpIDwgMCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbnZhbGlkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRpbWUgdmFsdWUgaXMgZGlzYWJsZWQsIHJlc3BvbnNlIHdhcm5pbmcuXG4gICAgICB2YXIgZGlzYWJsZWRIb3VyT3B0aW9ucyA9IGRpc2FibGVkSG91cnMoKTtcbiAgICAgIHZhciBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMgPSBkaXNhYmxlZE1pbnV0ZXModmFsdWUuaG91cigpKTtcbiAgICAgIHZhciBkaXNhYmxlZFNlY29uZE9wdGlvbnMgPSBkaXNhYmxlZFNlY29uZHModmFsdWUuaG91cigpLCB2YWx1ZS5taW51dGUoKSk7XG4gICAgICBpZiAoZGlzYWJsZWRIb3VyT3B0aW9ucyAmJiBkaXNhYmxlZEhvdXJPcHRpb25zLmluZGV4T2YodmFsdWUuaG91cigpKSA+PSAwIHx8IGRpc2FibGVkTWludXRlT3B0aW9ucyAmJiBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMuaW5kZXhPZih2YWx1ZS5taW51dGUoKSkgPj0gMCB8fCBkaXNhYmxlZFNlY29uZE9wdGlvbnMgJiYgZGlzYWJsZWRTZWNvbmRPcHRpb25zLmluZGV4T2YodmFsdWUuc2Vjb25kKCkpID49IDApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaW52YWxpZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAob3JpZ2luYWxWYWx1ZSkge1xuICAgICAgICBpZiAob3JpZ2luYWxWYWx1ZS5ob3VyKCkgIT09IHZhbHVlLmhvdXIoKSB8fCBvcmlnaW5hbFZhbHVlLm1pbnV0ZSgpICE9PSB2YWx1ZS5taW51dGUoKSB8fCBvcmlnaW5hbFZhbHVlLnNlY29uZCgpICE9PSB2YWx1ZS5zZWNvbmQoKSkge1xuICAgICAgICAgIC8vIGtlZXAgb3RoZXIgZmllbGRzIGZvciByYy1jYWxlbmRhclxuICAgICAgICAgIHZhciBjaGFuZ2VkVmFsdWUgPSBvcmlnaW5hbFZhbHVlLmNsb25lKCk7XG4gICAgICAgICAgY2hhbmdlZFZhbHVlLmhvdXIodmFsdWUuaG91cigpKTtcbiAgICAgICAgICBjaGFuZ2VkVmFsdWUubWludXRlKHZhbHVlLm1pbnV0ZSgpKTtcbiAgICAgICAgICBjaGFuZ2VkVmFsdWUuc2Vjb25kKHZhbHVlLnNlY29uZCgpKTtcbiAgICAgICAgICBvbkNoYW5nZShjaGFuZ2VkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFsbG93RW1wdHkpIHtcbiAgICAgIG9uQ2hhbmdlKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaW52YWxpZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbnZhbGlkOiBmYWxzZVxuICAgIH0pO1xuICB9LFxuICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgIHRoaXMucHJvcHMub25Fc2MoKTtcbiAgICB9XG4gIH0sXG4gIG9uQ2xlYXI6IGZ1bmN0aW9uIG9uQ2xlYXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHN0cjogJycgfSk7XG4gICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gIH0sXG4gIGdldENsZWFyQnV0dG9uOiBmdW5jdGlvbiBnZXRDbGVhckJ1dHRvbigpIHtcbiAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuICAgICAgICBhbGxvd0VtcHR5ID0gX3Byb3BzMy5hbGxvd0VtcHR5O1xuXG4gICAgaWYgKCFhbGxvd0VtcHR5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICBjbGFzc05hbWU6IHByZWZpeENscyArICctY2xlYXItYnRuJyxcbiAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgdGl0bGU6IHRoaXMucHJvcHMuY2xlYXJUZXh0LFxuICAgICAgb25Nb3VzZURvd246IHRoaXMub25DbGVhclxuICAgIH0pO1xuICB9LFxuICBnZXRQcm90b1ZhbHVlOiBmdW5jdGlvbiBnZXRQcm90b1ZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnZhbHVlIHx8IHRoaXMucHJvcHMuZGVmYXVsdE9wZW5WYWx1ZTtcbiAgfSxcbiAgZ2V0SW5wdXQ6IGZ1bmN0aW9uIGdldElucHV0KCkge1xuICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzNC5wcmVmaXhDbHMsXG4gICAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzNC5wbGFjZWhvbGRlcjtcbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgaW52YWxpZCA9IF9zdGF0ZS5pbnZhbGlkLFxuICAgICAgICBzdHIgPSBfc3RhdGUuc3RyO1xuXG4gICAgdmFyIGludmFsaWRDbGFzcyA9IGludmFsaWQgPyBwcmVmaXhDbHMgKyAnLWlucHV0LWludmFsaWQnIDogJyc7XG4gICAgcmV0dXJuIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xuICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWlucHV0ICAnICsgaW52YWxpZENsYXNzLFxuICAgICAgcmVmOiAnaW5wdXQnLFxuICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgIHZhbHVlOiBzdHIsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICBvbkNoYW5nZTogdGhpcy5vbklucHV0Q2hhbmdlXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBwcmVmaXhDbHMgPSB0aGlzLnByb3BzLnByZWZpeENscztcblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pbnB1dC13cmFwJyB9LFxuICAgICAgdGhpcy5nZXRJbnB1dCgpLFxuICAgICAgdGhpcy5nZXRDbGVhckJ1dHRvbigpXG4gICAgKTtcbiAgfVxufSk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gSGVhZGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGltZS1waWNrZXIvbGliL0hlYWRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDM4NlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX0hlYWRlciA9IHJlcXVpcmUoJy4vSGVhZGVyJyk7XG5cbnZhciBfSGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0hlYWRlcik7XG5cbnZhciBfQ29tYm9ib3ggPSByZXF1aXJlKCcuL0NvbWJvYm94Jyk7XG5cbnZhciBfQ29tYm9ib3gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tYm9ib3gpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2NsYXNzbmFtZXMgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZW5lcmF0ZU9wdGlvbnMobGVuZ3RoLCBkaXNhYmxlZE9wdGlvbnMsIGhpZGVEaXNhYmxlZE9wdGlvbnMpIHtcbiAgdmFyIGFyciA9IFtdO1xuICBmb3IgKHZhciB2YWx1ZSA9IDA7IHZhbHVlIDwgbGVuZ3RoOyB2YWx1ZSsrKSB7XG4gICAgaWYgKCFkaXNhYmxlZE9wdGlvbnMgfHwgZGlzYWJsZWRPcHRpb25zLmluZGV4T2YodmFsdWUpIDwgMCB8fCAhaGlkZURpc2FibGVkT3B0aW9ucykge1xuICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG52YXIgUGFuZWwgPSBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnUGFuZWwnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGNsZWFyVGV4dDogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgcHJlZml4Q2xzOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjbGFzc05hbWU6IF9yZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICAgIGRlZmF1bHRPcGVuVmFsdWU6IF9yZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuICAgIHZhbHVlOiBfcmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcbiAgICBwbGFjZWhvbGRlcjogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgZm9ybWF0OiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkaXNhYmxlZEhvdXJzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWRNaW51dGVzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgZGlzYWJsZWRTZWNvbmRzOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGlkZURpc2FibGVkT3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uQ2hhbmdlOiBfcmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25Fc2M6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBhbGxvd0VtcHR5OiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd0hvdXI6IF9yZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgICBzaG93TWludXRlOiBfcmVhY3QuUHJvcFR5cGVzLmJvb2wsXG4gICAgc2hvd1NlY29uZDogX3JlYWN0LlByb3BUeXBlcy5ib29sLFxuICAgIG9uQ2xlYXI6IF9yZWFjdC5Qcm9wVHlwZXMuZnVuYyxcbiAgICBhZGRvbjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiBnZXREZWZhdWx0UHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWZpeENsczogJ3JjLXRpbWUtcGlja2VyLXBhbmVsJyxcbiAgICAgIG9uQ2hhbmdlOiBub29wLFxuICAgICAgb25DbGVhcjogbm9vcCxcbiAgICAgIGRpc2FibGVkSG91cnM6IG5vb3AsXG4gICAgICBkaXNhYmxlZE1pbnV0ZXM6IG5vb3AsXG4gICAgICBkaXNhYmxlZFNlY29uZHM6IG5vb3AsXG4gICAgICBkZWZhdWx0T3BlblZhbHVlOiAoMCwgX21vbWVudDJbXCJkZWZhdWx0XCJdKSgpLFxuICAgICAgYWRkb246IG5vb3BcbiAgICB9O1xuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsXG4gICAgICBzZWxlY3Rpb25SYW5nZTogW11cbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIHZhciB2YWx1ZSA9IG5leHRQcm9wcy52YWx1ZTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKG5ld1ZhbHVlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlOiBuZXdWYWx1ZSB9KTtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG5ld1ZhbHVlKTtcbiAgfSxcbiAgb25DbGVhcjogZnVuY3Rpb24gb25DbGVhcigpIHtcbiAgICB0aGlzLnByb3BzLm9uQ2xlYXIoKTtcbiAgfSxcbiAgb25DdXJyZW50U2VsZWN0UGFuZWxDaGFuZ2U6IGZ1bmN0aW9uIG9uQ3VycmVudFNlbGVjdFBhbmVsQ2hhbmdlKGN1cnJlbnRTZWxlY3RQYW5lbCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50U2VsZWN0UGFuZWw6IGN1cnJlbnRTZWxlY3RQYW5lbCB9KTtcbiAgfSxcbiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIHRoaXMucHJvcHMub25Fc2MoKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgICBkaXNhYmxlZEhvdXJzID0gX3Byb3BzLmRpc2FibGVkSG91cnMsXG4gICAgICAgIGRpc2FibGVkTWludXRlcyA9IF9wcm9wcy5kaXNhYmxlZE1pbnV0ZXMsXG4gICAgICAgIGRpc2FibGVkU2Vjb25kcyA9IF9wcm9wcy5kaXNhYmxlZFNlY29uZHMsXG4gICAgICAgIGhpZGVEaXNhYmxlZE9wdGlvbnMgPSBfcHJvcHMuaGlkZURpc2FibGVkT3B0aW9ucyxcbiAgICAgICAgYWxsb3dFbXB0eSA9IF9wcm9wcy5hbGxvd0VtcHR5LFxuICAgICAgICBzaG93SG91ciA9IF9wcm9wcy5zaG93SG91cixcbiAgICAgICAgc2hvd01pbnV0ZSA9IF9wcm9wcy5zaG93TWludXRlLFxuICAgICAgICBzaG93U2Vjb25kID0gX3Byb3BzLnNob3dTZWNvbmQsXG4gICAgICAgIGZvcm1hdCA9IF9wcm9wcy5mb3JtYXQsXG4gICAgICAgIGRlZmF1bHRPcGVuVmFsdWUgPSBfcHJvcHMuZGVmYXVsdE9wZW5WYWx1ZSxcbiAgICAgICAgY2xlYXJUZXh0ID0gX3Byb3BzLmNsZWFyVGV4dCxcbiAgICAgICAgb25Fc2MgPSBfcHJvcHMub25Fc2MsXG4gICAgICAgIGFkZG9uID0gX3Byb3BzLmFkZG9uO1xuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICB2YWx1ZSA9IF9zdGF0ZS52YWx1ZSxcbiAgICAgICAgY3VycmVudFNlbGVjdFBhbmVsID0gX3N0YXRlLmN1cnJlbnRTZWxlY3RQYW5lbDtcblxuICAgIHZhciBkaXNhYmxlZEhvdXJPcHRpb25zID0gZGlzYWJsZWRIb3VycygpO1xuICAgIHZhciBkaXNhYmxlZE1pbnV0ZU9wdGlvbnMgPSBkaXNhYmxlZE1pbnV0ZXModmFsdWUgPyB2YWx1ZS5ob3VyKCkgOiBudWxsKTtcbiAgICB2YXIgZGlzYWJsZWRTZWNvbmRPcHRpb25zID0gZGlzYWJsZWRTZWNvbmRzKHZhbHVlID8gdmFsdWUuaG91cigpIDogbnVsbCwgdmFsdWUgPyB2YWx1ZS5taW51dGUoKSA6IG51bGwpO1xuICAgIHZhciBob3VyT3B0aW9ucyA9IGdlbmVyYXRlT3B0aW9ucygyNCwgZGlzYWJsZWRIb3VyT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucyk7XG4gICAgdmFyIG1pbnV0ZU9wdGlvbnMgPSBnZW5lcmF0ZU9wdGlvbnMoNjAsIGRpc2FibGVkTWludXRlT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucyk7XG4gICAgdmFyIHNlY29uZE9wdGlvbnMgPSBnZW5lcmF0ZU9wdGlvbnMoNjAsIGRpc2FibGVkU2Vjb25kT3B0aW9ucywgaGlkZURpc2FibGVkT3B0aW9ucyk7XG5cbiAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgeyBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczJbXCJkZWZhdWx0XCJdKSgoX2NsYXNzTmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbXCJkZWZhdWx0XCJdKShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1pbm5lcicsIHRydWUpLCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc05hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2NsYXNzTmFtZXMpKSB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChfSGVhZGVyMltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgY2xlYXJUZXh0OiBjbGVhclRleHQsXG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBkZWZhdWx0T3BlblZhbHVlOiBkZWZhdWx0T3BlblZhbHVlLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGN1cnJlbnRTZWxlY3RQYW5lbDogY3VycmVudFNlbGVjdFBhbmVsLFxuICAgICAgICBvbkVzYzogb25Fc2MsXG4gICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgIGhvdXJPcHRpb25zOiBob3VyT3B0aW9ucyxcbiAgICAgICAgbWludXRlT3B0aW9uczogbWludXRlT3B0aW9ucyxcbiAgICAgICAgc2Vjb25kT3B0aW9uczogc2Vjb25kT3B0aW9ucyxcbiAgICAgICAgZGlzYWJsZWRIb3VyczogZGlzYWJsZWRIb3VycyxcbiAgICAgICAgZGlzYWJsZWRNaW51dGVzOiBkaXNhYmxlZE1pbnV0ZXMsXG4gICAgICAgIGRpc2FibGVkU2Vjb25kczogZGlzYWJsZWRTZWNvbmRzLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5vbkNoYW5nZSxcbiAgICAgICAgb25DbGVhcjogdGhpcy5vbkNsZWFyLFxuICAgICAgICBhbGxvd0VtcHR5OiBhbGxvd0VtcHR5XG4gICAgICB9KSxcbiAgICAgIF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoX0NvbWJvYm94MltcImRlZmF1bHRcIl0sIHtcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZGVmYXVsdE9wZW5WYWx1ZTogZGVmYXVsdE9wZW5WYWx1ZSxcbiAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxuICAgICAgICBzaG93SG91cjogc2hvd0hvdXIsXG4gICAgICAgIHNob3dNaW51dGU6IHNob3dNaW51dGUsXG4gICAgICAgIHNob3dTZWNvbmQ6IHNob3dTZWNvbmQsXG4gICAgICAgIGhvdXJPcHRpb25zOiBob3VyT3B0aW9ucyxcbiAgICAgICAgbWludXRlT3B0aW9uczogbWludXRlT3B0aW9ucyxcbiAgICAgICAgc2Vjb25kT3B0aW9uczogc2Vjb25kT3B0aW9ucyxcbiAgICAgICAgZGlzYWJsZWRIb3VyczogZGlzYWJsZWRIb3VycyxcbiAgICAgICAgZGlzYWJsZWRNaW51dGVzOiBkaXNhYmxlZE1pbnV0ZXMsXG4gICAgICAgIGRpc2FibGVkU2Vjb25kczogZGlzYWJsZWRTZWNvbmRzLFxuICAgICAgICBvbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZTogdGhpcy5vbkN1cnJlbnRTZWxlY3RQYW5lbENoYW5nZVxuICAgICAgfSksXG4gICAgICBhZGRvbih0aGlzKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFBhbmVsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmMtdGltZS1waWNrZXIvbGliL1BhbmVsLmpzXG4gKiogbW9kdWxlIGlkID0gMzg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgM1xuICoqLyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIF9yZWFjdERvbTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdERvbSk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhlbGVtZW50LCB0bywgZHVyYXRpb24pIHtcbiAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lVGltZW91dCgpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChhcmd1bWVudHNbMF0sIDEwKTtcbiAgfTtcbiAgLy8ganVtcCB0byB0YXJnZXQgaWYgZHVyYXRpb24gemVyb1xuICBpZiAoZHVyYXRpb24gPD0gMCkge1xuICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gdG87XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBkaWZmZXJlbmNlID0gdG8gLSBlbGVtZW50LnNjcm9sbFRvcDtcbiAgdmFyIHBlclRpY2sgPSBkaWZmZXJlbmNlIC8gZHVyYXRpb24gKiAxMDtcblxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgKyBwZXJUaWNrO1xuICAgIGlmIChlbGVtZW50LnNjcm9sbFRvcCA9PT0gdG8pIHJldHVybjtcbiAgICBzY3JvbGxUbyhlbGVtZW50LCB0bywgZHVyYXRpb24gLSAxMCk7XG4gIH0pO1xufTtcblxudmFyIFNlbGVjdCA9IF9yZWFjdDJbXCJkZWZhdWx0XCJdLmNyZWF0ZUNsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdTZWxlY3QnLFxuXG4gIHByb3BUeXBlczoge1xuICAgIHByZWZpeENsczogX3JlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG4gICAgb3B0aW9uczogX3JlYWN0LlByb3BUeXBlcy5hcnJheSxcbiAgICBzZWxlY3RlZEluZGV4OiBfcmVhY3QuUHJvcFR5cGVzLm51bWJlcixcbiAgICB0eXBlOiBfcmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvblNlbGVjdDogX3JlYWN0LlByb3BUeXBlcy5mdW5jLFxuICAgIG9uTW91c2VFbnRlcjogX3JlYWN0LlByb3BUeXBlcy5mdW5jXG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIGp1bXAgdG8gc2VsZWN0ZWQgb3B0aW9uXG4gICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkKDApO1xuICB9LFxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAvLyBzbW9vdGggc2Nyb2xsIHRvIHNlbGVjdGVkIG9wdGlvblxuICAgIGlmIChwcmV2UHJvcHMuc2VsZWN0ZWRJbmRleCAhPT0gdGhpcy5wcm9wcy5zZWxlY3RlZEluZGV4KSB7XG4gICAgICB0aGlzLnNjcm9sbFRvU2VsZWN0ZWQoMTIwKTtcbiAgICB9XG4gIH0sXG4gIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCh2YWx1ZSkge1xuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBvblNlbGVjdCA9IF9wcm9wcy5vblNlbGVjdCxcbiAgICAgICAgdHlwZSA9IF9wcm9wcy50eXBlO1xuXG4gICAgb25TZWxlY3QodHlwZSwgdmFsdWUpO1xuICB9LFxuICBnZXRPcHRpb25zOiBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIG9wdGlvbnMgPSBfcHJvcHMyLm9wdGlvbnMsXG4gICAgICAgIHNlbGVjdGVkSW5kZXggPSBfcHJvcHMyLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzO1xuXG4gICAgcmV0dXJuIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgdmFyIF9jbGFzc25hbWVzO1xuXG4gICAgICB2YXIgY2xzID0gKDAsIF9jbGFzc25hbWVzM1tcImRlZmF1bHRcIl0pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1tcImRlZmF1bHRcIl0pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXNlbGVjdC1vcHRpb24tc2VsZWN0ZWQnLCBzZWxlY3RlZEluZGV4ID09PSBpbmRleCksICgwLCBfZGVmaW5lUHJvcGVydHkzW1wiZGVmYXVsdFwiXSkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctc2VsZWN0LW9wdGlvbi1kaXNhYmxlZCcsIGl0ZW0uZGlzYWJsZWQpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgdmFyIG9uY2xpY2sgPSBudWxsO1xuICAgICAgaWYgKCFpdGVtLmRpc2FibGVkKSB7XG4gICAgICAgIG9uY2xpY2sgPSBfdGhpcy5vblNlbGVjdC5iaW5kKF90aGlzLCAraXRlbS52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2xpJyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xzLFxuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgb25DbGljazogb25jbGljayxcbiAgICAgICAgICBkaXNhYmxlZDogaXRlbS5kaXNhYmxlZFxuICAgICAgICB9LFxuICAgICAgICBpdGVtLnZhbHVlXG4gICAgICApO1xuICAgIH0pO1xuICB9LFxuICBzY3JvbGxUb1NlbGVjdGVkOiBmdW5jdGlvbiBzY3JvbGxUb1NlbGVjdGVkKGR1cmF0aW9uKSB7XG4gICAgLy8gbW92ZSB0byBzZWxlY3RlZCBpdGVtXG4gICAgdmFyIHNlbGVjdCA9IF9yZWFjdERvbTJbXCJkZWZhdWx0XCJdLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIHZhciBsaXN0ID0gX3JlYWN0RG9tMltcImRlZmF1bHRcIl0uZmluZERPTU5vZGUodGhpcy5yZWZzLmxpc3QpO1xuICAgIGlmICghbGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaW5kZXggPSB0aGlzLnByb3BzLnNlbGVjdGVkSW5kZXg7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgaW5kZXggPSAwO1xuICAgIH1cbiAgICB2YXIgdG9wT3B0aW9uID0gbGlzdC5jaGlsZHJlbltpbmRleF07XG4gICAgdmFyIHRvID0gdG9wT3B0aW9uLm9mZnNldFRvcDtcbiAgICBzY3JvbGxUbyhzZWxlY3QsIHRvLCBkdXJhdGlvbik7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcHJlZml4Q2xzID0gdGhpcy5wcm9wcy5wcmVmaXhDbHM7XG5cblxuICAgIHJldHVybiBfcmVhY3QyW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1zZWxlY3QnLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMucHJvcHMub25Nb3VzZUVudGVyXG4gICAgICB9LFxuICAgICAgX3JlYWN0MltcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3VsJyxcbiAgICAgICAgeyByZWY6ICdsaXN0JyB9LFxuICAgICAgICB0aGlzLmdldE9wdGlvbnMoKVxuICAgICAgKVxuICAgICk7XG4gIH1cbn0pO1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFNlbGVjdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3JjLXRpbWUtcGlja2VyL2xpYi9TZWxlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAzODhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyBUYWJsZSwgUG9wY29uZmlybSwgSWNvbiwgVG9vbHRpcCB9IGZyb20gJ2FudGQnXHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9MaXN0Lmxlc3MnXHJcbmltcG9ydCBUYWJsZUJvZHlXcmFwcGVyIGZyb20gJy4uLy4uL2NvbW1vbi9UYWJsZUJvZHlXcmFwcGVyJ1xyXG5cclxuZnVuY3Rpb24gTGlzdCAoe1xyXG4gIGxvY2F0aW9uLFxyXG4gIGxvYWRpbmcsXHJcbiAgZGF0YVNvdXJjZSxcclxuICBwYWdpbmF0aW9uLFxyXG4gIG9uUGFnZUNoYW5nZVxyXG59KSB7XHJcbiAgY29uc3QgY29sdW1ucyA9IFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICforqLljZXlj7cnLFxyXG4gICAgICBkYXRhSW5kZXg6ICdvcmRlcl9pZCcsXHJcbiAgICAgIGtleTogJ29yZGVyX2lkJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+WVhuWTgeWQjeensCcsXHJcbiAgICAgIGRhdGFJbmRleDogJ3RpdGxlJyxcclxuICAgICAga2V5OiAndGl0bGUnXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn5ZWG5ZOB6YeR6aKdJyxcclxuICAgICAgZGF0YUluZGV4OiAnc3ViX3RvdGFsJyxcclxuICAgICAga2V5OiAnc3ViX3RvdGFsJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+S8mOaDoOmHkeminScsXHJcbiAgICAgIGRhdGFJbmRleDogJ2Rpc2NvdW50JyxcclxuICAgICAga2V5OiAnZGlzY291bnQnXHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn5a6e5LuY6YeR6aKdJyxcclxuICAgICAgZGF0YUluZGV4OiAndG90YWwnLFxyXG4gICAgICBrZXk6ICd0b3RhbCdcclxuICAgIH0sIHtcclxuICAgICAgdGl0bGU6ICfmlK/ku5jmlrnlvI8nLFxyXG4gICAgICBkYXRhSW5kZXg6ICdwYXlfdHlwZScsXHJcbiAgICAgIGtleTogJ3BheV90eXBlJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+iuouWNleeKtuaAgScsXHJcbiAgICAgIGRhdGFJbmRleDogJ3N0YXR1cycsXHJcbiAgICAgIGtleTogJ3N0YXR1cycsXHJcbiAgICAgIHJlbmRlcjogKHZhbHVlKSA9PiA8c3Bhbj57XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgMTogJ+acquaUr+S7mCcsXHJcbiAgICAgICAgICAyOiAn5bey5a6M5oiQJyxcclxuICAgICAgICAgIDM6ICflt7Llj5bmtognLFxyXG4gICAgICAgICAgNDogJ+W3sui2heaXtidcclxuICAgICAgICB9W3ZhbHVlXVxyXG4gICAgICB9PC9zcGFuPlxyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aTjeS9nOezu+e7nycsXHJcbiAgICAgIGRhdGFJbmRleDogJ29zJyxcclxuICAgICAga2V5OiAnb3MnLFxyXG4gICAgICByZW5kZXI6ICh0ZXh0KSA9PiA8c3Bhbj57dGV4dCA9PSAnMSdcclxuICAgICAgICAgICAgPyA8c3Bhbj48SWNvbiB0eXBlPVwiYXBwbGUtb1wiIHN0eWxlPXt7IGNvbG9yOiAncmdiKDE2MCwgMTYwLCAxNjApJyB9fS8+IElPUzwvc3Bhbj5cclxuICAgICAgICAgICAgOiA8c3Bhbj48SWNvbiB0eXBlPVwiYW5kcm9pZFwiIHN0eWxlPXt7IGNvbG9yOiAncmdiKDE3MSwgMjA1LCA1KScgfX0vPiBBbmRyb2lkPC9zcGFuPn08L3NwYW4+XHJcbiAgICB9LCB7XHJcbiAgICAgIHRpdGxlOiAn55So5oi35pi156ewJyxcclxuICAgICAgZGF0YUluZGV4OiAndXNlcl9uYW1lJyxcclxuICAgICAga2V5OiAndXNlcl9uYW1lJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+eUqOaIt+aJi+acuicsXHJcbiAgICAgIGRhdGFJbmRleDogJ3VzZXJfcGhvbmUnLFxyXG4gICAgICBrZXk6ICd1c2VyX3Bob25lJ1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+aUr+S7mOaXtumXtCcsXHJcbiAgICAgIGRhdGFJbmRleDogJ3BhaWRfYXQnLFxyXG4gICAgICBrZXk6ICdwYWlkX2F0J1xyXG4gICAgfSwge1xyXG4gICAgICB0aXRsZTogJ+WIm+W7uuaXtumXtCcsXHJcbiAgICAgIGRhdGFJbmRleDogJ2NyZWF0ZWRfYXQnLFxyXG4gICAgICBrZXk6ICdjcmVhdGVkX2F0J1xyXG4gICAgfVxyXG4gIF1cclxuXHJcbiAgY29uc3QgZ2V0Qm9keVdyYXBwZXJQcm9wcyA9IHtcclxuICAgIHBhZ2U6IGxvY2F0aW9uLnF1ZXJ5LnBhZ2UsXHJcbiAgICBjdXJyZW50OiBwYWdpbmF0aW9uLmN1cnJlbnRcclxuICB9XHJcblxyXG4gIGNvbnN0IGdldEJvZHlXcmFwcGVyID0gKGJvZHkpID0+ICg8VGFibGVCb2R5V3JhcHBlciB7Li4uZ2V0Qm9keVdyYXBwZXJQcm9wc30gYm9keT17Ym9keX0gLz4pXHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8VGFibGVcclxuICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudGFibGV9XHJcbiAgICAgIGJvcmRlcmVkXHJcbiAgICAgIHNjcm9sbD17eyB4OiAxMjAwIH19XHJcbiAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XHJcbiAgICAgIGxvYWRpbmc9e2xvYWRpbmd9XHJcbiAgICAgIG9uQ2hhbmdlPXtvblBhZ2VDaGFuZ2V9XHJcbiAgICAgIHBhZ2luYXRpb249e3suLi5wYWdpbmF0aW9uLCBzaG93U2l6ZUNoYW5nZXI6IHRydWUsIHNob3dRdWlja0p1bXBlcjogdHJ1ZSwgc2hvd1RvdGFsOiB0b3RhbCA9PiBg5YWxICR7dG90YWx9IOadoWB9fVxyXG4gICAgICBzaW1wbGVcclxuICAgICAgcm93S2V5PXtyZWNvcmQgPT4gcmVjb3JkLm9yZGVyX2lkfVxyXG4gICAgICBnZXRCb2R5V3JhcHBlcj17Z2V0Qm9keVdyYXBwZXJ9XHJcbiAgICAvPlxyXG4gIClcclxufVxyXG5cclxuTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgb25QYWdlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcclxuICBkYXRhU291cmNlOiBQcm9wVHlwZXMuYXJyYXksXHJcbiAgbG9hZGluZzogUHJvcFR5cGVzLmFueSxcclxuICBwYWdpbmF0aW9uOiBQcm9wVHlwZXMuYW55XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpc3RcclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvY29tcG9uZW50cy9vcmRlci9vcmRlckxpc3QvTGlzdC5qc1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgRm9ybSwgQnV0dG9uLCBSb3csIENvbCwgSWNvbiwgRGF0ZVBpY2tlciwgU2VsZWN0IH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXHJcbmltcG9ydCBTZWFyY2hHcm91cCBmcm9tICcuLi8uLi9jb21tb24vU2VhcmNoJ1xyXG5cclxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW1cclxuY29uc3QgUmFuZ2VQaWNrZXIgPSBEYXRlUGlja2VyLlJhbmdlUGlja2VyXHJcbmNvbnN0IE9wdGlvbiA9IFNlbGVjdC5PcHRpb25cclxuXHJcbmZ1bmN0aW9uIFNlYXJjaCh7XHJcbiAgcGhvbmUsIHN0YXJ0X2RhdGUsIGVuZF9kYXRlLCBvcyA9ICcnLCBwYXlfdHlwZSA9ICcnLCBzdGF0dXMgPSAnJyxcclxuICBvblNlYXJjaCxcclxuICBmb3JtOiB7XHJcbiAgICBnZXRGaWVsZERlY29yYXRvcixcclxuICAgIHZhbGlkYXRlRmllbGRzLFxyXG4gICAgZ2V0RmllbGRzVmFsdWVcclxuICB9XHJcbn0pIHtcclxuICBjb25zdCBzZWFyY2hHcm91cFByb3BzID0ge1xyXG4gICAgZmllbGQ6ICdwaG9uZScsXHJcbiAgICBrZXl3b3JkOiBwaG9uZSxcclxuICAgIHNpemU6ICdsYXJnZScsXHJcbiAgICBzZWxlY3Q6IHRydWUsXHJcbiAgICBzZWxlY3RPcHRpb25zOiBbeyB2YWx1ZTogJ3Bob25lJywgbmFtZTogJ+aJi+acuuWPtycgfV0sXHJcbiAgICBzZWxlY3RQcm9wczoge1xyXG4gICAgICBkZWZhdWx0VmFsdWU6ICdwaG9uZSdcclxuICAgIH0sXHJcbiAgICBvblNlYXJjaDogKHZhbHVlKSA9PiB7XHJcbiAgICAgIHZhbGlkYXRlRmllbGRzKChlcnJvcnMsIHZhbHVlcykgPT4ge1xyXG4gICAgICAgIGlmIChlcnJvcnMpIHtcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByYW5nZVZhbHVlID0gdmFsdWVzWydkYXRlJ11cclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSB7fVxyXG4gICAgICAgIGlmKCEhcmFuZ2VWYWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIGRhdGEuc3RhcnRfZGF0ZSA9IHJhbmdlVmFsdWVbMF0uZm9ybWF0KCdZWVlZLU1NLUREJylcclxuICAgICAgICAgIGRhdGEuZW5kX2RhdGUgPSByYW5nZVZhbHVlWzFdLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWVzLm9zKSB7XHJcbiAgICAgICAgICBkYXRhLm9zID0gdmFsdWVzLm9zXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWVzLnBheV90eXBlKSB7XHJcbiAgICAgICAgICBkYXRhLnBheV90eXBlID0gdmFsdWVzLnBheV90eXBlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWVzLnN0YXR1cykge1xyXG4gICAgICAgICAgZGF0YS5zdGF0dXMgPSB2YWx1ZXMuc3RhdHVzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCEhdmFsdWUua2V5d29yZCkge1xyXG4gICAgICAgICAgLy8gZGF0YS5maWVsZCA9IHZhbHVlLmZpZWxkXHJcbiAgICAgICAgICAvLyBkYXRhLmtleXdvcmQgPSB2YWx1ZS5rZXl3b3JkXHJcbiAgICAgICAgICBkYXRhW3ZhbHVlLmZpZWxkXSA9IHZhbHVlLmtleXdvcmRcclxuICAgICAgICB9XHJcbiAgICAgICAgb25TZWFyY2goZGF0YSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Um93PlxyXG4gICAgICA8Rm9ybSBpbmxpbmU+XHJcbiAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwi5Yib5bu65pel5pyfXCIgc3R5bGU9e3ttYXJnaW5Cb3R0b206IDIwLCBtYXJnaW5SaWdodDogNDB9fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignZGF0ZScsIHtcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBzdGFydF9kYXRlICYmIGVuZF9kYXRlID8gW21vbWVudChzdGFydF9kYXRlKSwgbW9tZW50KGVuZF9kYXRlKV0gOiAnJ1xyXG4gICAgICAgICAgfSkoPFJhbmdlUGlja2VyIHN0eWxlPXt7d2lkdGg6IDIwMH19Lz4pfVxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwi5pON5L2c57O757ufXCIgc3R5bGU9e3ttYXJnaW5Cb3R0b206IDIwLCBtYXJnaW5SaWdodDogNDB9fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignb3MnLCB7XHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogb3MsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICg8U2VsZWN0IHN0eWxlPXt7d2lkdGg6IDkwfX0+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIlwiPuWFqOmDqDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCIxXCI+PEljb24gdHlwZT1cImFwcGxlLW9cIiBzdHlsZT17eyBjb2xvcjogJ3JnYigxNjAsIDE2MCwgMTYwKScgfX0vPiBJT1M8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiMlwiPjxJY29uIHR5cGU9XCJhbmRyb2lkXCIgc3R5bGU9e3sgY29sb3I6ICdyZ2IoMTcxLCAyMDUsIDUpJyB9fS8+IEFuZHJvaWQ8L09wdGlvbj5cclxuICAgICAgICAgICAgPC9TZWxlY3Q+KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvRm9ybUl0ZW0+XHJcbiAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwi6K6i5Y2V57G75Z6LXCIgc3R5bGU9e3ttYXJnaW5Cb3R0b206IDIwLCBtYXJnaW5SaWdodDogNDB9fT5cclxuICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcigncGF5X3R5cGUnLCB7XHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogcGF5X3R5cGUsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICg8U2VsZWN0IHN0eWxlPXt7d2lkdGg6IDkwfX0+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIlwiPuWFqOmDqDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJuYlwiPm5iPC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cInd4XCI+d3g8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiYWxpcGF5XCI+YWxpcGF5PC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cImlhcFwiPmlhcDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJpb3NfaW5fYXBwXCI+aW9zX2luX2FwcDwvT3B0aW9uPlxyXG4gICAgICAgICAgICA8L1NlbGVjdD4pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9Gb3JtSXRlbT5cclxuICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCLorqLljZXnirbmgIFcIiBzdHlsZT17e21hcmdpbkJvdHRvbTogMjAsIG1hcmdpblJpZ2h0OiA0MH19PlxyXG4gICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCdzdGF0dXMnLCB7XHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogc3RhdHVzLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAoPFNlbGVjdCBzdHlsZT17e3dpZHRoOiA5MH19PlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCJcIj7lhajpg6g8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiMVwiPuacquaUr+S7mDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9XCIyXCI+5bey5a6M5oiQPC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT1cIjNcIj7lt7Llj5bmtog8L09wdGlvbj5cclxuICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPVwiNFwiPuW3sui2heaXtjwvT3B0aW9uPlxyXG4gICAgICAgICAgICA8L1NlbGVjdD4pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9Gb3JtSXRlbT5cclxuICAgICAgICA8Rm9ybUl0ZW0gc3R5bGU9e3ttYXJnaW5Cb3R0b206IDIwLCBmbG9hdDogJ3JpZ2h0JywgbWFyZ2luUmlnaHQ6IDB9fT5cclxuICAgICAgICAgIDxTZWFyY2hHcm91cCB7Li4uc2VhcmNoR3JvdXBQcm9wc30gLz5cclxuICAgICAgICA8L0Zvcm1JdGVtPlxyXG4gICAgICA8L0Zvcm0+XHJcbiAgICA8L1Jvdz5cclxuICApXHJcbn1cclxuXHJcblNlYXJjaC5wcm9wVHlwZXMgPSB7XHJcbiAgZm9ybTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gIG9uU2VhcmNoOiBQcm9wVHlwZXMuZnVuYyxcclxuICBmaWVsZDogUHJvcFR5cGVzLnN0cmluZyxcclxuICBrZXl3b3JkOiBQcm9wVHlwZXMuc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm0uY3JlYXRlKCkoU2VhcmNoKVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9jb21wb25lbnRzL29yZGVyL29yZGVyTGlzdC9TZWFyY2guanNcbiAqKi8iLCJpbXBvcnQgeyBwYXJzZSB9IGZyb20gJ3FzJ1xyXG5pbXBvcnQgeyBtZXNzYWdlIH0gZnJvbSAnYW50ZCdcclxuaW1wb3J0IHsgcm91dGVyUmVkdXggfSBmcm9tICdkdmEvcm91dGVyJ1xyXG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL29yZGVyL2xpc3QnXHJcbmltcG9ydCB7IGdldEN1clBvd2VycyB9IGZyb20gJy4uLy4uL3V0aWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWVzcGFjZTogJ29yZGVyTGlzdCcsXHJcbiAgc3RhdGU6IHtcclxuICAgIGxpc3Q6IFtdLFxyXG4gICAgbG9hZGluZzogZmFsc2UsXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGN1cnJlbnQ6IDEsXHJcbiAgICAgIHBhZ2VTaXplOiAxMCxcclxuICAgICAgdG90YWw6IG51bGxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBzdWJzY3JpcHRpb25zOiB7XHJcbiAgICBzZXR1cCAoeyBkaXNwYXRjaCwgaGlzdG9yeSB9KSB7XHJcbiAgICAgIGhpc3RvcnkubGlzdGVuKGxvY2F0aW9uID0+IHtcclxuICAgICAgICBjb25zdCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lXHJcbiAgICAgICAgaWYgKHBhdGhuYW1lID09PSAnL29yZGVyL2xpc3QnKSB7XHJcbiAgICAgICAgICBjb25zdCBjdXJQb3dlcnMgPSBnZXRDdXJQb3dlcnMocGF0aG5hbWUpXHJcbiAgICAgICAgICBpZihjdXJQb3dlcnMpIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAnYXBwL2NoYW5nZUN1clBvd2VycycsIHBheWxvYWQ6IHsgY3VyUG93ZXJzIH0gfSlcclxuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiAncXVlcnknIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHsgcGF0aG5hbWU6ICcvbm8tcG93ZXInIH0pKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBlZmZlY3RzOiB7XHJcbiAgICAqcXVlcnkgKHsgcGF5bG9hZCB9LCB7IHNlbGVjdCwgY2FsbCwgcHV0IH0pIHtcclxuICAgICAgeWllbGQgcHV0KHsgdHlwZTogJ3Nob3dMb2FkaW5nJyB9KVxyXG4gICAgICBjb25zdCBwYXRoUXVlcnkgPSB5aWVsZCBzZWxlY3QoKHsgcm91dGluZyB9KSA9PiByb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucXVlcnkpXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBjYWxsKHF1ZXJ5LCBwYXRoUXVlcnkpXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgIHlpZWxkIHB1dCh7XHJcbiAgICAgICAgICB0eXBlOiAncXVlcnlTdWNjZXNzJyxcclxuICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgbGlzdDogZGF0YS5saXN0LFxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBkYXRhLnBhZ2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHlpZWxkIHB1dCh7IHR5cGU6ICdoaWRlTG9hZGluZycgfSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICByZWR1Y2Vyczoge1xyXG4gICAgcXVlcnlTdWNjZXNzIChzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5hY3Rpb24ucGF5bG9hZCB9XHJcbiAgICB9LFxyXG4gICAgc2hvd0xvYWRpbmcgKHN0YXRlKSB7XHJcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBsb2FkaW5nOiB0cnVlIH1cclxuICAgIH0sXHJcbiAgICBoaWRlTG9hZGluZyAoc3RhdGUpIHtcclxuICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGxvYWRpbmc6IGZhbHNlIH1cclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL21vZGVscy9vcmRlci9saXN0LmpzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgeyByb3V0ZXJSZWR1eCB9IGZyb20gJ2R2YS9yb3V0ZXInXHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdkdmEnXHJcbmltcG9ydCBMaXN0IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvb3JkZXIvb3JkZXJMaXN0L0xpc3QnXHJcbmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vLi4vY29tcG9uZW50cy9vcmRlci9vcmRlckxpc3QvU2VhcmNoJ1xyXG5pbXBvcnQgeyBjaGVja1Bvd2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcbmltcG9ydCB7IEFERCwgREVUQUlMIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL29wdGlvbnMnXHJcblxyXG5mdW5jdGlvbiBPcmRlckxpc3QoeyBsb2NhdGlvbiwgY3VyUG93ZXJzLCBkaXNwYXRjaCwgb3JkZXJMaXN0IH0pIHtcclxuXHJcbiAgY29uc3QgeyBsaXN0LCBwYWdpbmF0aW9uLCBsb2FkaW5nIH0gPSBvcmRlckxpc3RcclxuXHJcbiAgY29uc3QgeyBwaG9uZSwgc3RhcnRfZGF0ZSwgZW5kX2RhdGUsIG9zLCBwYXlfdHlwZSwgc3RhdHVzIH0gPSBsb2NhdGlvbi5xdWVyeVxyXG5cclxuICBjb25zdCBzZWFyY2hQcm9wcyA9IHtcclxuICAgIHBob25lLCBzdGFydF9kYXRlLCBlbmRfZGF0ZSwgb3MsIHBheV90eXBlLCBzdGF0dXMsXHJcbiAgICBvblNlYXJjaChmaWVsZHNWYWx1ZSkge1xyXG4gICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHtcclxuICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgICAgcXVlcnk6IHtcclxuICAgICAgICAgIC4uLmZpZWxkc1ZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGxpc3RQcm9wcyA9IHtcclxuICAgIGxvY2F0aW9uLFxyXG4gICAgZGF0YVNvdXJjZTogbGlzdCxcclxuICAgIGxvYWRpbmcsXHJcbiAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uLFxyXG4gICAgb25QYWdlQ2hhbmdlKHBhZ2UpIHtcclxuICAgICAgY29uc3Qge3F1ZXJ5LCBwYXRobmFtZX0gPSBsb2NhdGlvblxyXG4gICAgICBkaXNwYXRjaChyb3V0ZXJSZWR1eC5wdXNoKHtcclxuICAgICAgICBwYXRobmFtZTogcGF0aG5hbWUsXHJcbiAgICAgICAgcXVlcnk6IHtcclxuICAgICAgICAgIC4uLnF1ZXJ5LFxyXG4gICAgICAgICAgcGFnZTogcGFnZS5jdXJyZW50LFxyXG4gICAgICAgICAgcGFnZVNpemU6IHBhZ2UucGFnZVNpemVcclxuICAgICAgICB9XHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPSdjb250ZW50LWlubmVyJz5cclxuICAgICAgPFNlYXJjaCB7Li4uc2VhcmNoUHJvcHN9IC8+XHJcbiAgICAgIDxMaXN0IHsuLi5saXN0UHJvcHN9IC8+XHJcbiAgICA8L2Rpdj5cclxuICApXHJcbn1cclxuXHJcbk9yZGVyTGlzdC5wcm9wVHlwZXMgPSB7XHJcbiAgb3JkZXJMaXN0OiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGxvY2F0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gIGRpc3BhdGNoOiBQcm9wVHlwZXMuZnVuY1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoeyBvcmRlckxpc3QgfSkge1xyXG4gIHJldHVybiB7IG9yZGVyTGlzdCB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShPcmRlckxpc3QpXHJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JvdXRlcy9vcmRlci9PcmRlckxpc3QuanNcbiAqKi8iLCJpbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vdXRpbHMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnkgKHBhcmFtcykge1xyXG4gIHJldHVybiByZXF1ZXN0KCcvZGFzaGJvYXJkLW9yZGVyL2xpc3QnLCB7XHJcbiAgICBtZXRob2Q6ICdnZXQnLFxyXG4gICAgZGF0YTogcGFyYW1zXHJcbiAgfSlcclxufVxyXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9zZXJ2aWNlcy9vcmRlci9saXN0LmpzXG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1widGFibGVcIjpcInRhYmxlX19fM2UzcnpcIixcIndhcm5pbmdcIjpcIndhcm5pbmdfX18zOUFSQlwiLFwiZGFuZ2VyXCI6XCJkYW5nZXJfX18xd3hicFwifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2NvbXBvbmVudHMvb3JkZXIvb3JkZXJMaXN0L0xpc3QubGVzc1xuICoqIG1vZHVsZSBpZCA9IDg3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAyXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi8uLi9zdHlsZS9pbmRleC5sZXNzJyk7XG5cbnJlcXVpcmUoJy4vaW5kZXgubGVzcycpO1xuXG5yZXF1aXJlKCcuLi8uLi9pbnB1dC9zdHlsZScpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FudGQvbGliL3NlbGVjdC9zdHlsZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDAgMiAzIDQgNSA2XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==